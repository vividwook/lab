var nD=Object.defineProperty;var rD=(r,e,n)=>e in r?nD(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n;var te=(r,e,n)=>(rD(r,typeof e!="symbol"?e+"":e,n),n);function WYe(){import("data:text/javascript,")}function H(){}const io=r=>r;function se(r,e){for(const n in e)r[n]=e[n];return r}function lD(r){return r&&typeof r=="object"&&typeof r.then=="function"}function tS(r){return r()}function y1(){return Object.create(null)}function Ot(r){r.forEach(tS)}function St(r){return typeof r=="function"}function sD(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}let yu;function C1(r,e){return yu||(yu=document.createElement("a")),yu.href=e,r===yu.href}function J(r,e){return r!=r?e==e:r!==e}function oD(r){return Object.keys(r).length===0}function le(r,...e){if(r==null)return H;const n=r.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ve(r){let e;return le(r,n=>e=n)(),e}function ne(r,e,n){r.$$.on_destroy.push(le(e,n))}function ke(r,e,n,t){if(r){const l=nS(r,e,n,t);return r[0](l)}}function nS(r,e,n,t){return r[1]&&t?se(n.ctx.slice(),r[1](t(e))):n.ctx}function ye(r,e,n,t){if(r[2]&&t){const l=r[2](t(n));if(e.dirty===void 0)return l;if(typeof l=="object"){const s=[],o=Math.max(e.dirty.length,l.length);for(let i=0;i<o;i+=1)s[i]=e.dirty[i]|l[i];return s}return e.dirty|l}return e.dirty}function Ce(r,e,n,t,l,s){if(l){const o=nS(e,n,t,s);r.p(o,l)}}function Se(r){if(r.ctx.length>32){const e=[],n=r.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function pt(r){const e={};for(const n in r)n[0]!=="$"&&(e[n]=r[n]);return e}function We(r,e){const n={};e=new Set(e);for(const t in r)!e.has(t)&&t[0]!=="$"&&(n[t]=r[t]);return n}function mr(r){const e={};for(const n in r)e[n]=!0;return e}function S1(r){return r==null?"":r}function Pn(r,e,n){return r.set(n),e}function Dt(r){return r&&St(r.destroy)?r.destroy:H}const rS=typeof window<"u";let Da=rS?()=>window.performance.now():()=>Date.now(),Od=rS?r=>requestAnimationFrame(r):H;const Vo=new Set;function lS(r){Vo.forEach(e=>{e.c(r)||(Vo.delete(e),e.f())}),Vo.size!==0&&Od(lS)}function Aa(r){let e;return Vo.size===0&&Od(lS),{promise:new Promise(n=>{Vo.add(e={c:r,f:n})}),abort(){Vo.delete(e)}}}function R(r,e){r.appendChild(e)}function sS(r){if(!r)return document;const e=r.getRootNode?r.getRootNode():r.ownerDocument;return e&&e.host?e:r.ownerDocument}function iD(r){const e=E("style");return aD(sS(r),e),e.sheet}function aD(r,e){return R(r.head||r,e),e.sheet}function v(r,e,n){r.insertBefore(e,n||null)}function $(r){r.parentNode.removeChild(r)}function Hn(r,e){for(let n=0;n<r.length;n+=1)r[n]&&r[n].d(e)}function E(r){return document.createElement(r)}function Ut(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function L(r){return document.createTextNode(r)}function N(){return L(" ")}function ae(){return L("")}function He(r,e,n,t){return r.addEventListener(e,n,t),()=>r.removeEventListener(e,n,t)}function Bs(r){return function(e){return e.preventDefault(),r.call(this,e)}}function $s(r){return function(e){return e.stopPropagation(),r.call(this,e)}}function I(r,e,n){n==null?r.removeAttribute(e):r.getAttribute(e)!==n&&r.setAttribute(e,n)}function Tt(r,e){const n=Object.getOwnPropertyDescriptors(r.__proto__);for(const t in e)e[t]==null?r.removeAttribute(t):t==="style"?r.style.cssText=e[t]:t==="__value"?r.value=r[t]=e[t]:n[t]&&n[t].set?r[t]=e[t]:I(r,t,e[t])}function Fn(r,e){for(const n in e)I(r,n,e[n])}function uD(r){return Array.from(r.childNodes)}function z(r,e){e=""+e,r.wholeText!==e&&(r.data=e)}function Cs(r,e){r.value=e==null?"":e}function ln(r,e,n,t){n===null?r.style.removeProperty(e):r.style.setProperty(e,n,t?"important":"")}let Cu;function fD(){if(Cu===void 0){Cu=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch(r){Cu=!0}}return Cu}function Go(r,e){getComputedStyle(r).position==="static"&&(r.style.position="relative");const t=E("iframe");t.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),t.setAttribute("aria-hidden","true"),t.tabIndex=-1;const l=fD();let s;return l?(t.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=He(window,"message",o=>{o.source===t.contentWindow&&e()})):(t.src="about:blank",t.onload=()=>{s=He(t.contentWindow,"resize",e)}),R(r,t),()=>{(l||s&&t.contentWindow)&&s(),$(t)}}function ie(r,e,n){r.classList[n?"add":"remove"](e)}function oS(r,e,{bubbles:n=!1,cancelable:t=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(r,n,t,e),l}const Xu=new Map;let Ju=0;function cD(r){let e=5381,n=r.length;for(;n--;)e=(e<<5)-e^r.charCodeAt(n);return e>>>0}function mD(r,e){const n={stylesheet:iD(e),rules:{}};return Xu.set(r,n),n}function ra(r,e,n,t,l,s,o,i=0){const a=16.666/t;let u=`{
`;for(let b=0;b<=1;b+=a){const w=e+(n-e)*s(b);u+=b*100+`%{${o(w,1-w)}}
`}const f=u+`100% {${o(n,1-n)}}
}`,c=`__svelte_${cD(f)}_${i}`,m=sS(r),{stylesheet:d,rules:g}=Xu.get(m)||mD(m,r);g[c]||(g[c]=!0,d.insertRule(`@keyframes ${c} ${f}`,d.cssRules.length));const h=r.style.animation||"";return r.style.animation=`${h?`${h}, `:""}${c} ${t}ms linear ${l}ms 1 both`,Ju+=1,c}function la(r,e){const n=(r.style.animation||"").split(", "),t=n.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),l=n.length-t.length;l&&(r.style.animation=t.join(", "),Ju-=l,Ju||dD())}function dD(){Od(()=>{Ju||(Xu.forEach(r=>{const{ownerNode:e}=r.stylesheet;e&&$(e)}),Xu.clear())})}function _D(r,e,n,t){if(!e)return H;const l=r.getBoundingClientRect();if(e.left===l.left&&e.right===l.right&&e.top===l.top&&e.bottom===l.bottom)return H;const{delay:s=0,duration:o=300,easing:i=io,start:a=Da()+s,end:u=a+o,tick:f=H,css:c}=n(r,{from:e,to:l},t);let m=!0,d=!1,g;function h(){c&&(g=ra(r,0,1,o,s,i,c)),s||(d=!0)}function b(){c&&la(r,g),m=!1}return Aa(w=>{if(!d&&w>=a&&(d=!0),d&&w>=u&&(f(1,0),b()),!m)return!1;if(d){const S=w-a,T=0+1*i(S/o);f(T,1-T)}return!0}),h(),f(0,1),b}function pD(r){const e=getComputedStyle(r);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:n,height:t}=e,l=r.getBoundingClientRect();r.style.position="absolute",r.style.width=n,r.style.height=t,iS(r,l)}}function iS(r,e){const n=r.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const t=getComputedStyle(r),l=t.transform==="none"?"":t.transform;r.style.transform=`${l} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}let sa;function ts(r){sa=r}function as(){if(!sa)throw new Error("Function called outside component initialization");return sa}function gD(r){as().$$.before_update.push(r)}function tn(r){as().$$.on_mount.push(r)}function aS(r){as().$$.after_update.push(r)}function us(r){as().$$.on_destroy.push(r)}function Et(){const r=as();return(e,n,{cancelable:t=!1}={})=>{const l=r.$$.callbacks[e];if(l){const s=oS(e,n,{cancelable:t});return l.slice().forEach(o=>{o.call(r,s)}),!s.defaultPrevented}return!0}}function Fr(r,e){return as().$$.context.set(r,e),e}function Wn(r){return as().$$.context.get(r)}function uS(r){return as().$$.context.has(r)}function Re(r,e){const n=r.$$.callbacks[e.type];n&&n.slice().forEach(t=>t.call(this,e))}const Hi=[],we=[],Bu=[],Hm=[],fS=Promise.resolve();let Vm=!1;function cS(){Vm||(Vm=!0,fS.then(Fd))}function sn(){return cS(),fS}function xn(r){Bu.push(r)}function De(r){Hm.push(r)}const Qc=new Set;let Su=0;function Fd(){const r=sa;do{for(;Su<Hi.length;){const e=Hi[Su];Su++,ts(e),hD(e.$$)}for(ts(null),Hi.length=0,Su=0;we.length;)we.pop()();for(let e=0;e<Bu.length;e+=1){const n=Bu[e];Qc.has(n)||(Qc.add(n),n())}Bu.length=0}while(Hi.length);for(;Hm.length;)Hm.pop()();Vm=!1,Qc.clear(),ts(r)}function hD(r){if(r.fragment!==null){r.update(),Ot(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(xn)}}let Ri;function Nd(){return Ri||(Ri=Promise.resolve(),Ri.then(()=>{Ri=null})),Ri}function js(r,e,n){r.dispatchEvent(oS(`${e?"intro":"outro"}${n}`))}const qu=new Set;let Bl;function U(){Bl={r:0,c:[],p:Bl}}function W(){Bl.r||Ot(Bl.c),Bl=Bl.p}function _(r,e){r&&r.i&&(qu.delete(r),r.i(e))}function p(r,e,n,t){if(r&&r.o){if(qu.has(r))return;qu.add(r),Bl.c.push(()=>{qu.delete(r),t&&(n&&r.d(1),t())}),r.o(e)}else t&&t()}const Pd={duration:0};function Zf(r,e,n){let t=e(r,n),l=!1,s,o,i=0;function a(){s&&la(r,s)}function u(){const{delay:c=0,duration:m=300,easing:d=io,tick:g=H,css:h}=t||Pd;h&&(s=ra(r,0,1,m,c,d,h,i++)),g(0,1);const b=Da()+c,w=b+m;o&&o.abort(),l=!0,xn(()=>js(r,!0,"start")),o=Aa(S=>{if(l){if(S>=w)return g(1,0),js(r,!0,"end"),a(),l=!1;if(S>=b){const T=d((S-b)/m);g(T,1-T)}}return l})}let f=!1;return{start(){f||(f=!0,la(r),St(t)?(t=t(),Nd().then(u)):u())},invalidate(){f=!1},end(){l&&(a(),l=!1)}}}function Oa(r,e,n){let t=e(r,n),l=!0,s;const o=Bl;o.r+=1;function i(){const{delay:a=0,duration:u=300,easing:f=io,tick:c=H,css:m}=t||Pd;m&&(s=ra(r,1,0,u,a,f,m));const d=Da()+a,g=d+u;xn(()=>js(r,!1,"start")),Aa(h=>{if(l){if(h>=g)return c(0,1),js(r,!1,"end"),--o.r||Ot(o.c),!1;if(h>=d){const b=f((h-d)/u);c(1-b,b)}}return l})}return St(t)?Nd().then(()=>{t=t(),i()}):i(),{end(a){a&&t.tick&&t.tick(1,0),l&&(s&&la(r,s),l=!1)}}}function Po(r,e,n,t){let l=e(r,n),s=t?0:1,o=null,i=null,a=null;function u(){a&&la(r,a)}function f(m,d){const g=m.b-s;return d*=Math.abs(g),{a:s,b:m.b,d:g,duration:d,start:m.start,end:m.start+d,group:m.group}}function c(m){const{delay:d=0,duration:g=300,easing:h=io,tick:b=H,css:w}=l||Pd,S={start:Da()+d,b:m};m||(S.group=Bl,Bl.r+=1),o||i?i=S:(w&&(u(),a=ra(r,s,m,g,d,h,w)),m&&b(0,1),o=f(S,g),xn(()=>js(r,m,"start")),Aa(T=>{if(i&&T>i.start&&(o=f(i,g),i=null,js(r,o.b,"start"),w&&(u(),a=ra(r,s,o.b,o.duration,0,h,l.css))),o){if(T>=o.end)b(s=o.b,1-s),js(r,o.b,"end"),i||(o.b?u():--o.group.r||Ot(o.group.c)),o=null;else if(T>=o.start){const M=T-o.start;s=o.a+o.d*h(M/o.duration),b(s,1-s)}}return!!(o||i)}))}return{run(m){St(l)?Nd().then(()=>{l=l(),c(m)}):c(m)},end(){u(),o=i=null}}}function Wl(r,e){const n=e.token={};function t(l,s,o,i){if(e.token!==n)return;e.resolved=i;let a=e.ctx;o!==void 0&&(a=a.slice(),a[o]=i);const u=l&&(e.current=l)(a);let f=!1;e.block&&(e.blocks?e.blocks.forEach((c,m)=>{m!==s&&c&&(U(),p(c,1,1,()=>{e.blocks[m]===c&&(e.blocks[m]=null)}),W())}):e.block.d(1),u.c(),_(u,1),u.m(e.mount(),e.anchor),f=!0),e.block=u,e.blocks&&(e.blocks[s]=u),f&&Fd()}if(lD(r)){const l=as();if(r.then(s=>{ts(l),t(e.then,1,e.value,s),ts(null)},s=>{if(ts(l),t(e.catch,2,e.error,s),ts(null),!e.hasCatch)throw s}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,r),!0;e.resolved=r}}function Fa(r,e,n){const t=e.slice(),{resolved:l}=r;r.current===r.then&&(t[r.value]=l),r.current===r.catch&&(t[r.error]=l),r.block.p(t,n)}const gi=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Na(r,e){r.d(1),e.delete(r.key)}function kt(r,e){p(r,1,1,()=>{e.delete(r.key)})}function bD(r,e){r.f(),kt(r,e)}function ht(r,e,n,t,l,s,o,i,a,u,f,c){let m=r.length,d=s.length,g=m;const h={};for(;g--;)h[r[g].key]=g;const b=[],w=new Map,S=new Map;for(g=d;g--;){const D=c(l,s,g),O=n(D);let F=o.get(O);F?t&&F.p(D,e):(F=u(O,D),F.c()),w.set(O,b[g]=F),O in h&&S.set(O,Math.abs(g-h[O]))}const T=new Set,M=new Set;function A(D){_(D,1),D.m(i,f),o.set(D.key,D),f=D.first,d--}for(;m&&d;){const D=b[d-1],O=r[m-1],F=D.key,P=O.key;D===O?(f=D.first,m--,d--):w.has(P)?!o.has(F)||T.has(F)?A(D):M.has(P)?m--:S.get(F)>S.get(P)?(M.add(F),A(D)):(T.add(P),m--):(a(O,o),m--)}for(;m--;){const D=r[m];w.has(D.key)||a(D,o)}for(;d;)A(b[d-1]);return b}function de(r,e){const n={},t={},l={$$scope:1};let s=r.length;for(;s--;){const o=r[s],i=e[s];if(i){for(const a in o)a in i||(t[a]=1);for(const a in i)l[a]||(n[a]=i[a],l[a]=1);r[s]=i}else for(const a in o)l[a]=1}for(const o in t)o in n||(n[o]=void 0);return n}function _e(r){return typeof r=="object"&&r!==null?r:{}}function Me(r,e,n){const t=r.$$.props[e];t!==void 0&&(r.$$.bound[t]=n,n(r.$$.ctx[t]))}function C(r){r&&r.c()}function k(r,e,n,t){const{fragment:l,on_mount:s,on_destroy:o,after_update:i}=r.$$;l&&l.m(e,n),t||xn(()=>{const a=s.map(tS).filter(St);o?o.push(...a):Ot(a),r.$$.on_mount=[]}),i.forEach(xn)}function y(r,e){const n=r.$$;n.fragment!==null&&(Ot(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function $D(r,e){r.$$.dirty[0]===-1&&(Hi.push(r),cS(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function Z(r,e,n,t,l,s,o,i=[-1]){const a=sa;ts(r);const u=r.$$={fragment:null,ctx:null,props:s,update:H,not_equal:l,bound:y1(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:y1(),dirty:i,skip_bound:!1,root:e.target||a.$$.root};o&&o(u.root);let f=!1;if(u.ctx=n?n(r,e.props||{},(c,m,...d)=>{const g=d.length?d[0]:m;return u.ctx&&l(u.ctx[c],u.ctx[c]=g)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](g),f&&$D(r,c)),m}):[],u.update(),f=!0,Ot(u.before_update),u.fragment=t?t(u.ctx):!1,e.target){if(e.hydrate){const c=uD(e.target);u.fragment&&u.fragment.l(c),c.forEach($)}else u.fragment&&u.fragment.c();e.intro&&_(r.$$.fragment),k(r,e.target,e.anchor,e.customElement),Fd()}ts(a)}class Q{$destroy(){y(this,1),this.$destroy=H}$on(e,n){const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(n),()=>{const l=t.indexOf(n);l!==-1&&t.splice(l,1)}}$set(e){this.$$set&&!oD(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const To=[];function ar(r,e){return{subscribe:Ue(r,e).subscribe}}function Ue(r,e=H){let n;const t=new Set;function l(i){if(sD(r,i)&&(r=i,n)){const a=!To.length;for(const u of t)u[1](),To.push(u,r);if(a){for(let u=0;u<To.length;u+=2)To[u][0](To[u+1]);To.length=0}}}function s(i){l(i(r))}function o(i,a=H){const u=[i,a];return t.add(u),t.size===1&&(n=e(l)||H),i(r),()=>{t.delete(u),t.size===0&&(n(),n=null)}}return{set:l,update:s,subscribe:o}}function et(r,e,n){const t=!Array.isArray(r),l=t?[r]:r,s=e.length<2;return ar(n,o=>{let i=!1;const a=[];let u=0,f=H;const c=()=>{if(u)return;f();const d=e(t?a[0]:a,o);s?o(d):f=St(d)?d:H},m=l.map((d,g)=>le(d,h=>{a[g]=h,u&=~(1<<g),i&&c()},()=>{u|=1<<g}));return i=!0,c(),function(){Ot(m),f()}})}var Xs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vD(r){var e=r.default;if(typeof e=="function"){var n=function(){return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(r).forEach(function(t){var l=Object.getOwnPropertyDescriptor(r,t);Object.defineProperty(n,t,l.get?l:{enumerable:!0,get:function(){return r[t]}})}),n}var wD=function(e){return kD(e)&&!yD(e)};function kD(r){return!!r&&typeof r=="object"}function yD(r){var e=Object.prototype.toString.call(r);return e==="[object RegExp]"||e==="[object Date]"||TD(r)}var CD=typeof Symbol=="function"&&Symbol.for,SD=CD?Symbol.for("react.element"):60103;function TD(r){return r.$$typeof===SD}function ID(r){return Array.isArray(r)?[]:{}}function oa(r,e){return e.clone!==!1&&e.isMergeableObject(r)?Ko(ID(r),r,e):r}function ED(r,e,n){return r.concat(e).map(function(t){return oa(t,n)})}function MD(r,e){if(!e.customMerge)return Ko;var n=e.customMerge(r);return typeof n=="function"?n:Ko}function RD(r){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r).filter(function(e){return r.propertyIsEnumerable(e)}):[]}function T1(r){return Object.keys(r).concat(RD(r))}function mS(r,e){try{return e in r}catch(n){return!1}}function DD(r,e){return mS(r,e)&&!(Object.hasOwnProperty.call(r,e)&&Object.propertyIsEnumerable.call(r,e))}function AD(r,e,n){var t={};return n.isMergeableObject(r)&&T1(r).forEach(function(l){t[l]=oa(r[l],n)}),T1(e).forEach(function(l){DD(r,l)||(mS(r,l)&&n.isMergeableObject(e[l])?t[l]=MD(l,n)(r[l],e[l],n):t[l]=oa(e[l],n))}),t}function Ko(r,e,n){n=n||{},n.arrayMerge=n.arrayMerge||ED,n.isMergeableObject=n.isMergeableObject||wD,n.cloneUnlessOtherwiseSpecified=oa;var t=Array.isArray(e),l=Array.isArray(r),s=t===l;return s?t?n.arrayMerge(r,e,n):AD(r,e,n):oa(e,n)}Ko.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(t,l){return Ko(t,l,n)},{})};var OD=Ko,FD=OD,Ld={},Rs={exports:{}};(function(r){var e,n,t,l,s,o,i,a,u,f,c,m,d,g,h,b,w,S,T,M,A,D,O,F,P;(function(B){var j=typeof Xs=="object"?Xs:typeof self=="object"?self:typeof this=="object"?this:{};B(V(j,V(r.exports)));function V(q,G){return q!==j&&(typeof Object.create=="function"?Object.defineProperty(q,"__esModule",{value:!0}):q.__esModule=!0),function(Y,K){return q[Y]=G?G(Y,K):K}}})(function(B){var j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,G){q.__proto__=G}||function(q,G){for(var Y in G)Object.prototype.hasOwnProperty.call(G,Y)&&(q[Y]=G[Y])};e=function(q,G){if(typeof G!="function"&&G!==null)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");j(q,G);function Y(){this.constructor=q}q.prototype=G===null?Object.create(G):(Y.prototype=G.prototype,new Y)},n=Object.assign||function(q){for(var G,Y=1,K=arguments.length;Y<K;Y++){G=arguments[Y];for(var ee in G)Object.prototype.hasOwnProperty.call(G,ee)&&(q[ee]=G[ee])}return q},t=function(q,G){var Y={};for(var K in q)Object.prototype.hasOwnProperty.call(q,K)&&G.indexOf(K)<0&&(Y[K]=q[K]);if(q!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ee=0,K=Object.getOwnPropertySymbols(q);ee<K.length;ee++)G.indexOf(K[ee])<0&&Object.prototype.propertyIsEnumerable.call(q,K[ee])&&(Y[K[ee]]=q[K[ee]]);return Y},l=function(q,G,Y,K){var ee=arguments.length,x=ee<3?G:K===null?K=Object.getOwnPropertyDescriptor(G,Y):K,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(q,G,Y,K);else for(var fe=q.length-1;fe>=0;fe--)(X=q[fe])&&(x=(ee<3?X(x):ee>3?X(G,Y,x):X(G,Y))||x);return ee>3&&x&&Object.defineProperty(G,Y,x),x},s=function(q,G){return function(Y,K){G(Y,K,q)}},o=function(q,G){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(q,G)},i=function(q,G,Y,K){function ee(x){return x instanceof Y?x:new Y(function(X){X(x)})}return new(Y||(Y=Promise))(function(x,X){function fe(ge){try{me(K.next(ge))}catch(pe){X(pe)}}function he(ge){try{me(K.throw(ge))}catch(pe){X(pe)}}function me(ge){ge.done?x(ge.value):ee(ge.value).then(fe,he)}me((K=K.apply(q,G||[])).next())})},a=function(q,G){var Y={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},K,ee,x,X;return X={next:fe(0),throw:fe(1),return:fe(2)},typeof Symbol=="function"&&(X[Symbol.iterator]=function(){return this}),X;function fe(me){return function(ge){return he([me,ge])}}function he(me){if(K)throw new TypeError("Generator is already executing.");for(;Y;)try{if(K=1,ee&&(x=me[0]&2?ee.return:me[0]?ee.throw||((x=ee.return)&&x.call(ee),0):ee.next)&&!(x=x.call(ee,me[1])).done)return x;switch(ee=0,x&&(me=[me[0]&2,x.value]),me[0]){case 0:case 1:x=me;break;case 4:return Y.label++,{value:me[1],done:!1};case 5:Y.label++,ee=me[1],me=[0];continue;case 7:me=Y.ops.pop(),Y.trys.pop();continue;default:if(x=Y.trys,!(x=x.length>0&&x[x.length-1])&&(me[0]===6||me[0]===2)){Y=0;continue}if(me[0]===3&&(!x||me[1]>x[0]&&me[1]<x[3])){Y.label=me[1];break}if(me[0]===6&&Y.label<x[1]){Y.label=x[1],x=me;break}if(x&&Y.label<x[2]){Y.label=x[2],Y.ops.push(me);break}x[2]&&Y.ops.pop(),Y.trys.pop();continue}me=G.call(q,Y)}catch(ge){me=[6,ge],ee=0}finally{K=x=0}if(me[0]&5)throw me[1];return{value:me[0]?me[1]:void 0,done:!0}}},u=function(q,G){for(var Y in q)Y!=="default"&&!Object.prototype.hasOwnProperty.call(G,Y)&&P(G,q,Y)},P=Object.create?function(q,G,Y,K){K===void 0&&(K=Y);var ee=Object.getOwnPropertyDescriptor(G,Y);(!ee||("get"in ee?!G.__esModule:ee.writable||ee.configurable))&&(ee={enumerable:!0,get:function(){return G[Y]}}),Object.defineProperty(q,K,ee)}:function(q,G,Y,K){K===void 0&&(K=Y),q[K]=G[Y]},f=function(q){var G=typeof Symbol=="function"&&Symbol.iterator,Y=G&&q[G],K=0;if(Y)return Y.call(q);if(q&&typeof q.length=="number")return{next:function(){return q&&K>=q.length&&(q=void 0),{value:q&&q[K++],done:!q}}};throw new TypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")},c=function(q,G){var Y=typeof Symbol=="function"&&q[Symbol.iterator];if(!Y)return q;var K=Y.call(q),ee,x=[],X;try{for(;(G===void 0||G-- >0)&&!(ee=K.next()).done;)x.push(ee.value)}catch(fe){X={error:fe}}finally{try{ee&&!ee.done&&(Y=K.return)&&Y.call(K)}finally{if(X)throw X.error}}return x},m=function(){for(var q=[],G=0;G<arguments.length;G++)q=q.concat(c(arguments[G]));return q},d=function(){for(var q=0,G=0,Y=arguments.length;G<Y;G++)q+=arguments[G].length;for(var K=Array(q),ee=0,G=0;G<Y;G++)for(var x=arguments[G],X=0,fe=x.length;X<fe;X++,ee++)K[ee]=x[X];return K},g=function(q,G,Y){if(Y||arguments.length===2)for(var K=0,ee=G.length,x;K<ee;K++)(x||!(K in G))&&(x||(x=Array.prototype.slice.call(G,0,K)),x[K]=G[K]);return q.concat(x||Array.prototype.slice.call(G))},h=function(q){return this instanceof h?(this.v=q,this):new h(q)},b=function(q,G,Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var K=Y.apply(q,G||[]),ee,x=[];return ee={},X("next"),X("throw"),X("return"),ee[Symbol.asyncIterator]=function(){return this},ee;function X(Le){K[Le]&&(ee[Le]=function(Qe){return new Promise(function(Ae,Je){x.push([Le,Qe,Ae,Je])>1||fe(Le,Qe)})})}function fe(Le,Qe){try{he(K[Le](Qe))}catch(Ae){pe(x[0][3],Ae)}}function he(Le){Le.value instanceof h?Promise.resolve(Le.value.v).then(me,ge):pe(x[0][2],Le)}function me(Le){fe("next",Le)}function ge(Le){fe("throw",Le)}function pe(Le,Qe){Le(Qe),x.shift(),x.length&&fe(x[0][0],x[0][1])}},w=function(q){var G,Y;return G={},K("next"),K("throw",function(ee){throw ee}),K("return"),G[Symbol.iterator]=function(){return this},G;function K(ee,x){G[ee]=q[ee]?function(X){return(Y=!Y)?{value:h(q[ee](X)),done:ee==="return"}:x?x(X):X}:x}},S=function(q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var G=q[Symbol.asyncIterator],Y;return G?G.call(q):(q=typeof f=="function"?f(q):q[Symbol.iterator](),Y={},K("next"),K("throw"),K("return"),Y[Symbol.asyncIterator]=function(){return this},Y);function K(x){Y[x]=q[x]&&function(X){return new Promise(function(fe,he){X=q[x](X),ee(fe,he,X.done,X.value)})}}function ee(x,X,fe,he){Promise.resolve(he).then(function(me){x({value:me,done:fe})},X)}},T=function(q,G){return Object.defineProperty?Object.defineProperty(q,"raw",{value:G}):q.raw=G,q};var V=Object.create?function(q,G){Object.defineProperty(q,"default",{enumerable:!0,value:G})}:function(q,G){q.default=G};M=function(q){if(q&&q.__esModule)return q;var G={};if(q!=null)for(var Y in q)Y!=="default"&&Object.prototype.hasOwnProperty.call(q,Y)&&P(G,q,Y);return V(G,q),G},A=function(q){return q&&q.__esModule?q:{default:q}},D=function(q,G,Y,K){if(Y==="a"&&!K)throw new TypeError("Private accessor was defined without a getter");if(typeof G=="function"?q!==G||!K:!G.has(q))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Y==="m"?K:Y==="a"?K.call(q):K?K.value:G.get(q)},O=function(q,G,Y,K,ee){if(K==="m")throw new TypeError("Private method is not writable");if(K==="a"&&!ee)throw new TypeError("Private accessor was defined without a setter");if(typeof G=="function"?q!==G||!ee:!G.has(q))throw new TypeError("Cannot write private member to an object whose class did not declare it");return K==="a"?ee.call(q,Y):ee?ee.value=Y:G.set(q,Y),Y},F=function(q,G){if(G===null||typeof G!="object"&&typeof G!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof q=="function"?G===q:q.has(G)},B("__extends",e),B("__assign",n),B("__rest",t),B("__decorate",l),B("__param",s),B("__metadata",o),B("__awaiter",i),B("__generator",a),B("__exportStar",u),B("__createBinding",P),B("__values",f),B("__read",c),B("__spread",m),B("__spreadArrays",d),B("__spreadArray",g),B("__await",h),B("__asyncGenerator",b),B("__asyncDelegator",w),B("__asyncValues",S),B("__makeTemplateObject",T),B("__importStar",M),B("__importDefault",A),B("__classPrivateFieldGet",D),B("__classPrivateFieldSet",O),B("__classPrivateFieldIn",F)})})(Rs);var ia={},Hd={},Pa={};Object.defineProperty(Pa,"__esModule",{value:!0});Pa.ErrorKind=void 0;var I1;(function(r){r[r.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",r[r.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",r[r.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",r[r.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",r[r.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",r[r.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",r[r.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",r[r.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",r[r.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",r[r.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",r[r.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",r[r.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",r[r.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",r[r.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",r[r.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",r[r.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",r[r.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",r[r.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",r[r.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",r[r.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",r[r.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",r[r.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",r[r.INVALID_TAG=23]="INVALID_TAG",r[r.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",r[r.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",r[r.UNCLOSED_TAG=27]="UNCLOSED_TAG"})(I1||(Pa.ErrorKind=I1={}));var Qf={},xt={};Object.defineProperty(xt,"__esModule",{value:!0});xt.createNumberElement=xt.createLiteralElement=xt.isDateTimeSkeleton=xt.isNumberSkeleton=xt.isTagElement=xt.isPoundElement=xt.isPluralElement=xt.isSelectElement=xt.isTimeElement=xt.isDateElement=xt.isNumberElement=xt.isArgumentElement=xt.isLiteralElement=xt.SKELETON_TYPE=xt.TYPE=void 0;var Yr;(function(r){r[r.literal=0]="literal",r[r.argument=1]="argument",r[r.number=2]="number",r[r.date=3]="date",r[r.time=4]="time",r[r.select=5]="select",r[r.plural=6]="plural",r[r.pound=7]="pound",r[r.tag=8]="tag"})(Yr||(xt.TYPE=Yr={}));var Zu;(function(r){r[r.number=0]="number",r[r.dateTime=1]="dateTime"})(Zu||(xt.SKELETON_TYPE=Zu={}));function ND(r){return r.type===Yr.literal}xt.isLiteralElement=ND;function PD(r){return r.type===Yr.argument}xt.isArgumentElement=PD;function LD(r){return r.type===Yr.number}xt.isNumberElement=LD;function HD(r){return r.type===Yr.date}xt.isDateElement=HD;function VD(r){return r.type===Yr.time}xt.isTimeElement=VD;function zD(r){return r.type===Yr.select}xt.isSelectElement=zD;function BD(r){return r.type===Yr.plural}xt.isPluralElement=BD;function qD(r){return r.type===Yr.pound}xt.isPoundElement=qD;function UD(r){return r.type===Yr.tag}xt.isTagElement=UD;function WD(r){return!!(r&&typeof r=="object"&&r.type===Zu.number)}xt.isNumberSkeleton=WD;function jD(r){return!!(r&&typeof r=="object"&&r.type===Zu.dateTime)}xt.isDateTimeSkeleton=jD;function YD(r){return{type:Yr.literal,value:r}}xt.createLiteralElement=YD;function GD(r,e){return{type:Yr.number,value:r,style:e}}xt.createNumberElement=GD;var Xo={};Object.defineProperty(Xo,"__esModule",{value:!0});Xo.WHITE_SPACE_REGEX=Xo.SPACE_SEPARATOR_REGEX=void 0;Xo.SPACE_SEPARATOR_REGEX=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/;Xo.WHITE_SPACE_REGEX=/[\t-\r \x85\u200E\u200F\u2028\u2029]/;var dS={},Di={},E1;function KD(){if(E1)return Di;E1=1,Object.defineProperty(Di,"__esModule",{value:!0}),Di.parseDateTimeSkeleton=void 0;var r=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function e(n){var t={};return n.replace(r,function(l){var s=l.length;switch(l[0]){case"G":t.era=s===4?"long":s===5?"narrow":"short";break;case"y":t.year=s===2?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][s-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][s-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=s===4?"long":s===5?"narrow":"short";break;case"e":if(s<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][s-4];break;case"c":if(s<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][s-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][s-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][s-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][s-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][s-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][s-1];break;case"s":t.second=["numeric","2-digit"][s-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=s<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),t}return Di.parseDateTimeSkeleton=e,Di}var Hs={},Ai={},M1;function XD(){return M1||(M1=1,Object.defineProperty(Ai,"__esModule",{value:!0}),Ai.WHITE_SPACE_REGEX=void 0,Ai.WHITE_SPACE_REGEX=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i),Ai}var R1;function JD(){if(R1)return Hs;R1=1,Object.defineProperty(Hs,"__esModule",{value:!0}),Hs.parseNumberSkeleton=Hs.parseNumberSkeletonFromString=void 0;var r=Rs.exports,e=XD();function n(d){if(d.length===0)throw new Error("Number skeleton cannot be empty");for(var g=d.split(e.WHITE_SPACE_REGEX).filter(function(P){return P.length>0}),h=[],b=0,w=g;b<w.length;b++){var S=w[b],T=S.split("/");if(T.length===0)throw new Error("Invalid number skeleton");for(var M=T[0],A=T.slice(1),D=0,O=A;D<O.length;D++){var F=O[D];if(F.length===0)throw new Error("Invalid number skeleton")}h.push({stem:M,options:A})}return h}Hs.parseNumberSkeletonFromString=n;function t(d){return d.replace(/^(.*?)-/,"")}var l=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,s=/^(@+)?(\+|#+)?[rs]?$/g,o=/(\*)(0+)|(#+)(0+)|(0+)/g,i=/^(0+)$/;function a(d){var g={};return d[d.length-1]==="r"?g.roundingPriority="morePrecision":d[d.length-1]==="s"&&(g.roundingPriority="lessPrecision"),d.replace(s,function(h,b,w){return typeof w!="string"?(g.minimumSignificantDigits=b.length,g.maximumSignificantDigits=b.length):w==="+"?g.minimumSignificantDigits=b.length:b[0]==="#"?g.maximumSignificantDigits=b.length:(g.minimumSignificantDigits=b.length,g.maximumSignificantDigits=b.length+(typeof w=="string"?w.length:0)),""}),g}function u(d){switch(d){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function f(d){var g;if(d[0]==="E"&&d[1]==="E"?(g={notation:"engineering"},d=d.slice(2)):d[0]==="E"&&(g={notation:"scientific"},d=d.slice(1)),g){var h=d.slice(0,2);if(h==="+!"?(g.signDisplay="always",d=d.slice(2)):h==="+?"&&(g.signDisplay="exceptZero",d=d.slice(2)),!i.test(d))throw new Error("Malformed concise eng/scientific notation");g.minimumIntegerDigits=d.length}return g}function c(d){var g={},h=u(d);return h||g}function m(d){for(var g={},h=0,b=d;h<b.length;h++){var w=b[h];switch(w.stem){case"percent":case"%":g.style="percent";continue;case"%x100":g.style="percent",g.scale=100;continue;case"currency":g.style="currency",g.currency=w.options[0];continue;case"group-off":case",_":g.useGrouping=!1;continue;case"precision-integer":case".":g.maximumFractionDigits=0;continue;case"measure-unit":case"unit":g.style="unit",g.unit=t(w.options[0]);continue;case"compact-short":case"K":g.notation="compact",g.compactDisplay="short";continue;case"compact-long":case"KK":g.notation="compact",g.compactDisplay="long";continue;case"scientific":g=r.__assign(r.__assign(r.__assign({},g),{notation:"scientific"}),w.options.reduce(function(A,D){return r.__assign(r.__assign({},A),c(D))},{}));continue;case"engineering":g=r.__assign(r.__assign(r.__assign({},g),{notation:"engineering"}),w.options.reduce(function(A,D){return r.__assign(r.__assign({},A),c(D))},{}));continue;case"notation-simple":g.notation="standard";continue;case"unit-width-narrow":g.currencyDisplay="narrowSymbol",g.unitDisplay="narrow";continue;case"unit-width-short":g.currencyDisplay="code",g.unitDisplay="short";continue;case"unit-width-full-name":g.currencyDisplay="name",g.unitDisplay="long";continue;case"unit-width-iso-code":g.currencyDisplay="symbol";continue;case"scale":g.scale=parseFloat(w.options[0]);continue;case"integer-width":if(w.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");w.options[0].replace(o,function(A,D,O,F,P,B){if(D)g.minimumIntegerDigits=O.length;else{if(F&&P)throw new Error("We currently do not support maximum integer digits");if(B)throw new Error("We currently do not support exact integer digits")}return""});continue}if(i.test(w.stem)){g.minimumIntegerDigits=w.stem.length;continue}if(l.test(w.stem)){if(w.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");w.stem.replace(l,function(A,D,O,F,P,B){return O==="*"?g.minimumFractionDigits=D.length:F&&F[0]==="#"?g.maximumFractionDigits=F.length:P&&B?(g.minimumFractionDigits=P.length,g.maximumFractionDigits=P.length+B.length):(g.minimumFractionDigits=D.length,g.maximumFractionDigits=D.length),""});var S=w.options[0];S==="w"?g=r.__assign(r.__assign({},g),{trailingZeroDisplay:"stripIfInteger"}):S&&(g=r.__assign(r.__assign({},g),a(S)));continue}if(s.test(w.stem)){g=r.__assign(r.__assign({},g),a(w.stem));continue}var T=u(w.stem);T&&(g=r.__assign(r.__assign({},g),T));var M=f(w.stem);M&&(g=r.__assign(r.__assign({},g),M))}return g}return Hs.parseNumberSkeleton=m,Hs}(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=Rs.exports;e.__exportStar(KD(),r),e.__exportStar(JD(),r)})(dS);var xf={},ec={};Object.defineProperty(ec,"__esModule",{value:!0});ec.timeData=void 0;ec.timeData={"001":["H","h"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["H","h","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BI:["H","h"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["H","hB","h","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BY:["H","h"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["H","h","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],CV:["H","hB"],CW:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["H","hB","h","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FO:["H","h"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GL:["H","h"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["H","h","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["H","h","hB","hb"],HR:["H","hB"],HU:["H","h"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","K","h"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MG:["H","h"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MT:["H","h"],MU:["H","h"],MV:["H","h"],MW:["h","hb","H","hB"],MX:["H","h","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["H","h","hB","hb"],NL:["H","hB"],NO:["H","h"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["H","hB","h","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PL:["H","h"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["H","h","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],RW:["H","h"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["H","h","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TH:["H","h"],TJ:["H","h"],TL:["H","hB","hb","h"],TM:["H","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["H","h","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VN:["H","h"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],ZW:["H","h"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]};Object.defineProperty(xf,"__esModule",{value:!0});xf.getBestPattern=void 0;var Tu=ec;function ZD(r,e){for(var n="",t=0;t<r.length;t++){var l=r.charAt(t);if(l==="j"){for(var s=0;t+1<r.length&&r.charAt(t+1)===l;)s++,t++;var o=1+(s&1),i=s<2?1:3+(s>>1),a="a",u=QD(e);for((u=="H"||u=="k")&&(i=0);i-- >0;)n+=a;for(;o-- >0;)n=u+n}else l==="J"?n+="H":n+=l}return n}xf.getBestPattern=ZD;function QD(r){var e=r.hourCycle;if(e===void 0&&r.hourCycles&&r.hourCycles.length&&(e=r.hourCycles[0]),e)switch(e){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var n=r.language,t;n!=="root"&&(t=r.maximize().region);var l=Tu.timeData[t||""]||Tu.timeData[n||""]||Tu.timeData["".concat(n,"-001")]||Tu.timeData["001"];return l[0]}var xc;Object.defineProperty(Qf,"__esModule",{value:!0});Qf.Parser=void 0;var xD=Rs.exports,an=Pa,hr=xt,_S=Xo,em=dS,eA=xf,tA=new RegExp("^".concat(_S.SPACE_SEPARATOR_REGEX.source,"*")),nA=new RegExp("".concat(_S.SPACE_SEPARATOR_REGEX.source,"*$"));function Qt(r,e){return{start:r,end:e}}var rA=!!String.prototype.startsWith&&"_a".startsWith("a",1),lA=!!String.fromCodePoint,sA=!!Object.fromEntries,oA=!!String.prototype.codePointAt,iA=!!String.prototype.trimStart,aA=!!String.prototype.trimEnd,uA=!!Number.isSafeInteger,fA=uA?Number.isSafeInteger:function(r){return typeof r=="number"&&isFinite(r)&&Math.floor(r)===r&&Math.abs(r)<=9007199254740991},zm=!0;try{var cA=gS("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");zm=((xc=cA.exec("a"))===null||xc===void 0?void 0:xc[0])==="a"}catch(r){zm=!1}var D1=rA?function(e,n,t){return e.startsWith(n,t)}:function(e,n,t){return e.slice(t,t+n.length)===n},Bm=lA?String.fromCodePoint:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var t="",l=e.length,s=0,o;l>s;){if(o=e[s++],o>1114111)throw RangeError(o+" is not a valid code point");t+=o<65536?String.fromCharCode(o):String.fromCharCode(((o-=65536)>>10)+55296,o%1024+56320)}return t},A1=sA?Object.fromEntries:function(e){for(var n={},t=0,l=e;t<l.length;t++){var s=l[t],o=s[0],i=s[1];n[o]=i}return n},pS=oA?function(e,n){return e.codePointAt(n)}:function(e,n){var t=e.length;if(!(n<0||n>=t)){var l=e.charCodeAt(n),s;return l<55296||l>56319||n+1===t||(s=e.charCodeAt(n+1))<56320||s>57343?l:(l-55296<<10)+(s-56320)+65536}},mA=iA?function(e){return e.trimStart()}:function(e){return e.replace(tA,"")},dA=aA?function(e){return e.trimEnd()}:function(e){return e.replace(nA,"")};function gS(r,e){return new RegExp(r,e)}var qm;if(zm){var O1=gS("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");qm=function(e,n){var t;O1.lastIndex=n;var l=O1.exec(e);return(t=l[1])!==null&&t!==void 0?t:""}}else qm=function(e,n){for(var t=[];;){var l=pS(e,n);if(l===void 0||hS(l)||hA(l))break;t.push(l),n+=l>=65536?2:1}return Bm.apply(void 0,t)};var _A=function(){function r(e,n){n===void 0&&(n={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!n.ignoreTag,this.locale=n.locale,this.requiresOtherClause=!!n.requiresOtherClause,this.shouldParseSkeletons=!!n.shouldParseSkeletons}return r.prototype.parse=function(){if(this.offset()!==0)throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},r.prototype.parseMessage=function(e,n,t){for(var l=[];!this.isEOF();){var s=this.char();if(s===123){var o=this.parseArgument(e,t);if(o.err)return o;l.push(o.val)}else{if(s===125&&e>0)break;if(s===35&&(n==="plural"||n==="selectordinal")){var i=this.clonePosition();this.bump(),l.push({type:hr.TYPE.pound,location:Qt(i,this.clonePosition())})}else if(s===60&&!this.ignoreTag&&this.peek()===47){if(t)break;return this.error(an.ErrorKind.UNMATCHED_CLOSING_TAG,Qt(this.clonePosition(),this.clonePosition()))}else if(s===60&&!this.ignoreTag&&Um(this.peek()||0)){var o=this.parseTag(e,n);if(o.err)return o;l.push(o.val)}else{var o=this.parseLiteral(e,n);if(o.err)return o;l.push(o.val)}}}return{val:l,err:null}},r.prototype.parseTag=function(e,n){var t=this.clonePosition();this.bump();var l=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:hr.TYPE.literal,value:"<".concat(l,"/>"),location:Qt(t,this.clonePosition())},err:null};if(this.bumpIf(">")){var s=this.parseMessage(e+1,n,!0);if(s.err)return s;var o=s.val,i=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!Um(this.char()))return this.error(an.ErrorKind.INVALID_TAG,Qt(i,this.clonePosition()));var a=this.clonePosition(),u=this.parseTagName();return l!==u?this.error(an.ErrorKind.UNMATCHED_CLOSING_TAG,Qt(a,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:hr.TYPE.tag,value:l,children:o,location:Qt(t,this.clonePosition())},err:null}:this.error(an.ErrorKind.INVALID_TAG,Qt(i,this.clonePosition())))}else return this.error(an.ErrorKind.UNCLOSED_TAG,Qt(t,this.clonePosition()))}else return this.error(an.ErrorKind.INVALID_TAG,Qt(t,this.clonePosition()))},r.prototype.parseTagName=function(){var e=this.offset();for(this.bump();!this.isEOF()&&gA(this.char());)this.bump();return this.message.slice(e,this.offset())},r.prototype.parseLiteral=function(e,n){for(var t=this.clonePosition(),l="";;){var s=this.tryParseQuote(n);if(s){l+=s;continue}var o=this.tryParseUnquoted(e,n);if(o){l+=o;continue}var i=this.tryParseLeftAngleBracket();if(i){l+=i;continue}break}var a=Qt(t,this.clonePosition());return{val:{type:hr.TYPE.literal,value:l,location:a},err:null}},r.prototype.tryParseLeftAngleBracket=function(){return!this.isEOF()&&this.char()===60&&(this.ignoreTag||!pA(this.peek()||0))?(this.bump(),"<"):null},r.prototype.tryParseQuote=function(e){if(this.isEOF()||this.char()!==39)return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if(e==="plural"||e==="selectordinal")break;return null;default:return null}this.bump();var n=[this.char()];for(this.bump();!this.isEOF();){var t=this.char();if(t===39)if(this.peek()===39)n.push(39),this.bump();else{this.bump();break}else n.push(t);this.bump()}return Bm.apply(void 0,n)},r.prototype.tryParseUnquoted=function(e,n){if(this.isEOF())return null;var t=this.char();return t===60||t===123||t===35&&(n==="plural"||n==="selectordinal")||t===125&&e>0?null:(this.bump(),Bm(t))},r.prototype.parseArgument=function(e,n){var t=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(an.ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE,Qt(t,this.clonePosition()));if(this.char()===125)return this.bump(),this.error(an.ErrorKind.EMPTY_ARGUMENT,Qt(t,this.clonePosition()));var l=this.parseIdentifierIfPossible().value;if(!l)return this.error(an.ErrorKind.MALFORMED_ARGUMENT,Qt(t,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(an.ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE,Qt(t,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:hr.TYPE.argument,value:l,location:Qt(t,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(an.ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE,Qt(t,this.clonePosition())):this.parseArgumentOptions(e,n,l,t);default:return this.error(an.ErrorKind.MALFORMED_ARGUMENT,Qt(t,this.clonePosition()))}},r.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),n=this.offset(),t=qm(this.message,n),l=n+t.length;this.bumpTo(l);var s=this.clonePosition(),o=Qt(e,s);return{value:t,location:o}},r.prototype.parseArgumentOptions=function(e,n,t,l){var s,o=this.clonePosition(),i=this.parseIdentifierIfPossible().value,a=this.clonePosition();switch(i){case"":return this.error(an.ErrorKind.EXPECT_ARGUMENT_TYPE,Qt(o,a));case"number":case"date":case"time":{this.bumpSpace();var u=null;if(this.bumpIf(",")){this.bumpSpace();var f=this.clonePosition(),c=this.parseSimpleArgStyleIfPossible();if(c.err)return c;var m=dA(c.val);if(m.length===0)return this.error(an.ErrorKind.EXPECT_ARGUMENT_STYLE,Qt(this.clonePosition(),this.clonePosition()));var d=Qt(f,this.clonePosition());u={style:m,styleLocation:d}}var g=this.tryParseArgumentClose(l);if(g.err)return g;var h=Qt(l,this.clonePosition());if(u&&D1(u==null?void 0:u.style,"::",0)){var b=mA(u.style.slice(2));if(i==="number"){var c=this.parseNumberSkeletonFromString(b,u.styleLocation);return c.err?c:{val:{type:hr.TYPE.number,value:t,location:h,style:c.val},err:null}}else{if(b.length===0)return this.error(an.ErrorKind.EXPECT_DATE_TIME_SKELETON,h);var w=b;this.locale&&(w=(0,eA.getBestPattern)(b,this.locale));var m={type:hr.SKELETON_TYPE.dateTime,pattern:w,location:u.styleLocation,parsedOptions:this.shouldParseSkeletons?(0,em.parseDateTimeSkeleton)(w):{}},S=i==="date"?hr.TYPE.date:hr.TYPE.time;return{val:{type:S,value:t,location:h,style:m},err:null}}}return{val:{type:i==="number"?hr.TYPE.number:i==="date"?hr.TYPE.date:hr.TYPE.time,value:t,location:h,style:(s=u==null?void 0:u.style)!==null&&s!==void 0?s:null},err:null}}case"plural":case"selectordinal":case"select":{var T=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(an.ErrorKind.EXPECT_SELECT_ARGUMENT_OPTIONS,Qt(T,xD.__assign({},T)));this.bumpSpace();var M=this.parseIdentifierIfPossible(),A=0;if(i!=="select"&&M.value==="offset"){if(!this.bumpIf(":"))return this.error(an.ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Qt(this.clonePosition(),this.clonePosition()));this.bumpSpace();var c=this.tryParseDecimalInteger(an.ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,an.ErrorKind.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);if(c.err)return c;this.bumpSpace(),M=this.parseIdentifierIfPossible(),A=c.val}var D=this.tryParsePluralOrSelectOptions(e,i,n,M);if(D.err)return D;var g=this.tryParseArgumentClose(l);if(g.err)return g;var O=Qt(l,this.clonePosition());return i==="select"?{val:{type:hr.TYPE.select,value:t,options:A1(D.val),location:O},err:null}:{val:{type:hr.TYPE.plural,value:t,options:A1(D.val),offset:A,pluralType:i==="plural"?"cardinal":"ordinal",location:O},err:null}}default:return this.error(an.ErrorKind.INVALID_ARGUMENT_TYPE,Qt(o,a))}},r.prototype.tryParseArgumentClose=function(e){return this.isEOF()||this.char()!==125?this.error(an.ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE,Qt(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},r.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,n=this.clonePosition();!this.isEOF();){var t=this.char();switch(t){case 39:{this.bump();var l=this.clonePosition();if(!this.bumpUntil("'"))return this.error(an.ErrorKind.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,Qt(l,this.clonePosition()));this.bump();break}case 123:{e+=1,this.bump();break}case 125:{if(e>0)e-=1;else return{val:this.message.slice(n.offset,this.offset()),err:null};break}default:this.bump();break}}return{val:this.message.slice(n.offset,this.offset()),err:null}},r.prototype.parseNumberSkeletonFromString=function(e,n){var t=[];try{t=(0,em.parseNumberSkeletonFromString)(e)}catch(l){return this.error(an.ErrorKind.INVALID_NUMBER_SKELETON,n)}return{val:{type:hr.SKELETON_TYPE.number,tokens:t,location:n,parsedOptions:this.shouldParseSkeletons?(0,em.parseNumberSkeleton)(t):{}},err:null}},r.prototype.tryParsePluralOrSelectOptions=function(e,n,t,l){for(var s,o=!1,i=[],a=new Set,u=l.value,f=l.location;;){if(u.length===0){var c=this.clonePosition();if(n!=="select"&&this.bumpIf("=")){var m=this.tryParseDecimalInteger(an.ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR,an.ErrorKind.INVALID_PLURAL_ARGUMENT_SELECTOR);if(m.err)return m;f=Qt(c,this.clonePosition()),u=this.message.slice(c.offset,this.offset())}else break}if(a.has(u))return this.error(n==="select"?an.ErrorKind.DUPLICATE_SELECT_ARGUMENT_SELECTOR:an.ErrorKind.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,f);u==="other"&&(o=!0),this.bumpSpace();var d=this.clonePosition();if(!this.bumpIf("{"))return this.error(n==="select"?an.ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:an.ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,Qt(this.clonePosition(),this.clonePosition()));var g=this.parseMessage(e+1,n,t);if(g.err)return g;var h=this.tryParseArgumentClose(d);if(h.err)return h;i.push([u,{value:g.val,location:Qt(d,this.clonePosition())}]),a.add(u),this.bumpSpace(),s=this.parseIdentifierIfPossible(),u=s.value,f=s.location}return i.length===0?this.error(n==="select"?an.ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR:an.ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR,Qt(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!o?this.error(an.ErrorKind.MISSING_OTHER_CLAUSE,Qt(this.clonePosition(),this.clonePosition())):{val:i,err:null}},r.prototype.tryParseDecimalInteger=function(e,n){var t=1,l=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(t=-1);for(var s=!1,o=0;!this.isEOF();){var i=this.char();if(i>=48&&i<=57)s=!0,o=o*10+(i-48),this.bump();else break}var a=Qt(l,this.clonePosition());return s?(o*=t,fA(o)?{val:o,err:null}:this.error(n,a)):this.error(e,a)},r.prototype.offset=function(){return this.position.offset},r.prototype.isEOF=function(){return this.offset()===this.message.length},r.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},r.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var n=pS(this.message,e);if(n===void 0)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return n},r.prototype.error=function(e,n){return{val:null,err:{kind:e,message:this.message,location:n}}},r.prototype.bump=function(){if(!this.isEOF()){var e=this.char();e===10?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},r.prototype.bumpIf=function(e){if(D1(this.message,e,this.offset())){for(var n=0;n<e.length;n++)this.bump();return!0}return!1},r.prototype.bumpUntil=function(e){var n=this.offset(),t=this.message.indexOf(e,n);return t>=0?(this.bumpTo(t),!0):(this.bumpTo(this.message.length),!1)},r.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var n=this.offset();if(n===e)break;if(n>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},r.prototype.bumpSpace=function(){for(;!this.isEOF()&&hS(this.char());)this.bump()},r.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),n=this.offset(),t=this.message.charCodeAt(n+(e>=65536?2:1));return t!=null?t:null},r}();Qf.Parser=_A;function Um(r){return r>=97&&r<=122||r>=65&&r<=90}function pA(r){return Um(r)||r===47}function gA(r){return r===45||r===46||r>=48&&r<=57||r===95||r>=97&&r<=122||r>=65&&r<=90||r==183||r>=192&&r<=214||r>=216&&r<=246||r>=248&&r<=893||r>=895&&r<=8191||r>=8204&&r<=8205||r>=8255&&r<=8256||r>=8304&&r<=8591||r>=11264&&r<=12271||r>=12289&&r<=55295||r>=63744&&r<=64975||r>=65008&&r<=65533||r>=65536&&r<=983039}function hS(r){return r>=9&&r<=13||r===32||r===133||r>=8206&&r<=8207||r===8232||r===8233}function hA(r){return r>=33&&r<=35||r===36||r>=37&&r<=39||r===40||r===41||r===42||r===43||r===44||r===45||r>=46&&r<=47||r>=58&&r<=59||r>=60&&r<=62||r>=63&&r<=64||r===91||r===92||r===93||r===94||r===96||r===123||r===124||r===125||r===126||r===161||r>=162&&r<=165||r===166||r===167||r===169||r===171||r===172||r===174||r===176||r===177||r===182||r===187||r===191||r===215||r===247||r>=8208&&r<=8213||r>=8214&&r<=8215||r===8216||r===8217||r===8218||r>=8219&&r<=8220||r===8221||r===8222||r===8223||r>=8224&&r<=8231||r>=8240&&r<=8248||r===8249||r===8250||r>=8251&&r<=8254||r>=8257&&r<=8259||r===8260||r===8261||r===8262||r>=8263&&r<=8273||r===8274||r===8275||r>=8277&&r<=8286||r>=8592&&r<=8596||r>=8597&&r<=8601||r>=8602&&r<=8603||r>=8604&&r<=8607||r===8608||r>=8609&&r<=8610||r===8611||r>=8612&&r<=8613||r===8614||r>=8615&&r<=8621||r===8622||r>=8623&&r<=8653||r>=8654&&r<=8655||r>=8656&&r<=8657||r===8658||r===8659||r===8660||r>=8661&&r<=8691||r>=8692&&r<=8959||r>=8960&&r<=8967||r===8968||r===8969||r===8970||r===8971||r>=8972&&r<=8991||r>=8992&&r<=8993||r>=8994&&r<=9e3||r===9001||r===9002||r>=9003&&r<=9083||r===9084||r>=9085&&r<=9114||r>=9115&&r<=9139||r>=9140&&r<=9179||r>=9180&&r<=9185||r>=9186&&r<=9254||r>=9255&&r<=9279||r>=9280&&r<=9290||r>=9291&&r<=9311||r>=9472&&r<=9654||r===9655||r>=9656&&r<=9664||r===9665||r>=9666&&r<=9719||r>=9720&&r<=9727||r>=9728&&r<=9838||r===9839||r>=9840&&r<=10087||r===10088||r===10089||r===10090||r===10091||r===10092||r===10093||r===10094||r===10095||r===10096||r===10097||r===10098||r===10099||r===10100||r===10101||r>=10132&&r<=10175||r>=10176&&r<=10180||r===10181||r===10182||r>=10183&&r<=10213||r===10214||r===10215||r===10216||r===10217||r===10218||r===10219||r===10220||r===10221||r===10222||r===10223||r>=10224&&r<=10239||r>=10240&&r<=10495||r>=10496&&r<=10626||r===10627||r===10628||r===10629||r===10630||r===10631||r===10632||r===10633||r===10634||r===10635||r===10636||r===10637||r===10638||r===10639||r===10640||r===10641||r===10642||r===10643||r===10644||r===10645||r===10646||r===10647||r===10648||r>=10649&&r<=10711||r===10712||r===10713||r===10714||r===10715||r>=10716&&r<=10747||r===10748||r===10749||r>=10750&&r<=11007||r>=11008&&r<=11055||r>=11056&&r<=11076||r>=11077&&r<=11078||r>=11079&&r<=11084||r>=11085&&r<=11123||r>=11124&&r<=11125||r>=11126&&r<=11157||r===11158||r>=11159&&r<=11263||r>=11776&&r<=11777||r===11778||r===11779||r===11780||r===11781||r>=11782&&r<=11784||r===11785||r===11786||r===11787||r===11788||r===11789||r>=11790&&r<=11798||r===11799||r>=11800&&r<=11801||r===11802||r===11803||r===11804||r===11805||r>=11806&&r<=11807||r===11808||r===11809||r===11810||r===11811||r===11812||r===11813||r===11814||r===11815||r===11816||r===11817||r>=11818&&r<=11822||r===11823||r>=11824&&r<=11833||r>=11834&&r<=11835||r>=11836&&r<=11839||r===11840||r===11841||r===11842||r>=11843&&r<=11855||r>=11856&&r<=11857||r===11858||r>=11859&&r<=11903||r>=12289&&r<=12291||r===12296||r===12297||r===12298||r===12299||r===12300||r===12301||r===12302||r===12303||r===12304||r===12305||r>=12306&&r<=12307||r===12308||r===12309||r===12310||r===12311||r===12312||r===12313||r===12314||r===12315||r===12316||r===12317||r>=12318&&r<=12319||r===12320||r===12336||r===64830||r===64831||r>=65093&&r<=65094}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r._Parser=r.parse=void 0;var e=Rs.exports,n=Pa,t=Qf,l=xt;function s(i){i.forEach(function(a){if(delete a.location,(0,l.isSelectElement)(a)||(0,l.isPluralElement)(a))for(var u in a.options)delete a.options[u].location,s(a.options[u].value);else(0,l.isNumberElement)(a)&&(0,l.isNumberSkeleton)(a.style)||((0,l.isDateElement)(a)||(0,l.isTimeElement)(a))&&(0,l.isDateTimeSkeleton)(a.style)?delete a.style.location:(0,l.isTagElement)(a)&&s(a.children)})}function o(i,a){a===void 0&&(a={}),a=e.__assign({shouldParseSkeletons:!0,requiresOtherClause:!0},a);var u=new t.Parser(i,a).parse();if(u.err){var f=SyntaxError(n.ErrorKind[u.err.kind]);throw f.location=u.err.location,f.originalMessage=u.err.message,f}return a!=null&&a.captureLocation||s(u.val),u.val}r.parse=o,e.__exportStar(xt,r),r._Parser=t.Parser})(Hd);function bA(r,e){var n=e&&e.cache?e.cache:CA,t=e&&e.serializer?e.serializer:yA,l=e&&e.strategy?e.strategy:vA;return l(r,{cache:n,serializer:t})}function $A(r){return r==null||typeof r=="number"||typeof r=="boolean"}function bS(r,e,n,t){var l=$A(t)?t:n(t),s=e.get(l);return typeof s>"u"&&(s=r.call(this,t),e.set(l,s)),s}function $S(r,e,n){var t=Array.prototype.slice.call(arguments,3),l=n(t),s=e.get(l);return typeof s>"u"&&(s=r.apply(this,t),e.set(l,s)),s}function Vd(r,e,n,t,l){return n.bind(e,r,t,l)}function vA(r,e){var n=r.length===1?bS:$S;return Vd(r,this,n,e.cache.create(),e.serializer)}function wA(r,e){return Vd(r,this,$S,e.cache.create(),e.serializer)}function kA(r,e){return Vd(r,this,bS,e.cache.create(),e.serializer)}var yA=function(){return JSON.stringify(arguments)};function zd(){this.cache=Object.create(null)}zd.prototype.get=function(r){return this.cache[r]};zd.prototype.set=function(r,e){this.cache[r]=e};var CA={create:function(){return new zd}},SA={variadic:wA,monadic:kA};const TA=Object.freeze(Object.defineProperty({__proto__:null,memoize:bA,strategies:SA},Symbol.toStringTag,{value:"Module"})),IA=vD(TA);var ns={},Wr={};Object.defineProperty(Wr,"__esModule",{value:!0});Wr.MissingValueError=Wr.InvalidValueTypeError=Wr.InvalidValueError=Wr.FormatError=Wr.ErrorCode=void 0;var tc=Rs.exports,aa;(function(r){r.MISSING_VALUE="MISSING_VALUE",r.INVALID_VALUE="INVALID_VALUE",r.MISSING_INTL_API="MISSING_INTL_API"})(aa||(Wr.ErrorCode=aa={}));var nc=function(r){tc.__extends(e,r);function e(n,t,l){var s=r.call(this,n)||this;return s.code=t,s.originalMessage=l,s}return e.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},e}(Error);Wr.FormatError=nc;var EA=function(r){tc.__extends(e,r);function e(n,t,l,s){return r.call(this,'Invalid values for "'.concat(n,'": "').concat(t,'". Options are "').concat(Object.keys(l).join('", "'),'"'),aa.INVALID_VALUE,s)||this}return e}(nc);Wr.InvalidValueError=EA;var MA=function(r){tc.__extends(e,r);function e(n,t,l){return r.call(this,'Value for "'.concat(n,'" must be of type ').concat(t),aa.INVALID_VALUE,l)||this}return e}(nc);Wr.InvalidValueTypeError=MA;var RA=function(r){tc.__extends(e,r);function e(n,t){return r.call(this,'The intl string context variable "'.concat(n,'" was not provided to the string "').concat(t,'"'),aa.MISSING_VALUE,t)||this}return e}(nc);Wr.MissingValueError=RA;Object.defineProperty(ns,"__esModule",{value:!0});ns.formatToParts=ns.isFormatXMLElementFn=ns.PART_TYPE=void 0;var zr=Hd,Io=Wr,yr;(function(r){r[r.literal=0]="literal",r[r.object=1]="object"})(yr||(ns.PART_TYPE=yr={}));function DA(r){return r.length<2?r:r.reduce(function(e,n){var t=e[e.length-1];return!t||t.type!==yr.literal||n.type!==yr.literal?e.push(n):t.value+=n.value,e},[])}function vS(r){return typeof r=="function"}ns.isFormatXMLElementFn=vS;function Uu(r,e,n,t,l,s,o){if(r.length===1&&(0,zr.isLiteralElement)(r[0]))return[{type:yr.literal,value:r[0].value}];for(var i=[],a=0,u=r;a<u.length;a++){var f=u[a];if((0,zr.isLiteralElement)(f)){i.push({type:yr.literal,value:f.value});continue}if((0,zr.isPoundElement)(f)){typeof s=="number"&&i.push({type:yr.literal,value:n.getNumberFormat(e).format(s)});continue}var c=f.value;if(!(l&&c in l))throw new Io.MissingValueError(c,o);var m=l[c];if((0,zr.isArgumentElement)(f)){(!m||typeof m=="string"||typeof m=="number")&&(m=typeof m=="string"||typeof m=="number"?String(m):""),i.push({type:typeof m=="string"?yr.literal:yr.object,value:m});continue}if((0,zr.isDateElement)(f)){var d=typeof f.style=="string"?t.date[f.style]:(0,zr.isDateTimeSkeleton)(f.style)?f.style.parsedOptions:void 0;i.push({type:yr.literal,value:n.getDateTimeFormat(e,d).format(m)});continue}if((0,zr.isTimeElement)(f)){var d=typeof f.style=="string"?t.time[f.style]:(0,zr.isDateTimeSkeleton)(f.style)?f.style.parsedOptions:t.time.medium;i.push({type:yr.literal,value:n.getDateTimeFormat(e,d).format(m)});continue}if((0,zr.isNumberElement)(f)){var d=typeof f.style=="string"?t.number[f.style]:(0,zr.isNumberSkeleton)(f.style)?f.style.parsedOptions:void 0;d&&d.scale&&(m=m*(d.scale||1)),i.push({type:yr.literal,value:n.getNumberFormat(e,d).format(m)});continue}if((0,zr.isTagElement)(f)){var g=f.children,h=f.value,b=l[h];if(!vS(b))throw new Io.InvalidValueTypeError(h,"function",o);var w=Uu(g,e,n,t,l,s),S=b(w.map(function(A){return A.value}));Array.isArray(S)||(S=[S]),i.push.apply(i,S.map(function(A){return{type:typeof A=="string"?yr.literal:yr.object,value:A}}))}if((0,zr.isSelectElement)(f)){var T=f.options[m]||f.options.other;if(!T)throw new Io.InvalidValueError(f.value,m,Object.keys(f.options),o);i.push.apply(i,Uu(T.value,e,n,t,l));continue}if((0,zr.isPluralElement)(f)){var T=f.options["=".concat(m)];if(!T){if(!Intl.PluralRules)throw new Io.FormatError(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,Io.ErrorCode.MISSING_INTL_API,o);var M=n.getPluralRules(e,{type:f.pluralType}).select(m-(f.offset||0));T=f.options[M]||f.options.other}if(!T)throw new Io.InvalidValueError(f.value,m,Object.keys(f.options),o);i.push.apply(i,Uu(T.value,e,n,t,l,m-(f.offset||0)));continue}}return DA(i)}ns.formatToParts=Uu;Object.defineProperty(ia,"__esModule",{value:!0});ia.IntlMessageFormat=void 0;var rl=Rs.exports,AA=Hd,Eo=IA,F1=ns;function OA(r,e){return e?rl.__assign(rl.__assign(rl.__assign({},r||{}),e||{}),Object.keys(r).reduce(function(n,t){return n[t]=rl.__assign(rl.__assign({},r[t]),e[t]||{}),n},{})):r}function FA(r,e){return e?Object.keys(r).reduce(function(n,t){return n[t]=OA(r[t],e[t]),n},rl.__assign({},r)):r}function tm(r){return{create:function(){return{get:function(e){return r[e]},set:function(e,n){r[e]=n}}}}}function NA(r){return r===void 0&&(r={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:(0,Eo.memoize)(function(){for(var e,n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return new((e=Intl.NumberFormat).bind.apply(e,rl.__spreadArray([void 0],n,!1)))},{cache:tm(r.number),strategy:Eo.strategies.variadic}),getDateTimeFormat:(0,Eo.memoize)(function(){for(var e,n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return new((e=Intl.DateTimeFormat).bind.apply(e,rl.__spreadArray([void 0],n,!1)))},{cache:tm(r.dateTime),strategy:Eo.strategies.variadic}),getPluralRules:(0,Eo.memoize)(function(){for(var e,n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return new((e=Intl.PluralRules).bind.apply(e,rl.__spreadArray([void 0],n,!1)))},{cache:tm(r.pluralRules),strategy:Eo.strategies.variadic})}}var PA=function(){function r(e,n,t,l){var s=this;if(n===void 0&&(n=r.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(a){var u=s.formatToParts(a);if(u.length===1)return u[0].value;var f=u.reduce(function(c,m){return!c.length||m.type!==F1.PART_TYPE.literal||typeof c[c.length-1]!="string"?c.push(m.value):c[c.length-1]+=m.value,c},[]);return f.length<=1?f[0]||"":f},this.formatToParts=function(a){return(0,F1.formatToParts)(s.ast,s.locales,s.formatters,s.formats,a,void 0,s.message)},this.resolvedOptions=function(){var a;return{locale:((a=s.resolvedLocale)===null||a===void 0?void 0:a.toString())||Intl.NumberFormat.supportedLocalesOf(s.locales)[0]}},this.getAst=function(){return s.ast},this.locales=n,this.resolvedLocale=r.resolveLocale(n),typeof e=="string"){if(this.message=e,!r.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var o=l||{};o.formatters;var i=rl.__rest(o,["formatters"]);this.ast=r.__parse(e,rl.__assign(rl.__assign({},i),{locale:this.resolvedLocale}))}else this.ast=e;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=FA(r.formats,t),this.formatters=l&&l.formatters||NA(this.formatterCache)}return Object.defineProperty(r,"defaultLocale",{get:function(){return r.memoizedDefaultLocale||(r.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale),r.memoizedDefaultLocale},enumerable:!1,configurable:!0}),r.memoizedDefaultLocale=null,r.resolveLocale=function(e){if(!(typeof Intl.Locale>"u")){var n=Intl.NumberFormat.supportedLocalesOf(e);return n.length>0?new Intl.Locale(n[0]):new Intl.Locale(typeof e=="string"?e:e[0])}},r.__parse=AA.parse,r.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},r}();ia.IntlMessageFormat=PA;(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=Rs.exports,n=ia;e.__exportStar(ns,r),e.__exportStar(ia,r),e.__exportStar(Wr,r),r.default=n.IntlMessageFormat})(Ld);function LA(r,e){if(e==null)return;if(e in r)return r[e];const n=e.split(".");let t=r;for(let l=0;l<n.length;l++)if(typeof t=="object"){if(l>0){const s=n.slice(l,n.length).join(".");if(s in t){t=t[s];break}}t=t[n[l]]}else t=void 0;return t}const vs={},HA=(r,e,n)=>n&&(e in vs||(vs[e]={}),r in vs[e]||(vs[e][r]=n),n),wS=(r,e)=>{if(e==null)return;if(e in vs&&r in vs[e])return vs[e][r];const n=La(e);for(let t=0;t<n.length;t++){const l=n[t],s=zA(l,r);if(s)return HA(r,e,s)}};let Bd;const hi=Ue({});function VA(r){return Bd[r]||null}function qd(r){return r in Bd}function zA(r,e){if(!qd(r))return null;const n=VA(r);return LA(n,e)}function BA(r){if(r==null)return;const e=La(r);for(let n=0;n<e.length;n++){const t=e[n];if(qd(t))return t}}function kS(r,...e){delete vs[r],hi.update(n=>(n[r]=FD.all([n[r]||{},...e]),n))}et([hi],([r])=>Object.keys(r));hi.subscribe(r=>Bd=r);const Ki={};function qA(r){Ki[r]=new Set}function UA(r,e){Ki[r].delete(e),Ki[r].size===0&&delete Ki[r]}function Xi(r){return Ki[r]}function WA(r){return La(r).map(e=>{const n=Xi(e);return[e,n?[...n]:[]]}).filter(([,e])=>e.length>0)}function Qu(r){return r==null?!1:La(r).some(e=>{var n;return(n=Xi(e))==null?void 0:n.size})}function jA(r,e){return Promise.all(e.map(t=>(UA(r,t),t().then(l=>l.default||l)))).then(t=>kS(r,...t))}const Oi={};function yS(r){if(!Qu(r))return r in Oi?Oi[r]:Promise.resolve();const e=WA(r);return Oi[r]=Promise.all(e.map(([n,t])=>jA(n,t))).then(()=>{if(Qu(r))return yS(r);delete Oi[r]}),Oi[r]}function N1(r,e){Xi(r)||qA(r);const n=Xi(r);Xi(r).has(e)||(qd(r)||hi.update(t=>(t[r]={},t)),n.add(e))}var P1=Object.getOwnPropertySymbols,YA=Object.prototype.hasOwnProperty,GA=Object.prototype.propertyIsEnumerable,KA=(r,e)=>{var n={};for(var t in r)YA.call(r,t)&&e.indexOf(t)<0&&(n[t]=r[t]);if(r!=null&&P1)for(var t of P1(r))e.indexOf(t)<0&&GA.call(r,t)&&(n[t]=r[t]);return n};const XA={number:{scientific:{notation:"scientific"},engineering:{notation:"engineering"},compactLong:{notation:"compact",compactDisplay:"long"},compactShort:{notation:"compact",compactDisplay:"short"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}};function JA({locale:r,id:e}){console.warn(`[svelte-i18n] The message "${e}" was not found in "${La(r).join('", "')}".${Qu(Ds())?`

Note: there are at least one loader still registered to this locale that wasn't executed.`:""}`)}const ZA={fallbackLocale:null,loadingDelay:200,formats:XA,warnOnMissingMessages:!0,handleMissingMessage:void 0,ignoreTag:!0},Vi=ZA;function Jo(){return Vi}function QA(r){const e=r,{formats:n}=e,t=KA(e,["formats"]);let l=r.fallbackLocale;if(r.initialLocale)try{Ld.IntlMessageFormat.resolveLocale(r.initialLocale)&&(l=r.initialLocale)}catch(s){console.warn(`[svelte-i18n] The initial locale "${r.initialLocale}" is not a valid locale.`)}return t.warnOnMissingMessages&&(delete t.warnOnMissingMessages,t.handleMissingMessage==null?t.handleMissingMessage=JA:console.warn('[svelte-i18n] The "warnOnMissingMessages" option is deprecated. Please use the "handleMissingMessage" option instead.')),Object.assign(Vi,t,{initialLocale:l}),n&&("number"in n&&Object.assign(Vi.formats.number,n.number),"date"in n&&Object.assign(Vi.formats.date,n.date),"time"in n&&Object.assign(Vi.formats.time,n.time)),As.set(l)}const Wu=Ue(!1);var xA=Object.defineProperty,eO=Object.defineProperties,tO=Object.getOwnPropertyDescriptors,L1=Object.getOwnPropertySymbols,nO=Object.prototype.hasOwnProperty,rO=Object.prototype.propertyIsEnumerable,H1=(r,e,n)=>e in r?xA(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,lO=(r,e)=>{for(var n in e||(e={}))nO.call(e,n)&&H1(r,n,e[n]);if(L1)for(var n of L1(e))rO.call(e,n)&&H1(r,n,e[n]);return r},sO=(r,e)=>eO(r,tO(e));let Wm;const xu=Ue(null);function V1(r){return r.split("-").map((e,n,t)=>t.slice(0,n+1).join("-")).reverse()}function La(r,e=Jo().fallbackLocale){const n=V1(r);return e?[...new Set([...n,...V1(e)])]:n}function Ds(){return Wm!=null?Wm:void 0}xu.subscribe(r=>{Wm=r!=null?r:void 0,typeof window<"u"&&r!=null&&document.documentElement.setAttribute("lang",r)});const oO=r=>{if(r&&BA(r)&&Qu(r)){const{loadingDelay:e}=Jo();let n;return typeof window<"u"&&Ds()!=null&&e?n=window.setTimeout(()=>Wu.set(!0),e):Wu.set(!0),yS(r).then(()=>{xu.set(r)}).finally(()=>{clearTimeout(n),Wu.set(!1)})}return xu.set(r)},As=sO(lO({},xu),{set:oO}),rc=r=>{const e=Object.create(null);return t=>{const l=JSON.stringify(t);return l in e?e[l]:e[l]=r(t)}};var iO=Object.defineProperty,ef=Object.getOwnPropertySymbols,CS=Object.prototype.hasOwnProperty,SS=Object.prototype.propertyIsEnumerable,z1=(r,e,n)=>e in r?iO(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,Ud=(r,e)=>{for(var n in e||(e={}))CS.call(e,n)&&z1(r,n,e[n]);if(ef)for(var n of ef(e))SS.call(e,n)&&z1(r,n,e[n]);return r},bi=(r,e)=>{var n={};for(var t in r)CS.call(r,t)&&e.indexOf(t)<0&&(n[t]=r[t]);if(r!=null&&ef)for(var t of ef(r))e.indexOf(t)<0&&SS.call(r,t)&&(n[t]=r[t]);return n};const ua=(r,e)=>{const{formats:n}=Jo();if(r in n&&e in n[r])return n[r][e];throw new Error(`[svelte-i18n] Unknown "${e}" ${r} format.`)},aO=rc(r=>{var e=r,{locale:n,format:t}=e,l=bi(e,["locale","format"]);if(n==null)throw new Error('[svelte-i18n] A "locale" must be set to format numbers');return t&&(l=ua("number",t)),new Intl.NumberFormat(n,l)}),uO=rc(r=>{var e=r,{locale:n,format:t}=e,l=bi(e,["locale","format"]);if(n==null)throw new Error('[svelte-i18n] A "locale" must be set to format dates');return t?l=ua("date",t):Object.keys(l).length===0&&(l=ua("date","short")),new Intl.DateTimeFormat(n,l)}),fO=rc(r=>{var e=r,{locale:n,format:t}=e,l=bi(e,["locale","format"]);if(n==null)throw new Error('[svelte-i18n] A "locale" must be set to format time values');return t?l=ua("time",t):Object.keys(l).length===0&&(l=ua("time","short")),new Intl.DateTimeFormat(n,l)}),cO=(r={})=>{var e=r,{locale:n=Ds()}=e,t=bi(e,["locale"]);return aO(Ud({locale:n},t))},mO=(r={})=>{var e=r,{locale:n=Ds()}=e,t=bi(e,["locale"]);return uO(Ud({locale:n},t))},dO=(r={})=>{var e=r,{locale:n=Ds()}=e,t=bi(e,["locale"]);return fO(Ud({locale:n},t))},_O=rc((r,e=Ds())=>new Ld.IntlMessageFormat(r,e,Jo().formats,{ignoreTag:Jo().ignoreTag})),pO=(r,e={})=>{var n,t,l,s;let o=e;typeof r=="object"&&(o=r,r=o.id);const{values:i,locale:a=Ds(),default:u}=o;if(a==null)throw new Error("[svelte-i18n] Cannot format a message without first setting the initial locale.");let f=wS(r,a);if(!f)f=(s=(l=(t=(n=Jo()).handleMissingMessage)==null?void 0:t.call(n,{locale:a,id:r,defaultValue:u}))!=null?l:u)!=null?s:r;else if(typeof f!="string")return console.warn(`[svelte-i18n] Message with id "${r}" must be of type "string", found: "${typeof f}". Gettin its value through the "$format" method is deprecated; use the "json" method instead.`),f;if(!i)return f;let c=f;try{c=_O(f,a).format(i)}catch(m){m instanceof Error&&console.warn(`[svelte-i18n] Message "${r}" has syntax error:`,m.message)}return c},gO=(r,e)=>dO(e).format(r),hO=(r,e)=>mO(e).format(r),bO=(r,e)=>cO(e).format(r),$O=(r,e=Ds())=>wS(r,e),ce=et([As,hi],()=>pO);et([As],()=>gO);et([As],()=>hO);et([As],()=>bO);et([As,hi],()=>$O);class In extends Promise{constructor(n,t){super(n);te(this,"isCancelled",!1);te(this,"onCancel");this.onCancel=t}cancel(){var n;this.isCancelled=!0,(n=this.onCancel)==null||n.call(this)}then(n,t){const l=o=>this.isCancelled?null:(n==null?void 0:n(o))||o,s=o=>{if(this.isCancelled)return null;if(!t)throw o;return t(o)};return this.isCancelled?null:super.then(l,s)}transformResolved(n){return new In((t,l)=>{this.then(s=>t(n(s)),l).catch(l)},()=>this.cancel())}}class lc{constructor(){te(this,"listeners");this.listeners=new Map}getCallbackSet(e){const n=this.listeners.get(e);if(n)return n;const t=new Set;return this.listeners.set(e,t),t}on(e,n){const t=this.getCallbackSet(e);return t.add(n),()=>{t.delete(n)}}async dispatch(e,n){const t=this.listeners.get(e);!t||await Promise.all([...t.values()].map(l=>l(n)))}destroy(){this.listeners.clear()}}class vn{constructor(e){te(this,"set");this.set=new Set(e)}getNewInstance(...e){return new this.constructor(...e)}with(e){const n=new Set(this.set);return n.add(e),this.getNewInstance(n)}union(e){const n=new Set(this.set);return[...e].forEach(t=>{n.add(t)}),this.getNewInstance(n)}intersect(e){return this.getNewInstance([...this].filter(n=>e.has(n)))}without(e){const n=Array.isArray(e)?e:[e],t=new Set(this.set);return n.forEach(l=>{t.delete(l)}),this.getNewInstance(t)}has(e){return this.set.has(e)}equals(e){return this.size===e.size&&this.union(e).size===this.size}get size(){return this.set.size}values(){return this.set.values()}valuesArray(){return[...this.set.values()]}[Symbol.iterator](){return this.values()}}class Ct{constructor(e=[]){te(this,"map");te(this,"valueIsValid",()=>!0);this.map=new Map(e)}getNewInstance(...e){return new this.constructor(...e)}with(e,n,t=(l,s)=>s){return this.withEntries([[e,n]],t)}withEntries(e,n=(t,l)=>l){const t=new Map(this.map);return[...e].forEach(([l,s])=>{const o=this.get(l),i=o===void 0?s:n(o,s);this.valueIsValid(i)?t.set(l,i):t.delete(l)}),this.getNewInstance(t)}coalesce(e,n){return this.has(e)?this:this.with(e,n)}coalesceEntries(e){const n=new Map(this.map);return[...e].forEach(([t,l])=>{!this.has(t)&&this.valueIsValid(l)&&n.set(t,l)}),this.getNewInstance(n)}without(e){const n=Array.isArray(e)?e:[e],t=new Map(this.map);return n.forEach(l=>t.delete(l)),this.getNewInstance(t)}drained(){return this.getNewInstance([])}has(e){return this.map.has(e)}get(e){return this.map.get(e)}get size(){return this.map.size}keys(){return this.map.keys()}values(){return this.map.values()}entries(){return this.map.entries()}mapValues(e){return new Ct([...this.entries()].map(([n,t])=>[n,e(t)]))}mapKeys(e){return new Ct([...this.values()].map(n=>[e(n),n]))}filterValues(e){return new Ct([...this.entries()].filter(([,n])=>e(n)))}[Symbol.iterator](){return this.entries()}}class B1 extends Ct{constructor(n,t=[]){const l=n(t);super(l);te(this,"sortFn");this.sortFn=n}getNewInstance(...n){return new this.constructor(this.sortFn,...n)}}class Cl{constructor(e=[]){te(this,"map");this.map=Ue(new Ct(e))}subscribe(e){return this.map.subscribe(e)}reconstruct(e=[]){this.map.set(new Ct(e))}clear(){this.map.set(new Ct)}delete(e){this.map.update(n=>n.without(e))}set(e,n,t=(l,s)=>s){this.map.update(l=>l.with(e,n,t))}setEntries(e=[],n=(t,l)=>l){this.map.update(t=>t.withEntries(e,n))}setMultiple(e,n,t=(l,s)=>s){this.map.update(l=>l.withEntries([...e].map(s=>[s,n]),t))}getEntries(){return ve(this.map).entries()}derivedEntries(){return et(this.map,e=>e.entries())}getHas(e){return ve(this.map).has(e)}derivedHas(e){return et(this.map,n=>n.has(e))}getValue(e){return ve(this.map).get(e)}derivedValue(e){return et(this.map,n=>n.get(e))}getKeys(){return ve(this.map).keys()}derivedKeys(){return et(this.map,e=>e.keys())}getValues(){return ve(this.map).values()}derivedValues(){return et(this.map,e=>e.values())}}class Wd{constructor(e=[]){te(this,"values");this.values=Ue(new vn(e))}subscribe(e){return this.values.subscribe(e)}reconstruct(e=[]){this.values.set(new vn(e))}clear(){this.values.set(new vn)}delete(e){this.values.update(n=>n.without(e))}add(e){this.values.update(n=>n.with(e))}addMultiple(e=[]){this.values.update(n=>n.union(e))}getValues(){return ve(this.values).values()}derivedValues(){return et(this.values,e=>e.values())}getHas(e){return ve(this.values).has(e)}derivedHas(e){return et(this.values,n=>n.has(e))}}var TS={exports:{}};(function(r,e){(function(n,t){r.exports=t()})(Xs,function(){var n=1e3,t=6e4,l=36e5,s="millisecond",o="second",i="minute",a="hour",u="day",f="week",c="month",m="quarter",d="year",g="date",h="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,S={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},T=function(q,G,Y){var K=String(q);return!K||K.length>=G?q:""+Array(G+1-K.length).join(Y)+q},M={s:T,z:function(q){var G=-q.utcOffset(),Y=Math.abs(G),K=Math.floor(Y/60),ee=Y%60;return(G<=0?"+":"-")+T(K,2,"0")+":"+T(ee,2,"0")},m:function q(G,Y){if(G.date()<Y.date())return-q(Y,G);var K=12*(Y.year()-G.year())+(Y.month()-G.month()),ee=G.clone().add(K,c),x=Y-ee<0,X=G.clone().add(K+(x?-1:1),c);return+(-(K+(Y-ee)/(x?ee-X:X-ee))||0)},a:function(q){return q<0?Math.ceil(q)||0:Math.floor(q)},p:function(q){return{M:c,y:d,w:f,d:u,D:g,h:a,m:i,s:o,ms:s,Q:m}[q]||String(q||"").toLowerCase().replace(/s$/,"")},u:function(q){return q===void 0}},A="en",D={};D[A]=S;var O=function(q){return q instanceof j},F=function q(G,Y,K){var ee;if(!G)return A;if(typeof G=="string"){var x=G.toLowerCase();D[x]&&(ee=x),Y&&(D[x]=Y,ee=x);var X=G.split("-");if(!ee&&X.length>1)return q(X[0])}else{var fe=G.name;D[fe]=G,ee=fe}return!K&&ee&&(A=ee),ee||!K&&A},P=function(q,G){if(O(q))return q.clone();var Y=typeof G=="object"?G:{};return Y.date=q,Y.args=arguments,new j(Y)},B=M;B.l=F,B.i=O,B.w=function(q,G){return P(q,{locale:G.$L,utc:G.$u,x:G.$x,$offset:G.$offset})};var j=function(){function q(Y){this.$L=F(Y.locale,null,!0),this.parse(Y)}var G=q.prototype;return G.parse=function(Y){this.$d=function(K){var ee=K.date,x=K.utc;if(ee===null)return new Date(NaN);if(B.u(ee))return new Date;if(ee instanceof Date)return new Date(ee);if(typeof ee=="string"&&!/Z$/i.test(ee)){var X=ee.match(b);if(X){var fe=X[2]-1||0,he=(X[7]||"0").substring(0,3);return x?new Date(Date.UTC(X[1],fe,X[3]||1,X[4]||0,X[5]||0,X[6]||0,he)):new Date(X[1],fe,X[3]||1,X[4]||0,X[5]||0,X[6]||0,he)}}return new Date(ee)}(Y),this.$x=Y.x||{},this.init()},G.init=function(){var Y=this.$d;this.$y=Y.getFullYear(),this.$M=Y.getMonth(),this.$D=Y.getDate(),this.$W=Y.getDay(),this.$H=Y.getHours(),this.$m=Y.getMinutes(),this.$s=Y.getSeconds(),this.$ms=Y.getMilliseconds()},G.$utils=function(){return B},G.isValid=function(){return this.$d.toString()!==h},G.isSame=function(Y,K){var ee=P(Y);return this.startOf(K)<=ee&&ee<=this.endOf(K)},G.isAfter=function(Y,K){return P(Y)<this.startOf(K)},G.isBefore=function(Y,K){return this.endOf(K)<P(Y)},G.$g=function(Y,K,ee){return B.u(Y)?this[K]:this.set(ee,Y)},G.unix=function(){return Math.floor(this.valueOf()/1e3)},G.valueOf=function(){return this.$d.getTime()},G.startOf=function(Y,K){var ee=this,x=!!B.u(K)||K,X=B.p(Y),fe=function(Je,ze){var Ve=B.w(ee.$u?Date.UTC(ee.$y,ze,Je):new Date(ee.$y,ze,Je),ee);return x?Ve:Ve.endOf(u)},he=function(Je,ze){return B.w(ee.toDate()[Je].apply(ee.toDate("s"),(x?[0,0,0,0]:[23,59,59,999]).slice(ze)),ee)},me=this.$W,ge=this.$M,pe=this.$D,Le="set"+(this.$u?"UTC":"");switch(X){case d:return x?fe(1,0):fe(31,11);case c:return x?fe(1,ge):fe(0,ge+1);case f:var Qe=this.$locale().weekStart||0,Ae=(me<Qe?me+7:me)-Qe;return fe(x?pe-Ae:pe+(6-Ae),ge);case u:case g:return he(Le+"Hours",0);case a:return he(Le+"Minutes",1);case i:return he(Le+"Seconds",2);case o:return he(Le+"Milliseconds",3);default:return this.clone()}},G.endOf=function(Y){return this.startOf(Y,!1)},G.$set=function(Y,K){var ee,x=B.p(Y),X="set"+(this.$u?"UTC":""),fe=(ee={},ee[u]=X+"Date",ee[g]=X+"Date",ee[c]=X+"Month",ee[d]=X+"FullYear",ee[a]=X+"Hours",ee[i]=X+"Minutes",ee[o]=X+"Seconds",ee[s]=X+"Milliseconds",ee)[x],he=x===u?this.$D+(K-this.$W):K;if(x===c||x===d){var me=this.clone().set(g,1);me.$d[fe](he),me.init(),this.$d=me.set(g,Math.min(this.$D,me.daysInMonth())).$d}else fe&&this.$d[fe](he);return this.init(),this},G.set=function(Y,K){return this.clone().$set(Y,K)},G.get=function(Y){return this[B.p(Y)]()},G.add=function(Y,K){var ee,x=this;Y=Number(Y);var X=B.p(K),fe=function(ge){var pe=P(x);return B.w(pe.date(pe.date()+Math.round(ge*Y)),x)};if(X===c)return this.set(c,this.$M+Y);if(X===d)return this.set(d,this.$y+Y);if(X===u)return fe(1);if(X===f)return fe(7);var he=(ee={},ee[i]=t,ee[a]=l,ee[o]=n,ee)[X]||1,me=this.$d.getTime()+Y*he;return B.w(me,this)},G.subtract=function(Y,K){return this.add(-1*Y,K)},G.format=function(Y){var K=this,ee=this.$locale();if(!this.isValid())return ee.invalidDate||h;var x=Y||"YYYY-MM-DDTHH:mm:ssZ",X=B.z(this),fe=this.$H,he=this.$m,me=this.$M,ge=ee.weekdays,pe=ee.months,Le=function(ze,Ve,Be,qe){return ze&&(ze[Ve]||ze(K,x))||Be[Ve].slice(0,qe)},Qe=function(ze){return B.s(fe%12||12,ze,"0")},Ae=ee.meridiem||function(ze,Ve,Be){var qe=ze<12?"AM":"PM";return Be?qe.toLowerCase():qe},Je={YY:String(this.$y).slice(-2),YYYY:this.$y,M:me+1,MM:B.s(me+1,2,"0"),MMM:Le(ee.monthsShort,me,pe,3),MMMM:Le(pe,me),D:this.$D,DD:B.s(this.$D,2,"0"),d:String(this.$W),dd:Le(ee.weekdaysMin,this.$W,ge,2),ddd:Le(ee.weekdaysShort,this.$W,ge,3),dddd:ge[this.$W],H:String(fe),HH:B.s(fe,2,"0"),h:Qe(1),hh:Qe(2),a:Ae(fe,he,!0),A:Ae(fe,he,!1),m:String(he),mm:B.s(he,2,"0"),s:String(this.$s),ss:B.s(this.$s,2,"0"),SSS:B.s(this.$ms,3,"0"),Z:X};return x.replace(w,function(ze,Ve){return Ve||Je[ze]||X.replace(":","")})},G.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},G.diff=function(Y,K,ee){var x,X=B.p(K),fe=P(Y),he=(fe.utcOffset()-this.utcOffset())*t,me=this-fe,ge=B.m(this,fe);return ge=(x={},x[d]=ge/12,x[c]=ge,x[m]=ge/3,x[f]=(me-he)/6048e5,x[u]=(me-he)/864e5,x[a]=me/l,x[i]=me/t,x[o]=me/n,x)[X]||me,ee?ge:B.a(ge)},G.daysInMonth=function(){return this.endOf(c).$D},G.$locale=function(){return D[this.$L]},G.locale=function(Y,K){if(!Y)return this.$L;var ee=this.clone(),x=F(Y,K,!0);return x&&(ee.$L=x),ee},G.clone=function(){return B.w(this.$d,this)},G.toDate=function(){return new Date(this.valueOf())},G.toJSON=function(){return this.isValid()?this.toISOString():null},G.toISOString=function(){return this.$d.toISOString()},G.toString=function(){return this.$d.toUTCString()},q}(),V=j.prototype;return P.prototype=V,[["$ms",s],["$s",o],["$m",i],["$H",a],["$W",u],["$M",c],["$y",d],["$D",g]].forEach(function(q){V[q[1]]=function(G){return this.$g(G,q[0],q[1])}}),P.extend=function(q,G){return q.$i||(q(G,j,P),q.$i=!0),P},P.locale=F,P.isDayjs=O,P.unix=function(q){return P(1e3*q)},P.en=D[A],P.Ls=D,P.p={},P})})(TS);const Mn=TS.exports;var IS={exports:{}};(function(r,e){(function(n,t){r.exports=t()})(Xs,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,l=/\d\d/,s=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,i={},a=function(h){return(h=+h)+(h>68?1900:2e3)},u=function(h){return function(b){this[h]=+b}},f=[/[+-]\d\d:?(\d\d)?|Z/,function(h){(this.zone||(this.zone={})).offset=function(b){if(!b||b==="Z")return 0;var w=b.match(/([+-]|\d\d)/g),S=60*w[1]+(+w[2]||0);return S===0?0:w[0]==="+"?-S:S}(h)}],c=function(h){var b=i[h];return b&&(b.indexOf?b:b.s.concat(b.f))},m=function(h,b){var w,S=i.meridiem;if(S){for(var T=1;T<=24;T+=1)if(h.indexOf(S(T,0,b))>-1){w=T>12;break}}else w=h===(b?"pm":"PM");return w},d={A:[o,function(h){this.afternoon=m(h,!1)}],a:[o,function(h){this.afternoon=m(h,!0)}],S:[/\d/,function(h){this.milliseconds=100*+h}],SS:[l,function(h){this.milliseconds=10*+h}],SSS:[/\d{3}/,function(h){this.milliseconds=+h}],s:[s,u("seconds")],ss:[s,u("seconds")],m:[s,u("minutes")],mm:[s,u("minutes")],H:[s,u("hours")],h:[s,u("hours")],HH:[s,u("hours")],hh:[s,u("hours")],D:[s,u("day")],DD:[l,u("day")],Do:[o,function(h){var b=i.ordinal,w=h.match(/\d+/);if(this.day=w[0],b)for(var S=1;S<=31;S+=1)b(S).replace(/\[|\]/g,"")===h&&(this.day=S)}],M:[s,u("month")],MM:[l,u("month")],MMM:[o,function(h){var b=c("months"),w=(c("monthsShort")||b.map(function(S){return S.slice(0,3)})).indexOf(h)+1;if(w<1)throw new Error;this.month=w%12||w}],MMMM:[o,function(h){var b=c("months").indexOf(h)+1;if(b<1)throw new Error;this.month=b%12||b}],Y:[/[+-]?\d+/,u("year")],YY:[l,function(h){this.year=a(h)}],YYYY:[/\d{4}/,u("year")],Z:f,ZZ:f};function g(h){var b,w;b=h,w=i&&i.formats;for(var S=(h=b.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(P,B,j){var V=j&&j.toUpperCase();return B||w[j]||n[j]||w[V].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(q,G,Y){return G||Y.slice(1)})})).match(t),T=S.length,M=0;M<T;M+=1){var A=S[M],D=d[A],O=D&&D[0],F=D&&D[1];S[M]=F?{regex:O,parser:F}:A.replace(/^\[|\]$/g,"")}return function(P){for(var B={},j=0,V=0;j<T;j+=1){var q=S[j];if(typeof q=="string")V+=q.length;else{var G=q.regex,Y=q.parser,K=P.slice(V),ee=G.exec(K)[0];Y.call(B,ee),P=P.replace(ee,"")}}return function(x){var X=x.afternoon;if(X!==void 0){var fe=x.hours;X?fe<12&&(x.hours+=12):fe===12&&(x.hours=0),delete x.afternoon}}(B),B}}return function(h,b,w){w.p.customParseFormat=!0,h&&h.parseTwoDigitYear&&(a=h.parseTwoDigitYear);var S=b.prototype,T=S.parse;S.parse=function(M){var A=M.date,D=M.utc,O=M.args;this.$u=D;var F=O[1];if(typeof F=="string"){var P=O[2]===!0,B=O[3]===!0,j=P||B,V=O[2];B&&(V=O[2]),i=this.$locale(),!P&&V&&(i=w.Ls[V]),this.$d=function(K,ee,x){try{if(["x","X"].indexOf(ee)>-1)return new Date((ee==="X"?1e3:1)*K);var X=g(ee)(K),fe=X.year,he=X.month,me=X.day,ge=X.hours,pe=X.minutes,Le=X.seconds,Qe=X.milliseconds,Ae=X.zone,Je=new Date,ze=me||(fe||he?1:Je.getDate()),Ve=fe||Je.getFullYear(),Be=0;fe&&!he||(Be=he>0?he-1:Je.getMonth());var qe=ge||0,ft=pe||0,vt=Le||0,ut=Qe||0;return Ae?new Date(Date.UTC(Ve,Be,ze,qe,ft,vt,ut+60*Ae.offset*1e3)):x?new Date(Date.UTC(Ve,Be,ze,qe,ft,vt,ut)):new Date(Ve,Be,ze,qe,ft,vt,ut)}catch(Xe){return new Date("")}}(A,F,D),this.init(),V&&V!==!0&&(this.$L=this.locale(V).$L),j&&A!=this.format(F)&&(this.$d=new Date("")),i={}}else if(F instanceof Array)for(var q=F.length,G=1;G<=q;G+=1){O[1]=F[G-1];var Y=w.apply(this,O);if(Y.isValid()){this.$d=Y.$d,this.$L=Y.$L,this.init();break}G===q&&(this.$d=new Date(""))}else T.call(this,M)}}})})(IS);const vO=IS.exports;var ES={exports:{}};(function(r,e){(function(n,t){r.exports=t()})(Xs,function(){var n,t,l=1e3,s=6e4,o=36e5,i=864e5,a=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u=31536e6,f=2592e6,c=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,m={years:u,months:f,days:i,hours:o,minutes:s,seconds:l,milliseconds:1,weeks:6048e5},d=function(A){return A instanceof M},g=function(A,D,O){return new M(A,O,D.$l)},h=function(A){return t.p(A)+"s"},b=function(A){return A<0},w=function(A){return b(A)?Math.ceil(A):Math.floor(A)},S=function(A){return Math.abs(A)},T=function(A,D){return A?b(A)?{negative:!0,format:""+S(A)+D}:{negative:!1,format:""+A+D}:{negative:!1,format:""}},M=function(){function A(O,F,P){var B=this;if(this.$d={},this.$l=P,O===void 0&&(this.$ms=0,this.parseFromMilliseconds()),F)return g(O*m[h(F)],this);if(typeof O=="number")return this.$ms=O,this.parseFromMilliseconds(),this;if(typeof O=="object")return Object.keys(O).forEach(function(q){B.$d[h(q)]=O[q]}),this.calMilliseconds(),this;if(typeof O=="string"){var j=O.match(c);if(j){var V=j.slice(2).map(function(q){return q!=null?Number(q):0});return this.$d.years=V[0],this.$d.months=V[1],this.$d.weeks=V[2],this.$d.days=V[3],this.$d.hours=V[4],this.$d.minutes=V[5],this.$d.seconds=V[6],this.calMilliseconds(),this}}return this}var D=A.prototype;return D.calMilliseconds=function(){var O=this;this.$ms=Object.keys(this.$d).reduce(function(F,P){return F+(O.$d[P]||0)*m[P]},0)},D.parseFromMilliseconds=function(){var O=this.$ms;this.$d.years=w(O/u),O%=u,this.$d.months=w(O/f),O%=f,this.$d.days=w(O/i),O%=i,this.$d.hours=w(O/o),O%=o,this.$d.minutes=w(O/s),O%=s,this.$d.seconds=w(O/l),O%=l,this.$d.milliseconds=O},D.toISOString=function(){var O=T(this.$d.years,"Y"),F=T(this.$d.months,"M"),P=+this.$d.days||0;this.$d.weeks&&(P+=7*this.$d.weeks);var B=T(P,"D"),j=T(this.$d.hours,"H"),V=T(this.$d.minutes,"M"),q=this.$d.seconds||0;this.$d.milliseconds&&(q+=this.$d.milliseconds/1e3);var G=T(q,"S"),Y=O.negative||F.negative||B.negative||j.negative||V.negative||G.negative,K=j.format||V.format||G.format?"T":"",ee=(Y?"-":"")+"P"+O.format+F.format+B.format+K+j.format+V.format+G.format;return ee==="P"||ee==="-P"?"P0D":ee},D.toJSON=function(){return this.toISOString()},D.format=function(O){var F=O||"YYYY-MM-DDTHH:mm:ss",P={Y:this.$d.years,YY:t.s(this.$d.years,2,"0"),YYYY:t.s(this.$d.years,4,"0"),M:this.$d.months,MM:t.s(this.$d.months,2,"0"),D:this.$d.days,DD:t.s(this.$d.days,2,"0"),H:this.$d.hours,HH:t.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:t.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:t.s(this.$d.seconds,2,"0"),SSS:t.s(this.$d.milliseconds,3,"0")};return F.replace(a,function(B,j){return j||String(P[B])})},D.as=function(O){return this.$ms/m[h(O)]},D.get=function(O){var F=this.$ms,P=h(O);return P==="milliseconds"?F%=1e3:F=P==="weeks"?w(F/m[P]):this.$d[P],F===0?0:F},D.add=function(O,F,P){var B;return B=F?O*m[h(F)]:d(O)?O.$ms:g(O,this).$ms,g(this.$ms+B*(P?-1:1),this)},D.subtract=function(O,F){return this.add(O,F,!0)},D.locale=function(O){var F=this.clone();return F.$l=O,F},D.clone=function(){return g(this.$ms,this)},D.humanize=function(O){return n().add(this.$ms,"ms").locale(this.$l).fromNow(!O)},D.milliseconds=function(){return this.get("milliseconds")},D.asMilliseconds=function(){return this.as("milliseconds")},D.seconds=function(){return this.get("seconds")},D.asSeconds=function(){return this.as("seconds")},D.minutes=function(){return this.get("minutes")},D.asMinutes=function(){return this.as("minutes")},D.hours=function(){return this.get("hours")},D.asHours=function(){return this.as("hours")},D.days=function(){return this.get("days")},D.asDays=function(){return this.as("days")},D.weeks=function(){return this.get("weeks")},D.asWeeks=function(){return this.as("weeks")},D.months=function(){return this.get("months")},D.asMonths=function(){return this.as("months")},D.years=function(){return this.get("years")},D.asYears=function(){return this.as("years")},A}();return function(A,D,O){n=O,t=O().$utils(),O.duration=function(B,j){var V=O.locale();return g(B,{$l:V},j)},O.isDuration=d;var F=D.prototype.add,P=D.prototype.subtract;D.prototype.add=function(B,j){return d(B)&&(B=B.asMilliseconds()),F.bind(this)(B,j)},D.prototype.subtract=function(B,j){return d(B)&&(B=B.asMilliseconds()),P.bind(this)(B,j)}}})})(ES);const wO=ES.exports;Mn.extend(vO);Mn.extend(wO);function MS(r){return typeof r=="object"&&r!==null}function kO(r){return typeof r=="number"}function Jn(r,e){return MS(r)&&e in r}function Ss(r,e){return Jn(r,e)&&typeof r[e]=="string"}function jd(r,e){return Jn(r,e)&&typeof r[e]=="function"}function At(r){return r!=null}function Zo(r,e){return At(r)?r:e}function Rr(r,e){return r===void 0?void 0:e(r)}function Rt(r){throw new Error(`Exhaustive condition error: ${JSON.stringify(r)}`)}const yO="_id";function vr(r){const e=r!=null?r:yO;return crypto&&crypto.randomUUID?`${e}-${crypto.randomUUID()}`:`${e}-${Date.now().toString(36)}-${Math.random().toString(36).substring(2)}`}function zo(r){jd(r,"focus")&&r.focus()}function CO(r){jd(r,"blur")&&r.blur()}function q1(r){if(r===0)return"0 B";const e=Math.floor(Math.log(r)/Math.log(1024)),n=r/1024**e,t=" KMGTP".charAt(e);return`${n.toFixed(2)} ${t}B`}function $i(r,e="label"){return Ss(r,e)?r[e]:r===void 0?"":String(r)}function SO(r){return r<.5?4*r*r*r:.5*Math.pow(2*r-2,3)+1}function RS(r){const e=r-1;return e*e*e+1}function U1(r){return Object.prototype.toString.call(r)==="[object Date]"}function jm(r,e){if(r===e||r!==r)return()=>r;const n=typeof r;if(n!==typeof e||Array.isArray(r)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(r)){const t=e.map((l,s)=>jm(r[s],l));return l=>t.map(s=>s(l))}if(n==="object"){if(!r||!e)throw new Error("Object cannot be null");if(U1(r)&&U1(e)){r=r.getTime(),e=e.getTime();const s=e-r;return o=>new Date(r+o*s)}const t=Object.keys(e),l={};return t.forEach(s=>{l[s]=jm(r[s],e[s])}),s=>{const o={};return t.forEach(i=>{o[i]=l[i](s)}),o}}if(n==="number"){const t=e-r;return l=>r+l*t}throw new Error(`Cannot interpolate ${n} values`)}function TO(r,e={}){const n=Ue(r);let t,l=r;function s(o,i){if(r==null)return n.set(r=o),Promise.resolve();l=o;let a=t,u=!1,{delay:f=0,duration:c=400,easing:m=io,interpolate:d=jm}=se(se({},e),i);if(c===0)return a&&(a.abort(),a=null),n.set(r=l),Promise.resolve();const g=Da()+f;let h;return t=Aa(b=>{if(b<g)return!0;u||(h=d(r,o),typeof c=="function"&&(c=c(r,o)),u=!0),a&&(a.abort(),a=null);const w=b-g;return w>c?(n.set(r=o),!1):(n.set(r=h(m(w/c))),!0)}),t.promise}return{set:s,update:(o,i)=>s(o(l,r),i),subscribe:n.subscribe}}const IO={allowPause:!0,duration:0};function EO(r,e={}){const n={...IO,...e},t=TO(r,n);let l=!1,s=r,o=r,{duration:i}=n,a=()=>{};function u(){return new Promise(g=>{a=g})}function f(g,h){var w;s=g,i=(w=h==null?void 0:h.duration)!=null?w:n.duration;const b=u();return t.update((S,T)=>(o=T,g),h).then(a),b}function c(g,h){var w;i=(w=h==null?void 0:h.duration)!=null?w:n.duration,o=ve(t),s=g(s,o);const b=u();return t.set(s,h).then(a),b}function m(){!n.allowPause||(l=!0,t.update((g,h)=>(s=g,h),{duration:0}))}function d(){if(!l)return;const g=ve(t),h=(s-o)/i,b=(s-g)/h;t.set(s,{duration:b}).then(a)}return{update:c,set:f,subscribe:t.subscribe,pause:m,resume:d}}function MO(r){return typeof r=="object"&&r!==null&&"subscribe"in r&&typeof r.subscribe=="function"}function Nn(r){return MO(r)?r:ar(r)}function ao(r){return et(r,(e,n)=>e.subscribe(n))}function RO(r,e,n){const t=[...r];return t[e]=n,t}function Us(r){let e=[];return ar(e,n=>{const t=r.map((l,s)=>l.subscribe(o=>{e=RO(e,s,o),n(e)}));return()=>t.forEach(l=>l())})}function DS(r,e,n){return ao(et(r,t=>{const l=[...t].map(s=>et(e(s),o=>({value:s,key:o})));return et(Us(l),s=>[...s].sort((o,i)=>n(o.key,i.key)).map(o=>o.value))}))}function DO(r,e){let n=0,t=[];function l(s){const o=r.subscribe(s);return n+=1,n===1&&(t=e.map(i=>i())),()=>{o(),n-=1,n===0&&(t.forEach(i=>i()),t=[])}}return{...r,subscribe:l}}function AS(r,e,n,t){let l=!1,s=0;const o=[],i=()=>{!l&&s===0&&o.splice(0,o.length).forEach(m=>m())},a=c=>{if(l)return;l=!0,s+=1;const m=()=>{l=!1,c(),s-=1,i()};typeof queueMicrotask=="function"?queueMicrotask(m):Promise.resolve().then(m)},u=ar(t,c=>{let m=!1,d=0,g=[];const h=S=>{if(d!==S)return;const T=ve(r);c(n(T,ve))},b=(S,T)=>{m=!0;const M=[...S.values()];g.forEach(A=>A()),g=M.map(A=>A.subscribe(()=>{d!==T||m||a(()=>h(T))})),m=!1},w=r.subscribe(()=>{d+=1;const S=ve(r),T=e(S),M=new Set(T);b(M,d),h(d)});return()=>{d=0,w(),g.forEach(S=>S()),g=[]}}),f=()=>!l&&s===0?Promise.resolve():new Promise(c=>{o.push(c)});return{subscribe:u.subscribe,tick:f}}const Ym="validationContext";class AO{constructor(){te(this,"validationResult",Ue(!0));te(this,"validationFunctionMap",new Map)}validate(){let e=!0;for(const n of this.validationFunctionMap.values())e=e&&n();return this.validationResult.set(e),e}addValidator(e,n){this.validationFunctionMap.set(e,n),us(()=>{this.validationFunctionMap.delete(e),this.validate()})}}function OS(){const r=new AO;return Fr(Ym,r),r}function FS(){if(!uS(Ym))throw Error("Validation context not present");return Wn(Ym)}function OO(r){var m,d;const e=r.target,n=r.inputType,t=e.value,l=(m=e.selectionStart)!=null?m:0,s=(d=e.selectionEnd)!=null?d:t.length,o=l===s;let i=t.substring(0,l),a=t.substring(s,t.length);const u=(()=>{switch(n){case"insertText":case"insertFromPaste":case"insertFromDrop":return"insert";default:return"delete"}})(),f=(()=>{switch(n){case"deleteContentBackward":case"deleteWordBackward":return"backward";case"deleteContentForward":case"deleteWordForward":return"forward";default:return}})();u==="delete"&&o&&(f==="backward"?i=i.slice(0,-1):f==="forward"&&(a=a.slice(1,a.length)));const c=u==="insert"&&r.data||"";return{value:`${i}${c}${a}`,cursorPosition:i.length+c.length}}function Gm(r){return r.target?r.target.value:void 0}function Il(r){const e=Gm(r);return At(e)?typeof e=="object"?JSON.stringify(e):String(e):""}function W1(r){return r.detail}function Km(r){return r.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function FO(r){return r.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function Xm(r){return FO(r).toLowerCase()}function*Yd(r,e,n){if(e==null||e.trim()===""){yield*r;return}function t(s){return Xm(s.trim())}const l=t(e);for(const s of r){const o=n(s);(Array.isArray(o)?o:[o]).some(u=>t(u).includes(l))&&(yield s)}}function NO(r={}){return Object.fromEntries(Object.entries(r).filter(([,e])=>e!==void 0))}function PO(r,e={}){return{...r,...NO(e)}}const LO=r=>r.indexOf("--")===0;function Ml(r){return Object.entries(r).filter(e=>LO(e[0])).map(([e,n])=>`${e}: ${n};`).join("")}function NS(...r){return r.filter(At).map(e=>{const n=e.trim();return n.endsWith(";")?n:`${n};`}).join("")}function ks(r,e){return{component:r,props:e}}function HO(){const r=new Set;function e(t){for(const l of r)l(t)}function n(t){return r.add(t),()=>r.delete(t)}return[e,n]}function VO(r){return Jn(r,"tabIndex")&&typeof r.tabIndex=="number"?r.tabIndex:void 0}const PS=["input","button","select","textarea","a[href]","area[href]","iframe","object","embed","[tabindex]",'[contenteditable="true"]','[contenteditable=""]',"audio[controls]","video[controls]","details","summary"].join(", ");function LS(r){const e={focusable:!1},n=VO(r);if(n===void 0||n<0||Jn(r,"disabled")&&r.disabled)return e;const{display:t,visibility:l}=getComputedStyle(r);return t==="none"||l==="hidden"||Jn(r,"type")&&r.type==="hidden"?e:{focusable:!0,tabIndex:n}}function*zO(r){const e=r.querySelectorAll(PS);for(const n of e){const t=LS(n);!t.focusable||(yield{element:n,tabIndex:t.tabIndex})}}function Jm(r){const e=Array.from(zO(r));return e.sort((n,t)=>n.tabIndex-t.tabIndex),e.map(({element:n})=>n)}function HS(r){if(LS(r).focusable)return r;if(!r.parentElement)return;const e=r.parentElement.closest(PS);if(!!e)return HS(e)}function Gl(){const r={};return{set:e=>Fr(r,e),get:()=>Wn(r),getOrError:()=>{const e=Wn(r);if(e===void 0)throw new Error("Value not found in context");return e}}}function BO(r,e){const n=[];for(let t=r;t<=e;t+=1)n.push(t);return n}function qO(r,e){let n=Math.max(r-2,1),t=Math.min(n+4,e);return t-n<4&&(n=Math.max(t-4,1)),t>e-2&&(n=Math.max(t-(6-(e-t)),1)),n<3&&(t=Math.min(t+2-(n-1),e)),{currentWindow:BO(n,t),start:n,end:t,prevPageWindow:Math.max(n-3,1),nextPageWindow:Math.min(t+3,e)}}function UO(r,e){return Math.ceil(r/e)}var Kl={exports:{}},VS={exports:{}};(function(r){var e=function(n){var t=Object.prototype,l=t.hasOwnProperty,s,o=typeof Symbol=="function"?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function f(x,X,fe){return Object.defineProperty(x,X,{value:fe,enumerable:!0,configurable:!0,writable:!0}),x[X]}try{f({},"")}catch(x){f=function(X,fe,he){return X[fe]=he}}function c(x,X,fe,he){var me=X&&X.prototype instanceof S?X:S,ge=Object.create(me.prototype),pe=new Y(he||[]);return ge._invoke=j(x,fe,pe),ge}n.wrap=c;function m(x,X,fe){try{return{type:"normal",arg:x.call(X,fe)}}catch(he){return{type:"throw",arg:he}}}var d="suspendedStart",g="suspendedYield",h="executing",b="completed",w={};function S(){}function T(){}function M(){}var A={};A[i]=function(){return this};var D=Object.getPrototypeOf,O=D&&D(D(K([])));O&&O!==t&&l.call(O,i)&&(A=O);var F=M.prototype=S.prototype=Object.create(A);T.prototype=F.constructor=M,M.constructor=T,T.displayName=f(M,u,"GeneratorFunction");function P(x){["next","throw","return"].forEach(function(X){f(x,X,function(fe){return this._invoke(X,fe)})})}n.isGeneratorFunction=function(x){var X=typeof x=="function"&&x.constructor;return X?X===T||(X.displayName||X.name)==="GeneratorFunction":!1},n.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,M):(x.__proto__=M,f(x,u,"GeneratorFunction")),x.prototype=Object.create(F),x},n.awrap=function(x){return{__await:x}};function B(x,X){function fe(ge,pe,Le,Qe){var Ae=m(x[ge],x,pe);if(Ae.type==="throw")Qe(Ae.arg);else{var Je=Ae.arg,ze=Je.value;return ze&&typeof ze=="object"&&l.call(ze,"__await")?X.resolve(ze.__await).then(function(Ve){fe("next",Ve,Le,Qe)},function(Ve){fe("throw",Ve,Le,Qe)}):X.resolve(ze).then(function(Ve){Je.value=Ve,Le(Je)},function(Ve){return fe("throw",Ve,Le,Qe)})}}var he;function me(ge,pe){function Le(){return new X(function(Qe,Ae){fe(ge,pe,Qe,Ae)})}return he=he?he.then(Le,Le):Le()}this._invoke=me}P(B.prototype),B.prototype[a]=function(){return this},n.AsyncIterator=B,n.async=function(x,X,fe,he,me){me===void 0&&(me=Promise);var ge=new B(c(x,X,fe,he),me);return n.isGeneratorFunction(X)?ge:ge.next().then(function(pe){return pe.done?pe.value:ge.next()})};function j(x,X,fe){var he=d;return function(ge,pe){if(he===h)throw new Error("Generator is already running");if(he===b){if(ge==="throw")throw pe;return ee()}for(fe.method=ge,fe.arg=pe;;){var Le=fe.delegate;if(Le){var Qe=V(Le,fe);if(Qe){if(Qe===w)continue;return Qe}}if(fe.method==="next")fe.sent=fe._sent=fe.arg;else if(fe.method==="throw"){if(he===d)throw he=b,fe.arg;fe.dispatchException(fe.arg)}else fe.method==="return"&&fe.abrupt("return",fe.arg);he=h;var Ae=m(x,X,fe);if(Ae.type==="normal"){if(he=fe.done?b:g,Ae.arg===w)continue;return{value:Ae.arg,done:fe.done}}else Ae.type==="throw"&&(he=b,fe.method="throw",fe.arg=Ae.arg)}}}function V(x,X){var fe=x.iterator[X.method];if(fe===s){if(X.delegate=null,X.method==="throw"){if(x.iterator.return&&(X.method="return",X.arg=s,V(x,X),X.method==="throw"))return w;X.method="throw",X.arg=new TypeError("The iterator does not provide a 'throw' method")}return w}var he=m(fe,x.iterator,X.arg);if(he.type==="throw")return X.method="throw",X.arg=he.arg,X.delegate=null,w;var me=he.arg;if(!me)return X.method="throw",X.arg=new TypeError("iterator result is not an object"),X.delegate=null,w;if(me.done)X[x.resultName]=me.value,X.next=x.nextLoc,X.method!=="return"&&(X.method="next",X.arg=s);else return me;return X.delegate=null,w}P(F),f(F,u,"Generator"),F[i]=function(){return this},F.toString=function(){return"[object Generator]"};function q(x){var X={tryLoc:x[0]};1 in x&&(X.catchLoc=x[1]),2 in x&&(X.finallyLoc=x[2],X.afterLoc=x[3]),this.tryEntries.push(X)}function G(x){var X=x.completion||{};X.type="normal",delete X.arg,x.completion=X}function Y(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(q,this),this.reset(!0)}n.keys=function(x){var X=[];for(var fe in x)X.push(fe);return X.reverse(),function he(){for(;X.length;){var me=X.pop();if(me in x)return he.value=me,he.done=!1,he}return he.done=!0,he}};function K(x){if(x){var X=x[i];if(X)return X.call(x);if(typeof x.next=="function")return x;if(!isNaN(x.length)){var fe=-1,he=function me(){for(;++fe<x.length;)if(l.call(x,fe))return me.value=x[fe],me.done=!1,me;return me.value=s,me.done=!0,me};return he.next=he}}return{next:ee}}n.values=K;function ee(){return{value:s,done:!0}}return Y.prototype={constructor:Y,reset:function(x){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(G),!x)for(var X in this)X.charAt(0)==="t"&&l.call(this,X)&&!isNaN(+X.slice(1))&&(this[X]=s)},stop:function(){this.done=!0;var x=this.tryEntries[0],X=x.completion;if(X.type==="throw")throw X.arg;return this.rval},dispatchException:function(x){if(this.done)throw x;var X=this;function fe(Qe,Ae){return ge.type="throw",ge.arg=x,X.next=Qe,Ae&&(X.method="next",X.arg=s),!!Ae}for(var he=this.tryEntries.length-1;he>=0;--he){var me=this.tryEntries[he],ge=me.completion;if(me.tryLoc==="root")return fe("end");if(me.tryLoc<=this.prev){var pe=l.call(me,"catchLoc"),Le=l.call(me,"finallyLoc");if(pe&&Le){if(this.prev<me.catchLoc)return fe(me.catchLoc,!0);if(this.prev<me.finallyLoc)return fe(me.finallyLoc)}else if(pe){if(this.prev<me.catchLoc)return fe(me.catchLoc,!0)}else if(Le){if(this.prev<me.finallyLoc)return fe(me.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(x,X){for(var fe=this.tryEntries.length-1;fe>=0;--fe){var he=this.tryEntries[fe];if(he.tryLoc<=this.prev&&l.call(he,"finallyLoc")&&this.prev<he.finallyLoc){var me=he;break}}me&&(x==="break"||x==="continue")&&me.tryLoc<=X&&X<=me.finallyLoc&&(me=null);var ge=me?me.completion:{};return ge.type=x,ge.arg=X,me?(this.method="next",this.next=me.finallyLoc,w):this.complete(ge)},complete:function(x,X){if(x.type==="throw")throw x.arg;return x.type==="break"||x.type==="continue"?this.next=x.arg:x.type==="return"?(this.rval=this.arg=x.arg,this.method="return",this.next="end"):x.type==="normal"&&X&&(this.next=X),w},finish:function(x){for(var X=this.tryEntries.length-1;X>=0;--X){var fe=this.tryEntries[X];if(fe.finallyLoc===x)return this.complete(fe.completion,fe.afterLoc),G(fe),w}},catch:function(x){for(var X=this.tryEntries.length-1;X>=0;--X){var fe=this.tryEntries[X];if(fe.tryLoc===x){var he=fe.completion;if(he.type==="throw"){var me=he.arg;G(fe)}return me}}throw new Error("illegal catch attempt")},delegateYield:function(x,X,fe){return this.delegate={iterator:K(x),resultName:X,nextLoc:fe},this.method==="next"&&(this.arg=s),w}},n}(r.exports);try{regeneratorRuntime=e}catch(n){Function("r","regeneratorRuntime = r")(e)}})(VS);(function(r){r.exports=VS.exports})(Kl);var nn={},zS={exports:{}};(function(r){function e(n,t,l){return t in n?Object.defineProperty(n,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):n[t]=l,n}r.exports=e,r.exports.default=r.exports,r.exports.__esModule=!0})(zS);var Gd={exports:{}},BS={exports:{}},Kd={exports:{}};(function(r){function e(n,t){(t==null||t>n.length)&&(t=n.length);for(var l=0,s=new Array(t);l<t;l++)s[l]=n[l];return s}r.exports=e,r.exports.default=r.exports,r.exports.__esModule=!0})(Kd);(function(r){var e=Kd.exports;function n(t){if(Array.isArray(t))return e(t)}r.exports=n,r.exports.default=r.exports,r.exports.__esModule=!0})(BS);var qS={exports:{}};(function(r){function e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}r.exports=e,r.exports.default=r.exports,r.exports.__esModule=!0})(qS);var US={exports:{}};(function(r){var e=Kd.exports;function n(t,l){if(!!t){if(typeof t=="string")return e(t,l);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return e(t,l)}}r.exports=n,r.exports.default=r.exports,r.exports.__esModule=!0})(US);var WS={exports:{}};(function(r){function e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}r.exports=e,r.exports.default=r.exports,r.exports.__esModule=!0})(WS);(function(r){var e=BS.exports,n=qS.exports,t=US.exports,l=WS.exports;function s(o){return e(o)||n(o)||t(o)||l()}r.exports=s,r.exports.default=r.exports,r.exports.__esModule=!0})(Gd);var Xd={},Jd={};function WO(r){return typeof r<"u"}Jd.notUndefined=WO;var jO=Jd,YO=jO.notUndefined;function GO(r){return r!=null&&YO(r[Symbol.iterator])}Xd.isIterable=GO;var jS={};jS.isLoopable=Xd.isIterable;var YS={},KO=Jd,XO=KO.notUndefined;function JO(r){return r==null||XO(r[Symbol.iterator])}YS.isWrappable=JO;var Zd={},sc=Kl.exports,ZO=sc.mark(GS),QO=sc.mark(KS);function GS(r){return sc.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.delegateYield(r,"t0",1);case 1:case"end":return n.stop()}},ZO)}Zd.wrap=GS;function KS(r){return sc.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r==null){n.next=2;break}return n.delegateYield(r,"t0",2);case 2:case"end":return n.stop()}},QO)}Zd.nullableWrap=KS;var Qd={},tf=Gd.exports;function XS(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.length,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return function(){for(var t=arguments.length,l=new Array(t),s=0;s<t;s++)l[s]=arguments[s];return e<=l.length?r.apply(void 0,tf(n).concat(l)):XS(r,e-l.length,[].concat(tf(n),l))}}Qd.curry=XS;function xO(r,e){var n=r.fn,t=r.validateArgs,l=r.variadic,s=r.reduces,o=r.growRight,i=r.minArgs,a=r.maxArgs,u=r.isIterable,f=r.iterableType,c=r.applyOnIterableArgs,m=r.IterableClass;if(e.length>i){var d=!0,g=l?e.findIndex(function(A,D){return u(A)&&D>=i}):Math.min(a,e.length-1),h=l?e.length:g+1;if(l)for(var b=g;b<e.length;b++)d=d&&u(e[b]);else d=u(e[g]);if(e.length>a&&(g===-1||!d)){var w=l?"...".concat(f,"s"):f,S="".concat(n.name," takes up to ").concat(a," arguments, followed by ").concat(w,". ")+"You already passed ".concat(e.length," arguments");throw l?new Error("".concat(S," and the following arguments were not all ").concat(f,"s")):new Error("".concat(S," and the last argument was not ").concat(f))}if(g>=0&&d){for(var T=g;T<h;T++)e[T]=c(e[T]);var M=l?e.slice(g):e[g];return e.splice(g),o||e.reverse(),e.unshift(M),t(e),s?n.apply(void 0,tf(e)):new m(n,e)}}return JS(r,e)}function JS(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return function(){for(var n=arguments.length,t=new Array(n),l=0;l<n;l++)t[l]=arguments[l];if(t.length===0)throw new Error("Cannot make a partial application with no arguments");return t.unshift.apply(t,tf(e)),xO(r,t)}}Qd.variadicCurryWithValidation=JS;var oc={},eF=Symbol.for("_");oc._=eF;var tF=Symbol("__iterate");oc.__iterate=tF;var nF=Symbol("split");oc.split=nF;var zi=zS.exports,ZS=Gd.exports,Mo,rF=Xd,QS=rF.isIterable,lF=jS,sF=lF.isLoopable,oF=YS,xd=oF.isWrappable,iF=Zd,xS=iF.nullableWrap,aF=Qd,uF=aF.variadicCurryWithValidation,e9=oc,Bi=e9._,qi=e9.__iterate;nn.wrap=xS;nn.isIterable=QS;nn.isLoopable=sF;nn.isWrappable=xd;function t9(r){if(xd(r))return QS(r)?r:xS(r);throw typeof r.next=="function"?new TypeError("iter-tools received a value that looked like an iterator but was not iterable. Get help fixing this: https://github.com/iter-tools/iter-tools/wiki/Making-iterators-iterable"):new TypeError("Expected an iterable, null, or undefined")}nn.ensureIterable=t9;function fF(r){"return"in r&&r.return()}nn.callReturn=fF;function fa(r,e){this[Bi]={fn:r,args:e,staticIterator:null}}nn.BaseIterableIterator=fa;Object.assign(fa.prototype,(Mo={constructor:fa},zi(Mo,qi,function(){var r=this[Bi],e=r.fn,n=r.args;return e.apply(void 0,ZS(n))}),zi(Mo,"next",function(){var e=this[Bi];return e.staticIterator=e.staticIterator||this[qi](),e.staticIterator.next()}),zi(Mo,"return",function(e){var n=this[Bi];return n.staticIterator=n.staticIterator||this[qi](),n.staticIterator.return(e)}),zi(Mo,"throw",function(e){var n=this[Bi];return n.staticIterator=n.staticIterator||this[qi](),n.staticIterator.throw(e)}),Mo));function ca(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];fa.apply(this,e)}nn.IterableIterator=ca;ca.prototype=Object.assign(Object.create(fa.prototype),zi({constructor:ca},Symbol.iterator,function(){return this[qi]()}));function cF(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.validateArgs,t=n===void 0?function(b){}:n,l=e.variadic,s=l===void 0?!1:l,o=e.reduces,i=o===void 0?!1:o,a=e.growRight,u=a===void 0?!1:a,f=e.minArgs,c=f===void 0?r.length-1:f,m=e.maxArgs,d=m===void 0?r.length-1:m,g=e.applyOnIterableArgs,h=g===void 0?t9:g;return{fn:r,validateArgs:t,variadic:s,reduces:i,growRight:u,minArgs:c,maxArgs:d,isIterable:xd,iterableType:"iterable",applyOnIterableArgs:h,IterableClass:ca}}function mF(r){return ZS(r)}nn.cache=mF;function dF(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.validateArgs,t=n===void 0?function(l){return l}:n;return function(){for(var l=arguments.length,s=new Array(l),o=0;o<l;o++)s[o]=arguments[o];return t(s),new ca(r,s)}}nn.wrapWithIterableIterator=dF;var _F=function(e,n){return uF(cF(e,n))};nn.iterableCurry=_F;var n9={exports:{}};(function(r){function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}r.exports=e,r.exports.default=r.exports,r.exports.__esModule=!0})(n9);var r9={exports:{}};(function(r){function e(t,l){for(var s=0;s<l.length;s++){var o=l[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function n(t,l,s){return l&&e(t.prototype,l),s&&e(t,s),t}r.exports=n,r.exports.default=r.exports,r.exports.__esModule=!0})(r9);var l9={exports:{}};(function(r){function e(n,t){return r.exports=e=Object.setPrototypeOf||function(s,o){return s.__proto__=o,s},r.exports.default=r.exports,r.exports.__esModule=!0,e(n,t)}r.exports=e,r.exports.default=r.exports,r.exports.__esModule=!0})(l9);var s9={exports:{}},o9={exports:{}};(function(r){function e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}r.exports=e,r.exports.default=r.exports,r.exports.__esModule=!0})(o9);(function(r){var e=l9.exports,n=o9.exports;function t(l,s,o){return n()?(r.exports=t=Reflect.construct,r.exports.default=r.exports,r.exports.__esModule=!0):(r.exports=t=function(a,u,f){var c=[null];c.push.apply(c,u);var m=Function.bind.apply(a,c),d=new m;return f&&e(d,f.prototype),d},r.exports.default=r.exports,r.exports.__esModule=!0),t.apply(null,arguments)}r.exports=t,r.exports.default=r.exports,r.exports.__esModule=!0})(s9);var vi={},i9=Kl.exports,pF=i9.mark(e_);function gF(r,e){var n;if(typeof Symbol>"u"||r[Symbol.iterator]==null){if(Array.isArray(r)||(n=hF(r))||e&&r&&typeof r.length=="number"){n&&(r=n);var t=0,l=function(){};return{s:l,n:function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}},e:function(u){throw u},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,i;return{s:function(){n=r[Symbol.iterator]()},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,i=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw i}}}}function hF(r,e){if(!!r){if(typeof r=="string")return j1(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j1(r,e)}}function j1(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}var bF=nn,$F=bF.iterableCurry;function e_(r,e){var n,t,l,s;return i9.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:n=0,t=gF(r),i.prev=2,t.s();case 4:if((l=t.n()).done){i.next=10;break}return s=l.value,i.next=8,e(s,n++);case 8:i.next=4;break;case 10:i.next=15;break;case 12:i.prev=12,i.t0=i.catch(2),t.e(i.t0);case 15:return i.prev=15,t.f(),i.finish(15);case 18:case"end":return i.stop()}},pF,null,[[2,12,15,18]])}vi.__map=e_;var vF=$F(e_);vi.map=vF;var ic={};function wF(r,e){var n;if(typeof Symbol>"u"||r[Symbol.iterator]==null){if(Array.isArray(r)||(n=kF(r))||e&&r&&typeof r.length=="number"){n&&(r=n);var t=0,l=function(){};return{s:l,n:function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}},e:function(u){throw u},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,i;return{s:function(){n=r[Symbol.iterator]()},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,i=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw i}}}}function kF(r,e){if(!!r){if(typeof r=="string")return Y1(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y1(r,e)}}function Y1(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}var yF=nn,CF=yF.iterableCurry;function a9(r,e){var n=0,t=wF(r),l;try{for(t.s();!(l=t.n()).done;){var s=l.value;if(e(s,n++))return!0}}catch(o){t.e(o)}finally{t.f()}return!1}ic.__some=a9;var SF=CF(a9,{reduces:!0});ic.some=SF;var t_={},uo={};function TF(r,e){var n;if(typeof Symbol>"u"||r[Symbol.iterator]==null){if(Array.isArray(r)||(n=IF(r))||e&&r&&typeof r.length=="number"){n&&(r=n);var t=0,l=function(){};return{s:l,n:function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}},e:function(u){throw u},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,i;return{s:function(){n=r[Symbol.iterator]()},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,i=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw i}}}}function IF(r,e){if(!!r){if(typeof r=="string")return G1(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G1(r,e)}}function G1(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}var EF=nn,MF=EF.ensureIterable;function u9(r){var e=[],n=TF(r),t;try{for(n.s();!(t=n.n()).done;){var l=t.value;e.push(l)}}catch(s){n.e(s)}finally{n.f()}return e}uo.__toArray=u9;function RF(r){return u9(MF(r))}uo.toArray=RF;var f9=Kl.exports,DF=f9.mark(n_),AF=nn,OF=AF.iterableCurry,FF=uo,NF=FF.__toArray;function n_(r,e){var n;return f9.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(n=Array.isArray(r)?r:NF(r),n.length){l.next=3;break}return l.abrupt("return");case 3:if(!e--){l.next=7;break}return l.delegateYield(n,"t0",5);case 5:l.next=3;break;case 7:case"end":return l.stop()}},DF)}t_.__cycleTimes=n_;var PF=OF(n_);t_.cycleTimes=PF;var r_={};function LF(r,e){var n;if(typeof Symbol>"u"||r[Symbol.iterator]==null){if(Array.isArray(r)||(n=HF(r))||e&&r&&typeof r.length=="number"){n&&(r=n);var t=0,l=function(){};return{s:l,n:function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}},e:function(u){throw u},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,i;return{s:function(){n=r[Symbol.iterator]()},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,i=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw i}}}}function HF(r,e){if(!!r){if(typeof r=="string")return K1(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K1(r,e)}}function K1(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}var VF=nn,zF=VF.iterableCurry;function c9(r,e){var n=0,t=LF(r),l;try{for(t.s();!(l=t.n()).done;){var s=l.value;if(!e(s,n++))return!1}}catch(o){t.e(o)}finally{t.f()}return!0}r_.__every=c9;var BF=zF(c9,{reduces:!0});r_.every=BF;var l_={};function qF(r,e){var n;if(typeof Symbol>"u"||r[Symbol.iterator]==null){if(Array.isArray(r)||(n=UF(r))||e&&r&&typeof r.length=="number"){n&&(r=n);var t=0,l=function(){};return{s:l,n:function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}},e:function(u){throw u},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,i;return{s:function(){n=r[Symbol.iterator]()},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,i=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw i}}}}function UF(r,e){if(!!r){if(typeof r=="string")return X1(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X1(r,e)}}function X1(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}var WF=nn,jF=WF.iterableCurry;function m9(r,e,n){var t=0,l=qF(r),s;try{for(l.s();!(s=l.n()).done;){var o=s.value;if(n(o,t++))return o}}catch(i){l.e(i)}finally{l.f()}return e}l_.__findOr=m9;var YF=jF(m9,{growRight:!0,reduces:!0});l_.findOr=YF;var nm={},J1;function GF(){if(J1)return nm;J1=1;function r(l,s){var o;if(typeof Symbol>"u"||l[Symbol.iterator]==null){if(Array.isArray(l)||(o=e(l))||s&&l&&typeof l.length=="number"){o&&(l=o);var i=0,a=function(){};return{s:a,n:function(){return i>=l.length?{done:!0}:{done:!1,value:l[i++]}},e:function(d){throw d},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u=!0,f=!1,c;return{s:function(){o=l[Symbol.iterator]()},n:function(){var d=o.next();return u=d.done,d},e:function(d){f=!0,c=d},f:function(){try{!u&&o.return!=null&&o.return()}finally{if(f)throw c}}}}function e(l,s){if(!!l){if(typeof l=="string")return n(l,s);var o=Object.prototype.toString.call(l).slice(8,-1);if(o==="Object"&&l.constructor&&(o=l.constructor.name),o==="Map"||o==="Set")return Array.from(l);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return n(l,s)}}function n(l,s){(s==null||s>l.length)&&(s=l.length);for(var o=0,i=new Array(s);o<s;o++)i[o]=l[o];return i}function t(l,s){var o=r(l),i;try{for(o.s();!(i=o.n()).done;){var a=i.value;s(a)}}catch(u){o.e(u)}finally{o.f()}}return nm.parallelEach=t,nm}var ac={},d9={},KF=s9.exports,_9=n9.exports,Zm=r9.exports,p9=nn,XF=p9.ensureIterable,JF=p9.callReturn,Vs=Symbol.for("_"),ZF=function(){function r(e){_9(this,r),this.peekr=e}return Zm(r,[{key:"next",value:function(){var n=this.peekr,t=n.current;return n.advance(),t}},{key:"return",value:function(){return this.peekr.return(),{value:void 0,done:!0}}},{key:Symbol.iterator,value:function(){return this}}]),r}(),QF=function(){Zm(r,null,[{key:"from",value:function(n){for(var t=XF(n)[Symbol.iterator](),l=t.next(),s=arguments.length,o=new Array(s>1?s-1:0),i=1;i<s;i++)o[i-1]=arguments[i];return KF(this,[t,l].concat(o))}}]);function r(e,n){_9(this,r),this[Vs]={iterator:e,current:n,index:0}}return Zm(r,[{key:"advance",value:function(){var n=this[Vs];return n.current.done||(n.index++,n.current=n.iterator.next()),this}},{key:"return",value:function(){var n=this[Vs];return this.done||JF(n.iterator),n.current={value:void 0,done:!0},this}},{key:"asIterator",value:function(){return new ZF(this)}},{key:"current",get:function(){return this[Vs].current}},{key:"value",get:function(){return this[Vs].current.value}},{key:"done",get:function(){return this[Vs].current.done}},{key:"index",get:function(){return this[Vs].index}}]),r}();d9.Peekerator=QF;var xF=nn,eN=xF.ensureIterable,tN=d9,nN=tN.Peekerator;function g9(r){return nN.from(r)}ac.__peekerate=g9;function rN(r){return function(e){return r(eN(e))}}var lN=rN(g9);ac.peekerate=lN;var s_={},h9=Kl.exports,sN=h9.mark(o_);function oN(r,e){var n;if(typeof Symbol>"u"||r[Symbol.iterator]==null){if(Array.isArray(r)||(n=iN(r))||e&&r&&typeof r.length=="number"){n&&(r=n);var t=0,l=function(){};return{s:l,n:function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}},e:function(u){throw u},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,i;return{s:function(){n=r[Symbol.iterator]()},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,i=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw i}}}}function iN(r,e){if(!!r){if(typeof r=="string")return Z1(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z1(r,e)}}function Z1(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}var aN=nn,uN=aN.iterableCurry,fN=GF(),cN=fN.parallelEach,mN=ac,dN=mN.__peekerate,_N=vi,pN=_N.__map,gN=ic,Q1=gN.__some,hN=uo,bN=hN.__toArray,x1=function(e){return e.done};function o_(r){var e,n,t,l,s;return h9.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:e=bN(pN(r,dN)),n=Q1(e,x1),i.prev=2;case 3:if(n){i.next=11;break}return i.next=6,e.map(function(a){var u=a.value;return u});case 6:t=oN(e);try{for(t.s();!(l=t.n()).done;)s=l.value,s.advance()}catch(a){t.e(a)}finally{t.f()}n=Q1(e,x1),i.next=3;break;case 11:return i.prev=11,cN(e,function(a){return a.return()}),i.finish(11);case 14:case"end":return i.stop()}},sN,null,[[2,,11,14]])}s_.__zip=o_;var $N=uN(o_,{variadic:!0});s_.zip=$N;var i_={},b9=Kl.exports,vN=b9.mark(a_);function wN(r,e){var n;if(typeof Symbol>"u"||r[Symbol.iterator]==null){if(Array.isArray(r)||(n=kN(r))||e&&r&&typeof r.length=="number"){n&&(r=n);var t=0,l=function(){};return{s:l,n:function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}},e:function(u){throw u},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,i;return{s:function(){n=r[Symbol.iterator]()},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,i=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw i}}}}function kN(r,e){if(!!r){if(typeof r=="string")return eg(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eg(r,e)}}function eg(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}var yN=nn,CN=yN.iterableCurry;function a_(r,e){var n,t,l,s;return b9.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:n=0,t=wN(r),i.prev=2,t.s();case 4:if((l=t.n()).done){i.next=11;break}if(s=l.value,!e(s,n++)){i.next=9;break}return i.next=9,s;case 9:i.next=4;break;case 11:i.next=16;break;case 13:i.prev=13,i.t0=i.catch(2),t.e(i.t0);case 16:return i.prev=16,t.f(),i.finish(16);case 19:case"end":return i.stop()}},vN,null,[[2,13,16,19]])}i_.__filter=a_;var SN=CN(a_);i_.filter=SN;var u_={},$9=Kl.exports,TN=$9.mark(f_),v9=nn,IN=v9.wrapWithIterableIterator,EN=v9.ensureIterable;function f_(){var r,e,n,t,l,s,o=arguments;return $9.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:for(r=o.length,e=new Array(r),n=0;n<r;n++)e[n]=o[n];t=0,l=e;case 2:if(!(t<l.length)){a.next=8;break}return s=l[t],a.delegateYield(EN(s),"t0",5);case 5:t++,a.next=2;break;case 8:case"end":return a.stop()}},TN)}u_.__concat=f_;var MN=IN(f_);u_.concat=MN;var c_={},RN=nn,DN=RN.iterableCurry,AN=t_,ON=AN.__cycleTimes;function w9(r){return ON(r,1/0)}c_.__cycle=w9;var FN=DN(w9);c_.cycle=FN;var m_={},k9=Kl.exports,NN=k9.mark(d_);function PN(r,e){var n;if(typeof Symbol>"u"||r[Symbol.iterator]==null){if(Array.isArray(r)||(n=LN(r))||e&&r&&typeof r.length=="number"){n&&(r=n);var t=0,l=function(){};return{s:l,n:function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}},e:function(u){throw u},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,i;return{s:function(){n=r[Symbol.iterator]()},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,i=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw i}}}}function LN(r,e){if(!!r){if(typeof r=="string")return tg(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tg(r,e)}}function tg(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}var HN=nn,VN=HN.iterableCurry;function d_(r,e){var n,t,l,s,o;return k9.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n=new Set,t=PN(r),a.prev=2,t.s();case 4:if((l=t.n()).done){a.next=14;break}if(s=l.value,o=e?e(s):s,!n.has(o)){a.next=9;break}return a.abrupt("continue",12);case 9:return n.add(o),a.next=12,s;case 12:a.next=4;break;case 14:a.next=19;break;case 16:a.prev=16,a.t0=a.catch(2),t.e(a.t0);case 19:return a.prev=19,t.f(),a.finish(19);case 22:case"end":return a.stop()}},NN,null,[[2,16,19,22]])}m_.__distinct=d_;var zN=VN(d_,{minArgs:0,maxArgs:1});m_.distinct=zN;var __={},BN=nn,qN=BN.iterableCurry,UN=vi,WN=UN.__map;function y9(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return WN(r,function(n,t){return[e+t,n]})}__.__enumerate=y9;var jN=qN(y9,{minArgs:0,maxArgs:1});__.enumerate=jN;var p_={},YN=nn,GN=YN.iterableCurry,KN=l_,XN=KN.__findOr;function C9(r,e){return XN(r,void 0,e)}p_.__find=C9;var JN=GN(C9,{reduces:!0});p_.find=JN;var g_={},h_={},ZN=nn,QN=ZN.iterableCurry,xN=ac,eP=xN.__peekerate;function S9(r,e,n){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(u){return u},l=eP(r);if(l.done)return e;var s=l.value,o=t(s,l.index);for(l.advance();!l.done;){var i=l.value,a=t(i,l.index);n(o,a)&&(s=i,o=a),l.advance()}return s}h_.__findBestOr=S9;var tP=QN(S9,{reduces:!0,minArgs:2,maxArgs:3,growRight:!0});h_.findBestOr=tP;var nP=nn,rP=nP.iterableCurry,lP=h_,sP=lP.__findBestOr;function T9(r,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(t){return t};return sP(r,void 0,e,n)}g_.__findBest=T9;var oP=rP(T9,{reduces:!0,minArgs:1,maxArgs:2,growRight:!0});g_.findBest=oP;var b_={},$_={},I9=nn,iP=I9.iterableCurry,aP=I9.callReturn;function E9(r,e){var n=r[Symbol.iterator](),t=n.next(),l=t.value,s=t.done;return s?e:(aP(n),l)}$_.__firstOr=E9;var uP=iP(E9,{reduces:!0});$_.firstOr=uP;var fP=nn,cP=fP.iterableCurry,mP=$_,dP=mP.__firstOr;function M9(r){return dP(r,void 0)}b_.__first=M9;var _P=cP(M9,{reduces:!0});b_.first=_P;var v_={},R9=Kl.exports,pP=R9.mark(w_);function gP(r,e){var n;if(typeof Symbol>"u"||r[Symbol.iterator]==null){if(Array.isArray(r)||(n=hP(r))||e&&r&&typeof r.length=="number"){n&&(r=n);var t=0,l=function(){};return{s:l,n:function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}},e:function(u){throw u},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,i;return{s:function(){n=r[Symbol.iterator]()},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,i=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw i}}}}function hP(r,e){if(!!r){if(typeof r=="string")return ng(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ng(r,e)}}function ng(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}var bP=nn,$P=bP.iterableCurry,vP=vi,wP=vP.__map;function w_(r,e){var n,t,l;return R9.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:n=gP(wP(r,e)),o.prev=1,n.s();case 3:if((t=n.n()).done){o.next=8;break}return l=t.value,o.delegateYield(l,"t0",6);case 6:o.next=3;break;case 8:o.next=13;break;case 10:o.prev=10,o.t1=o.catch(1),n.e(o.t1);case 13:return o.prev=13,n.f(),o.finish(13);case 16:case"end":return o.stop()}},pP,null,[[1,10,13,16]])}v_.__flatMap=w_;var kP=$P(w_);v_.flatMap=kP;var k_={},D9=Kl.exports,yP=D9.mark(y_);function CP(r,e){var n;if(typeof Symbol>"u"||r[Symbol.iterator]==null){if(Array.isArray(r)||(n=SP(r))||e&&r&&typeof r.length=="number"){n&&(r=n);var t=0,l=function(){};return{s:l,n:function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}},e:function(u){throw u},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,i;return{s:function(){n=r[Symbol.iterator]()},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,i=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw i}}}}function SP(r,e){if(!!r){if(typeof r=="string")return rg(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rg(r,e)}}function rg(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}var TP=nn,IP=TP.iterableCurry;function y_(r,e){var n,t,l,s;return D9.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(e!==0){i.next=2;break}return i.abrupt("return");case 2:n=0,t=CP(r),i.prev=4,t.s();case 6:if((l=t.n()).done){i.next=14;break}return s=l.value,i.next=10,s;case 10:if(++n!==e){i.next=12;break}return i.abrupt("break",14);case 12:i.next=6;break;case 14:i.next=19;break;case 16:i.prev=16,i.t0=i.catch(4),t.e(i.t0);case 19:return i.prev=19,t.f(),i.finish(19);case 22:case"end":return i.stop()}},yP,null,[[4,16,19,22]])}k_.__take=y_;var EP=IP(y_);k_.take=EP;var C_={},S_={};function MP(r,e){var n;if(typeof Symbol>"u"||r[Symbol.iterator]==null){if(Array.isArray(r)||(n=RP(r))||e&&r&&typeof r.length=="number"){n&&(r=n);var t=0,l=function(){};return{s:l,n:function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}},e:function(u){throw u},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,i;return{s:function(){n=r[Symbol.iterator]()},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,i=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw i}}}}function RP(r,e){if(!!r){if(typeof r=="string")return lg(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lg(r,e)}}function lg(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}var DP=nn,AP=DP.iterableCurry;function A9(r,e){var n=e,t=MP(r),l;try{for(t.s();!(l=t.n()).done;){var s=l.value;n=s}}catch(o){t.e(o)}finally{t.f()}return n}S_.__takeLastOr=A9;var OP=AP(A9,{reduces:!0});S_.takeLastOr=OP;var FP=nn,NP=FP.iterableCurry,PP=S_,LP=PP.__takeLastOr;function O9(r){return LP(r,void 0)}C_.__takeLast=O9;var HP=NP(O9,{reduces:!0});C_.takeLast=HP;var T_={};T_.__arrayFrom=uo.__toArray;T_.arrayFrom=uo.toArray;var VP=T_.arrayFrom;const rm=VP;var zP=u_.concat;const BP=zP;var qP=c_.cycle;const UP=qP;var WP=m_.distinct;const jP=WP;var YP=__.enumerate;const F9=YP;var GP=r_.every;const KP=GP;var N9={};function XP(r){for(var e=arguments.length,n=new Array(e>1?e-1:0),t=1;t<e;t++)n[t-1]=arguments[t];return n.reduce(function(l,s){return s(l)},r)}N9.execPipe=XP;var JP=N9.execPipe;const jr=JP;var ZP=i_.filter;const sl=ZP;var QP=p_.find;const xP=QP;var eL=g_.findBest;const tL=eL;var nL=b_.first;const ol=nL;var P9={};function rL(r,e){return e>r}P9.firstHighest=rL;var lL=P9.firstHighest;const sL=lL;var L9={};function oL(r,e){return e<r}L9.firstLowest=oL;var iL=L9.firstLowest;const aL=iL;var uL=v_.flatMap;const fL=uL;var cL=vi.map;const Ln=cL;var mL=ic.some;const Ys=mL;var dL=k_.take;const sg=dL;var _L=C_.takeLast;const pL=_L;var gL=uo.toArray;const hL=gL;var bL=s_.zip;const Ji=bL;function $L(r,e){let{callback:n,references:t}=e;function*l(){if(!!t)for(const u of ve(t))!u||(yield u)}function s(u){const f=u.target;Ys(c=>c.contains(f),l())||r.contains(f)||n(u)}const o="onpointerdown"in document.body?["pointerdown"]:["mousedown","contextmenu"];o.forEach(u=>{document.body.addEventListener(u,s,!0)});function i(u){n=u.callback,t=u.references}function a(){o.forEach(u=>{document.body.removeEventListener(u,s,!0)})}return{update:i,destroy:a}}var Qm={exports:{}};(function(r,e){(function(n,t){t(e)})(Xs,function(n){function t(Ee){if(Ee==null)return window;if(Ee.toString()!=="[object Window]"){var Te=Ee.ownerDocument;return Te&&Te.defaultView||window}return Ee}function l(Ee){return Ee instanceof t(Ee).Element||Ee instanceof Element}function s(Ee){return Ee instanceof t(Ee).HTMLElement||Ee instanceof HTMLElement}function o(Ee){return typeof ShadowRoot<"u"&&(Ee instanceof t(Ee).ShadowRoot||Ee instanceof ShadowRoot)}var i=Math.max,a=Math.min,u=Math.round;function f(){var Ee=navigator.userAgentData;return Ee!=null&&Ee.brands?Ee.brands.map(function(Te){return Te.brand+"/"+Te.version}).join(" "):navigator.userAgent}function c(){return!/^((?!chrome|android).)*safari/i.test(f())}function m(Ee,Te,re){Te===void 0&&(Te=!1),re===void 0&&(re=!1);var ue=Ee.getBoundingClientRect(),be=1,$e=1;Te&&s(Ee)&&(be=Ee.offsetWidth>0&&u(ue.width)/Ee.offsetWidth||1,$e=Ee.offsetHeight>0&&u(ue.height)/Ee.offsetHeight||1);var Ie=(l(Ee)?t(Ee):window).visualViewport,Pe=!c()&&re,Ge=(ue.left+(Pe&&Ie?Ie.offsetLeft:0))/be,Ze=(ue.top+(Pe&&Ie?Ie.offsetTop:0))/$e,tt=ue.width/be,je=ue.height/$e;return{width:tt,height:je,top:Ze,right:Ge+tt,bottom:Ze+je,left:Ge,x:Ge,y:Ze}}function d(Ee){var Te=t(Ee);return{scrollLeft:Te.pageXOffset,scrollTop:Te.pageYOffset}}function g(Ee){return Ee?(Ee.nodeName||"").toLowerCase():null}function h(Ee){return((l(Ee)?Ee.ownerDocument:Ee.document)||window.document).documentElement}function b(Ee){return m(h(Ee)).left+d(Ee).scrollLeft}function w(Ee){return t(Ee).getComputedStyle(Ee)}function S(Ee){var Te=w(Ee),re=Te.overflow,ue=Te.overflowX,be=Te.overflowY;return/auto|scroll|overlay|hidden/.test(re+be+ue)}function T(Ee,Te,re){re===void 0&&(re=!1);var ue,be,$e=s(Te),Ie=s(Te)&&function(je){var it=je.getBoundingClientRect(),bt=u(it.width)/je.offsetWidth||1,Ft=u(it.height)/je.offsetHeight||1;return bt!==1||Ft!==1}(Te),Pe=h(Te),Ge=m(Ee,Ie,re),Ze={scrollLeft:0,scrollTop:0},tt={x:0,y:0};return($e||!$e&&!re)&&((g(Te)!=="body"||S(Pe))&&(Ze=(ue=Te)!==t(ue)&&s(ue)?{scrollLeft:(be=ue).scrollLeft,scrollTop:be.scrollTop}:d(ue)),s(Te)?((tt=m(Te,!0)).x+=Te.clientLeft,tt.y+=Te.clientTop):Pe&&(tt.x=b(Pe))),{x:Ge.left+Ze.scrollLeft-tt.x,y:Ge.top+Ze.scrollTop-tt.y,width:Ge.width,height:Ge.height}}function M(Ee){var Te=m(Ee),re=Ee.offsetWidth,ue=Ee.offsetHeight;return Math.abs(Te.width-re)<=1&&(re=Te.width),Math.abs(Te.height-ue)<=1&&(ue=Te.height),{x:Ee.offsetLeft,y:Ee.offsetTop,width:re,height:ue}}function A(Ee){return g(Ee)==="html"?Ee:Ee.assignedSlot||Ee.parentNode||(o(Ee)?Ee.host:null)||h(Ee)}function D(Ee){return["html","body","#document"].indexOf(g(Ee))>=0?Ee.ownerDocument.body:s(Ee)&&S(Ee)?Ee:D(A(Ee))}function O(Ee,Te){var re;Te===void 0&&(Te=[]);var ue=D(Ee),be=ue===((re=Ee.ownerDocument)==null?void 0:re.body),$e=t(ue),Ie=be?[$e].concat($e.visualViewport||[],S(ue)?ue:[]):ue,Pe=Te.concat(Ie);return be?Pe:Pe.concat(O(A(Ie)))}function F(Ee){return["table","td","th"].indexOf(g(Ee))>=0}function P(Ee){return s(Ee)&&w(Ee).position!=="fixed"?Ee.offsetParent:null}function B(Ee){for(var Te=t(Ee),re=P(Ee);re&&F(re)&&w(re).position==="static";)re=P(re);return re&&(g(re)==="html"||g(re)==="body"&&w(re).position==="static")?Te:re||function(ue){var be=/firefox/i.test(f());if(/Trident/i.test(f())&&s(ue)&&w(ue).position==="fixed")return null;var $e=A(ue);for(o($e)&&($e=$e.host);s($e)&&["html","body"].indexOf(g($e))<0;){var Ie=w($e);if(Ie.transform!=="none"||Ie.perspective!=="none"||Ie.contain==="paint"||["transform","perspective"].indexOf(Ie.willChange)!==-1||be&&Ie.willChange==="filter"||be&&Ie.filter&&Ie.filter!=="none")return $e;$e=$e.parentNode}return null}(Ee)||Te}var j="top",V="bottom",q="right",G="left",Y="auto",K=[j,V,q,G],ee="start",x="end",X="viewport",fe="popper",he=K.reduce(function(Ee,Te){return Ee.concat([Te+"-"+ee,Te+"-"+x])},[]),me=[].concat(K,[Y]).reduce(function(Ee,Te){return Ee.concat([Te,Te+"-"+ee,Te+"-"+x])},[]),ge=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function pe(Ee){var Te=new Map,re=new Set,ue=[];function be($e){re.add($e.name),[].concat($e.requires||[],$e.requiresIfExists||[]).forEach(function(Ie){if(!re.has(Ie)){var Pe=Te.get(Ie);Pe&&be(Pe)}}),ue.push($e)}return Ee.forEach(function($e){Te.set($e.name,$e)}),Ee.forEach(function($e){re.has($e.name)||be($e)}),ue}function Le(Ee){return Ee.split("-")[0]}function Qe(Ee,Te){var re=Te.getRootNode&&Te.getRootNode();if(Ee.contains(Te))return!0;if(re&&o(re)){var ue=Te;do{if(ue&&Ee.isSameNode(ue))return!0;ue=ue.parentNode||ue.host}while(ue)}return!1}function Ae(Ee){return Object.assign({},Ee,{left:Ee.x,top:Ee.y,right:Ee.x+Ee.width,bottom:Ee.y+Ee.height})}function Je(Ee,Te,re){return Te===X?Ae(function(ue,be){var $e=t(ue),Ie=h(ue),Pe=$e.visualViewport,Ge=Ie.clientWidth,Ze=Ie.clientHeight,tt=0,je=0;if(Pe){Ge=Pe.width,Ze=Pe.height;var it=c();(it||!it&&be==="fixed")&&(tt=Pe.offsetLeft,je=Pe.offsetTop)}return{width:Ge,height:Ze,x:tt+b(ue),y:je}}(Ee,re)):l(Te)?function(ue,be){var $e=m(ue,!1,be==="fixed");return $e.top=$e.top+ue.clientTop,$e.left=$e.left+ue.clientLeft,$e.bottom=$e.top+ue.clientHeight,$e.right=$e.left+ue.clientWidth,$e.width=ue.clientWidth,$e.height=ue.clientHeight,$e.x=$e.left,$e.y=$e.top,$e}(Te,re):Ae(function(ue){var be,$e=h(ue),Ie=d(ue),Pe=(be=ue.ownerDocument)==null?void 0:be.body,Ge=i($e.scrollWidth,$e.clientWidth,Pe?Pe.scrollWidth:0,Pe?Pe.clientWidth:0),Ze=i($e.scrollHeight,$e.clientHeight,Pe?Pe.scrollHeight:0,Pe?Pe.clientHeight:0),tt=-Ie.scrollLeft+b(ue),je=-Ie.scrollTop;return w(Pe||$e).direction==="rtl"&&(tt+=i($e.clientWidth,Pe?Pe.clientWidth:0)-Ge),{width:Ge,height:Ze,x:tt,y:je}}(h(Ee)))}function ze(Ee,Te,re,ue){var be=Te==="clippingParents"?function(Ge){var Ze=O(A(Ge)),tt=["absolute","fixed"].indexOf(w(Ge).position)>=0&&s(Ge)?B(Ge):Ge;return l(tt)?Ze.filter(function(je){return l(je)&&Qe(je,tt)&&g(je)!=="body"}):[]}(Ee):[].concat(Te),$e=[].concat(be,[re]),Ie=$e[0],Pe=$e.reduce(function(Ge,Ze){var tt=Je(Ee,Ze,ue);return Ge.top=i(tt.top,Ge.top),Ge.right=a(tt.right,Ge.right),Ge.bottom=a(tt.bottom,Ge.bottom),Ge.left=i(tt.left,Ge.left),Ge},Je(Ee,Ie,ue));return Pe.width=Pe.right-Pe.left,Pe.height=Pe.bottom-Pe.top,Pe.x=Pe.left,Pe.y=Pe.top,Pe}function Ve(Ee){return Ee.split("-")[1]}function Be(Ee){return["top","bottom"].indexOf(Ee)>=0?"x":"y"}function qe(Ee){var Te,re=Ee.reference,ue=Ee.element,be=Ee.placement,$e=be?Le(be):null,Ie=be?Ve(be):null,Pe=re.x+re.width/2-ue.width/2,Ge=re.y+re.height/2-ue.height/2;switch($e){case j:Te={x:Pe,y:re.y-ue.height};break;case V:Te={x:Pe,y:re.y+re.height};break;case q:Te={x:re.x+re.width,y:Ge};break;case G:Te={x:re.x-ue.width,y:Ge};break;default:Te={x:re.x,y:re.y}}var Ze=$e?Be($e):null;if(Ze!=null){var tt=Ze==="y"?"height":"width";switch(Ie){case ee:Te[Ze]=Te[Ze]-(re[tt]/2-ue[tt]/2);break;case x:Te[Ze]=Te[Ze]+(re[tt]/2-ue[tt]/2)}}return Te}function ft(Ee){return Object.assign({},{top:0,right:0,bottom:0,left:0},Ee)}function vt(Ee,Te){return Te.reduce(function(re,ue){return re[ue]=Ee,re},{})}function ut(Ee,Te){Te===void 0&&(Te={});var re=Te,ue=re.placement,be=ue===void 0?Ee.placement:ue,$e=re.strategy,Ie=$e===void 0?Ee.strategy:$e,Pe=re.boundary,Ge=Pe===void 0?"clippingParents":Pe,Ze=re.rootBoundary,tt=Ze===void 0?X:Ze,je=re.elementContext,it=je===void 0?fe:je,bt=re.altBoundary,Ft=bt!==void 0&&bt,Ye=re.padding,wt=Ye===void 0?0:Ye,qt=ft(typeof wt!="number"?wt:vt(wt,K)),pn=it===fe?"reference":fe,Kt=Ee.rects.popper,Zt=Ee.elements[Ft?pn:it],Lt=ze(l(Zt)?Zt:Zt.contextElement||h(Ee.elements.popper),Ge,tt,Ie),Vt=m(Ee.elements.reference),cn=qe({reference:Vt,element:Kt,strategy:"absolute",placement:be}),gn=Ae(Object.assign({},Kt,cn)),mn=it===fe?gn:Vt,zn={top:Lt.top-mn.top+qt.top,bottom:mn.bottom-Lt.bottom+qt.bottom,left:Lt.left-mn.left+qt.left,right:mn.right-Lt.right+qt.right},ir=Ee.modifiersData.offset;if(it===fe&&ir){var bl=ir[be];Object.keys(zn).forEach(function($l){var Ql=[q,V].indexOf($l)>=0?1:-1,Vr=[j,V].indexOf($l)>=0?"y":"x";zn[$l]+=bl[Vr]*Ql})}return zn}var Xe={placement:"bottom",modifiers:[],strategy:"absolute"};function dt(){for(var Ee=arguments.length,Te=new Array(Ee),re=0;re<Ee;re++)Te[re]=arguments[re];return!Te.some(function(ue){return!(ue&&typeof ue.getBoundingClientRect=="function")})}function Oe(Ee){Ee===void 0&&(Ee={});var Te=Ee,re=Te.defaultModifiers,ue=re===void 0?[]:re,be=Te.defaultOptions,$e=be===void 0?Xe:be;return function(Ie,Pe,Ge){Ge===void 0&&(Ge=$e);var Ze,tt,je={placement:"bottom",orderedModifiers:[],options:Object.assign({},Xe,$e),modifiersData:{},elements:{reference:Ie,popper:Pe},attributes:{},styles:{}},it=[],bt=!1,Ft={state:je,setOptions:function(wt){var qt=typeof wt=="function"?wt(je.options):wt;Ye(),je.options=Object.assign({},$e,je.options,qt),je.scrollParents={reference:l(Ie)?O(Ie):Ie.contextElement?O(Ie.contextElement):[],popper:O(Pe)};var pn,Kt,Zt=function(Lt){var Vt=pe(Lt);return ge.reduce(function(cn,gn){return cn.concat(Vt.filter(function(mn){return mn.phase===gn}))},[])}((pn=[].concat(ue,je.options.modifiers),Kt=pn.reduce(function(Lt,Vt){var cn=Lt[Vt.name];return Lt[Vt.name]=cn?Object.assign({},cn,Vt,{options:Object.assign({},cn.options,Vt.options),data:Object.assign({},cn.data,Vt.data)}):Vt,Lt},{}),Object.keys(Kt).map(function(Lt){return Kt[Lt]})));return je.orderedModifiers=Zt.filter(function(Lt){return Lt.enabled}),je.orderedModifiers.forEach(function(Lt){var Vt=Lt.name,cn=Lt.options,gn=cn===void 0?{}:cn,mn=Lt.effect;if(typeof mn=="function"){var zn=mn({state:je,name:Vt,instance:Ft,options:gn}),ir=function(){};it.push(zn||ir)}}),Ft.update()},forceUpdate:function(){if(!bt){var wt=je.elements,qt=wt.reference,pn=wt.popper;if(dt(qt,pn)){je.rects={reference:T(qt,B(pn),je.options.strategy==="fixed"),popper:M(pn)},je.reset=!1,je.placement=je.options.placement,je.orderedModifiers.forEach(function(mn){return je.modifiersData[mn.name]=Object.assign({},mn.data)});for(var Kt=0;Kt<je.orderedModifiers.length;Kt++)if(je.reset!==!0){var Zt=je.orderedModifiers[Kt],Lt=Zt.fn,Vt=Zt.options,cn=Vt===void 0?{}:Vt,gn=Zt.name;typeof Lt=="function"&&(je=Lt({state:je,options:cn,name:gn,instance:Ft})||je)}else je.reset=!1,Kt=-1}}},update:(Ze=function(){return new Promise(function(wt){Ft.forceUpdate(),wt(je)})},function(){return tt||(tt=new Promise(function(wt){Promise.resolve().then(function(){tt=void 0,wt(Ze())})})),tt}),destroy:function(){Ye(),bt=!0}};if(!dt(Ie,Pe))return Ft;function Ye(){it.forEach(function(wt){return wt()}),it=[]}return Ft.setOptions(Ge).then(function(wt){!bt&&Ge.onFirstUpdate&&Ge.onFirstUpdate(wt)}),Ft}}var _t={passive:!0},Fe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(Ee){var Te=Ee.state,re=Ee.instance,ue=Ee.options,be=ue.scroll,$e=be===void 0||be,Ie=ue.resize,Pe=Ie===void 0||Ie,Ge=t(Te.elements.popper),Ze=[].concat(Te.scrollParents.reference,Te.scrollParents.popper);return $e&&Ze.forEach(function(tt){tt.addEventListener("scroll",re.update,_t)}),Pe&&Ge.addEventListener("resize",re.update,_t),function(){$e&&Ze.forEach(function(tt){tt.removeEventListener("scroll",re.update,_t)}),Pe&&Ge.removeEventListener("resize",re.update,_t)}},data:{}},mt={name:"popperOffsets",enabled:!0,phase:"read",fn:function(Ee){var Te=Ee.state,re=Ee.name;Te.modifiersData[re]=qe({reference:Te.rects.reference,element:Te.rects.popper,strategy:"absolute",placement:Te.placement})},data:{}},yt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ct(Ee){var Te,re=Ee.popper,ue=Ee.popperRect,be=Ee.placement,$e=Ee.variation,Ie=Ee.offsets,Pe=Ee.position,Ge=Ee.gpuAcceleration,Ze=Ee.adaptive,tt=Ee.roundOffsets,je=Ee.isFixed,it=Ie.x,bt=it===void 0?0:it,Ft=Ie.y,Ye=Ft===void 0?0:Ft,wt=typeof tt=="function"?tt({x:bt,y:Ye}):{x:bt,y:Ye};bt=wt.x,Ye=wt.y;var qt=Ie.hasOwnProperty("x"),pn=Ie.hasOwnProperty("y"),Kt=G,Zt=j,Lt=window;if(Ze){var Vt=B(re),cn="clientHeight",gn="clientWidth";Vt===t(re)&&w(Vt=h(re)).position!=="static"&&Pe==="absolute"&&(cn="scrollHeight",gn="scrollWidth"),Vt=Vt,(be===j||(be===G||be===q)&&$e===x)&&(Zt=V,Ye-=(je&&Vt===Lt&&Lt.visualViewport?Lt.visualViewport.height:Vt[cn])-ue.height,Ye*=Ge?1:-1),(be===G||(be===j||be===V)&&$e===x)&&(Kt=q,bt-=(je&&Vt===Lt&&Lt.visualViewport?Lt.visualViewport.width:Vt[gn])-ue.width,bt*=Ge?1:-1)}var mn,zn=Object.assign({position:Pe},Ze&&yt),ir=tt===!0?function(bl){var $l=bl.x,Ql=bl.y,Vr=window.devicePixelRatio||1;return{x:u($l*Vr)/Vr||0,y:u(Ql*Vr)/Vr||0}}({x:bt,y:Ye}):{x:bt,y:Ye};return bt=ir.x,Ye=ir.y,Ge?Object.assign({},zn,((mn={})[Zt]=pn?"0":"",mn[Kt]=qt?"0":"",mn.transform=(Lt.devicePixelRatio||1)<=1?"translate("+bt+"px, "+Ye+"px)":"translate3d("+bt+"px, "+Ye+"px, 0)",mn)):Object.assign({},zn,((Te={})[Zt]=pn?Ye+"px":"",Te[Kt]=qt?bt+"px":"",Te.transform="",Te))}var lt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(Ee){var Te=Ee.state,re=Ee.options,ue=re.gpuAcceleration,be=ue===void 0||ue,$e=re.adaptive,Ie=$e===void 0||$e,Pe=re.roundOffsets,Ge=Pe===void 0||Pe,Ze={placement:Le(Te.placement),variation:Ve(Te.placement),popper:Te.elements.popper,popperRect:Te.rects.popper,gpuAcceleration:be,isFixed:Te.options.strategy==="fixed"};Te.modifiersData.popperOffsets!=null&&(Te.styles.popper=Object.assign({},Te.styles.popper,ct(Object.assign({},Ze,{offsets:Te.modifiersData.popperOffsets,position:Te.options.strategy,adaptive:Ie,roundOffsets:Ge})))),Te.modifiersData.arrow!=null&&(Te.styles.arrow=Object.assign({},Te.styles.arrow,ct(Object.assign({},Ze,{offsets:Te.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Ge})))),Te.attributes.popper=Object.assign({},Te.attributes.popper,{"data-popper-placement":Te.placement})},data:{}},rt={name:"applyStyles",enabled:!0,phase:"write",fn:function(Ee){var Te=Ee.state;Object.keys(Te.elements).forEach(function(re){var ue=Te.styles[re]||{},be=Te.attributes[re]||{},$e=Te.elements[re];s($e)&&g($e)&&(Object.assign($e.style,ue),Object.keys(be).forEach(function(Ie){var Pe=be[Ie];Pe===!1?$e.removeAttribute(Ie):$e.setAttribute(Ie,Pe===!0?"":Pe)}))})},effect:function(Ee){var Te=Ee.state,re={popper:{position:Te.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(Te.elements.popper.style,re.popper),Te.styles=re,Te.elements.arrow&&Object.assign(Te.elements.arrow.style,re.arrow),function(){Object.keys(Te.elements).forEach(function(ue){var be=Te.elements[ue],$e=Te.attributes[ue]||{},Ie=Object.keys(Te.styles.hasOwnProperty(ue)?Te.styles[ue]:re[ue]).reduce(function(Pe,Ge){return Pe[Ge]="",Pe},{});s(be)&&g(be)&&(Object.assign(be.style,Ie),Object.keys($e).forEach(function(Pe){be.removeAttribute(Pe)}))})}},requires:["computeStyles"]},Xt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(Ee){var Te=Ee.state,re=Ee.options,ue=Ee.name,be=re.offset,$e=be===void 0?[0,0]:be,Ie=me.reduce(function(tt,je){return tt[je]=function(it,bt,Ft){var Ye=Le(it),wt=[G,j].indexOf(Ye)>=0?-1:1,qt=typeof Ft=="function"?Ft(Object.assign({},bt,{placement:it})):Ft,pn=qt[0],Kt=qt[1];return pn=pn||0,Kt=(Kt||0)*wt,[G,q].indexOf(Ye)>=0?{x:Kt,y:pn}:{x:pn,y:Kt}}(je,Te.rects,$e),tt},{}),Pe=Ie[Te.placement],Ge=Pe.x,Ze=Pe.y;Te.modifiersData.popperOffsets!=null&&(Te.modifiersData.popperOffsets.x+=Ge,Te.modifiersData.popperOffsets.y+=Ze),Te.modifiersData[ue]=Ie}},Pt={left:"right",right:"left",bottom:"top",top:"bottom"};function _n(Ee){return Ee.replace(/left|right|bottom|top/g,function(Te){return Pt[Te]})}var Jt={start:"end",end:"start"};function bn(Ee){return Ee.replace(/start|end/g,function(Te){return Jt[Te]})}function Dn(Ee,Te){Te===void 0&&(Te={});var re=Te,ue=re.placement,be=re.boundary,$e=re.rootBoundary,Ie=re.padding,Pe=re.flipVariations,Ge=re.allowedAutoPlacements,Ze=Ge===void 0?me:Ge,tt=Ve(ue),je=tt?Pe?he:he.filter(function(Ft){return Ve(Ft)===tt}):K,it=je.filter(function(Ft){return Ze.indexOf(Ft)>=0});it.length===0&&(it=je);var bt=it.reduce(function(Ft,Ye){return Ft[Ye]=ut(Ee,{placement:Ye,boundary:be,rootBoundary:$e,padding:Ie})[Le(Ye)],Ft},{});return Object.keys(bt).sort(function(Ft,Ye){return bt[Ft]-bt[Ye]})}var at={name:"flip",enabled:!0,phase:"main",fn:function(Ee){var Te=Ee.state,re=Ee.options,ue=Ee.name;if(!Te.modifiersData[ue]._skip){for(var be=re.mainAxis,$e=be===void 0||be,Ie=re.altAxis,Pe=Ie===void 0||Ie,Ge=re.fallbackPlacements,Ze=re.padding,tt=re.boundary,je=re.rootBoundary,it=re.altBoundary,bt=re.flipVariations,Ft=bt===void 0||bt,Ye=re.allowedAutoPlacements,wt=Te.options.placement,qt=Le(wt),pn=Ge||(qt===wt||!Ft?[_n(wt)]:function(vl){if(Le(vl)===Y)return[];var wl=_n(vl);return[bn(vl),wl,bn(wl)]}(wt)),Kt=[wt].concat(pn).reduce(function(vl,wl){return vl.concat(Le(wl)===Y?Dn(Te,{placement:wl,boundary:tt,rootBoundary:je,padding:Ze,flipVariations:Ft,allowedAutoPlacements:Ye}):wl)},[]),Zt=Te.rects.reference,Lt=Te.rects.popper,Vt=new Map,cn=!0,gn=Kt[0],mn=0;mn<Kt.length;mn++){var zn=Kt[mn],ir=Le(zn),bl=Ve(zn)===ee,$l=[j,V].indexOf(ir)>=0,Ql=$l?"width":"height",Vr=ut(Te,{placement:zn,boundary:tt,rootBoundary:je,altBoundary:it,padding:Ze}),kr=$l?bl?q:G:bl?V:j;Zt[Ql]>Lt[Ql]&&(kr=_n(kr));var ps=_n(kr),Ps=[];if($e&&Ps.push(Vr[ir]<=0),Pe&&Ps.push(Vr[kr]<=0,Vr[ps]<=0),Ps.every(function(vl){return vl})){gn=zn,cn=!1;break}Vt.set(zn,Ps)}if(cn)for(var hu=function(vl){var wl=Kt.find(function(bu){var $u=Vt.get(bu);if($u)return $u.slice(0,vl).every(function(vu){return vu})});if(wl)return gn=wl,"break"},So=Ft?3:1;So>0&&hu(So)!=="break";So--);Te.placement!==gn&&(Te.modifiersData[ue]._skip=!0,Te.placement=gn,Te.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function $n(Ee,Te,re){return i(Ee,a(Te,re))}var Cn={name:"preventOverflow",enabled:!0,phase:"main",fn:function(Ee){var Te=Ee.state,re=Ee.options,ue=Ee.name,be=re.mainAxis,$e=be===void 0||be,Ie=re.altAxis,Pe=Ie!==void 0&&Ie,Ge=re.boundary,Ze=re.rootBoundary,tt=re.altBoundary,je=re.padding,it=re.tether,bt=it===void 0||it,Ft=re.tetherOffset,Ye=Ft===void 0?0:Ft,wt=ut(Te,{boundary:Ge,rootBoundary:Ze,padding:je,altBoundary:tt}),qt=Le(Te.placement),pn=Ve(Te.placement),Kt=!pn,Zt=Be(qt),Lt=Zt==="x"?"y":"x",Vt=Te.modifiersData.popperOffsets,cn=Te.rects.reference,gn=Te.rects.popper,mn=typeof Ye=="function"?Ye(Object.assign({},Te.rects,{placement:Te.placement})):Ye,zn=typeof mn=="number"?{mainAxis:mn,altAxis:mn}:Object.assign({mainAxis:0,altAxis:0},mn),ir=Te.modifiersData.offset?Te.modifiersData.offset[Te.placement]:null,bl={x:0,y:0};if(Vt){if($e){var $l,Ql=Zt==="y"?j:G,Vr=Zt==="y"?V:q,kr=Zt==="y"?"height":"width",ps=Vt[Zt],Ps=ps+wt[Ql],hu=ps-wt[Vr],So=bt?-gn[kr]/2:0,vl=pn===ee?cn[kr]:gn[kr],wl=pn===ee?-gn[kr]:-cn[kr],bu=Te.elements.arrow,$u=bt&&bu?M(bu):{width:0,height:0},vu=Te.modifiersData["arrow#persistent"]?Te.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},c1=vu[Ql],m1=vu[Vr],wu=$n(0,cn[kr],$u[kr]),KR=Kt?cn[kr]/2-So-wu-c1-zn.mainAxis:vl-wu-c1-zn.mainAxis,XR=Kt?-cn[kr]/2+So+wu+m1+zn.mainAxis:wl+wu+m1+zn.mainAxis,Xc=Te.elements.arrow&&B(Te.elements.arrow),JR=Xc?Zt==="y"?Xc.clientTop||0:Xc.clientLeft||0:0,d1=($l=ir==null?void 0:ir[Zt])!=null?$l:0,ZR=ps+XR-d1,_1=$n(bt?a(Ps,ps+KR-d1-JR):Ps,ps,bt?i(hu,ZR):hu);Vt[Zt]=_1,bl[Zt]=_1-ps}if(Pe){var p1,QR=Zt==="x"?j:G,xR=Zt==="x"?V:q,Ls=Vt[Lt],ku=Lt==="y"?"height":"width",g1=Ls+wt[QR],h1=Ls-wt[xR],Jc=[j,G].indexOf(qt)!==-1,b1=(p1=ir==null?void 0:ir[Lt])!=null?p1:0,$1=Jc?g1:Ls-cn[ku]-gn[ku]-b1+zn.altAxis,v1=Jc?Ls+cn[ku]+gn[ku]-b1-zn.altAxis:h1,w1=bt&&Jc?function(eD,tD,Zc){var k1=$n(eD,tD,Zc);return k1>Zc?Zc:k1}($1,Ls,v1):$n(bt?$1:g1,Ls,bt?v1:h1);Vt[Lt]=w1,bl[Lt]=w1-Ls}Te.modifiersData[ue]=bl}},requiresIfExists:["offset"]},Bt={name:"arrow",enabled:!0,phase:"main",fn:function(Ee){var Te,re=Ee.state,ue=Ee.name,be=Ee.options,$e=re.elements.arrow,Ie=re.modifiersData.popperOffsets,Pe=Le(re.placement),Ge=Be(Pe),Ze=[G,q].indexOf(Pe)>=0?"height":"width";if($e&&Ie){var tt=function(gn,mn){return ft(typeof(gn=typeof gn=="function"?gn(Object.assign({},mn.rects,{placement:mn.placement})):gn)!="number"?gn:vt(gn,K))}(be.padding,re),je=M($e),it=Ge==="y"?j:G,bt=Ge==="y"?V:q,Ft=re.rects.reference[Ze]+re.rects.reference[Ge]-Ie[Ge]-re.rects.popper[Ze],Ye=Ie[Ge]-re.rects.reference[Ge],wt=B($e),qt=wt?Ge==="y"?wt.clientHeight||0:wt.clientWidth||0:0,pn=Ft/2-Ye/2,Kt=tt[it],Zt=qt-je[Ze]-tt[bt],Lt=qt/2-je[Ze]/2+pn,Vt=$n(Kt,Lt,Zt),cn=Ge;re.modifiersData[ue]=((Te={})[cn]=Vt,Te.centerOffset=Vt-Lt,Te)}},effect:function(Ee){var Te=Ee.state,re=Ee.options.element,ue=re===void 0?"[data-popper-arrow]":re;ue!=null&&(typeof ue!="string"||(ue=Te.elements.popper.querySelector(ue)))&&Qe(Te.elements.popper,ue)&&(Te.elements.arrow=ue)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function or(Ee,Te,re){return re===void 0&&(re={x:0,y:0}),{top:Ee.top-Te.height-re.y,right:Ee.right-Te.width+re.x,bottom:Ee.bottom-Te.height+re.y,left:Ee.left-Te.width-re.x}}function el(Ee){return[j,q,V,G].some(function(Te){return Ee[Te]>=0})}var wr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(Ee){var Te=Ee.state,re=Ee.name,ue=Te.rects.reference,be=Te.rects.popper,$e=Te.modifiersData.preventOverflow,Ie=ut(Te,{elementContext:"reference"}),Pe=ut(Te,{altBoundary:!0}),Ge=or(Ie,ue),Ze=or(Pe,be,$e),tt=el(Ge),je=el(Ze);Te.modifiersData[re]={referenceClippingOffsets:Ge,popperEscapeOffsets:Ze,isReferenceHidden:tt,hasPopperEscaped:je},Te.attributes.popper=Object.assign({},Te.attributes.popper,{"data-popper-reference-hidden":tt,"data-popper-escaped":je})}},gl=Oe({defaultModifiers:[Fe,mt,lt,rt]}),hl=[Fe,mt,lt,rt,Xt,at,Cn,Bt,wr],gr=Oe({defaultModifiers:hl});n.applyStyles=rt,n.arrow=Bt,n.computeStyles=lt,n.createPopper=gr,n.createPopperLite=gl,n.defaultModifiers=hl,n.detectOverflow=ut,n.eventListeners=Fe,n.flip=at,n.hide=wr,n.offset=Xt,n.popperGenerator=Oe,n.popperOffsets=mt,n.preventOverflow=Cn,Object.defineProperty(n,"__esModule",{value:!0})})})(Qm,Qm.exports);function vL(r,e={}){var o;const n=(o=e.matchTriggerWidthPxUpTo)!=null?o:250,t=[{name:"flip"},{name:"preventOverflow",options:{altAxis:!0}},{name:"offset",options:{offset:[0,0]}}],l=[{name:"setMinWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:i=>{const a=Math.min(n,i.state.rects.reference.width);i.state.styles.popper.minWidth=`${a}px`},effect:i=>{const a=i.state.elements.reference.offsetWidth,u=Math.min(n,a);i.state.elements.popper.style.minWidth=`${u}px`}}],s=[...t,...l];return r.forEach(i=>{const a=s.findIndex(u=>u.name===i.name);a===-1?s.push(i):s[a]=i}),s}function I_(r,e){var u;let n,t,l;const s=(u=e.autoReposition)!=null?u:!1;function o(f,c){var m;!f||(n=Qm.exports.createPopper(f,r,{placement:(c==null?void 0:c.placement)||"bottom-start",modifiers:vL((m=c==null?void 0:c.modifiers)!=null?m:[],e.customModifierOptions)}),s&&(l=new ResizeObserver(()=>{n.update()}),l.observe(r)))}function i(){l==null||l.disconnect(),n==null||n.destroy(),t=void 0}function a(f){const{reference:c,options:m}=f;if(!c){i();return}if(!n){o(c,m);return}if(t!==c){i(),o(c,m),t=c;return}m&&n.setOptions(m)}return o(e.reference,e.options),{update:a,destroy:i}}function og(r){const e=r.clientX,n=r.clientY;return{getBoundingClientRect:()=>({width:0,height:0,x:e,y:n,top:n,right:e,bottom:n,left:e,toJSON:()=>({x:e,y:n})})}}function fo(r,e){var s;const n=(s=e!=null?e:document.querySelector("body"))!=null?s:void 0;function t(o){o&&o instanceof HTMLElement&&o.appendChild(r)}function l(){var o;(o=r.parentElement)==null||o.removeChild(r)}return t(n),{update:t,destroy:l}}const wL={onMove:()=>{},onStart:()=>{},onStop:()=>{},min:0,max:1/0,axis:"x",invert:!1};function kL(r){return{...wL,...r}}function yL(r){return"touches"in r}function ig(r,e){const n=yL(r)?r.touches[0]:r;return e==="x"?n.clientX:n.clientY}function ag(r){r.preventDefault()}function H9(r,e){const n=kL(e);let t=0,l=0,s=0;function o(c){s=c,n.onMove(s)}function i(c){return Math.min(Math.max(c,n.min),n.max)}function a(c){const m=n.invert?-1:1,d=ig(c,n.axis)-l,g=i(t+d*m);o(g)}function u(){n.onStop(s),window.removeEventListener("mousemove",a,!0),window.removeEventListener("touchmove",a,!0),window.removeEventListener("mouseup",u,!0),window.removeEventListener("touchend",u,!0),window.removeEventListener("touchcancel",u,!0),window.removeEventListener("selectstart",ag,!0)}function f(c){c.stopPropagation(),c.preventDefault(),t=n.getStartingValue(),o(t),n.onStart(t),l=ig(c,n.axis),window.addEventListener("mousemove",a,!0),window.addEventListener("touchmove",a,!0),window.addEventListener("mouseup",u,!0),window.addEventListener("touchend",u,!0),window.addEventListener("touchcancel",u,!0),window.addEventListener("selectstart",ag,!0)}return r.addEventListener("mousedown",f),r.addEventListener("touchstart",f,{passive:!1}),{destroy(){r.removeEventListener("mousedown",f),r.removeEventListener("touchstart",f)}}}function uc(r,e={}){let n;const t={autoFocus:!0,autoRestore:!0,...e};function l(o){if(o.key!=="Tab"||o.altKey||o.ctrlKey||o.metaKey)return;o.preventDefault();const i=Jm(r);if(!i.length)return;function a(d){return(d%i.length+i.length)%i.length}const u=i.findIndex(d=>d===o.target),f=o.shiftKey?-1:1,c=a(u+f),m=i.at(c);!m||zo(m)}async function s(){if(await sn(),n=document.activeElement,t.autoFocus){const o=Jm(r).at(0);o&&setTimeout(()=>{zo(o)},10)}else n&&jd(n,"blur")&&n.blur()}return s(),window.addEventListener("keydown",l),{destroy(){window.removeEventListener("keydown",l),t.autoRestore&&zo(n)}}}function CL(r){let e,n;const t=r[7].default,l=ke(t,r,r[6],null);let s=[r[2],{href:r[0]},{class:r[1]}],o={};for(let i=0;i<s.length;i+=1)o=se(o,s[i]);return{c(){e=E("a"),l&&l.c(),Tt(e,o)},m(i,a){v(i,e,a),l&&l.m(e,null),n=!0},p(i,[a]){l&&l.p&&(!n||a&64)&&Ce(l,t,i,i[6],n?ye(t,i[6],a,null):Se(i[6]),null),Tt(e,o=de(s,[a&4&&i[2],(!n||a&1)&&{href:i[0]},(!n||a&2)&&{class:i[1]}]))},i(i){n||(_(l,i),n=!0)},o(i){p(l,i),n=!1},d(i){i&&$(e),l&&l.d(i)}}}function SL(r,e,n){let t;const l=["href","appearance","size","class"];let s=We(e,l),{$$slots:o={},$$scope:i}=e,{href:a}=e,{appearance:u="default"}=e,{size:f="medium"}=e,{class:c=""}=e;return r.$$set=m=>{e=se(se({},e),pt(m)),n(2,s=We(e,l)),"href"in m&&n(0,a=m.href),"appearance"in m&&n(3,u=m.appearance),"size"in m&&n(4,f=m.size),"class"in m&&n(5,c=m.class),"$$scope"in m&&n(6,i=m.$$scope)},r.$$.update=()=>{r.$$.dirty&56&&n(1,t=["anchor-button","btn",`btn-${u}`,`size-${f}`,c].join(" "))},[a,t,s,u,f,c,i,o]}class Zr extends Q{constructor(e){super(),Z(this,e,SL,CL,J,{href:0,appearance:3,size:4,class:5})}}function TL(r){let e,n;const t=r[1].default,l=ke(t,r,r[0],null);return{c(){e=E("span"),l&&l.c(),I(e,"class","badge")},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,[o]){l&&l.p&&(!n||o&1)&&Ce(l,t,s,s[0],n?ye(t,s[0],o,null):Se(s[0]),null)},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function IL(r,e,n){let{$$slots:t={},$$scope:l}=e;return r.$$set=s=>{"$$scope"in s&&n(0,l=s.$$scope)},[l,t]}class E_ extends Q{constructor(e){super(),Z(this,e,IL,TL,J,{})}}function ug(r){let e,n;return e=new E_({props:{$$slots:{default:[EL]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&3&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function EL(r){let e;return{c(){e=L(r[0])},m(n,t){v(n,e,t)},p(n,t){t&1&&z(e,n[0])},d(n){n&&$(e)}}}function ML(r){let e,n,t=r[0]>0&&ug(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,[s]){l[0]>0?t?(t.p(l,s),s&1&&_(t,1)):(t=ug(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function RL(r,e,n){let{value:t}=e;return r.$$set=l=>{"value"in l&&n(0,t=l.value)},[t]}class M_ extends Q{constructor(e){super(),Z(this,e,RL,ML,J,{value:0})}}const DL=r=>({}),fg=r=>({}),AL=r=>({}),cg=r=>({}),OL=r=>({}),mg=r=>({}),FL=r=>({}),dg=r=>({});function _g(r){let e,n;const t=r[3].icon,l=ke(t,r,r[2],dg);return{c(){e=E("div"),l&&l.c(),I(e,"class","icon")},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,o){l&&l.p&&(!n||o&4)&&Ce(l,t,s,s[2],n?ye(t,s[2],o,FL):Se(s[2]),dg)},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function pg(r){let e,n;const t=r[3].title,l=ke(t,r,r[2],mg);return{c(){e=E("div"),l&&l.c(),I(e,"class","title")},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,o){l&&l.p&&(!n||o&4)&&Ce(l,t,s,s[2],n?ye(t,s[2],o,OL):Se(s[2]),mg)},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function gg(r){let e,n;const t=r[3].body,l=ke(t,r,r[2],cg);return{c(){e=E("div"),l&&l.c(),I(e,"class","body")},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,o){l&&l.p&&(!n||o&4)&&Ce(l,t,s,s[2],n?ye(t,s[2],o,AL):Se(s[2]),cg)},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function hg(r){let e,n;const t=r[3].footer,l=ke(t,r,r[2],fg);return{c(){e=E("div"),l&&l.c(),I(e,"class","footer")},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,o){l&&l.p&&(!n||o&4)&&Ce(l,t,s,s[2],n?ye(t,s[2],o,DL):Se(s[2]),fg)},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function NL(r){let e,n,t,l,s,o,i,a=r[1].icon&&_g(r),u=r[1].title&&pg(r),f=r[1].body&&gg(r),c=r[1].footer&&hg(r);return{c(){e=E("div"),n=E("div"),a&&a.c(),t=N(),u&&u.c(),l=N(),f&&f.c(),s=N(),c&&c.c(),I(n,"class","content"),I(e,"class",o=["tutorial",r[0]].join(" "))},m(m,d){v(m,e,d),R(e,n),a&&a.m(n,null),R(n,t),u&&u.m(n,null),R(n,l),f&&f.m(n,null),R(n,s),c&&c.m(n,null),i=!0},p(m,[d]){m[1].icon?a?(a.p(m,d),d&2&&_(a,1)):(a=_g(m),a.c(),_(a,1),a.m(n,t)):a&&(U(),p(a,1,1,()=>{a=null}),W()),m[1].title?u?(u.p(m,d),d&2&&_(u,1)):(u=pg(m),u.c(),_(u,1),u.m(n,l)):u&&(U(),p(u,1,1,()=>{u=null}),W()),m[1].body?f?(f.p(m,d),d&2&&_(f,1)):(f=gg(m),f.c(),_(f,1),f.m(n,s)):f&&(U(),p(f,1,1,()=>{f=null}),W()),m[1].footer?c?(c.p(m,d),d&2&&_(c,1)):(c=hg(m),c.c(),_(c,1),c.m(n,null)):c&&(U(),p(c,1,1,()=>{c=null}),W()),(!i||d&1&&o!==(o=["tutorial",m[0]].join(" ")))&&I(e,"class",o)},i(m){i||(_(a),_(u),_(f),_(c),i=!0)},o(m){p(a),p(u),p(f),p(c),i=!1},d(m){m&&$(e),a&&a.d(),u&&u.d(),f&&f.d(),c&&c.d()}}}function PL(r,e,n){let{$$slots:t={},$$scope:l}=e;const s=mr(t);let{class:o=""}=e;return r.$$set=i=>{"class"in i&&n(0,o=i.class),"$$scope"in i&&n(2,l=i.$$scope)},[o,s,l,t]}class fc extends Q{constructor(e){super(),Z(this,e,PL,NL,J,{class:0})}}function bg(r,e,n){const t=r.slice();return t[2]=e[n],t}function LL(r){let e,n,t;const l=[r[1]];var s=r[0].component;function o(i){let a={};for(let u=0;u<l.length;u+=1)a=se(a,l[u]);return{props:a}}return s&&(e=new s(o())),{c(){e&&C(e.$$.fragment),n=ae()},m(i,a){e&&k(e,i,a),v(i,n,a),t=!0},p(i,a){const u=a&2?de(l,[_e(i[1])]):{};if(s!==(s=i[0].component)){if(e){U();const f=e;p(f.$$.fragment,1,0,()=>{y(f,1)}),W()}s?(e=new s(o()),C(e.$$.fragment),_(e.$$.fragment,1),k(e,n.parentNode,n)):e=null}else s&&e.$set(u)},i(i){t||(e&&_(e.$$.fragment,i),t=!0)},o(i){e&&p(e.$$.fragment,i),t=!1},d(i){i&&$(n),e&&y(e,i)}}}function HL(r){let e,n=r[0],t=[];for(let l=0;l<n.length;l+=1)t[l]=$g(bg(r,n,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=ae()},m(l,s){for(let o=0;o<t.length;o+=1)t[o].m(l,s);v(l,e,s)},p(l,s){if(s&1){n=l[0];let o;for(o=0;o<n.length;o+=1){const i=bg(l,n,o);t[o]?t[o].p(i,s):(t[o]=$g(i),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},i:H,o:H,d(l){Hn(t,l),l&&$(e)}}}function VL(r){let e;return{c(){e=L(r[0])},m(n,t){v(n,e,t)},p(n,t){t&1&&z(e,n[0])},i:H,o:H,d(n){n&&$(e)}}}function $g(r){let e,n=r[2]+"",t;return{c(){e=E("p"),t=L(n)},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&1&&n!==(n=l[2]+"")&&z(t,n)},d(l){l&&$(e)}}}function zL(r){let e,n,t,l,s;const o=[VL,HL,LL],i=[];function a(u,f){return f&1&&(e=null),typeof u[0]=="string"?0:(e==null&&(e=!!Array.isArray(u[0])),e?1:2)}return n=a(r,-1),t=i[n]=o[n](r),{c(){t.c(),l=ae()},m(u,f){i[n].m(u,f),v(u,l,f),s=!0},p(u,[f]){let c=n;n=a(u,f),n===c?i[n].p(u,f):(U(),p(i[c],1,1,()=>{i[c]=null}),W(),t=i[n],t?t.p(u,f):(t=i[n]=o[n](u),t.c()),_(t,1),t.m(l.parentNode,l))},i(u){s||(_(t),s=!0)},o(u){p(t),s=!1},d(u){i[n].d(u),u&&$(l)}}}function BL(r,e,n){let t,{arg:l}=e;return r.$$set=s=>{"arg"in s&&n(0,l=s.arg)},r.$$.update=()=>{r.$$.dirty&1&&n(1,t=Jn(l,"props")&&MS(l.props)?l.props:{})},[l,t]}class Nr extends Q{constructor(e){super(),Z(this,e,BL,zL,J,{arg:0})}}class qL{constructor(e){te(this,"elements",Ue(new Set));te(this,"parent");this.parent=e}add(e){var n;return this.elements.update(t=>{const l=new Set(t);return l.add(e),l}),(n=this.parent)==null||n.add(e),()=>this.delete(e)}delete(e){var n;this.elements.update(t=>{const l=new Set(t);return l.delete(e),l}),(n=this.parent)==null||n.delete(e)}subscribe(e){return this.elements.subscribe(e)}}const UL=r=>({}),vg=r=>({close:r[11]});function wg(r){let e,n,t,l,s,o,i,a,u;const f=[jL,WL],c=[];function m(d,g){return d[13].default?0:d[3]?1:-1}return~(n=m(r))&&(t=c[n]=f[n](r)),{c(){e=E("div"),t&&t.c(),I(e,"class",l=["dropdown content",r[2]].join(" ")),I(e,"data-attachable-dropdown","")},m(d,g){v(d,e,g),~n&&c[n].m(e,null),r[22](e),i=!0,a||(u=[Dt(s=fo.call(null,e,r[4])),Dt(o=I_.call(null,e,{reference:r[1],autoReposition:r[5],options:{placement:r[7],modifiers:[{name:"flip",options:{fallbackPlacements:r[9]}}]},customModifierOptions:{matchTriggerWidthPxUpTo:r[6]}})),Dt($L.call(null,e,{callback:r[11],references:r[10]})),He(e,"click",r[12]),He(e,"click",r[19]),He(e,"mouseenter",r[20]),He(e,"mouseleave",r[21])],a=!0)},p(d,g){let h=n;n=m(d),n===h?~n&&c[n].p(d,g):(t&&(U(),p(c[h],1,1,()=>{c[h]=null}),W()),~n?(t=c[n],t?t.p(d,g):(t=c[n]=f[n](d),t.c()),_(t,1),t.m(e,null)):t=null),(!i||g&4&&l!==(l=["dropdown content",d[2]].join(" ")))&&I(e,"class",l),s&&St(s.update)&&g&16&&s.update.call(null,d[4]),o&&St(o.update)&&g&738&&o.update.call(null,{reference:d[1],autoReposition:d[5],options:{placement:d[7],modifiers:[{name:"flip",options:{fallbackPlacements:d[9]}}]},customModifierOptions:{matchTriggerWidthPxUpTo:d[6]}})},i(d){i||(_(t),i=!0)},o(d){p(t),i=!1},d(d){d&&$(e),~n&&c[n].d(),r[22](null),a=!1,Ot(u)}}}function WL(r){let e,n;return e=new Nr({props:{arg:r[3]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8&&(s.arg=t[3]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function jL(r){let e;const n=r[18].default,t=ke(n,r,r[17],vg);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&131072)&&Ce(t,n,l,l[17],e?ye(n,l[17],s,UL):Se(l[17]),vg)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function YL(r){let e,n,t=r[0]&&wg(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,[s]){l[0]?t?(t.p(l,s),s&1&&_(t,1)):(t=wg(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function GL(r,e,n){let t,l,{$$slots:s={},$$scope:o}=e;const i=mr(s),a=Et();let{trigger:u=void 0}=e,{placements:f=["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]}=e,{preferredPlacement:c=void 0}=e,{isOpen:m=!1}=e,{class:d=""}=e,{closeOnInnerClick:g=!1}=e,{content:h=void 0}=e,{portalTarget:b=void 0}=e,{autoReposition:w=!1}=e,{matchTriggerWidthPxUpTo:S=void 0}=e,T;const M=Wn("dropdownAccompanyingElements");async function A(){T||await sn(),T&&(M==null||M.add(T))}async function D(){T||await sn(),T&&(M==null||M.delete(T))}us(D);const O=new qL(M);Fr("dropdownAccompanyingElements",O);const F=et(O,K=>[u,...K]);function P(K){K?(a("open"),A()):(a("close"),D())}function B(){n(0,m=!1)}function j(){g&&B()}function V(K){Re.call(this,r,K)}function q(K){Re.call(this,r,K)}function G(K){Re.call(this,r,K)}function Y(K){we[K?"unshift":"push"](()=>{T=K,n(8,T)})}return r.$$set=K=>{"trigger"in K&&n(1,u=K.trigger),"placements"in K&&n(14,f=K.placements),"preferredPlacement"in K&&n(15,c=K.preferredPlacement),"isOpen"in K&&n(0,m=K.isOpen),"class"in K&&n(2,d=K.class),"closeOnInnerClick"in K&&n(16,g=K.closeOnInnerClick),"content"in K&&n(3,h=K.content),"portalTarget"in K&&n(4,b=K.portalTarget),"autoReposition"in K&&n(5,w=K.autoReposition),"matchTriggerWidthPxUpTo"in K&&n(6,S=K.matchTriggerWidthPxUpTo),"$$scope"in K&&n(17,o=K.$$scope)},r.$$.update=()=>{var K;r.$$.dirty&49152&&n(7,t=(K=c!=null?c:f[0])!=null?K:"bottom-start"),r.$$.dirty&16512&&n(9,l=(()=>{const ee=f.filter(x=>x!==t);if(ee.length!==0)return ee})()),r.$$.dirty&1&&P(m)},[m,u,d,h,b,w,S,t,T,l,F,B,j,i,f,c,g,o,s,V,q,G,Y]}class Xl extends Q{constructor(e){super(),Z(this,e,GL,YL,J,{trigger:1,placements:14,preferredPlacement:15,isOpen:0,class:2,closeOnInnerClick:16,content:3,portalTarget:4,autoReposition:5,matchTriggerWidthPxUpTo:6})}}const KL=r=>({}),kg=r=>({}),XL=r=>({}),yg=r=>({});function Cg(r){let e,n;return e=new Xl({props:{trigger:r[5],isOpen:r[7],placements:r[1],class:"tooltip trim-child-margins "+r[0],$$slots:{default:[JL]},$$scope:{ctx:r}}}),e.$on("mouseenter",r[14]),e.$on("mouseleave",r[15]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&32&&(s.trigger=t[5]),l&128&&(s.isOpen=t[7]),l&2&&(s.placements=t[1]),l&1&&(s.class="tooltip trim-child-margins "+t[0]),l&65536&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function JL(r){let e;const n=r[10].content,t=ke(n,r,r[16],kg);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&65536)&&Ce(t,n,l,l[16],e?ye(n,l[16],s,KL):Se(l[16]),kg)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function ZL(r){let e,n,t,l,s,o;const i=r[10].trigger,a=ke(i,r,r[16],yg);let u=[{"aria-label":"Help"},r[8]],f={};for(let m=0;m<u.length;m+=1)f=se(f,u[m]);let c=r[2]&&Cg(r);return{c(){e=E("span"),a&&a.c(),n=N(),c&&c.c(),t=ae(),Tt(e,f)},m(m,d){v(m,e,d),a&&a.m(e,null),r[11](e),v(m,n,d),c&&c.m(m,d),v(m,t,d),l=!0,s||(o=[He(e,"mouseenter",r[12]),He(e,"mouseleave",r[13])],s=!0)},p(m,[d]){a&&a.p&&(!l||d&65536)&&Ce(a,i,m,m[16],l?ye(i,m[16],d,XL):Se(m[16]),yg),Tt(e,f=de(u,[{"aria-label":"Help"},d&256&&m[8]])),m[2]?c?(c.p(m,d),d&4&&_(c,1)):(c=Cg(m),c.c(),_(c,1),c.m(t.parentNode,t)):c&&(U(),p(c,1,1,()=>{c=null}),W())},i(m){l||(_(a,m),_(c),l=!0)},o(m){p(a,m),p(c),l=!1},d(m){m&&$(e),a&&a.d(m),r[11](null),m&&$(n),c&&c.d(m),m&&$(t),s=!1,Ot(o)}}}function QL(r,e,n){let t;const l=["tooltipClass","allowHover","placements","enabled"];let s=We(e,l),{$$slots:o={},$$scope:i}=e,{tooltipClass:a=""}=e,{allowHover:u=!1}=e,{placements:f=["top","right","bottom","left"]}=e,{enabled:c=!0}=e,m,d=!1,g=!1,h;function b(A){we[A?"unshift":"push"](()=>{m=A,n(5,m)})}const w=()=>{window.clearTimeout(h),n(3,d=!0)},S=()=>{n(6,h=window.setTimeout(()=>{n(3,d=!1)},100))},T=()=>{n(4,g=!0)},M=()=>{n(4,g=!1)};return r.$$set=A=>{e=se(se({},e),pt(A)),n(8,s=We(e,l)),"tooltipClass"in A&&n(0,a=A.tooltipClass),"allowHover"in A&&n(9,u=A.allowHover),"placements"in A&&n(1,f=A.placements),"enabled"in A&&n(2,c=A.enabled),"$$scope"in A&&n(16,i=A.$$scope)},r.$$.update=()=>{r.$$.dirty&536&&n(7,t=d||u&&g)},[a,f,c,d,g,m,h,t,s,u,o,b,w,S,T,M,i]}class On extends Q{constructor(e){super(),Z(this,e,QL,ZL,J,{tooltipClass:0,allowHover:9,placements:1,enabled:2})}}const xL=r=>({}),Sg=r=>({});function eH(r){let e,n,t,l;const s=r[10].default,o=ke(s,r,r[27],null);let i=[{type:r[2]},{class:r[4]},r[6]],a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return{c(){e=E("button"),o&&o.c(),Tt(e,a),ie(e,"active",r[1])},m(u,f){v(u,e,f),o&&o.m(e,null),e.autofocus&&e.focus(),r[26](e),n=!0,t||(l=[He(e,"click",r[18]),He(e,"keydown",r[19]),He(e,"focus",r[20]),He(e,"blur",r[21]),He(e,"mouseenter",r[22]),He(e,"mouseleave",r[23]),He(e,"mousedown",r[24])],t=!0)},p(u,f){o&&o.p&&(!n||f&134217728)&&Ce(o,s,u,u[27],n?ye(s,u[27],f,null):Se(u[27]),null),Tt(e,a=de(i,[(!n||f&4)&&{type:u[2]},(!n||f&16)&&{class:u[4]},f&64&&u[6]])),ie(e,"active",u[1])},i(u){n||(_(o,u),n=!0)},o(u){p(o,u),n=!1},d(u){u&&$(e),o&&o.d(u),r[26](null),t=!1,Ot(l)}}}function tH(r){let e,n;return e=new On({props:{$$slots:{content:[lH],trigger:[nH]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&134217823&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function nH(r){let e,n,t,l;const s=r[10].default,o=ke(s,r,r[27],null);let i=[{slot:"trigger"},{type:r[2]},{class:r[4]},r[6]],a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return{c(){e=E("button"),o&&o.c(),Tt(e,a),ie(e,"active",r[1])},m(u,f){v(u,e,f),o&&o.m(e,null),e.autofocus&&e.focus(),r[25](e),n=!0,t||(l=[He(e,"click",r[11]),He(e,"keydown",r[12]),He(e,"focus",r[13]),He(e,"blur",r[14]),He(e,"mouseenter",r[15]),He(e,"mouseleave",r[16]),He(e,"mousedown",r[17])],t=!0)},p(u,f){o&&o.p&&(!n||f&134217728)&&Ce(o,s,u,u[27],n?ye(s,u[27],f,null):Se(u[27]),null),Tt(e,a=de(i,[{slot:"trigger"},(!n||f&4)&&{type:u[2]},(!n||f&16)&&{class:u[4]},f&64&&u[6]])),ie(e,"active",u[1])},i(u){n||(_(o,u),n=!0)},o(u){p(o,u),n=!1},d(u){u&&$(e),o&&o.d(u),r[25](null),t=!1,Ot(l)}}}function rH(r){let e;return{c(){e=L(r[3])},m(n,t){v(n,e,t)},p(n,t){t&8&&z(e,n[3])},d(n){n&&$(e)}}}function lH(r){let e,n;const t=r[10].tooltip,l=ke(t,r,r[27],Sg),s=l||rH(r);return{c(){e=E("div"),s&&s.c(),I(e,"slot","content")},m(o,i){v(o,e,i),s&&s.m(e,null),n=!0},p(o,i){l?l.p&&(!n||i&134217728)&&Ce(l,t,o,o[27],n?ye(t,o[27],i,xL):Se(o[27]),Sg):s&&s.p&&(!n||i&8)&&s.p(o,n?i:-1)},i(o){n||(_(s,o),n=!0)},o(o){p(s,o),n=!1},d(o){o&&$(e),s&&s.d(o)}}}function sH(r){let e,n,t,l;const s=[tH,eH],o=[];function i(a,u){return a[3]||a[5].tooltip?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,[u]){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function oH(r,e,n){let t;const l=["appearance","size","active","type","class","element","tooltip"];let s=We(e,l),{$$slots:o={},$$scope:i}=e;const a=mr(o);let{appearance:u="default"}=e,{size:f="medium"}=e,{active:c=!1}=e,{type:m="button"}=e,{class:d=""}=e,{element:g=void 0}=e,{tooltip:h=void 0}=e;function b(K){Re.call(this,r,K)}function w(K){Re.call(this,r,K)}function S(K){Re.call(this,r,K)}function T(K){Re.call(this,r,K)}function M(K){Re.call(this,r,K)}function A(K){Re.call(this,r,K)}function D(K){Re.call(this,r,K)}function O(K){Re.call(this,r,K)}function F(K){Re.call(this,r,K)}function P(K){Re.call(this,r,K)}function B(K){Re.call(this,r,K)}function j(K){Re.call(this,r,K)}function V(K){Re.call(this,r,K)}function q(K){Re.call(this,r,K)}function G(K){we[K?"unshift":"push"](()=>{g=K,n(0,g)})}function Y(K){we[K?"unshift":"push"](()=>{g=K,n(0,g)})}return r.$$set=K=>{e=se(se({},e),pt(K)),n(6,s=We(e,l)),"appearance"in K&&n(7,u=K.appearance),"size"in K&&n(8,f=K.size),"active"in K&&n(1,c=K.active),"type"in K&&n(2,m=K.type),"class"in K&&n(9,d=K.class),"element"in K&&n(0,g=K.element),"tooltip"in K&&n(3,h=K.tooltip),"$$scope"in K&&n(27,i=K.$$scope)},r.$$.update=()=>{r.$$.dirty&896&&n(4,t=["btn",`btn-${u}`,`size-${f}`,d].join(" "))},[g,c,m,h,t,a,s,u,f,d,o,b,w,S,T,M,A,D,O,F,P,B,j,V,q,G,Y,i]}class st extends Q{constructor(e){super(),Z(this,e,oH,sH,J,{appearance:7,size:8,active:1,type:2,class:9,element:0,tooltip:3})}}var iH={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"]},aH=iH,uH={prefix:"fas",iconName:"message",icon:[512,512,["comment-alt"],"f27a","M64 0C28.7 0 0 28.7 0 64V352c0 35.3 28.7 64 64 64h96v80c0 6.1 3.4 11.6 8.8 14.3s11.9 2.1 16.8-1.5L309.3 416H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H64z"]},fH=uH,cH={prefix:"fas",iconName:"info",icon:[192,512,[],"f129","M144 80c0 26.5-21.5 48-48 48s-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48zM0 224c0-17.7 14.3-32 32-32H96c17.7 0 32 14.3 32 32V448h32c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H64V256H32c-17.7 0-32-14.3-32-32z"]},mH={prefix:"fas",iconName:"file-lines",icon:[384,512,[128441,128462,61686,"file-alt","file-text"],"f15c","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM112 256H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},V9=mH,dH={prefix:"fas",iconName:"fingerprint",icon:[512,512,[],"f577","M48 256C48 141.1 141.1 48 256 48c69.3 0 130.6 33.8 168.5 86c7.8 10.7 22.8 13.1 33.5 5.3s13.1-22.8 5.3-33.5C416.8 41.7 341.3 0 256 0C114.6 0 0 114.6 0 256v8c0 13.3 10.7 24 24 24s24-10.7 24-24v-8zm458.5-52.9c-2.7-13-15.5-21.3-28.4-18.5s-21.3 15.5-18.5 28.4c2.9 13.9 4.5 28.3 4.5 43.1v8c0 13.3 10.7 24 24 24s24-10.7 24-24v-8c0-18.1-1.9-35.8-5.5-52.9zM222.1 128.2c10.8-2.9 22.1-4.4 33.9-4.4c73 0 132.2 59.2 132.2 132.2c0 31.1-1.9 62.4-3.9 86c-1 11.8-2 21.6-2.7 28.4c-.4 3.4-.7 6.1-.9 7.9l-.2 2-.1 .5 0 .1 0 0 0 0c-1.6 13.2 7.7 25.1 20.8 26.8s25.1-7.7 26.8-20.8l-23.8-3c23.8 3 23.8 3 23.8 3l0 0 0 0 0 0 0-.2 .1-.6 .3-2.2c.2-1.9 .5-4.8 .9-8.3c.8-7.2 1.8-17.4 2.8-29.6c2-24.4 4.1-57.1 4.1-90c0-99.5-80.7-180.2-180.2-180.2c-15.9 0-31.4 2.1-46.2 6c-12.8 3.4-20.5 16.5-17.1 29.3s16.5 20.5 29.3 17.1zm-74.5 52.1c7.6-10.9 5-25.8-5.9-33.4s-25.8-5-33.4 5.9C87.9 182 75.8 217.6 75.8 256c0 30.1-3.8 58.6-7.6 79.7c-1.9 10.5-3.8 19.1-5.2 24.9c-.7 2.9-1.3 5.2-1.7 6.7c-.2 .7-.3 1.3-.4 1.6l-.1 .4 0 .1 0 0c-3.6 12.7 3.7 26 16.5 29.7s26-3.7 29.7-16.5L83.8 376c23.1 6.6 23.1 6.6 23.1 6.6l0 0 0 0 0-.1 0-.2 .2-.6c.1-.5 .3-1.2 .6-2.1c.5-1.8 1.2-4.4 1.9-7.7c1.6-6.6 3.7-16.1 5.8-27.6c4.2-22.9 8.4-54.4 8.4-88.3c0-28.2 8.8-54.3 23.8-75.7zM256 200c30.9 0 56 25.1 56 56c0 47.1-2.7 86.3-5.5 113.6c-1.4 13.7-2.7 24.3-3.7 31.6c-.5 3.6-.9 6.3-1.2 8.1c-.1 .9-.2 1.6-.3 2l-.1 .5 0 .1 0 0 0 0 0 0c-2.3 13.1 6.5 25.5 19.5 27.8s25.5-6.4 27.8-19.5L324.8 416c23.6 4.1 23.6 4.1 23.6 4.1l0 0 0 0 0-.1 0-.2 .1-.7c.1-.6 .2-1.4 .4-2.4c.3-2.1 .8-5.1 1.3-9c1.1-7.8 2.5-19.1 4-33.4c2.9-28.7 5.7-69.5 5.7-118.4c0-57.4-46.6-104-104-104s-104 46.6-104 104c0 46.7-3.9 83.4-7.7 108.4c-1.9 12.5-3.8 21.9-5.2 28.2c-.7 3.1-1.3 5.5-1.6 6.9c-.2 .7-.3 1.3-.4 1.6l-.1 .3c-3.6 12.7 3.7 26 16.5 29.7s26-3.7 29.7-16.5L160 408c23.1 6.6 23.1 6.6 23.1 6.6l0 0 0 0 0-.1 .1-.2 .2-.7c.1-.5 .3-1.3 .6-2.3c.5-2 1.2-4.8 2-8.4c1.6-7.2 3.7-17.8 5.8-31.3c3-19.2 5.9-44.6 7.3-75.3c.6-12.6 .9-26 .9-40.3c0-30.9 25.1-56 56-56zm24 56c0-13.3-10.7-24-24-24s-24 10.7-24 24c0 45.4-2.6 83.4-6.3 114.5L202 478.3l0 0c-5.3 12.1 .1 26.2 12.2 31.6c12.1 5.4 26.3-.1 31.7-12.2L224 488c21.9 9.7 21.9 9.7 21.9 9.7l0 0 0 0 0-.1 .1-.3 .4-.9c.3-.8 .7-1.8 1.2-3.1c1-2.7 2.4-6.5 4-11.5c3.3-10.1 7.5-24.9 11.7-44.7C271.8 397.3 280 337.6 280 256zM225.7 370.5s0 0 0 0L256 232 225.7 370.5zm0 0c-2.7 22.5-5.9 41.3-9.2 56.6c-3.8 18.2-7.6 31.3-10.3 39.8c-1.4 4.2-2.5 7.3-3.2 9.2c-.4 .9-.6 1.6-.8 2l-.1 .4 23.6-107.9z"]},_H={prefix:"fas",iconName:"file-csv",icon:[384,512,[],"f6dd","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM80 224H96c22.1 0 40 17.9 40 40v8c0 8.8-7.2 16-16 16s-16-7.2-16-16v-8c0-4.4-3.6-8-8-8H80c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8H96c4.4 0 8-3.6 8-8v-8c0-8.8 7.2-16 16-16s16 7.2 16 16v8c0 22.1-17.9 40-40 40H80c-22.1 0-40-17.9-40-40V264c0-22.1 17.9-40 40-40zm72 46.4c0-25.6 20.8-46.4 46.4-46.4H216c8.8 0 16 7.2 16 16s-7.2 16-16 16H198.4c-7.9 0-14.4 6.4-14.4 14.4c0 5.2 2.8 9.9 7.2 12.5l25.4 14.5c14.4 8.3 23.4 23.6 23.4 40.3c0 25.6-20.8 46.4-46.4 46.4H168c-8.8 0-16-7.2-16-16s7.2-16 16-16h25.6c7.9 0 14.4-6.4 14.4-14.4c0-5.2-2.8-9.9-7.2-12.5l-25.4-14.5C160.9 302.4 152 287 152 270.4zM280 240v31.6c0 23 5.5 45.6 16 66c10.5-20.3 16-42.9 16-66V240c0-8.8 7.2-16 16-16s16 7.2 16 16v31.6c0 34.7-10.3 68.7-29.6 97.6l-5.1 7.7c-3 4.5-8 7.1-13.3 7.1s-10.3-2.7-13.3-7.1l-5.1-7.7c-19.3-28.9-29.6-62.9-29.6-97.6V240c0-8.8 7.2-16 16-16s16 7.2 16 16z"]},pH={prefix:"fas",iconName:"pencil",icon:[512,512,[9999,61504,"pencil-alt"],"f303","M421.7 220.3l-11.3 11.3-22.6 22.6-205 205c-6.6 6.6-14.8 11.5-23.8 14.1L30.8 511c-8.4 2.5-17.5 .2-23.7-6.1S-1.5 489.7 1 481.2L38.7 353.1c2.6-9 7.5-17.2 14.1-23.8l205-205 22.6-22.6 11.3-11.3 33.9 33.9 62.1 62.1 33.9 33.9zM96 353.9l-9.3 9.3c-.9 .9-1.6 2.1-2 3.4l-25.3 86 86-25.3c1.3-.4 2.5-1.1 3.4-2l9.3-9.3H112c-8.8 0-16-7.2-16-16V353.9zM453.3 19.3l39.4 39.4c25 25 25 65.5 0 90.5l-14.5 14.5-22.6 22.6-11.3 11.3-33.9-33.9-62.1-62.1L314.3 67.7l11.3-11.3 22.6-22.6 14.5-14.5c25-25 65.5-25 90.5 0z"]},gH=pH,hH={prefix:"fas",iconName:"caret-right",icon:[256,512,[],"f0da","M246.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-9.2-9.2-22.9-11.9-34.9-6.9s-19.8 16.6-19.8 29.6l0 256c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l128-128z"]},bH={prefix:"fas",iconName:"comments",icon:[640,512,[128490,61670],"f086","M208 352c114.9 0 208-78.8 208-176S322.9 0 208 0S0 78.8 0 176c0 38.6 14.7 74.3 39.6 103.4c-3.5 9.4-8.7 17.7-14.2 24.7c-4.8 6.2-9.7 11-13.3 14.3c-1.8 1.6-3.3 2.9-4.3 3.7c-.5 .4-.9 .7-1.1 .8l-.2 .2 0 0 0 0C1 327.2-1.4 334.4 .8 340.9S9.1 352 16 352c21.8 0 43.8-5.6 62.1-12.5c9.2-3.5 17.8-7.4 25.3-11.4C134.1 343.3 169.8 352 208 352zM448 176c0 112.3-99.1 196.9-216.5 207C255.8 457.4 336.4 512 432 512c38.2 0 73.9-8.7 104.7-23.9c7.5 4 16 7.9 25.2 11.4c18.3 6.9 40.3 12.5 62.1 12.5c6.9 0 13.1-4.5 15.2-11.1c2.1-6.6-.2-13.8-5.8-17.9l0 0 0 0-.2-.2c-.2-.2-.6-.4-1.1-.8c-1-.8-2.5-2-4.3-3.7c-3.6-3.3-8.5-8.1-13.3-14.3c-5.5-7-10.7-15.4-14.2-24.7c24.9-29 39.6-64.7 39.6-103.4c0-92.8-84.9-168.9-192.6-175.5c.4 5.1 .6 10.3 .6 15.5z"]},$H={prefix:"fas",iconName:"paste",icon:[512,512,["file-clipboard"],"f0ea","M160 0c-23.7 0-44.4 12.9-55.4 32H48C21.5 32 0 53.5 0 80V400c0 26.5 21.5 48 48 48H192V176c0-44.2 35.8-80 80-80h48V80c0-26.5-21.5-48-48-48H215.4C204.4 12.9 183.7 0 160 0zM272 128c-26.5 0-48 21.5-48 48V448v16c0 26.5 21.5 48 48 48H464c26.5 0 48-21.5 48-48V256H416c-17.7 0-32-14.3-32-32V128H320 272zM160 88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24zm256 40v96h96l-96-96z"]},vH={prefix:"fas",iconName:"clipboard-list",icon:[384,512,[],"f46d","M101.5 64C114.6 26.7 150.2 0 192 0s77.4 26.7 90.5 64H320c35.3 0 64 28.7 64 64V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128C0 92.7 28.7 64 64 64h37.5zM224 96c0-17.7-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32zM160 368c0 8.8 7.2 16 16 16H304c8.8 0 16-7.2 16-16s-7.2-16-16-16H176c-8.8 0-16 7.2-16 16zM96 392c13.3 0 24-10.7 24-24s-10.7-24-24-24s-24 10.7-24 24s10.7 24 24 24zm64-120c0 8.8 7.2 16 16 16H304c8.8 0 16-7.2 16-16s-7.2-16-16-16H176c-8.8 0-16 7.2-16 16zM96 296c13.3 0 24-10.7 24-24s-10.7-24-24-24s-24 10.7-24 24s10.7 24 24 24z"]},wH={prefix:"fas",iconName:"lightbulb",icon:[384,512,[128161],"f0eb","M272 384c9.6-31.9 29.5-59.1 49.2-86.2l0 0c5.2-7.1 10.4-14.2 15.4-21.4c19.8-28.5 31.4-63 31.4-100.3C368 78.8 289.2 0 192 0S16 78.8 16 176c0 37.3 11.6 71.9 31.4 100.3c5 7.2 10.2 14.3 15.4 21.4l0 0c19.8 27.1 39.7 54.4 49.2 86.2H272zM192 512c44.2 0 80-35.8 80-80V416H112v16c0 44.2 35.8 80 80 80zM112 176c0 8.8-7.2 16-16 16s-16-7.2-16-16c0-61.9 50.1-112 112-112c8.8 0 16 7.2 16 16s-7.2 16-16 16c-44.2 0-80 35.8-80 80z"]},z9={prefix:"fas",iconName:"circle-exclamation",icon:[512,512,["exclamation-circle"],"f06a","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zm0-384c13.3 0 24 10.7 24 24V264c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zm32 224c0 17.7-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32z"]},kH={prefix:"fas",iconName:"arrow-right-from-bracket",icon:[576,512,["sign-out"],"f08b","M534.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L434.7 224 224 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l210.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128zM192 96c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-53 0-96 43-96 96l0 256c0 53 43 96 96 96l64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l64 0z"]},yH={prefix:"fas",iconName:"square-check",icon:[448,512,[9745,9989,61510,"check-square"],"f14a","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},CH=yH,SH={prefix:"fas",iconName:"microscope",icon:[512,512,[128300],"f610","M168 32c0-17.7 14.3-32 32-32h16c17.7 0 32 14.3 32 32h8c17.7 0 32 14.3 32 32V288c0 17.7-14.3 32-32 32h-8c0 17.7-14.3 32-32 32H200c-17.7 0-32-14.3-32-32h-8c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32l8 0zM32 448H320c70.7 0 128-57.3 128-128s-57.3-128-128-128V128c106 0 192 86 192 192c0 49.2-18.5 94-48.9 128H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H320 32c-17.7 0-32-14.3-32-32s14.3-32 32-32zm80-64H304c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},TH={prefix:"fas",iconName:"users",icon:[640,512,[],"f0c0","M144 160c-44.2 0-80-35.8-80-80S99.8 0 144 0s80 35.8 80 80s-35.8 80-80 80zm368 0c-44.2 0-80-35.8-80-80s35.8-80 80-80s80 35.8 80 80s-35.8 80-80 80zM0 298.7C0 239.8 47.8 192 106.7 192h42.7c15.9 0 31 3.5 44.6 9.7c-1.3 7.2-1.9 14.7-1.9 22.3c0 38.2 16.8 72.5 43.3 96c-.2 0-.4 0-.7 0H21.3C9.6 320 0 310.4 0 298.7zM405.3 320c-.2 0-.4 0-.7 0c26.6-23.5 43.3-57.8 43.3-96c0-7.6-.7-15-1.9-22.3c13.6-6.3 28.7-9.7 44.6-9.7h42.7C592.2 192 640 239.8 640 298.7c0 11.8-9.6 21.3-21.3 21.3H405.3zM416 224c0 53-43 96-96 96s-96-43-96-96s43-96 96-96s96 43 96 96zM128 485.3C128 411.7 187.7 352 261.3 352H378.7C452.3 352 512 411.7 512 485.3c0 14.7-11.9 26.7-26.7 26.7H154.7c-14.7 0-26.7-11.9-26.7-26.7z"]},IH={prefix:"fas",iconName:"plug",icon:[384,512,[128268],"f1e6","M96 0C78.3 0 64 14.3 64 32v96h64V32c0-17.7-14.3-32-32-32zM288 0c-17.7 0-32 14.3-32 32v96h64V32c0-17.7-14.3-32-32-32zM32 160c-17.7 0-32 14.3-32 32s14.3 32 32 32v32c0 77.4 55 142 128 156.8V480c0 17.7 14.3 32 32 32s32-14.3 32-32V412.8C297 398 352 333.4 352 256V224c17.7 0 32-14.3 32-32s-14.3-32-32-32H32z"]},EH={prefix:"fas",iconName:"stopwatch",icon:[448,512,[9201],"f2f2","M176 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h16V98.4C92.3 113.8 16 200 16 304c0 114.9 93.1 208 208 208s208-93.1 208-208c0-41.8-12.3-80.7-33.5-113.2l24.1-24.1c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L355.7 143c-28.1-23-62.2-38.8-99.7-44.6V64h16c17.7 0 32-14.3 32-32s-14.3-32-32-32H224 176zm72 192V320c0 13.3-10.7 24-24 24s-24-10.7-24-24V192c0-13.3 10.7-24 24-24s24 10.7 24 24z"]},MH={prefix:"fas",iconName:"angle-right",icon:[320,512,[8250],"f105","M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"]},RH={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0S96 57.3 96 128s57.3 128 128 128zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"]},B9={prefix:"fas",iconName:"key",icon:[512,512,[128273],"f084","M336 352c97.2 0 176-78.8 176-176S433.2 0 336 0S160 78.8 160 176c0 18.7 2.9 36.8 8.3 53.7L7 391c-4.5 4.5-7 10.6-7 17v80c0 13.3 10.7 24 24 24h80c13.3 0 24-10.7 24-24V448h40c13.3 0 24-10.7 24-24V384h40c6.4 0 12.5-2.5 17-7l33.3-33.3c16.9 5.4 35 8.3 53.7 8.3zm40-176c-22.1 0-40-17.9-40-40s17.9-40 40-40s40 17.9 40 40s-17.9 40-40 40z"]},q9={prefix:"fas",iconName:"globe",icon:[512,512,[127760],"f0ac","M352 256c0 22.2-1.2 43.6-3.3 64H163.3c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64H348.7c2.2 20.4 3.3 41.8 3.3 64zm28.8-64H503.9c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64H380.8c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64zm112.6-32H376.7c-10-63.9-29.8-117.4-55.3-151.6c78.3 20.7 142 77.5 171.9 151.6zm-149.1 0H167.7c6.1-36.4 15.5-68.6 27-94.7c10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7 0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5c11.6 26 21 58.2 27 94.7zm-209 0H18.6C48.6 85.9 112.2 29.1 190.6 8.4C165.1 42.6 145.3 96.1 135.3 160zM8.1 192H131.2c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64H8.1C2.8 299.5 0 278.1 0 256s2.8-43.5 8.1-64zM194.7 446.6c-11.6-26-20.9-58.2-27-94.6H344.3c-6.1 36.4-15.5 68.6-27 94.6c-10.5 23.6-22.2 40.7-33.5 51.5C272.6 508.8 263.3 512 256 512s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5zM135.3 352c10 63.9 29.8 117.4 55.3 151.6C112.2 482.9 48.6 426.1 18.6 352H135.3zm358.1 0c-30 74.1-93.6 130.9-171.9 151.6c25.5-34.2 45.2-87.7 55.3-151.6H493.4z"]},DH={prefix:"fas",iconName:"shapes",icon:[512,512,["triangle-circle-square"],"f61f","M315.4 15.5C309.7 5.9 299.2 0 288 0s-21.7 5.9-27.4 15.5l-96 160c-5.9 9.9-6.1 22.2-.4 32.2s16.3 16.2 27.8 16.2H384c11.5 0 22.2-6.2 27.8-16.2s5.5-22.3-.4-32.2l-96-160zM288 312V456c0 22.1 17.9 40 40 40H472c22.1 0 40-17.9 40-40V312c0-22.1-17.9-40-40-40H328c-22.1 0-40 17.9-40 40zM128 512c70.7 0 128-57.3 128-128s-57.3-128-128-128S0 313.3 0 384s57.3 128 128 128z"]},AH={prefix:"fas",iconName:"slash",icon:[640,512,[],"f715","M5.1 9.2C13.3-1.2 28.4-3.1 38.8 5.1l592 464c10.4 8.2 12.3 23.3 4.1 33.7s-23.3 12.3-33.7 4.1L9.2 42.9C-1.2 34.7-3.1 19.6 5.1 9.2z"]},OH={prefix:"fas",iconName:"file-arrow-up",icon:[384,512,["file-upload"],"f574","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM216 408c0 13.3-10.7 24-24 24s-24-10.7-24-24V305.9l-31 31c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l72-72c9.4-9.4 24.6-9.4 33.9 0l72 72c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-31-31V408z"]},FH=OH,NH={prefix:"fas",iconName:"user-pen",icon:[640,512,["user-edit"],"f4ff","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0S96 57.3 96 128s57.3 128 128 128zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H322.8c-3.1-8.8-3.7-18.4-1.4-27.8l15-60.1c2.8-11.3 8.6-21.5 16.8-29.7l40.3-40.3c-32.1-31-75.7-50.1-123.9-50.1H178.3zm435.5-68.3c-15.6-15.6-40.9-15.6-56.6 0l-29.4 29.4 71 71 29.4-29.4c15.6-15.6 15.6-40.9 0-56.6l-14.4-14.4zM375.9 417c-4.1 4.1-7 9.2-8.4 14.9l-15 60.1c-1.4 5.5 .2 11.2 4.2 15.2s9.7 5.6 15.2 4.2l60.1-15c5.6-1.4 10.8-4.3 14.9-8.4L576.1 358.7l-71-71L375.9 417z"]},PH=NH,LH={prefix:"fas",iconName:"rotate-left",icon:[512,512,["rotate-back","rotate-backward","undo-alt"],"f2ea","M48.5 224H40c-13.3 0-24-10.7-24-24V72c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2L98.6 96.6c87.6-86.5 228.7-86.2 315.8 1c87.5 87.5 87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3c-62.2-62.2-162.7-62.5-225.3-1L185 183c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8H48.5z"]},HH=LH,VH={prefix:"fas",iconName:"angles-right",icon:[512,512,[187,"angle-double-right"],"f101","M470.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 256 265.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160zm-352 160l160-160c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L210.7 256 73.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0z"]},zH=VH,BH={prefix:"fas",iconName:"arrow-down-wide-short",icon:[576,512,["sort-amount-asc","sort-amount-down"],"f160","M151.6 469.6C145.5 476.2 137 480 128 480s-17.5-3.8-23.6-10.4l-88-96c-11.9-13-11.1-33.3 2-45.2s33.3-11.1 45.2 2L96 365.7V64c0-17.7 14.3-32 32-32s32 14.3 32 32V365.7l32.4-35.4c11.9-13 32.2-13.9 45.2-2s13.9 32.2 2 45.2l-88 96zM320 480c-17.7 0-32-14.3-32-32s14.3-32 32-32h32c17.7 0 32 14.3 32 32s-14.3 32-32 32H320zm0-128c-17.7 0-32-14.3-32-32s14.3-32 32-32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H320zm0-128c-17.7 0-32-14.3-32-32s14.3-32 32-32H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H320zm0-128c-17.7 0-32-14.3-32-32s14.3-32 32-32H544c17.7 0 32 14.3 32 32s-14.3 32-32 32H320z"]},qH=BH,UH={prefix:"fas",iconName:"file-word",icon:[384,512,[],"f1c2","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM111 257.1l26.8 89.2 31.6-90.3c3.4-9.6 12.5-16.1 22.7-16.1s19.3 6.4 22.7 16.1l31.6 90.3L273 257.1c3.8-12.7 17.2-19.9 29.9-16.1s19.9 17.2 16.1 29.9l-48 160c-3 10-12.1 16.9-22.4 17.1s-19.8-6.2-23.2-16.1L192 336.6l-33.3 95.3c-3.4 9.8-12.8 16.3-23.2 16.1s-19.5-7.1-22.4-17.1l-48-160c-3.8-12.7 3.4-26.1 16.1-29.9s26.1 3.4 29.9 16.1z"]},WH={prefix:"fas",iconName:"file-powerpoint",icon:[384,512,[],"f1c4","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM136 240h68c42 0 76 34 76 76s-34 76-76 76H160v32c0 13.3-10.7 24-24 24s-24-10.7-24-24V368 264c0-13.3 10.7-24 24-24zm68 104c15.5 0 28-12.5 28-28s-12.5-28-28-28H160v56h44z"]},jH={prefix:"fas",iconName:"cloud-arrow-down",icon:[640,512,[62337,"cloud-download","cloud-download-alt"],"f0ed","M144 480C64.5 480 0 415.5 0 336c0-62.8 40.2-116.2 96.2-135.9c-.1-2.7-.2-5.4-.2-8.1c0-88.4 71.6-160 160-160c59.3 0 111 32.2 138.7 80.2C409.9 102 428.3 96 448 96c53 0 96 43 96 96c0 12.2-2.3 23.8-6.4 34.6C596 238.4 640 290.1 640 352c0 70.7-57.3 128-128 128H144zm79-167l80 80c9.4 9.4 24.6 9.4 33.9 0l80-80c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-39 39V184c0-13.3-10.7-24-24-24s-24 10.7-24 24V318.1l-39-39c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9z"]},YH=jH,GH={prefix:"fas",iconName:"arrows-rotate",icon:[512,512,[128472,"refresh","sync"],"f021","M105.1 202.6c7.7-21.8 20.2-42.3 37.8-59.8c62.5-62.5 163.8-62.5 226.3 0L386.3 160H336c-17.7 0-32 14.3-32 32s14.3 32 32 32H463.5c0 0 0 0 0 0h.4c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5zM39 289.3c-5 1.5-9.8 4.2-13.7 8.2c-4 4-6.7 8.8-8.1 14c-.3 1.2-.6 2.5-.8 3.8c-.3 1.7-.4 3.4-.4 5.1V448c0 17.7 14.3 32 32 32s32-14.3 32-32V396.9l17.6 17.5 0 0c87.5 87.4 229.3 87.4 316.7 0c24.4-24.4 42.1-53.1 52.9-83.7c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.5 62.5-163.8 62.5-226.3 0l-.1-.1L125.6 352H176c17.7 0 32-14.3 32-32s-14.3-32-32-32H48.4c-1.6 0-3.2 .1-4.8 .3s-3.1 .5-4.6 1z"]},KH=GH,XH={prefix:"fas",iconName:"file-zipper",icon:[384,512,["file-archive"],"f1c6","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM96 48c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16zm0 64c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16zm0 64c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16zm-6.3 71.8c3.7-14 16.4-23.8 30.9-23.8h14.8c14.5 0 27.2 9.7 30.9 23.8l23.5 88.2c1.4 5.4 2.1 10.9 2.1 16.4c0 35.2-28.8 63.7-64 63.7s-64-28.5-64-63.7c0-5.5 .7-11.1 2.1-16.4l23.5-88.2zM112 336c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H112z"]},JH=XH,ZH={prefix:"fas",iconName:"newspaper",icon:[512,512,[128240],"f1ea","M96 96c0-35.3 28.7-64 64-64H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H80c-44.2 0-80-35.8-80-80V128c0-17.7 14.3-32 32-32s32 14.3 32 32V400c0 8.8 7.2 16 16 16s16-7.2 16-16V96zm64 24v80c0 13.3 10.7 24 24 24H424c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24H184c-13.3 0-24 10.7-24 24zm0 184c0 8.8 7.2 16 16 16h96c8.8 0 16-7.2 16-16s-7.2-16-16-16H176c-8.8 0-16 7.2-16 16zm160 0c0 8.8 7.2 16 16 16h96c8.8 0 16-7.2 16-16s-7.2-16-16-16H336c-8.8 0-16 7.2-16 16zM160 400c0 8.8 7.2 16 16 16h96c8.8 0 16-7.2 16-16s-7.2-16-16-16H176c-8.8 0-16 7.2-16 16zm160 0c0 8.8 7.2 16 16 16h96c8.8 0 16-7.2 16-16s-7.2-16-16-16H336c-8.8 0-16 7.2-16 16z"]},QH={prefix:"fas",iconName:"filter-circle-xmark",icon:[576,512,[],"e17b","M3.9 22.9C10.5 8.9 24.5 0 40 0H472c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L396.4 195.6C316.2 212.1 256 283 256 368c0 27.4 6.3 53.4 17.5 76.5c-1.6-.8-3.2-1.8-4.7-2.9l-64-48c-8.1-6-12.8-15.5-12.8-25.6V288.9L9 65.3C-.7 53.4-2.8 36.8 3.9 22.9zM432 512c-79.5 0-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144s-64.5 144-144 144zm59.3-180.7c6.2-6.2 6.2-16.4 0-22.6s-16.4-6.2-22.6 0L432 345.4l-36.7-36.7c-6.2-6.2-16.4-6.2-22.6 0s-6.2 16.4 0 22.6L409.4 368l-36.7 36.7c-6.2 6.2-6.2 16.4 0 22.6s16.4 6.2 22.6 0L432 390.6l36.7 36.7c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6L454.6 368l36.7-36.7z"]},xH={prefix:"fas",iconName:"sort",icon:[320,512,["unsorted"],"f0dc","M137.4 41.4c12.5-12.5 32.8-12.5 45.3 0l128 128c9.2 9.2 11.9 22.9 6.9 34.9s-16.6 19.8-29.6 19.8H32c-12.9 0-24.6-7.8-29.6-19.8s-2.2-25.7 6.9-34.9l128-128zm0 429.3l-128-128c-9.2-9.2-11.9-22.9-6.9-34.9s16.6-19.8 29.6-19.8H288c12.9 0 24.6 7.8 29.6 19.8s2.2 25.7-6.9 34.9l-128 128c-12.5 12.5-32.8 12.5-45.3 0z"]},U9={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M3.9 54.9C10.5 40.9 24.5 32 40 32H472c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9V448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6V320.9L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"]},eV={prefix:"fas",iconName:"question",icon:[320,512,[10067,10068,61736],"3f","M96 96c-17.7 0-32 14.3-32 32s-14.3 32-32 32s-32-14.3-32-32C0 75 43 32 96 32h97c70.1 0 127 56.9 127 127c0 52.4-32.2 99.4-81 118.4l-63 24.5 0 18.1c0 17.7-14.3 32-32 32s-32-14.3-32-32V301.9c0-26.4 16.2-50.1 40.8-59.6l63-24.5C240 208.3 256 185 256 159c0-34.8-28.2-63-63-63H96zm48 384c-22.1 0-40-17.9-40-40s17.9-40 40-40s40 17.9 40 40s-17.9 40-40 40z"]},W9={prefix:"fas",iconName:"arrow-up-right-from-square",icon:[448,512,["external-link"],"f08e","M288 32c-17.7 0-32 14.3-32 32s14.3 32 32 32h50.7L169.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L384 141.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V64c0-17.7-14.3-32-32-32H288zM80 64C35.8 64 0 99.8 0 144V400c0 44.2 35.8 80 80 80H336c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V144c0-8.8 7.2-16 16-16h80c17.7 0 32-14.3 32-32s-14.3-32-32-32H80z"]},tV=W9,nV={prefix:"fas",iconName:"file-excel",icon:[384,512,[],"f1c3","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM155.7 250.2L192 302.1l36.3-51.9c7.6-10.9 22.6-13.5 33.4-5.9s13.5 22.6 5.9 33.4L221.3 344l46.4 66.2c7.6 10.9 5 25.8-5.9 33.4s-25.8 5-33.4-5.9L192 385.8l-36.3 51.9c-7.6 10.9-22.6 13.5-33.4 5.9s-13.5-22.6-5.9-33.4L162.7 344l-46.4-66.2c-7.6-10.9-5-25.8 5.9-33.4s25.8-5 33.4 5.9z"]},j9={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},rV={prefix:"fas",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"]},lV={prefix:"fas",iconName:"file-audio",icon:[384,512,[],"f1c7","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zm2 226.3c37.1 22.4 62 63.1 62 109.7s-24.9 87.3-62 109.7c-7.6 4.6-17.4 2.1-22-5.4s-2.1-17.4 5.4-22C269.4 401.5 288 370.9 288 336s-18.6-65.5-46.5-82.3c-7.6-4.6-10-14.4-5.4-22s14.4-10 22-5.4zm-91.9 30.9c6 2.5 9.9 8.3 9.9 14.8V400c0 6.5-3.9 12.3-9.9 14.8s-12.9 1.1-17.4-3.5L113.4 376H80c-8.8 0-16-7.2-16-16V312c0-8.8 7.2-16 16-16h33.4l35.3-35.3c4.6-4.6 11.5-5.9 17.4-3.5zm51 34.9c6.6-5.9 16.7-5.3 22.6 1.3C249.8 304.6 256 319.6 256 336s-6.2 31.4-16.3 42.7c-5.9 6.6-16 7.1-22.6 1.3s-7.1-16-1.3-22.6c5.1-5.7 8.1-13.1 8.1-21.3s-3.1-15.7-8.1-21.3c-5.9-6.6-5.3-16.7 1.3-22.6z"]},sV={prefix:"fas",iconName:"file-image",icon:[384,512,[128443],"f1c5","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM128 256c0 17.7-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32zm88 32c5.3 0 10.2 2.6 13.2 6.9l88 128c3.4 4.9 3.7 11.3 1 16.5s-8.2 8.6-14.2 8.6H216 176 128 80c-5.8 0-11.1-3.1-13.9-8.1s-2.8-11.2 .2-16.1l48-80c2.9-4.8 8.1-7.8 13.7-7.8s10.8 2.9 13.7 7.8l12.8 21.4 48.3-70.2c3-4.3 7.9-6.9 13.2-6.9z"]},oV={prefix:"fas",iconName:"circle-question",icon:[512,512,[62108,"question-circle"],"f059","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3h58.3c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24V250.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1H222.6c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM288 352c0 17.7-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32z"]},iV=oV,aV={prefix:"fas",iconName:"file-code",icon:[384,512,[],"f1c9","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM153 289l-31 31 31 31c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0L71 337c-9.4-9.4-9.4-24.6 0-33.9l48-48c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9zM265 255l48 48c9.4 9.4 9.4 24.6 0 33.9l-48 48c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l31-31-31-31c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z"]},uV={prefix:"fas",iconName:"floppy-disk",icon:[448,512,[128190,128426,"save"],"f0c7","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V173.3c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32H64zm0 96c0-17.7 14.3-32 32-32H288c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V128zM224 416c-35.3 0-64-28.7-64-64s28.7-64 64-64s64 28.7 64 64s-28.7 64-64 64z"]},fV=uV,cV={prefix:"fas",iconName:"user-gear",icon:[640,512,["user-cog"],"f4fe","M224 256c-70.7 0-128-57.3-128-128S153.3 0 224 0s128 57.3 128 128s-57.3 128-128 128zm-45.7 48h91.4c11.8 0 23.4 1.2 34.5 3.3c-2.1 18.5 7.4 35.6 21.8 44.8c-16.6 10.6-26.7 31.6-20 53.3c4 12.9 9.4 25.5 16.4 37.6s15.2 23.1 24.4 33c15.7 16.9 39.6 18.4 57.2 8.7v.9c0 9.2 2.7 18.5 7.9 26.3H29.7C13.3 512 0 498.7 0 482.3C0 383.8 79.8 304 178.3 304zM436 218.2c0-7 4.5-13.3 11.3-14.8c10.5-2.4 21.5-3.7 32.7-3.7s22.2 1.3 32.7 3.7c6.8 1.5 11.3 7.8 11.3 14.8v30.6c7.9 3.4 15.4 7.7 22.3 12.8l24.9-14.3c6.1-3.5 13.7-2.7 18.5 2.4c7.6 8.1 14.3 17.2 20.1 27.2s10.3 20.4 13.5 31c2.1 6.7-1.1 13.7-7.2 17.2l-25 14.4c.4 4 .7 8.1 .7 12.3s-.2 8.2-.7 12.3l25 14.4c6.1 3.5 9.2 10.5 7.2 17.2c-3.3 10.6-7.8 21-13.5 31s-12.5 19.1-20.1 27.2c-4.8 5.1-12.5 5.9-18.5 2.4l-24.9-14.3c-6.9 5.1-14.3 9.4-22.3 12.8l0 30.6c0 7-4.5 13.3-11.3 14.8c-10.5 2.4-21.5 3.7-32.7 3.7s-22.2-1.3-32.7-3.7c-6.8-1.5-11.3-7.8-11.3-14.8V454.8c-8-3.4-15.6-7.7-22.5-12.9l-24.7 14.3c-6.1 3.5-13.7 2.7-18.5-2.4c-7.6-8.1-14.3-17.2-20.1-27.2s-10.3-20.4-13.5-31c-2.1-6.7 1.1-13.7 7.2-17.2l24.8-14.3c-.4-4.1-.7-8.2-.7-12.4s.2-8.3 .7-12.4L343.8 325c-6.1-3.5-9.2-10.5-7.2-17.2c3.3-10.6 7.7-21 13.5-31s12.5-19.1 20.1-27.2c4.8-5.1 12.4-5.9 18.5-2.4l24.8 14.3c6.9-5.1 14.5-9.4 22.5-12.9V218.2zm92.1 133.5c0-26.5-21.5-48-48.1-48s-48.1 21.5-48.1 48s21.5 48 48.1 48s48.1-21.5 48.1-48z"]},mV={prefix:"fas",iconName:"arrow-left",icon:[448,512,[8592],"f060","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},dV={prefix:"fas",iconName:"align-left",icon:[448,512,[],"f036","M288 64c0 17.7-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32H256c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H256c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]},_V={prefix:"fas",iconName:"file-video",icon:[384,512,[],"f1c8","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM64 288c0-17.7 14.3-32 32-32h96c17.7 0 32 14.3 32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V288zM300.9 397.9L256 368V304l44.9-29.9c2-1.3 4.4-2.1 6.8-2.1c6.8 0 12.3 5.5 12.3 12.3V387.7c0 6.8-5.5 12.3-12.3 12.3c-2.4 0-4.8-.7-6.8-2.1z"]},Y9={prefix:"fas",iconName:"up-right-from-square",icon:[448,512,["external-link-alt"],"f35d","M288 32c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9L306.7 128 169.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L352 173.3l41.4 41.4c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6V64c0-17.7-14.3-32-32-32H288zM80 64C35.8 64 0 99.8 0 144V400c0 44.2 35.8 80 80 80H336c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V144c0-8.8 7.2-16 16-16h80c17.7 0 32-14.3 32-32s-14.3-32-32-32H80z"]},pV=Y9,gV={prefix:"fas",iconName:"file-pdf",icon:[384,512,[],"f1c1","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM64 224H88c30.9 0 56 25.1 56 56s-25.1 56-56 56H80v32c0 8.8-7.2 16-16 16s-16-7.2-16-16V320 240c0-8.8 7.2-16 16-16zm24 80c13.3 0 24-10.7 24-24s-10.7-24-24-24H80v48h8zm72-64c0-8.8 7.2-16 16-16h24c26.5 0 48 21.5 48 48v64c0 26.5-21.5 48-48 48H176c-8.8 0-16-7.2-16-16V240zm32 112h8c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16h-8v96zm96-128h48c8.8 0 16 7.2 16 16s-7.2 16-16 16H304v32h32c8.8 0 16 7.2 16 16s-7.2 16-16 16H304v48c0 8.8-7.2 16-16 16s-16-7.2-16-16V304 240c0-8.8 7.2-16 16-16z"]},hV={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"]},bV={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-144c-17.7 0-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32z"]},$V={prefix:"fas",iconName:"arrow-rotate-left",icon:[512,512,[8634,"arrow-left-rotate","arrow-rotate-back","arrow-rotate-backward","undo"],"f0e2","M125.7 160H176c17.7 0 32 14.3 32 32s-14.3 32-32 32H48c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32s32 14.3 32 32v51.2L97.6 97.6c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3s-163.8-62.5-226.3 0L125.7 160z"]},vV=$V,wV={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336c44.2 0 80-35.8 80-80s-35.8-80-80-80s-80 35.8-80 80s35.8 80 80 80z"]},kV={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 512C114.6 512 0 397.4 0 256S114.6 0 256 0S512 114.6 512 256s-114.6 256-256 256zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},yV={prefix:"fas",iconName:"sliders",icon:[512,512,["sliders-h"],"f1de","M0 416c0-17.7 14.3-32 32-32l54.7 0c12.3-28.3 40.5-48 73.3-48s61 19.7 73.3 48L480 384c17.7 0 32 14.3 32 32s-14.3 32-32 32l-246.7 0c-12.3 28.3-40.5 48-73.3 48s-61-19.7-73.3-48L32 448c-17.7 0-32-14.3-32-32zm192 0c0-17.7-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32zM384 256c0-17.7-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32zm-32-80c32.8 0 61 19.7 73.3 48l54.7 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-54.7 0c-12.3 28.3-40.5 48-73.3 48s-61-19.7-73.3-48L32 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l246.7 0c12.3-28.3 40.5-48 73.3-48zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32s-14.3-32-32-32zm73.3 0L480 64c17.7 0 32 14.3 32 32s-14.3 32-32 32l-214.7 0c-12.3 28.3-40.5 48-73.3 48s-61-19.7-73.3-48L32 128C14.3 128 0 113.7 0 96S14.3 64 32 64l86.7 0C131 35.7 159.2 16 192 16s61 19.7 73.3 48z"]},CV={prefix:"fas",iconName:"wand-sparkles",icon:[512,512,[],"f72b","M464 6.1c9.5-8.5 24-8.1 33 .9l8 8c9 9 9.4 23.5 .9 33l-85.8 95.9c-2.6 2.9-4.1 6.7-4.1 10.7V176c0 8.8-7.2 16-16 16H384.2c-4.6 0-8.9 1.9-11.9 5.3L100.7 500.9C94.3 508 85.3 512 75.8 512c-8.8 0-17.3-3.5-23.5-9.8L9.7 459.7C3.5 453.4 0 445 0 436.2c0-9.5 4-18.5 11.1-24.8l111.6-99.8c3.4-3 5.3-7.4 5.3-11.9V272c0-8.8 7.2-16 16-16h34.6c3.9 0 7.7-1.5 10.7-4.1L464 6.1zM432 288c3.6 0 6.7 2.4 7.7 5.8l14.8 51.7 51.7 14.8c3.4 1 5.8 4.1 5.8 7.7s-2.4 6.7-5.8 7.7l-51.7 14.8-14.8 51.7c-1 3.4-4.1 5.8-7.7 5.8s-6.7-2.4-7.7-5.8l-14.8-51.7-51.7-14.8c-3.4-1-5.8-4.1-5.8-7.7s2.4-6.7 5.8-7.7l51.7-14.8 14.8-51.7c1-3.4 4.1-5.8 7.7-5.8zM87.7 69.8l14.8 51.7 51.7 14.8c3.4 1 5.8 4.1 5.8 7.7s-2.4 6.7-5.8 7.7l-51.7 14.8L87.7 218.2c-1 3.4-4.1 5.8-7.7 5.8s-6.7-2.4-7.7-5.8L57.5 166.5 5.8 151.7c-3.4-1-5.8-4.1-5.8-7.7s2.4-6.7 5.8-7.7l51.7-14.8L72.3 69.8c1-3.4 4.1-5.8 7.7-5.8s6.7 2.4 7.7 5.8zM224 0c3.7 0 6.9 2.5 7.8 6.1l6.8 27.3 27.3 6.8c3.6 .9 6.1 4.1 6.1 7.8s-2.5 6.9-6.1 7.8l-27.3 6.8-6.8 27.3c-.9 3.6-4.1 6.1-7.8 6.1s-6.9-2.5-7.8-6.1l-6.8-27.3-27.3-6.8c-3.6-.9-6.1-4.1-6.1-7.8s2.5-6.9 6.1-7.8l27.3-6.8 6.8-27.3c.9-3.6 4.1-6.1 7.8-6.1z"]},SV={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 360c30.9 0 56 25.1 56 56s-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56zm0-160c30.9 0 56 25.1 56 56s-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56zM120 96c0 30.9-25.1 56-56 56S8 126.9 8 96S33.1 40 64 40s56 25.1 56 56z"]},TV=SV,IV={prefix:"fas",iconName:"diagram-next",icon:[512,512,[],"e476","M512 160c0 35.3-28.7 64-64 64H280v64h46.1c21.4 0 32.1 25.9 17 41L273 399c-9.4 9.4-24.6 9.4-33.9 0L169 329c-15.1-15.1-4.4-41 17-41H232V224H64c-35.3 0-64-28.7-64-64V96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64v64zM448 416V352H365.3l.4-.4c18.4-18.4 20.4-43.7 11-63.6l71.3 0c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64V352c0-35.3 28.7-64 64-64l71.3 0c-9.4 19.9-7.4 45.2 11 63.6l.4 .4H64v64H210.7l5.7 5.7c21.9 21.9 57.3 21.9 79.2 0l5.7-5.7H448z"]},EV={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V274.7l-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7V32zM64 352c-35.3 0-64 28.7-64 64v32c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V416c0-35.3-28.7-64-64-64H346.5l-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352H64zM432 456c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"]},MV={prefix:"fas",iconName:"delete-left",icon:[576,512,[9003,"backspace"],"f55a","M576 128c0-35.3-28.7-64-64-64H205.3c-17 0-33.3 6.7-45.3 18.7L9.4 233.4c-6 6-9.4 14.1-9.4 22.6s3.4 16.6 9.4 22.6L160 429.3c12 12 28.3 18.7 45.3 18.7H512c35.3 0 64-28.7 64-64V128zM271 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"]},G9=MV,RV={prefix:"fas",iconName:"calendar-week",icon:[448,512,[],"f784","M128 0c17.7 0 32 14.3 32 32V64H288V32c0-17.7 14.3-32 32-32s32 14.3 32 32V64h48c26.5 0 48 21.5 48 48v48H0V112C0 85.5 21.5 64 48 64H96V32c0-17.7 14.3-32 32-32zM0 192H448V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V192zm80 64c-8.8 0-16 7.2-16 16v64c0 8.8 7.2 16 16 16H368c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H80z"]},DV={prefix:"fas",iconName:"upload",icon:[512,512,[],"f093","M288 109.3V352c0 17.7-14.3 32-32 32s-32-14.3-32-32V109.3l-73.4 73.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l128-128c12.5-12.5 32.8-12.5 45.3 0l128 128c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L288 109.3zM64 352H192c0 35.3 28.7 64 64 64s64-28.7 64-64H448c35.3 0 64 28.7 64 64v32c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V416c0-35.3 28.7-64 64-64zM432 456c13.3 0 24-10.7 24-24s-10.7-24-24-24s-24 10.7-24 24s10.7 24 24 24z"]},AV={prefix:"fas",iconName:"arrow-down-short-wide",icon:[576,512,["sort-amount-desc","sort-amount-down-alt"],"f884","M151.6 469.6C145.5 476.2 137 480 128 480s-17.5-3.8-23.6-10.4l-88-96c-11.9-13-11.1-33.3 2-45.2s33.3-11.1 45.2 2L96 365.7V64c0-17.7 14.3-32 32-32s32 14.3 32 32V365.7l32.4-35.4c11.9-13 32.2-13.9 45.2-2s13.9 32.2 2 45.2l-88 96zM320 32h32c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128H544c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},OV=AV,FV={prefix:"fas",iconName:"angle-down",icon:[448,512,[8964],"f107","M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},NV={prefix:"fas",iconName:"ellipsis",icon:[448,512,["ellipsis-h"],"f141","M120 256c0 30.9-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56s56 25.1 56 56zm160 0c0 30.9-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56s56 25.1 56 56zm104 56c-30.9 0-56-25.1-56-56s25.1-56 56-56s56 25.1 56 56s-25.1 56-56 56z"]},PV=NV,K9={prefix:"fas",iconName:"file",icon:[384,512,[128196,128459,61462],"f15b","M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128z"]},cc={prefix:"fas",iconName:"link",icon:[640,512,[128279,"chain"],"f0c1","M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"]},LV={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"]},HV=LV,VV={prefix:"fas",iconName:"list-ul",icon:[512,512,["list-dots"],"f0ca","M64 144c26.5 0 48-21.5 48-48s-21.5-48-48-48S16 69.5 16 96s21.5 48 48 48zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zM64 464c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm48-208c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48z"]},zV={prefix:"fas",iconName:"diagram-project",icon:[576,512,["project-diagram"],"f542","M0 80C0 53.5 21.5 32 48 32h96c26.5 0 48 21.5 48 48V96H384V80c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H432c-26.5 0-48-21.5-48-48V160H192v16c0 1.7-.1 3.4-.3 5L272 288h96c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H272c-26.5 0-48-21.5-48-48V336c0-1.7 .1-3.4 .3-5L144 224H48c-26.5 0-48-21.5-48-48V80z"]},BV=zV,qV={prefix:"fas",iconName:"copy",icon:[512,512,[],"f0c5","M224 0c-35.3 0-64 28.7-64 64V288c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H224zM64 160c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H288c35.3 0 64-28.7 64-64V384H288v64H64V224h64V160H64z"]},UV={prefix:"fas",iconName:"grip",icon:[448,512,["grip-horizontal"],"f58d","M128 136c0-22.1-17.9-40-40-40L40 96C17.9 96 0 113.9 0 136l0 48c0 22.1 17.9 40 40 40H88c22.1 0 40-17.9 40-40V136zm0 192c0-22.1-17.9-40-40-40H40c-22.1 0-40 17.9-40 40v48c0 22.1 17.9 40 40 40H88c22.1 0 40-17.9 40-40V328zm32-192v48c0 22.1 17.9 40 40 40h48c22.1 0 40-17.9 40-40V136c0-22.1-17.9-40-40-40l-48 0c-22.1 0-40 17.9-40 40zM288 328c0-22.1-17.9-40-40-40H200c-22.1 0-40 17.9-40 40l0 48c0 22.1 17.9 40 40 40h48c22.1 0 40-17.9 40-40V328zm32-192v48c0 22.1 17.9 40 40 40h48c22.1 0 40-17.9 40-40V136c0-22.1-17.9-40-40-40l-48 0c-22.1 0-40 17.9-40 40zM448 328c0-22.1-17.9-40-40-40H360c-22.1 0-40 17.9-40 40v48c0 22.1 17.9 40 40 40h48c22.1 0 40-17.9 40-40V328z"]},WV={prefix:"fas",iconName:"share-from-square",icon:[576,512,[61509,"share-square"],"f14d","M384 24c0-9.6 5.7-18.2 14.5-22s19-2 26 4.6l144 136c4.8 4.5 7.5 10.8 7.5 17.4s-2.7 12.9-7.5 17.4l-144 136c-7 6.6-17.2 8.4-26 4.6s-14.5-12.5-14.5-22V224H352 337.5c-45 0-81.5 36.5-81.5 81.5c0 22.3 10.3 34.3 19.2 40.5c6.8 4.7 12.8 12 12.8 20.3c0 9.8-8 17.8-17.8 17.8h-2.5c-2.4 0-4.8-.4-7.1-1.4C242.8 374.8 160 333.4 160 240c0-79.5 64.5-144 144-144h80V24zM0 144C0 99.8 35.8 64 80 64H96c17.7 0 32 14.3 32 32s-14.3 32-32 32H80c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16H368c8.8 0 16-7.2 16-16V416c0-17.7 14.3-32 32-32s32 14.3 32 32v16c0 44.2-35.8 80-80 80H80c-44.2 0-80-35.8-80-80V144z"]},jV={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]},YV={prefix:"fas",iconName:"xmark",icon:[320,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"]},R_=YV,GV={prefix:"fas",iconName:"chevron-right",icon:[384,512,[9002],"f054","M342.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L274.7 256 105.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]},KV={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"]},XV={prefix:"fas",iconName:"gears",icon:[640,512,["cogs"],"f085","M308.5 135.3c7.1-6.3 9.9-16.2 6.2-25c-2.3-5.3-4.8-10.5-7.6-15.5L304 89.4c-3-5-6.3-9.9-9.8-14.6c-5.7-7.6-15.7-10.1-24.7-7.1l-28.2 9.3c-10.7-8.8-23-16-36.2-20.9L199 27.1c-1.9-9.3-9.1-16.7-18.5-17.8C173.7 8.4 166.9 8 160 8s-13.7 .4-20.4 1.2c-9.4 1.1-16.6 8.6-18.5 17.8L115 56.1c-13.3 5-25.5 12.1-36.2 20.9L50.5 67.8c-9-3-19-.5-24.7 7.1c-3.5 4.7-6.8 9.6-9.9 14.6l-3 5.3c-2.8 5-5.3 10.2-7.6 15.6c-3.7 8.7-.9 18.6 6.2 25l22.2 19.8C32.6 161.9 32 168.9 32 176s.6 14.1 1.7 20.9L11.5 216.7c-7.1 6.3-9.9 16.2-6.2 25c2.3 5.3 4.8 10.5 7.6 15.6l3 5.2c3 5.1 6.3 9.9 9.9 14.6c5.7 7.6 15.7 10.1 24.7 7.1l28.2-9.3c10.7 8.8 23 16 36.2 20.9l6.1 29.1c1.9 9.3 9.1 16.7 18.5 17.8c6.7 .8 13.5 1.2 20.4 1.2s13.7-.4 20.4-1.2c9.4-1.1 16.6-8.6 18.5-17.8l6.1-29.1c13.3-5 25.5-12.1 36.2-20.9l28.2 9.3c9 3 19 .5 24.7-7.1c3.5-4.7 6.8-9.5 9.8-14.6l3.1-5.4c2.8-5 5.3-10.2 7.6-15.5c3.7-8.7 .9-18.6-6.2-25l-22.2-19.8c1.1-6.8 1.7-13.8 1.7-20.9s-.6-14.1-1.7-20.9l22.2-19.8zM208 176c0 26.5-21.5 48-48 48s-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48zM504.7 500.5c6.3 7.1 16.2 9.9 25 6.2c5.3-2.3 10.5-4.8 15.5-7.6l5.4-3.1c5-3 9.9-6.3 14.6-9.8c7.6-5.7 10.1-15.7 7.1-24.7l-9.3-28.2c8.8-10.7 16-23 20.9-36.2l29.1-6.1c9.3-1.9 16.7-9.1 17.8-18.5c.8-6.7 1.2-13.5 1.2-20.4s-.4-13.7-1.2-20.4c-1.1-9.4-8.6-16.6-17.8-18.5L583.9 307c-5-13.3-12.1-25.5-20.9-36.2l9.3-28.2c3-9 .5-19-7.1-24.7c-4.7-3.5-9.6-6.8-14.6-9.9l-5.3-3c-5-2.8-10.2-5.3-15.6-7.6c-8.7-3.7-18.6-.9-25 6.2l-19.8 22.2c-6.8-1.1-13.8-1.7-20.9-1.7s-14.1 .6-20.9 1.7l-19.8-22.2c-6.3-7.1-16.2-9.9-25-6.2c-5.3 2.3-10.5 4.8-15.6 7.6l-5.2 3c-5.1 3-9.9 6.3-14.6 9.9c-7.6 5.7-10.1 15.7-7.1 24.7l9.3 28.2c-8.8 10.7-16 23-20.9 36.2L315.1 313c-9.3 1.9-16.7 9.1-17.8 18.5c-.8 6.7-1.2 13.5-1.2 20.4s.4 13.7 1.2 20.4c1.1 9.4 8.6 16.6 17.8 18.5l29.1 6.1c5 13.3 12.1 25.5 20.9 36.2l-9.3 28.2c-3 9-.5 19 7.1 24.7c4.7 3.5 9.5 6.8 14.6 9.8l5.4 3.1c5 2.8 10.2 5.3 15.5 7.6c8.7 3.7 18.6 .9 25-6.2l19.8-22.2c6.8 1.1 13.8 1.7 20.9 1.7s14.1-.6 20.9-1.7l19.8 22.2zM464 400c-26.5 0-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48s-21.5 48-48 48z"]},JV={prefix:"fas",iconName:"angles-left",icon:[512,512,[171,"angle-double-left"],"f100","M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160zm352-160l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L301.3 256 438.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0z"]},ZV=JV,QV={prefix:"fas",iconName:"hashtag",icon:[448,512,[62098],"23","M181.3 32.4c17.4 2.9 29.2 19.4 26.3 36.8L197.8 128h95.1l11.5-69.3c2.9-17.4 19.4-29.2 36.8-26.3s29.2 19.4 26.3 36.8L357.8 128H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H347.1L325.8 320H384c17.7 0 32 14.3 32 32s-14.3 32-32 32H315.1l-11.5 69.3c-2.9 17.4-19.4 29.2-36.8 26.3s-29.2-19.4-26.3-36.8l9.8-58.7H155.1l-11.5 69.3c-2.9 17.4-19.4 29.2-36.8 26.3s-29.2-19.4-26.3-36.8L90.2 384H32c-17.7 0-32-14.3-32-32s14.3-32 32-32h68.9l21.3-128H64c-17.7 0-32-14.3-32-32s14.3-32 32-32h68.9l11.5-69.3c2.9-17.4 19.4-29.2 36.8-26.3zM187.1 192L165.8 320h95.1l21.3-128H187.1z"]},xV={prefix:"fas",iconName:"t",icon:[384,512,[116],"54","M32 32C14.3 32 0 46.3 0 64S14.3 96 32 96H160V448c0 17.7 14.3 32 32 32s32-14.3 32-32V96H352c17.7 0 32-14.3 32-32s-14.3-32-32-32H192 32z"]},X9={prefix:"fas",iconName:"clone",icon:[512,512,[],"f24d","M0 448c0 35.3 28.7 64 64 64H288c35.3 0 64-28.7 64-64V384H224c-53 0-96-43-96-96V160H64c-35.3 0-64 28.7-64 64V448zm224-96H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H224c-35.3 0-64 28.7-64 64V288c0 35.3 28.7 64 64 64z"]},ez={prefix:"fas",iconName:"book",icon:[448,512,[128212],"f02d","M96 0C43 0 0 43 0 96V416c0 53 43 96 96 96H384h32c17.7 0 32-14.3 32-32s-14.3-32-32-32V384c17.7 0 32-14.3 32-32V32c0-17.7-14.3-32-32-32H384 96zm0 384H352v64H96c-17.7 0-32-14.3-32-32s14.3-32 32-32zm32-240c0-8.8 7.2-16 16-16H336c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16zm16 48H336c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},tz={prefix:"fas",iconName:"user-plus",icon:[640,512,[],"f234","M352 128c0 70.7-57.3 128-128 128s-128-57.3-128-128S153.3 0 224 0s128 57.3 128 128zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3zM504 312V248H440c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V136c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H552v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]},Ha={prefix:"fas",iconName:"check",icon:[512,512,[10003,10004],"f00c","M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},nz={prefix:"fas",iconName:"angle-left",icon:[320,512,[8249],"f104","M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},J9={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224c0-17.7-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32z"]},rz=J9,lz={prefix:"fas",iconName:"database",icon:[448,512,[],"f1c0","M448 80v48c0 44.2-100.3 80-224 80S0 172.2 0 128V80C0 35.8 100.3 0 224 0S448 35.8 448 80zM393.2 214.7c20.8-7.4 39.9-16.9 54.8-28.6V288c0 44.2-100.3 80-224 80S0 332.2 0 288V186.1c14.9 11.8 34 21.2 54.8 28.6C99.7 230.7 159.5 240 224 240s124.3-9.3 169.2-25.3zM0 346.1c14.9 11.8 34 21.2 54.8 28.6C99.7 390.7 159.5 400 224 400s124.3-9.3 169.2-25.3c20.8-7.4 39.9-16.9 54.8-28.6V432c0 44.2-100.3 80-224 80S0 476.2 0 432V346.1z"]},sz={prefix:"fas",iconName:"paper-plane",icon:[512,512,[61913],"f1d8","M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L277.3 424.9l-40.1 74.5c-5.2 9.7-16.3 14.6-27 11.9S192 499 192 488V392c0-5.3 1.8-10.5 5.1-14.7L362.4 164.7c2.5-7.1-6.5-14.3-13-8.4L170.4 318.2l-32 28.9 0 0c-9.2 8.3-22.3 10.6-33.8 5.8l-85-35.4C8.4 312.8 .8 302.2 .1 290s5.5-23.7 16.1-29.8l448-256c10.7-6.1 23.9-5.5 34 1.4z"]},oz={prefix:"fas",iconName:"calendar-day",icon:[448,512,[],"f783","M128 0c17.7 0 32 14.3 32 32V64H288V32c0-17.7 14.3-32 32-32s32 14.3 32 32V64h48c26.5 0 48 21.5 48 48v48H0V112C0 85.5 21.5 64 48 64H96V32c0-17.7 14.3-32 32-32zM0 192H448V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V192zm80 64c-8.8 0-16 7.2-16 16v96c0 8.8 7.2 16 16 16h96c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H80z"]},iz={prefix:"fas",iconName:"magnifying-glass-plus",icon:[512,512,["search-plus"],"f00e","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM184 296c0 13.3 10.7 24 24 24s24-10.7 24-24V232h64c13.3 0 24-10.7 24-24s-10.7-24-24-24H232V120c0-13.3-10.7-24-24-24s-24 10.7-24 24v64H120c-13.3 0-24 10.7-24 24s10.7 24 24 24h64v64z"]},az=iz,uz={prefix:"fas",iconName:"dollar-sign",icon:[320,512,[128178,61781,"dollar","usd"],"24","M160 0c17.7 0 32 14.3 32 32V67.7c1.6 .2 3.1 .4 4.7 .7c10.6 1.6 42.1 6.7 55.1 10c17.1 4.3 27.5 21.7 23.2 38.9s-21.7 27.5-38.9 23.2c-9.3-2.4-37.6-7-48.9-8.7c-32.1-4.8-59.6-2.4-78.5 4.9c-18.3 7-25.9 16.9-27.9 28c-1.9 10.7-.5 16.8 1.3 20.6c1.9 4 5.6 8.5 12.9 13.4c16.2 10.8 41.1 17.9 73.3 26.7l2.8 .8c28.4 7.7 63.2 17.2 89 34.3c14.1 9.4 27.3 22.1 35.5 39.7c8.3 17.8 10.1 37.8 6.3 59.1c-6.9 38-33.1 63.4-65.6 76.7c-13.7 5.6-28.6 9.2-44.4 11V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V445.1c-.4-.1-.9-.1-1.3-.2l-.2 0 0 0c-24.4-3.8-64.5-14.3-91.5-26.3c-16.2-7.2-23.4-26.1-16.2-42.2s26.1-23.4 42.2-16.2c20.9 9.3 55.3 18.4 75.2 21.6c31.9 4.7 58.2 2 76-5.3c16.9-6.9 24.6-16.9 26.8-28.9c1.9-10.7 .5-16.8-1.3-20.6c-1.9-4-5.6-8.5-12.9-13.4c-16.2-10.8-41.1-17.9-73.3-26.7l-2.8-.8c-28.4-7.7-63.2-17.2-89-34.3c-14.1-9.4-27.3-22.1-35.5-39.7c-8.3-17.8-10.1-37.8-6.3-59.1C25 114.1 53 89.3 86 76.7c13-5 27.2-8.2 42-10V32c0-17.7 14.3-32 32-32z"]};const Tg={data:zH},Ig={data:ZV},Qo={data:MH},nf={data:nz},Ts={data:R_},Gr={data:FV},Eg={data:iV},fz={data:Ha},rf={data:HV},xo={data:PV},xm={data:FH},Mg={data:K9},ei={data:XV},Is={data:W9},ma={data:wH},ti={data:z9},il={data:rz},Rl={data:KV,spin:!0},da={data:Ha};function cz(r){let e,n,t,l;return{c(){e=Ut("path"),I(e,"d",n=r[0].path),I(e,"fill-rule",t=r[0].fillRule),I(e,"clip-rule",l=r[0].clipRule),I(e,"style",r[1])},m(s,o){v(s,e,o)},p(s,o){o&1&&n!==(n=s[0].path)&&I(e,"d",n),o&1&&t!==(t=s[0].fillRule)&&I(e,"fill-rule",t),o&1&&l!==(l=s[0].clipRule)&&I(e,"clip-rule",l),o&2&&I(e,"style",s[1])},d(s){s&&$(e)}}}function mz(r){let e;return{c(){e=Ut("path"),I(e,"d",r[0]),I(e,"style",r[1])},m(n,t){v(n,e,t)},p(n,t){t&1&&I(e,"d",n[0]),t&2&&I(e,"style",n[1])},d(n){n&&$(e)}}}function dz(r){let e;function n(s,o){return typeof s[0]=="string"?mz:cz}let t=n(r),l=t(r);return{c(){l.c(),e=ae()},m(s,o){l.m(s,o),v(s,e,o)},p(s,[o]){t===(t=n(s))&&l?l.p(s,o):(l.d(1),l=t(s),l&&(l.c(),l.m(e.parentNode,e)))},i:H,o:H,d(s){l.d(s),s&&$(e)}}}function _z(r,e,n){let{path:t}=e,{style:l=void 0}=e;return r.$$set=s=>{"path"in s&&n(0,t=s.path),"style"in s&&n(1,l=s.style)},[t,l]}class D_ extends Q{constructor(e){super(),Z(this,e,_z,dz,J,{path:0,style:1})}}const pz=.22,gz=1.4;function hz(r,e){const n=pz*Math.min(e,r);return{r:n,cx:r-n,cy:n}}function bz(r,e,n){const{cx:t,cy:l}=n,s=n.r*gz;return["M 0 0",`L 0 ${e}`,`L ${r} ${e}`,`L ${r} 0`,"L 0 0","z",`M ${t} ${l-s}`,`A ${s} ${s} 0 0 1 ${t+s} ${l}`,`A ${s} ${s} 0 0 1 ${t} ${l+s}`,`A ${s} ${s} 0 0 1 ${t-s} ${l}`,`A ${s} ${s} 0 0 1 ${t} ${l-s}`,"z"].join(" ")}function lf(r,e,n){return n?`clip-path: path('${bz(r,e,n)}');`:void 0}function Rg(r,e,n){const t=r.slice();return t[16]=e[n],t}function Dg(r){let e,n;return{c(){e=Ut("title"),n=L(r[4])},m(t,l){v(t,e,l),R(e,n)},p(t,l){l&16&&z(n,t[4])},d(t){t&&$(e)}}}function $z(r){let e,n;return e=new D_({props:{path:r[9],style:lf(r[6],r[5],r[8])}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&512&&(s.path=t[9]),l&352&&(s.style=lf(t[6],t[5],t[8])),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function vz(r){let e=[],n=new Map,t,l,s=r[9];const o=i=>i[16];for(let i=0;i<s.length;i+=1){let a=Rg(r,s,i),u=o(a);n.set(u,e[i]=Ag(u,a))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=ae()},m(i,a){for(let u=0;u<e.length;u+=1)e[u].m(i,a);v(i,t,a),l=!0},p(i,a){a&864&&(s=i[9],U(),e=ht(e,a,o,1,i,s,n,t.parentNode,kt,Ag,t,Rg),W())},i(i){if(!l){for(let a=0;a<s.length;a+=1)_(e[a]);l=!0}},o(i){for(let a=0;a<e.length;a+=1)p(e[a]);l=!1},d(i){for(let a=0;a<e.length;a+=1)e[a].d(i);i&&$(t)}}}function Ag(r,e){let n,t,l;return t=new D_({props:{path:e[16],style:lf(e[6],e[5],e[8])}}),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(s,o){v(s,n,o),k(t,s,o),l=!0},p(s,o){e=s;const i={};o&512&&(i.path=e[16]),o&352&&(i.style=lf(e[6],e[5],e[8])),t.$set(i)},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){s&&$(n),y(t,s)}}}function Og(r){let e,n=[{class:"notification-dot"},r[8]],t={};for(let l=0;l<n.length;l+=1)t=se(t,n[l]);return{c(){e=Ut("circle"),Fn(e,t)},m(l,s){v(l,e,s)},p(l,s){Fn(e,t=de(n,[{class:"notification-dot"},s&256&&l[8]]))},d(l){l&&$(e)}}}function wz(r){let e,n,t,l,s,o,i,a,u,f=r[4]&&Dg(r);const c=[vz,$z],m=[];function d(w,S){return S&512&&(t=null),t==null&&(t=!!Array.isArray(w[9])),t?0:1}l=d(r,-1),s=m[l]=c[l](r);let g=r[8]&&Og(r),h=[{version:"1.1"},{viewBox:i="0 0 "+r[6]+" "+r[5]},{width:"1em"},{height:"1em"},{class:r[7]},{"aria-label":r[3]},{role:a=r[3]?"img":"presentation"},r[10]],b={};for(let w=0;w<h.length;w+=1)b=se(b,h[w]);return{c(){e=Ut("svg"),f&&f.c(),n=ae(),s.c(),o=ae(),g&&g.c(),Fn(e,b),ie(e,"fa-spin",r[1]),ie(e,"fa-pulse",r[2]),ln(e,"font-size",r[0],!1)},m(w,S){v(w,e,S),f&&f.m(e,null),R(e,n),m[l].m(e,null),R(e,o),g&&g.m(e,null),u=!0},p(w,[S]){w[4]?f?f.p(w,S):(f=Dg(w),f.c(),f.m(e,n)):f&&(f.d(1),f=null);let T=l;l=d(w,S),l===T?m[l].p(w,S):(U(),p(m[T],1,1,()=>{m[T]=null}),W(),s=m[l],s?s.p(w,S):(s=m[l]=c[l](w),s.c()),_(s,1),s.m(e,o)),w[8]?g?g.p(w,S):(g=Og(w),g.c(),g.m(e,null)):g&&(g.d(1),g=null),Fn(e,b=de(h,[{version:"1.1"},(!u||S&96&&i!==(i="0 0 "+w[6]+" "+w[5]))&&{viewBox:i},{width:"1em"},{height:"1em"},(!u||S&128)&&{class:w[7]},(!u||S&8)&&{"aria-label":w[3]},(!u||S&8&&a!==(a=w[3]?"img":"presentation"))&&{role:a},S&1024&&w[10]])),ie(e,"fa-spin",w[1]),ie(e,"fa-pulse",w[2]),ln(e,"font-size",w[0],!1)},i(w){u||(_(s),u=!0)},o(w){p(s),u=!1},d(w){w&&$(e),f&&f.d(),m[l].d(),g&&g.d()}}}function kz(r,e,n){const t=["fa-icon"];return r&&t.push(r),e&&t.push(`fa-flip-${e}`),n&&t.push(`fa-rotate-${n}`),t.join(" ")}function yz(r,e,n){let t,l,s,o;const i=["data","size","spin","pulse","flip","rotate","class","label","title","hasNotificationDot"];let a=We(e,i),{data:u}=e,{size:f="1em"}=e,{spin:c=!1}=e,{pulse:m=!1}=e,{flip:d=void 0}=e,{rotate:g=void 0}=e,{class:h=""}=e,{label:b=void 0}=e,{title:w=void 0}=e,{hasNotificationDot:S=!1}=e,T;return r.$$set=M=>{e=se(se({},e),pt(M)),n(10,a=We(e,i)),"data"in M&&n(11,u=M.data),"size"in M&&n(0,f=M.size),"spin"in M&&n(1,c=M.spin),"pulse"in M&&n(2,m=M.pulse),"flip"in M&&n(12,d=M.flip),"rotate"in M&&n(13,g=M.rotate),"class"in M&&n(14,h=M.class),"label"in M&&n(3,b=M.label),"title"in M&&n(4,w=M.title),"hasNotificationDot"in M&&n(15,S=M.hasNotificationDot)},r.$$.update=()=>{r.$$.dirty&2048&&n(6,[t,l,,,s]=u.icon,t,(n(5,l),n(11,u)),(n(9,s),n(11,u))),r.$$.dirty&28672&&n(7,T=kz(h,d,g)),r.$$.dirty&32864&&n(8,o=S?hz(t,l):void 0)},[f,c,m,b,w,l,t,T,o,s,a,u,d,g,h,S]}class Ne extends Q{constructor(e){super(),Z(this,e,yz,wz,J,{data:11,size:0,spin:1,pulse:2,flip:12,rotate:13,class:14,label:3,title:4,hasNotificationDot:15})}}function Cz(r){let e,n;const t=[Rl,{size:r[0]}];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,[o]){const i=o&1?de(t,[o&0&&_e(Rl),o&1&&{size:s[0]}]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function Sz(r,e,n){let{size:t=void 0}=e;return r.$$set=l=>{"size"in l&&n(0,t=l.size)},[t]}class Gt extends Q{constructor(e){super(),Z(this,e,Sz,Cz,J,{size:0})}}function Tz(r){let e,n;const t=[r[2]];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&4?de(t,[_e(s[2])]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function Iz(r){let e,n;return e=new Gt({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Fg(r){let e,n;return{c(){e=E("span"),n=L(r[1])},m(t,l){v(t,e,l),R(e,n)},p(t,l){l&2&&z(n,t[1])},d(t){t&&$(e)}}}function Ez(r){let e,n,t,l,s;const o=[Iz,Tz],i=[];function a(f,c){return f[0]?0:f[2]?1:-1}~(e=a(r))&&(n=i[e]=o[e](r));let u=r[1]&&Fg(r);return{c(){n&&n.c(),t=N(),u&&u.c(),l=ae()},m(f,c){~e&&i[e].m(f,c),v(f,t,c),u&&u.m(f,c),v(f,l,c),s=!0},p(f,c){let m=e;e=a(f),e===m?~e&&i[e].p(f,c):(n&&(U(),p(i[m],1,1,()=>{i[m]=null}),W()),~e?(n=i[e],n?n.p(f,c):(n=i[e]=o[e](f),n.c()),_(n,1),n.m(t.parentNode,t)):n=null),f[1]?u?u.p(f,c):(u=Fg(f),u.c(),u.m(l.parentNode,l)):u&&(u.d(1),u=null)},i(f){s||(_(n),s=!0)},o(f){p(n),s=!1},d(f){~e&&i[e].d(f),f&&$(t),u&&u.d(f),f&&$(l)}}}function Mz(r){let e,n;const t=[{appearance:r[4]},{disabled:r[3]||r[0]},{tooltip:r[5]},{"aria-label":r[1]?void 0:r[5]},r[7]];let l={$$slots:{default:[Ez]},$$scope:{ctx:r}};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new st({props:l}),e.$on("click",r[6]),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,[o]){const i=o&187?de(t,[o&16&&{appearance:s[4]},o&9&&{disabled:s[3]||s[0]},o&32&&{tooltip:s[5]},o&34&&{"aria-label":s[1]?void 0:s[5]},o&128&&_e(s[7])]):{};o&1031&&(i.$$scope={dirty:o,ctx:s}),e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function Rz(r,e,n){const t=["label","icon","onClick","confirm","disabled","isProcessing","appearance","tooltip","proceed"];let l=We(e,t),{label:s="Proceed"}=e,{icon:o=void 0}=e,{onClick:i=()=>{}}=e,{confirm:a=async()=>!0}=e,{disabled:u=!1}=e,{isProcessing:f=!1}=e,{appearance:c="primary"}=e,{tooltip:m=void 0}=e;async function d(){if(!!await a()){n(0,f=!0);try{await i()}finally{n(0,f=!1)}}}return r.$$set=g=>{e=se(se({},e),pt(g)),n(7,l=We(e,t)),"label"in g&&n(1,s=g.label),"icon"in g&&n(2,o=g.icon),"onClick"in g&&n(8,i=g.onClick),"confirm"in g&&n(9,a=g.confirm),"disabled"in g&&n(3,u=g.disabled),"isProcessing"in g&&n(0,f=g.isProcessing),"appearance"in g&&n(4,c=g.appearance),"tooltip"in g&&n(5,m=g.tooltip)},[f,s,o,u,c,m,d,l,i,a]}class Ar extends Q{constructor(e){super(),Z(this,e,Rz,Mz,J,{label:1,icon:2,onClick:8,confirm:9,disabled:3,isProcessing:0,appearance:4,tooltip:5,proceed:6})}get proceed(){return this.$$.ctx[6]}}function Ng(r){let e,n;return e=new st({props:{appearance:r[9].appearance,disabled:r[0]||!r[4],size:r[5],$$slots:{default:[Dz]},$$scope:{ctx:r}}}),e.$on("click",function(){St(r[1])&&r[1].apply(this,arguments)}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){r=t;const s={};l&512&&(s.appearance=r[9].appearance),l&17&&(s.disabled=r[0]||!r[4]),l&32&&(s.size=r[5]),l&131584&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Pg(r){let e,n;const t=[r[9].icon];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&512?de(t,[_e(s[9].icon)]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function Dz(r){let e,n,t=r[9].label+"",l,s,o=r[9].icon&&Pg(r);return{c(){o&&o.c(),e=N(),n=E("span"),l=L(t)},m(i,a){o&&o.m(i,a),v(i,e,a),v(i,n,a),R(n,l),s=!0},p(i,a){i[9].icon?o?(o.p(i,a),a&512&&_(o,1)):(o=Pg(i),o.c(),_(o,1),o.m(e.parentNode,e)):o&&(U(),p(o,1,1,()=>{o=null}),W()),(!s||a&512)&&t!==(t=i[9].label+"")&&z(l,t)},i(i){s||(_(o),s=!0)},o(i){p(o),s=!1},d(i){o&&o.d(i),i&&$(e),i&&$(n)}}}function Az(r){let e,n,t,l,s,o,i=r[6]&&Ng(r);function a(c){r[13](c)}function u(c){r[14](c)}let f={onClick:r[2],appearance:r[8].appearance,icon:r[8].icon,label:r[8].label,disabled:r[0]||!r[3],type:r[8].type,size:r[5]};return r[0]!==void 0&&(f.isProcessing=r[0]),r[7]!==void 0&&(f.proceed=r[7]),t=new Ar({props:f}),we.push(()=>Me(t,"isProcessing",a)),we.push(()=>Me(t,"proceed",u)),{c(){e=E("div"),i&&i.c(),n=N(),C(t.$$.fragment),I(e,"class","cancel-or-proceed-button-pair"),ie(e,"has-cancel-button",r[6])},m(c,m){v(c,e,m),i&&i.m(e,null),R(e,n),k(t,e,null),o=!0},p(c,[m]){c[6]?i?(i.p(c,m),m&64&&_(i,1)):(i=Ng(c),i.c(),_(i,1),i.m(e,n)):i&&(U(),p(i,1,1,()=>{i=null}),W());const d={};m&4&&(d.onClick=c[2]),m&256&&(d.appearance=c[8].appearance),m&256&&(d.icon=c[8].icon),m&256&&(d.label=c[8].label),m&9&&(d.disabled=c[0]||!c[3]),m&256&&(d.type=c[8].type),m&32&&(d.size=c[5]),!l&&m&1&&(l=!0,d.isProcessing=c[0],De(()=>l=!1)),!s&&m&128&&(s=!0,d.proceed=c[7],De(()=>s=!1)),t.$set(d),(!o||m&64)&&ie(e,"has-cancel-button",c[6])},i(c){o||(_(i),_(t.$$.fragment,c),o=!0)},o(c){p(i),p(t.$$.fragment,c),o=!1},d(c){c&&$(e),i&&i.d(),y(t)}}}function Oz(r,e,n){let t,l;const s={label:"Cancel",appearance:"secondary"},o={label:"Proceed",icon:fz,appearance:"primary",type:"button"};let{cancelButton:i={}}=e,{proceedButton:a={}}=e,{onCancel:u=()=>{}}=e,{onProceed:f=()=>{}}=e,{canProceed:c=!0}=e,{canCancel:m=!0}=e,{isProcessing:d=!1}=e,{size:g=void 0}=e,{hasCancelButton:h=!0}=e,b=async()=>{};function w(){return b()}function S(M){d=M,n(0,d)}function T(M){b=M,n(7,b)}return r.$$set=M=>{"cancelButton"in M&&n(10,i=M.cancelButton),"proceedButton"in M&&n(11,a=M.proceedButton),"onCancel"in M&&n(1,u=M.onCancel),"onProceed"in M&&n(2,f=M.onProceed),"canProceed"in M&&n(3,c=M.canProceed),"canCancel"in M&&n(4,m=M.canCancel),"isProcessing"in M&&n(0,d=M.isProcessing),"size"in M&&n(5,g=M.size),"hasCancelButton"in M&&n(6,h=M.hasCancelButton)},r.$$.update=()=>{r.$$.dirty&1024&&n(9,t={...s,...i}),r.$$.dirty&2048&&n(8,l={...o,...a})},[d,u,f,c,m,g,h,b,l,t,i,a,w,S,T]}class Ol extends Q{constructor(e){super(),Z(this,e,Oz,Az,J,{cancelButton:10,proceedButton:11,onCancel:1,onProceed:2,canProceed:3,canCancel:4,isProcessing:0,size:5,hasCancelButton:6,proceed:12})}get proceed(){return this.$$.ctx[12]}}class Os{constructor(e){te(this,"disabled",Ue(!1));te(this,"inputId");this.inputId=Ue(e!=null?e:vr())}}const Z9={};function A_(r){Fr(Z9,r)}function O_(){return Wn(Z9)}function Fz(r,e,n){let{id:t=vr()}=e,{labelController:l=O_()}=e,{disabled:s=!1}=e,{focusOnMount:o=!1}=e;return aS(async()=>{if(await sn(),o){const i=document.querySelector(`#${t}`);i==null||i.focus()}}),r.$$set=i=>{"id"in i&&n(0,t=i.id),"labelController"in i&&n(1,l=i.labelController),"disabled"in i&&n(2,s=i.disabled),"focusOnMount"in i&&n(3,o=i.focusOnMount)},r.$$.update=()=>{r.$$.dirty&6&&(l==null||l.disabled.set(s)),r.$$.dirty&3&&(l==null||l.inputId.set(t))},[t,l,s,o]}class Jl extends Q{constructor(e){super(),Z(this,e,Fz,null,J,{id:0,labelController:1,disabled:2,focusOnMount:3})}}function Nz(r){var g;let e,n,t,l,s,o,i,a;const u=[r[6],{disabled:r[3]}];function f(h){r[10](h)}let c={};for(let h=0;h<u.length;h+=1)c=se(c,u[h]);r[1]!==void 0&&(c.id=r[1]),e=new Jl({props:c}),we.push(()=>Me(e,"id",f));let m=[r[6],{class:"checkbox"},{type:"checkbox"},{id:r[1]},{checked:s=(g=r[0])!=null?g:void 0},{indeterminate:r[4]},{disabled:r[3]},{value:r[2]}],d={};for(let h=0;h<m.length;h+=1)d=se(d,m[h]);return{c(){C(e.$$.fragment),t=N(),l=E("input"),Tt(l,d)},m(h,b){k(e,h,b),v(h,t,b),v(h,l,b),l.autofocus&&l.focus(),o=!0,i||(a=[He(l,"change",r[5]),He(l,"click",r[8]),He(l,"mousedown",r[9])],i=!0)},p(h,[b]){var S;const w=b&72?de(u,[b&64&&_e(h[6]),b&8&&{disabled:h[3]}]):{};!n&&b&2&&(n=!0,w.id=h[1],De(()=>n=!1)),e.$set(w),Tt(l,d=de(m,[b&64&&h[6],{class:"checkbox"},{type:"checkbox"},(!o||b&2)&&{id:h[1]},(!o||b&1&&s!==(s=(S=h[0])!=null?S:void 0))&&{checked:s},(!o||b&16)&&{indeterminate:h[4]},(!o||b&8)&&{disabled:h[3]},(!o||b&4)&&{value:h[2]}]))},i(h){o||(_(e.$$.fragment,h),o=!0)},o(h){p(e.$$.fragment,h),o=!1},d(h){y(e,h),h&&$(t),h&&$(l),i=!1,Ot(a)}}}function Pz(r,e,n){let t;const l=["checked","allowIndeterminate","value","disabled","id"];let s=We(e,l);const o=Et();let{checked:i=!1}=e,{allowIndeterminate:a=!1}=e,{value:u=void 0}=e,{disabled:f=!1}=e,{id:c=void 0}=e;function m(){n(0,i=!i),o("change",i)}function d(b){Re.call(this,r,b)}function g(b){Re.call(this,r,b)}function h(b){c=b,n(1,c)}return r.$$set=b=>{e=se(se({},e),pt(b)),n(6,s=We(e,l)),"checked"in b&&n(0,i=b.checked),"allowIndeterminate"in b&&n(7,a=b.allowIndeterminate),"value"in b&&n(2,u=b.value),"disabled"in b&&n(3,f=b.disabled),"id"in b&&n(1,c=b.id)},r.$$.update=()=>{r.$$.dirty&129&&n(4,t=a&&i===null)},[i,c,u,f,t,m,s,a,d,g,h]}class lr extends Q{constructor(e){super(),Z(this,e,Pz,Nz,J,{checked:0,allowIndeterminate:7,value:2,disabled:3,id:1})}}function Lz(r){let e,n,t;function l(o){r[3](o)}let s={disabled:r[1],id:r[2]};return r[0]!==void 0&&(s.checked=r[0]),e=new lr({props:s}),we.push(()=>Me(e,"checked",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,[i]){const a={};i&2&&(a.disabled=o[1]),i&4&&(a.id=o[2]),!n&&i&1&&(n=!0,a.checked=o[0],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function Hz(r,e,n){let{value:t=!1}=e,{disabled:l=!1}=e,{id:s=void 0}=e;function o(i){t=i,n(0,t)}return r.$$set=i=>{"value"in i&&n(0,t=i.value),"disabled"in i&&n(1,l=i.disabled),"id"in i&&n(2,s=i.id)},[t,l,s,o]}class Lg extends Q{constructor(e){super(),Z(this,e,Hz,Lz,J,{value:0,disabled:1,id:2})}}function ni(r){return`${r}-label`}const Vz=r=>({inputId:r&8}),Hg=r=>({inputId:r[3]});function zz(r){let e,n,t,l,s;const o=r[9].default,i=ke(o,r,r[8],Hg);let a=[{for:r[3]},r[6],{style:r[0]},{class:"label-component"},{id:n=ni(r[3])}],u={};for(let f=0;f<a.length;f+=1)u=se(u,a[f]);return{c(){e=E("label"),i&&i.c(),Tt(e,u),ie(e,"disabled",r[4])},m(f,c){v(f,e,c),i&&i.m(e,null),t=!0,l||(s=He(e,"click",r[5]),l=!0)},p(f,[c]){i&&i.p&&(!t||c&264)&&Ce(i,o,f,f[8],t?ye(o,f[8],c,Vz):Se(f[8]),Hg),Tt(e,u=de(a,[(!t||c&8)&&{for:f[3]},c&64&&f[6],(!t||c&1)&&{style:f[0]},{class:"label-component"},(!t||c&8&&n!==(n=ni(f[3])))&&{id:n}])),ie(e,"disabled",f[4])},i(f){t||(_(i,f),t=!0)},o(f){p(i,f),t=!1},d(f){f&&$(e),i&&i.d(f),l=!1,s()}}}function Bz(r,e,n){let t,l;const s=["controller","style"];let o=We(e,s),i,a=H,u=()=>(a(),a=le(t,S=>n(3,i=S)),t),f,c=H,m=()=>(c(),c=le(l,S=>n(4,f=S)),l);r.$$.on_destroy.push(()=>a()),r.$$.on_destroy.push(()=>c());let{$$slots:d={},$$scope:g}=e,{controller:h=new Os}=e,{style:b=void 0}=e;function w(){const S=document.querySelector(`#${i}`);S==null||S.focus()}return r.$$set=S=>{e=se(se({},e),pt(S)),n(6,o=We(e,s)),"controller"in S&&n(7,h=S.controller),"style"in S&&n(0,b=S.style),"$$scope"in S&&n(8,g=S.$$scope)},r.$$.update=()=>{r.$$.dirty&128&&A_(h),r.$$.dirty&128&&u(n(2,{inputId:t,disabled:l}=h,t,m(n(1,l))))},[b,l,t,i,f,w,o,h,g,d]}class Fs extends Q{constructor(e){super(),Z(this,e,Bz,zz,J,{controller:7,style:0})}}const qz=r=>({}),Vg=r=>({slot:"content"});function Uz(r){let e,n;const t=[{slot:"trigger"},Eg];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[t[0],_e(Eg)]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function Wz(r){let e;const n=r[1].default,t=ke(n,r,r[2],Vg);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&4)&&Ce(t,n,l,l[2],e?ye(n,l[2],s,qz):Se(l[2]),Vg)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function jz(r){let e,n,t,l;const s=[{"aria-label":"Help"},{class:"help-trigger"},{allowHover:!0},r[0]];let o={$$slots:{content:[Wz],trigger:[Uz]},$$scope:{ctx:r}};for(let i=0;i<s.length;i+=1)o=se(o,s[i]);return t=new On({props:o}),{c(){e=E("span"),n=E("span"),C(t.$$.fragment),I(n,"class","help-trigger svelte-1m8bps"),I(e,"class","help svelte-1m8bps")},m(i,a){v(i,e,a),R(e,n),k(t,n,null),l=!0},p(i,[a]){const u=a&1?de(s,[s[0],s[1],s[2],_e(i[0])]):{};a&4&&(u.$$scope={dirty:a,ctx:i}),t.$set(u)},i(i){l||(_(t.$$.fragment,i),l=!0)},o(i){p(t.$$.fragment,i),l=!1},d(i){i&&$(e),y(t)}}}function Yz(r,e,n){let{$$slots:t={},$$scope:l}=e;return r.$$set=s=>{n(0,e=se(se({},e),pt(s))),"$$scope"in s&&n(2,l=s.$$scope)},e=pt(e),[e,t,l]}class zt extends Q{constructor(e){super(),Z(this,e,Yz,jz,J,{})}}const Gz=r=>({}),zg=r=>({}),Kz=r=>({}),Bg=r=>({}),Xz=r=>({}),qg=r=>({});function Ug(r){let e,n;return e=new zt({props:{$$slots:{default:[Jz]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&66&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Jz(r){var o;let e=((o=r[1])!=null?o:"")+"",n,t;const l=r[5].help,s=ke(l,r,r[6],Bg);return{c(){n=L(e),s&&s.c()},m(i,a){v(i,n,a),s&&s.m(i,a),t=!0},p(i,a){var u;(!t||a&2)&&e!==(e=((u=i[1])!=null?u:"")+"")&&z(n,e),s&&s.p&&(!t||a&64)&&Ce(s,l,i,i[6],t?ye(l,i[6],a,Kz):Se(i[6]),Bg)},i(i){t||(_(s,i),t=!0)},o(i){p(s,i),t=!1},d(i){i&&$(n),s&&s.d(i)}}}function Wg(r){var i;let e,n=((i=r[1])!=null?i:"")+"",t,l;const s=r[5].help,o=ke(s,r,r[6],zg);return{c(){e=E("span"),t=L(n),o&&o.c(),I(e,"class","help")},m(a,u){v(a,e,u),R(e,t),o&&o.m(e,null),l=!0},p(a,u){var f;(!l||u&2)&&n!==(n=((f=a[1])!=null?f:"")+"")&&z(t,n),o&&o.p&&(!l||u&64)&&Ce(o,s,a,a[6],l?ye(s,a[6],u,Gz):Se(a[6]),zg)},i(a){l||(_(o,a),l=!0)},o(a){p(o,a),l=!1},d(a){a&&$(e),o&&o.d(a)}}}function Zz(r){var w;let e,n,t=((w=r[0])!=null?w:"")+"",l,s,o,i,a,u,f;const c=r[5].label,m=ke(c,r,r[6],qg);let d=r[4]&&r[3]==="tooltip"&&Ug(r);const g=r[5].default,h=ke(g,r,r[6],null);let b=r[4]&&r[3]==="inline"&&Wg(r);return{c(){e=E("span"),n=E("span"),l=L(t),s=N(),m&&m.c(),o=N(),d&&d.c(),i=N(),a=E("span"),h&&h.c(),u=N(),b&&b.c(),I(n,"class","labeled-input-label"),I(a,"class","labeled-input-slot"),I(e,"class","label-content")},m(S,T){v(S,e,T),R(e,n),R(n,l),R(n,s),m&&m.m(n,null),R(n,o),d&&d.m(n,null),R(e,i),R(e,a),h&&h.m(a,null),R(e,u),b&&b.m(e,null),f=!0},p(S,T){var M;(!f||T&1)&&t!==(t=((M=S[0])!=null?M:"")+"")&&z(l,t),m&&m.p&&(!f||T&64)&&Ce(m,c,S,S[6],f?ye(c,S[6],T,Xz):Se(S[6]),qg),S[4]&&S[3]==="tooltip"?d?(d.p(S,T),T&24&&_(d,1)):(d=Ug(S),d.c(),_(d,1),d.m(n,null)):d&&(U(),p(d,1,1,()=>{d=null}),W()),h&&h.p&&(!f||T&64)&&Ce(h,g,S,S[6],f?ye(g,S[6],T,null):Se(S[6]),null),S[4]&&S[3]==="inline"?b?(b.p(S,T),T&24&&_(b,1)):(b=Wg(S),b.c(),_(b,1),b.m(e,null)):b&&(U(),p(b,1,1,()=>{b=null}),W())},i(S){f||(_(m,S),_(d),_(h,S),_(b),f=!0)},o(S){p(m,S),p(d),p(h,S),p(b),f=!1},d(S){S&&$(e),m&&m.d(S),d&&d.d(),h&&h.d(S),b&&b.d()}}}function Qz(r){let e,n,t;return n=new Fs({props:{$$slots:{default:[Zz]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","labeled-input"),ie(e,"layout-stacked",r[2]==="stacked"),ie(e,"layout-inline",r[2]==="inline"),ie(e,"layout-inline-input-first",r[2]==="inline-input-first")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,[s]){const o={};s&91&&(o.$$scope={dirty:s,ctx:l}),n.$set(o),(!t||s&4)&&ie(e,"layout-stacked",l[2]==="stacked"),(!t||s&4)&&ie(e,"layout-inline",l[2]==="inline"),(!t||s&4)&&ie(e,"layout-inline-input-first",l[2]==="inline-input-first")},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function xz(r,e,n){let t,{$$slots:l={},$$scope:s}=e;const o=mr(l);let{label:i=void 0}=e,{help:a=void 0}=e,{layout:u="inline"}=e,{helpType:f="inline"}=e;return r.$$set=c=>{"label"in c&&n(0,i=c.label),"help"in c&&n(1,a=c.help),"layout"in c&&n(2,u=c.layout),"helpType"in c&&n(3,f=c.helpType),"$$scope"in c&&n(6,s=c.$$scope)},r.$$.update=()=>{r.$$.dirty&2&&n(4,t=o.help||a)},[i,a,u,f,t,l,s]}class Nt extends Q{constructor(e){super(),Z(this,e,xz,Qz,J,{label:0,help:1,layout:2,helpType:3})}}function eB(r){let e,n;const t=r[1].default,l=ke(t,r,r[0],null);return{c(){e=E("div"),l&&l.c(),I(e,"class","margin-trim svelte-1hehqd7")},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,[o]){l&&l.p&&(!n||o&1)&&Ce(l,t,s,s[0],n?ye(t,s[0],o,null):Se(s[0]),null)},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function tB(r,e,n){let{$$slots:t={},$$scope:l}=e;return r.$$set=s=>{"$$scope"in s&&n(0,l=s.$$scope)},[l,t]}class nB extends Q{constructor(e){super(),Z(this,e,tB,eB,J,{})}}function rB(r){let e,n,t;const l=[r[0]];var s=r[1];function o(i){let a={};for(let u=0;u<l.length;u+=1)a=se(a,l[u]);return{props:a}}return s&&(e=new s(o())),{c(){e&&C(e.$$.fragment),n=ae()},m(i,a){e&&k(e,i,a),v(i,n,a),t=!0},p(i,[a]){const u=a&1?de(l,[_e(i[0])]):{};if(s!==(s=i[1])){if(e){U();const f=e;p(f.$$.fragment,1,0,()=>{y(f,1)}),W()}s?(e=new s(o()),C(e.$$.fragment),_(e.$$.fragment,1),k(e,n.parentNode,n)):e=null}else s&&e.$set(u)},i(i){t||(e&&_(e.$$.fragment,i),t=!0)},o(i){e&&p(e.$$.fragment,i),t=!1},d(i){i&&$(n),e&&y(e,i)}}}function lB(r,e,n){let t,l,{componentWithProps:s}=e;return r.$$set=o=>{"componentWithProps"in o&&n(2,s=o.componentWithProps)},r.$$.update=()=>{r.$$.dirty&4&&n(1,t=s.component),r.$$.dirty&4&&n(0,l=s.props)},[l,t,s]}class Q9 extends Q{constructor(e){super(),Z(this,e,lB,rB,J,{componentWithProps:2})}}function jg(r,e,n){const t=r.slice();return t[1]=e[n],t}function sB(r){let e,n;return e=new Q9({props:{componentWithProps:r[0]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.componentWithProps=t[0]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function oB(r){let e,n,t,l;const s=[cB,fB,uB],o=[];function i(a,u){return a[0].length===0?0:a[0].length===1?1:2}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function iB(r){let e;return{c(){e=L(r[0])},m(n,t){v(n,e,t)},p(n,t){t&1&&z(e,n[0])},i:H,o:H,d(n){n&&$(e)}}}function aB(r){let e="",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p:H,i:H,o:H,d(t){t&&$(n)}}}function uB(r){let e,n;return e=new nB({props:{$$slots:{default:[mB]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&17&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function fB(r){let e=r[0][0]+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1&&e!==(e=t[0][0]+"")&&z(n,e)},i:H,o:H,d(t){t&&$(n)}}}function cB(r){let e="",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p:H,i:H,o:H,d(t){t&&$(n)}}}function Yg(r){let e,n=r[1]+"",t;return{c(){e=E("p"),t=L(n)},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&1&&n!==(n=l[1]+"")&&z(t,n)},d(l){l&&$(e)}}}function mB(r){let e,n=r[0],t=[];for(let l=0;l<n.length;l+=1)t[l]=Yg(jg(r,n,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=ae()},m(l,s){for(let o=0;o<t.length;o+=1)t[o].m(l,s);v(l,e,s)},p(l,s){if(s&1){n=l[0];let o;for(o=0;o<n.length;o+=1){const i=jg(l,n,o);t[o]?t[o].p(i,s):(t[o]=Yg(i),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(l){Hn(t,l),l&&$(e)}}}function dB(r){let e,n,t,l,s;const o=[aB,iB,oB,sB],i=[];function a(u,f){return f&1&&(e=null),u[0]===void 0?0:typeof u[0]=="string"?1:(e==null&&(e=!!Array.isArray(u[0])),e?2:3)}return n=a(r,-1),t=i[n]=o[n](r),{c(){t.c(),l=ae()},m(u,f){i[n].m(u,f),v(u,l,f),s=!0},p(u,[f]){let c=n;n=a(u,f),n===c?i[n].p(u,f):(U(),p(i[c],1,1,()=>{i[c]=null}),W(),t=i[n],t?t.p(u,f):(t=i[n]=o[n](u),t.c()),_(t,1),t.m(l.parentNode,l))},i(u){s||(_(t),s=!0)},o(u){p(t),s=!1},d(u){i[n].d(u),u&&$(l)}}}function _B(r,e,n){let{arg:t=void 0}=e;return r.$$set=l=>{"arg"in l&&n(0,t=l.arg)},[t]}class x9 extends Q{constructor(e){super(),Z(this,e,_B,dB,J,{arg:0})}}const pB=r=>({}),Gg=r=>({});function gB(r){var t;let e=((t=r[0])!=null?t:"")+"",n;return{c(){n=L(e)},m(l,s){v(l,n,s)},p(l,s){var o;s&1&&e!==(e=((o=l[0])!=null?o:"")+"")&&z(n,e)},d(l){l&&$(n)}}}function hB(r){let e,n,t,l,s,o;const i=r[4].label,a=ke(i,r,r[3],Gg),u=a||gB(r),f=r[4].default,c=ke(f,r,r[3],null);return{c(){e=E("fieldset"),n=E("legend"),u&&u.c(),t=N(),c&&c.c(),I(e,"class","fieldset"),I(e,"aria-label",r[1]),ie(e,"boxed",r[2])},m(m,d){v(m,e,d),R(e,n),u&&u.m(n,null),R(e,t),c&&c.m(e,null),l=!0,s||(o=He(e,"change",r[5]),s=!0)},p(m,[d]){a?a.p&&(!l||d&8)&&Ce(a,i,m,m[3],l?ye(i,m[3],d,pB):Se(m[3]),Gg):u&&u.p&&(!l||d&1)&&u.p(m,l?d:-1),c&&c.p&&(!l||d&8)&&Ce(c,f,m,m[3],l?ye(f,m[3],d,null):Se(m[3]),null),(!l||d&2)&&I(e,"aria-label",m[1]),(!l||d&4)&&ie(e,"boxed",m[2])},i(m){l||(_(u,m),_(c,m),l=!0)},o(m){p(u,m),p(c,m),l=!1},d(m){m&&$(e),u&&u.d(m),c&&c.d(m),s=!1,o()}}}function bB(r,e,n){let{$$slots:t={},$$scope:l}=e,{label:s=void 0}=e,{ariaLabel:o=void 0}=e,{boxed:i=!1}=e;function a(u){Re.call(this,r,u)}return r.$$set=u=>{"label"in u&&n(0,s=u.label),"ariaLabel"in u&&n(1,o=u.ariaLabel),"boxed"in u&&n(2,i=u.boxed),"$$scope"in u&&n(3,l=u.$$scope)},[s,o,i,l,t,a]}class al extends Q{constructor(e){super(),Z(this,e,bB,hB,J,{label:0,ariaLabel:1,boxed:2})}}const $B=r=>({option:r&2,disabled:r&146}),Kg=r=>({option:r[12],disabled:r[7](r[12])||r[4]});function Xg(r,e,n){const t=r.slice();t[12]=e[n];const l=t[8](t[12]);return t[13]=l,t}const vB=r=>({option:r&2,disabled:r&146}),Jg=r=>({option:r[12],disabled:r[7](r[12])||r[4]}),wB=r=>({option:r&2,disabled:r&146}),Zg=r=>({slot:"label",option:r[12],disabled:r[7](r[12])||r[4]});function kB(r){let e;const n=r[10].default,t=ke(n,r,r[11],Jg);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&2194)&&Ce(t,n,l,l[11],e?ye(n,l[11],s,vB):Se(l[11]),Jg)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function yB(r){let e,n;return e=new Nr({props:{slot:"label",arg:r[5](r[12])}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&34&&(s.arg=t[5](t[12])),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function CB(r){let e,n;return e=new x9({props:{slot:"help",arg:r[13]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&258&&(s.arg=t[13]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Qg(r,e){let n,t,l,s;return t=new Nt({props:{layout:"inline-input-first",$$slots:{help:[CB],label:[yB],default:[kB]},$$scope:{ctx:e}}}),{key:r,first:null,c(){n=E("li"),C(t.$$.fragment),l=N(),I(n,"class","option"),ie(n,"has-help",!!e[13]),this.first=n},m(o,i){v(o,n,i),k(t,n,null),R(n,l),s=!0},p(o,i){e=o;const a={};i&2482&&(a.$$scope={dirty:i,ctx:e}),t.$set(a),(!s||i&258)&&ie(n,"has-help",!!e[13])},i(o){s||(_(t.$$.fragment,o),s=!0)},o(o){p(t.$$.fragment,o),s=!1},d(o){o&&$(n),y(t)}}}function SB(r){let e,n=[],t=new Map,l,s,o=r[1];const i=f=>f[12];for(let f=0;f<o.length;f+=1){let c=Xg(r,o,f),m=i(c);t.set(m,n[f]=Qg(m,c))}const a=r[10].extra,u=ke(a,r,r[11],Kg);return{c(){e=E("ul");for(let f=0;f<n.length;f+=1)n[f].c();l=N(),u&&u.c(),I(e,"class","fieldset-group-options"),ie(e,"inline",r[0]),ie(e,"has-fieldset-label",!!r[2])},m(f,c){v(f,e,c);for(let m=0;m<n.length;m+=1)n[m].m(e,null);v(f,l,c),u&&u.m(f,c),s=!0},p(f,c){c&2482&&(o=f[1],U(),n=ht(n,c,i,1,f,o,t,e,kt,Qg,null,Xg),W()),(!s||c&1)&&ie(e,"inline",f[0]),(!s||c&4)&&ie(e,"has-fieldset-label",!!f[2]),u&&u.p&&(!s||c&2194)&&Ce(u,a,f,f[11],s?ye(a,f[11],c,$B):Se(f[11]),Kg)},i(f){if(!s){for(let c=0;c<o.length;c+=1)_(n[c]);_(u,f),s=!0}},o(f){for(let c=0;c<n.length;c+=1)p(n[c]);p(u,f),s=!1},d(f){f&&$(e);for(let c=0;c<n.length;c+=1)n[c].d();f&&$(l),u&&u.d(f)}}}function TB(r){var t;let e=((t=r[2])!=null?t:"")+"",n;return{c(){n=L(e)},m(l,s){v(l,n,s)},p(l,s){var o;s&4&&e!==(e=((o=l[2])!=null?o:"")+"")&&z(n,e)},d(l){l&&$(n)}}}function IB(r){let e;const n=r[10].label,t=ke(n,r,r[11],Zg),l=t||TB(r);return{c(){l&&l.c()},m(s,o){l&&l.m(s,o),e=!0},p(s,o){t?t.p&&(!e||o&2194)&&Ce(t,n,s,s[11],e?ye(n,s[11],o,wB):Se(s[11]),Zg):l&&l.p&&(!e||o&4)&&l.p(s,e?o:-1)},i(s){e||(_(l,s),e=!0)},o(s){p(l,s),e=!1},d(s){l&&l.d(s)}}}function EB(r){let e,n;return e=new al({props:{ariaLabel:r[3],boxed:r[6],$$slots:{label:[IB],default:[SB]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&8&&(s.ariaLabel=t[3]),l&64&&(s.boxed=t[6]),l&2487&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function MB(r,e,n){let{$$slots:t={},$$scope:l}=e,{isInline:s=void 0}=e,{options:o=[]}=e,{label:i=void 0}=e,{ariaLabel:a=void 0}=e,{disabled:u=!1}=e,{labelKey:f="label"}=e,{getLabel:c=h=>$i(h,f)}=e,{boxed:m=void 0}=e,{getDisabled:d=()=>!1}=e,{getHelp:g=()=>{}}=e;return r.$$set=h=>{"isInline"in h&&n(0,s=h.isInline),"options"in h&&n(1,o=h.options),"label"in h&&n(2,i=h.label),"ariaLabel"in h&&n(3,a=h.ariaLabel),"disabled"in h&&n(4,u=h.disabled),"labelKey"in h&&n(9,f=h.labelKey),"getLabel"in h&&n(5,c=h.getLabel),"boxed"in h&&n(6,m=h.boxed),"getDisabled"in h&&n(7,d=h.getDisabled),"getHelp"in h&&n(8,g=h.getHelp),"$$scope"in h&&n(11,l=h.$$scope)},[s,o,i,a,u,c,m,d,g,f,t,l]}class eT extends Q{constructor(e){super(),Z(this,e,MB,EB,J,{isInline:0,options:1,label:2,ariaLabel:3,disabled:4,labelKey:9,getLabel:5,boxed:6,getDisabled:7,getHelp:8})}}const RB=r=>({}),xg=r=>({slot:"label"});function DB(r){let e,n;function t(...s){return r[14](r[19],...s)}function l(...s){return r[15](r[19],...s)}return e=new lr({props:{checked:r[0].some(t),disabled:r[20]}}),e.$on("change",l),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){r=s;const i={};o&525313&&(i.checked=r[0].some(t)),o&1048576&&(i.disabled=r[20]),e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function AB(r){var t;let e=((t=r[3])!=null?t:"")+"",n;return{c(){n=L(e)},m(l,s){v(l,n,s)},p(l,s){var o;s&8&&e!==(e=((o=l[3])!=null?o:"")+"")&&z(n,e)},d(l){l&&$(n)}}}function OB(r){let e;const n=r[13].label,t=ke(n,r,r[17],xg),l=t||AB(r);return{c(){l&&l.c()},m(s,o){l&&l.m(s,o),e=!0},p(s,o){t?t.p&&(!e||o&131072)&&Ce(t,n,s,s[17],e?ye(n,s[17],o,RB):Se(s[17]),xg):l&&l.p&&(!e||o&8)&&l.p(s,e?o:-1)},i(s){e||(_(l,s),e=!0)},o(s){p(l,s),e=!1},d(s){l&&l.d(s)}}}function FB(r){let e,n;return e=new eT({props:{isInline:r[1],options:r[2],ariaLabel:r[4],disabled:r[11],boxed:r[9],labelKey:r[5],getLabel:r[6],getHelp:r[7],getDisabled:r[8],$$slots:{label:[OB,({option:t,disabled:l})=>({19:t,20:l}),({option:t,disabled:l})=>(t?524288:0)|(l?1048576:0)],default:[DB,({option:t,disabled:l})=>({19:t,20:l}),({option:t,disabled:l})=>(t?524288:0)|(l?1048576:0)]},$$scope:{ctx:r}}}),e.$on("change",r[16]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&2&&(s.isInline=t[1]),l&4&&(s.options=t[2]),l&16&&(s.ariaLabel=t[4]),l&2048&&(s.disabled=t[11]),l&512&&(s.boxed=t[9]),l&32&&(s.labelKey=t[5]),l&64&&(s.getLabel=t[6]),l&128&&(s.getHelp=t[7]),l&256&&(s.getDisabled=t[8]),l&1704969&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function NB(r,e,n){let{$$slots:t={},$$scope:l}=e;const s=Et();let{values:o=[]}=e,{isInline:i=!1}=e,{options:a=[]}=e,{label:u=void 0}=e,{ariaLabel:f=void 0}=e,{checkboxLabelKey:c=void 0}=e,{getCheckboxLabel:m=void 0}=e,{getCheckboxHelp:d=()=>{}}=e,{getCheckboxDisabled:g=()=>!1}=e,{boxed:h=!1}=e,{valuesAreEqual:b=(D,O)=>D===O}=e,{disabled:w=!1}=e;function S(D,O){O?n(0,o=[...o,D]):n(0,o=o.filter(F=>!b(F,D))),s("artificialChange",o)}const T=(D,O)=>b(O,D),M=(D,{detail:O})=>S(D,O);function A(D){Re.call(this,r,D)}return r.$$set=D=>{"values"in D&&n(0,o=D.values),"isInline"in D&&n(1,i=D.isInline),"options"in D&&n(2,a=D.options),"label"in D&&n(3,u=D.label),"ariaLabel"in D&&n(4,f=D.ariaLabel),"checkboxLabelKey"in D&&n(5,c=D.checkboxLabelKey),"getCheckboxLabel"in D&&n(6,m=D.getCheckboxLabel),"getCheckboxHelp"in D&&n(7,d=D.getCheckboxHelp),"getCheckboxDisabled"in D&&n(8,g=D.getCheckboxDisabled),"boxed"in D&&n(9,h=D.boxed),"valuesAreEqual"in D&&n(10,b=D.valuesAreEqual),"disabled"in D&&n(11,w=D.disabled),"$$scope"in D&&n(17,l=D.$$scope)},[o,i,a,u,f,c,m,d,g,h,b,w,S,t,T,M,A,l]}class tT extends Q{constructor(e){super(),Z(this,e,NB,FB,J,{values:0,isInline:1,options:2,label:3,ariaLabel:4,checkboxLabelKey:5,getCheckboxLabel:6,getCheckboxHelp:7,getCheckboxDisabled:8,boxed:9,valuesAreEqual:10,disabled:11})}}const PB=r=>({}),eh=r=>({}),LB=r=>({}),th=r=>({}),HB=r=>({}),nh=r=>({}),VB=r=>({isOpen:r&1}),rh=r=>({toggle:r[2],isOpen:r[0]});function zB(r){let e,n,t,l;const s=[Gr,{size:"0.9rem"},{rotate:r[0]?void 0:270}];let o={};for(let u=0;u<s.length;u+=1)o=se(o,s[u]);e=new Ne({props:o});const i=r[3].header,a=ke(i,r,r[4],nh);return{c(){C(e.$$.fragment),n=N(),t=E("div"),a&&a.c(),I(t,"class","collapsible-header-title")},m(u,f){k(e,u,f),v(u,n,f),v(u,t,f),a&&a.m(t,null),l=!0},p(u,f){const c=f&1?de(s,[f&0&&_e(Gr),s[1],f&1&&{rotate:u[0]?void 0:270}]):{};e.$set(c),a&&a.p&&(!l||f&16)&&Ce(a,i,u,u[4],l?ye(i,u[4],f,HB):Se(u[4]),nh)},i(u){l||(_(e.$$.fragment,u),_(a,u),l=!0)},o(u){p(e.$$.fragment,u),p(a,u),l=!1},d(u){y(e,u),u&&$(n),u&&$(t),a&&a.d(u)}}}function BB(r){let e,n;return e=new st({props:{appearance:r[1],class:"collapsible-header-btn",$$slots:{default:[zB]},$$scope:{ctx:r}}}),e.$on("click",r[2]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.appearance=t[1]),l&17&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function lh(r){let e,n;const t=r[3].content,l=ke(t,r,r[4],eh);return{c(){e=E("div"),l&&l.c(),I(e,"class","collapsible-content")},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,o){l&&l.p&&(!n||o&16)&&Ce(l,t,s,s[4],n?ye(t,s[4],o,PB):Se(s[4]),eh)},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function qB(r){let e,n,t,l,s;const o=r[3].trigger,i=ke(o,r,r[4],rh),a=i||BB(r),u=r[3]["trigger-aside"],f=ke(u,r,r[4],th);let c=r[0]&&lh(r);return{c(){e=E("div"),n=E("div"),a&&a.c(),t=N(),f&&f.c(),l=N(),c&&c.c(),I(n,"class","collapsible-header"),I(e,"class","collapsible")},m(m,d){v(m,e,d),R(e,n),a&&a.m(n,null),R(n,t),f&&f.m(n,null),R(e,l),c&&c.m(e,null),s=!0},p(m,[d]){i?i.p&&(!s||d&17)&&Ce(i,o,m,m[4],s?ye(o,m[4],d,VB):Se(m[4]),rh):a&&a.p&&(!s||d&19)&&a.p(m,s?d:-1),f&&f.p&&(!s||d&16)&&Ce(f,u,m,m[4],s?ye(u,m[4],d,LB):Se(m[4]),th),m[0]?c?(c.p(m,d),d&1&&_(c,1)):(c=lh(m),c.c(),_(c,1),c.m(e,null)):c&&(U(),p(c,1,1,()=>{c=null}),W())},i(m){s||(_(a,m),_(f,m),_(c),s=!0)},o(m){p(a,m),p(f,m),p(c),s=!1},d(m){m&&$(e),a&&a.d(m),f&&f.d(m),c&&c.d()}}}function UB(r,e,n){let{$$slots:t={},$$scope:l}=e,{isOpen:s=!1}=e,{triggerAppearance:o="default"}=e;function i(){n(0,s=!s)}return r.$$set=a=>{"isOpen"in a&&n(0,s=a.isOpen),"triggerAppearance"in a&&n(1,o=a.triggerAppearance),"$$scope"in a&&n(4,l=a.$$scope)},[s,o,i,t,l]}class Fl extends Q{constructor(e){super(),Z(this,e,UB,qB,J,{isOpen:0,triggerAppearance:1})}}const WB=r=>({}),sh=r=>({handleNewValue:r[0]});function jB(r){let e;const n=r[4].default,t=ke(n,r,r[3],sh);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,[s]){t&&t.p&&(!e||s&8)&&Ce(t,n,l,l[3],e?ye(n,l[3],s,WB):Se(l[3]),sh)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function YB(r,e,n){let{$$slots:t={},$$scope:l}=e;const s=Et();let{duration:o=300}=e,{value:i=void 0}=e,a;function u(c){i!==c&&(n(1,i=c),s("artificialInput",c),s("artificialChange",c))}function f({value:c,debounce:m}){clearTimeout(a),m?a=window.setTimeout(()=>{u(c)},o):u(c)}return us(()=>clearTimeout(a)),r.$$set=c=>{"duration"in c&&n(2,o=c.duration),"value"in c&&n(1,i=c.value),"$$scope"in c&&n(3,l=c.$$scope)},[f,i,o,l,t]}class GB extends Q{constructor(e){super(),Z(this,e,YB,jB,J,{duration:2,value:1})}}function KB(r){let e,n,t;const l=r[3].default,s=ke(l,r,r[2],null);let o=[{class:n=["input-group",r[0]].join(" ")},r[1]],i={};for(let a=0;a<o.length;a+=1)i=se(i,o[a]);return{c(){e=E("div"),s&&s.c(),Tt(e,i)},m(a,u){v(a,e,u),s&&s.m(e,null),t=!0},p(a,[u]){s&&s.p&&(!t||u&4)&&Ce(s,l,a,a[2],t?ye(l,a[2],u,null):Se(a[2]),null),Tt(e,i=de(o,[(!t||u&1&&n!==(n=["input-group",a[0]].join(" ")))&&{class:n},u&2&&a[1]]))},i(a){t||(_(s,a),t=!0)},o(a){p(s,a),t=!1},d(a){a&&$(e),s&&s.d(a)}}}function XB(r,e,n){const t=["class"];let l=We(e,t),{$$slots:s={},$$scope:o}=e,{class:i=""}=e;return r.$$set=a=>{e=se(se({},e),pt(a)),n(1,l=We(e,t)),"class"in a&&n(0,i=a.class),"$$scope"in a&&n(2,o=a.$$scope)},[i,l,o,s]}class Va extends Q{constructor(e){super(),Z(this,e,XB,KB,J,{class:0})}}function JB(r){let e,n,t;const l=r[3].default,s=ke(l,r,r[2],null);let o=[{class:n=["input-group-text",r[0]].join(" ")},r[1]],i={};for(let a=0;a<o.length;a+=1)i=se(i,o[a]);return{c(){e=E("span"),s&&s.c(),Tt(e,i)},m(a,u){v(a,e,u),s&&s.m(e,null),t=!0},p(a,[u]){s&&s.p&&(!t||u&4)&&Ce(s,l,a,a[2],t?ye(l,a[2],u,null):Se(a[2]),null),Tt(e,i=de(o,[(!t||u&1&&n!==(n=["input-group-text",a[0]].join(" ")))&&{class:n},u&2&&a[1]]))},i(a){t||(_(s,a),t=!0)},o(a){p(s,a),t=!1},d(a){a&&$(e),s&&s.d(a)}}}function ZB(r,e,n){const t=["class"];let l=We(e,t),{$$slots:s={},$$scope:o}=e,{class:i=""}=e;return r.$$set=a=>{e=se(se({},e),pt(a)),n(1,l=We(e,t)),"class"in a&&n(0,i=a.class),"$$scope"in a&&n(2,o=a.$$scope)},[i,l,o,s]}class nT extends Q{constructor(e){super(),Z(this,e,ZB,JB,J,{class:0})}}function QB(r){let e,n,t,l,s,o,i,a;const u=[r[6]];function f(g){r[15](g)}let c={};for(let g=0;g<u.length;g+=1)c=se(c,u[g]);r[2]!==void 0&&(c.id=r[2]),e=new Jl({props:c}),we.push(()=>Me(e,"id",f));let m=[r[6],{style:r[5]},{type:"text"},{class:s=["input-element","text-input",r[3]].join(" ")},{id:r[2]}],d={};for(let g=0;g<m.length;g+=1)d=se(d,m[g]);return{c(){C(e.$$.fragment),t=N(),l=E("input"),Tt(l,d),ie(l,"has-error",r[4]),ie(l,"read-only",r[6].readonly)},m(g,h){k(e,g,h),v(g,t,h),v(g,l,h),l.autofocus&&l.focus(),r[16](l),Cs(l,r[0]),o=!0,i||(a=[He(l,"input",r[17]),He(l,"input",r[9]),He(l,"focus",r[10]),He(l,"blur",r[11]),He(l,"keydown",r[12]),He(l,"beforeinput",r[13]),He(l,"change",r[14])],i=!0)},p(g,[h]){const b=h&64?de(u,[_e(g[6])]):{};!n&&h&4&&(n=!0,b.id=g[2],De(()=>n=!1)),e.$set(b),Tt(l,d=de(m,[h&64&&g[6],(!o||h&32)&&{style:g[5]},{type:"text"},(!o||h&8&&s!==(s=["input-element","text-input",g[3]].join(" ")))&&{class:s},(!o||h&4)&&{id:g[2]}])),h&1&&l.value!==g[0]&&Cs(l,g[0]),ie(l,"has-error",g[4]),ie(l,"read-only",g[6].readonly)},i(g){o||(_(e.$$.fragment,g),o=!0)},o(g){p(e.$$.fragment,g),o=!1},d(g){y(e,g),g&&$(t),g&&$(l),r[16](null),i=!1,Ot(a)}}}function xB(r,e,n){let t,l;const s=["value","class","element","hasError","id","cssVariables"];let o=We(e,s),{value:i=void 0}=e,{class:a=""}=e,{element:u=void 0}=e,{hasError:f=!1}=e,{id:c=void 0}=e,{cssVariables:m=void 0}=e;function d(D){Re.call(this,r,D)}function g(D){Re.call(this,r,D)}function h(D){Re.call(this,r,D)}function b(D){Re.call(this,r,D)}function w(D){Re.call(this,r,D)}function S(D){Re.call(this,r,D)}function T(D){c=D,n(2,c)}function M(D){we[D?"unshift":"push"](()=>{u=D,n(1,u)})}function A(){i=this.value,n(0,i)}return r.$$set=D=>{e=se(se({},e),pt(D)),n(6,o=We(e,s)),"value"in D&&n(0,i=D.value),"class"in D&&n(3,a=D.class),"element"in D&&n(1,u=D.element),"hasError"in D&&n(4,f=D.hasError),"id"in D&&n(2,c=D.id),"cssVariables"in D&&n(7,m=D.cssVariables)},r.$$.update=()=>{r.$$.dirty&128&&n(8,t=m?Ml(m):""),n(5,l=NS(t,o.style))},[i,u,c,a,f,l,o,m,t,d,g,h,b,w,S,T,M,A]}class hn extends Q{constructor(e){super(),Z(this,e,xB,QB,J,{value:0,class:3,element:1,hasError:4,id:2,cssVariables:7})}}var ql=-1,Sl=1,Tr=0;function _a(r,e,n,t){if(r===e)return r?[[Tr,r]]:[];if(n!=null){var l=lq(r,e,n);if(l)return l}var s=F_(r,e),o=r.substring(0,s);r=r.substring(s),e=e.substring(s),s=N_(r,e);var i=r.substring(r.length-s);r=r.substring(0,r.length-s),e=e.substring(0,e.length-s);var a=eq(r,e);return o&&a.unshift([Tr,o]),i&&a.push([Tr,i]),rT(a,t),a}function eq(r,e){var n;if(!r)return[[Sl,e]];if(!e)return[[ql,r]];var t=r.length>e.length?r:e,l=r.length>e.length?e:r,s=t.indexOf(l);if(s!==-1)return n=[[Sl,t.substring(0,s)],[Tr,l],[Sl,t.substring(s+l.length)]],r.length>e.length&&(n[0][0]=n[2][0]=ql),n;if(l.length===1)return[[ql,r],[Sl,e]];var o=nq(r,e);if(o){var i=o[0],a=o[1],u=o[2],f=o[3],c=o[4],m=_a(i,u),d=_a(a,f);return m.concat([[Tr,c]],d)}return tq(r,e)}function tq(r,e){for(var n=r.length,t=e.length,l=Math.ceil((n+t)/2),s=l,o=2*l,i=new Array(o),a=new Array(o),u=0;u<o;u++)i[u]=-1,a[u]=-1;i[s+1]=0,a[s+1]=0;for(var f=n-t,c=f%2!==0,m=0,d=0,g=0,h=0,b=0;b<l;b++){for(var w=-b+m;w<=b-d;w+=2){var S=s+w,T;w===-b||w!==b&&i[S-1]<i[S+1]?T=i[S+1]:T=i[S-1]+1;for(var M=T-w;T<n&&M<t&&r.charAt(T)===e.charAt(M);)T++,M++;if(i[S]=T,T>n)d+=2;else if(M>t)m+=2;else if(c){var A=s+f-w;if(A>=0&&A<o&&a[A]!==-1){var D=n-a[A];if(T>=D)return oh(r,e,T,M)}}}for(var O=-b+g;O<=b-h;O+=2){var A=s+O,D;O===-b||O!==b&&a[A-1]<a[A+1]?D=a[A+1]:D=a[A-1]+1;for(var F=D-O;D<n&&F<t&&r.charAt(n-D-1)===e.charAt(t-F-1);)D++,F++;if(a[A]=D,D>n)h+=2;else if(F>t)g+=2;else if(!c){var S=s+f-O;if(S>=0&&S<o&&i[S]!==-1){var T=i[S],M=s+T-S;if(D=n-D,T>=D)return oh(r,e,T,M)}}}}return[[ql,r],[Sl,e]]}function oh(r,e,n,t){var l=r.substring(0,n),s=e.substring(0,t),o=r.substring(n),i=e.substring(t),a=_a(l,s),u=_a(o,i);return a.concat(u)}function F_(r,e){if(!r||!e||r.charAt(0)!==e.charAt(0))return 0;for(var n=0,t=Math.min(r.length,e.length),l=t,s=0;n<l;)r.substring(s,l)==e.substring(s,l)?(n=l,s=n):t=l,l=Math.floor((t-n)/2+n);return lT(r.charCodeAt(l-1))&&l--,l}function N_(r,e){if(!r||!e||r.slice(-1)!==e.slice(-1))return 0;for(var n=0,t=Math.min(r.length,e.length),l=t,s=0;n<l;)r.substring(r.length-l,r.length-s)==e.substring(e.length-l,e.length-s)?(n=l,s=n):t=l,l=Math.floor((t-n)/2+n);return sT(r.charCodeAt(r.length-l))&&l--,l}function nq(r,e){var n=r.length>e.length?r:e,t=r.length>e.length?e:r;if(n.length<4||t.length*2<n.length)return null;function l(d,g,h){for(var b=d.substring(h,h+Math.floor(d.length/4)),w=-1,S="",T,M,A,D;(w=g.indexOf(b,w+1))!==-1;){var O=F_(d.substring(h),g.substring(w)),F=N_(d.substring(0,h),g.substring(0,w));S.length<F+O&&(S=g.substring(w-F,w)+g.substring(w,w+O),T=d.substring(0,h-F),M=d.substring(h+O),A=g.substring(0,w-F),D=g.substring(w+O))}return S.length*2>=d.length?[T,M,A,D,S]:null}var s=l(n,t,Math.ceil(n.length/4)),o=l(n,t,Math.ceil(n.length/2)),i;if(!s&&!o)return null;o?s?i=s[4].length>o[4].length?s:o:i=o:i=s;var a,u,f,c;r.length>e.length?(a=i[0],u=i[1],f=i[2],c=i[3]):(f=i[0],c=i[1],a=i[2],u=i[3]);var m=i[4];return[a,u,f,c,m]}function rT(r,e){r.push([Tr,""]);for(var n=0,t=0,l=0,s="",o="",i;n<r.length;){if(n<r.length-1&&!r[n][1]){r.splice(n,1);continue}switch(r[n][0]){case Sl:l++,o+=r[n][1],n++;break;case ql:t++,s+=r[n][1],n++;break;case Tr:var a=n-l-t-1;if(e){if(a>=0&&iT(r[a][1])){var u=r[a][1].slice(-1);if(r[a][1]=r[a][1].slice(0,-1),s=u+s,o=u+o,!r[a][1]){r.splice(a,1),n--;var f=a-1;r[f]&&r[f][0]===Sl&&(l++,o=r[f][1]+o,f--),r[f]&&r[f][0]===ql&&(t++,s=r[f][1]+s,f--),a=f}}if(oT(r[n][1])){var u=r[n][1].charAt(0);r[n][1]=r[n][1].slice(1),s+=u,o+=u}}if(n<r.length-1&&!r[n][1]){r.splice(n,1);break}if(s.length>0||o.length>0){s.length>0&&o.length>0&&(i=F_(o,s),i!==0&&(a>=0?r[a][1]+=o.substring(0,i):(r.splice(0,0,[Tr,o.substring(0,i)]),n++),o=o.substring(i),s=s.substring(i)),i=N_(o,s),i!==0&&(r[n][1]=o.substring(o.length-i)+r[n][1],o=o.substring(0,o.length-i),s=s.substring(0,s.length-i)));var c=l+t;s.length===0&&o.length===0?(r.splice(n-c,c),n=n-c):s.length===0?(r.splice(n-c,c,[Sl,o]),n=n-c+1):o.length===0?(r.splice(n-c,c,[ql,s]),n=n-c+1):(r.splice(n-c,c,[ql,s],[Sl,o]),n=n-c+2)}n!==0&&r[n-1][0]===Tr?(r[n-1][1]+=r[n][1],r.splice(n,1)):n++,l=0,t=0,s="",o="";break}}r[r.length-1][1]===""&&r.pop();var m=!1;for(n=1;n<r.length-1;)r[n-1][0]===Tr&&r[n+1][0]===Tr&&(r[n][1].substring(r[n][1].length-r[n-1][1].length)===r[n-1][1]?(r[n][1]=r[n-1][1]+r[n][1].substring(0,r[n][1].length-r[n-1][1].length),r[n+1][1]=r[n-1][1]+r[n+1][1],r.splice(n-1,1),m=!0):r[n][1].substring(0,r[n+1][1].length)==r[n+1][1]&&(r[n-1][1]+=r[n+1][1],r[n][1]=r[n][1].substring(r[n+1][1].length)+r[n+1][1],r.splice(n+1,1),m=!0)),n++;m&&rT(r,e)}function lT(r){return r>=55296&&r<=56319}function sT(r){return r>=56320&&r<=57343}function oT(r){return sT(r.charCodeAt(0))}function iT(r){return lT(r.charCodeAt(r.length-1))}function rq(r){for(var e=[],n=0;n<r.length;n++)r[n][1].length>0&&e.push(r[n]);return e}function lm(r,e,n,t){return iT(r)||oT(t)?null:rq([[Tr,r],[ql,e],[Sl,n],[Tr,t]])}function lq(r,e,n){var t=typeof n=="number"?{index:n,length:0}:n.oldRange,l=typeof n=="number"?null:n.newRange,s=r.length,o=e.length;if(t.length===0&&(l===null||l.length===0)){var i=t.index,a=r.slice(0,i),u=r.slice(i),f=l?l.index:null;e:{var c=i+o-s;if(f!==null&&f!==c||c<0||c>o)break e;var m=e.slice(0,c),d=e.slice(c);if(d!==u)break e;var g=Math.min(i,c),h=a.slice(0,g),b=m.slice(0,g);if(h!==b)break e;var w=a.slice(g),S=m.slice(g);return lm(h,w,S,u)}e:{if(f!==null&&f!==i)break e;var T=i,m=e.slice(0,T),d=e.slice(T);if(m!==a)break e;var M=Math.min(s-T,o-T),A=u.slice(u.length-M),D=d.slice(d.length-M);if(A!==D)break e;var w=u.slice(0,u.length-M),S=d.slice(0,d.length-M);return lm(a,w,S,A)}}if(t.length>0&&l&&l.length===0){e:{var h=r.slice(0,t.index),A=r.slice(t.index+t.length),g=h.length,M=A.length;if(o<g+M)break e;var b=e.slice(0,g),D=e.slice(o-M);if(h!==b||A!==D)break e;var w=r.slice(g,s-M),S=e.slice(g,o-M);return lm(h,w,S,A)}}return null}function mc(r,e,n){return _a(r,e,n,!0)}mc.INSERT=Sl;mc.DELETE=ql;mc.EQUAL=Tr;var sm=mc;function sq({oldText:r,oldCursorPosition:e,newText:n}){const t=sm(r,n);let l=0;return t.forEach(s=>{const[o]=s;o===sm.DELETE?l-=1:o===sm.INSERT&&(l+=1)}),l<0&&(l=0),e+l}const oq=["direction","boxSizing","paddingRight","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","fontFamily","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize"];function iq(r,e){const n="caret-position-measurement",t=document.createElement("div");t.id=n,document.body.appendChild(t);const{style:l}=t;l.position="absolute",l.top="0px",l.zIndex="999999999",l.backgroundColor="coral",l.width="max-content",l.whiteSpace="pre",l.visibility="hidden";for(const o of oq)l[o]=e[o];t.textContent=r;const s=t.clientWidth;return t.remove(),s}function aq(r){const{clientWidth:e,scrollWidth:n}=r;if(e>=n)return;const t=r.selectionEnd;if(!t)return;if(t===0){r.scrollLeft=0;return}const l=r.value;if(t===l.length){r.scrollLeft=r.scrollWidth;return}const s=l.substring(0,t),o=iq(s,window.getComputedStyle(r));let i=10;const a=o-r.scrollLeft-e+i;if(a>0){r.scrollLeft+=a;return}i=25;const u=r.scrollLeft-o+i;u>0&&(r.scrollLeft-=u)}function uq(r){let e,n,t;const l=[{value:r[1]},r[5]];function s(i){r[9](i)}let o={};for(let i=0;i<l.length;i+=1)o=se(o,l[i]);return r[0]!==void 0&&(o.element=r[0]),e=new hn({props:o}),we.push(()=>Me(e,"element",s)),e.$on("beforeinput",r[2]),e.$on("blur",r[3]),e.$on("focus",r[10]),e.$on("blur",r[11]),e.$on("blur",r[4]),e.$on("keydown",r[12]),{c(){C(e.$$.fragment)},m(i,a){k(e,i,a),t=!0},p(i,[a]){const u=a&34?de(l,[a&2&&{value:i[1]},a&32&&_e(i[5])]):{};!n&&a&1&&(n=!0,u.element=i[0],De(()=>n=!1)),e.$set(u)},i(i){t||(_(e.$$.fragment,i),t=!0)},o(i){p(e.$$.fragment,i),t=!1},d(i){y(e,i)}}}function fq(r,e,n){let t;const l=["formatter","value","onParseError","element"];let s=We(e,l);const o=Et();let{formatter:i}=e,{value:a=void 0}=e,{onParseError:u=()=>{}}=e,{element:f=void 0}=e,c="",m,d,g;function h(F){d=t(F),(m==null?void 0:m.value)!==F&&(n(1,c=d),g=F)}function b(F){n(6,a=F),o("artificialInput",F)}async function w(F){F.preventDefault();const{value:P,cursorPosition:B}=OO(F);try{m=i.parse(P),b(m.value),n(1,c=m.intermediateDisplay);const j=sq({oldText:P,oldCursorPosition:B,newText:m.intermediateDisplay});if(await sn(),f==null||f.setSelectionRange(j,j),!f)return;aq(f)}catch(j){u({userInput:P,error:j})}}function S(){g!==a&&o("artificialChange",a)}function T(){n(1,c=d!=null?d:"")}function M(F){f=F,n(0,f)}function A(F){Re.call(this,r,F)}function D(F){Re.call(this,r,F)}function O(F){Re.call(this,r,F)}return r.$$set=F=>{e=se(se({},e),pt(F)),n(5,s=We(e,l)),"formatter"in F&&n(7,i=F.formatter),"value"in F&&n(6,a=F.value),"onParseError"in F&&n(8,u=F.onParseError),"element"in F&&n(0,f=F.element)},r.$$.update=()=>{r.$$.dirty&128&&(t=F=>F==null?"":i.format(F)),r.$$.dirty&64&&h(a)},[f,c,w,S,T,s,a,i,u,M,A,D,O]}class za extends Q{constructor(e){super(),Z(this,e,fq,uq,J,{formatter:7,value:6,onParseError:8,element:0})}}function cq(r){const e=new Intl.NumberFormat(r).format(1.2)[1];if(![".",","].includes(e))throw new Error(`Unsupported decimal separator: ${e}`);return e}const aT={allowFloat:!1,allowNegative:!1,useGrouping:!1,minimumFractionDigits:0,maximumFractionDigits:20,forceTrailingDecimal:!1};function uT(r){return{...r,decimalSeparator:cq(r.locale)}}class fT{constructor(e={}){te(this,"opts");this.opts=uT(PO(aT,e))}}function cT(r){const e=["\u2010","\u2011","\u2012","\u2013","\u2014","\u2015","\u2043","\u2212","\uFE63","\uFF0D"];return r.replace(new RegExp(`[${e.join("")}]`,"g"),"-")}function mq(r){const e=!!/^-/.exec(r),n=r.replace(/-/g,"");return`${e?"-":""}${n}`}function dq(r){return r.replace(/,/g,".")}function _q(r){const e=[String.raw`\d`,...r.allowNegative?[Km("-")]:[],...r.allowFloat?[Km(r.decimalSeparator)]:[]],n=new RegExp(`[^${e.join("")}]`,"g");return t=>t.replace(n,"")}function pq(r){return n=>n.split(r.decimalSeparator).reduce((t,l,s)=>{if(t===void 0)return l;const o=s<=1?r.decimalSeparator:"";return`${t}${o}${l}`})}function gq(r){const e=new RegExp(`(^|[^\\d])(?=${Km(r.decimalSeparator)})`);return n=>n.replace(e,"$10")}function hq(r){return r.replace(/^(-?)0*(?!\.|$)/,"$1")}function bq(r){return r.replace(/(\.(?:[1-9]|0(?=0*[1-9]))*)(0*)$/,"$1")}function $q(r){return r.replace(/\.$/,"")}function mT(r){return e=>r.reduce((n,t)=>t(n),e)}function dT(r){return mT([cT,_q(r),mq,pq(r),dq,gq(r),hq])}function vq(r){return mT([dT(r),bq,$q])}function wq(r){return e=>e.some(n=>n.type==="decimal")?e:[...e,{type:"decimal",value:r.decimalSeparator}]}function kq(r){return r.map(e=>e.value).join("")}function pa(r){function e(t){return Number.isNaN(t)?["Value is NaN."]:!r.allowNegative&&(t<0||Object.is(t,-0))?["Value must be positive."]:!r.allowFloat&&typeof t=="number"&&t%1!==0?["Value must be an integer."]:[]}function n(t){const l=e(t);if(l.length)throw new Error(`Unable to format value. ${l.join(", ")}`);const s=Intl.NumberFormat(r.locale,{numberingSystem:"latn",minimumFractionDigits:r.minimumFractionDigits,maximumFractionDigits:Math.max(r.minimumFractionDigits,r.maximumFractionDigits),useGrouping:r.useGrouping}).formatToParts(t),o=[];r.forceTrailingDecimal&&o.push(wq(r));const i=o.reduce((u,f)=>f(u),s),a=kq(i);return cT(a)}return n}function yq(r){return pa(uT({locale:"en-US",allowFloat:!0,allowNegative:!0,useGrouping:!1,minimumFractionDigits:0,maximumFractionDigits:20,forceTrailingDecimal:!1}))(r)}function Cq(r){return e=>e.replace(/\./g,r.decimalSeparator)}function Sq(r){var e;return((e=r.split(".")[1])!=null?e:"").length}function Tq(r){return r.endsWith(".")}function Iq(r){const e=parseFloat(r);if(!Number.isNaN(e))return e}function Eq(r){try{return BigInt(r)}catch(e){return}}function ed(r){function e(n){const t=dT(r)(n),l=Iq(t);if(l===void 0)return{value:null,intermediateDisplay:t};const s=vq(r)(n);if(yq(l)===s){const a=Object.is(l,-0)?-0:parseFloat(l.toFixed(r.maximumFractionDigits));return{value:{type:"number",numericalValue:a,normalizedStringifiedNumber:a.toString()},intermediateDisplay:pa({...r,forceTrailingDecimal:Tq(t),minimumFractionDigits:Math.min(Sq(t),r.maximumFractionDigits)})(a)}}const i=Eq(t);return i!==void 0?{value:{type:"bigint",numericalValue:i,normalizedStringifiedNumber:s},intermediateDisplay:pa({...r,forceTrailingDecimal:!1,minimumFractionDigits:0,maximumFractionDigits:0})(i)}:{value:{type:"bigfloat",normalizedStringifiedNumber:s},intermediateDisplay:Cq(r)(t)}}return e}class Mq extends fT{format(e){return pa(this.opts)(e)}parse(e){const n=ed(this.opts)(e);if(n.value===null)return{value:null,intermediateDisplay:n.intermediateDisplay};if(n.value.type!=="number")throw new Error("Number input could not be accurately parsed to a JavaScript number without loss of precision.");return{value:n.value.numericalValue,intermediateDisplay:n.intermediateDisplay}}}class P_ extends fT{format(e){var l;const t=ed({...this.opts,decimalSeparator:"."})(e);switch((l=t.value)==null?void 0:l.type){case"bigfloat":return t.value.normalizedStringifiedNumber;case"number":case"bigint":return pa(this.opts)(t.value.numericalValue);default:return""}}parse(e){var l,s;const t=ed(this.opts)(e);return{value:(s=(l=t.value)==null?void 0:l.normalizedStringifiedNumber)!=null?s:null,intermediateDisplay:t.intermediateDisplay}}}function _T(r){const e={...aT,...r},{allowFloat:n,allowNegative:t}=e;return t?"text":n?"decimal":"numeric"}function Rq(r){let e,n,t,l;const s=[{formatter:r[3]},r[4],{inputmode:r[2]}];function o(u){r[5](u)}function i(u){r[6](u)}let a={};for(let u=0;u<s.length;u+=1)a=se(a,s[u]);return r[0]!==void 0&&(a.value=r[0]),r[1]!==void 0&&(a.element=r[1]),e=new za({props:a}),we.push(()=>Me(e,"value",o)),we.push(()=>Me(e,"element",i)),e.$on("artificialInput",r[7]),e.$on("artificialChange",r[8]),{c(){C(e.$$.fragment)},m(u,f){k(e,u,f),l=!0},p(u,[f]){const c=f&28?de(s,[f&8&&{formatter:u[3]},f&16&&_e(u[4]),f&4&&{inputmode:u[2]}]):{};!n&&f&1&&(n=!0,c.value=u[0],De(()=>n=!1)),!t&&f&2&&(t=!0,c.element=u[1],De(()=>t=!1)),e.$set(c)},i(u){l||(_(e.$$.fragment,u),l=!0)},o(u){p(e.$$.fragment,u),l=!1},d(u){y(e,u)}}}function Dq(r,e,n){let t,l;const s=["value","element"];let o=We(e,s),{value:i=void 0}=e,{element:a=void 0}=e;function u(d){i=d,n(0,i)}function f(d){a=d,n(1,a)}function c(d){Re.call(this,r,d)}function m(d){Re.call(this,r,d)}return r.$$set=d=>{e=se(se({},e),pt(d)),n(4,o=We(e,s)),"value"in d&&n(0,i=d.value),"element"in d&&n(1,a=d.element)},r.$$.update=()=>{n(3,t=new Mq(o)),n(2,l=_T(o))},[i,a,l,t,o,u,f,c,m]}class dc extends Q{constructor(e){super(),Z(this,e,Dq,Rq,J,{value:0,element:1})}}function Aq(r){let e,n,t,l;const s=[r[4],{formatter:r[3]},{inputmode:r[2]}];function o(u){r[5](u)}function i(u){r[6](u)}let a={};for(let u=0;u<s.length;u+=1)a=se(a,s[u]);return r[0]!==void 0&&(a.value=r[0]),r[1]!==void 0&&(a.element=r[1]),e=new za({props:a}),we.push(()=>Me(e,"value",o)),we.push(()=>Me(e,"element",i)),e.$on("blur",r[7]),e.$on("focus",r[8]),e.$on("keydown",r[9]),e.$on("artificialInput",r[10]),e.$on("artificialChange",r[11]),{c(){C(e.$$.fragment)},m(u,f){k(e,u,f),l=!0},p(u,[f]){const c=f&28?de(s,[f&16&&_e(u[4]),f&8&&{formatter:u[3]},f&4&&{inputmode:u[2]}]):{};!n&&f&1&&(n=!0,c.value=u[0],De(()=>n=!1)),!t&&f&2&&(t=!0,c.element=u[1],De(()=>t=!1)),e.$set(c)},i(u){l||(_(e.$$.fragment,u),l=!0)},o(u){p(e.$$.fragment,u),l=!1},d(u){y(e,u)}}}function Oq(r,e,n){let t,l;const s=["value","element"];let o=We(e,s),{value:i=void 0}=e,{element:a=void 0}=e;function u(b){i=b,n(0,i)}function f(b){a=b,n(1,a)}function c(b){Re.call(this,r,b)}function m(b){Re.call(this,r,b)}function d(b){Re.call(this,r,b)}function g(b){Re.call(this,r,b)}function h(b){Re.call(this,r,b)}return r.$$set=b=>{e=se(se({},e),pt(b)),n(4,o=We(e,s)),"value"in b&&n(0,i=b.value),"element"in b&&n(1,a=b.element)},r.$$.update=()=>{n(3,t=new P_(o)),n(2,l=_T(o))},[i,a,l,t,o,u,f,c,m,d,g,h]}class pT extends Q{constructor(e){super(),Z(this,e,Oq,Aq,J,{value:0,element:1})}}const Fq=r=>({close:r&33554432}),ih=r=>({close:r[25]}),Nq=r=>({}),ah=r=>({});function uh(r){let e,n,t;const l=[Gr,{size:"0.75em"}];let s={};for(let o=0;o<l.length;o+=1)s=se(s,l[o]);return n=new Ne({props:s}),{c(){e=E("span"),C(n.$$.fragment),I(e,"class","arrow")},m(o,i){v(o,e,i),k(n,e,null),t=!0},p(o,i){const a=i&0?de(l,[_e(Gr),l[1]]):{};n.$set(a)},i(o){t||(_(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&$(e),y(n)}}}function Pq(r){let e,n,t,l;const s=r[17].trigger,o=ke(s,r,r[24],ah);let i=r[8]&&uh();return{c(){e=E("span"),o&&o.c(),n=N(),i&&i.c(),t=ae(),I(e,"class","label")},m(a,u){v(a,e,u),o&&o.m(e,null),v(a,n,u),i&&i.m(a,u),v(a,t,u),l=!0},p(a,u){o&&o.p&&(!l||u&16777216)&&Ce(o,s,a,a[24],l?ye(s,a[24],u,Nq):Se(a[24]),ah),a[8]?i?(i.p(a,u),u&256&&_(i,1)):(i=uh(),i.c(),_(i,1),i.m(t.parentNode,t)):i&&(U(),p(i,1,1,()=>{i=null}),W())},i(a){l||(_(o,a),_(i),l=!0)},o(a){p(o,a),p(i),l=!1},d(a){a&&$(e),o&&o.d(a),a&&$(n),i&&i.d(a),a&&$(t)}}}function Lq(r){let e;const n=r[17].content,t=ke(n,r,r[24],ih);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&50331648)&&Ce(t,n,l,l[24],e?ye(n,l[24],s,Fq):Se(l[24]),ih)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function Hq(r){let e,n,t,l,s;const o=[{appearance:r[1]},{class:r[12]},{"aria-controls":r[5]},{"aria-haspopup":"listbox"},{"aria-label":r[4]},{title:r[4]},{size:r[9]},{disabled:r[10]},r[15]];function i(u){r[18](u)}let a={$$slots:{default:[Pq]},$$scope:{ctx:r}};for(let u=0;u<o.length;u+=1)a=se(a,o[u]);return r[11]!==void 0&&(a.element=r[11]),e=new st({props:a}),we.push(()=>Me(e,"element",i)),e.$on("click",r[13]),e.$on("keydown",r[19]),e.$on("focus",r[20]),e.$on("blur",r[21]),l=new Xl({props:{trigger:r[11],isOpen:r[0],placements:r[6],preferredPlacement:r[7],class:r[2],closeOnInnerClick:r[3],$$slots:{default:[Lq,({close:u})=>({25:u}),({close:u})=>u?33554432:0]},$$scope:{ctx:r}}}),l.$on("close",r[14]),l.$on("open",r[22]),l.$on("close",r[23]),{c(){C(e.$$.fragment),t=N(),C(l.$$.fragment)},m(u,f){k(e,u,f),v(u,t,f),k(l,u,f),s=!0},p(u,[f]){const c=f&38450?de(o,[f&2&&{appearance:u[1]},f&4096&&{class:u[12]},f&32&&{"aria-controls":u[5]},o[3],f&16&&{"aria-label":u[4]},f&16&&{title:u[4]},f&512&&{size:u[9]},f&1024&&{disabled:u[10]},f&32768&&_e(u[15])]):{};f&16777472&&(c.$$scope={dirty:f,ctx:u}),!n&&f&2048&&(n=!0,c.element=u[11],De(()=>n=!1)),e.$set(c);const m={};f&2048&&(m.trigger=u[11]),f&1&&(m.isOpen=u[0]),f&64&&(m.placements=u[6]),f&128&&(m.preferredPlacement=u[7]),f&4&&(m.class=u[2]),f&8&&(m.closeOnInnerClick=u[3]),f&50331648&&(m.$$scope={dirty:f,ctx:u}),l.$set(m)},i(u){s||(_(e.$$.fragment,u),_(l.$$.fragment,u),s=!0)},o(u){p(e.$$.fragment,u),p(l.$$.fragment,u),s=!1},d(u){y(e,u),u&&$(t),y(l,u)}}}function Vq(r,e){const n=["dropdown","trigger"];return r&&n.push(r),e||n.push("no-arrow"),n.join(" ")}function zq(r,e,n){let t;const l=["triggerClass","triggerAppearance","contentClass","isOpen","closeOnInnerClick","ariaLabel","ariaControls","placements","preferredPlacement","showArrow","size","disabled"];let s=We(e,l),{$$slots:o={},$$scope:i}=e,{triggerClass:a=""}=e,{triggerAppearance:u="default"}=e,{contentClass:f=""}=e,{isOpen:c=!1}=e,{closeOnInnerClick:m=!1}=e,{ariaLabel:d=void 0}=e,{ariaControls:g=void 0}=e,{placements:h=void 0}=e,{preferredPlacement:b=void 0}=e,{showArrow:w=!0}=e,{size:S="medium"}=e,{disabled:T=!1}=e,M;function A(q){q.preventDefault(),n(0,c=!c)}function D(){n(0,c=!1)}function O(q){M=q,n(11,M)}function F(q){Re.call(this,r,q)}function P(q){Re.call(this,r,q)}function B(q){Re.call(this,r,q)}function j(q){Re.call(this,r,q)}function V(q){Re.call(this,r,q)}return r.$$set=q=>{e=se(se({},e),pt(q)),n(15,s=We(e,l)),"triggerClass"in q&&n(16,a=q.triggerClass),"triggerAppearance"in q&&n(1,u=q.triggerAppearance),"contentClass"in q&&n(2,f=q.contentClass),"isOpen"in q&&n(0,c=q.isOpen),"closeOnInnerClick"in q&&n(3,m=q.closeOnInnerClick),"ariaLabel"in q&&n(4,d=q.ariaLabel),"ariaControls"in q&&n(5,g=q.ariaControls),"placements"in q&&n(6,h=q.placements),"preferredPlacement"in q&&n(7,b=q.preferredPlacement),"showArrow"in q&&n(8,w=q.showArrow),"size"in q&&n(9,S=q.size),"disabled"in q&&n(10,T=q.disabled),"$$scope"in q&&n(24,i=q.$$scope)},r.$$.update=()=>{r.$$.dirty&65792&&n(12,t=Vq(a,w))},[c,u,f,m,d,g,h,b,w,S,T,M,t,A,D,s,a,o,O,F,P,B,j,V,i]}class Nl extends Q{constructor(e){super(),Z(this,e,zq,Hq,J,{triggerClass:16,triggerAppearance:1,contentClass:2,isOpen:0,closeOnInnerClick:3,ariaLabel:4,ariaControls:5,placements:6,preferredPlacement:7,showArrow:8,size:9,disabled:10})}}const Bq=r=>({isOpen:r[0]&2}),fh=r=>({api:r[0],isOpen:r[1]});function qq(r){let e;const n=r[17].default,t=ke(n,r,r[16],fh);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s[0]&65538)&&Ce(t,n,l,l[16],e?ye(n,l[16],s,Bq):Se(l[16]),fh)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function Uq(r,e,n){let t,l,s,{$$slots:o={},$$scope:i}=e;const a=Et();let{selectionType:u="multiple"}=e,{options:f}=e,{value:c=[]}=e,{searchable:m=!1}=e,{disabled:d=!1}=e,{labelKey:g="label"}=e,{getLabel:h=ge=>$i(ge,g)}=e,{checkEquality:b=(ge,pe)=>ge===pe}=e,{checkIfOptionIsDisabled:w=()=>!1}=e,{mode:S="dropdown"}=e;const T=Ue(!1);ne(r,T,ge=>n(1,t=ge));const M=Ue(-1);ne(r,M,ge=>n(18,l=ge));const A=Ue(Array.isArray(f)?f:[]);ne(r,A,ge=>n(15,s=ge));function D(){const ge=c[c.length-1];Pn(M,l=s.findIndex(pe=>b(ge,pe)),l)}tn(()=>{S==="static"&&D()});function O(){d||(Pn(T,t=!0,t),D())}function F(){d||Pn(T,t=!1,t)}function P(){d||(t?F():O())}function B(ge){const pe=s.findIndex(Le=>b(ge,Le));Pn(M,l=pe,l)}function j(){const ge=s.length;Pn(M,l=l===ge-1?0:l+1,l)}function V(){const ge=s.length;Pn(M,l=l<=0?ge-1:l-1,l)}function q(ge){return u==="single"?b(ge,c[0]):c.some(pe=>b(ge,pe))}function G(ge){if(B(ge),!w(ge)){if(q(ge)){u==="single"&&F();return}u==="single"?(n(5,c=[ge]),F()):n(5,c=[...c,ge]),a("change",c)}}function Y(ge){B(ge),!w(ge)&&(!q(ge)||(u==="single"?(n(5,c=[]),F()):n(5,c=c.filter(pe=>!b(ge,pe))),a("change",c)))}function K(ge){u==="single"?G(ge):q(ge)?Y(ge):G(ge),a("pick",ge)}function ee(){const ge=s[l];K(ge)}function x(ge){if(t||S!=="dropdown")switch(ge.key){case"ArrowDown":ge.preventDefault(),j();break;case"ArrowUp":ge.preventDefault(),V();break;case"Escape":ge.preventDefault(),F();break;case"Enter":ge.preventDefault(),ee();break}else switch(ge.key){case"Enter":ge.preventDefault(),O();break}}const X={open:O,close:F,toggle:P,focusOption:B,focusNext:j,focusPrevious:V,isOptionSelected:q,select:G,deselect:Y,pick:K,pickFocused:ee,handleKeyDown:x},fe=Ue(c),he=Ue({selectionType:u,getLabel:h,searchable:m,disabled:d,checkEquality:b,checkIfOptionIsDisabled:w,mode:S});return Fr("LIST_BOX_CONTEXT",{api:X,state:{isOpen:T,displayedOptions:A,focusedOptionIndex:M,value:fe,staticProps:he}}),r.$$set=ge=>{"selectionType"in ge&&n(6,u=ge.selectionType),"options"in ge&&n(7,f=ge.options),"value"in ge&&n(5,c=ge.value),"searchable"in ge&&n(8,m=ge.searchable),"disabled"in ge&&n(9,d=ge.disabled),"labelKey"in ge&&n(10,g=ge.labelKey),"getLabel"in ge&&n(11,h=ge.getLabel),"checkEquality"in ge&&n(12,b=ge.checkEquality),"checkIfOptionIsDisabled"in ge&&n(13,w=ge.checkIfOptionIsDisabled),"mode"in ge&&n(14,S=ge.mode),"$$scope"in ge&&n(16,i=ge.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&128&&A.set(Array.isArray(f)?f:[]),r.$$.dirty[0]&32800&&D(),r.$$.dirty[0]&32&&fe.set(c),r.$$.dirty[0]&31552&&he.set({selectionType:u,getLabel:h,searchable:m,disabled:d,checkEquality:b,checkIfOptionIsDisabled:w,mode:S})},[X,t,T,M,A,c,u,f,m,d,g,h,b,w,S,s,i,o]}class Ba extends Q{constructor(e){super(),Z(this,e,Uq,qq,J,{selectionType:6,options:7,value:5,searchable:8,disabled:9,labelKey:10,getLabel:11,checkEquality:12,checkIfOptionIsDisabled:13,mode:14,api:0},null,[-1,-1])}get api(){return this.$$.ctx[0]}}function ch(r,e,n){const t=r.slice();t[25]=e[n],t[30]=n;const l=t[7].some(i=>t[5].checkEquality(i,t[25]));t[26]=l;const s=t[5].checkIfOptionIsDisabled(t[25]);t[27]=s;const o=t[30]===t[8];return t[28]=o,t}const Wq=r=>({option:r&64,isSelected:r&224,inFocus:r&320,label:r&96}),mh=r=>({option:r[25],isSelected:r[26],inFocus:r[28],label:r[5].getLabel(r[25])});function jq(r){let e,n;return e=new Nr({props:{arg:r[5].getLabel(r[25])}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&96&&(s.arg=t[5].getLabel(t[25])),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function dh(r,e){let n,t,l,s,o,i;const a=e[16].default,u=ke(a,e,e[15],mh),f=u||jq(e);function c(){return e[20](e[25])}function m(){return e[21](e[25])}return{key:r,first:null,c(){n=E("li"),f&&f.c(),t=N(),I(n,"role","option"),I(n,"aria-selected",l=e[26]?!0:void 0),ie(n,"selected",e[26]),ie(n,"disabled",e[27]),ie(n,"in-focus",e[28]),this.first=n},m(d,g){v(d,n,g),f&&f.m(n,null),R(n,t),s=!0,o||(i=[He(n,"mousedown",c),He(n,"click",m)],o=!0)},p(d,g){e=d,u?u.p&&(!s||g&33248)&&Ce(u,a,e,e[15],s?ye(a,e[15],g,Wq):Se(e[15]),mh):f&&f.p&&(!s||g&96)&&f.p(e,s?g:-1),(!s||g&224&&l!==(l=e[26]?!0:void 0))&&I(n,"aria-selected",l),(!s||g&224)&&ie(n,"selected",e[26]),(!s||g&96)&&ie(n,"disabled",e[27]),(!s||g&320)&&ie(n,"in-focus",e[28])},i(d){s||(_(f,d),s=!0)},o(d){p(f,d),s=!1},d(d){d&&$(n),f&&f.d(d),o=!1,Ot(i)}}}function Yq(r){let e,n=[],t=new Map,l,s,o,i,a,u=r[6];const f=c=>c[25];for(let c=0;c<u.length;c+=1){let m=ch(r,u,c),d=f(m);t.set(d,n[c]=dh(d,m))}return{c(){e=E("ul");for(let c=0;c<n.length;c+=1)n[c].c();I(e,"tabindex",l=r[3]?0:-1),I(e,"id",r[0]),I(e,"role","listbox"),I(e,"aria-expanded","true"),I(e,"class",s=["list-box-options",r[5].selectionType,r[1]].join(" ")),ie(e,"truncate",r[2]),ie(e,"disabled",r[5].disabled)},m(c,m){v(c,e,m);for(let d=0;d<n.length;d+=1)n[d].m(e,null);r[22](e),o=!0,i||(a=[He(e,"focus",r[17]),He(e,"blur",r[18]),He(e,"keydown",r[19])],i=!0)},p(c,[m]){m&33760&&(u=c[6],U(),n=ht(n,m,f,1,c,u,t,e,kt,dh,null,ch),W()),(!o||m&8&&l!==(l=c[3]?0:-1))&&I(e,"tabindex",l),(!o||m&1)&&I(e,"id",c[0]),(!o||m&34&&s!==(s=["list-box-options",c[5].selectionType,c[1]].join(" ")))&&I(e,"class",s),(!o||m&38)&&ie(e,"truncate",c[2]),(!o||m&34)&&ie(e,"disabled",c[5].disabled)},i(c){if(!o){for(let m=0;m<u.length;m+=1)_(n[m]);o=!0}},o(c){for(let m=0;m<n.length;m+=1)p(n[m]);o=!1},d(c){c&&$(e);for(let m=0;m<n.length;m+=1)n[m].d();r[22](null),i=!1,Ot(a)}}}function Gq(r,e,n){let t,l,s,o,{$$slots:i={},$$scope:a}=e,{id:u=void 0}=e,{class:f=""}=e,{truncateOnOverflow:c=!0}=e,{offsetOnFocus:m=0}=e,{userFocusable:d=!1}=e;const{api:g,state:h}=Wn("LIST_BOX_CONTEXT"),{displayedOptions:b,value:w,focusedOptionIndex:S,staticProps:T}=h;ne(r,b,V=>n(6,l=V)),ne(r,w,V=>n(7,s=V)),ne(r,S,V=>n(8,o=V)),ne(r,T,V=>n(5,t=V));let M;function A(){if(M){const V=M.querySelector(".in-focus"),q=t.mode==="dropdown"?M.parentElement:M;if(V&&q)if(V.offsetTop+V.clientHeight+m>q.scrollTop+q.clientHeight){const G=q.getBoundingClientRect().bottom-V.getBoundingClientRect().bottom-m*2;q.scrollTop-=G}else V.offsetTop<q.scrollTop&&(q.scrollTop=V.offsetTop-m)}}tn(()=>(A(),S.subscribe(()=>{sn().then(()=>A())})));function D(V){Re.call(this,r,V)}function O(V){Re.call(this,r,V)}function F(V){Re.call(this,r,V)}const P=V=>g.focusOption(V),B=V=>g.pick(V);function j(V){we[V?"unshift":"push"](()=>{M=V,n(4,M)})}return r.$$set=V=>{"id"in V&&n(0,u=V.id),"class"in V&&n(1,f=V.class),"truncateOnOverflow"in V&&n(2,c=V.truncateOnOverflow),"offsetOnFocus"in V&&n(14,m=V.offsetOnFocus),"userFocusable"in V&&n(3,d=V.userFocusable),"$$scope"in V&&n(15,a=V.$$scope)},[u,f,c,d,M,t,l,s,o,g,b,w,S,T,m,a,i,D,O,F,P,B,j]}class co extends Q{constructor(e){super(),Z(this,e,Gq,Yq,J,{id:0,class:1,truncateOnOverflow:2,offsetOnFocus:14,userFocusable:3})}}const Kq=r=>({option:r[0]&268435456,label:r[0]&536870912}),_h=r=>({option:r[28],label:r[29]});function ph(r,e,n){const t=r.slice();return t[30]=e[n],t}const Xq=r=>({option:r[0]&1,label:r[0]&17}),gh=r=>({option:r[30],label:r[4](r[30])});function Jq(r){let e,n;return e=new Nr({props:{arg:r[4](r[30])}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&17&&(s.arg=t[4](t[30])),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Zq(r){let e;const n=r[16].default,t=ke(n,r,r[23],gh);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s[0]&8388625)&&Ce(t,n,l,l[23],e?ye(n,l[23],s,Xq):Se(l[23]),gh)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function hh(r){let e,n,t,l,s,o,i,a,u,f,c;const m=[Zq,Jq],d=[];function g(b,w){return b[14].default?0:1}t=g(r),l=d[t]=m[t](r),i=new Ne({props:{data:R_,size:"0.8em"}});function h(){return r[17](r[30])}return{c(){e=E("span"),n=E("span"),l.c(),s=N(),o=E("span"),C(i.$$.fragment),a=N(),I(n,"class","value"),I(o,"class","remove-button icon-button"),I(e,"class","selected-value")},m(b,w){v(b,e,w),R(e,n),d[t].m(n,null),R(e,s),R(e,o),k(i,o,null),R(e,a),u=!0,f||(c=He(o,"click",$s(h)),f=!0)},p(b,w){r=b;let S=t;t=g(r),t===S?d[t].p(r,w):(U(),p(d[S],1,1,()=>{d[S]=null}),W(),l=d[t],l?l.p(r,w):(l=d[t]=m[t](r),l.c()),_(l,1),l.m(n,null))},i(b){u||(_(l),_(i.$$.fragment,b),u=!0)},o(b){p(l),p(i.$$.fragment,b),u=!1},d(b){b&&$(e),d[t].d(),y(i),f=!1,c()}}}function Qq(r){let e,n;return e=new co({props:{id:r[1]+"-select-options"}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&2&&(s.id=t[1]+"-select-options"),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function xq(r){let e,n;return e=new co({props:{id:r[1]+"-select-options",$$slots:{default:[eU,({option:t,label:l})=>({28:t,29:l}),({option:t,label:l})=>[(t?268435456:0)|(l?536870912:0)]]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&2&&(s.id=t[1]+"-select-options"),l[0]&813694976&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function eU(r){let e;const n=r[16].default,t=ke(n,r,r[23],_h);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s[0]&813694976)&&Ce(t,n,l,l[23],e?ye(n,l[23],s,Kq):Se(l[23]),_h)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function tU(r){let e,n,t,l;const s=[xq,Qq],o=[];function i(a,u){return a[14].default?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function nU(r){let e,n,t,l,s,o,i,a,u,f,c,m=r[0],d=[];for(let b=0;b<m.length;b+=1)d[b]=hh(ph(r,m,b));const g=b=>p(d[b],1,1,()=>{d[b]=null});s=new Ne({props:{data:G9}});function h(){return r[20](r[26])}return a=new Xl({props:{isOpen:r[27],class:"multi-select-content "+r[6],trigger:r[10],$$slots:{default:[tU]},$$scope:{ctx:r}}}),a.$on("close",h),{c(){e=E("span"),n=E("span");for(let b=0;b<d.length;b+=1)d[b].c();t=N(),l=E("span"),C(s.$$.fragment),i=N(),C(a.$$.fragment),I(n,"class","selected-values"),I(l,"class","clear-button icon-button"),I(e,"class",o="input-element multi-select-trigger "+r[7]),I(e,"aria-label",r[8]),I(e,"tabindex","0"),I(e,"id",r[1]),ie(e,"disabled",r[2])},m(b,w){v(b,e,w),R(e,n);for(let S=0;S<d.length;S+=1)d[S].m(n,null);R(e,t),R(e,l),k(s,l,null),r[19](e),v(b,i,w),k(a,b,w),u=!0,f||(c=[He(l,"click",$s(r[18])),He(e,"click",function(){St(r[26].toggle)&&r[26].toggle.apply(this,arguments)}),He(e,"keydown",function(){St(r[26].handleKeyDown)&&r[26].handleKeyDown.apply(this,arguments)})],f=!0)},p(b,w){if(r=b,w[0]&8409105){m=r[0];let T;for(T=0;T<m.length;T+=1){const M=ph(r,m,T);d[T]?(d[T].p(M,w),_(d[T],1)):(d[T]=hh(M),d[T].c(),_(d[T],1),d[T].m(n,null))}for(U(),T=m.length;T<d.length;T+=1)g(T);W()}(!u||w[0]&128&&o!==(o="input-element multi-select-trigger "+r[7]))&&I(e,"class",o),(!u||w[0]&256)&&I(e,"aria-label",r[8]),(!u||w[0]&2)&&I(e,"id",r[1]),(!u||w[0]&132)&&ie(e,"disabled",r[2]);const S={};w[0]&134217728&&(S.isOpen=r[27]),w[0]&64&&(S.class="multi-select-content "+r[6]),w[0]&1024&&(S.trigger=r[10]),w[0]&8404994&&(S.$$scope={dirty:w,ctx:r}),a.$set(S)},i(b){if(!u){for(let w=0;w<m.length;w+=1)_(d[w]);_(s.$$.fragment,b),_(a.$$.fragment,b),u=!0}},o(b){d=d.filter(Boolean);for(let w=0;w<d.length;w+=1)p(d[w]);p(s.$$.fragment,b),p(a.$$.fragment,b),u=!1},d(b){b&&$(e),Hn(d,b),y(s),r[19](null),b&&$(i),y(a,b),f=!1,Ot(c)}}}function rU(r){let e,n,t,l,s;const o=[r[13],{id:r[1]},{disabled:r[2]}];let i={};for(let f=0;f<o.length;f+=1)i=se(i,o[f]);e=new Jl({props:i});function a(f){r[21](f)}let u={options:r[5],labelKey:r[3],getLabel:r[4],disabled:r[2],checkEquality:r[9],$$slots:{default:[nU,({api:f,isOpen:c})=>({26:f,27:c}),({api:f,isOpen:c})=>[(f?67108864:0)|(c?134217728:0)]]},$$scope:{ctx:r}};return r[0]!==void 0&&(u.value=r[0]),t=new Ba({props:u}),we.push(()=>Me(t,"value",a)),t.$on("change",r[22]),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(f,c){k(e,f,c),v(f,n,c),k(t,f,c),s=!0},p(f,c){const m=c[0]&8198?de(o,[c[0]&8192&&_e(f[13]),c[0]&2&&{id:f[1]},c[0]&4&&{disabled:f[2]}]):{};e.$set(m);const d={};c[0]&32&&(d.options=f[5]),c[0]&8&&(d.labelKey=f[3]),c[0]&16&&(d.getLabel=f[4]),c[0]&4&&(d.disabled=f[2]),c[0]&512&&(d.checkEquality=f[9]),c[0]&209733079&&(d.$$scope={dirty:c,ctx:f}),!l&&c[0]&1&&(l=!0,d.value=f[0],De(()=>l=!1)),t.$set(d)},i(f){s||(_(e.$$.fragment,f),_(t.$$.fragment,f),s=!0)},o(f){p(e.$$.fragment,f),p(t.$$.fragment,f),s=!1},d(f){y(e,f),f&&$(n),y(t,f)}}}function lU(r,e,n){const t=["id","disabled","labelKey","getLabel","options","values","contentClass","triggerClass","ariaLabel","valuesAreEqual","autoClearInvalidValues"];let l=We(e,t),{$$slots:s={},$$scope:o}=e;const i=mr(s),a=Et();let{id:u=vr()}=e,{disabled:f=!1}=e,{labelKey:c="label"}=e,{getLabel:m=G=>$i(G,c)}=e,{options:d=[]}=e,{values:g=[]}=e,{contentClass:h=""}=e,{triggerClass:b=""}=e,{ariaLabel:w=void 0}=e,{valuesAreEqual:S=(G,Y)=>G===Y}=e,{autoClearInvalidValues:T=!0}=e,M;function A(G){n(0,g=G),a("change",g)}function D(G){A(g.filter(Y=>!S(Y,G)))}function O(G){T&&A(g.filter(Y=>G.some(K=>S(K,Y))))}const F=G=>D(G),P=()=>A([]);function B(G){we[G?"unshift":"push"](()=>{M=G,n(10,M)})}const j=G=>G.close();function V(G){g=G,n(0,g)}function q(G){Re.call(this,r,G)}return r.$$set=G=>{e=se(se({},e),pt(G)),n(13,l=We(e,t)),"id"in G&&n(1,u=G.id),"disabled"in G&&n(2,f=G.disabled),"labelKey"in G&&n(3,c=G.labelKey),"getLabel"in G&&n(4,m=G.getLabel),"options"in G&&n(5,d=G.options),"values"in G&&n(0,g=G.values),"contentClass"in G&&n(6,h=G.contentClass),"triggerClass"in G&&n(7,b=G.triggerClass),"ariaLabel"in G&&n(8,w=G.ariaLabel),"valuesAreEqual"in G&&n(9,S=G.valuesAreEqual),"autoClearInvalidValues"in G&&n(15,T=G.autoClearInvalidValues),"$$scope"in G&&n(23,o=G.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&32&&O(d)},[g,u,f,c,m,d,h,b,w,S,M,A,D,l,i,T,s,F,P,B,j,V,q,o]}class _c extends Q{constructor(e){super(),Z(this,e,lU,rU,J,{id:1,disabled:2,labelKey:3,getLabel:4,options:5,values:0,contentClass:6,triggerClass:7,ariaLabel:8,valuesAreEqual:9,autoClearInvalidValues:15},null,[-1,-1])}}function sU(r){let e,n,t,l,s,o,i,a;const u=[r[5]];function f(g){r[12](g)}let c={};for(let g=0;g<u.length;g+=1)c=se(c,u[g]);r[2]!==void 0&&(c.id=r[2]),e=new Jl({props:c}),we.push(()=>Me(e,"id",f));let m=[r[5],{type:"password"},{class:s=["input-element","password-input",...r[3].split(" ")].join(" ")},{id:r[2]}],d={};for(let g=0;g<m.length;g+=1)d=se(d,m[g]);return{c(){C(e.$$.fragment),t=N(),l=E("input"),Tt(l,d),ie(l,"has-error",r[4])},m(g,h){k(e,g,h),v(g,t,h),v(g,l,h),l.autofocus&&l.focus(),r[13](l),Cs(l,r[0]),o=!0,i||(a=[He(l,"input",r[14]),He(l,"input",r[6]),He(l,"focus",r[7]),He(l,"blur",r[8]),He(l,"keydown",r[9]),He(l,"beforeinput",r[10]),He(l,"change",r[11])],i=!0)},p(g,[h]){const b=h&32?de(u,[_e(g[5])]):{};!n&&h&4&&(n=!0,b.id=g[2],De(()=>n=!1)),e.$set(b),Tt(l,d=de(m,[h&32&&g[5],{type:"password"},(!o||h&8&&s!==(s=["input-element","password-input",...g[3].split(" ")].join(" ")))&&{class:s},(!o||h&4)&&{id:g[2]}])),h&1&&l.value!==g[0]&&Cs(l,g[0]),ie(l,"has-error",g[4])},i(g){o||(_(e.$$.fragment,g),o=!0)},o(g){p(e.$$.fragment,g),o=!1},d(g){y(e,g),g&&$(t),g&&$(l),r[13](null),i=!1,Ot(a)}}}function oU(r,e,n){const t=["value","class","element","hasError","id"];let l=We(e,t),{value:s=""}=e,{class:o=""}=e,{element:i=void 0}=e,{hasError:a=!1}=e,{id:u=void 0}=e;function f(T){Re.call(this,r,T)}function c(T){Re.call(this,r,T)}function m(T){Re.call(this,r,T)}function d(T){Re.call(this,r,T)}function g(T){Re.call(this,r,T)}function h(T){Re.call(this,r,T)}function b(T){u=T,n(2,u)}function w(T){we[T?"unshift":"push"](()=>{i=T,n(1,i)})}function S(){s=this.value,n(0,s)}return r.$$set=T=>{e=se(se({},e),pt(T)),n(5,l=We(e,t)),"value"in T&&n(0,s=T.value),"class"in T&&n(3,o=T.class),"element"in T&&n(1,i=T.element),"hasError"in T&&n(4,a=T.hasError),"id"in T&&n(2,u=T.id)},[s,i,u,o,a,l,f,c,m,d,g,h,b,w,S]}class ul extends Q{constructor(e){super(),Z(this,e,oU,sU,J,{value:0,class:3,element:1,hasError:4,id:2})}}function iU(r){let e,n,t,l,s=[{class:"progress"},{role:"progressbar"},{"aria-valuenow":r[0]},{"aria-valuemin":t=0},{"aria-valuemax":l=100},{"aria-valuetext":r[1]},r[2]],o={};for(let i=0;i<s.length;i+=1)o=se(o,s[i]);return{c(){e=E("div"),n=E("div"),ln(n,"width",r[0]+"%"),Tt(e,o)},m(i,a){v(i,e,a),R(e,n)},p(i,[a]){a&1&&ln(n,"width",i[0]+"%"),Tt(e,o=de(s,[{class:"progress"},{role:"progressbar"},a&1&&{"aria-valuenow":i[0]},{"aria-valuemin":t},{"aria-valuemax":l},a&2&&{"aria-valuetext":i[1]},a&4&&i[2]]))},i:H,o:H,d(i){i&&$(e)}}}function aU(r,e,n){const t=["percentage","ariaValueText"];let l=We(e,t),{percentage:s=0}=e,{ariaValueText:o="Progress"}=e;return r.$$set=i=>{e=se(se({},e),pt(i)),n(2,l=We(e,t)),"percentage"in i&&n(0,s=i.percentage),"ariaValueText"in i&&n(1,o=i.ariaValueText)},[s,o,l]}class uU extends Q{constructor(e){super(),Z(this,e,aU,iU,J,{percentage:0,ariaValueText:1})}}function fU(r){let e,n,t,l,s,o,i;const a=[r[5],{disabled:r[3]}];function u(d){r[6](d)}let f={};for(let d=0;d<a.length;d+=1)f=se(f,a[d]);r[1]!==void 0&&(f.id=r[1]),e=new Jl({props:f}),we.push(()=>Me(e,"id",u));let c=[{class:"radio"},{type:"radio"},r[5],{checked:r[0]},{id:r[1]},{disabled:r[3]},{value:r[2]}],m={};for(let d=0;d<c.length;d+=1)m=se(m,c[d]);return{c(){C(e.$$.fragment),t=N(),l=E("input"),Tt(l,m)},m(d,g){k(e,d,g),v(d,t,g),v(d,l,g),l.autofocus&&l.focus(),s=!0,o||(i=He(l,"change",r[4]),o=!0)},p(d,[g]){const h=g&40?de(a,[g&32&&_e(d[5]),g&8&&{disabled:d[3]}]):{};!n&&g&2&&(n=!0,h.id=d[1],De(()=>n=!1)),e.$set(h),Tt(l,m=de(c,[{class:"radio"},{type:"radio"},g&32&&d[5],(!s||g&1)&&{checked:d[0]},(!s||g&2)&&{id:d[1]},(!s||g&8)&&{disabled:d[3]},(!s||g&4)&&{value:d[2]}]))},i(d){s||(_(e.$$.fragment,d),s=!0)},o(d){p(e.$$.fragment,d),s=!1},d(d){y(e,d),d&&$(t),d&&$(l),o=!1,i()}}}function cU(r,e,n){const t=["checked","value","disabled","id"];let l=We(e,t);const s=Et();let{checked:o=!1}=e,{value:i=void 0}=e,{disabled:a=!1}=e,{id:u=void 0}=e;function f(){n(0,o=!o),s("change",o)}function c(m){u=m,n(1,u)}return r.$$set=m=>{e=se(se({},e),pt(m)),n(5,l=We(e,t)),"checked"in m&&n(0,o=m.checked),"value"in m&&n(2,i=m.value),"disabled"in m&&n(3,a=m.disabled),"id"in m&&n(1,u=m.id)},[o,u,i,a,f,l,c]}class qa extends Q{constructor(e){super(),Z(this,e,cU,fU,J,{checked:0,value:2,disabled:3,id:1})}}const mU=r=>({}),bh=r=>({slot:"label"}),dU=r=>({}),$h=r=>({slot:"extra"});function _U(r){let e,n;function t(...l){return r[12](r[14],...l)}return e=new qa({props:{disabled:r[15],checked:r[9](r[0],r[14])}}),e.$on("change",t),{c(){C(e.$$.fragment)},m(l,s){k(e,l,s),n=!0},p(l,s){r=l;const o={};s&32768&&(o.disabled=r[15]),s&16897&&(o.checked=r[9](r[0],r[14])),e.$set(o)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){p(e.$$.fragment,l),n=!1},d(l){y(e,l)}}}function pU(r){var t;let e=((t=r[3])!=null?t:"")+"",n;return{c(){n=L(e)},m(l,s){v(l,n,s)},p(l,s){var o;s&8&&e!==(e=((o=l[3])!=null?o:"")+"")&&z(n,e)},d(l){l&&$(n)}}}function gU(r){let e;const n=r[11].label,t=ke(n,r,r[13],bh),l=t||pU(r);return{c(){l&&l.c()},m(s,o){l&&l.m(s,o),e=!0},p(s,o){t?t.p&&(!e||o&8192)&&Ce(t,n,s,s[13],e?ye(n,s[13],o,mU):Se(s[13]),bh):l&&l.p&&(!e||o&8)&&l.p(s,e?o:-1)},i(s){e||(_(l,s),e=!0)},o(s){p(l,s),e=!1},d(s){l&&l.d(s)}}}function hU(r){let e;const n=r[11].extra,t=ke(n,r,r[13],$h);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&8192)&&Ce(t,n,l,l[13],e?ye(n,l[13],s,dU):Se(l[13]),$h)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function bU(r){let e,n;return e=new eT({props:{isInline:r[1],options:r[2],ariaLabel:r[4],disabled:r[7],boxed:r[8],labelKey:r[5],getLabel:r[6],$$slots:{extra:[hU,({option:t,disabled:l})=>({14:t,15:l}),({option:t,disabled:l})=>(t?16384:0)|(l?32768:0)],label:[gU,({option:t,disabled:l})=>({14:t,15:l}),({option:t,disabled:l})=>(t?16384:0)|(l?32768:0)],default:[_U,({option:t,disabled:l})=>({14:t,15:l}),({option:t,disabled:l})=>(t?16384:0)|(l?32768:0)]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&2&&(s.isInline=t[1]),l&4&&(s.options=t[2]),l&16&&(s.ariaLabel=t[4]),l&128&&(s.disabled=t[7]),l&256&&(s.boxed=t[8]),l&32&&(s.labelKey=t[5]),l&64&&(s.getLabel=t[6]),l&57865&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function $U(r,e,n){let{$$slots:t={},$$scope:l}=e;const s=Et();let{value:o=void 0}=e,{isInline:i=!1}=e,{options:a=[]}=e,{label:u=void 0}=e,{ariaLabel:f=void 0}=e,{radioLabelKey:c=void 0}=e,{getRadioLabel:m=void 0}=e,{disabled:d=!1}=e,{boxed:g=!1}=e,{valuesAreEqual:h=(w,S)=>w===S}=e;const b=(w,{detail:S})=>{S&&n(0,o=w),s("change",{value:w})};return r.$$set=w=>{"value"in w&&n(0,o=w.value),"isInline"in w&&n(1,i=w.isInline),"options"in w&&n(2,a=w.options),"label"in w&&n(3,u=w.label),"ariaLabel"in w&&n(4,f=w.ariaLabel),"radioLabelKey"in w&&n(5,c=w.radioLabelKey),"getRadioLabel"in w&&n(6,m=w.getRadioLabel),"disabled"in w&&n(7,d=w.disabled),"boxed"in w&&n(8,g=w.boxed),"valuesAreEqual"in w&&n(9,h=w.valuesAreEqual),"$$scope"in w&&n(13,l=w.$$scope)},[o,i,a,u,f,c,m,d,g,h,s,t,b,l]}class Ns extends Q{constructor(e){super(),Z(this,e,$U,bU,J,{value:0,isInline:1,options:2,label:3,ariaLabel:4,radioLabelKey:5,getRadioLabel:6,disabled:7,boxed:8,valuesAreEqual:9})}}function jl(r,{delay:e=0,duration:n=400,easing:t=io}={}){const l=+getComputedStyle(r).opacity;return{delay:e,duration:n,easing:t,css:s=>`opacity: ${s*l}`}}function td(r,{delay:e=0,duration:n=400,easing:t=RS,x:l=0,y:s=0,opacity:o=0}={}){const i=getComputedStyle(r),a=+i.opacity,u=i.transform==="none"?"":i.transform,f=a*(1-o);return{delay:e,duration:n,easing:t,css:(c,m)=>`
			transform: ${u} translate(${(1-c)*l}px, ${(1-c)*s}px);
			opacity: ${a-f*m}`}}function vh(r){let e,n,t;return{c(){e=E("div"),I(e,"class","skeleton")},m(l,s){v(l,e,s),t=!0},i(l){t||(l&&xn(()=>{n||(n=Po(e,jl,{duration:120},!0)),n.run(1)}),t=!0)},o(l){l&&(n||(n=Po(e,jl,{duration:120},!1)),n.run(0)),t=!1},d(l){l&&$(e),l&&n&&n.end()}}}function vU(r){let e,n=r[0]&&vh();return{c(){n&&n.c(),e=ae()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,[l]){t[0]?n?l&1&&_(n,1):(n=vh(),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(U(),p(n,1,1,()=>{n=null}),W())},i(t){_(n)},o(t){p(n)},d(t){n&&n.d(t),t&&$(e)}}}function wU(r,e,n){let{loading:t=!1}=e;return r.$$set=l=>{"loading"in l&&n(0,t=l.loading)},[t]}class pc extends Q{constructor(e){super(),Z(this,e,wU,vU,J,{loading:0})}}function kU(r){let e,n,t,l,s,o,i,a;const u=[r[7],{disabled:r[3]}];function f(g){r[14](g)}let c={};for(let g=0;g<u.length;g+=1)c=se(c,u[g]);r[0]!==void 0&&(c.id=r[0]),e=new Jl({props:c}),we.push(()=>Me(e,"id",f));let m=[r[7],{class:s="input-element text-area "+r[4]},{id:r[0]},{disabled:r[3]}],d={};for(let g=0;g<m.length;g+=1)d=se(d,m[g]);return{c(){C(e.$$.fragment),t=N(),l=E("textarea"),Tt(l,d),ie(l,"has-error",r[5])},m(g,h){k(e,g,h),v(g,t,h),v(g,l,h),l.autofocus&&l.focus(),r[15](l),Cs(l,r[1]),o=!0,i||(a=[He(l,"input",r[16]),He(l,"input",r[9]),He(l,"change",r[10]),He(l,"focus",r[11]),He(l,"blur",r[12]),He(l,"keydown",r[6]),He(l,"keydown",r[13])],i=!0)},p(g,[h]){const b=h&136?de(u,[h&128&&_e(g[7]),h&8&&{disabled:g[3]}]):{};!n&&h&1&&(n=!0,b.id=g[0],De(()=>n=!1)),e.$set(b),Tt(l,d=de(m,[h&128&&g[7],(!o||h&16&&s!==(s="input-element text-area "+g[4]))&&{class:s},(!o||h&1)&&{id:g[0]},(!o||h&8)&&{disabled:g[3]}])),h&2&&Cs(l,g[1]),ie(l,"has-error",g[5])},i(g){o||(_(e.$$.fragment,g),o=!0)},o(g){p(e.$$.fragment,g),o=!1},d(g){y(e,g),g&&$(t),g&&$(l),r[15](null),i=!1,Ot(a)}}}function yU(r,e,n){const t=["id","disabled","class","addNewLineOnEnterKeyCombinations","value","element","hasError"];let l=We(e,t);const s=Et();let{id:o=void 0}=e,{disabled:i=!1}=e,{class:a=""}=e,{addNewLineOnEnterKeyCombinations:u=!1}=e,{value:f=void 0}=e,{element:c=void 0}=e,{hasError:m=!1}=e;function d(D){let O="normal";if(c&&D.key==="Enter"&&(D.ctrlKey||D.metaKey||D.shiftKey)){if(u&&!D.shiftKey){let F=c.selectionStart;const P=c.value.substring(0,F),B=c.value.substring(F,c.value.length);n(2,c.value=`${P}
${B}`,c),n(1,f=c.value),F+=1,n(2,c.selectionStart=F,c),n(2,c.selectionEnd=F,c)}O="newlineWithEnterKeyCombination"}s("processedKeyDown",{type:O,originalEvent:D})}function g(D){Re.call(this,r,D)}function h(D){Re.call(this,r,D)}function b(D){Re.call(this,r,D)}function w(D){Re.call(this,r,D)}function S(D){Re.call(this,r,D)}function T(D){o=D,n(0,o)}function M(D){we[D?"unshift":"push"](()=>{c=D,n(2,c)})}function A(){f=this.value,n(1,f)}return r.$$set=D=>{e=se(se({},e),pt(D)),n(7,l=We(e,t)),"id"in D&&n(0,o=D.id),"disabled"in D&&n(3,i=D.disabled),"class"in D&&n(4,a=D.class),"addNewLineOnEnterKeyCombinations"in D&&n(8,u=D.addNewLineOnEnterKeyCombinations),"value"in D&&n(1,f=D.value),"element"in D&&n(2,c=D.element),"hasError"in D&&n(5,m=D.hasError)},[o,f,c,i,a,m,d,l,u,g,h,b,w,S,T,M,A]}class Zl extends Q{constructor(e){super(),Z(this,e,yU,kU,J,{id:0,disabled:3,class:4,addNewLineOnEnterKeyCombinations:8,value:1,element:2,hasError:5})}}function CU(r){let e,n,t,l,s,o,i;const a=[r[2]];let u={};for(let d=0;d<a.length;d+=1)u=se(u,a[d]);t=new Ne({props:u});const f=[{class:["prefixed-input",r[1]].join(" ")},r[3]];function c(d){r[4](d)}let m={};for(let d=0;d<f.length;d+=1)m=se(m,f[d]);return r[0]!==void 0&&(m.value=r[0]),s=new hn({props:m}),we.push(()=>Me(s,"value",c)),s.$on("input",r[5]),s.$on("focus",r[6]),s.$on("blur",r[7]),s.$on("keydown",r[8]),s.$on("beforeinput",r[9]),s.$on("change",r[10]),{c(){e=E("span"),n=E("div"),C(t.$$.fragment),l=N(),C(s.$$.fragment),I(n,"class","input-prefix-icon-container svelte-10fhafj"),I(e,"class","prefix-wrapper svelte-10fhafj")},m(d,g){v(d,e,g),R(e,n),k(t,n,null),R(e,l),k(s,e,null),i=!0},p(d,[g]){const h=g&4?de(a,[_e(d[2])]):{};t.$set(h);const b=g&10?de(f,[g&2&&{class:["prefixed-input",d[1]].join(" ")},g&8&&_e(d[3])]):{};!o&&g&1&&(o=!0,b.value=d[0],De(()=>o=!1)),s.$set(b)},i(d){i||(_(t.$$.fragment,d),_(s.$$.fragment,d),i=!0)},o(d){p(t.$$.fragment,d),p(s.$$.fragment,d),i=!1},d(d){d&&$(e),y(t),y(s)}}}function SU(r,e,n){const t=["value","class","prefixIcon"];let l=We(e,t),{value:s=""}=e,{class:o=""}=e,{prefixIcon:i}=e;function a(h){s=h,n(0,s)}function u(h){Re.call(this,r,h)}function f(h){Re.call(this,r,h)}function c(h){Re.call(this,r,h)}function m(h){Re.call(this,r,h)}function d(h){Re.call(this,r,h)}function g(h){Re.call(this,r,h)}return r.$$set=h=>{e=se(se({},e),pt(h)),n(3,l=We(e,t)),"value"in h&&n(0,s=h.value),"class"in h&&n(1,o=h.class),"prefixIcon"in h&&n(2,i=h.prefixIcon)},[s,o,i,l,a,u,f,c,m,d,g]}class gT extends Q{constructor(e){super(),Z(this,e,SU,CU,J,{value:0,class:1,prefixIcon:2})}}function TU(r){let e,n,t,l,s,o;const i=r[9].default,a=ke(i,r,r[12],null);return t=new Xl({props:{isOpen:r[4],trigger:r[3],placements:r[1],class:"truncation-content",$$slots:{default:[EU]},$$scope:{ctx:r}}}),{c(){e=E("span"),a&&a.c(),n=N(),C(t.$$.fragment),I(e,"class","truncate"),I(e,"style",r[5]),ie(e,"multiline",r[2])},m(u,f){v(u,e,f),a&&a.m(e,null),r[10](e),v(u,n,f),k(t,u,f),l=!0,s||(o=[He(e,"mouseenter",r[6]),He(e,"mouseleave",r[11])],s=!0)},p(u,f){a&&a.p&&(!l||f&4096)&&Ce(a,i,u,u[12],l?ye(i,u[12],f,null):Se(u[12]),null),(!l||f&32)&&I(e,"style",u[5]),(!l||f&4)&&ie(e,"multiline",u[2]);const c={};f&16&&(c.isOpen=u[4]),f&8&&(c.trigger=u[3]),f&2&&(c.placements=u[1]),f&4096&&(c.$$scope={dirty:f,ctx:u}),t.$set(c)},i(u){l||(_(a,u),_(t.$$.fragment,u),l=!0)},o(u){p(a,u),p(t.$$.fragment,u),l=!1},d(u){u&&$(e),a&&a.d(u),r[10](null),u&&$(n),y(t,u),s=!1,Ot(o)}}}function IU(r){let e;const n=r[9].default,t=ke(n,r,r[12],null);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&4096)&&Ce(t,n,l,l[12],e?ye(n,l[12],s,null):Se(l[12]),null)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function EU(r){let e;const n=r[9].default,t=ke(n,r,r[12],null);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&4096)&&Ce(t,n,l,l[12],e?ye(n,l[12],s,null):Se(l[12]),null)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function MU(r){let e,n,t,l;const s=[IU,TU],o=[];function i(a,u){return a[0]?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,[u]){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function RU(r,e,n){let t,l,{$$slots:s={},$$scope:o}=e,{lines:i=1}=e,{passthrough:a=!1}=e,{popoverPlacements:u=["top","right","left","bottom"]}=e,{alwaysShowTooltip:f=!1}=e,c,m=!1;function d(w){return f||w.scrollHeight-w.clientHeight>3||w.scrollWidth-w.clientWidth>0}function g(){d(c)&&n(4,m=!0)}function h(w){we[w?"unshift":"push"](()=>{c=w,n(3,c)})}const b=()=>{n(4,m=!1)};return r.$$set=w=>{"lines"in w&&n(7,i=w.lines),"passthrough"in w&&n(0,a=w.passthrough),"popoverPlacements"in w&&n(1,u=w.popoverPlacements),"alwaysShowTooltip"in w&&n(8,f=w.alwaysShowTooltip),"$$scope"in w&&n(12,o=w.$$scope)},r.$$.update=()=>{r.$$.dirty&128&&n(2,t=i>1),r.$$.dirty&132&&n(5,l=t?`-webkit-line-clamp: ${i};`:void 0)},[a,u,t,c,m,l,g,i,f,s,h,b,o]}class Qr extends Q{constructor(e){super(),Z(this,e,RU,MU,J,{lines:7,passthrough:0,popoverPlacements:1,alwaysShowTooltip:8})}}const DU=r=>({}),wh=r=>({});function kh(r){let e,n,t,l,s,o,i;const a=r[10].panel,u=ke(a,r,r[9],wh);return{c(){e=E("div"),n=E("div"),l=N(),u&&u.c(),I(n,"class","resizer"),I(e,"class","panel"),I(e,"style",r[8])},m(f,c){v(f,e,c),R(e,n),R(e,l),u&&u.m(e,null),s=!0,o||(i=Dt(t=H9.call(null,n,{getStartingValue:r[11],onMove:r[12],onStart:r[13],onStop:r[14],min:r[2],max:r[3],axis:r[6]==="width"?"x":"y",invert:r[1]==="right"||r[1]==="bottom"})),o=!0)},p(f,c){t&&St(t.update)&&c&239&&t.update.call(null,{getStartingValue:f[11],onMove:f[12],onStart:f[13],onStop:f[14],min:f[2],max:f[3],axis:f[6]==="width"?"x":"y",invert:f[1]==="right"||f[1]==="bottom"}),u&&u.p&&(!s||c&512)&&Ce(u,a,f,f[9],s?ye(a,f[9],c,DU):Se(f[9]),wh),(!s||c&256)&&I(e,"style",f[8])},i(f){s||(_(u,f),s=!0)},o(f){p(u,f),s=!1},d(f){f&&$(e),u&&u.d(f),o=!1,i()}}}function AU(r){let e,n,t,l;const s=r[10].default,o=ke(s,r,r[9],null);let i=r[4]&&kh(r);return{c(){e=E("div"),n=E("div"),o&&o.c(),t=N(),i&&i.c(),I(n,"class","main"),I(e,"class","with-panel"),ie(e,"is-resizing",r[7]),ie(e,"top",r[1]==="top"),ie(e,"bottom",r[1]==="bottom"),ie(e,"left",r[1]==="left"),ie(e,"right",r[1]==="right"),ie(e,"horizontal",r[6]==="width"),ie(e,"vertical",r[6]==="height")},m(a,u){v(a,e,u),R(e,n),o&&o.m(n,null),R(e,t),i&&i.m(e,null),l=!0},p(a,[u]){o&&o.p&&(!l||u&512)&&Ce(o,s,a,a[9],l?ye(s,a[9],u,null):Se(a[9]),null),a[4]?i?(i.p(a,u),u&16&&_(i,1)):(i=kh(a),i.c(),_(i,1),i.m(e,null)):i&&(U(),p(i,1,1,()=>{i=null}),W()),(!l||u&128)&&ie(e,"is-resizing",a[7]),(!l||u&2)&&ie(e,"top",a[1]==="top"),(!l||u&2)&&ie(e,"bottom",a[1]==="bottom"),(!l||u&2)&&ie(e,"left",a[1]==="left"),(!l||u&2)&&ie(e,"right",a[1]==="right"),(!l||u&64)&&ie(e,"horizontal",a[6]==="width"),(!l||u&64)&&ie(e,"vertical",a[6]==="height")},i(a){l||(_(o,a),_(i),l=!0)},o(a){p(o,a),p(i),l=!1},d(a){a&&$(e),o&&o.d(a),i&&i.d()}}}function OU(r,e,n){let t,l,{$$slots:s={},$$scope:o}=e,{placement:i="right"}=e,{sizePx:a=300}=e,{minSizePx:u=0}=e,{maxSizePx:f=1/0}=e,{showPanel:c=!0}=e,{onResizeComplete:m=()=>{}}=e,d=!1;const g=()=>a,h=S=>{n(0,a=S)},b=()=>{n(7,d=!0)},w=S=>{n(7,d=!1),m(S)};return r.$$set=S=>{"placement"in S&&n(1,i=S.placement),"sizePx"in S&&n(0,a=S.sizePx),"minSizePx"in S&&n(2,u=S.minSizePx),"maxSizePx"in S&&n(3,f=S.maxSizePx),"showPanel"in S&&n(4,c=S.showPanel),"onResizeComplete"in S&&n(5,m=S.onResizeComplete),"$$scope"in S&&n(9,o=S.$$scope)},r.$$.update=()=>{r.$$.dirty&2&&n(6,t=(()=>{switch(i){case"top":case"bottom":return"height";case"left":case"right":return"width";default:return Rt(i)}})()),r.$$.dirty&65&&n(8,l=`${t}: ${a}px;`)},[a,i,u,f,c,m,t,d,l,o,s,g,h,b,w]}class gc extends Q{constructor(e){super(),Z(this,e,OU,AU,J,{placement:1,sizePx:0,minSizePx:2,maxSizePx:3,showPanel:4,onResizeComplete:5})}}var om=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Bo={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(r){return typeof console<"u"&&console.warn(r)},getWeek:function(r){var e=new Date(r.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var n=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},ga={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(r){var e=r%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},Sr=function(r,e){return e===void 0&&(e=2),("000"+r).slice(e*-1)},nl=function(r){return r===!0?1:0};function yh(r,e){var n;return function(){var t=this,l=arguments;clearTimeout(n),n=setTimeout(function(){return r.apply(t,l)},e)}}var im=function(r){return r instanceof Array?r:[r]};function br(r,e,n){if(n===!0)return r.classList.add(e);r.classList.remove(e)}function dn(r,e,n){var t=window.document.createElement(r);return e=e||"",n=n||"",t.className=e,n!==void 0&&(t.textContent=n),t}function Iu(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function hT(r,e){if(e(r))return r;if(r.parentNode)return hT(r.parentNode,e)}function Eu(r,e){var n=dn("div","numInputWrapper"),t=dn("input","numInput "+r),l=dn("span","arrowUp"),s=dn("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?t.type="number":(t.type="text",t.pattern="\\d*"),e!==void 0)for(var o in e)t.setAttribute(o,e[o]);return n.appendChild(t),n.appendChild(l),n.appendChild(s),n}function Br(r){try{if(typeof r.composedPath=="function"){var e=r.composedPath();return e[0]}return r.target}catch(n){return r.target}}var am=function(){},sf=function(r,e,n){return n.months[e?"shorthand":"longhand"][r]},FU={D:am,F:function(r,e,n){r.setMonth(n.months.longhand.indexOf(e))},G:function(r,e){r.setHours((r.getHours()>=12?12:0)+parseFloat(e))},H:function(r,e){r.setHours(parseFloat(e))},J:function(r,e){r.setDate(parseFloat(e))},K:function(r,e,n){r.setHours(r.getHours()%12+12*nl(new RegExp(n.amPM[1],"i").test(e)))},M:function(r,e,n){r.setMonth(n.months.shorthand.indexOf(e))},S:function(r,e){r.setSeconds(parseFloat(e))},U:function(r,e){return new Date(parseFloat(e)*1e3)},W:function(r,e,n){var t=parseInt(e),l=new Date(r.getFullYear(),0,2+(t-1)*7,0,0,0,0);return l.setDate(l.getDate()-l.getDay()+n.firstDayOfWeek),l},Y:function(r,e){r.setFullYear(parseFloat(e))},Z:function(r,e){return new Date(e)},d:function(r,e){r.setDate(parseFloat(e))},h:function(r,e){r.setHours((r.getHours()>=12?12:0)+parseFloat(e))},i:function(r,e){r.setMinutes(parseFloat(e))},j:function(r,e){r.setDate(parseFloat(e))},l:am,m:function(r,e){r.setMonth(parseFloat(e)-1)},n:function(r,e){r.setMonth(parseFloat(e)-1)},s:function(r,e){r.setSeconds(parseFloat(e))},u:function(r,e){return new Date(parseFloat(e))},w:am,y:function(r,e){r.setFullYear(2e3+parseFloat(e))}},qs={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Zi={Z:function(r){return r.toISOString()},D:function(r,e,n){return e.weekdays.shorthand[Zi.w(r,e,n)]},F:function(r,e,n){return sf(Zi.n(r,e,n)-1,!1,e)},G:function(r,e,n){return Sr(Zi.h(r,e,n))},H:function(r){return Sr(r.getHours())},J:function(r,e){return e.ordinal!==void 0?r.getDate()+e.ordinal(r.getDate()):r.getDate()},K:function(r,e){return e.amPM[nl(r.getHours()>11)]},M:function(r,e){return sf(r.getMonth(),!0,e)},S:function(r){return Sr(r.getSeconds())},U:function(r){return r.getTime()/1e3},W:function(r,e,n){return n.getWeek(r)},Y:function(r){return Sr(r.getFullYear(),4)},d:function(r){return Sr(r.getDate())},h:function(r){return r.getHours()%12?r.getHours()%12:12},i:function(r){return Sr(r.getMinutes())},j:function(r){return r.getDate()},l:function(r,e){return e.weekdays.longhand[r.getDay()]},m:function(r){return Sr(r.getMonth()+1)},n:function(r){return r.getMonth()+1},s:function(r){return r.getSeconds()},u:function(r){return r.getTime()},w:function(r){return r.getDay()},y:function(r){return String(r.getFullYear()).substring(2)}},bT=function(r){var e=r.config,n=e===void 0?Bo:e,t=r.l10n,l=t===void 0?ga:t,s=r.isMobile,o=s===void 0?!1:s;return function(i,a,u){var f=u||l;return n.formatDate!==void 0&&!o?n.formatDate(i,a,f):a.split("").map(function(c,m,d){return Zi[c]&&d[m-1]!=="\\"?Zi[c](i,f,n):c!=="\\"?c:""}).join("")}},nd=function(r){var e=r.config,n=e===void 0?Bo:e,t=r.l10n,l=t===void 0?ga:t;return function(s,o,i,a){if(!(s!==0&&!s)){var u=a||l,f,c=s;if(s instanceof Date)f=new Date(s.getTime());else if(typeof s!="string"&&s.toFixed!==void 0)f=new Date(s);else if(typeof s=="string"){var m=o||(n||Bo).dateFormat,d=String(s).trim();if(d==="today")f=new Date,i=!0;else if(n&&n.parseDate)f=n.parseDate(s,m);else if(/Z$/.test(d)||/GMT$/.test(d))f=new Date(s);else{for(var g=void 0,h=[],b=0,w=0,S="";b<m.length;b++){var T=m[b],M=T==="\\",A=m[b-1]==="\\"||M;if(qs[T]&&!A){S+=qs[T];var D=new RegExp(S).exec(s);D&&(g=!0)&&h[T!=="Y"?"push":"unshift"]({fn:FU[T],val:D[++w]})}else M||(S+=".")}f=!n||!n.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),h.forEach(function(O){var F=O.fn,P=O.val;return f=F(f,P,u)||f}),f=g?f:void 0}}if(!(f instanceof Date&&!isNaN(f.getTime()))){n.errorHandler(new Error("Invalid date provided: "+c));return}return i===!0&&f.setHours(0,0,0,0),f}}};function qr(r,e,n){return n===void 0&&(n=!0),n!==!1?new Date(r.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):r.getTime()-e.getTime()}var NU=function(r,e,n){return r>Math.min(e,n)&&r<Math.max(e,n)},um=function(r,e,n){return r*3600+e*60+n},PU=function(r){var e=Math.floor(r/3600),n=(r-e*3600)/60;return[e,n,r-e*3600-n*60]},LU={DAY:864e5};function fm(r){var e=r.defaultHour,n=r.defaultMinute,t=r.defaultSeconds;if(r.minDate!==void 0){var l=r.minDate.getHours(),s=r.minDate.getMinutes(),o=r.minDate.getSeconds();e<l&&(e=l),e===l&&n<s&&(n=s),e===l&&n===s&&t<o&&(t=r.minDate.getSeconds())}if(r.maxDate!==void 0){var i=r.maxDate.getHours(),a=r.maxDate.getMinutes();e=Math.min(e,i),e===i&&(n=Math.min(a,n)),e===i&&n===a&&(t=r.maxDate.getSeconds())}return{hours:e,minutes:n,seconds:t}}typeof Object.assign!="function"&&(Object.assign=function(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!r)throw TypeError("Cannot convert undefined or null to object");for(var t=function(i){i&&Object.keys(i).forEach(function(a){return r[a]=i[a]})},l=0,s=e;l<s.length;l++){var o=s[l];t(o)}return r});var cr=globalThis&&globalThis.__assign||function(){return cr=Object.assign||function(r){for(var e,n=1,t=arguments.length;n<t;n++){e=arguments[n];for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(r[l]=e[l])}return r},cr.apply(this,arguments)},Ch=globalThis&&globalThis.__spreadArrays||function(){for(var r=0,e=0,n=arguments.length;e<n;e++)r+=arguments[e].length;for(var t=Array(r),l=0,e=0;e<n;e++)for(var s=arguments[e],o=0,i=s.length;o<i;o++,l++)t[l]=s[o];return t},HU=300;function VU(r,e){var n={config:cr(cr({},Bo),Xn.defaultConfig),l10n:ga};n.parseDate=nd({config:n.config,l10n:n.l10n}),n._handlers=[],n.pluginElements=[],n.loadedPlugins=[],n._bind=h,n._setHoursFromDate=m,n._positionCalendar=_t,n.changeMonth=he,n.changeYear=Ae,n.clear=me,n.close=ge,n.onMouseOver=qe,n._createElement=dn,n.createDay=D,n.destroy=pe,n.isEnabled=Je,n.jumpToDate=S,n.updateValue=gr,n.open=vt,n.redraw=yt,n.set=Xt,n.setDate=_n,n.toggle=Cn;function t(){n.utils={getDaysInMonth:function(re,ue){return re===void 0&&(re=n.currentMonth),ue===void 0&&(ue=n.currentYear),re===1&&(ue%4===0&&ue%100!==0||ue%400===0)?29:n.l10n.daysInMonth[re]}}}function l(){n.element=n.input=r,n.isOpen=!1,Xe(),Oe(),Dn(),bn(),t(),n.isMobile||A(),w(),(n.selectedDates.length||n.config.noCalendar)&&(n.config.enableTime&&m(n.config.noCalendar?n.latestSelectedDateObj:void 0),gr(!1)),i();var re=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!n.isMobile&&re&&_t(),Bt("onReady")}function s(){var re;return((re=n.calendarContainer)===null||re===void 0?void 0:re.getRootNode()).activeElement||document.activeElement}function o(re){return re.bind(n)}function i(){var re=n.config;re.weekNumbers===!1&&re.showMonths===1||re.noCalendar!==!0&&window.requestAnimationFrame(function(){if(n.calendarContainer!==void 0&&(n.calendarContainer.style.visibility="hidden",n.calendarContainer.style.display="block"),n.daysContainer!==void 0){var ue=(n.days.offsetWidth+1)*re.showMonths;n.daysContainer.style.width=ue+"px",n.calendarContainer.style.width=ue+(n.weekWrapper!==void 0?n.weekWrapper.offsetWidth:0)+"px",n.calendarContainer.style.removeProperty("visibility"),n.calendarContainer.style.removeProperty("display")}})}function a(re){if(n.selectedDates.length===0){var ue=n.config.minDate===void 0||qr(new Date,n.config.minDate)>=0?new Date:new Date(n.config.minDate.getTime()),be=fm(n.config);ue.setHours(be.hours,be.minutes,be.seconds,ue.getMilliseconds()),n.selectedDates=[ue],n.latestSelectedDateObj=ue}re!==void 0&&re.type!=="blur"&&Te(re);var $e=n._input.value;c(),gr(),n._input.value!==$e&&n._debouncedChange()}function u(re,ue){return re%12+12*nl(ue===n.l10n.amPM[1])}function f(re){switch(re%24){case 0:case 12:return 12;default:return re%12}}function c(){if(!(n.hourElement===void 0||n.minuteElement===void 0)){var re=(parseInt(n.hourElement.value.slice(-2),10)||0)%24,ue=(parseInt(n.minuteElement.value,10)||0)%60,be=n.secondElement!==void 0?(parseInt(n.secondElement.value,10)||0)%60:0;n.amPM!==void 0&&(re=u(re,n.amPM.textContent));var $e=n.config.minTime!==void 0||n.config.minDate&&n.minDateHasTime&&n.latestSelectedDateObj&&qr(n.latestSelectedDateObj,n.config.minDate,!0)===0,Ie=n.config.maxTime!==void 0||n.config.maxDate&&n.maxDateHasTime&&n.latestSelectedDateObj&&qr(n.latestSelectedDateObj,n.config.maxDate,!0)===0;if(n.config.maxTime!==void 0&&n.config.minTime!==void 0&&n.config.minTime>n.config.maxTime){var Pe=um(n.config.minTime.getHours(),n.config.minTime.getMinutes(),n.config.minTime.getSeconds()),Ge=um(n.config.maxTime.getHours(),n.config.maxTime.getMinutes(),n.config.maxTime.getSeconds()),Ze=um(re,ue,be);if(Ze>Ge&&Ze<Pe){var tt=PU(Pe);re=tt[0],ue=tt[1],be=tt[2]}}else{if(Ie){var je=n.config.maxTime!==void 0?n.config.maxTime:n.config.maxDate;re=Math.min(re,je.getHours()),re===je.getHours()&&(ue=Math.min(ue,je.getMinutes())),ue===je.getMinutes()&&(be=Math.min(be,je.getSeconds()))}if($e){var it=n.config.minTime!==void 0?n.config.minTime:n.config.minDate;re=Math.max(re,it.getHours()),re===it.getHours()&&ue<it.getMinutes()&&(ue=it.getMinutes()),ue===it.getMinutes()&&(be=Math.max(be,it.getSeconds()))}}d(re,ue,be)}}function m(re){var ue=re||n.latestSelectedDateObj;ue&&ue instanceof Date&&d(ue.getHours(),ue.getMinutes(),ue.getSeconds())}function d(re,ue,be){n.latestSelectedDateObj!==void 0&&n.latestSelectedDateObj.setHours(re%24,ue,be||0,0),!(!n.hourElement||!n.minuteElement||n.isMobile)&&(n.hourElement.value=Sr(n.config.time_24hr?re:(12+re)%12+12*nl(re%12===0)),n.minuteElement.value=Sr(ue),n.amPM!==void 0&&(n.amPM.textContent=n.l10n.amPM[nl(re>=12)]),n.secondElement!==void 0&&(n.secondElement.value=Sr(be)))}function g(re){var ue=Br(re),be=parseInt(ue.value)+(re.delta||0);(be/1e3>1||re.key==="Enter"&&!/[^\d]/.test(be.toString()))&&Ae(be)}function h(re,ue,be,$e){if(ue instanceof Array)return ue.forEach(function(Ie){return h(re,Ie,be,$e)});if(re instanceof Array)return re.forEach(function(Ie){return h(Ie,ue,be,$e)});re.addEventListener(ue,be,$e),n._handlers.push({remove:function(){return re.removeEventListener(ue,be,$e)}})}function b(){Bt("onChange")}function w(){if(n.config.wrap&&["open","close","toggle","clear"].forEach(function(be){Array.prototype.forEach.call(n.element.querySelectorAll("[data-"+be+"]"),function($e){return h($e,"click",n[be])})}),n.isMobile){$n();return}var re=yh(ft,50);if(n._debouncedChange=yh(b,HU),n.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&h(n.daysContainer,"mouseover",function(be){n.config.mode==="range"&&qe(Br(be))}),h(n._input,"keydown",Be),n.calendarContainer!==void 0&&h(n.calendarContainer,"keydown",Be),!n.config.inline&&!n.config.static&&h(window,"resize",re),window.ontouchstart!==void 0?h(window.document,"touchstart",Qe):h(window.document,"mousedown",Qe),h(window.document,"focus",Qe,{capture:!0}),n.config.clickOpens===!0&&(h(n._input,"focus",n.open),h(n._input,"click",n.open)),n.daysContainer!==void 0&&(h(n.monthNav,"click",Ee),h(n.monthNav,["keyup","increment"],g),h(n.daysContainer,"click",lt)),n.timeContainer!==void 0&&n.minuteElement!==void 0&&n.hourElement!==void 0){var ue=function(be){return Br(be).select()};h(n.timeContainer,["increment"],a),h(n.timeContainer,"blur",a,{capture:!0}),h(n.timeContainer,"click",T),h([n.hourElement,n.minuteElement],["focus","click"],ue),n.secondElement!==void 0&&h(n.secondElement,"focus",function(){return n.secondElement&&n.secondElement.select()}),n.amPM!==void 0&&h(n.amPM,"click",function(be){a(be)})}n.config.allowInput&&h(n._input,"blur",Ve)}function S(re,ue){var be=re!==void 0?n.parseDate(re):n.latestSelectedDateObj||(n.config.minDate&&n.config.minDate>n.now?n.config.minDate:n.config.maxDate&&n.config.maxDate<n.now?n.config.maxDate:n.now),$e=n.currentYear,Ie=n.currentMonth;try{be!==void 0&&(n.currentYear=be.getFullYear(),n.currentMonth=be.getMonth())}catch(Pe){Pe.message="Invalid date supplied: "+be,n.config.errorHandler(Pe)}ue&&n.currentYear!==$e&&(Bt("onYearChange"),q()),ue&&(n.currentYear!==$e||n.currentMonth!==Ie)&&Bt("onMonthChange"),n.redraw()}function T(re){var ue=Br(re);~ue.className.indexOf("arrow")&&M(re,ue.classList.contains("arrowUp")?1:-1)}function M(re,ue,be){var $e=re&&Br(re),Ie=be||$e&&$e.parentNode&&$e.parentNode.firstChild,Pe=or("increment");Pe.delta=ue,Ie&&Ie.dispatchEvent(Pe)}function A(){var re=window.document.createDocumentFragment();if(n.calendarContainer=dn("div","flatpickr-calendar"),n.calendarContainer.tabIndex=-1,!n.config.noCalendar){if(re.appendChild(K()),n.innerContainer=dn("div","flatpickr-innerContainer"),n.config.weekNumbers){var ue=fe(),be=ue.weekWrapper,$e=ue.weekNumbers;n.innerContainer.appendChild(be),n.weekNumbers=$e,n.weekWrapper=be}n.rContainer=dn("div","flatpickr-rContainer"),n.rContainer.appendChild(x()),n.daysContainer||(n.daysContainer=dn("div","flatpickr-days"),n.daysContainer.tabIndex=-1),V(),n.rContainer.appendChild(n.daysContainer),n.innerContainer.appendChild(n.rContainer),re.appendChild(n.innerContainer)}n.config.enableTime&&re.appendChild(ee()),br(n.calendarContainer,"rangeMode",n.config.mode==="range"),br(n.calendarContainer,"animate",n.config.animate===!0),br(n.calendarContainer,"multiMonth",n.config.showMonths>1),n.calendarContainer.appendChild(re);var Ie=n.config.appendTo!==void 0&&n.config.appendTo.nodeType!==void 0;if((n.config.inline||n.config.static)&&(n.calendarContainer.classList.add(n.config.inline?"inline":"static"),n.config.inline&&(!Ie&&n.element.parentNode?n.element.parentNode.insertBefore(n.calendarContainer,n._input.nextSibling):n.config.appendTo!==void 0&&n.config.appendTo.appendChild(n.calendarContainer)),n.config.static)){var Pe=dn("div","flatpickr-wrapper");n.element.parentNode&&n.element.parentNode.insertBefore(Pe,n.element),Pe.appendChild(n.element),n.altInput&&Pe.appendChild(n.altInput),Pe.appendChild(n.calendarContainer)}!n.config.static&&!n.config.inline&&(n.config.appendTo!==void 0?n.config.appendTo:window.document.body).appendChild(n.calendarContainer)}function D(re,ue,be,$e){var Ie=Je(ue,!0),Pe=dn("span",re,ue.getDate().toString());return Pe.dateObj=ue,Pe.$i=$e,Pe.setAttribute("aria-label",n.formatDate(ue,n.config.ariaDateFormat)),re.indexOf("hidden")===-1&&qr(ue,n.now)===0&&(n.todayDateElem=Pe,Pe.classList.add("today"),Pe.setAttribute("aria-current","date")),Ie?(Pe.tabIndex=-1,el(ue)&&(Pe.classList.add("selected"),n.selectedDateElem=Pe,n.config.mode==="range"&&(br(Pe,"startRange",n.selectedDates[0]&&qr(ue,n.selectedDates[0],!0)===0),br(Pe,"endRange",n.selectedDates[1]&&qr(ue,n.selectedDates[1],!0)===0),re==="nextMonthDay"&&Pe.classList.add("inRange")))):Pe.classList.add("flatpickr-disabled"),n.config.mode==="range"&&wr(ue)&&!el(ue)&&Pe.classList.add("inRange"),n.weekNumbers&&n.config.showMonths===1&&re!=="prevMonthDay"&&$e%7===6&&n.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+n.config.getWeek(ue)+"</span>"),Bt("onDayCreate",Pe),Pe}function O(re){re.focus(),n.config.mode==="range"&&qe(re)}function F(re){for(var ue=re>0?0:n.config.showMonths-1,be=re>0?n.config.showMonths:-1,$e=ue;$e!=be;$e+=re)for(var Ie=n.daysContainer.children[$e],Pe=re>0?0:Ie.children.length-1,Ge=re>0?Ie.children.length:-1,Ze=Pe;Ze!=Ge;Ze+=re){var tt=Ie.children[Ze];if(tt.className.indexOf("hidden")===-1&&Je(tt.dateObj))return tt}}function P(re,ue){for(var be=re.className.indexOf("Month")===-1?re.dateObj.getMonth():n.currentMonth,$e=ue>0?n.config.showMonths:-1,Ie=ue>0?1:-1,Pe=be-n.currentMonth;Pe!=$e;Pe+=Ie)for(var Ge=n.daysContainer.children[Pe],Ze=be-n.currentMonth===Pe?re.$i+ue:ue<0?Ge.children.length-1:0,tt=Ge.children.length,je=Ze;je>=0&&je<tt&&je!=(ue>0?tt:-1);je+=Ie){var it=Ge.children[je];if(it.className.indexOf("hidden")===-1&&Je(it.dateObj)&&Math.abs(re.$i-je)>=Math.abs(ue))return O(it)}n.changeMonth(Ie),B(F(Ie),0)}function B(re,ue){var be=s(),$e=ze(be||document.body),Ie=re!==void 0?re:$e?be:n.selectedDateElem!==void 0&&ze(n.selectedDateElem)?n.selectedDateElem:n.todayDateElem!==void 0&&ze(n.todayDateElem)?n.todayDateElem:F(ue>0?1:-1);Ie===void 0?n._input.focus():$e?P(Ie,ue):O(Ie)}function j(re,ue){for(var be=(new Date(re,ue,1).getDay()-n.l10n.firstDayOfWeek+7)%7,$e=n.utils.getDaysInMonth((ue-1+12)%12,re),Ie=n.utils.getDaysInMonth(ue,re),Pe=window.document.createDocumentFragment(),Ge=n.config.showMonths>1,Ze=Ge?"prevMonthDay hidden":"prevMonthDay",tt=Ge?"nextMonthDay hidden":"nextMonthDay",je=$e+1-be,it=0;je<=$e;je++,it++)Pe.appendChild(D("flatpickr-day "+Ze,new Date(re,ue-1,je),je,it));for(je=1;je<=Ie;je++,it++)Pe.appendChild(D("flatpickr-day",new Date(re,ue,je),je,it));for(var bt=Ie+1;bt<=42-be&&(n.config.showMonths===1||it%7!==0);bt++,it++)Pe.appendChild(D("flatpickr-day "+tt,new Date(re,ue+1,bt%Ie),bt,it));var Ft=dn("div","dayContainer");return Ft.appendChild(Pe),Ft}function V(){if(n.daysContainer!==void 0){Iu(n.daysContainer),n.weekNumbers&&Iu(n.weekNumbers);for(var re=document.createDocumentFragment(),ue=0;ue<n.config.showMonths;ue++){var be=new Date(n.currentYear,n.currentMonth,1);be.setMonth(n.currentMonth+ue),re.appendChild(j(be.getFullYear(),be.getMonth()))}n.daysContainer.appendChild(re),n.days=n.daysContainer.firstChild,n.config.mode==="range"&&n.selectedDates.length===1&&qe()}}function q(){if(!(n.config.showMonths>1||n.config.monthSelectorType!=="dropdown")){var re=function($e){return n.config.minDate!==void 0&&n.currentYear===n.config.minDate.getFullYear()&&$e<n.config.minDate.getMonth()?!1:!(n.config.maxDate!==void 0&&n.currentYear===n.config.maxDate.getFullYear()&&$e>n.config.maxDate.getMonth())};n.monthsDropdownContainer.tabIndex=-1,n.monthsDropdownContainer.innerHTML="";for(var ue=0;ue<12;ue++)if(!!re(ue)){var be=dn("option","flatpickr-monthDropdown-month");be.value=new Date(n.currentYear,ue).getMonth().toString(),be.textContent=sf(ue,n.config.shorthandCurrentMonth,n.l10n),be.tabIndex=-1,n.currentMonth===ue&&(be.selected=!0),n.monthsDropdownContainer.appendChild(be)}}}function G(){var re=dn("div","flatpickr-month"),ue=window.document.createDocumentFragment(),be;n.config.showMonths>1||n.config.monthSelectorType==="static"?be=dn("span","cur-month"):(n.monthsDropdownContainer=dn("select","flatpickr-monthDropdown-months"),n.monthsDropdownContainer.setAttribute("aria-label",n.l10n.monthAriaLabel),h(n.monthsDropdownContainer,"change",function(Ge){var Ze=Br(Ge),tt=parseInt(Ze.value,10);n.changeMonth(tt-n.currentMonth),Bt("onMonthChange")}),q(),be=n.monthsDropdownContainer);var $e=Eu("cur-year",{tabindex:"-1"}),Ie=$e.getElementsByTagName("input")[0];Ie.setAttribute("aria-label",n.l10n.yearAriaLabel),n.config.minDate&&Ie.setAttribute("min",n.config.minDate.getFullYear().toString()),n.config.maxDate&&(Ie.setAttribute("max",n.config.maxDate.getFullYear().toString()),Ie.disabled=!!n.config.minDate&&n.config.minDate.getFullYear()===n.config.maxDate.getFullYear());var Pe=dn("div","flatpickr-current-month");return Pe.appendChild(be),Pe.appendChild($e),ue.appendChild(Pe),re.appendChild(ue),{container:re,yearElement:Ie,monthElement:be}}function Y(){Iu(n.monthNav),n.monthNav.appendChild(n.prevMonthNav),n.config.showMonths&&(n.yearElements=[],n.monthElements=[]);for(var re=n.config.showMonths;re--;){var ue=G();n.yearElements.push(ue.yearElement),n.monthElements.push(ue.monthElement),n.monthNav.appendChild(ue.container)}n.monthNav.appendChild(n.nextMonthNav)}function K(){return n.monthNav=dn("div","flatpickr-months"),n.yearElements=[],n.monthElements=[],n.prevMonthNav=dn("span","flatpickr-prev-month"),n.prevMonthNav.innerHTML=n.config.prevArrow,n.nextMonthNav=dn("span","flatpickr-next-month"),n.nextMonthNav.innerHTML=n.config.nextArrow,Y(),Object.defineProperty(n,"_hidePrevMonthArrow",{get:function(){return n.__hidePrevMonthArrow},set:function(re){n.__hidePrevMonthArrow!==re&&(br(n.prevMonthNav,"flatpickr-disabled",re),n.__hidePrevMonthArrow=re)}}),Object.defineProperty(n,"_hideNextMonthArrow",{get:function(){return n.__hideNextMonthArrow},set:function(re){n.__hideNextMonthArrow!==re&&(br(n.nextMonthNav,"flatpickr-disabled",re),n.__hideNextMonthArrow=re)}}),n.currentYearElement=n.yearElements[0],gl(),n.monthNav}function ee(){n.calendarContainer.classList.add("hasTime"),n.config.noCalendar&&n.calendarContainer.classList.add("noCalendar");var re=fm(n.config);n.timeContainer=dn("div","flatpickr-time"),n.timeContainer.tabIndex=-1;var ue=dn("span","flatpickr-time-separator",":"),be=Eu("flatpickr-hour",{"aria-label":n.l10n.hourAriaLabel});n.hourElement=be.getElementsByTagName("input")[0];var $e=Eu("flatpickr-minute",{"aria-label":n.l10n.minuteAriaLabel});if(n.minuteElement=$e.getElementsByTagName("input")[0],n.hourElement.tabIndex=n.minuteElement.tabIndex=-1,n.hourElement.value=Sr(n.latestSelectedDateObj?n.latestSelectedDateObj.getHours():n.config.time_24hr?re.hours:f(re.hours)),n.minuteElement.value=Sr(n.latestSelectedDateObj?n.latestSelectedDateObj.getMinutes():re.minutes),n.hourElement.setAttribute("step",n.config.hourIncrement.toString()),n.minuteElement.setAttribute("step",n.config.minuteIncrement.toString()),n.hourElement.setAttribute("min",n.config.time_24hr?"0":"1"),n.hourElement.setAttribute("max",n.config.time_24hr?"23":"12"),n.hourElement.setAttribute("maxlength","2"),n.minuteElement.setAttribute("min","0"),n.minuteElement.setAttribute("max","59"),n.minuteElement.setAttribute("maxlength","2"),n.timeContainer.appendChild(be),n.timeContainer.appendChild(ue),n.timeContainer.appendChild($e),n.config.time_24hr&&n.timeContainer.classList.add("time24hr"),n.config.enableSeconds){n.timeContainer.classList.add("hasSeconds");var Ie=Eu("flatpickr-second");n.secondElement=Ie.getElementsByTagName("input")[0],n.secondElement.value=Sr(n.latestSelectedDateObj?n.latestSelectedDateObj.getSeconds():re.seconds),n.secondElement.setAttribute("step",n.minuteElement.getAttribute("step")),n.secondElement.setAttribute("min","0"),n.secondElement.setAttribute("max","59"),n.secondElement.setAttribute("maxlength","2"),n.timeContainer.appendChild(dn("span","flatpickr-time-separator",":")),n.timeContainer.appendChild(Ie)}return n.config.time_24hr||(n.amPM=dn("span","flatpickr-am-pm",n.l10n.amPM[nl((n.latestSelectedDateObj?n.hourElement.value:n.config.defaultHour)>11)]),n.amPM.title=n.l10n.toggleTitle,n.amPM.tabIndex=-1,n.timeContainer.appendChild(n.amPM)),n.timeContainer}function x(){n.weekdayContainer?Iu(n.weekdayContainer):n.weekdayContainer=dn("div","flatpickr-weekdays");for(var re=n.config.showMonths;re--;){var ue=dn("div","flatpickr-weekdaycontainer");n.weekdayContainer.appendChild(ue)}return X(),n.weekdayContainer}function X(){if(!!n.weekdayContainer){var re=n.l10n.firstDayOfWeek,ue=Ch(n.l10n.weekdays.shorthand);re>0&&re<ue.length&&(ue=Ch(ue.splice(re,ue.length),ue.splice(0,re)));for(var be=n.config.showMonths;be--;)n.weekdayContainer.children[be].innerHTML=`
      <span class='flatpickr-weekday'>
        `+ue.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function fe(){n.calendarContainer.classList.add("hasWeeks");var re=dn("div","flatpickr-weekwrapper");re.appendChild(dn("span","flatpickr-weekday",n.l10n.weekAbbreviation));var ue=dn("div","flatpickr-weeks");return re.appendChild(ue),{weekWrapper:re,weekNumbers:ue}}function he(re,ue){ue===void 0&&(ue=!0);var be=ue?re:re-n.currentMonth;be<0&&n._hidePrevMonthArrow===!0||be>0&&n._hideNextMonthArrow===!0||(n.currentMonth+=be,(n.currentMonth<0||n.currentMonth>11)&&(n.currentYear+=n.currentMonth>11?1:-1,n.currentMonth=(n.currentMonth+12)%12,Bt("onYearChange"),q()),V(),Bt("onMonthChange"),gl())}function me(re,ue){if(re===void 0&&(re=!0),ue===void 0&&(ue=!0),n.input.value="",n.altInput!==void 0&&(n.altInput.value=""),n.mobileInput!==void 0&&(n.mobileInput.value=""),n.selectedDates=[],n.latestSelectedDateObj=void 0,ue===!0&&(n.currentYear=n._initialDate.getFullYear(),n.currentMonth=n._initialDate.getMonth()),n.config.enableTime===!0){var be=fm(n.config),$e=be.hours,Ie=be.minutes,Pe=be.seconds;d($e,Ie,Pe)}n.redraw(),re&&Bt("onChange")}function ge(){n.isOpen=!1,n.isMobile||(n.calendarContainer!==void 0&&n.calendarContainer.classList.remove("open"),n._input!==void 0&&n._input.classList.remove("active")),Bt("onClose")}function pe(){n.config!==void 0&&Bt("onDestroy");for(var re=n._handlers.length;re--;)n._handlers[re].remove();if(n._handlers=[],n.mobileInput)n.mobileInput.parentNode&&n.mobileInput.parentNode.removeChild(n.mobileInput),n.mobileInput=void 0;else if(n.calendarContainer&&n.calendarContainer.parentNode)if(n.config.static&&n.calendarContainer.parentNode){var ue=n.calendarContainer.parentNode;if(ue.lastChild&&ue.removeChild(ue.lastChild),ue.parentNode){for(;ue.firstChild;)ue.parentNode.insertBefore(ue.firstChild,ue);ue.parentNode.removeChild(ue)}}else n.calendarContainer.parentNode.removeChild(n.calendarContainer);n.altInput&&(n.input.type="text",n.altInput.parentNode&&n.altInput.parentNode.removeChild(n.altInput),delete n.altInput),n.input&&(n.input.type=n.input._type,n.input.classList.remove("flatpickr-input"),n.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(be){try{delete n[be]}catch($e){}})}function Le(re){return n.calendarContainer.contains(re)}function Qe(re){if(n.isOpen&&!n.config.inline){var ue=Br(re),be=Le(ue),$e=ue===n.input||ue===n.altInput||n.element.contains(ue)||re.path&&re.path.indexOf&&(~re.path.indexOf(n.input)||~re.path.indexOf(n.altInput)),Ie=!$e&&!be&&!Le(re.relatedTarget),Pe=!n.config.ignoredFocusElements.some(function(Ge){return Ge.contains(ue)});Ie&&Pe&&(n.config.allowInput&&n.setDate(n._input.value,!1,n.config.altInput?n.config.altFormat:n.config.dateFormat),n.timeContainer!==void 0&&n.minuteElement!==void 0&&n.hourElement!==void 0&&n.input.value!==""&&n.input.value!==void 0&&a(),n.close(),n.config&&n.config.mode==="range"&&n.selectedDates.length===1&&n.clear(!1))}}function Ae(re){if(!(!re||n.config.minDate&&re<n.config.minDate.getFullYear()||n.config.maxDate&&re>n.config.maxDate.getFullYear())){var ue=re,be=n.currentYear!==ue;n.currentYear=ue||n.currentYear,n.config.maxDate&&n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth=Math.min(n.config.maxDate.getMonth(),n.currentMonth):n.config.minDate&&n.currentYear===n.config.minDate.getFullYear()&&(n.currentMonth=Math.max(n.config.minDate.getMonth(),n.currentMonth)),be&&(n.redraw(),Bt("onYearChange"),q())}}function Je(re,ue){var be;ue===void 0&&(ue=!0);var $e=n.parseDate(re,void 0,ue);if(n.config.minDate&&$e&&qr($e,n.config.minDate,ue!==void 0?ue:!n.minDateHasTime)<0||n.config.maxDate&&$e&&qr($e,n.config.maxDate,ue!==void 0?ue:!n.maxDateHasTime)>0)return!1;if(!n.config.enable&&n.config.disable.length===0)return!0;if($e===void 0)return!1;for(var Ie=!!n.config.enable,Pe=(be=n.config.enable)!==null&&be!==void 0?be:n.config.disable,Ge=0,Ze=void 0;Ge<Pe.length;Ge++){if(Ze=Pe[Ge],typeof Ze=="function"&&Ze($e))return Ie;if(Ze instanceof Date&&$e!==void 0&&Ze.getTime()===$e.getTime())return Ie;if(typeof Ze=="string"){var tt=n.parseDate(Ze,void 0,!0);return tt&&tt.getTime()===$e.getTime()?Ie:!Ie}else if(typeof Ze=="object"&&$e!==void 0&&Ze.from&&Ze.to&&$e.getTime()>=Ze.from.getTime()&&$e.getTime()<=Ze.to.getTime())return Ie}return!Ie}function ze(re){return n.daysContainer!==void 0?re.className.indexOf("hidden")===-1&&re.className.indexOf("flatpickr-disabled")===-1&&n.daysContainer.contains(re):!1}function Ve(re){var ue=re.target===n._input,be=n._input.value.trimEnd()!==hl();ue&&be&&!(re.relatedTarget&&Le(re.relatedTarget))&&n.setDate(n._input.value,!0,re.target===n.altInput?n.config.altFormat:n.config.dateFormat)}function Be(re){var ue=Br(re),be=n.config.wrap?r.contains(ue):ue===n._input,$e=n.config.allowInput,Ie=n.isOpen&&(!$e||!be),Pe=n.config.inline&&be&&!$e;if(re.keyCode===13&&be){if($e)return n.setDate(n._input.value,!0,ue===n.altInput?n.config.altFormat:n.config.dateFormat),n.close(),ue.blur();n.open()}else if(Le(ue)||Ie||Pe){var Ge=!!n.timeContainer&&n.timeContainer.contains(ue);switch(re.keyCode){case 13:Ge?(re.preventDefault(),a(),ct()):lt(re);break;case 27:re.preventDefault(),ct();break;case 8:case 46:be&&!n.config.allowInput&&(re.preventDefault(),n.clear());break;case 37:case 39:if(!Ge&&!be){re.preventDefault();var Ze=s();if(n.daysContainer!==void 0&&($e===!1||Ze&&ze(Ze))){var tt=re.keyCode===39?1:-1;re.ctrlKey?(re.stopPropagation(),he(tt),B(F(1),0)):B(void 0,tt)}}else n.hourElement&&n.hourElement.focus();break;case 38:case 40:re.preventDefault();var je=re.keyCode===40?1:-1;n.daysContainer&&ue.$i!==void 0||ue===n.input||ue===n.altInput?re.ctrlKey?(re.stopPropagation(),Ae(n.currentYear-je),B(F(1),0)):Ge||B(void 0,je*7):ue===n.currentYearElement?Ae(n.currentYear-je):n.config.enableTime&&(!Ge&&n.hourElement&&n.hourElement.focus(),a(re),n._debouncedChange());break;case 9:if(Ge){var it=[n.hourElement,n.minuteElement,n.secondElement,n.amPM].concat(n.pluginElements).filter(function(Ye){return Ye}),bt=it.indexOf(ue);if(bt!==-1){var Ft=it[bt+(re.shiftKey?-1:1)];re.preventDefault(),(Ft||n._input).focus()}}else!n.config.noCalendar&&n.daysContainer&&n.daysContainer.contains(ue)&&re.shiftKey&&(re.preventDefault(),n._input.focus());break}}if(n.amPM!==void 0&&ue===n.amPM)switch(re.key){case n.l10n.amPM[0].charAt(0):case n.l10n.amPM[0].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[0],c(),gr();break;case n.l10n.amPM[1].charAt(0):case n.l10n.amPM[1].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[1],c(),gr();break}(be||Le(ue))&&Bt("onKeyDown",re)}function qe(re,ue){if(ue===void 0&&(ue="flatpickr-day"),!(n.selectedDates.length!==1||re&&(!re.classList.contains(ue)||re.classList.contains("flatpickr-disabled")))){for(var be=re?re.dateObj.getTime():n.days.firstElementChild.dateObj.getTime(),$e=n.parseDate(n.selectedDates[0],void 0,!0).getTime(),Ie=Math.min(be,n.selectedDates[0].getTime()),Pe=Math.max(be,n.selectedDates[0].getTime()),Ge=!1,Ze=0,tt=0,je=Ie;je<Pe;je+=LU.DAY)Je(new Date(je),!0)||(Ge=Ge||je>Ie&&je<Pe,je<$e&&(!Ze||je>Ze)?Ze=je:je>$e&&(!tt||je<tt)&&(tt=je));var it=Array.from(n.rContainer.querySelectorAll("*:nth-child(-n+"+n.config.showMonths+") > ."+ue));it.forEach(function(bt){var Ft=bt.dateObj,Ye=Ft.getTime(),wt=Ze>0&&Ye<Ze||tt>0&&Ye>tt;if(wt){bt.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(qt){bt.classList.remove(qt)});return}else if(Ge&&!wt)return;["startRange","inRange","endRange","notAllowed"].forEach(function(qt){bt.classList.remove(qt)}),re!==void 0&&(re.classList.add(be<=n.selectedDates[0].getTime()?"startRange":"endRange"),$e<be&&Ye===$e?bt.classList.add("startRange"):$e>be&&Ye===$e&&bt.classList.add("endRange"),Ye>=Ze&&(tt===0||Ye<=tt)&&NU(Ye,$e,be)&&bt.classList.add("inRange"))})}}function ft(){n.isOpen&&!n.config.static&&!n.config.inline&&_t()}function vt(re,ue){if(ue===void 0&&(ue=n._positionElement),n.isMobile===!0){if(re){re.preventDefault();var be=Br(re);be&&be.blur()}n.mobileInput!==void 0&&(n.mobileInput.focus(),n.mobileInput.click()),Bt("onOpen");return}else if(n._input.disabled||n.config.inline)return;var $e=n.isOpen;n.isOpen=!0,$e||(n.calendarContainer.classList.add("open"),n._input.classList.add("active"),Bt("onOpen"),_t(ue)),n.config.enableTime===!0&&n.config.noCalendar===!0&&n.config.allowInput===!1&&(re===void 0||!n.timeContainer.contains(re.relatedTarget))&&setTimeout(function(){return n.hourElement.select()},50)}function ut(re){return function(ue){var be=n.config["_"+re+"Date"]=n.parseDate(ue,n.config.dateFormat),$e=n.config["_"+(re==="min"?"max":"min")+"Date"];be!==void 0&&(n[re==="min"?"minDateHasTime":"maxDateHasTime"]=be.getHours()>0||be.getMinutes()>0||be.getSeconds()>0),n.selectedDates&&(n.selectedDates=n.selectedDates.filter(function(Ie){return Je(Ie)}),!n.selectedDates.length&&re==="min"&&m(be),gr()),n.daysContainer&&(yt(),be!==void 0?n.currentYearElement[re]=be.getFullYear().toString():n.currentYearElement.removeAttribute(re),n.currentYearElement.disabled=!!$e&&be!==void 0&&$e.getFullYear()===be.getFullYear())}}function Xe(){var re=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],ue=cr(cr({},JSON.parse(JSON.stringify(r.dataset||{}))),e),be={};n.config.parseDate=ue.parseDate,n.config.formatDate=ue.formatDate,Object.defineProperty(n.config,"enable",{get:function(){return n.config._enable},set:function(it){n.config._enable=Jt(it)}}),Object.defineProperty(n.config,"disable",{get:function(){return n.config._disable},set:function(it){n.config._disable=Jt(it)}});var $e=ue.mode==="time";if(!ue.dateFormat&&(ue.enableTime||$e)){var Ie=Xn.defaultConfig.dateFormat||Bo.dateFormat;be.dateFormat=ue.noCalendar||$e?"H:i"+(ue.enableSeconds?":S":""):Ie+" H:i"+(ue.enableSeconds?":S":"")}if(ue.altInput&&(ue.enableTime||$e)&&!ue.altFormat){var Pe=Xn.defaultConfig.altFormat||Bo.altFormat;be.altFormat=ue.noCalendar||$e?"h:i"+(ue.enableSeconds?":S K":" K"):Pe+(" h:i"+(ue.enableSeconds?":S":"")+" K")}Object.defineProperty(n.config,"minDate",{get:function(){return n.config._minDate},set:ut("min")}),Object.defineProperty(n.config,"maxDate",{get:function(){return n.config._maxDate},set:ut("max")});var Ge=function(it){return function(bt){n.config[it==="min"?"_minTime":"_maxTime"]=n.parseDate(bt,"H:i:S")}};Object.defineProperty(n.config,"minTime",{get:function(){return n.config._minTime},set:Ge("min")}),Object.defineProperty(n.config,"maxTime",{get:function(){return n.config._maxTime},set:Ge("max")}),ue.mode==="time"&&(n.config.noCalendar=!0,n.config.enableTime=!0),Object.assign(n.config,be,ue);for(var Ze=0;Ze<re.length;Ze++)n.config[re[Ze]]=n.config[re[Ze]]===!0||n.config[re[Ze]]==="true";om.filter(function(it){return n.config[it]!==void 0}).forEach(function(it){n.config[it]=im(n.config[it]||[]).map(o)}),n.isMobile=!n.config.disableMobile&&!n.config.inline&&n.config.mode==="single"&&!n.config.disable.length&&!n.config.enable&&!n.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var Ze=0;Ze<n.config.plugins.length;Ze++){var tt=n.config.plugins[Ze](n)||{};for(var je in tt)om.indexOf(je)>-1?n.config[je]=im(tt[je]).map(o).concat(n.config[je]):typeof ue[je]>"u"&&(n.config[je]=tt[je])}ue.altInputClass||(n.config.altInputClass=dt().className+" "+n.config.altInputClass),Bt("onParseConfig")}function dt(){return n.config.wrap?r.querySelector("[data-input]"):r}function Oe(){typeof n.config.locale!="object"&&typeof Xn.l10ns[n.config.locale]>"u"&&n.config.errorHandler(new Error("flatpickr: invalid locale "+n.config.locale)),n.l10n=cr(cr({},Xn.l10ns.default),typeof n.config.locale=="object"?n.config.locale:n.config.locale!=="default"?Xn.l10ns[n.config.locale]:void 0),qs.D="("+n.l10n.weekdays.shorthand.join("|")+")",qs.l="("+n.l10n.weekdays.longhand.join("|")+")",qs.M="("+n.l10n.months.shorthand.join("|")+")",qs.F="("+n.l10n.months.longhand.join("|")+")",qs.K="("+n.l10n.amPM[0]+"|"+n.l10n.amPM[1]+"|"+n.l10n.amPM[0].toLowerCase()+"|"+n.l10n.amPM[1].toLowerCase()+")";var re=cr(cr({},e),JSON.parse(JSON.stringify(r.dataset||{})));re.time_24hr===void 0&&Xn.defaultConfig.time_24hr===void 0&&(n.config.time_24hr=n.l10n.time_24hr),n.formatDate=bT(n),n.parseDate=nd({config:n.config,l10n:n.l10n})}function _t(re){if(typeof n.config.position=="function")return void n.config.position(n,re);if(n.calendarContainer!==void 0){Bt("onPreCalendarPosition");var ue=re||n._positionElement,be=Array.prototype.reduce.call(n.calendarContainer.children,function(zn,ir){return zn+ir.offsetHeight},0),$e=n.calendarContainer.offsetWidth,Ie=n.config.position.split(" "),Pe=Ie[0],Ge=Ie.length>1?Ie[1]:null,Ze=ue.getBoundingClientRect(),tt=window.innerHeight-Ze.bottom,je=Pe==="above"||Pe!=="below"&&tt<be&&Ze.top>be,it=window.pageYOffset+Ze.top+(je?-be-2:ue.offsetHeight+2);if(br(n.calendarContainer,"arrowTop",!je),br(n.calendarContainer,"arrowBottom",je),!n.config.inline){var bt=window.pageXOffset+Ze.left,Ft=!1,Ye=!1;Ge==="center"?(bt-=($e-Ze.width)/2,Ft=!0):Ge==="right"&&(bt-=$e-Ze.width,Ye=!0),br(n.calendarContainer,"arrowLeft",!Ft&&!Ye),br(n.calendarContainer,"arrowCenter",Ft),br(n.calendarContainer,"arrowRight",Ye);var wt=window.document.body.offsetWidth-(window.pageXOffset+Ze.right),qt=bt+$e>window.document.body.offsetWidth,pn=wt+$e>window.document.body.offsetWidth;if(br(n.calendarContainer,"rightMost",qt),!n.config.static)if(n.calendarContainer.style.top=it+"px",!qt)n.calendarContainer.style.left=bt+"px",n.calendarContainer.style.right="auto";else if(!pn)n.calendarContainer.style.left="auto",n.calendarContainer.style.right=wt+"px";else{var Kt=Fe();if(Kt===void 0)return;var Zt=window.document.body.offsetWidth,Lt=Math.max(0,Zt/2-$e/2),Vt=".flatpickr-calendar.centerMost:before",cn=".flatpickr-calendar.centerMost:after",gn=Kt.cssRules.length,mn="{left:"+Ze.left+"px;right:auto;}";br(n.calendarContainer,"rightMost",!1),br(n.calendarContainer,"centerMost",!0),Kt.insertRule(Vt+","+cn+mn,gn),n.calendarContainer.style.left=Lt+"px",n.calendarContainer.style.right="auto"}}}}function Fe(){for(var re=null,ue=0;ue<document.styleSheets.length;ue++){var be=document.styleSheets[ue];if(!!be.cssRules){try{be.cssRules}catch($e){continue}re=be;break}}return re!=null?re:mt()}function mt(){var re=document.createElement("style");return document.head.appendChild(re),re.sheet}function yt(){n.config.noCalendar||n.isMobile||(q(),gl(),V())}function ct(){n._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(n.close,0):n.close()}function lt(re){re.preventDefault(),re.stopPropagation();var ue=function(it){return it.classList&&it.classList.contains("flatpickr-day")&&!it.classList.contains("flatpickr-disabled")&&!it.classList.contains("notAllowed")},be=hT(Br(re),ue);if(be!==void 0){var $e=be,Ie=n.latestSelectedDateObj=new Date($e.dateObj.getTime()),Pe=(Ie.getMonth()<n.currentMonth||Ie.getMonth()>n.currentMonth+n.config.showMonths-1)&&n.config.mode!=="range";if(n.selectedDateElem=$e,n.config.mode==="single")n.selectedDates=[Ie];else if(n.config.mode==="multiple"){var Ge=el(Ie);Ge?n.selectedDates.splice(parseInt(Ge),1):n.selectedDates.push(Ie)}else n.config.mode==="range"&&(n.selectedDates.length===2&&n.clear(!1,!1),n.latestSelectedDateObj=Ie,n.selectedDates.push(Ie),qr(Ie,n.selectedDates[0],!0)!==0&&n.selectedDates.sort(function(it,bt){return it.getTime()-bt.getTime()}));if(c(),Pe){var Ze=n.currentYear!==Ie.getFullYear();n.currentYear=Ie.getFullYear(),n.currentMonth=Ie.getMonth(),Ze&&(Bt("onYearChange"),q()),Bt("onMonthChange")}if(gl(),V(),gr(),!Pe&&n.config.mode!=="range"&&n.config.showMonths===1?O($e):n.selectedDateElem!==void 0&&n.hourElement===void 0&&n.selectedDateElem&&n.selectedDateElem.focus(),n.hourElement!==void 0&&n.hourElement!==void 0&&n.hourElement.focus(),n.config.closeOnSelect){var tt=n.config.mode==="single"&&!n.config.enableTime,je=n.config.mode==="range"&&n.selectedDates.length===2&&!n.config.enableTime;(tt||je)&&ct()}b()}}var rt={locale:[Oe,X],showMonths:[Y,i,x],minDate:[S],maxDate:[S],positionElement:[at],clickOpens:[function(){n.config.clickOpens===!0?(h(n._input,"focus",n.open),h(n._input,"click",n.open)):(n._input.removeEventListener("focus",n.open),n._input.removeEventListener("click",n.open))}]};function Xt(re,ue){if(re!==null&&typeof re=="object"){Object.assign(n.config,re);for(var be in re)rt[be]!==void 0&&rt[be].forEach(function($e){return $e()})}else n.config[re]=ue,rt[re]!==void 0?rt[re].forEach(function($e){return $e()}):om.indexOf(re)>-1&&(n.config[re]=im(ue));n.redraw(),gr(!0)}function Pt(re,ue){var be=[];if(re instanceof Array)be=re.map(function($e){return n.parseDate($e,ue)});else if(re instanceof Date||typeof re=="number")be=[n.parseDate(re,ue)];else if(typeof re=="string")switch(n.config.mode){case"single":case"time":be=[n.parseDate(re,ue)];break;case"multiple":be=re.split(n.config.conjunction).map(function($e){return n.parseDate($e,ue)});break;case"range":be=re.split(n.l10n.rangeSeparator).map(function($e){return n.parseDate($e,ue)});break}else n.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(re)));n.selectedDates=n.config.allowInvalidPreload?be:be.filter(function($e){return $e instanceof Date&&Je($e,!1)}),n.config.mode==="range"&&n.selectedDates.sort(function($e,Ie){return $e.getTime()-Ie.getTime()})}function _n(re,ue,be){if(ue===void 0&&(ue=!1),be===void 0&&(be=n.config.dateFormat),re!==0&&!re||re instanceof Array&&re.length===0)return n.clear(ue);Pt(re,be),n.latestSelectedDateObj=n.selectedDates[n.selectedDates.length-1],n.redraw(),S(void 0,ue),m(),n.selectedDates.length===0&&n.clear(!1),gr(ue),ue&&Bt("onChange")}function Jt(re){return re.slice().map(function(ue){return typeof ue=="string"||typeof ue=="number"||ue instanceof Date?n.parseDate(ue,void 0,!0):ue&&typeof ue=="object"&&ue.from&&ue.to?{from:n.parseDate(ue.from,void 0),to:n.parseDate(ue.to,void 0)}:ue}).filter(function(ue){return ue})}function bn(){n.selectedDates=[],n.now=n.parseDate(n.config.now)||new Date;var re=n.config.defaultDate||((n.input.nodeName==="INPUT"||n.input.nodeName==="TEXTAREA")&&n.input.placeholder&&n.input.value===n.input.placeholder?null:n.input.value);re&&Pt(re,n.config.dateFormat),n._initialDate=n.selectedDates.length>0?n.selectedDates[0]:n.config.minDate&&n.config.minDate.getTime()>n.now.getTime()?n.config.minDate:n.config.maxDate&&n.config.maxDate.getTime()<n.now.getTime()?n.config.maxDate:n.now,n.currentYear=n._initialDate.getFullYear(),n.currentMonth=n._initialDate.getMonth(),n.selectedDates.length>0&&(n.latestSelectedDateObj=n.selectedDates[0]),n.config.minTime!==void 0&&(n.config.minTime=n.parseDate(n.config.minTime,"H:i")),n.config.maxTime!==void 0&&(n.config.maxTime=n.parseDate(n.config.maxTime,"H:i")),n.minDateHasTime=!!n.config.minDate&&(n.config.minDate.getHours()>0||n.config.minDate.getMinutes()>0||n.config.minDate.getSeconds()>0),n.maxDateHasTime=!!n.config.maxDate&&(n.config.maxDate.getHours()>0||n.config.maxDate.getMinutes()>0||n.config.maxDate.getSeconds()>0)}function Dn(){if(n.input=dt(),!n.input){n.config.errorHandler(new Error("Invalid input element specified"));return}n.input._type=n.input.type,n.input.type="text",n.input.classList.add("flatpickr-input"),n._input=n.input,n.config.altInput&&(n.altInput=dn(n.input.nodeName,n.config.altInputClass),n._input=n.altInput,n.altInput.placeholder=n.input.placeholder,n.altInput.disabled=n.input.disabled,n.altInput.required=n.input.required,n.altInput.tabIndex=n.input.tabIndex,n.altInput.type="text",n.input.setAttribute("type","hidden"),!n.config.static&&n.input.parentNode&&n.input.parentNode.insertBefore(n.altInput,n.input.nextSibling)),n.config.allowInput||n._input.setAttribute("readonly","readonly"),at()}function at(){n._positionElement=n.config.positionElement||n._input}function $n(){var re=n.config.enableTime?n.config.noCalendar?"time":"datetime-local":"date";n.mobileInput=dn("input",n.input.className+" flatpickr-mobile"),n.mobileInput.tabIndex=1,n.mobileInput.type=re,n.mobileInput.disabled=n.input.disabled,n.mobileInput.required=n.input.required,n.mobileInput.placeholder=n.input.placeholder,n.mobileFormatStr=re==="datetime-local"?"Y-m-d\\TH:i:S":re==="date"?"Y-m-d":"H:i:S",n.selectedDates.length>0&&(n.mobileInput.defaultValue=n.mobileInput.value=n.formatDate(n.selectedDates[0],n.mobileFormatStr)),n.config.minDate&&(n.mobileInput.min=n.formatDate(n.config.minDate,"Y-m-d")),n.config.maxDate&&(n.mobileInput.max=n.formatDate(n.config.maxDate,"Y-m-d")),n.input.getAttribute("step")&&(n.mobileInput.step=String(n.input.getAttribute("step"))),n.input.type="hidden",n.altInput!==void 0&&(n.altInput.type="hidden");try{n.input.parentNode&&n.input.parentNode.insertBefore(n.mobileInput,n.input.nextSibling)}catch(ue){}h(n.mobileInput,"change",function(ue){n.setDate(Br(ue).value,!1,n.mobileFormatStr),Bt("onChange"),Bt("onClose")})}function Cn(re){if(n.isOpen===!0)return n.close();n.open(re)}function Bt(re,ue){if(n.config!==void 0){var be=n.config[re];if(be!==void 0&&be.length>0)for(var $e=0;be[$e]&&$e<be.length;$e++)be[$e](n.selectedDates,n.input.value,n,ue);re==="onChange"&&(n.input.dispatchEvent(or("change")),n.input.dispatchEvent(or("input")))}}function or(re){var ue=document.createEvent("Event");return ue.initEvent(re,!0,!0),ue}function el(re){for(var ue=0;ue<n.selectedDates.length;ue++){var be=n.selectedDates[ue];if(be instanceof Date&&qr(be,re)===0)return""+ue}return!1}function wr(re){return n.config.mode!=="range"||n.selectedDates.length<2?!1:qr(re,n.selectedDates[0])>=0&&qr(re,n.selectedDates[1])<=0}function gl(){n.config.noCalendar||n.isMobile||!n.monthNav||(n.yearElements.forEach(function(re,ue){var be=new Date(n.currentYear,n.currentMonth,1);be.setMonth(n.currentMonth+ue),n.config.showMonths>1||n.config.monthSelectorType==="static"?n.monthElements[ue].textContent=sf(be.getMonth(),n.config.shorthandCurrentMonth,n.l10n)+" ":n.monthsDropdownContainer.value=be.getMonth().toString(),re.value=be.getFullYear().toString()}),n._hidePrevMonthArrow=n.config.minDate!==void 0&&(n.currentYear===n.config.minDate.getFullYear()?n.currentMonth<=n.config.minDate.getMonth():n.currentYear<n.config.minDate.getFullYear()),n._hideNextMonthArrow=n.config.maxDate!==void 0&&(n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth+1>n.config.maxDate.getMonth():n.currentYear>n.config.maxDate.getFullYear()))}function hl(re){var ue=re||(n.config.altInput?n.config.altFormat:n.config.dateFormat);return n.selectedDates.map(function(be){return n.formatDate(be,ue)}).filter(function(be,$e,Ie){return n.config.mode!=="range"||n.config.enableTime||Ie.indexOf(be)===$e}).join(n.config.mode!=="range"?n.config.conjunction:n.l10n.rangeSeparator)}function gr(re){re===void 0&&(re=!0),n.mobileInput!==void 0&&n.mobileFormatStr&&(n.mobileInput.value=n.latestSelectedDateObj!==void 0?n.formatDate(n.latestSelectedDateObj,n.mobileFormatStr):""),n.input.value=hl(n.config.dateFormat),n.altInput!==void 0&&(n.altInput.value=hl(n.config.altFormat)),re!==!1&&Bt("onValueUpdate")}function Ee(re){var ue=Br(re),be=n.prevMonthNav.contains(ue),$e=n.nextMonthNav.contains(ue);be||$e?he(be?-1:1):n.yearElements.indexOf(ue)>=0?ue.select():ue.classList.contains("arrowUp")?n.changeYear(n.currentYear+1):ue.classList.contains("arrowDown")&&n.changeYear(n.currentYear-1)}function Te(re){re.preventDefault();var ue=re.type==="keydown",be=Br(re),$e=be;n.amPM!==void 0&&be===n.amPM&&(n.amPM.textContent=n.l10n.amPM[nl(n.amPM.textContent===n.l10n.amPM[0])]);var Ie=parseFloat($e.getAttribute("min")),Pe=parseFloat($e.getAttribute("max")),Ge=parseFloat($e.getAttribute("step")),Ze=parseInt($e.value,10),tt=re.delta||(ue?re.which===38?1:-1:0),je=Ze+Ge*tt;if(typeof $e.value<"u"&&$e.value.length===2){var it=$e===n.hourElement,bt=$e===n.minuteElement;je<Ie?(je=Pe+je+nl(!it)+(nl(it)&&nl(!n.amPM)),bt&&M(void 0,-1,n.hourElement)):je>Pe&&(je=$e===n.hourElement?je-Pe-nl(!n.amPM):Ie,bt&&M(void 0,1,n.hourElement)),n.amPM&&it&&(Ge===1?je+Ze===23:Math.abs(je-Ze)>Ge)&&(n.amPM.textContent=n.l10n.amPM[nl(n.amPM.textContent===n.l10n.amPM[0])]),$e.value=Sr(je)}}return l(),n}function qo(r,e){for(var n=Array.prototype.slice.call(r).filter(function(o){return o instanceof HTMLElement}),t=[],l=0;l<n.length;l++){var s=n[l];try{if(s.getAttribute("data-fp-omit")!==null)continue;s._flatpickr!==void 0&&(s._flatpickr.destroy(),s._flatpickr=void 0),s._flatpickr=VU(s,e||{}),t.push(s._flatpickr)}catch(o){console.error(o)}}return t.length===1?t[0]:t}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(r){return qo(this,r)},HTMLElement.prototype.flatpickr=function(r){return qo([this],r)});var Xn=function(r,e){return typeof r=="string"?qo(window.document.querySelectorAll(r),e):r instanceof Node?qo([r],e):qo(r,e)};Xn.defaultConfig={};Xn.l10ns={en:cr({},ga),default:cr({},ga)};Xn.localize=function(r){Xn.l10ns.default=cr(cr({},Xn.l10ns.default),r)};Xn.setDefaults=function(r){Xn.defaultConfig=cr(cr({},Xn.defaultConfig),r)};Xn.parseDate=nd({});Xn.formatDate=bT({});Xn.compareDates=qr;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(r){return qo(this,r)});Date.prototype.fp_incr=function(r){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof r=="string"?parseInt(r,10):r))};typeof window<"u"&&(window.flatpickr=Xn);function zU(r){let e;return{c(){e=E("div"),e.innerHTML='<input type="hidden" data-input=""/>',I(e,"class","flat-pickr")},m(n,t){v(n,e,t),r[7](e)},p:H,i:H,o:H,d(n){n&&$(e),r[7](null)}}}function BU(r,e,n){const t=Et();let{value:l}=e,{type:s}=e,{format:o}=e,{timeShow24Hr:i=!0}=e,{timeEnableSeconds:a=!0}=e,u,f;tn(()=>(n(6,f=Xn(u,{wrap:!0,enableTime:s!=="date",enableSeconds:a,noCalendar:s==="time",dateFormat:o,parseDate:(m,d)=>Mn(m,d).toDate(),formatDate:(m,d)=>Mn(m).format(d),time_24hr:i,static:!0,inline:!0,monthSelectorType:"static",onChange:m=>{if(m[0]){const d=l,g=Mn(m[0]);if(n(1,l=g.format(o)),t("change",l),s==="date")t("dateChange",l);else if(s==="time")t("timeChange",l);else{const h=Mn(d,o);if(!h.isValid()){t("dateChange",l),t("timeChange",l);return}h.format("YYYY-MM-DD")!==g.format("YYYY-MM-DD")&&t("dateChange",l),h.format("HH:mm")!==g.format("HH:mm")&&t("timeChange",l)}}}})),()=>f.destroy()));function c(m){we[m?"unshift":"push"](()=>{u=m,n(0,u)})}return r.$$set=m=>{"value"in m&&n(1,l=m.value),"type"in m&&n(2,s=m.type),"format"in m&&n(3,o=m.format),"timeShow24Hr"in m&&n(4,i=m.timeShow24Hr),"timeEnableSeconds"in m&&n(5,a=m.timeEnableSeconds)},r.$$.update=()=>{r.$$.dirty&66&&(typeof l>"u"||l===null?f==null||f.clear():f==null||f.setDate(l))},[u,l,s,o,i,a,f,c]}class qU extends Q{constructor(e){super(),Z(this,e,BU,zU,J,{value:1,type:2,format:3,timeShow24Hr:4,timeEnableSeconds:5})}}class UU{constructor(e,n){te(this,"delay");te(this,"value");te(this,"cancel");this.delay=n,this.value=Ue(e)}subscribe(e){return this.value.subscribe(e)}setImmediately(e){var n;(n=this.cancel)==null||n.call(this),this.value.set(e)}setAfterDelay(e){var t;(t=this.cancel)==null||t.call(this);const n=window.setTimeout(()=>{this.value.set(e)},this.delay);this.cancel=()=>{window.clearTimeout(n)}}}class WU{constructor(e){te(this,"inputs");te(this,"output");this.inputs=new Wd,this.output=ao(et(this.inputs,n=>et(Us([...n]),e)))}registerInput(e){const n=Nn(e);return this.inputs.add(n),()=>this.inputs.delete(n)}subscribe(e,n){return this.output.subscribe(e,n)}}function Sh(){return new WU(r=>r.some(e=>e))}function Th(r){return r instanceof HTMLButtonElement?r.getAttribute("data-menu-item-sub-menu")!==null:!1}class jU{constructor(){te(this,"subMenus",new Cl);te(this,"openedSubMenu",new UU(void 0,70));te(this,"hasControlColumn",Sh());te(this,"hasIconColumn",Sh());te(this,"hasSubMenu");te(this,"hasSubMenuOpen");te(this,"openedSubMenuTimeoutId");this.hasSubMenu=et(this.subMenus,e=>e.size>0),this.hasSubMenuOpen=et(this.openedSubMenu,Boolean)}openSubMenuImmediately(e){if(!Th(e)){this.closeSubMenuImmediately();return}this.openedSubMenu.setImmediately(e)}openSubMenuAfterDelay(e){if(!Th(e)){this.closeSubMenuAfterDelay();return}this.openedSubMenu.setAfterDelay(e)}closeSubMenuImmediately(){this.openedSubMenu.setImmediately(void 0)}closeSubMenuAfterDelay(){this.openedSubMenu.setAfterDelay(void 0)}registerSubMenu(e){const[n,t]=HO(),l={isOpen:et(this.openedSubMenu,s=>s===e),open:()=>{this.openSubMenuImmediately(e)},close:()=>{this.closeSubMenuImmediately(),e.focus()},handleMouseEnterContent:n};return this.subMenus.set(e,l),t(()=>this.openSubMenuImmediately(e)),l}unRegisterSubMenu(e){this.subMenus.delete(e)}}const L_=Gl();function YU(r){let e,n;const t=r[19].default,l=ke(t,r,r[18],null);return{c(){e=E("div"),l&&l.c(),I(e,"class","menu"),I(e,"role","menu"),I(e,"style",r[2]),ie(e,"has-icon",r[3]),ie(e,"has-control",r[4]),ie(e,"has-sub-menu",r[5])},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,o){l&&l.p&&(!n||o&262144)&&Ce(l,t,s,s[18],n?ye(t,s[18],o,null):Se(s[18]),null),(!n||o&4)&&I(e,"style",s[2]),(!n||o&8)&&ie(e,"has-icon",s[3]),(!n||o&16)&&ie(e,"has-control",s[4]),(!n||o&32)&&ie(e,"has-sub-menu",s[5])},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function GU(r){let e,n,t,l,s;const o=r[19].default,i=ke(o,r,r[18],null);return{c(){e=E("div"),i&&i.c(),I(e,"class","menu"),I(e,"role","menu"),I(e,"style",r[2]),ie(e,"has-icon",r[3]),ie(e,"has-control",r[4]),ie(e,"has-sub-menu",r[5]),ie(e,"menu-modal",r[0])},m(a,u){var f;v(a,e,u),i&&i.m(e,null),r[20](e),t=!0,l||(s=[He(e,"mousemove",r[10]),He(e,"mouseleave",r[11]),Dt(n=uc.call(null,e,{autoFocus:!1,autoRestore:(f=r[0].restoreFocusOnClose)!=null?f:!0}))],l=!0)},p(a,u){var f;i&&i.p&&(!t||u&262144)&&Ce(i,o,a,a[18],t?ye(o,a[18],u,null):Se(a[18]),null),(!t||u&4)&&I(e,"style",a[2]),n&&St(n.update)&&u&1&&n.update.call(null,{autoFocus:!1,autoRestore:(f=a[0].restoreFocusOnClose)!=null?f:!0}),(!t||u&8)&&ie(e,"has-icon",a[3]),(!t||u&16)&&ie(e,"has-control",a[4]),(!t||u&32)&&ie(e,"has-sub-menu",a[5]),(!t||u&1)&&ie(e,"menu-modal",a[0])},i(a){t||(_(i,a),t=!0)},o(a){p(i,a),t=!1},d(a){a&&$(e),i&&i.d(a),r[20](null),l=!1,Ot(s)}}}function KU(r){let e,n,t,l;const s=[GU,YU],o=[];function i(a,u){return a[0]?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,[u]){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function XU(r,e,n){let t,l,s,o,i,a,{$$slots:u={},$$scope:f}=e;const c=new jU;L_.set(c);const{hasControlColumn:m,hasIconColumn:d,hasSubMenu:g,hasSubMenuOpen:h}=c;ne(r,m,V=>n(4,i=V)),ne(r,d,V=>n(3,o=V)),ne(r,g,V=>n(5,a=V)),ne(r,h,V=>n(21,s=V));let{style:b=void 0}=e,{iconWidth:w="1em"}=e,{controlWidth:S="1em"}=e,{cssVariables:T=void 0}=e,{modal:M=void 0}=e,{isSubMenu:A=!1}=e,D;function O(V){const q=V.target,G=HS(q);!G||(zo(G),c.openSubMenuAfterDelay(G))}function F(){CO(document.activeElement)}function P(V){const q=[...Jm(D)],G=(()=>{const Y=document.activeElement,K=q.findIndex(x=>x===Y);if(K===-1)return 0;const ee=q.length;return((K+V)%ee+ee)%ee})();zo(q.at(G))}function B(V){if(!s){switch(V.key){case"Escape":M==null||M.close();break;case"ArrowUp":P(-1);break;case"ArrowDown":P(1);break;case"ArrowRight":c.openSubMenuImmediately(V.target);break;case"ArrowLeft":if(!A)return;M==null||M.close();break;default:return}V.stopPropagation(),V.preventDefault()}}tn(()=>M?(window.addEventListener("keydown",B,{capture:!0}),()=>{window.removeEventListener("keydown",B,{capture:!0})}):()=>{});function j(V){we[V?"unshift":"push"](()=>{D=V,n(1,D)})}return r.$$set=V=>{"style"in V&&n(12,b=V.style),"iconWidth"in V&&n(13,w=V.iconWidth),"controlWidth"in V&&n(14,S=V.controlWidth),"cssVariables"in V&&n(15,T=V.cssVariables),"modal"in V&&n(0,M=V.modal),"isSubMenu"in V&&n(16,A=V.isSubMenu),"$$scope"in V&&n(18,f=V.$$scope)},r.$$.update=()=>{r.$$.dirty&32768&&n(17,t=T?Ml(T):""),r.$$.dirty&159744&&n(2,l=NS(Ml({"--Menu__icon-width":w,"--Menu__control-width":S}),t,b))},[M,D,l,o,i,a,m,d,g,h,O,F,b,w,S,T,A,t,f,u,j]}class hc extends Q{constructor(e){super(),Z(this,e,XU,KU,J,{style:12,iconWidth:13,controlWidth:14,cssVariables:15,modal:0,isSubMenu:16})}}const JU=r=>({}),Ih=r=>({slot:"trigger",close:r[10]}),ZU=r=>({close:r&1024}),Eh=r=>({close:r[10]});function Mh(r){let e,n;const t=[r[2]];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&4?de(t,[_e(s[2])]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function Rh(r){let e,n;return{c(){e=E("span"),n=L(r[0]),I(e,"class","label")},m(t,l){v(t,e,l),R(e,n)},p(t,l){l&1&&z(n,t[0])},d(t){t&&$(e)}}}function QU(r){let e,n,t,l=r[2]&&Mh(r),s=r[0]&&Rh(r);return{c(){e=E("span"),l&&l.c(),n=N(),s&&s.c(),I(e,"class","dropdown-menu-trigger svelte-pow2fb")},m(o,i){v(o,e,i),l&&l.m(e,null),R(e,n),s&&s.m(e,null),t=!0},p(o,i){o[2]?l?(l.p(o,i),i&4&&_(l,1)):(l=Mh(o),l.c(),_(l,1),l.m(e,n)):l&&(U(),p(l,1,1,()=>{l=null}),W()),o[0]?s?s.p(o,i):(s=Rh(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i(o){t||(_(l),t=!0)},o(o){p(l),t=!1},d(o){o&&$(e),l&&l.d(),s&&s.d()}}}function xU(r){let e;const n=r[6].trigger,t=ke(n,r,r[9],Ih),l=t||QU(r);return{c(){l&&l.c()},m(s,o){l&&l.m(s,o),e=!0},p(s,o){t?t.p&&(!e||o&512)&&Ce(t,n,s,s[9],e?ye(n,s[9],o,JU):Se(s[9]),Ih):l&&l.p&&(!e||o&5)&&l.p(s,e?o:-1)},i(s){e||(_(l,s),e=!0)},o(s){p(l,s),e=!1},d(s){l&&l.d(s)}}}function eW(r){let e;const n=r[6].default,t=ke(n,r,r[9],Eh);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&1536)&&Ce(t,n,l,l[9],e?ye(n,l[9],s,ZU):Se(l[9]),Eh)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function tW(r){let e,n;return e=new hc({props:{style:"--Menu__min-width: 100%;"+r[4],modal:{close:r[10],closeRoot:r[10]},$$slots:{default:[eW]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.style="--Menu__min-width: 100%;"+t[4]),l&1024&&(s.modal={close:t[10],closeRoot:t[10]}),l&1536&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function nW(r){var s;let e,n;const t=[{closeOnInnerClick:r[3]},{ariaLabel:(s=r[1])!=null?s:r[0]},r[5]];let l={$$slots:{content:[tW,({close:o})=>({10:o}),({close:o})=>o?1024:0],trigger:[xU]},$$scope:{ctx:r}};for(let o=0;o<t.length;o+=1)l=se(l,t[o]);return e=new Nl({props:l}),e.$on("open",r[7]),e.$on("close",r[8]),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),n=!0},p(o,[i]){var u;const a=i&43?de(t,[i&8&&{closeOnInnerClick:o[3]},i&3&&{ariaLabel:(u=o[1])!=null?u:o[0]},i&32&&_e(o[5])]):{};i&1557&&(a.$$scope={dirty:i,ctx:o}),e.$set(a)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){y(e,o)}}}function rW(r,e,n){const t=["label","ariaLabel","icon","closeOnInnerClick","menuStyle"];let l=We(e,t),{$$slots:s={},$$scope:o}=e,{label:i=""}=e,{ariaLabel:a=void 0}=e,{icon:u=void 0}=e,{closeOnInnerClick:f=!0}=e,{menuStyle:c=""}=e;function m(g){Re.call(this,r,g)}function d(g){Re.call(this,r,g)}return r.$$set=g=>{e=se(se({},e),pt(g)),n(5,l=We(e,t)),"label"in g&&n(0,i=g.label),"ariaLabel"in g&&n(1,a=g.ariaLabel),"icon"in g&&n(2,u=g.icon),"closeOnInnerClick"in g&&n(3,f=g.closeOnInnerClick),"menuStyle"in g&&n(4,c=g.menuStyle),"$$scope"in g&&n(9,o=g.$$scope)},[i,a,u,f,c,l,s,m,d,o]}class Pr extends Q{constructor(e){super(),Z(this,e,rW,nW,J,{label:0,ariaLabel:1,icon:2,closeOnInnerClick:3,menuStyle:4})}}function lW(r){let e,n,t;const l=[r[2]];function s(i){r[3](i)}let o={};for(let i=0;i<l.length;i+=1)o=se(o,l[i]);return r[0]!==void 0&&(o.checked=r[0]),e=new lr({props:o}),we.push(()=>Me(e,"checked",s)),{c(){C(e.$$.fragment)},m(i,a){k(e,i,a),t=!0},p(i,a){const u=a&4?de(l,[_e(i[2])]):{};!n&&a&1&&(n=!0,u.checked=i[0],De(()=>n=!1)),e.$set(u)},i(i){t||(_(e.$$.fragment,i),t=!0)},o(i){p(e.$$.fragment,i),t=!1},d(i){y(e,i)}}}function sW(r){let e;return{c(){e=L("Toggle not implemented yet")},m(n,t){v(n,e,t)},p:H,i:H,o:H,d(n){n&&$(e)}}}function oW(r){let e,n,t,l;const s=[sW,lW],o=[];function i(a,u){return a[1]==="toggle"?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,[u]){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function iW(r,e,n){const t=["value","interfaceType"];let l=We(e,t),{value:s=!1}=e,{interfaceType:o="checkbox"}=e;function i(a){s=a,n(0,s)}return r.$$set=a=>{e=se(se({},e),pt(a)),n(2,l=We(e,t)),"value"in a&&n(0,s=a.value),"interfaceType"in a&&n(1,o=a.interfaceType)},[s,o,l,i]}class aW extends Q{constructor(e){super(),Z(this,e,iW,oW,J,{value:0,interfaceType:1})}}const uW=r=>({option:r&1,label:r&17}),Dh=r=>({option:r[0],label:r[4](r[0])}),fW=r=>({option:r&1,label:r&17}),Ah=r=>({option:r[0],label:r[4](r[0])}),cW=r=>({}),Oh=r=>({option:r[29],label:r[30]}),mW=r=>({option:r&536870912,label:r&1073741824}),Fh=r=>({option:r[29],label:r[30]});function dW(r){let e,n;return e=new Nr({props:{arg:r[4](r[0])}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&17&&(s.arg=t[4](t[0])),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function _W(r){let e;const n=r[17].default,t=ke(n,r,r[24],Dh);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&16777233)&&Ce(t,n,l,l[24],e?ye(n,l[24],s,uW):Se(l[24]),Dh)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function pW(r){let e;const n=r[17].trigger,t=ke(n,r,r[24],Ah);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&16777233)&&Ce(t,n,l,l[24],e?ye(n,l[24],s,fW):Se(l[24]),Ah)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function gW(r){let e,n,t,l;const s=[pW,_W,dW],o=[];function i(a,u){return a[15].trigger?0:a[15].default?1:2}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function hW(r){let e,n;return e=new co({props:{id:r[1]+"-select-options"}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.id=t[1]+"-select-options"),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function bW(r){let e,n;return e=new co({props:{id:r[1]+"-select-options",$$slots:{default:[$W,({option:t,label:l})=>({29:t,30:l}),({option:t,label:l})=>(t?536870912:0)|(l?1073741824:0)]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.id=t[1]+"-select-options"),l&1627389952&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function $W(r){let e;const n=r[17].default,t=ke(n,r,r[24],Fh);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&1627389952)&&Ce(t,n,l,l[24],e?ye(n,l[24],s,mW):Se(l[24]),Fh)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function Nh(r){let e;const n=r[17].empty,t=ke(n,r,r[24],Oh);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&16777216)&&Ce(t,n,l,l[24],e?ye(n,l[24],s,cW):Se(l[24]),Oh)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function vW(r){let e,n,t,l,s;const o=[bW,hW],i=[];function a(f,c){return f[15].default?0:1}e=a(r),n=i[e]=o[e](r);let u=r[5].length===0&&r[15].empty&&Nh(r);return{c(){n.c(),t=N(),u&&u.c(),l=ae()},m(f,c){i[e].m(f,c),v(f,t,c),u&&u.m(f,c),v(f,l,c),s=!0},p(f,c){let m=e;e=a(f),e===m?i[e].p(f,c):(U(),p(i[m],1,1,()=>{i[m]=null}),W(),n=i[e],n?n.p(f,c):(n=i[e]=o[e](f),n.c()),_(n,1),n.m(t.parentNode,t)),f[5].length===0&&f[15].empty?u?(u.p(f,c),c&32800&&_(u,1)):(u=Nh(f),u.c(),_(u,1),u.m(l.parentNode,l)):u&&(U(),p(u,1,1,()=>{u=null}),W())},i(f){s||(_(n),_(u),s=!0)},o(f){p(n),p(u),s=!1},d(f){i[e].d(f),f&&$(t),u&&u.d(f),f&&$(l)}}}function wW(r){let e,n;function t(){return r[18](r[27])}function l(){return r[19](r[27])}function s(...o){return r[20](r[27],...o)}return e=new Nl({props:{ariaControls:r[1]+"-select-options",ariaLabel:r[10],isOpen:r[28],disabled:r[2],id:r[1],contentClass:["select",r[8],r[6]].join(" "),triggerAppearance:r[9],triggerClass:["input-element select full-width",r[8],r[7]].join(" "),$$slots:{content:[vW],trigger:[gW]},$$scope:{ctx:r}}}),e.$on("open",t),e.$on("close",l),e.$on("keydown",s),e.$on("focus",r[21]),e.$on("blur",r[22]),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),n=!0},p(o,i){r=o;const a={};i&2&&(a.ariaControls=r[1]+"-select-options"),i&1024&&(a.ariaLabel=r[10]),i&268435456&&(a.isOpen=r[28]),i&4&&(a.disabled=r[2]),i&2&&(a.id=r[1]),i&320&&(a.contentClass=["select",r[8],r[6]].join(" ")),i&512&&(a.triggerAppearance=r[9]),i&384&&(a.triggerClass=["input-element select full-width",r[8],r[7]].join(" ")),i&16810035&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){y(e,o)}}}function kW(r){let e,n,t,l;const s=[r[14],{id:r[1]},{disabled:r[2]}];let o={};for(let i=0;i<s.length;i+=1)o=se(o,s[i]);return e=new Jl({props:o}),t=new Ba({props:{selectionType:"single",options:r[5],value:typeof r[0]<"u"?[r[0]]:[],labelKey:r[3],getLabel:r[4],checkEquality:r[11],checkIfOptionIsDisabled:r[12],$$slots:{default:[wW,({api:i,isOpen:a})=>({27:i,28:a}),({api:i,isOpen:a})=>(i?134217728:0)|(a?268435456:0)]},$$scope:{ctx:r}}}),t.$on("change",r[23]),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(i,a){k(e,i,a),v(i,n,a),k(t,i,a),l=!0},p(i,[a]){const u=a&16390?de(s,[a&16384&&_e(i[14]),a&2&&{id:i[1]},a&4&&{disabled:i[2]}]):{};e.$set(u);const f={};a&32&&(f.options=i[5]),a&1&&(f.value=typeof i[0]<"u"?[i[0]]:[]),a&8&&(f.labelKey=i[3]),a&16&&(f.getLabel=i[4]),a&2048&&(f.checkEquality=i[11]),a&4096&&(f.checkIfOptionIsDisabled=i[12]),a&419465207&&(f.$$scope={dirty:a,ctx:i}),t.$set(f)},i(i){l||(_(e.$$.fragment,i),_(t.$$.fragment,i),l=!0)},o(i){p(e.$$.fragment,i),p(t.$$.fragment,i),l=!1},d(i){y(e,i),i&&$(n),y(t,i)}}}function yW(r,e,n){const t=["id","disabled","labelKey","getLabel","options","value","contentClass","triggerClass","class","triggerAppearance","ariaLabel","valuesAreEqual","isOptionDisabled","autoSelect"];let l=We(e,t),{$$slots:s={},$$scope:o}=e;const i=mr(s),a=Et();let{id:u=vr()}=e,{disabled:f=!1}=e,{labelKey:c="label"}=e,{getLabel:m=Y=>$i(Y,c)}=e,{options:d}=e,{value:g=void 0}=e,{contentClass:h=""}=e,{triggerClass:b=""}=e,{class:w=""}=e,{triggerAppearance:S="default"}=e,{ariaLabel:T=void 0}=e,{valuesAreEqual:M=(Y,K)=>Y===K}=e,{isOptionDisabled:A=()=>!1}=e,{autoSelect:D="first"}=e;function O(Y){const K=Y.find(ee=>!A(ee));n(0,g=K),a("change",g),a("input",g),a("artificialChange",g),a("artificialInput",g)}function F(Y){if(D!=="none"){if(!Y.length){g!==void 0&&O([]);return}(g===void 0||!Y.some(K=>M(K,g)))&&(D==="first"?O(Y):D==="clear"&&O([]))}}const P=Y=>Y.open(),B=Y=>Y.close(),j=(Y,K)=>Y.handleKeyDown(K);function V(Y){Re.call(this,r,Y)}function q(Y){Re.call(this,r,Y)}const G=Y=>O(Y.detail);return r.$$set=Y=>{e=se(se({},e),pt(Y)),n(14,l=We(e,t)),"id"in Y&&n(1,u=Y.id),"disabled"in Y&&n(2,f=Y.disabled),"labelKey"in Y&&n(3,c=Y.labelKey),"getLabel"in Y&&n(4,m=Y.getLabel),"options"in Y&&n(5,d=Y.options),"value"in Y&&n(0,g=Y.value),"contentClass"in Y&&n(6,h=Y.contentClass),"triggerClass"in Y&&n(7,b=Y.triggerClass),"class"in Y&&n(8,w=Y.class),"triggerAppearance"in Y&&n(9,S=Y.triggerAppearance),"ariaLabel"in Y&&n(10,T=Y.ariaLabel),"valuesAreEqual"in Y&&n(11,M=Y.valuesAreEqual),"isOptionDisabled"in Y&&n(12,A=Y.isOptionDisabled),"autoSelect"in Y&&n(16,D=Y.autoSelect),"$$scope"in Y&&n(24,o=Y.$$scope)},r.$$.update=()=>{r.$$.dirty&32&&F(d)},[g,u,f,c,m,d,h,b,w,S,T,M,A,O,l,i,D,s,P,B,j,V,q,G,o]}class fn extends Q{constructor(e){super(),Z(this,e,yW,kW,J,{id:1,disabled:2,labelKey:3,getLabel:4,options:5,value:0,contentClass:6,triggerClass:7,class:8,triggerAppearance:9,ariaLabel:10,valuesAreEqual:11,isOptionDisabled:12,autoSelect:16})}}function CW(r,e,n){var t,l,s,o;return r==="boolean"?[{value:!0,label:(l=(t=n==null?void 0:n.true)==null?void 0:t.label)!=null?l:"True"},{value:!1,label:(o=(s=n==null?void 0:n.false)==null?void 0:s.label)!=null?o:"False"}]:(e==null?void 0:e.map(i=>{var a,u;return{value:i,label:(u=(a=n==null?void 0:n[i])==null?void 0:a.label)!=null?u:i}}))||[]}function SW(r,e){return r.find(n=>n.value===e)}function TW(r,e){return r==="boolean"?!0:e==null?void 0:e[0]}function IW(r){let e,n;const t=[r[4],{triggerAppearance:r[0]},{options:r[1]},{value:r[2]}];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new fn({props:l}),e.$on("change",r[3]),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,[o]){const i=o&23?de(t,[o&16&&_e(s[4]),o&1&&{triggerAppearance:s[0]},o&2&&{options:s[1]},o&4&&{value:s[2]}]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function EW(r,e,n){let t,l;const s=["dataType","enumValues","options","triggerAppearance","value"];let o=We(e,s),{dataType:i}=e,{enumValues:a=void 0}=e,{options:u=void 0}=e,{triggerAppearance:f="default"}=e,{value:c=TW(i,a)}=e;function m(d){var g;n(5,c=(g=d.detail)==null?void 0:g.value)}return r.$$set=d=>{e=se(se({},e),pt(d)),n(4,o=We(e,s)),"dataType"in d&&n(6,i=d.dataType),"enumValues"in d&&n(7,a=d.enumValues),"options"in d&&n(8,u=d.options),"triggerAppearance"in d&&n(0,f=d.triggerAppearance),"value"in d&&n(5,c=d.value)},r.$$.update=()=>{r.$$.dirty&448&&n(1,t=CW(i,a,u)),r.$$.dirty&34&&n(2,l=SW(t,c))},[f,t,l,m,o,c,i,a,u]}class MW extends Q{constructor(e){super(),Z(this,e,EW,IW,J,{dataType:6,enumValues:7,options:8,triggerAppearance:0,value:5})}}function RW(r){let e,n,t;const l=[r[2]];function s(i){r[4](i)}let o={};for(let i=0;i<l.length;i+=1)o=se(o,l[i]);return r[0]!==void 0&&(o.value=r[0]),e=new hn({props:o}),we.push(()=>Me(e,"value",s)),{c(){C(e.$$.fragment)},m(i,a){k(e,i,a),t=!0},p(i,a){const u=a&4?de(l,[_e(i[2])]):{};!n&&a&1&&(n=!0,u.value=i[0],De(()=>n=!1)),e.$set(u)},i(i){t||(_(e.$$.fragment,i),t=!0)},o(i){p(e.$$.fragment,i),t=!1},d(i){y(e,i)}}}function DW(r){let e,n,t;const l=[r[2]];function s(i){r[3](i)}let o={};for(let i=0;i<l.length;i+=1)o=se(o,l[i]);return r[0]!==void 0&&(o.value=r[0]),e=new Zl({props:o}),we.push(()=>Me(e,"value",s)),{c(){C(e.$$.fragment)},m(i,a){k(e,i,a),t=!0},p(i,a){const u=a&4?de(l,[_e(i[2])]):{};!n&&a&1&&(n=!0,u.value=i[0],De(()=>n=!1)),e.$set(u)},i(i){t||(_(e.$$.fragment,i),t=!0)},o(i){p(e.$$.fragment,i),t=!1},d(i){y(e,i)}}}function AW(r){let e,n,t,l;const s=[DW,RW],o=[];function i(a,u){return a[1]==="textarea"?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,[u]){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function OW(r,e,n){const t=["value","interfaceType"];let l=We(e,t),{value:s=void 0}=e,{interfaceType:o=void 0}=e;function i(u){s=u,n(0,s)}function a(u){s=u,n(0,s)}return r.$$set=u=>{e=se(se({},e),pt(u)),n(2,l=We(e,t)),"value"in u&&n(0,s=u.value),"interfaceType"in u&&n(1,o=u.interfaceType)},[s,o,l,i,a]}class FW extends Q{constructor(e){super(),Z(this,e,OW,AW,J,{value:0,interfaceType:1})}}function NW(r){let e,n,t;const l=[r[5],{interfaceType:r[2]}];function s(i){r[9](i)}let o={};for(let i=0;i<l.length;i+=1)o=se(o,l[i]);return r[0]!==void 0&&(o.value=r[0]),e=new FW({props:o}),we.push(()=>Me(e,"value",s)),{c(){C(e.$$.fragment)},m(i,a){k(e,i,a),t=!0},p(i,a){const u=a&36?de(l,[a&32&&_e(i[5]),a&4&&{interfaceType:i[2]}]):{};!n&&a&1&&(n=!0,u.value=i[0],De(()=>n=!1)),e.$set(u)},i(i){t||(_(e.$$.fragment,i),t=!0)},o(i){p(e.$$.fragment,i),t=!1},d(i){y(e,i)}}}function PW(r){let e,n,t;const l=[r[5],{allowFloat:r[1]==="float"},{allowNegative:!0}];function s(i){r[8](i)}let o={};for(let i=0;i<l.length;i+=1)o=se(o,l[i]);return r[0]!==void 0&&(o.value=r[0]),e=new dc({props:o}),we.push(()=>Me(e,"value",s)),{c(){C(e.$$.fragment)},m(i,a){k(e,i,a),t=!0},p(i,a){const u=a&34?de(l,[a&32&&_e(i[5]),a&2&&{allowFloat:i[1]==="float"},l[2]]):{};!n&&a&1&&(n=!0,u.value=i[0],De(()=>n=!1)),e.$set(u)},i(i){t||(_(e.$$.fragment,i),t=!0)},o(i){p(e.$$.fragment,i),t=!1},d(i){y(e,i)}}}function LW(r){let e,n,t;const l=[r[5],{interfaceType:r[2]}];function s(i){r[7](i)}let o={};for(let i=0;i<l.length;i+=1)o=se(o,l[i]);return r[0]!==void 0&&(o.value=r[0]),e=new aW({props:o}),we.push(()=>Me(e,"value",s)),{c(){C(e.$$.fragment)},m(i,a){k(e,i,a),t=!0},p(i,a){const u=a&36?de(l,[a&32&&_e(i[5]),a&4&&{interfaceType:i[2]}]):{};!n&&a&1&&(n=!0,u.value=i[0],De(()=>n=!1)),e.$set(u)},i(i){t||(_(e.$$.fragment,i),t=!0)},o(i){p(e.$$.fragment,i),t=!1},d(i){y(e,i)}}}function HW(r){let e,n,t;const l=[r[5],{enumValues:r[3]},{dataType:r[1]},{options:r[4]}];function s(i){r[6](i)}let o={};for(let i=0;i<l.length;i+=1)o=se(o,l[i]);return r[0]!==void 0&&(o.value=r[0]),e=new MW({props:o}),we.push(()=>Me(e,"value",s)),{c(){C(e.$$.fragment)},m(i,a){k(e,i,a),t=!0},p(i,a){const u=a&58?de(l,[a&32&&_e(i[5]),a&8&&{enumValues:i[3]},a&2&&{dataType:i[1]},a&16&&{options:i[4]}]):{};!n&&a&1&&(n=!0,u.value=i[0],De(()=>n=!1)),e.$set(u)},i(i){t||(_(e.$$.fragment,i),t=!0)},o(i){p(e.$$.fragment,i),t=!1},d(i){y(e,i)}}}function VW(r){let e,n,t,l;const s=[HW,LW,PW,NW],o=[];function i(a,u){return a[3]||a[2]==="select"?0:a[1]==="boolean"?1:a[1]==="integer"||a[1]==="float"?2:a[1]==="string"?3:-1}return~(e=i(r))&&(n=o[e]=s[e](r)),{c(){n&&n.c(),t=ae()},m(a,u){~e&&o[e].m(a,u),v(a,t,u),l=!0},p(a,[u]){let f=e;e=i(a),e===f?~e&&o[e].p(a,u):(n&&(U(),p(o[f],1,1,()=>{o[f]=null}),W()),~e?(n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t)):n=null)},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){~e&&o[e].d(a),a&&$(t)}}}function zW(r,e,n){const t=["dataType","value","interfaceType","enum","options"];let l=We(e,t),{dataType:s="string"}=e,{value:o=void 0}=e,{interfaceType:i=void 0}=e,{enum:a=void 0}=e,{options:u=void 0}=e;function f(g){o=g,n(0,o)}function c(g){o=g,n(0,o)}function m(g){o=g,n(0,o)}function d(g){o=g,n(0,o)}return r.$$set=g=>{e=se(se({},e),pt(g)),n(5,l=We(e,t)),"dataType"in g&&n(1,s=g.dataType),"value"in g&&n(0,o=g.value),"interfaceType"in g&&n(2,i=g.interfaceType),"enum"in g&&n(3,a=g.enum),"options"in g&&n(4,u=g.options)},[o,s,i,a,u,l,f,c,m,d]}class BW extends Q{constructor(e){super(),Z(this,e,zW,VW,J,{dataType:1,value:0,interfaceType:2,enum:3,options:4})}}function Ph(r,e,n){var s,o;const t=r.slice();t[18]=e[n];const l=Math.round((o=(s=t[1])==null?void 0:s[t[18].fileId])!=null?o:0);return t[19]=l,t}function Lh(r){let e,n=[],t=new Map,l,s=r[0];const o=i=>i[18].fileId;for(let i=0;i<s.length;i+=1){let a=Ph(r,s,i),u=o(a);t.set(u,n[i]=Hh(u,a))}return{c(){e=E("div");for(let i=0;i<n.length;i+=1)n[i].c();I(e,"class","files")},m(i,a){v(i,e,a);for(let u=0;u<n.length;u+=1)n[u].m(e,null);l=!0},p(i,a){a&3&&(s=i[0],U(),n=ht(n,a,o,1,i,s,t,e,kt,Hh,null,Ph),W())},i(i){if(!l){for(let a=0;a<s.length;a+=1)_(n[a]);l=!0}},o(i){for(let a=0;a<n.length;a+=1)p(n[a]);l=!1},d(i){i&&$(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Hh(r,e){let n,t,l,s,o,i,a=e[18].file.name+"",u,f,c,m,d,g,h,b=e[19]+"",w,S,T,M,A=q1(e[18].file.size)+"",D,O,F;const P=[Mg];let B={};for(let j=0;j<P.length;j+=1)B=se(B,P[j]);return s=new Ne({props:B}),c=new uU({props:{percentage:e[19]}}),{key:r,first:null,c(){n=E("div"),t=E("div"),l=E("div"),C(s.$$.fragment),o=N(),i=E("span"),u=L(a),f=N(),C(c.$$.fragment),m=N(),d=E("div"),g=E("span"),h=L("Uploaded "),w=L(b),S=L("%"),T=N(),M=E("span"),D=L(A),O=N(),I(l,"class","file-name"),I(d,"class","upload-info"),I(t,"class","file-info"),I(n,"class","file"),this.first=n},m(j,V){v(j,n,V),R(n,t),R(t,l),k(s,l,null),R(l,o),R(l,i),R(i,u),R(t,f),k(c,t,null),R(t,m),R(t,d),R(d,g),R(g,h),R(g,w),R(g,S),R(d,T),R(d,M),R(M,D),R(n,O),F=!0},p(j,V){e=j;const q=V&0?de(P,[_e(Mg)]):{};s.$set(q),(!F||V&1)&&a!==(a=e[18].file.name+"")&&z(u,a);const G={};V&3&&(G.percentage=e[19]),c.$set(G),(!F||V&3)&&b!==(b=e[19]+"")&&z(w,b),(!F||V&1)&&A!==(A=q1(e[18].file.size)+"")&&z(D,A)},i(j){F||(_(s.$$.fragment,j),_(c.$$.fragment,j),F=!0)},o(j){p(s.$$.fragment,j),p(c.$$.fragment,j),F=!1},d(j){j&&$(n),y(s),y(c)}}}function Vh(r){let e,n,t,l;const s=r[10].default,o=ke(s,r,r[9],null),i=o||qW();return{c(){e=E("label"),i&&i.c(),I(e,"tabindex","0"),I(e,"for",r[5]),I(e,"class","file-upload-trigger"),ie(e,"dragging-over",r[4])},m(a,u){v(a,e,u),i&&i.m(e,null),n=!0,t||(l=[He(e,"keydown",r[8]),He(e,"drop",$s(Bs(r[7]))),He(e,"dragenter",$s(Bs(r[11]))),He(e,"dragover",$s(Bs(r[12]))),He(e,"dragleave",$s(Bs(r[13]))),He(e,"dragend",$s(Bs(r[14])))],t=!0)},p(a,u){o&&o.p&&(!n||u&512)&&Ce(o,s,a,a[9],n?ye(s,a[9],u,null):Se(a[9]),null),(!n||u&16)&&ie(e,"dragging-over",a[4])},i(a){n||(_(i,a),n=!0)},o(a){p(i,a),n=!1},d(a){a&&$(e),i&&i.d(a),t=!1,Ot(l)}}}function qW(r){let e,n,t,l,s,o;const i=[xm];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return t=new Ne({props:a}),{c(){e=E("div"),n=E("div"),C(t.$$.fragment),l=N(),s=E("div"),s.innerHTML=`<div class="title">Drag a file here</div> 
            <div class="desc">or click to browse a file from your computer</div>`,I(n,"class","icon-holder"),I(s,"class","text"),I(e,"class","message")},m(u,f){v(u,e,f),R(e,n),k(t,n,null),R(e,l),R(e,s),o=!0},p(u,f){const c=f&0?de(i,[_e(xm)]):{};t.$set(c)},i(u){o||(_(t.$$.fragment,u),o=!0)},o(u){p(t.$$.fragment,u),o=!1},d(u){u&&$(e),y(t)}}}function UW(r){let e,n,t,l,s,o,i,a=r[0]&&r[0].length>0&&Lh(r),u=(r[2]||!r[0]||r[0].length===0)&&Vh(r);return{c(){e=E("div"),a&&a.c(),n=N(),t=E("input"),l=N(),u&&u.c(),I(t,"type","file"),I(t,"id",r[5]),t.multiple=r[2],ln(t,"display","none"),I(e,"class","file-upload"),ie(e,"disabled",r[3]),ie(e,"inprogress",r[0]&&r[0].length>0)},m(f,c){v(f,e,c),a&&a.m(e,null),R(e,n),R(e,t),R(e,l),u&&u.m(e,null),s=!0,o||(i=He(t,"change",r[6]),o=!0)},p(f,[c]){f[0]&&f[0].length>0?a?(a.p(f,c),c&1&&_(a,1)):(a=Lh(f),a.c(),_(a,1),a.m(e,n)):a&&(U(),p(a,1,1,()=>{a=null}),W()),(!s||c&4)&&(t.multiple=f[2]),f[2]||!f[0]||f[0].length===0?u?(u.p(f,c),c&5&&_(u,1)):(u=Vh(f),u.c(),_(u,1),u.m(e,null)):u&&(U(),p(u,1,1,()=>{u=null}),W()),(!s||c&8)&&ie(e,"disabled",f[3]),(!s||c&1)&&ie(e,"inprogress",f[0]&&f[0].length>0)},i(f){s||(_(a),_(u),s=!0)},o(f){p(a),p(u),s=!1},d(f){f&&$(e),a&&a.d(),u&&u.d(),o=!1,i()}}}function WW(r,e,n){let{$$slots:t={},$$scope:l}=e;const s=Et(),o=vr();let{fileProgress:i=void 0}=e,{multiple:a=!1}=e,{fileUploads:u=void 0}=e,{disabled:f=!1}=e,c=0,m=!1;function d(A,D){const O=[];for(const F of D)O.push({fileId:`${o}-${c}`,file:F}),c+=1;n(0,u=[...u||[],...O]),s("add",{added:O,all:u,originalEvent:A})}function g(A){const D=A.target;D.files&&d(A,D.files),D.value=""}function h(A){var D;if(n(4,m=!1),!f){const O=(D=A.dataTransfer)==null?void 0:D.files;if(!O||O.length===0)return;const F=a?O:[O[0]];d(A,F)}}function b(A){!f&&A.key==="Enter"&&A.target.click()}const w=()=>{n(4,m=!0)},S=()=>{n(4,m=!0)},T=()=>{n(4,m=!1)},M=()=>{n(4,m=!1)};return r.$$set=A=>{"fileProgress"in A&&n(1,i=A.fileProgress),"multiple"in A&&n(2,a=A.multiple),"fileUploads"in A&&n(0,u=A.fileUploads),"disabled"in A&&n(3,f=A.disabled),"$$scope"in A&&n(9,l=A.$$scope)},[u,i,a,f,m,o,g,h,b,l,t,w,S,T,M]}class H_ extends Q{constructor(e){super(),Z(this,e,WW,UW,J,{fileProgress:1,multiple:2,fileUploads:0,disabled:3})}}function zh(r,e,n){const t=r.slice();return t[15]=e[n],t}function Bh(r){let e,n,t;return n=new st({props:{appearance:"plain",tabindex:"0",role:"link","aria-label":"Previous",disabled:r[0]===1,$$slots:{default:[jW]},$$scope:{ctx:r}}}),n.$on("click",r[7]),{c(){e=E("li"),C(n.$$.fragment)},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&1&&(o.disabled=l[0]===1),s&262144&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function jW(r){let e,n;const t=[nf,{tabindex:"-1"}];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[_e(nf),t[1]]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function qh(r){let e,n,t,l,s;n=new st({props:{tabindex:"0",appearance:"secondary",role:"link","aria-label":"Goto Page 1",class:"page",$$slots:{default:[YW]},$$scope:{ctx:r}}}),n.$on("click",r[8]);let o=r[3].start>2&&Uh(r);return{c(){e=E("li"),C(n.$$.fragment),t=N(),o&&o.c(),l=ae()},m(i,a){v(i,e,a),k(n,e,null),v(i,t,a),o&&o.m(i,a),v(i,l,a),s=!0},p(i,a){const u={};a&262144&&(u.$$scope={dirty:a,ctx:i}),n.$set(u),i[3].start>2?o?(o.p(i,a),a&8&&_(o,1)):(o=Uh(i),o.c(),_(o,1),o.m(l.parentNode,l)):o&&(U(),p(o,1,1,()=>{o=null}),W())},i(i){s||(_(n.$$.fragment,i),_(o),s=!0)},o(i){p(n.$$.fragment,i),p(o),s=!1},d(i){i&&$(e),y(n),i&&$(t),o&&o.d(i),i&&$(l)}}}function YW(r){let e;return{c(){e=L("1")},m(n,t){v(n,e,t)},d(n){n&&$(e)}}}function Uh(r){let e,n,t;return n=new st({props:{tabindex:"0",role:"link",appearance:"plain","aria-label":"Goto Page "+r[3].prevPageWindow,$$slots:{default:[GW]},$$scope:{ctx:r}}}),n.$on("click",r[9]),{c(){e=E("li"),C(n.$$.fragment)},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&8&&(o["aria-label"]="Goto Page "+l[3].prevPageWindow),s&262144&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function GW(r){let e,n,t,l,s;const o=[{class:"ellipsis"},xo];let i={};for(let f=0;f<o.length;f+=1)i=se(i,o[f]);n=new Ne({props:i});const a=[{class:"arrow"},Ig];let u={};for(let f=0;f<a.length;f+=1)u=se(u,a[f]);return l=new Ne({props:u}),{c(){e=E("span"),C(n.$$.fragment),t=N(),C(l.$$.fragment)},m(f,c){v(f,e,c),k(n,e,null),R(e,t),k(l,e,null),s=!0},p(f,c){const m=c&0?de(o,[o[0],_e(xo)]):{};n.$set(m);const d=c&0?de(a,[a[0],_e(Ig)]):{};l.$set(d)},i(f){s||(_(n.$$.fragment,f),_(l.$$.fragment,f),s=!0)},o(f){p(n.$$.fragment,f),p(l.$$.fragment,f),s=!1},d(f){f&&$(e),y(n),y(l)}}}function KW(r){let e=r[15]+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&8&&e!==(e=t[15]+"")&&z(n,e)},d(t){t&&$(n)}}}function Wh(r,e){let n,t,l;function s(...o){return e[10](e[15],...o)}return t=new st({props:{tabindex:"0",appearance:"secondary",role:"link","aria-label":e[0]===e[15]?`Current Page, Page ${e[0]}`:`Goto Page ${e[15]}`,class:"page","data-page":e[15],"aria-selected":e[0]===e[15],$$slots:{default:[KW]},$$scope:{ctx:e}}}),t.$on("click",s),{key:r,first:null,c(){n=E("li"),C(t.$$.fragment),ie(n,"active",e[0]===e[15]),this.first=n},m(o,i){v(o,n,i),k(t,n,null),l=!0},p(o,i){e=o;const a={};i&9&&(a["aria-label"]=e[0]===e[15]?`Current Page, Page ${e[0]}`:`Goto Page ${e[15]}`),i&8&&(a["data-page"]=e[15]),i&9&&(a["aria-selected"]=e[0]===e[15]),i&262152&&(a.$$scope={dirty:i,ctx:e}),t.$set(a),(!l||i&9)&&ie(n,"active",e[0]===e[15])},i(o){l||(_(t.$$.fragment,o),l=!0)},o(o){p(t.$$.fragment,o),l=!1},d(o){o&&$(n),y(t)}}}function jh(r){let e,n,t,l,s=r[3].end<r[2]-1&&Yh(r);return t=new st({props:{tabindex:"0",appearance:"secondary",class:"page",role:"link","aria-label":"Goto Page "+r[2],$$slots:{default:[JW]},$$scope:{ctx:r}}}),t.$on("click",r[12]),{c(){s&&s.c(),e=N(),n=E("li"),C(t.$$.fragment)},m(o,i){s&&s.m(o,i),v(o,e,i),v(o,n,i),k(t,n,null),l=!0},p(o,i){o[3].end<o[2]-1?s?(s.p(o,i),i&12&&_(s,1)):(s=Yh(o),s.c(),_(s,1),s.m(e.parentNode,e)):s&&(U(),p(s,1,1,()=>{s=null}),W());const a={};i&4&&(a["aria-label"]="Goto Page "+o[2]),i&262148&&(a.$$scope={dirty:i,ctx:o}),t.$set(a)},i(o){l||(_(s),_(t.$$.fragment,o),l=!0)},o(o){p(s),p(t.$$.fragment,o),l=!1},d(o){s&&s.d(o),o&&$(e),o&&$(n),y(t)}}}function Yh(r){let e,n,t;return n=new st({props:{tabindex:"0",appearance:"plain",role:"link","aria-label":"Goto Page "+r[3].nextPageWindow,$$slots:{default:[XW]},$$scope:{ctx:r}}}),n.$on("click",r[11]),{c(){e=E("li"),C(n.$$.fragment)},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&8&&(o["aria-label"]="Goto Page "+l[3].nextPageWindow),s&262144&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function XW(r){let e,n,t,l,s;const o=[{class:"ellipsis"},xo];let i={};for(let f=0;f<o.length;f+=1)i=se(i,o[f]);n=new Ne({props:i});const a=[{class:"arrow"},Tg];let u={};for(let f=0;f<a.length;f+=1)u=se(u,a[f]);return l=new Ne({props:u}),{c(){e=E("span"),C(n.$$.fragment),t=N(),C(l.$$.fragment)},m(f,c){v(f,e,c),k(n,e,null),R(e,t),k(l,e,null),s=!0},p(f,c){const m=c&0?de(o,[o[0],_e(xo)]):{};n.$set(m);const d=c&0?de(a,[a[0],_e(Tg)]):{};l.$set(d)},i(f){s||(_(n.$$.fragment,f),_(l.$$.fragment,f),s=!0)},o(f){p(n.$$.fragment,f),p(l.$$.fragment,f),s=!1},d(f){f&&$(e),y(n),y(l)}}}function JW(r){let e;return{c(){e=L(r[2])},m(n,t){v(n,e,t)},p(n,t){t&4&&z(e,n[2])},d(n){n&&$(e)}}}function Gh(r){let e,n,t;return n=new st({props:{tabindex:"0",appearance:"plain",role:"link","aria-label":"Next",disabled:r[0]===r[2],$$slots:{default:[ZW]},$$scope:{ctx:r}}}),n.$on("click",r[13]),{c(){e=E("li"),C(n.$$.fragment)},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&5&&(o.disabled=l[0]===l[2]),s&262144&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function ZW(r){let e,n;const t=[Qo];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[_e(Qo)]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function QW(r){let e,n,t,l,s=[],o=new Map,i,a,u,f=r[2]>1&&Bh(r),c=r[3].start>1&&qh(r),m=r[3].currentWindow;const d=b=>b[15];for(let b=0;b<m.length;b+=1){let w=zh(r,m,b),S=d(w);o.set(S,s[b]=Wh(S,w))}let g=r[3].end<r[2]&&jh(r),h=r[2]>1&&Gh(r);return{c(){e=E("nav"),n=E("ul"),f&&f.c(),t=N(),c&&c.c(),l=N();for(let b=0;b<s.length;b+=1)s[b].c();i=N(),g&&g.c(),a=N(),h&&h.c(),I(n,"class","pagination"),I(e,"aria-label",r[1])},m(b,w){v(b,e,w),R(e,n),f&&f.m(n,null),R(n,t),c&&c.m(n,null),R(n,l);for(let S=0;S<s.length;S+=1)s[S].m(n,null);R(n,i),g&&g.m(n,null),R(n,a),h&&h.m(n,null),u=!0},p(b,[w]){b[2]>1?f?(f.p(b,w),w&4&&_(f,1)):(f=Bh(b),f.c(),_(f,1),f.m(n,t)):f&&(U(),p(f,1,1,()=>{f=null}),W()),b[3].start>1?c?(c.p(b,w),w&8&&_(c,1)):(c=qh(b),c.c(),_(c,1),c.m(n,l)):c&&(U(),p(c,1,1,()=>{c=null}),W()),w&25&&(m=b[3].currentWindow,U(),s=ht(s,w,d,1,b,m,o,n,kt,Wh,i,zh),W()),b[3].end<b[2]?g?(g.p(b,w),w&12&&_(g,1)):(g=jh(b),g.c(),_(g,1),g.m(n,a)):g&&(U(),p(g,1,1,()=>{g=null}),W()),b[2]>1?h?(h.p(b,w),w&4&&_(h,1)):(h=Gh(b),h.c(),_(h,1),h.m(n,null)):h&&(U(),p(h,1,1,()=>{h=null}),W()),(!u||w&2)&&I(e,"aria-label",b[1])},i(b){if(!u){_(f),_(c);for(let w=0;w<m.length;w+=1)_(s[w]);_(g),_(h),u=!0}},o(b){p(f),p(c);for(let w=0;w<s.length;w+=1)p(s[w]);p(g),p(h),u=!1},d(b){b&&$(e),f&&f.d(),c&&c.d();for(let w=0;w<s.length;w+=1)s[w].d();g&&g.d(),h&&h.d()}}}function xW(r,e,n){let t,l;const s=Et();let{currentPage:o=1}=e,{pageSize:i=10}=e,{total:a=0}=e,{ariaLabel:u="Pagination"}=e;async function f(S,T){T>0&&T<=t&&o!==T&&(n(0,o=T),s("change",{currentPage:o,originalEvent:S})),await sn();const M=document.querySelector(`[data-page="${o}"]`);M==null||M.focus()}const c=S=>f(S,o-1),m=S=>f(S,1),d=S=>f(S,l.prevPageWindow),g=(S,T)=>f(T,S),h=S=>f(S,l.nextPageWindow),b=S=>f(S,t),w=S=>f(S,o+1);return r.$$set=S=>{"currentPage"in S&&n(0,o=S.currentPage),"pageSize"in S&&n(5,i=S.pageSize),"total"in S&&n(6,a=S.total),"ariaLabel"in S&&n(1,u=S.ariaLabel)},r.$$.update=()=>{r.$$.dirty&96&&n(2,t=UO(a,i)),r.$$.dirty&5&&n(3,l=qO(o,t))},[o,u,t,l,f,i,a,c,m,d,g,h,b,w]}class ej extends Q{constructor(e){super(),Z(this,e,xW,QW,J,{currentPage:0,pageSize:5,total:6,ariaLabel:1})}}const tj=r=>({option:r&4194304,label:r&8388608}),Kh=r=>({option:r[22],label:r[23]});function nj(r){let e,n;return e=new Nr({props:{arg:r[4](r[22])}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&4194320&&(s.arg=t[4](t[22])),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function rj(r){let e;const n=r[13].default,t=ke(n,r,r[18],Kh),l=t||nj(r);return{c(){l&&l.c()},m(s,o){l&&l.m(s,o),e=!0},p(s,o){t?t.p&&(!e||o&12845056)&&Ce(t,n,s,s[18],e?ye(n,s[18],o,tj):Se(s[18]),Kh):l&&l.p&&(!e||o&4194320)&&l.p(s,e?o:-1)},i(s){e||(_(l,s),e=!0)},o(s){p(l,s),e=!1},d(s){l&&l.d(s)}}}function lj(r){let e,n;function t(...l){return r[14](r[21],...l)}return e=new co({props:{id:r[1],class:"input-element selection-list "+r[6],offsetOnFocus:r[8],userFocusable:!0,$$slots:{default:[rj,({option:l,label:s})=>({22:l,23:s}),({option:l,label:s})=>(l?4194304:0)|(s?8388608:0)]},$$scope:{ctx:r}}}),e.$on("keydown",t),e.$on("focus",r[15]),e.$on("blur",r[16]),{c(){C(e.$$.fragment)},m(l,s){k(e,l,s),n=!0},p(l,s){r=l;const o={};s&2&&(o.id=r[1]),s&64&&(o.class="input-element selection-list "+r[6]),s&256&&(o.offsetOnFocus=r[8]),s&12845072&&(o.$$scope={dirty:s,ctx:r}),e.$set(o)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){p(e.$$.fragment,l),n=!1},d(l){y(e,l)}}}function sj(r){let e,n,t,l;const s=[r[11],{id:r[1]},{disabled:r[2]}];let o={};for(let i=0;i<s.length;i+=1)o=se(o,s[i]);return e=new Jl({props:o}),t=new Ba({props:{selectionType:"single",options:r[5],value:typeof r[0]<"u"?[r[0]]:[],labelKey:r[3],getLabel:r[4],disabled:r[2],mode:"static",checkEquality:r[7],checkIfOptionIsDisabled:r[9],$$slots:{default:[lj,({api:i})=>({21:i}),({api:i})=>i?2097152:0]},$$scope:{ctx:r}}}),t.$on("change",r[17]),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(i,a){k(e,i,a),v(i,n,a),k(t,i,a),l=!0},p(i,[a]){const u=a&2054?de(s,[a&2048&&_e(i[11]),a&2&&{id:i[1]},a&4&&{disabled:i[2]}]):{};e.$set(u);const f={};a&32&&(f.options=i[5]),a&1&&(f.value=typeof i[0]<"u"?[i[0]]:[]),a&8&&(f.labelKey=i[3]),a&16&&(f.getLabel=i[4]),a&4&&(f.disabled=i[2]),a&128&&(f.checkEquality=i[7]),a&512&&(f.checkIfOptionIsDisabled=i[9]),a&2359634&&(f.$$scope={dirty:a,ctx:i}),t.$set(f)},i(i){l||(_(e.$$.fragment,i),_(t.$$.fragment,i),l=!0)},o(i){p(e.$$.fragment,i),p(t.$$.fragment,i),l=!1},d(i){y(e,i),i&&$(n),y(t,i)}}}function oj(r,e,n){const t=["id","disabled","labelKey","getLabel","options","value","class","valuesAreEqual","autoSelect","offsetOnFocus","isOptionDisabled"];let l=We(e,t),{$$slots:s={},$$scope:o}=e;const i=Et();let{id:a=vr()}=e,{disabled:u=!1}=e,{labelKey:f="label"}=e,{getLabel:c=P=>$i(P,f)}=e,{options:m}=e,{value:d=void 0}=e,{class:g=""}=e,{valuesAreEqual:h=(P,B)=>P===B}=e,{autoSelect:b="first"}=e,{offsetOnFocus:w=0}=e,{isOptionDisabled:S=()=>!1}=e;function T(P){n(0,[d]=P,d),i("change",d),i("input",d),i("artificialChange",d),i("artificialInput",d)}function M(P){if(b!=="none"){if(!P.length){d!==void 0&&T([]);return}(d===void 0||!P.some(B=>h(B,d)))&&(b==="first"?T(P):b==="clear"&&T([]))}}const A=(P,B)=>P.handleKeyDown(B);function D(P){Re.call(this,r,P)}function O(P){Re.call(this,r,P)}const F=P=>T(P.detail);return r.$$set=P=>{e=se(se({},e),pt(P)),n(11,l=We(e,t)),"id"in P&&n(1,a=P.id),"disabled"in P&&n(2,u=P.disabled),"labelKey"in P&&n(3,f=P.labelKey),"getLabel"in P&&n(4,c=P.getLabel),"options"in P&&n(5,m=P.options),"value"in P&&n(0,d=P.value),"class"in P&&n(6,g=P.class),"valuesAreEqual"in P&&n(7,h=P.valuesAreEqual),"autoSelect"in P&&n(12,b=P.autoSelect),"offsetOnFocus"in P&&n(8,w=P.offsetOnFocus),"isOptionDisabled"in P&&n(9,S=P.isOptionDisabled),"$$scope"in P&&n(18,o=P.$$scope)},r.$$.update=()=>{r.$$.dirty&32&&M(m)},[d,a,u,f,c,m,g,h,w,S,T,l,b,s,A,D,O,F,o]}class ij extends Q{constructor(e){super(),Z(this,e,oj,sj,J,{id:1,disabled:2,labelKey:3,getLabel:4,options:5,value:0,class:6,valuesAreEqual:7,autoSelect:12,offsetOnFocus:8,isOptionDisabled:9})}}function cm(r){let e,n,t,l,s,o,i;const a=r[10].default,u=ke(a,r,r[9],null);let f=[{role:"tab"},{tabindex:"0"},{"aria-selected":r[3]},{"aria-disabled":n=!!r[1].disabled},{id:t=r[3]?`mtsr-${r[0]}-tab`:void 0},{"aria-controls":l=r[3]?`mtsr-${r[0]}-tabpanel`:void 0},r[5]],c={};for(let m=0;m<f.length;m+=1)c=se(c,f[m]);return{c(){e=E(r[6]),u&&u.c(),Tt(e,c)},m(m,d){v(m,e,d),u&&u.m(e,null),s=!0,o||(i=[He(e,"focus",r[11]),He(e,"blur",r[12]),He(e,"mousedown",r[13]),He(e,"click",r[14])],o=!0)},p(m,d){u&&u.p&&(!s||d&512)&&Ce(u,a,m,m[9],s?ye(a,m[9],d,null):Se(m[9]),null),Tt(e,c=de(f,[{role:"tab"},{tabindex:"0"},(!s||d&8)&&{"aria-selected":m[3]},(!s||d&2&&n!==(n=!!m[1].disabled))&&{"aria-disabled":n},(!s||d&9&&t!==(t=m[3]?`mtsr-${m[0]}-tab`:void 0))&&{id:t},(!s||d&9&&l!==(l=m[3]?`mtsr-${m[0]}-tabpanel`:void 0))&&{"aria-controls":l},d&32&&m[5]]))},i(m){s||(_(u,m),s=!0)},o(m){p(u,m),s=!1},d(m){m&&$(e),u&&u.d(m),o=!1,Ot(i)}}}function aj(r){let e,n=r[6],t,l,s=r[6]&&cm(r);return{c(){e=E("li"),s&&s.c(),I(e,"role","presentation"),I(e,"class","tab"),I(e,"tabindex","-1"),I(e,"style",t=r[4]?`width:${Math.floor(100/r[2])}%;`:void 0),ie(e,"active",r[3])},m(o,i){v(o,e,i),s&&s.m(e,null),l=!0},p(o,[i]){o[6]?n?J(n,o[6])?(s.d(1),s=cm(o),s.c(),s.m(e,null)):s.p(o,i):(s=cm(o),s.c(),s.m(e,null)):n&&(s.d(1),s=null),n=o[6],(!l||i&20&&t!==(t=o[4]?`width:${Math.floor(100/o[2])}%;`:void 0))&&I(e,"style",t),(!l||i&8)&&ie(e,"active",o[3])},i(o){l||(_(s),l=!0)},o(o){p(s),l=!1},d(o){o&&$(e),s&&s.d(o)}}}function uj(r,e,n){let t,l,s,{$$slots:o={},$$scope:i}=e,{componentId:a}=e,{tab:u}=e,{totalTabs:f}=e,{isActive:c=!1}=e,{uniformTabWidth:m=!0}=e,{link:d=void 0}=e;function g(S){Re.call(this,r,S)}function h(S){Re.call(this,r,S)}function b(S){Re.call(this,r,S)}function w(S){Re.call(this,r,S)}return r.$$set=S=>{"componentId"in S&&n(0,a=S.componentId),"tab"in S&&n(1,u=S.tab),"totalTabs"in S&&n(2,f=S.totalTabs),"isActive"in S&&n(3,c=S.isActive),"uniformTabWidth"in S&&n(4,m=S.uniformTabWidth),"link"in S&&n(7,d=S.link),"$$scope"in S&&n(9,i=S.$$scope)},r.$$.update=()=>{r.$$.dirty&128&&n(8,t=typeof d<"u"),r.$$.dirty&256&&n(6,l=t?"a":"div"),r.$$.dirty&384&&n(5,s=t?{href:d}:{})},[a,u,f,c,m,s,l,d,t,i,o,g,h,b,w]}class fj extends Q{constructor(e){super(),Z(this,e,uj,aj,J,{componentId:0,tab:1,totalTabs:2,isActive:3,uniformTabWidth:4,link:7})}}const cj=r=>({activeTab:r&1}),Xh=r=>({activeTab:r[0]});function Jh(r,e,n){const t=r.slice();return t[20]=e[n],t}const mj=r=>({tab:r&2,activeTab:r&1}),Zh=r=>({tab:r[20],activeTab:r[0]});function Qh(r){let e,n=[],t=new Map,l,s=r[1];const o=i=>i[20][i[2]]||i[20];for(let i=0;i<s.length;i+=1){let a=Jh(r,s,i),u=o(a);t.set(u,n[i]=xh(u,a))}return{c(){e=E("ul");for(let i=0;i<n.length;i+=1)n[i].c();I(e,"role","tablist"),I(e,"class","tabs"),ie(e,"fill-tab-width",r[4])},m(i,a){v(i,e,a);for(let u=0;u<n.length;u+=1)n[u].m(e,null);l=!0},p(i,a){a&269903&&(s=i[1],U(),n=ht(n,a,o,1,i,s,t,e,kt,xh,null,Jh),W()),(!l||a&16)&&ie(e,"fill-tab-width",i[4])},i(i){if(!l){for(let a=0;a<s.length;a+=1)_(n[a]);l=!0}},o(i){for(let a=0;a<n.length;a+=1)p(n[a]);l=!1},d(i){i&&$(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function dj(r){let e=r[20][r[3]]+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&10&&e!==(e=t[20][t[3]]+"")&&z(n,e)},d(t){t&&$(n)}}}function _j(r){let e,n;const t=r[16].tab,l=ke(t,r,r[18],Zh),s=l||dj(r);return{c(){s&&s.c(),e=N()},m(o,i){s&&s.m(o,i),v(o,e,i),n=!0},p(o,i){l?l.p&&(!n||i&262147)&&Ce(l,t,o,o[18],n?ye(t,o[18],i,mj):Se(o[18]),Zh):s&&s.p&&(!n||i&10)&&s.p(o,n?i:-1)},i(o){n||(_(s,o),n=!0)},o(o){p(s,o),n=!1},d(o){s&&s.d(o),o&&$(e)}}}function xh(r,e){var o;let n,t,l;function s(...i){return e[17](e[20],...i)}return t=new fj({props:{componentId:e[9],tab:e[20],uniformTabWidth:e[6],link:e[12](e[20]),totalTabs:e[1].length,isActive:e[20][e[2]]===((o=e[0])==null?void 0:o[e[2]]),$$slots:{default:[_j]},$$scope:{ctx:e}}}),t.$on("focus",hj),t.$on("blur",bj),t.$on("click",e[11]),t.$on("mousedown",s),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(i,a){v(i,n,a),k(t,i,a),l=!0},p(i,a){var f;e=i;const u={};a&2&&(u.tab=e[20]),a&64&&(u.uniformTabWidth=e[6]),a&2&&(u.link=e[12](e[20])),a&2&&(u.totalTabs=e[1].length),a&7&&(u.isActive=e[20][e[2]]===((f=e[0])==null?void 0:f[e[2]])),a&262155&&(u.$$scope={dirty:a,ctx:e}),t.$set(u)},i(i){l||(_(t.$$.fragment,i),l=!0)},o(i){p(t.$$.fragment,i),l=!1},d(i){i&&$(n),y(t,i)}}}function eb(r){let e;const n=r[16].default,t=ke(n,r,r[18],Xh);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&262145)&&Ce(t,n,l,l[18],e?ye(n,l[18],s,cj):Se(l[18]),Xh)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function pj(r){let e,n,t,l,s,o=!r[8]&&Qh(r),i=r[0]&&eb(r);return{c(){e=E("div"),o&&o.c(),n=N(),t=E("div"),l=E("div"),i&&i.c(),I(l,"role","tabpanel"),I(l,"aria-hidden","false"),I(l,"id","mtsr-"+r[9]+"-tabpanel"),I(l,"aria-labelledby","mtsr-"+r[9]+"-tab"),I(l,"tabindex","0"),I(t,"class","tab-content-holder"),I(e,"class","tab-container"),I(e,"role","navigation"),ie(e,"fill-container-height",r[5]),ie(e,"compact",r[7]==="compact")},m(a,u){v(a,e,u),o&&o.m(e,null),R(e,n),R(e,t),R(t,l),i&&i.m(l,null),s=!0},p(a,[u]){a[8]?o&&(U(),p(o,1,1,()=>{o=null}),W()):o?(o.p(a,u),u&256&&_(o,1)):(o=Qh(a),o.c(),_(o,1),o.m(e,n)),a[0]?i?(i.p(a,u),u&1&&_(i,1)):(i=eb(a),i.c(),_(i,1),i.m(l,null)):i&&(U(),p(i,1,1,()=>{i=null}),W()),(!s||u&32)&&ie(e,"fill-container-height",a[5]),(!s||u&128)&&ie(e,"compact",a[7]==="compact")},i(a){s||(_(o),_(i),s=!0)},o(a){p(o),p(i),s=!1},d(a){a&&$(e),o&&o.d(),i&&i.d()}}}let tb=0;function gj(){return tb+=1,tb}function hj(r){r.target.parentElement.classList.add("focused")}function bj(r){r.target.parentElement.classList.remove("focused")}function $j(r,e,n){let t,{$$slots:l={},$$scope:s}=e;const o=Et(),i=gj();let{tabs:a=[]}=e,{activeTab:u=a[0]}=e,{idKey:f="id"}=e,{labelKey:c="label"}=e,{linkKey:m="href"}=e,{preventDefault:d=!1}=e,{fillTabWidth:g=!1}=e,{fillContainerHeight:h=!1}=e,{uniformTabWidth:b=!0}=e,{tabStyle:w="default"}=e,{hideTabsInCaseOfSingleTab:S=!1}=e;function T(O,F){!!F[m]||n(0,u=F),o("tabSelected",{tab:F,originalEvent:O})}function M(O){var F;if(d){O.preventDefault();const P=O.target.closest('a[role="tab"]');(F=P==null?void 0:P.focus)==null||F.call(P)}}function A(O){return O[m]}const D=(O,F)=>T(F,O);return r.$$set=O=>{"tabs"in O&&n(1,a=O.tabs),"activeTab"in O&&n(0,u=O.activeTab),"idKey"in O&&n(2,f=O.idKey),"labelKey"in O&&n(3,c=O.labelKey),"linkKey"in O&&n(13,m=O.linkKey),"preventDefault"in O&&n(14,d=O.preventDefault),"fillTabWidth"in O&&n(4,g=O.fillTabWidth),"fillContainerHeight"in O&&n(5,h=O.fillContainerHeight),"uniformTabWidth"in O&&n(6,b=O.uniformTabWidth),"tabStyle"in O&&n(7,w=O.tabStyle),"hideTabsInCaseOfSingleTab"in O&&n(15,S=O.hideTabsInCaseOfSingleTab),"$$scope"in O&&n(18,s=O.$$scope)},r.$$.update=()=>{r.$$.dirty&32770&&n(8,t=S&&a.length===1)},[u,a,f,c,g,h,b,w,t,i,T,M,A,m,d,S,l,D,s]}class Ua extends Q{constructor(e){super(),Z(this,e,$j,pj,J,{tabs:1,activeTab:0,idKey:2,labelKey:3,linkKey:13,preventDefault:14,fillTabWidth:4,fillContainerHeight:5,uniformTabWidth:6,tabStyle:7,hideTabsInCaseOfSingleTab:15})}}const vj={body:"Are you sure?",proceedButton:{label:"Yes"},cancelButton:{label:"Cancel"},onProceed:()=>Promise.resolve(),onSuccess:()=>{},onError:()=>{}};class wj{constructor(e,n){te(this,"modal");te(this,"confirmationProps");te(this,"resolve",Ue(()=>{}));te(this,"canProceed",Ue(!0));this.modal=e,this.confirmationProps=Ue(n)}}function kj({confirmationModal:r,defaultConfirmationProps:e}){const n={...vj,...e},t=new wj(r,n);return{async confirm(l){const s={...n,...l};return new Promise(o=>{t.resolve.set(o),t.canProceed.set(!0),t.confirmationProps.set(s),t.modal.open()})},confirmationController:t}}function yj({modalId:r,modalStackStore:e}){return{subscribe(n){return e.subscribe(t=>{n(t.has(r))})},update(n){e.update(t=>{const l=t.has(r);return n(l)?t.withModalOnTop(r):l?t.without(r):t})},set(n){n?e.update(t=>t.withModalOnTop(r)):e.update(t=>t.without(r))}}}class $T{constructor({modalId:e,modalStackStore:n}){te(this,"modalId");te(this,"modalStackStore");te(this,"isOpen");te(this,"isOnTop");te(this,"options",Ue(void 0));this.modalId=e,this.modalStackStore=n,this.isOpen=yj({modalId:e,modalStackStore:n}),this.isOnTop=et(this.modalStackStore,t=>t.isOnTop(this.modalId))}open(...e){this.options.set(e[0]),this.isOpen.set(!0)}close(){this.isOpen.set(!1),this.options.set(void 0)}}class of{constructor(e){te(this,"idSet");this.idSet=new vn(e)}ids(){return this.idSet.values()}get size(){return this.idSet.size}has(e){return this.idSet.has(e)}isOnTop(e){return this.idSet.values().next().value===e}withModalOnTop(e){return new of(new vn([e]).union(this.idSet).values())}without(e){return new of(this.idSet.without(e).values())}}class Cj{constructor(){te(this,"stack",Ue(new of));te(this,"isModalOpen");te(this,"maxId",0);this.isModalOpen=et(this.stack,e=>e.size>0)}getId(){return this.maxId+=1,this.maxId}getPropsForNewModal(){return{modalId:this.getId(),modalStackStore:this.stack}}spawnModalController(){return new $T(this.getPropsForNewModal())}}const Sj=r=>({}),nb=r=>({}),Tj=r=>({}),rb=r=>({});function lb(r){var c;let e,n,t,l=((c=r[0])!=null?c:"")+"",s,o,i;const a=r[6].title,u=ke(a,r,r[7],rb);let f=r[1]&&sb(r);return{c(){e=E("div"),n=E("div"),u&&u.c(),t=N(),s=L(l),o=N(),f&&f.c(),I(n,"class","title"),I(n,"data-window-area","title"),I(e,"class","title-bar"),I(e,"data-window-area","title-bar")},m(m,d){v(m,e,d),R(e,n),u&&u.m(n,null),R(n,t),R(n,s),R(e,o),f&&f.m(e,null),i=!0},p(m,d){var g;u&&u.p&&(!i||d&128)&&Ce(u,a,m,m[7],i?ye(a,m[7],d,Tj):Se(m[7]),rb),(!i||d&1)&&l!==(l=((g=m[0])!=null?g:"")+"")&&z(s,l),m[1]?f?(f.p(m,d),d&2&&_(f,1)):(f=sb(m),f.c(),_(f,1),f.m(e,null)):f&&(U(),p(f,1,1,()=>{f=null}),W())},i(m){i||(_(u,m),_(f),i=!0)},o(m){p(u,m),p(f),i=!1},d(m){m&&$(e),u&&u.d(m),f&&f.d()}}}function sb(r){let e,n;return e=new st({props:{appearance:"plain",tabIndex:Mj,$$slots:{default:[Ij]},$$scope:{ctx:r}}}),e.$on("click",r[4]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&128&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Ij(r){let e,n;const t=[Ts];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[_e(Ts)]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function Ej(r){let e,n,t,l,s,o,i=(r[5].title||r[0]||r[1])&&lb(r);const a=r[6].default,u=ke(a,r,r[7],null),f=r[6].footer,c=ke(f,r,r[7],nb);return{c(){e=E("div"),i&&i.c(),n=N(),t=E("div"),u&&u.c(),l=N(),s=E("div"),c&&c.c(),I(t,"class","body"),I(t,"data-window-area","body"),I(s,"class","footer"),I(s,"data-window-area","footer"),I(e,"class","window"),I(e,"data-window-area","window"),ie(e,"can-scroll-body",r[2]),ie(e,"has-body-padding",r[3])},m(m,d){v(m,e,d),i&&i.m(e,null),R(e,n),R(e,t),u&&u.m(t,null),R(e,l),R(e,s),c&&c.m(s,null),o=!0},p(m,[d]){m[5].title||m[0]||m[1]?i?(i.p(m,d),d&35&&_(i,1)):(i=lb(m),i.c(),_(i,1),i.m(e,n)):i&&(U(),p(i,1,1,()=>{i=null}),W()),u&&u.p&&(!o||d&128)&&Ce(u,a,m,m[7],o?ye(a,m[7],d,null):Se(m[7]),null),c&&c.p&&(!o||d&128)&&Ce(c,f,m,m[7],o?ye(f,m[7],d,Sj):Se(m[7]),nb),(!o||d&4)&&ie(e,"can-scroll-body",m[2]),(!o||d&8)&&ie(e,"has-body-padding",m[3])},i(m){o||(_(i),_(u,m),_(c,m),o=!0)},o(m){p(i),p(u,m),p(c,m),o=!1},d(m){m&&$(e),i&&i.d(),u&&u.d(m),c&&c.d(m)}}}const Mj=9999;function Rj(r,e,n){let{$$slots:t={},$$scope:l}=e;const s=mr(t),o=Et();let{title:i=void 0}=e,{hasCloseButton:a=!0}=e,{canScrollBody:u=!0}=e,{hasBodyPadding:f=!0}=e;function c(){o("close")}return r.$$set=m=>{"title"in m&&n(0,i=m.title),"hasCloseButton"in m&&n(1,a=m.hasCloseButton),"canScrollBody"in m&&n(2,u=m.canScrollBody),"hasBodyPadding"in m&&n(3,f=m.hasBodyPadding),"$$scope"in m&&n(7,l=m.$$scope)},[i,a,u,f,c,s,t,l]}class vT extends Q{constructor(e){super(),Z(this,e,Rj,Ej,J,{title:0,hasCloseButton:1,canScrollBody:2,hasBodyPadding:3})}}const{window:Dj}=gi,Aj=r=>({}),ob=r=>({}),Oj=r=>({}),ib=r=>({slot:"footer"});function ab(r){let e,n,t,l,s,o,i,a,u,f=r[4]&&ub(r);return l=new vT({props:{canScrollBody:r[5],hasCloseButton:r[6],$$slots:{footer:[Pj],title:[Nj],default:[Fj]},$$scope:{ctx:r}}}),l.$on("close",r[7]),{c(){e=E("div"),f&&f.c(),n=N(),t=E("div"),C(l.$$.fragment),I(t,"class","window-positioner"),ie(t,"width-regular",r[3]==="regular"),ie(t,"width-medium",r[3]==="medium"),ie(t,"width-large",r[3]==="large"),I(e,"class","modal"),I(e,"data-modal-id",r[1])},m(c,m){v(c,e,m),f&&f.m(e,null),R(e,n),R(e,t),k(l,t,null),i=!0,a||(u=[Dt(uc.call(null,t)),Dt(fo.call(null,e))],a=!0)},p(c,m){c[4]?f?(f.p(c,m),m&16&&_(f,1)):(f=ub(c),f.c(),_(f,1),f.m(e,n)):f&&(U(),p(f,1,1,()=>{f=null}),W());const d={};m&32&&(d.canScrollBody=c[5]),m&64&&(d.hasCloseButton=c[6]),m&8196&&(d.$$scope={dirty:m,ctx:c}),l.$set(d),(!i||m&8)&&ie(t,"width-regular",c[3]==="regular"),(!i||m&8)&&ie(t,"width-medium",c[3]==="medium"),(!i||m&8)&&ie(t,"width-large",c[3]==="large"),(!i||m&2)&&I(e,"data-modal-id",c[1])},i(c){i||(_(f),_(l.$$.fragment,c),xn(()=>{o&&o.end(1),s=Zf(t,td,{y:20,duration:150}),s.start()}),i=!0)},o(c){p(f),p(l.$$.fragment,c),s&&s.invalidate(),o=Oa(t,td,{y:20,duration:150}),i=!1},d(c){c&&$(e),f&&f.d(),y(l),c&&o&&o.end(),a=!1,Ot(u)}}}function ub(r){let e,n,t,l,s,o;return{c(){e=E("div"),I(e,"class","overlay")},m(i,a){v(i,e,a),l=!0,s||(o=He(e,"click",r[9]),s=!0)},p:H,i(i){l||(xn(()=>{t&&t.end(1),n=Zf(e,jl,{duration:150}),n.start()}),l=!0)},o(i){n&&n.invalidate(),t=Oa(e,jl,{duration:150}),l=!1},d(i){i&&$(e),i&&t&&t.end(),s=!1,o()}}}function Fj(r){let e;const n=r[12].default,t=ke(n,r,r[13],null);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&8192)&&Ce(t,n,l,l[13],e?ye(n,l[13],s,null):Se(l[13]),null)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function Nj(r){var i;let e,n=((i=r[2])!=null?i:"")+"",t,l;const s=r[12].title,o=ke(s,r,r[13],ob);return{c(){e=E("div"),o&&o.c(),t=L(n),I(e,"slot","title")},m(a,u){v(a,e,u),o&&o.m(e,null),R(e,t),l=!0},p(a,u){var f;o&&o.p&&(!l||u&8192)&&Ce(o,s,a,a[13],l?ye(s,a[13],u,Aj):Se(a[13]),ob),(!l||u&4)&&n!==(n=((f=a[2])!=null?f:"")+"")&&z(t,n)},i(a){l||(_(o,a),l=!0)},o(a){p(o,a),l=!1},d(a){a&&$(e),o&&o.d(a)}}}function Pj(r){let e;const n=r[12].footer,t=ke(n,r,r[13],ib);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&8192)&&Ce(t,n,l,l[13],e?ye(n,l[13],s,Oj):Se(l[13]),ib)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function Lj(r){let e,n,t,l,s=r[0]&&ab(r);return{c(){s&&s.c(),e=ae()},m(o,i){s&&s.m(o,i),v(o,e,i),n=!0,t||(l=He(Dj,"keydown",r[8]),t=!0)},p(o,[i]){o[0]?s?(s.p(o,i),i&1&&_(s,1)):(s=ab(o),s.c(),_(s,1),s.m(e.parentNode,e)):s&&(U(),p(s,1,1,()=>{s=null}),W())},i(o){n||(_(s),n=!0)},o(o){p(s),n=!1},d(o){s&&s.d(o),o&&$(e),t=!1,l()}}}function Hj(r,e,n){let t,l,s,{$$slots:o={},$$scope:i}=e;const a=Et();let{modalId:u=void 0}=e,{isOpen:f=!1}=e,{title:c=void 0}=e,{size:m="regular"}=e,{allowClose:d=!0}=e,{hasOverlay:g=!0}=e,{closeOn:h=["button"]}=e,{canScrollBody:b=!0}=e,w;function S(){n(0,f=!1)}function T(F){F.key==="Escape"&&f&&l&&S()}function M(){s&&S()}function A(){var F;w=(F=document.activeElement)!=null?F:void 0,a("open")}function D(){zo(w),w=void 0,a("close")}async function O(F){await sn(),F?A():D()}return r.$$set=F=>{"modalId"in F&&n(1,u=F.modalId),"isOpen"in F&&n(0,f=F.isOpen),"title"in F&&n(2,c=F.title),"size"in F&&n(3,m=F.size),"allowClose"in F&&n(10,d=F.allowClose),"hasOverlay"in F&&n(4,g=F.hasOverlay),"closeOn"in F&&n(11,h=F.closeOn),"canScrollBody"in F&&n(5,b=F.canScrollBody),"$$scope"in F&&n(13,i=F.$$scope)},r.$$.update=()=>{r.$$.dirty&3072&&n(6,t=d&&h.includes("button")),r.$$.dirty&3072&&(l=d&&h.includes("esc")),r.$$.dirty&3072&&(s=d&&h.includes("overlay")),r.$$.dirty&1&&O(f)},[f,u,c,m,g,b,t,S,T,M,d,h,o,i]}class wT extends Q{constructor(e){super(),Z(this,e,Hj,Lj,J,{modalId:1,isOpen:0,title:2,size:3,allowClose:10,hasOverlay:4,closeOn:11,canScrollBody:5})}}const Vj=r=>({options:r&64}),fb=r=>({options:r[6]}),zj=r=>({options:r&64}),cb=r=>({slot:"title",options:r[6]}),Bj=r=>({options:r&64}),mb=r=>({slot:"footer",options:r[6]});function qj(r){let e;const n=r[13].default,t=ke(n,r,r[17],fb);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&131136)&&Ce(t,n,l,l[17],e?ye(n,l[17],s,Vj):Se(l[17]),fb)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function Uj(r){let e;const n=r[13].title,t=ke(n,r,r[17],cb);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&131136)&&Ce(t,n,l,l[17],e?ye(n,l[17],s,zj):Se(l[17]),cb)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function Wj(r){let e;const n=r[13].footer,t=ke(n,r,r[17],mb);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&131136)&&Ce(t,n,l,l[17],e?ye(n,l[17],s,Bj):Se(l[17]),mb)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function jj(r){let e,n,t;function l(o){r[14](o)}let s={hasOverlay:r[11],title:r[1],size:r[2],allowClose:r[3]&&r[11],closeOn:r[4],canScrollBody:r[5],modalId:r[0].modalId,$$slots:{footer:[Wj],title:[Uj],default:[qj]},$$scope:{ctx:r}};return r[10]!==void 0&&(s.isOpen=r[10]),e=new wT({props:s}),we.push(()=>Me(e,"isOpen",l)),e.$on("open",r[15]),e.$on("close",r[16]),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,[i]){const a={};i&2048&&(a.hasOverlay=o[11]),i&2&&(a.title=o[1]),i&4&&(a.size=o[2]),i&2056&&(a.allowClose=o[3]&&o[11]),i&16&&(a.closeOn=o[4]),i&32&&(a.canScrollBody=o[5]),i&1&&(a.modalId=o[0].modalId),i&131136&&(a.$$scope={dirty:i,ctx:o}),!n&&i&1024&&(n=!0,a.isOpen=o[10],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function Yj(r,e,n){let t,l,s,o,i,a=H,u=()=>(a(),a=le(s,j=>n(12,i=j)),s),f,c=H,m=()=>(c(),c=le(t,j=>n(10,f=j)),t),d,g=H,h=()=>(g(),g=le(l,j=>n(11,d=j)),l);r.$$.on_destroy.push(()=>a()),r.$$.on_destroy.push(()=>c()),r.$$.on_destroy.push(()=>g());let{$$slots:b={},$$scope:w}=e,{controller:S}=e,{title:T=void 0}=e,{size:M=void 0}=e,{allowClose:A=!0}=e,{closeOn:D=["button"]}=e,{canScrollBody:O=!0}=e;function F(j){f=j,t.set(f)}function P(j){Re.call(this,r,j)}function B(j){Re.call(this,r,j)}return r.$$set=j=>{"controller"in j&&n(0,S=j.controller),"title"in j&&n(1,T=j.title),"size"in j&&n(2,M=j.size),"allowClose"in j&&n(3,A=j.allowClose),"closeOn"in j&&n(4,D=j.closeOn),"canScrollBody"in j&&n(5,O=j.canScrollBody),"$$scope"in j&&n(17,w=j.$$scope)},r.$$.update=()=>{r.$$.dirty&1&&m(n(9,{isOpen:t,isOnTop:l,options:s}=S,t,h(n(8,l)),u(n(7,s)))),r.$$.dirty&4096&&n(6,o=i)},[S,T,M,A,D,O,o,s,l,t,f,d,i,b,F,P,B,w]}class Yn extends Q{constructor(e){super(),Z(this,e,Yj,jj,J,{controller:0,title:1,size:2,allowClose:3,closeOn:4,canScrollBody:5})}}function Gj(r){let e,n;return e=new Nr({props:{arg:r[4]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.arg=t[4]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function db(r){let e,n;return e=new Nr({props:{arg:r[5]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&32&&(s.arg=t[5]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Kj(r){let e,n,t=r[5]&&db(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[5]?t?(t.p(l,s),s&32&&_(t,1)):(t=db(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function Xj(r){let e,n;return e=new Ol({props:{slot:"footer",cancelButton:r[2],proceedButton:r[3],onCancel:r[10],onProceed:r[11],canProceed:r[9]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&4&&(s.cancelButton=t[2]),l&8&&(s.proceedButton=t[3]),l&512&&(s.canProceed=t[9]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Jj(r){let e,n;return e=new Yn({props:{controller:r[1],allowClose:r[0],closeOn:["button","esc","overlay"],$$slots:{footer:[Xj],title:[Kj],default:[Gj]},$$scope:{ctx:r}}}),e.$on("close",r[12]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&2&&(s.controller=t[1]),l&1&&(s.allowClose=t[0]),l&524860&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Zj(r,e,n){let t,l,s,o,i,a,u,f,c,m,d,g,h=H,b=()=>(h(),h=le(s,V=>n(18,g=V)),s),w,S=H,T=()=>(S(),S=le(l,V=>n(14,w=V)),l),M,A=H,D=()=>(A(),A=le(o,V=>n(9,M=V)),o);r.$$.on_destroy.push(()=>h()),r.$$.on_destroy.push(()=>S()),r.$$.on_destroy.push(()=>A());let{controller:O}=e,F=!0;function P(){g(!1),t.close()}async function B(){try{n(0,F=!1);const V=await c();m(V),g(!0),t.close()}catch(V){d(V),t.close()}finally{n(0,F=!0)}}function j(){g(!1),n(0,F=!0)}return r.$$set=V=>{"controller"in V&&n(13,O=V.controller)},r.$$.update=()=>{r.$$.dirty&8192&&n(1,{modal:t,confirmationProps:l,resolve:s,canProceed:o}=O,t,T(n(8,l)),b(n(7,s)),D(n(6,o))),r.$$.dirty&16384&&n(5,{title:i,body:a,proceedButton:u,cancelButton:f,onProceed:c,onSuccess:m,onError:d}=w,i,(n(4,a),n(14,w)),(n(3,u),n(14,w)),(n(2,f),n(14,w)))},[F,t,f,u,a,i,o,s,l,M,P,B,j,O,w]}class Qj extends Q{constructor(e){super(),Z(this,e,Zj,Jj,J,{controller:13})}}function xj(r){return{text:r,isMatch:!0}}function mm(r){return{text:r,isMatch:!1}}function kT(r,e){if(r.length===0)return[];if(e.length===0)return[mm(r)];const n=Xm(r),t=Xm(e),l=[];let s=0;for(;;){const o=n.indexOf(t,s);if(o===-1){s<n.length&&l.push(mm(r.slice(s)));break}o>s&&l.push(mm(r.substring(s,o))),l.push(xj(r.substring(o,o+e.length))),s=o+e.length}return l}function yT(r){return r?"exactMatch":"noMatch"}function V_(r,e,n){if(!(r==null||r===""))return n&&n(e)===r?"exactMatch":yT(r===e||String(r)===String(e))}function eY(r){if(r.length!==0)return r.length===1?yT(r[0].isMatch):"substringMatch"}function tY(r){let e,n;const t=r[1].default,l=ke(t,r,r[0],null);return{c(){e=E("span"),l&&l.c(),I(e,"class","match svelte-1ado8x1")},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,[o]){l&&l.p&&(!n||o&1)&&Ce(l,t,s,s[0],n?ye(t,s[0],o,null):Se(s[0]),null)},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function nY(r,e,n){let{$$slots:t={},$$scope:l}=e;return r.$$set=s=>{"$$scope"in s&&n(0,l=s.$$scope)},[l,t]}class rY extends Q{constructor(e){super(),Z(this,e,nY,tY,J,{})}}function _b(r,e,n){const t=r.slice();return t[3]=e[n],t}function lY(r){let e=r[3].text+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1&&e!==(e=t[3].text+"")&&z(n,e)},i:H,o:H,d(t){t&&$(n)}}}function sY(r){let e,n,t;var l=r[1];function s(o){return{props:{$$slots:{default:[oY]},$$scope:{ctx:o}}}}return l&&(e=new l(s(r))),{c(){e&&C(e.$$.fragment),n=ae()},m(o,i){e&&k(e,o,i),v(o,n,i),t=!0},p(o,i){const a={};if(i&65&&(a.$$scope={dirty:i,ctx:o}),l!==(l=o[1])){if(e){U();const u=e;p(u.$$.fragment,1,0,()=>{y(u,1)}),W()}l?(e=new l(s(o)),C(e.$$.fragment),_(e.$$.fragment,1),k(e,n.parentNode,n)):e=null}else l&&e.$set(a)},i(o){t||(e&&_(e.$$.fragment,o),t=!0)},o(o){e&&p(e.$$.fragment,o),t=!1},d(o){o&&$(n),e&&y(e,o)}}}function oY(r){let e=r[3].text+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1&&e!==(e=t[3].text+"")&&z(n,e)},d(t){t&&$(n)}}}function pb(r){let e,n,t,l;const s=[sY,lY],o=[];function i(a,u){return a[3].isMatch?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function iY(r){let e,n,t=r[0],l=[];for(let o=0;o<t.length;o+=1)l[o]=pb(_b(r,t,o));const s=o=>p(l[o],1,1,()=>{l[o]=null});return{c(){e=E("span");for(let o=0;o<l.length;o+=1)l[o].c();I(e,"class","match-highlighter")},m(o,i){v(o,e,i);for(let a=0;a<l.length;a+=1)l[a].m(e,null);n=!0},p(o,[i]){if(i&3){t=o[0];let a;for(a=0;a<t.length;a+=1){const u=_b(o,t,a);l[a]?(l[a].p(u,i),_(l[a],1)):(l[a]=pb(u),l[a].c(),_(l[a],1),l[a].m(e,null))}for(U(),a=t.length;a<l.length;a+=1)s(a);W()}},i(o){if(!n){for(let i=0;i<t.length;i+=1)_(l[i]);n=!0}},o(o){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)p(l[i]);n=!1},d(o){o&&$(e),Hn(l,o)}}}function aY(r,e,n){let t,{matchParts:l}=e,{matchComponent:s=void 0}=e;return r.$$set=o=>{"matchParts"in o&&n(0,l=o.matchParts),"matchComponent"in o&&n(2,s=o.matchComponent)},r.$$.update=()=>{r.$$.dirty&4&&n(1,t=s!=null?s:rY)},[l,t,s]}class z_ extends Q{constructor(e){super(),Z(this,e,aY,iY,J,{matchParts:0,matchComponent:2})}}function uY(r){let e,n;return e=new z_({props:{matchParts:r[1],matchComponent:r[0]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&2&&(s.matchParts=t[1]),l&1&&(s.matchComponent=t[0]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function fY(r,e,n){let t,{text:l}=e,{substring:s=""}=e,{matchComponent:o=void 0}=e;return r.$$set=i=>{"text"in i&&n(2,l=i.text),"substring"in i&&n(3,s=i.substring),"matchComponent"in i&&n(0,o=i.matchComponent)},r.$$.update=()=>{r.$$.dirty&12&&n(1,t=kT(l,s))},[o,t,l,s]}class mo extends Q{constructor(e){super(),Z(this,e,fY,uY,J,{text:2,substring:3,matchComponent:0})}}function cY(r){let e;return{c(){e=E("div"),I(e,"class","menu-divider")},m(n,t){v(n,e,t)},p:H,i:H,o:H,d(n){n&&$(e)}}}function mY(r){return[]}class Uo extends Q{constructor(e){super(),Z(this,e,mY,cY,J,{})}}function gb(r){let e,n;return e=new Nr({props:{arg:r[0]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.arg=t[0]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function dY(r){let e,n,t=r[0]&&gb(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[0]?t?(t.p(l,s),s&1&&_(t,1)):(t=gb(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function _Y(r){let e,n;const t=r[3].default,l=ke(t,r,r[2],null),s=l||dY(r);let o=[{class:"menu-heading"},r[1]],i={};for(let a=0;a<o.length;a+=1)i=se(i,o[a]);return{c(){e=E("div"),s&&s.c(),Tt(e,i)},m(a,u){v(a,e,u),s&&s.m(e,null),n=!0},p(a,[u]){l?l.p&&(!n||u&4)&&Ce(l,t,a,a[2],n?ye(t,a[2],u,null):Se(a[2]),null):s&&s.p&&(!n||u&1)&&s.p(a,n?u:-1),Tt(e,i=de(o,[{class:"menu-heading"},u&2&&a[1]]))},i(a){n||(_(s,a),n=!0)},o(a){p(s,a),n=!1},d(a){a&&$(e),s&&s.d(a)}}}function pY(r,e,n){const t=["label"];let l=We(e,t),{$$slots:s={},$$scope:o}=e,{label:i=void 0}=e;return r.$$set=a=>{e=se(se({},e),pt(a)),n(1,l=We(e,t)),"label"in a&&n(0,i=a.label),"$$scope"in a&&n(2,o=a.$$scope)},[i,l,o,s]}class Gs extends Q{constructor(e){super(),Z(this,e,pY,_Y,J,{label:0})}}const gY=r=>({}),hb=r=>({});function bb(r){let e,n;const t=[r[0],{hasNotificationDot:r[1]}];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&3?de(t,[o&1&&_e(s[0]),o&2&&{hasNotificationDot:s[1]}]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function $b(r){let e,n;const t=[Qo];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[_e(Qo)]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function hY(r){let e,n,t,l,s,o,i,a;const u=r[5].control,f=ke(u,r,r[4],hb);let c=r[0]&&bb(r);const m=r[5].default,d=ke(m,r,r[4],null);let g=r[2]&&$b();return{c(){e=E("div"),f&&f.c(),n=N(),t=E("div"),c&&c.c(),l=N(),s=E("div"),d&&d.c(),o=N(),i=E("div"),g&&g.c(),I(e,"class","control cell"),I(t,"class","icon cell"),I(s,"class","label cell"),I(i,"class","sub-menu cell")},m(h,b){v(h,e,b),f&&f.m(e,null),v(h,n,b),v(h,t,b),c&&c.m(t,null),v(h,l,b),v(h,s,b),d&&d.m(s,null),v(h,o,b),v(h,i,b),g&&g.m(i,null),a=!0},p(h,[b]){f&&f.p&&(!a||b&16)&&Ce(f,u,h,h[4],a?ye(u,h[4],b,gY):Se(h[4]),hb),h[0]?c?(c.p(h,b),b&1&&_(c,1)):(c=bb(h),c.c(),_(c,1),c.m(t,null)):c&&(U(),p(c,1,1,()=>{c=null}),W()),d&&d.p&&(!a||b&16)&&Ce(d,m,h,h[4],a?ye(m,h[4],b,null):Se(h[4]),null),h[2]?g?(g.p(h,b),b&4&&_(g,1)):(g=$b(),g.c(),_(g,1),g.m(i,null)):g&&(U(),p(g,1,1,()=>{g=null}),W())},i(h){a||(_(f,h),_(c),_(d,h),_(g),a=!0)},o(h){p(f,h),p(c),p(d,h),p(g),a=!1},d(h){h&&$(e),f&&f.d(h),h&&$(n),h&&$(t),c&&c.d(),h&&$(l),h&&$(s),d&&d.d(h),h&&$(o),h&&$(i),g&&g.d()}}}function bY(r,e,n){let t,{$$slots:l={},$$scope:s}=e;const o=mr(l),i=L_.getOrError(),a=Ue(!1);ne(r,a,m=>n(6,t=m));let{icon:u=void 0}=e,{hasNotificationDot:f=!1}=e,{hasSubMenu:c=!1}=e;return i&&(tn(()=>i.hasControlColumn.registerInput(o.control)),tn(()=>i.hasIconColumn.registerInput(a))),r.$$set=m=>{"icon"in m&&n(0,u=m.icon),"hasNotificationDot"in m&&n(1,f=m.hasNotificationDot),"hasSubMenu"in m&&n(2,c=m.hasSubMenu),"$$scope"in m&&n(4,s=m.$$scope)},r.$$.update=()=>{r.$$.dirty&1&&Pn(a,t=!!u,t)},[u,f,c,a,s,l]}class Wo extends Q{constructor(e){super(),Z(this,e,bY,hY,J,{icon:0,hasNotificationDot:1,hasSubMenu:2})}}function vb(r){let e,n;return e=new Nr({props:{arg:r[0]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.arg=t[0]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function $Y(r){let e,n,t=r[0]&&vb(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[0]?t?(t.p(l,s),s&1&&_(t,1)):(t=vb(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function vY(r){let e;const n=r[6].default,t=ke(n,r,r[7],null),l=t||$Y(r);return{c(){l&&l.c()},m(s,o){l&&l.m(s,o),e=!0},p(s,o){t?t.p&&(!e||o&128)&&Ce(t,n,s,s[7],e?ye(n,s[7],o,null):Se(s[7]),null):l&&l.p&&(!e||o&1)&&l.p(s,e?o:-1)},i(s){e||(_(l,s),e=!0)},o(s){p(l,s),e=!1},d(s){l&&l.d(s)}}}function wY(r){let e,n,t,l,s;return n=new Wo({props:{icon:r[1],hasNotificationDot:r[4],$$slots:{default:[vY]},$$scope:{ctx:r}}}),{c(){e=E("button"),C(n.$$.fragment),e.disabled=r[2],I(e,"role","menuitem"),I(e,"class","menu-item menu-item-button"),ie(e,"disabled",r[2]),ie(e,"danger",r[3])},m(o,i){v(o,e,i),k(n,e,null),t=!0,l||(s=He(e,"click",r[5]),l=!0)},p(o,[i]){const a={};i&2&&(a.icon=o[1]),i&16&&(a.hasNotificationDot=o[4]),i&129&&(a.$$scope={dirty:i,ctx:o}),n.$set(a),(!t||i&4)&&(e.disabled=o[2]),(!t||i&4)&&ie(e,"disabled",o[2]),(!t||i&8)&&ie(e,"danger",o[3])},i(o){t||(_(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&$(e),y(n),l=!1,s()}}}function kY(r,e,n){let{$$slots:t={},$$scope:l}=e;const s=Et();let{label:o=void 0}=e,{icon:i=void 0}=e,{disabled:a=!1}=e,{danger:u=!1}=e,{hasNotificationDot:f=!1}=e;function c(){a||s("click")}return r.$$set=m=>{"label"in m&&n(0,o=m.label),"icon"in m&&n(1,i=m.icon),"disabled"in m&&n(2,a=m.disabled),"danger"in m&&n(3,u=m.danger),"hasNotificationDot"in m&&n(4,f=m.hasNotificationDot),"$$scope"in m&&n(7,l=m.$$scope)},[o,i,a,u,f,c,t,l]}class wn extends Q{constructor(e){super(),Z(this,e,kY,wY,J,{label:0,icon:1,disabled:2,danger:3,hasNotificationDot:4})}}function wb(r){let e,n;return e=new Nr({props:{arg:r[0]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.arg=t[0]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function yY(r){let e,n,t=r[0]&&wb(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[0]?t?(t.p(l,s),s&1&&_(t,1)):(t=wb(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function CY(r){let e;const n=r[7].default,t=ke(n,r,r[8],null),l=t||yY(r);return{c(){l&&l.c()},m(s,o){l&&l.m(s,o),e=!0},p(s,o){t?t.p&&(!e||o&256)&&Ce(t,n,s,s[8],e?ye(n,s[8],o,null):Se(s[8]),null):l&&l.p&&(!e||o&1)&&l.p(s,e?o:-1)},i(s){e||(_(l,s),e=!0)},o(s){p(l,s),e=!1},d(s){l&&l.d(s)}}}function SY(r){let e,n,t,l;n=new Wo({props:{icon:r[1],hasNotificationDot:r[3],$$slots:{default:[CY]},$$scope:{ctx:r}}});let s=[{class:"menu-item menu-item-link"},{href:t=r[4]?void 0:r[2]},r[6]],o={};for(let i=0;i<s.length;i+=1)o=se(o,s[i]);return{c(){e=E("a"),C(n.$$.fragment),Tt(e,o),ie(e,"active",r[5]),ie(e,"disabled",r[4])},m(i,a){v(i,e,a),k(n,e,null),l=!0},p(i,[a]){const u={};a&2&&(u.icon=i[1]),a&8&&(u.hasNotificationDot=i[3]),a&257&&(u.$$scope={dirty:a,ctx:i}),n.$set(u),Tt(e,o=de(s,[{class:"menu-item menu-item-link"},(!l||a&20&&t!==(t=i[4]?void 0:i[2]))&&{href:t},a&64&&i[6]])),ie(e,"active",i[5]),ie(e,"disabled",i[4])},i(i){l||(_(n.$$.fragment,i),l=!0)},o(i){p(n.$$.fragment,i),l=!1},d(i){i&&$(e),y(n)}}}function TY(r,e,n){const t=["label","icon","href","hasNotificationDot","disabled","active"];let l=We(e,t),{$$slots:s={},$$scope:o}=e,{label:i=void 0}=e,{icon:a=void 0}=e,{href:u}=e,{hasNotificationDot:f=!1}=e,{disabled:c=!1}=e,{active:m=!1}=e;return r.$$set=d=>{e=se(se({},e),pt(d)),n(6,l=We(e,t)),"label"in d&&n(0,i=d.label),"icon"in d&&n(1,a=d.icon),"href"in d&&n(2,u=d.href),"hasNotificationDot"in d&&n(3,f=d.hasNotificationDot),"disabled"in d&&n(4,c=d.disabled),"active"in d&&n(5,m=d.active),"$$scope"in d&&n(8,o=d.$$scope)},[i,a,u,f,c,m,l,s,o]}class Er extends Q{constructor(e){super(),Z(this,e,TY,SY,J,{label:0,icon:1,href:2,hasNotificationDot:3,disabled:4,active:5})}}const IY=r=>({close:r&8}),kb=r=>({close:r[9]}),EY=r=>({close:r&8}),yb=r=>({close:r[9]});function Cb(r){let e,n;return e=new Nr({props:{arg:r[0]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.arg=t[0]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function MY(r){let e,n,t=r[0]&&Cb(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[0]?t?(t.p(l,s),s&1&&_(t,1)):(t=Cb(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function RY(r){let e;const n=r[8].label,t=ke(n,r,r[12],yb),l=t||MY(r);return{c(){l&&l.c()},m(s,o){l&&l.m(s,o),e=!0},p(s,o){t?t.p&&(!e||o&4104)&&Ce(t,n,s,s[12],e?ye(n,s[12],o,EY):Se(s[12]),yb):l&&l.p&&(!e||o&1)&&l.p(s,e?o:-1)},i(s){e||(_(l,s),e=!0)},o(s){p(l,s),e=!1},d(s){l&&l.d(s)}}}function DY(r){let e,n;const t=r[8].default,l=ke(t,r,r[12],kb);return{c(){e=E("div"),l&&l.c(),I(e,"class","sub-menu")},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,o){l&&l.p&&(!n||o&4104)&&Ce(l,t,s,s[12],n?ye(t,s[12],o,IY):Se(s[12]),kb)},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function AY(r){let e,n,t,l,s,o,i;return n=new Wo({props:{icon:r[1],hasSubMenu:!0,$$slots:{default:[RY]},$$scope:{ctx:r}}}),l=new Xl({props:{isOpen:r[6],trigger:r[4],placements:["right-start","left-start","bottom","top"],matchTriggerWidthPxUpTo:10,$$slots:{default:[DY]},$$scope:{ctx:r}}}),l.$on("click",function(){St(r[2])&&r[2].apply(this,arguments)}),l.$on("mouseenter",r[11]),{c(){e=E("button"),C(n.$$.fragment),t=N(),C(l.$$.fragment),I(e,"role","menuitem"),I(e,"data-menu-item-focusable",""),I(e,"data-menu-item-sub-menu",""),I(e,"class","menu-item menu-item-button"),ie(e,"opened",r[6])},m(a,u){v(a,e,u),k(n,e,null),r[10](e),v(a,t,u),k(l,a,u),s=!0,o||(i=He(e,"click",r[7]),o=!0)},p(a,[u]){r=a;const f={};u&2&&(f.icon=r[1]),u&4105&&(f.$$scope={dirty:u,ctx:r}),n.$set(f),(!s||u&64)&&ie(e,"opened",r[6]);const c={};u&64&&(c.isOpen=r[6]),u&16&&(c.trigger=r[4]),u&4104&&(c.$$scope={dirty:u,ctx:r}),l.$set(c)},i(a){s||(_(n.$$.fragment,a),_(l.$$.fragment,a),s=!0)},o(a){p(n.$$.fragment,a),p(l.$$.fragment,a),s=!1},d(a){a&&$(e),y(n),r[10](null),a&&$(t),y(l,a),o=!1,i()}}}function OY(r,e,n){let t,l,s=H,o=()=>(s(),s=le(t,T=>n(6,l=T)),t);r.$$.on_destroy.push(()=>s());let{$$slots:i={},$$scope:a}=e;const u=L_.getOrError();let{label:f=void 0}=e,{icon:c=void 0}=e,{closeRoot:m=()=>{}}=e,d,g;function h(T){g==null||g.open(),T.stopPropagation()}tn(()=>(n(3,g=u.registerSubMenu(d)),()=>{u.unRegisterSubMenu(d)}));const b=()=>g==null?void 0:g.close();function w(T){we[T?"unshift":"push"](()=>{d=T,n(4,d)})}const S=()=>g==null?void 0:g.handleMouseEnterContent();return r.$$set=T=>{"label"in T&&n(0,f=T.label),"icon"in T&&n(1,c=T.icon),"closeRoot"in T&&n(2,m=T.closeRoot),"$$scope"in T&&n(12,a=T.$$scope)},r.$$.update=()=>{var T;r.$$.dirty&8&&o(n(5,t=(T=g==null?void 0:g.isOpen)!=null?T:ar(!1)))},[f,c,m,g,d,t,l,h,i,b,w,S,a]}class FY extends Q{constructor(e){super(),Z(this,e,OY,AY,J,{label:0,icon:1,closeRoot:2})}}function NY(r){let e=Rt(r[0])+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1&&e!==(e=Rt(t[0])+"")&&z(n,e)},i:H,o:H,d(t){t&&$(n)}}}function PY(r){let e,n;const t=[r[0],{closeRoot:r[1]}];let l={$$slots:{default:[BY,({close:s})=>({2:s}),({close:s})=>s?4:0]},$$scope:{ctx:r}};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new FY({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&3?de(t,[o&1&&_e(s[0]),o&2&&{closeRoot:s[1]}]):{};o&15&&(i.$$scope={dirty:o,ctx:s}),e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function LY(r){let e,n;const t=[r[0]];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Gs({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&1?de(t,[_e(s[0])]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function HY(r){let e,n;return e=new Uo({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function VY(r){let e,n;const t=[r[0]];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Er({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&1?de(t,[_e(s[0])]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function zY(r){let e,n;const t=[r[0]];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new wn({props:l}),e.$on("click",function(){St(r[0].onClick)&&r[0].onClick.apply(this,arguments)}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){r=s;const i=o&1?de(t,[_e(r[0])]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function BY(r){let e,n;return e=new TT({props:{modal:{close:r[2],closeRoot:r[1],restoreFocusOnClose:!1},entries:r[0].entries,isSubMenu:!0}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&6&&(s.modal={close:t[2],closeRoot:t[1],restoreFocusOnClose:!1}),l&1&&(s.entries=t[0].entries),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function qY(r){let e,n,t,l;const s=[zY,VY,HY,LY,PY,NY],o=[];function i(a,u){return a[0].type==="button"?0:a[0].type==="hyperlink"?1:a[0].type==="divider"?2:a[0].type==="heading"?3:a[0].type==="submenu"?4:5}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,[u]){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function UY(r,e,n){let{entry:t}=e,{closeRoot:l=()=>{}}=e;return r.$$set=s=>{"entry"in s&&n(0,t=s.entry),"closeRoot"in s&&n(1,l=s.closeRoot)},[t,l]}class WY extends Q{constructor(e){super(),Z(this,e,UY,qY,J,{entry:0,closeRoot:1})}}function Mr(r){return{type:"button",...r}}function B_(r){return{type:"hyperlink",...r}}function CT(...r){return{type:"section",entries:r}}function Sb(r){return{type:"submenu",...r}}function*ST(r){let e;for(const n of r)if(n.type==="section"){const t=[...ST(n.entries)];if(!t.length)continue;e!==void 0&&(yield{type:"divider"}),yield*t,e="section"}else e==="section"&&(yield{type:"divider"}),yield n,e="primitive"}function Tb(r,e,n){const t=r.slice();return t[6]=e[n],t}function Ib(r){let e,n;return e=new WY({props:{entry:r[6],closeRoot:r[5]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&4&&(s.entry=t[6]),l&1&&(s.closeRoot=t[5]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function jY(r){let e,n,t=r[2],l=[];for(let o=0;o<t.length;o+=1)l[o]=Ib(Tb(r,t,o));const s=o=>p(l[o],1,1,()=>{l[o]=null});return{c(){for(let o=0;o<l.length;o+=1)l[o].c();e=ae()},m(o,i){for(let a=0;a<l.length;a+=1)l[a].m(o,i);v(o,e,i),n=!0},p(o,i){if(i&5){t=o[2];let a;for(a=0;a<t.length;a+=1){const u=Tb(o,t,a);l[a]?(l[a].p(u,i),_(l[a],1)):(l[a]=Ib(u),l[a].c(),_(l[a],1),l[a].m(e.parentNode,e))}for(U(),a=t.length;a<l.length;a+=1)s(a);W()}},i(o){if(!n){for(let i=0;i<t.length;i+=1)_(l[i]);n=!0}},o(o){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)p(l[i]);n=!1},d(o){Hn(l,o),o&&$(e)}}}function YY(r){let e,n;const t=[{modal:r[0]},{isSubMenu:r[1]},r[3]];let l={$$slots:{default:[jY]},$$scope:{ctx:r}};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new hc({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,[o]){const i=o&11?de(t,[o&1&&{modal:s[0]},o&2&&{isSubMenu:s[1]},o&8&&_e(s[3])]):{};o&517&&(i.$$scope={dirty:o,ctx:s}),e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function GY(r,e,n){let t;const l=["entries","modal","isSubMenu"];let s=We(e,l),{entries:o}=e,{modal:i=void 0}=e,{isSubMenu:a=!1}=e;const u=()=>{i==null||i.closeRoot()};return r.$$set=f=>{e=se(se({},e),pt(f)),n(3,s=We(e,l)),"entries"in f&&n(4,o=f.entries),"modal"in f&&n(0,i=f.modal),"isSubMenu"in f&&n(1,a=f.isSubMenu)},r.$$.update=()=>{r.$$.dirty&16&&n(2,t=[...ST(o)])},[i,a,t,s,o,u]}class TT extends Q{constructor(e){super(),Z(this,e,GY,YY,J,{entries:4,modal:0,isSubMenu:1})}}function Eb(r){let e,n,t,l,s,o,i,a;return l=new TT({props:{entries:r[1].entries,modal:{close:r[4],closeRoot:r[5]}}}),{c(){e=E("div"),n=N(),t=E("div"),C(l.$$.fragment),I(e,"class","context-menu-backdrop svelte-1u77nk8"),I(t,"class","context-menu dropdown content")},m(u,f){v(u,e,f),v(u,n,f),v(u,t,f),k(l,t,null),o=!0,i||(a=[He(e,"click",r[2]),He(e,"contextmenu",r[2]),Dt(s=I_.call(null,t,{reference:og(r[1].position)})),Dt(fo.call(null,t)),He(t,"click",r[6])],i=!0)},p(u,f){const c={};f&2&&(c.entries=u[1].entries),f&1&&(c.modal={close:u[4],closeRoot:u[5]}),l.$set(c),s&&St(s.update)&&f&2&&s.update.call(null,{reference:og(u[1].position)})},i(u){o||(_(l.$$.fragment,u),o=!0)},o(u){p(l.$$.fragment,u),o=!1},d(u){u&&$(e),u&&$(n),u&&$(t),y(l),i=!1,Ot(a)}}}function KY(r){let e,n,t=r[1]&&Eb(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,[s]){l[1]?t?(t.p(l,s),s&2&&_(t,1)):(t=Eb(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function XY(r,e,n){let t,l,s=H,o=()=>(s(),s=le(i,m=>n(3,l=m)),i);r.$$.on_destroy.push(()=>s());let{controller:i}=e;o();function a(m){i.close(),m.preventDefault()}const u=()=>{i.close()},f=()=>{i.close()},c=()=>i.close();return r.$$set=m=>{"controller"in m&&o(n(0,i=m.controller))},r.$$.update=()=>{r.$$.dirty&8&&n(1,t=l)},[i,t,a,l,u,f,c]}class JY extends Q{constructor(e){super(),Z(this,e,XY,KY,J,{controller:0})}}class ZY{constructor(){te(this,"props",Ue(void 0))}open(e){!e.entries.length||this.props.set(e)}close(){this.props.set(void 0)}subscribe(e){return this.props.subscribe(e)}}const QY={lifetime:6e3,hasProgress:!0,initialProgress:1,finalProgress:0,allowPause:!0,allowDismiss:!0,onShow:()=>{},onDismiss:()=>{}};class xY{constructor({defaultProps:e}={defaultProps:{}}){te(this,"maxId",0);te(this,"defaultProps");te(this,"entriesMap");te(this,"entries");this.entriesMap=Ue(new Map),this.defaultProps={...QY,...e},this.entries=et(this.entriesMap,n=>[...n.values()])}makeId(){return this.maxId+=1,this.maxId}show(e={}){var a;const n={...this.defaultProps,...e},t=(a=n.id)!=null?a:this.makeId(),l=()=>this.dismiss(t),s=EO(n.initialProgress,{duration:200,easing:io}),o={id:t,progress:s,dismiss:l},i={id:t,props:n,controller:o};return this.entriesMap.update(u=>{const f=new Map(u);return f.set(t,i),f}),n.lifetime&&o.progress.set(n.finalProgress,{duration:n.lifetime}).then(o.dismiss),n.onShow(o),o}dismiss(e){this.entriesMap.update(n=>{const t=n.get(e);if(!t)return n;const l=new Map(n);return l.delete(e),t.props.onDismiss(),l})}}function Ro(r){return typeof r=="string"?{title:r}:r}function eG(r={}){const e=new xY({defaultProps:r});function n(a={}){return e.show(Ro({icon:ma,backgroundColor:"var(--color-bg-info)",...Ro(a)}))}function t(a={}){return e.show({icon:da,backgroundColor:"var(--color-bg-success)",...Ro(a)})}function l(a={}){return e.show({icon:il,backgroundColor:"var(--color-bg-danger)",...Ro(a)})}function s(a){return l(a instanceof Error?a.message:"Something went wrong.")}function o(a={}){return e.show({icon:{...Rl},lifetime:0,allowDismiss:!1,hasProgress:!1,...Ro(a)})}function i(a={}){return e.show({lifetime:0,allowDismiss:!1,initialProgress:0,...Ro(a)})}return{entries:e.entries,info:n,success:t,error:l,fromError:s,spinner:o,progress:i}}function tG(r,{from:e,to:n},t={}){const l=getComputedStyle(r),s=l.transform==="none"?"":l.transform,[o,i]=l.transformOrigin.split(" ").map(parseFloat),a=e.left+e.width*o/n.width-(n.left+o),u=e.top+e.height*i/n.height-(n.top+i),{delay:f=0,duration:c=d=>Math.sqrt(d)*120,easing:m=RS}=t;return{delay:f,duration:St(c)?c(Math.sqrt(a*a+u*u)):c,easing:m,css:(d,g)=>{const h=g*a,b=g*u,w=d+g*e.width/n.width,S=d+g*e.height/n.height;return`transform: ${s} translate(${h}px, ${b}px) scale(${w}, ${S});`}}}function Mb(r){let e,n,t;const l=[r[3]];let s={};for(let o=0;o<l.length;o+=1)s=se(s,l[o]);return n=new Ne({props:s}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","icon")},m(o,i){v(o,e,i),k(n,e,null),t=!0},p(o,i){const a=i&8?de(l,[_e(o[3])]):{};n.$set(a)},i(o){t||(_(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&$(e),y(n)}}}function Rb(r){let e,n;return{c(){e=E("div"),n=L(r[12]),I(e,"class","title")},m(t,l){v(t,e,l),R(e,n)},p(t,l){l&4096&&z(n,t[12])},d(t){t&&$(e)}}}function Db(r){let e,n,t,l,s;const o=[Ts];let i={};for(let a=0;a<o.length;a+=1)i=se(i,o[a]);return n=new Ne({props:i}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","close-button"),I(e,"role","button"),I(e,"tabindex","-1")},m(a,u){v(a,e,u),k(n,e,null),t=!0,l||(s=He(e,"click",function(){St(r[10])&&r[10].apply(this,arguments)}),l=!0)},p(a,u){r=a;const f=u&0?de(o,[_e(Ts)]):{};n.$set(f)},i(a){t||(_(n.$$.fragment,a),t=!0)},o(a){p(n.$$.fragment,a),t=!1},d(a){a&&$(e),y(n),l=!1,s()}}}function Ab(r){let e,n,t,l;const s=[rG,nG],o=[];function i(a,u){return a[0].contentComponent?0:a[0].message?1:-1}return~(n=i(r))&&(t=o[n]=s[n](r)),{c(){e=E("div"),t&&t.c(),I(e,"class","message")},m(a,u){v(a,e,u),~n&&o[n].m(e,null),l=!0},p(a,u){let f=n;n=i(a),n===f?~n&&o[n].p(a,u):(t&&(U(),p(o[f],1,1,()=>{o[f]=null}),W()),~n?(t=o[n],t?t.p(a,u):(t=o[n]=s[n](a),t.c()),_(t,1),t.m(e,null)):t=null)},i(a){l||(_(t),l=!0)},o(a){p(t),l=!1},d(a){a&&$(e),~n&&o[n].d()}}}function nG(r){let e;return{c(){e=L(r[14])},m(n,t){v(n,e,t)},p(n,t){t&16384&&z(e,n[14])},i:H,o:H,d(n){n&&$(e)}}}function rG(r){let e,n,t;const l=[r[13]];var s=r[0].contentComponent;function o(i){let a={};for(let u=0;u<l.length;u+=1)a=se(a,l[u]);return{props:a}}return s&&(e=new s(o())),{c(){e&&C(e.$$.fragment),n=ae()},m(i,a){e&&k(e,i,a),v(i,n,a),t=!0},p(i,a){const u=a&8192?de(l,[_e(i[13])]):{};if(s!==(s=i[0].contentComponent)){if(e){U();const f=e;p(f.$$.fragment,1,0,()=>{y(f,1)}),W()}s?(e=new s(o()),C(e.$$.fragment),_(e.$$.fragment,1),k(e,n.parentNode,n)):e=null}else s&&e.$set(u)},i(i){t||(e&&_(e.$$.fragment,i),t=!0)},o(i){e&&p(e.$$.fragment,i),t=!1},d(i){i&&$(n),e&&y(e,i)}}}function Ob(r){let e;return{c(){e=E("progress"),e.value=r[15]},m(n,t){v(n,e,t)},p(n,t){t&32768&&(e.value=n[15])},d(n){n&&$(e)}}}function lG(r){let e,n,t,l,s,o,i,a,u,f=r[3]&&Mb(r),c=r[0].title&&Rb(r),m=r[0].allowDismiss&&Db(r),d=(r[0].contentComponent||r[0].message)&&Ab(r),g=r[0].hasProgress&&Ob(r);return{c(){e=E("div"),n=E("div"),f&&f.c(),t=N(),c&&c.c(),l=N(),m&&m.c(),s=N(),d&&d.c(),o=N(),g&&g.c(),I(n,"class","header"),I(e,"class","toast-item"),I(e,"style",r[11])},m(h,b){v(h,e,b),R(e,n),f&&f.m(n,null),R(n,t),c&&c.m(n,null),R(n,l),m&&m.m(n,null),R(e,s),d&&d.m(e,null),R(e,o),g&&g.m(e,null),i=!0,a||(u=[He(e,"mouseenter",function(){St(r[9])&&r[9].apply(this,arguments)}),He(e,"mouseleave",function(){St(r[8])&&r[8].apply(this,arguments)})],a=!0)},p(h,[b]){r=h,r[3]?f?(f.p(r,b),b&8&&_(f,1)):(f=Mb(r),f.c(),_(f,1),f.m(n,t)):f&&(U(),p(f,1,1,()=>{f=null}),W()),r[0].title?c?c.p(r,b):(c=Rb(r),c.c(),c.m(n,l)):c&&(c.d(1),c=null),r[0].allowDismiss?m?(m.p(r,b),b&1&&_(m,1)):(m=Db(r),m.c(),_(m,1),m.m(n,null)):m&&(U(),p(m,1,1,()=>{m=null}),W()),r[0].contentComponent||r[0].message?d?(d.p(r,b),b&1&&_(d,1)):(d=Ab(r),d.c(),_(d,1),d.m(e,o)):d&&(U(),p(d,1,1,()=>{d=null}),W()),r[0].hasProgress?g?g.p(r,b):(g=Ob(r),g.c(),g.m(e,null)):g&&(g.d(1),g=null),(!i||b&2048)&&I(e,"style",r[11])},i(h){i||(_(f),_(m),_(d),i=!0)},o(h){p(f),p(m),p(d),i=!1},d(h){h&&$(e),f&&f.d(),c&&c.d(),m&&m.d(),d&&d.d(),g&&g.d(),a=!1,Ot(u)}}}function sG(r,e,n){let t,l,s,o,i,a,u,f,c,m,d,g,h,b=H,w=()=>(b(),b=le(m,x=>n(18,h=x)),m),S,T=H,M=()=>(T(),T=le(g,x=>n(11,S=x)),g),A,D=H,O=()=>(D(),D=le(u,x=>n(12,A=x)),u),F,P=H,B=()=>(P(),P=le(c,x=>n(13,F=x)),c),j,V=H,q=()=>(V(),V=le(f,x=>n(14,j=x)),f),G,Y=H,K=()=>(Y(),Y=le(s,x=>n(15,G=x)),s);r.$$.on_destroy.push(()=>b()),r.$$.on_destroy.push(()=>T()),r.$$.on_destroy.push(()=>D()),r.$$.on_destroy.push(()=>P()),r.$$.on_destroy.push(()=>V()),r.$$.on_destroy.push(()=>Y());let{entry:ee}=e;return r.$$set=x=>{"entry"in x&&n(16,ee=x.entry)},r.$$.update=()=>{r.$$.dirty&65536&&n(0,{props:t,controller:l}=ee,t,(n(17,l),n(16,ee))),r.$$.dirty&131072&&K(n(1,{progress:s,dismiss:o}=l,s,(n(10,o),n(17,l),n(16,ee)))),r.$$.dirty&2&&n(9,{pause:i,resume:a}=s,i,(n(8,a),n(1,s),n(17,l),n(16,ee))),r.$$.dirty&1&&O(n(7,u=Nn(t.title))),r.$$.dirty&1&&q(n(6,f=Nn(t.message))),r.$$.dirty&1&&B(n(5,c=Nn(t.contentComponentProps))),r.$$.dirty&1&&w(n(4,m=Nn(t.icon))),r.$$.dirty&262144&&n(3,d=h),r.$$.dirty&1&&M(n(2,g=et([Nn(t.backgroundColor),Nn(t.textColor),Nn(t.progressColor)],([x,X,fe])=>{const he=[];function me(ge,pe){!pe||he.push(`${ge}: ${pe};`)}return me("--ToastItem__background-color",x),me("--ToastItem__text-color",X),me("--ToastItem__progress-color",fe),he.join(" ")})))},[t,s,g,d,m,c,f,u,a,i,o,S,A,F,j,G,ee,l,h]}class oG extends Q{constructor(e){super(),Z(this,e,sG,lG,J,{entry:16})}}function Fb(r,e,n){const t=r.slice();return t[4]=e[n],t}function Nb(r,e){let n,t,l,s,o,i,a=H,u;const f=[e[3],{entry:e[4]}];var c=e[1];function m(d){let g={};for(let h=0;h<f.length;h+=1)g=se(g,f[h]);return{props:g}}return c&&(t=new c(m())),{key:r,first:null,c(){n=E("li"),t&&C(t.$$.fragment),l=N(),this.first=n},m(d,g){v(d,n,g),t&&k(t,n,null),R(n,l),u=!0},p(d,g){e=d;const h=g&12?de(f,[g&8&&_e(e[3]),g&4&&{entry:e[4]}]):{};if(c!==(c=e[1])){if(t){U();const b=t;p(b.$$.fragment,1,0,()=>{y(b,1)}),W()}c?(t=new c(m()),C(t.$$.fragment),_(t.$$.fragment,1),k(t,n,l)):t=null}else c&&t.$set(h)},r(){i=n.getBoundingClientRect()},f(){pD(n),a(),iS(n,i)},a(){a(),a=_D(n,i,tG,{duration:200})},i(d){u||(t&&_(t.$$.fragment,d),xn(()=>{o&&o.end(1),s=Zf(n,td,{x:256}),s.start()}),u=!0)},o(d){t&&p(t.$$.fragment,d),s&&s.invalidate(),o=Oa(n,jl,{}),u=!1},d(d){d&&$(n),t&&y(t),d&&o&&o.end()}}}function iG(r){let e,n=[],t=new Map,l,s=r[2];const o=i=>i[4].id;for(let i=0;i<s.length;i+=1){let a=Fb(r,s,i),u=o(a);t.set(u,n[i]=Nb(u,a))}return{c(){e=E("ul");for(let i=0;i<n.length;i+=1)n[i].c();I(e,"class","toast-presenter")},m(i,a){v(i,e,a);for(let u=0;u<n.length;u+=1)n[u].m(e,null);l=!0},p(i,[a]){if(a&14){s=i[2],U();for(let u=0;u<n.length;u+=1)n[u].r();n=ht(n,a,o,1,i,s,t,e,bD,Nb,null,Fb);for(let u=0;u<n.length;u+=1)n[u].a();W()}},i(i){if(!l){for(let a=0;a<s.length;a+=1)_(n[a]);l=!0}},o(i){for(let a=0;a<n.length;a+=1)p(n[a]);l=!1},d(i){i&&$(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function aG(r,e,n){const t=["entries","toastItemComponent"];let l=We(e,t),s,o=H,i=()=>(o(),o=le(a,f=>n(2,s=f)),a);r.$$.on_destroy.push(()=>o());let{entries:a}=e;i();let{toastItemComponent:u=oG}=e;return r.$$set=f=>{e=se(se({},e),pt(f)),n(3,l=We(e,t)),"entries"in f&&i(n(0,a=f.entries)),"toastItemComponent"in f&&n(1,u=f.toastItemComponent)},[a,u,s,l]}class uG extends Q{constructor(e){super(),Z(this,e,aG,iG,J,{entries:0,toastItemComponent:1})}}function fG(r,e,n){return e==="eq"?r===n:e==="neq"?r!==n:!1}function IT(r,e){var t,l;const{cases:n}=e;return(l=(t=n[String(r)])!=null?t:n.default)!=null?l:[]}function ET(r,e){var n;return fG(r,e.condition,e.value)?(n=e.elements)!=null?n:[]:[]}function rd(r,e){const n=new Set;let t=[];if(r.type==="input"||r.type==="static")n.add(r.variable);else if(r.type==="switch"){const l=e[r.variable];t=IT(l,r)}else if(r.type==="if"){const l=e[r.variable];t=ET(l,r)}else(r.type==="layout"||!r.type)&&(t=r.elements);return t.forEach(l=>{rd(l,e).forEach(s=>n.add(s))}),n}function MT(r){const e=new Set;let n=[];if(r.type==="switch"){e.add(r.variable);const t=[];Object.keys(r.cases).forEach(l=>{t.push(...r.cases[l])}),n=t}else r.type==="if"?(e.add(r.variable),n=r.elements):(r.type==="layout"||!r.type)&&(n=r.elements);return n.forEach(t=>{MT(t).forEach(l=>e.add(l))}),e}function RT(r,e,n){var f;const t=MT(r.layout),l=new Map;(f=Object.keys(r.variables))==null||f.forEach(c=>{const m=typeof(e==null?void 0:e[c])<"u"?e[c]:r.variables[c].default,d=Ue(m);l.set(c,d)});function s(){const c={};return l.forEach((m,d)=>{c[d]=ve(m)}),c}function o(){let c={},m=rd(r.layout,s());return ar(c,d=>{const g=[...l].map(([h,b])=>b.subscribe(()=>{const w=s();t.has(h)&&(m=rd(r.layout,w)),c={},m.forEach(S=>{c[S]=w[S]}),d(c)}));return()=>g.forEach(h=>h())})}const i=o(),a=et(i,c=>{const m={isValid:!0,failedChecks:{}};return Object.keys(c).forEach(d=>{const g=c[d],h=r.variables[d],b=h==null?void 0:h.validation;if(h&&b){const{checks:w}=b;if(w.includes("isEmpty")){let S=typeof g<"u"&&g!==null;h.type==="string"&&(S=S&&g!==""),S||(m.failedChecks[d]||(m.failedChecks[d]=[]),m.failedChecks[d].push("isEmpty")),m.isValid=m.isValid&&S}}}),m});function u(){return ve(a)}return{...r,stores:l,values:i,validationStore:a,getValidationResult:u,customComponents:n}}function Pb(r){var i;let e,n,t;const l=[(i=r[1])!=null?i:{},{store:r[3]},{stores:r[2]}];var s=r[4][r[0]];function o(a){let u={};for(let f=0;f<l.length;f+=1)u=se(u,l[f]);return{props:u}}return s&&(e=new s(o())),{c(){e&&C(e.$$.fragment),n=ae()},m(a,u){e&&k(e,a,u),v(a,n,u),t=!0},p(a,u){var c;const f=u&14?de(l,[u&2&&_e((c=a[1])!=null?c:{}),u&8&&{store:a[3]},u&4&&{stores:a[2]}]):{};if(s!==(s=a[4][a[0]])){if(e){U();const m=e;p(m.$$.fragment,1,0,()=>{y(m,1)}),W()}s?(e=new s(o()),C(e.$$.fragment),_(e.$$.fragment,1),k(e,n.parentNode,n)):e=null}else s&&e.$set(f)},i(a){t||(e&&_(e.$$.fragment,a),t=!0)},o(a){e&&p(e.$$.fragment,a),t=!1},d(a){a&&$(n),e&&y(e,a)}}}function cG(r){var l;let e,n,t=((l=r[4])==null?void 0:l[r[0]])&&Pb(r);return{c(){t&&t.c(),e=ae()},m(s,o){t&&t.m(s,o),v(s,e,o),n=!0},p(s,[o]){var i;(i=s[4])!=null&&i[s[0]]?t?(t.p(s,o),o&17&&_(t,1)):(t=Pb(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(s){n||(_(t),n=!0)},o(s){p(t),n=!1},d(s){t&&t.d(s),s&&$(e)}}}function mG(r,e,n){let{componentId:t}=e,{props:l=void 0}=e,{stores:s}=e,{store:o}=e,{customComponents:i}=e;return r.$$set=a=>{"componentId"in a&&n(0,t=a.componentId),"props"in a&&n(1,l=a.props),"stores"in a&&n(2,s=a.stores),"store"in a&&n(3,o=a.store),"customComponents"in a&&n(4,i=a.customComponents)},[t,l,s,o,i]}class dG extends Q{constructor(e){super(),Z(this,e,mG,cG,J,{componentId:0,props:1,stores:2,store:3,customComponents:4})}}function Lb(r,e,n){const t=r.slice();return t[8]=e[n],t}function _G(r){let e,n,t;const l=[r[6],{dataType:r[0]},{label:r[2]},{hasError:r[4].length>0}];function s(i){r[7](i)}let o={};for(let i=0;i<l.length;i+=1)o=se(o,l[i]);return r[5]!==void 0&&(o.value=r[5]),e=new BW({props:o}),we.push(()=>Me(e,"value",s)),{c(){C(e.$$.fragment)},m(i,a){k(e,i,a),t=!0},p(i,a){const u=a&85?de(l,[a&64&&_e(i[6]),a&1&&{dataType:i[0]},a&4&&{label:i[2]},a&16&&{hasError:i[4].length>0}]):{};!n&&a&32&&(n=!0,u.value=i[5],De(()=>n=!1)),e.$set(u)},i(i){t||(_(e.$$.fragment,i),t=!0)},o(i){p(e.$$.fragment,i),t=!1},d(i){y(e,i)}}}function pG(r){let e=r[8]+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&16&&e!==(e=t[8]+"")&&z(n,e)},d(t){t&&$(n)}}}function gG(r){let e;return{c(){e=L("* This is a required field")},m(n,t){v(n,e,t)},p:H,d(n){n&&$(e)}}}function Hb(r,e){let n,t;function l(i,a){return i[8]==="isEmpty"?gG:pG}let s=l(e),o=s(e);return{key:r,first:null,c(){n=E("div"),o.c(),t=N(),I(n,"class","validation-error"),this.first=n},m(i,a){v(i,n,a),o.m(n,null),R(n,t)},p(i,a){e=i,s===(s=l(e))&&o?o.p(e,a):(o.d(1),o=s(e),o&&(o.c(),o.m(n,t)))},d(i){i&&$(n),o.d()}}}function hG(r){var u;let e,n,t,l=[],s=new Map,o;n=new Nt({props:{label:r[2],layout:r[0]==="boolean"?"inline-input-first":"stacked",help:(u=r[1])==null?void 0:u.help,helpType:"tooltip",$$slots:{default:[_G]},$$scope:{ctx:r}}});let i=r[4];const a=f=>f[8];for(let f=0;f<i.length;f+=1){let c=Lb(r,i,f),m=a(c);s.set(m,l[f]=Hb(m,c))}return{c(){e=E("div"),C(n.$$.fragment),t=N();for(let f=0;f<l.length;f+=1)l[f].c();I(e,"class","form-element form-input")},m(f,c){v(f,e,c),k(n,e,null),R(e,t);for(let m=0;m<l.length;m+=1)l[m].m(e,null);o=!0},p(f,[c]){var d;const m={};c&4&&(m.label=f[2]),c&1&&(m.layout=f[0]==="boolean"?"inline-input-first":"stacked"),c&2&&(m.help=(d=f[1])==null?void 0:d.help),c&2165&&(m.$$scope={dirty:c,ctx:f}),n.$set(m),c&16&&(i=f[4],l=ht(l,c,a,1,f,i,s,e,Na,Hb,null,Lb))},i(f){o||(_(n.$$.fragment,f),o=!0)},o(f){p(n.$$.fragment,f),o=!1},d(f){f&&$(e),y(n);for(let c=0;c<l.length;c+=1)l[c].d()}}}function bG(r,e,n){const t=["type","text","label","store","validationErrors"];let l=We(e,t),s,o=H,i=()=>(o(),o=le(c,g=>n(5,s=g)),c);r.$$.on_destroy.push(()=>o());let{type:a}=e,{text:u=void 0}=e,{label:f=void 0}=e,{store:c}=e;i();let{validationErrors:m}=e;function d(g){s=g,c.set(s)}return r.$$set=g=>{e=se(se({},e),pt(g)),n(6,l=We(e,t)),"type"in g&&n(0,a=g.type),"text"in g&&n(1,u=g.text),"label"in g&&n(2,f=g.label),"store"in g&&i(n(3,c=g.store)),"validationErrors"in g&&n(4,m=g.validationErrors)},[a,u,f,c,m,s,l,d]}class $G extends Q{constructor(e){super(),Z(this,e,bG,hG,J,{type:0,text:1,label:2,store:3,validationErrors:4})}}function Vb(r,e,n){const t=r.slice();return t[4]=e[n],t}const vG=r=>({element:r&2}),zb=r=>({element:r[4]});function Bb(r,e){let n,t;const l=e[3].default,s=ke(l,e,e[2],zb);return{key:r,first:null,c(){n=ae(),s&&s.c(),this.first=n},m(o,i){v(o,n,i),s&&s.m(o,i),t=!0},p(o,i){e=o,s&&s.p&&(!t||i&6)&&Ce(s,l,e,e[2],t?ye(l,e[2],i,vG):Se(e[2]),zb)},i(o){t||(_(s,o),t=!0)},o(o){p(s,o),t=!1},d(o){o&&$(n),s&&s.d(o)}}}function wG(r){let e,n=[],t=new Map,l,s,o=r[1]||[];const i=a=>a[4];for(let a=0;a<o.length;a+=1){let u=Vb(r,o,a),f=i(u);t.set(f,n[a]=Bb(f,u))}return{c(){e=E("div");for(let a=0;a<n.length;a+=1)n[a].c();I(e,"class",l="form-element form-layout "+r[0])},m(a,u){v(a,e,u);for(let f=0;f<n.length;f+=1)n[f].m(e,null);s=!0},p(a,[u]){u&6&&(o=a[1]||[],U(),n=ht(n,u,i,1,a,o,t,e,kt,Bb,null,Vb),W()),(!s||u&1&&l!==(l="form-element form-layout "+a[0]))&&I(e,"class",l)},i(a){if(!s){for(let u=0;u<o.length;u+=1)_(n[u]);s=!0}},o(a){for(let u=0;u<n.length;u+=1)p(n[u]);s=!1},d(a){a&&$(e);for(let u=0;u<n.length;u+=1)n[u].d()}}}function kG(r,e,n){let{$$slots:t={},$$scope:l}=e,{orientation:s="vertical"}=e,{elements:o}=e;return r.$$set=i=>{"orientation"in i&&n(0,s=i.orientation),"elements"in i&&n(1,o=i.elements),"$$scope"in i&&n(2,l=i.$$scope)},[s,o,l,t]}class yG extends Q{constructor(e){super(),Z(this,e,kG,wG,J,{orientation:0,elements:1})}}function qb(r,e,n){const t=r.slice();return t[8]=e[n],t}const CG=r=>({element:r&2}),Ub=r=>({element:r[8]});function Wb(r,e){let n,t;const l=e[7].default,s=ke(l,e,e[6],Ub);return{key:r,first:null,c(){n=ae(),s&&s.c(),this.first=n},m(o,i){v(o,n,i),s&&s.m(o,i),t=!0},p(o,i){e=o,s&&s.p&&(!t||i&66)&&Ce(s,l,e,e[6],t?ye(l,e[6],i,CG):Se(e[6]),Ub)},i(o){t||(_(s,o),t=!0)},o(o){p(s,o),t=!1},d(o){o&&$(n),s&&s.d(o)}}}function SG(r){let e=[],n=new Map,t,l,s=r[1];const o=i=>i[8];for(let i=0;i<s.length;i+=1){let a=qb(r,s,i),u=o(a);n.set(u,e[i]=Wb(u,a))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=ae()},m(i,a){for(let u=0;u<e.length;u+=1)e[u].m(i,a);v(i,t,a),l=!0},p(i,[a]){a&66&&(s=i[1],U(),e=ht(e,a,o,1,i,s,n,t.parentNode,kt,Wb,t,qb),W())},i(i){if(!l){for(let a=0;a<s.length;a+=1)_(e[a]);l=!0}},o(i){for(let a=0;a<e.length;a+=1)p(e[a]);l=!1},d(i){for(let a=0;a<e.length;a+=1)e[a].d(i);i&&$(t)}}}function TG(r,e,n){let t,l,s=H,o=()=>(s(),s=le(u,d=>n(5,l=d)),u);r.$$.on_destroy.push(()=>s());let{$$slots:i={},$$scope:a}=e,{store:u}=e;o();let{condition:f="eq"}=e,{value:c}=e,{elements:m}=e;return r.$$set=d=>{"store"in d&&o(n(0,u=d.store)),"condition"in d&&n(2,f=d.condition),"value"in d&&n(3,c=d.value),"elements"in d&&n(4,m=d.elements),"$$scope"in d&&n(6,a=d.$$scope)},r.$$.update=()=>{r.$$.dirty&60&&n(1,t=ET(l,{condition:f,value:c,elements:m}))},[u,t,f,c,m,l,a,i]}class IG extends Q{constructor(e){super(),Z(this,e,TG,SG,J,{store:0,condition:2,value:3,elements:4})}}function jb(r,e,n){const t=r.slice();return t[6]=e[n],t}const EG=r=>({element:r&2}),Yb=r=>({element:r[6]});function Gb(r,e){let n,t;const l=e[5].default,s=ke(l,e,e[4],Yb);return{key:r,first:null,c(){n=ae(),s&&s.c(),this.first=n},m(o,i){v(o,n,i),s&&s.m(o,i),t=!0},p(o,i){e=o,s&&s.p&&(!t||i&18)&&Ce(s,l,e,e[4],t?ye(l,e[4],i,EG):Se(e[4]),Yb)},i(o){t||(_(s,o),t=!0)},o(o){p(s,o),t=!1},d(o){o&&$(n),s&&s.d(o)}}}function MG(r){let e=[],n=new Map,t,l,s=r[1];const o=i=>i[6];for(let i=0;i<s.length;i+=1){let a=jb(r,s,i),u=o(a);n.set(u,e[i]=Gb(u,a))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=ae()},m(i,a){for(let u=0;u<e.length;u+=1)e[u].m(i,a);v(i,t,a),l=!0},p(i,[a]){a&18&&(s=i[1],U(),e=ht(e,a,o,1,i,s,n,t.parentNode,kt,Gb,t,jb),W())},i(i){if(!l){for(let a=0;a<s.length;a+=1)_(e[a]);l=!0}},o(i){for(let a=0;a<e.length;a+=1)p(e[a]);l=!1},d(i){for(let a=0;a<e.length;a+=1)e[a].d(i);i&&$(t)}}}function RG(r,e,n){let t,l,s=H,o=()=>(s(),s=le(u,c=>n(3,l=c)),u);r.$$.on_destroy.push(()=>s());let{$$slots:i={},$$scope:a}=e,{store:u}=e;o();let{cases:f}=e;return r.$$set=c=>{"store"in c&&o(n(0,u=c.store)),"cases"in c&&n(2,f=c.cases),"$$scope"in c&&n(4,a=c.$$scope)},r.$$.update=()=>{r.$$.dirty&12&&n(1,t=IT(l,{cases:f}))},[u,t,f,l,a,i]}class DG extends Q{constructor(e){super(),Z(this,e,RG,MG,J,{store:0,cases:2})}}function AG(r){let e,n;return e=new yG({props:{orientation:r[0].orientation,elements:r[0].elements,$$slots:{default:[LG,({element:t})=>({9:t}),({element:t})=>t?512:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.orientation=t[0].orientation),l&1&&(s.elements=t[0].elements),l&1792&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function OG(r){let e,n;const t=[{store:r[7]},r[0]];let l={$$slots:{default:[HG,({element:s})=>({9:s}),({element:s})=>s?512:0]},$$scope:{ctx:r}};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new IG({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&129?de(t,[o&128&&{store:s[7]},o&1&&_e(s[0])]):{};o&1792&&(i.$$scope={dirty:o,ctx:s}),e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function FG(r){let e,n;return e=new DG({props:{store:r[7],cases:r[0].cases,$$slots:{default:[VG,({element:t})=>({9:t}),({element:t})=>t?512:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&128&&(s.store=t[7]),l&1&&(s.cases=t[0].cases),l&1792&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function NG(r){let e,n;const t=[r[0],{customComponents:r[3]},{store:r[7]},{stores:r[1]}];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new dG({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&139?de(t,[o&1&&_e(s[0]),o&8&&{customComponents:s[3]},o&128&&{store:s[7]},o&2&&{stores:s[1]}]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function PG(r){let e,n,t=r[6]&&r[6]!=="custom"&&Kb(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[6]&&l[6]!=="custom"?t?(t.p(l,s),s&64&&_(t,1)):(t=Kb(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function LG(r){let e,n;const t=[r[8],{element:r[9]}];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new bc({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&768?de(t,[o&256&&_e(s[8]),o&512&&{element:s[9]}]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function HG(r){let e,n;const t=[r[8],{element:r[9]}];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new bc({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&768?de(t,[o&256&&_e(s[8]),o&512&&{element:s[9]}]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function VG(r){let e,n;const t=[r[8],{element:r[9]}];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new bc({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&768?de(t,[o&256&&_e(s[8]),o&512&&{element:s[9]}]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function Kb(r){let e,n;const t=[r[0],r[2][r[0].variable],{type:r[6]},{store:r[7]},{validationErrors:r[4].failedChecks[r[0].variable]||[]},{disabled:r[5]}];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new $G({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&245?de(t,[o&1&&_e(s[0]),o&5&&_e(s[2][s[0].variable]),o&64&&{type:s[6]},o&128&&{store:s[7]},o&17&&{validationErrors:s[4].failedChecks[s[0].variable]||[]},o&32&&{disabled:s[5]}]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function zG(r){let e,n,t,l;const s=[PG,NG,FG,OG,AG],o=[];function i(a,u){return a[0].type==="input"&&a[7]?0:a[0].type==="static"&&a[7]?1:a[0].type==="switch"&&a[7]?2:a[0].type==="if"&&a[7]?3:a[0].type==="layout"||!a[0].type?4:-1}return~(e=i(r))&&(n=o[e]=s[e](r)),{c(){n&&n.c(),t=ae()},m(a,u){~e&&o[e].m(a,u),v(a,t,u),l=!0},p(a,[u]){let f=e;e=i(a),e===f?~e&&o[e].p(a,u):(n&&(U(),p(o[f],1,1,()=>{o[f]=null}),W()),~e?(n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t)):n=null)},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){~e&&o[e].d(a),a&&$(t)}}}function BG(r,e,n){let t,l,{element:s}=e,{stores:o}=e,{variables:i}=e,{customComponents:a}=e,{validationResult:u}=e,{disabled:f=!1}=e;return r.$$set=c=>{n(8,e=se(se({},e),pt(c))),"element"in c&&n(0,s=c.element),"stores"in c&&n(1,o=c.stores),"variables"in c&&n(2,i=c.variables),"customComponents"in c&&n(3,a=c.customComponents),"validationResult"in c&&n(4,u=c.validationResult),"disabled"in c&&n(5,f=c.disabled)},r.$$.update=()=>{r.$$.dirty&3&&n(7,t="variable"in s?o.get(s.variable):void 0),r.$$.dirty&5&&n(6,l="variable"in s?i[s.variable].type:void 0)},e=pt(e),[s,o,i,a,u,f,l,t,e]}class bc extends Q{constructor(e){super(),Z(this,e,BG,zG,J,{element:0,stores:1,variables:2,customComponents:3,validationResult:4,disabled:5})}}function qG(r){let e,n,t,l,s,o;return t=new bc({props:{stores:r[1].stores,variables:r[1].variables,element:r[1].layout,customComponents:r[1].customComponents,validationResult:r[3],disabled:r[0]}}),{c(){e=E("div"),n=E("form"),C(t.$$.fragment),I(e,"class","form-builder")},m(i,a){v(i,e,a),R(e,n),k(t,n,null),l=!0,s||(o=He(n,"submit",Bs(r[4])),s=!0)},p(i,[a]){const u={};a&2&&(u.stores=i[1].stores),a&2&&(u.variables=i[1].variables),a&2&&(u.element=i[1].layout),a&2&&(u.customComponents=i[1].customComponents),a&8&&(u.validationResult=i[3]),a&1&&(u.disabled=i[0]),t.$set(u)},i(i){l||(_(t.$$.fragment,i),l=!0)},o(i){p(t.$$.fragment,i),l=!1},d(i){i&&$(e),y(t),s=!1,o()}}}function UG(r,e,n){let t,l,s=H,o=()=>(s(),s=le(t,c=>n(3,l=c)),t);r.$$.on_destroy.push(()=>s());const i=Et();let{disabled:a=!1}=e,{form:u}=e;function f(){return i("submit"),!1}return r.$$set=c=>{"disabled"in c&&n(0,a=c.disabled),"form"in c&&n(1,u=c.form)},r.$$.update=()=>{r.$$.dirty&2&&o(n(2,t=u.validationStore))},[a,u,t,l,f]}class DT extends Q{constructor(e){super(),Z(this,e,UG,qG,J,{disabled:0,form:1})}}async function WG(r,e){var n,t;await sn(),(t=(n=r.closest('[data-window-area="window"]'))==null?void 0:n.querySelector(e))==null||t.appendChild(r)}function AT(r){return e=>(WG(e,r),{destroy:()=>{var n;return(n=e.parentElement)==null?void 0:n.removeChild(e)}})}const jG=AT(':scope > [data-window-area="title-bar"] > [data-window-area="title"]'),dr=AT(':scope > [data-window-area="footer"]');function YG(r){const e=document.querySelector(r);if(!!(e!=null&&e.textContent))try{return JSON.parse(e.textContent)}catch(n){console.error(n)}}function Pl(){const r=YG("#common-data");if(!r)throw new Error("commonData is undefined. This state should never occur");return r}function OT(r){var n,t;return(t=(n=Pl().file_backends)==null?void 0:n.find(l=>l.backend===r))!=null?t:null}function q_(){var e;const r=Pl();return At(r.file_backends)&&(e=r.file_backends[0])!=null?e:null}Array.prototype.at||(Array.prototype.at=function(r){let e=Math.trunc(r)||0;if(e<0&&(e+=this.length),!(e<0||e>=this.length))return this[e]});const FT=Symbol("breadcrumb items store");function GG(r){Fr(FT,Ue(r))}function NT(){return Wn(FT)}const PT=Symbol("ClipboardHandlerStore");function KG(){const r=Ue(void 0);return Fr(PT,r),r}function XG(){return Wn(PT)}function JG(r){let e,n;const t=r[1].default,l=ke(t,r,r[0],null);return{c(){e=E("span"),l&&l.c(),I(e,"class","identifier svelte-xmbz32")},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,[o]){l&&l.p&&(!n||o&1)&&Ce(l,t,s,s[0],n?ye(t,s[0],o,null):Se(s[0]),null)},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function ZG(r,e,n){let{$$slots:t={},$$scope:l}=e;return r.$$set=s=>{"$$scope"in s&&n(0,l=s.$$scope)},[l,t]}class kn extends Q{constructor(e){super(),Z(this,e,ZG,JG,J,{})}}function Xb(r){return{type:"text",content:r}}function Jb(r,e){return{type:"slot",name:r,arg:e}}function QG(r){let e;const n=r.replace(/^\[(\w+)\]\(([^)]+)\)|^\[(\w+)\]/,(t,l,s,o)=>(l?e=Jb(l,s):o&&(e=Jb(o)),""));return e?{tokens:[e],remainder:n}:void 0}function xG({tokens:r,remainder:e}){const n=e[0],t=r[r.length-1];return{tokens:t&&t.type==="text"?[...r.slice(0,-1),Xb(t.content+n)]:[...r,Xb(n)],remainder:e.slice(1)}}function LT(r){if(r.remainder==="")return r;const e=QG(r.remainder),n=e?{tokens:[...r.tokens,...e.tokens],remainder:e.remainder}:xG(r);return LT(n)}function Zb(r){return LT({tokens:[],remainder:r}).tokens}function Qb(r,e,n){const t=r.slice();return t[4]=e[n],t}const eK=r=>({slotName:r&1,translatedArg:r&1}),xb=r=>({slotName:r[4].name,translatedArg:r[4].arg});function tK(r){let e=Rt(r[4])+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1&&e!==(e=Rt(t[4])+"")&&z(n,e)},i:H,o:H,d(t){t&&$(n)}}}function nK(r){let e;const n=r[3].default,t=ke(n,r,r[2],xb);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&5)&&Ce(t,n,l,l[2],e?ye(n,l[2],s,eK):Se(l[2]),xb)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function rK(r){let e;function n(s,o){return s[1]?sK:lK}let t=n(r),l=t(r);return{c(){l.c(),e=ae()},m(s,o){l.m(s,o),v(s,e,o)},p(s,o){t===(t=n(s))&&l?l.p(s,o):(l.d(1),l=t(s),l&&(l.c(),l.m(e.parentNode,e)))},i:H,o:H,d(s){l.d(s),s&&$(e)}}}function lK(r){let e=r[4].content+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1&&e!==(e=t[4].content+"")&&z(n,e)},d(t){t&&$(n)}}}function sK(r){let e,n=r[4].content+"",t;return{c(){e=E("span"),t=L(n),I(e,"class","static")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&1&&n!==(n=l[4].content+"")&&z(t,n)},d(l){l&&$(e)}}}function e0(r){let e,n,t,l;const s=[rK,nK,tK],o=[];function i(a,u){return a[4].type==="text"?0:a[4].type==="slot"?1:2}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function oK(r){let e,n,t=Zb(r[0]),l=[];for(let o=0;o<t.length;o+=1)l[o]=e0(Qb(r,t,o));const s=o=>p(l[o],1,1,()=>{l[o]=null});return{c(){for(let o=0;o<l.length;o+=1)l[o].c();e=ae()},m(o,i){for(let a=0;a<l.length;a+=1)l[a].m(o,i);v(o,e,i),n=!0},p(o,[i]){if(i&7){t=Zb(o[0]);let a;for(a=0;a<t.length;a+=1){const u=Qb(o,t,a);l[a]?(l[a].p(u,i),_(l[a],1)):(l[a]=e0(u),l[a].c(),_(l[a],1),l[a].m(e.parentNode,e))}for(U(),a=t.length;a<l.length;a+=1)s(a);W()}},i(o){if(!n){for(let i=0;i<t.length;i+=1)_(l[i]);n=!0}},o(o){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)p(l[i]);n=!1},d(o){Hn(l,o),o&&$(e)}}}function iK(r,e,n){let{$$slots:t={},$$scope:l}=e,{text:s}=e,{wrapStaticText:o=!1}=e;return r.$$set=i=>{"text"in i&&n(0,s=i.text),"wrapStaticText"in i&&n(1,o=i.wrapStaticText),"$$scope"in i&&n(2,l=i.$$scope)},[s,o,l,t]}class ot extends Q{constructor(e){super(),Z(this,e,iK,oK,J,{text:0,wrapStaticText:1})}}function t0(r){let e,n;return e=new kn({props:{$$slots:{default:[aK]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&17&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function aK(r){let e;return{c(){e=L(r[0])},m(n,t){v(n,e,t)},p(n,t){t&1&&z(e,n[0])},d(n){n&&$(e)}}}function uK(r){let e,n,t=r[3]===r[2]&&t0(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[3]===l[2]?t?(t.p(l,s),s&12&&_(t,1)):(t=t0(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function fK(r){let e,n;return e=new ot({props:{text:r[1],$$slots:{default:[uK,({slotName:t})=>({3:t}),({slotName:t})=>t?8:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&2&&(s.text=t[1]),l&29&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function cK(r,e,n){let{identifier:t}=e,{wrappingString:l=""}=e,{identifierKey:s="identifier"}=e;return r.$$set=o=>{"identifier"in o&&n(0,t=o.identifier),"wrappingString"in o&&n(1,l=o.wrappingString),"identifierKey"in o&&n(2,s=o.identifierKey)},[t,l,s]}class $c extends Q{constructor(e){super(),Z(this,e,cK,fK,J,{identifier:0,wrappingString:1,identifierKey:2})}}const mK={icon:[12,12,[],"","M4 0V1.33333H2V10.6667H4V12H0.666664V0H4ZM8 0H11.3333V12H8V10.6667H10V1.33333H8V0Z"]},HT={icon:[18,18,[],"","m7.387 0.4182c-0.141 0.3522-0.3215 0.7703-0.5131 1.13-0.2127 0.3993-0.738 0.9245-1.138 1.137-0.3605 0.1918-0.7797 0.3725-1.133 0.5136-0.4214 0.1684-0.4214 0.4069 1.816e-4 0.5754 0.353 0.1412 0.7722 0.322 1.133 0.514 0.3993 0.2126 0.9246 0.7379 1.137 1.137 0.1918 0.3602 0.3724 0.779 0.5134 1.132 0.1685 0.4214 0.4071 0.4214 0.5757-1.3e-4 0.1412-0.3528 0.3219-0.7716 0.5138-1.132 0.2127-0.3993 0.7379-0.9246 1.137-1.137 0.3597-0.1917 0.7778-0.3723 1.13-0.5133 0.4213-0.1688 0.4212-0.4076-2.47e-4 -0.5764-0.3522-0.1411-0.7703-0.3217-1.13-0.5134-0.3993-0.2128-0.9245-0.738-1.137-1.137-0.1916-0.3596-0.3722-0.7774-0.5133-1.129-0.1688-0.4213-0.4076-0.4211-0.5763 3.506e-4zm-4.805 6.427c-0.1056 0.2639-0.2409 0.5772-0.3845 0.8467-0.1594 0.2992-0.553 0.6928-0.8524 0.8521-0.2701 0.1438-0.5842 0.2792-0.8487 0.3849-0.3158 0.1262-0.3157 0.3049 1.36e-4 0.4312 0.2645 0.1058 0.5787 0.2413 0.8488 0.3851 0.2992 0.1593 0.6928 0.553 0.8521 0.8523 0.1437 0.2699 0.279 0.5837 0.3847 0.848 0.1263 0.3158 0.305 0.3157 0.4314-9.7e-5 0.1058-0.2643 0.2412-0.5782 0.385-0.8482 0.1594-0.2992 0.553-0.6929 0.8522-0.8523 0.2695-0.1436 0.5828-0.279 0.8467-0.3847 0.3157-0.1265 0.3156-0.3055-1.838e-4 -0.432-0.2639-0.1057-0.5772-0.241-0.8467-0.3847-0.2992-0.1594-0.6928-0.553-0.8523-0.8523-0.1436-0.2694-0.2789-0.5826-0.3846-0.8464-0.1265-0.3157-0.3054-0.3156-0.4318 2.627e-4zm9.262 0.691c-0.2263 0.5653-0.516 1.236-0.8235 1.814-0.3414 0.6409-1.185 1.484-1.826 1.825-0.5786 0.3079-1.251 0.598-1.818 0.8244-0.6765 0.2703-0.6763 0.6531 2.913e-4 0.9236 0.5667 0.2266 1.24 0.5169 1.818 0.825 0.641 0.3413 1.484 1.184 1.825 1.826 0.3078 0.5782 0.5977 1.25 0.8241 1.817 0.2705 0.6764 0.6534 0.6763 0.9241-2.09e-4 0.2266-0.5662 0.5167-1.239 0.8247-1.817 0.3414-0.641 1.184-1.484 1.826-1.826 0.5774-0.3077 1.248-0.5976 1.814-0.824 0.6763-0.2709 0.6761-0.6543-3.95e-4 -0.9253-0.5653-0.2264-1.236-0.5163-1.814-0.824-0.6408-0.3415-1.484-1.185-1.826-1.826-0.3076-0.5772-0.5974-1.248-0.8238-1.813-0.2709-0.6762-0.6542-0.676-0.925 5.627e-4z"]},dK={icon:[16,16,[],"",{fillRule:"evenodd",clipRule:"evenodd",path:"M15 1C15.5523 1 16 1.44771 16 2V13.5644C16 14.1166 15.5523 14.5644 15 14.5644H1C0.447715 14.5644 0 14.1166 0 13.5644V2C0 1.44772 0.447715 1 1 1H15ZM14.6 6.76282V9.3349C14.5517 9.32236 14.501 9.31568 14.4488 9.31568L11.4861 9.31568V6.78197L14.449 6.78197C14.5012 6.78197 14.5518 6.77532 14.6 6.76282ZM5.83926 9.31569L10.2861 9.31569V6.78197L5.83926 6.78196V9.31569ZM4.63926 9.31569L1.4 9.31569V6.78196L4.63926 6.78196V9.31569ZM4.63926 10.5157V13.1644H1.4V10.5157L4.63926 10.5157ZM5.83926 13.1644V10.5157L10.2861 10.5157V13.1644H5.83926ZM11.4861 10.5157V13.1644H14.6V10.4965C14.5517 10.509 14.501 10.5157 14.4488 10.5157L11.4861 10.5157ZM14.6 5.60112V2.4H1.4V5.58196L14.449 5.58197C14.5012 5.58197 14.5518 5.58862 14.6 5.60112Z"}]},_K={icon:[24,24,[],"",["M16.3776 8.27091C16.538 7.86412 16.1358 7.46189 15.729 7.62233L10.1173 9.83557C9.98843 9.88639 9.88643 9.98839 9.8356 10.1173L7.62237 15.729C7.46193 16.1358 7.86415 16.538 8.27094 16.3776L13.8827 14.1643C14.0115 14.1135 14.1135 14.0115 14.1644 13.8826L16.3776 8.27091Z",{fillRule:"evenodd",clipRule:"evenodd",path:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12ZM22.5 12C22.5 17.799 17.799 22.5 12 22.5C6.20101 22.5 1.5 17.799 1.5 12C1.5 6.20101 6.20101 1.5 12 1.5C17.799 1.5 22.5 6.20101 22.5 12Z"}]]},pK={icon:[9,10,[],"",["M0.5 5V0H1.5V5C1.5 6.933 3.067 8.5 5 8.5H9V9.5H5C2.51472 9.5 0.5 7.48528 0.5 5Z"]]},gK={icon:[100,100,[],"",["M 50 1.14 C 49.12 1.14 48.23 1.33 47.45 1.7 L 11.29 17.03 C 7.07 18.82 3.92 22.98 3.94 28.01 C 4.04 47.04 11.87 81.87 44.93 97.71 C 48.14 99.24 51.86 99.24 55.07 97.71 C 88.13 81.87 95.96 47.04 96.06 28.01 C 96.08 22.98 92.93 18.82 88.71 17.03 L 52.57 1.7 C 51.77 1.33 50.88 1.14 50 1.14 z M 50 28.19 A 15.36 15.36 0 0 1 65.36 43.55 A 15.36 15.36 0 0 1 56.37 57.53 L 56.37 74.35 A 6.36 6.36 0 0 1 50 80.72 A 6.36 6.36 0 0 1 43.63 74.35 L 43.63 57.53 A 15.36 15.36 0 0 1 34.64 43.55 A 15.36 15.36 0 0 1 50 28.19 z"]]},hK={icon:[24,24,[],"","M5 12.5C5 12.8134 5.46101 13.3584 6.53047 13.8931C7.91405 14.5849 9.87677 15 12 15C14.1232 15 16.0859 14.5849 17.4695 13.8931C18.539 13.3584 19 12.8134 19 12.5V10.3287C17.35 11.3482 14.8273 12 12 12C9.17273 12 6.64996 11.3482 5 10.3287V12.5ZM19 15.3287C17.35 16.3482 14.8273 17 12 17C9.17273 17 6.64996 16.3482 5 15.3287V17.5C5 17.8134 5.46101 18.3584 6.53047 18.8931C7.91405 19.5849 9.87677 20 12 20C14.1232 20 16.0859 19.5849 17.4695 18.8931C18.539 18.3584 19 17.8134 19 17.5V15.3287ZM3 17.5V7.5C3 5.01472 7.02944 3 12 3C16.9706 3 21 5.01472 21 7.5V17.5C21 19.9853 16.9706 22 12 22C7.02944 22 3 19.9853 3 17.5ZM12 10C14.1232 10 16.0859 9.58492 17.4695 8.89313C18.539 8.3584 19 7.81342 19 7.5C19 7.18658 18.539 6.6416 17.4695 6.10687C16.0859 5.41508 14.1232 5 12 5C9.87677 5 7.91405 5.41508 6.53047 6.10687C5.46101 6.6416 5 7.18658 5 7.5C5 7.81342 5.46101 8.3584 6.53047 8.89313C7.91405 9.58492 9.87677 10 12 10Z"]},bK={icon:[100,100,[],"","m38.8 0c-8.2 0-15 6.8-15 15v46.2c0 8.2 6.8 15 15 15h46.2c8.2 0 15-6.8 15-15v-46.2c0-8.2-6.8-15-15-15zm43.6 6.7c3.402 0.05358 6.146 2.798 6.2 6.2 4.33e-4 3.441-2.76 6.245-6.2 6.3-3.479 0-6.3-2.821-6.3-6.3 0.05461-3.44 2.859-6.2 6.3-6.2zm-68.4 17.2c-7.7 0.5-14 7-14 14.9v46.2c0 8.2 6.8 15 15 15h46.2c7.9 0 14.4-6.3 14.9-14h-47.1c-8.2 0-15-6.8-15-15zm19.8 0.5h56.2v36.8c0 2.8-2.1 5-5 5h-46.2c-2.8 0-5-2.2-5-5z"]},$K={icon:[1e3,1e3,[],"","m565 298c0 40-32 72-72 72s-72-32-72-72 32-72 72-72 72 32 72 72zm-131 119c-30 0-55 25-55 55s25 55 55 55h11v120h-29c-30 0-55 25-55 55s25 55 55 55h168c30 0 55-25 55-55s-25-55-55-55h-29v-175c0-30-25-55-55-55zm66-411c-131 0-257 52-349 145-93 92-145 218-145 349s52 257 145 349c92 93 218 145 349 145s257-52 349-145c93-92 145-218 145-349s-52-257-145-349c-92-93-218-145-349-145zm0 110c102 0 200 40 272 112s112 170 112 272-40 200-112 272-170 112-272 112-200-40-272-112-112-170-112-272c0-212 172-384 384-384z"]},vK={icon:[1e3,1e3,[],"","m364 5c-115 0-210 95-210 210v136c0 50-39 89-89 89-33 0-61 27-61 61 0 33 27 61 61 61 50 0 89 39 89 89v136c0 115 95 210 210 210 33 0 61-27 61-61 0-33-27-61-61-61-50 0-89-39-89-89v-137c0-58-24-111-63-149 39-38 63-91 63-149v-136c0-50 39-89 89-89 33 0 61-27 61-61 0-33-27-61-61-61zm273 0c-33 0-61 27-61 61 0 33 27 61 61 61 50 0 89 39 89 89v136c0 58 24 111 63 149-39 38-63 91-63 149v136c0 50-39 89-89 89-33 0-61 27-61 61 0 33 27 61 61 61 115 0 210-95 210-210v-138c0-50 39-89 89-89 33 0 61-27 61-61 0-33-27-61-61-61-50 0-89-39-89-89v-134c-1-116-95-210-211-210z"]},wK={icon:[2e3,345,[],"","m824 0v339h69v-123c0-48 18-81 57-81 34 0 45 27 45 64v140h68v-160c0-57-32-97-90-97-36 0-66 16-82 47h-2c3-10 4-23 4-38v-91zm-824 10v329h66v-222c0-15-1-31-1-46h3c2 12 7 33 11 50l62 218h64l63-214c4-15 9-39 11-54h3c-1 19-1 33-1 50v218h66v-329h-105l-56 202c-5 15-9 39-11 52h-2c-1-13-6-38-10-53l-56-201zm730 8-68 11v58h-40v51h40v125c0 62 35 79 76 79 24 0 45-6 61-15v-44c-14 5-25 7-34 7-23 0-34-11-34-44v-108h70v-51h-71zm-228 64c-40 0-77 16-97 30v53c24-16 58-31 87-31 28 0 50 14 50 41-31 0-79 4-115 24-25 14-45 35-45 70 0 47 36 73 79 73 37 0 70-20 80-49h2l3 46h65l-4-77v-79c0-62-39-100-105-100zm719 0c-79 0-128 54-128 132s56 130 137 130c41 0 78-15 95-27v-53c-20 15-57 27-88 27-39 0-73-19-75-60h175v-26c0-71-41-123-117-123zm234 0c-58 0-98 30-98 75 0 42 31 62 86 78 19 6 48 15 48 32 0 14-16 23-43 23-31 0-69-13-92-28v52c20 17 60 29 96 29 64 0 109-32 109-80 0-49-51-67-91-78-23-7-44-13-44-29 0-13 14-22 38-22s55 8 75 22v-53c-22-13-55-22-84-22zm242 0c-40 0-77 16-97 30v53c24-16 58-31 87-31 28 0 50 14 50 41-31 0-79 4-115 24-25 14-45 35-45 70 0 47 36 73 79 73 37 0 70-20 80-49h2l3 46h65l-4-77v-79c0-62-39-100-105-100zm273 2c-30 0-56 24-64 61h-2v-58h-57v252h69v-106c0-55 21-86 59-86 8 0 17 2 26 5v-60c-8-5-20-8-30-8zm-748 47c28 0 51 17 55 52h-114c4-34 30-52 59-52zm-680 83v13c0 47-33 67-58 67-18 0-32-10-32-30 0-16 10-29 27-37 18-9 47-12 62-13zm1196 0v13c0 47-33 67-58 67-18 0-32-10-32-30 0-16 10-29 27-37 18-9 47-12 62-13zz"]},kK={data:U9},jt={data:jV},Mu={data:tz},af={data:j9},n0={data:qV},Mt={data:aH},uf={data:R_},Kr={data:gH},Ru={data:PH},fl={data:GV},ri={data:EV},ff={data:DV},yK={data:SH},U_={data:TV},r0={data:cc},l0={data:cc},CK={data:Ha},li={data:KH},SK={data:QH},ls={data:fV},cf={data:az},ld={data:G9},s0={data:sz},mf={data:OV},df={data:qH},cl={data:vV},VT={data:$H},TK={data:kH},IK={data:IV},EK={data:CV},o0={data:WV},i0={data:tV},si={data:UV},MK={data:HH},RK={data:X9,flip:"vertical"},_f={data:YH},zT={data:bH},ha={data:IH},ba={data:B9},Js={data:hK},BT={data:ez},qT={data:rV},Xr={data:_K},Yl={data:Y9},a0={data:fH},pf={data:U9},oi={data:vH},ii={data:VV},Es={data:pV},DK={data:ZH},AK={data:HT},vc={data:V9},gf={data:BV},Zs={data:wV},sd={data:yV},u0={data:xH},ss={data:dK},f0={data:cH},hf={data:cc},c0={data:pK},m0={data:bV},bf={data:Ha},$f={data:RH},od={data:TH},OK={data:cV},d0={data:j9},_0={data:mV},p0={data:AH},FK={data:cc},NK={data:xV},PK={data:lz},g0={data:hH},Qs={data:gK},h0={data:B9},b0={data:HT},vf={data:$K},LK={data:wK},xs={data:bK},HK={data:K9},dm={data:V9},Du={data:JH},VK={data:lV},$0={data:aV},v0={data:_H},w0={data:nV},zK={data:sV},BK={data:gV},k0={data:WH},qK={data:_V},y0={data:UH},C0={data:Ha},S0={data:J9},T0={data:z9},wf={data:q9},UK={data:CH},WK={data:oz},jK={data:RV},YK={data:EH},GK={data:hV},KK={data:vK},XK={data:X9},JK={data:DH},ZK={data:uz},QK={data:QV},UT={data:dV},xK={data:kV},eX={data:eV},tX={data:q9},nX={data:mK},rX={data:dH},un=new Cj,$t=eG(),lX=un.spawnModalController(),{confirm:ml,confirmationController:W_}=kj({confirmationModal:lX});function Ll(r){const e=r.identifierType;function n(){return r.identifierName?{component:$c,props:{identifier:r.identifierName,wrappingString:ve(ce)("delete_item_question_with_identifier",{values:{item:e}})}}:ve(ce)("delete_item_question",{values:{item:e}})}return ml({title:n(),body:ve(ce)("are_you_sure_to_proceed"),proceedButton:{label:ve(ce)("delete_item",{values:{item:e}}),icon:Mt},onError:t=>$t.error(`${ve(ce)("unable_to_delete_item",{values:{item:e}})} ${t.message}`),...r})}const sX=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,I0=r=>{if(typeof r!="string")throw new TypeError("Invalid argument expected string");const e=r.match(sX);if(!e)throw new Error(`Invalid argument not valid semver ('${r}' received)`);return e.shift(),e},E0=r=>r==="*"||r==="x"||r==="X",M0=r=>{const e=parseInt(r,10);return isNaN(e)?r:e},oX=(r,e)=>typeof r!=typeof e?[String(r),String(e)]:[r,e],iX=(r,e)=>{if(E0(r)||E0(e))return 0;const[n,t]=oX(M0(r),M0(e));return n>t?1:n<t?-1:0},R0=(r,e)=>{for(let n=0;n<Math.max(r.length,e.length);n++){const t=iX(r[n]||"0",e[n]||"0");if(t!==0)return t}return 0},aX=(r,e)=>{const n=I0(r),t=I0(e),l=n.pop(),s=t.pop(),o=R0(n,t);return o!==0?o:l&&s?R0(l.split("."),s.split(".")):l||s?l?-1:1:0},uX=(r,e,n)=>{fX(n);const t=aX(r,e);return WT[n].includes(t)},WT={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},D0=Object.keys(WT),fX=r=>{if(typeof r!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof r}`);if(D0.indexOf(r)===-1)throw new Error(`Invalid operator, expected one of ${D0.join("|")}`)};/*! js-cookie v3.0.1 | MIT */function Au(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)r[t]=n[t]}return r}var cX={read:function(r){return r[0]==='"'&&(r=r.slice(1,-1)),r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(r){return encodeURIComponent(r).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function id(r,e){function n(l,s,o){if(!(typeof document>"u")){o=Au({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),l=encodeURIComponent(l).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var a in o)!o[a]||(i+="; "+a,o[a]!==!0&&(i+="="+o[a].split(";")[0]));return document.cookie=l+"="+r.write(s,l)+i}}function t(l){if(!(typeof document>"u"||arguments.length&&!l)){for(var s=document.cookie?document.cookie.split("; "):[],o={},i=0;i<s.length;i++){var a=s[i].split("="),u=a.slice(1).join("=");try{var f=decodeURIComponent(a[0]);if(o[f]=r.read(u,f),l===f)break}catch(c){}}return l?o[l]:o}}return Object.create({set:n,get:t,remove:function(l,s){n(l,"",Au({},s,{expires:-1}))},withAttributes:function(l){return id(this.converter,Au({},this.attributes,l))},withConverter:function(l){return id(Au({},this.converter,l),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(r)}})}var wc=id(cX,{path:"/"});function Yt(r){return typeof r=="string"?r:Ss(r,"message")?r.message:typeof r=="object"?JSON.stringify(r):String(r)}function mX(r){if(Jn(r,"code")){const{code:e}=r;if(typeof e=="string"||typeof e=="number")return e}}function dX(r){return{message:Yt(r),code:mX(r),field:Ss(r,"field")?r.field:void 0,detail:Jn(r,"detail")?r.detail:void 0}}class j_ extends Error{constructor(n){const t=dX(n);super(t.message);te(this,"code");te(this,"field");te(this,"detail");this.name="ApiError",this.code=t.code,this.field=t.field,this.detail=t.detail}getSegregatedErrors(){return this.field?{commonErrors:[],fieldSpecificErrors:new Ct([[this.field,[Yt(this)]]])}:{commonErrors:[Yt(this)],fieldSpecificErrors:new Ct}}}class Wa extends Error{constructor(n){const l=(Array.isArray(n)?n:[n]).map(s=>new j_(s));super(l.map(s=>s.message).join(" "));te(this,"errors");this.name="ApiMultiError",this.errors=l}getSegregatedErrors(){return this.errors.reduce((n,t)=>{const l=t.getSegregatedErrors();return{commonErrors:[...n.commonErrors,...l.commonErrors],fieldSpecificErrors:n.fieldSpecificErrors.withEntries(l.fieldSpecificErrors,(s,o)=>[...s,...o])}},{commonErrors:[],fieldSpecificErrors:new Ct})}}function _X(r,e){if(r instanceof Wa||r instanceof j_){const{commonErrors:n,fieldSpecificErrors:t}=r.getSegregatedErrors();return e?{commonErrors:n,fieldSpecificErrors:new Ct([...t.entries()].map(([l,s])=>{var o;return[(o=e[l])!=null?o:l,s]}))}:{commonErrors:n,fieldSpecificErrors:t}}return{commonErrors:[Yt(r)],fieldSpecificErrors:new Ct}}var qn=(r=>(r.Idle="idle",r.Loading="loading",r.Done="done",r.Error="error",r))(qn||{});const jT=["processing","failure","success"],pX=jT[0];function gX(r,e){for(const n of jT)if(r===n||e===n)return n;throw new Error("Invalid RequestStatus states.")}function hX(r){let e;for(const{state:n}of r){if(n===pX)return n;e=e?gX(n,e):n}return e}function YT(r){const e=Object.entries(r).map(([n,t])=>{const l=typeof t=="string"?t:JSON.stringify(t);return[n,l]});return new URLSearchParams(e).toString()}function Ui(r,e){if(!e)return r;const[n,t]=r.split("?"),l=new URLSearchParams(t||"");for(const[o,i]of Object.entries(e))l.set(o,typeof i=="string"?i:JSON.stringify(i));const s=l.toString();return s?`${n}?${s}`:n}const GT=204,KT=new Set([200,201,GT]),bX=401;function $X(r){if(r.status===GT)return;const e=String(r.response);if(e.trim().length!==0)return JSON.parse(String(e))}function Y_(r,e,n){const t=new XMLHttpRequest;t.open(r,e),t.setRequestHeader("Content-Type","application/json");const l=wc.get("csrftoken");l&&t.setRequestHeader("X-CSRFToken",l),n?t.send(JSON.stringify(n)):t.send();let s=!1;return new In((o,i)=>{t.addEventListener("load",()=>{if(KT.has(t.status))o($X(t));else{if(t.status===bX){window.location.reload();return}try{i(new Wa(JSON.parse(String(t.response))))}catch(a){const u=["When making an XHR request, the server responded with an","error, but the response body was not valid JSON."].join(" ");i(new Error(u))}}}),t.addEventListener("error",()=>{i(new Error("An unexpected error has occurred"))}),t.addEventListener("abort",()=>{s||i(new Error("Request was aborted"))})},()=>{s=!0,t.abort()})}function vX(r){return Y_("GET",r)}function wX(r,e){return Y_("POST",r,e)}function kX(r,e){return Y_("PATCH",r,e)}function yX(r){const e=Yt(r.response).trim();return e||`HTTP ${r.status}: ${r.statusText}`}function G_(r,e,n){const t=new XMLHttpRequest;t.open("POST",r);const l=wc.get("csrftoken");return l&&t.setRequestHeader("X-CSRFToken",l),t.upload.onprogress=s=>{const{loaded:o,total:i}=s,a=o/i*100;n==null||n({loaded:o,total:i,percentCompleted:a})},t.send(e),new In((s,o)=>{t.addEventListener("load",()=>{if(KT.has(t.status))try{const i=JSON.parse(String(t.response));s(i)}catch(i){s(t.response)}else o(new Error(yX(t)))}),t.addEventListener("error",()=>{o(new Error("Network error occurred"))}),t.addEventListener("timeout",()=>{o(new Error("Request timed out"))})},()=>{t.abort()})}async function CX(r){const e=await fetch(r,{mode:"cors"});if(!!e.ok)return await e.json()}const SX="https://api.github.com/repos/centerofci/mathesar";function A0(r){return CX(`${SX}${r}`)}const O0={fetchLatest(){return A0("/releases/latest")},fetchByTagName(r){return A0(`/releases/tags/${r}`)}};function TX(r){try{return JSON.parse(r)}catch(e){return}}function F0(){return Date.now()}class IX{constructor(e){te(this,"inputHash","");te(this,"cacheKey");te(this,"value");te(this,"fetch");te(this,"timeToLiveMs");te(this,"serializeValue",JSON.stringify);te(this,"deserializeValue",TX);te(this,"writableLoading",Ue(!1));te(this,"loading",this.writableLoading);e.inputHash&&(this.inputHash=e.inputHash),this.value=Ue(void 0),this.cacheKey=e.cacheKey,this.fetch=e.fetch,this.timeToLiveMs=e.timeToLiveMs,e.serialize&&(this.serializeValue=e.serialize),e.deserialize&&(this.deserializeValue=e.deserialize),this.cachedFetch()}serialize({inputHash:e,timestamp:n,value:t}){return JSON.stringify({inputHash:e,timestamp:n,value:this.serializeValue(t)})}deserialize(e){try{const n=JSON.parse(e),{inputHash:t,timestamp:l,value:s}=n;if(typeof t!="string"||typeof l!="number"||typeof s!="string")return;const o=this.deserializeValue(s);return o===void 0?void 0:{inputHash:t,timestamp:l,value:o}}catch(n){return}}fetchFromCache(){const e=localStorage.getItem(this.cacheKey);if(e===null)return"no-cache-found";const n=this.deserialize(e);return n===void 0?"no-cache-found":F0()-n.timestamp>this.timeToLiveMs?"cache-too-old":n.inputHash!==this.inputHash?"hash-change":(this.value.set(n),"cache-ok")}async forceFetch(){try{this.writableLoading.set(!0);const e=F0(),n=await this.fetch(),{inputHash:t}=this;localStorage.setItem(this.cacheKey,this.serialize({inputHash:t,timestamp:e,value:n})),this.value.set({inputHash:t,timestamp:e,value:n})}finally{this.writableLoading.set(!1)}}async cachedFetch(){if(this.fetchFromCache()!=="cache-ok")try{await this.forceFetch()}catch(n){}}subscribe(e){return this.value.subscribe(e)}}class sr{constructor(e){te(this,"store");te(this,"key");te(this,"defaultValue");te(this,"serialize");te(this,"deserialize");var n,t;this.key=e.key,this.defaultValue=e.defaultValue,this.serialize=(n=e.serialize)!=null?n:JSON.stringify,this.deserialize=(t=e.deserialize)!=null?t:JSON.parse,this.store=Ue(this.getLocalStorageValue())}getLocalStorageValue(){const e=localStorage.getItem(this.key);if(e===null)return this.defaultValue;try{return this.deserialize(e)}catch(n){return this.defaultValue}}setLocalStorageValue(e){localStorage.setItem(this.key,this.serialize(e))}subscribe(e,n){return this.store.subscribe(e,n)}set(e){this.store.set(e),this.setLocalStorageValue(e)}update(e){this.store.update(n=>{const t=e(n);return this.setLocalStorageValue(t),t})}}const tr={releaseData:"mathesar-release-data",uiThemePreference:"ui-theme-preference",tableInspectorVisible:"table-inspector-visible",tableInspectorWidth:"table-inspector-width",tableInspectorTablePropertiesVisible:"table-inspector-table-properties-visible",tableInspectorTableLinksVisible:"table-inspector-table-links-visible",tableInspectorTableRecordSummaryVisible:"table-inspector-table-record-summary-visible",tableInspectorTableActionsVisible:"table-inspector-table-actions-visible",tableInspectorTableAdvancedVisible:"table-inspector-table-advanced-visible",tableInspectorColumnPropertiesVisible:"table-inspector-column-properties-visible",tableInspectorColumnDataTypeVisible:"table-inspector-column-data-type-visible",tableInspectorColumnDefaultValueVisible:"table-inspector-column-default-value-visible",tableInspectorColumnFormattingVisible:"table-inspector-column-formatting-visible",tableInspectorColumnRecordSummaryVisible:"table-inspector-column-record-summary-visible",tableInspectorColumnActionsVisible:"table-inspector-column-actions-visible",dataExplorerLeftSidebarWidth:"data-explorer-left-sidebar-width",dataExplorerRightSidebarWidth:"data-explorer-right-sidebar-width",dataFormInspectorVisible:"data-form-inspector-visible",dataFormInspectorWidth:"data-form-inspector-width"},N0=new sr({key:tr.tableInspectorWidth,defaultValue:350}),ad=new sr({key:tr.tableInspectorVisible,defaultValue:!0}),P0=new sr({key:tr.tableInspectorTablePropertiesVisible,defaultValue:!0}),L0=new sr({key:tr.tableInspectorTableLinksVisible,defaultValue:!0}),H0=new sr({key:tr.tableInspectorTableRecordSummaryVisible,defaultValue:!1}),V0=new sr({key:tr.tableInspectorTableActionsVisible,defaultValue:!0}),z0=new sr({key:tr.tableInspectorTableAdvancedVisible,defaultValue:!1}),B0=new sr({key:tr.tableInspectorColumnPropertiesVisible,defaultValue:!0}),q0=new sr({key:tr.tableInspectorColumnDataTypeVisible,defaultValue:!0}),U0=new sr({key:tr.tableInspectorColumnDefaultValueVisible,defaultValue:!0}),W0=new sr({key:tr.tableInspectorColumnFormattingVisible,defaultValue:!0}),j0=new sr({key:tr.tableInspectorColumnRecordSummaryVisible,defaultValue:!1}),Y0=new sr({key:tr.tableInspectorColumnActionsVisible,defaultValue:!0}),kf=new sr({key:tr.uiThemePreference,defaultValue:"system"}),G0=new sr({key:tr.dataExplorerLeftSidebarWidth,defaultValue:400}),K0=new sr({key:tr.dataExplorerRightSidebarWidth,defaultValue:350}),ud=new sr({key:tr.dataFormInspectorVisible,defaultValue:!0}),X0=new sr({key:tr.dataFormInspectorWidth,defaultValue:350});function J0(r){if(r!==void 0)return{id:r.id,tagName:r.tag_name,date:r.published_at}}function EX(r,e){if(!(r===void 0||e===void 0))return uX(e.tagName,r.tagName,">")?"upgradable":"up-to-date"}class kc{constructor({current:e,latest:n}){te(this,"current");te(this,"latest");te(this,"upgradeStatus");this.current=e,this.latest=n,this.upgradeStatus=EX(e,n)}serialize(){return JSON.stringify({current:this.current,latest:this.latest})}static deserialize(e){try{const n=JSON.parse(e),{current:t,latest:l}=n;return new kc({current:t,latest:l})}catch(n){return}}}async function MX(r){return new kc({current:J0(await O0.fetchByTagName(r)),latest:J0(await O0.fetchLatest())})}function RX(r){return new IX({inputHash:r,cacheKey:tr.releaseData,timeToLiveMs:1e3*60*60*24,fetch:()=>MX(r),serialize:e=>e.serialize(),deserialize:e=>kc.deserialize(e)})}const XT=Symbol("ReleaseDataStore");function yc(){return Wn(XT)}function DX(r){if(yc()!==void 0)throw Error("ReleaseDataStore context has already been set");Fr(XT,RX(r))}const Z0=0;class Sn extends Error{constructor(n){super(n.message);te(this,"status","error");te(this,"code");te(this,"data");this.code=n.code,this.data=n.data}static fromAnything(n){if(n instanceof Sn)return n;if(n instanceof Error)return new Sn({code:Z0,message:n.message});if(Jn(n,"error"))return Sn.fromAnything(n.error);const t=(()=>Ss(n,"message")?n.message:typeof n=="string"?n:Jn(n,"toString")&&typeof n.toString=="function"?String(n.toString()):JSON.stringify(n))(),l=Jn(n,"code")&&typeof n.code=="number"?n.code:Z0,s=Jn(n,"data")?n.data:void 0;return new Sn({code:l,message:t,data:s})}}const AX=".",OX="2.0";function JT(r,e={}){const n=new AbortController;return new In((t,l)=>void fetch(r,{...e,signal:n.signal}).then(t).catch(l),()=>n.abort())}function ZT(r,e=0){return{jsonrpc:OX,id:e,method:r.method,params:r.params}}function QT(r){return Jn(r,"result")?{status:"ok",value:r.result}:Sn.fromAnything(r)}function FX(r){const e=JT(r.endpoint,{method:"POST",headers:{...r.getHeaders(),"Content-Type":"application/json"},body:JSON.stringify(ZT(r))});return new In(n=>void e.then(t=>t.json(),t=>n(Sn.fromAnything(t))).then(t=>n(QT(t))),()=>e.cancel())}function NX(r,e){if(!Array.isArray(r))throw new Error("Response is not an array");const n=new Map(r.map(t=>{if(!Jn(t,"id"))throw new Error('Response array does not conform to RPC spec: "id" missing in values');return[t.id,QT(t)]}));return e.map(t=>{const l=n.get(t.id);if(l===void 0)throw new Error(`Response array does not contain the response for the request with id: ${t.id}`);return l})}function PX(r,e,n){const t=n.map((s,o)=>ZT(s,o)),l=JT(r,{method:"POST",headers:{...e,"Content-Type":"application/json"},body:JSON.stringify(t)});return new In(s=>void l.then(o=>o.json(),o=>s(n.map(()=>Sn.fromAnything(o)))).then(o=>s(NX(o,t))),()=>l.cancel())}class LX{constructor(e){te(this,"endpoint");te(this,"path");te(this,"params");te(this,"getHeaders");this.endpoint=e.endpoint,this.path=e.path,this.params=e.params,this.getHeaders=e.getHeaders}get method(){return this.path.join(AX)}run(){const e=this.send();return new In((n,t)=>void e.then(l=>l.status==="ok"?n(l.value):t(l),l=>t(Sn.fromAnything(l))),()=>e.cancel())}send(){return FX(this)}}function ja(r){if(r.length===0)throw new Error("There must be atleast one request");const[e,...n]=r,{endpoint:t}=e;if(n.some(l=>l.endpoint!==t))throw new Error("Only RPC requests to the same endpoint can be batched");return PX(t,e.getHeaders(),r)}function K_(r){const e=ja(r);return new In((n,t)=>{e.then(l=>{const s=[];for(const o of l){if(o.status!=="ok")return t(o);s.push(o.value)}return n(s)},t).catch(t)},()=>e.cancel())}function HX(r){return e=>r(e).run()}function VX(r){return Array.isArray(r)}function nt(){return[]}function xT(r,e,n,t){if(VX(t))return s=>new LX({path:r,endpoint:e,params:s,getHeaders:n});const l={};for(const[s,o]of Object.entries(t))l[s]=xT([...r,s],e,n,o);return l}function zX(r){return xT([],r.endpoint,r.getHeaders,r.methodTree)}const BX={get_state:nt(),initialize:nt(),disable:nt(),upload_feedback:nt()},qX={list:nt(),add:nt(),set_role:nt(),delete:nt()},Dl=32,UX=24,WX=64,eI=50,tI=160,nI=20,rI=1e3,jX=120,gs=["d","h","m","s","ms"],fd={bool_input:"checkbox",bool_true:"true",bool_false:"false",num_min_frac_digits:0,num_max_frac_digits:20,num_format:null,num_grouping:"auto",mon_currency_symbol:"$",mon_currency_location:"after-minus",time_format:"24hr",date_format:"none",duration_min:"s",duration_max:"m",display_width:tI,file_backend:null};function YX(r,e){var n;return(n=r[e])!=null?n:fd[e]}function lI(r){return!r.default||!r.primary_key?!0:!r.default.is_dynamic}function Tn(r,e){var n;return YX((n=r.metadata)!=null?n:{},e)}const GX={list:nt(),list_with_metadata:nt(),add:nt(),patch:nt(),delete:nt(),metadata:{set:nt()},add_primary_key_column:nt()},KX={list:nt(),add:nt(),delete:nt()},XX={move_columns:nt(),split_table:nt(),suggest_types:nt(),add_foreign_key_column:nt(),add_mapping_table:nt(),change_primary_key_column:nt()},sI=["bike_shop","hardware_store","ice_cream_employees","library_makerspace","movie_rentals","museum_exhibits","nonprofit_grants"],JX={get:nt(),upgrade_sql:nt(),configured:{list:nt(),patch:nt(),disconnect:nt()},setup:{create_new:nt(),connect_existing:nt()},privileges:{list_direct:nt(),replace_for_roles:nt(),transfer_ownership:nt()}},ZX=["distinct_aggregate_to_array","count","sum","median","mode","percentage_true","max","min","mean","peak_time","peak_month"];function oI(r){return"name"in r&&r.name!==""&&r.name!==void 0&&"base_table_oid"in r&&r.base_table_oid!==void 0&&"initial_columns"in r&&r.initial_columns!==void 0&&r.initial_columns.length>0}function QX(r){return oI(r)&&"id"in r&&r.id!==void 0}const xX={list:nt(),get:nt(),add:nt(),delete:nt(),replace:nt(),run:nt(),run_saved:nt()},eJ=["must_pick","can_pick_or_create","must_create"],X_=1;function tJ(r){return{form_def:{...r,header_title:{text:r.name},header_subtitle:r.description?{text:r.description}:null}}}function nJ(r){return{update_form_def:{...r,version:X_,header_title:{text:r.name},header_subtitle:r.description?{text:r.description}:null}}}const rJ={get:nt(),get_source_info:nt(),list:nt(),add:nt(),patch:nt(),delete:nt(),list_related_records:nt(),submit:nt(),regenerate_token:nt(),set_publish_public:nt()},lJ={add:nt(),patch:nt(),get:nt(),list:nt(),search:nt(),delete:nt(),list_summaries:nt()},sJ={list:nt(),add:nt(),set_members:nt(),get_current_role:nt(),delete:nt(),configured:{list:nt(),add:nt(),delete:nt(),set_password:nt()}},oJ={list:nt(),add:nt(),patch:nt(),delete:nt(),privileges:{list_direct:nt(),replace_for_roles:nt(),transfer_ownership:nt()}},iJ={configured:{list:nt(),patch:nt()}};function*iI(r,e){const t=r.joinable_tables.filter(l=>!l.fkey_path[0][1]);for(const l of t){const s=r.target_table_info[l.target],o=l.join_path[0][0][1],i=e.get(o);i&&(yield{table:{oid:l.target,name:s.name},column:{name:i.name}})}}function*aI(r){const n=r.joinable_tables.filter(t=>t.fkey_path[0][1]);for(const t of n){const l=r.target_table_info[t.target],s=t.join_path[0][1][1];yield{table:{oid:t.target,name:l.name},column:l.columns[s]}}}const aJ={list:nt(),list_with_metadata:nt(),get:nt(),get_with_metadata:nt(),add:nt(),import:nt(),patch:nt(),delete:nt(),list_joinable:nt(),get_import_preview:nt(),metadata:{list:nt(),set:nt()},privileges:{list_direct:nt(),replace_for_roles:nt(),transfer_ownership:nt()}},uJ={list:nt(),get:nt(),add:nt(),delete:nt(),patch_self:nt(),patch_other:nt(),password:{replace_own:nt(),revoke:nt()}},Ke=zX({endpoint:"/api/rpc/v0/",getHeaders:()=>({"X-CSRFToken":wc.get("csrftoken")}),methodTree:{analytics:BX,collaborators:qX,columns:GX,constraints:KX,forms:rJ,data_modeling:XX,databases:JX,explorations:xX,records:lJ,roles:sJ,schemas:oJ,servers:iJ,tables:aJ,users:uJ}});class eo{constructor(e){te(this,"id");te(this,"isMathesarAdmin");te(this,"fullName");te(this,"email");te(this,"username");te(this,"displayLanguage");this.id=e.id,this.isMathesarAdmin=e.is_superuser,this.fullName=e.full_name,this.email=e.email,this.username=e.username,this.displayLanguage=e.display_language}getDisplayName(){return this.username}getUser(){return{id:this.id,is_superuser:this.isMathesarAdmin,username:this.username,full_name:this.fullName,email:this.email,display_language:this.displayLanguage}}with(e){return new eo({...this.getUser(),...e})}}class fJ extends eo{constructor(){super({id:0,is_superuser:!1,username:"Anonymous",full_name:"Anonymous",email:null,display_language:"en"})}}const uI=Symbol("users list store");class cJ{constructor(){te(this,"requestStatus",Ue());te(this,"users",Ue([]));te(this,"count",Ue(0));te(this,"request");this.fetchUsers()}async fetchUsersSilently(){var n;(n=this.request)==null||n.cancel(),this.request=Ke.users.list().run();const e=await this.request;this.users.set(e.map(t=>new eo(t))),this.count.set(e.length)}async fetchUsers(){try{this.requestStatus.set({state:"processing"}),await this.fetchUsersSilently(),this.requestStatus.set({state:"success"})}catch(e){this.requestStatus.set({state:"failure",errors:[Yt(e)]})}}async getUserDetails(e){const n=ve(this.requestStatus);if((n==null?void 0:n.state)==="success")return ve(this.users).find(t=>t.id===e);if((n==null?void 0:n.state)==="processing"){const t=await this.request,l=t==null?void 0:t.find(s=>s.id===e);if(l)return new eo(l)}}async delete(e){this.requestStatus.set({state:"processing"}),await Ke.users.delete({user_id:e}).run(),this.users.update(n=>n.filter(t=>t.id!==e)),this.count.update(n=>n-1),this.requestStatus.set({state:"success"}),this.fetchUsersSilently()}}function Cc(){return Wn(uI)}function mJ(){if(Cc()!==void 0)throw Error("UsersStore context has already been set");const r=new cJ;return Fr(uI,r),r}const cd=Symbol("UserProfileStore");function Lr(){const r=Wn(cd);if(!r)throw Error("User profile store context not found");return r}function dJ(r){if(Wn(cd))throw Error("User profile store context has already been set");const n=Ue(r instanceof eo?r:new eo(r));return Fr(cd,n),n}class wi{static encode(e){return btoa(unescape(encodeURIComponent(e))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}static decode(e){const n=e.replace(/-/g,"+").replace(/_/g,"/");return decodeURIComponent(escape(atob(n)))}}function ai(r){return`/db/${r}/`}function fI(r){return`/db/${r}/schemas/`}function Sc(r){return`/db/${r}/settings/`}function Q0(r){return`${Sc(r)}role-configuration/`}function x0(r){return`${Sc(r)}collaborators/`}function e2(r){return`${Sc(r)}roles/`}function Jr(r,e){return`${fI(r)}${e}/`}function _J(r,e){return`${Jr(r,e)}tables/`}function pJ(r,e){return`${Jr(r,e)}explorations/`}function to(r,e){return`${Jr(r,e)}import/`}const cI="inference",md="renamed_id_column";function gJ(r){const e=new URLSearchParams({[cI]:JSON.stringify(r.useColumnTypeInference)});return r.renamedIdColumn&&e.append(md,wi.encode(r.renamedIdColumn)),e.toString()}function hJ(r){return{useColumnTypeInference:r[cI]==="true",renamedIdColumn:r[md]?wi.decode(r[md]):void 0}}function Tc(r,e,n,t){const l=to(r,e),s=gJ(t);return`${l}${n}/?${s}`}function $a(r,e){return`${Jr(r,e)}data-explorer/`}function Al(r,e,n){return`${pJ(r,e)}${n}/`}function _o(r,e,n){return`${_J(r,e)}${n}/`}function yf(r,e,n,t){return`${_o(r,e,n)}${String(t)}`}function va(r,e,n){return`${Jr(r,e)}forms/${n}/`}function dd(r){return`/shares/forms/${r}/`}const _d="/profile/",no="/administration/",Cf=`${no}update/`,wa=`${no}users/`,pd=`${no}users/new/`,gd=`${no}settings/`,bJ="/auth/logout/";function ka(r){return`${wa}${r}/`}const $J={usageDataCollection:"/user-guide/usage-data-collection/",collaborators:"/user-guide/collaborators/",databasePermissions:"/user-guide/databases/#permissions",databases:"/user-guide/databases/",dataTypes:"/user-guide/data-types/",fileDataType:"/user-guide/data-types/#file",import:"/user-guide/importing-data/",internalSchemas:"/user-guide/schemas/#internal",metadata:"/user-guide/databases#understanding-mathesars-metadata/",relationships:"/user-guide/relationships/",roles:"/user-guide/roles/",rolesInheritance:"/user-guide/roles/#inheritance",rolesLogin:"/user-guide/roles/#login",schemaPermissions:"/user-guide/schemas/#permissions",schemas:"/user-guide/schemas/",storedRoles:"/user-guide/stored-roles/",tablePermissions:"/user-guide/tables/#permissions",userAdmin:"/user-guide/users/#admin",userGuide:"/user-guide/"};function Sf(r){return`https://docs.mathesar.org${$J[r]}`}const vJ={community:"/community",donate:"/donate",privacy:"/privacy",mailingList:"/mailing-list",survey:"/survey"};function ro(r){return`https://mathesar.org${vJ[r]}`}function Ya(r){var e;return((e=r.metadata)==null?void 0:e.import_verified)===!1}function wJ(r,e){var o,i;const n=new Set((i=(o=e.metadata)==null?void 0:o.column_order)!=null?i:[]),t=new Set(r.map(a=>a.id)),l=sl(a=>t.has(a),n),s=sl(a=>!n.has(a),t);return[...l,...s]}function mI(r,e){const n=[...r.values()],t=new Map;return wJ(n,e).forEach(s=>{const o=n.map(i=>i.id).indexOf(s);if(o!==-1){const i=n.splice(o,1)[0];t.set(i.id,i)}}),t}function hd(r,e,n){return Ya(n)?Tc(r,e,n.oid,{useColumnTypeInference:!0}):_o(r,e,n.oid)}function t2(r,e,n){const t=r.slice();return t[13]=e[n],t}function kJ(r){let e,n,t=r[5],l=[];for(let o=0;o<t.length;o+=1)l[o]=n2(t2(r,t,o));const s=o=>p(l[o],1,1,()=>{l[o]=null});return{c(){for(let o=0;o<l.length;o+=1)l[o].c();e=ae()},m(o,i){for(let a=0;a<l.length;a+=1)l[a].m(o,i);v(o,e,i),n=!0},p(o,i){if(i&32){t=o[5];let a;for(a=0;a<t.length;a+=1){const u=t2(o,t,a);l[a]?(l[a].p(u,i),_(l[a],1)):(l[a]=n2(u),l[a].c(),_(l[a],1),l[a].m(e.parentNode,e))}for(U(),a=t.length;a<l.length;a+=1)s(a);W()}},i(o){if(!n){for(let i=0;i<t.length;i+=1)_(l[i]);n=!0}},o(o){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)p(l[i]);n=!1},d(o){Hn(l,o),o&&$(e)}}}function yJ(r){let e,n;return e=new Gt({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function n2(r){let e,n;const t=[{size:"min(1em, 0.75em + 0.25rem)"},r[13]];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&32?de(t,[t[0],_e(s[13])]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function CJ(r){let e;const n=r[10].default,t=ke(n,r,r[12],null);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&4096)&&Ce(t,n,l,l[12],e?ye(n,l[12],s,null):Se(l[12]),null)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function SJ(r){let e;return{c(){e=L(r[0])},m(n,t){v(n,e,t)},p(n,t){t&1&&z(e,n[0])},i:H,o:H,d(n){n&&$(e)}}}function TJ(r){let e,n,t,l,s,o,i,a,u,f,c;const m=[yJ,kJ],d=[];function g(S,T){return S[1]?0:1}t=g(r),l=d[t]=m[t](r);const h=[SJ,CJ],b=[];function w(S,T){return S[0]?0:1}return i=w(r),a=b[i]=h[i](r),{c(){e=E("span"),n=E("span"),l.c(),s=L("\xA0"),o=E("span"),a.c(),I(n,"class","icon svelte-1ahqfmb"),ln(n,"white-space","nowrap"),I(o,"class","name svelte-1ahqfmb"),I(e,"class","name-with-icon svelte-1ahqfmb"),I(e,"style",r[6]),ie(e,"boxed",r[2]),ie(e,"bold",r[4])},m(S,T){v(S,e,T),R(e,n),d[t].m(n,null),R(e,s),R(e,o),b[i].m(o,null),u=!0,f||(c=He(e,"click",r[11]),f=!0)},p(S,T){let M=t;t=g(S),t===M?d[t].p(S,T):(U(),p(d[M],1,1,()=>{d[M]=null}),W(),l=d[t],l?l.p(S,T):(l=d[t]=m[t](S),l.c()),_(l,1),l.m(n,null));let A=i;i=w(S),i===A?b[i].p(S,T):(U(),p(b[A],1,1,()=>{b[A]=null}),W(),a=b[i],a?a.p(S,T):(a=b[i]=h[i](S),a.c()),_(a,1),a.m(o,null)),(!u||T&64)&&I(e,"style",S[6]),(!u||T&4)&&ie(e,"boxed",S[2]),(!u||T&16)&&ie(e,"bold",S[4])},i(S){u||(_(l),_(a),u=!0)},o(S){p(l),p(a),u=!1},d(S){S&&$(e),d[t].d(),b[i].d(),f=!1,c()}}}function IJ(r){let e,n;const t=[r[7],{passthrough:!r[3]}];let l={$$slots:{default:[TJ]},$$scope:{ctx:r}};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Qr({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,[o]){const i=o&136?de(t,[o&128&&_e(s[7]),o&8&&{passthrough:!s[3]}]):{};o&4215&&(i.$$scope={dirty:o,ctx:s}),e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function EJ(r,e,n){let t,l;const s=["icon","name","isLoading","iconHasBox","truncate","bold","cssVariables"];let o=We(e,s),{$$slots:i={},$$scope:a}=e,{icon:u}=e,{name:f=void 0}=e,{isLoading:c=!1}=e,{iconHasBox:m=!1}=e,{truncate:d=!0}=e,{bold:g=!1}=e,{cssVariables:h=void 0}=e;function b(w){Re.call(this,r,w)}return r.$$set=w=>{e=se(se({},e),pt(w)),n(7,o=We(e,s)),"icon"in w&&n(8,u=w.icon),"name"in w&&n(0,f=w.name),"isLoading"in w&&n(1,c=w.isLoading),"iconHasBox"in w&&n(2,m=w.iconHasBox),"truncate"in w&&n(3,d=w.truncate),"bold"in w&&n(4,g=w.bold),"cssVariables"in w&&n(9,h=w.cssVariables),"$$scope"in w&&n(12,a=w.$$scope)},r.$$.update=()=>{r.$$.dirty&512&&n(6,t=h?Ml(h):void 0),r.$$.dirty&256&&n(5,l=Array.isArray(u)?u:[u])},[f,c,m,d,g,l,t,o,u,h,i,b,a]}class Qn extends Q{constructor(e){super(),Z(this,e,EJ,IJ,J,{icon:8,name:0,isLoading:1,iconHasBox:2,truncate:3,bold:4,cssVariables:9})}}const MJ=r=>({tableName:r&1}),r2=r=>({tableName:r[0].name});function RJ(r){let e=r[0].name+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1&&e!==(e=t[0].name+"")&&z(n,e)},d(t){t&&$(n)}}}function l2(r){let e;return{c(){e=L("*")},m(n,t){v(n,e,t)},d(n){n&&$(e)}}}function DJ(r){let e,n,t;const l=r[5].default,s=ke(l,r,r[6],r2),o=s||RJ(r);let i=r[3]&&l2();return{c(){o&&o.c(),e=N(),i&&i.c(),n=ae()},m(a,u){o&&o.m(a,u),v(a,e,u),i&&i.m(a,u),v(a,n,u),t=!0},p(a,u){s?s.p&&(!t||u&65)&&Ce(s,l,a,a[6],t?ye(l,a[6],u,MJ):Se(a[6]),r2):o&&o.p&&(!t||u&1)&&o.p(a,t?u:-1),a[3]?i||(i=l2(),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},i(a){t||(_(o,a),t=!0)},o(a){p(o,a),t=!1},d(a){o&&o.d(a),a&&$(e),i&&i.d(a),a&&$(n)}}}function AJ(r){let e,n;const t=[{icon:ss},{isLoading:r[1]},r[4],{cssVariables:{"--icon-color":"var(--color-table)",...r[2]}},{bold:!0}];let l={$$slots:{default:[DJ]},$$scope:{ctx:r}};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Qn({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,[o]){const i=o&22?de(t,[o&0&&{icon:ss},o&2&&{isLoading:s[1]},o&16&&_e(s[4]),o&4&&{cssVariables:{"--icon-color":"var(--color-table)",...s[2]}},t[4]]):{};o&73&&(i.$$scope={dirty:o,ctx:s}),e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function OJ(r,e,n){let t;const l=["table","isLoading","cssVariables"];let s=We(e,l),{$$slots:o={},$$scope:i}=e,{table:a}=e,{isLoading:u=!1}=e,{cssVariables:f=void 0}=e;return r.$$set=c=>{e=se(se({},e),pt(c)),n(4,s=We(e,l)),"table"in c&&n(0,a=c.table),"isLoading"in c&&n(1,u=c.isLoading),"cssVariables"in c&&n(2,f=c.cssVariables),"$$scope"in c&&n(6,i=c.$$scope)},r.$$.update=()=>{r.$$.dirty&1&&n(3,t=Ya(a))},[a,u,f,t,s,o,i]}class rn extends Q{constructor(e){super(),Z(this,e,OJ,AJ,J,{table:0,isLoading:1,cssVariables:2})}}function*FJ(r,e){let n=!1;for(const t of r)(n||e(t))&&(n=!0,yield t)}function NJ(r,e){return{*[Symbol.iterator](){for(const n of r)for(const t of e)yield[n,t]}}}function PJ(r,e){const n=r[Symbol.iterator](),t=n.next();return t.done?e.whenZero:n.next().done?e.whenOne(t.value):e.whenMany}function ju(r){return PJ(r,{whenZero:void 0,whenOne:e=>e,whenMany:void 0})}function Ur(r,e){return JSON.stringify([r,e])}function nr(r){try{const[e,n]=JSON.parse(r);if(typeof e!="string"||typeof n!="string")throw new Error;return{rowId:e,columnId:n}}catch(e){throw new Error(`Unable to parse cell id: ${r}.`)}}function Wi(r,e){return Ln(([n,t])=>Ur(n,t),NJ(r,e))}function LJ(r){return new Ct(Object.entries(r))}function dI(r){return new Ct(Ln(([e,n])=>[e,LJ(n)],Object.entries(r!=null?r:{})))}function HJ(r,e){return r.withEntries(e)}function bd(r,e){return r.withEntries(e,HJ)}class Tf{constructor(){te(this,"fetched",Ue(new Ct));te(this,"bespoke",Ue(new Ct));te(this,"combined");this.combined=et([this.bespoke,this.fetched],([e,n])=>bd(e,n))}subscribe(e,n){return this.combined.subscribe(e,n)}setFetchedValues(e){this.fetched.set(e)}setFetchedValuesFromPrimitive(e){this.setFetchedValues(dI(e))}addBespokeValues(e){this.bespoke.update(n=>bd(n,e))}addBespokeValue({columnId:e,key:n,value:t}){this.addBespokeValues(new Ct([[e,new Ct([[n,t]])]]))}}class J_{constructor(e){te(this,"identifier");te(this,"record");te(this,"type");var n;this.identifier=(n=e.identifier)!=null?n:vr("record-row"),this.record=e.record,this.type=e.type}}class jo extends J_{constructor(e){super({...e,type:"persistedRecord"})}withRecord(e){return new jo({identifier:this.identifier,record:e})}static fromDraft(e){return new jo({identifier:e.identifier,record:e.record})}}class Ks extends J_{constructor(e){super({...e,type:"draftRecord"})}withRecord(e){return new Ks({identifier:this.identifier,record:e})}static fromPlaceholder(e){return new Ks({identifier:e.identifier,record:e.record})}}class Z_ extends J_{constructor(e){super({...e,type:"placeholderRecord"})}withRecord(e){return new Z_({identifier:this.identifier,record:e})}}class VJ{constructor(e){te(this,"identifier",vr("group-header-row"));te(this,"group");te(this,"groupValues");te(this,"type","groupHeader");this.group=e.group,this.groupValues=e.groupValues}}class zJ{constructor(){te(this,"identifier",vr("help-row"));te(this,"type","help")}}function ui(r){return r.type==="persistedRecord"}function Vl(r){return r.type==="draftRecord"}function os(r){return r.type==="placeholderRecord"}function $d(r){return Vl(r)||os(r)}function Yu(r){return $d(r)||ui(r)}function Gu(r){return r.type==="groupHeader"}function _I(r){return r.type==="help"}const If=-1,vd=-2,wd="::";function Ws(r,e){return`${String(r)}${wd}${e}`}function Qi(r){return r.split(wd).slice(0,-1).join(wd)}const pI=101;function BJ(r,e){const n=[];return r===null&&!e.nullable&&n.push({code:pI,column:e,message:ve(ce)("cell_cannot_be_null_for_column")}),n}function qJ(r){const e=[],n=r.filter(t=>t.code===pI);return n&&e.push(Sn.fromAnything(ve(ce)("columns_cannot_be_null",{values:{columnNames:n.map(t=>`'${t.column.name}'`).join(", ")}}))),e}function UJ({cellClientSideErrors:r,cellModificationStatus:e,rowCreationStatus:n,rowDeletionStatus:t}){const l=[...r.entries()].reduce((d,[g,h])=>{var S;const b=Qi(g),w=(S=d.get(b))!=null?S:[];return d.with(b,w.concat(h))},new Ct),s=new Ct([...l.entries()].map(([d,g])=>[d,{errorsFromWholeRowAndCells:qJ(g)}])),o=[...e].reduce((d,[g,h])=>h.state==="failure"?d.with(Qi(g)):d,new vn),i=Sn.fromAnything(ve(ce)("row_contains_cell_with_error")),a=new Ct([...o].map(d=>[d,{errorsFromWholeRowAndCells:[i]}])),u=s.withEntries(a),f=n.withEntries(t).mapValues(d=>({wholeRowState:d.state,errorsFromWholeRowAndCells:d.state==="failure"?d.errors:[]}));function c(d,g){var h,b,w;return{wholeRowState:(h=d.wholeRowState)!=null?h:g.wholeRowState,errorsFromWholeRowAndCells:[...(b=d.errorsFromWholeRowAndCells)!=null?b:[],...(w=g.errorsFromWholeRowAndCells)!=null?w:[]]}}function m(d){return{errorsFromWholeRowAndCells:[],...d}}return u.withEntries(f,c).mapValues(m)}function WJ(r){const e=BP(r.cellModificationStatus.values(),r.rowCreationStatus.values(),r.rowDeletionStatus.values());return hX(e)}function jJ({cellValue:r,column:e,cellKey:n,cellClientSideErrors:t}){const l=BJ(r,e);l.length?t.set(n,l):t.delete(n)}function YJ({row:r,columns:e,cellClientSideErrors:n}){e.forEach(t=>{jJ({cellValue:r.record[String(t.id)],column:t,cellKey:Ws(r.identifier,t.id),cellClientSideErrors:n})})}function ya(r){return r.identifier}function GJ(r){return{count:r.count,eqValue:r.results_eq,resultIndices:r.result_indices}}function KJ(r){var e,n;return{columnIds:r.columns,preprocIds:(e=r.preproc)!=null?e:[],groups:((n=r.groups)!=null?n:[]).map(GJ)}}function Q_(r,e){const n=e.find(l=>l.primary_key);if(!n)throw new Error("No primary key column found.");const t=r[n.id];if(!(typeof t=="string"||typeof t=="number"))throw new Error("Primary key value is not a string or number.");return t}function kd(r){return Object.fromEntries(r.map(e=>[e.columnId,e.value]))}function s2({row:r,cells:e},n){const t=r.record[n.id];if(ui(r)&&t===void 0)throw new Error("Unable to update record for a row with a missing primary key value");if(e.some(s=>s.columnId===String(n.id))){if(!Vl(r))throw new Error("Unable to modify primary key cells of saved rows");if(n.default&&n.default.is_dynamic)throw new Error("Unable to modify cells in a primary key column with a dynamic default")}}function XJ(r){const e=kd(r.cells);return{row:new Ks({record:e}),cells:r.cells}}class JJ{constructor({database:e,table:n,meta:t,columnsDataStore:l,contextualFilters:s,loadIntrinsicRecordSummaries:o}){te(this,"apiContext");te(this,"meta");te(this,"columnsDataStore");te(this,"state");te(this,"fetchedRecordRows");te(this,"newRecords");te(this,"persistedNewRecords");te(this,"recordSummaries",new Cl);te(this,"linkedRecordSummaries",new Tf);te(this,"fileManifests",new Tf);te(this,"grouping");te(this,"totalCount");te(this,"error");te(this,"selectableRowsMap");te(this,"promise");te(this,"createPromises");te(this,"updatePromises");te(this,"requestParamsUnsubscriber");te(this,"contextualFilters");te(this,"loadIntrinsicRecordSummaries");this.apiContext={database_id:e.id,table_oid:n.oid},this.state=Ue(qn.Loading),this.fetchedRecordRows=Ue([]),this.newRecords=Ue([]),this.grouping=Ue(void 0),this.totalCount=Ue(void 0),this.error=Ue(void 0),this.meta=t,this.columnsDataStore=l,this.contextualFilters=s,this.loadIntrinsicRecordSummaries=o,this.fetch(),this.selectableRowsMap=et([this.fetchedRecordRows,this.newRecords],([i,a])=>{const u=[...i,...a];return new Map(u.map(f=>[ya(f),f]))}),this.persistedNewRecords=et(this.newRecords,i=>i.filter(a=>ui(a))),this.requestParamsUnsubscriber=this.meta.recordsRequestParamsData.subscribe(()=>{this.fetch()})}async fetch(e={}){var t;const n={clearNewRecords:!0,setLoadingState:!0,clearMetaStatuses:!0,...e};(t=this.promise)==null||t.cancel(),this.error.set(void 0),n.clearNewRecords&&this.newRecords.set([]),n.setLoadingState&&this.state.set(qn.Loading),n.clearMetaStatuses&&this.meta.clearAllStatusesAndErrors();try{const l=ve(this.meta.recordsRequestParamsData),s=[...this.contextualFilters].map(([m,d])=>({columnId:m,conditionId:"equal",value:d})),o={...this.apiContext,...l.pagination.recordsRequestParams(),...l.sorting.recordsRequestParamsIncludingGrouping(l.grouping),...l.grouping.recordsRequestParams(),...l.filtering.withEntries(s).recordsRequestParams(),return_record_summaries:this.loadIntrinsicRecordSummaries},i=l.searchFuzzy.getSearchParams(),a={...this.apiContext,...l.pagination.recordsRequestParams(),search_params:i,return_record_summaries:this.loadIntrinsicRecordSummaries};this.promise=i.length?Ke.records.search(a).run():Ke.records.list(o).run();const u=await this.promise,f=u.count||0,c=u.grouping?KJ(u.grouping):void 0;u.linked_record_summaries&&this.linkedRecordSummaries.setFetchedValuesFromPrimitive(u.linked_record_summaries),u.record_summaries&&this.recordSummaries.reconstruct(Object.entries(u.record_summaries)),u.download_links&&this.fileManifests.setFetchedValuesFromPrimitive(u.download_links),this.fetchedRecordRows.set(u.results.map(m=>new jo({record:m}))),this.state.set(qn.Done),this.grouping.set(c),this.totalCount.set(f),this.error.set(void 0)}catch(l){this.state.set(qn.Error),this.error.set(l instanceof Error?l.message:"Unable to load records")}}async deleteSelected(e){const n=ve(this.columnsDataStore.pkColumn);if(!n)throw new Error("Cannot delete without primary key");const t=typeof e=="string"?[e]:e,l=ve(this.selectableRowsMap),s=new Map,o=new Map;for(const f of t){const c=l.get(f);!c||(Vl(c)?s.set(c.identifier,c):o.set(c.identifier,c))}if(!s.size&&!o.size)return 0;this.meta.rowDeletionStatus.setMultiple([...s.keys(),...o.keys()],{state:"processing"});const i=new Set(s.keys()),a=new Map;if(o.size){const f=[...o.values()].map(c=>c.record[n.id]);try{const c=Ke.records.delete({database_id:this.apiContext.database_id,table_oid:this.apiContext.table_oid,record_ids:f}).run(),m=new Set(await c);o.forEach(d=>{const g=d.record[n.id];if(m.has(g))i.add(d.identifier);else{const h=ve(ce)("row_deletion_ignored_by_pg",{values:{rowId:g}});a.set(d.identifier,Sn.fromAnything(h))}})}catch(c){o.forEach(m=>a.set(m.identifier,Sn.fromAnything(Sn)))}}const u=i.size>0;if(this.newRecords.set([]),u&&await this.fetch({clearMetaStatuses:!1,clearNewRecords:!1,setLoadingState:!1}),this.meta.rowCreationStatus.delete(Array.from(i,String)),this.meta.clearAllStatusesAndErrorsForRows([...i]),this.meta.rowDeletionStatus.setEntries([...a.entries()].map(([f,c])=>[f,{state:"failure",errors:[c]}])),this.meta.rowDeletionStatus.clear(),a.size>0){const f=ve(ce)("unable_to_delete_count_rows",{values:{count:a.size}}),c=[...a.values()].join(`
`);throw new Error(`${f} ${c}`)}return s.size+o.size}getPkColumOrError(){const e=ve(this.columnsDataStore.pkColumn);if(!e)throw new Error("Unable to update without primary key");return e}async bulkDml(e,n=[]){var i;const t=n.map(XJ),l=t.map(({row:a})=>a).filter(Vl),s=this.getPkColumOrError(),o=[...e,...t];return o.forEach(a=>s2(a,s)),this.newRecords.update(a=>[...a,...l]),await this.bulkUpdate(o,{validateRecipes:!1}),{rowIds:o.map(a=>a.row.identifier),columnIds:(i=Rr(o.at(0),a=>a.cells.map(u=>u.columnId)))!=null?i:[]}}async bulkUpdate(e,n={}){const t={validateRecipes:!0},{validateRecipes:l}={...t,...n},s=this.meta.cellModificationStatus,{cellClientSideErrors:o,rowCreationStatus:i}=this.meta,a=this.getPkColumOrError();function u(b){e.forEach(b)}function f(b){u(w=>w.cells.forEach(S=>b(Ws(w.row.identifier,S.columnId))))}l&&u(b=>s2(b,a)),f(b=>{var w,S;s.set(b,{state:"processing"}),(S=(w=this.updatePromises)==null?void 0:w.get(b))==null||S.cancel()}),u(({row:b})=>{var w,S;Vl(b)&&i.set(b.identifier,{state:"processing"}),(S=(w=this.updatePromises)==null?void 0:w.get(b.identifier))==null||S.cancel()});const c=e.map(({row:b,cells:w})=>{const S=kd(w);return Vl(b)?Ke.records.add({...this.apiContext,record_def:{...Object.fromEntries(this.contextualFilters),...S}}):Ke.records.patch({...this.apiContext,record_id:b.record[a.id],record_def:S})}),m=await ja(c),d=new Map(jr(Ji(e,m),Ln(([b,w])=>[b.row.identifier,{blueprint:b,response:w}])));function g(b){const w=d.get(b.identifier);if(!w)return b;const{blueprint:S,response:T}=w;Vl(b)&&i.delete(b.identifier);function M(){const D=kd(S.cells);return b.withRecord({...b.record,...D})}if(T.status==="error")return S.cells.forEach(D=>{const O=Ws(b.identifier,D.columnId);s.set(O,{state:"failure",errors:[T]})}),M();const A=ol(T.value.results);if(!A)return M();for(const D of Object.keys(b.record)){const O=Ws(b.identifier,D);s.set(O,{state:"success"}),o.delete(O)}return Vl(b)?jo.fromDraft(b.withRecord(A)):b.withRecord(A)}this.fetchedRecordRows.update(b=>b.map(g)),this.newRecords.update(b=>b.map(g));let h=new Ct;for(const b of m){if(b.status==="error")continue;const w=b.value.linked_record_summaries;!w||(h=bd(h,dI(w)))}this.linkedRecordSummaries.addBespokeValues(h)}async updateCell(e,n){var a,u;const{record:t}=e,l=ve(this.columnsDataStore.pkColumn);if(l===void 0)return console.error("Unable to update record for a row without a primary key"),e;const s=t[l.id];if(s===void 0)return console.error("Unable to update record for a row with a missing primary key value"),e;const o=Ws(e.identifier,n.id);this.meta.cellModificationStatus.set(o,{state:"processing"}),(u=(a=this.updatePromises)==null?void 0:a.get(o))==null||u.cancel();const i=Ke.records.patch({...this.apiContext,record_id:s,record_def:{[String(n.id)]:t[n.id]}}).run();this.updatePromises||(this.updatePromises=new Map),this.updatePromises.set(o,i);try{const f=await i;return this.meta.cellModificationStatus.set(o,{state:"success"}),e.withRecord(f.results[0])}catch(f){this.meta.cellModificationStatus.set(o,{state:"failure",errors:[Sn.fromAnything(f)]})}finally{this.updatePromises.get(o)===i&&this.updatePromises.delete(o)}return e}getEmptyApiRecord(){return Object.fromEntries(ve(this.columnsDataStore.columns).filter(n=>n.default===null).map(n=>[String(n.id),null]))}async createRecord(e){var l,s;const n=ve(this.columnsDataStore.columns);if(YJ({row:e,columns:n,cellClientSideErrors:this.meta.cellClientSideErrors}),ve(this.meta.rowsWithClientSideErrors).has(e.identifier))return e;this.meta.rowCreationStatus.set(e.identifier,{state:"processing"}),(s=(l=this.createPromises)==null?void 0:l.get(e.identifier))==null||s.cancel();const t=Ke.records.add({...this.apiContext,record_def:{...Object.fromEntries(this.contextualFilters),...e.record}}).run();this.createPromises||(this.createPromises=new Map),this.createPromises.set(e.identifier,t);try{const i=(await t).results[0],a=jo.fromDraft(e.withRecord(i));return this.meta.clearAllStatusesAndErrorsForRows([a.identifier]),this.meta.rowCreationStatus.set(a.identifier,{state:"success"}),this.newRecords.update(u=>u.map(f=>f.identifier===e.identifier?a:f)),a}catch(o){this.meta.rowCreationStatus.set(e.identifier,{state:"failure",errors:[Sn.fromAnything(o)]})}finally{this.createPromises.get(e.identifier)===t&&this.createPromises.delete(e.identifier)}return e}async createOrUpdateRecord(e,n){const t=os(e)?Ks.fromPlaceholder(e):e;ve(this.newRecords).find(o=>o.identifier===t.identifier)||this.newRecords.update(o=>[...o,t]);let s;return ui(t)?s=await this.updateCell(t,n):s=await this.createRecord(t),s}async duplicateRecord(e){const n=ve(this.columnsDataStore.pkColumn),t={...e.record};n&&delete t[n.id];const l=new Ks({record:{...this.getEmptyApiRecord(),...t}});this.newRecords.update(s=>s.concat(l)),await this.createRecord(l)}async addEmptyRecord(){const e=new Ks({record:this.getEmptyApiRecord()});this.newRecords.update(n=>n.concat(e)),await this.createRecord(e)}getCellValue(e){const{columnId:n,rowId:t}=nr(e),s=ve(this.selectableRowsMap).get(t);if(!!s)return s.record[n]}destroy(){var e;(e=this.promise)==null||e.cancel(),this.promise=void 0,this.requestParamsUnsubscriber()}}class gI extends lc{constructor({database:n,table:t,hiddenColumns:l}){super();te(this,"apiContext");te(this,"promise");te(this,"fetchedColumns",Ue([]));te(this,"fetchStatus",Ue(void 0));te(this,"hiddenColumns");te(this,"columns");te(this,"pkColumn");this.apiContext={database_id:n.id,table_oid:t.oid},this.hiddenColumns=new Wd(l),this.columns=et([this.fetchedColumns,this.hiddenColumns],([s,o])=>s.filter(i=>!o.has(i.id))),this.pkColumn=et(this.fetchedColumns,s=>s.find(o=>o.primary_key)),this.fetch()}async fetch(){var n;try{this.fetchStatus.set({state:"processing"}),(n=this.promise)==null||n.cancel(),this.promise=Ke.columns.list_with_metadata({...this.apiContext}).run();const t=await this.promise;return this.fetchedColumns.set(t),this.fetchStatus.set({state:"success"}),t}catch(t){this.fetchStatus.set({state:"failure",errors:[Yt(t)]});return}finally{this.promise=void 0}}async add(n){await Ke.columns.add({...this.apiContext,column_data_list:[n]}).run(),await this.dispatch("columnAdded"),await this.fetch()}async addWithMetadata(n,t){const l=await Ke.columns.add({...this.apiContext,column_data_list:[n]}).run(),[s]=l;s&&At(t)&&await Ke.columns.metadata.set({...this.apiContext,column_meta_data_list:[{attnum:s,...t}]}).run(),await this.dispatch("columnAdded"),await this.fetch()}async rename(n,t){await Ke.columns.patch({...this.apiContext,column_data_list:[{id:n,name:t}]}).run(),await this.dispatch("columnRenamed")}async updateDescription(n,t){await Ke.columns.patch({...this.apiContext,column_data_list:[{id:n,description:t}]}).run(),this.fetchedColumns.update(l=>l.map(s=>s.id===n?{...s,description:t}:s))}async setNullabilityOfColumn(n,t){if(n.primary_key)throw new Error(`Column "${n.name}" cannot allow NULL because it is a primary key.`);await Ke.columns.patch({...this.apiContext,column_data_list:[{id:n.id,nullable:t}]}).run(),await this.fetch()}async patch(n){await Ke.columns.patch({...this.apiContext,column_data_list:[n]}).run(),await this.fetch(),await this.dispatch("columnPatched")}async setDisplayOptions(n,t){await Ke.columns.metadata.set({...this.apiContext,column_meta_data_list:[{attnum:n.id,...t}]}).run(),this.fetchedColumns.update(l=>l.map(s=>s.id===n.id?{...s,metadata:{...s.metadata,...t}}:s))}async changeType(n){await Ke.columns.patch({...this.apiContext,column_data_list:[{id:n.id,type:n.type,type_options:n.type_options}]}).run(),await Ke.columns.metadata.set({...this.apiContext,column_meta_data_list:[{attnum:n.id,...n.metadata}]}).run(),await this.fetch(),await this.dispatch("columnPatched")}destroy(){var n;(n=this.promise)==null||n.cancel(),this.promise=void 0,super.destroy()}async deleteColumn(n){await Ke.columns.delete({...this.apiContext,column_attnums:[n]}).run(),await this.dispatch("columnDeleted",n),await this.fetch()}}const ZJ=500;class Or{constructor({page:e,size:n}={}){te(this,"page");te(this,"size");te(this,"offset");te(this,"leftBound");te(this,"rightBound");this.page=e!=null?e:1,this.size=n!=null?n:ZJ,this.offset=(this.page-1)*this.size,this.leftBound=this.offset+1,this.rightBound=this.offset+this.size}recordsRequestParams(){return{limit:this.size,offset:this.offset}}terse(){return[this.page,this.size]}static fromTerse(e){return new Or({page:e[0],size:e[1]})}getMaxPage(e){return Math.ceil(e/this.size)}}function _m(r){const e={type:"attnum",value:r.columnId};function n(i=r.value){return{type:"literal",value:String(i)}}function t(i,a=[e,n()]){return{type:i,args:a}}function l(i,a=e){return{type:i,args:[a]}}function s(i,a=n()){return t(i,[l("json_array_length"),a])}return{contains_case_insensitive:t("contains_case_insensitive"),email_domain_contains:t("contains",[l("email_domain"),n()]),email_domain_equals:t("equal",[l("email_domain"),n()]),equal:t("equal"),greater_or_equal:t("greater_or_equal"),greater:t("greater"),json_array_contains:t("json_array_contains"),json_array_length_equals:s("equal"),json_array_length_greater_or_equal:s("greater_or_equal"),json_array_length_greater_than:s("greater"),json_array_length_less_or_equal:s("lesser_or_equal"),json_array_length_less_than:s("lesser"),json_array_not_empty:s("greater",n(0)),lesser_or_equal:t("lesser_or_equal"),lesser:t("lesser"),not_null:l("not_null"),null:l("null"),starts_with_case_insensitive:t("starts_with"),uri_authority_contains:t("contains",[l("uri_authority"),n()]),uri_scheme_equals:t("equal",[l("uri_scheme"),n()])}[r.conditionId]}function QJ(r){return[r.columnId,r.conditionId,r.value]}function xJ(r){return{columnId:r[0],conditionId:r[1],value:r[2]}}const x_=["and","or"],yd=x_[0];class es{constructor({combination:e,entries:n}={}){te(this,"combination");te(this,"entries");this.combination=e!=null?e:yd,this.entries=n!=null?n:[]}withEntries(e){return new es({combination:this.combination,entries:[...this.entries,...e]})}withEntry(e){return this.withEntries([e])}withoutEntry(e){return new es({combination:this.combination,entries:[...this.entries.slice(0,e),...this.entries.slice(e+1)]})}withoutColumns(e){return new es({combination:this.combination,entries:this.entries.filter(n=>!e.includes(n.columnId))})}withCombination(e){return new es({combination:e,entries:this.entries})}equals(e){if(this.entries.length!==e.entries.length||this.combination!==e.combination)return!1;for(let n=0;n<e.entries.length;n+=1){const t=this.entries[n],l=e.entries[n];if(t.columnId!==l.columnId||t.conditionId!==l.conditionId||t.value!==l.value)return!1}return!0}recordsRequestParams(){if(this.entries.length===0)return{};if(this.entries.length===1)return{filter:_m(this.entries[0])};let e=_m(this.entries[0]);for(let n=1;n<this.entries.length;n+=1)e={type:this.combination,args:[e,_m(this.entries[n])]};return{filter:e}}terse(){return[this.combination,this.entries.map(QJ)]}static fromTerse(e){var n;return new es({combination:(n=x_.find(t=>t===e[0]))!=null?n:yd,entries:e[1].map(xJ)})}}class xl{constructor({entries:e}={}){te(this,"entries");this.entries=e!=null?e:[]}hasColumn(e){return this.entries.some(n=>n.columnId===e)}withEntry(e){return new xl({entries:[...this.entries,e]})}withReplacedEntry(e,n){return new xl({entries:this.entries.map((t,l)=>l===e?n:t)})}withoutEntry(e){return new xl({entries:[...this.entries.slice(0,e),...this.entries.slice(e+1)]})}withoutColumns(e){return new xl({entries:this.entries.filter(n=>!e.includes(n.columnId))})}withPreprocForColumn(e,n){return new xl({entries:this.entries.map(t=>t.columnId===e?{columnId:e,preprocFnId:n}:t)})}recordsRequestParams(){return this.entries.length?{grouping:{columns:this.entries.map(e=>e.columnId),preproc:this.entries.map(e=>{var n;return(n=e.preprocFnId)!=null?n:null})}}:{}}terse(){return this.entries.map(e=>e.preprocFnId?[e.columnId,e.preprocFnId]:[e.columnId])}static fromTerse(e){return new xl({entries:e.map(n=>{var t;return{columnId:n[0],preprocFnId:(t=n[1])!=null?t:void 0}})})}}function eZ(r){return typeof r=="string"?r.trim().length>0:r!=null}class tZ extends Ct{constructor(e=[]){super(e),this.valueIsValid=eZ}getSearchParams(){return[...this].map(([e,n])=>({attnum:e,literal:n}))}}const hI=["ASCENDING","DESCENDING"];function bI(r,e){return e?{ASCENDING:ve(ce)("ascending_id"),DESCENDING:ve(ce)("descending_id")}:["string","uri"].includes(r)?{ASCENDING:"A-Z",DESCENDING:"Z-A"}:["date","datetime","time"].includes(r)?{ASCENDING:ve(ce)("oldest_to_newest_sort"),DESCENDING:ve(ce)("newest_to_oldest_sort")}:["number"].includes(r)?{ASCENDING:"0-9",DESCENDING:"9-0"}:{ASCENDING:ve(ce)("ascending"),DESCENDING:ve(ce)("descending")}}function nZ(r){return hI.includes(r)}const rZ=new Map([["ASCENDING","asc"],["DESCENDING","desc"]]);function lZ(r){const e=rZ.get(r);if(!e)throw new Error(`Invalid sort direction: ${r}`);return e}class lo extends Ct{constructor(e=[]){[...e].forEach(([,n])=>{if(!nZ(n))throw new Error(`Invalid sort direction: ${n}`)}),super(e)}recordsRequestParams(){const e=[...this].map(([n,t])=>({attnum:n,direction:lZ(t)}));return e.length?{order:e}:{}}recordsRequestParamsIncludingGrouping(e){return new lo(e.entries.map(t=>[t.columnId,"ASCENDING"])).withEntries(this).recordsRequestParams()}terse(){return[...this].map(([e,n])=>[e,n])}static fromTerse(e){return new lo(e.map(([n,t])=>[n,t]))}}function ep(r){var e,n,t,l;return{pagination:(e=r==null?void 0:r.pagination)!=null?e:new Or,sorting:(n=r==null?void 0:r.sorting)!=null?n:new lo,grouping:(t=r==null?void 0:r.grouping)!=null?t:new xl,filtering:(l=r==null?void 0:r.filtering)!=null?l:new es}}function sZ(r){return{pagination:Or.fromTerse(r[0]),sorting:lo.fromTerse(r[1]),grouping:xl.fromTerse(r[2]),filtering:es.fromTerse(r[3])}}function oZ(r){const e=ep(r);return[e.pagination.terse(),e.sorting.terse(),e.grouping.terse(),e.filtering.terse()]}function $I(r){return wi.encode(JSON.stringify(oZ(r)))}function iZ(r){if(!!r)try{return sZ(JSON.parse(wi.decode(r)))}catch(e){return}}const aZ=$I(ep());class ki{constructor(e){te(this,"pagination");te(this,"sorting");te(this,"grouping");te(this,"filtering");te(this,"searchFuzzy");te(this,"cellClientSideErrors",new Cl);te(this,"rowsWithClientSideErrors");te(this,"cellModificationStatus",new Cl);te(this,"rowDeletionStatus",new Cl);te(this,"rowCreationStatus",new Cl);te(this,"rowStatus");te(this,"sheetState");te(this,"serialization");te(this,"recordsRequestParamsData");te(this,"cleanupFunctions",[]);const n=ep(e);this.pagination=Ue(n.pagination),this.sorting=Ue(n.sorting),this.grouping=Ue(n.grouping),this.filtering=Ue(n.filtering),this.searchFuzzy=Ue(new tZ),this.rowsWithClientSideErrors=et(this.cellClientSideErrors,s=>new vn([...s.keys()].map(Qi))),this.rowStatus=et([this.cellClientSideErrors,this.cellModificationStatus,this.rowDeletionStatus,this.rowCreationStatus],([s,o,i,a])=>UJ({cellClientSideErrors:s,cellModificationStatus:o,rowDeletionStatus:i,rowCreationStatus:a})),this.sheetState=et([this.cellModificationStatus,this.rowDeletionStatus,this.rowCreationStatus],([s,o,i])=>WJ({cellModificationStatus:s,rowDeletionStatus:o,rowCreationStatus:i})),this.serialization=et([this.pagination,this.sorting,this.grouping,this.filtering],([s,o,i,a])=>{const u=$I({pagination:s,sorting:o,grouping:i,filtering:a});return u===aZ?"":u}),this.recordsRequestParamsData=et([this.pagination,this.sorting,this.grouping,this.filtering,this.searchFuzzy],([s,o,i,a,u])=>({pagination:s,sorting:o,grouping:i,filtering:a,searchFuzzy:u}));const{pagination:t}=this;function l(){t.update(s=>new Or({size:s.size,page:1}))}this.cleanupFunctions.push(this.filtering.subscribe(l),this.searchFuzzy.subscribe(l))}clearAllStatusesAndErrorsForRows(e){this.rowCreationStatus.delete(e),this.rowDeletionStatus.delete(e);const n=new Set(e);this.cellClientSideErrors.delete([...this.cellClientSideErrors.getKeys()].filter(t=>n.has(Qi(t)))),this.cellModificationStatus.delete([...this.cellModificationStatus.getKeys()].filter(t=>n.has(Qi(t))))}clearAllStatusesAndErrors(){this.rowCreationStatus.clear(),this.rowDeletionStatus.clear(),this.cellClientSideErrors.clear(),this.cellModificationStatus.clear()}static fromSerialization(e){return new ki(iZ(e))}destroy(){this.cleanupFunctions.forEach(e=>e())}}function o2(r){return r.rowOrigin==="fetchedFromDb"||r.rowOrigin==="newlyCreatedViaUi"?r.rowNumber:r.rowOrigin==="staticlyPresentInUi"?0:Rt(r.rowOrigin)}function uZ({recordRows:r,grouping:e,pagination:n}){var o;const l=((o=e==null?void 0:e.columnIds)!=null?o:[]).length>0;function s(i){return i+n.offset+1}if(l&&e){const i=[];let a=0;return e.groups.forEach(u=>{const f={};e.columnIds.forEach(c=>{u.eqValue[c],f[c]=u.eqValue[c]}),i.push({row:new VJ({group:u,groupValues:f}),rowOrigin:"staticlyPresentInUi"}),u.resultIndices.forEach(c=>{const m=r[c];!m||(i.push({row:m,rowOrigin:"fetchedFromDb",rowNumber:s(a)}),a+=1)})}),i}return r.map((i,a)=>({row:i,rowOrigin:"fetchedFromDb",rowNumber:s(a)}))}class fZ{constructor({meta:e,recordsData:n}){te(this,"scrollOffset");te(this,"horizontalScrollOffset");te(this,"displayRowDescriptors");te(this,"placeholderRowId");this.horizontalScrollOffset=Ue(0),this.scrollOffset=Ue(0);const t=Ue("");this.placeholderRowId=t,this.displayRowDescriptors=et([n.fetchedRecordRows,n.newRecords,n.totalCount,n.grouping,e.pagination],([l,s,o,i,a])=>{let u=uZ({recordRows:l,grouping:i,pagination:a});s.length>0&&(u=u.concat({row:new zJ,rowOrigin:"staticlyPresentInUi"}).concat(s.map((c,m)=>({row:c,rowNumber:a.offset+(o!=null?o:0)+m+1,rowOrigin:"newlyCreatedViaUi"}))));const f=new Z_({record:n.getEmptyApiRecord()});return t.set(f.identifier),u=u.concat({row:f,rowOrigin:"staticlyPresentInUi"}),u})}}function cZ(r){return new Promise(e=>{const n=new Image;n.onload=()=>e(n),n.onerror=()=>e(void 0),n.src=r})}function tp(r){var t;const{mimetype:e}=r;return((t=e==null?void 0:e.split("/").at(0))!=null?t:"unknown")==="image"?"image":"default"}function po(r){const e=(()=>{if(typeof r=="object")return r;try{return JSON.parse(String(r))}catch(n){return}})();if(typeof e=="object"&&e!==null&&!!Ss(e,"mash")&&!!Ss(e,"uri"))return e}async function vI(){return ml({title:ve(ce)("remove_file_prompt"),body:ve(ce)("remove_file_confirmation_body"),proceedButton:{label:ve(ce)("remove"),icon:Mt}})}class mZ{constructor(e,n){te(this,"uri");te(this,"name");te(this,"mimetype");te(this,"thumbnail");te(this,"attachment");te(this,"direct");te(this,"showFileStorageInfo");this.uri=e.uri,this.name=e.name,this.mimetype=e.mimetype,this.thumbnail=e.thumbnail?Ui(e.thumbnail,n):null,this.attachment=Ui(e.attachment,n),this.direct=Ui(e.direct,n);const t=Pl();this.showFileStorageInfo=t.is_authenticated}thumbnailWithHeight(e){if(this.thumbnail)return Ui(this.thumbnail,{height:e})}}var Cr=(r=>(r.Up="up",r.Down="down",r.Left="left",r.Right="right",r))(Cr||{});function wI(r){switch(r){case"left":return-1;case"right":return 1;default:return 0}}function dZ(r){switch(r){case"up":return-1;case"down":return 1;default:return 0}}class fi{constructor(e=[]){te(this,"values");te(this,"indexLookup");if(this.values=e,this.indexLookup=new Ct(e.map((n,t)=>[n,t])),new Set(e).size!==e.length)throw new Error("Duplicate values are not allowed within a Series.")}getIndex(e){return this.indexLookup.get(e)}get length(){return this.values.length}range(e,n){const t=this.getIndex(e),l=this.getIndex(n);if(t===void 0||l===void 0)throw new Error("Id value not found within sequence.");const s=Math.min(t,l),o=Math.max(t,l);return this.values.slice(s,o+1)}at(e){return this.values[e]}get first(){return this.at(0)}get last(){return this.at(this.values.length-1)}has(e){return this.getIndex(e)!==void 0}best(e,n){const t=sl(l=>this.has(l),e);return tL(n,l=>{var s;return(s=this.getIndex(l))!=null?s:0},t)}min(e){return this.best(e,aL)}max(e){return this.best(e,sL)}offset(e,n){if(n===0)return this.has(e)?e:void 0;const t=this.getIndex(e);if(t!==void 0)return this.values[t+n]}collapsedOffset(e,n){if(n===0)return;const t=n>0?this.max(e):this.min(e);if(t!==void 0)return this.offset(t,n)}[Symbol.iterator](){return this.values[Symbol.iterator]()}}function Fi(){return{type:"none"}}function i2(r){return{type:"dataCell",cellId:r}}function a2(r){return{type:"placeholderCell",cellId:r}}class np{constructor(e=new fi,n=new fi,t){te(this,"rowIds");te(this,"columnIds");te(this,"placeholderRowId");this.rowIds=e,this.columnIds=n,this.placeholderRowId=t}normalizeFlexibleRowId(e){return e===this.placeholderRowId?this.rowIds.last:e}allDataCells(){return Wi(this.rowIds,this.columnIds)}dataCellsInFlexibleRowRange(e,n){const t=this.normalizeFlexibleRowId(e);if(t===void 0)return[];const l=this.normalizeFlexibleRowId(n);return l===void 0?[]:Wi(this.rowIds.range(t,l),this.columnIds)}dataCellsInColumnRange(e,n){return Wi(this.rowIds,this.columnIds.range(e,n))}dataCellsInFlexibleCellRange(e,n){const t=nr(e),l=nr(n);return this.dataCellsInFlexibleRowColumnRange(t.rowId,l.rowId,t.columnId,l.columnId)}dataCellsInFlexibleRowColumnRange(e,n,t,l){const s=this.normalizeFlexibleRowId(e);if(s===void 0)return[];const o=this.normalizeFlexibleRowId(n);if(o===void 0)return[];const i=this.rowIds.range(s,o),a=this.columnIds.range(t,l);return Wi(i,a)}getAdjacentCell(e,n){const t=nr(e),l=wI(n),s=this.columnIds.offset(t.columnId,l);if(s===void 0)return Fi();if(t.rowId===this.placeholderRowId){if(n===Cr.Up){const a=this.rowIds.last;return a===void 0?Fi():i2(Ur(a,s))}return n===Cr.Down?Fi():a2(Ur(t.rowId,s))}const o=dZ(n),i=this.rowIds.offset(t.rowId,o);if(i===void 0){if(n===Cr.Down){if(this.placeholderRowId===void 0)return Fi();const a=Ur(this.placeholderRowId,s);return a2(a)}return Fi()}return i2(Ur(i,s))}get hasResultRows(){return this.rowIds.length>0}get hasPlaceholder(){return this.placeholderRowId!==void 0}}class _Z{constructor(e,n){te(this,"value");te(this,"effects",[]);this.value=Ue(e),this.effects=Object.entries(n).map(([t,l])=>({name:t,run:l}))}runEffects(e,n={}){this.effects.filter(({name:t})=>{var l;return!((l=n.prevent)!=null&&l.includes(t))}).forEach(({run:t})=>t(e))}subscribe(e){return this.value.subscribe(e)}update(e,n={}){this.value.update(t=>{const l=e(t);return this.runEffects(l,n),l})}set(e){this.value.set(e)}}function Ao(r,e,n){return n[r[e]](r)}function pm(r,e){return e[r]}function Cd(r){const e=r.closest("[data-sheet-element]");if(!e)return;const n=e.getAttribute("data-sheet-element");if(!!n){if(n==="data-cell"){const t=e.getAttribute("data-sheet-row-type"),l=e.getAttribute("data-cell-selection-id");return l?{type:t==="placeholder"?"placeholder-data-cell":"data-cell",cellId:l}:void 0}if(n==="column-header-cell"){const t=e.getAttribute("data-column-identifier");return t?{type:"column-header-cell",columnId:t}:void 0}if(n==="row-header-cell"){const t=e.getAttribute("data-sheet-row-type"),l=e.getAttribute("data-row-selection-id");return l?{type:t==="placeholder"?"placeholder-row-header-cell":"row-header-cell",rowId:l}:void 0}}}function pZ({selection:r,sheetElement:e,startingCell:n,targetCell:t,selectionInProgress:l}){let s;function o(u){r.update(f=>f.ofSheetCellRange(n,u))}function i(u){const f=u.target;if(f===s)return;const c=Cd(f);!c||o(c)}function a(){e.removeEventListener("mousemove",i),window.removeEventListener("mouseup",a),l.set(!1)}l.set(!0),o(t),e.addEventListener("mousemove",i),window.addEventListener("mouseup",a)}function u2(r){return Math.max(0,r)}function f2(r,e,n){var c;const t=n.min(r),l=n.max(r);if(t!==void 0&&l!==void 0)return[t,l];const s=Math.min(r.size,n.length),o=(c=Rr(e.min(r),m=>e.getIndex(m)))!=null?c:0,i=u2(o+s-1-n.length),a=u2(o-i),u=n.at(a),f=n.at(a+s-1);return[u,f]}function ci(){return{activeCellId:void 0,cellIds:new vn,columnIds:new vn,rowIds:new vn,pasteOperation:"none",getFullySelectedColumnIds:()=>new vn,adaptToModifiedPlane:()=>ci()}}function Ef(r){return{activeCellId:void 0,cellIds:new vn,columnIds:new vn(r),rowIds:new vn,pasteOperation:"none",getFullySelectedColumnIds(){return this.columnIds},adaptToModifiedPlane({newPlane:e}){if(e.hasResultRows)return ci();const n=e.columnIds.min(this.columnIds),t=e.columnIds.max(this.columnIds),l=n===void 0||t===void 0?[]:e.columnIds.range(n,t);return Ef(l)},collapsedAndMoved(e,n){const t=wI(e),l=n.columnIds.collapsedOffset(this.columnIds,t);return l===void 0?this:Ef([l])}}}function Sd(){return Ef([])}function hs(r,e){const n=Ln(nr,r),t=new vn(r);return{activeCellId:(()=>e===void 0?ol(r):t.has(e)?e:ol(r))(),cellIds:t,columnIds:new vn(Ln(({columnId:s})=>s,n)),rowIds:new vn(Ln(({rowId:s})=>s,n)),pasteOperation:"update",getFullySelectedColumnIds(s){var d;const o=this.rowIds.size,i=s.rowIds.length;if(o<i)return new vn;const a=this.columnIds.size;if(this.cellIds.size/a===i)return this.columnIds;const c=new Map;for(const g of this.cellIds){const{columnId:h}=nr(g),b=(d=c.get(h))!=null?d:0;c.set(h,b+1)}const m=jr(c,sl(([,g])=>g===i),Ln(([g])=>g));return new vn(m)},adaptToModifiedPlane({oldPlane:s,newPlane:o}){if(!o.hasResultRows)return Sd();const[i,a]=f2(this.rowIds,s.rowIds,o.rowIds),[u,f]=f2(this.columnIds,s.columnIds,o.columnIds);if(i===void 0||a===void 0||u===void 0||f===void 0)return ci();const c=o.dataCellsInFlexibleRowColumnRange(i,a,u,f);return hs(c,this.activeCellId)}}}function gZ(r){return hs([r],r)}function kI(r){return{activeCellId:r,cellIds:new vn([r]),columnIds:new vn([nr(r).columnId]),rowIds:new vn,pasteOperation:"insert",getFullySelectedColumnIds:()=>new vn,adaptToModifiedPlane({oldPlane:e,newPlane:n}){const t=ol(this.columnIds);return t===void 0?ci():n.columnIds.has(t)&&n.placeholderRowId===e.placeholderRowId?kI(t):ci()}}}class Mf{constructor(e=new np,n=ci()){te(this,"plane");te(this,"basis");te(this,"fullySelectedColumnIds");this.plane=e,this.basis=n,this.fullySelectedColumnIds=this.basis.getFullySelectedColumnIds(this.plane)}get activeCellId(){return this.basis.activeCellId}get cellIds(){return this.basis.cellIds}get rowIds(){return this.basis.rowIds}get columnIds(){return this.basis.columnIds}get pasteOperation(){return this.basis.pasteOperation}withBasis(e){return new Mf(this.plane,e)}ofAllDataCells(){return this.plane.hasResultRows?this.withBasis(hs(this.plane.allDataCells())):this.withBasis(Sd())}ofFirstDataCell(){const e=ol(this.plane.allDataCells());return e===void 0?this.withBasis(Sd()):this.withBasis(hs([e]))}ofNewRecordDataEntryCell(e=this.plane.columnIds.first){const n=this.plane.rowIds.last;if(!n)return this;const t=e?this.plane.columnIds.getIndex(e):0,l=this.plane.columnIds.at(t!=null?t:0);return l?this.ofOneCell(Ur(n,l)):this}ofRowRange(e,n){var t;return this.withBasis(hs(this.plane.dataCellsInFlexibleRowRange(e,n),Ur(e,(t=this.plane.columnIds.first)!=null?t:"")))}ofColumnRange(e,n){const t=this.plane.rowIds.first?hs(this.plane.dataCellsInColumnRange(e,n),Ur(this.plane.rowIds.first,e)):Ef(this.plane.columnIds.range(e,n));return this.withBasis(t)}ofRowColumnIntersection(e,n){return this.withBasis(hs(Wi(e,n)))}ofDataCellRange(e,n){return this.withBasis(hs(this.plane.dataCellsInFlexibleCellRange(e,n),e))}ofSheetCellRange(e,n){const t=()=>{var s;return(s=this.plane.rowIds.first)!=null?s:""},l=()=>{var s;return(s=this.plane.columnIds.first)!=null?s:""};return Ao(e,"type",{"data-cell":({cellId:s})=>{const o=Ao(n,"type",{"data-cell":i=>i.cellId,"column-header-cell":i=>Ur(t(),i.columnId),"row-header-cell":i=>Ur(i.rowId,l()),"placeholder-row-header-cell":i=>Ur(i.rowId,l()),"placeholder-data-cell":i=>i.cellId});return this.ofDataCellRange(s,o)},"column-header-cell":({columnId:s})=>{const o=Ao(n,"type",{"data-cell":i=>nr(i.cellId).columnId,"column-header-cell":i=>i.columnId,"row-header-cell":()=>l(),"placeholder-row-header-cell":()=>l(),"placeholder-data-cell":i=>nr(i.cellId).columnId});return this.ofColumnRange(s,o)},"row-header-cell":({rowId:s})=>{const o=Ao(n,"type",{"data-cell":i=>nr(i.cellId).rowId,"column-header-cell":()=>t(),"row-header-cell":i=>i.rowId,"placeholder-row-header-cell":i=>i.rowId,"placeholder-data-cell":i=>nr(i.cellId).rowId});return this.ofRowRange(s,o)},"placeholder-row-header-cell":({rowId:s})=>this.ofRowRange(s,s),"placeholder-data-cell":({cellId:s})=>Ao(n,"type",{"data-cell":()=>this.ofOneCell(s),"column-header-cell":()=>this.ofOneCell(s),"row-header-cell":()=>this.ofOneCell(s),"placeholder-row-header-cell":()=>this.ofOneCell(s),"placeholder-data-cell":({cellId:o})=>this.ofOneCell(o)})})}ofOneCell(e){const{rowId:n}=nr(e),{placeholderRowId:t}=this.plane,l=n===t?kI:gZ;return this.withBasis(l(e))}ofOneRow(e){return this.ofRowRange(e,e)}ofOneColumn(e){return this.ofColumnRange(e,e)}forNewPlane(e){return new Mf(e,this.basis.adaptToModifiedPlane({oldPlane:this.plane,newPlane:e}))}drawnToDataCell(e){var n;return this.ofDataCellRange((n=this.activeCellId)!=null?n:e,e)}drawnToRow(e){const n=this.activeCellId?nr(this.activeCellId).rowId:e;return this.ofRowRange(n,e)}drawnToColumn(e){const n=this.activeCellId?nr(this.activeCellId).columnId:e;return this.ofColumnRange(n,e)}collapsedAndMoved(e){var l,s;const n=(s=(l=this.basis).collapsedAndMoved)==null?void 0:s.call(l,e,this.plane);if(n)return this.withBasis(n);if(this.activeCellId===void 0)return this.ofFirstDataCell();const t=this.plane.getAdjacentCell(this.activeCellId,e);return t.type==="none"?this:t.type==="dataCell"||t.type==="placeholderCell"?this.ofOneCell(t.cellId):Rt(t)}withActiveCellAdvanced(e="forward"){return console.log(e,"Active cell advancing is not yet implemented"),this}resized(e){return console.log(e,"Sheet selection resizing is not yet implemented"),this}}class yI extends lc{constructor(n){super();te(this,"selection");te(this,"cleanupFunctions",[]);this.selection=new _Z(new Mf,{focus:()=>this.focus()}),this.cleanupFunctions.push(n.subscribe(t=>this.selection.update(l=>l.forNewPlane(t),{prevent:["focus"]})))}focus(){this.dispatch("focus")}subscribe(n){return this.selection.subscribe(n)}update(n){this.selection.update(n)}updateWithoutFocus(n){this.selection.update(n,{prevent:["focus"]})}set(n){this.selection.set(n)}setWithoutFocus(n){this.selection.update(()=>n,{prevent:["focus"]})}destroy(){super.destroy(),this.cleanupFunctions.forEach(n=>n())}}function hZ(r,e){function n(t){return t.columns.length!==e.length?!1:t.columns.every(l=>e.includes(l))}return r.filter(n)}function bZ(r){return et(r,({constraints:e})=>new Set(e.filter(n=>n.type==="unique"&&n.columns.length===1).map(n=>n.columns[0])))}class $Z extends lc{constructor({database:n,table:t}){super();te(this,"apiContext");te(this,"store");te(this,"promise");te(this,"uniqueColumns");this.apiContext={database_id:n.id,table_oid:t.oid},this.store=Ue({state:qn.Loading,constraints:[]}),this.uniqueColumns=bZ(this.store),this.fetch()}set(n){this.store.set(n)}update(n){this.store.update(n)}subscribe(n){return this.store.subscribe(n)}get(){return ve(this.store)}async fetch(){var n;this.update(t=>({...t,state:qn.Loading}));try{(n=this.promise)==null||n.cancel(),this.promise=Ke.constraints.list(this.apiContext).run();const t=await this.promise,l={state:qn.Done,constraints:t};return this.set(l),l}catch(t){this.set({state:qn.Error,error:t instanceof Error?t.message:void 0,constraints:[]})}finally{this.promise=void 0}}async add(n){await Ke.constraints.add({...this.apiContext,constraint_def_list:[n]}).run(),await this.dispatch("constraintAdded"),await this.fetch()}async remove(n){await Ke.constraints.delete({...this.apiContext,constraint_oid:n}).run(),await this.dispatch("constraintRemoved"),await this.fetch()}async setUniquenessOfColumn(n,t){if(n.primary_key){if(!t)throw new Error(`Column "${n.name}" must remain unique because it is a primary key.`);return}const l=ve(this.uniqueColumns).has(n.id);if(t===l)return;if(t){await this.add({type:"u",columns:[n.id]});return}const{constraints:s}=ve(this.store),o=hZ(s,[n.id]).filter(i=>i.type==="unique");await Promise.all(o.map(i=>Ke.constraints.delete({...this.apiContext,constraint_oid:i.oid}).run())),await this.fetch()}destroy(){var n;(n=this.promise)==null||n.cancel(),this.promise=void 0}}function vZ(r){let e,n;const t=r[1].default,l=ke(t,r,r[0],null);return{c(){e=E("span"),l&&l.c(),I(e,"class","postgres-keyword")},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,[o]){l&&l.p&&(!n||o&1)&&Ce(l,t,s,s[0],n?ye(t,s[0],o,null):Se(s[0]),null)},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function wZ(r,e,n){let{$$slots:t={},$$scope:l}=e;return r.$$set=s=>{"$$scope"in s&&n(0,l=s.$$scope)},[l,t]}class CI extends Q{constructor(e){super(),Z(this,e,wZ,vZ,J,{})}}function kZ(r){let e;return{c(){e=L("DEFAULT")},m(n,t){v(n,e,t)},d(n){n&&$(e)}}}function yZ(r){let e,n;return e=new CI({props:{$$slots:{default:[kZ]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}class Ic extends Q{constructor(e){super(),Z(this,e,null,yZ,J,{})}}function CZ(r){let e;return{c(){e=L("NULL")},m(n,t){v(n,e,t)},d(n){n&&$(e)}}}function SZ(r){let e,n;return e=new CI({props:{$$slots:{default:[CZ]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}class yi extends Q{constructor(e){super(),Z(this,e,null,SZ,J,{})}}function TZ(r){let e;const n=r[3].default,t=ke(n,r,r[2],null),l=t||RZ(r);return{c(){l&&l.c()},m(s,o){l&&l.m(s,o),e=!0},p(s,o){t?t.p&&(!e||o&4)&&Ce(t,n,s,s[2],e?ye(n,s[2],o,null):Se(s[2]),null):l&&l.p&&(!e||o&1)&&l.p(s,e?o:-1)},i(s){e||(_(l,s),e=!0)},o(s){p(l,s),e=!1},d(s){l&&l.d(s)}}}function IZ(r){let e,n;return e=new z_({props:{matchParts:r[1]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.matchParts=t[1]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function EZ(r){let e,n;return e=new Ic({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function MZ(r){let e,n;return e=new yi({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function RZ(r){let e;return{c(){e=L(r[0])},m(n,t){v(n,e,t)},p(n,t){t&1&&z(e,n[0])},d(n){n&&$(e)}}}function DZ(r){let e,n,t,l;const s=[MZ,EZ,IZ,TZ],o=[];function i(a,u){return a[0]===null?0:a[0]===void 0?1:a[1]?2:3}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,[u]){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function AZ(r,e,n){let{$$slots:t={},$$scope:l}=e,{value:s}=e,{matchParts:o=void 0}=e;return r.$$set=i=>{"value"in i&&n(0,s=i.value),"matchParts"in i&&n(1,o=i.matchParts),"$$scope"in i&&n(2,l=i.$$scope)},[s,o,l,t]}class Ga extends Q{constructor(e){super(),Z(this,e,AZ,DZ,J,{value:0,matchParts:1})}}function SI(r){return r.length>1?r.replace(/s$/i,""):r}function TI(r){var e,n;return((n=(e=r[0])==null?void 0:e.toLocaleUpperCase())!=null?n:"")+r.slice(1)}function OZ(r){return r.split(" ").map(TI).join(" ")}function II(r){if(typeof r=="number")return r;if(r instanceof Array)return r.length;if("size"in r)return r.size;if(typeof r=="object"&&typeof r[Symbol.iterator]=="function"){let e=0;for(const n of r)e+=1;return e}return 0}function FZ(r,e="en-US"){return typeof Intl=="object"&&typeof Intl.PluralRules=="function"?new Intl.PluralRules(e).select(r):r===0?"zero":r===1?"one":r===2?"two":"many"}function NZ(r,e="en-US"){return FZ(II(r),e)}function tl(r,e){return{zero:e,one:r,two:e,few:e,many:e,other:e}}const PZ={cells:tl("cell","cells"),columns:tl("column","columns"),explorations:tl("exploration","explorations"),filters:tl("filter","filters"),matches:tl("match","matches"),records:tl("record","records"),rows:tl("row","rows"),results:tl("result","results"),schemas:tl("schema","schemas"),tables:tl("table","tables"),times:tl("time","times"),values:tl("value","values")};function LZ(r,e="lower"){switch(e){case"title":return OZ(r);case"sentence":return TI(r);default:return r}}function HZ(r,e,n="lower"){const t=PZ[e][NZ(r)];return LZ(t,n)}function VZ(r,e,n){if(r===0){if(e==="numeric")return String(r);if("word"in e)return e.word;Rt(e)}if(r===1){if(n==="numeric")return String(r);if(n==="hidden")return"";if("word"in n)return n.word;Rt(n)}return String(r)}function c2(r,e,{casing:n,countWhenZero:t="numeric",countWhenSingular:l="numeric"}={}){const s=II(r),o=VZ(s,t,l),i=HZ(s,e,n);return[o,i].filter(Boolean).join(" ")}function m2(r){let e,n,t;return{c(){e=E("div"),I(e,"class",n=S1(`cell-background ${r[2]}`)+" svelte-2cx0as"),I(e,"style",t=`background-color: ${r[1]};`)},m(l,s){v(l,e,s)},p(l,s){s&4&&n!==(n=S1(`cell-background ${l[2]}`)+" svelte-2cx0as")&&I(e,"class",n),s&2&&t!==(t=`background-color: ${l[1]};`)&&I(e,"style",t)},d(l){l&&$(e)}}}function zZ(r){let e,n=r[0]&&m2(r);return{c(){n&&n.c(),e=ae()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,[l]){t[0]?n?n.p(t,l):(n=m2(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:H,o:H,d(t){n&&n.d(t),t&&$(e)}}}function BZ(r,e,n){let{when:t=!0}=e,{color:l}=e,{class:s=""}=e;return r.$$set=o=>{"when"in o&&n(0,t=o.when),"color"in o&&n(1,l=o.color),"class"in o&&n(2,s=o.class)},[t,l,s]}class ll extends Q{constructor(e){super(),Z(this,e,BZ,zZ,J,{when:0,color:1,class:2})}}function d2(r){let e,n;return e=new ll({props:{color:"var(--cell-background-color)",when:r[6]!=="noMatch"}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&64&&(s.when=t[6]!=="noMatch"),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function qZ(r){let e,n,t,l,s,o,i,a=r[3]!=="edit"&&d2(r);const u=r[14].default,f=ke(u,r,r[13],null);let c=[{class:"cell-wrapper"},{"data-active-cell":t=r[1]?"":void 0},{tabindex:l=-1},r[12]],m={};for(let d=0;d<c.length;d+=1)m=se(m,c[d]);return{c(){e=E("div"),a&&a.c(),n=N(),f&&f.c(),Tt(e,m),ie(e,"disabled",r[2]),ie(e,"is-edit-mode",r[3]==="edit"),ie(e,"truncate",r[4]&&!r[7]),ie(e,"h-align-right",r[9]==="right"&&!r[7]),ie(e,"has-padding",r[5]&&!r[7]),ie(e,"exact-match",r[6]==="exactMatch"),ie(e,"substring-match",r[6]==="substringMatch"),ie(e,"no-match",r[6]==="noMatch"),ie(e,"is-tabular-number",r[8]),ie(e,"svelte-181gwjf",!0)},m(d,g){v(d,e,g),a&&a.m(e,null),R(e,n),f&&f.m(e,null),r[21](e),s=!0,o||(i=[He(e,"click",r[15]),He(e,"dblclick",r[16]),He(e,"mousedown",r[11]),He(e,"mouseup",r[17]),He(e,"mouseenter",r[18]),He(e,"mouseleave",r[19]),He(e,"keydown",r[20]),He(e,"copy",r[10])],o=!0)},p(d,[g]){d[3]!=="edit"?a?(a.p(d,g),g&8&&_(a,1)):(a=d2(d),a.c(),_(a,1),a.m(e,n)):a&&(U(),p(a,1,1,()=>{a=null}),W()),f&&f.p&&(!s||g&8192)&&Ce(f,u,d,d[13],s?ye(u,d[13],g,null):Se(d[13]),null),Tt(e,m=de(c,[{class:"cell-wrapper"},(!s||g&2&&t!==(t=d[1]?"":void 0))&&{"data-active-cell":t},{tabindex:l},g&4096&&d[12]])),ie(e,"disabled",d[2]),ie(e,"is-edit-mode",d[3]==="edit"),ie(e,"truncate",d[4]&&!d[7]),ie(e,"h-align-right",d[9]==="right"&&!d[7]),ie(e,"has-padding",d[5]&&!d[7]),ie(e,"exact-match",d[6]==="exactMatch"),ie(e,"substring-match",d[6]==="substringMatch"),ie(e,"no-match",d[6]==="noMatch"),ie(e,"is-tabular-number",d[8]),ie(e,"svelte-181gwjf",!0)},i(d){s||(_(a),_(f,d),s=!0)},o(d){p(a),p(f,d),s=!1},d(d){d&&$(e),a&&a.d(),f&&f.d(d),r[21](null),o=!1,Ot(i)}}}function UZ(r,e,n){const t=["element","isActive","disabled","mode","multiLineTruncate","hasPadding","valueComparisonOutcome","isIndependentOfSheet","useTabularNumbers","horizontalAlignment"];let l=We(e,t),{$$slots:s={},$$scope:o}=e;const i=Et();let{element:a=void 0}=e,{isActive:u=!1}=e,{disabled:f=!1}=e,{mode:c="default"}=e,{multiLineTruncate:m=!1}=e,{hasPadding:d=!0}=e,{valueComparisonOutcome:g=void 0}=e,{isIndependentOfSheet:h=!1}=e,{useTabularNumbers:b=!1}=e,{horizontalAlignment:w="left"}=e;function S(){!a||!a.contains(document.activeElement)||a.focus()}function T(V){V.target!==a&&V.stopPropagation()}function M(V){c==="edit"&&V.stopPropagation(),i("mousedown",V)}function A(V){Re.call(this,r,V)}function D(V){Re.call(this,r,V)}function O(V){Re.call(this,r,V)}function F(V){Re.call(this,r,V)}function P(V){Re.call(this,r,V)}function B(V){Re.call(this,r,V)}function j(V){we[V?"unshift":"push"](()=>{a=V,n(0,a)})}return r.$$set=V=>{e=se(se({},e),pt(V)),n(12,l=We(e,t)),"element"in V&&n(0,a=V.element),"isActive"in V&&n(1,u=V.isActive),"disabled"in V&&n(2,f=V.disabled),"mode"in V&&n(3,c=V.mode),"multiLineTruncate"in V&&n(4,m=V.multiLineTruncate),"hasPadding"in V&&n(5,d=V.hasPadding),"valueComparisonOutcome"in V&&n(6,g=V.valueComparisonOutcome),"isIndependentOfSheet"in V&&n(7,h=V.isIndependentOfSheet),"useTabularNumbers"in V&&n(8,b=V.useTabularNumbers),"horizontalAlignment"in V&&n(9,w=V.horizontalAlignment),"$$scope"in V&&n(13,o=V.$$scope)},r.$$.update=()=>{r.$$.dirty&8&&c==="default"&&S()},[a,u,f,c,m,d,g,h,b,w,T,M,l,o,s,A,D,O,F,P,B,j]}class go extends Q{constructor(e){super(),Z(this,e,UZ,qZ,J,{element:0,isActive:1,disabled:2,mode:3,multiLineTruncate:4,hasPadding:5,valueComparisonOutcome:6,isIndependentOfSheet:7,useTabularNumbers:8,horizontalAlignment:9})}}function _2(r,e,n){const t=r.slice();return t[8]=e[n],t}function p2(r){let e,n,t,l=r[3]&&g2(r),s=r[1],o=[];for(let a=0;a<s.length;a+=1)o[a]=h2(_2(r,s,a));const i=a=>p(o[a],1,1,()=>{o[a]=null});return{c(){l&&l.c(),e=N(),n=E("div");for(let a=0;a<o.length;a+=1)o[a].c();I(n,"class","values svelte-108yu68"),ie(n,"display-all",r[0]||r[3]),ie(n,"independent",r[3])},m(a,u){l&&l.m(a,u),v(a,e,u),v(a,n,u);for(let f=0;f<o.length;f+=1)o[f].m(n,null);t=!0},p(a,u){if(a[3]?l?l.p(a,u):(l=g2(a),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),u&18){s=a[1];let f;for(f=0;f<s.length;f+=1){const c=_2(a,s,f);o[f]?(o[f].p(c,u),_(o[f],1)):(o[f]=h2(c),o[f].c(),_(o[f],1),o[f].m(n,null))}for(U(),f=s.length;f<o.length;f+=1)i(f);W()}(!t||u&9)&&ie(n,"display-all",a[0]||a[3]),(!t||u&8)&&ie(n,"independent",a[3])},i(a){if(!t){for(let u=0;u<s.length;u+=1)_(o[u]);t=!0}},o(a){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)p(o[u]);t=!1},d(a){l&&l.d(a),a&&$(e),a&&$(n),Hn(o,a)}}}function g2(r){let e,n=c2(r[1],"values")+"",t;return{c(){e=E("div"),t=L(n),I(e,"class","count svelte-108yu68")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&2&&n!==(n=c2(l[1],"values")+"")&&z(t,n)},d(l){l&&$(e)}}}function WZ(r){let e,n;return e=new Qr({props:{$$slots:{default:[YZ]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2066&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function jZ(r){let e,n;return e=new yi({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function YZ(r){let e=r[4](r[8])+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&18&&e!==(e=t[4](t[8])+"")&&z(n,e)},d(t){t&&$(n)}}}function h2(r){let e,n,t,l,s;const o=[jZ,WZ],i=[];function a(u,f){return u[8]===null?0:1}return n=a(r),t=i[n]=o[n](r),{c(){e=E("span"),t.c(),l=N(),I(e,"class","token svelte-108yu68")},m(u,f){v(u,e,f),i[n].m(e,null),R(e,l),s=!0},p(u,f){let c=n;n=a(u),n===c?i[n].p(u,f):(U(),p(i[c],1,1,()=>{i[c]=null}),W(),t=i[n],t?t.p(u,f):(t=i[n]=o[n](u),t.c()),_(t,1),t.m(e,l))},i(u){s||(_(t),s=!0)},o(u){p(t),s=!1},d(u){u&&$(e),i[n].d()}}}function GZ(r){let e=At(r[1]),n,t,l=e&&p2(r);return{c(){l&&l.c(),n=ae()},m(s,o){l&&l.m(s,o),v(s,n,o),t=!0},p(s,o){o&2&&(e=At(s[1])),e?l?(l.p(s,o),o&2&&_(l,1)):(l=p2(s),l.c(),_(l,1),l.m(n.parentNode,n)):l&&(U(),p(l,1,1,()=>{l=null}),W())},i(s){t||(_(l),t=!0)},o(s){p(l),t=!1},d(s){l&&l.d(s),s&&$(n)}}}function KZ(r){let e,n;return e=new Ga({props:{value:r[1],$$slots:{default:[GZ]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.value=t[1]),l&2075&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function XZ(r){let e,n;return e=new go({props:{isActive:r[0],disabled:r[2],isIndependentOfSheet:r[3],$$slots:{default:[KZ]},$$scope:{ctx:r}}}),e.$on("mouseenter",r[6]),e.$on("keydown",r[5]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.isActive=t[0]),l&4&&(s.disabled=t[2]),l&8&&(s.isIndependentOfSheet=t[3]),l&2075&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function JZ(r,e,n){const t=Et();let{isActive:l}=e,{value:s=void 0}=e,{disabled:o}=e,{isIndependentOfSheet:i}=e,{formatElementForDisplay:a}=e;function u(c){switch(c.key){case"Tab":case"ArrowLeft":case"ArrowRight":case"ArrowDown":case"ArrowUp":t("movementKeyDown",{originalEvent:c,key:c.key});break}}function f(c){Re.call(this,r,c)}return r.$$set=c=>{"isActive"in c&&n(0,l=c.isActive),"value"in c&&n(1,s=c.value),"disabled"in c&&n(2,o=c.disabled),"isIndependentOfSheet"in c&&n(3,i=c.isIndependentOfSheet),"formatElementForDisplay"in c&&n(4,a=c.formatElementForDisplay)},[l,s,o,i,a,u,f]}class ZZ extends Q{constructor(e){super(),Z(this,e,JZ,XZ,J,{isActive:0,value:1,disabled:2,isIndependentOfSheet:3,formatElementForDisplay:4})}}const xe={Boolean:"boolean",Date:"date",Time:"time",DateTime:"datetime",Duration:"duration",Email:"email",Money:"money",Number:"number",Text:"text",Uri:"uri",Uuid:"uuid",Json:"json",JsonArray:"jsonlist",JsonObject:"map",Array:"array",File:"file",Other:"other"},oe={ARRAY:"_array",BIGINT:"bigint",BIT:"bit",BOOLEAN:"boolean",BYTEA:"bytea",CHAR:'"char"',CHARACTER_VARYING:"character varying",CHARACTER:"character",CIDR:"cidr",DATE:"date",DATERANGE:"daterange",DECIMAL:"decimal",DOUBLE_PRECISION:"double precision",INET:"inet",INT4RANGE:"int4range",INT8RANGE:"int8range",INTEGER:"integer",INTERVAL:"interval",JSON:"json",JSONB:"jsonb",LINE:"line",MACADDR:"macaddr",MONEY:"money",MSAR__EMAIL:"mathesar_types.email",MSAR__MATHESAR_JSON_ARRAY:"mathesar_types.mathesar_json_array",MSAR__MATHESAR_JSON_OBJECT:"mathesar_types.mathesar_json_object",MSAR__MATHESAR_MONEY:"mathesar_types.mathesar_money",MSAR__MULTICURRENCY_MONEY:"mathesar_types.multicurrency_money",MSAR__URI:"mathesar_types.uri",NAME:"name",NUMERIC:"numeric",NUMRANGE:"numrange",OID:"oid",REAL:"real",REGCLASS:"regclass",SMALLINT:"smallint",TEXT:"text",TIME_WITH_TZ:"time with time zone",TIME_WITHOUT_TZ:"time without time zone",TIMESTAMP_WITH_TZ:"timestamp with time zone",TIMESTAMP_WITHOUT_TZ:"timestamp without time zone",TSRANGE:"tsrange",TSTZRANGE:"tstzrange",TSVECTOR:"tsvector",UUID:"uuid"},QZ={variables:{displayAs:{type:"string",enum:["checkbox","dropdown"],default:"checkbox"},useCustomLabels:{type:"boolean",default:!1},trueLabel:{type:"string",default:"true",validation:{checks:["isEmpty"]}},falseLabel:{type:"string",default:"false",validation:{checks:["isEmpty"]}}},layout:{orientation:"vertical",elements:[{type:"input",variable:"displayAs",label:"Display as",options:{checkbox:{label:"Checkbox"},dropdown:{label:"Dropdown"}}},{type:"if",variable:"displayAs",condition:"eq",value:"dropdown",elements:[{type:"input",variable:"useCustomLabels",label:"Use Custom Labels"},{type:"if",variable:"useCustomLabels",condition:"eq",value:!0,elements:[{type:"input",variable:"trueLabel",label:"Label for TRUE"},{type:"input",variable:"falseLabel",label:"Label for FALSE"}]}]}]}};function xZ(r){const e={bool_input:r.displayAs};return r.displayAs==="dropdown"&&r.useCustomLabels&&(e.bool_true=r.trueLabel,e.bool_false=r.falseLabel),e}function eQ(r){const e={metadata:r},n={displayAs:Tn(e,"bool_input")};return((r==null?void 0:r.bool_true)||(r==null?void 0:r.bool_false))&&(n.useCustomLabels=!0,n.trueLabel=Tn(e,"bool_true"),n.falseLabel=Tn(e,"bool_false")),n}const tQ={getIcon:()=>({...UK,label:"Boolean"}),cellInfo:{type:"boolean"},getDisplayConfig:()=>({form:QZ,determineDisplayOptions:xZ,constructDisplayFormValuesFromDisplayOptions:eQ})};function zs(r,e,n){const t=[];return r.forEach(l=>{e.forEach(s=>{t.push(n(l,s))})}),t}function nQ(){return{none:new Date("1999-12-25T00:00").toLocaleDateString().replace("25","DD").replace("12","MM").replace("1999","YYYY"),us:"MM/DD/YYYY",eu:"DD/MM/YYYY",friendly:"D MMM YYYY",iso:"YYYY-MM-DD"}}const Ou=nQ(),b2=new Map([["us",["M/D/YYYY","M/D/YY"]],["eu",["D/M/YYYY","D/M/YY"]],["friendly",["D MMM YY"]]]),gm={"24hr":"HH:mm","24hrLong":"HH:mm:ss","12hr":"hh:mm a","12hrLong":"hh:mm:ss a"},Rf=["hh:mm:ss a","HH:mm:ss","hh:mm a","HH:mm"],$2=[...Rf,...zs(Rf,[" Z",".Z","Z"],(r,e)=>`${r}${e}`)];class Ka{constructor(e){te(this,"type");te(this,"isTimeZoneType");te(this,"dateFormat");te(this,"timeFormat");var n,t,l;this.type=(n=e==null?void 0:e.type)!=null?n:"timestamp",this.dateFormat=(t=e==null?void 0:e.dateFormat)!=null?t:"none",this.timeFormat=(l=e==null?void 0:e.timeFormat)!=null?l:"24hr",this.isTimeZoneType=this.type==="timeWithTZ"||this.type==="timestampWithTZ"}getFormattingString(){switch(this.type){case"date":return Ou[this.dateFormat];case"time":case"timeWithTZ":return gm[this.timeFormat];case"timestamp":case"timestampWithTZ":default:return`${Ou[this.dateFormat]} ${gm[this.timeFormat]}`}}getCommonFormattingStrings(){var n,t;const e=[Ou[this.dateFormat],...(n=b2.get(this.dateFormat))!=null?n:[]];return this.type==="date"?(t=b2.get(this.dateFormat))!=null?t:[]:this.type==="time"?Rf:this.type==="timeWithTZ"?$2:this.type==="timestamp"?zs(e,Rf,(l,s)=>`${l} ${s}`):this.type==="timestampWithTZ"?zs(e,$2,(l,s)=>`${l} ${s}`):[]}getCanonicalFormattingStrings(){const e=["YYYY-MM-DD"],n=[...e,"YYYY-MM-DD [AD]","YYYY-MM-DD [BC]"],t=["HH:mm:ss"],l=["HH:mm:ss.Z","HH:mm:ss Z","HH:mm:ss.ZZ","HH:mm:ss ZZ"],s=zs(e,t,(u,f)=>`${u} ${f}`),o=[...s,...zs(s,["[AD]","[BC]"],(u,f)=>`${u} ${f}`)],i=zs(e,l,(u,f)=>`${u}T${f}`),a=[...i,...zs(i,["[AD]","[BC]"],(u,f)=>`${u}T${f}`)];switch(this.type){case"date":return n;case"time":return t;case"timeWithTZ":return l;case"timestamp":return o;case"timestampWithTZ":return a;default:return[]}}getCanonicalString(e){return this.type==="date"?Mn(e).format("YYYY-MM-DD"):this.type==="time"?Mn(e).format("HH:mm:ss"):this.type==="timeWithTZ"?Mn(e).format("HH:mm:ss Z"):this.type==="timestamp"?Mn(e).format("YYYY-MM-DD HH:mm:ss"):this.type==="timestampWithTZ"?Mn(e).format("YYYY-MM-DD HH:mm:ss Z"):e.toISOString()}hasSecondsInTime(){return this.type==="date"?!1:this.timeFormat==="12hrLong"||this.timeFormat==="24hrLong"}isTime24Hr(){return this.type==="date"?!1:this.timeFormat==="24hr"||this.timeFormat==="24hrLong"}static getDateFormattingStringMap(){return Ou}static getTimeFormattingStringMap(){return gm}}function rQ(r){switch(r.trim().toLowerCase()){case"now":return Mn();case"today":return Mn().startOf("day");case"tomorrow":return Mn().startOf("day").add(1,"day");case"yesterday":return Mn().startOf("day").subtract(1,"day");default:return}}function lQ(r,e){const n=e.getCanonicalFormattingStrings(),t=[e.getFormattingString(),...e.getCommonFormattingStrings(),...n],l=Mn(r,t,!0);if(l.isValid())return l;const s=Mn(r,n);if(s.isValid())return s}class rp{constructor(e){te(this,"specification");this.specification=e}parse(e){var s;const n=(s=rQ(e))!=null?s:lQ(e,this.specification),t=(()=>n?this.specification.getCanonicalString(n.toDate()):e)(),l=e;return{value:t.trim()?t:null,intermediateDisplay:l}}format(e){const n=Mn(e,this.specification.getCanonicalFormattingStrings());return n.isValid()?n.format(this.specification.getFormattingString()):e}parseAndFormat(e){const{value:n}=this.parse(e);return At(n)?this.format(n):e}}function EI(){const r=Mn("2001-12-31"),e=Ka.getDateFormattingStringMap();return{none:{label:`Infer from browser (${r.format(e.none)})`},us:{label:`US (${r.format(e.us)})`},eu:{label:`European (${r.format(e.eu)})`},friendly:{label:`Friendly (${r.format(e.friendly)})`},iso:{label:`Standard (${r.format(e.iso)})`}}}function MI(){const r=Mn(),e=Ka.getTimeFormattingStringMap();return{"24hr":{label:`Short time 24 hr (${r.format(e["24hr"])})`},"24hrLong":{label:`Long time 24 hr (${r.format(e["24hrLong"])})`},"12hr":{label:`Short time 12 hr (${r.format(e["12hr"])})`},"12hrLong":{label:`Long time 12 hr (${r.format(e["12hrLong"])})`}}}const sQ={variables:{format:{type:"string",enum:["none","us","eu","friendly","iso"],default:"none"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"format",label:"Date Format",options:EI()}]}};function oQ(r){return{date_format:r.format}}function iQ(r){return{format:Tn({metadata:r},"date_format")}}const aQ={getIcon:()=>({...WK,label:"Date"}),cellInfo:{type:"date"},getDisplayConfig:()=>({form:sQ,determineDisplayOptions:oQ,constructDisplayFormValuesFromDisplayOptions:iQ})},uQ=()=>({variables:{supportTimeZones:{type:"boolean",default:!1}},layout:{orientation:"vertical",elements:[{type:"input",variable:"supportTimeZones",label:ve(ce)("support_time_zones"),text:{help:ve(ce)("support_time_zone_helper")}}]}});function fQ(r){return{dbType:r.supportTimeZones?oe.TIMESTAMP_WITH_TZ:oe.TIMESTAMP_WITHOUT_TZ,typeOptions:{}}}function cQ(r){return{supportTimeZones:r===oe.TIMESTAMP_WITH_TZ}}const mQ={variables:{dateFormat:{type:"string",enum:["none","us","eu","friendly","iso"],default:"none"},timeFormat:{type:"string",enum:["24hr","24hrLong","12hr","12hrLong"],default:"24hr"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"dateFormat",label:"Date Format",options:EI()},{type:"input",variable:"timeFormat",label:"Time Format",options:MI()}]}};function dQ(r){return{date_format:r.dateFormat,time_format:r.timeFormat}}function _Q(r){const e={metadata:r};return{dateFormat:Tn(e,"date_format"),timeFormat:Tn(e,"time_format")}}const pQ={getIcon:()=>({...jK,label:"Date & Time"}),defaultDbType:oe.TIMESTAMP_WITH_TZ,cellInfo:{type:"datetime",conditionalConfig:{[oe.TIMESTAMP_WITH_TZ]:{supportTimeZone:!0},[oe.TIMESTAMP_WITHOUT_TZ]:{supportTimeZone:!1}}},getDbConfig:()=>({form:uQ(),determineDbTypeAndOptions:fQ,constructDbFormValuesFromTypeOptions:cQ}),getDisplayConfig:()=>({form:mQ,determineDisplayOptions:dQ,constructDisplayFormValuesFromDisplayOptions:_Q})},hm={max:fd.duration_max,min:fd.duration_min},v2={d:"D",h:"HH",m:"mm",s:"ss",ms:"SSS"};class Ca{constructor(e){te(this,"min");te(this,"max");var n,t;this.min=(n=e==null?void 0:e.min)!=null?n:hm.min,this.max=(t=e==null?void 0:e.max)!=null?t:hm.max}getUnitsInRange(){return gs.slice(gs.indexOf(this.max),gs.indexOf(this.min)+1)}getHigherUnit(e){const n=gs[gs.indexOf(e)-1];return!n||gs.indexOf(n)<gs.indexOf(this.max)?null:n}getFormattingString(){const e=this.getUnitsInRange().map(n=>v2[n]);return e.length===1?e[0]:e[e.length-1]===v2.ms?[e.slice(0,e.length-1).join(":"),e[e.length-1]].join("."):e.join(":")}static getAllUnits(){return[...gs]}static getDefaults(){return hm}}const gQ=/^((\.?\d+)|(\d+(\.\d+)?))$/;function hQ(r,e){var f,c,m,d;let n=r.getUnitsInRange();n[n.length-1]==="ms"&&(n=n.slice(0,n.length-1));let t=e.trim();if(t==="")return null;t[0]===":"&&(t=`0${t}`);const s=t[t.length-1];if((s===":"||s===".")&&(t=`${t}0`),t.split(":").length>n.length)throw new Error("Duration exceeds specified unit range");const i=t.split(":").map(g=>{let h=g;h.length>1&&h[h.length-1]==="."&&(h=`${h}0`);const b=parseFloat(h);if(Number.isNaN(b)||!gQ.test(h))throw new Error("Unable to parse duration");return b}).slice(-n.length),a=n.slice(-i.length),u={};return a.forEach((g,h)=>{var b;u[g]=(b=i[h])!=null?b:0}),Mn.duration({years:0,months:0,days:(f=u.d)!=null?f:0,hours:(c=u.h)!=null?c:0,minutes:(m=u.m)!=null?m:0,seconds:(d=u.s)!=null?d:0}).toISOString()}const bm={ms:{convert:r=>r.asMilliseconds(),unitName:"milliseconds",decimalCorrection:0},s:{convert:r=>r.asSeconds(),unitName:"seconds"},m:{convert:r=>r.asMinutes(),unitName:"minutes"},h:{convert:r=>r.asHours(),unitName:"hours"},d:{convert:r=>r.asDays(),unitName:"days"}};function bQ(r,e){var i;const n={},t=Mn.duration(r),l=e.getUnitsInRange().reverse();if(l.length===0)throw new Error("Invalid duration specification");let s=bm[l[0]],o=s.convert(t);for(const a of l){const u=e.getHigherUnit(a);let f=0;if(u){const c=bm[u];f=Math.floor(c.convert(Mn.duration(o,s.unitName))),o-=s.convert(Mn.duration(f,c.unitName))}n[s.unitName]=parseFloat(o.toFixed((i=s.decimalCorrection)!=null?i:3)),u&&(o=f,s=bm[u])}return Mn.duration(n).format(e.getFormattingString())}class $Q{constructor(e){te(this,"specification");this.specification=e}parse(e){return{value:hQ(this.specification,e),intermediateDisplay:e}}format(e){return bQ(e,this.specification)}}const w2=Ca.getDefaults(),vQ={variables:{durationConfig:{type:"custom",default:{duration_max:w2.max,duration_min:w2.min}}},layout:{orientation:"vertical",elements:[{type:"static",variable:"durationConfig",componentId:"duration-config-menu"}]}};function wQ(r){const e=r.durationConfig;return{duration_max:e.max,duration_min:e.min}}function kQ(r){const e={metadata:r};return{durationConfig:{max:Tn(e,"duration_max"),min:Tn(e,"duration_min")}}}const yQ={getIcon:()=>({...YK,label:"Duration"}),cellInfo:{type:"duration"},getDisplayConfig:()=>({form:vQ,determineDisplayOptions:wQ,constructDisplayFormValuesFromDisplayOptions:kQ})},CQ={getIcon:()=>({...GK,label:"Email"}),defaultDbType:oe.MSAR__EMAIL,cellInfo:{type:"string"}},RI={getIcon:()=>({...eX,label:"Unknown column type"}),cellInfo:{type:"string"}};function SQ(r){let e,n,t,l,s;const o=r[2].default,i=ke(o,r,r[1],null),a=[Yl];let u={};for(let f=0;f<a.length;f+=1)u=se(u,a[f]);return t=new Ne({props:u}),{c(){e=E("a"),i&&i.c(),n=N(),C(t.$$.fragment),I(e,"href",l=Sf(r[0])),I(e,"target","_blank")},m(f,c){v(f,e,c),i&&i.m(e,null),R(e,n),k(t,e,null),s=!0},p(f,[c]){i&&i.p&&(!s||c&2)&&Ce(i,o,f,f[1],s?ye(o,f[1],c,null):Se(f[1]),null);const m=c&0?de(a,[_e(Yl)]):{};t.$set(m),(!s||c&1&&l!==(l=Sf(f[0])))&&I(e,"href",l)},i(f){s||(_(i,f),_(t.$$.fragment,f),s=!0)},o(f){p(i,f),p(t.$$.fragment,f),s=!1},d(f){f&&$(e),i&&i.d(f),y(t)}}}function TQ(r,e,n){let{$$slots:t={},$$scope:l}=e,{page:s}=e;return r.$$set=o=>{"page"in o&&n(0,s=o.page),"$$scope"in o&&n(1,l=o.$$scope)},[s,l,t]}class dl extends Q{constructor(e){super(),Z(this,e,TQ,SQ,J,{page:0})}}function k2(r){let e,n;return e=new dl({props:{page:"fileDataType",$$slots:{default:[IQ]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&12&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function IQ(r){let e=r[2]+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&4&&e!==(e=t[2]+"")&&z(n,e)},d(t){t&&$(n)}}}function EQ(r){let e,n,t=r[1]==="link"&&k2(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[1]==="link"?t?(t.p(l,s),s&2&&_(t,1)):(t=k2(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function MQ(r){let e,n;return e=new ot({props:{text:r[0]("setup_file_backend_help"),$$slots:{default:[EQ,({slotName:t,translatedArg:l})=>({1:t,2:l}),({slotName:t,translatedArg:l})=>(t?2:0)|(l?4:0)]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.text=t[0]("setup_file_backend_help")),l&14&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function RQ(r,e,n){let t;return ne(r,ce,l=>n(0,t=l)),[t]}class DQ extends Q{constructor(e){super(),Z(this,e,RQ,MQ,J,{})}}function AQ(){return{component:DQ,props:{}}}const DI={getIcon:()=>({...HK,label:"File"}),defaultDbType:oe.JSONB,cellInfo:{type:"file"},getEnabledState:()=>dx()?{enabled:!0}:{enabled:!1,cause:AQ()}},OQ={getIcon:()=>({...KK,label:"JSON"}),defaultDbType:oe.JSONB,cellInfo:{type:"string",config:{multiLine:!0}}},FQ={variables:{numberType:{type:"string",enum:["Integer","Decimal","Float"],default:"Decimal"},integerDataSize:{type:"string",enum:["default","bigInt","smallInt"],default:"default"},decimalPlaces:{type:"integer",default:null},maxDigits:{type:"integer",default:null},floatingPointType:{type:"string",enum:["real","doublePrecision"],default:"real"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"numberType",label:"Number Type"},{type:"switch",variable:"numberType",cases:{Integer:[{type:"input",variable:"integerDataSize",label:"Integer Data Size",interfaceType:"select",options:{default:{label:"Default (4 bytes)"},bigInt:{label:"Big Integer (8 bytes)"},smallInt:{label:"Small Integer (2 bytes)"}}}],Decimal:[{type:"layout",orientation:"horizontal",elements:[{type:"input",variable:"decimalPlaces",label:"Decimal Places"},{type:"input",variable:"maxDigits",label:"Max Digits"}]}],Float:[{type:"input",variable:"floatingPointType",label:"Floating Point Type",interfaceType:"select",options:{real:{label:"Real (6 digits)"},doublePrecision:{label:"Double Precision (15 digits)"}}}]}}]}};function NQ(r,e){switch(r.numberType){case"Integer":switch(r.integerDataSize){case"smallInt":return oe.SMALLINT;case"bigInt":return oe.BIGINT;default:return oe.INTEGER}case"Float":switch(r.floatingPointType){case"real":return oe.REAL;case"doublePrecision":default:return oe.DOUBLE_PRECISION}case"Decimal":default:return e===oe.DECIMAL?oe.DECIMAL:oe.NUMERIC}}function PQ(r,e){const n=NQ(r,e),t={};return(n===oe.DECIMAL||n===oe.NUMERIC)&&(r.maxDigits!==null&&(t.precision=Number(r.maxDigits)),r.decimalPlaces!==null&&(t.scale=Number(r.decimalPlaces))),{dbType:n,typeOptions:t}}function LQ(r,e){var n,t;switch(r){case oe.SMALLINT:return{numberType:"Integer",integerDataSize:"smallInt"};case oe.BIGINT:return{numberType:"Integer",integerDataSize:"bigInt"};case oe.REAL:return{numberType:"Float",floatingPointType:"real"};case oe.DOUBLE_PRECISION:return{numberType:"Float",floatingPointType:"doublePrecision"};case oe.INTEGER:return{numberType:"Integer",integerDataSize:"default"};case oe.DECIMAL:case oe.NUMERIC:default:return{numberType:"Decimal",maxDigits:(n=e==null?void 0:e.precision)!=null?n:null,decimalPlaces:(t=e==null?void 0:e.scale)!=null?t:null}}}const HQ={variables:{decimalPlaces:{type:"integer",default:null},useGrouping:{type:"string",enum:["auto","always","never"],default:"auto"},numberFormat:{type:"string",enum:["none","english","german","french","hindi","swiss"],default:"none"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"decimalPlaces",label:"Decimal Places"},{type:"input",variable:"useGrouping",label:"Digit Grouping",options:{auto:{label:"Auto"},always:{label:"Always"},never:{label:"Never"}}},{type:"input",variable:"numberFormat",label:"Format",options:{none:{label:"Use browser locale"},english:{label:"1,234,567.89"},german:{label:"1.234.567,89"},french:{label:"1 234 567,89"},hindi:{label:"12,34,567.89"},swiss:{label:"1'234'567.89"}}}]}};function VQ(r){var t;const e=r.decimalPlaces;return{num_format:r.numberFormat==="none"?void 0:r.numberFormat,num_grouping:(t=r.useGrouping)!=null?t:"auto",num_min_frac_digits:e!=null?e:void 0,num_max_frac_digits:e!=null?e:void 0}}function AI(r,e){return r===null&&e===null?null:r===null?e:e===null?r:Math.max(r,e)}function zQ(r){var l,s;const e={metadata:r},n=AI((l=r==null?void 0:r.num_min_frac_digits)!=null?l:null,(s=r==null?void 0:r.num_max_frac_digits)!=null?s:null);return{numberFormat:Tn(e,"num_format"),useGrouping:Tn(e,"num_grouping"),decimalPlaces:n}}const BQ={getIcon:()=>({...QK,label:"Number"}),cellInfo:{type:"number",conditionalConfig:{[oe.DECIMAL]:{floatAllowanceStrategy:"scale-based"},[oe.NUMERIC]:{floatAllowanceStrategy:"scale-based"},[oe.INTEGER]:{floatAllowanceStrategy:"never"},[oe.SMALLINT]:{floatAllowanceStrategy:"never"},[oe.BIGINT]:{floatAllowanceStrategy:"never"},[oe.REAL]:{floatAllowanceStrategy:"always"},[oe.DOUBLE_PRECISION]:{floatAllowanceStrategy:"always"}}},defaultDbType:oe.NUMERIC,getDbConfig:()=>({form:FQ,determineDbTypeAndOptions:PQ,constructDbFormValuesFromTypeOptions:LQ}),getDisplayConfig:()=>({form:HQ,determineDisplayOptions:VQ,constructDisplayFormValuesFromDisplayOptions:zQ})},qQ={variables:{currencySymbol:{type:"string",default:"$"},currencySymbolLocation:{type:"string",enum:["after-minus","end-with-space"],default:"after-minus"},numberFormat:{type:"string",enum:["none","english","german","french","hindi","swiss"],default:"none"},decimalPlaces:{type:"integer",default:null},useGrouping:{type:"string",enum:["auto","always","never"],default:"auto"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"currencySymbol",label:"Currency Symbol"},{type:"input",variable:"currencySymbolLocation",label:"Currency Symbol Location",options:{"after-minus":{label:"Start"},"end-with-space":{label:"End"}}},{type:"input",variable:"decimalPlaces",label:"Decimal Places"},{type:"input",variable:"useGrouping",label:"Digit Grouping",options:{auto:{label:"Auto"},always:{label:"Always"},never:{label:"Never"}}},{type:"input",variable:"numberFormat",label:"Number Format",options:{none:{label:"Use browser locale"},english:{label:"1,234,567.89"},german:{label:"1.234.567,89"},french:{label:"1 234 567,89"},hindi:{label:"12,34,567.89"},swiss:{label:"1'234'567.89"}}}]}};function UQ(r){var t,l;const e=r;return{mon_currency_symbol:e.currencySymbol,mon_currency_location:e.currencySymbolLocation,num_format:e.numberFormat==="none"?null:e.numberFormat,num_grouping:e.useGrouping,num_min_frac_digits:(t=e.decimalPlaces)!=null?t:void 0,num_max_frac_digits:(l=e.decimalPlaces)!=null?l:void 0}}function WQ(r){var l,s,o,i;const e={metadata:r},n=AI((l=r==null?void 0:r.num_min_frac_digits)!=null?l:null,(s=r==null?void 0:r.num_max_frac_digits)!=null?s:null);return{numberFormat:(o=Tn(e,"num_format"))!=null?o:"none",currencySymbol:(i=Tn(e,"mon_currency_symbol"))!=null?i:"",decimalPlaces:n,currencySymbolLocation:Tn(e,"mon_currency_location"),useGrouping:Tn(e,"num_grouping")}}const jQ={getIcon:()=>ZK,cellInfo:{type:"money"},defaultDbType:oe.MSAR__MATHESAR_MONEY,getDisplayConfig:()=>({form:qQ,determineDisplayOptions:UQ,constructDisplayFormValuesFromDisplayOptions:WQ})},YQ={variables:{restrictFieldSize:{type:"boolean",default:!1},length:{type:"integer",default:255,validation:{checks:["isEmpty"]}}},layout:{orientation:"vertical",elements:[{type:"input",variable:"restrictFieldSize",label:"Set a maximum length"},{type:"if",variable:"restrictFieldSize",condition:"eq",value:!0,elements:[{type:"input",variable:"length",label:"Field Size Limit"}]}]}};function GQ(r,e){if(r.restrictFieldSize){const{length:n}=r;return(typeof n=="string"||typeof n=="number")&&(typeof n=="string"?parseInt(n,10):n)>255?oe.CHARACTER_VARYING:e===oe.CHARACTER?oe.CHARACTER:oe.CHARACTER_VARYING}return oe.TEXT}function KQ(r,e){const n=GQ(r,e),t={};return(n===oe.CHARACTER||n===oe.CHARACTER_VARYING)&&(t.length=Number(r.length)),{dbType:n,typeOptions:t}}function XQ(r,e){var n;switch(r){case oe.CHARACTER:case oe.CHARACTER_VARYING:return{length:(n=e==null?void 0:e.length)!=null?n:null,restrictFieldSize:!0};default:return{restrictFieldSize:!1}}}const JQ={getIcon:()=>({...UT,label:"Text"}),defaultDbType:oe.CHARACTER_VARYING,cellInfo:{type:"string",config:{multiLine:!0},conditionalConfig:{[oe.CHARACTER]:{multiLine:!1}}},getDbConfig:()=>({form:YQ,determineDbTypeAndOptions:KQ,constructDbFormValuesFromTypeOptions:XQ})},ZQ={variables:{supportTimeZones:{type:"boolean",default:!1}},layout:{orientation:"vertical",elements:[{type:"input",variable:"supportTimeZones",label:"Support Time Zones"}]}};function QQ(r){return{dbType:r.supportTimeZones?oe.TIME_WITH_TZ:oe.TIME_WITHOUT_TZ,typeOptions:{}}}function xQ(r){return{supportTimeZones:r===oe.TIME_WITH_TZ}}const ex={variables:{format:{type:"string",enum:["24hr","24hrLong","12hr","12hrLong"],default:"24hr"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"format",label:"Time Format",options:MI()}]}};function tx(r){return{time_format:r.format}}function nx(r){return{format:Tn({metadata:r},"time_format")}}const rx={getIcon:()=>({...xK,label:"Time"}),defaultDbType:oe.TIME_WITHOUT_TZ,cellInfo:{type:"time",conditionalConfig:{[oe.TIME_WITH_TZ]:{supportTimeZone:!0},[oe.TIME_WITHOUT_TZ]:{supportTimeZone:!1}}},getDbConfig:()=>({form:ZQ,determineDbTypeAndOptions:QQ,constructDbFormValuesFromTypeOptions:xQ}),getDisplayConfig:()=>({form:ex,determineDisplayOptions:tx,constructDisplayFormValuesFromDisplayOptions:nx})},lx={getIcon:()=>tX,defaultDbType:oe.MSAR__URI,cellInfo:{type:"uri"}},sx={getIcon:()=>({...rX,label:"UUID"}),defaultDbType:oe.UUID,cellInfo:{type:"string"}},ox={[oe.BIGINT]:[oe.BIGINT,oe.BOOLEAN,oe.CHARACTER_VARYING,oe.CHARACTER,oe.DOUBLE_PRECISION,oe.INTEGER,oe.MONEY,oe.MSAR__MATHESAR_MONEY,oe.MSAR__MULTICURRENCY_MONEY,oe.NUMERIC,oe.REAL,oe.SMALLINT,oe.TEXT],[oe.BIT]:[oe.CHARACTER_VARYING,oe.CHARACTER,oe.TEXT],[oe.BOOLEAN]:[oe.BIGINT,oe.BOOLEAN,oe.CHARACTER_VARYING,oe.CHARACTER,oe.DOUBLE_PRECISION,oe.INTEGER,oe.NUMERIC,oe.REAL,oe.SMALLINT,oe.TEXT],[oe.BYTEA]:[oe.CHARACTER_VARYING,oe.CHARACTER,oe.TEXT],[oe.CHAR]:[oe.CHARACTER_VARYING,oe.CHARACTER,oe.TEXT],[oe.CHARACTER_VARYING]:[oe.BIGINT,oe.BOOLEAN,oe.CHARACTER_VARYING,oe.CHARACTER,oe.DATE,oe.DOUBLE_PRECISION,oe.INTEGER,oe.INTERVAL,oe.JSON,oe.JSONB,oe.MONEY,oe.MSAR__EMAIL,oe.MSAR__MATHESAR_JSON_ARRAY,oe.MSAR__MATHESAR_JSON_OBJECT,oe.MSAR__MATHESAR_MONEY,oe.MSAR__MULTICURRENCY_MONEY,oe.MSAR__URI,oe.NUMERIC,oe.REAL,oe.SMALLINT,oe.TEXT,oe.TIME_WITH_TZ,oe.TIME_WITHOUT_TZ,oe.TIMESTAMP_WITH_TZ,oe.TIMESTAMP_WITHOUT_TZ],[oe.CHARACTER]:[oe.BIGINT,oe.BOOLEAN,oe.CHARACTER_VARYING,oe.CHARACTER,oe.DATE,oe.DOUBLE_PRECISION,oe.INTEGER,oe.INTERVAL,oe.JSON,oe.JSONB,oe.MONEY,oe.MSAR__EMAIL,oe.MSAR__MATHESAR_JSON_ARRAY,oe.MSAR__MATHESAR_JSON_OBJECT,oe.MSAR__MATHESAR_MONEY,oe.MSAR__MULTICURRENCY_MONEY,oe.MSAR__URI,oe.NUMERIC,oe.REAL,oe.SMALLINT,oe.TEXT,oe.TIMESTAMP_WITH_TZ,oe.TIMESTAMP_WITHOUT_TZ],[oe.CIDR]:[oe.CHARACTER_VARYING,oe.CHARACTER,oe.TEXT],[oe.DATE]:[oe.CHARACTER_VARYING,oe.CHARACTER,oe.DATE,oe.TEXT,oe.TIMESTAMP_WITHOUT_TZ],[oe.DATERANGE]:[oe.CHARACTER_VARYING,oe.CHARACTER,oe.TEXT],[oe.DOUBLE_PRECISION]:[oe.BIGINT,oe.BOOLEAN,oe.CHARACTER_VARYING,oe.CHARACTER,oe.DOUBLE_PRECISION,oe.INTEGER,oe.MONEY,oe.MSAR__MATHESAR_MONEY,oe.MSAR__MULTICURRENCY_MONEY,oe.NUMERIC,oe.REAL,oe.SMALLINT,oe.TEXT],[oe.INET]:[oe.CHARACTER_VARYING,oe.CHARACTER,oe.TEXT],[oe.INT4RANGE]:[oe.CHARACTER_VARYING,oe.CHARACTER,oe.TEXT],[oe.INT8RANGE]:[oe.CHARACTER_VARYING,oe.CHARACTER,oe.TEXT],[oe.INTEGER]:[oe.BIGINT,oe.BOOLEAN,oe.CHARACTER_VARYING,oe.CHARACTER,oe.DOUBLE_PRECISION,oe.INTEGER,oe.MONEY,oe.MSAR__MATHESAR_MONEY,oe.MSAR__MULTICURRENCY_MONEY,oe.NUMERIC,oe.REAL,oe.SMALLINT,oe.TEXT],[oe.INTERVAL]:[oe.CHARACTER_VARYING,oe.CHARACTER,oe.INTERVAL,oe.TEXT],[oe.JSON]:[oe.CHARACTER_VARYING,oe.CHARACTER,oe.JSON,oe.JSONB,oe.MSAR__MATHESAR_JSON_ARRAY,oe.MSAR__MATHESAR_JSON_OBJECT,oe.TEXT],[oe.JSONB]:[oe.CHARACTER_VARYING,oe.CHARACTER,oe.JSON,oe.JSONB,oe.MSAR__MATHESAR_JSON_ARRAY,oe.MSAR__MATHESAR_JSON_OBJECT,oe.TEXT],[oe.MACADDR]:[oe.CHARACTER_VARYING,oe.CHARACTER,oe.TEXT],[oe.MSAR__EMAIL]:[oe.CHARACTER_VARYING,oe.CHARACTER,oe.MSAR__EMAIL,oe.TEXT],[oe.MSAR__MATHESAR_JSON_ARRAY]:[oe.CHARACTER_VARYING,oe.CHARACTER,oe.JSON,oe.JSONB,oe.MSAR__MATHESAR_JSON_ARRAY,oe.MSAR__MATHESAR_JSON_OBJECT,oe.TEXT],[oe.MSAR__MATHESAR_JSON_OBJECT]:[oe.CHARACTER_VARYING,oe.CHARACTER,oe.JSON,oe.JSONB,oe.MSAR__MATHESAR_JSON_ARRAY,oe.MSAR__MATHESAR_JSON_OBJECT,oe.TEXT],[oe.MSAR__MATHESAR_MONEY]:[oe.BIGINT,oe.CHARACTER_VARYING,oe.CHARACTER,oe.DOUBLE_PRECISION,oe.INTEGER,oe.MONEY,oe.MSAR__MATHESAR_MONEY,oe.MSAR__MULTICURRENCY_MONEY,oe.NUMERIC,oe.REAL,oe.SMALLINT,oe.TEXT],[oe.MSAR__MULTICURRENCY_MONEY]:[oe.CHARACTER_VARYING,oe.CHARACTER,oe.MSAR__MULTICURRENCY_MONEY,oe.TEXT],[oe.MSAR__URI]:[oe.CHARACTER_VARYING,oe.CHARACTER,oe.MSAR__URI,oe.TEXT],[oe.MONEY]:[oe.BIGINT,oe.CHARACTER_VARYING,oe.CHARACTER,oe.DOUBLE_PRECISION,oe.INTEGER,oe.MONEY,oe.MSAR__MATHESAR_MONEY,oe.MSAR__MULTICURRENCY_MONEY,oe.NUMERIC,oe.REAL,oe.SMALLINT,oe.TEXT],[oe.NUMERIC]:[oe.BIGINT,oe.BOOLEAN,oe.CHARACTER_VARYING,oe.CHARACTER,oe.DOUBLE_PRECISION,oe.INTEGER,oe.MONEY,oe.MSAR__MATHESAR_MONEY,oe.MSAR__MULTICURRENCY_MONEY,oe.NUMERIC,oe.REAL,oe.SMALLINT,oe.TEXT],[oe.NUMRANGE]:[oe.CHARACTER_VARYING,oe.CHARACTER,oe.TEXT],[oe.OID]:[oe.CHARACTER_VARYING,oe.CHARACTER,oe.TEXT],[oe.REAL]:[oe.BIGINT,oe.BOOLEAN,oe.CHARACTER_VARYING,oe.CHARACTER,oe.DOUBLE_PRECISION,oe.INTEGER,oe.MONEY,oe.MSAR__MATHESAR_MONEY,oe.MSAR__MULTICURRENCY_MONEY,oe.NUMERIC,oe.REAL,oe.SMALLINT,oe.TEXT],[oe.REGCLASS]:[oe.CHARACTER_VARYING,oe.CHARACTER,oe.TEXT],[oe.SMALLINT]:[oe.BIGINT,oe.BOOLEAN,oe.CHARACTER_VARYING,oe.CHARACTER,oe.DOUBLE_PRECISION,oe.INTEGER,oe.MONEY,oe.MSAR__MATHESAR_MONEY,oe.MSAR__MULTICURRENCY_MONEY,oe.NUMERIC,oe.REAL,oe.SMALLINT,oe.TEXT],[oe.TEXT]:[oe.BIGINT,oe.BOOLEAN,oe.CHARACTER_VARYING,oe.CHARACTER,oe.DATE,oe.DOUBLE_PRECISION,oe.INTEGER,oe.INTERVAL,oe.JSON,oe.JSONB,oe.MONEY,oe.MSAR__EMAIL,oe.MSAR__MATHESAR_JSON_ARRAY,oe.MSAR__MATHESAR_JSON_OBJECT,oe.MSAR__MATHESAR_MONEY,oe.MSAR__MULTICURRENCY_MONEY,oe.MSAR__URI,oe.NUMERIC,oe.REAL,oe.SMALLINT,oe.TEXT,oe.TIME_WITH_TZ,oe.TIME_WITHOUT_TZ,oe.TIMESTAMP_WITH_TZ,oe.TIMESTAMP_WITHOUT_TZ],[oe.TIME_WITH_TZ]:[oe.CHARACTER_VARYING,oe.CHARACTER,oe.TEXT,oe.TIME_WITH_TZ,oe.TIME_WITHOUT_TZ],[oe.TIME_WITHOUT_TZ]:[oe.CHARACTER_VARYING,oe.CHARACTER,oe.TEXT,oe.TIME_WITH_TZ,oe.TIME_WITHOUT_TZ],[oe.TIMESTAMP_WITH_TZ]:[oe.CHARACTER_VARYING,oe.CHARACTER,oe.DATE,oe.TEXT,oe.TIMESTAMP_WITH_TZ,oe.TIMESTAMP_WITHOUT_TZ],[oe.TIMESTAMP_WITHOUT_TZ]:[oe.CHARACTER_VARYING,oe.CHARACTER,oe.DATE,oe.TEXT,oe.TIMESTAMP_WITH_TZ,oe.TIMESTAMP_WITHOUT_TZ],[oe.TSRANGE]:[oe.CHARACTER_VARYING,oe.CHARACTER,oe.TEXT],[oe.TSTZRANGE]:[oe.CHARACTER_VARYING,oe.CHARACTER,oe.TEXT],[oe.TSVECTOR]:[oe.CHARACTER_VARYING,oe.CHARACTER,oe.TEXT],[oe.UUID]:[oe.CHARACTER_VARYING,oe.CHARACTER,oe.TEXT]},OI={name:"Other",identifier:"other",...RI,dbTypes:new Set([])},ix={[xe.Text]:JQ,[xe.Money]:jQ,[xe.Email]:CQ,[xe.Number]:BQ,[xe.Boolean]:tQ,[xe.Uri]:lx,[xe.Duration]:yQ,[xe.Date]:aQ,[xe.Time]:rx,[xe.DateTime]:pQ,[xe.Uuid]:sx,[xe.Json]:OQ,[xe.File]:DI},ax=()=>({getIcon:r=>{var o,i,a;const e={...nX,label:"Array"},n=(i=(o=r==null?void 0:r.typeOptions)==null?void 0:o.item_type)!=null?i:void 0;if(!n)return e;const l=ho(n,(a=r==null?void 0:r.metadata)!=null?a:null).getIcon(),s=Array.isArray(l)?l:[l];return[e,...s]},cellInfo:{type:"array"}}),ux=()=>({getIcon:()=>XK,defaultDbType:"mathesar_types.mathesar_json_array",cellInfo:{type:"string"}}),fx=()=>({getIcon:()=>JK,defaultDbType:"mathesar_types.mathesar_json_object",cellInfo:{type:"string"}}),FI={[xe.Array]:ax,[xe.JsonArray]:ux,[xe.JsonObject]:fx};function cx(r){const e=new Map,n=[];r.forEach(l=>{const s={identifier:l.identifier,name:l.name,dbTypes:new Set(l.db_types)},o=ix[l.identifier];if(o){e.set(l.identifier,{...s,...o});return}const i=FI[l.identifier];if(i){n.push({...s,factory:i});return}e.set(l.identifier,{...s,...RI})});const t=new Map(e);return n.forEach(l=>{t.set(l.identifier,{identifier:l.identifier,name:l.name,dbTypes:l.dbTypes,...l.factory()})}),t}const mx=[{identifier:"boolean",name:"Boolean",db_types:[oe.BOOLEAN]},{identifier:"date",name:"Date",db_types:[oe.DATE]},{identifier:"time",name:"Time",db_types:[oe.TIME_WITH_TZ,oe.TIME_WITHOUT_TZ]},{identifier:"datetime",name:"Date & Time",db_types:[oe.TIMESTAMP_WITH_TZ,oe.TIMESTAMP_WITHOUT_TZ]},{identifier:"duration",name:"Duration",db_types:[oe.INTERVAL]},{identifier:"email",name:"Email",db_types:[oe.MSAR__EMAIL]},{identifier:"money",name:"Money",db_types:[oe.MONEY,oe.MSAR__MATHESAR_MONEY,oe.MSAR__MULTICURRENCY_MONEY]},{identifier:"number",name:"Number",db_types:[oe.DOUBLE_PRECISION,oe.REAL,oe.SMALLINT,oe.BIGINT,oe.INTEGER,oe.NUMERIC]},{identifier:"text",name:"Text",db_types:[oe.CHAR,oe.CHARACTER_VARYING,oe.CHARACTER,oe.NAME,oe.TEXT]},{identifier:"uri",name:"URI",db_types:[oe.MSAR__URI]},{identifier:"uuid",name:"UUID",db_types:[oe.UUID]},{identifier:"jsonlist",name:"JSON List",db_types:[oe.MSAR__MATHESAR_JSON_ARRAY]},{identifier:"map",name:"Map",db_types:[oe.MSAR__MATHESAR_JSON_OBJECT]},{identifier:"json",name:"JSON",db_types:[oe.JSON,oe.JSONB]},{identifier:"array",name:"Array",db_types:[oe.ARRAY]}],Ec={identifier:"file",name:"File",dbTypes:new Set([oe.JSONB]),...DI},Xa=cx(mx),NI=(()=>{const r=Xa.get("text");if(!r)throw new Error("Text UI type not found. This should never happen");return r})();function dx(){return!!q_()}function _x(r,e){return(e==null?void 0:e.file_backend)&&r===oe.JSONB&&!!OT(e.file_backend)}function PI(r,e){if(_x(r,e))return Ec;let n;for(const[,t]of Xa)if(t.dbTypes.has(r)){n=t;break}return n}function px(r){const e=new Set;r===oe.JSONB&&e.add(Ec);for(const[,n]of Xa)n.dbTypes.has(r)&&e.add(n);return e}function ho(r,e){let n=PI(r,e);return n||(n=OI),n}function gx(r,e){var o;const n=new Set,t=PI(r,e);t&&n.add(t),((o=ox[r])!=null?o:[]).forEach(i=>{[...px(i)].forEach(u=>n.add(u))});const s=[...n].sort((i,a)=>i.name.localeCompare(a.name));return t||s.push(OI),s}function hx(r){const e=(()=>r.defaultDbType?r.defaultDbType:r.dbTypes.size>0?[...r.dbTypes][0]:oe.TEXT)(),n=(()=>{var t;return r.identifier==="file"?{file_backend:(t=q_())==null?void 0:t.backend}:null})();return{dbOptions:{type:e,typeOptions:{}},metadata:n}}function bx(r,e){var n;return r.identifier==="file"?{...e!=null?e:{},file_backend:(n=q_())==null?void 0:n.backend}:e&&e.file_backend?{...e,file_backend:null}:e}function $x(){return[...Xa.values(),Ec].filter(r=>!FI[r.identifier]).sort((r,e)=>r.name.localeCompare(e.name))}function vx(r){var e,n;return r==="file"?Ec.dbTypes:(n=(e=Xa.get(r))==null?void 0:e.dbTypes)!=null?n:new Set}function LI(r){return r.getEnabledState?!r.getEnabledState().enabled:!1}const ji=[xe.Date,xe.Time,xe.DateTime],Fu={[xe.DateTime]:[xe.DateTime],[xe.Date]:[xe.Date],[xe.Time]:[xe.Time],[xe.Duration]:[xe.Duration],[xe.Number]:[xe.Number],[xe.Money]:[xe.Money]};function Yi(r,e){const n=new Map(r.map(t=>[t,e]));return Object.fromEntries(n)}function $m(r){const e=Object.values(xe),n=new Map(e.map(t=>[t,r(t)]));return Object.fromEntries(n)}const HI=[{id:"equal",name:"equals",aliases:Yi(ji,"is same as"),uiTypeParameterMap:$m(r=>[r]),hasParams:!0},{id:"null",name:"is empty",uiTypeParameterMap:$m(()=>[]),hasParams:!1},{id:"not_null",name:"is not empty",uiTypeParameterMap:$m(()=>[]),hasParams:!1}],VI=[{id:"contains_case_insensitive",name:"contains",uiTypeParameterMap:{[xe.Text]:[xe.Text],[xe.Email]:[xe.Text],[xe.Uri]:[xe.Text]},hasParams:!0},{id:"starts_with_case_insensitive",name:"starts with",uiTypeParameterMap:{[xe.Text]:[xe.Text],[xe.Email]:[xe.Text],[xe.Uri]:[xe.Text]},hasParams:!0},...HI,{id:"uri_scheme_equals",name:"URI scheme is",uiTypeParameterMap:{[xe.Uri]:[xe.Text]},hasParams:!0},{id:"uri_authority_contains",name:"URI authority contains",uiTypeParameterMap:{[xe.Uri]:[xe.Text]},hasParams:!0},{id:"json_array_length_equals",name:"number of elements is",uiTypeParameterMap:{[xe.JsonArray]:[xe.Number]},hasParams:!0},{id:"json_array_length_greater_than",name:"number of elements >",uiTypeParameterMap:{[xe.JsonArray]:[xe.Number]},hasParams:!0},{id:"json_array_length_greater_or_equal",name:"number of elements >=",uiTypeParameterMap:{[xe.JsonArray]:[xe.Number]},hasParams:!0},{id:"json_array_length_less_than",name:"number of elements <",uiTypeParameterMap:{[xe.JsonArray]:[xe.Number]},hasParams:!0},{id:"json_array_length_less_or_equal",name:"number of elements <=",uiTypeParameterMap:{[xe.JsonArray]:[xe.Number]},hasParams:!0},{id:"json_array_not_empty",name:"array is not empty",uiTypeParameterMap:{[xe.JsonArray]:[]},hasParams:!1},{id:"json_array_contains",name:"array contains",uiTypeParameterMap:{[xe.JsonArray]:[xe.Text]},hasParams:!0},{id:"email_domain_equals",name:"email domain is",uiTypeParameterMap:{[xe.Email]:[xe.Text]},hasParams:!0},{id:"email_domain_contains",name:"email domain contains",uiTypeParameterMap:{[xe.Email]:[xe.Text]},hasParams:!0},{id:"lesser",name:"is lesser than",aliases:Yi(ji,"is before"),uiTypeParameterMap:Fu,hasParams:!0},{id:"greater",name:"is greater than",aliases:Yi(ji,"is after"),uiTypeParameterMap:Fu,hasParams:!0},{id:"lesser_or_equal",name:"is lesser or equal to",aliases:Yi(ji,"is before or same as"),uiTypeParameterMap:Fu,hasParams:!0},{id:"greater_or_equal",name:"is greater or equal to",aliases:Yi(ji,"is after or same as"),uiTypeParameterMap:Fu,hasParams:!0}];function zI(r){const e=Object.values(xe),n=new Map;return e.forEach(t=>{n.has(t)||n.set(t,[]);const l=n.get(t);r.forEach(s=>{var o,i,a;s.uiTypeParameterMap[t]&&(l==null||l.push({id:s.id,name:(i=(o=s.aliases)==null?void 0:o[t])!=null?i:s.name,parameters:(a=s.uiTypeParameterMap[t])!=null?a:[]}))})}),n}const wx=zI(HI),kx=zI(VI);function yx(r){var n;const e=new Map;return(n=wx.get(r))==null||n.forEach(t=>{e.set(t.id,t)}),e}function BI(r){var n;const e=new Map;return(n=kx.get(r))==null||n.forEach(t=>{e.set(t.id,t)}),e}function Cx(r){const e=VI.find(n=>n.id===r);if(e)return{id:e.id,name:e.name,hasAliases:!!e.aliases,hasParams:e.hasParams}}const Sx=[{id:"truncate_to_day",name:"Year, Month, Day",appliesTo:[xe.DateTime],returns:xe.Text},{id:"truncate_to_year",name:"Year",appliesTo:[xe.Date,xe.DateTime],returns:xe.Number},{id:"truncate_to_month",name:"Year, Month",appliesTo:[xe.Date,xe.DateTime],returns:xe.Text},{id:"uri_scheme",name:"URI scheme",appliesTo:[xe.Uri],returns:xe.Text},{id:"uri_authority",name:"URI Authority",appliesTo:[xe.Uri],returns:xe.Text},{id:"email_domain",name:"Domain",appliesTo:[xe.Email],returns:xe.Text}];function Tx(){const r=Object.values(xe),e=new Map;return r.forEach(n=>{e.has(n)||e.set(n,[]);const t=e.get(n);Sx.forEach(l=>{l.appliesTo.includes(n)&&(t==null||t.push({id:l.id,name:l.name,returns:l.returns,possibleReturnValues:l.possibleReturnValues}))})}),e}const Ix=Tx();function qI(r){var e;return(e=Ix.get(r))!=null?e:[]}function y2(r){return Object.fromEntries(Object.values(xe).map(e=>[e,r]))}function Nu(){return Object.fromEntries(Object.values(xe).map(r=>[r,r]))}const Ex={distinct_aggregate_to_array:{label:"List",inputOutputTypeMap:y2(xe.Array)},count:{label:"Count",inputOutputTypeMap:y2(xe.Number)},sum:{label:"Sum",inputOutputTypeMap:{[xe.Number]:xe.Number,[xe.Money]:xe.Money,[xe.Duration]:xe.Duration}},median:{label:"Median",inputOutputTypeMap:Nu()},mode:{label:"Mode",inputOutputTypeMap:Nu()},percentage_true:{label:"Percentage True",inputOutputTypeMap:{[xe.Boolean]:xe.Number}},max:{label:"Max",inputOutputTypeMap:Nu()},min:{label:"Min",inputOutputTypeMap:Nu()},mean:{label:"Mean",inputOutputTypeMap:{[xe.Number]:xe.Number,[xe.Money]:xe.Money,[xe.Duration]:xe.Duration}},peak_time:{label:"Peak time",inputOutputTypeMap:{[xe.DateTime]:xe.Time,[xe.Time]:xe.Time}},peak_month:{label:"Peak month",inputOutputTypeMap:{[xe.DateTime]:xe.Number,[xe.Date]:xe.Number}}};function Mx(r){const e=[];for(const n of ZX){const{label:t,inputOutputTypeMap:l}=Ex[n],s=l[r];s&&e.push({id:n,label:t,inputType:r,outputType:s})}return e}function Ja(r,e){const n=ho(r,e);return n==null?void 0:n.cellInfo}function Za(r,e){var l,s,o;const n=(l=e==null?void 0:e.config)!=null?l:{},t=(o=(s=e==null?void 0:e.conditionalConfig)==null?void 0:s[r])!=null?o:{};return{...n,...t}}function C2(r,e){var i,a;const n=(a=(i=e.type_options)==null?void 0:i.item_type)!=null?a:"string",t=Ja(n,e.metadata),l=Za(n,t),s=!t||t.type==="array"?"string":t.type,o=r[s];return u=>At(u)&&o.getDisplayFormatter?o.getDisplayFormatter({type:n,type_options:null,metadata:e.metadata},l)(u):String(u)}function Rx(r){return{get:e=>({component:ZZ,props:{formatElementForDisplay:C2(r,e)}}),getInput:()=>({component:hn}),getDisplayFormatter:e=>{const n=C2(r,e);return t=>Array.isArray(t)?t.map(n).join(", "):n(t)}}}function Dx(r){let e,n,t;function l(o){r[13](o)}let s={allowIndeterminate:!0,disabled:r[2]||r[3]};return r[0]!==void 0&&(s.checked=r[0]),e=new lr({props:s}),we.push(()=>Me(e,"checked",l)),e.$on("change",r[7]),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};i&12&&(a.disabled=o[2]||o[3]),!n&&i&1&&(n=!0,a.checked=o[0],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function Ax(r){let e,n;return e=new Ic({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Ox(r){let e,n,t,l;const s=[Ax,Dx],o=[];function i(a,u){return a[0]===void 0?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function Fx(r){let e,n,t;function l(o){r[14](o)}let s={isActive:r[1],disabled:r[2],isIndependentOfSheet:r[4],valueComparisonOutcome:r[6],$$slots:{default:[Ox]},$$scope:{ctx:r}};return r[5]!==void 0&&(s.element=r[5]),e=new go({props:s}),we.push(()=>Me(e,"element",l)),e.$on("mouseenter",r[15]),e.$on("mouseleave",r[10]),e.$on("keydown",r[8]),e.$on("mousedown",r[9]),e.$on("mouseup",r[11]),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,[i]){const a={};i&2&&(a.isActive=o[1]),i&4&&(a.disabled=o[2]),i&16&&(a.isIndependentOfSheet=o[4]),i&64&&(a.valueComparisonOutcome=o[6]),i&262157&&(a.$$scope={dirty:i,ctx:o}),!n&&i&32&&(n=!0,a.element=o[5],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function Nx(r,e,n){let t;const l=Et();let{isActive:s}=e,{value:o=void 0}=e,{disabled:i}=e,{searchValue:a=void 0}=e,{isProcessing:u}=e,{isIndependentOfSheet:f}=e,c,m=!1;function d(){l("update",{value:o})}function g(A){switch(A.key){case"Enter":s&&(n(0,o=!o),d());break;case"Tab":case"ArrowLeft":case"ArrowRight":case"ArrowDown":case"ArrowUp":l("movementKeyDown",{originalEvent:A,key:A.key});break}}function h(){m=s}function b(){m=!1}function w(){!i&&s&&m&&(n(0,o=!o),d())}function S(A){o=A,n(0,o)}function T(A){c=A,n(5,c)}function M(A){Re.call(this,r,A)}return r.$$set=A=>{"isActive"in A&&n(1,s=A.isActive),"value"in A&&n(0,o=A.value),"disabled"in A&&n(2,i=A.disabled),"searchValue"in A&&n(12,a=A.searchValue),"isProcessing"in A&&n(3,u=A.isProcessing),"isIndependentOfSheet"in A&&n(4,f=A.isIndependentOfSheet)},r.$$.update=()=>{r.$$.dirty&4097&&n(6,t=V_(a,o))},[o,s,i,u,f,c,t,d,g,h,b,w,a,S,T,M]}class Px extends Q{constructor(e){super(),Z(this,e,Nx,Fx,J,{isActive:1,value:0,disabled:2,searchValue:12,isProcessing:3,isIndependentOfSheet:4})}}function Lx(r){var t;let e=r[5]((t=r[0])!=null?t:void 0)+"",n;return{c(){n=L(e)},m(l,s){v(l,n,s)},p(l,s){var o;s&33&&e!==(e=l[5]((o=l[0])!=null?o:void 0)+"")&&z(n,e)},d(l){l&&$(n)}}}function S2(r){let e,n,t;const l=[Gr];let s={};for(let o=0;o<l.length;o+=1)s=se(s,l[o]);return n=new Ne({props:s}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","icon svelte-icd89f")},m(o,i){v(o,e,i),k(n,e,null),t=!0},p(o,i){const a=i&0?de(l,[_e(Gr)]):{};n.$set(a)},i(o){t||(_(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&$(e),y(n)}}}function Hx(r){let e,n,t,l,s;t=new Ga({props:{value:r[0],$$slots:{default:[Lx]},$$scope:{ctx:r}}});let o=r[1]&&S2();return{c(){e=E("div"),n=E("div"),C(t.$$.fragment),l=N(),o&&o.c(),I(n,"class","value svelte-icd89f"),ie(n,"active",r[1]),I(e,"class","cell svelte-icd89f")},m(i,a){v(i,e,a),R(e,n),k(t,n,null),R(e,l),o&&o.m(e,null),s=!0},p(i,a){const u={};a&1&&(u.value=i[0]),a&8388641&&(u.$$scope={dirty:a,ctx:i}),t.$set(u),(!s||a&2)&&ie(n,"active",i[1]),i[1]?o?(o.p(i,a),a&2&&_(o,1)):(o=S2(),o.c(),_(o,1),o.m(e,null)):o&&(U(),p(o,1,1,()=>{o=null}),W())},i(i){s||(_(t.$$.fragment,i),_(o),s=!0)},o(i){p(t.$$.fragment,i),p(o),s=!1},d(i){i&&$(e),y(t),o&&o.d()}}}function Vx(r){let e,n;return e=new co({props:{id:r[7]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function zx(r){let e,n,t,l,s;function o(c){r[13](c)}function i(){return r[15](r[21])}function a(...c){return r[16](r[21],r[22],...c)}let u={"aria-controls":r[7],"aria-haspopup":"listbox",isActive:r[1],disabled:r[2],isIndependentOfSheet:r[3],$$slots:{default:[Hx]},$$scope:{ctx:r}};r[6]!==void 0&&(u.element=r[6]),e=new go({props:u}),we.push(()=>Me(e,"element",o)),e.$on("mousedown",r[9]),e.$on("mouseenter",r[14]),e.$on("click",i),e.$on("keydown",a);function f(){return r[17](r[21])}return l=new Xl({props:{trigger:r[6],isOpen:r[22],class:"single-select-cell-dropdown retain-active-cell",$$slots:{default:[Vx]},$$scope:{ctx:r}}}),l.$on("close",f),{c(){C(e.$$.fragment),t=N(),C(l.$$.fragment)},m(c,m){k(e,c,m),v(c,t,m),k(l,c,m),s=!0},p(c,m){r=c;const d={};m&2&&(d.isActive=r[1]),m&4&&(d.disabled=r[2]),m&8&&(d.isIndependentOfSheet=r[3]),m&8388643&&(d.$$scope={dirty:m,ctx:r}),!n&&m&64&&(n=!0,d.element=r[6],De(()=>n=!1)),e.$set(d);const g={};m&64&&(g.trigger=r[6]),m&4194304&&(g.isOpen=r[22]),m&8388608&&(g.$$scope={dirty:m,ctx:r}),l.$set(g)},i(c){s||(_(e.$$.fragment,c),_(l.$$.fragment,c),s=!0)},o(c){p(e.$$.fragment,c),p(l.$$.fragment,c),s=!1},d(c){y(e,c),c&&$(t),y(l,c)}}}function Bx(r){let e,n;return e=new Ba({props:{options:r[4],getLabel:r[5],disabled:r[2],selectionType:"single",value:At(r[0])?[r[0]]:[],$$slots:{default:[zx,({api:t,isOpen:l})=>({21:t,22:l}),({api:t,isOpen:l})=>(t?2097152:0)|(l?4194304:0)]},$$scope:{ctx:r}}}),e.$on("change",r[18]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&16&&(s.options=t[4]),l&32&&(s.getLabel=t[5]),l&4&&(s.disabled=t[2]),l&1&&(s.value=At(t[0])?[t[0]]:[]),l&14680175&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function qx(r,e,n){const t=Et(),l=vr();let{isActive:s}=e,{value:o=void 0}=e,{disabled:i}=e,{isIndependentOfSheet:a}=e,{options:u=[]}=e,{getLabel:f=F=>$i(F)}=e,c,m=!1;function d(F){s&&!m&&F.toggle(),m=!1}function g(){s||(m=!0,t("activate"))}function h(F,P,B){if(["Tab","ArrowLeft","ArrowRight"].includes(F.key)){t("movementKeyDown",{originalEvent:F,key:F.key}),P.close();return}if(B){P.handleKeyDown(F);return}switch(F.key){case"Enter":i||P.handleKeyDown(F);break;case"ArrowDown":case"ArrowUp":t("movementKeyDown",{originalEvent:F,key:F.key});break}}function b(F){n(0,[o]=F,o),t("update",{value:o})}function w(F){F.close(),c==null||c.focus()}function S(F){c=F,n(6,c)}function T(F){Re.call(this,r,F)}const M=F=>d(F),A=(F,P,B)=>h(B,F,P),D=F=>w(F),O=F=>b(F.detail);return r.$$set=F=>{"isActive"in F&&n(1,s=F.isActive),"value"in F&&n(0,o=F.value),"disabled"in F&&n(2,i=F.disabled),"isIndependentOfSheet"in F&&n(3,a=F.isIndependentOfSheet),"options"in F&&n(4,u=F.options),"getLabel"in F&&n(5,f=F.getLabel)},[o,s,i,a,u,f,c,l,d,g,h,b,w,S,T,M,A,D,O]}class Ux extends Q{constructor(e){super(),Z(this,e,qx,Bx,J,{isActive:1,value:0,disabled:2,isIndependentOfSheet:3,options:4,getLabel:5})}}function UI(r){return{true:Tn(r,"bool_true"),false:Tn(r,"bool_false")}}function WI(r,e){return At(e)?e?r.true:r.false:""}function T2(r){const e=UI(r);return{options:[null,!0,!1],getLabel:n=>WI(e,n)}}const Wx={initialInputValue:null,get:r=>{var n;const e=(n=r.metadata)!=null?n:void 0;return e&&e.bool_input==="dropdown"?{component:Ux,props:T2(r)}:{component:Px,props:{}}},getInput:r=>({component:fn,props:T2(r)}),getDisplayFormatter(r){const e=UI(r);return n=>n==null||typeof n=="boolean"?WI(e,n):""}};const jx=r=>({value:r&1,formatValue:r&16,matchParts:r&512}),I2=r=>({value:r[0],formatValue:r[4],matchParts:r[9],handleInputBlur:r[17],handleInputKeydown:r[16]}),Yx=r=>({}),E2=r=>({handleInputBlur:r[17],handleInputKeydown:r[16]});function Gx(r){let e,n,t;return n=new Qr({props:{lines:r[1]&&r[3]?2:1,passthrough:!r[7],$$slots:{default:[Jx]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","content svelte-kb88kg"),ie(e,"nowrap",!r[1]&&!r[6]),ie(e,"truncate",r[1]&&r[3]&&!r[6])},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&10&&(o.lines=l[1]&&l[3]?2:1),s&128&&(o.passthrough=!l[7]),s&8397329&&(o.$$scope={dirty:s,ctx:l}),n.$set(o),(!t||s&66)&&ie(e,"nowrap",!l[1]&&!l[6]),(!t||s&74)&&ie(e,"truncate",l[1]&&l[3]&&!l[6])},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function Kx(r){let e;const n=r[20].default,t=ke(n,r,r[23],E2);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&8388608)&&Ce(t,n,l,l[23],e?ye(n,l[23],s,Yx):Se(l[23]),E2)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function Xx(r){let e,n;return e=new Ga({props:{value:r[13],matchParts:r[9]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8192&&(s.value=t[13]),l&512&&(s.matchParts=t[9]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Jx(r){let e;const n=r[20].content,t=ke(n,r,r[23],I2),l=t||Xx(r);return{c(){l&&l.c()},m(s,o){l&&l.m(s,o),e=!0},p(s,o){t?t.p&&(!e||o&8389137)&&Ce(t,n,s,s[23],e?ye(n,s[23],o,jx):Se(s[23]),I2):l&&l.p&&(!e||o&8704)&&l.p(s,e?o:-1)},i(s){e||(_(l,s),e=!0)},o(s){p(l,s),e=!1},d(s){l&&l.d(s)}}}function Zx(r){let e,n,t,l;const s=[Kx,Gx],o=[];function i(a,u){return a[11]?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function Qx(r){let e,n,t;function l(o){r[21](o)}let s={isActive:r[1],disabled:r[2],mode:r[11]?"edit":"default",useTabularNumbers:r[8],multiLineTruncate:r[3],horizontalAlignment:r[5],valueComparisonOutcome:r[12],isIndependentOfSheet:r[6],$$slots:{default:[Zx]},$$scope:{ctx:r}};return r[10]!==void 0&&(s.element=r[10]),e=new go({props:s}),we.push(()=>Me(e,"element",l)),e.$on("dblclick",r[14]),e.$on("keydown",r[15]),e.$on("mouseenter",r[22]),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,[i]){const a={};i&2&&(a.isActive=o[1]),i&4&&(a.disabled=o[2]),i&2048&&(a.mode=o[11]?"edit":"default"),i&256&&(a.useTabularNumbers=o[8]),i&8&&(a.multiLineTruncate=o[3]),i&32&&(a.horizontalAlignment=o[5]),i&4096&&(a.valueComparisonOutcome=o[12]),i&64&&(a.isIndependentOfSheet=o[6]),i&8399579&&(a.$$scope={dirty:i,ctx:o}),!n&&i&1024&&(n=!0,a.element=o[10],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function xx(r,e,n){let t,l,s,{$$slots:o={},$$scope:i}=e;const a=Et();let{isActive:u}=e,{value:f}=e,{disabled:c}=e,{multiLineTruncate:m=!1}=e,{formatValue:d=void 0}=e,{horizontalAlignment:g=void 0}=e,{searchValue:h=void 0}=e,{isIndependentOfSheet:b=!1}=e,{showTruncationPopover:w=!1}=e,{highlightSubstringMatches:S=!0}=e,{useTabularNumbers:T=!1}=e,M,A=!1,D;function O(){c||n(11,A=!0)}function F(){n(11,A=!1)}function P(){n(0,f=D)}function B(){D=f}function j(ee){switch(ee.key){case"Enter":A?F():O(),ee.preventDefault();break;case"Escape":P(),F();break;case"Tab":F(),a("movementKeyDown",{originalEvent:ee,key:ee.key});break;case"ArrowLeft":case"ArrowRight":case"ArrowDown":case"ArrowUp":A||a("movementKeyDown",{originalEvent:ee,key:ee.key});break}}function V(){f!==D&&(B(),a("update",{value:f}))}function q(ee){switch(ee.key){case"Escape":P();break;case"Enter":case"Tab":V();break}}function G(){V(),F()}tn(B);function Y(ee){M=ee,n(10,M)}function K(ee){Re.call(this,r,ee)}return r.$$set=ee=>{"isActive"in ee&&n(1,u=ee.isActive),"value"in ee&&n(0,f=ee.value),"disabled"in ee&&n(2,c=ee.disabled),"multiLineTruncate"in ee&&n(3,m=ee.multiLineTruncate),"formatValue"in ee&&n(4,d=ee.formatValue),"horizontalAlignment"in ee&&n(5,g=ee.horizontalAlignment),"searchValue"in ee&&n(18,h=ee.searchValue),"isIndependentOfSheet"in ee&&n(6,b=ee.isIndependentOfSheet),"showTruncationPopover"in ee&&n(7,w=ee.showTruncationPopover),"highlightSubstringMatches"in ee&&n(19,S=ee.highlightSubstringMatches),"useTabularNumbers"in ee&&n(8,T=ee.useTabularNumbers),"$$scope"in ee&&n(23,i=ee.$$scope)},r.$$.update=()=>{var ee;r.$$.dirty&17&&n(13,t=(ee=d==null?void 0:d(f))!=null?ee:f),r.$$.dirty&786433&&n(9,l=(()=>{if(!(!S||typeof f!="string"||typeof h!="string"))return kT(f,h)})()),r.$$.dirty&262673&&n(12,s=(()=>l?eY(l):V_(h,f,X=>{var fe;return X==null?"":(fe=d==null?void 0:d(X))!=null?fe:""}))())},[f,u,c,m,d,g,b,w,T,l,M,A,s,t,O,j,q,G,h,S,o,Y,K,i]}class bo extends Q{constructor(e){super(),Z(this,e,xx,Qx,J,{isActive:1,value:0,disabled:2,multiLineTruncate:3,formatValue:4,horizontalAlignment:5,searchValue:18,isIndependentOfSheet:6,showTruncationPopover:7,highlightSubstringMatches:19,useTabularNumbers:8})}}function M2(r,e,n){const t=r.slice();return t[13]=e[n].keyword,t[14]=e[n].label,t}function eee(r){let e,n=r[5](r[13])+"",t,l,s,o,i=r[14]+"",a,u;return{c(){e=E("span"),t=L(n),l=N(),s=E("span"),o=L("("),a=L(i),u=L(")"),I(s,"class","tag-label absolute-date svelte-1i8udc4")},m(f,c){v(f,e,c),R(e,t),v(f,l,c),v(f,s,c),R(s,o),R(s,a),R(s,u)},p(f,c){c&4&&n!==(n=f[5](f[13])+"")&&z(t,n),c&4&&i!==(i=f[14]+"")&&z(a,i)},d(f){f&&$(e),f&&$(l),f&&$(s)}}}function tee(r){let e,n=r[14]+"",t;return{c(){e=E("span"),t=L(n),I(e,"class","tag-label")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&4&&n!==(n=l[14]+"")&&z(t,n)},d(l){l&&$(e)}}}function nee(r){let e;function n(s,o){return s[1]?tee:eee}let t=n(r),l=t(r);return{c(){l.c(),e=N()},m(s,o){l.m(s,o),v(s,e,o)},p(s,o){t===(t=n(s))&&l?l.p(s,o):(l.d(1),l=t(s),l&&(l.c(),l.m(e.parentNode,e)))},d(s){l.d(s),s&&$(e)}}}function R2(r,e){var o;let n,t,l;function s(){return e[8](e[13])}return t=new st({props:{appearance:((o=e[0])==null?void 0:o.trim())===e[13]?"primary":"plain",$$slots:{default:[nee]},$$scope:{ctx:e}}}),t.$on("click",s),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(i,a){v(i,n,a),k(t,i,a),l=!0},p(i,a){var f;e=i;const u={};a&5&&(u.appearance=((f=e[0])==null?void 0:f.trim())===e[13]?"primary":"plain"),a&131078&&(u.$$scope={dirty:a,ctx:e}),t.$set(u)},i(i){l||(_(t.$$.fragment,i),l=!0)},o(i){p(t.$$.fragment,i),l=!1},d(i){i&&$(n),y(t,i)}}}function ree(r){let e,n=[],t=new Map,l,s=r[2];const o=i=>i[13];for(let i=0;i<s.length;i+=1){let a=M2(r,s,i),u=o(a);t.set(u,n[i]=R2(u,a))}return{c(){e=E("div");for(let i=0;i<n.length;i+=1)n[i].c();I(e,"class","presets svelte-1i8udc4"),ie(e,"is-relative",r[1])},m(i,a){v(i,e,a);for(let u=0;u<n.length;u+=1)n[u].m(e,null);l=!0},p(i,[a]){a&63&&(s=i[2],U(),n=ht(n,a,o,1,i,s,t,e,kt,R2,null,M2),W()),(!l||a&2)&&ie(e,"is-relative",i[1])},i(i){if(!l){for(let a=0;a<s.length;a+=1)_(n[a]);l=!0}},o(i){for(let a=0;a<n.length;a+=1)p(n[a]);l=!1},d(i){i&&$(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function lee(r,e,n){let t,l;ne(r,ce,b=>n(9,l=b));const s=Et();let{type:o}=e,{value:i}=e,{formatter:a}=e,{isRelative:u=!1}=e;const f={keyword:"now",label:l("now")},c={keyword:"today",label:l("today")},m={keyword:"yesterday",label:l("yesterday")};function d(b){return a.parse(b).value}function g(b){return a.parseAndFormat(b)}const h=b=>{n(0,i=d(b)),s("change",i)};return r.$$set=b=>{"type"in b&&n(6,o=b.type),"value"in b&&n(0,i=b.value),"formatter"in b&&n(7,a=b.formatter),"isRelative"in b&&n(1,u=b.isRelative)},r.$$.update=()=>{r.$$.dirty&64&&n(2,t=(()=>o==="date"?[c,m]:o==="datetime"?[f,c]:o==="time"?[f]:Rt(o))())},[i,u,t,s,d,g,o,a,h]}class see extends Q{constructor(e){super(),Z(this,e,lee,ree,J,{type:6,value:0,formatter:7,isRelative:1})}}function oee(r){let e,n,t,l,s;e=new qU({props:{type:r[1],value:r[9],format:r[2],timeShow24Hr:r[4],timeEnableSeconds:r[5]}}),e.$on("change",r[23]),e.$on("dateChange",r[11]);function o(a){r[24](a)}let i={isRelative:r[6],type:r[1],formatter:r[3]};return r[0]!==void 0&&(i.value=r[0]),t=new see({props:i}),we.push(()=>Me(t,"value",o)),t.$on("change",r[11]),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(a,u){k(e,a,u),v(a,n,u),k(t,a,u),s=!0},p(a,u){const f={};u&2&&(f.type=a[1]),u&512&&(f.value=a[9]),u&4&&(f.format=a[2]),u&16&&(f.timeShow24Hr=a[4]),u&32&&(f.timeEnableSeconds=a[5]),e.$set(f);const c={};u&64&&(c.isRelative=a[6]),u&2&&(c.type=a[1]),u&8&&(c.formatter=a[3]),!l&&u&1&&(l=!0,c.value=a[0],De(()=>l=!1)),t.$set(c)},i(a){s||(_(e.$$.fragment,a),_(t.$$.fragment,a),s=!0)},o(a){p(e.$$.fragment,a),p(t.$$.fragment,a),s=!1},d(a){y(e,a),a&&$(n),y(t,a)}}}function iee(r){let e,n,t,l,s,o,i;const a=[r[16],{formatter:r[3]},{placeholder:r[2]}];function u(g){r[17](g)}function f(g){r[18](g)}let c={};for(let g=0;g<a.length;g+=1)c=se(c,a[g]);r[0]!==void 0&&(c.value=r[0]),r[7]!==void 0&&(c.element=r[7]),e=new za({props:c}),we.push(()=>Me(e,"value",u)),we.push(()=>Me(e,"element",f)),e.$on("focus",r[10]),e.$on("focus",r[19]),e.$on("blur",r[12]),e.$on("keydown",r[13]),e.$on("keydown",r[20]),e.$on("artificialInput",r[21]),e.$on("artificialChange",r[22]);function m(g){r[25](g)}let d={class:"retain-active-cell no-max-height",trigger:r[7],$$slots:{default:[oee]},$$scope:{ctx:r}};return r[8]!==void 0&&(d.isOpen=r[8]),s=new Xl({props:d}),we.push(()=>Me(s,"isOpen",m)),s.$on("close",r[14]),{c(){C(e.$$.fragment),l=N(),C(s.$$.fragment)},m(g,h){k(e,g,h),v(g,l,h),k(s,g,h),i=!0},p(g,[h]){const b=h&65548?de(a,[h&65536&&_e(g[16]),h&8&&{formatter:g[3]},h&4&&{placeholder:g[2]}]):{};!n&&h&1&&(n=!0,b.value=g[0],De(()=>n=!1)),!t&&h&128&&(t=!0,b.element=g[7],De(()=>t=!1)),e.$set(b);const w={};h&128&&(w.trigger=g[7]),h&268436095&&(w.$$scope={dirty:h,ctx:g}),!o&&h&256&&(o=!0,w.isOpen=g[8],De(()=>o=!1)),s.$set(w)},i(g){i||(_(e.$$.fragment,g),_(s.$$.fragment,g),i=!0)},o(g){p(e.$$.fragment,g),p(s.$$.fragment,g),i=!1},d(g){y(e,g),g&&$(l),y(s,g)}}}function aee(r,e,n){let t;const l=["type","formattingString","formatter","value","timeShow24Hr","timeEnableSeconds","allowRelativePresets"];let s=We(e,l);const o=Et();let{type:i}=e,{formattingString:a}=e,{formatter:u}=e,{value:f}=e,{timeShow24Hr:c=!0}=e,{timeEnableSeconds:m=!0}=e,{allowRelativePresets:d=!1}=e,g,h=!1;function b(K){if(At(K)){const ee=u.parseAndFormat(K);if(Mn(ee,a,!0).isValid())return ee}}function w(){n(8,h=!0)}function S(){n(8,h=!1)}function T(){h||o("blur")}function M(K){K.key==="Tab"&&S()}function A(){o("blur")}function D(K){n(0,f=u.parse(K).value),o("artificialInput",f),o("artificialChange",f)}function O(K){f=K,n(0,f)}function F(K){g=K,n(7,g)}function P(K){Re.call(this,r,K)}function B(K){Re.call(this,r,K)}function j(K){Re.call(this,r,K)}function V(K){Re.call(this,r,K)}const q=K=>D(K.detail);function G(K){f=K,n(0,f)}function Y(K){h=K,n(8,h)}return r.$$set=K=>{e=se(se({},e),pt(K)),n(16,s=We(e,l)),"type"in K&&n(1,i=K.type),"formattingString"in K&&n(2,a=K.formattingString),"formatter"in K&&n(3,u=K.formatter),"value"in K&&n(0,f=K.value),"timeShow24Hr"in K&&n(4,c=K.timeShow24Hr),"timeEnableSeconds"in K&&n(5,m=K.timeEnableSeconds),"allowRelativePresets"in K&&n(6,d=K.allowRelativePresets)},r.$$.update=()=>{r.$$.dirty&1&&n(9,t=b(f))},[f,i,a,u,c,m,d,g,h,t,w,S,T,M,A,D,s,O,F,P,B,j,V,q,G,Y]}class Mc extends Q{constructor(e){super(),Z(this,e,aee,iee,J,{type:1,formattingString:2,formatter:3,value:0,timeShow24Hr:4,timeEnableSeconds:5,allowRelativePresets:6})}}function uee(r){let e,n,t;function l(o){r[11](o)}let s={focusOnMount:!0,type:r[5],formattingString:r[6],formatter:r[7],timeShow24Hr:r[8],timeEnableSeconds:r[9]};return r[0]!==void 0&&(s.value=r[0]),e=new Mc({props:s}),we.push(()=>Me(e,"value",l)),e.$on("blur",function(){St(r[16])&&r[16].apply(this,arguments)}),e.$on("keydown",function(){St(r[17])&&r[17].apply(this,arguments)}),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){r=o;const a={};i&32&&(a.type=r[5]),i&64&&(a.formattingString=r[6]),i&128&&(a.formatter=r[7]),i&256&&(a.timeShow24Hr=r[8]),i&512&&(a.timeEnableSeconds=r[9]),!n&&i&1&&(n=!0,a.value=r[0],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function fee(r){let e,n,t;function l(o){r[12](o)}let s={isActive:r[1],disabled:r[2],highlightSubstringMatches:!1,isIndependentOfSheet:r[3],showTruncationPopover:r[4],useTabularNumbers:!0,formatValue:r[10],$$slots:{default:[uee,({handleInputBlur:o,handleInputKeydown:i})=>({16:o,17:i}),({handleInputBlur:o,handleInputKeydown:i})=>(o?65536:0)|(i?131072:0)]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.value=r[0]),e=new bo({props:s}),we.push(()=>Me(e,"value",l)),e.$on("movementKeyDown",r[13]),e.$on("mouseenter",r[14]),e.$on("update",r[15]),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,[i]){const a={};i&2&&(a.isActive=o[1]),i&4&&(a.disabled=o[2]),i&8&&(a.isIndependentOfSheet=o[3]),i&16&&(a.showTruncationPopover=o[4]),i&1024&&(a.formatValue=o[10]),i&459745&&(a.$$scope={dirty:i,ctx:o}),!n&&i&1&&(n=!0,a.value=o[0],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function cee(r,e,n){let{isActive:t}=e,{value:l}=e,{disabled:s}=e,{isIndependentOfSheet:o}=e,{showTruncationPopover:i=!1}=e,{type:a}=e,{formattingString:u}=e,{formatter:f}=e,{timeShow24Hr:c=!0}=e,{timeEnableSeconds:m=!0}=e,{formatForDisplay:d}=e;function g(T){l=T,n(0,l)}function h(T){l=T,n(0,l)}function b(T){Re.call(this,r,T)}function w(T){Re.call(this,r,T)}function S(T){Re.call(this,r,T)}return r.$$set=T=>{"isActive"in T&&n(1,t=T.isActive),"value"in T&&n(0,l=T.value),"disabled"in T&&n(2,s=T.disabled),"isIndependentOfSheet"in T&&n(3,o=T.isIndependentOfSheet),"showTruncationPopover"in T&&n(4,i=T.showTruncationPopover),"type"in T&&n(5,a=T.type),"formattingString"in T&&n(6,u=T.formattingString),"formatter"in T&&n(7,f=T.formatter),"timeShow24Hr"in T&&n(8,c=T.timeShow24Hr),"timeEnableSeconds"in T&&n(9,m=T.timeEnableSeconds),"formatForDisplay"in T&&n(10,d=T.formatForDisplay)},[l,t,s,o,i,a,u,f,c,m,d,g,h,b,w,S]}class lp extends Q{constructor(e){super(),Z(this,e,cee,fee,J,{isActive:1,value:0,disabled:2,isIndependentOfSheet:3,showTruncationPopover:4,type:5,formattingString:6,formatter:7,timeShow24Hr:8,timeEnableSeconds:9,formatForDisplay:10})}}function vm(r){const e=Tn(r,"date_format"),n=new Ka({type:"date",dateFormat:e}),t=new rp(n);return{type:"date",formattingString:n.getFormattingString(),formatter:t,formatForDisplay:l=>At(l)?t.parseAndFormat(l):l}}const mee={get:r=>({component:lp,props:vm(r)}),getInput:r=>({component:Mc,props:{...vm(r),allowRelativePresets:!0}}),getDisplayFormatter(r){return e=>vm(r).formatForDisplay(String(e))}};function wm(r,e){const n=Tn(r,"date_format"),t=Tn(r,"time_format"),l=new Ka({type:e?"timestampWithTZ":"timestamp",dateFormat:n,timeFormat:t}),s=new rp(l);return{type:"datetime",formattingString:l.getFormattingString(),formatter:s,timeEnableSeconds:l.hasSecondsInTime(),timeShow24Hr:l.isTime24Hr(),formatForDisplay:o=>At(o)?s.parseAndFormat(o):o}}const dee={get:(r,e)=>{var n;return{component:lp,props:wm(r,(n=e==null?void 0:e.supportTimeZone)!=null?n:!1)}},getInput:(r,e)=>{var n;return{component:Mc,props:{...wm(r,(n=e==null?void 0:e.supportTimeZone)!=null?n:!1),allowRelativePresets:!0}}},getDisplayFormatter(r,e){return n=>{var t;return wm(r,(t=e==null?void 0:e.supportTimeZone)!=null?t:!1).formatForDisplay(String(n))}}};function _ee(r){let e,n,t;const l=[{focusOnMount:!0},r[8],{formatter:r[5]}];function s(i){r[9](i)}let o={};for(let i=0;i<l.length;i+=1)o=se(o,l[i]);return r[0]!==void 0&&(o.value=r[0]),e=new za({props:o}),we.push(()=>Me(e,"value",s)),e.$on("blur",function(){St(r[14])&&r[14].apply(this,arguments)}),e.$on("keydown",function(){St(r[15])&&r[15].apply(this,arguments)}),{c(){C(e.$$.fragment)},m(i,a){k(e,i,a),t=!0},p(i,a){r=i;const u=a&288?de(l,[l[0],a&256&&_e(r[8]),a&32&&{formatter:r[5]}]):{};!n&&a&1&&(n=!0,u.value=r[0],De(()=>n=!1)),e.$set(u)},i(i){t||(_(e.$$.fragment,i),t=!0)},o(i){p(e.$$.fragment,i),t=!1},d(i){y(e,i)}}}function pee(r){let e,n,t;function l(o){r[10](o)}let s={isActive:r[1],disabled:r[2],isIndependentOfSheet:r[3],showTruncationPopover:r[4],useTabularNumbers:r[7],horizontalAlignment:"right",formatValue:r[6],$$slots:{default:[_ee,({handleInputBlur:o,handleInputKeydown:i})=>({14:o,15:i}),({handleInputBlur:o,handleInputKeydown:i})=>(o?16384:0)|(i?32768:0)]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.value=r[0]),e=new bo({props:s}),we.push(()=>Me(e,"value",l)),e.$on("movementKeyDown",r[11]),e.$on("mouseenter",r[12]),e.$on("update",r[13]),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,[i]){const a={};i&2&&(a.isActive=o[1]),i&4&&(a.disabled=o[2]),i&8&&(a.isIndependentOfSheet=o[3]),i&16&&(a.showTruncationPopover=o[4]),i&128&&(a.useTabularNumbers=o[7]),i&64&&(a.formatValue=o[6]),i&114977&&(a.$$scope={dirty:i,ctx:o}),!n&&i&1&&(n=!0,a.value=o[0],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function gee(r,e,n){const t=["isActive","value","disabled","isIndependentOfSheet","showTruncationPopover","formatter","formatForDisplay","useTabularNumbers"];let l=We(e,t),{isActive:s}=e,{value:o}=e,{disabled:i}=e,{isIndependentOfSheet:a}=e,{showTruncationPopover:u=!1}=e,{formatter:f}=e,{formatForDisplay:c}=e,{useTabularNumbers:m=void 0}=e;function d(S){o=S,n(0,o)}function g(S){o=S,n(0,o)}function h(S){Re.call(this,r,S)}function b(S){Re.call(this,r,S)}function w(S){Re.call(this,r,S)}return r.$$set=S=>{e=se(se({},e),pt(S)),n(8,l=We(e,t)),"isActive"in S&&n(1,s=S.isActive),"value"in S&&n(0,o=S.value),"disabled"in S&&n(2,i=S.disabled),"isIndependentOfSheet"in S&&n(3,a=S.isIndependentOfSheet),"showTruncationPopover"in S&&n(4,u=S.showTruncationPopover),"formatter"in S&&n(5,f=S.formatter),"formatForDisplay"in S&&n(6,c=S.formatForDisplay),"useTabularNumbers"in S&&n(7,m=S.useTabularNumbers)},[o,s,i,a,u,f,c,m,l,d,g,h,b,w]}class hee extends Q{constructor(e){super(),Z(this,e,gee,pee,J,{isActive:1,value:0,disabled:2,isIndependentOfSheet:3,showTruncationPopover:4,formatter:5,formatForDisplay:6,useTabularNumbers:7})}}function km(r){var o,i,a,u;const e=Ca.getDefaults(),n=(i=(o=r.metadata)==null?void 0:o.duration_max)!=null?i:e.max,t=(u=(a=r.metadata)==null?void 0:a.duration_min)!=null?u:e.min,l=new Ca({max:n,min:t}),s=new $Q(l);return{useTabularNumbers:!0,formatter:s,placeholder:l.getFormattingString(),formatForDisplay:f=>At(f)?s.format(f):f}}const bee={get:r=>({component:hee,props:km(r)}),getInput:r=>({component:za,props:km(r)}),getDisplayFormatter(r){return e=>km(r).formatForDisplay(String(e))}};function $ee(r){let e,n,t,l,s,o,i;const a=r[2].default,u=ke(a,r,r[1],null);return o=new Gt({}),{c(){e=E("div"),u&&u.c(),n=N(),t=E("div"),l=E("div"),s=N(),C(o.$$.fragment),I(l,"class","overlay svelte-1w5ocrc"),I(t,"class","indicator svelte-1w5ocrc"),I(e,"class","content-loading-indicator svelte-1w5ocrc"),ie(e,"loading",r[0])},m(f,c){v(f,e,c),u&&u.m(e,null),R(e,n),R(e,t),R(t,l),R(t,s),k(o,t,null),i=!0},p(f,[c]){u&&u.p&&(!i||c&2)&&Ce(u,a,f,f[1],i?ye(a,f[1],c,null):Se(f[1]),null),(!i||c&1)&&ie(e,"loading",f[0])},i(f){i||(_(u,f),_(o.$$.fragment,f),i=!0)},o(f){p(u,f),p(o.$$.fragment,f),i=!1},d(f){f&&$(e),u&&u.d(f),y(o)}}}function vee(r,e,n){let{$$slots:t={},$$scope:l}=e,{loading:s=!1}=e;return r.$$set=o=>{"loading"in o&&n(0,s=o.loading),"$$scope"in o&&n(1,l=o.$$scope)},[s,l,t]}class wee extends Q{constructor(e){super(),Z(this,e,vee,$ee,J,{loading:0})}}function kee(r){let e,n;const t=[r[0],r[1]];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,[o]){const i=o&3?de(t,[o&1&&_e(s[0]),o&2&&_e(s[1])]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function yee(r,e,n){let t;const l=["mimetype"];let s=We(e,l),{mimetype:o}=e;const i={"application/pdf":BK,"application/msword":y0,"application/vnd.openxmlformats-officedocument.wordprocessingml.document":y0,"application/vnd.ms-excel":w0,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":w0,"application/vnd.ms-powerpoint":k0,"application/vnd.openxmlformats-officedocument.presentationml.presentation":k0,"application/zip":Du,"application/x-7z-compressed":Du,"application/x-rar-compressed":Du,"application/x-tar":Du,"application/json":$0,"text/csv":v0,"text/x-csv":v0},a={image:zK,video:qK,audio:VK,text:$0};function u(f){var d;if(!f)return dm;const c=i[f];if(c)return c;const m=f.split("/",1).at(0);return m&&(d=a[m])!=null?d:dm}return r.$$set=f=>{e=se(se({},e),pt(f)),n(1,s=We(e,l)),"mimetype"in f&&n(2,o=f.mimetype)},r.$$.update=()=>{r.$$.dirty&4&&n(0,t=u(o))},[t,s,o]}class Cee extends Q{constructor(e){super(),Z(this,e,yee,kee,J,{mimetype:2})}}function See(r){let e=Rt(r[2])+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&4&&e!==(e=Rt(t[2])+"")&&z(n,e)},i:H,o:H,d(t){t&&$(n)}}}function Tee(r){let e,n,t;function l(o){r[16](o)}let s={"aria-label":r[7],tooltip:r[4],appearance:"secondary",$$slots:{default:[Eee]},$$scope:{ctx:r}};return r[1]!==void 0&&(s.element=r[1]),e=new st({props:s}),we.push(()=>Me(e,"element",l)),e.$on("click",r[11]),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};i&128&&(a["aria-label"]=o[7]),i&16&&(a.tooltip=o[4]),i&262208&&(a.$$scope={dirty:i,ctx:o}),!n&&i&2&&(n=!0,a.element=o[1],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function Iee(r){let e,n;return e=new wee({props:{loading:r[10],$$slots:{default:[Dee]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1024&&(s.loading=t[10]),l&262321&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Eee(r){let e,n;return e=new Cee({props:{mimetype:r[6]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&64&&(s.mimetype=t[6]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Mee(r){let e;return{c(){e=L(r[4])},m(n,t){v(n,e,t)},p(n,t){t&16&&z(e,n[4])},d(n){n&&$(e)}}}function Ree(r){let e,n,t,l,s;return{c(){e=E("div"),n=E("img"),I(n,"alt",r[7]),C1(n.src,t=r[5])||I(n,"src",t),I(n,"class","svelte-7tatbf"),I(e,"slot","trigger"),I(e,"class","image svelte-7tatbf")},m(o,i){v(o,e,i),R(e,n),r[15](n),l||(s=He(n,"click",r[11]),l=!0)},p(o,i){i&128&&I(n,"alt",o[7]),i&32&&!C1(n.src,t=o[5])&&I(n,"src",t)},d(o){o&&$(e),r[15](null),l=!1,s()}}}function Dee(r){let e,n;return e=new On({props:{$$slots:{trigger:[Ree],content:[Mee]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&262321&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Aee(r){let e,n,t,l,s;const o=[Iee,Tee,See],i=[];function a(u,f){return u[2]==="image"?0:u[2]==="default"?1:2}return t=a(r),l=i[t]=o[t](r),{c(){e=E("div"),n=E("div"),l.c(),I(n,"class","attached-file svelte-7tatbf"),ie(n,"can-open",r[9]),I(e,"class","file-cell-content svelte-7tatbf")},m(u,f){v(u,e,f),R(e,n),i[t].m(n,null),s=!0},p(u,[f]){let c=t;t=a(u),t===c?i[t].p(u,f):(U(),p(i[c],1,1,()=>{i[c]=null}),W(),l=i[t],l?l.p(u,f):(l=i[t]=o[t](u),l.c()),_(l,1),l.m(n,null)),(!s||f&512)&&ie(n,"can-open",u[9])},i(u){s||(_(l),s=!0)},o(u){p(l),s=!1},d(u){u&&$(e),i[t].d()}}}function Oee(r,e,n){let t,l,s,o,i,a,u,f,c,m,d=H,g=()=>(d(),d=le(t,P=>n(9,m=P)),t),h,b=H,w=()=>(b(),b=le(f,P=>n(10,h=P)),f);ne(r,ce,P=>n(17,c=P)),r.$$.on_destroy.push(()=>d()),r.$$.on_destroy.push(()=>b());let{fileViewerController:S}=e,{thumbnailResolutionHeightPx:T}=e,M,A;async function D(){try{await S.openFileViewer()}catch(P){console.error(P),$t.error(c("failed_to_load_image"))}}function O(P){we[P?"unshift":"push"](()=>{M=P,n(0,M)})}function F(P){A=P,n(1,A)}return r.$$set=P=>{"fileViewerController"in P&&n(12,S=P.fileViewerController),"thumbnailResolutionHeightPx"in P&&n(13,T=P.thumbnailResolutionHeightPx)},r.$$.update=()=>{r.$$.dirty&4096&&g(n(8,{canOpenViewer:t,manifestWithRequestParams:l}=S,t,(n(14,l),n(12,S)))),r.$$.dirty&16384&&n(7,{uri:s,mimetype:o}=l,s,(n(6,o),n(14,l),n(12,S))),r.$$.dirty&16384&&n(2,i=tp(l)),r.$$.dirty&24576&&n(5,a=l.thumbnailWithHeight(T)),r.$$.dirty&16384&&n(4,u=l.name),r.$$.dirty&4103&&S.setTriggerRetriever(()=>i==="image"?M:A),r.$$.dirty&4096&&w(n(3,{isLoading:f}=S,f))},[M,A,i,f,u,a,o,s,t,m,h,D,S,T,l,O,F]}class Fee extends Q{constructor(e){super(),Z(this,e,Oee,Aee,J,{fileViewerController:12,thumbnailResolutionHeightPx:13})}}function Nee(r){let e,n,t=r[2]&&D2(r);return{c(){e=E("div"),t&&t.c(),I(e,"class","add svelte-nv8spg")},m(l,s){v(l,e,s),t&&t.m(e,null),n=!0},p(l,s){l[2]?t?(t.p(l,s),s&4&&_(t,1)):(t=D2(l),t.c(),_(t,1),t.m(e,null)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){l&&$(e),t&&t.d()}}}function Pee(r){let e,n,t,l;const s=[Vee,Hee],o=[];function i(a,u){return a[5]?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function D2(r){let e,n;return e=new st({props:{disabled:!r[3],tabindex:"-1",$$slots:{default:[Lee]},$$scope:{ctx:r}}}),e.$on("click",function(){St(r[4])&&r[4].apply(this,arguments)}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){r=t;const s={};l&8&&(s.disabled=!r[3]),l&128&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Lee(r){let e,n;const t=[jt];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[_e(jt)]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function Hee(r){let e,n;return{c(){e=E("div"),n=L(r[0]),I(e,"class","centered svelte-nv8spg")},m(t,l){v(t,e,l),R(e,n)},p(t,l){l&1&&z(n,t[0])},i:H,o:H,d(t){t&&$(e)}}}function Vee(r){let e,n;return e=new Fee({props:{fileViewerController:r[5],thumbnailResolutionHeightPx:r[1]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&32&&(s.fileViewerController=t[5]),l&2&&(s.thumbnailResolutionHeightPx=t[1]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function zee(r){let e,n,t,l;const s=[Pee,Nee],o=[];function i(a,u){return a[6]?0:1}return n=i(r),t=o[n]=s[n](r),{c(){e=E("div"),t.c(),I(e,"class","file-cell-content svelte-nv8spg")},m(a,u){v(a,e,u),o[n].m(e,null),l=!0},p(a,[u]){let f=n;n=i(a),n===f?o[n].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),t=o[n],t?t.p(a,u):(t=o[n]=s[n](a),t.c()),_(t,1),t.m(e,null))},i(a){l||(_(t),l=!0)},o(a){p(t),l=!1},d(a){a&&$(e),o[n].d()}}}function Bee(r,e,n){let t,{value:l=void 0}=e,{thumbnailResolutionHeightPx:s}=e,{showUploadButton:o=!0}=e,{canUpload:i}=e,{upload:a}=e,{fileViewerController:u}=e;return r.$$set=f=>{"value"in f&&n(0,l=f.value),"thumbnailResolutionHeightPx"in f&&n(1,s=f.thumbnailResolutionHeightPx),"showUploadButton"in f&&n(2,o=f.showUploadButton),"canUpload"in f&&n(3,i=f.canUpload),"upload"in f&&n(4,a=f.upload),"fileViewerController"in f&&n(5,u=f.fileViewerController)},r.$$.update=()=>{r.$$.dirty&1&&n(6,t=l!=null)},[l,s,o,i,a,u,t]}class jI extends Q{constructor(e){super(),Z(this,e,Bee,zee,J,{value:0,thumbnailResolutionHeightPx:1,showUploadButton:2,canUpload:3,upload:4,fileViewerController:5})}}const qee=["click","pointerdown","pointerup","pointermove","pointercancel","touchstart","touchend","touchmove","wheel","keydown","keyup"];function Uee(r,e=qee){let n=!1;const t=()=>{n||(n=!0,e.forEach(l=>{window.removeEventListener(l,t,{capture:!0})}),r())};e.forEach(l=>{window.addEventListener(l,t,{capture:!0,passive:!0})})}class YI{constructor(e){te(this,"rawManifest");te(this,"manifestWithRequestParams");te(this,"canOpenViewer");te(this,"isLoading",Ue(!1));te(this,"imageElement");te(this,"lightboxController");te(this,"fileDetailController");te(this,"getTrigger",()=>{});te(this,"removeFile");te(this,"onClose");this.rawManifest=e.rawManifest,this.canOpenViewer=Ue(At(e.canOpen)?e.canOpen:!0),this.removeFile=e.removeFile,this.lightboxController=e.lightboxController,this.fileDetailController=e.fileDetailController,this.manifestWithRequestParams=new mZ(this.rawManifest,e.fileRequestParams),this.onClose=e.onClose}setTriggerRetriever(e){this.getTrigger=e}async openImageFileViewer(){if(!this.imageElement){let n=!1;if(Uee(()=>{n=!0},["pointerdown","keydown"]),this.isLoading.set(!0),this.imageElement=await cZ(this.manifestWithRequestParams.direct),this.isLoading.set(!1),n)return}if(!this.imageElement)throw new Error("Failed to load image");if(!this.lightboxController)return;const e=this.getTrigger();this.lightboxController.open({imageElement:this.imageElement,zoomOrigin:e==null?void 0:e.getBoundingClientRect(),fileManifestWithRequestParams:this.manifestWithRequestParams,removeFile:()=>this.removeFile(),onClose:()=>this.onClose()})}openFileDetailDropdown(){if(!this.fileDetailController)return;const e=this.getTrigger();!e||this.fileDetailController.open({trigger:e,fileManifestWithRequestParams:this.manifestWithRequestParams,removeFile:()=>this.removeFile(),onClose:()=>this.onClose()})}async openFileViewer(){if(!ve(this.canOpenViewer))return;const e=tp(this.manifestWithRequestParams);e==="image"?await this.openImageFileViewer():e==="default"?this.openFileDetailDropdown():Rt(e)}close(){var e,n;(e=this.lightboxController)==null||e.close(),(n=this.fileDetailController)==null||n.close()}}class Wee{constructor(){te(this,"props",Ue(void 0))}open(e){this.props.set(e)}close(){var n;if(ve(this.props)!==void 0){const t=(n=ve(this.props))==null?void 0:n.onClose;this.props.set(void 0),t==null||t()}}subscribe(e){return this.props.subscribe(e)}}const sp=Gl(),op=Gl();function A2(r){let e,n,t=r[4]("storage_uri")+"",l,s,o;return{c(){e=E("tr"),n=E("th"),l=L(t),s=E("td"),o=L(r[2]),I(n,"class","svelte-m87z2s"),I(s,"class","svelte-m87z2s")},m(i,a){v(i,e,a),R(e,n),R(n,l),R(e,s),R(s,o)},p(i,a){a&16&&t!==(t=i[4]("storage_uri")+"")&&z(l,t),a&4&&z(o,i[2])},d(i){i&&$(e)}}}function jee(r){let e,n,t,l=r[4]("name")+"",s,o,i,a,u,f,c,m=r[4]("mime_type")+"",d,g,h,b=r[0]&&A2(r);return{c(){e=E("table"),n=E("tr"),t=E("th"),s=L(l),o=E("td"),i=L(r[3]),a=N(),b&&b.c(),u=N(),f=E("tr"),c=E("th"),d=L(m),g=E("td"),h=L(r[1]),I(t,"class","svelte-m87z2s"),I(o,"class","svelte-m87z2s"),I(c,"class","svelte-m87z2s"),I(g,"class","svelte-m87z2s"),I(e,"class","svelte-m87z2s")},m(w,S){v(w,e,S),R(e,n),R(n,t),R(t,s),R(n,o),R(o,i),R(e,a),b&&b.m(e,null),R(e,u),R(e,f),R(f,c),R(c,d),R(f,g),R(g,h)},p(w,[S]){S&16&&l!==(l=w[4]("name")+"")&&z(s,l),S&8&&z(i,w[3]),w[0]?b?b.p(w,S):(b=A2(w),b.c(),b.m(e,u)):b&&(b.d(1),b=null),S&16&&m!==(m=w[4]("mime_type")+"")&&z(d,m),S&2&&z(h,w[1])},i:H,o:H,d(w){w&&$(e),b&&b.d()}}}function Yee(r,e,n){let t,l,s,o,i;ne(r,ce,u=>n(4,i=u));let{fileManifestWithRequestParams:a}=e;return r.$$set=u=>{"fileManifestWithRequestParams"in u&&n(5,a=u.fileManifestWithRequestParams)},r.$$.update=()=>{r.$$.dirty&32&&n(3,{name:t,uri:l,mimetype:s,showFileStorageInfo:o}=a,t,(n(2,l),n(5,a)),(n(1,s),n(5,a)),(n(0,o),n(5,a)))},[o,s,l,t,i,a]}class ip extends Q{constructor(e){super(),Z(this,e,Yee,jee,J,{fileManifestWithRequestParams:5})}}class Gee{constructor(){te(this,"props",Ue(void 0))}open(e){this.props.set(e)}close(){var n;if(ve(this.props)!==void 0){const t=(n=ve(this.props))==null?void 0:n.onClose;this.props.set(void 0),t==null||t()}}subscribe(e){return this.props.subscribe(e)}}const ap=Gl();function O2(r){let e,n;return e=new ip({props:{fileManifestWithRequestParams:r[5].manifestWithRequestParams}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&32&&(s.fileManifestWithRequestParams=t[5].manifestWithRequestParams),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Kee(r){let e,n,t,l,s;n=new jI({props:{value:r[0],fileViewerController:r[5],thumbnailResolutionHeightPx:r[6],showUploadButton:r[1],canUpload:!r[2],upload:r[7]}});let o=r[3]&&r[5]&&O2(r);return{c(){e=E("div"),C(n.$$.fragment),t=N(),o&&o.c(),I(e,"class","file-cell svelte-17sviax"),I(e,"style",l=r[3]?"":`height: ${Dl}px;`),ie(e,"disabled",r[2]),ie(e,"independent",r[3])},m(i,a){v(i,e,a),k(n,e,null),R(e,t),o&&o.m(e,null),s=!0},p(i,a){const u={};a&1&&(u.value=i[0]),a&32&&(u.fileViewerController=i[5]),a&2&&(u.showUploadButton=i[1]),a&4&&(u.canUpload=!i[2]),n.$set(u),i[3]&&i[5]?o?(o.p(i,a),a&40&&_(o,1)):(o=O2(i),o.c(),_(o,1),o.m(e,null)):o&&(U(),p(o,1,1,()=>{o=null}),W()),(!s||a&8&&l!==(l=i[3]?"":`height: ${Dl}px;`))&&I(e,"style",l),(!s||a&4)&&ie(e,"disabled",i[2]),(!s||a&8)&&ie(e,"independent",i[3])},i(i){s||(_(n.$$.fragment,i),_(o),s=!0)},o(i){p(n.$$.fragment,i),p(o),s=!1},d(i){i&&$(e),y(n),o&&o.d()}}}function Xee(r){let e,n,t;function l(o){r[13](o)}let s={isActive:r[1],disabled:r[2],isIndependentOfSheet:r[3],hasPadding:!1,$$slots:{default:[Kee]},$$scope:{ctx:r}};return r[4]!==void 0&&(s.element=r[4]),e=new go({props:s}),we.push(()=>Me(e,"element",l)),e.$on("mouseenter",r[14]),e.$on("keydown",r[9]),e.$on("dblclick",r[8]),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,[i]){const a={};i&2&&(a.isActive=o[1]),i&4&&(a.disabled=o[2]),i&8&&(a.isIndependentOfSheet=o[3]),i&1048623&&(a.$$scope={dirty:i,ctx:o}),!n&&i&16&&(n=!0,a.element=o[4],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function Jee(r,e,n){let t;const l=Dl*2,s=Et(),o=ap.get(),i=sp.get(),a=op.get();let{fileManifest:u=void 0}=e,{isActive:f}=e,{value:c=void 0}=e,{disabled:m}=e,{isIndependentOfSheet:d}=e,{setFileManifest:g=void 0}=e,{fileRequestParams:h=void 0}=e,b;function w(O){n(0,c=O),s("update",{value:c})}async function S(){if(m||!a)return;const O=await a.acquireFileAttachment();if(!O)return;const F=po(O.result);!F||(w(O.result),g==null||g(F.mash,O.download_link))}async function T(){u?await(t==null?void 0:t.openFileViewer()):await S()}function M(O){switch(O.key){case"Enter":T();break;case"Tab":case"ArrowLeft":case"ArrowRight":case"ArrowDown":case"ArrowUp":s("movementKeyDown",{originalEvent:O,key:O.key});break}}function A(O){b=O,n(4,b)}function D(O){Re.call(this,r,O)}return r.$$set=O=>{"fileManifest"in O&&n(10,u=O.fileManifest),"isActive"in O&&n(1,f=O.isActive),"value"in O&&n(0,c=O.value),"disabled"in O&&n(2,m=O.disabled),"isIndependentOfSheet"in O&&n(3,d=O.isIndependentOfSheet),"setFileManifest"in O&&n(11,g=O.setFileManifest),"fileRequestParams"in O&&n(12,h=O.fileRequestParams)},r.$$.update=()=>{r.$$.dirty&5136&&n(5,t=u?new YI({rawManifest:u,removeFile:()=>w(null),lightboxController:o,fileDetailController:i,fileRequestParams:h,onClose:async()=>{b==null||b.focus()}}):void 0),r.$$.dirty&34&&(t==null||t.canOpenViewer.set(f))},[c,f,m,d,b,t,l,S,T,M,u,g,h,A,D]}class Zee extends Q{constructor(e){super(),Z(this,e,Jee,Xee,J,{fileManifest:10,isActive:1,value:0,disabled:2,isIndependentOfSheet:3,setFileManifest:11,fileRequestParams:12})}}function Qee(r){let e,n,t,l,s,o,i,a,u,f,c,m;const d=[{disabled:r[3]},r[11]];function g(b){r[17](b)}let h={};for(let b=0;b<d.length;b+=1)h=se(h,d[b]);return r[0]!==void 0&&(h.id=r[0]),e=new Jl({props:h}),we.push(()=>Me(e,"id",g)),o=new jI({props:{value:r[1],fileViewerController:r[6],thumbnailResolutionHeightPx:xee,canUpload:!r[3],upload:r[8]}}),{c(){C(e.$$.fragment),t=N(),l=E("span"),s=E("div"),C(o.$$.fragment),I(s,"class","file-input-content svelte-1hgg10y"),ie(s,"large",r[7]),I(l,"id",r[0]),I(l,"class",i="input-element file-input "+r[2]+" svelte-1hgg10y"),I(l,"tabindex",a=r[3]?void 0:0),I(l,"role","listbox"),I(l,"aria-labelledby",u=ni(r[0])),ie(l,"has-value",r[5]),ie(l,"disabled",r[3])},m(b,w){k(e,b,w),v(b,t,w),v(b,l,w),R(l,s),k(o,s,null),r[18](l),f=!0,c||(m=[He(l,"focus",r[9]),He(l,"focus",r[15]),He(l,"blur",r[10]),He(l,"blur",r[16])],c=!0)},p(b,[w]){const S=w&2056?de(d,[w&8&&{disabled:b[3]},w&2048&&_e(b[11])]):{};!n&&w&1&&(n=!0,S.id=b[0],De(()=>n=!1)),e.$set(S);const T={};w&2&&(T.value=b[1]),w&64&&(T.fileViewerController=b[6]),w&8&&(T.canUpload=!b[3]),o.$set(T),(!f||w&128)&&ie(s,"large",b[7]),(!f||w&1)&&I(l,"id",b[0]),(!f||w&4&&i!==(i="input-element file-input "+b[2]+" svelte-1hgg10y"))&&I(l,"class",i),(!f||w&8&&a!==(a=b[3]?void 0:0))&&I(l,"tabindex",a),(!f||w&1&&u!==(u=ni(b[0])))&&I(l,"aria-labelledby",u),(!f||w&36)&&ie(l,"has-value",b[5]),(!f||w&12)&&ie(l,"disabled",b[3])},i(b){f||(_(e.$$.fragment,b),_(o.$$.fragment,b),f=!0)},o(b){p(e.$$.fragment,b),p(o.$$.fragment,b),f=!1},d(b){y(e,b),b&&$(t),b&&$(l),y(o),r[18](null),c=!1,Ot(m)}}}const xee=400;function ete(r,e,n){let t,l,s;const o=["id","value","class","disabled","fileManifest","setFileManifest","fileRequestParams"];let i=We(e,o);const a=O_(),u=Et(),f=ap.get(),c=sp.get(),m=op.get();let{id:d=vr()}=e,{value:g=void 0}=e,{class:h=""}=e,{disabled:b=!1}=e,{fileManifest:w=void 0}=e,{setFileManifest:S=void 0}=e,{fileRequestParams:T=void 0}=e,M;function A(Y){n(1,g=Y),u("artificialChange",g),u("artificialInput",g)}function D(){n(1,g=null),u("artificialChange",g),u("artificialInput",g),s==null||s.close()}async function O(){if(b||!m)return;const Y=await m.acquireFileAttachment(T);if(!Y)return;const K=po(Y.result);!K||(A(Y.result),S==null||S(K.mash,Y.download_link))}function F(Y){switch(Y.key){case"Enter":Y.target===M&&(w?s==null||s.openFileViewer():O());break;case"Delete":case"Backspace":D();break}}function P(){window.addEventListener("keydown",F)}function B(){window.removeEventListener("keydown",F)}function j(Y){Re.call(this,r,Y)}function V(Y){Re.call(this,r,Y)}function q(Y){d=Y,n(0,d)}function G(Y){we[Y?"unshift":"push"](()=>{M=Y,n(4,M)})}return r.$$set=Y=>{e=se(se({},e),pt(Y)),n(11,i=We(e,o)),"id"in Y&&n(0,d=Y.id),"value"in Y&&n(1,g=Y.value),"class"in Y&&n(2,h=Y.class),"disabled"in Y&&n(3,b=Y.disabled),"fileManifest"in Y&&n(12,w=Y.fileManifest),"setFileManifest"in Y&&n(13,S=Y.setFileManifest),"fileRequestParams"in Y&&n(14,T=Y.fileRequestParams)},r.$$.update=()=>{r.$$.dirty&2&&n(5,t=g!=null&&g!==""),r.$$.dirty&1&&(a==null||a.inputId.set(d)),r.$$.dirty&4128&&n(7,l=t&&w&&tp(w)==="image"),r.$$.dirty&20496&&n(6,s=w?new YI({rawManifest:w,removeFile:()=>A(null),lightboxController:f,fileDetailController:c,fileRequestParams:T,onClose:()=>M.focus()}):void 0)},[d,g,h,b,M,t,s,l,O,P,B,i,w,S,T,j,V,q,G]}class tte extends Q{constructor(e){super(),Z(this,e,ete,Qee,J,{id:0,value:1,class:2,disabled:3,fileManifest:12,setFileManifest:13,fileRequestParams:14})}}const nte={initialInputValue:"",get:()=>({component:Zee}),getInput:()=>({component:tte}),getSimpleInput:()=>({component:hn}),getDisplayFormatter:()=>String};function rte(r){let e,n;const t=[r[2],{value:r[1]}];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new pT({props:l}),e.$on("blur",r[3]),e.$on("focus",r[4]),e.$on("keydown",r[5]),e.$on("artificialInput",r[6]),e.$on("artificialInput",r[7]),e.$on("artificialChange",r[8]),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,[o]){const i=o&6?de(t,[o&4&&_e(s[2]),o&2&&{value:s[1]}]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function lte(r){return r==null?null:String(r)}function ste(r,e,n){const t=["value"];let l=We(e,t),{value:s=void 0}=e,o=null;function i(g){n(1,o=lte(g))}function a(g){Re.call(this,r,g)}function u(g){Re.call(this,r,g)}function f(g){Re.call(this,r,g)}const c=({detail:g})=>{n(0,s=g)};function m(g){Re.call(this,r,g)}function d(g){Re.call(this,r,g)}return r.$$set=g=>{e=se(se({},e),pt(g)),n(2,l=We(e,t)),"value"in g&&n(0,s=g.value)},r.$$.update=()=>{r.$$.dirty&1&&i(s)},[s,o,l,a,u,f,c,m,d]}class GI extends Q{constructor(e){super(),Z(this,e,ste,rte,J,{value:0})}}function ote(r){let e,n,t;const l=[{focusOnMount:!0},{disabled:r[2]},r[4]];function s(i){r[8](i)}let o={};for(let i=0;i<l.length;i+=1)o=se(o,l[i]);return r[0]!==void 0&&(o.value=r[0]),e=new GI({props:o}),we.push(()=>Me(e,"value",s)),e.$on("blur",function(){St(r[13])&&r[13].apply(this,arguments)}),e.$on("keydown",function(){St(r[14])&&r[14].apply(this,arguments)}),{c(){C(e.$$.fragment)},m(i,a){k(e,i,a),t=!0},p(i,a){r=i;const u=a&20?de(l,[l[0],a&4&&{disabled:r[2]},a&16&&_e(r[4])]):{};!n&&a&1&&(n=!0,u.value=r[0],De(()=>n=!1)),e.$set(u)},i(i){t||(_(e.$$.fragment,i),t=!0)},o(i){p(e.$$.fragment,i),t=!1},d(i){y(e,i)}}}function ite(r){let e,n,t;function l(o){r[9](o)}let s={isActive:r[1],disabled:r[2],searchValue:r[3],isIndependentOfSheet:r[6],showTruncationPopover:r[7],useTabularNumbers:!0,formatValue:r[5],horizontalAlignment:"right",$$slots:{default:[ote,({handleInputBlur:o,handleInputKeydown:i})=>({13:o,14:i}),({handleInputBlur:o,handleInputKeydown:i})=>(o?8192:0)|(i?16384:0)]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.value=r[0]),e=new bo({props:s}),we.push(()=>Me(e,"value",l)),e.$on("movementKeyDown",r[10]),e.$on("mouseenter",r[11]),e.$on("update",r[12]),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,[i]){const a={};i&2&&(a.isActive=o[1]),i&4&&(a.disabled=o[2]),i&8&&(a.searchValue=o[3]),i&64&&(a.isIndependentOfSheet=o[6]),i&128&&(a.showTruncationPopover=o[7]),i&32&&(a.formatValue=o[5]),i&57365&&(a.$$scope={dirty:i,ctx:o}),!n&&i&1&&(n=!0,a.value=o[0],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function ate(r,e,n){let{isActive:t}=e,{value:l}=e,{disabled:s}=e,{searchValue:o=void 0}=e,{formatterOptions:i}=e,{formatForDisplay:a}=e,{isIndependentOfSheet:u}=e,{showTruncationPopover:f=!1}=e;function c(b){l=b,n(0,l)}function m(b){l=b,n(0,l)}function d(b){Re.call(this,r,b)}function g(b){Re.call(this,r,b)}function h(b){Re.call(this,r,b)}return r.$$set=b=>{"isActive"in b&&n(1,t=b.isActive),"value"in b&&n(0,l=b.value),"disabled"in b&&n(2,s=b.disabled),"searchValue"in b&&n(3,o=b.searchValue),"formatterOptions"in b&&n(4,i=b.formatterOptions),"formatForDisplay"in b&&n(5,a=b.formatForDisplay),"isIndependentOfSheet"in b&&n(6,u=b.isIndependentOfSheet),"showTruncationPopover"in b&&n(7,f=b.showTruncationPopover)},[l,t,s,o,i,a,u,f,c,m,d,g,h]}class ute extends Q{constructor(e){super(),Z(this,e,ate,ite,J,{isActive:1,value:0,disabled:2,searchValue:3,formatterOptions:4,formatForDisplay:5,isIndependentOfSheet:6,showTruncationPopover:7})}}function fte(r){let e,n;const t=[r[2],{value:r[1]}];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new pT({props:l}),e.$on("blur",r[3]),e.$on("focus",r[4]),e.$on("keydown",r[5]),e.$on("artificialInput",r[6]),e.$on("artificialInput",r[7]),e.$on("artificialChange",r[8]),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,[o]){const i=o&6?de(t,[o&4&&_e(s[2]),o&2&&{value:s[1]}]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function cte(r){return r==null?null:String(r)}function mte(r,e,n){const t=["value"];let l=We(e,t),{value:s=void 0}=e,o=null;function i(g){n(1,o=cte(g))}function a(g){Re.call(this,r,g)}function u(g){Re.call(this,r,g)}function f(g){Re.call(this,r,g)}const c=({detail:g})=>{n(0,s=g)};function m(g){Re.call(this,r,g)}function d(g){Re.call(this,r,g)}return r.$$set=g=>{e=se(se({},e),pt(g)),n(2,l=We(e,t)),"value"in g&&n(0,s=g.value)},r.$$.update=()=>{r.$$.dirty&1&&i(s)},[s,o,l,a,u,f,c,m,d]}class KI extends Q{constructor(e){super(),Z(this,e,mte,fte,J,{value:0})}}function dte(r){let e,n,t;const l=[{focusOnMount:!0},{disabled:r[2]},r[4]];function s(i){r[9](i)}let o={};for(let i=0;i<l.length;i+=1)o=se(o,l[i]);return r[0]!==void 0&&(o.value=r[0]),e=new KI({props:o}),we.push(()=>Me(e,"value",s)),e.$on("blur",function(){St(r[14])&&r[14].apply(this,arguments)}),e.$on("keydown",function(){St(r[15])&&r[15].apply(this,arguments)}),{c(){C(e.$$.fragment)},m(i,a){k(e,i,a),t=!0},p(i,a){r=i;const u=a&20?de(l,[l[0],a&4&&{disabled:r[2]},a&16&&_e(r[4])]):{};!n&&a&1&&(n=!0,u.value=r[0],De(()=>n=!1)),e.$set(u)},i(i){t||(_(e.$$.fragment,i),t=!0)},o(i){p(e.$$.fragment,i),t=!1},d(i){y(e,i)}}}function _te(r){let e,n,t;function l(o){r[10](o)}let s={isActive:r[1],disabled:r[2],isIndependentOfSheet:r[6],showTruncationPopover:r[7],searchValue:r[3],useTabularNumbers:!0,formatValue:r[8],horizontalAlignment:r[5],$$slots:{default:[dte,({handleInputBlur:o,handleInputKeydown:i})=>({14:o,15:i}),({handleInputBlur:o,handleInputKeydown:i})=>(o?16384:0)|(i?32768:0)]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.value=r[0]),e=new bo({props:s}),we.push(()=>Me(e,"value",l)),e.$on("movementKeyDown",r[11]),e.$on("mouseenter",r[12]),e.$on("update",r[13]),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,[i]){const a={};i&2&&(a.isActive=o[1]),i&4&&(a.disabled=o[2]),i&64&&(a.isIndependentOfSheet=o[6]),i&128&&(a.showTruncationPopover=o[7]),i&8&&(a.searchValue=o[3]),i&256&&(a.formatValue=o[8]),i&32&&(a.horizontalAlignment=o[5]),i&114709&&(a.$$scope={dirty:i,ctx:o}),!n&&i&1&&(n=!0,a.value=o[0],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function pte(r,e,n){let{isActive:t}=e,{value:l}=e,{disabled:s}=e,{searchValue:o=void 0}=e,{formatterOptions:i}=e,{horizontalAlignment:a="right"}=e,{isIndependentOfSheet:u}=e,{showTruncationPopover:f=!1}=e,{formatForDisplay:c}=e;function m(w){l=w,n(0,l)}function d(w){l=w,n(0,l)}function g(w){Re.call(this,r,w)}function h(w){Re.call(this,r,w)}function b(w){Re.call(this,r,w)}return r.$$set=w=>{"isActive"in w&&n(1,t=w.isActive),"value"in w&&n(0,l=w.value),"disabled"in w&&n(2,s=w.disabled),"searchValue"in w&&n(3,o=w.searchValue),"formatterOptions"in w&&n(4,i=w.formatterOptions),"horizontalAlignment"in w&&n(5,a=w.horizontalAlignment),"isIndependentOfSheet"in w&&n(6,u=w.isIndependentOfSheet),"showTruncationPopover"in w&&n(7,f=w.showTruncationPopover),"formatForDisplay"in w&&n(8,c=w.formatForDisplay)},[l,t,s,o,i,a,u,f,c,m,d,g,h,b]}class gte extends Q{constructor(e){super(),Z(this,e,pte,_te,J,{isActive:1,value:0,disabled:2,searchValue:3,formatterOptions:4,horizontalAlignment:5,isIndependentOfSheet:6,showTruncationPopover:7,formatForDisplay:8})}}const hte=new Map([["english","en"],["german","de"],["french","fr"],["hindi","hi"],["swiss","de-CH"]]);function bte(r,e){var n,t;return e==="scale-based"?((t=(n=r.type_options)==null?void 0:n.scale)!=null?t:1/0)!==0:e!=="never"}function XI(r){const e=Tn(r,"num_grouping");switch(e){case"always":return"always";case"auto":return"auto";case"never":return!1;default:return Rt(e)}}function JI(r,e){var u,f,c;const n=r.metadata,t=(u=n==null?void 0:n.num_format)!=null?u:null,l=(f=t&&hte.get(t))!=null?f:void 0,s=XI(r),o=bte(r,e==null?void 0:e.floatAllowanceStrategy),i=!0,a=(c=n==null?void 0:n.num_min_frac_digits)!=null?c:void 0;return{locale:l,allowFloat:o,allowNegative:i,useGrouping:s,minimumFractionDigits:a}}function F2(r,e){var i;const n=JI(r,e),t=r.metadata,l=(i=t==null?void 0:t.num_max_frac_digits)!=null?i:void 0,s={...n,maximumFractionDigits:l},o=new P_(s);return{formatterOptions:s,formatForDisplay:a=>At(a)?o.format(String(a)):a}}const $te={get(r,e){return{component:gte,props:F2(r,e)}},getInput(r,e){return{component:KI,props:JI(r,e)}},getDisplayFormatter(r,e){return n=>F2(r,e).formatForDisplay(String(n))}},vte=new Map([["english","en"],["german","de"],["french","fr"],["hindi","hi"],["swiss","de-CH"]]);function wte(r){var e,n;return((n=(e=r.type_options)==null?void 0:e.scale)!=null?n:1/0)===0}function ZI(r){var n;const e=Tn(r,"num_format");return{locale:(n=e&&vte.get(e))!=null?n:void 0,useGrouping:XI(r),allowFloat:!wte(r),allowNegative:!0,minimumFractionDigits:Tn(r,"num_min_frac_digits"),maximumFractionDigits:Tn(r,"num_max_frac_digits"),currencySymbol:Tn(r,"mon_currency_symbol"),currencySymbolLocation:Tn(r,"mon_currency_location")}}function N2(r){const e=ZI(r),n=new P_(e),t=(()=>{switch(e.currencySymbolLocation){case"after-minus":return l=>l.replace(/^(-?)/,`$1${e.currencySymbol}`);case"end-with-space":return l=>`${l} ${e.currencySymbol}`;default:return l=>l}})();return{formatterOptions:e,formatForDisplay:l=>At(l)?t(n.format(String(l))):l}}const kte={get(r){return{component:ute,props:N2(r)}},getInput(r){return{component:GI,props:{...ZI(r),maximumFractionDigits:void 0}}},getDisplayFormatter(r){return e=>N2(r).formatForDisplay(String(e))}};function yte(r){let e,n,t,l;const s=[r[2]];function o(u){r[3](u)}function i(u){r[4](u)}let a={};for(let u=0;u<s.length;u+=1)a=se(a,s[u]);return r[0]!==void 0&&(a.value=r[0]),r[1]!==void 0&&(a.element=r[1]),e=new Zl({props:a}),we.push(()=>Me(e,"value",o)),we.push(()=>Me(e,"element",i)),e.$on("input",r[5]),e.$on("change",r[6]),e.$on("focus",r[7]),e.$on("blur",r[8]),e.$on("keydown",r[9]),e.$on("processedKeyDown",r[10]),{c(){C(e.$$.fragment)},m(u,f){k(e,u,f),l=!0},p(u,[f]){const c=f&4?de(s,[_e(u[2])]):{};!n&&f&1&&(n=!0,c.value=u[0],De(()=>n=!1)),!t&&f&2&&(t=!0,c.element=u[1],De(()=>t=!1)),e.$set(c)},i(u){l||(_(e.$$.fragment,u),l=!0)},o(u){p(e.$$.fragment,u),l=!1},d(u){y(e,u)}}}const Cte=400;function Ste(r,e,n){const t=["value"];let l=We(e,t),{value:s=""}=e,o,i="0px",a="0px";function u(){if(!o)return;const M=[`${Math.min(o.scrollHeight,Cte)}px`,i,a];n(1,o.style.height=`calc(${M.join(" + ")})`,o)}function f(){if(!o)return;n(1,o.style.height="1em",o);const T=getComputedStyle(o);i=T.borderTopWidth,a=T.borderBottomWidth,u()}function c(T){s=T,n(0,s)}function m(T){o=T,n(1,o)}function d(T){Re.call(this,r,T)}function g(T){Re.call(this,r,T)}function h(T){Re.call(this,r,T)}function b(T){Re.call(this,r,T)}function w(T){Re.call(this,r,T)}function S(T){Re.call(this,r,T)}return r.$$set=T=>{e=se(se({},e),pt(T)),n(2,l=We(e,t)),"value"in T&&n(0,s=T.value)},r.$$.update=()=>{r.$$.dirty&2&&f(),r.$$.dirty&1&&u()},[s,o,l,c,m,d,g,h,b,w,S]}class QI extends Q{constructor(e){super(),Z(this,e,Ste,yte,J,{value:0})}}function Tte(r){let e,n,t;function l(i){r[7](i)}function s(...i){return r[8](r[14],...i)}let o={focusOnMount:!0,maxlength:Zo(r[6]),disabled:r[2],addNewLineOnEnterKeyCombinations:!0};return r[0]!==void 0&&(o.value=r[0]),e=new Zl({props:o}),we.push(()=>Me(e,"value",l)),e.$on("blur",function(){St(r[13])&&r[13].apply(this,arguments)}),e.$on("processedKeyDown",s),{c(){C(e.$$.fragment)},m(i,a){k(e,i,a),t=!0},p(i,a){r=i;const u={};a&64&&(u.maxlength=Zo(r[6])),a&4&&(u.disabled=r[2]),!n&&a&1&&(n=!0,u.value=r[0],De(()=>n=!1)),e.$set(u)},i(i){t||(_(e.$$.fragment,i),t=!0)},o(i){p(e.$$.fragment,i),t=!1},d(i){y(e,i)}}}function Ite(r){let e,n,t;function l(o){r[9](o)}let s={isActive:r[1],disabled:r[2],searchValue:r[3],isIndependentOfSheet:r[4],showTruncationPopover:r[5],multiLineTruncate:!0,$$slots:{default:[Tte,({handleInputBlur:o,handleInputKeydown:i})=>({13:o,14:i}),({handleInputBlur:o,handleInputKeydown:i})=>(o?8192:0)|(i?16384:0)]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.value=r[0]),e=new bo({props:s}),we.push(()=>Me(e,"value",l)),e.$on("movementKeyDown",r[10]),e.$on("mouseenter",r[11]),e.$on("update",r[12]),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,[i]){const a={};i&2&&(a.isActive=o[1]),i&4&&(a.disabled=o[2]),i&8&&(a.searchValue=o[3]),i&16&&(a.isIndependentOfSheet=o[4]),i&32&&(a.showTruncationPopover=o[5]),i&57413&&(a.$$scope={dirty:i,ctx:o}),!n&&i&1&&(n=!0,a.value=o[0],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function Ete(r,e){const{type:n,originalEvent:t}=r;n==="newlineWithEnterKeyCombination"?t.stopPropagation():e(t)}function Mte(r,e,n){let{isActive:t}=e,{value:l=void 0}=e,{disabled:s}=e,{searchValue:o=void 0}=e,{isIndependentOfSheet:i}=e,{showTruncationPopover:a=!1}=e,{length:u=void 0}=e;function f(b){l=b,n(0,l)}const c=(b,w)=>Ete(w.detail,b);function m(b){l=b,n(0,l)}function d(b){Re.call(this,r,b)}function g(b){Re.call(this,r,b)}function h(b){Re.call(this,r,b)}return r.$$set=b=>{"isActive"in b&&n(1,t=b.isActive),"value"in b&&n(0,l=b.value),"disabled"in b&&n(2,s=b.disabled),"searchValue"in b&&n(3,o=b.searchValue),"isIndependentOfSheet"in b&&n(4,i=b.isIndependentOfSheet),"showTruncationPopover"in b&&n(5,a=b.showTruncationPopover),"length"in b&&n(6,u=b.length)},[l,t,s,o,i,a,u,f,c,m,d,g,h]}class Rte extends Q{constructor(e){super(),Z(this,e,Mte,Ite,J,{isActive:1,value:0,disabled:2,searchValue:3,isIndependentOfSheet:4,showTruncationPopover:5,length:6})}}function Dte(r){let e,n,t;function l(o){r[7](o)}let s={focusOnMount:!0,maxlength:Zo(r[6]),disabled:r[2]};return r[0]!==void 0&&(s.value=r[0]),e=new hn({props:s}),we.push(()=>Me(e,"value",l)),e.$on("blur",function(){St(r[12])&&r[12].apply(this,arguments)}),e.$on("keydown",function(){St(r[13])&&r[13].apply(this,arguments)}),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){r=o;const a={};i&64&&(a.maxlength=Zo(r[6])),i&4&&(a.disabled=r[2]),!n&&i&1&&(n=!0,a.value=r[0],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function Ate(r){let e,n,t;function l(o){r[8](o)}let s={isActive:r[1],disabled:r[2],searchValue:r[3],isIndependentOfSheet:r[4],showTruncationPopover:r[5],$$slots:{default:[Dte,({handleInputBlur:o,handleInputKeydown:i})=>({12:o,13:i}),({handleInputBlur:o,handleInputKeydown:i})=>(o?4096:0)|(i?8192:0)]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.value=r[0]),e=new bo({props:s}),we.push(()=>Me(e,"value",l)),e.$on("movementKeyDown",r[9]),e.$on("mouseenter",r[10]),e.$on("update",r[11]),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,[i]){const a={};i&2&&(a.isActive=o[1]),i&4&&(a.disabled=o[2]),i&8&&(a.searchValue=o[3]),i&16&&(a.isIndependentOfSheet=o[4]),i&32&&(a.showTruncationPopover=o[5]),i&28741&&(a.$$scope={dirty:i,ctx:o}),!n&&i&1&&(n=!0,a.value=o[0],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function Ote(r,e,n){let{isActive:t}=e,{value:l=void 0}=e,{disabled:s}=e,{searchValue:o=void 0}=e,{isIndependentOfSheet:i}=e,{showTruncationPopover:a=!1}=e,{length:u=void 0}=e;function f(h){l=h,n(0,l)}function c(h){l=h,n(0,l)}function m(h){Re.call(this,r,h)}function d(h){Re.call(this,r,h)}function g(h){Re.call(this,r,h)}return r.$$set=h=>{"isActive"in h&&n(1,t=h.isActive),"value"in h&&n(0,l=h.value),"disabled"in h&&n(2,s=h.disabled),"searchValue"in h&&n(3,o=h.searchValue),"isIndependentOfSheet"in h&&n(4,i=h.isIndependentOfSheet),"showTruncationPopover"in h&&n(5,a=h.showTruncationPopover),"length"in h&&n(6,u=h.length)},[l,t,s,o,i,a,u,f,c,m,d,g]}class Fte extends Q{constructor(e){super(),Z(this,e,Ote,Ate,J,{isActive:1,value:0,disabled:2,searchValue:3,isIndependentOfSheet:4,showTruncationPopover:5,length:6})}}const Nte={initialInputValue:"",get:(r,e)=>{var l;const n=(l=r.type_options)!=null?l:{};return{component:e!=null&&e.multiLine?Rte:Fte,props:n}},getInput:(r,e)=>{var t;return{component:e!=null&&e.multiLine?QI:hn,props:{maxlength:Zo((t=r.type_options)==null?void 0:t.length)}}},getSimpleInput:r=>{var e;return{component:hn,props:{maxlength:Zo((e=r.type_options)==null?void 0:e.length)}}},getDisplayFormatter:()=>String};function ym(r,e){const n=Tn(r,"time_format"),t=new Ka({type:e?"timeWithTZ":"time",timeFormat:n}),l=new rp(t);return{type:"time",formattingString:t.getFormattingString(),formatter:l,timeEnableSeconds:t.hasSecondsInTime(),timeShow24Hr:t.isTime24Hr(),formatForDisplay:s=>At(s)?l.parseAndFormat(s):s}}const Pte={get:(r,e)=>{var n;return{component:lp,props:ym(r,(n=e==null?void 0:e.supportTimeZone)!=null?n:!1)}},getInput:(r,e)=>{var n;return{component:Mc,props:{...ym(r,(n=e==null?void 0:e.supportTimeZone)!=null?n:!1),allowRelativePresets:!0}}},getDisplayFormatter(r,e){var t;const n=(t=e==null?void 0:e.supportTimeZone)!=null?t:!1;return l=>ym(r,n).formatForDisplay(String(l))}};function Lte(r){let e,n;const t=r[6].default,l=ke(t,r,r[5],null);let s=[r[3]?r[2]:r[1]],o={};for(let i=0;i<s.length;i+=1)o=se(o,s[i]);return{c(){e=E("a"),l&&l.c(),Tt(e,o),ie(e,"link",r[0]&&r[3]),ie(e,"external-uri",r[3]),ln(e,"pointer-events",r[0]?"auto":"none",!1),ie(e,"svelte-f9zrmr",!0)},m(i,a){v(i,e,a),l&&l.m(e,null),n=!0},p(i,[a]){l&&l.p&&(!n||a&32)&&Ce(l,t,i,i[5],n?ye(t,i[5],a,null):Se(i[5]),null),Tt(e,o=de(s,[a&14&&(i[3]?i[2]:i[1])])),ie(e,"link",i[0]&&i[3]),ie(e,"external-uri",i[3]),ln(e,"pointer-events",i[0]?"auto":"none",!1),ie(e,"svelte-f9zrmr",!0)},i(i){n||(_(l,i),n=!0)},o(i){p(l,i),n=!1},d(i){i&&$(e),l&&l.d(i)}}}function Hte(r,e,n){let t,l,s,{$$slots:o={},$$scope:i}=e,{isActive:a=!1}=e,{value:u}=e;return r.$$set=f=>{"isActive"in f&&n(0,a=f.isActive),"value"in f&&n(4,u=f.value),"$$scope"in f&&n(5,i=f.$$scope)},r.$$.update=()=>{r.$$.dirty&16&&n(3,t=(u==null?void 0:u.toLowerCase().startsWith("http://"))||(u==null?void 0:u.toLowerCase().startsWith("https://"))),r.$$.dirty&17&&n(2,l=a&&u?{href:u,target:"_blank"}:{}),r.$$.dirty&16&&n(1,s=u?{href:null,target:"_blank"}:{})},[a,s,l,t,u,i,o]}class Vte extends Q{constructor(e){super(),Z(this,e,Hte,Lte,J,{isActive:0,value:4})}}function zte(r){let e,n,t;function l(o){r[6](o)}let s={focusOnMount:!0,disabled:r[2]};return r[0]!==void 0&&(s.value=r[0]),e=new hn({props:s}),we.push(()=>Me(e,"value",l)),e.$on("blur",function(){St(r[11])&&r[11].apply(this,arguments)}),e.$on("keydown",function(){St(r[12])&&r[12].apply(this,arguments)}),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){r=o;const a={};i&4&&(a.disabled=r[2]),!n&&i&1&&(n=!0,a.value=r[0],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function Bte(r){let e;return{c(){e=L(r[0])},m(n,t){v(n,e,t)},p(n,t){t&1&&z(e,n[0])},i:H,o:H,d(n){n&&$(e)}}}function qte(r){let e,n;return e=new z_({props:{matchParts:r[13]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8192&&(s.matchParts=t[13]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Ute(r){let e,n,t,l;const s=[qte,Bte],o=[];function i(a,u){return a[13]?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function Wte(r){let e,n;return e=new Vte({props:{value:r[0],isActive:r[1],$$slots:{default:[Ute]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.value=t[0]),l&2&&(s.isActive=t[1]),l&24577&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function jte(r){let e,n,t;return n=new Ga({props:{value:r[0],$$slots:{default:[Wte]},$$scope:{ctx:r}}}),{c(){e=E("span"),C(n.$$.fragment),I(e,"slot","content")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&1&&(o.value=l[0]),s&24579&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function Yte(r){let e,n,t;function l(o){r[7](o)}let s={isActive:r[1],disabled:r[2],searchValue:r[3],isIndependentOfSheet:r[4],showTruncationPopover:r[5],$$slots:{content:[jte,({matchParts:o,handleInputBlur:i,handleInputKeydown:a})=>({13:o,11:i,12:a}),({matchParts:o,handleInputBlur:i,handleInputKeydown:a})=>(o?8192:0)|(i?2048:0)|(a?4096:0)],default:[zte,({handleInputBlur:o,handleInputKeydown:i})=>({11:o,12:i}),({handleInputBlur:o,handleInputKeydown:i})=>(o?2048:0)|(i?4096:0)]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.value=r[0]),e=new bo({props:s}),we.push(()=>Me(e,"value",l)),e.$on("movementKeyDown",r[8]),e.$on("mouseenter",r[9]),e.$on("update",r[10]),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,[i]){const a={};i&2&&(a.isActive=o[1]),i&4&&(a.disabled=o[2]),i&8&&(a.searchValue=o[3]),i&16&&(a.isIndependentOfSheet=o[4]),i&32&&(a.showTruncationPopover=o[5]),i&30727&&(a.$$scope={dirty:i,ctx:o}),!n&&i&1&&(n=!0,a.value=o[0],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function Gte(r,e,n){let{isActive:t}=e,{value:l=void 0}=e,{disabled:s}=e,{searchValue:o=void 0}=e,{isIndependentOfSheet:i}=e,{showTruncationPopover:a=!1}=e;function u(g){l=g,n(0,l)}function f(g){l=g,n(0,l)}function c(g){Re.call(this,r,g)}function m(g){Re.call(this,r,g)}function d(g){Re.call(this,r,g)}return r.$$set=g=>{"isActive"in g&&n(1,t=g.isActive),"value"in g&&n(0,l=g.value),"disabled"in g&&n(2,s=g.disabled),"searchValue"in g&&n(3,o=g.searchValue),"isIndependentOfSheet"in g&&n(4,i=g.isIndependentOfSheet),"showTruncationPopover"in g&&n(5,a=g.showTruncationPopover)},[l,t,s,o,i,a,u,f,c,m,d]}class Kte extends Q{constructor(e){super(),Z(this,e,Gte,Yte,J,{isActive:1,value:0,disabled:2,searchValue:3,isIndependentOfSheet:4,showTruncationPopover:5})}}const Xte={initialInputValue:"",get:()=>({component:Kte}),getInput:()=>({component:hn}),getDisplayFormatter:()=>String},xI={string:Nte,boolean:Wx,number:$te,money:kte,uri:Xte,duration:bee,date:mee,time:Pte,datetime:dee,file:nte},Jte={array:Rx(xI)},Qa={...xI,...Jte};class bs{constructor({isLoading:e,settlement:n}){te(this,"settlement");te(this,"isLoading");this.isLoading=e,this.settlement=n}get isInitializing(){return this.isLoading&&this.settlement===void 0}get isReloading(){return this.isLoading&&this.settlement!==void 0}get isOk(){var e;return!this.isLoading&&((e=this.settlement)==null?void 0:e.state)==="resolved"}get isStable(){var e;return!(this.isLoading||((e=this.settlement)==null?void 0:e.state)==="rejected")}get resolvedValue(){var e;return((e=this.settlement)==null?void 0:e.state)==="resolved"?this.settlement.value:void 0}get error(){var e;return((e=this.settlement)==null?void 0:e.state)==="rejected"?this.settlement.error:void 0}get isRejected(){var e;return!this.isLoading&&((e=this.settlement)==null?void 0:e.state)==="rejected"}get hasSettled(){return this.settlement!==void 0}get isIdleAndUnsettled(){return!this.hasSettled&&!this.isLoading}}class Tl{constructor(e,n){te(this,"runFn");te(this,"getError");te(this,"value",Ue(new bs({isLoading:!1})));te(this,"promise");var t;this.runFn=e,this.getError=(t=n==null?void 0:n.getError)!=null?t:Yt,Jn(n,"initialValue")&&(this.value=Ue(new bs({isLoading:!1,settlement:{state:"resolved",value:n.initialValue}})))}subscribe(e,n){return this.value.subscribe(e,n)}async run(e){this.beforeRun(),this.promise=this.runFn(e);try{return this.setResolvedValue(await this.promise),ve(this.value)}catch(n){return this.setRejectedError(n),ve(this.value)}}async runConservatively(e){const n=ve(this.value);return n.isIdleAndUnsettled?this.run(e):n}cancel(){this.promise&&"cancel"in this.promise&&this.promise.cancel()}reset(){this.cancel(),this.value.set(new bs({isLoading:!1}))}updateResolvedValue(e){const n=ve(this.value);if(n.isOk&&n.resolvedValue){const t=e(n.resolvedValue);this.setResolvedValue(t)}}getValueOnceResolved(){const e=ve(this.value);return e.isLoading?new Promise(n=>{const t=this.subscribe(l=>{l.isLoading||(t(),n(l))})}):Promise.resolve(e)}beforeRun(){this.cancel(),this.value.update(e=>new bs({...e,isLoading:!0}))}setResolvedValue(e){this.cancel(),this.value.set(new bs({isLoading:!1,settlement:{state:"resolved",value:e}}))}setRejectedError(e){this.cancel(),this.value.set(new bs({settlement:{state:"rejected",error:this.getError(e)},isLoading:!1}))}}class En extends Tl{constructor(n,t){var i,a;const l=(i=t==null?void 0:t.postProcess)!=null?i:u=>u,s={getError:u=>Sn.fromAnything(u)};Jn(t,"initialValue")&&(s.initialValue=t.initialValue);const o=(a=t==null?void 0:t.staticProps)!=null?a:void 0;super(u=>new In((f,c)=>{n(this.getProps(u)).run().then(m=>f(l(m)),m=>c(m)).catch(m=>c(m))}),s);te(this,"apiRpcFn");te(this,"postProcess");te(this,"staticProps");this.apiRpcFn=n,this.postProcess=l,this.staticProps=o}getProps(n){return At(this.staticProps)&&At(n)?{...this.staticProps,...n}:At(this.staticProps)?this.staticProps:n}batchRunner(n){const t=s=>{s.status==="ok"?this.setResolvedValue(this.postProcess(s.value)):this.setRejectedError(s)},l=()=>{this.beforeRun()};return{send:this.apiRpcFn(this.getProps(n)),beforeRequest:l,onResponse:t,getValue:()=>ve(this.value)}}static async runBatch(n){if(n.length===0)return;n.forEach(l=>l.beforeRequest());const t=await ja(n.map(l=>l.send));n.forEach((l,s)=>l.onResponse(t[s]))}static async runBatchConservatively(n){const t=n.filter(l=>l.getValue().isIdleAndUnsettled);await En.runBatch(t)}}class P2{constructor(e){te(this,"id");te(this,"userId");te(this,"_configuredRoleId");te(this,"database");this.id=e.rawCollaborator.id,this.userId=e.rawCollaborator.user_id,this._configuredRoleId=Ue(e.rawCollaborator.configured_role_id),this.database=e.database}get configuredRoleId(){return this._configuredRoleId}setConfiguredRole(e){const n=Ke.collaborators.set_role({collaborator_id:this.id,configured_role_id:e}).run();return new In((t,l)=>{n.then(s=>(this._configuredRoleId.set(s.configured_role_id),t(this)),l).catch(l)},()=>n.cancel())}delete(){return Ke.collaborators.delete({collaborator_id:this.id}).run()}}class eE{constructor(e){te(this,"id");te(this,"name");te(this,"database");this.id=e.rawConfiguredRole.id,this.name=e.rawConfiguredRole.name,this.database=e.database}setPassword(e){return Ke.roles.configured.set_password({configured_role_id:this.id,password:e}).run()}delete(){return Ke.roles.configured.delete({configured_role_id:this.id}).run()}}function Zte(r){return new Cl((r!=null?r:[]).map(e=>[e.oid,e]))}class L2{constructor(e){te(this,"oid");te(this,"name");te(this,"super");te(this,"inherits");te(this,"createRole");te(this,"createDb");te(this,"login");te(this,"description");te(this,"_members");te(this,"database");this.oid=e.rawRole.oid,this.name=e.rawRole.name,this.super=e.rawRole.super,this.inherits=e.rawRole.inherits,this.createRole=e.rawRole.create_role,this.createDb=e.rawRole.create_db,this.login=e.rawRole.login,this.description=e.rawRole.description,this._members=Zte(e.rawRole.members),this.database=e.database}get members(){return this._members}configure(e){const n=Ke.roles.configured.add({server_id:this.database.server.id,name:this.name,password:e}).run();return new In((t,l)=>{n.then(s=>t(new eE({database:this.database,rawConfiguredRole:s})),l).catch(l)},()=>n.cancel())}setMembers(e){const n=Ke.roles.set_members({database_id:this.database.id,parent_role_oid:this.oid,members:[...e]}).run();return new In((t,l)=>{n.then(s=>{var i;const o=(i=s.members)!=null?i:[];return this._members.reconstruct(o.map(a=>[a.oid,a])),t(this)},l).catch(l)},()=>n.cancel())}delete(){return Ke.roles.delete({database_id:this.database.id,role_oid:this.oid}).run()}}class up{constructor(e){te(this,"_ownerOid");te(this,"_currentRolePrivileges");te(this,"_currentRoleOwns");this._ownerOid=Ue(e.owner_oid),this._currentRolePrivileges=Ue(new Set(e.current_role_priv)),this._currentRoleOwns=Ue(e.current_role_owns)}get ownerOid(){return this._ownerOid}get currentRolePrivileges(){return this._currentRolePrivileges}get currentRoleOwns(){return this._currentRoleOwns}set(e){this._ownerOid.set(e.owner_oid),this._currentRolePrivileges.set(new Set(e.current_role_priv)),this._currentRoleOwns.set(e.current_role_owns)}}class Qte{constructor(e){te(this,"oid");te(this,"currentAccess");te(this,"database");this.oid=e.rawUnderlyingDatabase.oid,this.currentAccess=new up(e.rawUnderlyingDatabase),this.database=e.database}updateOwner(e){const n=Ke.databases.privileges.transfer_ownership({database_id:this.database.id,new_owner_oid:e}).run();return new In((t,l)=>{n.then(s=>(this.currentAccess.set(s),t(this)),l).catch(l)},()=>n.cancel())}}class Td{constructor(e){te(this,"id");te(this,"name");te(this,"nickname");te(this,"server");te(this,"needsUpgradeAttention");this.id=e.rawDatabase.id,this.name=e.rawDatabase.name,this.nickname=e.rawDatabase.nickname,this.server=e.server,this.needsUpgradeAttention=e.rawDatabase.needs_upgrade_attention}get displayName(){var e;return(e=this.nickname)!=null?e:this.name}get allNames(){return[this.name,...this.nickname?[this.nickname]:[]]}constructConfiguredRolesStore(){return new En(Ke.roles.configured.list,{staticProps:{server_id:this.server.id},postProcess:e=>new B1(n=>[...n].sort(([,t],[,l])=>t.name.localeCompare(l.name)),e.map(n=>[n.id,new eE({database:this,rawConfiguredRole:n})]))})}constructRolesStore(){return new En(Ke.roles.list,{staticProps:{database_id:this.id},postProcess:e=>new B1(n=>[...n].sort(([,t],[,l])=>t.name.localeCompare(l.name)),e.map(n=>[n.oid,new L2({database:this,rawRole:n})]))})}constructCollaboratorsStore(){return new En(Ke.collaborators.list,{staticProps:{database_id:this.id},postProcess:e=>new Ct(e.map(n=>[n.id,new P2({database:this,rawCollaborator:n})]))})}constructDatabasePrivilegesStore(){return new En(Ke.databases.privileges.list_direct,{staticProps:{database_id:this.id},postProcess:e=>new Ct(e.map(n=>[n.role_oid,n]))})}constructUnderlyingDatabaseStore(){return new En(Ke.databases.get,{staticProps:{database_id:this.id},postProcess:e=>new Qte({database:this,rawUnderlyingDatabase:e})})}constructCurrentRoleStore(){return new En(Ke.roles.get_current_role,{staticProps:{database_id:this.id},postProcess:e=>({oid:e.current_role.oid,name:e.current_role.name,super:e.current_role.super,parentRoles:new Map(e.parent_roles.map(n=>[n.oid,{oid:n.oid,name:n.name}]))})})}addCollaborator(e,n){const t=Ke.collaborators.add({database_id:this.id,user_id:e,configured_role_id:n}).run();return new In((l,s)=>{t.then(o=>l(new P2({database:this,rawCollaborator:o})),s).catch(s)},()=>t.cancel())}addRole(e,n,t){const l=Ke.roles.add({database_id:this.id,rolename:e,login:n,password:t}).run();return new In((s,o)=>{l.then(i=>s(new L2({database:this,rawRole:i})),o).catch(o)},()=>l.cancel())}}class mi{constructor(e){te(this,"id");te(this,"host");te(this,"port");this.id=e.rawServer.id,this.host=e.rawServer.host,this.port=e.rawServer.port}getConnectionString(){return this.port==null?this.host:`${this.host}:${this.port}`}static dummy(e){return new mi({rawServer:{id:e,host:"unknown",port:0}})}}const Pu=Pl();function xte(r){return[...r].sort((e,n)=>e.name.localeCompare(n.name))}function*tE(r,e){var t;const n=new Map(Ln(l=>[l.id,new mi({rawServer:l})],r));for(const l of e){const s=(t=n.get(l.server_id))!=null?t:mi.dummy(l.server_id),o=new Td({rawDatabase:l,server:s});yield[o.id,o]}}class ene{constructor(e,n){te(this,"unsortedDatabases",new Cl);te(this,"databases");te(this,"currentDatabaseId",Ue());te(this,"currentDatabase");this.unsortedDatabases.reconstruct(e),this.databases=et(this.unsortedDatabases,t=>new Ct(xte(t.values()).map(l=>[l.id,l]))),this.currentDatabaseId.set(n!=null?n:void 0),this.currentDatabase=et([this.databases,this.currentDatabaseId],([t,l])=>Rr(l,s=>t.get(s)))}addDatabase(e){this.unsortedDatabases.set(e.id,e)}async connectExistingDatabase(e){const{database:n,server:t}=await Ke.databases.setup.connect_existing(e).run(),l=new Td({rawDatabase:n,server:new mi({rawServer:t})});return this.addDatabase(l),l}async createNewDatabase(e){const{database:n,server:t}=await Ke.databases.setup.create_new(e).run(),l=new Td({rawDatabase:n,server:new mi({rawServer:t})});return this.addDatabase(l),l}async disconnectDatabase(e){var n,t;await Ke.databases.configured.disconnect({database_id:e.database.id,strict:!0,schemas_to_remove:e.schemas_to_remove,role_name:(n=e.role)==null?void 0:n.name,password:(t=e.role)==null?void 0:t.password,disconnect_db_server:e.disconnect_db_server}).run(),this.unsortedDatabases.delete(e.database.id)}async refresh(){const[e,n]=await K_([Ke.servers.configured.list(),Ke.databases.configured.list({})]),t=tE(e,n);this.unsortedDatabases.reconstruct(t)}setCurrentDatabaseId(e){this.currentDatabaseId.set(e)}clearCurrentDatabaseId(){this.currentDatabaseId.set(void 0)}}const jn=(()=>{const r=Pu.routing_context!=="anonymous",e=r?Pu.servers:[],n=r?Pu.databases:[],t=r?Pu.current_database:null;return new ene(tE(e,n),t)})();class H2{constructor(e){te(this,"schema");te(this,"id");te(this,"baseTableOid");te(this,"_token");te(this,"_sharePreferences");te(this,"_structure");this.schema=e.schema,this.id=e.rawDataForm.id,this.baseTableOid=e.rawDataForm.base_table_oid,this._token=Ue(e.rawDataForm.token),this._sharePreferences=Ue({isPublishedPublicly:e.rawDataForm.publish_public}),this._structure=Ue({name:e.rawDataForm.name,description:e.rawDataForm.description,associated_role_id:e.rawDataForm.associated_role_id,fields:e.rawDataForm.fields,submit_message:e.rawDataForm.submit_message,submit_redirect_url:e.rawDataForm.submit_redirect_url,submit_button_label:e.rawDataForm.submit_button_label})}get token(){return this._token}get sharePreferences(){return this._sharePreferences}get structure(){return this._structure}updateStructure(e){const n=Ke.forms.patch(nJ({...e,id:this.id})).run();return new In((t,l)=>{n.then(s=>(this._structure.set({name:s.name,description:s.description,associated_role_id:s.associated_role_id,fields:s.fields,submit_message:s.submit_message,submit_redirect_url:s.submit_redirect_url,submit_button_label:s.submit_button_label}),t(this)),l).catch(l)},()=>n.cancel())}updateNameAndDesc(e,n){const t=ve(this.structure);return this.updateStructure({...t,name:e,description:n})}updateSharingPreferences(e){const n=Ke.forms.set_publish_public({form_id:this.id,publish_public:e}).run();return new In((t,l)=>{n.then(s=>(this._sharePreferences.set({isPublishedPublicly:s}),t(this)),l).catch(l)},()=>n.cancel())}regenerateToken(){const e=Ke.forms.regenerate_token({form_id:this.id}).run();return new In((n,t)=>{e.then(l=>(this._token.set(l),n(this)),t).catch(t)},()=>e.cancel())}delete(){return Ke.forms.delete({form_id:this.id}).run()}toRawDataFormStore(){return et([this.token,this.structure,this.sharePreferences],([e,n,t])=>({id:this.id,token:e,version:X_,database_id:this.schema.database.id,base_table_oid:this.baseTableOid,schema_oid:this.schema.oid,...n,publish_public:t.isPublishedPublicly}))}}class nE{constructor(e){te(this,"oid");te(this,"_name");te(this,"_description");te(this,"_tableCount");te(this,"currentAccess");te(this,"isPublicSchema");te(this,"database");this.oid=e.rawSchema.oid,this._name=Ue(e.rawSchema.name),this.isPublicSchema=et(this._name,n=>n==="public"),this._description=Ue(e.rawSchema.description),this._tableCount=Ue(e.rawSchema.table_count),this.currentAccess=new up(e.rawSchema),this.database=e.database}get name(){return this._name}get description(){return this._description}get tableCount(){return this._tableCount}updateNameAndDescription(e){const n=Ke.schemas.patch({database_id:this.database.id,schema_oid:this.oid,patch:e}).run();return new In((t,l)=>{n.then(()=>(this._name.set(e.name),this._description.set(e.description),t(this)),l).catch(l)},()=>n.cancel())}updateOwner(e){const n=Ke.schemas.privileges.transfer_ownership({database_id:this.database.id,schema_oid:this.oid,new_owner_oid:e}).run();return new In((t,l)=>{n.then(s=>(this.currentAccess.set(s),t(this)),l).catch(l)},()=>n.cancel())}setTableCount(e){this._tableCount.set(e)}delete(){return Ke.schemas.delete({database_id:this.database.id,schema_oids:[this.oid]}).run()}constructSchemaPrivilegesStore(){return new En(Ke.schemas.privileges.list_direct,{staticProps:{database_id:this.database.id,schema_oid:this.oid},postProcess:e=>new Ct(e.map(n=>[n.role_oid,n]))})}constructDataFormsStore(){return new En(Ke.forms.list,{staticProps:{database_id:this.database.id,schema_oid:this.oid},postProcess:e=>new Ct(e.map(n=>[n.id,new H2({schema:this,rawDataForm:n})]))})}addDataForm(e){const n=Ke.forms.add(tJ(e)).run();return new In((t,l)=>{n.then(s=>t(new H2({schema:this,rawDataForm:s})),l).catch(l)},()=>n.cancel())}}const Lo=Pl(),rE=Lo.routing_context!=="anonymous",Cm=rE?Lo.current_schema:null,xi=Ue(Cm!=null?Cm:void 0);function lE(){return{requestStatus:{state:"success"},data:new Map}}const El=Ue(lE());let Ni;function sE(r,e){const n=new Map;e.forEach(t=>{n.set(t.oid,new nE({database:r,rawSchema:t}))}),El.set({databaseId:r.id,requestStatus:{state:"success"},data:n})}function tne(r,e){ve(El).databaseId===r.id&&El.update(t=>{var l;return(l=t.data)==null||l.set(e.oid,e),{...t,data:new Map(t.data)}})}function nne(r,e){ve(El).databaseId===r.id&&El.update(t=>{var l;return(l=t.data)==null||l.delete(e.oid),{...t,data:new Map(t.data)}})}async function Df(){Ni==null||Ni.cancel();const r=ve(jn.currentDatabase);if(!r){El.set(lE());return}El.update(e=>e.databaseId===r.id?{...e,requestStatus:{state:"processing"}}:{databaseId:r.id,requestStatus:{state:"processing"},data:new Map});try{Ni=Ke.schemas.list({database_id:r.id}).run();const e=await Ni;sE(r,e)}catch(e){El.update(n=>n.databaseId===r.id?{...n,requestStatus:{state:"failure",errors:[Sn.fromAnything(e)]}}:{databaseId:r.id,requestStatus:{state:"failure",errors:[Sn.fromAnything(e)]},data:new Map})}}async function rne(r,e){const n=await Ke.schemas.add({database_id:r.id,name:e.name,description:e.description}).run();tne(r,new nE({database:r,rawSchema:n}))}async function lne(r){await r.delete(),nne(r.database,r)}let V2=!0;const xa=ao(et(jn.currentDatabase,r=>{const e=ve(El);return e.databaseId!==(r==null?void 0:r.id)?(V2&&rE&&Lo.current_database===(r==null?void 0:r.id)?Lo.schemas.state==="success"?sE(r,Lo.schemas.data):El.set({databaseId:r.id,requestStatus:{state:"failure",errors:[Sn.fromAnything(Lo.schemas.error)]},data:new Map}):Df(),V2=!1):e.requestStatus.state==="failure"&&Df(),El}));function sne(r){return[...r].sort((e,n)=>ve(e.name).localeCompare(ve(n.name)))}const one=ao(et(xa,r=>Us([...r.data.values()].map(e=>e.name)))),oE=et([xa,one],([r])=>{const e=new Map(sne(r.data.values()).map(n=>[n.oid,n]));return{...r,data:e}}),fs=et([xi,xa],([r,e])=>r?e.data.get(r):void 0);function ine(r){return r.type==="invalid"}function ane(r){return r.type==="valid"}function Rc(){return{type:"valid"}}function fp(r){return{type:"invalid",errorMsg:r}}function eu(r,e){return n=>r(n)?Rc():fp(e)}function tu(r,e){return n=>r(n)?fp(e):Rc()}function iE(r){return r!=null&&r!==""&&(Array.isArray(r)?r.length!==0:!0)}function une(r,e){return Array.isArray(r)?r.includes(e):r.has(e)}function Dc(r,e=ve(ce)("value_already_exists")){return tu(n=>une(r,n),e)}function fne(r,e){return eu(n=>!!n.match(r),e)}function cne(r,e){return eu(n=>n.length<=r,e!=null?e:ve(ce)("value_maxlength_error",{values:{limit:r}}))}const mne=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function dne(r=ve(ce)("email_address_invalid")){return eu(e=>!!e.toLowerCase().match(mne),r)}function _ne({value:r,isRequired:e,validators:n}){if(!iE(r))return e?[ve(ce)("value_cannot_be_empty")]:[];if(!n)return[];const t=r;return n.map(l=>l(t)).filter(ine).map(({errorMsg:l})=>l)}function pne(r){return r.field.isRequired&&!iE(r.value)}function cp(r,e){return n=>{const t=r.map(s=>{var o;return(o=n.find(i=>i.field===s))!=null?o:{field:s,value:ve(s)}});if(t.map(pne).some(s=>s))return{outcome:Rc(),fields:r};const l=t.map(s=>s.value);return{outcome:e(l),fields:r}}}function gne(r,e,n){return cp(r,tu(e,n))}function hne(r,e,n){return cp(r,eu(e,n))}function bne(r){let e=r[0];for(const n of r){if(n!==e)return!1;e=n}return!0}function aE(r,e){return hne(r,bne,e)}function z2(r){let e,n,t;const l=[r[0]];let s={};for(let o=0;o<l.length;o+=1)s=se(s,l[o]);return n=new Ne({props:s}),{c(){e=E("span"),C(n.$$.fragment),I(e,"class","icon svelte-1gyacyo")},m(o,i){v(o,e,i),k(n,e,null),t=!0},p(o,i){const a=i&1?de(l,[_e(o[0])]):{};n.$set(a)},i(o){t||(_(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&$(e),y(n)}}}function B2(r){let e,n;return{c(){e=E("h3"),n=L(r[3]),I(e,"class","title svelte-1gyacyo")},m(t,l){v(t,e,l),R(e,n)},p(t,l){l&8&&z(n,t[3])},d(t){t&&$(e)}}}function $ne(r){let e,n,t,l,s,o=r[0]&&z2(r),i=r[3]&&B2(r);const a=r[5].default,u=ke(a,r,r[4],null);return{c(){e=E("div"),o&&o.c(),n=N(),t=E("div"),i&&i.c(),l=N(),u&&u.c(),I(t,"class","content trim-child-margins"),I(e,"class","message-box svelte-1gyacyo"),I(e,"style",r[1]),ie(e,"has-icon",!!r[0]),ie(e,"full-width",r[2])},m(f,c){v(f,e,c),o&&o.m(e,null),R(e,n),R(e,t),i&&i.m(t,null),R(t,l),u&&u.m(t,null),s=!0},p(f,[c]){f[0]?o?(o.p(f,c),c&1&&_(o,1)):(o=z2(f),o.c(),_(o,1),o.m(e,n)):o&&(U(),p(o,1,1,()=>{o=null}),W()),f[3]?i?i.p(f,c):(i=B2(f),i.c(),i.m(t,l)):i&&(i.d(1),i=null),u&&u.p&&(!s||c&16)&&Ce(u,a,f,f[4],s?ye(a,f[4],c,null):Se(f[4]),null),(!s||c&2)&&I(e,"style",f[1]),(!s||c&1)&&ie(e,"has-icon",!!f[0]),(!s||c&4)&&ie(e,"full-width",f[2])},i(f){s||(_(o),_(u,f),s=!0)},o(f){p(o),p(u,f),s=!1},d(f){f&&$(e),o&&o.d(),i&&i.d(),u&&u.d(f)}}}function vne(r,e,n){let{$$slots:t={},$$scope:l}=e,{icon:s=void 0}=e,{style:o=void 0}=e,{fullWidth:i=!1}=e,{title:a=void 0}=e;return r.$$set=u=>{"icon"in u&&n(0,s=u.icon),"style"in u&&n(1,o=u.style),"fullWidth"in u&&n(2,i=u.fullWidth),"title"in u&&n(3,a=u.title),"$$scope"in u&&n(4,l=u.$$scope)},[s,o,i,a,l,t]}class Ac extends Q{constructor(e){super(),Z(this,e,vne,$ne,J,{icon:0,style:1,fullWidth:2,title:3})}}function wne(r){let e;const n=r[1].default,t=ke(n,r,r[2],null);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&4)&&Ce(t,n,l,l[2],e?ye(n,l[2],s,null):Se(l[2]),null)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function kne(r){let e,n,t;const l=[{icon:il},r[0]];let s={$$slots:{default:[wne]},$$scope:{ctx:r}};for(let o=0;o<l.length;o+=1)s=se(s,l[o]);return n=new Ac({props:s}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","error-box svelte-bp9kgs")},m(o,i){v(o,e,i),k(n,e,null),t=!0},p(o,[i]){const a=i&1?de(l,[i&0&&{icon:il},i&1&&_e(o[0])]):{};i&4&&(a.$$scope={dirty:i,ctx:o}),n.$set(a)},i(o){t||(_(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&$(e),y(n)}}}function yne(r,e,n){const t=[];let l=We(e,t),{$$slots:s={},$$scope:o}=e;return r.$$set=i=>{e=se(se({},e),pt(i)),n(0,l=We(e,t)),"$$scope"in i&&n(2,o=i.$$scope)},[l,s,o]}class Vn extends Q{constructor(e){super(),Z(this,e,yne,kne,J,{})}}function q2(r,e,n){const t=r.slice();return t[2]=e[n],t}function Cne(r){let e,n=[],t=new Map,l=r[0];const s=o=>o[2];for(let o=0;o<l.length;o+=1){let i=q2(r,l,o),a=s(i);t.set(a,n[o]=U2(a,i))}return{c(){e=E("ul");for(let o=0;o<n.length;o+=1)n[o].c();I(e,"class","list svelte-h6g81w")},m(o,i){v(o,e,i);for(let a=0;a<n.length;a+=1)n[a].m(e,null)},p(o,i){i&1&&(l=o[0],n=ht(n,i,s,1,o,l,t,e,Na,U2,null,q2))},d(o){o&&$(e);for(let i=0;i<n.length;i+=1)n[i].d()}}}function Sne(r){let e,n=r[0][0]+"",t;return{c(){e=E("p"),t=L(n)},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&1&&n!==(n=l[0][0]+"")&&z(t,n)},d(l){l&&$(e)}}}function U2(r,e){let n,t=e[2]+"",l;return{key:r,first:null,c(){n=E("li"),l=L(t),this.first=n},m(s,o){v(s,n,o),R(n,l)},p(s,o){e=s,o&1&&t!==(t=e[2]+"")&&z(l,t)},d(s){s&&$(n)}}}function Tne(r){let e;function n(s,o){return s[0].length===1?Sne:Cne}let t=n(r),l=t(r);return{c(){l.c(),e=ae()},m(s,o){l.m(s,o),v(s,e,o)},p(s,[o]){t===(t=n(s))&&l?l.p(s,o):(l.d(1),l=t(s),l&&(l.c(),l.m(e.parentNode,e)))},i:H,o:H,d(s){l.d(s),s&&$(e)}}}function Ine(r,e,n){let t,{errorStrings:l}=e;return r.$$set=s=>{"errorStrings"in s&&n(1,l=s.errorStrings)},r.$$.update=()=>{r.$$.dirty&2&&n(0,t=[...new Set(l)])},[t,l]}class uE extends Q{constructor(e){super(),Z(this,e,Ine,Tne,J,{errorStrings:1})}}function W2(r){let e,n;return e=new dl({props:{page:r[0],$$slots:{default:[Ene]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.page=t[0]),l&24&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Ene(r){let e=r[3]+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&8&&e!==(e=t[3]+"")&&z(n,e)},d(t){t&&$(n)}}}function Mne(r){let e,n,t=r[2]==="link"&&W2(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[2]==="link"?t?(t.p(l,s),s&4&&_(t,1)):(t=W2(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function Rne(r){let e,n;return e=new ot({props:{text:r[1]("see_docs_to_learn_more"),$$slots:{default:[Mne,({slotName:t,translatedArg:l})=>({2:t,3:l}),({slotName:t,translatedArg:l})=>(t?4:0)|(l?8:0)]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&2&&(s.text=t[1]("see_docs_to_learn_more")),l&29&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Dne(r,e,n){let t;ne(r,ce,s=>n(1,t=s));let{page:l}=e;return r.$$set=s=>{"page"in s&&n(0,l=s.page)},[l,t]}class Hr extends Q{constructor(e){super(),Z(this,e,Dne,Rne,J,{page:0})}}function Ane(r){let e,n=r[0]("not_a_collaborator_help")+"",t,l,s,o,i;return o=new Hr({props:{page:"collaborators"}}),{c(){e=E("p"),t=L(n),l=N(),s=E("p"),C(o.$$.fragment)},m(a,u){v(a,e,u),R(e,t),v(a,l,u),v(a,s,u),k(o,s,null),i=!0},p(a,[u]){(!i||u&1)&&n!==(n=a[0]("not_a_collaborator_help")+"")&&z(t,n)},i(a){i||(_(o.$$.fragment,a),i=!0)},o(a){p(o.$$.fragment,a),i=!1},d(a){a&&$(e),a&&$(l),a&&$(s),y(o)}}}function One(r,e,n){let t;return ne(r,ce,l=>n(0,t=l)),[t]}class Fne extends Q{constructor(e){super(),Z(this,e,One,Ane,J,{})}}function Nne(r){let e,n=r[1]("unable_to_connect_to_database")+"",t,l,s,o;return{c(){e=E("p"),t=L(n),l=N(),s=E("p"),o=L(r[0])},m(i,a){v(i,e,a),R(e,t),v(i,l,a),v(i,s,a),R(s,o)},p(i,[a]){a&2&&n!==(n=i[1]("unable_to_connect_to_database")+"")&&z(t,n),a&1&&z(o,i[0])},i:H,o:H,d(i){i&&$(e),i&&$(l),i&&$(s)}}}function Pne(r,e,n){let t;ne(r,ce,s=>n(1,t=s));let{message:l}=e;return r.$$set=s=>{"message"in s&&n(0,l=s.message)},[l,t]}class Lne extends Q{constructor(e){super(),Z(this,e,Pne,Nne,J,{message:0})}}const Hne=-28030,Vne=-30193;class $o extends Sn{static fromAnything(e){const n=super.fromAnything(e);return new $o(n)}}function zne({code:r,message:e}){switch(r){case Hne:return ks(Fne,{});case Vne:return ks(Lne,{message:e});default:return e}}function Bne(r){return typeof r=="string"?r:zne(r)}function qne(r){if(typeof r=="string")return JSON.stringify({type:"string",error:r});const{code:e,message:n}=r;return JSON.stringify({type:"RpcError",code:e,message:n})}function Une(r){return jP(qne,r)}function Wne(r){const e=[],n=[];for(const t of r){const l=Bne(t);typeof l=="string"?e.push(l):n.push(l)}return{stringErrors:e,richErrors:n}}function j2(r,e,n){const t=r.slice();return t[6]=e[n],t}function jne(r){let e,n;return e=new Q9({props:{componentWithProps:r[6]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8&&(s.componentWithProps=t[6]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Y2(r){let e,n;return e=new Vn({props:{fullWidth:r[1],$$slots:{default:[jne]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.fullWidth=t[1]),l&520&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function G2(r){let e,n;return e=new Vn({props:{fullWidth:r[1],$$slots:{default:[Yne]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.fullWidth=t[1]),l&528&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Yne(r){let e,n;return e=new uE({props:{errorStrings:r[4]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.errorStrings=t[4]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function K2(r){let e,n;return e=new Vn({props:{fullWidth:r[1],$$slots:{default:[Gne]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.fullWidth=t[1]),l&544&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Gne(r){let e=r[5]("unknown_error")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&32&&e!==(e=t[5]("unknown_error")+"")&&z(n,e)},d(t){t&&$(n)}}}function Kne(r){let e,n,t,l,s=r[3],o=[];for(let f=0;f<s.length;f+=1)o[f]=Y2(j2(r,s,f));const i=f=>p(o[f],1,1,()=>{o[f]=null});let a=r[4].length&&G2(r),u=!r[0].length&&r[2]&&K2(r);return{c(){e=E("div");for(let f=0;f<o.length;f+=1)o[f].c();n=N(),a&&a.c(),t=N(),u&&u.c(),I(e,"class","errors svelte-pv2mpf")},m(f,c){v(f,e,c);for(let m=0;m<o.length;m+=1)o[m].m(e,null);R(e,n),a&&a.m(e,null),R(e,t),u&&u.m(e,null),l=!0},p(f,[c]){if(c&10){s=f[3];let m;for(m=0;m<s.length;m+=1){const d=j2(f,s,m);o[m]?(o[m].p(d,c),_(o[m],1)):(o[m]=Y2(d),o[m].c(),_(o[m],1),o[m].m(e,n))}for(U(),m=s.length;m<o.length;m+=1)i(m);W()}f[4].length?a?(a.p(f,c),c&16&&_(a,1)):(a=G2(f),a.c(),_(a,1),a.m(e,t)):a&&(U(),p(a,1,1,()=>{a=null}),W()),!f[0].length&&f[2]?u?(u.p(f,c),c&5&&_(u,1)):(u=K2(f),u.c(),_(u,1),u.m(e,null)):u&&(U(),p(u,1,1,()=>{u=null}),W())},i(f){if(!l){for(let c=0;c<s.length;c+=1)_(o[c]);_(a),_(u),l=!0}},o(f){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)p(o[c]);p(a),p(u),l=!1},d(f){f&&$(e),Hn(o,f),a&&a.d(),u&&u.d()}}}function Xne(r,e,n){let t,l,s;ne(r,ce,u=>n(5,s=u));let{errors:o}=e,{fullWidth:i=!1}=e,{showFallbackError:a=!1}=e;return r.$$set=u=>{"errors"in u&&n(0,o=u.errors),"fullWidth"in u&&n(1,i=u.fullWidth),"showFallbackError"in u&&n(2,a=u.showFallbackError)},r.$$.update=()=>{r.$$.dirty&1&&n(4,{stringErrors:t,richErrors:l}=Wne(Une(o)),t,(n(3,l),n(0,o)))},[o,i,a,l,t,s]}class _l extends Q{constructor(e){super(),Z(this,e,Xne,Kne,J,{errors:0,fullWidth:1,showFallbackError:2})}}function X2(r){let e,n,t;return n=new _l({props:{errors:r[4]}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","field-errors svelte-1upnxsj"),ie(e,"has-margin",r[0])},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&16&&(o.errors=l[4]),n.$set(o),(!t||s&1)&&ie(e,"has-margin",l[0])},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function Jne(r){let e,n,t=r[3]&&X2(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,[s]){l[3]?t?(t.p(l,s),s&8&&_(t,1)):(t=X2(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function Zne(r,e,n){let t,l,s,o=H,i=()=>(o(),o=le(l,d=>n(3,s=d)),l),a,u=H,f=()=>(u(),u=le(t,d=>n(4,a=d)),t);r.$$.on_destroy.push(()=>o()),r.$$.on_destroy.push(()=>u());let{field:c}=e,{hasMargin:m=!0}=e;return r.$$set=d=>{"field"in d&&n(5,c=d.field),"hasMargin"in d&&n(0,m=d.hasMargin)},r.$$.update=()=>{r.$$.dirty&32&&f(n(2,{errors:t,showsError:l}=c,t,i(n(1,l))))},[m,l,t,s,a,c]}class Oc extends Q{constructor(e){super(),Z(this,e,Zne,Jne,J,{field:5,hasMargin:0})}}function Qne(r){let e,n;const t=r[1].default,l=ke(t,r,r[0],null);return{c(){e=E("span"),l&&l.c(),I(e,"class","field-help svelte-414zql")},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,[o]){l&&l.p&&(!n||o&1)&&Ce(l,t,s,s[0],n?ye(t,s[0],o,null):Se(s[0]),null)},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function xne(r,e,n){let{$$slots:t={},$$scope:l}=e;return r.$$set=s=>{"$$scope"in s&&n(0,l=s.$$scope)},[l,t]}class fE extends Q{constructor(e){super(),Z(this,e,xne,Qne,J,{})}}function ere(r){let e,n;const t=r[2].default,l=ke(t,r,r[1],null);let s=[{class:"field"},r[0]],o={};for(let i=0;i<s.length;i+=1)o=se(o,s[i]);return{c(){e=E("span"),l&&l.c(),Tt(e,o),ie(e,"svelte-11cqsyc",!0)},m(i,a){v(i,e,a),l&&l.m(e,null),n=!0},p(i,[a]){l&&l.p&&(!n||a&2)&&Ce(l,t,i,i[1],n?ye(t,i[1],a,null):Se(i[1]),null),Tt(e,o=de(s,[{class:"field"},a&1&&i[0]])),ie(e,"svelte-11cqsyc",!0)},i(i){n||(_(l,i),n=!0)},o(i){p(l,i),n=!1},d(i){i&&$(e),l&&l.d(i)}}}function tre(r,e,n){const t=[];let l=We(e,t),{$$slots:s={},$$scope:o}=e;return r.$$set=i=>{e=se(se({},e),pt(i)),n(0,l=We(e,t)),"$$scope"in i&&n(1,o=i.$$scope)},[l,o,s]}class Ht extends Q{constructor(e){super(),Z(this,e,tre,ere,J,{})}}const nre=r=>({}),J2=r=>({}),rre=r=>({}),Z2=r=>({}),lre=r=>({}),Q2=r=>({slot:"label"});function sre(r){let e,n,t,l;const s=[{hasError:r[10]},{disabled:r[11]},r[7]];function o(u){r[16](u)}var i=r[8];function a(u){let f={$$slots:{default:[ire]},$$scope:{ctx:u}};for(let c=0;c<s.length;c+=1)f=se(f,s[c]);return u[9]!==void 0&&(f.value=u[9]),{props:f}}return i&&(e=new i(a(r)),we.push(()=>Me(e,"value",o))),{c(){e&&C(e.$$.fragment),t=ae()},m(u,f){e&&k(e,u,f),v(u,t,f),l=!0},p(u,f){const c=f&3200?de(s,[f&1024&&{hasError:u[10]},f&2048&&{disabled:u[11]},f&128&&_e(u[7])]):{};if(f&131072&&(c.$$scope={dirty:f,ctx:u}),!n&&f&512&&(n=!0,c.value=u[9],De(()=>n=!1)),i!==(i=u[8])){if(e){U();const m=e;p(m.$$.fragment,1,0,()=>{y(m,1)}),W()}i?(e=new i(a(u)),we.push(()=>Me(e,"value",o)),C(e.$$.fragment),_(e.$$.fragment,1),k(e,t.parentNode,t)):e=null}else i&&e.$set(c)},i(u){l||(e&&_(e.$$.fragment,u),l=!0)},o(u){e&&p(e.$$.fragment,u),l=!1},d(u){u&&$(t),e&&y(e,u)}}}function ore(r){let e,n;return e=new Nt({props:{layout:r[3],label:r[1],$$slots:{label:[cre],default:[fre]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8&&(s.layout=t[3]),l&2&&(s.label=t[1]),l&139156&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function ire(r){let e;const n=r[14].default,t=ke(n,r,r[17],null);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&131072)&&Ce(t,n,l,l[17],e?ye(n,l[17],s,null):Se(l[17]),null)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function x2(r){let e,n;return e=new fE({props:{$$slots:{default:[ure]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&131076&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function are(r){let e;return{c(){e=L(r[2])},m(n,t){v(n,e,t)},p(n,t){t&4&&z(e,n[2])},d(n){n&&$(e)}}}function ure(r){let e;const n=r[14].help,t=ke(n,r,r[17],Z2),l=t||are(r);return{c(){l&&l.c()},m(s,o){l&&l.m(s,o),e=!0},p(s,o){t?t.p&&(!e||o&131072)&&Ce(t,n,s,s[17],e?ye(n,s[17],o,rre):Se(s[17]),Z2):l&&l.p&&(!e||o&4)&&l.p(s,e?o:-1)},i(s){e||(_(l,s),e=!0)},o(s){p(l,s),e=!1},d(s){l&&l.d(s)}}}function fre(r){let e,n,t,l,s;const o=[{hasError:r[10]},{disabled:r[11]},r[7]];function i(c){r[15](c)}var a=r[8];function u(c){let m={};for(let d=0;d<o.length;d+=1)m=se(m,o[d]);return c[9]!==void 0&&(m.value=c[9]),{props:m}}a&&(e=new a(u(r)),we.push(()=>Me(e,"value",i)));let f=!r[4]&&(r[2]||r[12].help)&&x2(r);return{c(){e&&C(e.$$.fragment),t=N(),f&&f.c(),l=ae()},m(c,m){e&&k(e,c,m),v(c,t,m),f&&f.m(c,m),v(c,l,m),s=!0},p(c,m){const d=m&3200?de(o,[m&1024&&{hasError:c[10]},m&2048&&{disabled:c[11]},m&128&&_e(c[7])]):{};if(!n&&m&512&&(n=!0,d.value=c[9],De(()=>n=!1)),a!==(a=c[8])){if(e){U();const g=e;p(g.$$.fragment,1,0,()=>{y(g,1)}),W()}a?(e=new a(u(c)),we.push(()=>Me(e,"value",i)),C(e.$$.fragment),_(e.$$.fragment,1),k(e,t.parentNode,t)):e=null}else a&&e.$set(d);!c[4]&&(c[2]||c[12].help)?f?(f.p(c,m),m&4116&&_(f,1)):(f=x2(c),f.c(),_(f,1),f.m(l.parentNode,l)):f&&(U(),p(f,1,1,()=>{f=null}),W())},i(c){s||(e&&_(e.$$.fragment,c),_(f),s=!0)},o(c){e&&p(e.$$.fragment,c),p(f),s=!1},d(c){e&&y(e,c),c&&$(t),f&&f.d(c),c&&$(l)}}}function cre(r){let e;const n=r[14].label,t=ke(n,r,r[17],Q2);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&131072)&&Ce(t,n,l,l[17],e?ye(n,l[17],s,lre):Se(l[17]),Q2)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function e$(r){let e,n;return e=new fE({props:{$$slots:{default:[dre]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&131076&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function mre(r){let e;return{c(){e=L(r[2])},m(n,t){v(n,e,t)},p(n,t){t&4&&z(e,n[2])},d(n){n&&$(e)}}}function dre(r){let e;const n=r[14].help,t=ke(n,r,r[17],J2),l=t||mre(r);return{c(){l&&l.c()},m(s,o){l&&l.m(s,o),e=!0},p(s,o){t?t.p&&(!e||o&131072)&&Ce(t,n,s,s[17],e?ye(n,s[17],o,nre):Se(s[17]),J2):l&&l.p&&(!e||o&4)&&l.p(s,e?o:-1)},i(s){e||(_(l,s),e=!0)},o(s){p(l,s),e=!1},d(s){l&&l.d(s)}}}function _re(r){let e,n,t,l,s,o;const i=[ore,sre],a=[];function u(c,m){return c[1]||c[12].label?0:1}e=u(r),n=a[e]=i[e](r);let f=r[4]&&(r[2]||r[12].help)&&e$(r);return s=new Oc({props:{field:r[0]}}),{c(){n.c(),t=N(),f&&f.c(),l=N(),C(s.$$.fragment)},m(c,m){a[e].m(c,m),v(c,t,m),f&&f.m(c,m),v(c,l,m),k(s,c,m),o=!0},p(c,m){let d=e;e=u(c),e===d?a[e].p(c,m):(U(),p(a[d],1,1,()=>{a[d]=null}),W(),n=a[e],n?n.p(c,m):(n=a[e]=i[e](c),n.c()),_(n,1),n.m(t.parentNode,t)),c[4]&&(c[2]||c[12].help)?f?(f.p(c,m),m&4116&&_(f,1)):(f=e$(c),f.c(),_(f,1),f.m(l.parentNode,l)):f&&(U(),p(f,1,1,()=>{f=null}),W());const g={};m&1&&(g.field=c[0]),s.$set(g)},i(c){o||(_(n),_(f),_(s.$$.fragment,c),o=!0)},o(c){p(n),p(f),p(s.$$.fragment,c),o=!1},d(c){a[e].d(c),c&&$(t),f&&f.d(c),c&&$(l),y(s,c)}}}function pre(r){let e,n;return e=new Ht({props:{$$slots:{default:[_re]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&139167&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function gre(r,e,n){let t,l,s,o,i,a,u=H,f=()=>(u(),u=le(M,j=>n(9,a=j)),M),c,m=H,d=()=>(m(),m=le(s,j=>n(10,c=j)),s),g,h=H,b=()=>(h(),h=le(o,j=>n(11,g=j)),o);r.$$.on_destroy.push(()=>u()),r.$$.on_destroy.push(()=>m()),r.$$.on_destroy.push(()=>h());let{$$slots:w={},$$scope:S}=e;const T=mr(w);let{field:M}=e;f();let{input:A=void 0}=e,{label:D=void 0}=e,{help:O=void 0}=e,{layout:F=void 0}=e;function P(j){a=j,M.set(a)}function B(j){a=j,M.set(a)}return r.$$set=j=>{"field"in j&&f(n(0,M=j.field)),"input"in j&&n(13,A=j.input),"label"in j&&n(1,D=j.label),"help"in j&&n(2,O=j.help),"layout"in j&&n(3,F=j.layout),"$$scope"in j&&n(17,S=j.$$scope)},r.$$.update=()=>{var j,V;r.$$.dirty&8192&&n(8,t=(j=A==null?void 0:A.component)!=null?j:hn),r.$$.dirty&8192&&n(7,l=(V=A==null?void 0:A.props)!=null?V:{}),r.$$.dirty&1&&d(n(6,{showsError:s,disabled:o}=M,s,b(n(5,o)))),r.$$.dirty&8&&n(4,i=F==="stacked")},[M,D,O,F,i,o,s,l,t,a,c,g,T,A,w,P,B,S]}class It extends Q{constructor(e){super(),Z(this,e,gre,pre,J,{field:0,input:13,label:1,help:2,layout:3})}}const hre=r=>({errors:r&32}),t$=r=>({errors:r[5]});function n$(r){let e,n;const t=[{onProceed:r[9]},{canProceed:r[1]&&r[6]},{onCancel:r[3]},r[10]];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ol({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&1610?de(t,[o&512&&{onProceed:s[9]},o&66&&{canProceed:s[1]&&s[6]},o&8&&{onCancel:s[3]},o&1024&&_e(s[10])]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function r$(r){let e,n;const t=r[16].errors,l=ke(t,r,r[15],t$),s=l||bre(r);return{c(){e=E("div"),s&&s.c(),I(e,"class","errors svelte-eylvex")},m(o,i){v(o,e,i),s&&s.m(e,null),n=!0},p(o,i){l?l.p&&(!n||i&32800)&&Ce(l,t,o,o[15],n?ye(t,o[15],i,hre):Se(o[15]),t$):s&&s.p&&(!n||i&32)&&s.p(o,n?i:-1)},i(o){n||(_(s,o),n=!0)},o(o){p(s,o),n=!1},d(o){o&&$(e),s&&s.d(o)}}}function bre(r){let e,n;return e=new _l({props:{errors:r[5]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&32&&(s.errors=t[5]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function $re(r){let e,n,t,l=(!r[2]||r[7])&&n$(r),s=r[4]&&r[5].length>0&&r$(r);return{c(){e=E("div"),l&&l.c(),n=N(),s&&s.c(),I(e,"class","form-submit svelte-eylvex")},m(o,i){v(o,e,i),l&&l.m(e,null),R(e,n),s&&s.m(e,null),t=!0},p(o,[i]){!o[2]||o[7]?l?(l.p(o,i),i&132&&_(l,1)):(l=n$(o),l.c(),_(l,1),l.m(e,n)):l&&(U(),p(l,1,1,()=>{l=null}),W()),o[4]&&o[5].length>0?s?(s.p(o,i),i&48&&_(s,1)):(s=r$(o),s.c(),_(s,1),s.m(e,null)):s&&(U(),p(s,1,1,()=>{s=null}),W())},i(o){t||(_(l),_(s),t=!0)},o(o){p(l),p(s),t=!1},d(o){o&&$(e),l&&l.d(),s&&s.d()}}}function vre(r,e,n){let t,l,s,o;const i=["form","canProceed","initiallyHidden","onProceed","onCancel","getErrorMessages","catchErrors"];let a=We(e,i),u,f=H,c=()=>(f(),f=le(w,P=>n(13,u=P)),w),m,d=H,g=()=>(d(),d=le(t,P=>n(14,m=P)),t);r.$$.on_destroy.push(()=>f()),r.$$.on_destroy.push(()=>d());let{$$slots:h={},$$scope:b}=e,{form:w}=e;c();let{canProceed:S=!0}=e,{initiallyHidden:T=!1}=e,{onProceed:M=()=>{}}=e,{onCancel:A=()=>w.reset()}=e,{getErrorMessages:D=P=>[Yt(P)]}=e,{catchErrors:O=!1}=e;async function F(){w.clearServerErrors(),w.requestStatus.set({state:"processing"});const P=u.values;if(!O){await M(P),w.requestStatus.set(void 0);return}try{await M(P),w.requestStatus.set({state:"success"})}catch(B){w.requestStatus.set({state:"failure",errors:D(B)})}}return r.$$set=P=>{e=se(se({},e),pt(P)),n(10,a=We(e,i)),"form"in P&&c(n(0,w=P.form)),"canProceed"in P&&n(1,S=P.canProceed),"initiallyHidden"in P&&n(2,T=P.initiallyHidden),"onProceed"in P&&n(11,M=P.onProceed),"onCancel"in P&&n(3,A=P.onCancel),"getErrorMessages"in P&&n(12,D=P.getErrorMessages),"catchErrors"in P&&n(4,O=P.catchErrors),"$$scope"in P&&n(15,b=P.$$scope)},r.$$.update=()=>{r.$$.dirty&1&&g(n(8,{requestStatus:t}=w,t)),r.$$.dirty&8192&&n(7,{hasChanges:l,canSubmit:s}=u,l,(n(6,s),n(13,u))),r.$$.dirty&16384&&n(5,o=(m==null?void 0:m.state)==="failure"?m.errors:[])},[w,S,T,A,O,o,s,l,t,F,a,M,D,u,m,b,h]}class yn extends Q{constructor(e){super(),Z(this,e,vre,$re,J,{form:0,canProceed:1,initiallyHidden:2,onProceed:11,onCancel:3,getErrorMessages:12,catchErrors:4})}}const Id=Symbol("comboErrors"),cE=Symbol("disabled");function mE(r){const e=Ue(r.initialValue),n=Ue([]),t=et(e,d=>d!==r.initialValue),l=et(e,d=>(n.set([]),_ne({...r,value:d}))),s=Ue([]),o=Ue(!1),i=et(s,d=>d),u=et([l,i,n],d=>d.flat()),f=et(u,d=>d.length===0),c=et([l,i],d=>d.flat().length===0),m=et([t,l,i,n],([d,g,h,b])=>h.length||b.length?!0:d?g.length>0:!1);return{isRequired:r.isRequired,initialValue:r.initialValue,hasChanges:t,fieldErrors:l,[Id]:s,[cE]:o,disabled:o,comboErrors:i,serverErrors:n,errors:u,isValid:f,canSubmit:c,showsError:m,subscribe(d,g){return e.subscribe(d,g)},set(d){e.set(d)},update(d){e.update(d)},reset(){e.set(r.initialValue)}}}function er(r,e=[]){return mE({initialValue:r,validators:e,isRequired:!1})}function gt(r,e=[]){return mE({initialValue:r,validators:e,isRequired:!0})}function wre(r,e){const n=new Map;e.forEach(t=>{const{outcome:l,fields:s}=t(r);s.forEach(o=>{var u;const i=(u=n.get(o))!=null?u:[],a=ane(l)?[]:[l.errorMsg];n.set(o,[...i,...a])})});for(const[t,l]of n){const s=ve(t[Id]);JSON.stringify(s)!==JSON.stringify(l)&&t[Id].set(l)}}function Wt(r,e=[]){const n=Us(Object.entries(r).map(([d,g])=>et(g,h=>({name:d,field:g,value:h})))),t=et(n,d=>(wre(d,e),Object.fromEntries(d.map(({name:g,value:h})=>[g,h])))),l=Ue(void 0),s=et(l,d=>(d==null?void 0:d.state)==="processing"),o=et(Us(Object.values(r).map(d=>d.isValid)),d=>d.every(g=>g)),i=et(Us(Object.values(r).map(d=>d.canSubmit)),d=>d.every(g=>g)),a=et(Us(Object.values(r).map(d=>d.hasChanges)),d=>d.some(g=>g));function u(){l.update(d=>(d==null?void 0:d.state)==="failure"?void 0:d),Object.values(r).forEach(d=>{d.serverErrors.set([])})}function f(){u(),Object.values(r).forEach(d=>{d.reset()})}const c=et([t,o,i,a],([d,g,h,b])=>({values:d,isValid:g,canSubmit:h,hasChanges:b}));return{...DO(c,[()=>l.subscribe(d=>{Object.values(r).forEach(g=>{g[cE].set((d==null?void 0:d.state)==="processing")})})]),fields:r,reset:f,clearServerErrors:u,requestStatus:l,isSubmitting:s}}class mp{constructor(e){te(this,"oid");te(this,"name");te(this,"description");te(this,"metadata");te(this,"schema");te(this,"currentAccess");this.oid=e.rawTableWithMetadata.oid,this.name=e.rawTableWithMetadata.name,this.description=e.rawTableWithMetadata.description,this.metadata=e.rawTableWithMetadata.metadata,this.currentAccess=new up(e.rawTableWithMetadata),this.schema=e.schema}updateOwner(e){const n=Ke.tables.privileges.transfer_ownership({database_id:this.schema.database.id,table_oid:this.oid,new_owner_oid:e}).run();return new In((t,l)=>{n.then(s=>(this.currentAccess.set(s),t(this)),l).catch(l)},()=>n.cancel())}constructTablePrivilegesStore(){return new En(Ke.tables.privileges.list_direct,{postProcess:e=>new Ct(e.map(n=>[n.role_oid,n]))})}}const Oo=Pl(),kre=Oo.routing_context!=="anonymous";function dE(){return{tablesMap:new Map,requestStatus:{state:"success"}}}const Dr=Ue(dE());function dp(r){return[...r].sort((e,n)=>e.name.localeCompare(n.name))}function _E(r,e){const n=e.map(l=>new mp({schema:r,rawTableWithMetadata:l})),t=new Map;dp(n).forEach(l=>t.set(l.oid,l)),Dr.set({databaseId:r.database.id,schemaOid:r.oid,tablesMap:t,requestStatus:{state:"success"}})}let Pi;async function Af(){Pi==null||Pi.cancel();const r=ve(fs);if(!r){Dr.set(dE());return}try{Dr.update(n=>n.databaseId===r.database.id&&n.schemaOid===r.oid?{...n,requestStatus:{state:"processing"}}:{databaseId:r.database.id,schemaOid:r.oid,tablesMap:new Map,requestStatus:{state:"processing"}}),Pi=Ke.tables.list_with_metadata({database_id:r.database.id,schema_oid:r.oid}).run();const e=await Pi;_E(r,e)}catch(e){Dr.update(n=>n.databaseId===r.database.id&&n.schemaOid===r.oid?{...n,requestStatus:{state:"failure",errors:[Yt(e)]}}:{databaseId:r.database.id,schemaOid:r.oid,tablesMap:new Map,requestStatus:{state:"failure",errors:[Yt(e)]}})}}function Fc(r,e){const n=Ke.tables.delete({database_id:r.database.id,table_oid:e}).run();return new In((t,l)=>{n.then(()=>{r.setTableCount(ve(r.tableCount)-1);const s=ve(Dr);return s.databaseId===r.database.id&&s.schemaOid===r.oid&&Dr.update(o=>(o.tablesMap.delete(e),{...o,tablesMap:new Map(o.tablesMap)})),t()},l)},()=>{n.cancel()})}function _p({schema:r,rawTableWithMetadata:e}){const n=new mp({schema:r,rawTableWithMetadata:e}),t=ve(Dr);return t.databaseId===r.database.id&&t.schemaOid===r.oid&&(Dr.update(l=>{l.tablesMap.set(n.oid,n);const s=new Map(dp(l.tablesMap.values()).map(o=>[o.oid,o]));return{...l,tablesMap:s}}),r.setTableCount(ve(Dr).tablesMap.size)),n}async function vo({schema:r,table:e,columnPatchSpecs:n,columnsToDelete:t}){const l=[];(e.name||e.description)&&l.push(Ke.tables.patch({database_id:r.database.id,table_oid:e.oid,table_data_dict:{name:e.name,description:e.description}})),n&&l.push(Ke.columns.patch({database_id:r.database.id,table_oid:e.oid,column_data_list:n})),e.metadata&&l.push(Ke.tables.metadata.set({database_id:r.database.id,table_oid:e.oid,metadata:e.metadata})),t!=null&&t.length&&l.push(Ke.columns.delete({database_id:r.database.id,table_oid:e.oid,column_attnums:t})),await ja(l);const s=await Ke.tables.get_with_metadata({database_id:r.database.id,table_oid:e.oid}).run();return _p({schema:r,rawTableWithMetadata:s})}async function yre({schema:r,name:e,description:n,pkColumn:t}){const l=await Ke.tables.add({database_id:r.database.id,schema_oid:r.oid,table_name:e,comment:n,pkey_column_info:t}).run(),s=await Ke.tables.get_with_metadata({database_id:r.database.id,table_oid:l.oid}).run();return r.setTableCount(ve(r.tableCount)+1),_p({schema:r,rawTableWithMetadata:s})}async function pE(r){const{schema:e}=r,n=await Ke.tables.import({database_id:e.database.id,schema_oid:e.oid,table_name:r.name,data_file_id:r.dataFile.id}).run();return e.setTableCount(ve(e.tableCount)+1),{table:await vo({schema:e,table:{oid:n.oid,metadata:{import_verified:!1,data_file_id:r.dataFile.id}}}),renamedColumns:n.renamed_columns}}function gE({schema:r,tableOid:e,clearCache:n=!1}){const t=ve(Dr);if(t.databaseId===r.database.id&&t.schemaOid===r.oid&&!n){const s=t.tablesMap.get(e);if(s)return new In(o=>{o(s)})}const l=Ke.tables.get_with_metadata({database_id:r.database.id,table_oid:e}).run();return new In((s,o)=>{l.then(i=>{const a=_p({schema:r,rawTableWithMetadata:i});return s(a)},o)},()=>{l.cancel()})}let l$=!0;const _r=ao(et(fs,r=>{const e=ve(Dr);return e.databaseId!==(r==null?void 0:r.database.id)||e.schemaOid!==(r==null?void 0:r.oid)?(l$&&kre&&Oo.current_schema===(r==null?void 0:r.oid)&&Oo.current_database===(r==null?void 0:r.database.id)?Oo.tables.state==="success"?_E(r,Oo.tables.data):Dr.set({databaseId:r.database.id,schemaOid:r.oid,tablesMap:new Map,requestStatus:{state:"failure",errors:[Yt(Oo.tables.error)]}}):Af(),l$=!1):e.requestStatus.state==="failure"&&Af(),Dr})),Ci=et(_r,r=>r.tablesMap),pp=et(_r,r=>dp(r.tablesMap.values())),Nc=et(_r,r=>new Map([...r.tablesMap.values()].filter(e=>!Ya(e)).map(e=>[e.oid,e]))),hE=et(_r,r=>{const e=new Set([...r.tablesMap.values()].map(n=>n.name));return tu(n=>e.has(n),"A table with that name already exists.")}),ea=Ue(void 0),gp=et([ea,_r],([r,e])=>r===void 0?void 0:e.tablesMap.get(r));function bE(r){const e=et(Dr,n=>new Set(jr(n.tablesMap.values(),sl(t=>t.oid!==r.oid),Ln(t=>t.name))));return et([e,ce],([n,t])=>{function l(s){return s.trim()?n.has(s)?[t("table_with_name_already_exists")]:[]:[t("table_name_cannot_be_empty")]}return l})}const wo=et([jn.currentDatabase,fs,gp],([r,e,n])=>{function t({databaseId:l,schemaId:s,tableId:o,recordId:i}){const a=l!=null?l:r==null?void 0:r.id,u=s!=null?s:e==null?void 0:e.oid,f=o!=null?o:n==null?void 0:n.oid,c=i!=null?i:void 0;if(!(a===void 0||u===void 0||f===void 0||c===void 0))return yf(a,u,f,c)}return t}),Pc=et([jn.currentDatabase,fs,gp],([r,e,n])=>{function t({databaseId:l,schemaId:s,tableId:o}){const i=l!=null?l:r==null?void 0:r.id,a=s!=null?s:e==null?void 0:e.oid,u=o!=null?o:n==null?void 0:n.oid;if(!(i===void 0||a===void 0||u===void 0))return _o(i,a,u)}return t});class Si{constructor({table:e,recordPk:n}){te(this,"tableStructure");te(this,"fetchRequest",Ue(void 0));te(this,"fieldValues",new Cl);te(this,"recordSummaries",new Tf);te(this,"fileManifests",new Tf);te(this,"summary");te(this,"table");te(this,"recordPk");te(this,"recordPageUrl");const{schema:t}=e;this.tableStructure=new Ti({schema:t,oid:e.oid}),this.table=e,this.recordPk=n,this.summary=Ue(""),this.recordPageUrl=yf(e.schema.database.id,e.schema.oid,e.oid,n),this.fetch()}updateSelfWithApiResponseData(e){var t,l;const n=e.results[0];this.fieldValues.reconstruct(Object.entries(n).map(([s,o])=>[parseInt(s,10),o])),this.summary.set((l=(t=e.record_summaries)==null?void 0:t[this.recordPk])!=null?l:""),e.linked_record_summaries&&this.recordSummaries.setFetchedValuesFromPrimitive(e.linked_record_summaries),e.download_links&&this.fileManifests.setFetchedValuesFromPrimitive(e.download_links)}async fetch(){this.fetchRequest.set({state:"processing"});const e=this.table.schema.database.id;try{const n=await Ke.records.get({database_id:e,table_oid:this.table.oid,record_id:this.recordPk,return_record_summaries:!0}).run();this.updateSelfWithApiResponseData(n),this.fetchRequest.set({state:"success"})}catch(n){this.fetchRequest.set({state:"failure",errors:[Yt(n)]})}}async patch(e){const n=this.table.schema.database.id,t=await Ke.records.patch({database_id:n,table_oid:this.table.oid,record_id:this.recordPk,record_def:e,return_record_summaries:!0}).run();this.updateSelfWithApiResponseData(t)}}const nu=Gl();function Cre(r){let e,n,t,l;const s=r[7].default,o=ke(s,r,r[6],null);let i=[{href:r[0]},{class:"record-hyperlink"},r[2]],a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return{c(){e=E("a"),o&&o.c(),Tt(e,a),ie(e,"svelte-m0zxm5",!0)},m(u,f){v(u,e,f),o&&o.m(e,null),n=!0,t||(l=[He(e,"contextmenu",r[8]),He(e,"click",r[1])],t=!0)},p(u,[f]){o&&o.p&&(!n||f&64)&&Ce(o,s,u,u[6],n?ye(s,u[6],f,null):Se(u[6]),null),Tt(e,a=de(i,[(!n||f&1)&&{href:u[0]},{class:"record-hyperlink"},f&4&&u[2]])),ie(e,"svelte-m0zxm5",!0)},i(u){n||(_(o,u),n=!0)},o(u){p(o,u),n=!1},d(u){u&&$(e),o&&o.d(u),t=!1,Ot(l)}}}function Sre(r,e,n){let t;const l=["tableId","recordId"];let s=We(e,l),o,i;ne(r,Ci,h=>n(9,o=h)),ne(r,wo,h=>n(5,i=h));let{$$slots:a={},$$scope:u}=e;const f=nu.get();let{tableId:c}=e,{recordId:m}=e;function d(h){if(!f||m===void 0)return;const b=o.get(c);if(!b)return;h.preventDefault(),h.stopPropagation();const w=new Si({table:b,recordPk:String(m)});f.open(w)}function g(h){Re.call(this,r,h)}return r.$$set=h=>{e=se(se({},e),pt(h)),n(2,s=We(e,l)),"tableId"in h&&n(3,c=h.tableId),"recordId"in h&&n(4,m=h.recordId),"$$scope"in h&&n(6,u=h.$$scope)},r.$$.update=()=>{r.$$.dirty&56&&n(0,t=i({tableId:c,recordId:m}))},[t,d,s,c,m,i,u,a,g]}class $E extends Q{constructor(e){super(),Z(this,e,Sre,Cre,J,{tableId:3,recordId:4})}}function Tre(r){let e,n;return{c(){e=E("span"),n=L(r[7]),I(e,"class","record-summary svelte-96vaq4")},m(t,l){v(t,e,l),R(e,n)},p(t,l){l&128&&z(n,t[7])},i:H,o:H,d(t){t&&$(e)}}}function Ire(r){let e,n,t;return n=new $E({props:{tableId:r[0],recordId:r[1],tabindex:"-1",$$slots:{default:[Ere]},$$scope:{ctx:r}}}),{c(){e=E("span"),C(n.$$.fragment),I(e,"class","record-summary record-page-link svelte-96vaq4")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&1&&(o.tableId=l[0]),s&2&&(o.recordId=l[1]),s&32896&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function Ere(r){let e;return{c(){e=L(r[7])},m(n,t){v(n,e,t)},p(n,t){t&128&&z(e,n[7])},d(n){n&&$(e)}}}function s$(r){let e,n,t,l,s,o,i;const a=[uf];let u={};for(let f=0;f<a.length;f+=1)u=se(u,a[f]);return n=new Ne({props:u}),{c(){e=E("span"),C(n.$$.fragment),I(e,"class","delete-button svelte-96vaq4"),I(e,"role","button"),I(e,"tabindex","-1"),I(e,"aria-label",t=r[8]("clear_value")),I(e,"title",l=r[8]("clear_value"))},m(f,c){v(f,e,c),k(n,e,null),s=!0,o||(i=[He(e,"click",$s(r[9])),He(e,"mouseenter",r[12]),He(e,"mouseleave",r[13])],o=!0)},p(f,c){const m=c&0?de(a,[_e(uf)]):{};n.$set(m),(!s||c&256&&t!==(t=f[8]("clear_value")))&&I(e,"aria-label",t),(!s||c&256&&l!==(l=f[8]("clear_value")))&&I(e,"title",l)},i(f){s||(_(n.$$.fragment,f),s=!0)},o(f){p(n.$$.fragment,f),s=!1},d(f){f&&$(e),y(n),o=!1,Ot(i)}}}function Mre(r){let e,n,t,l,s,o,i,a,u;const f=[Ire,Tre],c=[];function m(g,h){return g[5]&&g[0]?0:1}n=m(r),t=c[n]=f[n](r);let d=r[2]&&s$(r);return{c(){e=E("span"),t.c(),l=N(),d&&d.c(),s=N(),o=E("span"),I(o,"class","background svelte-96vaq4"),I(e,"class","linked-record svelte-96vaq4"),ie(e,"is-hovering-delete",r[6]),ie(e,"exact-match",r[3]==="exactMatch"),ie(e,"no-match",r[3]==="noMatch"),ie(e,"disabled",r[4])},m(g,h){v(g,e,h),c[n].m(e,null),R(e,l),d&&d.m(e,null),R(e,s),R(e,o),i=!0,a||(u=He(e,"click",r[11]),a=!0)},p(g,[h]){let b=n;n=m(g),n===b?c[n].p(g,h):(U(),p(c[b],1,1,()=>{c[b]=null}),W(),t=c[n],t?t.p(g,h):(t=c[n]=f[n](g),t.c()),_(t,1),t.m(e,l)),g[2]?d?(d.p(g,h),h&4&&_(d,1)):(d=s$(g),d.c(),_(d,1),d.m(e,s)):d&&(U(),p(d,1,1,()=>{d=null}),W()),(!i||h&64)&&ie(e,"is-hovering-delete",g[6]),(!i||h&8)&&ie(e,"exact-match",g[3]==="exactMatch"),(!i||h&8)&&ie(e,"no-match",g[3]==="noMatch"),(!i||h&16)&&ie(e,"disabled",g[4])},i(g){i||(_(t),_(d),i=!0)},o(g){p(t),p(d),i=!1},d(g){g&&$(e),c[n].d(),d&&d.d(),a=!1,u()}}}function Rre(r,e,n){let t,l;ne(r,ce,S=>n(8,l=S));const s=Et();let{tableId:o=void 0}=e,{recordId:i=void 0}=e,{recordSummary:a=void 0}=e,{hasDeleteButton:u=!1}=e,{valueComparisonOutcome:f=void 0}=e,{disabled:c=!1}=e,{allowsHyperlinks:m=!1}=e,d=!1;function g(){s("delete")}function h(S){Re.call(this,r,S)}const b=()=>{n(6,d=!0)},w=()=>{n(6,d=!1)};return r.$$set=S=>{"tableId"in S&&n(0,o=S.tableId),"recordId"in S&&n(1,i=S.recordId),"recordSummary"in S&&n(10,a=S.recordSummary),"hasDeleteButton"in S&&n(2,u=S.hasDeleteButton),"valueComparisonOutcome"in S&&n(3,f=S.valueComparisonOutcome),"disabled"in S&&n(4,c=S.disabled),"allowsHyperlinks"in S&&n(5,m=S.allowsHyperlinks)},r.$$.update=()=>{r.$$.dirty&1026&&n(7,t=(()=>a&&a.trim()!==""?a:i!==void 0?String(i):"?")())},[o,i,u,f,c,m,d,t,l,g,a,h,b,w]}class ru extends Q{constructor(e){super(),Z(this,e,Rre,Mre,J,{tableId:0,recordId:1,recordSummary:10,hasDeleteButton:2,valueComparisonOutcome:3,disabled:4,allowsHyperlinks:5})}}class vE{constructor(e){te(this,"onOpen");te(this,"onClose");te(this,"nestingLevel");te(this,"purpose",Ue("dataEntry"));te(this,"isOpen",Ue(!1));te(this,"submit",()=>{});te(this,"cancel",()=>{});te(this,"tableOid",Ue(void 0));te(this,"columnWithNestedSelectorOpen",Ue(void 0));var n,t;this.onOpen=(n=e.onOpen)!=null?n:()=>{},this.onClose=(t=e.onClose)!=null?t:()=>{},this.nestingLevel=e.nestingLevel}open(){this.isOpen.set(!0),this.onOpen()}close(){this.submit=()=>{},this.cancel=()=>{},this.isOpen.set(!1),this.onClose()}acquireUserInput({tableOid:e}){return this.tableOid.set(e),this.purpose.set("dataEntry"),this.open(),new Promise((n,t)=>{this.submit=l=>{n(l),this.close()},this.cancel=()=>{t(),this.close()}})}navigateToRecordPage({tableOid:e}){this.tableOid.set(e),this.purpose.set("navigation"),this.open(),this.cancel=()=>{this.close()}}}const ko=Gl();function Dre(r){let e,n;return e=new yi({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Are(r){let e,n;return e=new Ic({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Ore(r){let e,n;return e=new ru({props:{recordId:r[0],recordSummary:r[2],valueComparisonOutcome:r[6]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.recordId=t[0]),l&4&&(s.recordSummary=t[2]),l&64&&(s.valueComparisonOutcome=t[6]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function o$(r){let e,n,t,l,s,o,i;const a=[Gr];let u={};for(let f=0;f<a.length;f+=1)u=se(u,a[f]);return n=new Ne({props:u}),{c(){e=E("button"),C(n.$$.fragment),I(e,"class","dropdown-button passthrough svelte-1ka5fca"),I(e,"aria-label",t=r[8]("pick_record")),I(e,"title",l=r[8]("pick_record"))},m(f,c){v(f,e,c),k(n,e,null),s=!0,o||(i=He(e,"click",r[9]),o=!0)},p(f,c){const m=c&0?de(a,[_e(Gr)]):{};n.$set(m),(!s||c&256&&t!==(t=f[8]("pick_record")))&&I(e,"aria-label",t),(!s||c&256&&l!==(l=f[8]("pick_record")))&&I(e,"title",l)},i(f){s||(_(n.$$.fragment,f),s=!0)},o(f){p(n.$$.fragment,f),s=!1},d(f){f&&$(e),y(n),o=!1,i()}}}function Fre(r){let e,n,t,l,s,o;const i=[Ore,Are,Dre],a=[];function u(c,m){return c[7]?0:c[0]===void 0?1:2}t=u(r),l=a[t]=i[t](r);let f=!r[3]&&o$(r);return{c(){e=E("div"),n=E("div"),l.c(),s=N(),f&&f.c(),I(n,"class","value svelte-1ka5fca"),I(e,"class","linked-record-cell svelte-1ka5fca"),ie(e,"disabled",r[3])},m(c,m){v(c,e,m),R(e,n),a[t].m(n,null),R(e,s),f&&f.m(e,null),o=!0},p(c,m){let d=t;t=u(c),t===d?a[t].p(c,m):(U(),p(a[d],1,1,()=>{a[d]=null}),W(),l=a[t],l?l.p(c,m):(l=a[t]=i[t](c),l.c()),_(l,1),l.m(n,null)),c[3]?f&&(U(),p(f,1,1,()=>{f=null}),W()):f?(f.p(c,m),m&8&&_(f,1)):(f=o$(c),f.c(),_(f,1),f.m(e,null)),(!o||m&8)&&ie(e,"disabled",c[3])},i(c){o||(_(l),_(f),o=!0)},o(c){p(l),p(f),o=!1},d(c){c&&$(e),a[t].d(),f&&f.d()}}}function Nre(r){let e,n,t;function l(o){r[17](o)}let s={isActive:r[1],disabled:r[3],isIndependentOfSheet:r[4],hasPadding:!1,$$slots:{default:[Fre]},$$scope:{ctx:r}};return r[5]!==void 0&&(s.element=r[5]),e=new go({props:s}),we.push(()=>Me(e,"element",l)),e.$on("mouseenter",r[18]),e.$on("keydown",r[10]),e.$on("mousedown",r[11]),e.$on("click",r[12]),e.$on("dblclick",r[9]),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,[i]){const a={};i&2&&(a.isActive=o[1]),i&8&&(a.disabled=o[3]),i&16&&(a.isIndependentOfSheet=o[4]),i&4194765&&(a.$$scope={dirty:i,ctx:o}),!n&&i&32&&(n=!0,a.element=o[5],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function Pre(r,e,n){let t,l,s;ne(r,ce,P=>n(8,s=P));const o=Et(),i=ko.get();let{isActive:a}=e,{columnFabric:u}=e,{value:f=void 0}=e,{searchValue:c=void 0}=e,{recordSummary:m=void 0}=e,{setRecordSummary:d=()=>{}}=e,{disabled:g}=e,{tableId:h}=e,{isIndependentOfSheet:b}=e,w=!1,S;async function T(P){var B;if(!!i&&!g){P==null||P.stopPropagation();try{const j=await i.acquireUserInput({tableOid:h});if(j){const V=(B=u.linkFk)==null?void 0:B.referent_columns[0];V?n(0,f=j.record[V]):n(0,f=j.recordId),d(String(j.recordId),j.recordSummary)}else n(0,f=null);o("update",{value:f})}catch(j){}S==null||S.focus()}}function M(P){switch(P.key){case"Enter":a&&T();break;case"Tab":case"ArrowLeft":case"ArrowRight":case"ArrowDown":case"ArrowUp":o("movementKeyDown",{originalEvent:P,key:P.key});break}}function A(){w=a,o("activate")}function D(){w&&T()}function O(P){S=P,n(5,S)}function F(P){Re.call(this,r,P)}return r.$$set=P=>{"isActive"in P&&n(1,a=P.isActive),"columnFabric"in P&&n(13,u=P.columnFabric),"value"in P&&n(0,f=P.value),"searchValue"in P&&n(14,c=P.searchValue),"recordSummary"in P&&n(2,m=P.recordSummary),"setRecordSummary"in P&&n(15,d=P.setRecordSummary),"disabled"in P&&n(3,g=P.disabled),"tableId"in P&&n(16,h=P.tableId),"isIndependentOfSheet"in P&&n(4,b=P.isIndependentOfSheet)},r.$$.update=()=>{r.$$.dirty&1&&n(7,t=f!=null),r.$$.dirty&16385&&n(6,l=V_(c,f))},[f,a,m,g,b,S,l,t,s,T,M,A,D,u,c,d,h,O,F]}class Lre extends Q{constructor(e){super(),Z(this,e,Pre,Nre,J,{isActive:1,columnFabric:13,value:0,searchValue:14,recordSummary:2,setRecordSummary:15,disabled:3,tableId:16,isIndependentOfSheet:4})}}function Hre(r){let e,n;return{c(){e=E("span"),n=L(r[7]),I(e,"class","placeholder svelte-11odscm")},m(t,l){v(t,e,l),R(e,n)},p(t,l){l&128&&z(n,t[7])},i:H,o:H,d(t){t&&$(e)}}}function Vre(r){let e,n;return e=new ru({props:{recordId:r[1],recordSummary:r[2],hasDeleteButton:!r[6],disabled:r[6],tableId:r[3],allowsHyperlinks:r[5]}}),e.$on("delete",r[11]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.recordId=t[1]),l&4&&(s.recordSummary=t[2]),l&64&&(s.hasDeleteButton=!t[6]),l&64&&(s.disabled=t[6]),l&8&&(s.tableId=t[3]),l&32&&(s.allowsHyperlinks=t[5]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function i$(r){let e,n,t,l,s;const o=[Gr];let i={};for(let a=0;a<o.length;a+=1)i=se(i,o[a]);return n=new Ne({props:i}),{c(){e=E("span"),C(n.$$.fragment),I(e,"class","dropdown-button svelte-11odscm"),I(e,"role","button"),I(e,"tabindex","-1"),I(e,"aria-label",t=r[10]("pick_record")),I(e,"title",l=r[10]("pick_record"))},m(a,u){v(a,e,u),k(n,e,null),s=!0},p(a,u){const f=u&0?de(o,[_e(Gr)]):{};n.$set(f),(!s||u&1024&&t!==(t=a[10]("pick_record")))&&I(e,"aria-label",t),(!s||u&1024&&l!==(l=a[10]("pick_record")))&&I(e,"title",l)},i(a){s||(_(n.$$.fragment,a),s=!0)},o(a){p(n.$$.fragment,a),s=!1},d(a){a&&$(e),y(n)}}}function zre(r){let e,n,t,l,s,o,i,a,u,f,c,m,d,g;const h=[{disabled:r[6]},r[15]];function b(D){r[20](D)}let w={};for(let D=0;D<h.length;D+=1)w=se(w,h[D]);r[0]!==void 0&&(w.id=r[0]),e=new Jl({props:w}),we.push(()=>Me(e,"id",b));const S=[Vre,Hre],T=[];function M(D,O){return D[9]?0:D[7]?1:-1}~(o=M(r))&&(i=T[o]=S[o](r));let A=!r[6]&&i$(r);return{c(){C(e.$$.fragment),t=N(),l=E("span"),s=E("span"),i&&i.c(),a=N(),A&&A.c(),I(s,"class","content svelte-11odscm"),I(l,"id",r[0]),I(l,"class",u="input-element linked-record-input "+r[4]+" svelte-11odscm"),I(l,"tabindex",f=r[6]?void 0:0),I(l,"role","listbox"),I(l,"aria-labelledby",c=ni(r[0])),ie(l,"has-value",r[9]),ie(l,"disabled",r[6])},m(D,O){k(e,D,O),v(D,t,O),v(D,l,O),R(l,s),~o&&T[o].m(s,null),R(l,a),A&&A.m(l,null),r[21](l),m=!0,d||(g=[He(l,"click",r[12]),He(l,"focus",r[13]),He(l,"focus",r[18]),He(l,"blur",r[14]),He(l,"blur",r[19])],d=!0)},p(D,[O]){const F=O&32832?de(h,[O&64&&{disabled:D[6]},O&32768&&_e(D[15])]):{};!n&&O&1&&(n=!0,F.id=D[0],De(()=>n=!1)),e.$set(F);let P=o;o=M(D),o===P?~o&&T[o].p(D,O):(i&&(U(),p(T[P],1,1,()=>{T[P]=null}),W()),~o?(i=T[o],i?i.p(D,O):(i=T[o]=S[o](D),i.c()),_(i,1),i.m(s,null)):i=null),D[6]?A&&(U(),p(A,1,1,()=>{A=null}),W()):A?(A.p(D,O),O&64&&_(A,1)):(A=i$(D),A.c(),_(A,1),A.m(l,null)),(!m||O&1)&&I(l,"id",D[0]),(!m||O&16&&u!==(u="input-element linked-record-input "+D[4]+" svelte-11odscm"))&&I(l,"class",u),(!m||O&64&&f!==(f=D[6]?void 0:0))&&I(l,"tabindex",f),(!m||O&1&&c!==(c=ni(D[0])))&&I(l,"aria-labelledby",c),(!m||O&528)&&ie(l,"has-value",D[9]),(!m||O&80)&&ie(l,"disabled",D[6])},i(D){m||(_(e.$$.fragment,D),_(i),_(A),m=!0)},o(D){p(e.$$.fragment,D),p(i),p(A),m=!1},d(D){y(e,D),D&&$(t),D&&$(l),~o&&T[o].d(),A&&A.d(),r[21](null),d=!1,Ot(g)}}}function Bre(r,e,n){let t,l;const s=["id","value","recordSelectionOrchestratorFactory","recordSummary","setRecordSummary","targetTableId","class","allowsHyperlinks","disabled","placeholder"];let o=We(e,s),i;ne(r,ce,ee=>n(10,i=ee));const a=O_(),u=Wn("dropdownAccompanyingElements"),f=Et();let{id:c=vr()}=e,{value:m=void 0}=e,{recordSelectionOrchestratorFactory:d}=e,{recordSummary:g=void 0}=e,{setRecordSummary:h=()=>{}}=e,{targetTableId:b=void 0}=e,{class:w=""}=e,{allowsHyperlinks:S=!1}=e,{disabled:T=!1}=e,{placeholder:M=void 0}=e,A;function D(){if(!u)return()=>{};const ee=document.querySelector(".modal-record-selector");return ee?u.add(ee):()=>{}}async function O(){if(T)return;f("recordSelectorOpen");const ee={summary:g!=null?g:"",key:m!=null?m:null},x=t.launch({triggerElement:A,previousValue:ee});await sn();const X=D();try{const fe=await x;X(),At(fe)?(n(1,m=fe.key),h(String(fe.key),fe.summary)):n(1,m=null),f("recordSelectorSubmit"),f("artificialChange",m),f("artificialInput",m)}catch(fe){X(),f("recordSelectorCancel")}await sn(),A.focus()}function F(){n(1,m=null),f("artificialChange",m),f("artificialInput",m),t.isOpen()?(t.close(),O()):A.focus()}async function P(){await sn(),t.isOpen()?t.close():await O()}function B(ee){switch(ee.key){case"Enter":ee.target===A&&P();break;case"Delete":case"Backspace":F(),t.close();break}}function j(){window.addEventListener("keydown",B)}function V(){window.removeEventListener("keydown",B)}tn(()=>{n(8,A.launchRecordSelector=O,A)});function q(ee){Re.call(this,r,ee)}function G(ee){Re.call(this,r,ee)}function Y(ee){c=ee,n(0,c)}function K(ee){we[ee?"unshift":"push"](()=>{A=ee,n(8,A)})}return r.$$set=ee=>{e=se(se({},e),pt(ee)),n(15,o=We(e,s)),"id"in ee&&n(0,c=ee.id),"value"in ee&&n(1,m=ee.value),"recordSelectionOrchestratorFactory"in ee&&n(16,d=ee.recordSelectionOrchestratorFactory),"recordSummary"in ee&&n(2,g=ee.recordSummary),"setRecordSummary"in ee&&n(17,h=ee.setRecordSummary),"targetTableId"in ee&&n(3,b=ee.targetTableId),"class"in ee&&n(4,w=ee.class),"allowsHyperlinks"in ee&&n(5,S=ee.allowsHyperlinks),"disabled"in ee&&n(6,T=ee.disabled),"placeholder"in ee&&n(7,M=ee.placeholder)},r.$$.update=()=>{r.$$.dirty&65536&&(t=d()),r.$$.dirty&2&&n(9,l=m!=null),r.$$.dirty&1&&(a==null||a.inputId.set(c))},[c,m,g,b,w,S,T,M,A,l,i,F,P,j,V,o,d,h,q,G,Y,K]}class qre extends Q{constructor(e){super(),Z(this,e,Bre,zre,J,{id:0,value:1,recordSelectionOrchestratorFactory:16,recordSummary:2,setRecordSummary:17,targetTableId:3,class:4,allowsHyperlinks:5,disabled:6,placeholder:7})}}function Ure(r){let e;return{c(){e=L(r[1])},m(n,t){v(n,e,t)},p(n,t){t&2&&z(e,n[1])},i:H,o:H,d(n){n&&$(e)}}}function Wre(r){let e,n;return e=new Ic({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function a$(r){let e,n;return e=new $E({props:{tableId:r[3],recordId:r[1],$$slots:{default:[jre]},$$scope:{ctx:r}}}),e.$on("contextmenu",Kre),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8&&(s.tableId=t[3]),l&2&&(s.recordId=t[1]),l&512&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function jre(r){let e,n,t;const l=[xs];let s={};for(let o=0;o<l.length;o+=1)s=se(s,l[o]);return n=new Ne({props:s}),{c(){e=E("span"),C(n.$$.fragment),I(e,"class","link-icon svelte-uo4wic")},m(o,i){v(o,e,i),k(n,e,null),t=!0},p(o,i){const a=i&0?de(l,[_e(xs)]):{};n.$set(a)},i(o){t||(_(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&$(e),y(n)}}}function Yre(r){let e,n,t,l,s,o;const i=[Wre,Ure],a=[];function u(c,m){return c[1]===void 0?0:1}t=u(r),l=a[t]=i[t](r);let f=r[5]&&a$(r);return{c(){e=E("div"),n=E("span"),l.c(),s=N(),f&&f.c(),I(n,"class","value svelte-uo4wic"),I(e,"class","primary-key-cell svelte-uo4wic"),ie(e,"is-independent-of-sheet",r[4])},m(c,m){v(c,e,m),R(e,n),a[t].m(n,null),R(e,s),f&&f.m(e,null),o=!0},p(c,m){let d=t;t=u(c),t===d?a[t].p(c,m):(U(),p(a[d],1,1,()=>{a[d]=null}),W(),l=a[t],l?l.p(c,m):(l=a[t]=i[t](c),l.c()),_(l,1),l.m(n,null)),c[5]?f?(f.p(c,m),m&32&&_(f,1)):(f=a$(c),f.c(),_(f,1),f.m(e,null)):f&&(U(),p(f,1,1,()=>{f=null}),W()),(!o||m&16)&&ie(e,"is-independent-of-sheet",c[4])},i(c){o||(_(l),_(f),o=!0)},o(c){p(l),p(f),o=!1},d(c){c&&$(e),a[t].d(),f&&f.d()}}}function Gre(r){let e,n;return e=new go({props:{isActive:r[0],disabled:r[2],isIndependentOfSheet:r[4],hasPadding:!1,$$slots:{default:[Yre]},$$scope:{ctx:r}}}),e.$on("mouseenter",r[7]),e.$on("keydown",r[6]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.isActive=t[0]),l&4&&(s.disabled=t[2]),l&16&&(s.isIndependentOfSheet=t[4]),l&570&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Kre(r){r.stopPropagation()}function Xre(r,e,n){const t=Et();let{isActive:l}=e,{value:s=void 0}=e,{disabled:o}=e,{tableId:i}=e,{isIndependentOfSheet:a}=e,{canViewLinkedEntities:u}=e;function f(m){switch(m.key){case"Tab":case"ArrowLeft":case"ArrowRight":case"ArrowDown":case"ArrowUp":t("movementKeyDown",{originalEvent:m,key:m.key});break}}function c(m){Re.call(this,r,m)}return r.$$set=m=>{"isActive"in m&&n(0,l=m.isActive),"value"in m&&n(1,s=m.value),"disabled"in m&&n(2,o=m.disabled),"tableId"in m&&n(3,i=m.tableId),"isIndependentOfSheet"in m&&n(4,a=m.isIndependentOfSheet),"canViewLinkedEntities"in m&&n(5,u=m.canViewLinkedEntities)},[l,s,o,i,a,u,f,c]}class Jre extends Q{constructor(e){super(),Z(this,e,Xre,Gre,J,{isActive:0,value:1,disabled:2,tableId:3,isIndependentOfSheet:4,canViewLinkedEntities:5})}}function hp({cellInfo:r,column:e,fkTargetTableId:n,pkTargetTableId:t}){var s;if(n)return{component:Lre,props:{tableId:n}};if(t)return{component:Jre,props:{tableId:t}};const l=Za(e.type,r);return Qa[(s=r==null?void 0:r.type)!=null?s:"string"].get(e,l)}function Lc(r,e){var l;const n=e!=null?e:Ja(r.type,r.metadata),t=Za(r.type,n);return Qa[(l=n==null?void 0:n.type)!=null?l:"string"].getInput(r,t)}function bp(r,e){var s;const n=e!=null?e:Ja(r.type,r.metadata),t=Qa[(s=n==null?void 0:n.type)!=null?s:"string"];if(!t.getSimpleInput)return;const l=Za(r.type,n);return t.getSimpleInput(r,l)}function wE(r){return{component:qre,props:r}}function kE(r,e,n){var l;if(e)return;const t=n!=null?n:Ja(r.type,r.metadata);return Qa[(l=t==null?void 0:t.type)!=null?l:"string"].initialInputValue}function yE(r,e){var o;const n=Ja(r.type,r.metadata),t=Za(r.type,n),l=(o=n==null?void 0:n.type)!=null?o:"string",s=Qa[l].getDisplayFormatter(r,t);return(i,a)=>{var f;if(!a||e===void 0)return s(i);const u=(f=a.get(String(e)))==null?void 0:f.get(String(i));return u||s(i)}}const CE="filter-input";function Of(r,e){if("hasParams"in r){if(!r.hasParams)return e===void 0}else if(r.parameters.length===0)return e===void 0;return At(e)&&String(e)!==""}function Zre(r,e){return e!==void 0?yx(r):BI(r)}function Qre({tableOid:r,recordSelector:e}){return{launch:async()=>{const n=await e.acquireUserInput({tableOid:r});return{key:n.recordId,summary:n.recordSummary}},close:()=>e.cancel(),isOpen:()=>ve(e.isOpen)}}function xre({tableOid:r}){return()=>{const e=ko.getOrError();return Qre({recordSelector:e,tableOid:r})}}function $p(r){return r.type==="foreignkey"}function ele(r,e){return r.filter($p).filter(n=>n.columns.length===1&&n.columns.includes(e))}class Hc{constructor(e){te(this,"id");te(this,"column");te(this,"columnIndex");te(this,"tableOid");te(this,"relevantConstraints");te(this,"exclusiveConstraints");te(this,"sharedConstraints");te(this,"abstractType");te(this,"initialInputValue");te(this,"linkFk");te(this,"hasEnhancedPrimaryKeyCell");te(this,"cellComponentAndProps");te(this,"inputComponentAndProps");te(this,"simpleInputComponentAndProps");te(this,"allowedFiltersMap");te(this,"preprocFunctions");te(this,"formatCellValue");te(this,"currentRolePrivileges");te(this,"isEditable");var l,s;this.id=e.column.id,this.column=e.column,this.columnIndex=e.columnIndex,this.tableOid=e.tableOid,this.hasEnhancedPrimaryKeyCell=(l=e.hasEnhancedPrimaryKeyCell)!=null?l:!0,this.relevantConstraints=e.constraints.filter(o=>o.columns.includes(this.column.id)),this.exclusiveConstraints=this.relevantConstraints.filter(o=>o.columns.length===1),this.sharedConstraints=this.relevantConstraints.filter(o=>o.columns.length!==1),this.abstractType=ho(this.column.type,this.column.metadata),this.initialInputValue=kE(this.column,void 0,this.abstractType.cellInfo),[this.linkFk]=ele(this.exclusiveConstraints,this.column.id);const n=this.hasEnhancedPrimaryKeyCell&&this.column.primary_key,t=this.linkFk?this.linkFk.referent_table_oid:void 0;this.cellComponentAndProps=hp({cellInfo:this.abstractType.cellInfo,column:this.column,fkTargetTableId:t,pkTargetTableId:n?this.tableOid:void 0}),this.inputComponentAndProps=t?wE({recordSelectionOrchestratorFactory:xre({tableOid:t}),targetTableId:t}):Lc(this.column,this.abstractType.cellInfo),this.simpleInputComponentAndProps=(s=bp(this.column,this.abstractType.cellInfo))!=null?s:this.inputComponentAndProps,this.allowedFiltersMap=Zre(this.abstractType.identifier,this.linkFk),this.preprocFunctions=qI(this.abstractType.identifier),this.formatCellValue=yE(this.column,this.column.id),this.currentRolePrivileges=new Set(this.column.current_role_priv),this.isEditable=(()=>{var u;if(!this.currentRolePrivileges.has("UPDATE"))return!1;const i=!!((u=this.column.default)!=null&&u.is_dynamic);return this.column.primary_key?!this.hasEnhancedPrimaryKeyCell&&!i:!0})()}withoutEnhancedPkCell(){return new Hc({tableOid:this.tableOid,column:this.column,columnIndex:this.columnIndex,constraints:this.relevantConstraints,hasEnhancedPrimaryKeyCell:!1})}}function SE(r){return jr(r,Ln(e=>e.withoutEnhancedPkCell()),xP(e=>e.isEditable))}function tle(r,e,n,t,l){const{activeCellId:s}=r,o={cellCount:r.cellIds.size};if(s===void 0)return{selectionData:o};const{rowId:i,columnId:a}=nr(s),u=e.get(i),f=u==null?void 0:u.record[a],c=n.get(Number(a)),m=Rr(f,g=>{var h;return(h=t.get(a))==null?void 0:h.get(String(g))}),d=(()=>{var h,b;if(!((h=c==null?void 0:c.column.metadata)!=null&&h.file_backend))return;const g=po(f);if(!!g)return(b=l.get(String(c.id)))==null?void 0:b.get(g.mash)})();return{activeCellData:c&&{column:c,value:f,recordSummary:m,fileManifest:d},selectionData:o}}class vp{constructor(e){te(this,"database");te(this,"table");te(this,"meta");te(this,"columnsDataStore");te(this,"processedColumns");te(this,"constraintsDataStore");te(this,"recordsData");te(this,"display");te(this,"isLoading");te(this,"selection");te(this,"selectedCellData");te(this,"hasPrimaryKey");te(this,"canSelectRecords");te(this,"canInsertRecords");te(this,"canUpdateRecords");te(this,"canDeleteRecords");te(this,"canViewLinkedEntities",ar(!0));var l,s;this.database=e.database;const n=(l=e.contextualFilters)!=null?l:new Map;this.table=e.table,this.meta=(s=e.meta)!=null?s:new ki,this.columnsDataStore=new gI({database:e.database,table:this.table,hiddenColumns:n.keys()}),this.constraintsDataStore=new $Z({database:e.database,table:e.table}),this.recordsData=new JJ({database:e.database,table:e.table,meta:this.meta,columnsDataStore:this.columnsDataStore,contextualFilters:n,loadIntrinsicRecordSummaries:e.loadIntrinsicRecordSummaries}),this.display=new fZ({meta:this.meta,recordsData:this.recordsData}),this.table=e.table,this.processedColumns=et([this.columnsDataStore.columns,this.constraintsDataStore],([o,i])=>mI(new Map(o.map((a,u)=>[a.id,new Hc({tableOid:this.table.oid,column:a,columnIndex:u,constraints:i.constraints,hasEnhancedPrimaryKeyCell:e.hasEnhancedPrimaryKeyCell})])),this.table)),this.hasPrimaryKey=et(this.processedColumns,o=>[...o.values()].some(i=>i.column.primary_key)),this.canSelectRecords=et(this.table.currentAccess.currentRolePrivileges,o=>o.has("SELECT")),this.canInsertRecords=et([this.hasPrimaryKey,this.table.currentAccess.currentRolePrivileges],([o,i])=>o&&i.has("INSERT")),this.canUpdateRecords=et([this.hasPrimaryKey,this.table.currentAccess.currentRolePrivileges],([o,i])=>o&&i.has("UPDATE")),this.canDeleteRecords=et([this.hasPrimaryKey,this.table.currentAccess.currentRolePrivileges],([o,i])=>o&&i.has("DELETE"));const t=et([this.recordsData.selectableRowsMap,this.processedColumns,this.display.placeholderRowId],([o,i,a])=>{const u=new fi([...o.keys()]),f=[...i.values()],c=new fi(f.map(m=>String(m.id)));return new np(u,c,a)});this.selection=new yI(t),this.isLoading=et([this.columnsDataStore.fetchStatus,this.constraintsDataStore,this.recordsData.state],([o,i,a])=>(o==null?void 0:o.state)==="processing"||i.state===qn.Loading||a===qn.Loading),this.selectedCellData=et([this.selection,this.recordsData.selectableRowsMap,this.processedColumns,this.recordsData.linkedRecordSummaries,this.recordsData.fileManifests],o=>tle(...o)),this.columnsDataStore.on("columnRenamed",async()=>{await this.refresh()}),this.columnsDataStore.on("columnAdded",async()=>{await this.recordsData.fetch()}),this.columnsDataStore.on("columnDeleted",async o=>{this.meta.sorting.update(i=>i.without(o)),this.meta.grouping.update(i=>i.withoutColumns([o])),this.meta.filtering.update(i=>i.withoutColumns([o])),await this.constraintsDataStore.fetch()}),this.columnsDataStore.on("columnPatched",async()=>{await this.recordsData.fetch()}),this.constraintsDataStore.on("constraintAdded",async()=>{await this.recordsData.fetch()})}refresh(){return Promise.all([this.columnsDataStore.fetch(),this.recordsData.fetch(),this.constraintsDataStore.fetch()])}refreshAfterColumnExtraction(e,n){return this.meta.sorting.update(t=>{const l=e.find(s=>t.has(s));if(l&&n&&!t.has(n)){const s=t.get(l);return t.without(e).with(n,s!=null?s:"ASCENDING")}return t.without(e)}),this.meta.filtering.update(t=>t.withoutColumns(e)),this.meta.grouping.update(t=>e.some(s=>t.hasColumn(s))&&n&&!t.hasColumn(n)?t.withoutColumns(e).withEntry({columnId:n}):t.withoutColumns(e)),this.refresh()}getProcessedColumn(e){const n=parseInt(e,10);return ve(this.processedColumns).get(n)}getRecordIdFromRowId(e){const n=ve(this.recordsData.selectableRowsMap).get(e);if(!n)return;const t=ve(this.columnsDataStore.pkColumn);if(!!t)return n.record[t.id]}destroy(){this.recordsData.destroy(),this.constraintsDataStore.destroy(),this.columnsDataStore.destroy(),this.selection.destroy(),this.meta.destroy()}}const TE={};function wp(r){const e=Ue(r);return Fr(TE,e),e}function on(){return Wn(TE)}function nle(r){const e=r.schema.database.id,n=r.oid,t={database_id:e,table_oid:n};return new Tl(()=>K_([Ke.tables.get_with_metadata(t),Ke.columns.list_with_metadata(t),Ke.constraints.list(t),Ke.tables.list_joinable({...t,max_depth:1})]).transformResolved(([l,s,o,i])=>{const a=mI(new Map(s.map((u,f)=>[u.id,new Hc({tableOid:n,column:u,columnIndex:f,constraints:o})])),{metadata:l.metadata});return{table:new mp({schema:r.schema,rawTableWithMetadata:l}),processedColumns:a,constraints:o,linksInTable:Array.from(iI(i,new Map(s.map(u=>[u.id,u])))),linksToTable:Array.from(aI(i))}}))}class Ti{constructor(e){te(this,"oid");te(this,"processedColumns");te(this,"table");te(this,"constraints");te(this,"linksInTable");te(this,"linksToTable");te(this,"isLoading");te(this,"errors");te(this,"asyncStore");this.oid=e.oid,this.asyncStore=nle(e),this.asyncStore.run(),this.processedColumns=et(this.asyncStore,n=>{var t,l;return(l=(t=n.resolvedValue)==null?void 0:t.processedColumns)!=null?l:new Map}),this.isLoading=et(this.asyncStore,n=>n.isLoading),this.table=et(this.asyncStore,n=>{var t;return(t=n.resolvedValue)==null?void 0:t.table}),this.constraints=et(this.asyncStore,n=>{var t,l;return(l=(t=n.resolvedValue)==null?void 0:t.constraints)!=null?l:[]}),this.linksInTable=et(this.asyncStore,n=>{var t,l;return(l=(t=n.resolvedValue)==null?void 0:t.linksInTable)!=null?l:[]}),this.linksToTable=et(this.asyncStore,n=>{var t,l;return(l=(t=n.resolvedValue)==null?void 0:t.linksToTable)!=null?l:[]}),this.errors=et(this.asyncStore,n=>n.error?[n.error]:[])}async refetch(){return await this.asyncStore.run()}async getSubstanceOnceResolved(){return await this.asyncStore.getValueOnceResolved()}}function Ed(r,e=!1){return r=r.slice(r.startsWith("/#")?2:0,r.endsWith("/*")?-2:void 0),r.startsWith("/")||(r="/"+r),r==="/"&&(r=""),e&&!r.endsWith("/")&&(r+="/"),r}function IE(r,e){r=Ed(r,!0),e=Ed(e,!0);let n=[],t={},l=!0,s=r.split("/").map(i=>i.startsWith(":")?(n.push(i.slice(1)),"([^\\/]+)"):i).join("\\/"),o=e.match(new RegExp(`^${s}$`));return o||(l=!1,o=e.match(new RegExp(`^${s}`))),o?(n.forEach((i,a)=>t[i]=o[a+1]),{exact:l,params:t,part:o[0].slice(0,-1)}):null}function EE(r,e,n){if(n==="")return r;if(n[0]==="/")return n;let t=o=>o.split("/").filter(i=>i!==""),l=t(r),s=e?t(e):[];return"/"+s.map((o,i)=>l[i]).join("/")+"/"+n}function ta(r,e,n,t){let l=[e,"data-"+e].reduce((s,o)=>{let i=r.getAttribute(o);return n&&r.removeAttribute(o),i===null?s:i},!1);return!t&&l===""?!0:l||t||!1}function rle(r){let e=r.split("&").map(n=>n.split("=")).reduce((n,t)=>{let l=t[0];if(!l)return n;let s=t.length>1?t[t.length-1]:!0;return typeof s=="string"&&s.includes(",")&&(s=s.split(",")),n[l]===void 0?n[l]=[s]:n[l].push(s),n},{});return Object.entries(e).reduce((n,t)=>(n[t[0]]=t[1].length>1?t[1]:t[1][0],n),{})}function lle(r){return Object.entries(r).map(([e,n])=>n?n===!0?e:`${e}=${Array.isArray(n)?n.join(","):n}`:null).filter(e=>e).join("&")}function u$(r,e){return r?e+r:""}function ME(r){throw new Error("[Tinro] "+r)}var yl={HISTORY:1,HASH:2,MEMORY:3,OFF:4,run(r,e,n,t){return r===this.HISTORY?e&&e():r===this.HASH?n&&n():t&&t()},getDefault(){return!window||window.location.pathname==="srcdoc"?this.MEMORY:this.HISTORY}},kp,RE,DE,Ff="",kl=sle();function sle(){let r=yl.getDefault(),e,n=o=>window.onhashchange=window.onpopstate=kp=null,t=o=>e&&e(Sm(r)),l=o=>{o&&(r=o),n(),r!==yl.OFF&&yl.run(r,i=>window.onpopstate=t,i=>window.onhashchange=t)&&t()},s=o=>{let i=Object.assign(Sm(r),o);return i.path+u$(lle(i.query),"?")+u$(i.hash,"#")};return{mode:l,get:o=>Sm(r),go(o,i){ole(r,o,i),t()},start(o){e=o,l()},stop(){e=null,l(yl.OFF)},set(o){this.go(s(o),!o.path)},methods(){return ile(this)},base:o=>Ff=o}}function ole(r,e,n){!n&&(RE=DE);let t=l=>history[`${n?"replace":"push"}State`]({},"",l);yl.run(r,l=>t(Ff+e),l=>t(`#${e}`),l=>kp=e)}function Sm(r){let e=window.location,n=yl.run(r,l=>(Ff?e.pathname.replace(Ff,""):e.pathname)+e.search+e.hash,l=>String(e.hash.slice(1)||"/"),l=>kp||"/"),t=n.match(/^([^?#]+)(?:\?([^#]+))?(?:\#(.+))?$/);return DE=n,{url:n,from:RE,path:t[1]||"",query:rle(t[2]||""),hash:t[3]||""}}function ile(r){let e=()=>r.get().query,n=o=>r.set({query:o}),t=o=>n(o(e())),l=()=>r.get().hash,s=o=>r.set({hash:o});return{hash:{get:l,set:s,clear:()=>s("")},query:{replace:n,clear:()=>n(""),get(o){return o?e()[o]:e()},set(o,i){t(a=>(a[o]=i,a))},delete(o){t(i=>(i[o]&&delete i[o],i))}}}}var Un=ale();function ale(){let{subscribe:r}=Ue(kl.get(),e=>{kl.start(e);let n=ule(kl.go);return()=>{kl.stop(),n()}});return{subscribe:r,goto:kl.go,params:fle,meta:AE,useHashNavigation:e=>kl.mode(e?yl.HASH:yl.HISTORY),mode:{hash:()=>kl.mode(yl.HASH),history:()=>kl.mode(yl.HISTORY),memory:()=>kl.mode(yl.MEMORY)},base:kl.base,location:kl.methods()}}function Tm(r){let e,n,t,l,s=()=>{e=ta(r,"href").replace(/^\/#|[?#].*$|\/$/g,""),n=ta(r,"exact",!0),t=ta(r,"active-class",!0,"active")},o=()=>{let i=IE(e,l);i&&(i.exact&&n||!n)?r.classList.add(t):r.classList.remove(t)};return s(),{destroy:Un.subscribe(i=>{l=i.path,o()}),update:()=>{s(),o()}}}function ule(r){let e=n=>{let t=n.target.closest("a[href]"),l=t&&ta(t,"target",!1,"_self"),s=t&&ta(t,"tinro-ignore"),o=n.ctrlKey||n.metaKey||n.altKey||n.shiftKey;if(l=="_self"&&!s&&!o&&t){let i=t.getAttribute("href").replace(/^\/#/,"");/^\/\/|^#|^[a-zA-Z]+:/.test(i)||(n.preventDefault(),r(i.startsWith("/")?i:t.href.replace(window.location.origin,"")))}};return addEventListener("click",e),()=>removeEventListener("click",e)}function fle(){return Wn("tinro").meta.params}var Nf="tinro",cle=OE({pattern:"",matched:!0});function mle(r){let e=Wn(Nf)||cle;(e.exact||e.fallback)&&ME(`${r.fallback?"<Route fallback>":`<Route path="${r.path}">`}  can't be inside ${e.fallback?"<Route fallback>":`<Route path="${e.path||"/"}"> with exact path`}`);let n=r.fallback?"fallbacks":"childs",t=Ue({}),l=OE({fallback:r.fallback,parent:e,update(s){l.exact=!s.path.endsWith("/*"),l.pattern=Ed(`${l.parent.pattern||""}${s.path}`),l.redirect=s.redirect,l.firstmatch=s.firstmatch,l.breadcrumb=s.breadcrumb,l.match()},register:()=>(l.parent[n].add(l),async()=>{l.parent[n].delete(l),l.parent.activeChilds.delete(l),l.router.un&&l.router.un(),l.parent.match()}),show:()=>{r.onShow(),!l.fallback&&l.parent.activeChilds.add(l)},hide:()=>{r.onHide(),l.parent.activeChilds.delete(l)},match:async()=>{l.matched=!1;let{path:s,url:o,from:i,query:a}=l.router.location,u=IE(l.pattern,s);if(!l.fallback&&u&&l.redirect&&(!l.exact||l.exact&&u.exact)){let f=EE(s,l.parent.pattern,l.redirect);return Un.goto(f,!0)}l.meta=u&&{from:i,url:o,query:a,match:u.part,pattern:l.pattern,breadcrumbs:l.parent.meta&&l.parent.meta.breadcrumbs.slice()||[],params:u.params,subscribe:t.subscribe},l.breadcrumb&&l.meta&&l.meta.breadcrumbs.push({name:l.breadcrumb,path:u.part}),t.set(l.meta),u&&!l.fallback&&(!l.exact||l.exact&&u.exact)&&(!l.parent.firstmatch||!l.parent.matched)?(r.onMeta(l.meta),l.parent.matched=!0,l.show()):l.hide(),u&&l.showFallbacks()}});return Fr(Nf,l),tn(()=>l.register()),l}function AE(){return uS(Nf)?Wn(Nf).meta:ME("meta() function must be run inside any `<Route>` child component only")}function OE(r){let e={router:{},exact:!1,pattern:null,meta:null,parent:null,fallback:!1,redirect:!1,firstmatch:!1,breadcrumb:null,matched:!1,childs:new Set,activeChilds:new Set,fallbacks:new Set,async showFallbacks(){if(!this.fallback&&(await sn(),this.childs.size>0&&this.activeChilds.size==0||this.childs.size==0&&this.fallbacks.size>0)){let n=this;for(;n.fallbacks.size==0;)if(n=n.parent,!n)return;n&&n.fallbacks.forEach(t=>{if(t.redirect){let l=EE("/",t.parent.pattern,t.redirect);Un.goto(l,!0)}else t.show()})}},start(){this.router.un||(this.router.un=Un.subscribe(n=>{this.router.location=n,this.pattern!==null&&this.match()}))},match(){this.showFallbacks()}};return Object.assign(e,r),e.start(),e}const dle=r=>({params:r&2,meta:r&4}),f$=r=>({params:r[1],meta:r[2]});function c$(r){let e;const n=r[9].default,t=ke(n,r,r[8],f$);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&262)&&Ce(t,n,l,l[8],e?ye(n,l[8],s,dle):Se(l[8]),f$)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function _le(r){let e,n,t=r[0]&&c$(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,[s]){l[0]?t?(t.p(l,s),s&1&&_(t,1)):(t=c$(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function ple(r,e,n){let{$$slots:t={},$$scope:l}=e,{path:s="/*"}=e,{fallback:o=!1}=e,{redirect:i=!1}=e,{firstmatch:a=!1}=e,{breadcrumb:u=null}=e,f=!1,c={},m={};const d=mle({fallback:o,onShow(){n(0,f=!0)},onHide(){n(0,f=!1)},onMeta(g){n(2,m=g),n(1,c=m.params)}});return r.$$set=g=>{"path"in g&&n(3,s=g.path),"fallback"in g&&n(4,o=g.fallback),"redirect"in g&&n(5,i=g.redirect),"firstmatch"in g&&n(6,a=g.firstmatch),"breadcrumb"in g&&n(7,u=g.breadcrumb),"$$scope"in g&&n(8,l=g.$$scope)},r.$$.update=()=>{r.$$.dirty&232&&d.update({path:s,redirect:i,firstmatch:a,breadcrumb:u})},[f,c,m,s,o,i,a,u,l,t]}class en extends Q{constructor(e){super(),Z(this,e,ple,_le,J,{path:3,fallback:4,redirect:5,firstmatch:6,breadcrumb:7})}}function gle(r){let e;const n=r[1].default,t=ke(n,r,r[2],null);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&4)&&Ce(t,n,l,l[2],e?ye(n,l[2],s,null):Se(l[2]),null)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function hle(r){let e,n,t;const l=[r[0],{icon:il}];let s={$$slots:{default:[gle]},$$scope:{ctx:r}};for(let o=0;o<l.length;o+=1)s=se(s,l[o]);return n=new Ac({props:s}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","warning-box svelte-ikukal")},m(o,i){v(o,e,i),k(n,e,null),t=!0},p(o,[i]){const a=i&1?de(l,[i&1&&_e(o[0]),i&0&&{icon:il}]):{};i&4&&(a.$$scope={dirty:i,ctx:o}),n.$set(a)},i(o){t||(_(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&$(e),y(n)}}}function ble(r,e,n){const t=[];let l=We(e,t),{$$slots:s={},$$scope:o}=e;return r.$$set=i=>{e=se(se({},e),pt(i)),n(0,l=We(e,t)),"$$scope"in i&&n(2,o=i.$$scope)},[l,s,o]}class ur extends Q{constructor(e){super(),Z(this,e,ble,hle,J,{})}}function $le(r){let e=r[4]("go_to_page")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&16&&e!==(e=t[4]("go_to_page")+"")&&z(n,e)},d(t){t&&$(n)}}}function vle(r){let e=r[4]("go")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&16&&e!==(e=t[4]("go")+"")&&z(n,e)},d(t){t&&$(n)}}}function wle(r){let e,n,t,l,s,o;function i(f){r[9](f)}function a(f){r[10](f)}let u={labelController:r[5]};return r[1]!==void 0&&(u.value=r[1]),r[2]!==void 0&&(u.element=r[2]),e=new dc({props:u}),we.push(()=>Me(e,"value",i)),we.push(()=>Me(e,"element",a)),s=new st({props:{appearance:"primary",type:"submit",$$slots:{default:[vle]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),l=N(),C(s.$$.fragment)},m(f,c){k(e,f,c),v(f,l,c),k(s,f,c),o=!0},p(f,c){const m={};!n&&c&2&&(n=!0,m.value=f[1],De(()=>n=!1)),!t&&c&4&&(t=!0,m.element=f[2],De(()=>t=!1)),e.$set(m);const d={};c&4112&&(d.$$scope={dirty:c,ctx:f}),s.$set(d)},i(f){o||(_(e.$$.fragment,f),_(s.$$.fragment,f),o=!0)},o(f){p(e.$$.fragment,f),p(s.$$.fragment,f),o=!1},d(f){y(e,f),f&&$(l),y(s,f)}}}function kle(r){let e,n,t,l,s,o,i,a=r[4]("total_pages")+"",u,f,c=r[6].format(r[3])+"",m,d,g,h;return n=new Fs({props:{controller:r[5],$$slots:{default:[$le]},$$scope:{ctx:r}}}),s=new Va({props:{$$slots:{default:[wle]},$$scope:{ctx:r}}}),{c(){e=E("form"),C(n.$$.fragment),t=N(),l=E("div"),C(s.$$.fragment),o=N(),i=E("div"),u=L(a),f=L(": "),m=L(c),I(l,"class","input svelte-p1o06"),I(i,"class","help svelte-p1o06")},m(b,w){v(b,e,w),k(n,e,null),R(e,t),R(e,l),k(s,l,null),v(b,o,w),v(b,i,w),R(i,u),R(i,f),R(i,m),d=!0,g||(h=He(e,"submit",r[11]),g=!0)},p(b,[w]){const S={};w&4112&&(S.$$scope={dirty:w,ctx:b}),n.$set(S);const T={};w&4118&&(T.$$scope={dirty:w,ctx:b}),s.$set(T),(!d||w&16)&&a!==(a=b[4]("total_pages")+"")&&z(u,a),(!d||w&8)&&c!==(c=b[6].format(b[3])+"")&&z(m,c)},i(b){d||(_(n.$$.fragment,b),_(s.$$.fragment,b),d=!0)},o(b){p(n.$$.fragment,b),p(s.$$.fragment,b),d=!1},d(b){b&&$(e),y(n),y(s),b&&$(o),b&&$(i),g=!1,h()}}}function yle(r,e,n){let t,l;ne(r,ce,h=>n(4,l=h));const s=new Os,o=new Intl.NumberFormat;let{pagination:i}=e,{recordCount:a}=e,{goToPage:u}=e,{page:f}=i,c;tn(()=>{c.focus(),c.select()});function m(h){f=h,n(1,f)}function d(h){c=h,n(2,c)}const g=()=>u(f);return r.$$set=h=>{"pagination"in h&&n(7,i=h.pagination),"recordCount"in h&&n(8,a=h.recordCount),"goToPage"in h&&n(0,u=h.goToPage)},r.$$.update=()=>{r.$$.dirty&384&&n(3,t=i.getMaxPage(a))},[u,f,c,t,l,s,o,i,a,m,d,g]}class Cle extends Q{constructor(e){super(),Z(this,e,yle,kle,J,{pagination:7,recordCount:8,goToPage:0})}}function m$(r){let e,n;return e=new st({props:{appearance:"ghost",class:"padding-zero",tooltip:r[6]("previous_page"),$$slots:{default:[Sle]},$$scope:{ctx:r}}}),e.$on("click",r[8]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&64&&(s.tooltip=t[6]("previous_page")),l&32768&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Sle(r){let e,n,t;const l=[nf];let s={};for(let o=0;o<l.length;o+=1)s=se(s,l[o]);return n=new Ne({props:s}),{c(){e=E("span"),C(n.$$.fragment),I(e,"class","button svelte-ngmyzs")},m(o,i){v(o,e,i),k(n,e,null),t=!0},p(o,i){const a=i&0?de(l,[_e(nf)]):{};n.$set(a)},i(o){t||(_(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&$(e),y(n)}}}function Tle(r){let e,n=r[6]("page_number",{values:{pageNumber:r[3]}})+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","trigger"),I(e,"class","button svelte-ngmyzs")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&72&&n!==(n=l[6]("page_number",{values:{pageNumber:l[3]}})+"")&&z(t,n)},d(l){l&&$(e)}}}function Ile(r){let e,n,t;function l(...s){return r[11](r[14],...s)}return n=new Cle({props:{pagination:r[0],recordCount:r[2],goToPage:l}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"slot","content"),I(e,"class","detail svelte-ngmyzs")},m(s,o){v(s,e,o),k(n,e,null),t=!0},p(s,o){r=s;const i={};o&1&&(i.pagination=r[0]),o&4&&(i.recordCount=r[2]),o&16384&&(i.goToPage=l),n.$set(i)},i(s){t||(_(n.$$.fragment,s),t=!0)},o(s){p(n.$$.fragment,s),t=!1},d(s){s&&$(e),y(n)}}}function Ele(r){let e,n,t;const l=[Qo];let s={};for(let o=0;o<l.length;o+=1)s=se(s,l[o]);return n=new Ne({props:s}),{c(){e=E("span"),C(n.$$.fragment),I(e,"class","button svelte-ngmyzs")},m(o,i){v(o,e,i),k(n,e,null),t=!0},p(o,i){const a=i&0?de(l,[_e(Qo)]):{};n.$set(a)},i(o){t||(_(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&$(e),y(n)}}}function Mle(r){let e,n,t,l,s,o,i,a=r[5]&&m$(r);function u(c){r[12](c)}let f={showArrow:!1,triggerAppearance:"ghost",triggerClass:"padding-zero",placements:["bottom","bottom-end","bottom-start","left","top"],closeOnInnerClick:!1,$$slots:{content:[Ile,({close:c})=>({14:c}),({close:c})=>c?16384:0],trigger:[Tle]},$$scope:{ctx:r}};return r[1]!==void 0&&(f.isOpen=r[1]),t=new Nl({props:f}),we.push(()=>Me(t,"isOpen",u)),t.$on("open",Rle),o=new st({props:{appearance:"ghost",class:"padding-zero",disabled:!r[4],tooltip:r[6]("next_page"),$$slots:{default:[Ele]},$$scope:{ctx:r}}}),o.$on("click",r[9]),{c(){e=E("div"),a&&a.c(),n=N(),C(t.$$.fragment),s=N(),C(o.$$.fragment),I(e,"class","mini-pagination svelte-ngmyzs")},m(c,m){v(c,e,m),a&&a.m(e,null),R(e,n),k(t,e,null),R(e,s),k(o,e,null),i=!0},p(c,[m]){c[5]?a?(a.p(c,m),m&32&&_(a,1)):(a=m$(c),a.c(),_(a,1),a.m(e,n)):a&&(U(),p(a,1,1,()=>{a=null}),W());const d={};m&49229&&(d.$$scope={dirty:m,ctx:c}),!l&&m&2&&(l=!0,d.isOpen=c[1],De(()=>l=!1)),t.$set(d);const g={};m&16&&(g.disabled=!c[4]),m&64&&(g.tooltip=c[6]("next_page")),m&32768&&(g.$$scope={dirty:m,ctx:c}),o.$set(g)},i(c){i||(_(a),_(t.$$.fragment,c),_(o.$$.fragment,c),i=!0)},o(c){p(a),p(t.$$.fragment,c),p(o.$$.fragment,c),i=!1},d(c){c&&$(e),a&&a.d(),y(t),y(o)}}}function Rle(){}function Dle(r,e,n){let t,l,s,o,i;ne(r,ce,w=>n(6,i=w));let{pagination:a}=e,{recordCount:u}=e,{pageJumperIsOpen:f=!1}=e;const c=Et();function m(w){const S=Math.max(Math.min(w,l),1);n(0,a=new Or({size:a.size,page:S})),c("change",a)}function d(){m(t-1)}function g(){m(t+1)}const h=(w,S)=>{m(S),w()};function b(w){f=w,n(1,f)}return r.$$set=w=>{"pagination"in w&&n(0,a=w.pagination),"recordCount"in w&&n(2,u=w.recordCount),"pageJumperIsOpen"in w&&n(1,f=w.pageJumperIsOpen)},r.$$.update=()=>{r.$$.dirty&1&&n(3,{page:t}=a,t),r.$$.dirty&5&&n(10,l=a.getMaxPage(u)),r.$$.dirty&8&&n(5,s=t>1),r.$$.dirty&1032&&n(4,o=t<l)},[a,f,u,t,o,s,i,m,d,g,l,h,b]}class FE extends Q{constructor(e){super(),Z(this,e,Dle,Mle,J,{pagination:0,recordCount:2,pageJumperIsOpen:1})}}function Ale(){return{hasOverflowTop:Ue(!1),hasOverflowLeft:Ue(!1),hasOverflowBottom:Ue(!1),hasOverflowRight:Ue(!1)}}function Ole(r,e){const{hasOverflowTop:n,hasOverflowLeft:t,hasOverflowBottom:l,hasOverflowRight:s}=e;function o(){const{scrollTop:a,scrollLeft:u,scrollHeight:f,scrollWidth:c,clientHeight:m,clientWidth:d}=r;n.set(a>0),t.set(u>0),l.set(Math.abs(f-m-a)>1),s.set(Math.abs(c-d-u)>1)}r.addEventListener("scroll",o);const i=new ResizeObserver(o);return i.observe(r),{destroy:()=>{r.removeEventListener("scroll",o),i.disconnect()}}}function Fle(r){let e,n;const t=r[10].default,l=ke(t,r,r[9],null);return{c(){e=E("div"),l&&l.c(),I(e,"class","td svelte-aeg8x2"),ie(e,"column-header",r[0]==="columnHeaderRow"),ie(e,"row-header",r[2]==="rowHeaderColumn"),ie(e,"row-is-selected",r[1]),ie(e,"table-overflow-top",r[6]),ie(e,"table-overflow-left",r[7]),ie(e,"show-above-overlay",r[3])},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,[o]){l&&l.p&&(!n||o&512)&&Ce(l,t,s,s[9],n?ye(t,s[9],o,null):Se(s[9]),null),(!n||o&1)&&ie(e,"column-header",s[0]==="columnHeaderRow"),(!n||o&4)&&ie(e,"row-header",s[2]==="rowHeaderColumn"),(!n||o&2)&&ie(e,"row-is-selected",s[1]),(!n||o&64)&&ie(e,"table-overflow-top",s[6]),(!n||o&128)&&ie(e,"table-overflow-left",s[7]),(!n||o&8)&&ie(e,"show-above-overlay",s[3])},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function Nle(r,e,n){let t,l,s,o=H,i=()=>(o(),o=le(t,S=>n(6,s=S)),t),a,u=H,f=()=>(u(),u=le(l,S=>n(7,a=S)),l);r.$$.on_destroy.push(()=>o()),r.$$.on_destroy.push(()=>u());let{$$slots:c={},$$scope:m}=e,{rowType:d}=e,{rowIsSelected:g=!1}=e,{columnType:h}=e,{overflowDetails:b=void 0}=e,{showAboveOverlay:w=!1}=e;return r.$$set=S=>{"rowType"in S&&n(0,d=S.rowType),"rowIsSelected"in S&&n(1,g=S.rowIsSelected),"columnType"in S&&n(2,h=S.columnType),"overflowDetails"in S&&n(8,b=S.overflowDetails),"showAboveOverlay"in S&&n(3,w=S.showAboveOverlay),"$$scope"in S&&n(9,m=S.$$scope)},r.$$.update=()=>{var S,T;r.$$.dirty&256&&i(n(5,t=Nn((S=b==null?void 0:b.hasOverflowTop)!=null?S:!1))),r.$$.dirty&256&&f(n(4,l=Nn((T=b==null?void 0:b.hasOverflowLeft)!=null?T:!1)))},[d,g,h,w,l,t,s,a,b,m,c]}class Vc extends Q{constructor(e){super(),Z(this,e,Nle,Fle,J,{rowType:0,rowIsSelected:1,columnType:2,overflowDetails:8,showAboveOverlay:3})}}function Ple(r){let e,n,t,l;const s=[r[3],r[2]];function o(u){r[4](u)}var i=r[1].component;function a(u){let f={};for(let c=0;c<s.length;c+=1)f=se(f,s[c]);return u[0]!==void 0&&(f.value=u[0]),{props:f}}return i&&(e=new i(a(r)),we.push(()=>Me(e,"value",o)),e.$on("input",r[5]),e.$on("artificialInput",r[6]),e.$on("change",r[7]),e.$on("artificialChange",r[8]),e.$on("focus",r[9]),e.$on("blur",r[10]),e.$on("recordSelectorOpen",r[11]),e.$on("recordSelectorCancel",r[12]),e.$on("recordSelectorSubmit",r[13])),{c(){e&&C(e.$$.fragment),t=ae()},m(u,f){e&&k(e,u,f),v(u,t,f),l=!0},p(u,[f]){const c=f&12?de(s,[f&8&&_e(u[3]),f&4&&_e(u[2])]):{};if(!n&&f&1&&(n=!0,c.value=u[0],De(()=>n=!1)),i!==(i=u[1].component)){if(e){U();const m=e;p(m.$$.fragment,1,0,()=>{y(m,1)}),W()}i?(e=new i(a(u)),we.push(()=>Me(e,"value",o)),e.$on("input",u[5]),e.$on("artificialInput",u[6]),e.$on("change",u[7]),e.$on("artificialChange",u[8]),e.$on("focus",u[9]),e.$on("blur",u[10]),e.$on("recordSelectorOpen",u[11]),e.$on("recordSelectorCancel",u[12]),e.$on("recordSelectorSubmit",u[13]),C(e.$$.fragment),_(e.$$.fragment,1),k(e,t.parentNode,t)):e=null}else i&&e.$set(c)},i(u){l||(e&&_(e.$$.fragment,u),l=!0)},o(u){e&&p(e.$$.fragment,u),l=!1},d(u){u&&$(t),e&&y(e,u)}}}function Lle(r,e,n){let t;const l=["value","componentAndProps"];let s=We(e,l),{value:o}=e,{componentAndProps:i}=e;function a(S){o=S,n(0,o)}function u(S){Re.call(this,r,S)}function f(S){Re.call(this,r,S)}function c(S){Re.call(this,r,S)}function m(S){Re.call(this,r,S)}function d(S){Re.call(this,r,S)}function g(S){Re.call(this,r,S)}function h(S){Re.call(this,r,S)}function b(S){Re.call(this,r,S)}function w(S){Re.call(this,r,S)}return r.$$set=S=>{e=se(se({},e),pt(S)),n(3,s=We(e,l)),"value"in S&&n(0,o=S.value),"componentAndProps"in S&&n(1,i=S.componentAndProps)},r.$$.update=()=>{r.$$.dirty&2&&n(2,t=i.props)},[o,i,t,s,a,u,f,c,m,d,g,h,b,w]}class lu extends Q{constructor(e){super(),Z(this,e,Lle,Ple,J,{value:0,componentAndProps:1})}}function Hle(r,e="_"){let n;const t=`${e}\\d{1,15}$`;return[r.replace(new RegExp(t),s=>(n=parseInt(s.slice(1),10),"")),n]}function Ms(r,e){if(!e.has(r))return r;const[n,t]=Hle(r);let l=(t!=null?t:0)+1;function s(){return`${n}_${l}`}let o=s();for(;e.has(o);)l+=1,o=s();return o}function Vle(r){var e,n;return(e=r.constraintsType)!=null&&e.includes("primary")?ba:(n=r.constraintsType)!=null&&n.includes("foreignkey")?hf:ho(r.type,r.metadata).getIcon({dbType:r.type,typeOptions:r.type_options,metadata:r.metadata})}function Gi(r,e=[{name:"id"}]){const n=new Set(e.map(t=>t.name));return r?Ms(SI(r.name),n):""}function Pf(r){const e="A column with that name already exists";return Dc(r.map(n=>n.name),e)}function Sa(r,e){var l,s;const n=e.get(r);return Array.from(new Set([...(l=n==null?void 0:n.exclusiveConstraints)!=null?l:[],...(s=n==null?void 0:n.sharedConstraints)!=null?s:[]].filter(o=>!!o).map(o=>o.type)))}function zle(r,e){var l,s;const t=Object.keys({precision:null,scale:null,length:null,fields:null,item_type:null});for(const o of t)if(((l=r[o])!=null?l:null)!==((s=e[o])!=null?s:null))return!1;return!0}function Ble(r){let e=r[0].name+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1&&e!==(e=t[0].name+"")&&z(n,e)},d(t){t&&$(n)}}}function qle(r){let e,n;const t=[{icon:r[1]},r[2],{cssVariables:{"--icon-color":"var(--color-column)"}}];let l={$$slots:{default:[Ble]},$$scope:{ctx:r}};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Qn({props:l}),e.$on("click",r[3]),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,[o]){const i=o&6?de(t,[o&2&&{icon:s[1]},o&4&&_e(s[2]),t[2]]):{};o&17&&(i.$$scope={dirty:o,ctx:s}),e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function Ule(r,e,n){let t;const l=["column"];let s=We(e,l),{column:o}=e;function i(a){Re.call(this,r,a)}return r.$$set=a=>{e=se(se({},e),pt(a)),n(2,s=We(e,l)),"column"in a&&n(0,o=a.column)},r.$$.update=()=>{r.$$.dirty&1&&n(1,t=Vle(o))},[o,t,s,i]}class Gn extends Q{constructor(e){super(),Z(this,e,Ule,qle,J,{column:0})}}function Wle(r){let e,n;const t=[{column:r[0]},r[1]];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Gn({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,[o]){const i=o&3?de(t,[o&1&&{column:s[0]},o&2&&_e(s[1])]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function jle(r){return{...r.column,constraintsType:r.linkFk?[r.linkFk.type]:void 0}}function Yle(r,e,n){let t;const l=["processedColumn"];let s=We(e,l),{processedColumn:o}=e;return r.$$set=i=>{e=se(se({},e),pt(i)),n(1,s=We(e,l)),"processedColumn"in i&&n(2,o=i.processedColumn)},r.$$.update=()=>{r.$$.dirty&4&&n(0,t=jle(o))},[t,s,o]}class cs extends Q{constructor(e){super(),Z(this,e,Yle,Wle,J,{processedColumn:2})}}function Gle(r){let e,n;return e=new cs({props:{processedColumn:r[0]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.processedColumn=t[0]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Kle(r){let e,n;function t(...i){return r[16](r[27],...i)}function l(...i){return r[17](r[27],...i)}function s(...i){return r[18](r[27],...i)}function o(...i){return r[19](r[27],...i)}return e=new lu({props:{class:"record-selector-input column-"+r[5].id,componentAndProps:r[0].simpleInputComponentAndProps,value:r[6],recordSummary:r[9],labelController:r[10],setRecordSummary:r[15],disabled:r[0].abstractType.identifier==="file"}}),e.$on("input",t),e.$on("artificialInput",l),e.$on("change",s),e.$on("artificialChange",o),e.$on("focus",r[20]),e.$on("blur",r[21]),e.$on("recordSelectorOpen",r[22]),e.$on("recordSelectorSubmit",r[23]),e.$on("recordSelectorCancel",r[24]),{c(){C(e.$$.fragment)},m(i,a){k(e,i,a),n=!0},p(i,a){r=i;const u={};a&32&&(u.class="record-selector-input column-"+r[5].id),a&1&&(u.componentAndProps=r[0].simpleInputComponentAndProps),a&64&&(u.value=r[6]),a&512&&(u.recordSummary=r[9]),a&36&&(u.setRecordSummary=r[15]),a&1&&(u.disabled=r[0].abstractType.identifier==="file"),e.$set(u)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){p(e.$$.fragment,i),n=!1},d(i){y(e,i)}}}function d$(r){let e;return{c(){e=E("div"),I(e,"class","overlay svelte-cmwuim")},m(n,t){v(n,e,t)},d(n){n&&$(e)}}}function Xle(r){let e,n,t,l,s,o,i,a,u,f;n=new Fs({props:{controller:r[10],$$slots:{default:[Gle]},$$scope:{ctx:r}}}),a=new GB({props:{$$slots:{default:[Kle,({handleNewValue:m})=>({27:m}),({handleNewValue:m})=>m?134217728:0]},$$scope:{ctx:r}}}),a.$on("artificialChange",r[11]);let c=r[3]&&d$();return{c(){e=E("div"),C(n.$$.fragment),t=N(),l=E("div"),s=E("div"),o=L(r[8]),i=N(),C(a.$$.fragment),u=N(),c&&c.c(),I(s,"class","search-value svelte-cmwuim"),I(l,"class","input-wrapper"),I(e,"class","column-header-cell svelte-cmwuim"),ie(e,"has-nested-selector-open",r[3])},m(m,d){v(m,e,d),k(n,e,null),R(e,t),R(e,l),R(l,s),R(s,o),R(l,i),k(a,l,null),r[25](l),R(e,u),c&&c.m(e,null),f=!0},p(m,d){const g={};d&268435457&&(g.$$scope={dirty:d,ctx:m}),n.$set(g),(!f||d&256)&&z(o,m[8]);const h={};d&402653797&&(h.$$scope={dirty:d,ctx:m}),a.$set(h),m[3]?c||(c=d$(),c.c(),c.m(e,null)):c&&(c.d(1),c=null),(!f||d&8)&&ie(e,"has-nested-selector-open",m[3])},i(m){f||(_(n.$$.fragment,m),_(a.$$.fragment,m),f=!0)},o(m){p(n.$$.fragment,m),p(a.$$.fragment,m),f=!1},d(m){m&&$(e),y(n),y(a),r[25](null),c&&c.d()}}}function Jle(r){let e,n;return e=new Vc({props:{rowType:"columnHeaderRow",columnType:"dataColumn",overflowDetails:r[4],showAboveOverlay:r[3],$$slots:{default:[Xle]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&16&&(s.overflowDetails=t[4]),l&8&&(s.showAboveOverlay=t[3]),l&268436461&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Zle(r,e,n){let t,l,s,o,i=H,a=()=>(i(),i=le(h,x=>n(13,o=x)),h),u,f=H,c=()=>(f(),f=le(g,x=>n(14,u=x)),g);r.$$.on_destroy.push(()=>i()),r.$$.on_destroy.push(()=>f());const m=new Os;let{processedColumn:d}=e,{searchFuzzy:g}=e;c();let{recordSummaryStore:h}=e;a();let{hasNestedSelectorOpen:b}=e,{overflowDetails:w=void 0}=e,S,T="",M;function A(x){const X=x.detail;g.update(fe=>fe.with(t.id,X))}async function D(){var x;await sn(),n(8,T=(x=M==null?void 0:M.value)!=null?x:"")}tn(()=>{M=S.querySelector("input[type=text], textarea")});const O=(x,X)=>h.addBespokeValue({columnId:String(t.id),key:x,value:X}),F=(x,X)=>{D(),x({value:Gm(X),debounce:!0})},P=(x,X)=>{D(),x({value:W1(X),debounce:!0})},B=(x,X)=>x({value:Gm(X),debounce:!1}),j=(x,X)=>x({value:W1(X),debounce:!1});function V(x){Re.call(this,r,x)}function q(x){Re.call(this,r,x)}function G(x){Re.call(this,r,x)}function Y(x){Re.call(this,r,x)}function K(x){Re.call(this,r,x)}function ee(x){we[x?"unshift":"push"](()=>{S=x,n(7,S)})}return r.$$set=x=>{"processedColumn"in x&&n(0,d=x.processedColumn),"searchFuzzy"in x&&c(n(1,g=x.searchFuzzy)),"recordSummaryStore"in x&&a(n(2,h=x.recordSummaryStore)),"hasNestedSelectorOpen"in x&&n(3,b=x.hasNestedSelectorOpen),"overflowDetails"in x&&n(4,w=x.overflowDetails)},r.$$.update=()=>{var x;r.$$.dirty&1&&n(5,{column:t}=d,t),r.$$.dirty&16416&&n(6,l=u.get(t.id)),r.$$.dirty&8288&&n(9,s=(x=o.get(String(t.id)))==null?void 0:x.get(String(l)))},[d,g,h,b,w,t,l,S,T,s,m,A,D,o,u,O,F,P,B,j,V,q,G,Y,K,ee]}class Qle extends Q{constructor(e){super(),Z(this,e,Zle,Jle,J,{processedColumn:0,searchFuzzy:1,recordSummaryStore:2,hasNestedSelectorOpen:3,overflowDetails:4})}}function xle(r){let e,n,t,l,s,o,i;const a=[r[17],{columnFabric:r[1]},{isActive:r[7]},{disabled:r[8]},{isIndependentOfSheet:r[13]},{horizontalAlignment:r[10]},{recordSummary:r[2]},{setRecordSummary:r[6]},{fileManifest:r[3]},{setFileManifest:r[4]},{fileRequestParams:r[5]},{searchValue:r[11]},{isProcessing:r[12]},{showTruncationPopover:r[14]},{canViewLinkedEntities:r[15]}];function u(m){r[20](m)}var f=r[18];function c(m){let d={};for(let g=0;g<a.length;g+=1)d=se(d,a[g]);return m[0]!==void 0&&(d.value=m[0]),{props:d}}return f&&(n=new f(c(r)),we.push(()=>Me(n,"value",u)),n.$on("movementKeyDown",r[21]),n.$on("update",r[22])),{c(){e=E("div"),n&&C(n.$$.fragment),l=N(),s=E("div"),s.innerHTML='<div class="bg svelte-r0s91c"></div>',I(s,"class","loader svelte-r0s91c"),I(e,"class","cell-fabric svelte-r0s91c"),I(e,"data-column-identifier",o=r[1].id),ie(e,"show-as-skeleton",r[9]),ie(e,"is-independent",r[13]),ie(e,"light-text",r[16])},m(m,d){v(m,e,d),n&&k(n,e,null),R(e,l),R(e,s),i=!0},p(m,[d]){const g=d&196094?de(a,[d&131072&&_e(m[17]),d&2&&{columnFabric:m[1]},d&128&&{isActive:m[7]},d&256&&{disabled:m[8]},d&8192&&{isIndependentOfSheet:m[13]},d&1024&&{horizontalAlignment:m[10]},d&4&&{recordSummary:m[2]},d&64&&{setRecordSummary:m[6]},d&8&&{fileManifest:m[3]},d&16&&{setFileManifest:m[4]},d&32&&{fileRequestParams:m[5]},d&2048&&{searchValue:m[11]},d&4096&&{isProcessing:m[12]},d&16384&&{showTruncationPopover:m[14]},d&32768&&{canViewLinkedEntities:m[15]}]):{};if(!t&&d&1&&(t=!0,g.value=m[0],De(()=>t=!1)),f!==(f=m[18])){if(n){U();const h=n;p(h.$$.fragment,1,0,()=>{y(h,1)}),W()}f?(n=new f(c(m)),we.push(()=>Me(n,"value",u)),n.$on("movementKeyDown",m[21]),n.$on("update",m[22]),C(n.$$.fragment),_(n.$$.fragment,1),k(n,e,l)):n=null}else f&&n.$set(g);(!i||d&2&&o!==(o=m[1].id))&&I(e,"data-column-identifier",o),(!i||d&512)&&ie(e,"show-as-skeleton",m[9]),(!i||d&8192)&&ie(e,"is-independent",m[13]),(!i||d&65536)&&ie(e,"light-text",m[16])},i(m){i||(n&&_(n.$$.fragment,m),i=!0)},o(m){n&&p(n.$$.fragment,m),i=!1},d(m){m&&$(e),n&&y(n)}}}function ese(r,e,n){let t,l,s,{columnFabric:o}=e,{value:i}=e,{recordSummary:a=void 0}=e,{fileManifest:u=void 0}=e,{setFileManifest:f=void 0}=e,{fileRequestParams:c=void 0}=e,{setRecordSummary:m=void 0}=e,{isActive:d=!1}=e,{disabled:g=!1}=e,{showAsSkeleton:h=!1}=e,{horizontalAlignment:b=void 0}=e,{searchValue:w=void 0}=e,{isProcessing:S=!1}=e,{isIndependentOfSheet:T=!1}=e,{showTruncationPopover:M=!1}=e,{canViewLinkedEntities:A=!0}=e,{lightText:D=!1}=e;function O(B){i=B,n(0,i)}function F(B){Re.call(this,r,B)}function P(B){Re.call(this,r,B)}return r.$$set=B=>{"columnFabric"in B&&n(1,o=B.columnFabric),"value"in B&&n(0,i=B.value),"recordSummary"in B&&n(2,a=B.recordSummary),"fileManifest"in B&&n(3,u=B.fileManifest),"setFileManifest"in B&&n(4,f=B.setFileManifest),"fileRequestParams"in B&&n(5,c=B.fileRequestParams),"setRecordSummary"in B&&n(6,m=B.setRecordSummary),"isActive"in B&&n(7,d=B.isActive),"disabled"in B&&n(8,g=B.disabled),"showAsSkeleton"in B&&n(9,h=B.showAsSkeleton),"horizontalAlignment"in B&&n(10,b=B.horizontalAlignment),"searchValue"in B&&n(11,w=B.searchValue),"isProcessing"in B&&n(12,S=B.isProcessing),"isIndependentOfSheet"in B&&n(13,T=B.isIndependentOfSheet),"showTruncationPopover"in B&&n(14,M=B.showTruncationPopover),"canViewLinkedEntities"in B&&n(15,A=B.canViewLinkedEntities),"lightText"in B&&n(16,D=B.lightText)},r.$$.update=()=>{r.$$.dirty&2&&n(19,{cellComponentAndProps:t}=o,t),r.$$.dirty&524288&&n(18,{component:l}=t,l),r.$$.dirty&524288&&n(17,s=t.props)},[i,o,a,u,f,c,m,d,g,h,b,w,S,T,M,A,D,s,l,t,O,F,P]}class su extends Q{constructor(e){super(),Z(this,e,ese,xle,J,{columnFabric:1,value:0,recordSummary:2,fileManifest:3,setFileManifest:4,fileRequestParams:5,setRecordSummary:6,isActive:7,disabled:8,showAsSkeleton:9,horizontalAlignment:10,searchValue:11,isProcessing:12,isIndependentOfSheet:13,showTruncationPopover:14,canViewLinkedEntities:15,lightText:16})}}function tse(r){let e,n;return e=new su({props:{columnFabric:r[1],value:r[6],recordSummary:r[8],fileManifest:r[7],disabled:!0,showAsSkeleton:!ui(r[0])||r[5],searchValue:r[9],showTruncationPopover:!0}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.columnFabric=t[1]),l&64&&(s.value=t[6]),l&256&&(s.recordSummary=t[8]),l&128&&(s.fileManifest=t[7]),l&33&&(s.showAsSkeleton=!ui(t[0])||t[5]),l&512&&(s.searchValue=t[9]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function nse(r){let e,n;return e=new Vc({props:{rowType:"dataRow",columnType:"dataColumn",$$slots:{default:[tse]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&17379&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function rse(r,e,n){let t,l,s,o,i,a,u=H,f=()=>(u(),u=le(M,O=>n(11,a=O)),M),c,m=H,d=()=>(m(),m=le(T,O=>n(12,c=O)),T),g,h=H,b=()=>(h(),h=le(A,O=>n(13,g=O)),A);r.$$.on_destroy.push(()=>u()),r.$$.on_destroy.push(()=>m()),r.$$.on_destroy.push(()=>h());let{row:w}=e,{processedColumn:S}=e,{linkedRecordSummaries:T}=e;d();let{fileManifests:M}=e;f();let{searchFuzzy:A}=e;b();let{isLoading:D=!1}=e;return r.$$set=O=>{"row"in O&&n(0,w=O.row),"processedColumn"in O&&n(1,S=O.processedColumn),"linkedRecordSummaries"in O&&d(n(2,T=O.linkedRecordSummaries)),"fileManifests"in O&&f(n(3,M=O.fileManifests)),"searchFuzzy"in O&&b(n(4,A=O.searchFuzzy)),"isLoading"in O&&n(5,D=O.isLoading)},r.$$.update=()=>{var O,F;r.$$.dirty&2&&n(10,{column:t}=S,t),r.$$.dirty&9216&&n(9,l=g.get(t.id)),r.$$.dirty&1025&&n(6,s=(O=w==null?void 0:w.record)==null?void 0:O[t.id]),r.$$.dirty&5184&&n(8,o=(F=c.get(String(t.id)))==null?void 0:F.get(String(s))),r.$$.dirty&3136&&n(7,i=(()=>{var B,j;if(!((B=t.metadata)!=null&&B.file_backend))return;const P=po(s);if(!!P)return(j=a.get(String(t.id)))==null?void 0:j.get(P.mash)})())},[w,S,T,M,A,D,s,i,o,l,t,a,c,g]}class lse extends Q{constructor(e){super(),Z(this,e,rse,nse,J,{row:0,processedColumn:1,linkedRecordSummaries:2,fileManifests:3,searchFuzzy:4,isLoading:5})}}function Im(r){let e,n,t,l;const s=r[9].default,o=ke(s,r,r[8],null);let i=[{class:"passthrough tr svelte-8q4rz6"},{href:r[0]},{tabindex:"-1"}],a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return{c(){e=E(r[2]),o&&o.c(),Tt(e,a),ie(e,"selected",r[1])},m(u,f){v(u,e,f),o&&o.m(e,null),n=!0,t||(l=[He(e,"click",r[3]),He(e,"mousemove",r[4])],t=!0)},p(u,f){o&&o.p&&(!n||f&256)&&Ce(o,s,u,u[8],n?ye(s,u[8],f,null):Se(u[8]),null),Tt(e,a=de(i,[{class:"passthrough tr svelte-8q4rz6"},(!n||f&1)&&{href:u[0]},{tabindex:"-1"}])),ie(e,"selected",u[1])},i(u){n||(_(o,u),n=!0)},o(u){p(o,u),n=!1},d(u){u&&$(e),o&&o.d(u),t=!1,Ot(l)}}}function sse(r){let e=r[2],n,t,l=r[2]&&Im(r);return{c(){l&&l.c(),n=ae()},m(s,o){l&&l.m(s,o),v(s,n,o),t=!0},p(s,[o]){s[2]?e?J(e,s[2])?(l.d(1),l=Im(s),l.c(),l.m(n.parentNode,n)):l.p(s,o):(l=Im(s),l.c(),l.m(n.parentNode,n)):e&&(l.d(1),l=null),e=s[2]},i(s){t||(_(l),t=!0)},o(s){p(l),t=!1},d(s){s&&$(n),l&&l.d(s)}}}function ose(r,e,n){let t,l,{$$slots:s={},$$scope:o}=e;const i=Et();let{href:a=void 0}=e,{index:u}=e,{selectionIndex:f=void 0}=e,{setSelectionIndex:c}=e;function m(g){g.preventDefault(),i("click")}function d(){f!==void 0&&c(u)}return r.$$set=g=>{"href"in g&&n(0,a=g.href),"index"in g&&n(5,u=g.index),"selectionIndex"in g&&n(6,f=g.selectionIndex),"setSelectionIndex"in g&&n(7,c=g.setSelectionIndex),"$$scope"in g&&n(8,o=g.$$scope)},r.$$.update=()=>{r.$$.dirty&1&&n(2,t=a?"a":"div"),r.$$.dirty&96&&n(1,l=f===u)},[a,l,t,m,d,u,f,c,o,s]}class ise extends Q{constructor(e){super(),Z(this,e,ose,sse,J,{href:0,index:5,selectionIndex:6,setSelectionIndex:7})}}function Em(r){let e,n,t,l,s,o,i,a,u;const f=[r[3]];let c={};for(let g=0;g<f.length;g+=1)c=se(c,f[g]);t=new Ne({props:c});let m=[{class:"submit passthrough svelte-1y8tbea"}],d={};for(let g=0;g<m.length;g+=1)d=se(d,m[g]);return{c(){e=E(r[1]),n=E("span"),C(t.$$.fragment),l=N(),s=E("span"),o=L(r[2]),I(n,"class","icon"),I(s,"class","label"),Tt(e,d),ie(e,"hover",r[0])},m(g,h){v(g,e,h),R(e,n),k(t,n,null),R(e,l),R(e,s),R(s,o),i=!0,a||(u=He(e,"click",r[4]),a=!0)},p(g,h){const b=h&8?de(f,[_e(g[3])]):{};t.$set(b),(!i||h&4)&&z(o,g[2]),Tt(e,d=de(m,[{class:"submit passthrough svelte-1y8tbea"}])),ie(e,"hover",g[0])},i(g){i||(_(t.$$.fragment,g),i=!0)},o(g){p(t.$$.fragment,g),i=!1},d(g){g&&$(e),y(t),a=!1,u()}}}function ase(r){let e=r[1],n,t=r[1]&&Em(r);return{c(){t&&t.c(),n=ae()},m(l,s){t&&t.m(l,s),v(l,n,s)},p(l,[s]){l[1]?e?J(e,l[1])?(t.d(1),t=Em(l),t.c(),t.m(n.parentNode,n)):t.p(l,s):(t=Em(l),t.c(),t.m(n.parentNode,n)):e&&(t.d(1),t=null),e=l[1]},i:H,o(l){p(t)},d(l){l&&$(n),t&&t.d(l)}}}function use(r,e,n){let t,l,s,o;ne(r,ce,c=>n(6,o=c));const i=Et();let{purpose:a}=e,{isSelected:u}=e;function f(){a==="dataEntry"&&i("click")}return r.$$set=c=>{"purpose"in c&&n(5,a=c.purpose),"isSelected"in c&&n(0,u=c.isSelected)},r.$$.update=()=>{r.$$.dirty&32&&n(3,t=a==="dataEntry"?CK:Es),r.$$.dirty&96&&n(2,l=o(a==="dataEntry"?"pick":"open")),r.$$.dirty&32&&n(1,s=a==="dataEntry"?"button":"div")},[u,s,l,t,f,a,o]}class fse extends Q{constructor(e){super(),Z(this,e,use,ase,J,{purpose:5,isSelected:0})}}function _$(r,e,n){const t=r.slice();return t[72]=e[n],t[74]=n,t}function p$(r,e,n){const t=r.slice();return t[75]=e[n][0],t[76]=e[n][1],t}function g$(r,e,n){const t=r.slice();t[75]=e[n][0],t[76]=e[n][1];const l=t[76];return t[79]=l.column,t}function h$(r,e){let n,t,l;function s(){return e[48](e[79])}function o(){return e[50](e[79])}return t=new Qle({props:{hasNestedSelectorOpen:e[79]===e[23],overflowDetails:e[28],processedColumn:e[76],searchFuzzy:e[6],recordSummaryStore:e[11]}}),t.$on("focus",s),t.$on("blur",e[49]),t.$on("recordSelectorOpen",o),t.$on("recordSelectorSubmit",e[51]),t.$on("recordSelectorCancel",e[52]),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(i,a){v(i,n,a),k(t,i,a),l=!0},p(i,a){e=i;const u={};a[0]&12582912&&(u.hasNestedSelectorOpen=e[79]===e[23]),a[0]&4194304&&(u.processedColumn=e[76]),a[0]&64&&(u.searchFuzzy=e[6]),a[0]&2048&&(u.recordSummaryStore=e[11]),t.$set(u)},i(i){l||(_(t.$$.fragment,i),l=!0)},o(i){p(t.$$.fragment,i),l=!1},d(i){i&&$(n),y(t,i)}}}function cse(r){let e,n;function t(){return r[53](r[74])}return e=new fse({props:{purpose:r[17],isSelected:r[4]===r[74]}}),e.$on("click",t),{c(){C(e.$$.fragment)},m(l,s){k(e,l,s),n=!0},p(l,s){r=l;const o={};s[0]&131072&&(o.purpose=r[17]),s[0]&16&&(o.isSelected=r[4]===r[74]),e.$set(o)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){p(e.$$.fragment,l),n=!1},d(l){y(e,l)}}}function b$(r,e){let n,t,l;return t=new lse({props:{row:e[72],processedColumn:e[76],linkedRecordSummaries:e[11],fileManifests:e[9],searchFuzzy:e[6],isLoading:e[2]}}),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(s,o){v(s,n,o),k(t,s,o),l=!0},p(s,o){e=s;const i={};o[0]&2&&(i.row=e[72]),o[0]&4194304&&(i.processedColumn=e[76]),o[0]&2048&&(i.linkedRecordSummaries=e[11]),o[0]&512&&(i.fileManifests=e[9]),o[0]&64&&(i.searchFuzzy=e[6]),o[0]&4&&(i.isLoading=e[2]),t.$set(i)},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){s&&$(n),y(t,s)}}}function mse(r){let e,n,t=[],l=new Map,s,o;e=new Vc({props:{rowType:"dataRow",columnType:"rowHeaderColumn",rowIsSelected:r[4]===r[74],overflowDetails:r[28],$$slots:{default:[cse]},$$scope:{ctx:r}}});let i=[...r[22]];const a=u=>u[75];for(let u=0;u<i.length;u+=1){let f=p$(r,i,u),c=a(f);l.set(c,t[u]=b$(c,f))}return{c(){C(e.$$.fragment),n=N();for(let u=0;u<t.length;u+=1)t[u].c();s=N()},m(u,f){k(e,u,f),v(u,n,f);for(let c=0;c<t.length;c+=1)t[c].m(u,f);v(u,s,f),o=!0},p(u,f){const c={};f[0]&16&&(c.rowIsSelected=u[4]===u[74]),f[0]&131088|f[2]&1048576&&(c.$$scope={dirty:f,ctx:u}),e.$set(c),f[0]&4196934&&(i=[...u[22]],U(),t=ht(t,f,a,1,u,i,l,s.parentNode,kt,b$,s,p$),W())},i(u){if(!o){_(e.$$.fragment,u);for(let f=0;f<i.length;f+=1)_(t[f]);o=!0}},o(u){p(e.$$.fragment,u);for(let f=0;f<t.length;f+=1)p(t[f]);o=!1},d(u){y(e,u),u&&$(n);for(let f=0;f<t.length;f+=1)t[f].d(u);u&&$(s)}}}function $$(r){let e,n;function t(){return r[55](r[74])}return e=new ise({props:{href:r[26](r[72]),index:r[74],selectionIndex:r[4],setSelectionIndex:r[54],$$slots:{default:[mse]},$$scope:{ctx:r}}}),e.$on("click",t),{c(){C(e.$$.fragment)},m(l,s){k(e,l,s),n=!0},p(l,s){r=l;const o={};s[0]&2&&(o.href=r[26](r[72])),s[0]&16&&(o.selectionIndex=r[4]),s[0]&1&&(o.setSelectionIndex=r[54]),s[0]&4328022|s[2]&1048576&&(o.$$scope={dirty:s,ctx:r}),e.$set(o)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){p(e.$$.fragment,l),n=!1},d(l){y(e,l)}}}function dse(r){let e,n,t,l,s,o,i,a=[],u=new Map,f,c,m,d,g,h,b;o=new Vc({props:{rowType:"columnHeaderRow",columnType:"rowHeaderColumn",overflowDetails:r[28]}});let w=[...r[22]];const S=D=>D[75];for(let D=0;D<w.length;D+=1){let O=g$(r,w,D),F=S(O);u.set(F,a[D]=h$(F,O))}let T=r[1],M=[];for(let D=0;D<T.length;D+=1)M[D]=$$(_$(r,T,D));const A=D=>p(M[D],1,1,()=>{M[D]=null});return{c(){e=E("div"),n=E("div"),t=E("div"),l=E("div"),s=E("div"),C(o.$$.fragment),i=N();for(let D=0;D<a.length;D+=1)a[D].c();f=N(),c=E("div");for(let D=0;D<M.length;D+=1)M[D].c();m=N(),d=E("div"),I(s,"class","tr inputs svelte-7pgsjd"),I(l,"class","thead svelte-7pgsjd"),I(c,"class","tbody svelte-7pgsjd"),I(t,"class","table svelte-7pgsjd"),I(n,"class","scroll-container svelte-7pgsjd"),I(d,"class","inset-shadow svelte-7pgsjd"),I(e,"class","inset-shadow-positioner svelte-7pgsjd"),ie(e,"has-overflow-top",r[18]),ie(e,"has-overflow-right",r[19]),ie(e,"has-overflow-bottom",r[20]),ie(e,"has-overflow-left",r[21])},m(D,O){v(D,e,O),R(e,n),R(n,t),R(t,l),R(l,s),k(o,s,null),R(s,i);for(let F=0;F<a.length;F+=1)a[F].m(s,null);R(t,f),R(t,c);for(let F=0;F<M.length;F+=1)M[F].m(c,null);R(e,m),R(e,d),r[56](e),g=!0,h||(b=Dt(Ole.call(null,n,r[28])),h=!0)},p(D,O){if(O[0]&331352128&&(w=[...D[22]],U(),a=ht(a,O,S,1,D,w,u,s,kt,h$,null,g$),W()),O[0]&474090071){T=D[1];let F;for(F=0;F<T.length;F+=1){const P=_$(D,T,F);M[F]?(M[F].p(P,O),_(M[F],1)):(M[F]=$$(P),M[F].c(),_(M[F],1),M[F].m(c,null))}for(U(),F=T.length;F<M.length;F+=1)A(F);W()}(!g||O[0]&262144)&&ie(e,"has-overflow-top",D[18]),(!g||O[0]&524288)&&ie(e,"has-overflow-right",D[19]),(!g||O[0]&1048576)&&ie(e,"has-overflow-bottom",D[20]),(!g||O[0]&2097152)&&ie(e,"has-overflow-left",D[21])},i(D){if(!g){_(o.$$.fragment,D);for(let O=0;O<w.length;O+=1)_(a[O]);for(let O=0;O<T.length;O+=1)_(M[O]);g=!0}},o(D){p(o.$$.fragment,D);for(let O=0;O<a.length;O+=1)p(a[O]);M=M.filter(Boolean);for(let O=0;O<M.length;O+=1)p(M[O]);g=!1},d(D){D&&$(e),y(o);for(let O=0;O<a.length;O+=1)a[O].d();Hn(M,D),r[56](null),h=!1,b()}}}function _se(r,e,n){let t,l,s,o,i,a,u,f,c,m,d,g,h,b,w,S,T,M,A,D,O,F,P,B,j=H,V=()=>(j(),j=le(S,Ye=>n(60,B=Ye)),S),q,G=H,Y=()=>(G(),G=le(w,Ye=>n(61,q=Ye)),w),K,ee=H,x=()=>(ee(),ee=le(c,Ye=>n(62,K=Ye)),c),X,fe,he=H,me=()=>(he(),he=le(l,Ye=>n(17,fe=Ye)),l),ge,pe=H,Le=()=>(pe(),pe=le(A,Ye=>n(45,ge=Ye)),A),Qe,Ae=H,Je=()=>(Ae(),Ae=le(s,Ye=>n(46,Qe=Ye)),s),ze,Ve=H,Be=()=>(Ve(),Ve=le(d,Ye=>n(47,ze=Ye)),d),qe,ft,vt,ut,Xe,dt=H,Oe=()=>(dt(),dt=le(f,Ye=>n(22,Xe=Ye)),f),_t,Fe=H,mt=()=>(Fe(),Fe=le(t,Ye=>n(23,_t=Ye)),t);ne(r,wo,Ye=>n(63,X=Ye)),r.$$.on_destroy.push(()=>j()),r.$$.on_destroy.push(()=>G()),r.$$.on_destroy.push(()=>ee()),r.$$.on_destroy.push(()=>he()),r.$$.on_destroy.push(()=>pe()),r.$$.on_destroy.push(()=>Ae()),r.$$.on_destroy.push(()=>Ve()),r.$$.on_destroy.push(()=>dt()),r.$$.on_destroy.push(()=>Fe());let{controller:yt}=e,{tabularData:ct}=e,{nestedController:lt}=e,{submitResult:rt}=e,{isHoveringCreate:Xt=!1}=e,{handleKeyboardNavigation:Pt=!1}=e;const _n=wp(ct);let Jt,bn,Dn;function at(Ye){Ye?n(0,bn=void 0):n(0,bn=0)}function $n(Ye){lt.cancel(),n(39,Jt=Ye)}function Cn(){n(39,Jt=void 0)}function Bt(Ye){if(bn===void 0)return;const wt=bn+Ye;n(0,bn=Math.min(Math.max(wt,0),O-1))}function or(Ye){const{record:wt}=Ye;if(!(!wt||Object.keys(wt).length===0))return Q_(wt,B)}function el(Ye){if(fe==="dataEntry")return;const wt=or(Ye);if(!!wt)return X({tableId:a.oid,recordId:wt})}function wr(Ye){var Zt;const wt=D[Ye];if(!wt)return;const{record:qt}=wt,pn=or(wt);if(!qt||pn===void 0)return;const Kt=(Zt=K.get(String(pn)))!=null?Zt:"";rt({recordId:pn,recordSummary:Kt,record:qt})}function gl(){P!==void 0&&wr(P)}function hl(Ye){if(!Pt||q)return;let wt=!0;switch(Ye.key){case"ArrowUp":Bt(-1);break;case"ArrowDown":Bt(1);break;case"Enter":!F||Ye.shiftKey?gl():wt=!1;break;default:wt=!1}wt&&(Ye.stopPropagation(),Ye.preventDefault())}function gr(){var wt;const Ye=B.find(qt=>qt.primary_key===!1);return(wt=Ye==null?void 0:Ye.id)!=null?wt:B[0].id}async function Ee(){const Ye=gr();await sn();const wt=`.record-selector-input.column-${Ye}`,qt=Dn.querySelector(wt);qt&&qt.focus()}tn(()=>(window.addEventListener("keydown",hl,{capture:!0}),()=>{window.removeEventListener("keydown",hl,{capture:!0})})),tn(Ee);const Te=Ale(),{hasOverflowTop:re,hasOverflowRight:ue,hasOverflowBottom:be,hasOverflowLeft:$e}=Te;ne(r,re,Ye=>n(18,qe=Ye)),ne(r,ue,Ye=>n(19,ft=Ye)),ne(r,be,Ye=>n(20,vt=Ye)),ne(r,$e,Ye=>n(21,ut=Ye));const Ie=Ye=>$n(Ye),Pe=()=>Cn(),Ge=Ye=>{Pn(t,_t=Ye,_t)},Ze=()=>{Pn(t,_t=void 0,_t)},tt=()=>{Pn(t,_t=void 0,_t)},je=Ye=>wr(Ye),it=Ye=>{n(0,bn=Ye)},bt=Ye=>wr(Ye);function Ft(Ye){we[Ye?"unshift":"push"](()=>{Dn=Ye,n(3,Dn)})}return r.$$set=Ye=>{"controller"in Ye&&n(33,yt=Ye.controller),"tabularData"in Ye&&n(34,ct=Ye.tabularData),"nestedController"in Ye&&n(35,lt=Ye.nestedController),"submitResult"in Ye&&n(36,rt=Ye.submitResult),"isHoveringCreate"in Ye&&n(37,Xt=Ye.isHoveringCreate),"handleKeyboardNavigation"in Ye&&n(38,Pt=Ye.handleKeyboardNavigation)},r.$$.update=()=>{r.$$.dirty[1]&16&&ko.set(lt),r.$$.dirty[1]&4&&mt(n(16,{columnWithNestedSelectorOpen:t,purpose:l}=yt,t,me(n(15,l)))),r.$$.dirty[1]&8&&_n.set(ct),r.$$.dirty[1]&8&&Je(n(14,{constraintsDataStore:s,meta:o,columnsDataStore:i,table:a,recordsData:u,processedColumns:f}=ct,s,(n(43,o),n(34,ct)),(n(44,i),n(34,ct)),(n(41,u),n(34,ct)),Oe(n(13,f)))),r.$$.dirty[1]&1024&&x(n(12,{recordSummaries:c,linkedRecordSummaries:m,state:d,fileManifests:g}=u,c,(n(11,m),n(41,u),n(34,ct)),Be(n(10,d)),(n(9,g),n(41,u),n(34,ct)))),r.$$.dirty[1]&65536&&n(2,h=ze===qn.Loading),r.$$.dirty[1]&32768&&n(42,{constraints:b}=Qe,b),r.$$.dirty[1]&16&&Y(n(8,w=lt.isOpen)),r.$$.dirty[1]&8192&&V(n(7,{columns:S}=i,S)),r.$$.dirty[1]&4096&&n(6,{searchFuzzy:T}=o,T),r.$$.dirty[1]&2048&&n(40,M=new vn(b.filter($p).filter(Ye=>Ye.columns.length===1).map(Ye=>Ye.columns[0]))),r.$$.dirty[1]&1024&&Le(n(5,A=u.fetchedRecordRows)),r.$$.dirty[1]&16384&&n(1,D=ge),r.$$.dirty[0]&2&&(O=D.length),r.$$.dirty[1]&768&&(F=(()=>{if(Jt!==void 0)return M.has(Jt.id)?Jt:void 0})()),r.$$.dirty[0]&4&&at(h),r.$$.dirty[0]&1|r.$$.dirty[1]&64&&n(4,P=Xt?void 0:bn)},[bn,D,h,Dn,P,A,T,S,w,g,d,m,c,f,s,l,t,fe,qe,ft,vt,ut,Xe,_t,$n,Cn,el,wr,Te,re,ue,be,$e,yt,ct,lt,rt,Xt,Pt,Jt,M,u,b,o,i,ge,Qe,ze,Ie,Pe,Ge,Ze,tt,je,it,bt,Ft]}class pse extends Q{constructor(e){super(),Z(this,e,_se,dse,J,{controller:33,tabularData:34,nestedController:35,submitResult:36,isHoveringCreate:37,handleKeyboardNavigation:38},null,[-1,-1,-1])}}function v$(r){let e,n,t=(r[11]||!r[5])&&w$();return{c(){e=E("div"),t&&t.c(),I(e,"class","content-loading svelte-1xl5vbd"),ie(e,"prevent-user-entry",r[11])},m(l,s){v(l,e,s),t&&t.m(e,null),n=!0},p(l,s){l[11]||!l[5]?t?s[0]&2080&&_(t,1):(t=w$(),t.c(),_(t,1),t.m(e,null)):t&&(U(),p(t,1,1,()=>{t=null}),W()),(!n||s[0]&2048)&&ie(e,"prevent-user-entry",l[11])},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){l&&$(e),t&&t.d()}}}function w$(r){let e,n;return e=new Gt({props:{size:"2em"}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function k$(r){let e,n;return e=new pse({props:{tabularData:r[2],controller:r[1],nestedController:r[3],submitResult:r[35],isHoveringCreate:r[12],handleKeyboardNavigation:!r[13]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&4&&(s.tabularData=t[2]),l[0]&2&&(s.controller=t[1]),l[0]&8&&(s.nestedController=t[3]),l[0]&4096&&(s.isHoveringCreate=t[12]),l[0]&8192&&(s.handleKeyboardNavigation=!t[13]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function y$(r){let e,n;return e=new ur({props:{fullWidth:!0,$$slots:{default:[bse]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&1152|l[1]&268435460&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function gse(r){let e=r[33]("no_privileges_view_table")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l[1]&4&&e!==(e=t[33]("no_privileges_view_table")+"")&&z(n,e)},d(t){t&&$(n)}}}function hse(r){let e=r[33]("record_sel_no_support_for_table_without_pk")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l[1]&4&&e!==(e=t[33]("record_sel_no_support_for_table_without_pk")+"")&&z(n,e)},d(t){t&&$(n)}}}function bse(r){let e;function n(s,o){if(!s[10])return hse;if(!s[7])return gse}let t=n(r),l=t&&t(r);return{c(){l&&l.c(),e=ae()},m(s,o){l&&l.m(s,o),v(s,e,o)},p(s,o){t===(t=n(s))&&l?l.p(s,o):(l&&l.d(1),l=t&&t(s),l&&(l.c(),l.m(e.parentNode,e)))},d(s){l&&l.d(s),s&&$(e)}}}function C$(r){let e,n,t,l;const s=[vse,$se],o=[];function i(a,u){return a[32]?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function $se(r){let e;function n(s,o){return s[6]?kse:wse}let t=n(r),l=t(r);return{c(){e=E("div"),l.c(),I(e,"class","no-results svelte-1xl5vbd")},m(s,o){v(s,e,o),l.m(e,null)},p(s,o){t===(t=n(s))&&l?l.p(s,o):(l.d(1),l=t(s),l&&(l.c(),l.m(e,null)))},i:H,o:H,d(s){s&&$(e),l.d()}}}function vse(r){let e,n,t;return n=new Gt({props:{size:"2em"}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","results-loading svelte-1xl5vbd")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p:H,i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function wse(r){let e=r[33]("no_existing_records")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l[1]&4&&e!==(e=t[33]("no_existing_records")+"")&&z(n,e)},d(t){t&&$(n)}}}function kse(r){let e=r[33]("no_matching_records")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l[1]&4&&e!==(e=t[33]("no_matching_records")+"")&&z(n,e)},d(t){t&&$(n)}}}function S$(r){let e;function n(s,o){return s[17]?Cse:yse}let t=n(r),l=t(r);return{c(){e=E("div"),l.c(),I(e,"class","stats svelte-1xl5vbd")},m(s,o){v(s,e,o),l.m(e,null)},p(s,o){t===(t=n(s))&&l?l.p(s,o):(l.d(1),l=t(s),l&&(l.c(),l.m(e,null)))},d(s){s&&$(e),l.d()}}}function yse(r){let e=r[33]("count_records",{values:{count:r[8]}})+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l[0]&256|l[1]&4&&e!==(e=t[33]("count_records",{values:{count:t[8]}})+"")&&z(n,e)},d(t){t&&$(n)}}}function Cse(r){let e=r[33]("showing_n_to_m_of_total",{values:{leftBound:r[34].format(r[16]),rightBound:r[34].format(r[15]),totalCount:r[34].format(r[8])}})+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l[0]&98560|l[1]&4&&e!==(e=t[33]("showing_n_to_m_of_total",{values:{leftBound:t[34].format(t[16]),rightBound:t[34].format(t[15]),totalCount:t[34].format(t[8])}})+"")&&z(n,e)},d(t){t&&$(n)}}}function T$(r){let e,n,t;return n=new st({props:{size:"small",appearance:"secondary",$$slots:{default:[Sse]},$$scope:{ctx:r}}}),n.$on("click",r[36]),n.$on("mouseenter",r[48]),n.$on("mouseleave",r[49]),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","add-button svelte-1xl5vbd")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s[1]&268435460&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function Sse(r){let e,n,t,l=r[33]("create_record_from_search")+"",s,o;const i=[jt];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return e=new Ne({props:a}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l)},m(u,f){k(e,u,f),v(u,n,f),v(u,t,f),R(t,s),o=!0},p(u,f){const c=f&0?de(i,[_e(jt)]):{};e.$set(c),(!o||f[1]&4)&&l!==(l=u[33]("create_record_from_search")+"")&&z(s,l)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){p(e.$$.fragment,u),o=!1},d(u){y(e,u),u&&$(n),u&&$(t)}}}function I$(r){var f;let e,n,t,l,s,o;function i(c){r[50](c)}function a(c){r[51](c)}let u={recordCount:(f=r[8])!=null?f:0};return r[9]!==void 0&&(u.pagination=r[9]),r[13]!==void 0&&(u.pageJumperIsOpen=r[13]),t=new FE({props:u}),we.push(()=>Me(t,"pagination",i)),we.push(()=>Me(t,"pageJumperIsOpen",a)),{c(){e=E("div"),n=E("div"),C(t.$$.fragment),I(n,"class","positioner svelte-1xl5vbd"),I(e,"class","pager svelte-1xl5vbd")},m(c,m){v(c,e,m),R(e,n),k(t,n,null),o=!0},p(c,m){var g;const d={};m[0]&256&&(d.recordCount=(g=c[8])!=null?g:0),!l&&m[0]&512&&(l=!0,d.pagination=c[9],De(()=>l=!1)),!s&&m[0]&8192&&(s=!0,d.pageJumperIsOpen=c[13],De(()=>s=!1)),t.$set(d)},i(c){o||(_(t.$$.fragment,c),o=!0)},o(c){p(t.$$.fragment,c),o=!1},d(c){c&&$(e),y(t)}}}function Tse(r){let e,n,t,l,s,o,i,a,u,f,c,m=(r[32]||r[11])&&v$(r),d=r[5]&&r[27]&&k$(r),g=r[5]&&!r[27]&&y$(r),h=r[5]&&!r[19].length&&r[27]&&C$(r),b=r[8]&&S$(r),w=r[18]&&T$(r),S=r[17]&&I$(r);return{c(){e=E("div"),m&&m.c(),n=N(),d&&d.c(),t=N(),g&&g.c(),l=N(),h&&h.c(),s=N(),o=E("div"),b&&b.c(),i=N(),w&&w.c(),a=N(),S&&S.c(),I(o,"class","footer svelte-1xl5vbd"),xn(()=>r[52].call(o)),ie(o,"wrapping",r[14]),ie(o,"has-add-button",r[18]),ie(o,"has-pagination",r[17]),I(e,"class","record-selector-content svelte-1xl5vbd"),xn(()=>r[53].call(e)),ie(e,"loading",r[32])},m(T,M){v(T,e,M),m&&m.m(e,null),R(e,n),d&&d.m(e,null),R(e,t),g&&g.m(e,null),R(e,l),h&&h.m(e,null),R(e,s),R(e,o),b&&b.m(o,null),R(o,i),w&&w.m(o,null),R(o,a),S&&S.m(o,null),u=Go(o,r[52].bind(o)),f=Go(e,r[53].bind(e)),c=!0},p(T,M){T[32]||T[11]?m?(m.p(T,M),M[0]&2048|M[1]&2&&_(m,1)):(m=v$(T),m.c(),_(m,1),m.m(e,n)):m&&(U(),p(m,1,1,()=>{m=null}),W()),T[5]&&T[27]?d?(d.p(T,M),M[0]&134217760&&_(d,1)):(d=k$(T),d.c(),_(d,1),d.m(e,t)):d&&(U(),p(d,1,1,()=>{d=null}),W()),T[5]&&!T[27]?g?(g.p(T,M),M[0]&134217760&&_(g,1)):(g=y$(T),g.c(),_(g,1),g.m(e,l)):g&&(U(),p(g,1,1,()=>{g=null}),W()),T[5]&&!T[19].length&&T[27]?h?(h.p(T,M),M[0]&134742048&&_(h,1)):(h=C$(T),h.c(),_(h,1),h.m(e,s)):h&&(U(),p(h,1,1,()=>{h=null}),W()),T[8]?b?b.p(T,M):(b=S$(T),b.c(),b.m(o,i)):b&&(b.d(1),b=null),T[18]?w?(w.p(T,M),M[0]&262144&&_(w,1)):(w=T$(T),w.c(),_(w,1),w.m(o,a)):w&&(U(),p(w,1,1,()=>{w=null}),W()),T[17]?S?(S.p(T,M),M[0]&131072&&_(S,1)):(S=I$(T),S.c(),_(S,1),S.m(o,null)):S&&(U(),p(S,1,1,()=>{S=null}),W()),(!c||M[0]&16384)&&ie(o,"wrapping",T[14]),(!c||M[0]&262144)&&ie(o,"has-add-button",T[18]),(!c||M[0]&131072)&&ie(o,"has-pagination",T[17]),(!c||M[1]&2)&&ie(e,"loading",T[32])},i(T){c||(_(m),_(d),_(g),_(h),_(w),_(S),c=!0)},o(T){p(m),p(d),p(g),p(h),p(w),p(S),c=!1},d(T){T&&$(e),m&&m.d(),d&&d.d(),g&&g.d(),h&&h.d(),b&&b.d(),w&&w.d(),S&&S.d(),u(),f()}}}function Ise(r,e,n){let t,l,s,o,i,a,u,f,c,m,d,g,h,b,w,S,T,M,A,D,O,F,P,B,j,V,q,G,Y,K=H,ee=()=>(K(),K=le(b,Ie=>n(55,Y=Ie)),b),x,X=H,fe=()=>(X(),X=le(M,Ie=>n(43,x=Ie)),M),he,me,ge=H,pe=()=>(ge(),ge=le(h,Ie=>n(57,me=Ie)),h),Le,Qe=H,Ae=()=>(Qe(),Qe=le(F,Ie=>n(8,Le=Ie)),F),Je,ze=H,Ve=()=>(ze(),ze=le(A,Ie=>n(9,Je=Ie)),A),Be,qe=H,ft=()=>(qe(),qe=le(O,Ie=>n(44,Be=Ie)),O),vt,ut=H,Xe=()=>(ut(),ut=le(w,Ie=>n(45,vt=Ie)),w),dt,Oe=H,_t=()=>(Oe(),Oe=le(l,Ie=>n(46,dt=Ie)),l),Fe,mt=H,yt=()=>(mt(),mt=le(c,Ie=>n(47,Fe=Ie)),c),ct,lt=H,rt=()=>(lt(),lt=le(f,Ie=>n(10,ct=Ie)),f),Xt,Pt=H,_n=()=>(Pt(),Pt=le(o,Ie=>n(32,Xt=Ie)),o),Jt;ne(r,wo,Ie=>n(56,he=Ie)),ne(r,ce,Ie=>n(33,Jt=Ie)),r.$$.on_destroy.push(()=>K()),r.$$.on_destroy.push(()=>X()),r.$$.on_destroy.push(()=>ge()),r.$$.on_destroy.push(()=>Qe()),r.$$.on_destroy.push(()=>ze()),r.$$.on_destroy.push(()=>qe()),r.$$.on_destroy.push(()=>ut()),r.$$.on_destroy.push(()=>Oe()),r.$$.on_destroy.push(()=>mt()),r.$$.on_destroy.push(()=>lt()),r.$$.on_destroy.push(()=>Pt());const bn=new Intl.NumberFormat;let{controller:Dn}=e,{tabularData:at}=e,{nestedController:$n}=e,{height:Cn=0}=e,Bt=!1,or=!1,el=!1,wr;function gl(Ie){if(me==="dataEntry")Dn.submit(Ie);else if(me==="navigation"){const{recordId:Pe}=Ie,Ge=he({tableId:u.oid,recordId:Pe});Ge&&(Un.goto(Ge),Dn.cancel())}}function hl(){const Ie=Y.filter(Pe=>Pe.primary_key).map(Pe=>Pe.id);return Object.fromEntries(x.without(Ie))}async function gr(){var Ie,Pe;try{n(11,Bt=!0);const Ge=await Ke.records.add({database_id:t.id,table_oid:u.oid,record_def:hl(),return_record_summaries:!0}).run(),Ze=Ge.results[0],tt=Q_(Ze,Y),je=(Pe=(Ie=Ge.record_summaries)==null?void 0:Ie[tt])!=null?Pe:"";gl({recordId:tt,recordSummary:je,record:Ze})}catch(Ge){$t.error(Yt(Ge))}finally{n(11,Bt=!1)}}const Ee=()=>{n(12,or=!0)},Te=()=>{n(12,or=!1)};function re(Ie){Je=Ie,A.set(Je)}function ue(Ie){el=Ie,n(13,el)}function be(){wr=this.clientHeight,n(4,wr)}function $e(){Cn=this.clientHeight,n(0,Cn)}return r.$$set=Ie=>{"controller"in Ie&&n(1,Dn=Ie.controller),"tabularData"in Ie&&n(2,at=Ie.tabularData),"nestedController"in Ie&&n(3,$n=Ie.nestedController),"height"in Ie&&n(0,Cn=Ie.height)},r.$$.update=()=>{r.$$.dirty[0]&4&&_t(n(31,{database:t,constraintsDataStore:l,meta:s,isLoading:o,columnsDataStore:i,recordsData:a,table:u,hasPrimaryKey:f}=at,l,(n(40,s),n(2,at)),_n(n(30,o)),(n(42,i),n(2,at)),(n(39,a),n(2,at)),(n(37,u),n(2,at)),rt(n(29,f)))),r.$$.dirty[1]&64&&yt(n(28,{currentRolePrivileges:c}=u.currentAccess,c)),r.$$.dirty[1]&65536&&n(7,m=Fe.has("SELECT")),r.$$.dirty[0]&1152&&n(27,d=ct&&m),r.$$.dirty[1]&65536&&n(38,g=Fe.has("INSERT")),r.$$.dirty[0]&2&&pe(n(26,{purpose:h}=Dn,h)),r.$$.dirty[1]&2048&&ee(n(25,{columns:b,fetchStatus:w}=i,b,Xe(n(24,w)))),r.$$.dirty[1]&32768&&n(41,{state:S}=dt,S),r.$$.dirty[1]&17408&&n(5,T=(vt==null?void 0:vt.state)!=="processing"&&S===qn.Done),r.$$.dirty[1]&512&&fe(n(23,{searchFuzzy:M,pagination:A}=s,M,Ve(n(22,A)))),r.$$.dirty[1]&4096&&n(6,D=x.size>0),r.$$.dirty[1]&256&&ft(n(21,O=a.fetchedRecordRows)),r.$$.dirty[1]&256&&Ae(n(20,F=a.totalCount)),r.$$.dirty[1]&8192&&n(19,P=Be),r.$$.dirty[0]&64|r.$$.dirty[1]&128&&n(18,B=D&&g),r.$$.dirty[0]&800&&n(17,j=T&&(Le!=null?Le:0)>Je.size),r.$$.dirty[0]&512&&n(16,V=Je.leftBound),r.$$.dirty[0]&768&&n(15,q=Math.min(Je.rightBound,Le!=null?Le:0)),r.$$.dirty[0]&16&&n(14,G=wr>45)},[Cn,Dn,at,$n,wr,T,D,m,Le,Je,ct,Bt,or,el,G,q,V,j,B,P,F,O,A,M,w,b,h,d,c,f,o,l,Xt,Jt,bn,gl,gr,u,g,a,s,S,i,x,Be,vt,dt,Fe,Ee,Te,re,ue,be,$e]}class Ese extends Q{constructor(e){super(),Z(this,e,Ise,Tse,J,{controller:1,tabularData:2,nestedController:3,height:0},null,[-1,-1])}}const{window:E$}=gi;function M$(r){let e,n,t;return n=new vT({props:{canScrollBody:!1,$$slots:{title:[Dse],default:[Mse]},$$scope:{ctx:r}}}),n.$on("close",r[18]),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","record-selector-window svelte-gjf3ag"),ln(e,"margin-bottom",r[6])},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&2103615&&(o.$$scope={dirty:s,ctx:l}),n.$set(o),(!t||s&64)&&ln(e,"margin-bottom",l[6])},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function R$(r){let e,n,t,l,s,o,i,a;return l=new NE({props:{windowPositionerElement:r[1],controller:r[3]}}),{c(){e=E("div"),n=N(),t=E("div"),C(l.$$.fragment),I(e,"class","overlay svelte-gjf3ag"),I(t,"class","nested-record-selector")},m(u,f){v(u,e,f),v(u,n,f),v(u,t,f),k(l,t,null),o=!0,i||(a=Dt(s=fo.call(null,t,r[1])),i=!0)},p(u,f){const c={};f&2&&(c.windowPositionerElement=u[1]),f&8&&(c.controller=u[3]),l.$set(c),s&&St(s.update)&&f&2&&s.update.call(null,u[1])},i(u){o||(_(l.$$.fragment,u),o=!0)},o(u){p(l.$$.fragment,u),o=!1},d(u){u&&$(e),u&&$(n),u&&$(t),y(l),i=!1,a()}}}function Mse(r){let e,n,t,l,s;function o(u){r[17](u)}let i={tabularData:r[8],controller:r[0],nestedController:r[3]};r[2]!==void 0&&(i.height=r[2]),e=new Ese({props:i}),we.push(()=>Me(e,"height",o));let a=r[5]&&R$(r);return{c(){C(e.$$.fragment),t=N(),a&&a.c(),l=ae()},m(u,f){k(e,u,f),v(u,t,f),a&&a.m(u,f),v(u,l,f),s=!0},p(u,f){const c={};f&256&&(c.tabularData=u[8]),f&1&&(c.controller=u[0]),f&8&&(c.nestedController=u[3]),!n&&f&4&&(n=!0,c.height=u[2],De(()=>n=!1)),e.$set(c),u[5]?a?(a.p(u,f),f&32&&_(a,1)):(a=R$(u),a.c(),_(a,1),a.m(l.parentNode,l)):a&&(U(),p(a,1,1,()=>{a=null}),W())},i(u){s||(_(e.$$.fragment,u),_(a),s=!0)},o(u){p(e.$$.fragment,u),p(a),s=!1},d(u){y(e,u),u&&$(t),a&&a.d(u),u&&$(l)}}}function D$(r){let e,n;return e=new rn({props:{table:{name:r[4].name},truncate:!1}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.table={name:t[4].name}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Rse(r){let e,n,t=r[20]==="tableName"&&r[4]&&D$(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[20]==="tableName"&&l[4]?t?(t.p(l,s),s&1048592&&_(t,1)):(t=D$(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function Dse(r){let e,n,t;return n=new ot({props:{text:r[11]==="dataEntry"?r[12]("pick_table_record"):r[12]("open_table_record"),$$slots:{default:[Rse,({slotName:l})=>({20:l}),({slotName:l})=>l?1048576:0]},$$scope:{ctx:r}}}),{c(){e=E("span"),C(n.$$.fragment),I(e,"slot","title")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&6144&&(o.text=l[11]==="dataEntry"?l[12]("pick_table_record"):l[12]("open_table_record")),s&3145744&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function Ase(r){let e,n,t,l,s=r[8]&&M$(r);return{c(){s&&s.c(),e=ae()},m(o,i){s&&s.m(o,i),v(o,e,i),n=!0,t||(l=[He(E$,"keydown",r[13]),He(E$,"click",r[14],!0)],t=!0)},p(o,[i]){o[8]?s?(s.p(o,i),i&256&&_(s,1)):(s=M$(o),s.c(),_(s,1),s.m(e.parentNode,e)):s&&(U(),p(s,1,1,()=>{s=null}),W())},i(o){n||(_(s),n=!0)},o(o){p(s),n=!1},d(o){s&&s.d(o),o&&$(e),t=!1,Ot(l)}}}const Ose="2rem";function Fse(r,e){let n=r;for(;n!==null;){if(n===e)return!0;n=n.parentNode}return!1}function Nse(r,e,n){let t,l,s,o,i,a,u,f,c=H,m=()=>(c(),c=le(a,q=>n(5,f=q)),a),d,g=H,h=()=>(g(),g=le(l,q=>n(15,d=q)),l),b,w,S=H,T=()=>(S(),S=le(s,q=>n(11,w=q)),s),M;ne(r,Ci,q=>n(16,b=q)),ne(r,ce,q=>n(12,M=q)),r.$$.on_destroy.push(()=>c()),r.$$.on_destroy.push(()=>g()),r.$$.on_destroy.push(()=>S());let{controller:A}=e,{windowPositionerElement:D}=e,O=0,F=!1;function P(q){q.key==="Escape"&&!f&&A.cancel()}tn(()=>{setTimeout(()=>{F=!0},300)});function B(q){var X;if(f||!F)return;const Y=(X=D.lastChild.firstChild)==null?void 0:X.firstChild,K=q.target;Fse(K,Y)||!!(K!=null&&K.closest("[data-attachable-dropdown]"))||A.cancel()}function j(q){O=q,n(2,O)}const V=()=>A.cancel();return r.$$set=q=>{"controller"in q&&n(0,A=q.controller),"windowPositionerElement"in q&&n(1,D=q.windowPositionerElement)},r.$$.update=()=>{r.$$.dirty&1&&n(3,t=new vE({nestingLevel:A.nestingLevel+1})),r.$$.dirty&1&&h(n(10,{tableOid:l,purpose:s}=A,l,T(n(9,s)))),r.$$.dirty&98304&&n(4,o=Rr(d,q=>b.get(q))),r.$$.dirty&32784&&n(8,i=d&&o?new vp({database:o.schema.database,meta:new ki({pagination:new Or({size:100})}),hasEnhancedPrimaryKeyCell:!1,table:o,loadIntrinsicRecordSummaries:!0}):void 0),r.$$.dirty&8&&m(n(7,a=t.isOpen)),r.$$.dirty&36&&n(6,u=f?`calc(${Ose} - ${O}px)`:"0")},[A,D,O,t,o,f,u,a,i,s,l,w,M,P,B,d,b,j,V]}class NE extends Q{constructor(e){super(),Z(this,e,Nse,Ase,J,{controller:0,windowPositionerElement:1})}}function A$(r){let e,n,t,l,s,o,i,a,u=r[2]&&O$(r);return s=new NE({props:{windowPositionerElement:r[3],controller:r[0]}}),{c(){e=E("div"),u&&u.c(),n=N(),t=E("div"),l=E("div"),C(s.$$.fragment),I(l,"class","root-record-selector svelte-88o063"),I(t,"class","window-positioner svelte-88o063"),I(e,"class","modal-record-selector svelte-88o063")},m(f,c){v(f,e,c),u&&u.m(e,null),R(e,n),R(e,t),R(t,l),k(s,l,null),r[11](t),o=!0,i||(a=Dt(fo.call(null,e)),i=!0)},p(f,c){f[2]?u?(u.p(f,c),c&4&&_(u,1)):(u=O$(f),u.c(),_(u,1),u.m(e,n)):u&&(U(),p(u,1,1,()=>{u=null}),W());const m={};c&8&&(m.windowPositionerElement=f[3]),c&1&&(m.controller=f[0]),s.$set(m)},i(f){o||(_(u),_(s.$$.fragment,f),o=!0)},o(f){p(u),p(s.$$.fragment,f),o=!1},d(f){f&&$(e),u&&u.d(),y(s),r[11](null),i=!1,a()}}}function O$(r){let e,n,t,l,s,o;return{c(){e=E("div"),I(e,"class","overlay svelte-88o063")},m(i,a){v(i,e,a),l=!0,s||(o=He(e,"click",r[7]),s=!0)},p:H,i(i){l||(xn(()=>{t&&t.end(1),n=Zf(e,jl,{duration:150}),n.start()}),l=!0)},o(i){n&&n.invalidate(),t=Oa(e,jl,{duration:150}),l=!1},d(i){i&&$(e),i&&t&&t.end(),s=!1,o()}}}function Pse(r){let e,n,t=r[1]&&A$(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,[s]){l[1]?t?(t.p(l,s),s&2&&_(t,1)):(t=A$(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function Lse(r,e,n){let t,l,s,o,i,a,u=H,f=()=>(u(),u=le(s,P=>n(1,a=P)),s),c,m=H,d=()=>(m(),m=le(o,P=>n(2,c=P)),o),g,h=H,b=()=>(h(),h=le(t,P=>n(10,g=P)),t);r.$$.on_destroy.push(()=>u()),r.$$.on_destroy.push(()=>m()),r.$$.on_destroy.push(()=>h());const w=Et();let{recordSelectorController:S}=e,{modalController:T}=e,M;function A(){Pn(s,a=!1,a),S.cancel()}function D(){i&&A()}async function O(P){await sn(),w(P?"open":"close")}function F(P){we[P?"unshift":"push"](()=>{M=P,n(3,M)})}return r.$$set=P=>{"recordSelectorController"in P&&n(0,S=P.recordSelectorController),"modalController"in P&&n(8,T=P.modalController)},r.$$.update=()=>{r.$$.dirty&1&&b(n(6,{columnWithNestedSelectorOpen:t}=S,t)),r.$$.dirty&1024&&n(9,l=!!g),r.$$.dirty&256&&f(n(5,{isOpen:s,isOnTop:o}=T,s,d(n(4,o)))),r.$$.dirty&516&&(i=c&&!l),r.$$.dirty&2&&O(a)},[S,a,c,M,o,s,t,D,T,l,g,F]}class Hse extends Q{constructor(e){super(),Z(this,e,Lse,Pse,J,{recordSelectorController:0,modalController:8})}}function F$(r){let e,n,t;return n=new qa({props:{tabindex:"-1",checked:r[1]}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","selection svelte-1fb8wu2")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&2&&(o.checked=l[1]),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function Vse(r){let e,n;return e=new mo({props:{text:r[3],substring:r[5]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8&&(s.text=t[3]),l&32&&(s.substring=t[5]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function zse(r){let e,n,t,l,s=r[0]&&F$(r);return t=new Qr({props:{$$slots:{default:[Vse]},$$scope:{ctx:r}}}),{c(){e=E("div"),s&&s.c(),n=N(),C(t.$$.fragment),I(e,"class","record svelte-1fb8wu2"),ie(e,"in-focus",r[2]),ie(e,"show-selection",r[0])},m(o,i){v(o,e,i),s&&s.m(e,null),R(e,n),k(t,e,null),l=!0},p(o,[i]){o[0]?s?(s.p(o,i),i&1&&_(s,1)):(s=F$(o),s.c(),_(s,1),s.m(e,n)):s&&(U(),p(s,1,1,()=>{s=null}),W());const a={};i&168&&(a.$$scope={dirty:i,ctx:o}),t.$set(a),(!l||i&4)&&ie(e,"in-focus",o[2]),(!l||i&1)&&ie(e,"show-selection",o[0])},i(o){l||(_(s),_(t.$$.fragment,o),l=!0)},o(o){p(s),p(t.$$.fragment,o),l=!1},d(o){o&&$(e),s&&s.d(),y(t)}}}function Bse(r,e,n){let t,l,s=H,o=()=>(s(),s=le(t,m=>n(5,l=m)),t);r.$$.on_destroy.push(()=>s());let{controller:i}=e,{showSelection:a=!1}=e,{isSelected:u}=e,{inFocus:f}=e,{summary:c}=e;return r.$$set=m=>{"controller"in m&&n(6,i=m.controller),"showSelection"in m&&n(0,a=m.showSelection),"isSelected"in m&&n(1,u=m.isSelected),"inFocus"in m&&n(2,f=m.inFocus),"summary"in m&&n(3,c=m.summary)},r.$$.update=()=>{r.$$.dirty&64&&o(n(4,{searchValue:t}=i,t))},[a,u,f,c,t,l,i]}class qse extends Q{constructor(e){super(),Z(this,e,Bse,zse,J,{controller:6,showSelection:0,isSelected:1,inFocus:2,summary:3})}}function Use(r){let e,n,t,l,s;return{c(){e=E("div"),n=E("input"),I(n,"class","search-bar svelte-1eee795"),I(n,"type","text"),I(n,"data-row-seeker-search-box",""),I(n,"placeholder",t=r[4]("search")),I(e,"class","search-box svelte-1eee795"),I(e,"data-row-seeker-search","")},m(o,i){v(o,e,i),R(e,n),r[6](n),Cs(n,r[5]),l||(s=[He(n,"input",r[7]),He(n,"input",r[8]),He(n,"keydown",function(){St(r[1])&&r[1].apply(this,arguments)}),He(e,"click",r[9])],l=!0)},p(o,[i]){r=o,i&16&&t!==(t=r[4]("search"))&&I(n,"placeholder",t),i&32&&n.value!==r[5]&&Cs(n,r[5])},i:H,o:H,d(o){o&&$(e),r[6](null),l=!1,Ot(s)}}}function Wse(r,e,n){let t,l,s,o=H,i=()=>(o(),o=le(t,h=>n(5,s=h)),t);ne(r,ce,h=>n(4,l=h)),r.$$.on_destroy.push(()=>o());let{controller:a}=e,{onKeyDown:u}=e,f;function c(h){we[h?"unshift":"push"](()=>{f=h,n(2,f)})}function m(){s=this.value,t.set(s)}const d=()=>a.resetPaginationAndGetRecords(),g=()=>f.focus();return r.$$set=h=>{"controller"in h&&n(0,a=h.controller),"onKeyDown"in h&&n(1,u=h.onKeyDown)},r.$$.update=()=>{r.$$.dirty&1&&i(n(3,{searchValue:t}=a,t))},[a,u,f,t,l,s,c,m,d,g]}class jse extends Q{constructor(e){super(),Z(this,e,Wse,Use,J,{controller:0,onKeyDown:1})}}function N$(r){const e=r[26];r[29]=e}function Yse(r){let e,n,t,l;const s=[Jse,Xse,Kse],o=[];function i(a,u){return a[9]?0:a[5].error?1:2}return n=i(r),t=o[n]=s[n](r),{c(){e=E("div"),t.c(),I(e,"class","empty-states svelte-1esj3u7")},m(a,u){v(a,e,u),o[n].m(e,null),l=!0},p(a,u){let f=n;n=i(a),n===f?o[n].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),t=o[n],t?t.p(a,u):(t=o[n]=s[n](a),t.c()),_(t,1),t.m(e,null))},i(a){l||(_(t),l=!0)},o(a){p(t),l=!1},d(a){a&&$(e),o[n].d()}}}function Gse(r){let e,n;return e=new co({props:{class:"option-list-box",$$slots:{default:[Qse,({option:t,isSelected:l,inFocus:s})=>({26:t,27:l,28:s}),({option:t,isSelected:l,inFocus:s})=>(t?67108864:0)|(l?134217728:0)|(s?268435456:0)]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1543503937&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Kse(r){let e,n=r[14]("no_records_found")+"",t;return{c(){e=E("div"),t=L(n),I(e,"class","no-results svelte-1esj3u7")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&16384&&n!==(n=l[14]("no_records_found")+"")&&z(t,n)},i:H,o:H,d(l){l&&$(e)}}}function Xse(r){let e,n;return e=new Vn({props:{$$slots:{default:[Zse]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1073741856&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Jse(r){let e,n,t;return n=new Gt({}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","loading svelte-1esj3u7")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p:H,i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function Zse(r){let e=Sn.fromAnything(r[5].error).message+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&32&&e!==(e=Sn.fromAnything(t[5].error).message+"")&&z(n,e)},d(t){t&&$(n)}}}function Qse(r){N$(r);let e,n;return e=new qse({props:{showSelection:r[6],controller:r[0],isSelected:r[27],inFocus:r[28],summary:r[29].summary}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){N$(t);const s={};l&64&&(s.showSelection=t[6]),l&1&&(s.controller=t[0]),l&134217728&&(s.isSelected=t[27]),l&268435456&&(s.inFocus=t[28]),l&67108864&&(s.summary=t[29].summary),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function P$(r){let e,n,t,l=r[10]&&L$(r),s=r[7]&&H$(r);return{c(){e=E("div"),l&&l.c(),n=N(),s&&s.c(),I(e,"class","footer svelte-1esj3u7")},m(o,i){v(o,e,i),l&&l.m(e,null),R(e,n),s&&s.m(e,null),t=!0},p(o,i){o[10]?l?(l.p(o,i),i&1024&&_(l,1)):(l=L$(o),l.c(),_(l,1),l.m(e,n)):l&&(U(),p(l,1,1,()=>{l=null}),W()),o[7]?s?(s.p(o,i),i&128&&_(s,1)):(s=H$(o),s.c(),_(s,1),s.m(e,null)):s&&(U(),p(s,1,1,()=>{s=null}),W())},i(o){t||(_(l),_(s),t=!0)},o(o){p(l),p(s),t=!1},d(o){o&&$(e),l&&l.d(),s&&s.d()}}}function L$(r){let e,n,t;function l(...s){return r[21](r[25],...s)}return n=new st({props:{appearance:"secondary",$$slots:{default:[xse]},$$scope:{ctx:r}}}),n.$on("click",r[20]),n.$on("keydown",l),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","add-record")},m(s,o){v(s,e,o),k(n,e,null),t=!0},p(s,o){r=s;const i={};o&1073758208&&(i.$$scope={dirty:o,ctx:r}),n.$set(i)},i(s){t||(_(n.$$.fragment,s),t=!0)},o(s){p(n.$$.fragment,s),t=!1},d(s){s&&$(e),y(n)}}}function xse(r){let e=r[14]("add_new_record")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&16384&&e!==(e=t[14]("add_new_record")+"")&&z(n,e)},d(t){t&&$(n)}}}function H$(r){let e,n,t,l;function s(i){r[22](i)}let o={recordCount:r[3]};return r[4]!==void 0&&(o.pagination=r[4]),n=new FE({props:o}),we.push(()=>Me(n,"pagination",s)),n.$on("change",r[23]),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","pagination svelte-1esj3u7")},m(i,a){v(i,e,a),k(n,e,null),l=!0},p(i,a){const u={};a&8&&(u.recordCount=i[3]),!t&&a&16&&(t=!0,u.pagination=i[4],De(()=>t=!1)),n.$set(u)},i(i){l||(_(n.$$.fragment,i),l=!0)},o(i){p(n.$$.fragment,i),l=!1},d(i){i&&$(e),y(n)}}}function eoe(r){let e,n,t,l,s,o,i,a,u;function f(...h){return r[19](r[25],...h)}n=new jse({props:{controller:r[0],onKeyDown:f}});const c=[Gse,Yse],m=[];function d(h,b){return h[8].length>0?0:1}s=d(r),o=m[s]=c[s](r);let g=(r[7]||r[10])&&P$(r);return{c(){e=E("div"),C(n.$$.fragment),t=N(),l=E("div"),o.c(),i=N(),g&&g.c(),a=ae(),I(e,"data-row-seeker-controls",""),I(e,"class","svelte-1esj3u7"),I(l,"class","option-container svelte-1esj3u7")},m(h,b){v(h,e,b),k(n,e,null),v(h,t,b),v(h,l,b),m[s].m(l,null),v(h,i,b),g&&g.m(h,b),v(h,a,b),u=!0},p(h,b){r=h;const w={};b&1&&(w.controller=r[0]),b&33554432&&(w.onKeyDown=f),n.$set(w);let S=s;s=d(r),s===S?m[s].p(r,b):(U(),p(m[S],1,1,()=>{m[S]=null}),W(),o=m[s],o?o.p(r,b):(o=m[s]=c[s](r),o.c()),_(o,1),o.m(l,null)),r[7]||r[10]?g?(g.p(r,b),b&1152&&_(g,1)):(g=P$(r),g.c(),_(g,1),g.m(a.parentNode,a)):g&&(U(),p(g,1,1,()=>{g=null}),W())},i(h){u||(_(n.$$.fragment,h),_(o),_(g),u=!0)},o(h){p(n.$$.fragment,h),p(o),p(g),u=!1},d(h){h&&$(e),y(n),h&&$(t),h&&$(l),m[s].d(),h&&$(i),g&&g.d(h),h&&$(a)}}}function toe(r){let e,n,t;return n=new Ba({props:{selectionType:"single",mode:"static",value:r[2]?[r[2]]:void 0,options:r[8],checkEquality:noe,$$slots:{default:[eoe,({api:l})=>({25:l}),({api:l})=>l?33554432:0]},$$scope:{ctx:r}}}),n.$on("change",r[24]),n.$on("pick",function(){St(r[1])&&r[1].apply(this,arguments)}),{c(){e=E("div"),C(n.$$.fragment),I(e,"id",r[13]),I(e,"tabindex","0"),I(e,"data-row-seeker",""),I(e,"class","svelte-1esj3u7")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,[s]){r=l;const o={};s&4&&(o.value=r[2]?[r[2]]:void 0),s&256&&(o.options=r[8]),s&1107314681&&(o.$$scope={dirty:s,ctx:r}),n.$set(o),(!t||s&8192)&&I(e,"id",r[13])},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}const noe=(r,e)=>(r==null?void 0:r.key)===(e==null?void 0:e.key);function roe(r,e,n){let t,l,s,o,i,a,u,f,c,m,d,g,h=H,b=()=>(h(),h=le(s,K=>n(4,g=K)),s),w,S=H,T=()=>(S(),S=le(l,K=>n(5,w=K)),l),M;ne(r,ce,K=>n(14,M=K)),r.$$.on_destroy.push(()=>h()),r.$$.on_destroy.push(()=>S());let{controller:A}=e,{close:D=()=>{}}=e;function O(K){const ee=K.at(0);!ee||A.select(ee)}function F(K,ee){if(ee.key==="Escape"){A.cancel(),D();return}K.handleKeyDown(ee)}async function P(K,ee){if(ee.key==="Escape"){A.cancel(),D();return}ee.key!=="Enter"&&(await A.focusSearch(),K.handleKeyDown(ee))}const B=(K,ee)=>F(K,ee),j=()=>A.addNewRecord(),V=(K,ee)=>P(K,ee);function q(K){g=K,s.set(g)}const G=()=>A.getRecords(),Y=K=>O(K.detail);return r.$$set=K=>{"controller"in K&&n(0,A=K.controller),"close"in K&&n(1,D=K.close)},r.$$.update=()=>{var K,ee;r.$$.dirty&1&&n(13,{elementId:t,records:l,pagination:s,previousValue:o,canAddNewRecord:i}=A,t,T(n(12,l)),b(n(11,s)),(n(2,o),n(0,A)),(n(10,i),n(0,A))),r.$$.dirty&32&&n(9,a=w.isLoading),r.$$.dirty&32&&n(18,u=w.resolvedValue),r.$$.dirty&262144&&n(8,f=(K=u==null?void 0:u.results)!=null?K:[]),r.$$.dirty&262144&&n(3,c=(ee=u==null?void 0:u.count)!=null?ee:0),r.$$.dirty&24&&n(7,m=c>g.size),r.$$.dirty&4&&n(6,d=(()=>{if(!o)return!1;const{key:x}=o;return!(x===void 0||x===null)})())},[A,D,o,c,g,w,d,m,f,a,i,s,l,t,M,O,F,P,u,B,j,V,q,G,Y]}class loe extends Q{constructor(e){super(),Z(this,e,roe,toe,J,{controller:0,close:1})}}function V$(r){let e,n;return e=new Xl({props:{trigger:r[4],isOpen:!0,autoReposition:!0,$$slots:{default:[soe]},$$scope:{ctx:r}}}),e.$on("close",r[6]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.trigger=t[4]),l&137&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function soe(r){let e,n;return e=new loe({props:{controller:r[3],close:r[5]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8&&(s.controller=t[3]),l&1&&(s.close=t[5]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function ooe(r){let e,n,t=r[3]&&V$(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,[s]){l[3]?t?(t.p(l,s),s&8&&_(t,1)):(t=V$(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function ioe(r,e,n){let t,l,s,o=H,i=()=>(o(),o=le(l,g=>n(3,s=g)),l),a,u=H,f=()=>(u(),u=le(t,g=>n(4,a=g)),t);r.$$.on_destroy.push(()=>o()),r.$$.on_destroy.push(()=>u());let{controller:c}=e;const m=()=>c.close(),d=()=>c.close();return r.$$set=g=>{"controller"in g&&n(0,c=g.controller)},r.$$.update=()=>{r.$$.dirty&1&&f(n(2,{triggerElement:t,rowSeeker:l}=c,t,i(n(1,l))))},[c,l,t,s,a,m,d]}class aoe extends Q{constructor(e){super(),Z(this,e,ioe,ooe,J,{controller:0})}}class uoe{constructor(e){te(this,"elementId",vr());te(this,"previousValue");te(this,"records");te(this,"searchValue",Ue(""));te(this,"pagination",Ue(new Or({size:200})));te(this,"select",()=>{});te(this,"cancel",()=>{});te(this,"canAddNewRecord");te(this,"addRecordOptions");te(this,"onSelect");this.records=e.constructRecordStore(),this.addRecordOptions=e.addRecordOptions,this.onSelect=e.onSelect,this.previousValue=e.previousValue,this.canAddNewRecord=!!e.addRecordOptions}async focusSearch(){var t;await sn();const e=document.getElementById(this.elementId),n=e==null?void 0:e.querySelector("[data-row-seeker-search] input[type='text'][data-row-seeker-search-box]");(t=n==null?void 0:n.focus)==null||t.call(n)}async getRecords(){const e=ve(this.pagination);await this.records.run({...e.recordsRequestParams(),search:ve(this.searchValue)||null}),await this.focusSearch()}async resetPaginationAndGetRecords(){this.pagination.set(new Or({size:200,page:1})),await this.getRecords()}async getReady(){await this.focusSearch(),await this.getRecords()}clearRecords(){this.records.reset(),this.searchValue.set("")}async addNewRecord(){if(this.addRecordOptions){const e=await this.addRecordOptions.create(ve(this.searchValue));this.select(e)}}async acquireUserSelection(){return new Promise((e,n)=>{this.select=t=>{var l;e(t),(l=this.onSelect)==null||l.call(this,t)},this.cancel=()=>{n()}})}}class foe{constructor(){te(this,"triggerElement",Ue(void 0));te(this,"rowSeeker",Ue(void 0))}async acquireUserSelection(e){this.triggerElement.set(e.triggerElement);const n=new uoe(e);this.rowSeeker.set(n),await n.getReady();const t=await n.acquireUserSelection();return this.close(),t}close(){this.rowSeeker.set(void 0)}}const PE=Gl();function coe(r){let e,n,t,l=r[4]("remove")+"",s,o;const i=[Mt];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return e=new Ne({props:a}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l),I(t,"class","button-label")},m(u,f){k(e,u,f),v(u,n,f),v(u,t,f),R(t,s),o=!0},p(u,f){const c=f&0?de(i,[_e(Mt)]):{};e.$set(c),(!o||f&16)&&l!==(l=u[4]("remove")+"")&&z(s,l)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){p(e.$$.fragment,u),o=!1},d(u){y(e,u),u&&$(n),u&&$(t)}}}function moe(r){let e,n,t,l,s,o,i,a,u,f,c=r[4]("download")+"",m,d,g,h;n=new ip({props:{fileManifestWithRequestParams:r[1]}}),s=new st({props:{"aria-label":r[4]("remove"),$$slots:{default:[coe]},$$scope:{ctx:r}}}),s.$on("click",r[5]);const b=[_f];let w={};for(let S=0;S<b.length;S+=1)w=se(w,b[S]);return a=new Ne({props:w}),{c(){e=E("div"),C(n.$$.fragment),t=N(),l=E("div"),C(s.$$.fragment),o=N(),i=E("a"),C(a.$$.fragment),u=N(),f=E("span"),m=L(c),I(f,"class","button-label"),I(i,"class","btn btn-default"),I(i,"href",r[3]),I(l,"class","actions svelte-7szjkt"),I(e,"class","file-actions svelte-7szjkt")},m(S,T){v(S,e,T),k(n,e,null),R(e,t),R(e,l),k(s,l,null),R(l,o),R(l,i),k(a,i,null),R(i,u),R(i,f),R(f,m),d=!0,g||(h=Dt(uc.call(null,e)),g=!0)},p(S,T){const M={};T&2&&(M.fileManifestWithRequestParams=S[1]),n.$set(M);const A={};T&16&&(A["aria-label"]=S[4]("remove")),T&272&&(A.$$scope={dirty:T,ctx:S}),s.$set(A);const D=T&0?de(b,[_e(_f)]):{};a.$set(D),(!d||T&16)&&c!==(c=S[4]("download")+"")&&z(m,c),(!d||T&8)&&I(i,"href",S[3])},i(S){d||(_(n.$$.fragment,S),_(s.$$.fragment,S),_(a.$$.fragment,S),d=!0)},o(S){p(n.$$.fragment,S),p(s.$$.fragment,S),p(a.$$.fragment,S),d=!1},d(S){S&&$(e),y(n),y(s),y(a),g=!1,h()}}}function doe(r){let e,n;return e=new Xl({props:{isOpen:!0,trigger:r[0],placements:["bottom","top"],$$slots:{default:[moe]},$$scope:{ctx:r}}}),e.$on("close",function(){St(r[2])&&r[2].apply(this,arguments)}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){r=t;const s={};l&1&&(s.trigger=r[0]),l&282&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function _oe(r,e,n){let t,l;ne(r,ce,c=>n(4,l=c));let{trigger:s}=e,{fileManifestWithRequestParams:o}=e,{close:i=()=>{}}=e,{removeFile:a=()=>{}}=e;function u(c){switch(c.key){case"Escape":i();break}}async function f(){!await vI()||(a(),i())}return tn(()=>(window.addEventListener("keydown",u),()=>{window.removeEventListener("keydown",u)})),r.$$set=c=>{"trigger"in c&&n(0,s=c.trigger),"fileManifestWithRequestParams"in c&&n(1,o=c.fileManifestWithRequestParams),"close"in c&&n(2,i=c.close),"removeFile"in c&&n(6,a=c.removeFile)},r.$$.update=()=>{r.$$.dirty&2&&n(3,{attachment:t}=o,t)},[s,o,i,t,l,f,a]}class poe extends Q{constructor(e){super(),Z(this,e,_oe,doe,J,{trigger:0,fileManifestWithRequestParams:1,close:2,removeFile:6})}}function z$(r){let e,n;const t=[{close:r[3]},r[1]];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new poe({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&3?de(t,[o&1&&{close:s[3]},o&2&&_e(s[1])]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function goe(r){let e,n,t=r[1]&&z$(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,[s]){l[1]?t?(t.p(l,s),s&2&&_(t,1)):(t=z$(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function hoe(r,e,n){let t,l,s=H,o=()=>(s(),s=le(i,u=>n(2,l=u)),i);r.$$.on_destroy.push(()=>s());let{controller:i}=e;o();const a=()=>i.close();return r.$$set=u=>{"controller"in u&&o(n(0,i=u.controller))},r.$$.update=()=>{r.$$.dirty&4&&n(1,t=l)},[i,t,l,a]}class boe extends Q{constructor(e){super(),Z(this,e,hoe,goe,J,{controller:0})}}class $oe{constructor(){te(this,"resolve");te(this,"_isOpen",Ue(!1));te(this,"isOpen");te(this,"_requestParams",Ue(void 0));this.isOpen=this._isOpen}get requestParams(){return this._requestParams}async acquireFileAttachment(e){return this._isOpen.set(!0),this._requestParams.set(e),new Promise(n=>{this.resolve=n})}submitResult(e){var n;(n=this.resolve)==null||n.call(this,e),this._isOpen.set(!1),this._requestParams.set(void 0)}cancel(){this.submitResult(void 0)}}const voe="/files/";function woe(r,e,n){const t=new FormData;return t.append("file",r),G_(Ui(voe,e),t,n)}function B$(r){let e,n,t;return e=new Vn({props:{$$slots:{default:[koe]},$$scope:{ctx:r}}}),{c(){n=E("div"),C(e.$$.fragment),ln(n,"display","contents"),ln(n,"--MessageBox__margin","1rem 0 0 0")},m(l,s){v(l,n,s),k(e,n,null),t=!0},p(l,s){const o={};s&262150&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){l&&$(n),y(e,l)}}}function koe(r){let e,n,t=r[1]("error_uploading_file")+"",l,s,o,i;return{c(){e=E("p"),n=E("strong"),l=L(t),s=N(),o=E("p"),i=L(r[2])},m(a,u){v(a,e,u),R(e,n),R(n,l),v(a,s,u),v(a,o,u),R(o,i)},p(a,u){u&2&&t!==(t=a[1]("error_uploading_file")+"")&&z(l,t),u&4&&z(i,a[2])},d(a){a&&$(e),a&&$(s),a&&$(o)}}}function yoe(r){let e,n,t,l,s;function o(u){r[14](u)}let i={fileProgress:r[4]};r[0]!==void 0&&(i.fileUploads=r[0]),e=new H_({props:i}),we.push(()=>Me(e,"fileUploads",o)),e.$on("add",r[9]);let a=r[2]&&B$(r);return{c(){C(e.$$.fragment),t=N(),a&&a.c(),l=ae()},m(u,f){k(e,u,f),v(u,t,f),a&&a.m(u,f),v(u,l,f),s=!0},p(u,f){const c={};f&16&&(c.fileProgress=u[4]),!n&&f&1&&(n=!0,c.fileUploads=u[0],De(()=>n=!1)),e.$set(c),u[2]?a?(a.p(u,f),f&4&&_(a,1)):(a=B$(u),a.c(),_(a,1),a.m(l.parentNode,l)):a&&(U(),p(a,1,1,()=>{a=null}),W())},i(u){s||(_(e.$$.fragment,u),_(a),s=!0)},o(u){p(e.$$.fragment,u),p(a),s=!1},d(u){y(e,u),u&&$(t),a&&a.d(u),u&&$(l)}}}function Coe(r){let e,n;return e=new wT({props:{isOpen:r[7],title:r[3],$$slots:{default:[yoe]},$$scope:{ctx:r}}}),e.$on("close",r[8]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&128&&(s.isOpen=t[7]),l&8&&(s.title=t[3]),l&262167&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}const Soe=98;function Toe(r,e,n){let t,l,s,o,i,a,u=H,f=()=>(u(),u=le(l,P=>n(16,a=P)),l),c,m,d=H,g=()=>(d(),d=le(t,P=>n(7,m=P)),t);ne(r,ce,P=>n(1,c=P)),r.$$.on_destroy.push(()=>u()),r.$$.on_destroy.push(()=>d());let{controller:h}=e,b=!1,w,S=0,T,M="";function A(){h.cancel(),n(0,w=void 0),n(12,S=0),T==null||T.cancel(),T=void 0}function D(P){n(12,S=P.percentCompleted)}async function O(P){var B;try{n(2,M=""),n(11,b=!0);const j=(B=P.detail.added.at(0))==null?void 0:B.file;if(!j)return;T=woe(j,a,D);try{const V=await T;h.submitResult(V)}catch(V){n(2,M=Yt(V)),A()}}catch(j){$t.fromError(j),A()}finally{n(11,b=!1),T=void 0}}function F(P){w=P,n(0,w)}return r.$$set=P=>{"controller"in P&&n(10,h=P.controller)},r.$$.update=()=>{r.$$.dirty&1024&&g(n(6,{isOpen:t,requestParams:l}=h,t,f(n(5,l)))),r.$$.dirty&1&&n(13,s=w==null?void 0:w[0]),r.$$.dirty&14336&&n(4,o=(()=>{if(!s)return{};const P=b?Math.min(S,Soe):100;return{[s.fileId]:P}})()),r.$$.dirty&2&&n(3,i=c("upload_file"))},[w,c,M,i,o,l,t,m,A,O,h,b,S,s,F]}class Ioe extends Q{constructor(e){super(),Z(this,e,Toe,Coe,J,{controller:10})}}function Eoe(r){let e,n;const t=[Ts];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[_e(Ts)]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function Moe(r){let e,n,t,l=r[9]("remove")+"",s,o;const i=[Mt];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return e=new Ne({props:a}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l),I(t,"class","button-label svelte-lcym4c")},m(u,f){k(e,u,f),v(u,n,f),v(u,t,f),R(t,s),o=!0},p(u,f){const c=f&0?de(i,[_e(Mt)]):{};e.$set(c),(!o||f&512)&&l!==(l=u[9]("remove")+"")&&z(s,l)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){p(e.$$.fragment,u),o=!1},d(u){y(e,u),u&&$(n),u&&$(t)}}}function Roe(r){let e,n,t,l=r[9]("info")+"",s,o;const i=[ma];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return e=new Ne({props:a}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l),I(t,"class","button-label svelte-lcym4c")},m(u,f){k(e,u,f),v(u,n,f),v(u,t,f),R(t,s),o=!0},p(u,f){const c=f&0?de(i,[_e(ma)]):{};e.$set(c),(!o||f&512)&&l!==(l=u[9]("info")+"")&&z(s,l)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){p(e.$$.fragment,u),o=!1},d(u){y(e,u),u&&$(n),u&&$(t)}}}function Doe(r){let e,n,t;return n=new ip({props:{fileManifestWithRequestParams:r[0]}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","info svelte-lcym4c"),I(e,"slot","content")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&1&&(o.fileManifestWithRequestParams=l[0]),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function Aoe(r){let e,n;const t=[{slot:"trigger"},{showArrow:!1},r[12],{ariaLabel:r[9]("filter")},{placements:["bottom","top"]},{contentClass:"info-dropdown-content"}];let l={$$slots:{content:[Doe],trigger:[Roe]},$$scope:{ctx:r}};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Nl({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&4608?de(t,[t[0],t[1],o&4096&&_e(s[12]),o&512&&{ariaLabel:s[9]("filter")},t[4],t[5]]):{};o&524801&&(i.$$scope={dirty:o,ctx:s}),e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function Ooe(r){let e,n=r[9]("info")+"",t;return{c(){e=E("div"),t=L(n),I(e,"slot","content")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&512&&n!==(n=l[9]("info")+"")&&z(t,n)},d(l){l&&$(e)}}}function Foe(r){let e,n,t,l,s=r[9]("download")+"",o,i;const a=[_f];let u={};for(let f=0;f<a.length;f+=1)u=se(u,a[f]);return n=new Ne({props:u}),{c(){e=E("a"),C(n.$$.fragment),t=N(),l=E("span"),o=L(s),I(l,"class","button-label svelte-lcym4c"),I(e,"slot","trigger"),I(e,"class","btn btn-default"),I(e,"href",r[8])},m(f,c){v(f,e,c),k(n,e,null),R(e,t),R(e,l),R(l,o),i=!0},p(f,c){const m=c&0?de(a,[_e(_f)]):{};n.$set(m),(!i||c&512)&&s!==(s=f[9]("download")+"")&&z(o,s),(!i||c&256)&&I(e,"href",f[8])},i(f){i||(_(n.$$.fragment,f),i=!0)},o(f){p(n.$$.fragment,f),i=!1},d(f){f&&$(e),y(n)}}}function Noe(r){let e,n=r[9]("download")+"",t;return{c(){e=E("div"),t=L(n),I(e,"slot","content")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&512&&n!==(n=l[9]("download")+"")&&z(t,n)},d(l){l&&$(e)}}}function Poe(r){let e,n,t,l,s,o,i,a,u,f,c,m,d,g,h,b,w,S,T,M,A,D,O;return a=new st({props:{$$slots:{default:[Eoe]},$$scope:{ctx:r}}}),a.$on("click",function(){St(r[1])&&r[1].apply(this,arguments)}),d=new st({props:{"aria-label":r[9]("remove"),tooltip:r[6]?void 0:r[9]("remove"),$$slots:{default:[Moe]},$$scope:{ctx:r}}}),d.$on("click",r[11]),h=new On({props:{enabled:!r[6],$$slots:{content:[Ooe],trigger:[Aoe]},$$scope:{ctx:r}}}),w=new On({props:{enabled:!r[6],$$slots:{content:[Noe],trigger:[Foe]},$$scope:{ctx:r}}}),{c(){e=E("div"),n=E("div"),l=N(),s=E("div"),o=E("div"),i=E("div"),C(a.$$.fragment),u=N(),f=E("div"),c=N(),m=E("div"),C(d.$$.fragment),g=N(),C(h.$$.fragment),b=N(),C(w.$$.fragment),I(n,"class","overlay svelte-lcym4c"),I(i,"class","top svelte-lcym4c"),I(f,"class","img-holder svelte-lcym4c"),ie(f,"rounded",r[5]),I(m,"class","bottom svelte-lcym4c"),I(o,"class","img-area svelte-lcym4c"),xn(()=>r[17].call(o)),ie(o,"show-button-labels",r[6]),I(s,"class","img-viewport-boundary svelte-lcym4c"),I(e,"class","lightbox svelte-lcym4c"),I(e,"style",M=Ml({"--img-natural-height-raw":`${r[7]}`,"--img-natural-width-raw":`${r[3]}`,"--img-natural-height-px":`${r[7]}px`,"--img-natural-width-px":`${r[3]}px`}))},m(F,P){v(F,e,P),R(e,n),R(e,l),R(e,s),R(s,o),R(o,i),k(a,i,null),R(o,u),R(o,f),r[16](f),R(o,c),R(o,m),k(d,m,null),R(m,g),k(h,m,null),R(m,b),k(w,m,null),S=Go(o,r[17].bind(o)),A=!0,D||(O=[Dt(fo.call(null,e)),Dt(uc.call(null,e))],D=!0)},p(F,[P]){r=F;const B={};P&524288&&(B.$$scope={dirty:P,ctx:r}),a.$set(B),(!A||P&32)&&ie(f,"rounded",r[5]);const j={};P&512&&(j["aria-label"]=r[9]("remove")),P&576&&(j.tooltip=r[6]?void 0:r[9]("remove")),P&524800&&(j.$$scope={dirty:P,ctx:r}),d.$set(j);const V={};P&64&&(V.enabled=!r[6]),P&528897&&(V.$$scope={dirty:P,ctx:r}),h.$set(V);const q={};P&64&&(q.enabled=!r[6]),P&525056&&(q.$$scope={dirty:P,ctx:r}),w.$set(q),(!A||P&64)&&ie(o,"show-button-labels",r[6]),(!A||P&136&&M!==(M=Ml({"--img-natural-height-raw":`${r[7]}`,"--img-natural-width-raw":`${r[3]}`,"--img-natural-height-px":`${r[7]}px`,"--img-natural-width-px":`${r[3]}px`})))&&I(e,"style",M)},i(F){A||(F&&xn(()=>{t||(t=Po(n,jl,{duration:200},!0)),t.run(1)}),_(a.$$.fragment,F),_(d.$$.fragment,F),_(h.$$.fragment,F),_(w.$$.fragment,F),F&&xn(()=>{T||(T=Po(o,r[10],{},!0)),T.run(1)}),A=!0)},o(F){F&&(t||(t=Po(n,jl,{duration:200},!1)),t.run(0)),p(a.$$.fragment,F),p(d.$$.fragment,F),p(h.$$.fragment,F),p(w.$$.fragment,F),F&&(T||(T=Po(o,r[10],{},!1)),T.run(0)),A=!1},d(F){F&&$(e),F&&t&&t.end(),y(a),r[16](null),y(d),y(h),y(w),S(),F&&T&&T.end(),D=!1,Ot(O)}}}function Loe(r,e,n){let t,l,s,o,i;const a=["imageElement","zoomOrigin","fileManifestWithRequestParams","close","removeFile"];let u=We(e,a),f;ne(r,ce,O=>n(9,f=O));let{imageElement:c}=e,{zoomOrigin:m=void 0}=e,{fileManifestWithRequestParams:d}=e,{close:g=()=>{}}=e,{removeFile:h=()=>{}}=e,b,w;function S(O){switch(O.key){case"Escape":g();break}}function T(O,F){var x;if(!m)return{};const P=O.getBoundingClientRect();function B(X){return{x:X.left+X.width/2,y:X.top+X.height/2}}const j=B(P),V=B(m);function q(X,fe,he){return me=>`${X+(fe-X)*me}${he!=null?he:""}`}function G(X){return`transform: ${Object.entries(X).map(([he,me])=>`${he}(${me})`).join(" ")};`}const Y=q(m.width/P.width,1),K=q(V.x-j.x,0,"px"),ee=q(V.y-j.y,0,"px");return{duration:(x=F==null?void 0:F.duration)!=null?x:300,easing:SO,css:X=>G({translateX:K(X),translateY:ee(X),scale:Y(X)})}}async function M(){!await vI()||(h(),g())}tn(()=>(b.replaceChildren(c),window.addEventListener("keydown",S),()=>{window.removeEventListener("keydown",S)}));function A(O){we[O?"unshift":"push"](()=>{b=O,n(4,b)})}function D(){w=this.clientWidth,n(2,w)}return r.$$set=O=>{e=se(se({},e),pt(O)),n(12,u=We(e,a)),"imageElement"in O&&n(13,c=O.imageElement),"zoomOrigin"in O&&n(14,m=O.zoomOrigin),"fileManifestWithRequestParams"in O&&n(0,d=O.fileManifestWithRequestParams),"close"in O&&n(1,g=O.close),"removeFile"in O&&n(15,h=O.removeFile)},r.$$.update=()=>{r.$$.dirty&1&&n(8,{attachment:t}=d,t),r.$$.dirty&8192&&n(7,{naturalHeight:l,naturalWidth:s}=c,l,(n(3,s),n(13,c))),r.$$.dirty&4&&n(6,o=w>500),r.$$.dirty&8&&n(5,i=s>100)},[d,g,w,s,b,i,o,l,t,f,T,M,u,c,m,h,A,D]}class Hoe extends Q{constructor(e){super(),Z(this,e,Loe,Poe,J,{imageElement:13,zoomOrigin:14,fileManifestWithRequestParams:0,close:1,removeFile:15})}}function q$(r){let e,n;const t=[{close:r[3]},r[1]];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Hoe({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&3?de(t,[o&1&&{close:s[3]},o&2&&_e(s[1])]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function Voe(r){let e,n,t=r[1]&&q$(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,[s]){l[1]?t?(t.p(l,s),s&2&&_(t,1)):(t=q$(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function zoe(r,e,n){let t,l,s=H,o=()=>(s(),s=le(i,u=>n(2,l=u)),i);r.$$.on_destroy.push(()=>s());let{controller:i}=e;o();const a=()=>i.close();return r.$$set=u=>{"controller"in u&&o(n(0,i=u.controller))},r.$$.update=()=>{r.$$.dirty&4&&n(1,t=l)},[i,t,l,a]}class Boe extends Q{constructor(e){super(),Z(this,e,zoe,Voe,J,{controller:0})}}const LE=Gl();function qoe(r){let e,n,t,l,s,o,i,a,u,f,c,m,d,g,h,b,w,S,T,M;n=new uG({props:{entries:$t.entries}}),l=new Qj({props:{controller:W_}}),o=new Hse({props:{recordSelectorController:r[1],modalController:r[0]}}),a=new aoe({props:{controller:r[2]}}),f=new Boe({props:{controller:r[3]}}),m=new boe({props:{controller:r[4]}}),g=new Ioe({props:{controller:r[5]}}),b=new JY({props:{controller:r[6]}});const A=r[13].default,D=ke(A,r,r[12],null);return{c(){e=N(),C(n.$$.fragment),t=N(),C(l.$$.fragment),s=N(),C(o.$$.fragment),i=N(),C(a.$$.fragment),u=N(),C(f.$$.fragment),c=N(),C(m.$$.fragment),d=N(),C(g.$$.fragment),h=N(),C(b.$$.fragment),w=N(),D&&D.c()},m(O,F){v(O,e,F),k(n,O,F),v(O,t,F),k(l,O,F),v(O,s,F),k(o,O,F),v(O,i,F),k(a,O,F),v(O,u,F),k(f,O,F),v(O,c,F),k(m,O,F),v(O,d,F),k(g,O,F),v(O,h,F),k(b,O,F),v(O,w,F),D&&D.m(O,F),S=!0,T||(M=[He(document.body,"copy",r[8]),He(document.body,"paste",r[9])],T=!0)},p(O,[F]){D&&D.p&&(!S||F&4096)&&Ce(D,A,O,O[12],S?ye(A,O[12],F,null):Se(O[12]),null)},i(O){S||(_(n.$$.fragment,O),_(l.$$.fragment,O),_(o.$$.fragment,O),_(a.$$.fragment,O),_(f.$$.fragment,O),_(m.$$.fragment,O),_(g.$$.fragment,O),_(b.$$.fragment,O),_(D,O),S=!0)},o(O){p(n.$$.fragment,O),p(l.$$.fragment,O),p(o.$$.fragment,O),p(a.$$.fragment,O),p(f.$$.fragment,O),p(m.$$.fragment,O),p(g.$$.fragment,O),p(b.$$.fragment,O),p(D,O),S=!1},d(O){O&&$(e),y(n,O),O&&$(t),y(l,O),O&&$(s),y(o,O),O&&$(i),y(a,O),O&&$(u),y(f,O),O&&$(c),y(m,O),O&&$(d),y(g,O),O&&$(h),y(b,O),O&&$(w),D&&D.d(O),T=!1,Ot(M)}}}function Uoe(r,e,n){let t,l,{$$slots:s={},$$scope:o}=e,{commonData:i}=e;GG([]);function a(){const T=i.routing_context==="anonymous"?new fJ:i.user,M=dJ(T),A=ve(M);i.is_authenticated&&A.isMathesarAdmin&&DX(i.current_release_tag_name)}const u=un.spawnModalController(),f=new vE({onOpen:()=>u.open(),onClose:()=>u.close(),nestingLevel:0});ko.set(f);const c=new foe;PE.set(c);const m=new Gee;ap.set(m);const d=new Wee;sp.set(d);const g=new $oe;op.set(g);const h=new ZY;LE.set(h);const b=KG();ne(r,b,T=>n(11,l=T));function w(T){!t||!t.shouldHandleCopy(T)||(t.handleCopy(T),T.preventDefault())}function S(T){!t||!t.shouldHandlePaste(T)||(t.handlePaste(T),T.preventDefault())}return r.$$set=T=>{"commonData"in T&&n(10,i=T.commonData),"$$scope"in T&&n(12,o=T.$$scope)},r.$$.update=()=>{r.$$.dirty&1024&&a(),r.$$.dirty&2048&&(t=l)},[u,f,c,m,d,g,h,b,w,S,i,l,o,s]}class Woe extends Q{constructor(e){super(),Z(this,e,Uoe,qoe,J,{commonData:10})}}const joe="modulepreload",Yoe=function(r){return"/static/"+r},U$={},W$=function(e,n,t){return!n||n.length===0?e():Promise.all(n.map(l=>{if(l=Yoe(l),l in U$)return;U$[l]=!0;const s=l.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${o}`))return;const i=document.createElement("link");if(i.rel=s?"stylesheet":joe,s||(i.as="script",i.crossOrigin=""),i.href=l,document.head.appendChild(i),s)return new Promise((a,u)=>{i.addEventListener("load",a),i.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>e())},Goe={en:()=>W$(()=>import("./en.522bd32d.js"),["assets/en.522bd32d.js","assets/utils.c7180a40.js"]),ja:()=>W$(()=>import("./ja.1acbc589.js"),["assets/ja.1acbc589.js","assets/utils.c7180a40.js"])};async function j$(r){return{default:(await Goe[r]()).default.dictionary}}function HE(r){wc.set("display_language",r)}async function Koe(r){N1("en",()=>j$("en")),N1("ja",()=>j$("ja"));const{translations:e}=window.Mathesar||{},n=e&&r?e[r]:void 0,t=r&&n?{language:r,dictionary:n}:void 0;t&&kS(t.language,t.dictionary),await QA({fallbackLocale:"en",initialLocale:r}),HE(r)}async function Xoe(r){await As.set(r),HE(r)}function Joe(r,e,n){let{meta:t}=e,{onLoad:l=()=>{}}=e,{onUnload:s=()=>{}}=e;return tn(()=>{const o=t.subscribe(i=>{i&&l(i)});return()=>{o(),s()}}),r.$$set=o=>{"meta"in o&&n(0,t=o.meta),"onLoad"in o&&n(1,l=o.onLoad),"onUnload"in o&&n(2,s=o.onUnload)},[t,l,s]}class yp extends Q{constructor(e){super(),Z(this,e,Joe,null,J,{meta:0,onLoad:1,onUnload:2})}}function Y$(r){let e=r[4]("feedback")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&16&&e!==(e=t[4]("feedback")+"")&&z(n,e)},d(t){t&&$(n)}}}function Zoe(r){let e,n,t,l;const s=[a0,{size:"0.8em"}];let o={};for(let a=0;a<s.length;a+=1)o=se(o,s[a]);n=new Ne({props:o});let i=!r[0]&&Y$(r);return{c(){e=E("div"),C(n.$$.fragment),t=N(),i&&i.c(),I(e,"class","trigger svelte-slmuqi"),I(e,"slot","trigger")},m(a,u){v(a,e,u),k(n,e,null),R(e,t),i&&i.m(e,null),l=!0},p(a,u){const f=u&0?de(s,[_e(a0),s[1]]):{};n.$set(f),a[0]?i&&(i.d(1),i=null):i?i.p(a,u):(i=Y$(a),i.c(),i.m(e,null))},i(a){l||(_(n.$$.fragment,a),l=!0)},o(a){p(n.$$.fragment,a),l=!1},d(a){a&&$(e),y(n),i&&i.d()}}}function Qoe(r){let e,n,t=r[4]("thanks_for_feedback")+"",l,s,o,i=r[4]("take_survey_understand_use_case")+"",a,u,f,c,m;return c=new Zr({props:{appearance:"primary",size:"small",href:ro("survey"),target:"_blank",$$slots:{default:[eie]},$$scope:{ctx:r}}}),{c(){e=E("div"),n=E("div"),l=L(t),s=N(),o=E("div"),a=L(i),u=N(),f=E("div"),C(c.$$.fragment),I(n,"class","title svelte-slmuqi"),I(e,"class","follow-up svelte-slmuqi")},m(d,g){v(d,e,g),R(e,n),R(n,l),R(e,s),R(e,o),R(o,a),R(e,u),R(e,f),k(c,f,null),m=!0},p(d,g){(!m||g&16)&&t!==(t=d[4]("thanks_for_feedback")+"")&&z(l,t),(!m||g&16)&&i!==(i=d[4]("take_survey_understand_use_case")+"")&&z(a,i);const h={};g&2064&&(h.$$scope={dirty:g,ctx:d}),c.$set(h)},i(d){m||(_(c.$$.fragment,d),m=!0)},o(d){p(c.$$.fragment,d),m=!1},d(d){d&&$(e),y(c)}}}function xoe(r){let e,n,t,l=r[4]("feedback_form_help")+"",s,o,i,a,u,f,c=r[0]&&G$(r);return i=new It({props:{field:r[5],input:{component:Zl,props:{focusOnMount:!0}}}}),u=new yn({props:{form:r[1],catchErrors:!0,onProceed:r[6],size:"small",cancelButton:{label:r[4]("clear")},proceedButton:{icon:s0,label:r[4]("send_feedback")}}}),{c(){e=E("div"),c&&c.c(),n=N(),t=E("div"),s=L(l),o=N(),C(i.$$.fragment),a=N(),C(u.$$.fragment),I(t,"class","help svelte-slmuqi"),I(e,"class","feedback-form svelte-slmuqi")},m(m,d){v(m,e,d),c&&c.m(e,null),R(e,n),R(e,t),R(t,s),R(e,o),k(i,e,null),R(e,a),k(u,e,null),f=!0},p(m,d){m[0]?c?c.p(m,d):(c=G$(m),c.c(),c.m(e,n)):c&&(c.d(1),c=null),(!f||d&16)&&l!==(l=m[4]("feedback_form_help")+"")&&z(s,l);const g={};d&2&&(g.form=m[1]),d&16&&(g.cancelButton={label:m[4]("clear")}),d&16&&(g.proceedButton={icon:s0,label:m[4]("send_feedback")}),u.$set(g)},i(m){f||(_(i.$$.fragment,m),_(u.$$.fragment,m),f=!0)},o(m){p(i.$$.fragment,m),p(u.$$.fragment,m),f=!1},d(m){m&&$(e),c&&c.d(),y(i),y(u)}}}function eie(r){let e,n=r[4]("go_to_survey")+"",t,l,s,o;const i=[Yl];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return s=new Ne({props:a}),{c(){e=E("span"),t=L(n),l=N(),C(s.$$.fragment)},m(u,f){v(u,e,f),R(e,t),v(u,l,f),k(s,u,f),o=!0},p(u,f){(!o||f&16)&&n!==(n=u[4]("go_to_survey")+"")&&z(t,n);const c=f&0?de(i,[_e(Yl)]):{};s.$set(c)},i(u){o||(_(s.$$.fragment,u),o=!0)},o(u){p(s.$$.fragment,u),o=!1},d(u){u&&$(e),u&&$(l),y(s,u)}}}function G$(r){let e,n=r[4]("feedback")+"",t;return{c(){e=E("div"),t=L(n),I(e,"class","title svelte-slmuqi")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&16&&n!==(n=l[4]("feedback")+"")&&z(t,n)},d(l){l&&$(e)}}}function tie(r){let e,n,t,l;const s=[xoe,Qoe],o=[];function i(a,u){return a[2]?1:0}return n=i(r),t=o[n]=s[n](r),{c(){e=E("div"),t.c(),I(e,"class","feedback-content svelte-slmuqi"),I(e,"slot","content")},m(a,u){v(a,e,u),o[n].m(e,null),l=!0},p(a,u){let f=n;n=i(a),n===f?o[n].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),t=o[n],t?t.p(a,u):(t=o[n]=s[n](a),t.c()),_(t,1),t.m(e,null))},i(a){l||(_(t),l=!0)},o(a){p(t),l=!1},d(a){a&&$(e),o[n].d()}}}function nie(r){let e,n,t;return n=new Nl({props:{triggerAppearance:"custom",triggerClass:"feedback-button",closeOnInnerClick:!1,showArrow:!1,$$slots:{content:[tie],trigger:[Zoe]},$$scope:{ctx:r}}}),n.$on("close",r[7]),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","feedback-section svelte-slmuqi")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,[s]){const o={};s&2071&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function rie(r,e,n){let t,l,s,o=H,i=()=>(o(),o=le(t,b=>n(8,s=b)),t),a,u;ne(r,ce,b=>n(4,u=b)),r.$$.on_destroy.push(()=>o());const f=gt("");ne(r,f,b=>n(9,a=b));let{compactLayout:c=!1}=e,m=Wt({feedback:f});async function d(){await Ke.analytics.upload_feedback({message:a}).run()}function g(){const b=s==null?void 0:s.state;(b==="success"||b==="failure")&&(f.reset(),n(1,m=Wt({feedback:f})))}function h(){g()}return r.$$set=b=>{"compactLayout"in b&&n(0,c=b.compactLayout)},r.$$.update=()=>{r.$$.dirty&2&&i(n(3,t=m.requestStatus)),r.$$.dirty&256&&n(2,l=(s==null?void 0:s.state)==="success")},[c,m,l,t,u,f,d,h,s]}class lie extends Q{constructor(e){super(),Z(this,e,rie,nie,J,{compactLayout:0})}}function sie(r){let e,n,t;return{c(){e=Ut("svg"),n=Ut("path"),t=Ut("path"),I(n,"class","outer svelte-1o6c8w3"),I(n,"d","m18.35 0.09207c-1.152 7.807e-4 -2.635 0.3131-3.622 0.9921-0.9901 0.6812-0.5287 2.056 0.2266 2.585-1.007-0.2522-2.018-0.4122-2.988-0.4354-0.9699-0.02324-1.955 0.09245-2.821 0.4453-0.9198 0.3747-1.584 0.9451-1.962 1.716-0.3939 0.8021-0.4815 1.588-0.5129 2.392-0.8075 0.3468-2.145 0.8722-3.33 1.642-1.223 0.7943-2.502 1.987-2.871 3.777-0.2947 1.431-0.2396 3.742-0.03579 5.901 0.2055 2.176 0.6011 4.429 0.8927 5.336 0.298 0.9275 0.7092 1.372 1.443 1.392 1.074 0.02812 3.09-0.0077 3.575-0.01988 0.6369-0.01594 1.171-0.3577 1.431-0.7137 0.1977-0.2703 0.2631-0.5034 0.2883-0.9563 0.03325-0.599 0.2443-1.166 0.4016-1.718 0.4652 0.1986 1.167 0.1588 1.594-0.06362 0.03306 0.2464 0.08158 0.4963 0.1133 0.7436 0.1104 0.8597 0.3894 1.596 0.8112 2.235 0.1707 0.2586 0.6014 0.5661 1.187 0.5626v4e-3c2.139 0 4.277-3.08e-4 5.402 0 1.125 3.08e-4 1.283 9.62e-4 1.439-0.01391 0.9502-0.1075 1.289-0.5873 1.408-1.227 0.04104-0.2213-0.02173-0.6675-0.08748-0.8668-0.6462-1.671-1.305-3.309-1.441-5.09 0.4409-0.6919 0.8857-1.357 1.362-1.952 0.9547-1.193 1.948-2.208 2.505-3.002 0.3073-0.4385 0.1635-0.9533 0.1014-1.143 0.3457-0.2108 0.6778-0.4329 0.9364-0.7296 1.418-1.626 2.166-3.836 1.869-5.813-0.2771-1.846-1.04-3.11-2.326-4.193-1.611-1.357-3.126-1.787-4.988-1.785zm-0.4473 3.223c0.3671-6.552e-4 0.7317 0.04784 1.064 0.1471 0.4283 0.1281 0.7191 0.3172 0.8867 0.5109 0.1472 0.1702 0.2445 0.3894 0.2227 0.7316-1e-3 0.01566-0.0044 0.04149-0.01591 0.07754l-0.02982 0.09344-0.0676 0.09145c-0.02096 0.02825-0.04497 0.05756-0.07357 0.08549l-0.1233 0.1193-0.163 0.05169c-0.07692 0.0237-0.1726 0.03753-0.2883 0.02982h-2e-3c-0.1386-0.00996-0.3246-0.05301-0.5586-0.171h-2e-3c-0.9602-0.4858-2.021-0.9094-3.104-1.229 0.1707-0.00439 0.3584-0.0453 0.5527-0.1491h2e-3c0.4721-0.2529 1.088-0.3886 1.7-0.3897z"),I(t,"class","inner svelte-1o6c8w3"),I(t,"d","m18.16 1.303c-0.97 0.03351-1.92 0.2781-2.71 0.7774-0.1753 0.1107 0.08091 0.6012 0.1829 0.5467 2.117-1.134 5.836-0.4821 5.668 2.155-0.0078 0.122-0.03177 0.2472-0.07157 0.3718 0.1697 0.03181 0.3368 0.06151 0.4931 0.05964 0.3673-0.0044 0.3792 0.5654-0.01198 0.5587-0.2708-0.00467-0.5129-0.03452-0.7595-0.07754-0.05986 0.0807-0.1288 0.1582-0.2028 0.2306 0.2214 0.06347 0.4212 0.1466 0.5964 0.2207 0.4015 0.1698 0.1072 0.7515-0.2485 0.6064-0.3522-0.1437-0.7434-0.2657-1.127-0.3618-0.2215 0.06824-0.4682 0.09971-0.7336 0.08151-0.3168-0.02215-0.6613-0.115-1.028-0.3002-1.934-0.9788-4.268-1.67-6.247-1.718-0.8814-0.021-1.687 0.08674-2.348 0.3559-1.355 0.552-1.648 1.574-1.722 2.827 0.1192 2.325 0.7394 3.941 1.596 4.986 0.6159 0.7511 1.356 1.207 2.117 1.422 0.7604 0.214 1.544 0.1881 2.249-0.02386 0.7359-0.2217 1.364-0.6598 1.819-1.211 0.3022-0.3661 0.8429 0.0763 0.5607 0.4354-0.533 0.6782-1.299 1.19-2.173 1.453-0.8265 0.249-1.749 0.2779-2.644 0.02585-0.894-0.2516-1.759-0.7823-2.475-1.656-0.8527-1.04-1.491-2.17-1.702-4.193-1.727 0.7486-5.022 1.93-5.567 4.577-0.51 2.476 0.1425 8.616 0.9702 11.05 0.02791 0.08224 0.1255 0.1104 0.2127 0.1113l3.437-0.01988c0.0566 7e-3 0.5772-0.0935 0.5467-0.3797-0.06438-0.6058 0.774-3.644 1.264-3.525 0.2822 0.06861 0.5672 0.8384 1.36 0.5984 0.8521-0.2582 0.9309-1.268 1.37-1.529 0.2796-0.1663 0.2146 0.1532 0.2604 0.6799 0.07441 0.86 0.3329 4.275 1.084 4.247h3.408c0.1622-4.07e-4 0.3114-0.05755 0.4274-0.1551 0.1151-0.0971 0.197-0.2353 0.2247-0.3956 0.2825-1.624 0.759-4.55 1.435-5.752l0.1272-0.2207c0.89-1.515 2.067-2.865 3.455-4.459 0.126-0.1445 0.3013-0.3629 0.4255-0.5189 0.08432-0.106 0.03431-0.2439-0.08151-0.2843-0.4965-0.1731-0.9139-0.3079-1.159-0.5189-0.02616-0.02219-0.03608-0.05598-0.02783-0.08947 0.0085-0.03318 0.03202-0.05629 0.06561-0.06363 2.26-0.4751 3.081-1.652 3.674-3.298 0.3251-0.9019 0.4278-1.814 0.3082-2.694-0.1189-0.8752-0.457-1.724-1.012-2.505-0.2803-0.3944-0.5855-0.7282-0.9086-1.008-1.088-0.9415-2.763-1.475-4.38-1.42zm-0.07953 6.09c0.2647-0.00889 0.5301 0.1034 0.7098 0.3261 0.3024 0.3746-0.4219 0.2323-0.7952 0.5328-0.373 0.3004-0.2544 0.9296-0.5567 0.5547-0.3025-0.3749-0.2437-0.9222 0.1292-1.223 0.1516-0.122 0.3319-0.1848 0.5129-0.1909zm-0.2843 12.33c-0.3926 0.8752-0.5883 3.463-0.7793 4.561-0.02677 0.1549-0.06552 0.2731-0.1372 0.4036h1.722c0.4474 0.0027 0.7397-0.0078 0.5766-0.503-0.3803-1.154-1.199-3.049-1.382-4.461z"),I(e,"width","1em"),I(e,"height","1em"),I(e,"viewBox","0 0 26 26")},m(l,s){v(l,e,s),R(e,n),R(e,t)},p:H,i:H,o:H,d(l){l&&$(e)}}}function oie(r){return[]}class Cp extends Q{constructor(e){super(),Z(this,e,oie,sie,J,{})}}const ou={LOGIN:"LOGIN",COLON:":",EN_DASH:"\u2013",MATHESAR:"Mathesar"};function iie(r){let e,n,t;return n=new D_({props:{path:r[2]}}),{c(){e=Ut("svg"),C(n.$$.fragment),I(e,"class","mathesar-name svelte-1aeru0w"),I(e,"version","1.1"),I(e,"viewBox","0 0 "+r[0]+" "+r[1]),I(e,"height","0.77em"),I(e,"role","img"),I(e,"aria-label",ou.MATHESAR)},m(l,s){v(l,e,s),k(n,e,null),t=!0},p:H,i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function aie(r){let e,n,t=r[2]&&iie(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,[s]){l[2]&&t.p(l,s)},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function uie(r){const[e,n,,,t]=LK.data.icon,l=(Array.isArray(t)?t:[t]).at(0);return[e,n,l]}class Sp extends Q{constructor(e){super(),Z(this,e,uie,aie,J,{})}}function fie(r){let e,n,t,l,s,o;n=new Cp({}),s=new Sp({});let i=[r[2],{href:r[0]},{class:"home-link"}],a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return{c(){e=E("a"),C(n.$$.fragment),t=N(),l=E("div"),C(s.$$.fragment),I(l,"class","mathesar svelte-1kgfxji"),Tt(e,a),ie(e,"compact",r[1]),ie(e,"svelte-1kgfxji",!0)},m(u,f){v(u,e,f),k(n,e,null),R(e,t),R(e,l),k(s,l,null),o=!0},p(u,[f]){Tt(e,a=de(i,[f&4&&u[2],(!o||f&1)&&{href:u[0]},{class:"home-link"}])),ie(e,"compact",u[1]),ie(e,"svelte-1kgfxji",!0)},i(u){o||(_(n.$$.fragment,u),_(s.$$.fragment,u),o=!0)},o(u){p(n.$$.fragment,u),p(s.$$.fragment,u),o=!1},d(u){u&&$(e),y(n),y(s)}}}function cie(r,e,n){const t=["href","compactLayout"];let l=We(e,t),{href:s}=e,{compactLayout:o=!1}=e;return r.$$set=i=>{e=se(se({},e),pt(i)),n(2,l=We(e,t)),"href"in i&&n(0,s=i.href),"compactLayout"in i&&n(1,o=i.compactLayout)},[s,o,l]}class mie extends Q{constructor(e){super(),Z(this,e,cie,fie,J,{href:0,compactLayout:1})}}const die=r=>({databaseDisplayName:r&1}),K$=r=>({databaseDisplayName:r[0].displayName});function _ie(r){let e=r[0].displayName+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1&&e!==(e=t[0].displayName+"")&&z(n,e)},d(t){t&&$(n)}}}function pie(r){let e;const n=r[2].default,t=ke(n,r,r[3],K$),l=t||_ie(r);return{c(){l&&l.c()},m(s,o){l&&l.m(s,o),e=!0},p(s,o){t?t.p&&(!e||o&9)&&Ce(t,n,s,s[3],e?ye(n,s[3],o,die):Se(s[3]),K$):l&&l.p&&(!e||o&1)&&l.p(s,e?o:-1)},i(s){e||(_(l,s),e=!0)},o(s){p(l,s),e=!1},d(s){l&&l.d(s)}}}function gie(r){let e,n;return e=new Qn({props:{icon:Js,iconHasBox:r[1],cssVariables:{"--icon-color":"var(--color-database)"},$$slots:{default:[pie]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&2&&(s.iconHasBox=t[1]),l&9&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function hie(r,e,n){let{$$slots:t={},$$scope:l}=e,{database:s}=e,{iconHasBox:o=!1}=e;return r.$$set=i=>{"database"in i&&n(0,s=i.database),"iconHasBox"in i&&n(1,o=i.iconHasBox),"$$scope"in i&&n(3,l=i.$$scope)},[s,o,t,l]}class VE extends Q{constructor(e){super(),Z(this,e,hie,gie,J,{database:0,iconHasBox:1})}}const bie=r=>({dataFormName:r&2}),X$=r=>({dataFormName:r[1]});function $ie(r){let e;return{c(){e=L(r[1])},m(n,t){v(n,e,t)},p(n,t){t&2&&z(e,n[1])},d(n){n&&$(e)}}}function vie(r){let e;const n=r[6].default,t=ke(n,r,r[7],X$),l=t||$ie(r);return{c(){l&&l.c()},m(s,o){l&&l.m(s,o),e=!0},p(s,o){t?t.p&&(!e||o&130)&&Ce(t,n,s,s[7],e?ye(n,s[7],o,bie):Se(s[7]),X$):l&&l.p&&(!e||o&2)&&l.p(s,e?o:-1)},i(s){e||(_(l,s),e=!0)},o(s){p(l,s),e=!1},d(s){l&&l.d(s)}}}function wie(r){let e,n;const t=[{icon:oi},r[3],{cssVariables:{...r[0],"--icon-color":"var(--color-data-form)"}},{bold:!0}];let l={$$slots:{default:[vie]},$$scope:{ctx:r}};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Qn({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,[o]){const i=o&9?de(t,[o&0&&{icon:oi},o&8&&_e(s[3]),o&1&&{cssVariables:{...s[0],"--icon-color":"var(--color-data-form)"}},t[3]]):{};o&130&&(i.$$scope={dirty:o,ctx:s}),e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function kie(r,e,n){let t,l;const s=["dataForm","cssVariables"];let o=We(e,s),i,a=H,u=()=>(a(),a=le(t,g=>n(5,i=g)),t);r.$$.on_destroy.push(()=>a());let{$$slots:f={},$$scope:c}=e,{dataForm:m}=e,{cssVariables:d=void 0}=e;return r.$$set=g=>{e=se(se({},e),pt(g)),n(3,o=We(e,s)),"dataForm"in g&&n(4,m=g.dataForm),"cssVariables"in g&&n(0,d=g.cssVariables),"$$scope"in g&&n(7,c=g.$$scope)},r.$$.update=()=>{r.$$.dirty&16&&u(n(2,{structure:t}=m,t)),r.$$.dirty&32&&n(1,{name:l}=i,l)},[d,l,t,o,m,i,f,c]}class zE extends Q{constructor(e){super(),Z(this,e,kie,wie,J,{dataForm:4,cssVariables:0})}}const yie=r=>({queryName:r&1}),J$=r=>({queryName:r[0]});function Cie(r){let e;return{c(){e=L(r[0])},m(n,t){v(n,e,t)},p(n,t){t&1&&z(e,n[0])},d(n){n&&$(e)}}}function Sie(r){let e;const n=r[2].default,t=ke(n,r,r[3],J$),l=t||Cie(r);return{c(){l&&l.c()},m(s,o){l&&l.m(s,o),e=!0},p(s,o){t?t.p&&(!e||o&9)&&Ce(t,n,s,s[3],e?ye(n,s[3],o,yie):Se(s[3]),J$):l&&l.p&&(!e||o&1)&&l.p(s,e?o:-1)},i(s){e||(_(l,s),e=!0)},o(s){p(l,s),e=!1},d(s){l&&l.d(s)}}}function Tie(r){let e,n;return e=new Qn({props:{icon:Xr,cssVariables:{"--icon-color":"var(--color-exploration)"},$$slots:{default:[Sie]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&9&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Iie(r,e,n){let t,{$$slots:l={},$$scope:s}=e,{query:o}=e;return r.$$set=i=>{"query"in i&&n(1,o=i.query),"$$scope"in i&&n(3,s=i.$$scope)},r.$$.update=()=>{r.$$.dirty&2&&n(0,{name:t}=o,t)},[t,o,l,s]}class BE extends Q{constructor(e){super(),Z(this,e,Iie,Tie,J,{query:1})}}const Eie=r=>({schemaName:r&2}),Z$=r=>({schemaName:r[1]});function Mie(r){let e;return{c(){e=L(r[1])},m(n,t){v(n,e,t)},p(n,t){t&2&&z(e,n[1])},d(n){n&&$(e)}}}function Rie(r){let e;const n=r[3].default,t=ke(n,r,r[4],Z$),l=t||Mie(r);return{c(){l&&l.c()},m(s,o){l&&l.m(s,o),e=!0},p(s,o){t?t.p&&(!e||o&18)&&Ce(t,n,s,s[4],e?ye(n,s[4],o,Eie):Se(s[4]),Z$):l&&l.p&&(!e||o&2)&&l.p(s,e?o:-1)},i(s){e||(_(l,s),e=!0)},o(s){p(l,s),e=!1},d(s){l&&l.d(s)}}}function Die(r){let e,n;return e=new Qn({props:{icon:gf,cssVariables:{"--icon-color":"var(--color-schema)"},$$slots:{default:[Rie]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&18&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Aie(r,e,n){let t,l,s=H,o=()=>(s(),s=le(t,f=>n(1,l=f)),t);r.$$.on_destroy.push(()=>s());let{$$slots:i={},$$scope:a}=e,{schema:u}=e;return r.$$set=f=>{"schema"in f&&n(2,u=f.schema),"$$scope"in f&&n(4,a=f.$$scope)},r.$$.update=()=>{r.$$.dirty&4&&o(n(0,{name:t}=u,t))},[t,l,u,i,a]}class qE extends Q{constructor(e){super(),Z(this,e,Aie,Die,J,{schema:2})}}function Oie(r){let e,n,t;const l=r[2].default,s=ke(l,r,r[1],null);return{c(){e=E("span"),n=E("a"),s&&s.c(),I(n,"href",r[0]),I(n,"class","svelte-k6ptr7"),I(e,"class","breadcrumb-link svelte-k6ptr7")},m(o,i){v(o,e,i),R(e,n),s&&s.m(n,null),t=!0},p(o,[i]){s&&s.p&&(!t||i&2)&&Ce(s,l,o,o[1],t?ye(l,o[1],i,null):Se(o[1]),null),(!t||i&1)&&I(n,"href",o[0])},i(o){t||(_(s,o),t=!0)},o(o){p(s,o),t=!1},d(o){o&&$(e),s&&s.d(o)}}}function Fie(r,e,n){let{$$slots:t={},$$scope:l}=e,{href:s}=e;return r.$$set=o=>{"href"in o&&n(0,s=o.href),"$$scope"in o&&n(1,l=o.$$scope)},[s,l,t]}class yo extends Q{constructor(e){super(),Z(this,e,Fie,Oie,J,{href:0})}}function Nie(r){let e,n,t;const l=[p0];let s={};for(let o=0;o<l.length;o+=1)s=se(s,l[o]);return n=new Ne({props:s}),{c(){e=E("span"),C(n.$$.fragment),I(e,"class","page-separator svelte-a9qoyn")},m(o,i){v(o,e,i),k(n,e,null),t=!0},p(o,[i]){const a=i&0?de(l,[_e(p0)]):{};n.$set(a)},i(o){t||(_(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&$(e),y(n)}}}class Pie extends Q{constructor(e){super(),Z(this,e,null,Nie,J,{})}}function Lie(r){let e,n,t,l,s,o;const i=[rf];let a={};for(let c=0;c<i.length;c+=1)a=se(a,i[c]);t=new Ne({props:a});const u=[fl,{class:"expand-right-icon"}];let f={};for(let c=0;c<u.length;c+=1)f=se(f,u[c]);return s=new Ne({props:f}),{c(){e=E("span"),n=E("span"),C(t.$$.fragment),l=N(),C(s.$$.fragment),I(n,"class","icon svelte-ft5uj6"),I(e,"class","trigger svelte-ft5uj6")},m(c,m){v(c,e,m),R(e,n),k(t,n,null),R(e,l),k(s,e,null),o=!0},p(c,m){const d=m&0?de(i,[_e(rf)]):{};t.$set(d);const g=m&0?de(u,[_e(fl),u[1]]):{};s.$set(g)},i(c){o||(_(t.$$.fragment,c),_(s.$$.fragment,c),o=!0)},o(c){p(t.$$.fragment,c),p(s.$$.fragment,c),o=!1},d(c){c&&$(e),y(t),y(s)}}}function Hie(r){let e,n;return e=new st({props:{appearance:"ghost",class:"padding-zero",$$slots:{default:[Lie]},$$scope:{ctx:r}}}),e.$on("click",r[0]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&8&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Vie(r,e,n){const t=ko.get();let{table:l}=e;function s(){t==null||t.navigateToRecordPage({tableOid:l.oid})}return r.$$set=o=>{"table"in o&&n(1,l=o.table)},[s,l]}class zie extends Q{constructor(e){super(),Z(this,e,Vie,Hie,J,{table:1})}}function zc(r,e){let n=Wn(r);return n!==void 0?(n.set(e),n):(n=Ue(e),Fr(r,n),n)}function Bc(r){const e=Wn(r);if(e===void 0)throw new Error("Route context has not been set");return e}function Bie(r){return Nn(Wn(r))}const Mm=Symbol("schema route store");class ms{constructor(e){te(this,"schema");te(this,"dataFormsFetch");te(this,"dataForms");this.schema=e,this.dataFormsFetch=e.constructDataFormsStore();const n=et(this.dataFormsFetch,l=>{var s,o;return[...(o=(s=l.resolvedValue)==null?void 0:s.values())!=null?o:[]]}),t=DS(n,({structure:l})=>l,(l,s)=>l.name.localeCompare(s.name));this.dataForms=et(t,l=>new Ct(l.map(s=>[s.id,s])))}async insertDataForm(e){const n=await this.schema.addDataForm(e);return this.dataFormsFetch.updateResolvedValue(t=>t.with(n.id,n)),n}async removeDataForm(e){await e.delete(),this.dataFormsFetch.updateResolvedValue(n=>n.without(e.id))}static construct(e){return zc(Mm,new ms(e))}static get(){return Bc(Mm)}static getSafe(){return Bie(Mm)}}const Ku=Pl(),qie=Ku.routing_context!=="anonymous";function UE(){return{data:new Map,requestStatus:{state:"success"}}}const rs=Ue(UE());function Uie(r){return[...r].sort((e,n)=>{var t;return(t=e.name)==null?void 0:t.localeCompare(n.name)})}function Tp(r,e){const n=new Map;Uie(e).forEach(t=>{n.set(t.id,t)}),rs.set({databaseId:r.database.id,schemaOid:r.oid,data:n,requestStatus:{state:"success"}})}let Li;async function Md(){Li==null||Li.cancel();const r=ve(fs);if(!r){rs.set(UE());return}try{rs.update(n=>n.databaseId===r.database.id&&n.schemaOid===r.oid?{...n,requestStatus:{state:"processing"}}:{databaseId:r.database.id,schemaOid:r.oid,data:new Map,requestStatus:{state:"processing"}}),Li=Ke.explorations.list({database_id:r.database.id,schema_oid:r.oid}).run();const e=await Li;Tp(r,e)}catch(e){rs.update(n=>n.databaseId===r.database.id&&n.schemaOid===r.oid?{...n,requestStatus:{state:"failure",errors:[Yt(e)]}}:{databaseId:r.database.id,schemaOid:r.oid,data:new Map,requestStatus:{state:"failure",errors:[Yt(e)]}})}}function WE(r){const e=ve(fs);if(!!e&&r.database_id===e.database.id&&r.schema_oid===e.oid){const n=ve(rs).data.set(r.id,r);Tp(e,[...n.values()])}}function Wie(r){const e=Ke.explorations.add({exploration_def:r}).run();return e.then(n=>(WE(n),n)),e}function Ip(r){const e=Ke.explorations.replace({new_exploration:r}).run();return e.then(n=>(WE(n),n)),e}function jie(r){return Ke.explorations.get({exploration_id:r}).run()}function Yie(r,e){return Ke.explorations.run_saved({exploration_id:r,limit:e.limit,offset:e.offset}).run()}function jE(r){const e=Ke.explorations.delete({exploration_id:r}).run(),n=ve(rs),t=ve(fs);return n.databaseId===(t==null?void 0:t.database.id)&&n.schemaOid===(t==null?void 0:t.oid)&&(n.data.delete(r),rs.update(l=>({...l,data:new Map(n.data)}))),e}let Q$=!0;const iu=ao(et(fs,r=>{const e=ve(rs);return e.databaseId!==(r==null?void 0:r.database.id)||e.schemaOid!==(r==null?void 0:r.oid)?(Q$&&qie&&Ku.current_schema===(r==null?void 0:r.oid)&&Ku.current_database===(r==null?void 0:r.database.id)?Tp(r,Ku.queries):Md(),Q$=!1):e.requestStatus.state==="failure"&&Md(),rs}));function Gie(r){let e=r[0]("custom_database_nickname_label_help")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1&&e!==(e=t[0]("custom_database_nickname_label_help")+"")&&z(n,e)},d(t){t&&$(n)}}}function Kie(r){let e,n=r[0]("use_a_custom_nickname_instead")+"",t,l,s,o;return s=new zt({props:{$$slots:{default:[Gie]},$$scope:{ctx:r}}}),{c(){e=E("span"),t=L(n),l=N(),C(s.$$.fragment)},m(i,a){v(i,e,a),R(e,t),R(e,l),k(s,e,null),o=!0},p(i,[a]){(!o||a&1)&&n!==(n=i[0]("use_a_custom_nickname_instead")+"")&&z(t,n);const u={};a&3&&(u.$$scope={dirty:a,ctx:i}),s.$set(u)},i(i){o||(_(s.$$.fragment,i),o=!0)},o(i){p(s.$$.fragment,i),o=!1},d(i){i&&$(e),y(s)}}}function Xie(r,e,n){let t;return ne(r,ce,l=>n(0,t=l)),[t]}class Jie extends Q{constructor(e){super(),Z(this,e,Xie,Kie,J,{})}}function Zie(r){let e,n;return e=new Ns({props:{options:r[2],getRadioLabel:r[3],isInline:!0,value:r[0]!==void 0?"useNickname":"useName"}}),e.$on("change",r[4]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.value=t[0]!==void 0?"useNickname":"useName"),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function x$(r){let e,n;return e=new Ht({props:{$$slots:{default:[xie]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&131&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Qie(r){let e,n,t;function l(o){r[5](o)}let s={};return r[0]!==void 0&&(s.value=r[0]),e=new hn({props:s}),we.push(()=>Me(e,"value",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};!n&&i&1&&(n=!0,a.value=o[0],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function xie(r){let e,n;return e=new Nt({props:{layout:"stacked",label:r[1]("nickname"),$$slots:{default:[Qie]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.label=t[1]("nickname")),l&129&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function eae(r){let e,n,t,l;e=new Ht({props:{$$slots:{default:[Zie]},$$scope:{ctx:r}}});let s=r[0]!==void 0&&x$(r);return{c(){C(e.$$.fragment),n=N(),s&&s.c(),t=ae()},m(o,i){k(e,o,i),v(o,n,i),s&&s.m(o,i),v(o,t,i),l=!0},p(o,i){const a={};i&129&&(a.$$scope={dirty:i,ctx:o}),e.$set(a),o[0]!==void 0?s?(s.p(o,i),i&1&&_(s,1)):(s=x$(o),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(U(),p(s,1,1,()=>{s=null}),W())},i(o){l||(_(e.$$.fragment,o),_(s),l=!0)},o(o){p(e.$$.fragment,o),p(s),l=!1},d(o){y(e,o),o&&$(n),s&&s.d(o),o&&$(t)}}}function tae(r){let e,n;return e=new al({props:{label:r[1]("display_name"),boxed:!0,$$slots:{default:[eae]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&2&&(s.label=t[1]("display_name")),l&131&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function nae(r,e,n){let t;ne(r,ce,f=>n(1,t=f));const l={useName:t("use_the_database_name"),useNickname:{component:Jie}},s=Object.keys(l);function o(f){return l[f]}let{value:i=void 0}=e;const a=({detail:{value:f}})=>{f==="useName"?n(0,i=void 0):n(0,i="")};function u(f){i=f,n(0,i)}return r.$$set=f=>{"value"in f&&n(0,i=f.value)},[i,t,s,o,a,u]}class Ep extends Q{constructor(e){super(),Z(this,e,nae,tae,J,{value:0})}}function YE(r){return sI.filter(e=>r.includes(e))}function rae(r){let e,n,t,l;function s(i){r[8](i)}let o={boxed:!0,label:r[1]("schemas_to_install"),ariaLabel:r[1]("schemas_to_install"),options:r[3],getCheckboxLabel:r[6],getCheckboxHelp:r[7],getCheckboxDisabled:lae};return r[2]!==void 0&&(o.values=r[2]),n=new tT({props:o}),we.push(()=>Me(n,"values",s)),{c(){e=E("div"),C(n.$$.fragment)},m(i,a){v(i,e,a),k(n,e,null),l=!0},p(i,[a]){const u={};a&2&&(u.label=i[1]("schemas_to_install")),a&2&&(u.ariaLabel=i[1]("schemas_to_install")),!t&&a&4&&(t=!0,u.values=i[2],De(()=>t=!1)),n.$set(u)},i(i){l||(_(n.$$.fragment,i),l=!0)},o(i){p(n.$$.fragment,i),l=!1},d(i){i&&$(e),y(n)}}}const lae=r=>r==="internal";function sae(r,e,n){let t,l,s=H,o=()=>(s(),s=le(f,g=>n(2,l=g)),f);ne(r,ce,g=>n(1,t=g)),r.$$.on_destroy.push(()=>s());const i=["internal",...sI],a={internal:"mathesar_types, __msar, msar",bike_shop:"Bike Shop",hardware_store:"Hardware Store",ice_cream_employees:"Ice  Cream Employee Management",library_makerspace:"Library Makerspace",movie_rentals:"Movie Rentals",museum_exhibits:"Museum Exhibits",nonprofit_grants:"Nonprofit Grant Tracking"},u={internal:t("internal_schema_help"),bike_shop:t("sample_data_bike_shop_help"),hardware_store:t("sample_data_hardware_store_help"),ice_cream_employees:t("sample_data_ice_cream_employees_help"),library_makerspace:t("sample_data_library_makerspace_help"),movie_rentals:t("sample_data_movie_rentals_help"),museum_exhibits:t("sample_data_museum_exhibits_help"),nonprofit_grants:t("sample_data_nonprofit_grants_help")};let{installationSchemas:f}=e;o();const c=g=>a[g],m=g=>u[g];function d(g){l=g,f.set(l)}return r.$$set=g=>{"installationSchemas"in g&&o(n(0,f=g.installationSchemas))},[f,t,l,i,a,u,c,m,d]}class GE extends Q{constructor(e){super(),Z(this,e,sae,rae,J,{installationSchemas:0})}}function oae(r){let e,n;return e=new dl({props:{page:"internalSchemas",$$slots:{default:[aae]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&3145728&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function iae(r){let e,n=r[20]+"",t;return{c(){e=E("em"),t=L(n)},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&1048576&&n!==(n=l[20]+"")&&z(t,n)},i:H,o:H,d(l){l&&$(e)}}}function aae(r){let e=r[20]+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1048576&&e!==(e=t[20]+"")&&z(n,e)},d(t){t&&$(n)}}}function uae(r){let e,n,t,l;const s=[iae,oae],o=[];function i(a,u){return a[19]==="italic"?0:a[19]==="docsLink"?1:-1}return~(e=i(r))&&(n=o[e]=s[e](r)),{c(){n&&n.c(),t=ae()},m(a,u){~e&&o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?~e&&o[e].p(a,u):(n&&(U(),p(o[f],1,1,()=>{o[f]=null}),W()),~e?(n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t)):n=null)},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){~e&&o[e].d(a),a&&$(t)}}}function fae(r){let e,n=r[1]("role_needs_create_connect_privileges_detail_1")+"",t,l,s,o,i;return o=new ot({props:{text:r[1]("role_needs_create_connect_privileges_detail_2"),$$slots:{default:[uae,({slotName:a,translatedArg:u})=>({19:a,20:u}),({slotName:a,translatedArg:u})=>(a?524288:0)|(u?1048576:0)]},$$scope:{ctx:r}}}),{c(){e=E("p"),t=L(n),l=N(),s=E("p"),C(o.$$.fragment)},m(a,u){v(a,e,u),R(e,t),v(a,l,u),v(a,s,u),k(o,s,null),i=!0},p(a,u){(!i||u&2)&&n!==(n=a[1]("role_needs_create_connect_privileges_detail_1")+"")&&z(t,n);const f={};u&2&&(f.text=a[1]("role_needs_create_connect_privileges_detail_2")),u&3670016&&(f.$$scope={dirty:u,ctx:a}),o.$set(f)},i(a){i||(_(o.$$.fragment,a),i=!0)},o(a){p(o.$$.fragment,a),i=!1},d(a){a&&$(e),a&&$(l),a&&$(s),y(o)}}}function cae(r){let e=r[1]("role_needs_create_connect_privileges")+"",n,t,l,s;return l=new zt({props:{$$slots:{default:[fae]},$$scope:{ctx:r}}}),{c(){n=L(e),t=N(),C(l.$$.fragment)},m(o,i){v(o,n,i),v(o,t,i),k(l,o,i),s=!0},p(o,i){(!s||i&2)&&e!==(e=o[1]("role_needs_create_connect_privileges")+"")&&z(n,e);const a={};i&2097154&&(a.$$scope={dirty:i,ctx:o}),l.$set(a)},i(o){s||(_(l.$$.fragment,o),s=!0)},o(o){p(l.$$.fragment,o),s=!1},d(o){o&&$(n),o&&$(t),y(l,o)}}}function e3(r){let e,n;return e=new dl({props:{page:"storedRoles",$$slots:{default:[mae]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&3145728&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function mae(r){let e=r[20]+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1048576&&e!==(e=t[20]+"")&&z(n,e)},d(t){t&&$(n)}}}function dae(r){let e,n,t=r[19]==="docsLink"&&e3(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[19]==="docsLink"?t?(t.p(l,s),s&524288&&_(t,1)):(t=e3(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function _ae(r){let e=r[1]("password_help")+"",n,t,l,s;return l=new ot({props:{text:r[1]("connect_db_password_help"),$$slots:{default:[dae,({slotName:o,translatedArg:i})=>({19:o,20:i}),({slotName:o,translatedArg:i})=>(o?524288:0)|(i?1048576:0)]},$$scope:{ctx:r}}}),{c(){n=L(e),t=N(),C(l.$$.fragment)},m(o,i){v(o,n,i),v(o,t,i),k(l,o,i),s=!0},p(o,i){(!s||i&2)&&e!==(e=o[1]("password_help")+"")&&z(n,e);const a={};i&2&&(a.text=o[1]("connect_db_password_help")),i&3670016&&(a.$$scope={dirty:i,ctx:o}),l.$set(a)},i(o){s||(_(l.$$.fragment,o),s=!0)},o(o){p(l.$$.fragment,o),s=!1},d(o){o&&$(n),o&&$(t),y(l,o)}}}function pae(r){let e,n;return e=new GE({props:{installationSchemas:r[8]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function gae(r){let e,n,t,l,s,o,i,a,u,f,c,m,d,g,h,b,w,S,T,M,A,D,O;return l=new It({props:{label:r[1]("host"),layout:"stacked",field:r[4]}}),i=new It({props:{label:r[1]("port"),layout:"stacked",field:r[5],input:{component:dc}}}),u=new It({props:{label:r[1]("database_name"),layout:"stacked",field:r[2],help:r[1]("make_sure_database_exists")}}),c=new It({props:{label:r[1]("role_name"),layout:"stacked",field:r[6],$$slots:{help:[cae]},$$scope:{ctx:r}}}),d=new It({props:{label:r[1]("password"),layout:"stacked",field:r[7],input:{component:ul,props:{autocomplete:"new-password"}},$$slots:{help:[_ae]},$$scope:{ctx:r}}}),h=new It({props:{field:r[3],input:{component:Ep}}}),w=new Ht({props:{$$slots:{default:[pae]},$$scope:{ctx:r}}}),M=new yn({props:{form:r[9],catchErrors:!0,onCancel:r[0],onProceed:r[10],proceedButton:{label:r[1]("connect_database")},cancelButton:{label:r[1]("cancel")}}}),{c(){e=E("div"),n=E("div"),t=E("div"),C(l.$$.fragment),s=N(),o=E("div"),C(i.$$.fragment),a=N(),C(u.$$.fragment),f=N(),C(c.$$.fragment),m=N(),C(d.$$.fragment),g=N(),C(h.$$.fragment),b=N(),C(w.$$.fragment),S=N(),T=E("div"),C(M.$$.fragment),I(n,"class","field-group-horizontal svelte-1rps6rr"),I(T,"class","footer"),I(e,"class","connect-db-form")},m(F,P){v(F,e,P),R(e,n),R(n,t),k(l,t,null),R(n,s),R(n,o),k(i,o,null),R(e,a),k(u,e,null),R(e,f),k(c,e,null),R(e,m),k(d,e,null),R(e,g),k(h,e,null),R(e,b),k(w,e,null),R(e,S),R(e,T),k(M,T,null),A=!0,D||(O=Dt(dr.call(null,T)),D=!0)},p(F,[P]){const B={};P&2&&(B.label=F[1]("host")),l.$set(B);const j={};P&2&&(j.label=F[1]("port")),i.$set(j);const V={};P&2&&(V.label=F[1]("database_name")),P&2&&(V.help=F[1]("make_sure_database_exists")),u.$set(V);const q={};P&2&&(q.label=F[1]("role_name")),P&2097154&&(q.$$scope={dirty:P,ctx:F}),c.$set(q);const G={};P&2&&(G.label=F[1]("password")),P&2097154&&(G.$$scope={dirty:P,ctx:F}),d.$set(G);const Y={};P&2097152&&(Y.$$scope={dirty:P,ctx:F}),w.$set(Y);const K={};P&1&&(K.onCancel=F[0]),P&2&&(K.proceedButton={label:F[1]("connect_database")}),P&2&&(K.cancelButton={label:F[1]("cancel")}),M.$set(K)},i(F){A||(_(l.$$.fragment,F),_(i.$$.fragment,F),_(u.$$.fragment,F),_(c.$$.fragment,F),_(d.$$.fragment,F),_(h.$$.fragment,F),_(w.$$.fragment,F),_(M.$$.fragment,F),A=!0)},o(F){p(l.$$.fragment,F),p(i.$$.fragment,F),p(u.$$.fragment,F),p(c.$$.fragment,F),p(d.$$.fragment,F),p(h.$$.fragment,F),p(w.$$.fragment,F),p(M.$$.fragment,F),A=!1},d(F){F&&$(e),y(l),y(i),y(u),y(c),y(d),y(h),y(w),y(M),D=!1,O()}}}function hae(r,e,n){let t,l,s,o,i,a,u,f;ne(r,ce,D=>n(1,f=D));let{onCancel:c}=e,{onSuccess:m}=e;const d=gt("");ne(r,d,D=>n(14,s=D));const g=er(void 0);ne(r,g,D=>n(13,l=D));const h=gt("localhost");ne(r,h,D=>n(18,u=D));const b=er(5432);ne(r,b,D=>n(17,a=D));const w=gt("");ne(r,w,D=>n(16,i=D));const S=er("");ne(r,S,D=>n(15,o=D));const T=gt(["internal"]);ne(r,T,D=>n(12,t=D));const M=Wt({databaseName:d,nickname:g,host:h,port:b,role:w,password:S,installationSchemas:T});async function A(){const D=await jn.connectExistingDatabase({host:u,port:a,role:i,password:o,database:s,nickname:l!=null?l:null,sample_data:YE(t)});m(D)}return r.$$set=D=>{"onCancel"in D&&n(0,c=D.onCancel),"onSuccess"in D&&n(11,m=D.onSuccess)},[c,f,d,g,h,b,w,S,T,M,A,m]}class bae extends Q{constructor(e){super(),Z(this,e,hae,gae,J,{onCancel:0,onSuccess:11})}}function $ae(r){let e,n,t,l,s,o,i,a,u,f,c;const m=[r[1],{size:"2rem"}];let d={};for(let g=0;g<m.length;g+=1)d=se(d,m[g]);return t=new Ne({props:d}),{c(){e=E("div"),n=E("div"),C(t.$$.fragment),l=N(),s=E("div"),o=E("div"),i=L(r[2]),a=N(),u=E("div"),f=L(r[3]),I(n,"class","icon-circle svelte-aa035t"),I(o,"class","header svelte-aa035t"),I(u,"class","description svelte-aa035t"),I(e,"class","content svelte-aa035t")},m(g,h){v(g,e,h),R(e,n),k(t,n,null),R(e,l),R(e,s),R(s,o),R(o,i),R(s,a),R(s,u),R(u,f),c=!0},p(g,h){const b=h&2?de(m,[_e(g[1]),m[1]]):{};t.$set(b),(!c||h&4)&&z(i,g[2]),(!c||h&8)&&z(f,g[3])},i(g){c||(_(t.$$.fragment,g),c=!0)},o(g){p(t.$$.fragment,g),c=!1},d(g){g&&$(e),y(t)}}}function vae(r){let e,n,t;return n=new st({props:{appearance:"custom",$$slots:{default:[$ae]},$$scope:{ctx:r}}}),n.$on("click",function(){St(r[0])&&r[0].apply(this,arguments)}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","connect-option svelte-aa035t")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,[s]){r=l;const o={};s&30&&(o.$$scope={dirty:s,ctx:r}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function wae(r,e,n){let{changeView:t}=e,{icon:l}=e,{header:s}=e,{description:o}=e;return r.$$set=i=>{"changeView"in i&&n(0,t=i.changeView),"icon"in i&&n(1,l=i.icon),"header"in i&&n(2,s=i.header),"description"in i&&n(3,o=i.description)},[t,l,s,o]}class t3 extends Q{constructor(e){super(),Z(this,e,wae,vae,J,{changeView:0,icon:1,header:2,description:3})}}function kae(r){let e,n;return e=new GE({props:{installationSchemas:r[4]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function yae(r){let e,n,t,l,s,o,i,a,u,f,c,m;return n=new It({props:{label:r[1]("database_name"),layout:"stacked",field:r[2]}}),l=new It({props:{field:r[3],input:{component:Ep}}}),o=new Ht({props:{$$slots:{default:[kae]},$$scope:{ctx:r}}}),u=new yn({props:{form:r[5],catchErrors:!0,onCancel:r[0],onProceed:r[6],proceedButton:{label:r[1]("create_database")},cancelButton:{label:r[1]("cancel")}}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),C(l.$$.fragment),s=N(),C(o.$$.fragment),i=N(),a=E("div"),C(u.$$.fragment),I(a,"class","footer"),I(e,"class","create-db-form")},m(d,g){v(d,e,g),k(n,e,null),R(e,t),k(l,e,null),R(e,s),k(o,e,null),R(e,i),R(e,a),k(u,a,null),f=!0,c||(m=Dt(dr.call(null,a)),c=!0)},p(d,[g]){const h={};g&2&&(h.label=d[1]("database_name")),n.$set(h);const b={};g&2048&&(b.$$scope={dirty:g,ctx:d}),o.$set(b);const w={};g&1&&(w.onCancel=d[0]),g&2&&(w.proceedButton={label:d[1]("create_database")}),g&2&&(w.cancelButton={label:d[1]("cancel")}),u.$set(w)},i(d){f||(_(n.$$.fragment,d),_(l.$$.fragment,d),_(o.$$.fragment,d),_(u.$$.fragment,d),f=!0)},o(d){p(n.$$.fragment,d),p(l.$$.fragment,d),p(o.$$.fragment,d),p(u.$$.fragment,d),f=!1},d(d){d&&$(e),y(n),y(l),y(o),y(u),c=!1,m()}}}function Cae(r,e,n){let t,l,s,o;ne(r,ce,g=>n(1,o=g));let{onCancel:i}=e,{onSuccess:a}=e;const u=gt("");ne(r,u,g=>n(10,s=g));const f=er(void 0);ne(r,f,g=>n(9,l=g));const c=gt(["internal"]);ne(r,c,g=>n(8,t=g));const m=Wt({databaseName:u,nickname:f,installationSchemas:c});async function d(){const g=await jn.createNewDatabase({database:s,nickname:l!=null?l:null,sample_data:YE(t)});a(g)}return r.$$set=g=>{"onCancel"in g&&n(0,i=g.onCancel),"onSuccess"in g&&n(7,a=g.onSuccess)},[i,o,u,f,c,m,d,a]}class Sae extends Q{constructor(e){super(),Z(this,e,Cae,yae,J,{onCancel:0,onSuccess:7})}}function Tae(r){let e,n;return e=new bae({props:{onCancel:r[5],onSuccess:r[6]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Iae(r){let e,n;return e=new Sae({props:{onCancel:r[5],onSuccess:r[6]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Eae(r){let e,n,t,l,s;return n=new t3({props:{icon:jt,header:r[2]("create_new_database"),description:r[2]("create_database_mathesar_internal_server"),changeView:r[7]}}),l=new t3({props:{icon:ha,header:r[2]("connect_existing_database"),description:r[2]("provide_details_connect_existing_database"),changeView:r[8]}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),C(l.$$.fragment),I(e,"class","connect-db-options svelte-1wckypc")},m(o,i){v(o,e,i),k(n,e,null),R(e,t),k(l,e,null),s=!0},p(o,i){const a={};i&4&&(a.header=o[2]("create_new_database")),i&4&&(a.description=o[2]("create_database_mathesar_internal_server")),n.$set(a);const u={};i&4&&(u.header=o[2]("connect_existing_database")),i&4&&(u.description=o[2]("provide_details_connect_existing_database")),l.$set(u)},i(o){s||(_(n.$$.fragment,o),_(l.$$.fragment,o),s=!0)},o(o){p(n.$$.fragment,o),p(l.$$.fragment,o),s=!1},d(o){o&&$(e),y(n),y(l)}}}function Mae(r){let e,n,t,l;const s=[Eae,Iae,Tae],o=[];function i(a,u){return a[1]==="base"?0:a[1]==="create"?1:2}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function Rae(r){let e,n;return e=new Yn({props:{controller:r[0],size:"medium",title:r[3],$$slots:{default:[Mae]},$$scope:{ctx:r}}}),e.$on("close",r[9]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.controller=t[0]),l&8&&(s.title=t[3]),l&1030&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Dae(r,e,n){let t,l;ne(r,ce,d=>n(2,l=d));let{controller:s}=e,o="base";function i(d){n(1,o=d)}function a(){s.close()}function u(){s.close()}const f=()=>i("create"),c=()=>i("connect"),m=()=>i("base");return r.$$set=d=>{"controller"in d&&n(0,s=d.controller)},r.$$.update=()=>{r.$$.dirty&6&&n(3,t=(()=>{switch(o){case"create":return l("create_new_database");case"connect":return l("connect_existing_database");case"base":default:return l("how_would_you_like_to_connect_db")}})())},[s,o,l,t,i,a,u,f,c,m]}class Mp extends Q{constructor(e){super(),Z(this,e,Dae,Rae,J,{controller:0})}}function Aae(r){let e,n,t,l,s;const o=[cf];let i={};for(let a=0;a<o.length;a+=1)i=se(i,o[a]);return n=new Ne({props:i}),{c(){e=E("button"),C(n.$$.fragment),I(e,"class","record-selector-navigation-button passthrough svelte-1ovgnzp"),I(e,"aria-label",r[0]),I(e,"title",r[0])},m(a,u){v(a,e,u),k(n,e,null),t=!0,l||(s=He(e,"click",r[1]),l=!0)},p(a,[u]){const f=u&0?de(o,[_e(cf)]):{};n.$set(f),(!t||u&1)&&I(e,"aria-label",a[0]),(!t||u&1)&&I(e,"title",a[0])},i(a){t||(_(n.$$.fragment,a),t=!0)},o(a){p(n.$$.fragment,a),t=!1},d(a){a&&$(e),y(n),l=!1,s()}}}function Oae(r,e,n){let t,l,s,o;ne(r,ce,c=>n(4,o=c));const i=ko.get(),a=Et();let{table:u}=e;function f(){i==null||i.navigateToRecordPage({tableOid:t}),a("click")}return r.$$set=c=>{"table"in c&&n(2,u=c.table)},r.$$.update=()=>{r.$$.dirty&4&&n(3,{oid:t,name:l}=u,l),r.$$.dirty&24&&n(0,s=l?o("navigate_to_table_record",{values:{tableName:l}}):o("navigate_to_record"))},[s,f,u,l,o]}class Fae extends Q{constructor(e){super(),Z(this,e,Oae,Aae,J,{table:2})}}function Nae(r){let e,n;return e=new Qn({props:{icon:r[0].icon,$$slots:{default:[Bae]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.icon=t[0].icon),l&259&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Pae(r){let e,n;return e=new zE({props:{dataForm:r[0].dataForm,$$slots:{default:[qae,({dataFormName:t})=>({7:t}),({dataFormName:t})=>t?128:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.dataForm=t[0].dataForm),l&386&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Lae(r){let e,n;return e=new qE({props:{schema:r[0].schema,$$slots:{default:[Uae,({schemaName:t})=>({6:t}),({schemaName:t})=>t?64:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.schema=t[0].schema),l&322&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Hae(r){let e,n;return e=new VE({props:{database:r[0].database,$$slots:{default:[Wae,({databaseDisplayName:t})=>({5:t}),({databaseDisplayName:t})=>t?32:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.database=t[0].database),l&290&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Vae(r){let e,n;return e=new BE({props:{query:r[0].exploration,$$slots:{default:[jae,({queryName:t})=>({4:t}),({queryName:t})=>t?16:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.query=t[0].exploration),l&274&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function zae(r){let e,n;return e=new rn({props:{table:r[0].table,$$slots:{default:[Yae,({tableName:t})=>({3:t}),({tableName:t})=>t?8:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.table=t[0].table),l&266&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Bae(r){let e,n;return e=new mo({props:{text:r[0].label,substring:r[1]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.text=t[0].label),l&2&&(s.substring=t[1]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function qae(r){let e,n;return e=new mo({props:{text:r[7],substring:r[1]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&128&&(s.text=t[7]),l&2&&(s.substring=t[1]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Uae(r){let e,n;return e=new mo({props:{text:r[6],substring:r[1]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&64&&(s.text=t[6]),l&2&&(s.substring=t[1]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Wae(r){let e,n;return e=new mo({props:{text:r[5],substring:r[1]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&32&&(s.text=t[5]),l&2&&(s.substring=t[1]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function jae(r){let e,n;return e=new mo({props:{text:r[4],substring:r[1]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.text=t[4]),l&2&&(s.substring=t[1]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Yae(r){let e,n;return e=new mo({props:{text:r[3],substring:r[1]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8&&(s.text=t[3]),l&2&&(s.substring=t[1]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function n3(r){let e,n,t;return n=new Fae({props:{table:r[0].table}}),n.$on("click",function(){St(r[2])&&r[2].apply(this,arguments)}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","record-selector svelte-1ez13l6")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){r=l;const o={};s&1&&(o.table=r[0].table),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function Gae(r){let e,n,t,l,s,o,i,a,u,f,c;const m=[zae,Vae,Hae,Lae,Pae,Nae],d=[];function g(b,w){return b[0].type==="table"?0:b[0].type==="exploration"?1:b[0].type==="database"?2:b[0].type==="schema"?3:b[0].type==="dataForm"?4:5}s=g(r),o=d[s]=m[s](r);let h=r[0].type==="table"&&n3(r);return{c(){e=E("li"),n=E("div"),t=N(),l=E("a"),o.c(),a=N(),h&&h.c(),I(n,"class","hover-indicator svelte-1ez13l6"),I(l,"href",i=r[0].href),I(l,"class","svelte-1ez13l6"),I(e,"class","breadcrumb-selector-row svelte-1ez13l6"),ie(e,"active",r[0].isActive())},m(b,w){v(b,e,w),R(e,n),R(e,t),R(e,l),d[s].m(l,null),R(e,a),h&&h.m(e,null),u=!0,f||(c=He(l,"click",function(){St(r[2])&&r[2].apply(this,arguments)}),f=!0)},p(b,[w]){r=b;let S=s;s=g(r),s===S?d[s].p(r,w):(U(),p(d[S],1,1,()=>{d[S]=null}),W(),o=d[s],o?o.p(r,w):(o=d[s]=m[s](r),o.c()),_(o,1),o.m(l,null)),(!u||w&1&&i!==(i=r[0].href))&&I(l,"href",i),r[0].type==="table"?h?(h.p(r,w),w&1&&_(h,1)):(h=n3(r),h.c(),_(h,1),h.m(e,null)):h&&(U(),p(h,1,1,()=>{h=null}),W()),(!u||w&1)&&ie(e,"active",r[0].isActive())},i(b){u||(_(o),_(h),u=!0)},o(b){p(o),p(h),u=!1},d(b){b&&$(e),d[s].d(),h&&h.d(),f=!1,c()}}}function Kae(r,e,n){let{entry:t}=e,{filterString:l=""}=e,{closeSelector:s}=e;return r.$$set=o=>{"entry"in o&&n(0,t=o.entry),"filterString"in o&&n(1,l=o.filterString),"closeSelector"in o&&n(2,s=o.closeSelector)},[t,l,s]}class KE extends Q{constructor(e){super(),Z(this,e,Kae,Gae,J,{entry:0,filterString:1,closeSelector:2})}}function r3(r,e,n){const t=r.slice();return t[8]=e[n],t}function Xae(r){let e;return{c(){e=L(r[3])},m(n,t){v(n,e,t)},p(n,t){t&8&&z(e,n[3])},i:H,o:H,d(n){n&&$(e)}}}function Jae(r){let e,n;return e=new ot({props:{text:r[5]("no_matches"),$$slots:{default:[Qae,({slotName:t})=>({11:t}),({slotName:t})=>t?2048:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&32&&(s.text=t[5]("no_matches")),l&6145&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Zae(r){let e,n;return e=new ot({props:{text:r[5]("number_of_matches",{values:{count:r[2].length}}),$$slots:{default:[xae,({slotName:t})=>({11:t}),({slotName:t})=>t?2048:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&36&&(s.text=t[5]("number_of_matches",{values:{count:t[2].length}})),l&6145&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function l3(r){let e,n;return{c(){e=E("b"),n=L(r[0])},m(t,l){v(t,e,l),R(e,n)},p(t,l){l&1&&z(n,t[0])},d(t){t&&$(e)}}}function Qae(r){let e,n=r[11]==="searchValue"&&l3(r);return{c(){n&&n.c(),e=ae()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,l){t[11]==="searchValue"?n?n.p(t,l):(n=l3(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&$(e)}}}function s3(r){let e,n;return{c(){e=E("b"),n=L(r[0])},m(t,l){v(t,e,l),R(e,n)},p(t,l){l&1&&z(n,t[0])},d(t){t&&$(e)}}}function xae(r){let e,n=r[11]==="searchValue"&&s3(r);return{c(){n&&n.c(),e=ae()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,l){t[11]==="searchValue"?n?n.p(t,l):(n=s3(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&$(e)}}}function o3(r,e){let n,t,l;return t=new KE({props:{entry:e[8],filterString:e[0],closeSelector:e[1]}}),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(s,o){v(s,n,o),k(t,s,o),l=!0},p(s,o){e=s;const i={};o&4&&(i.entry=e[8]),o&1&&(i.filterString=e[0]),o&2&&(i.closeSelector=e[1]),t.$set(i)},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){s&&$(n),y(t,s)}}}function eue(r){let e,n,t,l,s,o,i,a,u,f,c=[],m=new Map,d;const g=[Zae,Jae,Xae],h=[];function b(T,M){return T[0]&&T[2].length?0:T[0]&&!T[2].length?1:T[2].length?-1:2}~(i=b(r))&&(a=h[i]=g[i](r));let w=r[2];const S=T=>T[8].href;for(let T=0;T<w.length;T+=1){let M=r3(r,w,T),A=S(M);m.set(A,c[T]=o3(A,M))}return{c(){e=E("div"),n=E("div"),t=L(r[4]),l=N(),s=E("div"),o=E("div"),a&&a.c(),u=N(),f=E("ul");for(let T=0;T<c.length;T+=1)c[T].c();I(n,"class","label"),I(o,"class","detail svelte-xzu1zw"),I(f,"class","items svelte-xzu1zw"),I(s,"class","content svelte-xzu1zw"),I(e,"class","breadcrumb-selector-section svelte-xzu1zw")},m(T,M){v(T,e,M),R(e,n),R(n,t),R(e,l),R(e,s),R(s,o),~i&&h[i].m(o,null),R(s,u),R(s,f);for(let A=0;A<c.length;A+=1)c[A].m(f,null);d=!0},p(T,[M]){(!d||M&16)&&z(t,T[4]);let A=i;i=b(T),i===A?~i&&h[i].p(T,M):(a&&(U(),p(h[A],1,1,()=>{h[A]=null}),W()),~i?(a=h[i],a?a.p(T,M):(a=h[i]=g[i](T),a.c()),_(a,1),a.m(o,null)):a=null),M&7&&(w=T[2],U(),c=ht(c,M,S,1,T,w,m,f,kt,o3,null,r3),W())},i(T){if(!d){_(a);for(let M=0;M<w.length;M+=1)_(c[M]);d=!0}},o(T){p(a);for(let M=0;M<c.length;M+=1)p(c[M]);d=!1},d(T){T&&$(e),~i&&h[i].d();for(let M=0;M<c.length;M+=1)c[M].d()}}}function tue(r,e,n){let t,l,s,o,i;ne(r,ce,c=>n(5,i=c));let{section:a}=e,{filterString:u}=e,{closeSelector:f}=e;return r.$$set=c=>{"section"in c&&n(6,a=c.section),"filterString"in c&&n(0,u=c.filterString),"closeSelector"in c&&n(1,f=c.closeSelector)},r.$$.update=()=>{r.$$.dirty&64&&n(4,{label:t,entries:l,emptyMessage:s}=a,t,(n(7,l),n(6,a)),(n(3,s),n(6,a))),r.$$.dirty&129&&n(2,o=[...Yd(l,u,c=>c.getFilterableText())])},[u,f,o,s,t,i,a,l]}class nue extends Q{constructor(e){super(),Z(this,e,tue,eue,J,{section:6,filterString:0,closeSelector:1})}}function i3(r,e,n){const t=r.slice();return t[15]=e[n],t}function a3(r,e,n){const t=r.slice();return t[18]=e[n],t}function rue(r){let e,n,t;const l=[fl];let s={};for(let o=0;o<l.length;o+=1)s=se(s,l[o]);return n=new Ne({props:s}),{c(){e=E("span"),C(n.$$.fragment),I(e,"class","trigger svelte-ja244h")},m(o,i){v(o,e,i),k(n,e,null),t=!0},p(o,i){const a=i&0?de(l,[_e(fl)]):{};n.$set(a)},i(o){t||(_(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&$(e),y(n)}}}function u3(r,e){let n,t,l;return t=new nue({props:{section:e[18],filterString:e[6],closeSelector:e[12]}}),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(s,o){v(s,n,o),k(t,s,o),l=!0},p(s,o){e=s;const i={};o&1&&(i.section=e[18]),o&64&&(i.filterString=e[6]),o&8&&(i.closeSelector=e[12]),t.$set(i)},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){s&&$(n),y(t,s)}}}function f3(r){let e,n=[],t=new Map,l,s=r[2];const o=i=>i[15].href;for(let i=0;i<s.length;i+=1){let a=i3(r,s,i),u=o(a);t.set(u,n[i]=c3(u,a))}return{c(){e=E("ul");for(let i=0;i<n.length;i+=1)n[i].c();I(e,"class","actions svelte-ja244h")},m(i,a){v(i,e,a);for(let u=0;u<n.length;u+=1)n[u].m(e,null);l=!0},p(i,a){a&12&&(s=i[2],U(),n=ht(n,a,o,1,i,s,t,e,kt,c3,null,i3),W())},i(i){if(!l){for(let a=0;a<s.length;a+=1)_(n[a]);l=!0}},o(i){for(let a=0;a<n.length;a+=1)p(n[a]);l=!1},d(i){i&&$(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function c3(r,e){let n,t,l;return t=new KE({props:{entry:e[15],closeSelector:e[13]}}),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(s,o){v(s,n,o),k(t,s,o),l=!0},p(s,o){e=s;const i={};o&4&&(i.entry=e[15]),o&8&&(i.closeSelector=e[13]),t.$set(i)},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){s&&$(n),y(t,s)}}}function lue(r){let e,n,t,l,s,o,i,a=[],u=new Map,f,c;function m(S){r[10](S)}function d(S){r[11](S)}let g={prefixIcon:rf};r[6]!==void 0&&(g.value=r[6]),r[4]!==void 0&&(g.element=r[4]),t=new gT({props:g}),we.push(()=>Me(t,"value",m)),we.push(()=>Me(t,"element",d));let h=r[0];const b=S=>S[18].label;for(let S=0;S<h.length;S+=1){let T=a3(r,h,S),M=b(T);u.set(M,a[S]=u3(M,T))}let w=r[2].length&&f3(r);return{c(){e=E("div"),n=E("div"),C(t.$$.fragment),o=N(),i=E("div");for(let S=0;S<a.length;S+=1)a[S].c();f=N(),w&&w.c(),I(n,"class","search"),I(i,"class","sections svelte-ja244h"),I(e,"class","entity-switcher-content svelte-ja244h")},m(S,T){v(S,e,T),R(e,n),k(t,n,null),R(e,o),R(e,i);for(let M=0;M<a.length;M+=1)a[M].m(i,null);R(e,f),w&&w.m(e,null),c=!0},p(S,T){const M={};!l&&T&64&&(l=!0,M.value=S[6],De(()=>l=!1)),!s&&T&16&&(s=!0,M.element=S[4],De(()=>s=!1)),t.$set(M),T&73&&(h=S[0],U(),a=ht(a,T,b,1,S,h,u,i,kt,u3,null,a3),W()),S[2].length?w?(w.p(S,T),T&4&&_(w,1)):(w=f3(S),w.c(),_(w,1),w.m(e,null)):w&&(U(),p(w,1,1,()=>{w=null}),W())},i(S){if(!c){_(t.$$.fragment,S);for(let T=0;T<h.length;T+=1)_(a[T]);_(w),c=!0}},o(S){p(t.$$.fragment,S);for(let T=0;T<a.length;T+=1)p(a[T]);p(w),c=!1},d(S){S&&$(e),y(t);for(let T=0;T<a.length;T+=1)a[T].d();w&&w.d()}}}function sue(r){let e,n,t,l,s,o,i,a,u;function f(g){r[8](g)}let c={"aria-label":r[1],title:r[1],appearance:"ghost",class:"padding-zero",$$slots:{default:[rue]},$$scope:{ctx:r}};r[5]!==void 0&&(c.element=r[5]),n=new st({props:c}),we.push(()=>Me(n,"element",f)),n.$on("click",r[9]);function m(g){r[14](g)}let d={trigger:r[5],class:"breadcrumb-selector-dropdown",$$slots:{default:[lue]},$$scope:{ctx:r}};return r[3]!==void 0&&(d.isOpen=r[3]),s=new Xl({props:d}),we.push(()=>Me(s,"isOpen",m)),a=new Mp({props:{controller:r[7]}}),{c(){e=E("div"),C(n.$$.fragment),l=N(),C(s.$$.fragment),i=N(),C(a.$$.fragment),I(e,"class","entity-switcher svelte-ja244h"),ie(e,"is-open",r[3])},m(g,h){v(g,e,h),k(n,e,null),R(e,l),k(s,e,null),v(g,i,h),k(a,g,h),u=!0},p(g,[h]){const b={};h&2&&(b["aria-label"]=g[1]),h&2&&(b.title=g[1]),h&2097152&&(b.$$scope={dirty:h,ctx:g}),!t&&h&32&&(t=!0,b.element=g[5],De(()=>t=!1)),n.$set(b);const w={};h&32&&(w.trigger=g[5]),h&2097245&&(w.$$scope={dirty:h,ctx:g}),!o&&h&8&&(o=!0,w.isOpen=g[3],De(()=>o=!1)),s.$set(w),(!u||h&8)&&ie(e,"is-open",g[3])},i(g){u||(_(n.$$.fragment,g),_(s.$$.fragment,g),_(a.$$.fragment,g),u=!0)},o(g){p(n.$$.fragment,g),p(s.$$.fragment,g),p(a.$$.fragment,g),u=!1},d(g){g&&$(e),y(n),y(s),g&&$(i),y(a,g)}}}function oue(r,e,n){const t=un.spawnModalController();let{sections:l}=e,{triggerLabel:s}=e,{persistentLinks:o=[]}=e,i,a=!1,u,f;function c(S){i=S,n(5,i)}const m=()=>{n(3,a=!a)};function d(S){u=S,n(6,u),n(3,a),n(4,f)}function g(S){f=S,n(4,f)}const h=()=>{n(3,a=!1)},b=()=>{n(3,a=!1)};function w(S){a=S,n(3,a)}return r.$$set=S=>{"sections"in S&&n(0,l=S.sections),"triggerLabel"in S&&n(1,s=S.triggerLabel),"persistentLinks"in S&&n(2,o=S.persistentLinks)},r.$$.update=()=>{r.$$.dirty&24&&(a?f==null||f.focus():n(6,u=""))},[l,s,o,a,f,i,u,t,c,m,d,g,h,b,w]}class Rp extends Q{constructor(e){super(),Z(this,e,oue,sue,J,{sections:0,triggerLabel:1,persistentLinks:2})}}function iue(r){let e,n;return e=new Rp({props:{sections:[{label:r[3]("tables"),entries:r[4].map(r[6]),emptyMessage:r[3]("no_tables")},{label:r[3]("explorations"),entries:r[0].map(r[8]),emptyMessage:r[3]("no_explorations")},{label:r[3]("forms"),entries:r[1].map(r[9]),emptyMessage:r[3]("no_forms")}],triggerLabel:r[3]("choose_table_or_exploration")}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&27&&(s.sections=[{label:t[3]("tables"),entries:t[4].map(t[6]),emptyMessage:t[3]("no_tables")},{label:t[3]("explorations"),entries:t[0].map(t[8]),emptyMessage:t[3]("no_explorations")},{label:t[3]("forms"),entries:t[1].map(t[9]),emptyMessage:t[3]("no_forms")}]),l&8&&(s.triggerLabel=t[3]("choose_table_or_exploration")),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function aue(r,e,n){let t,l,s,o,i,a,u,f=H,c=()=>(f(),f=le(t,D=>n(13,u=D)),t),m,d,g;ne(r,iu,D=>n(12,i=D)),ne(r,ea,D=>n(16,a=D)),ne(r,ce,D=>n(3,d=D)),ne(r,pp,D=>n(4,g=D)),r.$$.on_destroy.push(()=>f());let{database:h}=e,{schema:b}=e;const w=ms.getSafe();ne(r,w,D=>n(14,m=D));function S(D){return{type:"table",table:D,getFilterableText:()=>D.name,href:hd(h.id,b.oid,D),isActive(){return D.oid===a}}}const T=AE();ne(r,T,D=>n(15,o=D));function M(D){return{type:"exploration",exploration:D,getFilterableText:()=>D.name,href:Al(h.id,b.oid,D.id),isActive(){const O=Al(h.id,b.oid,D.id);return o.url.startsWith(O)}}}function A(D){return{type:"dataForm",dataForm:D,getFilterableText:()=>ve(D.structure).name,href:va(h.id,b.oid,D.id),isActive(){const O=va(h.id,b.oid,D.id);return o.url.startsWith(O)}}}return r.$$set=D=>{"database"in D&&n(10,h=D.database),"schema"in D&&n(11,b=D.schema)},r.$$.update=()=>{var D;r.$$.dirty&16384&&c(n(2,t=Nn(m==null?void 0:m.dataForms))),r.$$.dirty&8192&&n(1,l=[...(D=u==null?void 0:u.values())!=null?D:[]]),r.$$.dirty&4096&&n(0,s=[...i.data.values()])},[s,l,t,d,g,w,S,T,M,A,h,b,i,u,m]}class uue extends Q{constructor(e){super(),Z(this,e,aue,iue,J,{database:10,schema:11})}}function fue(r){let e,n;return e=new Rp({props:{sections:[{label:r[1]("schemas"),entries:r[0].map(r[2]),emptyMessage:r[1]("no_schemas_found")}],triggerLabel:r[1]("choose_schema")}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&3&&(s.sections=[{label:t[1]("schemas"),entries:t[0].map(t[2]),emptyMessage:t[1]("no_schemas_found")}]),l&2&&(s.triggerLabel=t[1]("choose_schema")),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function cue(r,e,n){let t,l,s,o;ne(r,oE,u=>n(4,l=u)),ne(r,xi,u=>n(5,s=u)),ne(r,ce,u=>n(1,o=u));let{database:i}=e;function a(u){return{type:"schema",schema:u,getFilterableText:()=>ve(u.name),href:Jr(i.id,u.oid),isActive(){return u.oid===s}}}return r.$$set=u=>{"database"in u&&n(3,i=u.database)},r.$$.update=()=>{r.$$.dirty&16&&n(0,t=[...l.data.values()])},[t,o,a,i,l]}class mue extends Q{constructor(e){super(),Z(this,e,cue,fue,J,{database:3})}}function due(r){let e,n,t,l,s=r[0].prependSeparator&&m3();return t=new yo({props:{href:r[0].href,$$slots:{default:[yue]},$$scope:{ctx:r}}}),{c(){s&&s.c(),e=N(),n=E("div"),C(t.$$.fragment),I(n,"class","breadcrumb-item truncate svelte-tnc8v2")},m(o,i){s&&s.m(o,i),v(o,e,i),v(o,n,i),k(t,n,null),l=!0},p(o,i){o[0].prependSeparator?s?i&1&&_(s,1):(s=m3(),s.c(),_(s,1),s.m(e.parentNode,e)):s&&(U(),p(s,1,1,()=>{s=null}),W());const a={};i&1&&(a.href=o[0].href),i&3&&(a.$$scope={dirty:i,ctx:o}),t.$set(a)},i(o){l||(_(s),_(t.$$.fragment,o),l=!0)},o(o){p(s),p(t.$$.fragment,o),l=!1},d(o){s&&s.d(o),o&&$(e),o&&$(n),y(t)}}}function _ue(r){let e,n,t;return n=new yo({props:{href:va(r[0].dataForm.schema.database.id,r[0].dataForm.schema.oid,r[0].dataForm.id),$$slots:{default:[Cue]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","breadcrumb-item truncate svelte-tnc8v2")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&1&&(o.href=va(l[0].dataForm.schema.database.id,l[0].dataForm.schema.oid,l[0].dataForm.id)),s&3&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function pue(r){let e,n,t;return n=new yo({props:{href:Al(r[0].database.id,r[0].schema.oid,r[0].query.id),$$slots:{default:[Sue]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","breadcrumb-item truncate svelte-tnc8v2")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&1&&(o.href=Al(l[0].database.id,l[0].schema.oid,l[0].query.id)),s&3&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function gue(r){let e,n,t;return n=new yo({props:{href:yf(r[0].database.id,r[0].schema.oid,r[0].table.oid,r[0].record.pk),$$slots:{default:[Iue]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","breadcrumb-item truncate svelte-tnc8v2")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&1&&(o.href=yf(l[0].database.id,l[0].schema.oid,l[0].table.oid,l[0].record.pk)),s&3&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function hue(r){let e,n,t,l,s;return n=new yo({props:{href:hd(r[0].database.id,r[0].schema.oid,r[0].table),$$slots:{default:[Eue]},$$scope:{ctx:r}}}),l=new zie({props:{table:r[0].table}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),C(l.$$.fragment),I(e,"class","breadcrumb-item truncate svelte-tnc8v2")},m(o,i){v(o,e,i),k(n,e,null),v(o,t,i),k(l,o,i),s=!0},p(o,i){const a={};i&1&&(a.href=hd(o[0].database.id,o[0].schema.oid,o[0].table)),i&3&&(a.$$scope={dirty:i,ctx:o}),n.$set(a);const u={};i&1&&(u.table=o[0].table),l.$set(u)},i(o){s||(_(n.$$.fragment,o),_(l.$$.fragment,o),s=!0)},o(o){p(n.$$.fragment,o),p(l.$$.fragment,o),s=!1},d(o){o&&$(e),y(n),o&&$(t),y(l,o)}}}function bue(r){let e,n,t,l,s;return n=new yo({props:{href:Jr(r[0].database.id,r[0].schema.oid),$$slots:{default:[Mue]},$$scope:{ctx:r}}}),l=new uue({props:{database:r[0].database,schema:r[0].schema}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),C(l.$$.fragment),I(e,"class","breadcrumb-item truncate svelte-tnc8v2")},m(o,i){v(o,e,i),k(n,e,null),v(o,t,i),k(l,o,i),s=!0},p(o,i){const a={};i&1&&(a.href=Jr(o[0].database.id,o[0].schema.oid)),i&3&&(a.$$scope={dirty:i,ctx:o}),n.$set(a);const u={};i&1&&(u.database=o[0].database),i&1&&(u.schema=o[0].schema),l.$set(u)},i(o){s||(_(n.$$.fragment,o),_(l.$$.fragment,o),s=!0)},o(o){p(n.$$.fragment,o),p(l.$$.fragment,o),s=!1},d(o){o&&$(e),y(n),o&&$(t),y(l,o)}}}function $ue(r){let e,n,t,l,s;return n=new yo({props:{href:ai(r[0].database.id),$$slots:{default:[Rue]},$$scope:{ctx:r}}}),l=new mue({props:{database:r[0].database}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),C(l.$$.fragment),I(e,"class","breadcrumb-item truncate svelte-tnc8v2")},m(o,i){v(o,e,i),k(n,e,null),v(o,t,i),k(l,o,i),s=!0},p(o,i){const a={};i&1&&(a.href=ai(o[0].database.id)),i&3&&(a.$$scope={dirty:i,ctx:o}),n.$set(a);const u={};i&1&&(u.database=o[0].database),l.$set(u)},i(o){s||(_(n.$$.fragment,o),_(l.$$.fragment,o),s=!0)},o(o){p(n.$$.fragment,o),p(l.$$.fragment,o),s=!1},d(o){o&&$(e),y(n),o&&$(t),y(l,o)}}}function m3(r){let e,n;return e=new Pie({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function vue(r){let e,n;return e=new Nr({props:{arg:r[0].label}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.arg=t[0].label),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function wue(r){let e,n;return e=new Qn({props:{icon:r[0].icon,$$slots:{default:[kue]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.icon=t[0].icon),l&3&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function kue(r){let e,n;return e=new Nr({props:{arg:r[0].label}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.arg=t[0].label),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function yue(r){let e,n,t,l;const s=[wue,vue],o=[];function i(a,u){return a[0].icon?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function Cue(r){let e,n;return e=new zE({props:{dataForm:r[0].dataForm}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.dataForm=t[0].dataForm),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Sue(r){let e,n;return e=new BE({props:{query:r[0].query}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.query=t[0].query),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Tue(r){let e=r[0].record.summary+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1&&e!==(e=t[0].record.summary+"")&&z(n,e)},d(t){t&&$(n)}}}function Iue(r){let e,n;return e=new Qn({props:{icon:vc,cssVariables:{"--icon-color":"var(--color-record)"},$$slots:{default:[Tue]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&3&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Eue(r){let e,n;return e=new rn({props:{table:r[0].table}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.table=t[0].table),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Mue(r){let e,n;return e=new qE({props:{schema:r[0].schema}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.schema=t[0].schema),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Rue(r){let e,n;return e=new VE({props:{database:r[0].database}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.database=t[0].database),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Due(r){let e,n,t,l;const s=[$ue,bue,hue,gue,pue,_ue,due],o=[];function i(a,u){return a[0].type==="database"?0:a[0].type==="schema"?1:a[0].type==="table"?2:a[0].type==="record"?3:a[0].type==="exploration"?4:a[0].type==="dataForm"?5:a[0].type==="simple"?6:-1}return~(e=i(r))&&(n=o[e]=s[e](r)),{c(){n&&n.c(),t=ae()},m(a,u){~e&&o[e].m(a,u),v(a,t,u),l=!0},p(a,[u]){let f=e;e=i(a),e===f?~e&&o[e].p(a,u):(n&&(U(),p(o[f],1,1,()=>{o[f]=null}),W()),~e?(n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t)):n=null)},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){~e&&o[e].d(a),a&&$(t)}}}function Aue(r,e,n){let{item:t}=e;return r.$$set=l=>{"item"in l&&n(0,t=l.item)},[t]}class Oue extends Q{constructor(e){super(),Z(this,e,Aue,Due,J,{item:0})}}function Fue(r){let e,n;return e=new Rp({props:{sections:[{label:r[1]("databases"),entries:r[0],emptyMessage:r[1]("no_databases_connected")}],triggerLabel:r[1]("choose_database")}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&3&&(s.sections=[{label:t[1]("databases"),entries:t[0],emptyMessage:t[1]("no_databases_connected")}]),l&2&&(s.triggerLabel=t[1]("choose_database")),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Nue(r,e,n){let t,l,s,o;ne(r,ce,f=>n(1,o=f));const{databases:i,currentDatabase:a}=jn;ne(r,i,f=>n(4,l=f)),ne(r,a,f=>n(5,s=f));function u(f){return{type:"database",database:f,getFilterableText:()=>f.displayName,href:ai(f.id),isActive:()=>f.id===(s==null?void 0:s.id)}}return r.$$.update=()=>{r.$$.dirty&16&&n(0,t=[...l.values()].map(u))},[t,o,i,a,l]}class Pue extends Q{constructor(e){super(),Z(this,e,Nue,Fue,J,{})}}function d3(r,e,n){const t=r.slice();return t[2]=e[n],t}function _3(r){let e,n;return e=new Oue({props:{item:r[2]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.item=t[2]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Lue(r){let e,n,t,l,s,o;n=new mie({props:{href:"/",compactLayout:r[1]}}),l=new Pue({});let i=r[0],a=[];for(let f=0;f<i.length;f+=1)a[f]=_3(d3(r,i,f));const u=f=>p(a[f],1,1,()=>{a[f]=null});return{c(){e=E("div"),C(n.$$.fragment),t=N(),C(l.$$.fragment),s=N();for(let f=0;f<a.length;f+=1)a[f].c();I(e,"class","breadcrumb svelte-59691l")},m(f,c){v(f,e,c),k(n,e,null),R(e,t),k(l,e,null),R(e,s);for(let m=0;m<a.length;m+=1)a[m].m(e,null);o=!0},p(f,[c]){const m={};if(c&2&&(m.compactLayout=f[1]),n.$set(m),c&1){i=f[0];let d;for(d=0;d<i.length;d+=1){const g=d3(f,i,d);a[d]?(a[d].p(g,c),_(a[d],1)):(a[d]=_3(g),a[d].c(),_(a[d],1),a[d].m(e,null))}for(U(),d=i.length;d<a.length;d+=1)u(d);W()}},i(f){if(!o){_(n.$$.fragment,f),_(l.$$.fragment,f);for(let c=0;c<i.length;c+=1)_(a[c]);o=!0}},o(f){p(n.$$.fragment,f),p(l.$$.fragment,f),a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)p(a[c]);o=!1},d(f){f&&$(e),y(n),y(l),Hn(a,f)}}}function Hue(r,e,n){let{items:t}=e,{compactLayout:l=!1}=e;return r.$$set=s=>{"items"in s&&n(0,t=s.items),"compactLayout"in s&&n(1,l=s.compactLayout)},[t,l]}class Vue extends Q{constructor(e){super(),Z(this,e,Hue,Lue,J,{items:0,compactLayout:1})}}function zue(r){let e,n;return e=new fn({props:{value:r[1],options:r[0],triggerAppearance:"secondary"}}),e.$on("change",r[2]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Bue(r,e,n){let t,l;ne(r,kf,a=>n(3,t=a)),ne(r,ce,a=>n(4,l=a));const s=[{id:1,value:"light",label:l("theme_light")},{id:2,value:"dark",label:l("theme_dark")},{id:3,value:"system",label:l("theme_system")}],o=s.find(a=>a.value===t);function i(a){!a.detail||kf.set(a.detail.value)}return[s,o,i]}class que extends Q{constructor(e){super(),Z(this,e,Bue,zue,J,{})}}function p3(r){let e,n,t,l;n=new lie({props:{compactLayout:r[2]}});let s=r[6]&&g3(r);return{c(){e=E("div"),C(n.$$.fragment),t=N(),s&&s.c(),I(e,"class","right svelte-1364ilo")},m(o,i){v(o,e,i),k(n,e,null),R(e,t),s&&s.m(e,null),l=!0},p(o,i){const a={};i&4&&(a.compactLayout=o[2]),n.$set(a),o[6]?s?(s.p(o,i),i&64&&_(s,1)):(s=g3(o),s.c(),_(s,1),s.m(e,null)):s&&(U(),p(s,1,1,()=>{s=null}),W())},i(o){l||(_(n.$$.fragment,o),_(s),l=!0)},o(o){p(n.$$.fragment,o),p(s),l=!1},d(o){o&&$(e),y(n),s&&s.d()}}}function g3(r){let e,n;return e=new Pr({props:{triggerAppearance:"secondary",triggerClass:"padding-compact",size:"small",closeOnInnerClick:!1,$$slots:{trigger:[tfe],default:[efe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&65776&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function h3(r){let e,n,t,l,s,o;return e=new Gs({props:{$$slots:{default:[Uue]},$$scope:{ctx:r}}}),t=new Er({props:{icon:Js,href:ai(r[5].id),$$slots:{default:[Wue]},$$scope:{ctx:r}}}),s=new Uo({}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),C(s.$$.fragment)},m(i,a){k(e,i,a),v(i,n,a),k(t,i,a),v(i,l,a),k(s,i,a),o=!0},p(i,a){const u={};a&65664&&(u.$$scope={dirty:a,ctx:i}),e.$set(u);const f={};a&32&&(f.href=ai(i[5].id)),a&65568&&(f.$$scope={dirty:a,ctx:i}),t.$set(f)},i(i){o||(_(e.$$.fragment,i),_(t.$$.fragment,i),_(s.$$.fragment,i),o=!0)},o(i){p(e.$$.fragment,i),p(t.$$.fragment,i),p(s.$$.fragment,i),o=!1},d(i){y(e,i),i&&$(n),y(t,i),i&&$(l),y(s,i)}}}function Uue(r){let e=r[7]("database")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&128&&e!==(e=t[7]("database")+"")&&z(n,e)},d(t){t&&$(n)}}}function Wue(r){let e=r[5].displayName+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&32&&e!==(e=t[5].displayName+"")&&z(n,e)},d(t){t&&$(n)}}}function jue(r){let e=r[7]("signed_in_as")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&128&&e!==(e=t[7]("signed_in_as")+"")&&z(n,e)},d(t){t&&$(n)}}}function Yue(r){let e=r[6].getDisplayName()+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&64&&e!==(e=t[6].getDisplayName()+"")&&z(n,e)},d(t){t&&$(n)}}}function b3(r){let e,n;return e=new Er({props:{icon:Zs,href:no,hasNotificationDot:r[4],$$slots:{default:[Gue]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.hasNotificationDot=t[4]),l&65664&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Gue(r){let e=r[7]("administration")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&128&&e!==(e=t[7]("administration")+"")&&z(n,e)},d(t){t&&$(n)}}}function Kue(r){let e=r[7]("theme")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&128&&e!==(e=t[7]("theme")+"")&&z(n,e)},d(t){t&&$(n)}}}function Xue(r){let e=r[7]("resources")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&128&&e!==(e=t[7]("resources")+"")&&z(n,e)},d(t){t&&$(n)}}}function Jue(r){let e=r[7]("user_guide")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&128&&e!==(e=t[7]("user_guide")+"")&&z(n,e)},d(t){t&&$(n)}}}function Zue(r){let e=r[7]("community")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&128&&e!==(e=t[7]("community")+"")&&z(n,e)},d(t){t&&$(n)}}}function Que(r){let e=r[7]("donate_to_mathesar")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&128&&e!==(e=t[7]("donate_to_mathesar")+"")&&z(n,e)},d(t){t&&$(n)}}}function xue(r){let e=r[7]("log_out")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&128&&e!==(e=t[7]("log_out")+"")&&z(n,e)},d(t){t&&$(n)}}}function efe(r){let e,n,t,l,s,o,i,a,u,f,c,m,d,g,h,b,w,S,T,M,A,D,O,F,P,B,j,V,q=r[5]&&h3(r);n=new Gs({props:{$$slots:{default:[jue]},$$scope:{ctx:r}}}),l=new Er({props:{icon:$f,href:_d,$$slots:{default:[Yue]},$$scope:{ctx:r}}});let G=r[6].isMathesarAdmin&&b3(r);return i=new Uo({}),u=new Gs({props:{$$slots:{default:[Kue]},$$scope:{ctx:r}}}),m=new que({}),g=new Uo({}),b=new Gs({props:{$$slots:{default:[Xue]},$$scope:{ctx:r}}}),S=new Er({props:{icon:BT,href:Sf("userGuide"),"tinro-ignore":!0,target:"_blank",$$slots:{default:[Jue]},$$scope:{ctx:r}}}),M=new Er({props:{icon:zT,href:ro("community"),"tinro-ignore":!0,target:"_blank",$$slots:{default:[Zue]},$$scope:{ctx:r}}}),D=new Er({props:{icon:qT,href:ro("donate"),"tinro-ignore":!0,target:"_blank",$$slots:{default:[Que]},$$scope:{ctx:r}}}),P=new Uo({}),j=new Er({props:{icon:TK,href:bJ,"tinro-ignore":!0,$$slots:{default:[xue]},$$scope:{ctx:r}}}),{c(){q&&q.c(),e=N(),C(n.$$.fragment),t=N(),C(l.$$.fragment),s=N(),G&&G.c(),o=N(),C(i.$$.fragment),a=N(),C(u.$$.fragment),f=N(),c=E("div"),C(m.$$.fragment),d=N(),C(g.$$.fragment),h=N(),C(b.$$.fragment),w=N(),C(S.$$.fragment),T=N(),C(M.$$.fragment),A=N(),O=E("div"),C(D.$$.fragment),F=N(),C(P.$$.fragment),B=N(),C(j.$$.fragment),I(c,"class","theme-switcher svelte-1364ilo"),ln(O,"display","contents"),ln(O,"--icon-fill-color","var(--color-brand)")},m(Y,K){q&&q.m(Y,K),v(Y,e,K),k(n,Y,K),v(Y,t,K),k(l,Y,K),v(Y,s,K),G&&G.m(Y,K),v(Y,o,K),k(i,Y,K),v(Y,a,K),k(u,Y,K),v(Y,f,K),v(Y,c,K),k(m,c,null),v(Y,d,K),k(g,Y,K),v(Y,h,K),k(b,Y,K),v(Y,w,K),k(S,Y,K),v(Y,T,K),k(M,Y,K),v(Y,A,K),v(Y,O,K),k(D,O,null),v(Y,F,K),k(P,Y,K),v(Y,B,K),k(j,Y,K),V=!0},p(Y,K){Y[5]?q?(q.p(Y,K),K&32&&_(q,1)):(q=h3(Y),q.c(),_(q,1),q.m(e.parentNode,e)):q&&(U(),p(q,1,1,()=>{q=null}),W());const ee={};K&65664&&(ee.$$scope={dirty:K,ctx:Y}),n.$set(ee);const x={};K&65600&&(x.$$scope={dirty:K,ctx:Y}),l.$set(x),Y[6].isMathesarAdmin?G?(G.p(Y,K),K&64&&_(G,1)):(G=b3(Y),G.c(),_(G,1),G.m(o.parentNode,o)):G&&(U(),p(G,1,1,()=>{G=null}),W());const X={};K&65664&&(X.$$scope={dirty:K,ctx:Y}),u.$set(X);const fe={};K&65664&&(fe.$$scope={dirty:K,ctx:Y}),b.$set(fe);const he={};K&65664&&(he.$$scope={dirty:K,ctx:Y}),S.$set(he);const me={};K&65664&&(me.$$scope={dirty:K,ctx:Y}),M.$set(me);const ge={};K&65664&&(ge.$$scope={dirty:K,ctx:Y}),D.$set(ge);const pe={};K&65664&&(pe.$$scope={dirty:K,ctx:Y}),j.$set(pe)},i(Y){V||(_(q),_(n.$$.fragment,Y),_(l.$$.fragment,Y),_(G),_(i.$$.fragment,Y),_(u.$$.fragment,Y),_(m.$$.fragment,Y),_(g.$$.fragment,Y),_(b.$$.fragment,Y),_(S.$$.fragment,Y),_(M.$$.fragment,Y),_(D.$$.fragment,Y),_(P.$$.fragment,Y),_(j.$$.fragment,Y),V=!0)},o(Y){p(q),p(n.$$.fragment,Y),p(l.$$.fragment,Y),p(G),p(i.$$.fragment,Y),p(u.$$.fragment,Y),p(m.$$.fragment,Y),p(g.$$.fragment,Y),p(b.$$.fragment,Y),p(S.$$.fragment,Y),p(M.$$.fragment,Y),p(D.$$.fragment,Y),p(P.$$.fragment,Y),p(j.$$.fragment,Y),V=!1},d(Y){q&&q.d(Y),Y&&$(e),y(n,Y),Y&&$(t),y(l,Y),Y&&$(s),G&&G.d(Y),Y&&$(o),y(i,Y),Y&&$(a),y(u,Y),Y&&$(f),Y&&$(c),y(m),Y&&$(d),y(g,Y),Y&&$(h),y(b,Y),Y&&$(w),y(S,Y),Y&&$(T),y(M,Y),Y&&$(A),Y&&$(O),y(D,Y),Y&&$(F),y(P,Y),Y&&$(B),y(j,Y)}}}function tfe(r){let e,n,t;const l=[Zs,{hasNotificationDot:r[4]},{size:"1.2rem"}];let s={};for(let o=0;o<l.length;o+=1)s=se(s,l[o]);return n=new Ne({props:s}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","user-switcher svelte-1364ilo"),I(e,"slot","trigger")},m(o,i){v(o,e,i),k(n,e,null),t=!0},p(o,i){const a=i&16?de(l,[i&0&&_e(Zs),i&16&&{hasNotificationDot:o[4]},l[2]]):{};n.$set(a)},i(o){t||(_(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&$(e),y(n)}}}function nfe(r){let e,n,t,l,s,o;t=new Vue({props:{items:r[1],compactLayout:r[2]}});let i=r[3]&&p3(r);return{c(){e=E("header"),n=E("div"),C(t.$$.fragment),l=N(),i&&i.c(),I(n,"class","left svelte-1364ilo"),I(e,"class","app-header svelte-1364ilo"),xn(()=>r[14].call(e))},m(a,u){v(a,e,u),R(e,n),k(t,n,null),R(e,l),i&&i.m(e,null),s=Go(e,r[14].bind(e)),o=!0},p(a,[u]){const f={};u&2&&(f.items=a[1]),u&4&&(f.compactLayout=a[2]),t.$set(f),a[3]?i?(i.p(a,u),u&8&&_(i,1)):(i=p3(a),i.c(),_(i,1),i.m(e,null)):i&&(U(),p(i,1,1,()=>{i=null}),W())},i(a){o||(_(t.$$.fragment,a),_(i),o=!0)},o(a){p(t.$$.fragment,a),p(i),o=!1},d(a){a&&$(e),y(t),i&&i.d(),s()}}}function rfe(r){switch(r){case 0:return 350;case 1:return 500;case 2:return 700;case 3:return 800;default:return 900}}function lfe(r,e,n){let t,l,s,o,i,a,u,f,c;ne(r,ce,T=>n(7,c=T));const m=Pl(),d=Lr();ne(r,d,T=>n(6,f=T));const g=yc();ne(r,g,T=>n(12,a=T));const h=NT();ne(r,h,T=>n(1,i=T));const{currentDatabase:b}=jn;ne(r,b,T=>n(13,u=T));let w=0;function S(){w=this.clientWidth,n(0,w)}return r.$$.update=()=>{var T;r.$$.dirty&8192&&n(5,t=u),r.$$.dirty&4096&&n(4,l=((T=a==null?void 0:a.value)==null?void 0:T.upgradeStatus)==="upgradable"),r.$$.dirty&3&&n(2,o=w<rfe(i.length))},n(3,s=m.routing_context==="normal"),[w,i,o,s,l,t,f,c,d,g,h,b,a,u,S]}class sfe extends Q{constructor(e){super(),Z(this,e,lfe,nfe,J,{})}}const ofe=r=>({}),$3=r=>({});function ife(r){let e,n,t,l;n=new sfe({});const s=r[6]["secondary-header"],o=ke(s,r,r[5],$3);return{c(){e=E("div"),C(n.$$.fragment),t=N(),o&&o.c(),I(e,"class","app-layout-header svelte-10ytjnb")},m(i,a){v(i,e,a),k(n,e,null),v(i,t,a),o&&o.m(i,a),l=!0},p(i,a){o&&o.p&&(!l||a&32)&&Ce(o,s,i,i[5],l?ye(s,i[5],a,ofe):Se(i[5]),$3)},i(i){l||(_(n.$$.fragment,i),_(o,i),l=!0)},o(i){p(n.$$.fragment,i),p(o,i),l=!1},d(i){i&&$(e),y(n),i&&$(t),o&&o.d(i)}}}function afe(r){let e,n,t,l,s=r[3]&&ife(r);const o=r[6].default,i=ke(o,r,r[5],null);return{c(){e=E("div"),s&&s.c(),n=N(),t=E("main"),i&&i.c(),I(t,"class","app-layout-content svelte-10ytjnb"),ie(t,"restrict-width",r[1]),I(e,"class","app-layout svelte-10ytjnb"),I(e,"style",r[2]),ie(e,"fit-viewport",r[0])},m(a,u){v(a,e,u),s&&s.m(e,null),R(e,n),R(e,t),i&&i.m(t,null),l=!0},p(a,[u]){a[3]&&s.p(a,u),i&&i.p&&(!l||u&32)&&Ce(i,o,a,a[5],l?ye(o,a[5],u,null):Se(a[5]),null),(!l||u&2)&&ie(t,"restrict-width",a[1]),(!l||u&4)&&I(e,"style",a[2]),(!l||u&1)&&ie(e,"fit-viewport",a[0])},i(a){l||(_(s),_(i,a),l=!0)},o(a){p(s),p(i,a),l=!1},d(a){a&&$(e),s&&s.d(),i&&i.d(a)}}}function ufe(r,e,n){let t,{$$slots:l={},$$scope:s}=e;const i=Pl().routing_context!=="anonymous";let{fitViewport:a=!1}=e,{restrictWidth:u=!1}=e,{cssVariables:f=void 0}=e;return r.$$set=c=>{"fitViewport"in c&&n(0,a=c.fitViewport),"restrictWidth"in c&&n(1,u=c.restrictWidth),"cssVariables"in c&&n(4,f=c.cssVariables),"$$scope"in c&&n(5,s=c.$$scope)},r.$$.update=()=>{r.$$.dirty&16&&n(2,t=f?Ml(f):void 0)},[a,u,t,i,f,s,l]}class xr extends Q{constructor(e){super(),Z(this,e,ufe,afe,J,{fitViewport:0,restrictWidth:1,cssVariables:4})}}function v3(r){let e,n;return e=new Zr({props:{appearance:"primary",href:"/",$$slots:{default:[ffe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&10&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function ffe(r){let e=r[1]("go_to_homepage")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&2&&e!==(e=t[1]("go_to_homepage")+"")&&z(n,e)},d(t){t&&$(n)}}}function cfe(r){let e,n,t=r[1]("error")+"",l,s,o,i,a;const u=r[2].default,f=ke(u,r,r[3],null);let c=r[0]&&v3(r);return{c(){e=E("div"),n=E("h1"),l=L(t),s=N(),o=E("div"),f&&f.c(),i=N(),c&&c.c(),I(e,"class","error-page-container svelte-1kovh05")},m(m,d){v(m,e,d),R(e,n),R(n,l),R(e,s),R(e,o),f&&f.m(o,null),R(e,i),c&&c.m(e,null),a=!0},p(m,d){(!a||d&2)&&t!==(t=m[1]("error")+"")&&z(l,t),f&&f.p&&(!a||d&8)&&Ce(f,u,m,m[3],a?ye(u,m[3],d,null):Se(m[3]),null),m[0]?c?(c.p(m,d),d&1&&_(c,1)):(c=v3(m),c.c(),_(c,1),c.m(e,null)):c&&(U(),p(c,1,1,()=>{c=null}),W())},i(m){a||(_(f,m),_(c),a=!0)},o(m){p(f,m),p(c),a=!1},d(m){m&&$(e),f&&f.d(m),c&&c.d()}}}function mfe(r){let e,n;return e=new xr({props:{$$slots:{default:[cfe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&11&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function dfe(r,e,n){let t;ne(r,ce,i=>n(1,t=i));let{$$slots:l={},$$scope:s}=e,{showGoToRoot:o=!0}=e;return r.$$set=i=>{"showGoToRoot"in i&&n(0,o=i.showGoToRoot),"$$scope"in i&&n(3,s=i.$$scope)},[o,t,l,s]}class ds extends Q{constructor(e){super(),Z(this,e,dfe,mfe,J,{showGoToRoot:0})}}function _fe(r){let e,n,t,l,s;n=new Gt({});const o=r[0].default,i=ke(o,r,r[1],null);return{c(){e=E("div"),C(n.$$.fragment),t=N(),l=E("div"),i&&i.c(),I(e,"class","loading-page-container svelte-6hq345")},m(a,u){v(a,e,u),k(n,e,null),R(e,t),R(e,l),i&&i.m(l,null),s=!0},p(a,u){i&&i.p&&(!s||u&2)&&Ce(i,o,a,a[1],s?ye(o,a[1],u,null):Se(a[1]),null)},i(a){s||(_(n.$$.fragment,a),_(i,a),s=!0)},o(a){p(n.$$.fragment,a),p(i,a),s=!1},d(a){a&&$(e),y(n),i&&i.d(a)}}}function pfe(r){let e,n;return e=new xr({props:{$$slots:{default:[_fe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&2&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function gfe(r,e,n){let{$$slots:t={},$$scope:l}=e;return r.$$set=s=>{"$$scope"in s&&n(1,l=s.$$scope)},[t,l]}class XE extends Q{constructor(e){super(),Z(this,e,gfe,pfe,J,{})}}const hfe=" | ";function bfe(r){const e=[...r];return e.push(ou.MATHESAR),e.join(hfe)}function Rn(r){return bfe([r])}class JE{constructor(e,n,t){te(this,"container");te(this,"key");te(this,"structureCtx");te(this,"_index");te(this,"_label");te(this,"_help");te(this,"_styling");te(this,"canDelete",!0);this.container=e,this.structureCtx=t,this.key=n.key,this._index=Ue(n.index),this._label=Ue(n.label),this._help=Ue(n.help),this._styling=Ue(n.styling)}get index(){return this._index}get label(){return this._label}get help(){return this._help}get styling(){return this._styling}setLabel(e){this._label.set(e),this.triggerChangeEvent("label")}setHelpText(e){this._help.set(e),this.triggerChangeEvent("help")}updateIndex(e){this._index.update(e),this.triggerChangeEvent("index")}updateStyling(e){this._styling.update(n=>e===null?e:{...n||{},...e}),this.triggerChangeEvent("styling")}getBaseFieldRawJson(){return{key:this.key,index:ve(this.index),label:ve(this.label),help:ve(this.help),styling:ve(this.styling)}}}const ZE={COLUMN_NOT_FOUND:-31025},w3={columnNotFoundError:r=>new $o({message:ve(ce)("form_field_column_not_found"),code:ZE.COLUMN_NOT_FOUND,data:r})};class au extends JE{constructor(n,t,l){super(n,t,l);te(this,"kind","error");te(this,"originalField");te(this,"error");this.error=$o.fromAnything(t.error),this.originalField=t.originalField}triggerChangeEvent(){}checkAndSetDefaultLabel(){var n;this.setLabel((n=this.originalField.label)!=null?n:"")}toRawEphemeralField(){return this.originalField}}class uu{constructor(e){te(this,"tableOid");te(this,"column");te(this,"abstractType");te(this,"foreignKeyLink");this.tableOid=e.tableOid,this.column=e.column,this.foreignKeyLink=e.foreignKeyLink,this.abstractType=ho(this.column.type,this.column.metadata)}static fromProcessedColumn(e){return new uu({tableOid:e.tableOid,column:e.column,foreignKeyLink:e.linkFk?{relatedTableOid:e.linkFk.referent_table_oid}:null})}}function $fe(r){const{rowSeeker:e,...n}=r;return{launch:({previousValue:t,triggerElement:l})=>e.acquireUserSelection({...n,previousValue:t,triggerElement:l!=null?l:document.body}),close:()=>e.close(),isOpen:()=>!!ve(e.rowSeeker)}}function vfe(r){return()=>{const e=PE.getOrError();return $fe({...r,rowSeeker:e})}}class QE{constructor(e,n){te(this,"isRequired");te(this,"key");te(this,"inputFieldStore");te(this,"includeFieldStoreInForm");this.key=e,this.isRequired=n,this.inputFieldStore=et(this.isRequired,t=>t?gt(void 0):er(void 0)),this.includeFieldStoreInForm=ar(!0)}}class wfe extends QE{constructor(n,t,l){super(n,t);te(this,"_userAction");te(this,"fkInteractionRule");te(this,"inputFieldStore");te(this,"includeFieldStoreInForm");this.fkInteractionRule=l;const s=ve(this.fkInteractionRule);this._userAction=Ue(s==="must_create"?"create":"pick"),this.includeFieldStoreInForm=et(this.userAction,o=>o==="pick"),this.inputFieldStore=et([this.isRequired,this.userAction],([o,i])=>o&&i==="pick"?gt(void 0):er(void 0))}get userAction(){return et([this.fkInteractionRule,this._userAction],([n,t])=>n==="must_pick"?"pick":n==="must_create"?"create":t)}setUserAction(n){this._userAction.set(n),n==="create"&&ve(this.inputFieldStore).reset()}}class xE extends JE{constructor(n,t,l){super(n,t,l);te(this,"fieldColumn");te(this,"fieldValueHolder");te(this,"_isRequired");te(this,"canDelete");this.fieldColumn=t.fieldColumn,this._isRequired=Ue(this.fieldColumn.column.nullable?t.isRequired:!0),this.fieldValueHolder=new QE(this.key,this.isRequired),this.canDelete=!!this.fieldColumn.column.nullable}get isRequired(){return this._isRequired}setIsRequired(n){if(!this.fieldColumn.column.nullable)throw new Error("Cannot modify isRequired since this field is not nullable on the DB");this._isRequired.set(n),this.triggerChangeEvent("isRequired")}hasColumn(n){return this.fieldColumn.tableOid===n.tableOid&&this.fieldColumn.column.id===n.column.id}checkAndSetDefaultLabel(){const n=ve(this.label);(!n||n.trim()==="")&&this.setLabel(this.fieldColumn.column.name)}getBaseFieldRawJson(){return{...super.getBaseFieldRawJson(),column_attnum:this.fieldColumn.column.id,is_required:ve(this.isRequired)}}}class kfe extends xE{constructor(n,t,l){super(n,t,l);te(this,"kind","foreign_key");te(this,"fieldValueHolder");te(this,"relatedTableOid");te(this,"nestedFields");te(this,"cachedNestedFieldsBeforeMustPick");te(this,"inputComponentAndProps");te(this,"_interactionRule");this.relatedTableOid=t.relatedTableOid,this.nestedFields=t.createFields(this,this.structureCtx);const s=this.fieldColumn.foreignKeyLink;if(!s)throw Error("The passed column is not a foreign key. This should never occur");this._interactionRule=Ue(t.interactionRule),this.fieldValueHolder=new wfe(this.key,this.isRequired,this.interactionRule),this.inputComponentAndProps=et(this.interactionRule,o=>wE({recordSelectionOrchestratorFactory:vfe({constructRecordStore:l.rowSeekerRecordStoreConstructor({key:this.key,tableOid:this.fieldColumn.tableOid,columnAttnum:this.fieldColumn.column.id,relatedTableOid:s.relatedTableOid}),onSelect:i=>{At(i)&&this.fieldValueHolder.setUserAction("pick")},addRecordOptions:o==="must_pick"?void 0:{create:async()=>(this.fieldValueHolder.setUserAction("create"),null)}})}))}get interactionRule(){return this._interactionRule}async setInteractionRule(n,t){const l=ve(this._interactionRule);if(n!==l){if(this._interactionRule.set(n),this.triggerChangeEvent("interactionRule"),l!=="must_pick"&&(this.cachedNestedFieldsBeforeMustPick=ve(this.nestedFields)),n==="must_pick"){this.nestedFields.reconstruct([]);return}if(l==="must_pick"){if(this.cachedNestedFieldsBeforeMustPick===void 0){const s=await t();this.nestedFields.reconstruct(s);return}this.nestedFields.reconstructWithFields(this.cachedNestedFieldsBeforeMustPick)}}}triggerChangeEvent(n){var t;(t=this.structureCtx.changeEventHandler)==null||t.trigger({type:"fk-field/prop",target:this,prop:n})}toRawEphemeralField(n){return{...this.getBaseFieldRawJson(),kind:"foreign_key",related_table_oid:this.relatedTableOid,fk_interaction_rule:ve(this.interactionRule),child_fields:this.nestedFields.toRawFields(n)}}}function*eM(r){for(const e of ve(r))yield e,"nestedFields"in e&&(yield*eM(e.nestedFields))}function yfe(r){return r.filter(e=>!(e instanceof au))}class tM{constructor(e,n,t){te(this,"parent");te(this,"fieldSet");te(this,"sortedFields");te(this,"structureCtx");te(this,"fieldValueStores");this.parent=e,this.structureCtx=t;const l=[...n].map(s=>s(this,this.structureCtx));this.fieldSet=new Wd(l),this.sortedFields=DS(this.fieldSet.derivedValues(),s=>s.index,(s,o)=>s-o),this.fieldValueStores=AS(this.fieldSet,s=>[...s].filter(i=>i.kind==="foreign_key").flatMap(i=>[i.nestedFields.fieldValueStores,i.fieldValueHolder.userAction]),(s,o)=>jr([...s],fL(i=>{const a="fieldValueHolder"in i?[i.fieldValueHolder]:[];return i.kind==="foreign_key"&&o(i.fieldValueHolder.userAction)==="create"&&a.push(...o(i.nestedFields.fieldValueStores)),a}),hL),[])}subscribe(e){return this.sortedFields.subscribe(e)}hasColumn(e){return et(this.fieldSet,n=>jr(n.values(),Ys(t=>"hasColumn"in t&&t.hasColumn(e))))}getTableOid(){return"relatedTableOid"in this.parent?this.parent.relatedTableOid:this.parent.baseTableOid}reconstructWithFields(e){var n;if(e.some(t=>t.container!==this||t.structureCtx!==this.structureCtx))throw new Error("The provided form fields do not reference this container. This should never occur.");this.fieldSet.reconstruct(e),(n=this.structureCtx.changeEventHandler)==null||n.trigger({type:"fields/reconstruct",target:this.parent})}reconstruct(e){var n;this.fieldSet.reconstruct([...e].map(t=>t(this,this.structureCtx))),(n=this.structureCtx.changeEventHandler)==null||n.trigger({type:"fields/reconstruct",target:this.parent})}rearrange(e){for(const[n,t]of F9(e))ve(t.index)!==n&&t.updateIndex(()=>n)}add(e){var s;const n=e(this,this.structureCtx);if(!("fieldColumn"in n)||!ve(this.hasColumn(n.fieldColumn))){const o=ve(n.index);for(const i of ve(this.fieldSet))ve(i.index)>=o&&i.updateIndex(a=>a+1);this.fieldSet.add(n),(s=this.structureCtx.changeEventHandler)==null||s.trigger({type:"fields/add",target:this.parent,field:n})}}delete(e){var n;if(e.canDelete){const t=ve(e.index);for(const l of ve(this.fieldSet))ve(l.index)>t&&l.updateIndex(s=>s-1);this.fieldSet.delete(e),(n=this.structureCtx.changeEventHandler)==null||n.trigger({type:"fields/delete",target:this.parent,field:e})}}toRawFields(e){const n=ve(this);return(e!=null&&e.withoutErrorFields?yfe(n):n).map(l=>l.toRawEphemeralField(e))}}class Cfe extends xE{constructor(n,t,l){super(n,t,l);te(this,"kind","scalar_column");te(this,"inputComponentAndProps");this.inputComponentAndProps=et(this.styling,s=>{let{cellInfo:o}=this.fieldColumn.abstractType;return o.type==="string"&&(o={type:"string",config:{multiLine:(s==null?void 0:s.size)==="large"}}),Lc(this.fieldColumn.column,o)})}triggerChangeEvent(n){var t;(t=this.structureCtx.changeEventHandler)==null||t.trigger({type:"scalar-field/prop",target:this,prop:n})}toRawEphemeralField(){return{...this.getBaseFieldRawJson(),kind:"scalar_column"}}}function nM({originalField:r,error:e}){return(n,t)=>{var l;return new au(n,{key:r.key,label:(l=r.label)!=null?l:"Error",help:r.help,index:r.index,styling:r.styling,error:e,originalField:r},t)}}function Sfe({fieldColumn:r,index:e}){const n={key:vr(),label:r.column.name,help:null,index:e,is_required:!r.column.nullable,styling:{},column_attnum:r.column.id};return At(r.foreignKeyLink)?{...n,kind:"foreign_key",related_table_oid:r.foreignKeyLink.relatedTableOid,fk_interaction_rule:"must_pick",child_fields:[]}:{...n,kind:"scalar_column"}}function k3({rawField:r,fieldColumn:e}){if(r.column_attnum!==e.column.id)throw new Error("Incorrect fieldColumn passed. This should never happen.");return{key:r.key,label:r.label,help:r.help,index:r.index,isRequired:r.is_required,styling:r.styling,fieldColumn:e}}const Lf={scalar_column:({rawField:r,fieldColumn:e})=>{const n=k3({rawField:r,fieldColumn:e});return(t,l)=>new Cfe(t,{...n,kind:"scalar_column"},l)},foreign_key:({rawField:r,fieldColumn:e,createChildFields:n})=>{var l;const t=k3({rawField:r,fieldColumn:e});if(r.related_table_oid!==((l=e.foreignKeyLink)==null?void 0:l.relatedTableOid))throw new Error("Incorrect fk config in fieldColumn. This should never happen.");return(s,o)=>new kfe(s,{...t,kind:"foreign_key",relatedTableOid:r.related_table_oid,interactionRule:r.fk_interaction_rule,createFields:n},o)}};function Tfe({parentTableOid:r,rawField:e,formSource:n}){var t;try{const l=n.getColumnInfo(r,e.column_attnum),s="related_table_oid"in e&&At(e.related_table_oid)?{relatedTableOid:e.related_table_oid}:null,o=new uu({tableOid:r,column:l,foreignKeyLink:s}),{kind:i}=e;return i==="scalar_column"?Lf.scalar_column({rawField:e,fieldColumn:o}):Lf.foreign_key({rawField:e,fieldColumn:o,createChildFields:lM({parentTableOid:e.related_table_oid,rawDataFormFields:(t=e.child_fields)!=null?t:[],formSource:n})})}catch(l){return nM({originalField:e,error:$o.fromAnything(l)})}}function rM({fieldColumn:r,index:e}){const n=Sfe({fieldColumn:r,index:e});try{const{kind:t}=n;return t==="scalar_column"?Lf.scalar_column({rawField:n,fieldColumn:r}):Lf.foreign_key({rawField:n,fieldColumn:r,createChildFields:(l,s)=>new tM(l,[],s)})}catch(t){return nM({originalField:n,error:$o.fromAnything(t)})}}function lM(r){return(e,n)=>new tM(e,r.rawDataFormFields.map(t=>Tfe({parentTableOid:r.parentTableOid,rawField:t,formSource:r.formSource})),n)}class di{constructor(e,n){te(this,"baseTableOid");te(this,"schemaOid");te(this,"databaseId");te(this,"_name");te(this,"_description");te(this,"_associatedRoleId");te(this,"_submitMessage");te(this,"_submitRedirectUrl");te(this,"_submitButtonLabel");te(this,"fields");te(this,"structureCtx");te(this,"formHolder");this.baseTableOid=e.baseTableOid,this.schemaOid=e.schemaOid,this.databaseId=e.databaseId,this._name=Ue(e.name),this._description=Ue(e.description),this._associatedRoleId=Ue(e.associatedRoleId),this._submitMessage=Ue(e.submitMessage),this._submitRedirectUrl=Ue(e.submitRedirectUrl),this._submitButtonLabel=Ue(e.submitButtonLabel),this.structureCtx=n,this.fields=e.createFields(this,this.structureCtx),this.formHolder=AS(this.fields.fieldValueStores,t=>t.flatMap(l=>[l.inputFieldStore,l.includeFieldStoreInForm]),(t,l)=>{const s=t.reduce((o,i)=>(l(i.includeFieldStoreInForm)&&(o[i.key]=l(i.inputFieldStore)),o),{});return Wt(s)},Wt({}))}get name(){return this._name}get description(){return this._description}get associatedRoleId(){return this._associatedRoleId}get submitMessage(){return this._submitMessage}get submitRedirectUrl(){return this._submitRedirectUrl}get submitButtonLabel(){return this._submitButtonLabel}triggerChangeEvent(e){var n;(n=this.structureCtx.changeEventHandler)==null||n.trigger({type:"form/prop",target:this,prop:e})}setName(e){this._name.set(e),this.triggerChangeEvent("name")}setDescription(e){this._description.set(e),this.triggerChangeEvent("description")}setAssociatedRoleId(e){this._associatedRoleId.set(e),this.triggerChangeEvent("associatedRoleId")}setSubmissionMessage(e){this._submitMessage.set(e?{text:e}:null),this.triggerChangeEvent("submitMessage")}setSubmissionRedirectUrl(e){this._submitRedirectUrl.set(e),this.triggerChangeEvent("submitRedirectUrl")}setSubmissionButtonLabel(e){this._submitButtonLabel.set(e),this.triggerChangeEvent("submitButtonLabel")}getFormSubmitRequest(){let n={...ve(ao(this.formHolder)).values};return ve(this.fields.fieldValueStores).filter(s=>"userAction"in s).forEach(s=>{const o=ve(s.userAction),i=n[s.key];n={...n,[s.key]:o==="create"?{type:o}:{type:o,value:i!=null?i:null}}}),n}hasErrorFields(){for(const e of eM(this.fields))if(e instanceof au)return!0;return!1}toRawStructure(e){const n=ve(this.name);return{associated_role_id:ve(this.associatedRoleId),name:n.trim()||ve(ce)("untitled"),description:ve(this.description),fields:this.fields.toRawFields(e),submit_message:ve(this.submitMessage),submit_redirect_url:ve(this.submitRedirectUrl),submit_button_label:ve(this.submitButtonLabel)}}static factoryFromRawInfo(e,n){return t=>new di({baseTableOid:e.base_table_oid,schemaOid:e.schema_oid,databaseId:e.database_id,name:e.name,description:e.description,associatedRoleId:e.associated_role_id,submitMessage:e.submit_message,submitRedirectUrl:e.submit_redirect_url,submitButtonLabel:e.submit_button_label,createFields:lM({parentTableOid:e.base_table_oid,rawDataFormFields:e.fields,formSource:n})},t)}}function Rd(r){return ve(ce)("form_for_table",{values:{tableName:r.name}})}class Ife{constructor(e){te(this,"callbacks");this.callbacks=e}trigger(e){var n,t,l,s,o,i;switch((t=(n=this.callbacks)==null?void 0:n.allChanges)==null||t.call(n),e.type){case"fields/add":(s=(l=this.callbacks)==null?void 0:l.fieldAdded)==null||s.call(l,e.field);break;case"fields/delete":(i=(o=this.callbacks)==null?void 0:o.fieldDeleted)==null||i.call(o,e.field);break}}}class so{constructor(e){te(this,"token");te(this,"dataFormStructure");te(this,"_isSuccessfullySubmitted",Ue(!1));this.token=e.token,this.dataFormStructure=e.buildDataFormStructure({rowSeekerRecordStoreConstructor:n=>()=>new En(Ke.forms.list_related_records,{staticProps:{form_token:ve(this.token),field_key:n.key}})})}get isSuccessfullySubmitted(){return this._isSuccessfullySubmitted}submitAnother(){this._isSuccessfullySubmitted.set(!1)}async submit(){await Ke.forms.submit({form_token:ve(this.token),values:this.dataFormStructure.getFormSubmitRequest()}).run(),this._isSuccessfullySubmitted.set(!0)}}class Zn{constructor(e){te(this,"dataFormStructure");te(this,"_selectedElement",Ue());te(this,"schema");te(this,"tableStructureCache");te(this,"_hasChanges",Ue(!1));te(this,"deleteDataForm");this.dataFormStructure=e.buildDataFormStructure({changeEventHandler:new Ife({fieldAdded:n=>this.selectField(n),fieldDeleted:n=>{this.isFieldSelected(n)&&this.selectParentOfSelectedElement()},allChanges:()=>this._hasChanges.set(!0)}),rowSeekerRecordStoreConstructor:n=>()=>new En(Ke.records.list_summaries,{staticProps:{database_id:this.schema.database.id,table_oid:n.relatedTableOid}})}),this.schema=e.schema,this.tableStructureCache=e.tableStructureCache,this.deleteDataForm=e.deleteDataForm}get selectedElement(){return this._selectedElement}get hasChanges(){return this._hasChanges}selectElement(e){this._selectedElement.set(e)}selectField(e){this.selectElement({type:"field",field:e})}isFieldSelected(e){const n=ve(this.selectedElement);return(n==null?void 0:n.type)==="field"&&n.field===e}selectParentOfSelectedElement(){const e=ve(this.selectedElement);if((e==null?void 0:e.type)==="field"){const{parent:n}=e.field.container;if("kind"in n){this.selectElement({type:"field",field:n});return}}this.resetSelectedElement()}resetSelectedElement(){this._selectedElement.set(void 0)}getTableStructure(e){const n={oid:e,schema:this.schema};return this.tableStructureCache.getOrCreate(n.oid,()=>new Ti(n))}async checkAndSetDefaultFormName(){if(ve(this.dataFormStructure.name).trim()===""){const n=await this.getTableStructure(this.dataFormStructure.baseTableOid).getSubstanceOnceResolved();n.resolvedValue&&ve(this.dataFormStructure.name).trim()===""&&this.dataFormStructure.setName(Rd(n.resolvedValue.table))}}}function y3(r){let e,n,t,l,s;n=new Cp({}),l=new Sp({});let o=[r[1],{href:"https://mathesar.org"},{target:"_blank"}],i={};for(let a=0;a<o.length;a+=1)i=se(i,o[a]);return{c(){e=E("a"),C(n.$$.fragment),t=N(),C(l.$$.fragment),Tt(e,i),ie(e,"svelte-133ewug",!0)},m(a,u){v(a,e,u),k(n,e,null),R(e,t),k(l,e,null),s=!0},p(a,u){Tt(e,i=de(o,[u&2&&a[1],{href:"https://mathesar.org"},{target:"_blank"}])),ie(e,"svelte-133ewug",!0)},i(a){s||(_(n.$$.fragment,a),_(l.$$.fragment,a),s=!0)},o(a){p(n.$$.fragment,a),p(l.$$.fragment,a),s=!1},d(a){a&&$(e),y(n),y(l)}}}function Efe(r){let e,n,t=r[2]==="mathesarLogo"&&y3(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[2]==="mathesarLogo"?t?(t.p(l,s),s&4&&_(t,1)):(t=y3(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function Mfe(r){let e,n,t;return n=new ot({props:{text:r[0]("form_created_with_mathesar"),$$slots:{default:[Efe,({slotName:l})=>({2:l}),({slotName:l})=>l?4:0]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","form-branding svelte-133ewug")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,[s]){const o={};s&1&&(o.text=l[0]("form_created_with_mathesar")),s&14&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function Rfe(r,e,n){const t=[];let l=We(e,t),s;return ne(r,ce,o=>n(0,s=o)),r.$$set=o=>{e=se(se({},e),pt(o)),n(1,l=We(e,t))},[s,l]}class Dfe extends Q{constructor(e){super(),Z(this,e,Rfe,Mfe,J,{})}}const Dp="data-sortable-container",Hf="data-sortable-item",Afe="data-sortable-trigger",C3="is-dragging",S3="is-sorting";function Ofe(r,e,n){return Math.min(Math.max(r,e),n)}function Ffe(r){var e;return r.hasAttribute(Hf)?r:(e=r.closest(`[${Hf}]`))!=null?e:void 0}function Nfe(r){var e;return(e=r.closest(`[${Dp}]`))!=null?e:void 0}function*sM(r){for(const e of r.children)if(e instanceof HTMLElement&&!e.hasAttribute(Dp)){if(e.hasAttribute(Hf)){yield e;continue}yield*sM(e)}}function Rm(r){r.preventDefault()}function T3(r){return r.top+r.height/2}function Dm(r,e){e===0?r.style.removeProperty("transform"):r.style.setProperty("transform",`translateY(${e}px)`)}function Pfe(r,e){const n=r.getBoundingClientRect(),t=[...sM(r)],l=[...Array(t.length).keys()],s=t.map(a=>a.getBoundingClientRect()),o=t.indexOf(e),i=s[o];return{items:t,draggingItemIndex:o,draggingItemHeight:i.height,draggingItemMarginTop:s[o-1]?i.top-s[o-1].bottom:0,draggingItemMarginBottom:s[o+1]?s[o+1].top-i.bottom:0,minDelta:n.top-i.top,maxDelta:n.bottom-i.bottom,destinationsLowerBounds:l.map(a=>a===0?-1/0:a<=o?T3(s[a-1])-i.top:T3(s[a])-i.bottom)}}function Dd(r,e,n,t=0){var s;const l=e+t;if(t===-1||t===0){const o=n[l];if(r<o)return Dd(r,l,n,-1)}if(t===1||t===0){const o=(s=n[l+1])!=null?s:1/0;if(r>o)return Dd(r,l,n,1)}return l}function Lfe(r,e,n){const{draggingItemIndex:t,draggingItemHeight:l,draggingItemMarginBottom:s,draggingItemMarginTop:o}=e;return r>=n&&r<t?l+o:r<=n&&r>t?-1*(l+s):0}function Ap(r,e){r.setAttribute(Dp,"");const n=r;return n.sortableController={isSorting:!1,getItems:e.getItems,onSort:e.onSort},{}}function Op(r){return r.setAttribute(Hf,""),{}}function Fp(r){let e,n,t,l,s;function o(){for(const[f,c]of s.items.entries())f!==s.draggingItemIndex&&Dm(c,Lfe(f,s,l))}function i(f){const c=f.clientY-t,m=Ofe(c,s.minDelta,s.maxDelta);Dm(n,m);const d=Dd(m,l,s.destinationsLowerBounds);d!==l&&(l=d,o())}function a(f){r.removeEventListener("pointermove",i),r.removeEventListener("pointerup",a),r.removeEventListener("pointercancel",a),window.removeEventListener("selectstart",Rm),r.releasePointerCapture(f.pointerId),e.classList.remove(S3),n.classList.remove(C3);const c=e.sortableController;c.isSorting=!1;for(const m of s.items)Dm(m,0);if(s.draggingItemIndex!==l){const m=[...c.getItems()],d=m.splice(s.draggingItemIndex,1)[0];m.splice(l,0,d),c.onSort(m)}}function u(f){const c=Ffe(r);if(!c)return;n=c;const m=Nfe(r);if(!m)return;e=m,e.classList.add(S3);const d=e.sortableController;d.isSorting||(d.isSorting=!0,n.classList.add(C3),s=Pfe(e,n),l=s.draggingItemIndex,t=f.clientY,r.setPointerCapture(f.pointerId),r.addEventListener("pointermove",i),r.addEventListener("pointerup",a),r.addEventListener("pointercancel",a),window.addEventListener("selectstart",Rm))}return r.setAttribute(Afe,""),r.addEventListener("pointerdown",u),r.addEventListener("contextmenu",Rm),{destroy(){r.removeEventListener("pointerdown",u)}}}function I3(r){let e,n,t;return n=new On({props:{placements:["right","left"],$$slots:{content:[Bfe],trigger:[Hfe]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","tooltip svelte-1es6n2z")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&588&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function Hfe(r){let e,n;const t=[{slot:"trigger"},r[3]?da:ti];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&8?de(t,[t[0],_e(s[3]?da:ti)]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function Vfe(r){let e=r[6]("cannot_add_field_column_value_is_dynamic_pk")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&64&&e!==(e=t[6]("cannot_add_field_column_value_is_dynamic_pk")+"")&&z(n,e)},d(t){t&&$(n)}}}function zfe(r){let e=r[6]("cannot_add_field_column_is_already_added")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&64&&e!==(e=t[6]("cannot_add_field_column_is_already_added")+"")&&z(n,e)},d(t){t&&$(n)}}}function Bfe(r){let e;function n(s,o){if(s[3])return zfe;if(!s[2])return Vfe}let t=n(r),l=t&&t(r);return{c(){e=E("div"),l&&l.c(),I(e,"slot","content")},m(s,o){v(s,e,o),l&&l.m(e,null)},p(s,o){t===(t=n(s))&&l?l.p(s,o):(l&&l.d(1),l=t&&t(s),l&&(l.c(),l.m(e,null)))},d(s){s&&$(e),l&&l.d()}}}function qfe(r){let e,n,t,l,s;t=new Gn({props:{column:{...r[4],constraintsType:r[0].foreignKeyLink?["foreignkey"]:[]},truncate:!1}});let o=r[5]&&I3(r);return{c(){e=E("div"),n=E("div"),C(t.$$.fragment),l=N(),o&&o.c(),I(n,"class","name svelte-1es6n2z"),I(e,"class","item svelte-1es6n2z")},m(i,a){v(i,e,a),R(e,n),k(t,n,null),R(e,l),o&&o.m(e,null),s=!0},p(i,a){const u={};a&17&&(u.column={...i[4],constraintsType:i[0].foreignKeyLink?["foreignkey"]:[]}),t.$set(u),i[5]?o?(o.p(i,a),a&32&&_(o,1)):(o=I3(i),o.c(),_(o,1),o.m(e,null)):o&&(U(),p(o,1,1,()=>{o=null}),W())},i(i){s||(_(t.$$.fragment,i),_(o),s=!0)},o(i){p(t.$$.fragment,i),p(o),s=!1},d(i){i&&$(e),y(t),o&&o.d()}}}function Ufe(r){let e,n;return e=new wn({props:{disabled:r[5],$$slots:{default:[qfe]},$$scope:{ctx:r}}}),e.$on("click",r[8]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&32&&(s.disabled=t[5]),l&637&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Wfe(r,e,n){let t,l,s,o,i,a=H,u=()=>(a(),a=le(m,g=>n(7,i=g)),m),f;ne(r,ce,g=>n(6,f=g)),r.$$.on_destroy.push(()=>a());let{fieldColumn:c}=e,{parentHasColumn:m}=e;u();function d(g){Re.call(this,r,g)}return r.$$set=g=>{"fieldColumn"in g&&n(0,c=g.fieldColumn),"parentHasColumn"in g&&u(n(1,m=g.parentHasColumn))},r.$$.update=()=>{r.$$.dirty&1&&n(4,{column:t}=c,t),r.$$.dirty&16&&n(2,l=lI(t)),r.$$.dirty&128&&n(3,s=i),r.$$.dirty&12&&n(5,o=s||!l)},[c,m,l,s,t,o,f,i,d]}class jfe extends Q{constructor(e){super(),Z(this,e,Wfe,Ufe,J,{fieldColumn:0,parentHasColumn:1})}}function E3(r,e,n){const t=r.slice();return t[17]=e[n],t}function Yfe(r){let e,n,t,l,s=[],o=new Map,i,a,u=r[8]&&M3(r);t=new Uo({});let f=r[3];const c=m=>m[17].column.id;for(let m=0;m<f.length;m+=1){let d=E3(r,f,m),g=c(d);o.set(g,s[m]=R3(g,d))}return{c(){e=E("div"),u&&u.c(),n=N(),C(t.$$.fragment),l=N();for(let m=0;m<s.length;m+=1)s[m].c();i=ae(),I(e,"class","add-field-table svelte-6ofmn5")},m(m,d){v(m,e,d),u&&u.m(e,null),v(m,n,d),k(t,m,d),v(m,l,d);for(let g=0;g<s.length;g+=1)s[g].m(m,d);v(m,i,d),a=!0},p(m,d){m[8]?u?(u.p(m,d),d&256&&_(u,1)):(u=M3(m),u.c(),_(u,1),u.m(e,null)):u&&(U(),p(u,1,1,()=>{u=null}),W()),d&66057&&(f=m[3],U(),s=ht(s,d,c,1,m,f,o,i.parentNode,kt,R3,i,E3),W())},i(m){if(!a){_(u),_(t.$$.fragment,m);for(let d=0;d<f.length;d+=1)_(s[d]);a=!0}},o(m){p(u),p(t.$$.fragment,m);for(let d=0;d<s.length;d+=1)p(s[d]);a=!1},d(m){m&&$(e),u&&u.d(),m&&$(n),y(t,m),m&&$(l);for(let d=0;d<s.length;d+=1)s[d].d(m);m&&$(i)}}}function Gfe(r){let e,n;return e=new Gt({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function M3(r){let e,n;return e=new rn({props:{table:r[8],truncate:!1}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&256&&(s.table=t[8]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function R3(r,e){let n,t,l;function s(){return e[15](e[17],e[16])}return t=new jfe({props:{fieldColumn:e[17],parentHasColumn:e[0].hasColumn(e[17])}}),t.$on("click",s),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(o,i){v(o,n,i),k(t,o,i),l=!0},p(o,i){e=o;const a={};i&8&&(a.fieldColumn=e[17]),i&9&&(a.parentHasColumn=e[0].hasColumn(e[17])),t.$set(a)},i(o){l||(_(t.$$.fragment,o),l=!0)},o(o){p(t.$$.fragment,o),l=!1},d(o){o&&$(n),y(t,o)}}}function Kfe(r){let e,n,t,l;const s=[Gfe,Yfe],o=[];function i(a,u){return a[7]?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function Xfe(r){let e,n,t;return n=new Pr({props:{showArrow:!1,triggerAppearance:r[1]==="tiny"?"custom":"secondary",triggerClass:"add-field-button",icon:jt,label:r[1]==="full"?r[6]("add_fields"):"",preferredPlacement:"bottom-end",closeOnInnerClick:!1,$$slots:{default:[Kfe,({close:l})=>({16:l}),({close:l})=>l?65536:0]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","add-field svelte-6ofmn5")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,[s]){const o={};s&2&&(o.triggerAppearance=l[1]==="tiny"?"custom":"secondary"),s&66&&(o.label=l[1]==="full"?l[6]("add_fields"):""),s&1114505&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function Jfe(r,e,n){let t,l,s,o,i,a,u,f=H,c=()=>(f(),f=le(s,P=>n(14,u=P)),s),m,d,g=H,h=()=>(g(),g=le(o,P=>n(7,d=P)),o),b,w=H,S=()=>(w(),w=le(a,P=>n(8,b=P)),a);ne(r,ce,P=>n(6,m=P)),r.$$.on_destroy.push(()=>f()),r.$$.on_destroy.push(()=>g()),r.$$.on_destroy.push(()=>w());let{dataFormManager:T}=e,{fieldHolder:M}=e,{insertionIndex:A}=e,{display:D="tiny"}=e;async function O(P,B){M.add(rM({fieldColumn:P,index:A})),B()}const F=(P,B)=>O(P,B);return r.$$set=P=>{"dataFormManager"in P&&n(10,T=P.dataFormManager),"fieldHolder"in P&&n(0,M=P.fieldHolder),"insertionIndex"in P&&n(11,A=P.insertionIndex),"display"in P&&n(1,D=P.display)},r.$$.update=()=>{r.$$.dirty&1&&n(13,t=M.getTableOid()),r.$$.dirty&9216&&n(12,l=T.getTableStructure(t)),r.$$.dirty&4096&&c(n(5,{processedColumns:s,isLoading:o}=l,s,h(n(4,o)))),r.$$.dirty&16384&&n(3,i=[...u.values()].map(P=>uu.fromProcessedColumn(P))),r.$$.dirty&4096&&S(n(2,{table:a}=l,a))},[M,D,a,i,o,s,m,d,b,O,T,A,l,t,u,F]}class oM extends Q{constructor(e){super(),Z(this,e,Jfe,Xfe,J,{dataFormManager:10,fieldHolder:0,insertionIndex:11,display:1})}}function Zfe(r){let e,n,t;const l=[Mt];let s={};for(let o=0;o<l.length;o+=1)s=se(s,l[o]);return n=new Ne({props:s}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","icon")},m(o,i){v(o,e,i),k(n,e,null),t=!0},p(o,i){const a=i&0?de(l,[_e(Mt)]):{};n.$set(a)},i(o){t||(_(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&$(e),y(n)}}}function Qfe(r){let e,n;return e=new st({props:{slot:"trigger",appearance:"secondary",disabled:!r[0].canDelete,$$slots:{default:[Zfe]},$$scope:{ctx:r}}}),e.$on("click",r[3]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.disabled=!t[0].canDelete),l&16&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function xfe(r){let e,n=r[1]("field_cannot_be_removed_required_in_db")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","content")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&2&&n!==(n=l[1]("field_cannot_be_removed_required_in_db")+"")&&z(t,n)},d(l){l&&$(e)}}}function ece(r){let e,n,t,l;const s=r[2].default,o=ke(s,r,r[4],null);return t=new On({props:{enabled:!r[0].canDelete,$$slots:{content:[xfe],trigger:[Qfe]},$$scope:{ctx:r}}}),{c(){e=E("div"),o&&o.c(),n=N(),C(t.$$.fragment),I(e,"class","controls svelte-1hrfmtg")},m(i,a){v(i,e,a),o&&o.m(e,null),R(e,n),k(t,e,null),l=!0},p(i,[a]){o&&o.p&&(!l||a&16)&&Ce(o,s,i,i[4],l?ye(s,i[4],a,null):Se(i[4]),null);const u={};a&1&&(u.enabled=!i[0].canDelete),a&19&&(u.$$scope={dirty:a,ctx:i}),t.$set(u)},i(i){l||(_(o,i),_(t.$$.fragment,i),l=!0)},o(i){p(o,i),p(t.$$.fragment,i),l=!1},d(i){i&&$(e),o&&o.d(i),y(t)}}}function tce(r,e,n){let t;ne(r,ce,a=>n(1,t=a));let{$$slots:l={},$$scope:s}=e,{dataFormField:o}=e;const i=()=>o.container.delete(o);return r.$$set=a=>{"dataFormField"in a&&n(0,o=a.dataFormField),"$$scope"in a&&n(4,s=a.$$scope)},[o,t,l,i,s]}class nce extends Q{constructor(e){super(),Z(this,e,tce,ece,J,{dataFormField:0})}}function D3(r){let e;return{c(){e=E("span"),e.textContent="*",I(e,"class","req-indicator svelte-wwr8eu")},m(n,t){v(n,e,t)},d(n){n&&$(e)}}}function rce(r){let e,n;return e=new Fs({props:{controller:r[2],$$slots:{default:[sce]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&4&&(s.controller=t[2]),l&66048&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function lce(r){let e,n,t;return{c(){e=E("input"),I(e,"type","text"),e.readOnly=r[4],e.value=r[9],I(e,"class","svelte-wwr8eu"),ie(e,"disabled",r[4])},m(l,s){v(l,e,s),n||(t=[He(e,"input",r[12]),He(e,"blur",r[15])],n=!0)},p(l,s){s&16&&(e.readOnly=l[4]),s&512&&e.value!==l[9]&&(e.value=l[9]),s&16&&ie(e,"disabled",l[4])},i:H,o:H,d(l){l&&$(e),n=!1,Ot(t)}}}function sce(r){let e;return{c(){e=L(r[9])},m(n,t){v(n,e,t)},p(n,t){t&512&&z(e,n[9])},d(n){n&&$(e)}}}function A3(r){let e,n,t;return n=new nce({props:{dataFormField:r[1],$$slots:{default:[oce]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","control-panel svelte-wwr8eu")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&2&&(o.dataFormField=l[1]),s&65536&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function oce(r){let e;const n=r[14].default,t=ke(n,r,r[16],null);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&65536)&&Ce(t,n,l,l[16],e?ye(n,l[16],s,null):Se(l[16]),null)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function O3(r){let e,n;function t(o,i){if(i&1024&&(e=null),o[0]instanceof Zn)return ace;if(e==null&&(e=!!o[10].trim().length),e)return ice}let l=t(r,-1),s=l&&l(r);return{c(){s&&s.c(),n=ae()},m(o,i){s&&s.m(o,i),v(o,n,i)},p(o,i){l===(l=t(o,i))&&s?s.p(o,i):(s&&s.d(1),s=l&&l(o),s&&(s.c(),s.m(n.parentNode,n)))},d(o){s&&s.d(o),o&&$(n)}}}function ice(r){let e,n,t;return{c(){e=E("div"),n=E("span"),t=L(r[10]),I(e,"class","help svelte-wwr8eu")},m(l,s){v(l,e,s),R(e,n),R(n,t)},p(l,s){s&1024&&z(t,l[10])},d(l){l&&$(e)}}}function ace(r){let e,n,t,l,s;return{c(){e=E("div"),n=E("input"),I(n,"type","text"),n.readOnly=r[4],n.value=r[10],I(n,"placeholder",t=r[11]("field_add_help_text")),I(n,"class","svelte-wwr8eu"),ie(n,"disabled",r[4]),I(e,"class","help svelte-wwr8eu")},m(o,i){v(o,e,i),R(e,n),l||(s=He(n,"input",r[13]),l=!0)},p(o,i){i&16&&(n.readOnly=o[4]),i&1024&&n.value!==o[10]&&(n.value=o[10]),i&2048&&t!==(t=o[11]("field_add_help_text"))&&I(n,"placeholder",t),i&16&&ie(n,"disabled",o[4])},d(o){o&&$(e),l=!1,s()}}}function uce(r){let e,n,t,l,s,o,i,a,u=At(r[10]),f,c=r[8]&&D3();const m=[lce,rce],d=[];function g(w,S){return w[0]instanceof Zn?0:1}s=g(r),o=d[s]=m[s](r);let h=r[3]&&r[0]instanceof Zn&&A3(r),b=u&&O3(r);return{c(){e=E("div"),n=E("div"),t=E("div"),c&&c.c(),l=N(),o.c(),i=N(),h&&h.c(),a=N(),b&&b.c(),I(t,"class","label"),I(n,"class","header svelte-wwr8eu"),I(e,"class","label-container svelte-wwr8eu"),ie(e,"selected",r[3])},m(w,S){v(w,e,S),R(e,n),R(n,t),c&&c.m(t,null),R(t,l),d[s].m(t,null),R(n,i),h&&h.m(n,null),R(e,a),b&&b.m(e,null),f=!0},p(w,[S]){w[8]?c||(c=D3(),c.c(),c.m(t,l)):c&&(c.d(1),c=null);let T=s;s=g(w),s===T?d[s].p(w,S):(U(),p(d[T],1,1,()=>{d[T]=null}),W(),o=d[s],o?o.p(w,S):(o=d[s]=m[s](w),o.c()),_(o,1),o.m(t,null)),w[3]&&w[0]instanceof Zn?h?(h.p(w,S),S&9&&_(h,1)):(h=A3(w),h.c(),_(h,1),h.m(n,null)):h&&(U(),p(h,1,1,()=>{h=null}),W()),S&1024&&(u=At(w[10])),u?b?b.p(w,S):(b=O3(w),b.c(),b.m(e,null)):b&&(b.d(1),b=null),(!f||S&8)&&ie(e,"selected",w[3])},i(w){f||(_(o),_(h),f=!0)},o(w){p(o),p(h),f=!1},d(w){w&&$(e),c&&c.d(),d[s].d(),h&&h.d(),b&&b.d()}}}function fce(r,e,n){let t,l,s,o,i=H,a=()=>(i(),i=le(s,B=>n(8,o=B)),s),u,f=H,c=()=>(f(),f=le(t,B=>n(9,u=B)),t),m,d=H,g=()=>(d(),d=le(l,B=>n(10,m=B)),l),h;ne(r,ce,B=>n(11,h=B)),r.$$.on_destroy.push(()=>i()),r.$$.on_destroy.push(()=>f()),r.$$.on_destroy.push(()=>d());let{$$slots:b={},$$scope:w}=e,{dataFormManager:S}=e,{dataFormField:T}=e,{labelController:M}=e,{isSelected:A}=e,{disabled:D=!1}=e;function O(B){T.setLabel(Il(B))}function F(B){T.setHelpText(Il(B))}const P=()=>T.checkAndSetDefaultLabel();return r.$$set=B=>{"dataFormManager"in B&&n(0,S=B.dataFormManager),"dataFormField"in B&&n(1,T=B.dataFormField),"labelController"in B&&n(2,M=B.labelController),"isSelected"in B&&n(3,A=B.isSelected),"disabled"in B&&n(4,D=B.disabled),"$$scope"in B&&n(16,w=B.$$scope)},r.$$.update=()=>{r.$$.dirty&2&&c(n(7,{label:t,help:l}=T,t,g(n(6,l)))),r.$$.dirty&2&&a(n(5,s="isRequired"in T?T.isRequired:Nn(!1)))},[S,T,M,A,D,s,l,t,o,u,m,h,O,F,b,P,w]}class Np extends Q{constructor(e){super(),Z(this,e,fce,uce,J,{dataFormManager:0,dataFormField:1,labelController:2,isSelected:3,disabled:4})}}function F3(r){let e,n=r[4]("form_has_errors_contact_admin")+"",t;return{c(){e=E("div"),t=L(n)},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&16&&n!==(n=l[4]("form_has_errors_contact_admin")+"")&&z(t,n)},d(l){l&&$(e)}}}function N3(r){let e,n,t;return n=new st({props:{appearance:"default",$$slots:{default:[cce]},$$scope:{ctx:r}}}),n.$on("click",r[7]),{c(){e=E("div"),C(n.$$.fragment)},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&272&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function cce(r){let e,n,t,l=r[4]("remove_field")+"",s,o;const i=[Mt];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return e=new Ne({props:a}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l)},m(u,f){k(e,u,f),v(u,n,f),v(u,t,f),R(t,s),o=!0},p(u,f){const c=f&0?de(i,[_e(Mt)]):{};e.$set(c),(!o||f&16)&&l!==(l=u[4]("remove_field")+"")&&z(s,l)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){p(e.$$.fragment,u),o=!1},d(u){y(e,u),u&&$(n),u&&$(t)}}}function mce(r){let e,n,t,l,s,o,i=r[1]instanceof so&&F3(r),a=r[1]instanceof Zn&&N3(r);return{c(){e=E("div"),i&&i.c(),n=N(),t=E("div"),l=L(r[5]),s=N(),a&&a.c(),I(e,"class","error-message svelte-xwvx8")},m(u,f){v(u,e,f),i&&i.m(e,null),R(e,n),R(e,t),R(t,l),R(e,s),a&&a.m(e,null),o=!0},p(u,f){u[1]instanceof so?i?i.p(u,f):(i=F3(u),i.c(),i.m(e,n)):i&&(i.d(1),i=null),(!o||f&32)&&z(l,u[5]),u[1]instanceof Zn?a?(a.p(u,f),f&2&&_(a,1)):(a=N3(u),a.c(),_(a,1),a.m(e,null)):a&&(U(),p(a,1,1,()=>{a=null}),W())},i(u){o||(_(a),o=!0)},o(u){p(a),o=!1},d(u){u&&$(e),i&&i.d(),a&&a.d()}}}function dce(r){let e,n,t,l,s,o;return n=new Np({props:{disabled:!0,dataFormManager:r[1],dataFormField:r[2],isSelected:r[0],labelController:r[3]}}),s=new Vn({props:{fullWidth:!0,$$slots:{default:[mce]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),l=E("div"),C(s.$$.fragment),I(e,"class","error-field svelte-xwvx8")},m(i,a){v(i,e,a),k(n,e,null),R(e,t),R(e,l),k(s,l,null),o=!0},p(i,[a]){const u={};a&2&&(u.dataFormManager=i[1]),a&4&&(u.dataFormField=i[2]),a&1&&(u.isSelected=i[0]),a&8&&(u.labelController=i[3]),n.$set(u);const f={};a&310&&(f.$$scope={dirty:a,ctx:i}),s.$set(f)},i(i){o||(_(n.$$.fragment,i),_(s.$$.fragment,i),o=!0)},o(i){p(n.$$.fragment,i),p(s.$$.fragment,i),o=!1},d(i){i&&$(e),y(n),y(s)}}}function _ce(r,e,n){let t,l,s;ne(r,ce,c=>n(4,s=c));let{isSelected:o}=e,{dataFormManager:i}=e,{dataFormField:a}=e,{labelController:u}=e;const f=()=>a.container.delete(a);return r.$$set=c=>{"isSelected"in c&&n(0,o=c.isSelected),"dataFormManager"in c&&n(1,i=c.dataFormManager),"dataFormField"in c&&n(2,a=c.dataFormField),"labelController"in c&&n(3,u=c.labelController)},r.$$.update=()=>{r.$$.dirty&8&&u.disabled.set(!0),r.$$.dirty&4&&n(6,{error:t}=a,t),r.$$.dirty&82&&n(5,l=i instanceof so?`${s("error")}: ${t.message}`:t.message)},[o,i,a,u,s,l,t,f]}class pce extends Q{constructor(e){super(),Z(this,e,_ce,dce,J,{isSelected:0,dataFormManager:1,dataFormField:2,labelController:3})}}function P3(r){let e,n,t,l;const s=[hce,gce],o=[];function i(a,u){return a[6]?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function gce(r){let e,n=r[20]("anonymous_file_uploads_disabled_public")+"",t,l,s=!r[21]&&L3(r);return{c(){e=E("div"),t=L(n),l=N(),s&&s.c(),I(e,"class","disabled-file-input-help svelte-q8w0cg")},m(o,i){v(o,e,i),R(e,t),R(e,l),s&&s.m(e,null)},p(o,i){i[0]&1048576&&n!==(n=o[20]("anonymous_file_uploads_disabled_public")+"")&&z(t,n),o[21]?s&&(s.d(1),s=null):s?s.p(o,i):(s=L3(o),s.c(),s.m(e,null))},i:H,o:H,d(o){o&&$(e),s&&s.d()}}}function hce(r){let e,n;return e=new ur({props:{$$slots:{default:[bce]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&1048576|l[1]&256&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function L3(r){let e=r[20]("can_submit_without_uploading_file")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l[0]&1048576&&e!==(e=t[20]("can_submit_without_uploading_file")+"")&&z(n,e)},d(t){t&&$(n)}}}function bce(r){let e=r[20]("anonymous_file_uploads_disabled")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l[0]&1048576&&e!==(e=t[20]("anonymous_file_uploads_disabled")+"")&&z(n,e)},d(t){t&&$(n)}}}function H3(r){let e,n;return e=new Oc({props:{field:r[7]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&128&&(s.field=t[7]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function $ce(r){let e,n,t,l,s,o,i=r[5]&&!r[4]&&P3(r);function a(c){r[38](c)}let u={labelController:r[1],id:r[0].key,componentAndProps:r[22],hasError:r[14],disabled:r[9],recordSummary:r[23],setRecordSummary:r[36],fileManifest:r[24],setFileManifest:r[37],fileRequestParams:r[10],placeholder:r[3]};r[8]!==void 0&&(u.value=r[8]),t=new lu({props:u}),we.push(()=>Me(t,"value",a));let f=r[14]&&H3(r);return{c(){e=E("div"),i&&i.c(),n=N(),C(t.$$.fragment),s=N(),f&&f.c(),I(e,"class","data-form-input svelte-q8w0cg"),ie(e,"selected",r[2])},m(c,m){v(c,e,m),i&&i.m(e,null),R(e,n),k(t,e,null),R(e,s),f&&f.m(e,null),o=!0},p(c,m){c[5]&&!c[4]?i?(i.p(c,m),m[0]&48&&_(i,1)):(i=P3(c),i.c(),_(i,1),i.m(e,n)):i&&(U(),p(i,1,1,()=>{i=null}),W());const d={};m[0]&2&&(d.labelController=c[1]),m[0]&1&&(d.id=c[0].key),m[0]&4194304&&(d.componentAndProps=c[22]),m[0]&16384&&(d.hasError=c[14]),m[0]&512&&(d.disabled=c[9]),m[0]&8388608&&(d.recordSummary=c[23]),m[0]&16777216&&(d.fileManifest=c[24]),m[0]&1024&&(d.fileRequestParams=c[10]),m[0]&8&&(d.placeholder=c[3]),!l&&m[0]&256&&(l=!0,d.value=c[8],De(()=>l=!1)),t.$set(d),c[14]?f?(f.p(c,m),m[0]&16384&&_(f,1)):(f=H3(c),f.c(),_(f,1),f.m(e,null)):f&&(U(),p(f,1,1,()=>{f=null}),W()),(!o||m[0]&4)&&ie(e,"selected",c[2])},i(c){o||(_(i),_(t.$$.fragment,c),_(f),o=!0)},o(c){p(i),p(t.$$.fragment,c),p(f),o=!1},d(c){c&&$(e),i&&i.d(),y(t),f&&f.d()}}}function vce(r,e,n){let t,l,s,o,i,a,u,f,c,m,d,g,h,b,w,S,T,M,A,D,O=H,F=()=>(O(),O=le(m,lt=>n(32,D=lt)),m),P,B=H,j=()=>(B(),B=le(w,lt=>n(33,P=lt)),w),V,q=H,G=()=>(q(),q=le(f,lt=>n(8,V=lt)),f),Y,K=H,ee=()=>(K(),K=le(c,lt=>n(34,Y=lt)),c),x,X=H,fe=()=>(X(),X=le(u,lt=>n(35,x=lt)),u),he,me,ge=H,pe=()=>(ge(),ge=le(a,lt=>n(21,me=lt)),a),Le,Qe=H,Ae=()=>(Qe(),Qe=le(o,lt=>n(22,Le=lt)),o),Je,ze=H,Ve=()=>(ze(),ze=le(g,lt=>n(23,Je=lt)),g),Be,qe=H,ft=()=>(qe(),qe=le(b,lt=>n(24,Be=lt)),b);ne(r,ce,lt=>n(20,he=lt)),r.$$.on_destroy.push(()=>O()),r.$$.on_destroy.push(()=>B()),r.$$.on_destroy.push(()=>q()),r.$$.on_destroy.push(()=>K()),r.$$.on_destroy.push(()=>X()),r.$$.on_destroy.push(()=>ge()),r.$$.on_destroy.push(()=>Qe()),r.$$.on_destroy.push(()=>ze()),r.$$.on_destroy.push(()=>qe());const vt=new Cl,ut=new Cl;let{dataFormManager:Xe}=e,{dataFormField:dt}=e,{labelController:Oe}=e,{isSelected:_t}=e,{placeholder:Fe=void 0}=e;const mt=(lt,rt)=>vt.set(lt,rt),yt=(lt,rt)=>ut.set(lt,rt);function ct(lt){V=lt,f.set(V)}return r.$$set=lt=>{"dataFormManager"in lt&&n(27,Xe=lt.dataFormManager),"dataFormField"in lt&&n(0,dt=lt.dataFormField),"labelController"in lt&&n(1,Oe=lt.labelController),"isSelected"in lt&&n(2,_t=lt.isSelected),"placeholder"in lt&&n(3,Fe=lt.placeholder)},r.$$.update=()=>{r.$$.dirty[0]&134217728&&n(6,t=Xe instanceof Zn?Xe:void 0),r.$$.dirty[0]&134217728&&n(29,l=Xe instanceof so?Xe:void 0),r.$$.dirty[0]&1&&n(31,{fieldValueHolder:s,inputComponentAndProps:o,fieldColumn:i,isRequired:a}=dt,s,Ae(n(19,o)),(n(28,i),n(0,dt)),pe(n(18,a))),r.$$.dirty[1]&1&&fe(n(17,{inputFieldStore:u}=s,u)),r.$$.dirty[1]&16&&G(n(7,f=x)),r.$$.dirty[0]&128&&ee(n(16,{showsError:c,disabled:m}=f,c,F(n(15,m)))),r.$$.dirty[0]&64|r.$$.dirty[1]&8&&n(14,d=!t&&Y),r.$$.dirty[0]&256&&Ve(n(13,g=vt.derivedValue(String(V)))),r.$$.dirty[0]&256&&n(30,h=(()=>{try{const lt=typeof V=="object"?V:JSON.parse(String(V));return Ss(lt,"mash")?lt.mash:String(V)}catch(lt){return String(V)}})()),r.$$.dirty[0]&1073741824&&ft(n(12,b=ut.derivedValue(h))),r.$$.dirty[0]&536870912&&j(n(11,w=Nn(l==null?void 0:l.token))),r.$$.dirty[0]&1|r.$$.dirty[1]&4&&n(10,S=P?{form_token:P,form_field_key:dt.key}:void 0),r.$$.dirty[0]&268435456&&n(5,T=i.abstractType.identifier==="file"),r.$$.dirty[0]&268435456&&n(4,M=(()=>{var Xt;const lt=(Xt=i.column.metadata)==null?void 0:Xt.file_backend;if(!lt)return!1;const rt=OT(lt);return rt?rt.anonymous_access:!1})()),r.$$.dirty[0]&48|r.$$.dirty[1]&2&&n(9,A=D||T&&!M)},[dt,Oe,_t,Fe,M,T,t,f,V,A,S,w,b,g,d,m,c,u,a,o,he,me,Le,Je,Be,vt,ut,Xe,i,l,h,s,D,P,Y,x,mt,yt,ct]}class iM extends Q{constructor(e){super(),Z(this,e,vce,$ce,J,{dataFormManager:27,dataFormField:0,labelController:1,isSelected:2,placeholder:3},null,[-1,-1])}}function V3(r){let e,n,t,l;const s=[kce,wce],o=[];function i(a,u){return a[3]?0:a[4]?1:-1}return~(n=i(r))&&(t=o[n]=s[n](r)),{c(){e=E("span"),t&&t.c(),I(e,"class","svelte-1ckvy87")},m(a,u){v(a,e,u),~n&&o[n].m(e,null),l=!0},p(a,u){let f=n;n=i(a),n===f?~n&&o[n].p(a,u):(t&&(U(),p(o[f],1,1,()=>{o[f]=null}),W()),~n?(t=o[n],t?t.p(a,u):(t=o[n]=s[n](a),t.c()),_(t,1),t.m(e,null)):t=null)},i(a){l||(_(t),l=!0)},o(a){p(t),l=!1},d(a){a&&$(e),~n&&o[n].d()}}}function wce(r){let e,n;return e=new rn({props:{table:r[4]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.table=t[4]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function kce(r){let e,n;return e=new Gt({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function yce(r){let e,n,t=r[9]==="tableName"&&V3(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[9]==="tableName"?t?(t.p(l,s),s&512&&_(t,1)):(t=V3(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function Cce(r){let e,n,t;return n=new ot({props:{text:r[2]("form_fk_sub_form_help"),$$slots:{default:[yce,({slotName:l})=>({9:l}),({slotName:l})=>l?512:0]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","sub-form-help svelte-1ckvy87")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,[s]){const o={};s&4&&(o.text=l[2]("form_fk_sub_form_help")),s&1560&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function Sce(r,e,n){let t,l,s,o,i,a,u=H,f=()=>(u(),u=le(s,b=>n(3,a=b)),s),c,m=H,d=()=>(m(),m=le(o,b=>n(4,c=b)),o);ne(r,ce,b=>n(2,i=b)),r.$$.on_destroy.push(()=>u()),r.$$.on_destroy.push(()=>m());let{dataFormManager:g}=e,{dataFormField:h}=e;return r.$$set=b=>{"dataFormManager"in b&&n(5,g=b.dataFormManager),"dataFormField"in b&&n(6,h=b.dataFormField)},r.$$.update=()=>{r.$$.dirty&64&&n(8,{relatedTableOid:t}=h,t),r.$$.dirty&288&&n(7,l=g.getTableStructure(t)),r.$$.dirty&128&&f(n(1,{isLoading:s,table:o}=l,s,d(n(0,o))))},[o,s,i,a,c,g,h,l,t]}class Tce extends Q{constructor(e){super(),Z(this,e,Sce,Cce,J,{dataFormManager:5,dataFormField:6})}}function Ice(r){let e,n,t=(r[11]?r[4][r[11]].short:"")+"",l,s,o,i=(r[11]?r[4][r[11]].help:"")+"",a;return{c(){e=E("div"),n=E("div"),l=L(t),s=N(),o=E("div"),a=L(i),I(o,"class","option-help svelte-1p0wpsi")},m(u,f){v(u,e,f),R(e,n),R(n,l),R(e,s),R(e,o),R(o,a)},p(u,f){f&2048&&t!==(t=(u[11]?u[4][u[11]].short:"")+"")&&z(l,t),f&2048&&i!==(i=(u[11]?u[4][u[11]].help:"")+"")&&z(a,i)},d(u){u&&$(e)}}}function Ece(r){let e=(r[12]?r[4][r[12]].short:"")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&4096&&e!==(e=(t[12]?t[4][t[12]].short:"")+"")&&z(n,e)},d(t){t&&$(n)}}}function Mce(r){let e,n;return e=new fn({props:{triggerAppearance:r[1],options:eJ,value:r[3],$$slots:{trigger:[Ece,({option:t})=>({12:t}),({option:t})=>t?4096:0],default:[Ice,({option:t})=>({11:t}),({option:t})=>t?2048:0]},$$scope:{ctx:r}}}),e.$on("change",r[8]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&2&&(s.triggerAppearance=t[1]),l&8&&(s.value=t[3]),l&14336&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Rce(r,e,n){let t,l,s,o,i,a=H,u=()=>(a(),a=le(t,b=>n(3,i=b)),t);ne(r,ce,b=>n(10,o=b)),r.$$.on_destroy.push(()=>a());let{dataFormManager:f}=e,{dataFormField:c}=e,{appearance:m="secondary"}=e;const d={must_create:{short:o("form_fk_must_create_label"),help:o("form_fk_must_create_help")},can_pick_or_create:{short:o("form_fk_select_or_create_label"),help:o("form_fk_select_or_create_help")},must_pick:{short:o("form_fk_only_select_label"),help:o("form_fk_only_select_help")}};async function g(){const b=await s.getSubstanceOnceResolved();if(b.resolvedValue){const w=b.resolvedValue,{processedColumns:S}=w;return[...S.values()].filter(T=>{var M;return!((M=T.column.default)!=null&&M.is_dynamic)}).map((T,M)=>{const A=uu.fromProcessedColumn(T);return rM({fieldColumn:A,index:M})})}return[]}const h=b=>{var w;return c.setInteractionRule((w=b.detail)!=null?w:"must_pick",g)};return r.$$set=b=>{"dataFormManager"in b&&n(6,f=b.dataFormManager),"dataFormField"in b&&n(0,c=b.dataFormField),"appearance"in b&&n(1,m=b.appearance)},r.$$.update=()=>{r.$$.dirty&1&&u(n(2,{interactionRule:t,relatedTableOid:l}=c,t,(n(7,l),n(0,c)))),r.$$.dirty&192&&(s=f.getTableStructure(l))},[c,m,t,i,d,g,f,l,h]}class aM extends Q{constructor(e){super(),Z(this,e,Rce,Mce,J,{dataFormManager:6,dataFormField:0,appearance:1})}}function z3(r){let e,n;return e=new aM({props:{dataFormManager:r[2],dataFormField:r[1]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&4&&(s.dataFormManager=t[2]),l&2&&(s.dataFormField=t[1]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Dce(r){let e,n,t=r[2]&&z3(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[2]?t?(t.p(l,s),s&4&&_(t,1)):(t=z3(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function B3(r){let e,n,t;const l=[r[5],{placeholder:r[3]==="create"?r[10]("adding_new_record"):void 0}];let s={};for(let o=0;o<l.length;o+=1)s=se(s,l[o]);return n=new iM({props:s}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","fk-input svelte-xldfrg"),ie(e,"has-margin",r[6])},m(o,i){v(o,e,i),k(n,e,null),t=!0},p(o,i){const a=i&1064?de(l,[i&32&&_e(o[5]),i&1032&&{placeholder:o[3]==="create"?o[10]("adding_new_record"):void 0}]):{};n.$set(a),(!t||i&64)&&ie(e,"has-margin",o[6])},i(o){t||(_(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&$(e),y(n)}}}function q3(r){let e,n;return e=new Tce({props:{dataFormField:r[1],dataFormManager:r[2]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.dataFormField=t[1]),l&4&&(s.dataFormManager=t[2]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function U3(r){let e,n;return e=new cM({props:{fields:r[8],dataFormManager:r[0]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&256&&(s.fields=t[8]),l&1&&(s.dataFormManager=t[0]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Ace(r){let e,n,t,l,s,o,i;const a=[r[5]];let u={$$slots:{default:[Dce]},$$scope:{ctx:r}};for(let d=0;d<a.length;d+=1)u=se(u,a[d]);t=new Np({props:u});let f=r[4]!=="must_create"&&B3(r),c=r[4]==="can_pick_or_create"&&r[2]&&q3(r),m=r[4]!=="must_pick"&&(r[2]||r[3]==="create")&&U3(r);return{c(){e=E("div"),n=E("div"),C(t.$$.fragment),l=N(),f&&f.c(),s=N(),c&&c.c(),o=N(),m&&m.c(),I(n,"class","label-controls-container svelte-xldfrg"),I(e,"class","fk-field svelte-xldfrg")},m(d,g){v(d,e,g),R(e,n),k(t,n,null),R(e,l),f&&f.m(e,null),R(e,s),c&&c.m(e,null),R(e,o),m&&m.m(e,null),i=!0},p(d,[g]){const h=g&32?de(a,[_e(d[5])]):{};g&16390&&(h.$$scope={dirty:g,ctx:d}),t.$set(h),d[4]!=="must_create"?f?(f.p(d,g),g&16&&_(f,1)):(f=B3(d),f.c(),_(f,1),f.m(e,s)):f&&(U(),p(f,1,1,()=>{f=null}),W()),d[4]==="can_pick_or_create"&&d[2]?c?(c.p(d,g),g&20&&_(c,1)):(c=q3(d),c.c(),_(c,1),c.m(e,o)):c&&(U(),p(c,1,1,()=>{c=null}),W()),d[4]!=="must_pick"&&(d[2]||d[3]==="create")?m?(m.p(d,g),g&28&&_(m,1)):(m=U3(d),m.c(),_(m,1),m.m(e,null)):m&&(U(),p(m,1,1,()=>{m=null}),W())},i(d){i||(_(t.$$.fragment,d),_(f),_(c),_(m),i=!0)},o(d){p(t.$$.fragment,d),p(f),p(c),p(m),i=!1},d(d){d&&$(e),y(t),f&&f.d(),c&&c.d(),m&&m.d()}}}function Oce(r,e,n){let t,l,s,o,i,a,u,f,c=H,m=()=>(c(),c=le(i,A=>n(3,f=A)),i),d,g=H,h=()=>(g(),g=le(l,A=>n(4,d=A)),l),b;ne(r,ce,A=>n(10,b=A)),r.$$.on_destroy.push(()=>c()),r.$$.on_destroy.push(()=>g());let{isSelected:w}=e,{dataFormManager:S}=e,{dataFormField:T}=e,{labelController:M}=e;return r.$$set=A=>{"isSelected"in A&&n(11,w=A.isSelected),"dataFormManager"in A&&n(0,S=A.dataFormManager),"dataFormField"in A&&n(1,T=A.dataFormField),"labelController"in A&&n(12,M=A.labelController)},r.$$.update=()=>{r.$$.dirty&1&&n(2,t=S instanceof Zn?S:void 0),r.$$.dirty&2&&h(n(9,{interactionRule:l,nestedFields:s,fieldValueHolder:o}=T,l,(n(8,s),n(1,T)),(n(13,o),n(1,T)))),r.$$.dirty&8192&&m(n(7,{userAction:i}=o,i)),r.$$.dirty&28&&n(6,a=t?d!=="must_pick":f==="create"),r.$$.dirty&6147&&n(5,u={dataFormManager:S,dataFormField:T,isSelected:w,labelController:M})},[S,T,t,f,d,u,a,i,s,l,b,w,M,o]}class Fce extends Q{constructor(e){super(),Z(this,e,Oce,Ace,J,{isSelected:11,dataFormManager:0,dataFormField:1,labelController:12})}}function Nce(r){let e,n,t,l,s;const o=[{table:r[0]},r[3]];let i={};for(let f=0;f<o.length;f+=1)i=se(i,o[f]);n=new rn({props:i});const a=[Is];let u={};for(let f=0;f<a.length;f+=1)u=se(u,a[f]);return l=new Ne({props:u}),{c(){e=E("a"),C(n.$$.fragment),t=N(),C(l.$$.fragment),I(e,"class","table-link svelte-n3cjkh"),I(e,"href",r[2]),ie(e,"boxed",r[1])},m(f,c){v(f,e,c),k(n,e,null),R(e,t),k(l,e,null),s=!0},p(f,[c]){const m=c&9?de(o,[c&1&&{table:f[0]},c&8&&_e(f[3])]):{};n.$set(m);const d=c&0?de(a,[_e(Is)]):{};l.$set(d),(!s||c&4)&&I(e,"href",f[2]),(!s||c&2)&&ie(e,"boxed",f[1])},i(f){s||(_(n.$$.fragment,f),_(l.$$.fragment,f),s=!0)},o(f){p(n.$$.fragment,f),p(l.$$.fragment,f),s=!1},d(f){f&&$(e),y(n),y(l)}}}function Pce(r,e,n){let t;const l=["table","boxed"];let s=We(e,l),{table:o}=e,{boxed:i=!1}=e;return r.$$set=a=>{e=se(se({},e),pt(a)),n(3,s=We(e,l)),"table"in a&&n(0,o=a.table),"boxed"in a&&n(1,i=a.boxed)},r.$$.update=()=>{r.$$.dirty&1&&n(2,t=_o(o.schema.database.id,o.schema.oid,o.oid))},[o,i,t,s]}class uM extends Q{constructor(e){super(),Z(this,e,Pce,Nce,J,{table:0,boxed:1})}}function W3(r){let e,n,t,l;const s=[Hce,Lce],o=[];function i(a,u){return a[1]?0:1}return n=i(r),t=o[n]=s[n](r),{c(){e=E("div"),t.c(),I(e,"class","tag svelte-h5yugs")},m(a,u){v(a,e,u),o[n].m(e,null),l=!0},p(a,u){let f=n;n=i(a),n===f?o[n].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),t=o[n],t?t.p(a,u):(t=o[n]=s[n](a),t.c()),_(t,1),t.m(e,null))},i(a){l||(_(t),l=!0)},o(a){p(t),l=!1},d(a){a&&$(e),o[n].d()}}}function Lce(r){let e,n;return e=new rn({props:{table:r[4],alwaysShowTooltip:!0}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.table=t[4]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Hce(r){let e,n;return e=new uM({props:{table:r[4],alwaysShowTooltip:!0}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.table=t[4]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function j3(r){let e,n,t,l,s=r[2]&&Y3();return t=new Gn({props:{column:{...r[0].fieldColumn.column,constraintsType:r[0].kind==="foreign_key"?["foreignkey"]:[]},alwaysShowTooltip:!0}}),{c(){s&&s.c(),e=N(),n=E("div"),C(t.$$.fragment),I(n,"class","tag svelte-h5yugs")},m(o,i){s&&s.m(o,i),v(o,e,i),v(o,n,i),k(t,n,null),l=!0},p(o,i){o[2]?s||(s=Y3(),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null);const a={};i&1&&(a.column={...o[0].fieldColumn.column,constraintsType:o[0].kind==="foreign_key"?["foreignkey"]:[]}),t.$set(a)},i(o){l||(_(t.$$.fragment,o),l=!0)},o(o){p(t.$$.fragment,o),l=!1},d(o){s&&s.d(o),o&&$(e),o&&$(n),y(t)}}}function Y3(r){let e;return{c(){e=E("span"),e.textContent=".",I(e,"class","separator svelte-h5yugs")},m(n,t){v(n,e,t)},d(n){n&&$(e)}}}function Vce(r){let e,n,t,l=r[4]&&W3(r),s="fieldColumn"in r[0]&&j3(r);return{c(){e=E("div"),l&&l.c(),n=N(),s&&s.c(),I(e,"class","field-source svelte-h5yugs"),ie(e,"separator",r[2])},m(o,i){v(o,e,i),l&&l.m(e,null),R(e,n),s&&s.m(e,null),t=!0},p(o,[i]){o[4]?l?(l.p(o,i),i&16&&_(l,1)):(l=W3(o),l.c(),_(l,1),l.m(e,n)):l&&(U(),p(l,1,1,()=>{l=null}),W()),"fieldColumn"in o[0]?s?(s.p(o,i),i&1&&_(s,1)):(s=j3(o),s.c(),_(s,1),s.m(e,null)):s&&(U(),p(s,1,1,()=>{s=null}),W()),(!t||i&4)&&ie(e,"separator",o[2])},i(o){t||(_(l),_(s),t=!0)},o(o){p(l),p(s),t=!1},d(o){o&&$(e),l&&l.d(),s&&s.d()}}}function zce(r,e,n){let t,l,s,o,i=H,a=()=>(i(),i=le(s,d=>n(4,o=d)),s);r.$$.on_destroy.push(()=>i());let{dataFormManager:u}=e,{dataFormField:f}=e,{link:c=!1}=e,{separator:m=!1}=e;return r.$$set=d=>{"dataFormManager"in d&&n(5,u=d.dataFormManager),"dataFormField"in d&&n(0,f=d.dataFormField),"link"in d&&n(1,c=d.link),"separator"in d&&n(2,m=d.separator)},r.$$.update=()=>{r.$$.dirty&1&&n(7,t=f.container.getTableOid()),r.$$.dirty&160&&n(6,l=u.getTableStructure(t)),r.$$.dirty&64&&a(n(3,{table:s}=l,s))},[f,c,m,s,o,u,l,t]}class fM extends Q{constructor(e){super(),Z(this,e,zce,Vce,J,{dataFormManager:5,dataFormField:0,link:1,separator:2})}}const Bce=r=>({isSelected:r&8}),G3=r=>({isSelected:r[3]}),qce=r=>({isSelected:r&8}),K3=r=>({isSelected:r[3]}),Uce=r=>({isSelected:r&8}),X3=r=>({isSelected:r[3]}),Wce=r=>({isSelected:r&8}),J3=r=>({isSelected:r[3]});function Z3(r){let e,n;const t=r[12].header,l=ke(t,r,r[11],J3);return{c(){e=E("div"),l&&l.c(),I(e,"class","header svelte-ie7r4h")},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,o){l&&l.p&&(!n||o&2056)&&Ce(l,t,s,s[11],n?ye(t,s[11],o,Wce):Se(s[11]),J3)},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function Q3(r){let e,n;const t=r[12].footer,l=ke(t,r,r[11],K3);return{c(){e=E("div"),l&&l.c(),I(e,"class","footer svelte-ie7r4h")},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,o){l&&l.p&&(!n||o&2056)&&Ce(l,t,s,s[11],n?ye(t,s[11],o,qce):Se(s[11]),K3)},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function x3(r){let e,n;const t=r[12].left,l=ke(t,r,r[11],G3);return{c(){e=E("div"),l&&l.c(),I(e,"class","left svelte-ie7r4h")},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,o){l&&l.p&&(!n||o&2056)&&Ce(l,t,s,s[11],n?ye(t,s[11],o,Bce):Se(s[11]),G3)},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function jce(r){let e,n,t,l,s,o,i,a,u=r[3]&&r[6].header&&Z3(r);const f=r[12].default,c=ke(f,r,r[11],X3);let m=r[3]&&r[6].footer&&Q3(r),d=r[3]&&r[6].left&&x3(r);return{c(){e=E("div"),u&&u.c(),n=N(),t=E("div"),c&&c.c(),l=N(),m&&m.c(),s=N(),d&&d.c(),I(t,"class","content svelte-ie7r4h"),I(e,"data-form-selectable",""),I(e,"class","svelte-ie7r4h"),ie(e,"can-select",!!r[0]),ie(e,"selected",r[3]),ie(e,"immediate-child-selected",r[2]),ie(e,"some-child-selected",r[1])},m(g,h){v(g,e,h),u&&u.m(e,null),R(e,n),R(e,t),c&&c.m(t,null),R(e,l),m&&m.m(e,null),R(e,s),d&&d.m(e,null),o=!0,i||(a=[He(e,"click",r[5]),He(e,"focus",r[5]),He(e,"focusin",r[5]),Dt(Op.call(null,e))],i=!0)},p(g,[h]){g[3]&&g[6].header?u?(u.p(g,h),h&72&&_(u,1)):(u=Z3(g),u.c(),_(u,1),u.m(e,n)):u&&(U(),p(u,1,1,()=>{u=null}),W()),c&&c.p&&(!o||h&2056)&&Ce(c,f,g,g[11],o?ye(f,g[11],h,Uce):Se(g[11]),X3),g[3]&&g[6].footer?m?(m.p(g,h),h&72&&_(m,1)):(m=Q3(g),m.c(),_(m,1),m.m(e,s)):m&&(U(),p(m,1,1,()=>{m=null}),W()),g[3]&&g[6].left?d?(d.p(g,h),h&72&&_(d,1)):(d=x3(g),d.c(),_(d,1),d.m(e,null)):d&&(U(),p(d,1,1,()=>{d=null}),W()),(!o||h&1)&&ie(e,"can-select",!!g[0]),(!o||h&8)&&ie(e,"selected",g[3]),(!o||h&4)&&ie(e,"immediate-child-selected",g[2]),(!o||h&2)&&ie(e,"some-child-selected",g[1])},i(g){o||(_(u),_(c,g),_(m),_(d),o=!0)},o(g){p(u),p(c,g),p(m),p(d),o=!1},d(g){g&&$(e),u&&u.d(),c&&c.d(g),m&&m.d(),d&&d.d(),i=!1,Ot(a)}}}function Yce(r,e,n){let t,l,s,o,i,a,u,f=H,c=()=>(f(),f=le(l,S=>n(10,u=S)),l);r.$$.on_destroy.push(()=>f());let{$$slots:m={},$$scope:d}=e;const g=mr(m);let{dataFormManager:h}=e,{element:b}=e;function w(S){t&&(S.stopPropagation(),t.selectElement(b))}return r.$$set=S=>{"dataFormManager"in S&&n(7,h=S.dataFormManager),"element"in S&&n(8,b=S.element),"$$scope"in S&&n(11,d=S.$$scope)},r.$$.update=()=>{r.$$.dirty&128&&n(0,t=h instanceof Zn?h:void 0),r.$$.dirty&1&&c(n(4,l=Nn(t?t.selectedElement:void 0))),r.$$.dirty&1280&&n(9,s=(()=>{if((u==null?void 0:u.type)==="field"&&b.type==="field"){const S=u.field.container.parent===b.field,T=(()=>{let M=u.field.container.parent;for(;"container"in M;){if(M===b.field)return!0;M=M.container.parent}return!1})();return{isSelected:u.field===b.field,isImmediateChildSelected:S,isAnyChildSelected:T}}return{isSelected:(u==null?void 0:u.type)===b.type,isImmediateChildSelected:!1,isAnyChildSelected:!1}})()),r.$$.dirty&512&&n(3,{isSelected:o,isImmediateChildSelected:i,isAnyChildSelected:a}=s,o,(n(2,i),n(9,s),n(10,u),n(8,b)),(n(1,a),n(9,s),n(10,u),n(8,b)))},[t,a,i,o,l,w,g,h,b,s,u,d,m]}class Pp extends Q{constructor(e){super(),Z(this,e,Yce,jce,J,{dataFormManager:7,element:8})}}const Gce=r=>({fieldElementProps:r&136}),e4=r=>({fieldElementProps:{isSelected:r[7],labelController:r[3]}});function Kce(r){let e;const n=r[5].default,t=ke(n,r,r[6],e4);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&200)&&Ce(t,n,l,l[6],e?ye(n,l[6],s,Gce):Se(l[6]),e4)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function t4(r){let e,n,t;return n=new fM({props:{dataFormManager:r[0],dataFormField:r[1]}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","source-info svelte-yjgulb")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&1&&(o.dataFormManager=l[0]),s&2&&(o.dataFormField=l[1]),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function Xce(r){let e,n,t=r[0]instanceof Zn&&t4(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[0]instanceof Zn?t?(t.p(l,s),s&1&&_(t,1)):(t=t4(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function n4(r){let e,n;return e=new oM({props:{dataFormManager:r[0],fieldHolder:r[1].container,insertionIndex:r[4]+1}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.dataFormManager=t[0]),l&2&&(s.fieldHolder=t[1].container),l&16&&(s.insertionIndex=t[4]+1),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Jce(r){let e,n,t=r[0]instanceof Zn&&n4(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[0]instanceof Zn?t?(t.p(l,s),s&1&&_(t,1)):(t=n4(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function r4(r){let e,n,t,l,s;const o=[si];let i={};for(let a=0;a<o.length;a+=1)i=se(i,o[a]);return n=new Ne({props:i}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","grip svelte-yjgulb")},m(a,u){v(a,e,u),k(n,e,null),t=!0,l||(s=Dt(Fp.call(null,e)),l=!0)},p(a,u){const f=u&0?de(o,[_e(si)]):{};n.$set(f)},i(a){t||(_(n.$$.fragment,a),t=!0)},o(a){p(n.$$.fragment,a),t=!1},d(a){a&&$(e),y(n),l=!1,s()}}}function Zce(r){let e,n,t=r[0]instanceof Zn&&r4();return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[0]instanceof Zn?t?(t.p(l,s),s&1&&_(t,1)):(t=r4(),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function Qce(r){let e,n;return e=new Pp({props:{element:{type:"field",field:r[1]},dataFormManager:r[0],$$slots:{left:[Zce,({isSelected:t})=>({7:t}),({isSelected:t})=>t?128:0],footer:[Jce,({isSelected:t})=>({7:t}),({isSelected:t})=>t?128:0],header:[Xce,({isSelected:t})=>({7:t}),({isSelected:t})=>t?128:0],default:[Kce,({isSelected:t})=>({7:t}),({isSelected:t})=>t?128:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&2&&(s.element={type:"field",field:t[1]}),l&1&&(s.dataFormManager=t[0]),l&219&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function xce(r,e,n){let t,l,s,o=H,i=()=>(o(),o=le(l,m=>n(4,s=m)),l);r.$$.on_destroy.push(()=>o());let{$$slots:a={},$$scope:u}=e,{dataFormManager:f}=e,{dataFormField:c}=e;return r.$$set=m=>{"dataFormManager"in m&&n(0,f=m.dataFormManager),"dataFormField"in m&&n(1,c=m.dataFormField),"$$scope"in m&&n(6,u=m.$$scope)},r.$$.update=()=>{r.$$.dirty&2&&n(3,t=new Os(c.key)),r.$$.dirty&2&&i(n(2,{index:l}=c,l))},[f,c,l,t,s,a,u]}class eme extends Q{constructor(e){super(),Z(this,e,xce,Qce,J,{dataFormManager:0,dataFormField:1})}}function tme(r){let e,n,t,l,s;const o=[r[0]];let i={};for(let f=0;f<o.length;f+=1)i=se(i,o[f]);n=new Np({props:i});const a=[r[0]];let u={};for(let f=0;f<a.length;f+=1)u=se(u,a[f]);return l=new iM({props:u}),{c(){e=E("div"),C(n.$$.fragment),t=N(),C(l.$$.fragment),I(e,"class","scalar-field svelte-1h7my7y")},m(f,c){v(f,e,c),k(n,e,null),R(e,t),k(l,e,null),s=!0},p(f,[c]){const m=c&1?de(o,[_e(f[0])]):{};n.$set(m);const d=c&1?de(a,[_e(f[0])]):{};l.$set(d)},i(f){s||(_(n.$$.fragment,f),_(l.$$.fragment,f),s=!0)},o(f){p(n.$$.fragment,f),p(l.$$.fragment,f),s=!1},d(f){f&&$(e),y(n),y(l)}}}function nme(r,e,n){let t,{isSelected:l}=e,{dataFormManager:s}=e,{dataFormField:o}=e,{labelController:i}=e;return r.$$set=a=>{"isSelected"in a&&n(1,l=a.isSelected),"dataFormManager"in a&&n(2,s=a.dataFormManager),"dataFormField"in a&&n(3,o=a.dataFormField),"labelController"in a&&n(4,i=a.labelController)},r.$$.update=()=>{r.$$.dirty&30&&n(0,t={dataFormManager:s,dataFormField:o,labelController:i,isSelected:l})},[t,l,s,o,i]}class rme extends Q{constructor(e){super(),Z(this,e,nme,tme,J,{isSelected:1,dataFormManager:2,dataFormField:3,labelController:4})}}function lme(r){let e,n;const t=[r[2],{dataFormManager:r[0]},{dataFormField:r[1]}];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new pce({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&7?de(t,[o&4&&_e(s[2]),o&1&&{dataFormManager:s[0]},o&2&&{dataFormField:s[1]}]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function sme(r){let e,n;const t=[r[2],{dataFormManager:r[0]},{dataFormField:r[1]}];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Fce({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&7?de(t,[o&4&&_e(s[2]),o&1&&{dataFormManager:s[0]},o&2&&{dataFormField:s[1]}]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function ome(r){let e,n;const t=[r[2],{dataFormManager:r[0]},{dataFormField:r[1]}];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new rme({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&7?de(t,[o&4&&_e(s[2]),o&1&&{dataFormManager:s[0]},o&2&&{dataFormField:s[1]}]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function ime(r){let e,n,t,l;const s=[ome,sme,lme],o=[];function i(a,u){return a[1].kind==="scalar_column"?0:a[1].kind==="foreign_key"?1:2}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function ame(r){let e,n;return e=new eme({props:{dataFormManager:r[0],dataFormField:r[1],$$slots:{default:[ime,({fieldElementProps:t})=>({2:t}),({fieldElementProps:t})=>t?4:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.dataFormManager=t[0]),l&2&&(s.dataFormField=t[1]),l&15&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function ume(r,e,n){let{dataFormManager:t}=e,{dataFormField:l}=e;return r.$$set=s=>{"dataFormManager"in s&&n(0,t=s.dataFormManager),"dataFormField"in s&&n(1,l=s.dataFormField)},[t,l]}class fme extends Q{constructor(e){super(),Z(this,e,ume,ame,J,{dataFormManager:0,dataFormField:1})}}function l4(r,e,n){const t=r.slice();return t[5]=e[n],t}function s4(r){let e,n,t=r[0]instanceof Zn&&o4(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[0]instanceof Zn?t?(t.p(l,s),s&1&&_(t,1)):(t=o4(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function o4(r){let e,n,t,l;return n=new oM({props:{display:"full",dataFormManager:r[0],fieldHolder:r[1],insertionIndex:r[2].length}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),I(e,"class","empty-fields-state svelte-cw9er2")},m(s,o){v(s,e,o),k(n,e,null),R(e,t),l=!0},p(s,o){const i={};o&1&&(i.dataFormManager=s[0]),o&2&&(i.fieldHolder=s[1]),o&4&&(i.insertionIndex=s[2].length),n.$set(i)},i(s){l||(_(n.$$.fragment,s),l=!0)},o(s){p(n.$$.fragment,s),l=!1},d(s){s&&$(e),y(n)}}}function i4(r,e){let n,t,l;return t=new fme({props:{dataFormManager:e[0],dataFormField:e[5]}}),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(s,o){v(s,n,o),k(t,s,o),l=!0},p(s,o){e=s;const i={};o&1&&(i.dataFormManager=e[0]),o&4&&(i.dataFormField=e[5]),t.$set(i)},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){s&&$(n),y(t,s)}}}function cme(r){let e,n=[],t=new Map,l,s,o,i,a=r[2];const u=c=>c[5].key;for(let c=0;c<a.length;c+=1){let m=l4(r,a,c),d=u(m);t.set(d,n[c]=i4(d,m))}let f=null;return a.length||(f=s4(r)),{c(){e=E("div");for(let c=0;c<n.length;c+=1)n[c].c();f&&f.c(),I(e,"class","fields-container svelte-cw9er2")},m(c,m){v(c,e,m);for(let d=0;d<n.length;d+=1)n[d].m(e,null);f&&f.m(e,null),s=!0,o||(i=Dt(l=Ap.call(null,e,{getItems:r[3],onSort:r[4]})),o=!0)},p(c,[m]){m&7&&(a=c[2],U(),n=ht(n,m,u,1,c,a,t,e,kt,i4,null,l4),W(),!a.length&&f?f.p(c,m):a.length?f&&(U(),p(f,1,1,()=>{f=null}),W()):(f=s4(c),f.c(),_(f,1),f.m(e,null))),l&&St(l.update)&&m&2&&l.update.call(null,{getItems:c[3],onSort:c[4]})},i(c){if(!s){for(let m=0;m<a.length;m+=1)_(n[m]);s=!0}},o(c){for(let m=0;m<n.length;m+=1)p(n[m]);s=!1},d(c){c&&$(e);for(let m=0;m<n.length;m+=1)n[m].d();f&&f.d(),o=!1,i()}}}function mme(r,e,n){let t,l=H,s=()=>(l(),l=le(i,f=>n(2,t=f)),i);r.$$.on_destroy.push(()=>l());let{dataFormManager:o}=e,{fields:i}=e;s();const a=()=>[...ve(i)],u=f=>i.rearrange(f);return r.$$set=f=>{"dataFormManager"in f&&n(0,o=f.dataFormManager),"fields"in f&&s(n(1,i=f.fields))},[o,i,t,a,u]}class cM extends Q{constructor(e){super(),Z(this,e,mme,cme,J,{dataFormManager:0,fields:1})}}function dme(r){let e,n=r[0]("view_details")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","header")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&1&&n!==(n=l[0]("view_details")+"")&&z(t,n)},d(l){l&&$(e)}}}function _me(r){let e,n,t;return n=new uE({props:{errorStrings:r[9]}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"slot","content")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&512&&(o.errorStrings=l[9]),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function pme(r){let e,n=r[0]("error_submitting_form")+"",t,l,s,o,i;return o=new Fl({props:{triggerAppearance:"ghost",$$slots:{content:[_me],header:[dme]},$$scope:{ctx:r}}}),{c(){e=E("div"),t=L(n),l=N(),s=E("div"),C(o.$$.fragment),I(s,"class","error-detail svelte-12uitre")},m(a,u){v(a,e,u),R(e,t),v(a,l,u),v(a,s,u),k(o,s,null),i=!0},p(a,u){(!i||u&1)&&n!==(n=a[0]("error_submitting_form")+"")&&z(t,n);const f={};u&1537&&(f.$$scope={dirty:u,ctx:a}),o.$set(f)},i(a){i||(_(o.$$.fragment,a),i=!0)},o(a){p(o.$$.fragment,a),i=!1},d(a){a&&$(e),a&&$(l),a&&$(s),y(o)}}}function gme(r){let e,n,t;return n=new Vn({props:{fullWidth:!0,$$slots:{default:[pme]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","error-container"),I(e,"slot","errors")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&1537&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function hme(r){let e,n,t;return n=new yn({props:{form:r[1],catchErrors:!0,onProceed:r[5],proceedButton:{label:r[2],icon:void 0,type:"submit"},cancelButton:{label:r[0]("clear_form")},$$slots:{errors:[gme,({errors:l})=>({9:l}),({errors:l})=>l?512:0]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","submit-buttons svelte-12uitre")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,[s]){const o={};s&2&&(o.form=l[1]),s&4&&(o.proceedButton={label:l[2],icon:void 0,type:"submit"}),s&1&&(o.cancelButton={label:l[0]("clear_form")}),s&1537&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function bme(r,e,n){let t,l,s,o,i,a=H,u=()=>(a(),a=le(l,b=>n(7,i=b)),l),f,c,m=H,d=()=>(m(),m=le(t,b=>n(8,c=b)),t);ne(r,ce,b=>n(0,f=b)),r.$$.on_destroy.push(()=>a()),r.$$.on_destroy.push(()=>m());let{dataFormManager:g}=e;async function h(){g instanceof so&&await g.submit()}return r.$$set=b=>{"dataFormManager"in b&&n(6,g=b.dataFormManager)},r.$$.update=()=>{r.$$.dirty&64&&d(n(4,{submitButtonLabel:t,formHolder:l}=g.dataFormStructure,t,u(n(3,l)))),r.$$.dirty&257&&n(2,s=(c==null?void 0:c.trim())||f("submit")),r.$$.dirty&128&&n(1,o=i)},[f,o,s,l,t,h,g,i,c]}class $me extends Q{constructor(e){super(),Z(this,e,bme,hme,J,{dataFormManager:6})}}function a4(r){let e,n,t;return n=new Pp({props:{element:{type:"name"},dataFormManager:r[0],$$slots:{default:[kme]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","title-container svelte-1rnvkhv")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&1&&(o.dataFormManager=l[0]),s&8458&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function vme(r){let e,n;return{c(){e=E("h1"),n=L(r[3]),I(e,"class","form-title svelte-1rnvkhv")},m(t,l){v(t,e,l),R(e,n)},p(t,l){l&8&&z(n,t[3])},d(t){t&&$(e)}}}function wme(r){let e,n,t,l;return{c(){e=E("input"),I(e,"class","form-title svelte-1rnvkhv"),I(e,"type","text"),I(e,"placeholder",n=r[8]("name")),e.value=r[3]},m(s,o){v(s,e,o),t||(l=[He(e,"input",r[9]),He(e,"blur",r[11])],t=!0)},p(s,o){o&256&&n!==(n=s[8]("name"))&&I(e,"placeholder",n),o&8&&e.value!==s[3]&&(e.value=s[3])},d(s){s&&$(e),t=!1,Ot(l)}}}function kme(r){let e,n;function t(o,i){if(i&8&&(e=null),o[1])return wme;if(e==null&&(e=!!o[3].trim()),e)return vme}let l=t(r,-1),s=l&&l(r);return{c(){s&&s.c(),n=ae()},m(o,i){s&&s.m(o,i),v(o,n,i)},p(o,i){l===(l=t(o,i))&&s?s.p(o,i):(s&&s.d(1),s=l&&l(o),s&&(s.c(),s.m(n.parentNode,n)))},d(o){s&&s.d(o),o&&$(n)}}}function u4(r){let e,n,t;return n=new Pp({props:{element:{type:"description"},dataFormManager:r[0],$$slots:{default:[Sme]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","desc-container svelte-1rnvkhv")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&1&&(o.dataFormManager=l[0]),s&8454&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function yme(r){let e,n;return{c(){e=E("div"),n=L(r[2]),I(e,"class","form-description-static svelte-1rnvkhv")},m(t,l){v(t,e,l),R(e,n)},p(t,l){l&4&&z(n,t[2])},i:H,o:H,d(t){t&&$(e)}}}function Cme(r){var l;let e,n,t;return n=new QI({props:{placeholder:r[8]("description"),type:"text",value:(l=r[2])!=null?l:""}}),n.$on("input",r[10]),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","form-description svelte-1rnvkhv")},m(s,o){v(s,e,o),k(n,e,null),t=!0},p(s,o){var a;const i={};o&256&&(i.placeholder=s[8]("description")),o&4&&(i.value=(a=s[2])!=null?a:""),n.$set(i)},i(s){t||(_(n.$$.fragment,s),t=!0)},o(s){p(n.$$.fragment,s),t=!1},d(s){s&&$(e),y(n)}}}function Sme(r){let e,n,t,l,s;const o=[Cme,yme],i=[];function a(u,f){var c;return f&4&&(e=null),u[1]?0:(e==null&&(e=!!((c=u[2])!=null&&c.trim())),e?1:-1)}return~(n=a(r,-1))&&(t=i[n]=o[n](r)),{c(){t&&t.c(),l=ae()},m(u,f){~n&&i[n].m(u,f),v(u,l,f),s=!0},p(u,f){let c=n;n=a(u,f),n===c?~n&&i[n].p(u,f):(t&&(U(),p(i[c],1,1,()=>{i[c]=null}),W()),~n?(t=i[n],t?t.p(u,f):(t=i[n]=o[n](u),t.c()),_(t,1),t.m(l.parentNode,l)):t=null)},i(u){s||(_(t),s=!0)},o(u){p(t),s=!1},d(u){~n&&i[n].d(u),u&&$(l)}}}function Tme(r){let e,n,t,l=r[5]&&a4(r),s=r[4]&&u4(r);return{c(){e=E("div"),l&&l.c(),n=N(),s&&s.c(),I(e,"class","header svelte-1rnvkhv")},m(o,i){v(o,e,i),l&&l.m(e,null),R(e,n),s&&s.m(e,null),t=!0},p(o,[i]){o[5]?l?(l.p(o,i),i&32&&_(l,1)):(l=a4(o),l.c(),_(l,1),l.m(e,n)):l&&(U(),p(l,1,1,()=>{l=null}),W()),o[4]?s?(s.p(o,i),i&16&&_(s,1)):(s=u4(o),s.c(),_(s,1),s.m(e,null)):s&&(U(),p(s,1,1,()=>{s=null}),W())},i(o){t||(_(l),_(s),t=!0)},o(o){p(l),p(s),t=!1},d(o){o&&$(e),l&&l.d(),s&&s.d()}}}function Ime(r,e,n){let t,l,s,o,i,a,u,f=H,c=()=>(f(),f=le(s,M=>n(2,u=M)),s),m,d=H,g=()=>(d(),d=le(l,M=>n(3,m=M)),l),h;ne(r,ce,M=>n(8,h=M)),r.$$.on_destroy.push(()=>f()),r.$$.on_destroy.push(()=>d());let{dataFormManager:b}=e;function w(M){if(o){const A=Il(M);t.setName(A)}}function S(M){if(o){const A=Il(M);t.setDescription(A)}}async function T(){o&&await o.checkAndSetDefaultFormName()}return r.$$set=M=>{"dataFormManager"in M&&n(0,b=M.dataFormManager)},r.$$.update=()=>{r.$$.dirty&1&&n(12,{dataFormStructure:t}=b,t),r.$$.dirty&4096&&g(n(7,{name:l,description:s}=t,l,c(n(6,s)))),r.$$.dirty&1&&n(1,o=b instanceof Zn?b:void 0),r.$$.dirty&10&&n(5,i=!!o||m.trim()),r.$$.dirty&6&&n(4,a=!!o||(u==null?void 0:u.trim()))},[b,o,u,m,a,i,s,l,h,w,S,T,t]}class Eme extends Q{constructor(e){super(),Z(this,e,Ime,Tme,J,{dataFormManager:0})}}function Mme(r){let e,n;return e=new st({props:{$$slots:{default:[Dme]},$$scope:{ctx:r}}}),e.$on("click",r[8]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1026&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Rme(r){let e,n,t,l,s=r[1]("click_on_link_if_not_redirected")+"",o,i;return n=new ot({props:{text:r[1]("you_will_be_redirected_to_link"),$$slots:{default:[Ame,({slotName:a})=>({9:a}),({slotName:a})=>a?512:0]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),l=E("div"),o=L(s),I(l,"class","link-help svelte-1uera56")},m(a,u){v(a,e,u),k(n,e,null),v(a,t,u),v(a,l,u),R(l,o),i=!0},p(a,u){const f={};u&2&&(f.text=a[1]("you_will_be_redirected_to_link")),u&1540&&(f.$$scope={dirty:u,ctx:a}),n.$set(f),(!i||u&2)&&s!==(s=a[1]("click_on_link_if_not_redirected")+"")&&z(o,s)},i(a){i||(_(n.$$.fragment,a),i=!0)},o(a){p(n.$$.fragment,a),i=!1},d(a){a&&$(e),y(n),a&&$(t),a&&$(l)}}}function Dme(r){let e=r[1]("submit_another_response")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&2&&e!==(e=t[1]("submit_another_response")+"")&&z(n,e)},d(t){t&&$(n)}}}function f4(r){let e,n;return{c(){e=E("a"),n=L(r[2]),I(e,"href",r[2])},m(t,l){v(t,e,l),R(e,n)},p(t,l){l&4&&z(n,t[2]),l&4&&I(e,"href",t[2])},d(t){t&&$(e)}}}function Ame(r){let e,n=r[9]==="redirectUrl"&&f4(r);return{c(){n&&n.c(),e=ae()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,l){t[9]==="redirectUrl"?n?n.p(t,l):(n=f4(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&$(e)}}}function Ome(r){let e,n,t,l,s,o,i,a;const u=[Rme,Mme],f=[];function c(m,d){return m[2]?0:1}return o=c(r),i=f[o]=u[o](r),{c(){e=E("div"),n=E("div"),t=L(r[3]),l=N(),s=E("div"),i.c(),I(n,"class","message svelte-1uera56"),I(s,"class","actions svelte-1uera56"),I(e,"class","post-submit svelte-1uera56")},m(m,d){v(m,e,d),R(e,n),R(n,t),R(e,l),R(e,s),f[o].m(s,null),a=!0},p(m,[d]){(!a||d&8)&&z(t,m[3]);let g=o;o=c(m),o===g?f[o].p(m,d):(U(),p(f[g],1,1,()=>{f[g]=null}),W(),i=f[o],i?i.p(m,d):(i=f[o]=u[o](m),i.c()),_(i,1),i.m(s,null))},i(m){a||(_(i),a=!0)},o(m){p(i),a=!1},d(m){m&&$(e),f[o].d()}}}function Fme(r,e,n){let t,l,s,o,i,a=H,u=()=>(a(),a=le(l,b=>n(6,i=b)),l),f,c,m=H,d=()=>(m(),m=le(t,b=>n(7,c=b)),t);ne(r,ce,b=>n(1,f=b)),r.$$.on_destroy.push(()=>a()),r.$$.on_destroy.push(()=>m());let{dataFormManager:g}=e;tn(()=>{const b=setTimeout(()=>{o&&(window.location.href=o)},3e3);return()=>clearTimeout(b)});const h=()=>g.submitAnother();return r.$$set=b=>{"dataFormManager"in b&&n(0,g=b.dataFormManager)},r.$$.update=()=>{var b;r.$$.dirty&1&&d(n(5,{submitMessage:t,submitRedirectUrl:l}=g.dataFormStructure,t,u(n(4,l)))),r.$$.dirty&130&&n(3,s=(b=c==null?void 0:c.text.trim())!=null?b:f("thank_you_for_submitting_form")),r.$$.dirty&64&&n(2,o=(()=>{let w=i==null?void 0:i.trim();return w?(!w.startsWith("http://")&&!w.startsWith("https://")&&(w=`http://${w}`),w):null})())},[g,f,o,s,l,t,i,c,h]}class Nme extends Q{constructor(e){super(),Z(this,e,Fme,Ome,J,{dataFormManager:0})}}function Pme(r){let e,n,t,l,s,o;return e=new Eme({props:{dataFormManager:r[0]}}),t=new cM({props:{fields:r[4],dataFormManager:r[0]}}),s=new $me({props:{dataFormManager:r[0]}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),C(s.$$.fragment)},m(i,a){k(e,i,a),v(i,n,a),k(t,i,a),v(i,l,a),k(s,i,a),o=!0},p(i,a){const u={};a&1&&(u.dataFormManager=i[0]),e.$set(u);const f={};a&16&&(f.fields=i[4]),a&1&&(f.dataFormManager=i[0]),t.$set(f);const c={};a&1&&(c.dataFormManager=i[0]),s.$set(c)},i(i){o||(_(e.$$.fragment,i),_(t.$$.fragment,i),_(s.$$.fragment,i),o=!0)},o(i){p(e.$$.fragment,i),p(t.$$.fragment,i),p(s.$$.fragment,i),o=!1},d(i){y(e,i),i&&$(n),y(t,i),i&&$(l),y(s,i)}}}function Lme(r){let e,n;return e=new Nme({props:{dataFormManager:r[2]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&4&&(s.dataFormManager=t[2]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function c4(r){let e,n,t;return n=new Dfe({}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","branding svelte-o3xw76")},m(l,s){v(l,e,s),k(n,e,null),t=!0},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function Am(r){let e,n,t,l,s,o,i;const a=[Lme,Pme],u=[];function f(g,h){return g[2]&&g[5]?0:1}n=f(r),t=u[n]=a[n](r);let c=r[1]&&c4(),m=[{class:"data-form svelte-o3xw76"}],d={};for(let g=0;g<m.length;g+=1)d=se(d,m[g]);return{c(){e=E(r[2]?"form":"div"),t.c(),l=N(),c&&c.c(),Tt(e,d)},m(g,h){v(g,e,h),u[n].m(e,null),R(e,l),c&&c.m(e,null),s=!0,o||(i=He(e,"submit",Bs(r[6])),o=!0)},p(g,h){let b=n;n=f(g),n===b?u[n].p(g,h):(U(),p(u[b],1,1,()=>{u[b]=null}),W(),t=u[n],t?t.p(g,h):(t=u[n]=a[n](g),t.c()),_(t,1),t.m(e,l)),g[1]?c?h&2&&_(c,1):(c=c4(),c.c(),_(c,1),c.m(e,null)):c&&(U(),p(c,1,1,()=>{c=null}),W()),Tt(e,d=de(m,[{class:"data-form svelte-o3xw76"}]))},i(g){s||(_(t),_(c),s=!0)},o(g){p(t),p(c),s=!1},d(g){g&&$(e),u[n].d(),c&&c.d(),o=!1,i()}}}function Hme(r){let e=r[2]?"form":"div",n,t=(r[2]?"form":"div")&&Am(r);return{c(){t&&t.c(),n=ae()},m(l,s){t&&t.m(l,s),v(l,n,s)},p(l,[s]){l[2],e?J(e,l[2]?"form":"div")?(t.d(1),t=Am(l),t.c(),t.m(n.parentNode,n)):t.p(l,s):(t=Am(l),t.c(),t.m(n.parentNode,n)),e=l[2]?"form":"div"},i:H,o(l){p(t)},d(l){l&&$(n),t&&t.d(l)}}}function Vme(r,e,n){let t,l,s,o,i=H,a=()=>(i(),i=le(s,m=>n(5,o=m)),s);r.$$.on_destroy.push(()=>i());let{dataFormManager:u}=e,{showBranding:f=!0}=e;function c(m){Re.call(this,r,m)}return r.$$set=m=>{"dataFormManager"in m&&n(0,u=m.dataFormManager),"showBranding"in m&&n(1,f=m.showBranding)},r.$$.update=()=>{r.$$.dirty&1&&n(4,{fields:t}=u.dataFormStructure,t),r.$$.dirty&1&&n(2,l=u instanceof so?u:void 0),r.$$.dirty&4&&a(n(3,s=Nn(l==null?void 0:l.isSuccessfullySubmitted)))},[u,f,l,s,t,o,c]}class mM extends Q{constructor(e){super(),Z(this,e,Vme,Hme,J,{dataFormManager:0,showBranding:1})}}const zme=r=>({}),m4=r=>({});function Bme(r){let e;return{c(){e=L(r[1])},m(n,t){v(n,e,t)},p(n,t){t&2&&z(e,n[1])},d(n){n&&$(e)}}}function d4(r){let e,n;return e=new On({props:{"aria-label":r[3]("help"),class:"help-trigger",allowHover:!0,$$slots:{content:[Ume],trigger:[qme]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8&&(s["aria-label"]=t[3]("help")),l&72&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function qme(r){let e,n;const t=[{slot:"trigger"},Js];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[t[0],_e(Js)]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function Ume(r){let e,n=r[3]("section_affects_postgresql_config")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","content")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&8&&n!==(n=l[3]("section_affects_postgresql_config")+"")&&z(t,n)},d(l){l&&$(e)}}}function Wme(r){let e,n,t,l;const s=r[4].title,o=ke(s,r,r[6],m4),i=o||Bme(r);let a=r[2]&&d4(r);return{c(){e=E("div"),n=E("div"),i&&i.c(),t=N(),a&&a.c(),I(e,"slot","header"),I(e,"class","header svelte-z7q63k")},m(u,f){v(u,e,f),R(e,n),i&&i.m(n,null),R(e,t),a&&a.m(e,null),l=!0},p(u,f){o?o.p&&(!l||f&64)&&Ce(o,s,u,u[6],l?ye(s,u[6],f,zme):Se(u[6]),m4):i&&i.p&&(!l||f&2)&&i.p(u,l?f:-1),u[2]?a?(a.p(u,f),f&4&&_(a,1)):(a=d4(u),a.c(),_(a,1),a.m(e,null)):a&&(U(),p(a,1,1,()=>{a=null}),W())},i(u){l||(_(i,u),_(a),l=!0)},o(u){p(i,u),p(a),l=!1},d(u){u&&$(e),i&&i.d(u),a&&a.d()}}}function jme(r){let e,n;const t=r[4].default,l=ke(t,r,r[6],null);return{c(){e=E("div"),l&&l.c(),I(e,"slot","content"),I(e,"class","content svelte-z7q63k")},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,o){l&&l.p&&(!n||o&64)&&Ce(l,t,s,s[6],n?ye(t,s[6],o,null):Se(s[6]),null)},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function Yme(r){let e,n,t,l;function s(i){r[5](i)}let o={triggerAppearance:"default",$$slots:{content:[jme],header:[Wme]},$$scope:{ctx:r}};return r[0]!==void 0&&(o.isOpen=r[0]),n=new Fl({props:o}),we.push(()=>Me(n,"isOpen",s)),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","inspector-section")},m(i,a){v(i,e,a),k(n,e,null),l=!0},p(i,[a]){const u={};a&78&&(u.$$scope={dirty:a,ctx:i}),!t&&a&1&&(t=!0,u.isOpen=i[0],De(()=>t=!1)),n.$set(u)},i(i){l||(_(n.$$.fragment,i),l=!0)},o(i){p(n.$$.fragment,i),l=!1},d(i){i&&$(e),y(n)}}}function Gme(r,e,n){let t;ne(r,ce,f=>n(3,t=f));let{$$slots:l={},$$scope:s}=e,{title:o=void 0}=e,{isDbLevelConfiguration:i=!1}=e,{isOpen:a=!0}=e;function u(f){a=f,n(0,a)}return r.$$set=f=>{"title"in f&&n(1,o=f.title),"isDbLevelConfiguration"in f&&n(2,i=f.isDbLevelConfiguration),"isOpen"in f&&n(0,a=f.isOpen),"$$scope"in f&&n(6,s=f.$$scope)},[a,o,i,t,l,u,s]}class An extends Q{constructor(e){super(),Z(this,e,Gme,Yme,J,{title:1,isDbLevelConfiguration:2,isOpen:0})}}function Kme(r){let e,n;const t=r[1].default,l=ke(t,r,r[0],null);return{c(){e=E("div"),l&&l.c(),I(e,"class","inspector-tab-content svelte-1dinxed")},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,[o]){l&&l.p&&(!n||o&1)&&Ce(l,t,s,s[0],n?ye(t,s[0],o,null):Se(s[0]),null)},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function Xme(r,e,n){let{$$slots:t={},$$scope:l}=e;return r.$$set=s=>{"$$scope"in s&&n(0,l=s.$$scope)},[l,t]}class qc extends Q{constructor(e){super(),Z(this,e,Xme,Kme,J,{})}}function _4(r){let e,n;return e=new Nt({props:{layout:"stacked",label:r[6]("size"),$$slots:{default:[Jme]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&64&&(s.label=t[6]("size")),l&65603&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Jme(r){let e,n;return e=new fn({props:{value:r[1],options:r[8],getLabel:r[12]}}),e.$on("change",r[13]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.value=t[1]),l&64&&(s.getLabel=t[12]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Zme(r){let e,n;return e=new lr({props:{checked:At(r[7]),disabled:r[5]}}),e.$on("change",r[14]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&128&&(s.checked=At(t[7])),l&32&&(s.disabled=t[5]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function p4(r){let e,n;return e=new hn({props:{value:r[7],disabled:r[5],placeholder:r[6]("field_add_help_text")}}),e.$on("input",r[15]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&128&&(s.value=t[7]),l&32&&(s.disabled=t[5]),l&64&&(s.placeholder=t[6]("field_add_help_text")),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Qme(r){let e,n,t,l,s=At(r[7]),o,i=r[2]&&_4(r);t=new Nt({props:{layout:"inline-input-first",label:r[6]("field_provide_help_text"),$$slots:{default:[Zme]},$$scope:{ctx:r}}});let a=s&&p4(r);return{c(){e=E("section"),i&&i.c(),n=N(),C(t.$$.fragment),l=N(),a&&a.c(),I(e,"class","appearance svelte-168lqp1")},m(u,f){v(u,e,f),i&&i.m(e,null),R(e,n),k(t,e,null),R(e,l),a&&a.m(e,null),o=!0},p(u,f){u[2]?i?(i.p(u,f),f&4&&_(i,1)):(i=_4(u),i.c(),_(i,1),i.m(e,n)):i&&(U(),p(i,1,1,()=>{i=null}),W());const c={};f&64&&(c.label=u[6]("field_provide_help_text")),f&65697&&(c.$$scope={dirty:f,ctx:u}),t.$set(c),f&128&&(s=At(u[7])),s?a?(a.p(u,f),f&128&&_(a,1)):(a=p4(u),a.c(),_(a,1),a.m(e,null)):a&&(U(),p(a,1,1,()=>{a=null}),W())},i(u){o||(_(i),_(t.$$.fragment,u),_(a),o=!0)},o(u){p(i),p(t.$$.fragment,u),p(a),o=!1},d(u){u&&$(e),i&&i.d(),y(t),a&&a.d()}}}function xme(r){let e,n;return e=new An({props:{title:r[6]("presentation"),$$slots:{default:[Qme]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&64&&(s.title=t[6]("presentation")),l&65767&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function ede(r,e,n){let t,l,s,o,i,a,u,f,c=H,m=()=>(c(),c=le(l,O=>n(11,f=O)),l),d,g,h=H,b=()=>(h(),h=le(o,O=>n(7,g=O)),o);ne(r,ce,O=>n(6,d=O)),r.$$.on_destroy.push(()=>c()),r.$$.on_destroy.push(()=>h());let{field:w}=e;const S=["regular","large"],T=O=>At(O)?d(O==="regular"?"regular":"large"):"",M=O=>w.updateStyling({size:O.detail}),A=O=>w.setHelpText(O.detail?"":null),D=O=>{w.setHelpText(Il(O))};return r.$$set=O=>{"field"in O&&n(0,w=O.field)},r.$$.update=()=>{var O;r.$$.dirty&1&&n(5,t=w instanceof au),r.$$.dirty&1&&m(n(4,{styling:l,kind:s,help:o}=w,l,(n(10,s),n(0,w)),b(n(3,o)))),r.$$.dirty&1&&n(9,i="fieldColumn"in w?w:void 0),r.$$.dirty&1536&&n(2,a=s==="scalar_column"&&(i==null?void 0:i.fieldColumn.abstractType.cellInfo.type)==="string"),r.$$.dirty&2048&&n(1,u=(O=f==null?void 0:f.size)!=null?O:"regular")},[w,u,a,o,l,t,d,g,S,i,s,f,T,M,A,D]}class tde extends Q{constructor(e){super(),Z(this,e,ede,xme,J,{field:0})}}function nde(r){let e,n;return e=new lr({props:{checked:r[2],disabled:r[1]}}),e.$on("change",r[7]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&4&&(s.checked=t[2]),l&2&&(s.disabled=t[1]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function g4(r){let e,n;return e=new zt({props:{$$slots:{default:[rde]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&272&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function rde(r){let e=r[4]("field_marked_required_column_disallows_null")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&16&&e!==(e=t[4]("field_marked_required_column_disallows_null")+"")&&z(n,e)},d(t){t&&$(n)}}}function lde(r){let e,n=r[4]("field_validation_mark_as_required")+"",t,l,s,o=r[1]&&g4(r);return{c(){e=E("span"),t=L(n),l=N(),o&&o.c(),I(e,"slot","label")},m(i,a){v(i,e,a),R(e,t),R(e,l),o&&o.m(e,null),s=!0},p(i,a){(!s||a&16)&&n!==(n=i[4]("field_validation_mark_as_required")+"")&&z(t,n),i[1]?o?(o.p(i,a),a&2&&_(o,1)):(o=g4(i),o.c(),_(o,1),o.m(e,null)):o&&(U(),p(o,1,1,()=>{o=null}),W())},i(i){s||(_(o),s=!0)},o(i){p(o),s=!1},d(i){i&&$(e),o&&o.d()}}}function sde(r){let e,n;return e=new Nt({props:{layout:"inline-input-first",$$slots:{label:[lde],default:[nde]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&279&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function ode(r,e,n){let t,l,s,o,i,a=H,u=()=>(a(),a=le(l,d=>n(6,i=d)),l),f;ne(r,ce,d=>n(4,f=d)),r.$$.on_destroy.push(()=>a());let{field:c}=e;const m=d=>c.setIsRequired(d.detail);return r.$$set=d=>{"field"in d&&n(0,c=d.field)},r.$$.update=()=>{r.$$.dirty&1&&n(5,{fieldColumn:t,isRequired:l}=c,t,u(n(3,l))),r.$$.dirty&32&&n(1,s=!t.column.nullable),r.$$.dirty&66&&n(2,o=s||i)},[c,s,o,l,f,t,i,m]}class ide extends Q{constructor(e){super(),Z(this,e,ode,sde,J,{field:0})}}function ade(r){let e;const n=r[1].default,t=ke(n,r,r[2],null);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&4)&&Ce(t,n,l,l[2],e?ye(n,l[2],s,null):Se(l[2]),null)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function ude(r){let e,n,t;const l=[{icon:ma},r[0],{fullWidth:!0}];let s={$$slots:{default:[ade]},$$scope:{ctx:r}};for(let o=0;o<l.length;o+=1)s=se(s,l[o]);return n=new Ac({props:s}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","info-box svelte-1hy4bpx")},m(o,i){v(o,e,i),k(n,e,null),t=!0},p(o,[i]){const a=i&1?de(l,[i&0&&{icon:ma},i&1&&_e(o[0]),l[2]]):{};i&4&&(a.$$scope={dirty:i,ctx:o}),n.$set(a)},i(o){t||(_(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&$(e),y(n)}}}function fde(r,e,n){const t=[];let l=We(e,t),{$$slots:s={},$$scope:o}=e;return r.$$set=i=>{e=se(se({},e),pt(i)),n(0,l=We(e,t)),"$$scope"in i&&n(2,o=i.$$scope)},[l,s,o]}class Co extends Q{constructor(e){super(),Z(this,e,fde,ude,J,{})}}function cde(r){var t;let e,n;return e=new _l({props:{errors:[(t=r[1].error)!=null?t:r[3]("unknown_error")]}}),{c(){C(e.$$.fragment)},m(l,s){k(e,l,s),n=!0},p(l,s){var i;const o={};s&10&&(o.errors=[(i=l[1].error)!=null?i:l[3]("unknown_error")]),e.$set(o)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){p(e.$$.fragment,l),n=!1},d(l){y(e,l)}}}function mde(r){let e,n;return e=new ru({props:{recordSummary:r[2]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&4&&(s.recordSummary=t[2]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function dde(r){let e,n;return e=new Gt({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function h4(r){let e,n;return e=new kn({props:{$$slots:{default:[_de]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&257&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function _de(r){let e=r[0].name+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1&&e!==(e=t[0].name+"")&&z(n,e)},d(t){t&&$(n)}}}function pde(r){let e,n,t=r[7]==="tableName"&&h4(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[7]==="tableName"?t?(t.p(l,s),s&128&&_(t,1)):(t=h4(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function gde(r){let e,n,t,l,s,o;const i=[dde,mde,cde],a=[];function u(f,c){return f[1].isLoading?0:f[2]!==void 0?1:2}return e=u(r),n=a[e]=i[e](r),s=new ot({props:{text:r[3]("record_summary_preview_help"),$$slots:{default:[pde,({slotName:f})=>({7:f}),({slotName:f})=>f?128:0]},$$scope:{ctx:r}}}),{c(){n.c(),t=N(),l=E("div"),C(s.$$.fragment),I(l,"class","help svelte-1lle12y")},m(f,c){a[e].m(f,c),v(f,t,c),v(f,l,c),k(s,l,null),o=!0},p(f,c){let m=e;e=u(f),e===m?a[e].p(f,c):(U(),p(a[m],1,1,()=>{a[m]=null}),W(),n=a[e],n?n.p(f,c):(n=a[e]=i[e](f),n.c()),_(n,1),n.m(t.parentNode,t));const d={};c&8&&(d.text=f[3]("record_summary_preview_help")),c&385&&(d.$$scope={dirty:c,ctx:f}),s.$set(d)},i(f){o||(_(n),_(s.$$.fragment,f),o=!0)},o(f){p(n),p(s.$$.fragment,f),o=!1},d(f){a[e].d(f),f&&$(t),f&&$(l),y(s)}}}function hde(r){let e,n;return e=new al({props:{label:r[3]("preview"),boxed:!0,$$slots:{default:[gde]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&8&&(s.label=t[3]("preview")),l&271&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function bde(r,e,n){let t,l,s;ne(r,ce,f=>n(3,s=f));const o=new En(Ke.records.get);ne(r,o,f=>n(1,l=f));let{template:i}=e,{table:a}=e,{recordId:u}=e;return r.$$set=f=>{"template"in f&&n(5,i=f.template),"table"in f&&n(0,a=f.table),"recordId"in f&&n(6,u=f.recordId)},r.$$.update=()=>{var f,c;r.$$.dirty&97&&o.run({database_id:a.schema.database.id,table_oid:a.oid,return_record_summaries:!0,record_id:u,table_record_summary_templates:{[a.oid]:i}}),r.$$.dirty&66&&n(2,t=(c=(f=l.resolvedValue)==null?void 0:f.record_summaries)==null?void 0:c[String(u)])},[a,l,t,s,o,i,u]}class $de extends Q{constructor(e){super(),Z(this,e,bde,hde,J,{template:5,table:0,recordId:6})}}function vde(r){let e,n,t;const l=[g0];let s={};for(let o=0;o<l.length;o+=1)s=se(s,l[o]);return n=new Ne({props:s}),{c(){e=E("span"),C(n.$$.fragment),I(e,"class","field-delimiter svelte-1nx6tn9")},m(o,i){v(o,e,i),k(n,e,null),t=!0},p(o,[i]){const a=i&0?de(l,[_e(g0)]):{};n.$set(a)},i(o){t||(_(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&$(e),y(n)}}}class Lp extends Q{constructor(e){super(),Z(this,e,null,vde,J,{})}}const wde=r=>({}),b4=r=>({});function kde(r){let e,n;const t=r[5].empty,l=ke(t,r,r[8],b4);return{c(){e=E("div"),l&&l.c(),I(e,"class","empty svelte-1n6eca3")},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,o){l&&l.p&&(!n||o&256)&&Ce(l,t,s,s[8],n?ye(t,s[8],o,wde):Se(s[8]),b4)},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function yde(r){let e,n;return e=new cs({props:{processedColumn:r[9]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&512&&(s.processedColumn=t[9]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Cde(r){let e,n,t,l;const s=[yde,kde],o=[];function i(a,u){return a[9]?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function Sde(r){let e,n,t;const l=[{options:[...r[3]?[void 0]:[],...r[1]]},{labelKey:"name"},{valuesAreEqual:Tde},r[4]];function s(i){r[6](i)}let o={$$slots:{default:[Cde,({option:i})=>({9:i}),({option:i})=>i?512:0]},$$scope:{ctx:r}};for(let i=0;i<l.length;i+=1)o=se(o,l[i]);return r[0]!==void 0&&(o.value=r[0]),e=new fn({props:o}),we.push(()=>Me(e,"value",s)),e.$on("change",r[7]),{c(){C(e.$$.fragment)},m(i,a){k(e,i,a),t=!0},p(i,[a]){const u=a&26?de(l,[a&10&&{options:[...i[3]?[void 0]:[],...i[1]]},l[1],l[2],a&16&&_e(i[4])]):{};a&768&&(u.$$scope={dirty:a,ctx:i}),!n&&a&1&&(n=!0,u.value=i[0],De(()=>n=!1)),e.$set(u)},i(i){t||(_(e.$$.fragment,i),t=!0)},o(i){p(e.$$.fragment,i),t=!1},d(i){y(e,i)}}}const Tde=(r,e)=>(r==null?void 0:r.id)===(e==null?void 0:e.id);function Ide(r,e,n){const t=["columns","value","onUpdate","allowEmpty"];let l=We(e,t),{$$slots:s={},$$scope:o}=e,{columns:i}=e,{value:a=void 0}=e,{onUpdate:u=void 0}=e,{allowEmpty:f=!1}=e;function c(d){a=d,n(0,a)}const m=({detail:d})=>u==null?void 0:u(d);return r.$$set=d=>{e=se(se({},e),pt(d)),n(4,l=We(e,t)),"columns"in d&&n(1,i=d.columns),"value"in d&&n(0,a=d.value),"onUpdate"in d&&n(2,u=d.onUpdate),"allowEmpty"in d&&n(3,f=d.allowEmpty),"$$scope"in d&&n(8,o=d.$$scope)},[a,i,u,f,l,s,c,m,o]}class _i extends Q{constructor(e){super(),Z(this,e,Ide,Sde,J,{columns:1,value:0,onUpdate:2,allowEmpty:3})}}function Ede(r){let e,n;return e=new dM({props:{schema:r[0],columnIds:r[1],columns:r[6],onUpdate:r[2]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.schema=t[0]),l&2&&(s.columnIds=t[1]),l&64&&(s.columns=t[6]),l&4&&(s.onUpdate=t[2]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Mde(r){let e,n,t;return n=new Gt({}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","loading svelte-gdtm7d")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p:H,i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function Rde(r){let e,n,t,l;const s=[Mde,Ede],o=[];function i(a,u){return a[5]?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,[u]){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function Dde(r,e,n){let t,l,s,o=H,i=()=>(o(),o=le(t,h=>n(5,s=h)),t),a,u=H,f=()=>(u(),u=le(l,h=>n(6,a=h)),l);r.$$.on_destroy.push(()=>o()),r.$$.on_destroy.push(()=>u());let{schema:c}=e,{columnIds:m}=e,{referentTable:d}=e,{onUpdate:g}=e;return r.$$set=h=>{"schema"in h&&n(0,c=h.schema),"columnIds"in h&&n(1,m=h.columnIds),"referentTable"in h&&n(7,d=h.referentTable),"onUpdate"in h&&n(2,g=h.onUpdate)},r.$$.update=()=>{r.$$.dirty&128&&i(n(4,{isLoading:t,processedColumns:l}=d,t,f(n(3,l))))},[c,m,g,l,t,s,a,d]}class Ade extends Q{constructor(e){super(),Z(this,e,Dde,Rde,J,{schema:0,columnIds:1,referentTable:7,onUpdate:2})}}function Ode(r){let e,n,t,l;n=new _i({props:{columns:[...r[2].values()],value:r[4],onUpdate:r[7],allowEmpty:!0}});let s=r[5]&&$4();return{c(){e=E("div"),C(n.$$.fragment),t=N(),s&&s.c(),I(e,"class","column-select svelte-181jtx5")},m(o,i){v(o,e,i),k(n,e,null),R(e,t),s&&s.m(e,null),l=!0},p(o,i){const a={};i&4&&(a.columns=[...o[2].values()]),i&16&&(a.value=o[4]),i&8&&(a.onUpdate=o[7]),n.$set(a),o[5]?s?i&32&&_(s,1):(s=$4(),s.c(),_(s,1),s.m(e,null)):s&&(U(),p(s,1,1,()=>{s=null}),W())},i(o){l||(_(n.$$.fragment,o),_(s),l=!0)},o(o){p(n.$$.fragment,o),p(s),l=!1},d(o){o&&$(e),y(n),s&&s.d()}}}function Fde(r){let e,n=r[6]("deleted_column")+"",t;return{c(){e=E("div"),t=L(n),I(e,"class","deleted-column svelte-181jtx5")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&64&&n!==(n=l[6]("deleted_column")+"")&&z(t,n)},i:H,o:H,d(l){l&&$(e)}}}function $4(r){let e,n,t;return n=new Lp({}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","delimiter svelte-181jtx5")},m(l,s){v(l,e,s),k(n,e,null),t=!0},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function v4(r){let e,n;return e=new Ade({props:{schema:r[0],columnIds:r[1].slice(1),referentTable:r[5],onUpdate:r[8]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.schema=t[0]),l&2&&(s.columnIds=t[1].slice(1)),l&32&&(s.referentTable=t[5]),l&24&&(s.onUpdate=t[8]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Nde(r){let e,n,t,l,s;const o=[Fde,Ode],i=[];function a(f,c){return f[1][0]!==void 0&&f[4]===void 0?0:1}e=a(r),n=i[e]=o[e](r);let u=r[5]&&v4(r);return{c(){n.c(),t=N(),u&&u.c(),l=ae()},m(f,c){i[e].m(f,c),v(f,t,c),u&&u.m(f,c),v(f,l,c),s=!0},p(f,[c]){let m=e;e=a(f),e===m?i[e].p(f,c):(U(),p(i[m],1,1,()=>{i[m]=null}),W(),n=i[e],n?n.p(f,c):(n=i[e]=o[e](f),n.c()),_(n,1),n.m(t.parentNode,t)),f[5]?u?(u.p(f,c),c&32&&_(u,1)):(u=v4(f),u.c(),_(u,1),u.m(l.parentNode,l)):u&&(U(),p(u,1,1,()=>{u=null}),W())},i(f){s||(_(n),_(u),s=!0)},o(f){p(n),p(u),s=!1},d(f){i[e].d(f),f&&$(t),u&&u.d(f),f&&$(l)}}}function Pde(r,e,n){let t,l,s;ne(r,ce,m=>n(6,s=m));let{schema:o}=e,{columnIds:i}=e,{columns:a}=e,{onUpdate:u}=e;const f=m=>u(m?[m.id]:[]),c=m=>{var d;return u([...(d=Rr(t,g=>[g.id]))!=null?d:[],...m])};return r.$$set=m=>{"schema"in m&&n(0,o=m.schema),"columnIds"in m&&n(1,i=m.columnIds),"columns"in m&&n(2,a=m.columns),"onUpdate"in m&&n(3,u=m.onUpdate)},r.$$.update=()=>{var m;r.$$.dirty&6&&n(4,t=Rr(i[0],d=>a.get(d))),r.$$.dirty&17&&n(5,l=Rr((m=t==null?void 0:t.linkFk)==null?void 0:m.referent_table_oid,d=>new Ti({schema:o,oid:d})))},[o,i,a,u,t,l,s,f,c]}class dM extends Q{constructor(e){super(),Z(this,e,Pde,Nde,J,{schema:0,columnIds:1,columns:2,onUpdate:3})}}function Lde(r){let e,n;const t=[Mt];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[_e(Mt)]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function Hde(r){var M;let e,n,t,l,s,o=((M=r[0])!=null?M:"")+"",i,a,u,f,c,m,d,g,h;const b=[si];let w={};for(let A=0;A<b.length;A+=1)w=se(w,b[A]);t=new Ne({props:w});const S=r[2].default,T=ke(S,r,r[3],null);return m=new st({props:{size:"small",appearance:"ghost",$$slots:{default:[Lde]},$$scope:{ctx:r}}}),m.$on("click",function(){St(r[1])&&r[1].apply(this,arguments)}),{c(){e=E("div"),n=E("div"),C(t.$$.fragment),l=N(),s=E("div"),i=L(o),a=N(),u=E("div"),T&&T.c(),f=N(),c=E("div"),C(m.$$.fragment),I(n,"class","grip svelte-1box8hr"),I(s,"class","label svelte-1box8hr"),I(u,"class","editor"),I(c,"class","delete svelte-1box8hr"),I(e,"class","part svelte-1box8hr")},m(A,D){v(A,e,D),R(e,n),k(t,n,null),R(e,l),R(e,s),R(s,i),R(e,a),R(e,u),T&&T.m(u,null),R(e,f),R(e,c),k(m,c,null),d=!0,g||(h=[Dt(Fp.call(null,n)),Dt(Op.call(null,e))],g=!0)},p(A,[D]){var P;r=A;const O=D&0?de(b,[_e(si)]):{};t.$set(O),(!d||D&1)&&o!==(o=((P=r[0])!=null?P:"")+"")&&z(i,o),T&&T.p&&(!d||D&8)&&Ce(T,S,r,r[3],d?ye(S,r[3],D,null):Se(r[3]),null);const F={};D&8&&(F.$$scope={dirty:D,ctx:r}),m.$set(F)},i(A){d||(_(t.$$.fragment,A),_(T,A),_(m.$$.fragment,A),d=!0)},o(A){p(t.$$.fragment,A),p(T,A),p(m.$$.fragment,A),d=!1},d(A){A&&$(e),y(t),T&&T.d(A),y(m),g=!1,Ot(h)}}}function Vde(r,e,n){let{$$slots:t={},$$scope:l}=e,{label:s=void 0}=e,{onDelete:o}=e;return r.$$set=i=>{"label"in i&&n(0,s=i.label),"onDelete"in i&&n(1,o=i.onDelete),"$$scope"in i&&n(3,l=i.$$scope)},[s,o,t,l]}class _M extends Q{constructor(e){super(),Z(this,e,Vde,Hde,J,{label:0,onDelete:1})}}function zde(r){let e,n,t;return n=new dM({props:{columns:r[2],columnIds:r[1],schema:r[0].schema,onUpdate:r[4]}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","chain svelte-11n4rc3")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&4&&(o.columns=l[2]),s&2&&(o.columnIds=l[1]),s&1&&(o.schema=l[0].schema),s&16&&(o.onUpdate=l[4]),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function Bde(r){let e,n;return e=new _M({props:{onDelete:r[3],$$slots:{default:[zde]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&8&&(s.onDelete=t[3]),l&55&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function qde(r,e,n){let{table:t}=e,{columnIds:l}=e,{columns:s}=e,{onDelete:o}=e,{onUpdate:i}=e;return r.$$set=a=>{"table"in a&&n(0,t=a.table),"columnIds"in a&&n(1,l=a.columnIds),"columns"in a&&n(2,s=a.columns),"onDelete"in a&&n(3,o=a.onDelete),"onUpdate"in a&&n(4,i=a.onUpdate)},[t,l,s,o,i]}class Ude extends Q{constructor(e){super(),Z(this,e,qde,Bde,J,{table:0,columnIds:1,columns:2,onDelete:3,onUpdate:4})}}function Wde(r){return Array.isArray(r)}class zl{constructor(e){te(this,"parts");this.parts=new Ct(e)}getNextKey(){return Math.max(...this.parts.keys(),0)+1}static fromTemplate(e){return new zl(e.map((n,t)=>[t,n]))}static newCustom(e){const n=sl(s=>s.abstractType.identifier==="text",e.values()),t=ol(n);if(t)return zl.fromTemplate([[t.id]]);const l=ol(e.values());return zl.fromTemplate([[l.id]])}get template(){return[...this.parts.values()]}withPartAppended(e){return new zl(this.parts.with(this.getNextKey(),e))}withPartReplaced(e,n){return new zl(this.parts.with(e,n))}withoutPart(e){return new zl(this.parts.without(e))}get hasAnyColumnParts(){return Ys(Wde,this.parts.values())}[Symbol.iterator](){return this.parts[Symbol.iterator]()}}function jde(r){let e,n;return e=new hn({props:{value:r[0]}}),e.$on("input",r[3]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.value=t[0]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Yde(r){let e,n;return e=new _M({props:{label:r[2]("text"),onDelete:r[1],$$slots:{default:[jde]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&4&&(s.label=t[2]("text")),l&2&&(s.onDelete=t[1]),l&33&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Gde(r,e,n){let t;ne(r,ce,a=>n(2,t=a));let{text:l}=e,{onDelete:s}=e,{onUpdate:o}=e;function i(a){const u=a.target;o(u.value)}return r.$$set=a=>{"text"in a&&n(0,l=a.text),"onDelete"in a&&n(1,s=a.onDelete),"onUpdate"in a&&n(4,o=a.onUpdate)},[l,s,t,i,o]}class Kde extends Q{constructor(e){super(),Z(this,e,Gde,Yde,J,{text:0,onDelete:1,onUpdate:4})}}function w4(r,e,n){const t=r.slice();return t[15]=e[n],t}function k4(r,e,n){const t=r.slice();return t[18]=e[n][0],t[19]=e[n][1],t}function y4(r){let e,n=r[4]("no_fields_added_yet")+"",t;return{c(){e=E("div"),t=L(n),I(e,"class","no-fields svelte-76mpss")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&16&&n!==(n=l[4]("no_fields_added_yet")+"")&&z(t,n)},d(l){l&&$(e)}}}function Xde(r){let e,n;function t(){return r[11](r[18])}function l(...s){return r[12](r[18],...s)}return e=new Ude({props:{columnIds:r[19],columns:r[2],table:r[1],onDelete:t,onUpdate:l}}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){r=s;const i={};o&1&&(i.columnIds=r[19]),o&4&&(i.columns=r[2]),o&2&&(i.table=r[1]),o&1&&(i.onDelete=t),o&1&&(i.onUpdate=l),e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function Jde(r){let e,n;function t(...s){return r[9](r[18],...s)}function l(){return r[10](r[18])}return e=new Kde({props:{text:r[19],onUpdate:t,onDelete:l}}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){r=s;const i={};o&1&&(i.text=r[19]),o&1&&(i.onUpdate=t),o&1&&(i.onDelete=l),e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function C4(r,e){let n,t,l,s,o;const i=[Jde,Xde],a=[];function u(f,c){return typeof f[19]=="string"?0:1}return t=u(e),l=a[t]=i[t](e),{key:r,first:null,c(){n=ae(),l.c(),s=ae(),this.first=n},m(f,c){v(f,n,c),a[t].m(f,c),v(f,s,c),o=!0},p(f,c){e=f;let m=t;t=u(e),t===m?a[t].p(e,c):(U(),p(a[m],1,1,()=>{a[m]=null}),W(),l=a[t],l?l.p(e,c):(l=a[t]=i[t](e),l.c()),_(l,1),l.m(s.parentNode,s))},i(f){o||(_(l),o=!0)},o(f){p(l),o=!1},d(f){f&&$(n),a[t].d(f),f&&$(s)}}}function Zde(r){let e,n,t,l;return e=new wn({props:{label:r[4]("column"),icon:PK}}),e.$on("click",r[8]),t=new wn({props:{label:r[4]("text"),icon:NK}}),t.$on("click",r[7]),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(s,o){k(e,s,o),v(s,n,o),k(t,s,o),l=!0},p(s,o){const i={};o&16&&(i.label=s[4]("column")),e.$set(i);const a={};o&16&&(a.label=s[4]("text")),t.$set(a)},i(s){l||(_(e.$$.fragment,s),_(t.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),l=!1},d(s){y(e,s),s&&$(n),y(t,s)}}}function S4(r){let e,n,t;return n=new Vn({props:{$$slots:{default:[Qde]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","errors svelte-76mpss")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&4194312&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function T4(r){let e,n=r[15]+"",t;return{c(){e=E("p"),t=L(n)},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&8&&n!==(n=l[15]+"")&&z(t,n)},d(l){l&&$(e)}}}function Qde(r){let e,n=r[3],t=[];for(let l=0;l<n.length;l+=1)t[l]=T4(w4(r,n,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=ae()},m(l,s){for(let o=0;o<t.length;o+=1)t[o].m(l,s);v(l,e,s)},p(l,s){if(s&8){n=l[3];let o;for(o=0;o<n.length;o+=1){const i=w4(l,n,o);t[o]?t[o].p(i,s):(t[o]=T4(i),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(l){Hn(t,l),l&&$(e)}}}function xde(r){let e,n=[],t=new Map,l,s,o,i,a,u,f,c,m,d=[...r[0]];const g=w=>w[18];for(let w=0;w<d.length;w+=1){let S=k4(r,d,w),T=g(S);t.set(T,n[w]=C4(T,S))}let h=null;d.length||(h=y4(r)),i=new Pr({props:{label:r[4]("add_field"),icon:jt,size:"small",$$slots:{default:[Zde]},$$scope:{ctx:r}}});let b=r[3].length>0&&S4(r);return{c(){e=E("div");for(let w=0;w<n.length;w+=1)n[w].c();h&&h.c(),s=N(),o=E("div"),C(i.$$.fragment),a=N(),b&&b.c(),u=ae(),I(e,"class","parts svelte-76mpss"),I(o,"class","add svelte-76mpss")},m(w,S){v(w,e,S);for(let T=0;T<n.length;T+=1)n[T].m(e,null);h&&h.m(e,null),v(w,s,S),v(w,o,S),k(i,o,null),v(w,a,S),b&&b.m(w,S),v(w,u,S),f=!0,c||(m=Dt(l=Ap.call(null,e,{getItems:r[13],onSort:r[14]})),c=!0)},p(w,S){S&119&&(d=[...w[0]],U(),n=ht(n,S,g,1,w,d,t,e,kt,C4,null,k4),W(),!d.length&&h?h.p(w,S):d.length?h&&(h.d(1),h=null):(h=y4(w),h.c(),h.m(e,null))),l&&St(l.update)&&S&1&&l.update.call(null,{getItems:w[13],onSort:w[14]});const T={};S&16&&(T.label=w[4]("add_field")),S&4194320&&(T.$$scope={dirty:S,ctx:w}),i.$set(T),w[3].length>0?b?(b.p(w,S),S&8&&_(b,1)):(b=S4(w),b.c(),_(b,1),b.m(u.parentNode,u)):b&&(U(),p(b,1,1,()=>{b=null}),W())},i(w){if(!f){for(let S=0;S<d.length;S+=1)_(n[S]);_(i.$$.fragment,w),_(b),f=!0}},o(w){for(let S=0;S<n.length;S+=1)p(n[S]);p(i.$$.fragment,w),p(b),f=!1},d(w){w&&$(e);for(let S=0;S<n.length;S+=1)n[S].d();h&&h.d(),w&&$(s),w&&$(o),y(i),w&&$(a),b&&b.d(w),w&&$(u),c=!1,m()}}}function e_e(r){let e,n;return e=new al({props:{label:r[4]("custom_fields"),boxed:!0,$$slots:{default:[xde]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&16&&(s.label=t[4]("custom_fields")),l&4194335&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function t_e(r,e,n){let t;ne(r,ce,S=>n(4,t=S));let{table:l}=e,{templateConfig:s}=e,{columns:o}=e,{errorsDisplayed:i=[]}=e;function a(S){n(0,s=s.withoutPart(S))}function u(S,T){n(0,s=s.withPartReplaced(S,T))}function f(){n(0,s=s.withPartAppended(""))}function c(){const S=ol(o.values());n(0,s=s.withPartAppended([S.id]))}const m=(S,T)=>u(S,T),d=S=>a(S),g=S=>a(S),h=(S,T)=>u(S,T),b=()=>[...s],w=S=>{n(0,s=new zl(S))};return r.$$set=S=>{"table"in S&&n(1,l=S.table),"templateConfig"in S&&n(0,s=S.templateConfig),"columns"in S&&n(2,o=S.columns),"errorsDisplayed"in S&&n(3,i=S.errorsDisplayed)},[s,l,o,i,t,a,u,f,c,m,d,g,h,b,w]}class n_e extends Q{constructor(e){super(),Z(this,e,t_e,e_e,J,{table:1,templateConfig:0,columns:2,errorsDisplayed:3})}}function I4(r){let e,n,t,l;function s(i){r[7](i)}let o={columns:r[2],table:r[1],errorsDisplayed:r[3]};return r[0]!==void 0&&(o.templateConfig=r[0]),n=new n_e({props:o}),we.push(()=>Me(n,"templateConfig",s)),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","custom-template svelte-1iyztyd")},m(i,a){v(i,e,a),k(n,e,null),l=!0},p(i,a){const u={};a&4&&(u.columns=i[2]),a&2&&(u.table=i[1]),a&8&&(u.errorsDisplayed=i[3]),!t&&a&1&&(t=!0,u.templateConfig=i[0],De(()=>t=!1)),n.$set(u)},i(i){l||(_(n.$$.fragment,i),l=!0)},o(i){p(n.$$.fragment,i),l=!1},d(i){i&&$(e),y(n)}}}function r_e(r){let e,n,t,l;e=new Ns({props:{label:r[4]("customization"),options:[!1,!0],getRadioLabel:r[5],isInline:!0,value:r[0]!==void 0,boxed:!0}}),e.$on("change",r[6]);let s=r[0]&&I4(r);return{c(){C(e.$$.fragment),n=N(),s&&s.c(),t=ae()},m(o,i){k(e,o,i),v(o,n,i),s&&s.m(o,i),v(o,t,i),l=!0},p(o,[i]){const a={};i&16&&(a.label=o[4]("customization")),i&16&&(a.getRadioLabel=o[5]),i&1&&(a.value=o[0]!==void 0),e.$set(a),o[0]?s?(s.p(o,i),i&1&&_(s,1)):(s=I4(o),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(U(),p(s,1,1,()=>{s=null}),W())},i(o){l||(_(e.$$.fragment,o),_(s),l=!0)},o(o){p(e.$$.fragment,o),p(s),l=!1},d(o){y(e,o),o&&$(n),s&&s.d(o),o&&$(t)}}}function l_e(r,e,n){let t;ne(r,ce,c=>n(4,t=c));let{table:l}=e,{templateConfig:s}=e,{columns:o}=e,{errorsDisplayed:i=[]}=e;const a=c=>t(c?"customize_fields":"use_default"),u=({detail:{value:c}})=>{n(0,s=c?zl.newCustom(o):void 0)};function f(c){s=c,n(0,s)}return r.$$set=c=>{"table"in c&&n(1,l=c.table),"templateConfig"in c&&n(0,s=c.templateConfig),"columns"in c&&n(2,o=c.columns),"errorsDisplayed"in c&&n(3,i=c.errorsDisplayed)},[s,l,o,i,t,a,u,f]}class s_e extends Q{constructor(e){super(),Z(this,e,l_e,r_e,J,{table:1,templateConfig:0,columns:2,errorsDisplayed:3})}}function o_e(r){let e,n,t,l,s,o,i,a,u;n=new Co({props:{$$slots:{default:[__e]},$$scope:{ctx:r}}});function f(d){r[15](d)}let c={columns:r[1],table:r[0],errorsDisplayed:r[10].hasChanges?r[11]:[]};r[9]!==void 0&&(c.templateConfig=r[9]),l=new s_e({props:c}),we.push(()=>Me(l,"templateConfig",f));let m=r[3]!==void 0&&R4(r);return a=new yn({props:{form:r[8],onProceed:r[12],onCancel:r[8].reset,proceedButton:{label:r[5]("save")},cancelButton:{label:r[5]("reset"),icon:cl},initiallyHidden:!0,size:"small"}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),C(l.$$.fragment),o=N(),m&&m.c(),i=N(),C(a.$$.fragment),I(e,"class","help svelte-1e85mnr")},m(d,g){v(d,e,g),k(n,e,null),v(d,t,g),k(l,d,g),v(d,o,g),m&&m.m(d,g),v(d,i,g),k(a,d,g),u=!0},p(d,g){const h={};g&131105&&(h.$$scope={dirty:g,ctx:d}),n.$set(h);const b={};g&2&&(b.columns=d[1]),g&1&&(b.table=d[0]),g&3072&&(b.errorsDisplayed=d[10].hasChanges?d[11]:[]),!s&&g&512&&(s=!0,b.templateConfig=d[9],De(()=>s=!1)),l.$set(b),d[3]!==void 0?m?(m.p(d,g),g&8&&_(m,1)):(m=R4(d),m.c(),_(m,1),m.m(i.parentNode,i)):m&&(U(),p(m,1,1,()=>{m=null}),W());const w={};g&256&&(w.form=d[8]),g&256&&(w.onCancel=d[8].reset),g&32&&(w.proceedButton={label:d[5]("save")}),g&32&&(w.cancelButton={label:d[5]("reset"),icon:cl}),a.$set(w)},i(d){u||(_(n.$$.fragment,d),_(l.$$.fragment,d),_(m),_(a.$$.fragment,d),u=!0)},o(d){p(n.$$.fragment,d),p(l.$$.fragment,d),p(m),p(a.$$.fragment,d),u=!1},d(d){d&&$(e),y(n),d&&$(t),y(l,d),d&&$(o),m&&m.d(d),d&&$(i),y(a,d)}}}function i_e(r){let e,n;return e=new Vn({props:{$$slots:{default:[h_e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&131105&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function a_e(r){let e,n;return e=new Gt({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function E4(r){let e,n;return e=new kn({props:{$$slots:{default:[u_e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&131073&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function u_e(r){let e=r[0].name+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1&&e!==(e=t[0].name+"")&&z(n,e)},d(t){t&&$(n)}}}function f_e(r){let e,n,t=r[16]==="tableName"&&E4(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[16]==="tableName"?t?(t.p(l,s),s&65536&&_(t,1)):(t=E4(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function M4(r){let e,n;return e=new kn({props:{$$slots:{default:[c_e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&131073&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function c_e(r){let e=r[0].name+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1&&e!==(e=t[0].name+"")&&z(n,e)},d(t){t&&$(n)}}}function m_e(r){let e,n,t=r[16]==="tableName"&&M4(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[16]==="tableName"?t?(t.p(l,s),s&65536&&_(t,1)):(t=M4(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function d_e(r){let e,n=r[5]("record_summary_detail_help_1")+"",t,l,s,o,i;return o=new ot({props:{text:r[5]("record_summary_detail_help_2"),$$slots:{default:[m_e,({slotName:a})=>({16:a}),({slotName:a})=>a?65536:0]},$$scope:{ctx:r}}}),{c(){e=E("p"),t=L(n),l=N(),s=E("p"),C(o.$$.fragment)},m(a,u){v(a,e,u),R(e,t),v(a,l,u),v(a,s,u),k(o,s,null),i=!0},p(a,u){(!i||u&32)&&n!==(n=a[5]("record_summary_detail_help_1")+"")&&z(t,n);const f={};u&32&&(f.text=a[5]("record_summary_detail_help_2")),u&196609&&(f.$$scope={dirty:u,ctx:a}),o.$set(f)},i(a){i||(_(o.$$.fragment,a),i=!0)},o(a){p(o.$$.fragment,a),i=!1},d(a){a&&$(e),a&&$(l),a&&$(s),y(o)}}}function __e(r){let e,n,t,l;return e=new ot({props:{text:r[5]("record_summary_config_help"),$$slots:{default:[f_e,({slotName:s})=>({16:s}),({slotName:s})=>s?65536:0]},$$scope:{ctx:r}}}),t=new zt({props:{$$slots:{default:[d_e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(s,o){k(e,s,o),v(s,n,o),k(t,s,o),l=!0},p(s,o){const i={};o&32&&(i.text=s[5]("record_summary_config_help")),o&196609&&(i.$$scope={dirty:o,ctx:s}),e.$set(i);const a={};o&131105&&(a.$$scope={dirty:o,ctx:s}),t.$set(a)},i(s){l||(_(e.$$.fragment,s),_(t.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),l=!1},d(s){y(e,s),s&&$(n),y(t,s)}}}function R4(r){var t,l;let e,n;return e=new $de({props:{table:r[0],recordId:r[3],template:(l=(t=r[9])==null?void 0:t.template)!=null?l:null}}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){var a,u;const i={};o&1&&(i.table=s[0]),o&8&&(i.recordId=s[3]),o&512&&(i.template=(u=(a=s[9])==null?void 0:a.template)!=null?u:null),e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function D4(r){let e,n;return e=new kn({props:{$$slots:{default:[p_e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&131073&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function p_e(r){let e=r[0].name+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1&&e!==(e=t[0].name+"")&&z(n,e)},d(t){t&&$(n)}}}function g_e(r){let e,n,t=r[16]==="tableName"&&D4(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[16]==="tableName"?t?(t.p(l,s),s&65536&&_(t,1)):(t=D4(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function h_e(r){let e,n;return e=new ot({props:{text:r[5]("record_summary_no_pk_error"),$$slots:{default:[g_e,({slotName:t})=>({16:t}),({slotName:t})=>t?65536:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&32&&(s.text=t[5]("record_summary_no_pk_error")),l&196609&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function b_e(r){let e,n,t,l;const s=[a_e,i_e,o_e],o=[];function i(a,u){return a[2]?0:a[6]?2:1}return n=i(r),t=o[n]=s[n](r),{c(){e=E("div"),t.c(),I(e,"class","record-summary-config svelte-1e85mnr")},m(a,u){v(a,e,u),o[n].m(e,null),l=!0},p(a,[u]){let f=n;n=i(a),n===f?o[n].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),t=o[n],t?t.p(a,u):(t=o[n]=s[n](a),t.c()),_(t,1),t.m(e,null))},i(a){l||(_(t),l=!0)},o(a){p(t),l=!1},d(a){a&&$(e),o[n].d()}}}function $_e(r,e,n){let t,l,s,o,i,a,u,f=H,c=()=>(f(),f=le(l,P=>n(9,u=P)),l),m,d=H,g=()=>(d(),d=le(s,P=>n(10,m=P)),s),h,b=H,w=()=>(b(),b=le(o,P=>n(11,h=P)),o);ne(r,ce,P=>n(5,a=P)),r.$$.on_destroy.push(()=>f()),r.$$.on_destroy.push(()=>d()),r.$$.on_destroy.push(()=>b());let{table:S}=e,{processedColumns:T}=e,{isLoading:M}=e,{previewRecordId:A=void 0}=e,{onSave:D=void 0}=e;async function O(){var P;try{await vo({schema:S.schema,table:{oid:S.oid,metadata:{record_summary_template:(P=u==null?void 0:u.template)!=null?P:null}}}),D==null||D()}catch(B){$t.error(`${a("unable_to_save_changes")} ${Yt(B)}`)}}function F(P){u=P,l.set(u)}return r.$$set=P=>{"table"in P&&n(0,S=P.table),"processedColumns"in P&&n(1,T=P.processedColumns),"isLoading"in P&&n(2,M=P.isLoading),"previewRecordId"in P&&n(3,A=P.previewRecordId),"onSave"in P&&n(13,D=P.onSave)},r.$$.update=()=>{var P,B;r.$$.dirty&1&&n(14,t=(B=(P=S==null?void 0:S.metadata)==null?void 0:P.record_summary_template)!=null?B:void 0),r.$$.dirty&16416&&c(n(4,l=er(Rr(t,j=>zl.fromTemplate(j)),[eu(j=>!!(j!=null&&j.hasAnyColumnParts),a("static_record_summary_template_error"))]))),r.$$.dirty&16&&g(n(8,s=Wt({templateConfig:l}))),r.$$.dirty&16&&w(n(7,o=l.fieldErrors)),r.$$.dirty&2&&n(6,i=[...T].some(([,j])=>j.column.primary_key))},[S,T,M,A,l,a,i,o,s,u,m,h,O,D,t,F]}class Hp extends Q{constructor(e){super(),Z(this,e,$_e,b_e,J,{table:0,processedColumns:1,isLoading:2,previewRecordId:3,onSave:13})}}function A4(r){let e,n;return e=new An({props:{title:r[6]("linked_record_summary"),isOpen:!1,$$slots:{default:[k_e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&64&&(s.title=t[6]("linked_record_summary")),l&9089&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function v_e(r){let e,n;return e=new Hp({props:{table:r[8],processedColumns:r[9],isLoading:r[7],onSave:r[12]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&256&&(s.table=t[8]),l&512&&(s.processedColumns=t[9]),l&128&&(s.isLoading=t[7]),l&1&&(s.onSave=t[12]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function w_e(r){let e,n;return e=new Gt({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function k_e(r){let e,n,t,l;const s=[w_e,v_e],o=[];function i(a,u){return a[7]?0:a[8]?1:-1}return~(e=i(r))&&(n=o[e]=s[e](r)),{c(){n&&n.c(),t=ae()},m(a,u){~e&&o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?~e&&o[e].p(a,u):(n&&(U(),p(o[f],1,1,()=>{o[f]=null}),W()),~e?(n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t)):n=null)},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){~e&&o[e].d(a),a&&$(t)}}}function y_e(r){let e,n,t=r[5]!=="must_create"&&A4(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,[s]){l[5]!=="must_create"?t?(t.p(l,s),s&32&&_(t,1)):(t=A4(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function C_e(r,e,n){let t,l,s,o,i,a,u=H,f=()=>(u(),u=le(t,F=>n(5,a=F)),t),c,m,d=H,g=()=>(d(),d=le(i,F=>n(7,m=F)),i),h,b=H,w=()=>(b(),b=le(s,F=>n(8,h=F)),s),S,T=H,M=()=>(T(),T=le(o,F=>n(9,S=F)),o);ne(r,ce,F=>n(6,c=F)),r.$$.on_destroy.push(()=>u()),r.$$.on_destroy.push(()=>d()),r.$$.on_destroy.push(()=>b()),r.$$.on_destroy.push(()=>T());let{dataFormManager:A}=e,{field:D}=e;const O=()=>l.refetch();return r.$$set=F=>{"dataFormManager"in F&&n(10,A=F.dataFormManager),"field"in F&&n(11,D=F.field)},r.$$.update=()=>{r.$$.dirty&2048&&f(n(4,{interactionRule:t}=D,t)),r.$$.dirty&3072&&n(0,l=A.getTableStructure(D.relatedTableOid)),r.$$.dirty&1&&w(n(3,{table:s,processedColumns:o,isLoading:i}=l,s,M(n(2,o)),g(n(1,i))))},[l,i,o,s,t,a,c,m,h,S,A,D,O]}class S_e extends Q{constructor(e){super(),Z(this,e,C_e,y_e,J,{dataFormManager:10,field:11})}}function T_e(r){let e,n;return e=new hn({props:{value:r[5],disabled:r[2]}}),e.$on("input",r[6]),e.$on("blur",r[7]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&32&&(s.value=t[5]),l&4&&(s.disabled=t[2]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function O4(r){let e,n,t=r[4]("column")+"",l,s,o,i,a;return i=new fM({props:{dataFormManager:r[0],dataFormField:r[1],link:!0,separator:!0}}),{c(){e=E("div"),n=E("span"),l=L(t),s=L(":"),o=N(),C(i.$$.fragment),I(e,"class","source-info")},m(u,f){v(u,e,f),R(e,n),R(n,l),R(n,s),R(e,o),k(i,e,null),a=!0},p(u,f){(!a||f&16)&&t!==(t=u[4]("column")+"")&&z(l,t);const c={};f&1&&(c.dataFormManager=u[0]),f&2&&(c.dataFormField=u[1]),i.$set(c)},i(u){a||(_(i.$$.fragment,u),a=!0)},o(u){p(i.$$.fragment,u),a=!1},d(u){u&&$(e),y(i)}}}function I_e(r){let e,n,t,l;e=new Nt({props:{layout:"stacked",label:r[4]("field_label"),$$slots:{default:[T_e]},$$scope:{ctx:r}}});let s="fieldColumn"in r[1]&&O4(r);return{c(){C(e.$$.fragment),n=N(),s&&s.c(),t=ae()},m(o,i){k(e,o,i),v(o,n,i),s&&s.m(o,i),v(o,t,i),l=!0},p(o,i){const a={};i&16&&(a.label=o[4]("field_label")),i&550&&(a.$$scope={dirty:i,ctx:o}),e.$set(a),"fieldColumn"in o[1]?s?(s.p(o,i),i&2&&_(s,1)):(s=O4(o),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(U(),p(s,1,1,()=>{s=null}),W())},i(o){l||(_(e.$$.fragment,o),_(s),l=!0)},o(o){p(e.$$.fragment,o),p(s),l=!1},d(o){y(e,o),o&&$(n),s&&s.d(o),o&&$(t)}}}function F4(r){let e,n;return e=new An({props:{title:r[4]("rules"),$$slots:{default:[M_e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.title=t[4]("rules")),l&531&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function N4(r){let e,n;return e=new Nt({props:{layout:"stacked",label:r[4]("field_fk_rule_label"),$$slots:{default:[E_e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.label=t[4]("field_fk_rule_label")),l&515&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function E_e(r){let e,n;return e=new aM({props:{appearance:"default",dataFormManager:r[0],dataFormField:r[1]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.dataFormManager=t[0]),l&2&&(s.dataFormField=t[1]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function M_e(r){let e,n,t,l;n=new ide({props:{field:r[1]}});let s=r[1].kind==="foreign_key"&&N4(r);return{c(){e=E("section"),C(n.$$.fragment),t=N(),s&&s.c(),I(e,"class","rules svelte-16atyu1")},m(o,i){v(o,e,i),k(n,e,null),R(e,t),s&&s.m(e,null),l=!0},p(o,i){const a={};i&2&&(a.field=o[1]),n.$set(a),o[1].kind==="foreign_key"?s?(s.p(o,i),i&2&&_(s,1)):(s=N4(o),s.c(),_(s,1),s.m(e,null)):s&&(U(),p(s,1,1,()=>{s=null}),W())},i(o){l||(_(n.$$.fragment,o),_(s),l=!0)},o(o){p(n.$$.fragment,o),p(s),l=!1},d(o){o&&$(e),y(n),s&&s.d()}}}function P4(r){let e,n;return e=new S_e({props:{dataFormManager:r[0],field:r[1]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.dataFormManager=t[0]),l&2&&(s.field=t[1]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function R_e(r){let e,n,t,l=r[4]("remove_field")+"",s,o;const i=[Mt];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return e=new Ne({props:a}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l)},m(u,f){k(e,u,f),v(u,n,f),v(u,t,f),R(t,s),o=!0},p(u,f){const c=f&0?de(i,[_e(Mt)]):{};e.$set(c),(!o||f&16)&&l!==(l=u[4]("remove_field")+"")&&z(s,l)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){p(e.$$.fragment,u),o=!1},d(u){y(e,u),u&&$(n),u&&$(t)}}}function D_e(r){let e,n,t;return n=new st({props:{disabled:!r[1].canDelete,appearance:"action",$$slots:{default:[R_e]},$$scope:{ctx:r}}}),n.$on("click",r[8]),{c(){e=E("div"),C(n.$$.fragment),I(e,"slot","trigger"),I(e,"class","remove-button svelte-16atyu1")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&2&&(o.disabled=!l[1].canDelete),s&528&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function A_e(r){let e,n=r[4]("field_cannot_be_removed_required_in_db")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","content")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&16&&n!==(n=l[4]("field_cannot_be_removed_required_in_db")+"")&&z(t,n)},d(l){l&&$(e)}}}function O_e(r){let e,n;return e=new On({props:{enabled:!r[1].canDelete,$$slots:{content:[A_e],trigger:[D_e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.enabled=!t[1].canDelete),l&530&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function F_e(r){let e,n,t,l,s,o,i,a;e=new An({props:{title:r[4]("field_properties"),$$slots:{default:[I_e]},$$scope:{ctx:r}}});let u="fieldColumn"in r[1]&&F4(r);l=new tde({props:{field:r[1]}});let f=r[1].kind==="foreign_key"&&P4(r);return i=new An({props:{title:r[4]("actions"),$$slots:{default:[O_e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),n=N(),u&&u.c(),t=N(),C(l.$$.fragment),s=N(),f&&f.c(),o=N(),C(i.$$.fragment)},m(c,m){k(e,c,m),v(c,n,m),u&&u.m(c,m),v(c,t,m),k(l,c,m),v(c,s,m),f&&f.m(c,m),v(c,o,m),k(i,c,m),a=!0},p(c,m){const d={};m&16&&(d.title=c[4]("field_properties")),m&567&&(d.$$scope={dirty:m,ctx:c}),e.$set(d),"fieldColumn"in c[1]?u?(u.p(c,m),m&2&&_(u,1)):(u=F4(c),u.c(),_(u,1),u.m(t.parentNode,t)):u&&(U(),p(u,1,1,()=>{u=null}),W());const g={};m&2&&(g.field=c[1]),l.$set(g),c[1].kind==="foreign_key"?f?(f.p(c,m),m&2&&_(f,1)):(f=P4(c),f.c(),_(f,1),f.m(o.parentNode,o)):f&&(U(),p(f,1,1,()=>{f=null}),W());const h={};m&16&&(h.title=c[4]("actions")),m&530&&(h.$$scope={dirty:m,ctx:c}),i.$set(h)},i(c){a||(_(e.$$.fragment,c),_(u),_(l.$$.fragment,c),_(f),_(i.$$.fragment,c),a=!0)},o(c){p(e.$$.fragment,c),p(u),p(l.$$.fragment,c),p(f),p(i.$$.fragment,c),a=!1},d(c){y(e,c),c&&$(n),u&&u.d(c),c&&$(t),y(l,c),c&&$(s),f&&f.d(c),c&&$(o),y(i,c)}}}function N_e(r){let e,n;return e=new qc({props:{$$slots:{default:[F_e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&567&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function P_e(r,e,n){let t,l,s,o,i=H,a=()=>(i(),i=le(t,g=>n(5,o=g)),t);ne(r,ce,g=>n(4,s=g)),r.$$.on_destroy.push(()=>i());let{dataFormManager:u}=e,{field:f}=e;const c=g=>f.setLabel(Il(g)),m=()=>f.checkAndSetDefaultLabel(),d=()=>f.container.delete(f);return r.$$set=g=>{"dataFormManager"in g&&n(0,u=g.dataFormManager),"field"in g&&n(1,f=g.field)},r.$$.update=()=>{r.$$.dirty&2&&a(n(3,{label:t}=f,t)),r.$$.dirty&2&&n(2,l=f instanceof au)},[u,f,l,t,s,o,c,m,d]}class L_e extends Q{constructor(e){super(),Z(this,e,P_e,N_e,J,{dataFormManager:0,field:1})}}function H_e(r){let e,n;return e=new st({props:{appearance:"ghost",$$slots:{default:[z_e]},$$scope:{ctx:r}}}),e.$on("click",r[10]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2060&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function V_e(r){let e,n;return e=new st({props:{appearance:"ghost",style:"overflow:hidden;",$$slots:{default:[W_e]},$$scope:{ctx:r}}}),e.$on("click",r[7]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2074&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function z_e(r){let e,n=r[2]("form")+"",t;return{c(){e=E("div"),t=L(n),I(e,"class","nav-element svelte-1ckzucp"),ie(e,"selected",r[3])},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&4&&n!==(n=l[2]("form")+"")&&z(t,n),s&8&&ie(e,"selected",l[3])},d(l){l&&$(e)}}}function B_e(r){let e,n;return{c(){e=E("span"),n=L(r[4])},m(t,l){v(t,e,l),R(e,n)},p(t,l){l&16&&z(n,t[4])},i:H,o:H,d(t){t&&$(e)}}}function q_e(r){let e,n,t;return n=new Qn({props:{name:r[4],icon:il}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","error svelte-1ckzucp")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&16&&(o.name=l[4]),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function U_e(r){let e,n;return e=new Gn({props:{column:{...r[1].fieldColumn.column,constraintsType:r[1].fieldColumn.foreignKeyLink?["foreignkey"]:[]}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.column={...t[1].fieldColumn.column,constraintsType:t[1].fieldColumn.foreignKeyLink?["foreignkey"]:[]}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function W_e(r){let e,n,t,l;const s=[U_e,q_e,B_e],o=[];function i(a,u){return"fieldColumn"in a[1]?0:"error"in a[1]?1:2}return n=i(r),t=o[n]=s[n](r),{c(){e=E("div"),t.c(),I(e,"class","nav-element svelte-1ckzucp"),ie(e,"selected",r[3])},m(a,u){v(a,e,u),o[n].m(e,null),l=!0},p(a,u){let f=n;n=i(a),n===f?o[n].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),t=o[n],t?t.p(a,u):(t=o[n]=s[n](a),t.c()),_(t,1),t.m(e,null)),(!l||u&8)&&ie(e,"selected",a[3])},i(a){l||(_(t),l=!0)},o(a){p(t),l=!1},d(a){a&&$(e),o[n].d()}}}function j_e(r){let e,n,t,l;const s=[V_e,H_e],o=[];function i(a,u){return a[1]?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,[u]){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function Y_e(r,e,n){let t,l,s,o,i,a=H,u=()=>(a(),a=le(t,S=>n(8,i=S)),t),f,c,m=H,d=()=>(m(),m=le(l,S=>n(9,c=S)),l);ne(r,ce,S=>n(2,f=S)),r.$$.on_destroy.push(()=>a()),r.$$.on_destroy.push(()=>m());let{dataFormManager:g}=e,{field:h=void 0}=e;function b(){h&&g.selectElement({type:"field",field:h})}const w=()=>g.resetSelectedElement();return r.$$set=S=>{"dataFormManager"in S&&n(0,g=S.dataFormManager),"field"in S&&n(1,h=S.field)},r.$$.update=()=>{r.$$.dirty&1&&u(n(6,{selectedElement:t}=g,t)),r.$$.dirty&2&&d(n(5,l=h?h.label:Nn(null))),r.$$.dirty&516&&n(4,s=c!=null?c:f("field")),r.$$.dirty&258&&n(3,o=(()=>(i==null?void 0:i.type)==="field"?i.field===h:!h)())},[g,h,f,o,s,l,t,b,i,c,w]}class Vp extends Q{constructor(e){super(),Z(this,e,Y_e,j_e,J,{dataFormManager:0,field:1})}}function L4(r){let e,n,t,l,s,o,i;const a=[fl];let u={};for(let m=0;m<a.length;m+=1)u=se(u,a[m]);n=new Ne({props:u});let f=r[3]&&H4(r),c=r[2]&&V4(r);return o=new Vp({props:{dataFormManager:r[0],field:r[1]}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),f&&f.c(),l=N(),c&&c.c(),s=N(),C(o.$$.fragment),I(e,"class","icon-holder svelte-9d62j1")},m(m,d){v(m,e,d),k(n,e,null),v(m,t,d),f&&f.m(m,d),v(m,l,d),c&&c.m(m,d),v(m,s,d),k(o,m,d),i=!0},p(m,d){const g=d&0?de(a,[_e(fl)]):{};n.$set(g),m[3]?f?(f.p(m,d),d&8&&_(f,1)):(f=H4(m),f.c(),_(f,1),f.m(l.parentNode,l)):f&&(U(),p(f,1,1,()=>{f=null}),W()),m[2]?c?(c.p(m,d),d&4&&_(c,1)):(c=V4(m),c.c(),_(c,1),c.m(s.parentNode,s)):c&&(U(),p(c,1,1,()=>{c=null}),W());const h={};d&1&&(h.dataFormManager=m[0]),d&2&&(h.field=m[1]),o.$set(h)},i(m){i||(_(n.$$.fragment,m),_(f),_(c),_(o.$$.fragment,m),i=!0)},o(m){p(n.$$.fragment,m),p(f),p(c),p(o.$$.fragment,m),i=!1},d(m){m&&$(e),y(n),m&&$(t),f&&f.d(m),m&&$(l),c&&c.d(m),m&&$(s),y(o,m)}}}function H4(r){let e,n,t,l,s;e=new st({props:{appearance:"ghost",$$slots:{default:[G_e]},$$scope:{ctx:r}}}),e.$on("click",r[4]);const o=[fl];let i={};for(let a=0;a<o.length;a+=1)i=se(i,o[a]);return l=new Ne({props:i}),{c(){C(e.$$.fragment),n=N(),t=E("div"),C(l.$$.fragment),I(t,"class","icon-holder svelte-9d62j1")},m(a,u){k(e,a,u),v(a,n,u),v(a,t,u),k(l,t,null),s=!0},p(a,u){const f={};u&128&&(f.$$scope={dirty:u,ctx:a}),e.$set(f);const c=u&0?de(o,[_e(fl)]):{};l.$set(c)},i(a){s||(_(e.$$.fragment,a),_(l.$$.fragment,a),s=!0)},o(a){p(e.$$.fragment,a),p(l.$$.fragment,a),s=!1},d(a){y(e,a),a&&$(n),a&&$(t),y(l)}}}function G_e(r){let e,n;const t=[xo];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[_e(xo)]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function V4(r){let e,n,t,l,s;e=new Vp({props:{dataFormManager:r[0],field:r[2]}});const o=[fl];let i={};for(let a=0;a<o.length;a+=1)i=se(i,o[a]);return l=new Ne({props:i}),{c(){C(e.$$.fragment),n=N(),t=E("div"),C(l.$$.fragment),I(t,"class","icon-holder svelte-9d62j1")},m(a,u){k(e,a,u),v(a,n,u),v(a,t,u),k(l,t,null),s=!0},p(a,u){const f={};u&1&&(f.dataFormManager=a[0]),u&4&&(f.field=a[2]),e.$set(f);const c=u&0?de(o,[_e(fl)]):{};l.$set(c)},i(a){s||(_(e.$$.fragment,a),_(l.$$.fragment,a),s=!0)},o(a){p(e.$$.fragment,a),p(l.$$.fragment,a),s=!1},d(a){y(e,a),a&&$(n),a&&$(t),y(l)}}}function K_e(r){let e,n,t,l;n=new Vp({props:{dataFormManager:r[0]}});let s=r[1]&&L4(r);return{c(){e=E("div"),C(n.$$.fragment),t=N(),s&&s.c(),I(e,"class","form-nav svelte-9d62j1")},m(o,i){v(o,e,i),k(n,e,null),R(e,t),s&&s.m(e,null),l=!0},p(o,[i]){const a={};i&1&&(a.dataFormManager=o[0]),n.$set(a),o[1]?s?(s.p(o,i),i&2&&_(s,1)):(s=L4(o),s.c(),_(s,1),s.m(e,null)):s&&(U(),p(s,1,1,()=>{s=null}),W())},i(o){l||(_(n.$$.fragment,o),_(s),l=!0)},o(o){p(n.$$.fragment,o),p(s),l=!1},d(o){o&&$(e),y(n),s&&s.d()}}}function X_e(r,e,n){let t,l,s,o,{dataFormManager:i}=e,{field:a=void 0}=e;function u(){o?i.selectElement({type:"field",field:o}):i.resetSelectedElement()}return r.$$set=f=>{"dataFormManager"in f&&n(0,i=f.dataFormManager),"field"in f&&n(1,a=f.field)},r.$$.update=()=>{r.$$.dirty&2&&n(6,t=a==null?void 0:a.container.parent),r.$$.dirty&64&&n(2,l=t instanceof di?void 0:t),r.$$.dirty&4&&n(5,s=l==null?void 0:l.container.parent),r.$$.dirty&32&&n(3,o=s instanceof di?void 0:s)},[i,a,l,o,u,s,t]}class J_e extends Q{constructor(e){super(),Z(this,e,X_e,K_e,J,{dataFormManager:0,field:1})}}function Z_e(r){let e,n,t;return n=new fn({props:{value:r[9],options:[...r[2]],getLabel:r[16],isOptionDisabled:r[17],$$slots:{default:[npe,({option:l,label:s})=>({19:l,20:s}),({option:l,label:s})=>(l?524288:0)|(s?1048576:0)]},$$scope:{ctx:r}}}),n.$on("change",r[18]),{c(){e=E("div"),C(n.$$.fragment)},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&512&&(o.value=l[9]),s&4&&(o.options=[...l[2]]),s&2&&(o.getLabel=l[16]),s&64&&(o.isOptionDisabled=l[17]),s&3671104&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function Q_e(r){let e,n;return e=new _l({props:{errors:r[7],fullWidth:!0}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&128&&(s.errors=t[7]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function x_e(r){let e,n;return e=new Gt({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function z4(r){let e,n;return e=new On({props:{$$slots:{content:[tpe],trigger:[epe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2098176&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function epe(r){let e,n;const t=[{slot:"trigger"},ti];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[t[0],_e(ti)]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function tpe(r){let e,n=r[10]("you_do_not_have_access_to_role")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","content")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&1024&&n!==(n=l[10]("you_do_not_have_access_to_role")+"")&&z(t,n)},d(l){l&&$(e)}}}function npe(r){let e,n=r[20]+"",t,l,s=!r[6].has(r[19]),o,i=s&&z4(r);return{c(){e=E("div"),t=L(n),l=N(),i&&i.c()},m(a,u){v(a,e,u),R(e,t),R(e,l),i&&i.m(e,null),o=!0},p(a,u){(!o||u&1048576)&&n!==(n=a[20]+"")&&z(t,n),u&524352&&(s=!a[6].has(a[19])),s?i?(i.p(a,u),u&524352&&_(i,1)):(i=z4(a),i.c(),_(i,1),i.m(e,null)):i&&(U(),p(i,1,1,()=>{i=null}),W())},i(a){o||(_(i),o=!0)},o(a){p(i),o=!1},d(a){a&&$(e),i&&i.d()}}}function rpe(r){let e,n,t,l;const s=[x_e,Q_e,Z_e],o=[];function i(a,u){return a[8]?0:a[7].length?1:2}return n=i(r),t=o[n]=s[n](r),{c(){e=E("div"),t.c()},m(a,u){v(a,e,u),o[n].m(e,null),l=!0},p(a,[u]){let f=n;n=i(a),n===f?o[n].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),t=o[n],t?t.p(a,u):(t=o[n]=s[n](a),t.c()),_(t,1),t.m(e,null))},i(a){l||(_(t),l=!0)},o(a){p(t),l=!1},d(a){a&&$(e),o[n].d()}}}function lpe(r,e,n){let t,l,s,o,i,a,u,f,c,m,d=H,g=()=>(d(),d=le(l,V=>n(13,m=V)),l),h,b,w=H,S=()=>(w(),w=le(s,V=>n(15,b=V)),s),T,M=H,A=()=>(M(),M=le(c,V=>n(9,T=V)),c),D;ne(r,ce,V=>n(10,D=V)),r.$$.on_destroy.push(()=>d()),r.$$.on_destroy.push(()=>w()),r.$$.on_destroy.push(()=>M());const O=Lr();ne(r,O,V=>n(14,h=V));let{dataFormManager:F}=e;const P=V=>{var q,G;return At(V)&&(G=(q=a.get(V))==null?void 0:q.name)!=null?G:""},B=V=>!f.has(V),j=V=>{var q;return F.dataFormStructure.setAssociatedRoleId((q=V.detail)!=null?q:null)};return r.$$set=V=>{"dataFormManager"in V&&n(0,F=V.dataFormManager)},r.$$.update=()=>{r.$$.dirty&1&&n(12,{schema:t}=F,t),r.$$.dirty&4096&&g(n(3,l=t.database.constructCurrentRoleStore())),r.$$.dirty&4096&&S(n(4,s=t.database.constructConfiguredRolesStore())),r.$$.dirty&24&&En.runBatchConservatively([s.batchRunner(),l.batchRunner()]),r.$$.dirty&40960&&n(8,o=b.isLoading||m.isLoading),r.$$.dirty&40960&&n(7,i=[b.error,m.error].filter(At)),r.$$.dirty&32768&&n(1,a=new Ct(b.resolvedValue)),r.$$.dirty&2&&n(2,u=new Set([...a.values()].map(V=>V.id))),r.$$.dirty&24582&&n(6,f=(()=>{var q;if(h.isMathesarAdmin||((q=m.resolvedValue)==null?void 0:q.super))return u;if(!m.resolvedValue)return new Set;const V=new Set([m.resolvedValue.name,...[...m.resolvedValue.parentRoles.values()].map(G=>G.name)]);return new Set([...a.values()].filter(G=>V.has(G.name)).map(G=>G.id))})()),r.$$.dirty&1&&A(n(5,{associatedRoleId:c}=F.dataFormStructure,c))},[F,a,u,l,s,c,f,i,o,T,D,O,t,m,h,b,P,B,j]}class spe extends Q{constructor(e){super(),Z(this,e,lpe,rpe,J,{dataFormManager:0})}}function ope(r){let e,n;return e=new hn({props:{placeholder:r[4]("submit"),value:r[5]}}),e.$on("input",r[9]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.placeholder=t[4]("submit")),l&32&&(s.value=t[5]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function ipe(r){let e,n,t;return n=new Nt({props:{layout:"stacked",label:r[4]("button_label"),$$slots:{default:[ope]},$$scope:{ctx:r}}}),{c(){e=E("section"),C(n.$$.fragment),I(e,"class","svelte-14dkbe9")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&16&&(o.label=l[4]("button_label")),s&8241&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function ape(r){let e,n=r[4]("appearance")+"",t;return{c(){e=E("span"),t=L(n),I(e,"class","header svelte-14dkbe9"),I(e,"slot","label")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&16&&n!==(n=l[4]("appearance")+"")&&z(t,n)},d(l){l&&$(e)}}}function upe(r){var t;let e,n;return e=new Zl({props:{placeholder:r[4]("thank_you_for_submitting_form"),value:(t=r[6])==null?void 0:t.text}}),e.$on("input",r[10]),{c(){C(e.$$.fragment)},m(l,s){k(e,l,s),n=!0},p(l,s){var i;const o={};s&16&&(o.placeholder=l[4]("thank_you_for_submitting_form")),s&64&&(o.value=(i=l[6])==null?void 0:i.text),e.$set(o)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){p(e.$$.fragment,l),n=!1},d(l){y(e,l)}}}function fpe(r){let e,n;return e=new lr({props:{checked:At(r[7])}}),e.$on("change",r[11]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&128&&(s.checked=At(t[7])),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function B4(r){let e,n;return e=new hn({props:{value:r[7]}}),e.$on("input",r[12]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&128&&(s.value=t[7]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function cpe(r){let e,n,t,l,s,o=At(r[7]),i;n=new Nt({props:{layout:"stacked",label:r[4]("confirmation_message"),$$slots:{default:[upe]},$$scope:{ctx:r}}}),l=new Nt({props:{layout:"inline-input-first",label:r[4]("redirect_to_url"),$$slots:{default:[fpe]},$$scope:{ctx:r}}});let a=o&&B4(r);return{c(){e=E("section"),C(n.$$.fragment),t=N(),C(l.$$.fragment),s=N(),a&&a.c(),I(e,"class","svelte-14dkbe9")},m(u,f){v(u,e,f),k(n,e,null),R(e,t),k(l,e,null),R(e,s),a&&a.m(e,null),i=!0},p(u,f){const c={};f&16&&(c.label=u[4]("confirmation_message")),f&8273&&(c.$$scope={dirty:f,ctx:u}),n.$set(c);const m={};f&16&&(m.label=u[4]("redirect_to_url")),f&8321&&(m.$$scope={dirty:f,ctx:u}),l.$set(m),f&128&&(o=At(u[7])),o?a?(a.p(u,f),f&128&&_(a,1)):(a=B4(u),a.c(),_(a,1),a.m(e,null)):a&&(U(),p(a,1,1,()=>{a=null}),W())},i(u){i||(_(n.$$.fragment,u),_(l.$$.fragment,u),_(a),i=!0)},o(u){p(n.$$.fragment,u),p(l.$$.fragment,u),p(a),i=!1},d(u){u&&$(e),y(n),y(l),a&&a.d()}}}function mpe(r){let e,n=r[4]("after_submission")+"",t;return{c(){e=E("span"),t=L(n),I(e,"class","header svelte-14dkbe9"),I(e,"slot","label")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&16&&n!==(n=l[4]("after_submission")+"")&&z(t,n)},d(l){l&&$(e)}}}function dpe(r){let e,n,t,l;return e=new al({props:{boxed:!0,$$slots:{label:[ape],default:[ipe]},$$scope:{ctx:r}}}),t=new al({props:{boxed:!0,$$slots:{label:[mpe],default:[cpe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(s,o){k(e,s,o),v(s,n,o),k(t,s,o),l=!0},p(s,[o]){const i={};o&8241&&(i.$$scope={dirty:o,ctx:s}),e.$set(i);const a={};o&8401&&(a.$$scope={dirty:o,ctx:s}),t.$set(a)},i(s){l||(_(e.$$.fragment,s),_(t.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),l=!1},d(s){y(e,s),s&&$(n),y(t,s)}}}function _pe(r,e,n){let t,l,s,o,i,a,u=H,f=()=>(u(),u=le(o,D=>n(5,a=D)),o),c,m=H,d=()=>(m(),m=le(l,D=>n(6,c=D)),l),g,h=H,b=()=>(h(),h=le(s,D=>n(7,g=D)),s);ne(r,ce,D=>n(4,i=D)),r.$$.on_destroy.push(()=>u()),r.$$.on_destroy.push(()=>m()),r.$$.on_destroy.push(()=>h());let{dataFormManager:w}=e;const S=D=>t.setSubmissionButtonLabel(Il(D)),T=D=>t.setSubmissionMessage(Il(D)),M=D=>t.setSubmissionRedirectUrl(D.detail?"":null),A=D=>{t.setSubmissionRedirectUrl(Il(D))};return r.$$set=D=>{"dataFormManager"in D&&n(8,w=D.dataFormManager)},r.$$.update=()=>{r.$$.dirty&256&&n(0,{dataFormStructure:t}=w,t),r.$$.dirty&1&&d(n(3,{submitMessage:l,submitRedirectUrl:s,submitButtonLabel:o}=t,l,b(n(2,s)),f(n(1,o))))},[t,o,s,l,i,a,c,g,w,S,T,M,A]}class ppe extends Q{constructor(e){super(),Z(this,e,_pe,dpe,J,{dataFormManager:8})}}function gpe(r){let e,n;return e=new hn({props:{value:r[5]}}),e.$on("input",r[12]),e.$on("blur",r[13]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&32&&(s.value=t[5]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function hpe(r){let e,n;return e=new Zl({props:{value:r[7]}}),e.$on("input",r[14]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&128&&(s.value=t[7]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function q4(r){let e,n,t=r[6]("base_table")+"",l,s,o,i,a;return i=new uM({props:{table:r[8],boxed:!0}}),{c(){e=E("div"),n=E("span"),l=L(t),s=L(":"),o=N(),C(i.$$.fragment),I(e,"class","source-info svelte-yyk2og")},m(u,f){v(u,e,f),R(e,n),R(n,l),R(n,s),R(e,o),k(i,e,null),a=!0},p(u,f){(!a||f&64)&&t!==(t=u[6]("base_table")+"")&&z(l,t);const c={};f&256&&(c.table=u[8]),i.$set(c)},i(u){a||(_(i.$$.fragment,u),a=!0)},o(u){p(i.$$.fragment,u),a=!1},d(u){u&&$(e),y(i)}}}function bpe(r){let e,n,t,l,s,o;e=new Nt({props:{layout:"stacked",label:r[6]("name"),$$slots:{default:[gpe]},$$scope:{ctx:r}}}),t=new Nt({props:{layout:"stacked",label:r[6]("description"),$$slots:{default:[hpe]},$$scope:{ctx:r}}});let i=r[8]&&q4(r);return{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),i&&i.c(),s=ae()},m(a,u){k(e,a,u),v(a,n,u),k(t,a,u),v(a,l,u),i&&i.m(a,u),v(a,s,u),o=!0},p(a,u){const f={};u&64&&(f.label=a[6]("name")),u&65571&&(f.$$scope={dirty:u,ctx:a}),e.$set(f);const c={};u&64&&(c.label=a[6]("description")),u&65666&&(c.$$scope={dirty:u,ctx:a}),t.$set(c),a[8]?i?(i.p(a,u),u&256&&_(i,1)):(i=q4(a),i.c(),_(i,1),i.m(s.parentNode,s)):i&&(U(),p(i,1,1,()=>{i=null}),W())},i(a){o||(_(e.$$.fragment,a),_(t.$$.fragment,a),_(i),o=!0)},o(a){p(e.$$.fragment,a),p(t.$$.fragment,a),p(i),o=!1},d(a){y(e,a),a&&$(n),y(t,a),a&&$(l),i&&i.d(a),a&&$(s)}}}function $pe(r){let e,n;return e=new spe({props:{dataFormManager:r[0]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.dataFormManager=t[0]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function vpe(r){let e=r[6]("associated_role_help")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&64&&e!==(e=t[6]("associated_role_help")+"")&&z(n,e)},d(t){t&&$(n)}}}function wpe(r){let e,n=r[6]("associated_role")+"",t,l,s,o;return s=new zt({props:{$$slots:{default:[vpe]},$$scope:{ctx:r}}}),{c(){e=E("div"),t=L(n),l=N(),C(s.$$.fragment),I(e,"slot","title")},m(i,a){v(i,e,a),R(e,t),R(e,l),k(s,e,null),o=!0},p(i,a){(!o||a&64)&&n!==(n=i[6]("associated_role")+"")&&z(t,n);const u={};a&65600&&(u.$$scope={dirty:a,ctx:i}),s.$set(u)},i(i){o||(_(s.$$.fragment,i),o=!0)},o(i){p(s.$$.fragment,i),o=!1},d(i){i&&$(e),y(s)}}}function kpe(r){let e,n;return e=new ppe({props:{dataFormManager:r[0]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.dataFormManager=t[0]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function ype(r){let e,n,t,l=r[6]("delete_form")+"",s,o;const i=[Mt];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return e=new Ne({props:a}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l)},m(u,f){k(e,u,f),v(u,n,f),v(u,t,f),R(t,s),o=!0},p(u,f){const c=f&0?de(i,[_e(Mt)]):{};e.$set(c),(!o||f&64)&&l!==(l=u[6]("delete_form")+"")&&z(s,l)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){p(e.$$.fragment,u),o=!1},d(u){y(e,u),u&&$(n),u&&$(t)}}}function Cpe(r){let e,n;return e=new st({props:{appearance:"danger",$$slots:{default:[ype]},$$scope:{ctx:r}}}),e.$on("click",r[9]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&65600&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Spe(r){let e,n,t,l,s,o,i,a;return e=new An({props:{title:r[6]("properties"),$$slots:{default:[bpe]},$$scope:{ctx:r}}}),t=new An({props:{$$slots:{title:[wpe],default:[$pe]},$$scope:{ctx:r}}}),s=new An({props:{title:r[6]("submission_settings"),$$slots:{default:[kpe]},$$scope:{ctx:r}}}),i=new An({props:{title:r[6]("actions"),$$slots:{default:[Cpe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),C(s.$$.fragment),o=N(),C(i.$$.fragment)},m(u,f){k(e,u,f),v(u,n,f),k(t,u,f),v(u,l,f),k(s,u,f),v(u,o,f),k(i,u,f),a=!0},p(u,f){const c={};f&64&&(c.title=u[6]("properties")),f&66019&&(c.$$scope={dirty:f,ctx:u}),e.$set(c);const m={};f&65601&&(m.$$scope={dirty:f,ctx:u}),t.$set(m);const d={};f&64&&(d.title=u[6]("submission_settings")),f&65537&&(d.$$scope={dirty:f,ctx:u}),s.$set(d);const g={};f&64&&(g.title=u[6]("actions")),f&65600&&(g.$$scope={dirty:f,ctx:u}),i.$set(g)},i(u){a||(_(e.$$.fragment,u),_(t.$$.fragment,u),_(s.$$.fragment,u),_(i.$$.fragment,u),a=!0)},o(u){p(e.$$.fragment,u),p(t.$$.fragment,u),p(s.$$.fragment,u),p(i.$$.fragment,u),a=!1},d(u){y(e,u),u&&$(n),y(t,u),u&&$(l),y(s,u),u&&$(o),y(i,u)}}}function Tpe(r){let e,n;return e=new qc({props:{$$slots:{default:[Spe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&66019&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Ipe(r,e,n){let t,l,s,o,i,a,u,f,c=H,m=()=>(c(),c=le(s,P=>n(5,f=P)),s),d,g,h=H,b=()=>(h(),h=le(o,P=>n(7,g=P)),o),w,S=H,T=()=>(S(),S=le(u,P=>n(8,w=P)),u);ne(r,ce,P=>n(6,d=P)),r.$$.on_destroy.push(()=>c()),r.$$.on_destroy.push(()=>h()),r.$$.on_destroy.push(()=>S());let{dataFormManager:M}=e;function A(){Ll({identifierType:d("form"),identifierName:f,onProceed:async()=>{await l()}})}const D=P=>t.setName(Il(P)),O=()=>M.checkAndSetDefaultFormName(),F=P=>t.setDescription(Il(P));return r.$$set=P=>{"dataFormManager"in P&&n(0,M=P.dataFormManager)},r.$$.update=()=>{r.$$.dirty&1&&n(1,{dataFormStructure:t,deleteDataForm:l}=M,t),r.$$.dirty&2&&m(n(4,{name:s,description:o,baseTableOid:i}=t,s,b(n(3,o)),(n(11,i),n(1,t),n(0,M)))),r.$$.dirty&2049&&n(10,a=M.getTableStructure(i)),r.$$.dirty&1024&&T(n(2,{table:u}=a,u))},[M,t,u,o,s,f,d,g,w,A,a,i,D,O,F]}class Epe extends Q{constructor(e){super(),Z(this,e,Ipe,Tpe,J,{dataFormManager:0})}}function Mpe(r){let e,n;return e=new Epe({props:{dataFormManager:r[0]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.dataFormManager=t[0]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Rpe(r){let e,n;return e=new L_e({props:{dataFormManager:r[0],field:r[2].field}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.dataFormManager=t[0]),l&4&&(s.field=t[2].field),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Dpe(r){let e,n,t,l,s,o,i,a;t=new J_e({props:{field:r[2]&&"field"in r[2]?r[2].field:void 0,dataFormManager:r[0]}});const u=[Rpe,Mpe],f=[];function c(m,d){var g;return((g=m[2])==null?void 0:g.type)==="field"?0:1}return o=c(r),i=f[o]=u[o](r),{c(){e=E("div"),n=E("div"),C(t.$$.fragment),l=N(),s=E("div"),i.c(),I(n,"class","nav"),I(s,"class","content svelte-1pvha77"),I(e,"class","data-form-inspector svelte-1pvha77")},m(m,d){v(m,e,d),R(e,n),k(t,n,null),R(e,l),R(e,s),f[o].m(s,null),a=!0},p(m,[d]){const g={};d&4&&(g.field=m[2]&&"field"in m[2]?m[2].field:void 0),d&1&&(g.dataFormManager=m[0]),t.$set(g);let h=o;o=c(m),o===h?f[o].p(m,d):(U(),p(f[h],1,1,()=>{f[h]=null}),W(),i=f[o],i?i.p(m,d):(i=f[o]=u[o](m),i.c()),_(i,1),i.m(s,null))},i(m){a||(_(t.$$.fragment,m),_(i),a=!0)},o(m){p(t.$$.fragment,m),p(i),a=!1},d(m){m&&$(e),y(t),f[o].d()}}}function Ape(r,e,n){let t,l,s=H,o=()=>(s(),s=le(t,a=>n(2,l=a)),t);r.$$.on_destroy.push(()=>s());let{dataFormManager:i}=e;return r.$$set=a=>{"dataFormManager"in a&&n(0,i=a.dataFormManager)},r.$$.update=()=>{r.$$.dirty&1&&o(n(1,{selectedElement:t}=i,t))},[i,t,l]}class Ope extends Q{constructor(e){super(),Z(this,e,Ape,Dpe,J,{dataFormManager:0})}}function Fpe(r){let e,n,t,l,s,o;return t=new mM({props:{dataFormManager:r[0],showBranding:!1}}),{c(){e=E("div"),n=E("div"),C(t.$$.fragment),I(n,"class","form-holder svelte-h6s6ne"),I(e,"class","workarea svelte-h6s6ne")},m(i,a){v(i,e,a),R(e,n),k(t,n,null),l=!0,s||(o=He(n,"click",r[4]),s=!0)},p(i,a){const u={};a&1&&(u.dataFormManager=i[0]),t.$set(u)},i(i){l||(_(t.$$.fragment,i),l=!0)},o(i){p(t.$$.fragment,i),l=!1},d(i){i&&$(e),y(t),s=!1,o()}}}function U4(r){let e,n;return e=new Ope({props:{dataFormManager:r[1]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.dataFormManager=t[1]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Npe(r){let e,n,t=r[1]&&U4(r);return{c(){e=E("div"),t&&t.c(),I(e,"class","data-form-inspector-panel svelte-h6s6ne"),I(e,"slot","panel")},m(l,s){v(l,e,s),t&&t.m(e,null),n=!0},p(l,s){l[1]?t?(t.p(l,s),s&2&&_(t,1)):(t=U4(l),t.c(),_(t,1),t.m(e,null)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){l&&$(e),t&&t.d()}}}function Ppe(r){let e,n,t,l;function s(i){r[6](i)}let o={minSizePx:200,maxSizePx:600,showPanel:r[2],$$slots:{panel:[Npe],default:[Fpe]},$$scope:{ctx:r}};return r[3]!==void 0&&(o.sizePx=r[3]),n=new gc({props:o}),we.push(()=>Me(n,"sizePx",s)),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","data-form-canvas svelte-h6s6ne")},m(i,a){v(i,e,a),k(n,e,null),l=!0},p(i,[a]){const u={};a&4&&(u.showPanel=i[2]),a&131&&(u.$$scope={dirty:a,ctx:i}),!t&&a&8&&(t=!0,u.sizePx=i[3],De(()=>t=!1)),n.$set(u)},i(i){l||(_(n.$$.fragment,i),l=!0)},o(i){p(n.$$.fragment,i),l=!1},d(i){i&&$(e),y(n)}}}function Lpe(r,e,n){let t,l,s,o;ne(r,ud,f=>n(5,s=f)),ne(r,X0,f=>n(3,o=f));let{dataFormManager:i}=e;function a(f){if(t){const{target:c}=f;c instanceof HTMLElement&&(c.closest("[data-form-selectable]")||t.resetSelectedElement())}}function u(f){o=f,X0.set(o)}return r.$$set=f=>{"dataFormManager"in f&&n(0,i=f.dataFormManager)},r.$$.update=()=>{r.$$.dirty&1&&n(1,t=i instanceof Zn?i:void 0),r.$$.dirty&34&&n(2,l=!!t&&s)},[i,t,l,o,a,s,u]}class Hpe extends Q{constructor(e){super(),Z(this,e,Lpe,Ppe,J,{dataFormManager:0})}}class pM{constructor(e){te(this,"rawSource");this.rawSource=e}getColumnInfo(e,n){var l,s;const t=(s=(l=this.rawSource[e])==null?void 0:l.columns)==null?void 0:s[n];if(!t)throw w3.columnNotFoundError({tableOid:e,columnAttnum:n});if("error"in t)throw t.error.code===ZE.COLUMN_NOT_FOUND?w3.columnNotFoundError({tableOid:e,columnAttnum:n}):$o.fromAnything(t.error);return t}}function Vpe(r){let e,n,t,l,s;return document.title=e=Rn(r[1]),l=new mM({props:{dataFormManager:r[0]}}),{c(){n=N(),t=E("div"),C(l.$$.fragment),I(t,"class","data-form-filler svelte-1bibi53")},m(o,i){v(o,n,i),v(o,t,i),k(l,t,null),s=!0},p(o,[i]){(!s||i&2)&&e!==(e=Rn(o[1]))&&(document.title=e);const a={};i&1&&(a.dataFormManager=o[0]),l.$set(a)},i(o){s||(_(l.$$.fragment,o),s=!0)},o(o){p(l.$$.fragment,o),s=!1},d(o){o&&$(n),o&&$(t),y(l)}}}function zpe(r,e,n){let t,l,{rawDataForm:s}=e,{formSource:o}=e;return r.$$set=i=>{"rawDataForm"in i&&n(2,s=i.rawDataForm),"formSource"in i&&n(3,o=i.formSource)},r.$$.update=()=>{r.$$.dirty&4&&n(1,t=s.name.trim()),r.$$.dirty&12&&n(0,l=new so({buildDataFormStructure:di.factoryFromRawInfo(s,new pM(o)),token:ar(s.token)}))},[l,t,s,o]}class Bpe extends Q{constructor(e){super(),Z(this,e,zpe,Vpe,J,{rawDataForm:2,formSource:3})}}function qpe(r){let e,n;return e=new ds({props:{showGoToRoot:!1,$$slots:{default:[jpe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&260&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Upe(r){let e,n,t,l;const s=[Gpe,Ype],o=[];function i(a,u){return a[1].resolvedValue.publish_public?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function Wpe(r){let e,n;return e=new XE({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function jpe(r){let e,n;return e=new _l({props:{errors:r[2],showFallbackError:!0}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&4&&(s.errors=t[2]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Ype(r){let e,n;return e=new ds({props:{showGoToRoot:!1,$$slots:{default:[Kpe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&272&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Gpe(r){let e,n;return e=new Bpe({props:{rawDataForm:r[1].resolvedValue,formSource:r[0].resolvedValue}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.rawDataForm=t[1].resolvedValue),l&1&&(s.formSource=t[0].resolvedValue),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Kpe(r){let e=r[4]("this_form_is_not_publicly_shared")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&16&&e!==(e=t[4]("this_form_is_not_publicly_shared")+"")&&z(n,e)},d(t){t&&$(n)}}}function Xpe(r){let e,n,t,l;const s=[Wpe,Upe,qpe],o=[];function i(a,u){return a[3]?0:a[1].resolvedValue&&a[0].resolvedValue?1:2}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,[u]){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function Jpe(r,e,n){let t,l,s,o,i;ne(r,ce,c=>n(4,i=c));let{formToken:a}=e;const u=new En(Ke.forms.get);ne(r,u,c=>n(1,o=c));const f=new En(Ke.forms.get_source_info);return ne(r,f,c=>n(0,s=c)),r.$$set=c=>{"formToken"in c&&n(7,a=c.formToken)},r.$$.update=()=>{r.$$.dirty&128&&En.runBatchConservatively([u.batchRunner({form_token:a}),f.batchRunner({form_token:a})]),r.$$.dirty&3&&n(3,t=o.isLoading||s.isLoading),r.$$.dirty&3&&n(2,l=[o.error,s.error].filter(c=>At(c)))},[s,o,l,t,i,u,f,a]}class Zpe extends Q{constructor(e){super(),Z(this,e,Jpe,Xpe,J,{formToken:7})}}function Qpe(r){let e,n;return e=new Zpe({props:{formToken:r[0].params.token}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.formToken=t[0].params.token),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function xpe(r){let e,n;return e=new en({props:{path:"/forms/:token/*",$$slots:{default:[Qpe,({meta:t})=>({0:t}),({meta:t})=>t?1:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&3&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}class e1e extends Q{constructor(e){super(),Z(this,e,null,xpe,J,{})}}const t1e=r=>({}),W4=r=>({}),n1e=r=>({}),j4=r=>({}),r1e=r=>({}),Y4=r=>({});function G4(r){let e,n,t,l,s,o=r[0]&&K4(r);return{c(){e=E("div"),o&&o.c(),n=N(),t=E("span"),l=L(r[2]),I(t,"class","entity-type-name svelte-12scu0z"),I(e,"class","entity-type-container svelte-12scu0z")},m(i,a){v(i,e,a),o&&o.m(e,null),R(e,n),R(e,t),R(t,l),s=!0},p(i,a){i[0]?o?(o.p(i,a),a&1&&_(o,1)):(o=K4(i),o.c(),_(o,1),o.m(e,n)):o&&(U(),p(o,1,1,()=>{o=null}),W()),(!s||a&4)&&z(l,i[2])},i(i){s||(_(o),s=!0)},o(i){p(o),s=!1},d(i){i&&$(e),o&&o.d()}}}function K4(r){let e,n,t;const l=[r[0],{size:"1.2em"}];let s={};for(let o=0;o<l.length;o+=1)s=se(s,l[o]);return n=new Ne({props:s}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","entity-icon svelte-12scu0z")},m(o,i){v(o,e,i),k(n,e,null),t=!0},p(o,i){const a=i&1?de(l,[_e(o[0]),l[1]]):{};n.$set(a)},i(o){t||(_(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&$(e),y(n)}}}function l1e(r){let e,n,t,l,s,o,i,a,u,f,c,m,d=r[2]&&G4(r);const g=r[4].subText,h=ke(g,r,r[3],Y4),b=r[4].action,w=ke(b,r,r[3],j4),S=r[4].bottom,T=ke(S,r,r[3],W4);return{c(){e=E("div"),n=E("div"),t=E("div"),l=E("div"),d&&d.c(),s=N(),o=E("span"),i=L(r[1]),a=N(),h&&h.c(),u=N(),f=E("div"),w&&w.c(),c=N(),T&&T.c(),I(o,"class","entity-name svelte-12scu0z"),I(l,"class","left-meta-container svelte-12scu0z"),I(t,"class","entity-container svelte-12scu0z"),I(f,"class","action svelte-12scu0z"),I(n,"class","top svelte-12scu0z"),I(e,"class","page-title-and-meta svelte-12scu0z")},m(M,A){v(M,e,A),R(e,n),R(n,t),R(t,l),d&&d.m(l,null),R(l,s),R(l,o),R(o,i),R(l,a),h&&h.m(l,null),R(n,u),R(n,f),w&&w.m(f,null),R(e,c),T&&T.m(e,null),m=!0},p(M,[A]){M[2]?d?(d.p(M,A),A&4&&_(d,1)):(d=G4(M),d.c(),_(d,1),d.m(l,s)):d&&(U(),p(d,1,1,()=>{d=null}),W()),(!m||A&2)&&z(i,M[1]),h&&h.p&&(!m||A&8)&&Ce(h,g,M,M[3],m?ye(g,M[3],A,r1e):Se(M[3]),Y4),w&&w.p&&(!m||A&8)&&Ce(w,b,M,M[3],m?ye(b,M[3],A,n1e):Se(M[3]),j4),T&&T.p&&(!m||A&8)&&Ce(T,S,M,M[3],m?ye(S,M[3],A,t1e):Se(M[3]),W4)},i(M){m||(_(d),_(h,M),_(w,M),_(T,M),m=!0)},o(M){p(d),p(h,M),p(w,M),p(T,M),m=!1},d(M){M&&$(e),d&&d.d(),h&&h.d(M),w&&w.d(M),T&&T.d(M)}}}function s1e(r,e,n){let{$$slots:t={},$$scope:l}=e,{icon:s=void 0}=e,{name:o}=e,{entityTypeName:i=void 0}=e;return r.$$set=a=>{"icon"in a&&n(0,s=a.icon),"name"in a&&n(1,o=a.name),"entityTypeName"in a&&n(2,i=a.entityTypeName),"$$scope"in a&&n(3,l=a.$$scope)},[s,o,i,l,t]}class o1e extends Q{constructor(e){super(),Z(this,e,s1e,l1e,J,{icon:0,name:1,entityTypeName:2})}}const i1e=r=>({}),X4=r=>({slot:"action"}),a1e=r=>({}),J4=r=>({slot:"bottom"}),u1e=r=>({}),Z4=r=>({slot:"subText"});function f1e(r){let e;const n=r[6].action,t=ke(n,r,r[7],X4);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&128)&&Ce(t,n,l,l[7],e?ye(n,l[7],s,i1e):Se(l[7]),X4)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function c1e(r){let e;const n=r[6].bottom,t=ke(n,r,r[7],J4);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&128)&&Ce(t,n,l,l[7],e?ye(n,l[7],s,a1e):Se(l[7]),J4)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function m1e(r){let e;const n=r[6].subText,t=ke(n,r,r[7],Z4);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&128)&&Ce(t,n,l,l[7],e?ye(n,l[7],s,u1e):Se(l[7]),Z4)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function d1e(r){let e,n,t,l;const s=[{icon:r[0]},{name:r[1]},r[4]];let o={$$slots:{subText:[m1e],bottom:[c1e],action:[f1e]},$$scope:{ctx:r}};for(let i=0;i<s.length;i+=1)o=se(o,s[i]);return t=new o1e({props:o}),{c(){e=E("div"),n=E("div"),C(t.$$.fragment),I(n,"class","content svelte-1ohtb61"),ie(n,"restrict-width",r[2]),I(e,"class","app-secondary-header svelte-1ohtb61"),I(e,"style",r[3])},m(i,a){v(i,e,a),R(e,n),k(t,n,null),l=!0},p(i,[a]){const u=a&19?de(s,[a&1&&{icon:i[0]},a&2&&{name:i[1]},a&16&&_e(i[4])]):{};a&128&&(u.$$scope={dirty:a,ctx:i}),t.$set(u),(!l||a&4)&&ie(n,"restrict-width",i[2]),(!l||a&8)&&I(e,"style",i[3])},i(i){l||(_(t.$$.fragment,i),l=!0)},o(i){p(t.$$.fragment,i),l=!1},d(i){i&&$(e),y(t)}}}function _1e(r,e,n){let t;const l=["icon","name","restrictWidth","cssVariables"];let s=We(e,l),{$$slots:o={},$$scope:i}=e,{icon:a=void 0}=e,{name:u}=e,{restrictWidth:f=!0}=e,{cssVariables:c=void 0}=e;return r.$$set=m=>{e=se(se({},e),pt(m)),n(4,s=We(e,l)),"icon"in m&&n(0,a=m.icon),"name"in m&&n(1,u=m.name),"restrictWidth"in m&&n(2,f=m.restrictWidth),"cssVariables"in m&&n(5,c=m.cssVariables),"$$scope"in m&&n(7,i=m.$$scope)},r.$$.update=()=>{r.$$.dirty&32&&n(3,t=c?Ml(c):void 0)},[a,u,f,t,s,c,o,i]}class fu extends Q{constructor(e){super(),Z(this,e,_1e,d1e,J,{icon:0,name:1,restrictWidth:2,cssVariables:5})}}const p1e=r=>({}),Q4=r=>({}),g1e=r=>({}),x4=r=>({});function h1e(r){let e,n,t,l,s,o,i,a,u,f,c,m;const d=[r[1],{size:"0.7em"},{class:"resource-icon"}];let g={};for(let A=0;A<d.length;A+=1)g=se(g,d[A]);s=new Ne({props:g});const h=r[3].title,b=ke(h,r,r[2],x4),w=[Yl,{size:"0.7em"}];let S={};for(let A=0;A<w.length;A+=1)S=se(S,w[A]);u=new Ne({props:S});const T=r[3].description,M=ke(T,r,r[2],Q4);return{c(){e=E("div"),n=E("span"),t=E("a"),l=E("span"),C(s.$$.fragment),o=N(),b&&b.c(),i=N(),a=E("span"),C(u.$$.fragment),f=N(),c=E("div"),M&&M.c(),I(l,"class","icon-wrapper svelte-1c6jvxs"),I(a,"class","external-link-wrapper svelte-1c6jvxs"),I(t,"class","title svelte-1c6jvxs"),I(t,"href",r[0]),I(t,"target","_blank"),I(c,"class","description svelte-1c6jvxs"),I(e,"class","resource-card svelte-1c6jvxs")},m(A,D){v(A,e,D),R(e,n),R(n,t),R(t,l),k(s,l,null),R(t,o),b&&b.m(t,null),R(t,i),R(t,a),k(u,a,null),R(e,f),R(e,c),M&&M.m(c,null),m=!0},p(A,[D]){const O=D&2?de(d,[_e(A[1]),d[1],d[2]]):{};s.$set(O),b&&b.p&&(!m||D&4)&&Ce(b,h,A,A[2],m?ye(h,A[2],D,g1e):Se(A[2]),x4);const F=D&0?de(w,[_e(Yl),w[1]]):{};u.$set(F),(!m||D&1)&&I(t,"href",A[0]),M&&M.p&&(!m||D&4)&&Ce(M,T,A,A[2],m?ye(T,A[2],D,p1e):Se(A[2]),Q4)},i(A){m||(_(s.$$.fragment,A),_(b,A),_(u.$$.fragment,A),_(M,A),m=!0)},o(A){p(s.$$.fragment,A),p(b,A),p(u.$$.fragment,A),p(M,A),m=!1},d(A){A&&$(e),y(s),b&&b.d(A),y(u),M&&M.d(A)}}}function b1e(r,e,n){let{$$slots:t={},$$scope:l}=e,{href:s}=e,{icon:o}=e;return r.$$set=i=>{"href"in i&&n(0,s=i.href),"icon"in i&&n(1,o=i.icon),"$$scope"in i&&n(2,l=i.$$scope)},[s,o,l,t]}class Uc extends Q{constructor(e){super(),Z(this,e,b1e,h1e,J,{href:0,icon:1})}}function $1e(r){let e,n=r[0]("documentation")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","title")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&1&&n!==(n=l[0]("documentation")+"")&&z(t,n)},d(l){l&&$(e)}}}function v1e(r){let e,n=r[0]("user_guide_description")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","description")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&1&&n!==(n=l[0]("user_guide_description")+"")&&z(t,n)},d(l){l&&$(e)}}}function w1e(r){let e,n;return e=new Uc({props:{icon:BT,href:Sf("userGuide"),$$slots:{description:[v1e],title:[$1e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&3&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function k1e(r,e,n){let t;return ne(r,ce,l=>n(0,t=l)),[t]}class y1e extends Q{constructor(e){super(),Z(this,e,k1e,w1e,J,{})}}function C1e(r){let e,n=r[0]("chat_with_community")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","title")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&1&&n!==(n=l[0]("chat_with_community")+"")&&z(t,n)},d(l){l&&$(e)}}}function S1e(r){let e,n=r[0]("connect_with_community_help")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","description")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&1&&n!==(n=l[0]("connect_with_community_help")+"")&&z(t,n)},d(l){l&&$(e)}}}function T1e(r){let e,n;return e=new Uc({props:{icon:zT,href:ro("community"),$$slots:{description:[S1e],title:[C1e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&3&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function I1e(r,e,n){let t;return ne(r,ce,l=>n(0,t=l)),[t]}class E1e extends Q{constructor(e){super(),Z(this,e,I1e,T1e,J,{})}}function M1e(r){let e,n=r[0]("support_our_mission")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","title")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&1&&n!==(n=l[0]("support_our_mission")+"")&&z(t,n)},d(l){l&&$(e)}}}function R1e(r){let e,n=r[0]("donate_blurb")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","description")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&1&&n!==(n=l[0]("donate_blurb")+"")&&z(t,n)},d(l){l&&$(e)}}}function D1e(r){let e,n,t;return e=new Uc({props:{icon:qT,href:ro("donate"),$$slots:{description:[R1e],title:[M1e]},$$scope:{ctx:r}}}),{c(){n=E("div"),C(e.$$.fragment),ln(n,"display","contents"),ln(n,"--icon-fill-color","var(--color-brand)"),ln(n,"--icon-bg-color","var(--color-brand-10)")},m(l,s){v(l,n,s),k(e,n,null),t=!0},p(l,[s]){const o={};s&3&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){l&&$(n),y(e,l)}}}function A1e(r,e,n){let t;return ne(r,ce,l=>n(0,t=l)),[t]}class gM extends Q{constructor(e){super(),Z(this,e,A1e,D1e,J,{})}}function O1e(r){let e,n=r[0]("stay_informed")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","title")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&1&&n!==(n=l[0]("stay_informed")+"")&&z(t,n)},d(l){l&&$(e)}}}function F1e(r){let e,n=r[0]("join_mailing_list_help")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","description")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&1&&n!==(n=l[0]("join_mailing_list_help")+"")&&z(t,n)},d(l){l&&$(e)}}}function N1e(r){let e,n;return e=new Uc({props:{icon:DK,href:ro("mailingList"),$$slots:{description:[F1e],title:[O1e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&3&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function P1e(r,e,n){let t;return ne(r,ce,l=>n(0,t=l)),[t]}class L1e extends Q{constructor(e){super(),Z(this,e,P1e,N1e,J,{})}}const H1e=r=>({}),ev=r=>({}),V1e=r=>({}),tv=r=>({});function nv(r){let e,n,t,l;const s=r[4].resultInfo,o=ke(s,r,r[6],ev);return t=new st({props:{appearance:"secondary",$$slots:{default:[z1e]},$$scope:{ctx:r}}}),t.$on("click",r[3]),{c(){e=E("div"),o&&o.c(),n=N(),C(t.$$.fragment),I(e,"class","search-results-info svelte-13vmmh3")},m(i,a){v(i,e,a),o&&o.m(e,null),R(e,n),k(t,e,null),l=!0},p(i,a){o&&o.p&&(!l||a&64)&&Ce(o,s,i,i[6],l?ye(s,i[6],a,H1e):Se(i[6]),ev);const u={};a&68&&(u.$$scope={dirty:a,ctx:i}),t.$set(u)},i(i){l||(_(o,i),_(t.$$.fragment,i),l=!0)},o(i){p(o,i),p(t.$$.fragment,i),l=!1},d(i){i&&$(e),o&&o.d(i),y(t)}}}function z1e(r){let e=r[2]("clear")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&4&&e!==(e=t[2]("clear")+"")&&z(n,e)},d(t){t&&$(n)}}}function B1e(r){let e,n,t,l,s,o,i,a;function u(g){r[5](g)}let f={placeholder:r[1],prefixIcon:rf};r[0]!==void 0&&(f.value=r[0]),l=new gT({props:f}),we.push(()=>Me(l,"value",u));const c=r[4].action,m=ke(c,r,r[6],tv);let d=r[0]&&nv(r);return{c(){e=E("div"),n=E("div"),t=E("div"),C(l.$$.fragment),o=N(),m&&m.c(),i=N(),d&&d.c(),I(t,"class","search-container svelte-13vmmh3"),I(n,"class","actions-container svelte-13vmmh3"),I(e,"class","container svelte-13vmmh3")},m(g,h){v(g,e,h),R(e,n),R(n,t),k(l,t,null),R(n,o),m&&m.m(n,null),R(e,i),d&&d.m(e,null),a=!0},p(g,[h]){const b={};h&2&&(b.placeholder=g[1]),!s&&h&1&&(s=!0,b.value=g[0],De(()=>s=!1)),l.$set(b),m&&m.p&&(!a||h&64)&&Ce(m,c,g,g[6],a?ye(c,g[6],h,V1e):Se(g[6]),tv),g[0]?d?(d.p(g,h),h&1&&_(d,1)):(d=nv(g),d.c(),_(d,1),d.m(e,null)):d&&(U(),p(d,1,1,()=>{d=null}),W())},i(g){a||(_(l.$$.fragment,g),_(m,g),_(d),a=!0)},o(g){p(l.$$.fragment,g),p(m,g),p(d),a=!1},d(g){g&&$(e),y(l),m&&m.d(g),d&&d.d()}}}function q1e(r,e,n){let t;ne(r,ce,c=>n(2,t=c));let{$$slots:l={},$$scope:s}=e;const o=Et();let{searchQuery:i}=e,{placeholder:a}=e;function u(){o("clear")}function f(c){i=c,n(0,i)}return r.$$set=c=>{"searchQuery"in c&&n(0,i=c.searchQuery),"placeholder"in c&&n(1,a=c.placeholder),"$$scope"in c&&n(6,s=c.$$scope)},[i,a,t,u,l,f,s]}class U1e extends Q{constructor(e){super(),Z(this,e,q1e,B1e,J,{searchQuery:0,placeholder:1})}}const W1e=r=>({}),rv=r=>({}),j1e=r=>({}),lv=r=>({slot:"action"}),Y1e=r=>({}),sv=r=>({slot:"resultInfo"});function G1e(r){let e;const n=r[2].action,t=ke(n,r,r[5],lv);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&32)&&Ce(t,n,l,l[5],e?ye(n,l[5],s,j1e):Se(l[5]),lv)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function K1e(r){let e;const n=r[2].resultInfo,t=ke(n,r,r[5],sv);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&32)&&Ce(t,n,l,l[5],e?ye(n,l[5],s,Y1e):Se(l[5]),sv)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function X1e(r){let e,n,t,l,s;function o(f){r[3](f)}let i={placeholder:r[1],$$slots:{resultInfo:[K1e],action:[G1e]},$$scope:{ctx:r}};r[0]!==void 0&&(i.searchQuery=r[0]),n=new U1e({props:i}),we.push(()=>Me(n,"searchQuery",o)),n.$on("clear",r[4]);const a=r[2].content,u=ke(a,r,r[5],rv);return{c(){e=E("div"),C(n.$$.fragment),l=N(),u&&u.c(),I(e,"class","container svelte-1nk3mrm")},m(f,c){v(f,e,c),k(n,e,null),R(e,l),u&&u.m(e,null),s=!0},p(f,[c]){const m={};c&2&&(m.placeholder=f[1]),c&32&&(m.$$scope={dirty:c,ctx:f}),!t&&c&1&&(t=!0,m.searchQuery=f[0],De(()=>t=!1)),n.$set(m),u&&u.p&&(!s||c&32)&&Ce(u,a,f,f[5],s?ye(a,f[5],c,W1e):Se(f[5]),rv)},i(f){s||(_(n.$$.fragment,f),_(u,f),s=!0)},o(f){p(n.$$.fragment,f),p(u,f),s=!1},d(f){f&&$(e),y(n),u&&u.d(f)}}}function J1e(r,e,n){let{$$slots:t={},$$scope:l}=e,{searchPlaceholder:s}=e,{searchQuery:o}=e;function i(u){o=u,n(0,o)}function a(u){Re.call(this,r,u)}return r.$$set=u=>{"searchPlaceholder"in u&&n(1,s=u.searchPlaceholder),"searchQuery"in u&&n(0,o=u.searchQuery),"$$scope"in u&&n(5,l=u.$$scope)},[o,s,t,i,a,l]}class zp extends Q{constructor(e){super(),Z(this,e,J1e,X1e,J,{searchPlaceholder:1,searchQuery:0})}}const ov=2*1e3,hM=10*1e3,bM=3*1e3,Z1e=hM+bM;function Q1e(r){return{top:`${r.top}px`,left:`${r.left}px`,width:`${r.width}px`,height:`${r.height}px`}}function Vf(r,e){const n=new MutationObserver(()=>{r.isConnected||(e(),n.disconnect())});n.observe(document.body,{childList:!0,subtree:!0})}function x1e(r){const e=window.getComputedStyle(r),{overflowY:n}=e;return(n==="auto"||n==="scroll")&&r.scrollHeight>r.clientHeight}function $M(r){const e=r.parentElement;if(!!e)return x1e(e)?e:$M(e)}function*ege(r){for(const e of r)if(e.type==="childList"&&e.addedNodes.length>0)for(const n of e.addedNodes)n.nodeType===Node.ELEMENT_NODE&&n instanceof HTMLElement&&(yield n)}function tge(){const r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("viewBox","0 0 400 400");const e=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttribute("d","m 358,179.5 c 3.8,-8.8 2,-19 -4.6,-26 L 217.4,9.5 C 212.9,4.7 206.6,2 200,2 193.4,2 187.1,4.7 182.6,9.5 l -136,144 c -6.6,7 -8.4,17.2 -4.6,26 3.8,8.8 12.4,14.5 22,14.5 h 72 V 400 H 264 V 194 h 72 c 9.6,0 18.2,-5.7 22,-14.5 z"),r.appendChild(e),r}function nge(r,e){const n=document.createElement("div");n.classList.add("new-item-highlighter__hint",e),n.style.setProperty("transition",`opacity ${bM}ms ${hM}ms`);const t=document.createElement("div");return t.textContent=r,t.className="message",n.appendChild(tge()),n.appendChild(t),n}function rge(r,e){const n=$M(r);if(!n)return()=>{};const t=n.getBoundingClientRect().top,s=r.getBoundingClientRect().top>t?"down":"up",o=nge(e,s);document.body.appendChild(o);const i=o.getBoundingClientRect();function a(){if(!n)return;const m=n.getBoundingClientRect(),d=s==="up"?m.top:m.bottom-i.height,g=m.left+(m.width-i.width)/2;o.style.top=`${d}px`,o.style.left=`${g}px`}const u=new ResizeObserver(a);u.observe(n),u.observe(document.body);function f(){if(!n)return;const m=n.getBoundingClientRect(),d=r.getBoundingClientRect(),g=s==="up"?d.top-m.top:d.bottom-m.bottom;n.scrollTo({top:g,behavior:"smooth"})}o.addEventListener("click",f);function c(){o.remove(),u.disconnect(),document.body.removeEventListener("click",c)}return Vf(r,c),Vf(n,c),setTimeout(()=>document.body.addEventListener("click",c),50),c}function lge(){const r=document.createElement("div");r.className="effect";const e=document.createElement("div");return e.className="new-item-highlighter",e.appendChild(r),e}function sge(r){const e=lge();e.style.setProperty("--duration",`${ov}ms`),document.body.appendChild(e);function n(){if(!r.isConnected)return;const l=r.getBoundingClientRect();Object.assign(e.style,Q1e(l)),requestAnimationFrame(n)}n();function t(){e.remove()}Vf(r,t),setTimeout(t,ov)}function oge(r,e){let n;const t=new IntersectionObserver(s=>{const o=s[0];o.isIntersecting&&o.intersectionRatio>=.5?(sge(r),l()):e.scrollHint&&!n&&(n=rge(r,e.scrollHint))},{threshold:[.5]});function l(){t.disconnect(),n==null||n()}return t.observe(r),Vf(r,l),setTimeout(l,Z1e),l}function Ii(r,e={}){var o,i;const n=(o=e.wait)!=null?o:2e3,t=[];let l=(i=e.enabled)!=null?i:!0;function s(){const a=new MutationObserver(u=>{if(!!l&&!(r.children.length<2))for(const f of ege(u))t.push(oge(f,e))});t.push(()=>a.disconnect()),a.observe(r,{childList:!0})}return n?setTimeout(s,n):s(),{update(a){var u;l=(u=a.enabled)!=null?u:!0},destroy(){t.forEach(a=>a())}}}function ige(r){let e,n,t;const l=[ha,{size:"var(--lg5)"}];let s={};for(let o=0;o<l.length;o+=1)s=se(s,l[o]);return n=new Ne({props:s}),{c(){e=E("div"),C(n.$$.fragment),I(e,"slot","icon"),I(e,"data-identifier","connection-icon"),I(e,"class","svelte-l2gebs")},m(o,i){v(o,e,i),k(n,e,null),t=!0},p(o,i){const a=i&0?de(l,[_e(ha),l[1]]):{};n.$set(a)},i(o){t||(_(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&$(e),y(n)}}}function age(r){let e,n=r[1]("no_databases_connected")+"",t;return{c(){e=E("div"),t=L(n),I(e,"slot","title")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&2&&n!==(n=l[1]("no_databases_connected")+"")&&z(t,n)},d(l){l&&$(e)}}}function uge(r){let e,n,t=r[1]("setup_connections_help")+"",l;return{c(){e=E("div"),n=E("div"),l=L(t),I(n,"data-identifier","no-connections-help"),I(n,"class","svelte-l2gebs"),I(e,"slot","body")},m(s,o){v(s,e,o),R(e,n),R(n,l)},p(s,o){o&2&&t!==(t=s[1]("setup_connections_help")+"")&&z(l,t)},d(s){s&&$(e)}}}function iv(r){let e,n;return e=new st({props:{appearance:"primary",$$slots:{default:[fge]},$$scope:{ctx:r}}}),e.$on("click",r[5]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&66&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function fge(r){let e,n,t,l=r[1]("connect_database")+"",s,o;const i=[jt];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return e=new Ne({props:a}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l)},m(u,f){k(e,u,f),v(u,n,f),v(u,t,f),R(t,s),o=!0},p(u,f){const c=f&0?de(i,[_e(jt)]):{};e.$set(c),(!o||f&2)&&l!==(l=u[1]("connect_database")+"")&&z(s,l)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){p(e.$$.fragment,u),o=!1},d(u){y(e,u),u&&$(n),u&&$(t)}}}function cge(r){let e,n,t=r[0]&&iv(r);return{c(){e=E("div"),t&&t.c(),I(e,"slot","footer")},m(l,s){v(l,e,s),t&&t.m(e,null),n=!0},p(l,s){l[0]?t?(t.p(l,s),s&1&&_(t,1)):(t=iv(l),t.c(),_(t,1),t.m(e,null)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){l&&$(e),t&&t.d()}}}function mge(r){let e,n,t,l,s;return n=new fc({props:{$$slots:{footer:[cge],body:[uge],title:[age],icon:[ige]},$$scope:{ctx:r}}}),l=new Mp({props:{controller:r[3]}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),C(l.$$.fragment),I(e,"class","content svelte-l2gebs"),I(e,"data-identifier","connection-empty-text")},m(o,i){v(o,e,i),k(n,e,null),v(o,t,i),k(l,o,i),s=!0},p(o,[i]){const a={};i&67&&(a.$$scope={dirty:i,ctx:o}),n.$set(a)},i(o){s||(_(n.$$.fragment,o),_(l.$$.fragment,o),s=!0)},o(o){p(n.$$.fragment,o),p(l.$$.fragment,o),s=!1},d(o){o&&$(e),y(n),o&&$(t),y(l,o)}}}function dge(r,e,n){let t,l,s;ne(r,ce,u=>n(1,s=u));const o=Lr();ne(r,o,u=>n(4,l=u));const i=un.spawnModalController(),a=()=>i.open();return r.$$.update=()=>{r.$$.dirty&16&&n(0,{isMathesarAdmin:t}=l,t)},[t,s,o,i,l,a]}class _ge extends Q{constructor(e){super(),Z(this,e,dge,mge,J,{})}}class pge extends Error{constructor(n,t){super(t);te(this,"database");this.database=n}}function av(r,e,n){const t=r.slice();return t[7]=e[n],t}function uv(r){let e,n=r[7].displayName+"",t;return{c(){e=E("li"),t=L(n)},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&1&&n!==(n=l[7].displayName+"")&&z(t,n)},d(l){l&&$(e)}}}function gge(r){let e,n=r[2]("bulk_upgrade_database_form_info")+"",t,l,s,o=r[2]("the_following_databases_will_be_upgraded")+"",i,a,u,f,c,m,d,g,h,b=r[0],w=[];for(let S=0;S<b.length;S+=1)w[S]=uv(av(r,b,S));return m=new Ol({props:{onProceed:r[3],onCancel:r[1],proceedButton:{label:r[2]("upgrade_databases")},cancelButton:{label:r[2]("cancel")}}}),{c(){e=E("p"),t=L(n),l=N(),s=E("p"),i=L(o),a=N(),u=E("ul");for(let S=0;S<w.length;S+=1)w[S].c();f=N(),c=E("div"),C(m.$$.fragment)},m(S,T){v(S,e,T),R(e,t),v(S,l,T),v(S,s,T),R(s,i),v(S,a,T),v(S,u,T);for(let M=0;M<w.length;M+=1)w[M].m(u,null);v(S,f,T),v(S,c,T),k(m,c,null),d=!0,g||(h=Dt(dr.call(null,c)),g=!0)},p(S,[T]){if((!d||T&4)&&n!==(n=S[2]("bulk_upgrade_database_form_info")+"")&&z(t,n),(!d||T&4)&&o!==(o=S[2]("the_following_databases_will_be_upgraded")+"")&&z(i,o),T&1){b=S[0];let A;for(A=0;A<b.length;A+=1){const D=av(S,b,A);w[A]?w[A].p(D,T):(w[A]=uv(D),w[A].c(),w[A].m(u,null))}for(;A<w.length;A+=1)w[A].d(1);w.length=b.length}const M={};T&2&&(M.onCancel=S[1]),T&4&&(M.proceedButton={label:S[2]("upgrade_databases")}),T&4&&(M.cancelButton={label:S[2]("cancel")}),m.$set(M)},i(S){d||(_(m.$$.fragment,S),d=!0)},o(S){p(m.$$.fragment,S),d=!1},d(S){S&&$(e),S&&$(l),S&&$(s),S&&$(a),S&&$(u),Hn(w,S),S&&$(f),S&&$(c),y(m),g=!1,h()}}}function hge(r,e,n){let t;ne(r,ce,f=>n(2,t=f));let{databases:l}=e,{refreshDatabaseList:s}=e,{onCancel:o}=e,{onFinish:i}=e;function*a(f){for(const[c,m]of Ji(l,f))m.status==="error"&&(yield new pge(c,m.message))}async function u(){const f=await ja(l.map(c=>Ke.databases.upgrade_sql({database_id:c.id})));i([...a(f)]);try{await s()}catch(c){}}return r.$$set=f=>{"databases"in f&&n(0,l=f.databases),"refreshDatabaseList"in f&&n(4,s=f.refreshDatabaseList),"onCancel"in f&&n(1,o=f.onCancel),"onFinish"in f&&n(5,i=f.onFinish)},[l,o,t,u,s,i]}class bge extends Q{constructor(e){super(),Z(this,e,hge,gge,J,{databases:0,refreshDatabaseList:4,onCancel:1,onFinish:5})}}function fv(r,e,n){const t=r.slice();return t[7]=e[n],t}function $ge(r){let e,n;return e=new bge({props:{databases:r[10],refreshDatabaseList:r[1],onCancel:r[4],onFinish:r[5]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1024&&(s.databases=t[10]),l&2&&(s.refreshDatabaseList=t[1]),l&1&&(s.onCancel=t[4]),l&1&&(s.onFinish=t[5]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function vge(r){let e,n=r[2]("upgrade_multiple_databases")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","title")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&4&&n!==(n=l[2]("upgrade_multiple_databases")+"")&&z(t,n)},d(l){l&&$(e)}}}function wge(r){let e=r[7].message+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&64&&e!==(e=t[7].message+"")&&z(n,e)},d(t){t&&$(n)}}}function cv(r){let e,n,t,l=r[7].database.displayName+"",s,o,i,a,u;return i=new Vn({props:{$$slots:{default:[wge]},$$scope:{ctx:r}}}),{c(){e=E("li"),n=E("p"),t=E("b"),s=L(l),o=N(),C(i.$$.fragment),a=N()},m(f,c){v(f,e,c),R(e,n),R(n,t),R(t,s),R(e,o),k(i,e,null),R(e,a),u=!0},p(f,c){(!u||c&64)&&l!==(l=f[7].database.displayName+"")&&z(s,l);const m={};c&2112&&(m.$$scope={dirty:c,ctx:f}),i.$set(m)},i(f){u||(_(i.$$.fragment,f),u=!0)},o(f){p(i.$$.fragment,f),u=!1},d(f){f&&$(e),y(i)}}}function kge(r){let e,n=r[2]("the_errors_are_shown_below_for_each_database")+"",t,l,s,o,i,a=r[2]("bulk_upgrade_error_troubleshooting_advice")+"",u,f,c=r[6],m=[];for(let g=0;g<c.length;g+=1)m[g]=cv(fv(r,c,g));const d=g=>p(m[g],1,1,()=>{m[g]=null});return{c(){e=E("p"),t=L(n),l=N(),s=E("ul");for(let g=0;g<m.length;g+=1)m[g].c();o=N(),i=E("p"),u=L(a)},m(g,h){v(g,e,h),R(e,t),v(g,l,h),v(g,s,h);for(let b=0;b<m.length;b+=1)m[b].m(s,null);v(g,o,h),v(g,i,h),R(i,u),f=!0},p(g,h){if((!f||h&4)&&n!==(n=g[2]("the_errors_are_shown_below_for_each_database")+"")&&z(t,n),h&64){c=g[6];let b;for(b=0;b<c.length;b+=1){const w=fv(g,c,b);m[b]?(m[b].p(w,h),_(m[b],1)):(m[b]=cv(w),m[b].c(),_(m[b],1),m[b].m(s,null))}for(U(),b=c.length;b<m.length;b+=1)d(b);W()}(!f||h&4)&&a!==(a=g[2]("bulk_upgrade_error_troubleshooting_advice")+"")&&z(u,a)},i(g){if(!f){for(let h=0;h<c.length;h+=1)_(m[h]);f=!0}},o(g){m=m.filter(Boolean);for(let h=0;h<m.length;h+=1)p(m[h]);f=!1},d(g){g&&$(e),g&&$(l),g&&$(s),Hn(m,g),g&&$(o),g&&$(i)}}}function yge(r){let e,n=r[2]("some_errors_were_encountered")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","title")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&4&&n!==(n=l[2]("some_errors_were_encountered")+"")&&z(t,n)},d(l){l&&$(e)}}}function Cge(r){let e,n,t,l;return e=new Yn({props:{controller:r[0],$$slots:{title:[vge,({options:s})=>({10:s}),({options:s})=>s?1024:0],default:[$ge,({options:s})=>({10:s}),({options:s})=>s?1024:0]},$$scope:{ctx:r}}}),t=new Yn({props:{controller:r[3],$$slots:{title:[yge,({options:s})=>({6:s}),({options:s})=>s?64:0],default:[kge,({options:s})=>({6:s}),({options:s})=>s?64:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(s,o){k(e,s,o),v(s,n,o),k(t,s,o),l=!0},p(s,[o]){const i={};o&1&&(i.controller=s[0]),o&3079&&(i.$$scope={dirty:o,ctx:s}),e.$set(i);const a={};o&2116&&(a.$$scope={dirty:o,ctx:s}),t.$set(a)},i(s){l||(_(e.$$.fragment,s),_(t.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),l=!1},d(s){y(e,s),s&&$(n),y(t,s)}}}function Sge(r,e,n){let t;ne(r,ce,u=>n(2,t=u));const l=un.spawnModalController();let{controller:s}=e,{refreshDatabaseList:o}=e;const i=()=>s.close(),a=u=>{s.close(),u.length>0&&l.open(u)};return r.$$set=u=>{"controller"in u&&n(0,s=u.controller),"refreshDatabaseList"in u&&n(1,o=u.refreshDatabaseList)},[s,o,t,l,i,a]}class Tge extends Q{constructor(e){super(),Z(this,e,Sge,Cge,J,{controller:0,refreshDatabaseList:1})}}function Ige(r){let e=r[4]("upgrade_database_form_info")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&16&&e!==(e=t[4]("upgrade_database_form_info")+"")&&z(n,e)},d(t){t&&$(n)}}}function Ege(r){let e=r[4]("reinstall_database_form_info")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&16&&e!==(e=t[4]("reinstall_database_form_info")+"")&&z(n,e)},d(t){t&&$(n)}}}function Mge(r){let e;function n(s,o){return s[1]?Ege:Ige}let t=n(r),l=t(r);return{c(){l.c(),e=ae()},m(s,o){l.m(s,o),v(s,e,o)},p(s,o){t===(t=n(s))&&l?l.p(s,o):(l.d(1),l=t(s),l&&(l.c(),l.m(e.parentNode,e)))},d(s){l.d(s),s&&$(e)}}}function Rge(r){let e,n,t;function l(o){r[11](o)}let s={};return r[2]!==void 0&&(s.checked=r[2]),e=new lr({props:s}),we.push(()=>Me(e,"checked",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};!n&&i&4&&(n=!0,a.checked=o[2],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function Dge(r){let e=r[4]("upgrade_specify_a_role_help")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&16&&e!==(e=t[4]("upgrade_specify_a_role_help")+"")&&z(n,e)},d(t){t&&$(n)}}}function Age(r){let e,n=r[4]("specify_a_role")+"",t,l,s,o;return s=new zt({props:{$$slots:{default:[Dge]},$$scope:{ctx:r}}}),{c(){e=E("div"),t=L(n),l=N(),C(s.$$.fragment),I(e,"slot","label")},m(i,a){v(i,e,a),R(e,t),R(e,l),k(s,e,null),o=!0},p(i,a){(!o||a&16)&&n!==(n=i[4]("specify_a_role")+"")&&z(t,n);const u={};a&32784&&(u.$$scope={dirty:a,ctx:i}),s.$set(u)},i(i){o||(_(s.$$.fragment,i),o=!0)},o(i){p(s.$$.fragment,i),o=!1},d(i){i&&$(e),y(s)}}}function Oge(r){let e,n;return e=new Nt({props:{layout:"inline-input-first",$$slots:{label:[Age],default:[Rge]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&32788&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function mv(r){let e,n,t,l;return e=new It({props:{label:r[4]("role_name"),layout:"stacked",field:r[6]}}),t=new It({props:{label:r[4]("role_password"),layout:"stacked",field:r[7],input:{component:ul,props:{autocomplete:"off"}}}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(s,o){k(e,s,o),v(s,n,o),k(t,s,o),l=!0},p(s,o){const i={};o&16&&(i.label=s[4]("role_name")),e.$set(i);const a={};o&16&&(a.label=s[4]("role_password")),t.$set(a)},i(s){l||(_(e.$$.fragment,s),_(t.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),l=!1},d(s){y(e,s),s&&$(n),y(t,s)}}}function Fge(r){let e,n,t,l,s,o,i,a,u,f,c;n=new Ht({props:{$$slots:{default:[Mge]},$$scope:{ctx:r}}}),l=new Ht({props:{$$slots:{default:[Oge]},$$scope:{ctx:r}}});let m=r[2]&&mv(r);return a=new yn({props:{form:r[3],catchErrors:!0,onCancel:r[12],onProceed:r[8],proceedButton:{label:r[1]?r[4]("reinstall"):r[4]("upgrade_database")},cancelButton:{label:r[4]("cancel")}}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),C(l.$$.fragment),s=N(),m&&m.c(),o=N(),i=E("div"),C(a.$$.fragment)},m(d,g){v(d,e,g),k(n,e,null),R(e,t),k(l,e,null),R(e,s),m&&m.m(e,null),v(d,o,g),v(d,i,g),k(a,i,null),u=!0,f||(c=Dt(dr.call(null,i)),f=!0)},p(d,[g]){const h={};g&32786&&(h.$$scope={dirty:g,ctx:d}),n.$set(h);const b={};g&32788&&(b.$$scope={dirty:g,ctx:d}),l.$set(b),d[2]?m?(m.p(d,g),g&4&&_(m,1)):(m=mv(d),m.c(),_(m,1),m.m(e,null)):m&&(U(),p(m,1,1,()=>{m=null}),W());const w={};g&8&&(w.form=d[3]),g&9&&(w.onCancel=d[12]),g&18&&(w.proceedButton={label:d[1]?d[4]("reinstall"):d[4]("upgrade_database")}),g&16&&(w.cancelButton={label:d[4]("cancel")}),a.$set(w)},i(d){u||(_(n.$$.fragment,d),_(l.$$.fragment,d),_(m),_(a.$$.fragment,d),u=!0)},o(d){p(n.$$.fragment,d),p(l.$$.fragment,d),p(m),p(a.$$.fragment,d),u=!1},d(d){d&&$(e),y(n),y(l),m&&m.d(),d&&$(o),d&&$(i),y(a),f=!1,c()}}}function Nge(r,e,n){let t,l,s,o,i;ne(r,ce,S=>n(4,i=S));let{database:a}=e,{refreshDatabaseList:u}=e,{close:f}=e,{isReinstall:c=!1}=e;const m=gt(!1);ne(r,m,S=>n(2,o=S));const d=gt("");ne(r,d,S=>n(14,s=S));const g=gt("");ne(r,g,S=>n(13,l=S));async function h(){await Ke.databases.upgrade_sql({database_id:a.id,...o?{username:s,password:l}:{}}).run(),await u(),f()}function b(S){o=S,m.set(o)}const w=()=>{t.reset(),f()};return r.$$set=S=>{"database"in S&&n(9,a=S.database),"refreshDatabaseList"in S&&n(10,u=S.refreshDatabaseList),"close"in S&&n(0,f=S.close),"isReinstall"in S&&n(1,c=S.isReinstall)},r.$$.update=()=>{r.$$.dirty&4&&n(3,t=Wt(o?{roleName:d,rolePassword:g}:{}))},[f,c,o,t,i,m,d,g,h,a,u,b,w]}class Pge extends Q{constructor(e){super(),Z(this,e,Nge,Fge,J,{database:9,refreshDatabaseList:10,close:0,isReinstall:1})}}function Lge(r){let e,n;return e=new Pge({props:{database:r[5],refreshDatabaseList:r[1],close:r[4],isReinstall:r[2]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&32&&(s.database=t[5]),l&2&&(s.refreshDatabaseList=t[1]),l&1&&(s.close=t[4]),l&4&&(s.isReinstall=t[2]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Hge(r){let e,n;return e=new ot({props:{text:r[3]("upgrade_database_with_name"),$$slots:{default:[Bge,({slotName:t})=>({6:t}),({slotName:t})=>t?64:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8&&(s.text=t[3]("upgrade_database_with_name")),l&224&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Vge(r){let e,n;return e=new ot({props:{text:r[3]("reinstall_mathesar_schemas_on_db"),$$slots:{default:[Uge,({slotName:t})=>({6:t}),({slotName:t})=>t?64:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8&&(s.text=t[3]("reinstall_mathesar_schemas_on_db")),l&224&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function dv(r){let e,n;return e=new kn({props:{$$slots:{default:[zge]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&160&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function zge(r){let e=r[5].displayName+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&32&&e!==(e=t[5].displayName+"")&&z(n,e)},d(t){t&&$(n)}}}function Bge(r){let e,n,t=r[6]==="name"&&dv(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[6]==="name"?t?(t.p(l,s),s&64&&_(t,1)):(t=dv(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function _v(r){let e,n;return e=new kn({props:{$$slots:{default:[qge]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&160&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function qge(r){let e=r[5].displayName+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&32&&e!==(e=t[5].displayName+"")&&z(n,e)},d(t){t&&$(n)}}}function Uge(r){let e,n,t=r[6]==="name"&&_v(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[6]==="name"?t?(t.p(l,s),s&64&&_(t,1)):(t=_v(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function Wge(r){let e,n,t,l;const s=[Vge,Hge],o=[];function i(a,u){return a[2]?0:1}return n=i(r),t=o[n]=s[n](r),{c(){e=E("span"),t.c(),I(e,"slot","title")},m(a,u){v(a,e,u),o[n].m(e,null),l=!0},p(a,u){let f=n;n=i(a),n===f?o[n].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),t=o[n],t?t.p(a,u):(t=o[n]=s[n](a),t.c()),_(t,1),t.m(e,null))},i(a){l||(_(t),l=!0)},o(a){p(t),l=!1},d(a){a&&$(e),o[n].d()}}}function jge(r){let e,n;return e=new Yn({props:{controller:r[0],$$slots:{title:[Wge,({options:t})=>({5:t}),({options:t})=>t?32:0],default:[Lge,({options:t})=>({5:t}),({options:t})=>t?32:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.controller=t[0]),l&175&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Yge(r,e,n){let t;ne(r,ce,a=>n(3,t=a));let{controller:l}=e,{refreshDatabaseList:s=async()=>{}}=e,{isReinstall:o=!1}=e;const i=()=>l.close();return r.$$set=a=>{"controller"in a&&n(0,l=a.controller),"refreshDatabaseList"in a&&n(1,s=a.refreshDatabaseList),"isReinstall"in a&&n(2,o=a.isReinstall)},[l,s,o,t,i]}class vM extends Q{constructor(e){super(),Z(this,e,Yge,jge,J,{controller:0,refreshDatabaseList:1,isReinstall:2})}}function pv(r){let e,n,t=r[0].name+"",l,s;return{c(){e=E("span"),n=L("("),l=L(t),s=L(")"),I(e,"class","db-name svelte-f5mg01")},m(o,i){v(o,e,i),R(e,n),R(e,l),R(e,s)},p(o,i){i&1&&t!==(t=o[0].name+"")&&z(l,t)},d(o){o&&$(e)}}}function gv(r){let e,n,t;const l=[fl,{size:"1rem"}];let s={};for(let o=0;o<l.length;o+=1)s=se(s,l[o]);return n=new Ne({props:s}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","caret-container svelte-f5mg01")},m(o,i){v(o,e,i),k(n,e,null),t=!0},p(o,i){const a=i&0?de(l,[_e(fl),l[1]]):{};n.$set(a)},i(o){t||(_(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&$(e),y(n)}}}function Gge(r){let e,n,t,l,s,o,i=r[0].displayName+"",a,u,f,c,m,d,g,h;const b=[Js,{size:"1.25rem"},{class:"database-icon"}];let w={};for(let M=0;M<b.length;M+=1)w=se(w,b[M]);t=new Ne({props:w});let S=r[3]&&pv(r),T=!r[1]&&gv();return{c(){e=E("div"),n=E("div"),C(t.$$.fragment),l=N(),s=E("div"),o=E("div"),a=L(i),u=N(),S&&S.c(),f=N(),c=E("div"),m=E("span"),d=L(r[2]),g=N(),T&&T.c(),I(n,"class","icon-container svelte-f5mg01"),I(o,"class","display-name svelte-f5mg01"),I(c,"class","detail svelte-f5mg01"),I(s,"class","content svelte-f5mg01"),I(e,"class","db-card-content svelte-f5mg01"),ie(e,"upgrade-required",r[1])},m(M,A){v(M,e,A),R(e,n),k(t,n,null),R(e,l),R(e,s),R(s,o),R(o,a),R(o,u),S&&S.m(o,null),R(s,f),R(s,c),R(c,m),R(m,d),R(e,g),T&&T.m(e,null),h=!0},p(M,[A]){const D=A&0?de(b,[_e(Js),b[1],b[2]]):{};t.$set(D),(!h||A&1)&&i!==(i=M[0].displayName+"")&&z(a,i),M[3]?S?S.p(M,A):(S=pv(M),S.c(),S.m(o,null)):S&&(S.d(1),S=null),(!h||A&4)&&z(d,M[2]),M[1]?T&&(U(),p(T,1,1,()=>{T=null}),W()):T?(T.p(M,A),A&2&&_(T,1)):(T=gv(),T.c(),_(T,1),T.m(e,null)),(!h||A&2)&&ie(e,"upgrade-required",M[1])},i(M){h||(_(t.$$.fragment,M),_(T),h=!0)},o(M){p(t.$$.fragment,M),p(T),h=!1},d(M){M&&$(e),y(t),S&&S.d(),T&&T.d()}}}function Kge(r,e,n){let t,l,{database:s}=e,{upgradeRequired:o=!1}=e;return r.$$set=i=>{"database"in i&&n(0,s=i.database),"upgradeRequired"in i&&n(1,o=i.upgradeRequired)},r.$$.update=()=>{r.$$.dirty&1&&n(3,t=s.name!==s.displayName),r.$$.dirty&1&&n(2,l=s.server.getConnectionString())},[s,o,l,t]}class wM extends Q{constructor(e){super(),Z(this,e,Kge,Gge,J,{database:0,upgradeRequired:1})}}function Xge(r){let e=r[2]("upgrade")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&4&&e!==(e=t[2]("upgrade")+"")&&z(n,e)},d(t){t&&$(n)}}}function Jge(r){let e,n,t,l,s,o,i,a,u=r[2]("upgrade_required")+"",f,c,m,d;t=new wM({props:{database:r[0],upgradeRequired:!0}});const g=[S0];let h={};for(let b=0;b<g.length;b+=1)h=se(h,g[b]);return i=new Ne({props:h}),m=new st({props:{$$slots:{default:[Xge]},$$scope:{ctx:r}}}),m.$on("click",r[3]),{c(){e=E("div"),n=E("div"),C(t.$$.fragment),l=N(),s=E("div"),o=E("div"),C(i.$$.fragment),a=N(),f=L(u),c=N(),C(m.$$.fragment),I(n,"class","content svelte-12ks95w"),I(o,"class","indicator svelte-12ks95w"),I(s,"class","action svelte-12ks95w"),I(e,"class","db-card-needs-update svelte-12ks95w")},m(b,w){v(b,e,w),R(e,n),k(t,n,null),R(e,l),R(e,s),R(s,o),k(i,o,null),R(o,a),R(o,f),R(s,c),k(m,s,null),d=!0},p(b,[w]){const S={};w&1&&(S.database=b[0]),t.$set(S);const T=w&0?de(g,[_e(S0)]):{};i.$set(T),(!d||w&4)&&u!==(u=b[2]("upgrade_required")+"")&&z(f,u);const M={};w&20&&(M.$$scope={dirty:w,ctx:b}),m.$set(M)},i(b){d||(_(t.$$.fragment,b),_(i.$$.fragment,b),_(m.$$.fragment,b),d=!0)},o(b){p(t.$$.fragment,b),p(i.$$.fragment,b),p(m.$$.fragment,b),d=!1},d(b){b&&$(e),y(t),y(i),y(m)}}}function Zge(r,e,n){let t;ne(r,ce,i=>n(2,t=i));let{database:l}=e,{onTriggerUpgrade:s}=e;const o=()=>s(l);return r.$$set=i=>{"database"in i&&n(0,l=i.database),"onTriggerUpgrade"in i&&n(1,s=i.onTriggerUpgrade)},[l,s,t,o]}class Qge extends Q{constructor(e){super(),Z(this,e,Zge,Jge,J,{database:0,onTriggerUpgrade:1})}}function xge(r){let e,n,t;return n=new wM({props:{database:r[0]}}),{c(){e=E("a"),C(n.$$.fragment),I(e,"class","db-card-link passthrough"),I(e,"href",r[2])},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&1&&(o.database=l[0]),n.$set(o),(!t||s&4)&&I(e,"href",l[2])},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function ehe(r){let e,n;return e=new Qge({props:{database:r[0],onTriggerUpgrade:r[1]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.database=t[0]),l&2&&(s.onTriggerUpgrade=t[1]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function the(r){let e,n,t,l;const s=[ehe,xge],o=[];function i(a,u){return a[0].needsUpgradeAttention?0:1}return n=i(r),t=o[n]=s[n](r),{c(){e=E("div"),t.c(),I(e,"class","db-card svelte-1e9dvpq"),ie(e,"hoverable",!r[3])},m(a,u){v(a,e,u),o[n].m(e,null),l=!0},p(a,[u]){let f=n;n=i(a),n===f?o[n].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),t=o[n],t?t.p(a,u):(t=o[n]=s[n](a),t.c()),_(t,1),t.m(e,null)),(!l||u&8)&&ie(e,"hoverable",!a[3])},i(a){l||(_(t),l=!0)},o(a){p(t),l=!1},d(a){a&&$(e),o[n].d()}}}function nhe(r,e,n){let t,l,{database:s}=e,{onTriggerUpgrade:o}=e;return r.$$set=i=>{"database"in i&&n(0,s=i.database),"onTriggerUpgrade"in i&&n(1,o=i.onTriggerUpgrade)},r.$$.update=()=>{r.$$.dirty&1&&n(3,t=s.needsUpgradeAttention),r.$$.dirty&1&&n(2,l=ai(s.id))},[s,o,l,t]}class rhe extends Q{constructor(e){super(),Z(this,e,nhe,the,J,{database:0,onTriggerUpgrade:1})}}function hv(r,e,n){const t=r.slice();return t[24]=e[n],t}function bv(r){let e,n;return e=new dl({props:{page:"databases",$$slots:{default:[lhe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&805306368&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function lhe(r){let e=r[28]+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&268435456&&e!==(e=t[28]+"")&&z(n,e)},d(t){t&&$(n)}}}function she(r){let e,n,t=r[27]==="docsLink"&&bv(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[27]==="docsLink"?t?(t.p(l,s),s&134217728&&_(t,1)):(t=bv(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function ohe(r){let e,n;return e=new ot({props:{text:r[8]("databases_list_help"),$$slots:{default:[she,({slotName:t,translatedArg:l})=>({27:t,28:l}),({slotName:t,translatedArg:l})=>(t?134217728:0)|(l?268435456:0)]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&256&&(s.text=t[8]("databases_list_help")),l&939524096&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function ihe(r){let e,n;return e=new _ge({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function ahe(r){let e,n,t;function l(o){r[20](o)}let s={searchPlaceholder:r[8]("search_databases"),$$slots:{content:[whe],resultInfo:[mhe],action:[fhe]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.searchQuery=r[0]),e=new zp({props:s}),we.push(()=>Me(e,"searchQuery",l)),e.$on("clear",r[13]),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};i&256&&(a.searchPlaceholder=o[8]("search_databases")),i&536871357&&(a.$$scope={dirty:i,ctx:o}),!n&&i&1&&(n=!0,a.searchQuery=o[0],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function $v(r){let e,n;return e=new st({props:{appearance:"primary",$$slots:{default:[uhe]},$$scope:{ctx:r}}}),e.$on("click",r[19]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&536871168&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function uhe(r){let e,n,t,l=r[8]("connect_database")+"",s,o;const i=[ha];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return e=new Ne({props:a}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l)},m(u,f){k(e,u,f),v(u,n,f),v(u,t,f),R(t,s),o=!0},p(u,f){const c=f&0?de(i,[_e(ha)]):{};e.$set(c),(!o||f&256)&&l!==(l=u[8]("connect_database")+"")&&z(s,l)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){p(e.$$.fragment,u),o=!1},d(u){y(e,u),u&&$(n),u&&$(t)}}}function fhe(r){let e,n,t=r[7]&&$v(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[7]?t?(t.p(l,s),s&128&&_(t,1)):(t=$v(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function vv(r){let e,n;return{c(){e=E("strong"),n=L(r[0])},m(t,l){v(t,e,l),R(e,n)},p(t,l){l&1&&z(n,t[0])},d(t){t&&$(e)}}}function che(r){let e,n=r[27]==="searchValue"&&vv(r);return{c(){n&&n.c(),e=ae()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,l){t[27]==="searchValue"?n?n.p(t,l):(n=vv(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&$(e)}}}function mhe(r){let e,n,t;return n=new ot({props:{text:r[8]("databases_matching_search",{values:{count:r[5].length}}),$$slots:{default:[che,({slotName:l})=>({27:l}),({slotName:l})=>l?134217728:0]},$$scope:{ctx:r}}}),{c(){e=E("span"),C(n.$$.fragment),I(e,"slot","resultInfo")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&288&&(o.text=l[8]("databases_matching_search",{values:{count:l[5].length}})),s&671088641&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function wv(r){let e,n;return e=new ur({props:{$$slots:{default:[vhe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&536871188&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function dhe(r){let e=Rt(r[4])+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&16&&e!==(e=Rt(t[4])+"")&&z(n,e)},d(t){t&&$(n)}}}function _he(r){let e=r[8]("upgrade_some_databases_notice")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&256&&e!==(e=t[8]("upgrade_some_databases_notice")+"")&&z(n,e)},d(t){t&&$(n)}}}function phe(r){let e=r[8]("upgrade_all_databases_notice")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&256&&e!==(e=t[8]("upgrade_all_databases_notice")+"")&&z(n,e)},d(t){t&&$(n)}}}function ghe(r){let e=Rt(r[4])+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&16&&e!==(e=Rt(t[4])+"")&&z(n,e)},d(t){t&&$(n)}}}function hhe(r){let e=r[8]("upgrade_remaining_databases")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&256&&e!==(e=t[8]("upgrade_remaining_databases")+"")&&z(n,e)},d(t){t&&$(n)}}}function bhe(r){let e=r[8]("upgrade_all_databases")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&256&&e!==(e=t[8]("upgrade_all_databases")+"")&&z(n,e)},d(t){t&&$(n)}}}function $he(r){let e;function n(s,o){return s[4]==="all"?bhe:s[4]==="some"?hhe:ghe}let t=n(r),l=t(r);return{c(){l.c(),e=ae()},m(s,o){l.m(s,o),v(s,e,o)},p(s,o){t===(t=n(s))&&l?l.p(s,o):(l.d(1),l=t(s),l&&(l.c(),l.m(e.parentNode,e)))},d(s){l.d(s),s&&$(e)}}}function vhe(r){let e,n,t,l=r[8]("service_upgraded_notice")+"",s,o,i,a,u,f,c;function m(h,b){return h[4]==="all"?phe:h[4]==="some"?_he:dhe}let d=m(r),g=d(r);return f=new st({props:{$$slots:{default:[$he]},$$scope:{ctx:r}}}),f.$on("click",r[17]),{c(){e=E("div"),n=E("div"),t=E("p"),s=L(l),o=N(),i=E("p"),g.c(),a=N(),u=E("div"),C(f.$$.fragment),I(n,"class","text trim-child-margins svelte-o1t1aa"),I(u,"class","button svelte-o1t1aa"),I(e,"class","bulk-upgrade-message svelte-o1t1aa")},m(h,b){v(h,e,b),R(e,n),R(n,t),R(t,s),R(n,o),R(n,i),g.m(i,null),R(e,a),R(e,u),k(f,u,null),c=!0},p(h,b){(!c||b&256)&&l!==(l=h[8]("service_upgraded_notice")+"")&&z(s,l),d===(d=m(h))&&g?g.p(h,b):(g.d(1),g=d(h),g&&(g.c(),g.m(i,null)));const w={};b&536871184&&(w.$$scope={dirty:b,ctx:h}),f.$set(w)},i(h){c||(_(f.$$.fragment,h),c=!0)},o(h){p(f.$$.fragment,h),c=!1},d(h){h&&$(e),g.d(),y(f)}}}function kv(r){let e,n=[],t=new Map,l,s,o,i,a=r[5];const u=f=>f[24].id;for(let f=0;f<a.length;f+=1){let c=hv(r,a,f),m=u(c);t.set(m,n[f]=yv(m,c))}return{c(){e=E("div");for(let f=0;f<n.length;f+=1)n[f].c();I(e,"class","databases-list-grid svelte-o1t1aa")},m(f,c){v(f,e,c);for(let m=0;m<n.length;m+=1)n[m].m(e,null);s=!0,o||(i=Dt(l=Ii.call(null,e,{scrollHint:r[8]("database_new_items_scroll_hint"),enabled:r[3]})),o=!0)},p(f,c){c&1056&&(a=f[5],U(),n=ht(n,c,u,1,f,a,t,e,kt,yv,null,hv),W()),l&&St(l.update)&&c&264&&l.update.call(null,{scrollHint:f[8]("database_new_items_scroll_hint"),enabled:f[3]})},i(f){if(!s){for(let c=0;c<a.length;c+=1)_(n[c]);s=!0}},o(f){for(let c=0;c<n.length;c+=1)p(n[c]);s=!1},d(f){f&&$(e);for(let c=0;c<n.length;c+=1)n[c].d();o=!1,i()}}}function yv(r,e){let n,t,l;return t=new rhe({props:{database:e[24],onTriggerUpgrade:e[18]}}),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(s,o){v(s,n,o),k(t,s,o),l=!0},p(s,o){e=s;const i={};o&32&&(i.database=e[24]),t.$set(i)},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){s&&$(n),y(t,s)}}}function whe(r){let e,n,t,l,s=r[4]!=="none"&&wv(r),o=r[5].length&&kv(r);return{c(){e=E("div"),n=E("div"),s&&s.c(),t=N(),o&&o.c(),I(n,"class","message-area svelte-o1t1aa"),I(e,"class","content"),I(e,"slot","content")},m(i,a){v(i,e,a),R(e,n),s&&s.m(n,null),R(e,t),o&&o.m(e,null),l=!0},p(i,a){i[4]!=="none"?s?(s.p(i,a),a&16&&_(s,1)):(s=wv(i),s.c(),_(s,1),s.m(n,null)):s&&(U(),p(s,1,1,()=>{s=null}),W()),i[5].length?o?(o.p(i,a),a&32&&_(o,1)):(o=kv(i),o.c(),_(o,1),o.m(e,null)):o&&(U(),p(o,1,1,()=>{o=null}),W())},i(i){l||(_(s),_(o),l=!0)},o(i){p(s),p(o),l=!1},d(i){i&&$(e),s&&s.d(),o&&o.d()}}}function khe(r){let e,n,t=r[8]("databases")+"",l,s,o,i,a,u,f,c,m,d,g,h,b,w;o=new zt({props:{$$slots:{default:[ohe]},$$scope:{ctx:r}}});const S=[ahe,ihe],T=[];function M(A,D){return A[1]?0:1}return u=M(r),f=T[u]=S[u](r),m=new Mp({props:{controller:r[9]}}),g=new Tge({props:{controller:r[11],refreshDatabaseList:r[21]}}),b=new vM({props:{controller:r[10],refreshDatabaseList:r[22]}}),{c(){e=E("div"),n=E("h2"),l=L(t),s=N(),C(o.$$.fragment),i=N(),a=E("section"),f.c(),c=N(),C(m.$$.fragment),d=N(),C(g.$$.fragment),h=N(),C(b.$$.fragment),I(n,"class","page-header svelte-o1t1aa"),I(a,"class","databases-container svelte-o1t1aa"),I(e,"class","databases-list svelte-o1t1aa")},m(A,D){v(A,e,D),R(e,n),R(n,l),R(n,s),k(o,n,null),R(e,i),R(e,a),T[u].m(a,null),v(A,c,D),k(m,A,D),v(A,d,D),k(g,A,D),v(A,h,D),k(b,A,D),w=!0},p(A,[D]){(!w||D&256)&&t!==(t=A[8]("databases")+"")&&z(l,t);const O={};D&536871168&&(O.$$scope={dirty:D,ctx:A}),o.$set(O);let F=u;u=M(A),u===F?T[u].p(A,D):(U(),p(T[F],1,1,()=>{T[F]=null}),W(),f=T[u],f?f.p(A,D):(f=T[u]=S[u](A),f.c()),_(f,1),f.m(a,null))},i(A){w||(_(o.$$.fragment,A),_(f),_(m.$$.fragment,A),_(g.$$.fragment,A),_(b.$$.fragment,A),w=!0)},o(A){p(o.$$.fragment,A),p(f),p(m.$$.fragment,A),p(g.$$.fragment,A),p(b.$$.fragment,A),w=!1},d(A){A&&$(e),y(o),T[u].d(),A&&$(c),y(m,A),A&&$(d),y(g,A),A&&$(h),y(b,A)}}}function yhe(r,e,n){let t,l,s,o,i,a,u,f,c=H,m=()=>(c(),c=le(l,q=>n(15,f=q)),l),d,g;ne(r,ce,q=>n(8,g=q)),r.$$.on_destroy.push(()=>c());const h=un.spawnModalController(),b=un.spawnModalController(),w=un.spawnModalController(),S=Lr();ne(r,S,q=>n(16,d=q));let T="",M=!0;async function A(){n(3,M=!1),await sn(),n(3,M=!0)}function D(){n(0,T="")}const O=()=>w.open(o),F=q=>b.open(q),P=()=>h.open();function B(q){T=q,n(0,T)}const j=()=>jn.refresh(),V=()=>jn.refresh();return r.$$.update=()=>{r.$$.dirty&65536&&n(7,{isMathesarAdmin:t}=d,t),r.$$.dirty&32769&&n(5,s=[...Yd(f.values(),T,q=>q.allNames)]),r.$$.dirty&32768&&n(2,o=[...sl(q=>q.needsUpgradeAttention,f.values())]),r.$$.dirty&32768&&n(1,i=f.size),r.$$.dirty&4&&n(14,a=o.length),r.$$.dirty&16386&&n(4,u=(()=>a===0?"none":a===i?"all":"some")()),r.$$.dirty&1&&A()},m(n(6,{databases:l}=jn,l)),[T,i,o,M,u,s,l,t,g,h,b,w,S,D,a,f,d,O,F,P,B,j,V]}class Che extends Q{constructor(e){super(),Z(this,e,yhe,khe,J,{})}}function She(r){let e,n,t,l,s,o,i=r[0]("resources")+"",a,u,f,c,m,d,g,h,b,w,S;return t=new Che({}),c=new y1e({}),d=new E1e({}),h=new L1e({}),w=new gM({}),{c(){e=E("div"),n=E("div"),C(t.$$.fragment),l=N(),s=E("div"),o=E("h2"),a=L(i),u=N(),f=E("div"),C(c.$$.fragment),m=N(),C(d.$$.fragment),g=N(),C(h.$$.fragment),b=N(),C(w.$$.fragment),I(n,"class","databases-section svelte-1sesesw"),I(f,"class","cards svelte-1sesesw"),I(s,"class","resources-sidebar svelte-1sesesw"),I(e,"class","content svelte-1sesesw")},m(T,M){v(T,e,M),R(e,n),k(t,n,null),R(e,l),R(e,s),R(s,o),R(o,a),R(s,u),R(s,f),k(c,f,null),R(f,m),k(d,f,null),R(f,g),k(h,f,null),R(f,b),k(w,f,null),S=!0},p(T,M){(!S||M&1)&&i!==(i=T[0]("resources")+"")&&z(a,i)},i(T){S||(_(t.$$.fragment,T),_(c.$$.fragment,T),_(d.$$.fragment,T),_(h.$$.fragment,T),_(w.$$.fragment,T),S=!0)},o(T){p(t.$$.fragment,T),p(c.$$.fragment,T),p(d.$$.fragment,T),p(h.$$.fragment,T),p(w.$$.fragment,T),S=!1},d(T){T&&$(e),y(t),y(c),y(d),y(h),y(w)}}}function The(r){let e,n,t;return n=new fu({props:{name:r[0](r[1])}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","home-page-header svelte-1sesesw"),I(e,"slot","secondary-header")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&3&&(o.name=l[0](l[1])),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function Ihe(r){let e,n,t,l;return document.title=e=Rn(r[0]("databases")),t=new xr({props:{restrictWidth:!0,cssVariables:{"--max-layout-width":"var(--max-layout-width-console-pages)"},$$slots:{"secondary-header":[The],default:[She]},$$scope:{ctx:r}}}),{c(){n=N(),C(t.$$.fragment)},m(s,o){v(s,n,o),k(t,s,o),l=!0},p(s,[o]){(!l||o&1)&&e!==(e=Rn(s[0]("databases")))&&(document.title=e);const i={};o&19&&(i.$$scope={dirty:o,ctx:s}),t.$set(i)},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){s&&$(n),y(t,s)}}}function Ehe(r,e,n){let t,l,s;ne(r,ce,i=>n(0,s=i));const o=Lr();return ne(r,o,i=>n(3,l=i)),r.$$.update=()=>{r.$$.dirty&9&&n(1,t=s("welcome_to_mathesar_user",{values:{user:l==null?void 0:l.getDisplayName()}}))},[s,t,o,l]}class Mhe extends Q{constructor(e){super(),Z(this,e,Ehe,Ihe,J,{})}}function Rhe(r,e,n){let t,{item:l}=e;const s=NT();ne(r,s,f=>n(3,t=f));let o;function i(){Pn(s,t=t.filter(f=>f!==l),t)}function a(){Pn(s,t=t.filter(f=>f!==o),t)}function u(f){a(),Pn(s,t=[...t,f],t),o=l}return us(i),r.$$set=f=>{"item"in f&&n(1,l=f.item)},r.$$.update=()=>{r.$$.dirty&2&&u(l)},[s,l]}class pr extends Q{constructor(e){super(),Z(this,e,Rhe,null,J,{item:1})}}const Dhe=r=>({}),Cv=r=>({});function Ahe(r){let e,n,t,l,s;const o=r[3].sidebar,i=ke(o,r,r[2],Cv),a=r[3].default,u=ke(a,r,r[2],null);return{c(){e=E("div"),n=E("aside"),i&&i.c(),t=N(),l=E("main"),u&&u.c(),I(n,"class","svelte-1fppupu"),I(l,"class","svelte-1fppupu"),I(e,"class","page-sidebar-layout svelte-1fppupu"),I(e,"style",r[0])},m(f,c){v(f,e,c),R(e,n),i&&i.m(n,null),R(e,t),R(e,l),u&&u.m(l,null),s=!0},p(f,[c]){i&&i.p&&(!s||c&4)&&Ce(i,o,f,f[2],s?ye(o,f[2],c,Dhe):Se(f[2]),Cv),u&&u.p&&(!s||c&4)&&Ce(u,a,f,f[2],s?ye(a,f[2],c,null):Se(f[2]),null),(!s||c&1)&&I(e,"style",f[0])},i(f){s||(_(i,f),_(u,f),s=!0)},o(f){p(i,f),p(u,f),s=!1},d(f){f&&$(e),i&&i.d(f),u&&u.d(f)}}}function Ohe(r,e,n){let t,{$$slots:l={},$$scope:s}=e,{cssVariables:o=void 0}=e;return r.$$set=i=>{"cssVariables"in i&&n(1,o=i.cssVariables),"$$scope"in i&&n(2,s=i.$$scope)},r.$$.update=()=>{r.$$.dirty&2&&n(0,t=o?Ml(o):void 0)},[t,o,s,l]}class kM extends Q{constructor(e){super(),Z(this,e,Ohe,Ahe,J,{cssVariables:1})}}function Fhe(r){var t;let e,n;return e=new lr({props:{checked:(t=r[0].resolvedValue)==null?void 0:t.enabled}}),e.$on("change",r[6]),{c(){C(e.$$.fragment)},m(l,s){k(e,l,s),n=!0},p(l,s){var i;const o={};s&1&&(o.checked=(i=l[0].resolvedValue)==null?void 0:i.enabled),e.$set(o)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){p(e.$$.fragment,l),n=!1},d(l){y(e,l)}}}function Nhe(r){let e,n;return e=new Gt({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Phe(r){let e,n,t,l;const s=[Nhe,Fhe],o=[];function i(a,u){return a[1]?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function Lhe(r){let e,n=r[2]("enable_anonymous_usage_data_collection")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","label")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&4&&n!==(n=l[2]("enable_anonymous_usage_data_collection")+"")&&z(t,n)},d(l){l&&$(e)}}}function Sv(r){let e,n;return e=new dl({props:{page:"usageDataCollection",$$slots:{default:[Hhe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&768&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Hhe(r){let e=r[8]+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&256&&e!==(e=t[8]+"")&&z(n,e)},d(t){t&&$(n)}}}function Tv(r){let e,n=r[8]+"",t,l,s,o;const i=[Yl];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return s=new Ne({props:a}),{c(){e=E("a"),t=L(n),l=N(),C(s.$$.fragment),I(e,"href",ro("privacy")),I(e,"tinro-ignore",""),I(e,"target","_blank")},m(u,f){v(u,e,f),R(e,t),R(e,l),k(s,e,null),o=!0},p(u,f){(!o||f&256)&&n!==(n=u[8]+"")&&z(t,n);const c=f&0?de(i,[_e(Yl)]):{};s.$set(c)},i(u){o||(_(s.$$.fragment,u),o=!0)},o(u){p(s.$$.fragment,u),o=!1},d(u){u&&$(e),y(s)}}}function Vhe(r){let e,n,t,l=r[7]==="docsLink"&&Sv(r),s=r[7]==="privacyPolicyLink"&&Tv(r);return{c(){l&&l.c(),e=N(),s&&s.c(),n=ae()},m(o,i){l&&l.m(o,i),v(o,e,i),s&&s.m(o,i),v(o,n,i),t=!0},p(o,i){o[7]==="docsLink"?l?(l.p(o,i),i&128&&_(l,1)):(l=Sv(o),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(U(),p(l,1,1,()=>{l=null}),W()),o[7]==="privacyPolicyLink"?s?(s.p(o,i),i&128&&_(s,1)):(s=Tv(o),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(U(),p(s,1,1,()=>{s=null}),W())},i(o){t||(_(l),_(s),t=!0)},o(o){p(l),p(s),t=!1},d(o){l&&l.d(o),o&&$(e),s&&s.d(o),o&&$(n)}}}function zhe(r){let e,n,t;return n=new ot({props:{text:r[2]("anonymous_usage_data_collection_help"),$$slots:{default:[Vhe,({slotName:l,translatedArg:s})=>({7:l,8:s}),({slotName:l,translatedArg:s})=>(l?128:0)|(s?256:0)]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"slot","help")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&4&&(o.text=l[2]("anonymous_usage_data_collection_help")),s&896&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function Bhe(r){let e,n,t,l=r[2]("settings")+"",s,o,i,a,u=r[2]("usage_data_collection")+"",f,c,m,d,g;return document.title=e=Rn(r[2]("settings")),d=new Nt({props:{layout:"inline-input-first",$$slots:{help:[zhe],label:[Lhe],default:[Phe]},$$scope:{ctx:r}}}),{c(){n=N(),t=E("h2"),s=L(l),o=N(),i=E("div"),a=E("h3"),f=L(u),c=N(),m=E("div"),C(d.$$.fragment)},m(h,b){v(h,n,b),v(h,t,b),R(t,s),v(h,o,b),v(h,i,b),R(i,a),R(a,f),R(i,c),R(i,m),k(d,m,null),g=!0},p(h,[b]){(!g||b&4)&&e!==(e=Rn(h[2]("settings")))&&(document.title=e),(!g||b&4)&&l!==(l=h[2]("settings")+"")&&z(s,l),(!g||b&4)&&u!==(u=h[2]("usage_data_collection")+"")&&z(f,u);const w={};b&519&&(w.$$scope={dirty:b,ctx:h}),d.$set(w)},i(h){g||(_(d.$$.fragment,h),g=!0)},o(h){p(d.$$.fragment,h),g=!1},d(h){h&&$(n),h&&$(t),h&&$(o),h&&$(i),y(d)}}}function qhe(r,e,n){let t,l,s;ne(r,ce,f=>n(2,l=f));const o=new En(Ke.analytics.get_state);ne(r,o,f=>n(0,s=f));let i=!1;tn(()=>o.run());async function a(f){if(!i){n(5,i=!0);try{f?(await Ke.analytics.initialize().run(),$t.success(l("analytics_enabled_successfully"))):(await Ke.analytics.disable().run(),$t.success(l("analytics_disabled_successfully")))}catch(c){$t.error(Yt(c))}n(5,i=!1),o.run()}}const u=f=>a(f.detail);return r.$$.update=()=>{r.$$.dirty&33&&n(1,t=s.isLoading||i)},[s,t,l,o,a,i,u]}class Uhe extends Q{constructor(e){super(),Z(this,e,qhe,Bhe,J,{})}}function Whe(r){let e=Rt(r[0])+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1&&e!==(e=Rt(t[0])+"")&&z(n,e)},i:H,o:H,d(t){t&&$(n)}}}function jhe(r){let e=r[4]("latest_available_version_not_installed")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&16&&e!==(e=t[4]("latest_available_version_not_installed")+"")&&z(n,e)},i:H,o:H,d(t){t&&$(n)}}}function Yhe(r){let e,n,t=r[4]("currently_installed")+"",l,s;const o=[bf];let i={};for(let a=0;a<o.length;a+=1)i=se(i,o[a]);return e=new Ne({props:i}),{c(){C(e.$$.fragment),n=N(),l=L(t)},m(a,u){k(e,a,u),v(a,n,u),v(a,l,u),s=!0},p(a,u){const f=u&0?de(o,[_e(bf)]):{};e.$set(f),(!s||u&16)&&t!==(t=a[4]("currently_installed")+"")&&z(l,t)},i(a){s||(_(e.$$.fragment,a),s=!0)},o(a){p(e.$$.fragment,a),s=!1},d(a){y(e,a),a&&$(n),a&&$(l)}}}function Ghe(r){let e,n,t=r[4]("running_latest_version")+"",l,s;const o=[bf];let i={};for(let a=0;a<o.length;a+=1)i=se(i,o[a]);return e=new Ne({props:i}),{c(){C(e.$$.fragment),n=N(),l=L(t)},m(a,u){k(e,a,u),v(a,n,u),v(a,l,u),s=!0},p(a,u){const f=u&0?de(o,[_e(bf)]):{};e.$set(f),(!s||u&16)&&t!==(t=a[4]("running_latest_version")+"")&&z(l,t)},i(a){s||(_(e.$$.fragment,a),s=!0)},o(a){p(e.$$.fragment,a),s=!1},d(a){y(e,a),a&&$(n),a&&$(l)}}}function Khe(r){let e,n,t=r[4]("new_version_available")+"",l,s;const o=[m0];let i={};for(let a=0;a<o.length;a+=1)i=se(i,o[a]);return e=new Ne({props:i}),{c(){C(e.$$.fragment),n=N(),l=L(t)},m(a,u){k(e,a,u),v(a,n,u),v(a,l,u),s=!0},p(a,u){const f=u&0?de(o,[_e(m0)]):{};e.$set(f),(!s||u&16)&&t!==(t=a[4]("new_version_available")+"")&&z(l,t)},i(a){s||(_(e.$$.fragment,a),s=!0)},o(a){p(e.$$.fragment,a),s=!1},d(a){y(e,a),a&&$(n),a&&$(l)}}}function Xhe(r){let e=r[4]("release_notes")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&16&&e!==(e=t[4]("release_notes")+"")&&z(n,e)},d(t){t&&$(n)}}}function Jhe(r){let e=r[4]("release_notes_and_upgrade_instructions")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&16&&e!==(e=t[4]("release_notes_and_upgrade_instructions")+"")&&z(n,e)},d(t){t&&$(n)}}}function Zhe(r){let e,n,t,l,s,o,i,a,u,f,c,m,d,g,h=r[1].tagName+"",b,w,S,T,M=r[4]("released_date",{values:{date:r[3]}})+"",A,D,O,F,P,B;const j=[Khe,Ghe,Yhe,jhe,Whe],V=[];function q(X,fe){return X[0]==="available-upgrade"?0:X[0]==="currently-installed-and-latest"?1:X[0]==="current"?2:X[0]==="latest"?3:4}t=q(r),l=V[t]=j[t](r),u=new Cp({}),m=new Sp({});function G(X,fe){return X[0]==="available-upgrade"?Jhe:Xhe}let Y=G(r),K=Y(r);const ee=[Yl];let x={};for(let X=0;X<ee.length;X+=1)x=se(x,ee[X]);return P=new Ne({props:x}),{c(){e=E("div"),n=E("div"),l.c(),s=N(),o=E("div"),i=E("div"),a=E("div"),C(u.$$.fragment),f=N(),c=E("div"),C(m.$$.fragment),d=N(),g=E("div"),b=L(h),w=N(),S=E("div"),T=E("div"),A=L(M),D=N(),O=E("a"),K.c(),F=N(),C(P.$$.fragment),I(n,"class","type svelte-x7wosc"),I(a,"class","logo svelte-x7wosc"),I(c,"class","name svelte-x7wosc"),I(g,"class","version svelte-x7wosc"),I(i,"class","left svelte-x7wosc"),I(T,"class","date"),I(O,"href",r[2]),I(O,"class","notes btn btn-link"),I(O,"target","_blank"),I(S,"class","right svelte-x7wosc"),I(o,"class","details svelte-x7wosc"),I(e,"class","release svelte-x7wosc"),ie(e,"available-upgrade",r[0]==="available-upgrade"),ie(e,"currently-installed-and-latest",r[0]==="currently-installed-and-latest")},m(X,fe){v(X,e,fe),R(e,n),V[t].m(n,null),R(e,s),R(e,o),R(o,i),R(i,a),k(u,a,null),R(i,f),R(i,c),k(m,c,null),R(i,d),R(i,g),R(g,b),R(o,w),R(o,S),R(S,T),R(T,A),R(S,D),R(S,O),K.m(O,null),R(O,F),k(P,O,null),B=!0},p(X,[fe]){let he=t;t=q(X),t===he?V[t].p(X,fe):(U(),p(V[he],1,1,()=>{V[he]=null}),W(),l=V[t],l?l.p(X,fe):(l=V[t]=j[t](X),l.c()),_(l,1),l.m(n,null)),(!B||fe&2)&&h!==(h=X[1].tagName+"")&&z(b,h),(!B||fe&24)&&M!==(M=X[4]("released_date",{values:{date:X[3]}})+"")&&z(A,M),Y===(Y=G(X))&&K?K.p(X,fe):(K.d(1),K=Y(X),K&&(K.c(),K.m(O,F)));const me=fe&0?de(ee,[_e(Yl)]):{};P.$set(me),(!B||fe&4)&&I(O,"href",X[2]),(!B||fe&1)&&ie(e,"available-upgrade",X[0]==="available-upgrade"),(!B||fe&1)&&ie(e,"currently-installed-and-latest",X[0]==="currently-installed-and-latest")},i(X){B||(_(l),_(u.$$.fragment,X),_(m.$$.fragment,X),_(P.$$.fragment,X),B=!0)},o(X){p(l),p(u.$$.fragment,X),p(m.$$.fragment,X),p(P.$$.fragment,X),B=!1},d(X){X&&$(e),V[t].d(),y(u),y(m),K.d(),y(P)}}}function Qhe(r,e,n){let t,l,s,o;ne(r,ce,u=>n(4,o=u));let{type:i}=e,{release:a}=e;return r.$$set=u=>{"type"in u&&n(0,i=u.type),"release"in u&&n(1,a=u.release)},r.$$.update=()=>{r.$$.dirty&2&&n(5,t=new Date(a.date)),r.$$.dirty&32&&n(3,l=t.toLocaleDateString()),r.$$.dirty&2&&n(2,s=`https://docs.mathesar.org/releases/${a.tagName}/`)},[i,a,s,l,o,t]}class oo extends Q{constructor(e){super(),Z(this,e,Qhe,Zhe,J,{type:0,release:1})}}function xhe(r){const e=r.slice(),n=e[1];e[10]=n.value;const t=e[10];return e[11]=t.current,e[12]=t.latest,e}function ebe(r){let e,n=r[6]("loading_release_data")+"",t,l,s,o,i;return o=new Gt({}),{c(){e=E("div"),t=L(n),l=N(),s=E("div"),C(o.$$.fragment)},m(a,u){v(a,e,u),R(e,t),v(a,l,u),v(a,s,u),k(o,s,null),i=!0},p(a,u){(!i||u&64)&&n!==(n=a[6]("loading_release_data")+"")&&z(t,n)},i(a){i||(_(o.$$.fragment,a),i=!0)},o(a){p(o.$$.fragment,a),i=!1},d(a){a&&$(e),a&&$(l),a&&$(s),y(o)}}}function tbe(r){let e,n,t,l;const s=[abe,ibe,obe,sbe,lbe,rbe,nbe],o=[];function i(a,u){return a[5]?0:a[11]?a[3]==="up-to-date"?2:a[12]?a[3]==="upgradable"?4:a[3]===void 0?5:6:3:1}return n=i(r),t=o[n]=s[n](r),{c(){e=E("div"),t.c(),I(e,"class","releases svelte-c8y0dx")},m(a,u){v(a,e,u),o[n].m(e,null),l=!0},p(a,u){let f=n;n=i(a),n===f?o[n].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),t=o[n],t?t.p(a,u):(t=o[n]=s[n](a),t.c()),_(t,1),t.m(e,null))},i(a){l||(_(t),l=!0)},o(a){p(t),l=!1},d(a){a&&$(e),o[n].d()}}}function nbe(r){let e=Rt(r[3])+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&8&&e!==(e=Rt(t[3])+"")&&z(n,e)},i:H,o:H,d(t){t&&$(n)}}}function rbe(r){let e,n,t,l;return e=new oo({props:{release:r[11],type:"current"}}),t=new oo({props:{release:r[12],type:"latest"}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(s,o){k(e,s,o),v(s,n,o),k(t,s,o),l=!0},p(s,o){const i={};o&2&&(i.release=s[11]),e.$set(i);const a={};o&2&&(a.release=s[12]),t.$set(a)},i(s){l||(_(e.$$.fragment,s),_(t.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),l=!1},d(s){y(e,s),s&&$(n),y(t,s)}}}function lbe(r){let e,n,t,l;return e=new oo({props:{release:r[12],type:"available-upgrade"}}),t=new oo({props:{release:r[11],type:"current"}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(s,o){k(e,s,o),v(s,n,o),k(t,s,o),l=!0},p(s,o){const i={};o&2&&(i.release=s[12]),e.$set(i);const a={};o&2&&(a.release=s[11]),t.$set(a)},i(s){l||(_(e.$$.fragment,s),_(t.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),l=!1},d(s){y(e,s),s&&$(n),y(t,s)}}}function sbe(r){let e,n,t,l;return e=new oo({props:{release:r[11],type:"current"}}),t=new Vn({props:{$$slots:{default:[ube]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(s,o){k(e,s,o),v(s,n,o),k(t,s,o),l=!0},p(s,o){const i={};o&2&&(i.release=s[11]),e.$set(i);const a={};o&16448&&(a.$$scope={dirty:o,ctx:s}),t.$set(a)},i(s){l||(_(e.$$.fragment,s),_(t.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),l=!1},d(s){y(e,s),s&&$(n),y(t,s)}}}function obe(r){let e,n;return e=new oo({props:{release:r[11],type:"currently-installed-and-latest"}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.release=t[11]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function ibe(r){let e,n,t,l;e=new Vn({props:{$$slots:{default:[cbe]},$$scope:{ctx:r}}});let s=r[12]&&Ev(r);return{c(){C(e.$$.fragment),n=N(),s&&s.c(),t=ae()},m(o,i){k(e,o,i),v(o,n,i),s&&s.m(o,i),v(o,t,i),l=!0},p(o,i){const a={};i&16450&&(a.$$scope={dirty:i,ctx:o}),e.$set(a),o[12]?s?(s.p(o,i),i&2&&_(s,1)):(s=Ev(o),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(U(),p(s,1,1,()=>{s=null}),W())},i(o){l||(_(e.$$.fragment,o),_(s),l=!0)},o(o){p(e.$$.fragment,o),p(s),l=!1},d(o){y(e,o),o&&$(n),s&&s.d(o),o&&$(t)}}}function abe(r){let e,n=r[6]("loading_release_data")+"",t,l,s,o,i;return o=new Gt({}),{c(){e=E("div"),t=L(n),l=N(),s=E("div"),C(o.$$.fragment)},m(a,u){v(a,e,u),R(e,t),v(a,l,u),v(a,s,u),k(o,s,null),i=!0},p(a,u){(!i||u&64)&&n!==(n=a[6]("loading_release_data")+"")&&z(t,n)},i(a){i||(_(o.$$.fragment,a),i=!0)},o(a){p(o.$$.fragment,a),i=!1},d(a){a&&$(e),a&&$(l),a&&$(s),y(o)}}}function ube(r){let e=r[6]("unable_to_load_data_latest_release")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&64&&e!==(e=t[6]("unable_to_load_data_latest_release")+"")&&z(n,e)},d(t){t&&$(n)}}}function Iv(r){let e,n=r[1].inputHash+"",t;return{c(){e=E("strong"),t=L(n)},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&2&&n!==(n=l[1].inputHash+"")&&z(t,n)},d(l){l&&$(e)}}}function fbe(r){let e,n=r[13]==="version"&&Iv(r);return{c(){n&&n.c(),e=ae()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,l){t[13]==="version"?n?n.p(t,l):(n=Iv(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&$(e)}}}function cbe(r){let e,n;return e=new ot({props:{text:r[6]("unable_to_load_release_data"),$$slots:{default:[fbe,({slotName:t})=>({13:t}),({slotName:t})=>t?8192:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&64&&(s.text=t[6]("unable_to_load_release_data")),l&24578&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Ev(r){let e,n;return e=new oo({props:{release:r[12],type:"latest"}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.release=t[12]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Mv(r){let e=r[6]("last_checked")+"",n,t,l;return{c(){n=L(e),t=L(": "),l=L(r[2])},m(s,o){v(s,n,o),v(s,t,o),v(s,l,o)},p(s,o){o&64&&e!==(e=s[6]("last_checked")+"")&&z(n,e),o&4&&z(l,s[2])},d(s){s&&$(n),s&&$(t),s&&$(l)}}}function mbe(r){let e,n,t,l,s,o,i,a,u,f,c;const m=[tbe,ebe],d=[];function g(w,S){return w[1]?0:1}function h(w,S){return S===0?xhe(w):w}e=g(r),n=d[e]=m[e](h(r,e)),o=new Ar({props:{label:r[6]("check_for_updates"),appearance:"link",icon:li,onClick:r[7]}});let b=r[2]&&Mv(r);return f=new gM({}),{c(){n.c(),t=N(),l=E("div"),s=E("div"),C(o.$$.fragment),i=N(),b&&b.c(),a=N(),u=E("div"),C(f.$$.fragment),I(s,"class","check-button svelte-c8y0dx"),I(l,"class","store-status svelte-c8y0dx"),I(u,"class","donate svelte-c8y0dx")},m(w,S){d[e].m(w,S),v(w,t,S),v(w,l,S),R(l,s),k(o,s,null),R(l,i),b&&b.m(l,null),v(w,a,S),v(w,u,S),k(f,u,null),c=!0},p(w,[S]){let T=e;e=g(w),e===T?d[e].p(h(w,e),S):(U(),p(d[T],1,1,()=>{d[T]=null}),W(),n=d[e],n?n.p(h(w,e),S):(n=d[e]=m[e](h(w,e)),n.c()),_(n,1),n.m(t.parentNode,t));const M={};S&64&&(M.label=w[6]("check_for_updates")),o.$set(M),w[2]?b?b.p(w,S):(b=Mv(w),b.c(),b.m(l,null)):b&&(b.d(1),b=null)},i(w){c||(_(n),_(o.$$.fragment,w),_(f.$$.fragment,w),c=!0)},o(w){p(n),p(o.$$.fragment,w),p(f.$$.fragment,w),c=!1},d(w){d[e].d(w),w&&$(t),w&&$(l),y(o),b&&b.d(),w&&$(a),w&&$(u),y(f)}}}function dbe(r,e,n){let t,l,s,o,i,a,u=H,f=()=>(u(),u=le(h,w=>n(9,a=w)),h),c,m=H,d=()=>(m(),m=le(l,w=>n(5,c=w)),l),g;ne(r,ce,w=>n(6,g=w)),r.$$.on_destroy.push(()=>u()),r.$$.on_destroy.push(()=>m());let{releaseDataStore:h}=e;f();async function b(){try{await h.forceFetch()}catch(w){$t.fromError(w)}}return r.$$set=w=>{"releaseDataStore"in w&&f(n(0,h=w.releaseDataStore))},r.$$.update=()=>{r.$$.dirty&512&&n(1,t=a),r.$$.dirty&1&&d(n(4,{loading:l}=h,l)),r.$$.dirty&512&&n(8,s=a==null?void 0:a.value),r.$$.dirty&256&&n(3,o=s==null?void 0:s.upgradeStatus),r.$$.dirty&2&&n(2,i=(()=>{if(!!t)return new Date(t.timestamp).toLocaleString()})())},[h,t,i,o,l,c,g,b,s,a]}class _be extends Q{constructor(e){super(),Z(this,e,dbe,mbe,J,{releaseDataStore:0})}}function pbe(r){let e,n;return e=new Vn({props:{$$slots:{default:[hbe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&5&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function gbe(r){let e,n;return e=new _be({props:{releaseDataStore:r[1]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function hbe(r){let e=r[0]("release_data_store_not_found")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1&&e!==(e=t[0]("release_data_store_not_found")+"")&&z(n,e)},d(t){t&&$(n)}}}function bbe(r){let e,n,t,l=r[0]("software_update")+"",s,o,i,a,u,f;document.title=e=Rn(r[0]("software_update"));const c=[gbe,pbe],m=[];function d(g,h){return g[1]?0:1}return i=d(r),a=m[i]=c[i](r),{c(){n=N(),t=E("h2"),s=L(l),o=N(),a.c(),u=ae()},m(g,h){v(g,n,h),v(g,t,h),R(t,s),v(g,o,h),m[i].m(g,h),v(g,u,h),f=!0},p(g,[h]){(!f||h&1)&&e!==(e=Rn(g[0]("software_update")))&&(document.title=e),(!f||h&1)&&l!==(l=g[0]("software_update")+"")&&z(s,l),a.p(g,h)},i(g){f||(_(a),f=!0)},o(g){p(a),f=!1},d(g){g&&$(n),g&&$(t),g&&$(o),m[i].d(g),g&&$(u)}}}function $be(r,e,n){let t;ne(r,ce,s=>n(0,t=s));const l=yc();return[t,l]}class vbe extends Q{constructor(e){super(),Z(this,e,$be,bbe,J,{})}}function wbe(r){let e=r[1]("update")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&2&&e!==(e=t[1]("update")+"")&&z(n,e)},d(t){t&&$(n)}}}function kbe(r){let e=r[1]("users")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&2&&e!==(e=t[1]("users")+"")&&z(n,e)},d(t){t&&$(n)}}}function ybe(r){let e=r[1]("settings")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&2&&e!==(e=t[1]("settings")+"")&&z(n,e)},d(t){t&&$(n)}}}function Cbe(r){let e,n,t,l,s,o,i,a,u,f,c;return n=new Wo({props:{icon:Zs,hasNotificationDot:r[0],$$slots:{default:[wbe]},$$scope:{ctx:r}}}),s=new Wo({props:{icon:od,$$slots:{default:[kbe]},$$scope:{ctx:r}}}),a=new Wo({props:{icon:sd,$$slots:{default:[ybe]},$$scope:{ctx:r}}}),{c(){e=E("a"),C(n.$$.fragment),t=N(),l=E("a"),C(s.$$.fragment),o=N(),i=E("a"),C(a.$$.fragment),I(e,"role","menuitem"),I(e,"href",Cf),I(e,"class","menu-item menu-item-link"),I(l,"role","menuitem"),I(l,"href",wa),I(l,"class","menu-item menu-item-link"),I(i,"role","menuitem"),I(i,"href",gd),I(i,"class","menu-item menu-item-link")},m(m,d){v(m,e,d),k(n,e,null),v(m,t,d),v(m,l,d),k(s,l,null),v(m,o,d),v(m,i,d),k(a,i,null),u=!0,f||(c=[Dt(Tm.call(null,e)),Dt(Tm.call(null,l)),Dt(Tm.call(null,i))],f=!0)},p(m,d){const g={};d&1&&(g.hasNotificationDot=m[0]),d&18&&(g.$$scope={dirty:d,ctx:m}),n.$set(g);const h={};d&18&&(h.$$scope={dirty:d,ctx:m}),s.$set(h);const b={};d&18&&(b.$$scope={dirty:d,ctx:m}),a.$set(b)},i(m){u||(_(n.$$.fragment,m),_(s.$$.fragment,m),_(a.$$.fragment,m),u=!0)},o(m){p(n.$$.fragment,m),p(s.$$.fragment,m),p(a.$$.fragment,m),u=!1},d(m){m&&$(e),y(n),m&&$(t),m&&$(l),y(s),m&&$(o),m&&$(i),y(a),f=!1,Ot(c)}}}function Sbe(r){let e,n,t;return n=new hc({props:{$$slots:{default:[Cbe]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","admin-navigation svelte-n65oos")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,[s]){const o={};s&19&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function Tbe(r,e,n){let t,l,s;ne(r,ce,i=>n(1,s=i));const o=yc();return ne(r,o,i=>n(3,l=i)),r.$$.update=()=>{var i;r.$$.dirty&8&&n(0,t=((i=l==null?void 0:l.value)==null?void 0:i.upgradeStatus)==="upgradable")},[t,s,o,l]}class Ibe extends Q{constructor(e){super(),Z(this,e,Tbe,Sbe,J,{})}}function Ebe(r){let e,n;const t=r[1].default,l=ke(t,r,r[0],null);return{c(){e=E("div"),l&&l.c(),I(e,"class","form-box svelte-7o64am")},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,[o]){l&&l.p&&(!n||o&1)&&Ce(l,t,s,s[0],n?ye(t,s[0],o,null):Se(s[0]),null)},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function Mbe(r,e,n){let{$$slots:t={},$$scope:l}=e;return r.$$set=s=>{"$$scope"in s&&n(0,l=s.$$scope)},[l,t]}class zf extends Q{constructor(e){super(),Z(this,e,Mbe,Ebe,J,{})}}function Rbe(r){let e,n,t;const l=r[3].default,s=ke(l,r,r[2],null);return{c(){e=E("div"),s&&s.c(),I(e,"class","grid-form svelte-zx1fio"),xn(()=>r[4].call(e)),ie(e,"grid",r[1]>r[0])},m(o,i){v(o,e,i),s&&s.m(e,null),n=Go(e,r[4].bind(e)),t=!0},p(o,[i]){s&&s.p&&(!t||i&4)&&Ce(s,l,o,o[2],t?ye(l,o[2],i,null):Se(o[2]),null),(!t||i&3)&&ie(e,"grid",o[1]>o[0])},i(o){t||(_(s,o),t=!0)},o(o){p(s,o),t=!1},d(o){o&&$(e),s&&s.d(o),n()}}}function Dbe(r,e,n){let{$$slots:t={},$$scope:l}=e,{breakpointPx:s=400}=e,o;function i(){o=this.clientWidth,n(1,o)}return r.$$set=a=>{"breakpointPx"in a&&n(0,s=a.breakpointPx),"$$scope"in a&&n(2,l=a.$$scope)},[s,o,l,t,i]}class Abe extends Q{constructor(e){super(),Z(this,e,Dbe,Rbe,J,{breakpointPx:0})}}function Obe(r){let e;return{c(){e=L(r[0])},m(n,t){v(n,e,t)},p(n,t){t&1&&z(e,n[0])},d(n){n&&$(e)}}}function Fbe(r){let e,n,t,l,s;n=new Fs({props:{controller:r[1],$$slots:{default:[Obe]},$$scope:{ctx:r}}});const o=r[2].default,i=ke(o,r,r[3],null);return{c(){e=E("div"),C(n.$$.fragment),t=N(),l=E("div"),i&&i.c(),I(e,"class","label-cell svelte-h4bao7"),I(l,"class","input-cell")},m(a,u){v(a,e,u),k(n,e,null),v(a,t,u),v(a,l,u),i&&i.m(l,null),s=!0},p(a,[u]){const f={};u&9&&(f.$$scope={dirty:u,ctx:a}),n.$set(f),i&&i.p&&(!s||u&8)&&Ce(i,o,a,a[3],s?ye(o,a[3],u,null):Se(a[3]),null)},i(a){s||(_(n.$$.fragment,a),_(i,a),s=!0)},o(a){p(n.$$.fragment,a),p(i,a),s=!1},d(a){a&&$(e),y(n),a&&$(t),a&&$(l),i&&i.d(a)}}}function Nbe(r,e,n){let{$$slots:t={},$$scope:l}=e;const s=new Os;A_(s);let{label:o}=e;return r.$$set=i=>{"label"in i&&n(0,o=i.label),"$$scope"in i&&n(3,l=i.$$scope)},[o,s,t,l]}class Fo extends Q{constructor(e){super(),Z(this,e,Nbe,Fbe,J,{label:0})}}function Pbe(r){let e,n,t;const l=[r[3],{options:r[1]},{getLabel:r[2]}];function s(i){r[4](i)}let o={};for(let i=0;i<l.length;i+=1)o=se(o,l[i]);return r[0]!==void 0&&(o.value=r[0]),e=new fn({props:o}),we.push(()=>Me(e,"value",s)),{c(){C(e.$$.fragment)},m(i,a){k(e,i,a),t=!0},p(i,[a]){const u=a&14?de(l,[a&8&&_e(i[3]),a&2&&{options:i[1]},a&4&&{getLabel:i[2]}]):{};!n&&a&1&&(n=!0,u.value=i[0],De(()=>n=!1)),e.$set(u)},i(i){t||(_(e.$$.fragment,i),t=!0)},o(i){p(e.$$.fragment,i),t=!1},d(i){y(e,i)}}}function Lbe(r,e,n){var c;const t=["value"];let l=We(e,t);const o=(c=Pl().supported_languages)!=null?c:{},i=Object.keys(o);let{value:a=void 0}=e;function u(m){return m===void 0?"":`${o[m]} (${m})`}function f(m){a=m,n(0,a)}return r.$$set=m=>{e=se(se({},e),pt(m)),n(3,l=We(e,t)),"value"in m&&n(0,a=m.value)},[a,i,u,l,f]}class Hbe extends Q{constructor(e){super(),Z(this,e,Lbe,Pbe,J,{value:0})}}function Vbe(r){let e,n;return e=new It({props:{field:r[6]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&64&&(s.field=t[6]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function zbe(r){let e,n;return e=new It({props:{field:r[4]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.field=t[4]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Bbe(r){let e,n;return e=new It({props:{field:r[5],input:{component:hn,props:{autocomplete:r[1]?"new-username":"on"}}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&32&&(s.field=t[5]),l&2&&(s.input={component:hn,props:{autocomplete:t[1]?"new-username":"on"}}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Rv(r){let e,n;return e=new Fo({props:{label:`${r[7]("password")} *`,$$slots:{default:[qbe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&128&&(s.label=`${t[7]("password")} *`),l&524290&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function qbe(r){let e,n;return e=new It({props:{field:r[11],input:{component:ul,props:{autocomplete:r[1]?"new-password":"on"}}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.input={component:ul,props:{autocomplete:t[1]?"new-password":"on"}}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Ube(r){let e,n;return e=new It({props:{field:r[2],input:{component:Hbe}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&4&&(s.field=t[2]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Wbe(r){let e,n=r[7]("admin_user_checkbox_help")+"",t,l,s,o,i;return o=new Hr({props:{page:"userAdmin"}}),{c(){e=E("p"),t=L(n),l=N(),s=E("p"),C(o.$$.fragment)},m(a,u){v(a,e,u),R(e,t),v(a,l,u),v(a,s,u),k(o,s,null),i=!0},p(a,u){(!i||u&128)&&n!==(n=a[7]("admin_user_checkbox_help")+"")&&z(t,n)},i(a){i||(_(o.$$.fragment,a),i=!0)},o(a){p(o.$$.fragment,a),i=!1},d(a){a&&$(e),a&&$(l),a&&$(s),y(o)}}}function jbe(r){let e,n,t,l,s;return n=new It({props:{field:r[3],input:{component:Lg,props:{disabled:r[9]}}}}),l=new zt({props:{$$slots:{default:[Wbe]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),C(l.$$.fragment),I(e,"class","admin-checkbox svelte-1jfahz4")},m(o,i){v(o,e,i),k(n,e,null),R(e,t),k(l,e,null),s=!0},p(o,i){const a={};i&8&&(a.field=o[3]),i&512&&(a.input={component:Lg,props:{disabled:o[9]}}),n.$set(a);const u={};i&524416&&(u.$$scope={dirty:i,ctx:o}),l.$set(u)},i(o){s||(_(n.$$.fragment,o),_(l.$$.fragment,o),s=!0)},o(o){p(n.$$.fragment,o),p(l.$$.fragment,o),s=!1},d(o){o&&$(e),y(n),y(l)}}}function Ybe(r){let e,n,t,l,s,o,i,a,u,f,c;e=new Fo({props:{label:r[7]("display_name"),$$slots:{default:[Vbe]},$$scope:{ctx:r}}}),t=new Fo({props:{label:r[7]("email"),$$slots:{default:[zbe]},$$scope:{ctx:r}}}),s=new Fo({props:{label:`${r[7]("username")} *`,$$slots:{default:[Bbe]},$$scope:{ctx:r}}});let m=r[1]&&Rv(r);return a=new Fo({props:{label:`${r[7]("display_language")} *`,$$slots:{default:[Ube]},$$scope:{ctx:r}}}),f=new Fo({props:{label:r[7]("admin"),$$slots:{default:[jbe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),C(s.$$.fragment),o=N(),m&&m.c(),i=N(),C(a.$$.fragment),u=N(),C(f.$$.fragment)},m(d,g){k(e,d,g),v(d,n,g),k(t,d,g),v(d,l,g),k(s,d,g),v(d,o,g),m&&m.m(d,g),v(d,i,g),k(a,d,g),v(d,u,g),k(f,d,g),c=!0},p(d,g){const h={};g&128&&(h.label=d[7]("display_name")),g&524352&&(h.$$scope={dirty:g,ctx:d}),e.$set(h);const b={};g&128&&(b.label=d[7]("email")),g&524304&&(b.$$scope={dirty:g,ctx:d}),t.$set(b);const w={};g&128&&(w.label=`${d[7]("username")} *`),g&524322&&(w.$$scope={dirty:g,ctx:d}),s.$set(w),d[1]?m?(m.p(d,g),g&2&&_(m,1)):(m=Rv(d),m.c(),_(m,1),m.m(i.parentNode,i)):m&&(U(),p(m,1,1,()=>{m=null}),W());const S={};g&128&&(S.label=`${d[7]("display_language")} *`),g&524292&&(S.$$scope={dirty:g,ctx:d}),a.$set(S);const T={};g&128&&(T.label=d[7]("admin")),g&524936&&(T.$$scope={dirty:g,ctx:d}),f.$set(T)},i(d){c||(_(e.$$.fragment,d),_(t.$$.fragment,d),_(s.$$.fragment,d),_(m),_(a.$$.fragment,d),_(f.$$.fragment,d),c=!0)},o(d){p(e.$$.fragment,d),p(t.$$.fragment,d),p(s.$$.fragment,d),p(m),p(a.$$.fragment,d),p(f.$$.fragment,d),c=!1},d(d){y(e,d),d&&$(n),y(t,d),d&&$(l),y(s,d),d&&$(o),m&&m.d(d),d&&$(i),y(a,d),d&&$(u),y(f,d)}}}function Gbe(r){let e,n,t,l,s;return e=new Abe({props:{$$slots:{default:[Ybe]},$$scope:{ctx:r}}}),l=new yn({props:{form:r[8],catchErrors:!0,onProceed:r[12],proceedButton:{label:r[7]("save"),icon:ls},cancelButton:{label:r[7]("discard_changes"),icon:cl},getErrorMessages:r[13],initiallyHidden:!!r[0],hasCancelButton:!!r[0]}}),{c(){C(e.$$.fragment),n=N(),t=E("div"),C(l.$$.fragment),I(t,"class","submit-section svelte-1jfahz4")},m(o,i){k(e,o,i),v(o,n,i),v(o,t,i),k(l,t,null),s=!0},p(o,[i]){const a={};i&525054&&(a.$$scope={dirty:i,ctx:o}),e.$set(a);const u={};i&256&&(u.form=o[8]),i&128&&(u.proceedButton={label:o[7]("save"),icon:ls}),i&128&&(u.cancelButton={label:o[7]("discard_changes"),icon:cl}),i&1&&(u.initiallyHidden=!!o[0]),i&1&&(u.hasCancelButton=!!o[0]),l.$set(u)},i(o){s||(_(e.$$.fragment,o),_(l.$$.fragment,o),s=!0)},o(o){p(e.$$.fragment,o),p(l.$$.fragment,o),s=!1},d(o){y(e,o),o&&$(n),o&&$(t),y(l)}}}function Kbe(r,e,n){let t,l,s,o,i,a,u,f,c,m,d,g,h=H,b=()=>(h(),h=le(m,F=>n(17,g=F)),m),w;ne(r,ce,F=>n(7,d=F)),r.$$.on_destroy.push(()=>h());const S=Et(),T=Lr();ne(r,T,F=>n(16,w=F));let{user:M=void 0}=e;const A=gt("");async function D(){const F=g.values,P={full_name:F.fullName,username:F.username,email:F.email,display_language:F.displayLanguage};if(s&&Jn(F,"password")){const B=await Ke.users.add({user_def:{...P,password:F.password,is_superuser:F.isAdmin}}).run();S("create",B);return}if(M){if(l&&T){await Ke.users.patch_self(P).run(),T.update(j=>j.with(P));const B=F.displayLanguage;await Xoe(B)}else await Ke.users.patch_other({...P,user_id:M.id,is_superuser:F.isAdmin}).run();S("update");return}throw new Error(d("unable_to_update_user"))}function O(F){const{commonErrors:P,fieldSpecificErrors:B}=_X(F,{user_name:"username",is_superuser:"isAdmin"});for(const[j,V]of B){const G=m.fields[j];G?G.serverErrors.set(V):P.push(...V)}return P}return r.$$set=F=>{"user"in F&&n(0,M=F.user)},r.$$.update=()=>{var F,P,B,j,V;r.$$.dirty&65536&&n(15,t=w),r.$$.dirty&32769&&n(9,l=t&&t.id===(M==null?void 0:M.id)),r.$$.dirty&1&&n(1,s=M===void 0),r.$$.dirty&1&&n(6,o=er((F=M==null?void 0:M.full_name)!=null?F:"")),r.$$.dirty&129&&n(5,i=gt((P=M==null?void 0:M.username)!=null?P:"",[cne(150,d("username_max_length_error",{values:{maxLength:150}})),fne(/^[A-Za-z0-9_@.+-]*$/,d("username_restrict_chars_error"))])),r.$$.dirty&1&&n(4,a=er((B=M==null?void 0:M.email)!=null?B:"",[dne()])),r.$$.dirty&1&&n(2,u=gt((j=M==null?void 0:M.display_language)!=null?j:"en")),r.$$.dirty&1&&n(3,f=gt((V=M==null?void 0:M.is_superuser)!=null?V:!1)),r.$$.dirty&1&&A.reset(),r.$$.dirty&126&&n(14,c=(()=>{const q={fullName:o,username:i,email:a,isAdmin:f,displayLanguage:u};return s?{...q,password:A}:q})()),r.$$.dirty&16384&&b(n(8,m=Wt(c)))},[M,s,u,f,a,i,o,d,m,l,T,A,D,O,c,t,w]}class Bp extends Q{constructor(e){super(),Z(this,e,Kbe,Gbe,J,{user:0})}}function Xbe(r){let e,n;const t=r[2].default,l=ke(t,r,r[1],null);return{c(){e=E("div"),l&&l.c(),I(e,"class","input-row svelte-fi34hj"),ln(e,"display","contents")},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,o){l&&l.p&&(!n||o&2)&&Ce(l,t,s,s[1],n?ye(t,s[1],o,null):Se(s[1]),null)},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function Jbe(r){let e;const n=r[2].default,t=ke(n,r,r[1],null);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&2)&&Ce(t,n,l,l[1],e?ye(n,l[1],s,null):Se(l[1]),null)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function Zbe(r){let e,n,t,l;const s=[Jbe,Xbe],o=[];function i(a,u){return a[0]?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,[u]){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function Qbe(r,e,n){let{$$slots:t={},$$scope:l}=e,{bypass:s=!1}=e;return r.$$set=o=>{"bypass"in o&&n(0,s=o.bypass),"$$scope"in o&&n(1,l=o.$$scope)},[s,l,t]}class Wc extends Q{constructor(e){super(),Z(this,e,Qbe,Zbe,J,{bypass:0})}}const xbe=r=>({}),Dv=r=>({});function e0e(r){let e;return{c(){e=L(r[0])},m(n,t){v(n,e,t)},p(n,t){t&1&&z(e,n[0])},d(n){n&&$(e)}}}function Av(r){let e,n,t,l=r[6].help&&Ov(r),s=r[1]&&Fv(r);return{c(){e=E("div"),l&&l.c(),n=N(),s&&s.c(),I(e,"class","help svelte-1gch864")},m(o,i){v(o,e,i),l&&l.m(e,null),R(e,n),s&&s.m(e,null),t=!0},p(o,i){o[6].help?l?(l.p(o,i),i&64&&_(l,1)):(l=Ov(o),l.c(),_(l,1),l.m(e,n)):l&&(U(),p(l,1,1,()=>{l=null}),W()),o[1]?s?s.p(o,i):(s=Fv(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i(o){t||(_(l),t=!0)},o(o){p(l),t=!1},d(o){o&&$(e),l&&l.d(),s&&s.d()}}}function Ov(r){let e;const n=r[7].help,t=ke(n,r,r[8],Dv);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&256)&&Ce(t,n,l,l[8],e?ye(n,l[8],s,xbe):Se(l[8]),Dv)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function Fv(r){let e;return{c(){e=L(r[1])},m(n,t){v(n,e,t)},p(n,t){t&2&&z(e,n[1])},d(n){n&&$(e)}}}function t0e(r){let e,n,t,l,s,o,i,a;n=new Fs({props:{controller:r[5],$$slots:{default:[e0e]},$$scope:{ctx:r}}}),o=new It({props:{field:r[2],input:r[3]}});let u=(r[6].help||r[1])&&Av(r);return{c(){e=E("div"),C(n.$$.fragment),t=N(),l=E("div"),s=E("div"),C(o.$$.fragment),i=N(),u&&u.c(),I(e,"class","left cell svelte-1gch864"),I(s,"class","input"),I(l,"class","right cell")},m(f,c){v(f,e,c),k(n,e,null),v(f,t,c),v(f,l,c),R(l,s),k(o,s,null),R(l,i),u&&u.m(l,null),a=!0},p(f,c){const m={};c&257&&(m.$$scope={dirty:c,ctx:f}),n.$set(m);const d={};c&4&&(d.field=f[2]),c&8&&(d.input=f[3]),o.$set(d),f[6].help||f[1]?u?(u.p(f,c),c&66&&_(u,1)):(u=Av(f),u.c(),_(u,1),u.m(l,null)):u&&(U(),p(u,1,1,()=>{u=null}),W())},i(f){a||(_(n.$$.fragment,f),_(o.$$.fragment,f),_(u),a=!0)},o(f){p(n.$$.fragment,f),p(o.$$.fragment,f),p(u),a=!1},d(f){f&&$(e),y(n),f&&$(t),f&&$(l),y(o),u&&u.d()}}}function n0e(r){let e,n;return e=new Wc({props:{bypass:r[4],$$slots:{default:[t0e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&16&&(s.bypass=t[4]),l&335&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function r0e(r,e,n){let{$$slots:t={},$$scope:l}=e;const s=mr(t),o=new Os;let{label:i}=e,{help:a=void 0}=e,{field:u}=e,{input:f=void 0}=e,{bypassRow:c=!1}=e;return r.$$set=m=>{"label"in m&&n(0,i=m.label),"help"in m&&n(1,a=m.help),"field"in m&&n(2,u=m.field),"input"in m&&n(3,f=m.input),"bypassRow"in m&&n(4,c=m.bypassRow),"$$scope"in m&&n(8,l=m.$$scope)},A_(o),[i,a,u,f,c,o,s,t,l]}class Bf extends Q{constructor(e){super(),Z(this,e,r0e,n0e,J,{label:0,help:1,field:2,input:3,bypassRow:4})}}function Nv(r){let e,n,t;return n=new ur({props:{fullWidth:!0,$$slots:{default:[o0e]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","password-change-warning svelte-1a1qdag")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&131077&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function l0e(r){let e=r[2]("prompt_new_password_next_login")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&4&&e!==(e=t[2]("prompt_new_password_next_login")+"")&&z(n,e)},d(t){t&&$(n)}}}function s0e(r){let e=r[2]("redirected_login_page_password_change")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&4&&e!==(e=t[2]("redirected_login_page_password_change")+"")&&z(n,e)},d(t){t&&$(n)}}}function o0e(r){let e;function n(s,o){return s[0]?s0e:l0e}let t=n(r),l=t(r);return{c(){l.c(),e=ae()},m(s,o){l.m(s,o),v(s,e,o)},p(s,o){t===(t=n(s))&&l?l.p(s,o):(l.d(1),l=t(s),l&&(l.c(),l.m(e.parentNode,e)))},d(s){l.d(s),s&&$(e)}}}function i0e(r){let e,n;return e=new Wc({props:{$$slots:{default:[f0e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&131084&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function a0e(r){let e,n,t,l=r[0]&&Pv(r);return n=new Wc({props:{$$slots:{default:[m0e]},$$scope:{ctx:r}}}),{c(){l&&l.c(),e=N(),C(n.$$.fragment)},m(s,o){l&&l.m(s,o),v(s,e,o),k(n,s,o),t=!0},p(s,o){s[0]?l?(l.p(s,o),o&1&&_(l,1)):(l=Pv(s),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(U(),p(l,1,1,()=>{l=null}),W());const i={};o&131076&&(i.$$scope={dirty:o,ctx:s}),n.$set(i)},i(s){t||(_(l),_(n.$$.fragment,s),t=!0)},o(s){p(l),p(n.$$.fragment,s),t=!1},d(s){l&&l.d(s),s&&$(e),y(n,s)}}}function u0e(r){let e=r[2]("change_password")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&4&&e!==(e=t[2]("change_password")+"")&&z(n,e)},d(t){t&&$(n)}}}function f0e(r){let e,n,t,l,s;return e=new Bf({props:{label:r[2]("password"),field:r[8],input:{component:ul,props:{disabled:!0}},bypassRow:!0}}),l=new st({props:{appearance:"secondary",$$slots:{default:[u0e]},$$scope:{ctx:r}}}),l.$on("click",r[14]),{c(){C(e.$$.fragment),n=N(),t=E("div"),C(l.$$.fragment),I(t,"class","change-password-button cell svelte-1a1qdag")},m(o,i){k(e,o,i),v(o,n,i),v(o,t,i),k(l,t,null),s=!0},p(o,i){const a={};i&4&&(a.label=o[2]("password")),e.$set(a);const u={};i&131076&&(u.$$scope={dirty:i,ctx:o}),l.$set(u)},i(o){s||(_(e.$$.fragment,o),_(l.$$.fragment,o),s=!0)},o(o){p(e.$$.fragment,o),p(l.$$.fragment,o),s=!1},d(o){y(e,o),o&&$(n),o&&$(t),y(l)}}}function Pv(r){let e,n;return e=new Wc({props:{$$slots:{default:[c0e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&131076&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function c0e(r){let e,n,t,l,s,o;return e=new Bf({props:{label:`${r[2]("old_password")} *`,field:r[5],input:{component:ul},bypassRow:!0}}),{c(){C(e.$$.fragment),n=N(),t=E("div"),l=N(),s=E("div")},m(i,a){k(e,i,a),v(i,n,a),v(i,t,a),v(i,l,a),v(i,s,a),o=!0},p(i,a){const u={};a&4&&(u.label=`${i[2]("old_password")} *`),e.$set(u)},i(i){o||(_(e.$$.fragment,i),o=!0)},o(i){p(e.$$.fragment,i),o=!1},d(i){y(e,i),i&&$(n),i&&$(t),i&&$(l),i&&$(s)}}}function m0e(r){let e,n,t,l;return e=new Bf({props:{label:`${r[2]("new_password")} *`,field:r[6],input:{component:ul,props:{autocomplete:"new-password"}},bypassRow:!0}}),t=new Bf({props:{label:`${r[2]("confirm_password")} *`,field:r[7],input:{component:ul,props:{autocomplete:"new-password"}},bypassRow:!0}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(s,o){k(e,s,o),v(s,n,o),k(t,s,o),l=!0},p(s,o){const i={};o&4&&(i.label=`${s[2]("new_password")} *`),e.$set(i);const a={};o&4&&(a.label=`${s[2]("confirm_password")} *`),t.$set(a)},i(s){l||(_(e.$$.fragment,s),_(t.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),l=!1},d(s){y(e,s),s&&$(n),y(t,s)}}}function Lv(r){let e,n,t;return n=new yn({props:{form:r[1],catchErrors:!0,onProceed:r[9],onCancel:r[15],proceedButton:{label:r[2]("save"),icon:ls},cancelButton:{label:r[2]("cancel")}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","submit-section svelte-1a1qdag")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&2&&(o.form=l[1]),s&8&&(o.onCancel=l[15]),s&4&&(o.proceedButton={label:l[2]("save"),icon:ls}),s&4&&(o.cancelButton={label:l[2]("cancel")}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function d0e(r){let e,n,t,l,s,o,i,a=r[3]&&Nv(r);const u=[a0e,i0e],f=[];function c(d,g){return d[3]?0:1}l=c(r),s=f[l]=u[l](r);let m=r[3]&&Lv(r);return{c(){e=E("div"),a&&a.c(),n=N(),t=E("div"),s.c(),o=N(),m&&m.c(),I(t,"class","password-inputs svelte-1a1qdag"),I(e,"class","password-change-form svelte-1a1qdag")},m(d,g){v(d,e,g),a&&a.m(e,null),R(e,n),R(e,t),f[l].m(t,null),R(e,o),m&&m.m(e,null),i=!0},p(d,[g]){d[3]?a?(a.p(d,g),g&8&&_(a,1)):(a=Nv(d),a.c(),_(a,1),a.m(e,n)):a&&(U(),p(a,1,1,()=>{a=null}),W());let h=l;l=c(d),l===h?f[l].p(d,g):(U(),p(f[h],1,1,()=>{f[h]=null}),W(),s=f[l],s?s.p(d,g):(s=f[l]=u[l](d),s.c()),_(s,1),s.m(t,null)),d[3]?m?(m.p(d,g),g&8&&_(m,1)):(m=Lv(d),m.c(),_(m,1),m.m(e,null)):m&&(U(),p(m,1,1,()=>{m=null}),W())},i(d){i||(_(a),_(s),_(m),i=!0)},o(d){p(a),p(s),p(m),i=!1},d(d){d&&$(e),a&&a.d(),f[l].d(),m&&m.d()}}}function _0e(r,e,n){let t,l,s,o,i,a=H,u=()=>(a(),a=le(o,D=>n(16,i=D)),o),f,c;ne(r,ce,D=>n(2,f=D)),r.$$.on_destroy.push(()=>a());const m=Lr();ne(r,m,D=>n(13,c=D));let{userId:d}=e;const g=gt(""),h=gt(""),b=gt(""),w=er("***************");let S=!1;async function T(){const D=i.values;l&&Jn(D,"oldPassword")?(await Ke.users.password.replace_own({old_password:D.oldPassword,new_password:D.password}).run(),window.location.reload()):(await Ke.users.password.revoke({user_id:d,new_password:D.password}).run(),n(3,S=!1))}const M=()=>{n(3,S=!0)},A=()=>{n(3,S=!1)};return r.$$set=D=>{"userId"in D&&n(10,d=D.userId)},r.$$.update=()=>{r.$$.dirty&8192&&n(12,t=c),r.$$.dirty&5120&&n(0,l=(t==null?void 0:t.id)===d),r.$$.dirty&1&&n(11,s=(()=>{const D={password:h,confirmPassword:b};return l?{...D,oldPassword:g}:D})()),r.$$.dirty&2052&&u(n(1,o=Wt(s,[aE([h,b],f("passwords_do_not_match"))]))),r.$$.dirty&1026&&(n(3,S=!1),o.reset())},[l,o,f,S,m,g,h,b,w,T,d,s,t,c,M,A]}class yM extends Q{constructor(e){super(),Z(this,e,_0e,d0e,J,{userId:10})}}function p0e(r){switch(r){case"admin":return"Admin";case"standard":return"Standard";default:return Rt(r)}}function g0e(r){const e=r.isMathesarAdmin?"admin":"standard",n=p0e(e);return{icon:r.isMathesarAdmin?OK:{...$f,size:"1rem"},type:e,displayName:n}}function h0e(r){return{c:H,m:H,p:H,i:H,o:H,d:H}}function b0e(r){let e,n,t,l;const s=[v0e,$0e],o=[];function i(a,u){return a[13]===void 0?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function $0e(r){let e,n,t,l,s,o=r[4]("edit_user")+"",i,a,u,f=r[13].username+"",c,m,d,g,h,b,w,S;e=new pr({props:{item:{type:"simple",href:ka(r[0]),label:r[13].username,icon:Ru,prependSeparator:!0}}});const T=[Ru];let M={};for(let D=0;D<T.length;D+=1)M=se(M,T[D]);l=new Ne({props:M}),d=new zf({props:{$$slots:{default:[w0e]},$$scope:{ctx:r}}}),h=new zf({props:{$$slots:{default:[k0e]},$$scope:{ctx:r}}});let A=!r[2]&&Hv(r);return{c(){C(e.$$.fragment),n=N(),t=E("h2"),C(l.$$.fragment),s=N(),i=L(o),a=L(": "),u=E("strong"),c=L(f),m=N(),C(d.$$.fragment),g=N(),C(h.$$.fragment),b=N(),A&&A.c(),w=ae()},m(D,O){k(e,D,O),v(D,n,O),v(D,t,O),k(l,t,null),R(t,s),R(t,i),R(t,a),R(t,u),R(u,c),v(D,m,O),k(d,D,O),v(D,g,O),k(h,D,O),v(D,b,O),A&&A.m(D,O),v(D,w,O),S=!0},p(D,O){const F={};O&3&&(F.item={type:"simple",href:ka(D[0]),label:D[13].username,icon:Ru,prependSeparator:!0}),e.$set(F);const P=O&0?de(T,[_e(Ru)]):{};l.$set(P),(!S||O&16)&&o!==(o=D[4]("edit_user")+"")&&z(i,o),(!S||O&2)&&f!==(f=D[13].username+"")&&z(c,f);const B={};O&16386&&(B.$$scope={dirty:O,ctx:D}),d.$set(B);const j={};O&16385&&(j.$$scope={dirty:O,ctx:D}),h.$set(j),D[2]?A&&(U(),p(A,1,1,()=>{A=null}),W()):A?(A.p(D,O),O&4&&_(A,1)):(A=Hv(D),A.c(),_(A,1),A.m(w.parentNode,w))},i(D){S||(_(e.$$.fragment,D),_(l.$$.fragment,D),_(d.$$.fragment,D),_(h.$$.fragment,D),_(A),S=!0)},o(D){p(e.$$.fragment,D),p(l.$$.fragment,D),p(d.$$.fragment,D),p(h.$$.fragment,D),p(A),S=!1},d(D){y(e,D),D&&$(n),D&&$(t),y(l),D&&$(m),y(d,D),D&&$(g),y(h,D),D&&$(b),A&&A.d(D),D&&$(w)}}}function v0e(r){let e,n,t,l;const s=[S0e,C0e],o=[];function i(a,u){var f;return((f=a[5])==null?void 0:f.state)==="failure"?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function w0e(r){let e,n;return e=new Bp({props:{user:r[13].getUser()}}),e.$on("update",r[7]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.user=t[13].getUser()),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function k0e(r){let e,n;return e=new yM({props:{userId:r[0]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.userId=t[0]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Hv(r){let e,n;return e=new zf({props:{$$slots:{default:[y0e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16402&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function y0e(r){let e,n;function t(){return r[10](r[13])}function l(){return r[11](r[13])}return e=new Ar({props:{confirm:t,onClick:l,icon:Mt,label:r[4]("delete_user"),appearance:"danger"}}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){r=s;const i={};o&18&&(i.confirm=t),o&2&&(i.onClick=l),o&16&&(i.label=r[4]("delete_user")),e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function C0e(r){let e,n;return e=new Vn({props:{$$slots:{default:[T0e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16400&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function S0e(r){let e=r[5].errors+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&32&&e!==(e=t[5].errors+"")&&z(n,e)},i:H,o:H,d(t){t&&$(n)}}}function T0e(r){let e=r[4]("user_not_found")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&16&&e!==(e=t[4]("user_not_found")+"")&&z(n,e)},d(t){t&&$(n)}}}function I0e(r){let e=r[4]("fetching_user_details")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&16&&e!==(e=t[4]("fetching_user_details")+"")&&z(n,e)},i:H,o:H,d(t){t&&$(n)}}}function E0e(r){let e,n,t,l={ctx:r,current:null,token:null,hasCatch:!1,pending:I0e,then:b0e,catch:h0e,value:13,blocks:[,,,]};return Wl(n=r[1],l),{c(){e=ae(),l.block.c()},m(s,o){v(s,e,o),l.block.m(s,l.anchor=o),l.mount=()=>e.parentNode,l.anchor=e,t=!0},p(s,[o]){r=s,l.ctx=r,o&2&&n!==(n=r[1])&&Wl(n,l)||Fa(l,r,o)},i(s){t||(_(l.block),t=!0)},o(s){for(let o=0;o<3;o+=1){const i=l.blocks[o];p(i)}t=!1},d(s){s&&$(e),l.block.d(s),l.token=null,l=null}}}function M0e(r,e,n){let t,l,s,o,i,a,u=H,f=()=>(u(),u=le(t,S=>n(5,a=S)),t);ne(r,ce,S=>n(4,i=S)),r.$$.on_destroy.push(()=>u());const c=Lr();ne(r,c,S=>n(9,o=S));const m=Cc();let{userId:d}=e;async function g(){await(m==null?void 0:m.fetchUsers()),n(1,l=m==null?void 0:m.getUserDetails(d))}async function h(S){if(!!m)try{await m.delete(S.id),Un.goto(wa)}catch(T){$t.fromError(T)}}const b=S=>Ll({identifierName:S.username,identifierType:i("user")}),w=S=>h(S);return r.$$set=S=>{"userId"in S&&n(0,d=S.userId)},r.$$.update=()=>{r.$$.dirty&1&&n(1,l=m==null?void 0:m.getUserDetails(d)),r.$$.dirty&513&&n(2,s=(o==null?void 0:o.id)===d)},f(n(3,t=m==null?void 0:m.requestStatus)),[d,l,s,t,i,a,c,g,h,o,b,w]}class R0e extends Q{constructor(e){super(),Z(this,e,M0e,E0e,J,{userId:0})}}function D0e(r){let e,n;return e=new Bp({}),e.$on("create",r[2]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function A0e(r){let e,n,t,l,s,o=r[0]("new_user")+"",i,a,u,f;e=new pr({props:{item:{type:"simple",href:pd,label:r[0]("new_user"),icon:Mu,prependSeparator:!0}}});const c=[Mu];let m={};for(let d=0;d<c.length;d+=1)m=se(m,c[d]);return l=new Ne({props:m}),u=new zf({props:{$$slots:{default:[D0e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),n=N(),t=E("h1"),C(l.$$.fragment),s=N(),i=L(o),a=N(),C(u.$$.fragment)},m(d,g){k(e,d,g),v(d,n,g),v(d,t,g),k(l,t,null),R(t,s),R(t,i),v(d,a,g),k(u,d,g),f=!0},p(d,[g]){const h={};g&1&&(h.item={type:"simple",href:pd,label:d[0]("new_user"),icon:Mu,prependSeparator:!0}),e.$set(h);const b=g&0?de(c,[_e(Mu)]):{};l.$set(b),(!f||g&1)&&o!==(o=d[0]("new_user")+"")&&z(i,o);const w={};g&16&&(w.$$scope={dirty:g,ctx:d}),u.$set(w)},i(d){f||(_(e.$$.fragment,d),_(l.$$.fragment,d),_(u.$$.fragment,d),f=!0)},o(d){p(e.$$.fragment,d),p(l.$$.fragment,d),p(u.$$.fragment,d),f=!1},d(d){y(e,d),d&&$(n),d&&$(t),y(l),d&&$(a),y(u,d)}}}function O0e(r,e,n){let t;ne(r,ce,i=>n(0,t=i));const l=Cc();function s(i){l==null||l.fetchUsers(),Un.goto(ka(i.id),!0)}return[t,s,i=>s(i.detail)]}class F0e extends Q{constructor(e){super(),Z(this,e,O0e,A0e,J,{})}}const N0e=r=>({}),Vv=r=>({}),P0e=r=>({}),zv=r=>({}),L0e=r=>({}),Bv=r=>({});function qv(r){let e,n;return e=new On({props:{$$slots:{content:[V0e],trigger:[H0e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1032&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function H0e(r){let e,n,t;const l=[vf];let s={};for(let o=0;o<l.length;o+=1)s=se(s,l[o]);return n=new Ne({props:s}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","description-icon svelte-17gs0on"),I(e,"slot","trigger")},m(o,i){v(o,e,i),k(n,e,null),t=!0},p(o,i){const a=i&0?de(l,[_e(vf)]):{};n.$set(a)},i(o){t||(_(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&$(e),y(n)}}}function V0e(r){let e,n;return{c(){e=E("div"),n=L(r[3]),I(e,"slot","content")},m(t,l){v(t,e,l),R(e,n)},p(t,l){l&8&&z(n,t[3])},d(t){t&&$(e)}}}function Uv(r){let e,n;return{c(){e=E("div"),n=L(r[4]),I(e,"class","pending-message svelte-17gs0on")},m(t,l){v(t,e,l),R(e,n)},p(t,l){l&16&&z(n,t[4])},d(t){t&&$(e)}}}function Wv(r){let e,n,t;return n=new Qr({props:{$$slots:{default:[z0e]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","description svelte-17gs0on")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&1032&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function z0e(r){let e;return{c(){e=L(r[3])},m(n,t){v(n,e,t)},p(n,t){t&8&&z(e,n[3])},d(n){n&&$(e)}}}function jv(r){let e,n;const t=r[9].detail,l=ke(t,r,r[10],Bv);return{c(){e=E("div"),l&&l.c(),I(e,"class","detail svelte-17gs0on")},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,o){l&&l.p&&(!n||o&1024)&&Ce(l,t,s,s[10],n?ye(t,s[10],o,L0e):Se(s[10]),Bv)},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function Yv(r){let e,n,t;const l=r[9]["action-buttons"],s=ke(l,r,r[10],zv);let o=r[7].menu&&Gv(r);return{c(){e=E("div"),s&&s.c(),n=N(),o&&o.c(),I(e,"class","actions svelte-17gs0on")},m(i,a){v(i,e,a),s&&s.m(e,null),R(e,n),o&&o.m(e,null),t=!0},p(i,a){s&&s.p&&(!t||a&1024)&&Ce(s,l,i,i[10],t?ye(l,i[10],a,P0e):Se(i[10]),zv),i[7].menu?o?(o.p(i,a),a&128&&_(o,1)):(o=Gv(i),o.c(),_(o,1),o.m(e,null)):o&&(U(),p(o,1,1,()=>{o=null}),W())},i(i){t||(_(s,i),_(o),t=!0)},o(i){p(s,i),p(o),t=!1},d(i){i&&$(e),s&&s.d(i),o&&o.d()}}}function Gv(r){let e,n,t;return n=new Pr({props:{showArrow:!1,triggerAppearance:"plain",triggerClass:"dropdown-menu-button",closeOnInnerClick:!0,placements:["bottom-end","right-start","left-start"],label:"",icon:U_,size:"small",$$slots:{default:[B0e]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","menu-container svelte-17gs0on")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&1024&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function B0e(r){let e;const n=r[9].menu,t=ke(n,r,r[10],Vv);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&1024)&&Ce(t,n,l,l[10],e?ye(n,l[10],s,N0e):Se(l[10]),Vv)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function q0e(r){let e,n,t,l,s,o,i,a,u,f,c,m,d,g,h;const b=[r[1]];let w={};for(let O=0;O<b.length;O+=1)w=se(w,b[O]);o=new Ne({props:w});let S=r[3]&&!r[5]&&qv(r),T=r[4]&&Uv(r),M=r[3]&&r[5]&&Wv(r),A=r[7].detail&&jv(r),D=(r[7]["action-buttons"]||r[7].menu)&&Yv(r);return{c(){e=E("div"),n=E("a"),t=E("div"),l=E("div"),s=E("span"),C(o.$$.fragment),i=N(),a=E("span"),u=L(r[2]),f=N(),S&&S.c(),c=N(),T&&T.c(),m=N(),M&&M.c(),d=N(),A&&A.c(),g=N(),D&&D.c(),I(s,"class","icon svelte-17gs0on"),I(l,"class","name svelte-17gs0on"),I(t,"class","top svelte-17gs0on"),I(n,"class","link passthrough svelte-17gs0on"),I(n,"href",r[0]),I(n,"aria-label",r[2]),I(e,"class","entity-list-item svelte-17gs0on"),I(e,"style",r[6]),ie(e,"pending",!!r[4]),ie(e,"primary",r[5])},m(O,F){v(O,e,F),R(e,n),R(n,t),R(t,l),R(l,s),k(o,s,null),R(l,i),R(l,a),R(a,u),R(t,f),S&&S.m(t,null),R(t,c),T&&T.m(t,null),R(n,m),M&&M.m(n,null),R(n,d),A&&A.m(n,null),R(e,g),D&&D.m(e,null),h=!0},p(O,[F]){const P=F&2?de(b,[_e(O[1])]):{};o.$set(P),(!h||F&4)&&z(u,O[2]),O[3]&&!O[5]?S?(S.p(O,F),F&40&&_(S,1)):(S=qv(O),S.c(),_(S,1),S.m(t,c)):S&&(U(),p(S,1,1,()=>{S=null}),W()),O[4]?T?T.p(O,F):(T=Uv(O),T.c(),T.m(t,null)):T&&(T.d(1),T=null),O[3]&&O[5]?M?(M.p(O,F),F&40&&_(M,1)):(M=Wv(O),M.c(),_(M,1),M.m(n,d)):M&&(U(),p(M,1,1,()=>{M=null}),W()),O[7].detail?A?(A.p(O,F),F&128&&_(A,1)):(A=jv(O),A.c(),_(A,1),A.m(n,null)):A&&(U(),p(A,1,1,()=>{A=null}),W()),(!h||F&1)&&I(n,"href",O[0]),(!h||F&4)&&I(n,"aria-label",O[2]),O[7]["action-buttons"]||O[7].menu?D?(D.p(O,F),F&128&&_(D,1)):(D=Yv(O),D.c(),_(D,1),D.m(e,null)):D&&(U(),p(D,1,1,()=>{D=null}),W()),(!h||F&64)&&I(e,"style",O[6]),(!h||F&16)&&ie(e,"pending",!!O[4]),(!h||F&32)&&ie(e,"primary",O[5])},i(O){h||(_(o.$$.fragment,O),_(S),_(M),_(A),_(D),h=!0)},o(O){p(o.$$.fragment,O),p(S),p(M),p(A),p(D),h=!1},d(O){O&&$(e),y(o),S&&S.d(),T&&T.d(),M&&M.d(),A&&A.d(),D&&D.d()}}}function U0e(r,e,n){let t,{$$slots:l={},$$scope:s}=e;const o=mr(l);let{href:i}=e,{icon:a}=e,{name:u}=e,{description:f=void 0}=e,{pendingMessage:c=void 0}=e,{primary:m=!1}=e,{cssVariables:d=void 0}=e;return r.$$set=g=>{"href"in g&&n(0,i=g.href),"icon"in g&&n(1,a=g.icon),"name"in g&&n(2,u=g.name),"description"in g&&n(3,f=g.description),"pendingMessage"in g&&n(4,c=g.pendingMessage),"primary"in g&&n(5,m=g.primary),"cssVariables"in g&&n(8,d=g.cssVariables),"$$scope"in g&&n(10,s=g.$$scope)},r.$$.update=()=>{r.$$.dirty&256&&n(6,t=d?Ml(d):void 0)},[i,a,u,f,c,m,t,o,d,l,s]}class jc extends Q{constructor(e){super(),Z(this,e,U0e,q0e,J,{href:0,icon:1,name:2,description:3,pendingMessage:4,primary:5,cssVariables:8})}}function Kv(r){let e,n=r[0].fullName+"",t,l,s;return{c(){e=E("span"),t=L(n),l=N(),s=E("span"),I(s,"class","divider svelte-1snhwgn")},m(o,i){v(o,e,i),R(e,t),v(o,l,i),v(o,s,i)},p(o,i){i&1&&n!==(n=o[0].fullName+"")&&z(t,n)},d(o){o&&$(e),o&&$(l),o&&$(s)}}}function Xv(r){let e,n=r[0].email+"",t,l,s;return{c(){e=E("span"),t=L(n),l=N(),s=E("span"),I(s,"class","divider svelte-1snhwgn")},m(o,i){v(o,e,i),R(e,t),v(o,l,i),v(o,s,i)},p(o,i){i&1&&n!==(n=o[0].email+"")&&z(t,n)},d(o){o&&$(e),o&&$(l),o&&$(s)}}}function W0e(r){let e,n,t,l,s=r[1].displayName+"",o,i=r[0].fullName&&Kv(r),a=r[0].email&&Xv(r);return{c(){e=E("div"),i&&i.c(),n=N(),a&&a.c(),t=N(),l=E("span"),o=L(s),I(e,"class","user-detailed-info svelte-1snhwgn")},m(u,f){v(u,e,f),i&&i.m(e,null),R(e,n),a&&a.m(e,null),R(e,t),R(e,l),R(l,o)},p(u,f){u[0].fullName?i?i.p(u,f):(i=Kv(u),i.c(),i.m(e,n)):i&&(i.d(1),i=null),u[0].email?a?a.p(u,f):(a=Xv(u),a.c(),a.m(e,t)):a&&(a.d(1),a=null),f&2&&s!==(s=u[1].displayName+"")&&z(o,s)},d(u){u&&$(e),i&&i.d(),a&&a.d()}}}function j0e(r){let e,n;return e=new jc({props:{href:ka(r[0].id),primary:!0,name:r[0].username,icon:r[1].icon,$$slots:{detail:[W0e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.href=ka(t[0].id)),l&1&&(s.name=t[0].username),l&2&&(s.icon=t[1].icon),l&7&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Y0e(r,e,n){let t,{user:l}=e;return r.$$set=s=>{"user"in s&&n(0,l=s.user)},r.$$.update=()=>{r.$$.dirty&1&&n(1,t=g0e(l))},[l,t]}class G0e extends Q{constructor(e){super(),Z(this,e,Y0e,j0e,J,{user:0})}}function K0e(r){let e,n,t;return n=new pc({props:{loading:!0}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","user-skeleton-container svelte-1ko2nwt")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p:H,i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}class X0e extends Q{constructor(e){super(),Z(this,e,null,K0e,J,{})}}function Jv(r,e,n){const t=r.slice();return t[11]=e[n],t}function J0e(r){let e,n;return e=new _l({props:{errors:r[6].errors}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&64&&(s.errors=t[6].errors),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Z0e(r){let e,n,t;function l(o){r[9](o)}let s={searchPlaceholder:r[5]("search_users"),$$slots:{content:[s2e],resultInfo:[n2e],action:[e2e]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.searchQuery=r[0]),e=new zp({props:s}),we.push(()=>Me(e,"searchQuery",l)),e.$on("clear",r[7]),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};i&32&&(a.searchPlaceholder=o[5]("search_users")),i&32803&&(a.$$scope={dirty:i,ctx:o}),!n&&i&1&&(n=!0,a.searchQuery=o[0],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function Q0e(r){let e,n;return e=new X0e({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function x0e(r){let e,n,t,l=r[5]("add_user")+"",s,o;const i=[jt];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return e=new Ne({props:a}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l)},m(u,f){k(e,u,f),v(u,n,f),v(u,t,f),R(t,s),o=!0},p(u,f){const c=f&0?de(i,[_e(jt)]):{};e.$set(c),(!o||f&32)&&l!==(l=u[5]("add_user")+"")&&z(s,l)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){p(e.$$.fragment,u),o=!1},d(u){y(e,u),u&&$(n),u&&$(t)}}}function e2e(r){let e,n;return e=new Zr({props:{appearance:"primary",href:pd,$$slots:{default:[x0e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&32800&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Zv(r){let e,n;return{c(){e=E("strong"),n=L(r[0])},m(t,l){v(t,e,l),R(e,n)},p(t,l){l&1&&z(n,t[0])},d(t){t&&$(e)}}}function t2e(r){let e,n=r[14]==="searchValue"&&Zv(r);return{c(){n&&n.c(),e=ae()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,l){t[14]==="searchValue"?n?n.p(t,l):(n=Zv(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&$(e)}}}function n2e(r){let e,n,t;return n=new ot({props:{text:r[5]("users_matching_search",{values:{count:r[1].length}}),$$slots:{default:[t2e,({slotName:l})=>({14:l}),({slotName:l})=>l?16384:0]},$$scope:{ctx:r}}}),{c(){e=E("p"),C(n.$$.fragment)},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&34&&(o.text=l[5]("users_matching_search",{values:{count:l[1].length}})),s&49153&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function r2e(r){let e,n=r[5]("no_users_found")+"",t;return{c(){e=E("p"),t=L(n),I(e,"class","no-users-found-text svelte-17nfs6u")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&32&&n!==(n=l[5]("no_users_found")+"")&&z(t,n)},i:H,o:H,d(l){l&&$(e)}}}function l2e(r){let e,n=[],t=new Map,l,s=r[1];const o=i=>i[11].id;for(let i=0;i<s.length;i+=1){let a=Jv(r,s,i),u=o(a);t.set(u,n[i]=Qv(u,a))}return{c(){e=E("div");for(let i=0;i<n.length;i+=1)n[i].c();I(e,"class","users-list")},m(i,a){v(i,e,a);for(let u=0;u<n.length;u+=1)n[u].m(e,null);l=!0},p(i,a){a&2&&(s=i[1],U(),n=ht(n,a,o,1,i,s,t,e,kt,Qv,null,Jv),W())},i(i){if(!l){for(let a=0;a<s.length;a+=1)_(n[a]);l=!0}},o(i){for(let a=0;a<n.length;a+=1)p(n[a]);l=!1},d(i){i&&$(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Qv(r,e){let n,t,l;return t=new G0e({props:{user:e[11]}}),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(s,o){v(s,n,o),k(t,s,o),l=!0},p(s,o){e=s;const i={};o&2&&(i.user=e[11]),t.$set(i)},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){s&&$(n),y(t,s)}}}function s2e(r){let e,n,t,l;const s=[l2e,r2e],o=[];function i(a,u){return a[1].length?0:a[1].length===0?1:-1}return~(e=i(r))&&(n=o[e]=s[e](r)),{c(){n&&n.c(),t=ae()},m(a,u){~e&&o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?~e&&o[e].p(a,u):(n&&(U(),p(o[f],1,1,()=>{o[f]=null}),W()),~e?(n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t)):n=null)},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){~e&&o[e].d(a),a&&$(t)}}}function o2e(r){let e,n,t,l=r[5]("users")+"",s,o,i,a,u,f,c,m;document.title=e=Rn(r[5]("users"));const d=[Q0e,Z0e,J0e],g=[];function h(b,w){var S,T,M;return((S=b[6])==null?void 0:S.state)==="processing"?0:((T=b[6])==null?void 0:T.state)==="success"?1:((M=b[6])==null?void 0:M.state)==="failure"?2:-1}return~(f=h(r))&&(c=g[f]=d[f](r)),{c(){n=N(),t=E("h2"),s=L(l),o=N(),i=L(r[2]),a=N(),u=E("section"),c&&c.c(),I(u,"class","users-list-container svelte-17nfs6u")},m(b,w){v(b,n,w),v(b,t,w),R(t,s),R(t,o),R(t,i),v(b,a,w),v(b,u,w),~f&&g[f].m(u,null),m=!0},p(b,[w]){(!m||w&32)&&e!==(e=Rn(b[5]("users")))&&(document.title=e),(!m||w&32)&&l!==(l=b[5]("users")+"")&&z(s,l),(!m||w&4)&&z(i,b[2]);let S=f;f=h(b),f===S?~f&&g[f].p(b,w):(c&&(U(),p(g[S],1,1,()=>{g[S]=null}),W()),~f?(c=g[f],c?c.p(b,w):(c=g[f]=d[f](b),c.c()),_(c,1),c.m(u,null)):c=null)},i(b){m||(_(c),m=!0)},o(b){p(c),m=!1},d(b){b&&$(n),b&&$(t),b&&$(a),b&&$(u),~f&&g[f].d()}}}function i2e(r,e){const n=(t,l)=>{var s,o;return t.username.toLowerCase().includes(l)||((s=t.fullName)==null?void 0:s.toLowerCase().includes(l))||((o=t.email)==null?void 0:o.toLowerCase().includes(l))};return r==null?void 0:r.filter(t=>{if(e){const l=e.trim().toLowerCase();return n(t,l)}return!0})}function a2e(r,e,n){let t,l,s,o,i,a=H,u=()=>(a(),a=le(l,S=>n(8,i=S)),l),f,c,m=H,d=()=>(m(),m=le(t,S=>n(6,c=S)),t);ne(r,ce,S=>n(5,f=S)),r.$$.on_destroy.push(()=>a()),r.$$.on_destroy.push(()=>m());let g="";const h=Cc();function b(){n(0,g="")}function w(S){g=S,n(0,g)}return r.$$.update=()=>{r.$$.dirty&257&&n(1,s=i2e(i!=null?i:[],g)),r.$$.dirty&2&&n(2,o=s.length?`(${s.length})`:"")},d(n(4,t=h==null?void 0:h.requestStatus)),u(n(3,l=h==null?void 0:h.users)),[g,s,o,l,t,f,c,b,i,w]}class u2e extends Q{constructor(e){super(),Z(this,e,a2e,o2e,J,{})}}function f2e(r){let e,n;return e=new u2e({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function c2e(r){let e,n;return e=new F0e({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function m2e(r){let e,n;return e=new R0e({props:{userId:parseInt(r[1].params.userId,10)}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.userId=parseInt(t[1].params.userId,10)),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function d2e(r){let e,n,t,l,s,o,i,a;return e=new pr({props:{item:{type:"simple",href:wa,label:r[0]("users"),icon:od,prependSeparator:!0}}}),t=new en({props:{path:"/",$$slots:{default:[f2e]},$$scope:{ctx:r}}}),s=new en({props:{path:"/new",$$slots:{default:[c2e]},$$scope:{ctx:r}}}),i=new en({props:{path:"/:userId",$$slots:{default:[m2e,({meta:u})=>({1:u}),({meta:u})=>u?2:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),C(s.$$.fragment),o=N(),C(i.$$.fragment)},m(u,f){k(e,u,f),v(u,n,f),k(t,u,f),v(u,l,f),k(s,u,f),v(u,o,f),k(i,u,f),a=!0},p(u,[f]){const c={};f&1&&(c.item={type:"simple",href:wa,label:u[0]("users"),icon:od,prependSeparator:!0}),e.$set(c);const m={};f&4&&(m.$$scope={dirty:f,ctx:u}),t.$set(m);const d={};f&4&&(d.$$scope={dirty:f,ctx:u}),s.$set(d);const g={};f&6&&(g.$$scope={dirty:f,ctx:u}),i.$set(g)},i(u){a||(_(e.$$.fragment,u),_(t.$$.fragment,u),_(s.$$.fragment,u),_(i.$$.fragment,u),a=!0)},o(u){p(e.$$.fragment,u),p(t.$$.fragment,u),p(s.$$.fragment,u),p(i.$$.fragment,u),a=!1},d(u){y(e,u),u&&$(n),y(t,u),u&&$(l),y(s,u),u&&$(o),y(i,u)}}}function _2e(r,e,n){let t;return ne(r,ce,l=>n(0,t=l)),mJ(),[t]}class p2e extends Q{constructor(e){super(),Z(this,e,_2e,d2e,J,{})}}function g2e(r){let e,n,t,l;return e=new pr({props:{item:{type:"simple",href:Cf,label:r[0]("software_update"),prependSeparator:!0}}}),t=new vbe({}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(s,o){k(e,s,o),v(s,n,o),k(t,s,o),l=!0},p(s,o){const i={};o&1&&(i.item={type:"simple",href:Cf,label:s[0]("software_update"),prependSeparator:!0}),e.$set(i)},i(s){l||(_(e.$$.fragment,s),_(t.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),l=!1},d(s){y(e,s),s&&$(n),y(t,s)}}}function h2e(r){let e,n;return e=new p2e({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function b2e(r){let e,n,t,l;return e=new pr({props:{item:{type:"simple",href:gd,label:r[0]("settings"),icon:sd,prependSeparator:!0}}}),t=new Uhe({}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(s,o){k(e,s,o),v(s,n,o),k(t,s,o),l=!0},p(s,o){const i={};o&1&&(i.item={type:"simple",href:gd,label:s[0]("settings"),icon:sd,prependSeparator:!0}),e.$set(i)},i(s){l||(_(e.$$.fragment,s),_(t.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),l=!1},d(s){y(e,s),s&&$(n),y(t,s)}}}function $2e(r){let e,n,t,l,s,o;return e=new en({props:{path:"/update",$$slots:{default:[g2e]},$$scope:{ctx:r}}}),t=new en({props:{path:"/users/*",firstmatch:!0,$$slots:{default:[h2e]},$$scope:{ctx:r}}}),s=new en({props:{path:"/settings",firstmatch:!0,$$slots:{default:[b2e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),C(s.$$.fragment)},m(i,a){k(e,i,a),v(i,n,a),k(t,i,a),v(i,l,a),k(s,i,a),o=!0},p(i,a){const u={};a&3&&(u.$$scope={dirty:a,ctx:i}),e.$set(u);const f={};a&2&&(f.$$scope={dirty:a,ctx:i}),t.$set(f);const c={};a&3&&(c.$$scope={dirty:a,ctx:i}),s.$set(c)},i(i){o||(_(e.$$.fragment,i),_(t.$$.fragment,i),_(s.$$.fragment,i),o=!0)},o(i){p(e.$$.fragment,i),p(t.$$.fragment,i),p(s.$$.fragment,i),o=!1},d(i){y(e,i),i&&$(n),y(t,i),i&&$(l),y(s,i)}}}function v2e(r){let e,n;return e=new Ibe({props:{slot:"sidebar"}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function w2e(r){let e,n;return e=new kM({props:{$$slots:{sidebar:[v2e],default:[$2e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&3&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function k2e(r){let e,n,t;return n=new fu({props:{name:r[0]("administration"),icon:Zs}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"slot","secondary-header"),I(e,"class","admin-page-header svelte-12g9t7j")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&1&&(o.name=l[0]("administration")),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function y2e(r){let e,n,t,l,s,o;return e=new pr({props:{item:{type:"simple",href:no,label:r[0]("administration"),icon:Zs}}}),t=new en({props:{path:"/",redirect:Cf}}),s=new xr({props:{cssVariables:{"--max-layout-width":"var(--max-layout-width-console-pages)","--page-padding":"0 var(--page-padding-x)"},restrictWidth:!0,$$slots:{"secondary-header":[k2e],default:[w2e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),C(s.$$.fragment)},m(i,a){k(e,i,a),v(i,n,a),k(t,i,a),v(i,l,a),k(s,i,a),o=!0},p(i,[a]){const u={};a&1&&(u.item={type:"simple",href:no,label:i[0]("administration"),icon:Zs}),e.$set(u);const f={};a&3&&(f.$$scope={dirty:a,ctx:i}),s.$set(f)},i(i){o||(_(e.$$.fragment,i),_(t.$$.fragment,i),_(s.$$.fragment,i),o=!0)},o(i){p(e.$$.fragment,i),p(t.$$.fragment,i),p(s.$$.fragment,i),o=!1},d(i){y(e,i),i&&$(n),y(t,i),i&&$(l),y(s,i)}}}function C2e(r,e,n){let t;return ne(r,ce,l=>n(0,t=l)),[t]}class S2e extends Q{constructor(e){super(),Z(this,e,C2e,y2e,J,{})}}const T2e=r=>({meta:r&64}),xv=r=>({meta:r[6]});function I2e(r){let e,n,t;e=new yp({props:{meta:r[6],onLoad:r[2],onUnload:r[3]}});const l=r[4].default,s=ke(l,r,r[5],xv);return{c(){C(e.$$.fragment),n=N(),s&&s.c()},m(o,i){k(e,o,i),v(o,n,i),s&&s.m(o,i),t=!0},p(o,i){const a={};i&64&&(a.meta=o[6]),i&4&&(a.onLoad=o[2]),i&8&&(a.onUnload=o[3]),e.$set(a),s&&s.p&&(!t||i&96)&&Ce(s,l,o,o[5],t?ye(l,o[5],i,T2e):Se(o[5]),xv)},i(o){t||(_(e.$$.fragment,o),_(s,o),t=!0)},o(o){p(e.$$.fragment,o),p(s,o),t=!1},d(o){y(e,o),o&&$(n),s&&s.d(o)}}}function E2e(r){let e,n;return e=new en({props:{path:r[0],firstmatch:r[1],$$slots:{default:[I2e,({meta:t})=>({6:t}),({meta:t})=>t?64:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.path=t[0]),l&2&&(s.firstmatch=t[1]),l&108&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function M2e(r,e,n){let{$$slots:t={},$$scope:l}=e,{path:s}=e,{firstmatch:o=!1}=e,{onLoad:i=()=>{}}=e,{onUnload:a=()=>{}}=e;return r.$$set=u=>{"path"in u&&n(0,s=u.path),"firstmatch"in u&&n(1,o=u.firstmatch),"onLoad"in u&&n(2,i=u.onLoad),"onUnload"in u&&n(3,a=u.onUnload),"$$scope"in u&&n(5,l=u.$$scope)},[s,o,i,a,t,l]}class Yo extends Q{constructor(e){super(),Z(this,e,M2e,E2e,J,{path:0,firstmatch:1,onLoad:2,onUnload:3})}}const ew=Symbol("database route store");class _s{constructor(e){te(this,"database");te(this,"roles");te(this,"underlyingDatabase");te(this,"currentRole");this.database=e,this.roles=e.constructRolesStore(),this.underlyingDatabase=e.constructUnderlyingDatabaseStore(),this.currentRole=e.constructCurrentRoleStore()}async addRole(e){const n=await this.database.addRole(e.roleName,e.login,e.password);this.roles.updateResolvedValue(t=>t.with(n.oid,n))}async deleteRole(e){await e.delete(),this.roles.updateResolvedValue(n=>n.without(e.oid))}static construct(e){return zc(ew,new _s(e))}static get(){return Bc(ew)}}function tw(r,e,n){const t=r.slice();return t[23]=e[n],t}function nw(r){let e,n;return e=new Ht({props:{$$slots:{default:[O2e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&268437505&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function rw(r){let e,n=r[27]+"",t;return{c(){e=E("em"),t=L(n)},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&134217728&&n!==(n=l[27]+"")&&z(t,n)},d(l){l&&$(e)}}}function R2e(r){let e,n=r[26]==="italic"&&rw(r);return{c(){n&&n.c(),e=ae()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,l){t[26]==="italic"?n?n.p(t,l):(n=rw(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&$(e)}}}function D2e(r){let e=r[23].displayName+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1&&e!==(e=t[23].displayName+"")&&z(n,e)},d(t){t&&$(n)}}}function lw(r){let e,n,t;return n=new kn({props:{$$slots:{default:[D2e]},$$scope:{ctx:r}}}),{c(){e=E("li"),C(n.$$.fragment)},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&268435457&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function A2e(r){let e,n,t,l,s,o,i=r[11]("postgres_server_changes_warning_2")+"",a,u,f,c=r[11]("postgres_server_changes_warning_3")+"",m,d;n=new ot({props:{text:r[11]("postgres_server_changes_warning_1"),$$slots:{default:[R2e,({slotName:w,translatedArg:S})=>({26:w,27:S}),({slotName:w,translatedArg:S})=>(w?67108864:0)|(S?134217728:0)]},$$scope:{ctx:r}}});let g=r[0],h=[];for(let w=0;w<g.length;w+=1)h[w]=lw(tw(r,g,w));const b=w=>p(h[w],1,1,()=>{h[w]=null});return{c(){e=E("p"),C(n.$$.fragment),t=N(),l=E("ul");for(let w=0;w<h.length;w+=1)h[w].c();s=N(),o=E("p"),a=L(i),u=N(),f=E("p"),m=L(c)},m(w,S){v(w,e,S),k(n,e,null),v(w,t,S),v(w,l,S);for(let T=0;T<h.length;T+=1)h[T].m(l,null);v(w,s,S),v(w,o,S),R(o,a),v(w,u,S),v(w,f,S),R(f,m),d=!0},p(w,S){const T={};if(S&2048&&(T.text=w[11]("postgres_server_changes_warning_1")),S&469762048&&(T.$$scope={dirty:S,ctx:w}),n.$set(T),S&1){g=w[0];let M;for(M=0;M<g.length;M+=1){const A=tw(w,g,M);h[M]?(h[M].p(A,S),_(h[M],1)):(h[M]=lw(A),h[M].c(),_(h[M],1),h[M].m(l,null))}for(U(),M=g.length;M<h.length;M+=1)b(M);W()}(!d||S&2048)&&i!==(i=w[11]("postgres_server_changes_warning_2")+"")&&z(a,i),(!d||S&2048)&&c!==(c=w[11]("postgres_server_changes_warning_3")+"")&&z(m,c)},i(w){if(!d){_(n.$$.fragment,w);for(let S=0;S<g.length;S+=1)_(h[S]);d=!0}},o(w){p(n.$$.fragment,w),h=h.filter(Boolean);for(let S=0;S<h.length;S+=1)p(h[S]);d=!1},d(w){w&&$(e),y(n),w&&$(t),w&&$(l),Hn(h,w),w&&$(s),w&&$(o),w&&$(u),w&&$(f)}}}function O2e(r){let e,n;return e=new ur({props:{fullWidth:!0,$$slots:{default:[A2e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&268437505&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function F2e(r){let e,n,t,l,s,o,i,a,u;t=new It({props:{label:r[11]("host"),layout:"stacked",field:r[2]}}),o=new It({props:{label:r[11]("port"),layout:"stacked",field:r[1],input:{component:dc}}});let f=r[5]&&r[6]&&nw(r);return{c(){e=E("div"),n=E("div"),C(t.$$.fragment),l=N(),s=E("div"),C(o.$$.fragment),i=N(),f&&f.c(),a=ae(),I(e,"class","field-group-horizontal svelte-1rps6rr")},m(c,m){v(c,e,m),R(e,n),k(t,n,null),R(e,l),R(e,s),k(o,s,null),v(c,i,m),f&&f.m(c,m),v(c,a,m),u=!0},p(c,m){const d={};m&2048&&(d.label=c[11]("host")),m&4&&(d.field=c[2]),t.$set(d);const g={};m&2048&&(g.label=c[11]("port")),m&2&&(g.field=c[1]),o.$set(g),c[5]&&c[6]?f?(f.p(c,m),m&96&&_(f,1)):(f=nw(c),f.c(),_(f,1),f.m(a.parentNode,a)):f&&(U(),p(f,1,1,()=>{f=null}),W())},i(c){u||(_(t.$$.fragment,c),_(o.$$.fragment,c),_(f),u=!0)},o(c){p(t.$$.fragment,c),p(o.$$.fragment,c),p(f),u=!1},d(c){c&&$(e),y(t),y(o),c&&$(i),f&&f.d(c),c&&$(a)}}}function N2e(r){let e,n;return e=new al({props:{label:r[11]("postgresql_server"),boxed:!0,$$slots:{default:[F2e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2048&&(s.label=t[11]("postgresql_server")),l&268437607&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function P2e(r){let e,n,t,l,s,o,i,a,u,f,c;return e=new It({props:{label:r[11]("database_name"),layout:"stacked",field:r[4]}}),t=new It({props:{field:r[3],input:{component:Ep}}}),s=new Ht({props:{$$slots:{default:[N2e]},$$scope:{ctx:r}}}),a=new yn({props:{form:r[10],catchErrors:!0,onCancel:r[18],onProceed:r[12],proceedButton:{label:r[11]("save")},cancelButton:{label:r[11]("reset"),icon:cl}}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),C(s.$$.fragment),o=N(),i=E("div"),C(a.$$.fragment)},m(m,d){k(e,m,d),v(m,n,d),k(t,m,d),v(m,l,d),k(s,m,d),v(m,o,d),v(m,i,d),k(a,i,null),u=!0,f||(c=Dt(dr.call(null,i)),f=!0)},p(m,[d]){const g={};d&2048&&(g.label=m[11]("database_name")),d&16&&(g.field=m[4]),e.$set(g);const h={};d&8&&(h.field=m[3]),t.$set(h);const b={};d&268437607&&(b.$$scope={dirty:d,ctx:m}),s.$set(b);const w={};d&1024&&(w.form=m[10]),d&1024&&(w.onCancel=m[18]),d&2048&&(w.proceedButton={label:m[11]("save")}),d&2048&&(w.cancelButton={label:m[11]("reset"),icon:cl}),a.$set(w)},i(m){u||(_(e.$$.fragment,m),_(t.$$.fragment,m),_(s.$$.fragment,m),_(a.$$.fragment,m),u=!0)},o(m){p(e.$$.fragment,m),p(t.$$.fragment,m),p(s.$$.fragment,m),p(a.$$.fragment,m),u=!1},d(m){y(e,m),m&&$(n),y(t,m),m&&$(l),y(s,m),m&&$(o),m&&$(i),y(a),f=!1,c()}}}function L2e(r,e,n){let t,l,s,o,i,a,u,f,c,m,d,g,h=H,b=()=>(h(),h=le(o,pe=>n(19,g=pe)),o),w,S=H,T=()=>(S(),S=le(s,pe=>n(20,w=pe)),s),M,A=H,D=()=>(A(),A=le(l,pe=>n(21,M=pe)),l),O,F=H,P=()=>(F(),F=le(t,pe=>n(22,O=pe)),t),B,j=H,V=()=>(j(),j=le(c,pe=>n(15,B=pe)),c),q,G=H,Y=()=>(G(),G=le(u,pe=>n(16,q=pe)),u),K,ee=H,x=()=>(ee(),ee=le(a,pe=>n(17,K=pe)),a),X;ne(r,ce,pe=>n(11,X=pe)),r.$$.on_destroy.push(()=>h()),r.$$.on_destroy.push(()=>S()),r.$$.on_destroy.push(()=>A()),r.$$.on_destroy.push(()=>F()),r.$$.on_destroy.push(()=>j()),r.$$.on_destroy.push(()=>G()),r.$$.on_destroy.push(()=>ee());let{database:fe}=e,{close:he}=e;async function me(){await Ke.databases.configured.patch({database_id:fe.id,patch:{name:O,nickname:M!=null?M:null}}).run(),f&&await Ke.servers.configured.patch({server_id:fe.server.id,patch:{host:w,port:g}}).run(),await jn.refresh(),he()}const ge=()=>i.reset();return r.$$set=pe=>{"database"in pe&&n(13,fe=pe.database),"close"in pe&&n(14,he=pe.close)},r.$$.update=()=>{var pe;r.$$.dirty&8192&&P(n(4,t=gt(fe.name))),r.$$.dirty&8192&&D(n(3,l=er((pe=fe.nickname)!=null?pe:void 0))),r.$$.dirty&8192&&T(n(2,s=gt(fe.server.host))),r.$$.dirty&8192&&b(n(1,o=er(fe.server.port))),r.$$.dirty&30&&n(10,i=Wt({name:t,nickname:l,host:s,port:o})),r.$$.dirty&4&&x(n(9,a=s.hasChanges)),r.$$.dirty&2&&Y(n(8,u=o.hasChanges)),r.$$.dirty&196608&&n(5,f=K||q),r.$$.dirty&40960&&n(0,m=[...B.values()].filter(Le=>Le.server.id===fe.server.id&&Le.id!==fe.id)),r.$$.dirty&1&&n(6,d=m.length>0)},V(n(7,{databases:c}=jn,c)),[m,o,s,l,t,f,d,c,u,a,i,X,me,fe,he,B,q,K,ge]}class H2e extends Q{constructor(e){super(),Z(this,e,L2e,P2e,J,{database:13,close:14})}}function V2e(r){let e,n;return e=new H2e({props:{database:r[1],close:r[3]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.database=t[1]),l&1&&(s.close=t[3]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function sw(r){let e,n;return e=new kn({props:{$$slots:{default:[z2e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&34&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function z2e(r){let e=r[1].displayName+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&2&&e!==(e=t[1].displayName+"")&&z(n,e)},d(t){t&&$(n)}}}function B2e(r){let e,n,t=r[4]==="name"&&sw(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[4]==="name"?t?(t.p(l,s),s&16&&_(t,1)):(t=sw(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function q2e(r){let e,n,t;return n=new ot({props:{text:r[2]("edit_named_database_connection"),$$slots:{default:[B2e,({slotName:l})=>({4:l}),({slotName:l})=>l?16:0]},$$scope:{ctx:r}}}),{c(){e=E("span"),C(n.$$.fragment),I(e,"slot","title")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&4&&(o.text=l[2]("edit_named_database_connection")),s&50&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function U2e(r){let e,n;return e=new Yn({props:{controller:r[0],size:"medium",$$slots:{title:[q2e],default:[V2e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.controller=t[0]),l&39&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function W2e(r,e,n){let t;ne(r,ce,i=>n(2,t=i));let{controller:l}=e,{database:s}=e;const o=()=>l.close();return r.$$set=i=>{"controller"in i&&n(0,l=i.controller),"database"in i&&n(1,s=i.database)},[l,s,t,o]}class j2e extends Q{constructor(e){super(),Z(this,e,W2e,U2e,J,{controller:0,database:1})}}function Y2e(r){let e=r[9]("database_disconnect_form_into")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l[0]&512&&e!==(e=t[9]("database_disconnect_form_into")+"")&&z(n,e)},d(t){t&&$(n)}}}function ow(r){let e,n;return e=new Ht({props:{$$slots:{default:[e$e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&768|l[1]&16&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function G2e(r){let e,n,t;function l(o){r[23](o)}let s={};return r[8]!==void 0&&(s.checked=r[8]),e=new lr({props:s}),we.push(()=>Me(e,"checked",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};!n&&i[0]&256&&(n=!0,a.checked=o[8],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function iw(r){let e,n=r[34]+"",t;return{c(){e=E("b"),t=L(n)},m(l,s){v(l,e,s),R(e,t)},p(l,s){s[1]&8&&n!==(n=l[34]+"")&&z(t,n)},d(l){l&&$(e)}}}function K2e(r){let e,n=r[33]==="bold"&&iw(r);return{c(){n&&n.c(),e=ae()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,l){t[33]==="bold"?n?n.p(t,l):(n=iw(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&$(e)}}}function aw(r){let e,n=r[34]+"",t;return{c(){e=E("b"),t=L(n)},m(l,s){v(l,e,s),R(e,t)},p(l,s){s[1]&8&&n!==(n=l[34]+"")&&z(t,n)},d(l){l&&$(e)}}}function X2e(r){let e,n=r[33]==="bold"&&aw(r);return{c(){n&&n.c(),e=ae()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,l){t[33]==="bold"?n?n.p(t,l):(n=aw(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&$(e)}}}function uw(r){let e,n;return e=new dl({props:{page:"storedRoles",$$slots:{default:[J2e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[1]&24&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function J2e(r){let e=r[34]+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l[1]&8&&e!==(e=t[34]+"")&&z(n,e)},d(t){t&&$(n)}}}function Z2e(r){let e,n,t=r[33]==="docsLink"&&uw(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[33]==="docsLink"?t?(t.p(l,s),s[1]&4&&_(t,1)):(t=uw(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function Q2e(r){let e,n=r[9]("remove_stored_role_passwords_help_1")+"",t,l,s,o,i,a,u,f,c,m,d,g,h,b;return a=new ot({props:{text:r[9]("remove_stored_role_passwords_help_checked"),$$slots:{default:[K2e,({slotName:w,translatedArg:S})=>({33:w,34:S}),({slotName:w,translatedArg:S})=>[0,(w?4:0)|(S?8:0)]]},$$scope:{ctx:r}}}),m=new ot({props:{text:r[9]("remove_stored_role_passwords_help_unchecked"),$$slots:{default:[X2e,({slotName:w,translatedArg:S})=>({33:w,34:S}),({slotName:w,translatedArg:S})=>[0,(w?4:0)|(S?8:0)]]},$$scope:{ctx:r}}}),h=new ot({props:{text:r[9]("see_docs_for_stored_role_password_help"),$$slots:{default:[Z2e,({slotName:w,translatedArg:S})=>({33:w,34:S}),({slotName:w,translatedArg:S})=>[0,(w?4:0)|(S?8:0)]]},$$scope:{ctx:r}}}),{c(){e=E("p"),t=L(n),l=N(),s=E("ul"),o=E("li"),i=E("p"),C(a.$$.fragment),u=N(),f=E("li"),c=E("p"),C(m.$$.fragment),d=N(),g=E("p"),C(h.$$.fragment)},m(w,S){v(w,e,S),R(e,t),v(w,l,S),v(w,s,S),R(s,o),R(o,i),k(a,i,null),R(s,u),R(s,f),R(f,c),k(m,c,null),v(w,d,S),v(w,g,S),k(h,g,null),b=!0},p(w,S){(!b||S[0]&512)&&n!==(n=w[9]("remove_stored_role_passwords_help_1")+"")&&z(t,n);const T={};S[0]&512&&(T.text=w[9]("remove_stored_role_passwords_help_checked")),S[1]&28&&(T.$$scope={dirty:S,ctx:w}),a.$set(T);const M={};S[0]&512&&(M.text=w[9]("remove_stored_role_passwords_help_unchecked")),S[1]&28&&(M.$$scope={dirty:S,ctx:w}),m.$set(M);const A={};S[0]&512&&(A.text=w[9]("see_docs_for_stored_role_password_help")),S[1]&28&&(A.$$scope={dirty:S,ctx:w}),h.$set(A)},i(w){b||(_(a.$$.fragment,w),_(m.$$.fragment,w),_(h.$$.fragment,w),b=!0)},o(w){p(a.$$.fragment,w),p(m.$$.fragment,w),p(h.$$.fragment,w),b=!1},d(w){w&&$(e),w&&$(l),w&&$(s),y(a),y(m),w&&$(d),w&&$(g),y(h)}}}function x2e(r){let e,n=r[9]("remove_stored_role_passwords")+"",t,l,s,o;return s=new zt({props:{$$slots:{default:[Q2e]},$$scope:{ctx:r}}}),{c(){e=E("div"),t=L(n),l=N(),C(s.$$.fragment),I(e,"slot","label")},m(i,a){v(i,e,a),R(e,t),R(e,l),k(s,e,null),o=!0},p(i,a){(!o||a[0]&512)&&n!==(n=i[9]("remove_stored_role_passwords")+"")&&z(t,n);const u={};a[0]&512|a[1]&16&&(u.$$scope={dirty:a,ctx:i}),s.$set(u)},i(i){o||(_(s.$$.fragment,i),o=!0)},o(i){p(s.$$.fragment,i),o=!1},d(i){i&&$(e),y(s)}}}function e$e(r){let e,n;return e=new Nt({props:{layout:"inline-input-first",$$slots:{label:[x2e],default:[G2e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&768|l[1]&16&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function t$e(r){let e,n;return e=new lr({props:{checked:!0,disabled:!0}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function n$e(r){let e,n=r[9]("remove_metadata")+"",t;return{c(){e=E("div"),t=L(n),I(e,"slot","label")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s[0]&512&&n!==(n=l[9]("remove_metadata")+"")&&z(t,n)},d(l){l&&$(e)}}}function r$e(r){let e,n;return e=new Nt({props:{layout:"inline-input-first",$$slots:{label:[n$e],default:[t$e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&512|l[1]&16&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function fw(r){let e,n;return e=new dl({props:{page:"metadata",$$slots:{default:[l$e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[1]&24&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function l$e(r){let e=r[34]+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l[1]&8&&e!==(e=t[34]+"")&&z(n,e)},d(t){t&&$(n)}}}function cw(r){let e,n;return e=new dl({props:{page:"metadata",$$slots:{default:[s$e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[1]&24&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function s$e(r){let e=r[34]+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l[1]&8&&e!==(e=t[34]+"")&&z(n,e)},d(t){t&&$(n)}}}function o$e(r){let e,n,t,l=r[33]==="explorationsLink"&&fw(r),s=r[33]==="metadataLink"&&cw(r);return{c(){l&&l.c(),e=N(),s&&s.c(),n=ae()},m(o,i){l&&l.m(o,i),v(o,e,i),s&&s.m(o,i),v(o,n,i),t=!0},p(o,i){o[33]==="explorationsLink"?l?(l.p(o,i),i[1]&4&&_(l,1)):(l=fw(o),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(U(),p(l,1,1,()=>{l=null}),W()),o[33]==="metadataLink"?s?(s.p(o,i),i[1]&4&&_(s,1)):(s=cw(o),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(U(),p(s,1,1,()=>{s=null}),W())},i(o){t||(_(l),_(s),t=!0)},o(o){p(l),p(s),t=!1},d(o){l&&l.d(o),o&&$(e),s&&s.d(o),o&&$(n)}}}function i$e(r){let e,n,t,l,s=r[9]("this_behavior_is_not_configurable")+"",o,i;return n=new ot({props:{text:r[9]("remove_metadata_field_help"),$$slots:{default:[o$e,({slotName:a,translatedArg:u})=>({33:a,34:u}),({slotName:a,translatedArg:u})=>[0,(a?4:0)|(u?8:0)]]},$$scope:{ctx:r}}}),{c(){e=E("p"),C(n.$$.fragment),t=N(),l=E("p"),o=L(s)},m(a,u){v(a,e,u),k(n,e,null),v(a,t,u),v(a,l,u),R(l,o),i=!0},p(a,u){const f={};u[0]&512&&(f.text=a[9]("remove_metadata_field_help")),u[1]&28&&(f.$$scope={dirty:u,ctx:a}),n.$set(f),(!i||u[0]&512)&&s!==(s=a[9]("this_behavior_is_not_configurable")+"")&&z(o,s)},i(a){i||(_(n.$$.fragment,a),i=!0)},o(a){p(n.$$.fragment,a),i=!1},d(a){a&&$(e),y(n),a&&$(t),a&&$(l)}}}function a$e(r){let e,n;return e=new On({props:{allowHover:!0,placements:["left","bottom","top"],$$slots:{content:[i$e],trigger:[r$e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&512|l[1]&16&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function u$e(r){let e,n,t,l=r[1]&&ow(r);return n=new Ht({props:{$$slots:{default:[a$e]},$$scope:{ctx:r}}}),{c(){l&&l.c(),e=N(),C(n.$$.fragment)},m(s,o){l&&l.m(s,o),v(s,e,o),k(n,s,o),t=!0},p(s,o){s[1]?l?(l.p(s,o),o[0]&2&&_(l,1)):(l=ow(s),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(U(),p(l,1,1,()=>{l=null}),W());const i={};o[0]&512|o[1]&16&&(i.$$scope={dirty:o,ctx:s}),n.$set(i)},i(s){t||(_(l),_(n.$$.fragment,s),t=!0)},o(s){p(l),p(n.$$.fragment,s),t=!1},d(s){l&&l.d(s),s&&$(e),y(n,s)}}}function f$e(r){let e,n;return e=new al({props:{label:r[9]("in_mathesar"),boxed:!0,$$slots:{default:[u$e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&512&&(s.label=t[9]("in_mathesar")),l[0]&770|l[1]&16&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function c$e(r){let e,n,t;function l(o){r[24](o)}let s={options:r[11],getRadioLabel:r[12],isInline:!0};return r[10]!==void 0&&(s.value=r[10]),e=new Ns({props:s}),we.push(()=>Me(e,"value",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};!n&&i[0]&1024&&(n=!0,a.value=o[10],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function m$e(r){let e=Rt(r[10])+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l[0]&1024&&e!==(e=Rt(t[10])+"")&&z(n,e)},i:H,o:H,d(t){t&&$(n)}}}function d$e(r){let e,n,t,l;e=new Ht({props:{$$slots:{default:[v$e]},$$scope:{ctx:r}}});let s=r[4]&&dw(r);return{c(){C(e.$$.fragment),n=N(),s&&s.c(),t=ae()},m(o,i){k(e,o,i),v(o,n,i),s&&s.m(o,i),v(o,t,i),l=!0},p(o,i){const a={};i[0]&528|i[1]&16&&(a.$$scope={dirty:i,ctx:o}),e.$set(a),o[4]?s?(s.p(o,i),i[0]&16&&_(s,1)):(s=dw(o),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(U(),p(s,1,1,()=>{s=null}),W())},i(o){l||(_(e.$$.fragment,o),_(s),l=!0)},o(o){p(e.$$.fragment,o),p(s),l=!1},d(o){y(e,o),o&&$(n),s&&s.d(o),o&&$(t)}}}function _$e(r){let e,n;return e=new Ht({props:{$$slots:{default:[O$e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&512|l[1]&16&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function p$e(r){let e,n,t;function l(o){r[25](o)}let s={};return r[4]!==void 0&&(s.checked=r[4]),e=new lr({props:s}),we.push(()=>Me(e,"checked",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};!n&&i[0]&16&&(n=!0,a.checked=o[4],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function mw(r){let e,n;return e=new dl({props:{page:"internalSchemas",$$slots:{default:[g$e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[1]&24&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function g$e(r){let e=r[34]+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l[1]&8&&e!==(e=t[34]+"")&&z(n,e)},d(t){t&&$(n)}}}function h$e(r){let e,n,t=r[33]==="link"&&mw(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[33]==="link"?t?(t.p(l,s),s[1]&4&&_(t,1)):(t=mw(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function b$e(r){let e,n=r[9]("remove_internal_schemas_help_1")+"",t,l,s,o=r[9]("remove_internal_schemas_help_2")+"",i,a,u,f,c;return f=new ot({props:{text:r[9]("remove_internal_schemas_help_3"),$$slots:{default:[h$e,({slotName:m,translatedArg:d})=>({33:m,34:d}),({slotName:m,translatedArg:d})=>[0,(m?4:0)|(d?8:0)]]},$$scope:{ctx:r}}}),{c(){e=E("p"),t=L(n),l=N(),s=E("p"),i=L(o),a=N(),u=E("p"),C(f.$$.fragment)},m(m,d){v(m,e,d),R(e,t),v(m,l,d),v(m,s,d),R(s,i),v(m,a,d),v(m,u,d),k(f,u,null),c=!0},p(m,d){(!c||d[0]&512)&&n!==(n=m[9]("remove_internal_schemas_help_1")+"")&&z(t,n),(!c||d[0]&512)&&o!==(o=m[9]("remove_internal_schemas_help_2")+"")&&z(i,o);const g={};d[0]&512&&(g.text=m[9]("remove_internal_schemas_help_3")),d[1]&28&&(g.$$scope={dirty:d,ctx:m}),f.$set(g)},i(m){c||(_(f.$$.fragment,m),c=!0)},o(m){p(f.$$.fragment,m),c=!1},d(m){m&&$(e),m&&$(l),m&&$(s),m&&$(a),m&&$(u),y(f)}}}function $$e(r){let e,n=r[9]("remove_internal_schemas")+"",t,l,s,o;return s=new zt({props:{$$slots:{default:[b$e]},$$scope:{ctx:r}}}),{c(){e=E("div"),t=L(n),l=N(),C(s.$$.fragment),I(e,"slot","label")},m(i,a){v(i,e,a),R(e,t),R(e,l),k(s,e,null),o=!0},p(i,a){(!o||a[0]&512)&&n!==(n=i[9]("remove_internal_schemas")+"")&&z(t,n);const u={};a[0]&512|a[1]&16&&(u.$$scope={dirty:a,ctx:i}),s.$set(u)},i(i){o||(_(s.$$.fragment,i),o=!0)},o(i){p(s.$$.fragment,i),o=!1},d(i){i&&$(e),y(s)}}}function v$e(r){let e,n;return e=new Nt({props:{layout:"inline-input-first",$$slots:{label:[$$e],default:[p$e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&528|l[1]&16&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function dw(r){let e,n,t,l,s,o;n=new Ht({props:{$$slots:{default:[T$e]},$$scope:{ctx:r}}}),l=new Ht({props:{$$slots:{default:[R$e]},$$scope:{ctx:r}}});let i=r[2]&&pw(r);return{c(){e=E("div"),C(n.$$.fragment),t=N(),C(l.$$.fragment),s=N(),i&&i.c(),I(e,"class","indent svelte-8nxwqq")},m(a,u){v(a,e,u),k(n,e,null),R(e,t),k(l,e,null),R(e,s),i&&i.m(e,null),o=!0},p(a,u){const f={};u[0]&520|u[1]&16&&(f.$$scope={dirty:u,ctx:a}),n.$set(f);const c={};u[0]&516|u[1]&16&&(c.$$scope={dirty:u,ctx:a}),l.$set(c),a[2]?i?(i.p(a,u),u[0]&4&&_(i,1)):(i=pw(a),i.c(),_(i,1),i.m(e,null)):i&&(U(),p(i,1,1,()=>{i=null}),W())},i(a){o||(_(n.$$.fragment,a),_(l.$$.fragment,a),_(i),o=!0)},o(a){p(n.$$.fragment,a),p(l.$$.fragment,a),p(i),o=!1},d(a){a&&$(e),y(n),y(l),i&&i.d()}}}function w$e(r){let e,n,t;function l(o){r[26](o)}let s={};return r[3]!==void 0&&(s.checked=r[3]),e=new lr({props:s}),we.push(()=>Me(e,"checked",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};!n&&i[0]&8&&(n=!0,a.checked=o[3],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function _w(r){let e,n;return e=new dl({props:{page:"dataTypes",$$slots:{default:[k$e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[1]&24&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function k$e(r){let e=r[34]+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l[1]&8&&e!==(e=t[34]+"")&&z(n,e)},d(t){t&&$(n)}}}function y$e(r){let e,n,t=r[33]==="link"&&_w(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[33]==="link"?t?(t.p(l,s),s[1]&4&&_(t,1)):(t=_w(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function C$e(r){let e,n=r[9]("remove_types_schema_help_1")+"",t,l,s,o=r[9]("remove_types_schema_help_2")+"",i,a,u,f=r[9]("remove_types_schema_help_3")+"",c,m,d,g=r[9]("remove_types_schema_help_4")+"",h,b,w,S,T;return S=new ot({props:{text:r[9]("remove_types_schema_help_5"),$$slots:{default:[y$e,({slotName:M,translatedArg:A})=>({33:M,34:A}),({slotName:M,translatedArg:A})=>[0,(M?4:0)|(A?8:0)]]},$$scope:{ctx:r}}}),{c(){e=E("p"),t=L(n),l=N(),s=E("p"),i=L(o),a=N(),u=E("p"),c=L(f),m=N(),d=E("p"),h=L(g),b=N(),w=E("p"),C(S.$$.fragment)},m(M,A){v(M,e,A),R(e,t),v(M,l,A),v(M,s,A),R(s,i),v(M,a,A),v(M,u,A),R(u,c),v(M,m,A),v(M,d,A),R(d,h),v(M,b,A),v(M,w,A),k(S,w,null),T=!0},p(M,A){(!T||A[0]&512)&&n!==(n=M[9]("remove_types_schema_help_1")+"")&&z(t,n),(!T||A[0]&512)&&o!==(o=M[9]("remove_types_schema_help_2")+"")&&z(i,o),(!T||A[0]&512)&&f!==(f=M[9]("remove_types_schema_help_3")+"")&&z(c,f),(!T||A[0]&512)&&g!==(g=M[9]("remove_types_schema_help_4")+"")&&z(h,g);const D={};A[0]&512&&(D.text=M[9]("remove_types_schema_help_5")),A[1]&28&&(D.$$scope={dirty:A,ctx:M}),S.$set(D)},i(M){T||(_(S.$$.fragment,M),T=!0)},o(M){p(S.$$.fragment,M),T=!1},d(M){M&&$(e),M&&$(l),M&&$(s),M&&$(a),M&&$(u),M&&$(m),M&&$(d),M&&$(b),M&&$(w),y(S)}}}function S$e(r){let e,n=r[9]("remove_types_schema")+"",t,l,s,o;return s=new zt({props:{$$slots:{default:[C$e]},$$scope:{ctx:r}}}),{c(){e=E("div"),t=L(n),l=N(),C(s.$$.fragment),I(e,"slot","label")},m(i,a){v(i,e,a),R(e,t),R(e,l),k(s,e,null),o=!0},p(i,a){(!o||a[0]&512)&&n!==(n=i[9]("remove_types_schema")+"")&&z(t,n);const u={};a[0]&512|a[1]&16&&(u.$$scope={dirty:a,ctx:i}),s.$set(u)},i(i){o||(_(s.$$.fragment,i),o=!0)},o(i){p(s.$$.fragment,i),o=!1},d(i){i&&$(e),y(s)}}}function T$e(r){let e,n;return e=new Nt({props:{layout:"inline-input-first",$$slots:{label:[S$e],default:[w$e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&520|l[1]&16&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function I$e(r){let e,n,t;function l(o){r[27](o)}let s={};return r[2]!==void 0&&(s.checked=r[2]),e=new lr({props:s}),we.push(()=>Me(e,"checked",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};!n&&i[0]&4&&(n=!0,a.checked=o[2],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function E$e(r){let e=r[9]("use_role_to_remove_schemas_help")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l[0]&512&&e!==(e=t[9]("use_role_to_remove_schemas_help")+"")&&z(n,e)},d(t){t&&$(n)}}}function M$e(r){let e,n=r[9]("use_role_to_remove_schemas")+"",t,l,s,o;return s=new zt({props:{$$slots:{default:[E$e]},$$scope:{ctx:r}}}),{c(){e=E("div"),t=L(n),l=N(),C(s.$$.fragment),I(e,"slot","label")},m(i,a){v(i,e,a),R(e,t),R(e,l),k(s,e,null),o=!0},p(i,a){(!o||a[0]&512)&&n!==(n=i[9]("use_role_to_remove_schemas")+"")&&z(t,n);const u={};a[0]&512|a[1]&16&&(u.$$scope={dirty:a,ctx:i}),s.$set(u)},i(i){o||(_(s.$$.fragment,i),o=!0)},o(i){p(s.$$.fragment,i),o=!1},d(i){i&&$(e),y(s)}}}function R$e(r){let e,n;return e=new Nt({props:{layout:"inline-input-first",$$slots:{label:[M$e],default:[I$e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&516|l[1]&16&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function pw(r){let e,n,t,l,s;return n=new It({props:{label:r[9]("role_name"),layout:"stacked",field:r[17]}}),l=new It({props:{label:r[9]("role_password"),help:r[9]("password_help"),layout:"stacked",field:r[18],input:{component:ul,props:{autocomplete:"off"}}}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),C(l.$$.fragment),I(e,"class","indent svelte-8nxwqq")},m(o,i){v(o,e,i),k(n,e,null),R(e,t),k(l,e,null),s=!0},p(o,i){const a={};i[0]&512&&(a.label=o[9]("role_name")),n.$set(a);const u={};i[0]&512&&(u.label=o[9]("role_password")),i[0]&512&&(u.help=o[9]("password_help")),l.$set(u)},i(o){s||(_(n.$$.fragment,o),_(l.$$.fragment,o),s=!0)},o(o){p(n.$$.fragment,o),p(l.$$.fragment,o),s=!1},d(o){o&&$(e),y(n),y(l)}}}function gw(r){let e,n=r[34]+"",t;return{c(){e=E("a"),t=L(n),I(e,"href","https://github.com/mathesar-foundation/mathesar/issues/3862")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s[1]&8&&n!==(n=l[34]+"")&&z(t,n)},d(l){l&&$(e)}}}function D$e(r){let e,n=r[33]==="link"&&gw(r);return{c(){n&&n.c(),e=ae()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,l){t[33]==="link"?n?n.p(t,l):(n=gw(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&$(e)}}}function A$e(r){let e,n;return e=new ot({props:{text:r[9]("drop_not_yet_implemented"),$$slots:{default:[D$e,({slotName:t,translatedArg:l})=>({33:t,34:l}),({slotName:t,translatedArg:l})=>[0,(t?4:0)|(l?8:0)]]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&512&&(s.text=t[9]("drop_not_yet_implemented")),l[1]&28&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function O$e(r){let e,n;return e=new ur({props:{$$slots:{default:[A$e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&512|l[1]&16&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function F$e(r){let e,n,t,l,s,o;e=new Ht({props:{$$slots:{default:[c$e]},$$scope:{ctx:r}}});const i=[_$e,d$e,m$e],a=[];function u(f,c){return f[10]==="drop"?0:f[10]==="keep"?1:2}return t=u(r),l=a[t]=i[t](r),{c(){C(e.$$.fragment),n=N(),l.c(),s=ae()},m(f,c){k(e,f,c),v(f,n,c),a[t].m(f,c),v(f,s,c),o=!0},p(f,c){const m={};c[0]&1024|c[1]&16&&(m.$$scope={dirty:c,ctx:f}),e.$set(m);let d=t;t=u(f),t===d?a[t].p(f,c):(U(),p(a[d],1,1,()=>{a[d]=null}),W(),l=a[t],l?l.p(f,c):(l=a[t]=i[t](f),l.c()),_(l,1),l.m(s.parentNode,s))},i(f){o||(_(e.$$.fragment,f),_(l),o=!0)},o(f){p(e.$$.fragment,f),p(l),o=!1},d(f){y(e,f),f&&$(n),a[t].d(f),f&&$(s)}}}function N$e(r){let e,n;return e=new al({props:{label:r[9]("in_postgres"),boxed:!0,$$slots:{default:[F$e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&512&&(s.label=t[9]("in_postgres")),l[0]&1564|l[1]&16&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function P$e(r){let e,n,t,l,s,o,i,a,u,f,c,m;return n=new Ht({props:{$$slots:{default:[Y2e]},$$scope:{ctx:r}}}),l=new Ht({props:{$$slots:{default:[f$e]},$$scope:{ctx:r}}}),o=new Ht({props:{$$slots:{default:[N$e]},$$scope:{ctx:r}}}),u=new yn({props:{form:r[5],catchErrors:!0,onCancel:r[28],canProceed:r[10]==="keep",onProceed:r[19],proceedButton:{label:r[9]("disconnect")},cancelButton:{label:r[9]("cancel")}}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),C(l.$$.fragment),s=N(),C(o.$$.fragment),i=N(),a=E("div"),C(u.$$.fragment)},m(d,g){v(d,e,g),k(n,e,null),R(e,t),k(l,e,null),R(e,s),k(o,e,null),v(d,i,g),v(d,a,g),k(u,a,null),f=!0,c||(m=Dt(dr.call(null,a)),c=!0)},p(d,g){const h={};g[0]&512|g[1]&16&&(h.$$scope={dirty:g,ctx:d}),n.$set(h);const b={};g[0]&770|g[1]&16&&(b.$$scope={dirty:g,ctx:d}),l.$set(b);const w={};g[0]&1564|g[1]&16&&(w.$$scope={dirty:g,ctx:d}),o.$set(w);const S={};g[0]&32&&(S.form=d[5]),g[0]&33&&(S.onCancel=d[28]),g[0]&1024&&(S.canProceed=d[10]==="keep"),g[0]&512&&(S.proceedButton={label:d[9]("disconnect")}),g[0]&512&&(S.cancelButton={label:d[9]("cancel")}),u.$set(S)},i(d){f||(_(n.$$.fragment,d),_(l.$$.fragment,d),_(o.$$.fragment,d),_(u.$$.fragment,d),f=!0)},o(d){p(n.$$.fragment,d),p(l.$$.fragment,d),p(o.$$.fragment,d),p(u.$$.fragment,d),f=!1},d(d){d&&$(e),y(n),y(l),y(o),d&&$(i),d&&$(a),y(u),c=!1,m()}}}function L$e(r,e,n){let t,l,s,o,i,a,u=H,f=()=>(u(),u=le(s,pe=>n(8,a=pe)),s),c,m,d,g,h,b,w=H,S=()=>(w(),w=le(t,pe=>n(22,b=pe)),t),T,M;ne(r,ce,pe=>n(9,T=pe)),r.$$.on_destroy.push(()=>u()),r.$$.on_destroy.push(()=>w());let{database:A}=e,{disconnect:D}=e,{cancel:O}=e;const F={keep:T("keep_the_database"),drop:T("drop_the_database")},P=Object.keys(F);function B(pe){return F[pe]}const j=gt("keep");ne(r,j,pe=>n(10,M=pe));const V=gt(!1);ne(r,V,pe=>n(4,h=pe));const q=gt(!1);ne(r,q,pe=>n(3,g=pe));const G=gt(!1);ne(r,G,pe=>n(2,d=pe));const Y=gt("");ne(r,Y,pe=>n(31,m=pe));const K=er("");ne(r,K,pe=>n(30,c=pe));async function ee(){await D({database:A,schemas_to_remove:i,role:d?{name:m,password:c}:void 0,disconnect_db_server:l&&a})}function x(pe){a=pe,s.set(a)}function X(pe){M=pe,j.set(M)}function fe(pe){h=pe,V.set(h)}function he(pe){g=pe,q.set(g)}function me(pe){d=pe,G.set(d)}const ge=()=>{o.reset(),O()};return r.$$set=pe=>{"database"in pe&&n(20,A=pe.database),"disconnect"in pe&&n(21,D=pe.disconnect),"cancel"in pe&&n(0,O=pe.cancel)},r.$$.update=()=>{r.$$.dirty[0]&5242880&&n(1,l=!Ys(pe=>pe.id!==A.id&&pe.server.id===A.server.id,b.values())),r.$$.dirty[0]&2&&f(n(6,s=gt(l))),r.$$.dirty[0]&20&&n(5,o=Wt(h&&d?{roleName:Y,rolePassword:K}:{})),r.$$.dirty[0]&24&&(i=(()=>{const pe=[];return h&&(pe.push("msar"),pe.push("__msar"),g&&pe.push("mathesar_types")),pe})())},S(n(7,{databases:t}=jn,t)),[O,l,d,g,h,o,s,t,a,T,M,P,B,j,V,q,G,Y,K,ee,A,D,b,x,X,fe,he,me,ge]}class H$e extends Q{constructor(e){super(),Z(this,e,L$e,P$e,J,{database:20,disconnect:21,cancel:0},null,[-1,-1])}}function V$e(r){let e,n;return e=new H$e({props:{database:r[4],disconnect:r[1],cancel:r[3]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.database=t[4]),l&2&&(s.disconnect=t[1]),l&1&&(s.cancel=t[3]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function hw(r){let e,n;return e=new kn({props:{$$slots:{default:[z$e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&80&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function z$e(r){let e=r[4].displayName+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&16&&e!==(e=t[4].displayName+"")&&z(n,e)},d(t){t&&$(n)}}}function B$e(r){let e,n,t=r[5]==="databaseName"&&hw(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[5]==="databaseName"?t?(t.p(l,s),s&32&&_(t,1)):(t=hw(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function q$e(r){let e,n,t;return n=new ot({props:{text:r[2]("disconnect_named_database"),$$slots:{default:[B$e,({slotName:l})=>({5:l}),({slotName:l})=>l?32:0]},$$scope:{ctx:r}}}),{c(){e=E("span"),C(n.$$.fragment),I(e,"slot","title")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&4&&(o.text=l[2]("disconnect_named_database")),s&112&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function U$e(r){let e,n;return e=new Yn({props:{controller:r[0],$$slots:{title:[q$e,({options:t})=>({4:t}),({options:t})=>t?16:0],default:[V$e,({options:t})=>({4:t}),({options:t})=>t?16:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.controller=t[0]),l&87&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function W$e(r,e,n){let t;ne(r,ce,i=>n(2,t=i));let{controller:l}=e,{disconnect:s}=e;const o=()=>l.close();return r.$$set=i=>{"controller"in i&&n(0,l=i.controller),"disconnect"in i&&n(1,s=i.disconnect)},[l,s,t,o]}class j$e extends Q{constructor(e){super(),Z(this,e,W$e,U$e,J,{controller:0,disconnect:1})}}const Y$e=r=>({storeValues:r&8}),bw=r=>({storeValues:r[3]}),G$e=r=>({storeValues:r&8}),$w=r=>({storeValues:r[3]});function K$e(r){let e,n;return e=new _l({props:{errors:r[4],fullWidth:!0}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.errors=t[4]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function X$e(r){let e,n,t;return n=new Ua({props:{tabs:r[1],uniformTabWidth:!1,tabStyle:"compact",hideTabsInCaseOfSingleTab:!0,$$slots:{default:[x$e,({activeTab:l})=>({25:l}),({activeTab:l})=>l?33554432:0]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","tabs svelte-1mria07"),ie(e,"tabs-displayed",r[1].length>1)},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&2&&(o.tabs=l[1]),s&37748744&&(o.$$scope={dirty:s,ctx:l}),n.$set(o),(!t||s&2)&&ie(e,"tabs-displayed",l[1].length>1)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function J$e(r){let e,n;return e=new Gt({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Z$e(r){let e;const n=r[21]["transfer-ownership"],t=ke(n,r,r[22],bw);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&4194312)&&Ce(t,n,l,l[22],e?ye(n,l[22],s,Y$e):Se(l[22]),bw)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function Q$e(r){let e;const n=r[21].share,t=ke(n,r,r[22],$w);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&4194312)&&Ce(t,n,l,l[22],e?ye(n,l[22],s,G$e):Se(l[22]),$w)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function x$e(r){let e,n,t,l;const s=[Q$e,Z$e],o=[];function i(a,u){var f,c;return((f=a[25])==null?void 0:f.id)==="share"?0:((c=a[25])==null?void 0:c.id)==="transfer_ownership"?1:-1}return~(n=i(r))&&(t=o[n]=s[n](r)),{c(){e=E("div"),t&&t.c(),I(e,"class","tab-content svelte-1mria07")},m(a,u){v(a,e,u),~n&&o[n].m(e,null),l=!0},p(a,u){let f=n;n=i(a),n===f?~n&&o[n].p(a,u):(t&&(U(),p(o[f],1,1,()=>{o[f]=null}),W()),~n?(t=o[n],t?t.p(a,u):(t=o[n]=s[n](a),t.c()),_(t,1),t.m(e,null)):t=null)},i(a){l||(_(t),l=!0)},o(a){p(t),l=!1},d(a){a&&$(e),~n&&o[n].d()}}}function e3e(r){let e,n,t,l;const s=[J$e,X$e,K$e],o=[];function i(a,u){return a[5]?0:a[0]&&a[3]?1:2}return n=i(r),t=o[n]=s[n](r),{c(){e=E("div"),t.c(),I(e,"class","content")},m(a,u){v(a,e,u),o[n].m(e,null),l=!0},p(a,[u]){let f=n;n=i(a),n===f?o[n].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),t=o[n],t?t.p(a,u):(t=o[n]=s[n](a),t.c()),_(t,1),t.m(e,null))},i(a){l||(_(t),l=!0)},o(a){p(t),l=!1},d(a){a&&$(e),o[n].d()}}}function t3e(r,e,n){let t,l,s,o,i,a,u,f,c,m,d,g,h,b,w,S,T=H,M=()=>(T(),T=le(b,me=>n(16,S=me)),b),A,D=H,O=()=>(D(),D=le(o,me=>n(17,A=me)),o),F,P,B=H,j=()=>(B(),B=le(i,me=>n(18,P=me)),i),V,q=H,G=()=>(q(),q=le(s,me=>n(19,V=me)),s),Y,K=H,ee=()=>(K(),K=le(l,me=>n(20,Y=me)),l);ne(r,ce,me=>n(23,F=me)),r.$$.on_destroy.push(()=>T()),r.$$.on_destroy.push(()=>D()),r.$$.on_destroy.push(()=>B()),r.$$.on_destroy.push(()=>q()),r.$$.on_destroy.push(()=>K());let{$$slots:x={},$$scope:X}=e,{getAsyncStores:fe}=e;const he=[{id:"share",label:F("share"),for:"all"},{id:"transfer_ownership",label:F("transfer_ownership"),for:"owner"}];return r.$$set=me=>{"getAsyncStores"in me&&n(10,fe=me.getAsyncStores),"$$scope"in me&&n(22,X=me.$$scope)},r.$$.update=()=>{var me;r.$$.dirty&1024&&n(15,t=fe()),r.$$.dirty&32768&&ee(n(9,{roles:l,privilegesForRoles:s,permissionsMetaData:o,currentRole:i}=t,l,G(n(8,s)),O(n(7,o)),j(n(6,i)))),r.$$.dirty&1966080&&n(5,a=Y.isLoading||V.isLoading||A.isLoading||P.isLoading),r.$$.dirty&1966080&&n(0,u=Y.isOk&&V.isOk&&A.isOk&&P.isOk),r.$$.dirty&1966080&&n(4,f=[Y.error,V.error,A.error,P.error].filter(At)),r.$$.dirty&1048576&&n(14,c=new Ct(Y.resolvedValue)),r.$$.dirty&131072&&n(13,m=A.resolvedValue),r.$$.dirty&524288&&n(12,d=new Ct(V.resolvedValue)),r.$$.dirty&262144&&n(11,g=P.resolvedValue),r.$$.dirty&30721&&n(3,h=u&&m&&g?{roles:c,permissionsMetaData:m,privilegesForRoles:d,currentRole:g}:void 0),r.$$.dirty&131072&&M(n(2,b=(me=A.resolvedValue)==null?void 0:me.currentAccess.currentRoleOwns)),r.$$.dirty&65536&&n(1,w=S?he:he.filter(ge=>ge.for==="all"))},[u,w,b,h,f,a,i,o,s,l,fe,g,d,m,c,t,S,A,P,V,Y,x,X]}class n3e extends Q{constructor(e){super(),Z(this,e,t3e,e3e,J,{getAsyncStores:10})}}const r3e=r=>({storeValues:r&64}),vw=r=>({storeValues:r[6]}),l3e=r=>({storeValues:r&64}),ww=r=>({storeValues:r[6]}),s3e=r=>({}),kw=r=>({slot:"title"});function o3e(r){let e;const n=r[3].share,t=ke(n,r,r[5],vw);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&96)&&Ce(t,n,l,l[5],e?ye(n,l[5],s,r3e):Se(l[5]),vw)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function i3e(r){let e;const n=r[3]["transfer-ownership"],t=ke(n,r,r[5],ww);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&96)&&Ce(t,n,l,l[5],e?ye(n,l[5],s,l3e):Se(l[5]),ww)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function a3e(r){let e,n;return e=new n3e({props:{getAsyncStores:r[1],$$slots:{"transfer-ownership":[i3e,({storeValues:t})=>({6:t}),({storeValues:t})=>t?64:0],share:[o3e,({storeValues:t})=>({6:t}),({storeValues:t})=>t?64:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.getAsyncStores=t[1]),l&96&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function u3e(r){let e;const n=r[3].title,t=ke(n,r,r[5],kw);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&32)&&Ce(t,n,l,l[5],e?ye(n,l[5],s,s3e):Se(l[5]),kw)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function f3e(r){let e,n;return e=new Yn({props:{controller:r[0],$$slots:{title:[u3e],default:[a3e]},$$scope:{ctx:r}}}),e.$on("close",r[4]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.controller=t[0]),l&34&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function c3e(r,e,n){let{$$slots:t={},$$scope:l}=e,{controller:s}=e,{getAsyncStores:o}=e,{onClose:i=()=>{}}=e;const a=()=>i();return r.$$set=u=>{"controller"in u&&n(0,s=u.controller),"getAsyncStores"in u&&n(1,o=u.getAsyncStores),"onClose"in u&&n(2,i=u.onClose),"$$scope"in u&&n(5,l=u.$$scope)},[s,o,i,t,a,l]}class qp extends Q{constructor(e){super(),Z(this,e,c3e,f3e,J,{controller:0,getAsyncStores:1,onClose:2})}}const ys="custom";function m3e(r,e){const n=r.find(t=>e.equals(t.privileges));return n?n.id:ys}class Ta{constructor(e){te(this,"roleOid");te(this,"accessLevelConfig");te(this,"accessLevel");te(this,"privileges");te(this,"savedPrivileges");if(this.accessLevelConfig=e.accessLevelConfig,this.roleOid=e.roleOid,this.savedPrivileges=e.savedPrivileges,"privileges"in e&&"accessLevel"in e&&e.accessLevel===ys)this.accessLevel=ys,this.privileges=new vn(e.privileges);else if("privileges"in e)this.privileges=new vn(e.privileges),this.accessLevel=m3e(this.accessLevelConfig,this.privileges);else{this.accessLevel=e.accessLevel;const n=this.accessLevelConfig.find(t=>t.id===this.accessLevel);if(!n)throw new Error("Access level not found in configuration. This should never occur.");this.privileges=new vn(n.privileges)}}getCommonProps(){return{roleOid:this.roleOid,accessLevelConfig:this.accessLevelConfig,savedPrivileges:this.savedPrivileges}}withAccess(e){return new Ta({...this.getCommonProps(),accessLevel:e})}withCustomAccess(e){var t;const n=(t=e!=null?e:this.savedPrivileges)!=null?t:this.privileges.valuesArray();return new Ta({...this.getCommonProps(),accessLevel:ys,privileges:n})}}function yw(r,e,n){const t=r.slice();return t[7]=e[n],t}function Cw(r){let e,n,t=r[5]("child_roles_count",{values:{count:r[3].length}})+"",l;return{c(){e=E("span"),n=L("+ "),l=L(t),I(e,"class","member-count svelte-1l5tj01")},m(s,o){v(s,e,o),R(e,n),R(e,l)},p(s,o){o&40&&t!==(t=s[5]("child_roles_count",{values:{count:s[3].length}})+"")&&z(l,t)},d(s){s&&$(e)}}}function Sw(r,e){var m,d;let n,t,l,s,o=((d=(m=e[0].get(e[7].oid))==null?void 0:m.name)!=null?d:e[7].oid)+"",i,a,u;const f=[c0,{size:"0.75em"}];let c={};for(let g=0;g<f.length;g+=1)c=se(c,f[g]);return t=new Ne({props:c}),{key:r,first:null,c(){n=E("div"),C(t.$$.fragment),l=N(),s=E("span"),i=L(o),a=N(),I(n,"class","member svelte-1l5tj01"),this.first=n},m(g,h){v(g,n,h),k(t,n,null),R(n,l),R(n,s),R(s,i),R(n,a),u=!0},p(g,h){var w,S;e=g;const b=h&0?de(f,[_e(c0),f[1]]):{};t.$set(b),(!u||h&9)&&o!==(o=((S=(w=e[0].get(e[7].oid))==null?void 0:w.name)!=null?S:e[7].oid)+"")&&z(i,o)},i(g){u||(_(t.$$.fragment,g),u=!0)},o(g){p(t.$$.fragment,g),u=!1},d(g){g&&$(n),y(t)}}}function d3e(r){var h,b;let e,n,t,l=((b=(h=r[2])==null?void 0:h.name)!=null?b:r[1])+"",s,o,i,a,u=[],f=new Map,c,m=r[3].length&&Cw(r),d=r[3];const g=w=>w[7].oid;for(let w=0;w<d.length;w+=1){let S=yw(r,d,w),T=g(S);f.set(T,u[w]=Sw(T,S))}return{c(){e=E("div"),n=E("div"),t=E("span"),s=L(l),o=N(),m&&m.c(),i=N(),a=E("div");for(let w=0;w<u.length;w+=1)u[w].c();I(t,"class","name svelte-1l5tj01"),I(n,"class","name-and-size"),I(a,"class","members"),I(e,"class","role-with-children svelte-1l5tj01")},m(w,S){v(w,e,S),R(e,n),R(n,t),R(t,s),R(n,o),m&&m.m(n,null),R(e,i),R(e,a);for(let T=0;T<u.length;T+=1)u[T].m(a,null);c=!0},p(w,[S]){var T,M;(!c||S&6)&&l!==(l=((M=(T=w[2])==null?void 0:T.name)!=null?M:w[1])+"")&&z(s,l),w[3].length?m?m.p(w,S):(m=Cw(w),m.c(),m.m(n,null)):m&&(m.d(1),m=null),S&9&&(d=w[3],U(),u=ht(u,S,g,1,w,d,f,a,kt,Sw,null,yw),W())},i(w){if(!c){for(let S=0;S<d.length;S+=1)_(u[S]);c=!0}},o(w){for(let S=0;S<u.length;S+=1)p(u[S]);c=!1},d(w){w&&$(e),m&&m.d();for(let S=0;S<u.length;S+=1)u[S].d()}}}function _3e(r,e,n){let t,l,s,o,i=H,a=()=>(i(),i=le(l,m=>n(6,o=m)),l),u;ne(r,ce,m=>n(5,u=m)),r.$$.on_destroy.push(()=>i());let{rolesMap:f}=e,{roleOid:c}=e;return r.$$set=m=>{"rolesMap"in m&&n(0,f=m.rolesMap),"roleOid"in m&&n(1,c=m.roleOid)},r.$$.update=()=>{var m;r.$$.dirty&3&&n(2,t=f.get(c)),r.$$.dirty&4&&a(n(4,l=t==null?void 0:t.members)),r.$$.dirty&65&&n(3,s=[...(m=o==null?void 0:o.values())!=null?m:[]].filter(d=>{var g;return(g=f.get(d.oid))==null?void 0:g.inherits}))},[f,c,t,s,l,u,o]}class CM extends Q{constructor(e){super(),Z(this,e,_3e,d3e,J,{rolesMap:0,roleOid:1})}}function p3e(r){var l,s;let e,n=((s=(l=r[1].get(r[3].accessLevel))==null?void 0:l.name)!=null?s:"")+"",t;return{c(){e=E("div"),t=L(n),I(e,"class","access-level-static svelte-b02w2l")},m(o,i){v(o,e,i),R(e,t)},p(o,i){var a,u;i&10&&n!==(n=((u=(a=o[1].get(o[3].accessLevel))==null?void 0:a.name)!=null?u:"")+"")&&z(t,n)},i:H,o:H,d(o){o&&$(e)}}}function g3e(r){let e,n;return e=new fn({props:{options:[...r[1].keys()],value:r[3].accessLevel,$$slots:{trigger:[b3e,({option:t})=>({19:t}),({option:t})=>t?524288:0],default:[h3e,({option:t})=>({19:t}),({option:t})=>t?524288:0]},$$scope:{ctx:r}}}),e.$on("change",r[13]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.options=[...t[1].keys()]),l&8&&(s.value=t[3].accessLevel),l&1572866&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Tw(r){var u,f,c,m;let e,n,t=((f=(u=r[1].get(r[19]))==null?void 0:u.name)!=null?f:"")+"",l,s,o,i=((m=(c=r[1].get(r[19]))==null?void 0:c.help)!=null?m:"")+"",a;return{c(){e=E("div"),n=E("div"),l=L(t),s=N(),o=E("div"),a=L(i),I(n,"class","name svelte-b02w2l"),I(o,"class","help svelte-b02w2l"),I(e,"class","access-selection-option svelte-b02w2l")},m(d,g){v(d,e,g),R(e,n),R(n,l),R(e,s),R(e,o),R(o,a)},p(d,g){var h,b,w,S;g&524290&&t!==(t=((b=(h=d[1].get(d[19]))==null?void 0:h.name)!=null?b:"")+"")&&z(l,t),g&524290&&i!==(i=((S=(w=d[1].get(d[19]))==null?void 0:w.help)!=null?S:"")+"")&&z(a,i)},d(d){d&&$(e)}}}function h3e(r){let e,n=r[19]&&Tw(r);return{c(){n&&n.c(),e=ae()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,l){t[19]?n?n.p(t,l):(n=Tw(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&$(e)}}}function b3e(r){var l,s;let e,n=((s=(l=r[1].get(r[19]))==null?void 0:l.name)!=null?s:"")+"",t;return{c(){e=E("div"),t=L(n),I(e,"slot","trigger")},m(o,i){v(o,e,i),R(e,t)},p(o,i){var a,u;i&524290&&n!==(n=((u=(a=o[1].get(o[19]))==null?void 0:a.name)!=null?u:"")+"")&&z(t,n)},d(o){o&&$(e)}}}function Iw(r){let e,n,t;return n=new st({props:{appearance:"secondary",$$slots:{default:[$3e]},$$scope:{ctx:r}}}),n.$on("click",r[14]),{c(){e=E("div"),C(n.$$.fragment)},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&1048576&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function $3e(r){let e,n;const t=[uf];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[_e(uf)]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function Ew(r){let e,n,t,l;function s(i){r[18](i)}let o={triggerAppearance:"plain",$$slots:{content:[w3e],header:[v3e]},$$scope:{ctx:r}};return r[5]!==void 0&&(o.isOpen=r[5]),n=new Fl({props:o}),we.push(()=>Me(n,"isOpen",s)),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","role-permissions svelte-b02w2l")},m(i,a){v(i,e,a),k(n,e,null),l=!0},p(i,a){const u={};a&1048972&&(u.$$scope={dirty:a,ctx:i}),!t&&a&32&&(t=!0,u.isOpen=i[5],De(()=>t=!1)),n.$set(u)},i(i){l||(_(n.$$.fragment,i),l=!0)},o(i){p(n.$$.fragment,i),l=!1},d(i){i&&$(e),y(n)}}}function v3e(r){let e,n=r[8]("role_privileges")+"",t;return{c(){e=E("div"),t=L(n),I(e,"slot","header")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&256&&n!==(n=l[8]("role_privileges")+"")&&z(t,n)},d(l){l&&$(e)}}}function w3e(r){let e,n,t;return n=new tT({props:{values:r[3].privileges.valuesArray(),options:[...r[2].keys()],getCheckboxLabel:r[15],getCheckboxHelp:r[16],disabled:!r[7]}}),n.$on("artificialChange",r[17]),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","content svelte-b02w2l"),I(e,"slot","content")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&8&&(o.values=l[3].privileges.valuesArray()),s&4&&(o.options=[...l[2].keys()]),s&4&&(o.getCheckboxHelp=l[16]),s&128&&(o.disabled=!l[7]),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function k3e(r){let e,n,t,l,s,o,i,a,u,f;n=new CM({props:{rolesMap:r[0],roleOid:r[3].roleOid}});const c=[g3e,p3e],m=[];function d(b,w){return b[7]?0:1}s=d(r),o=m[s]=c[s](r);let g=r[7]&&Iw(r),h=r[3].accessLevel===ys&&Ew(r);return{c(){e=E("div"),C(n.$$.fragment),t=N(),l=E("div"),o.c(),i=N(),g&&g.c(),a=N(),h&&h.c(),u=ae(),I(e,"class","access-selection svelte-b02w2l")},m(b,w){v(b,e,w),k(n,e,null),R(e,t),R(e,l),m[s].m(l,null),R(e,i),g&&g.m(e,null),v(b,a,w),h&&h.m(b,w),v(b,u,w),f=!0},p(b,[w]){const S={};w&1&&(S.rolesMap=b[0]),w&8&&(S.roleOid=b[3].roleOid),n.$set(S);let T=s;s=d(b),s===T?m[s].p(b,w):(U(),p(m[T],1,1,()=>{m[T]=null}),W(),o=m[s],o?o.p(b,w):(o=m[s]=c[s](b),o.c()),_(o,1),o.m(l,null)),b[7]?g?(g.p(b,w),w&128&&_(g,1)):(g=Iw(b),g.c(),_(g,1),g.m(e,null)):g&&(U(),p(g,1,1,()=>{g=null}),W()),b[3].accessLevel===ys?h?(h.p(b,w),w&8&&_(h,1)):(h=Ew(b),h.c(),_(h,1),h.m(u.parentNode,u)):h&&(U(),p(h,1,1,()=>{h=null}),W())},i(b){f||(_(n.$$.fragment,b),_(o),_(g),_(h),f=!0)},o(b){p(n.$$.fragment,b),p(o),p(g),p(h),f=!1},d(b){b&&$(e),y(n),m[s].d(),g&&g.d(),b&&$(a),h&&h.d(b),b&&$(u)}}}function y3e(r,e,n){let t,l,s=H,o=()=>(s(),s=le(t,F=>n(7,l=F)),t),i;ne(r,ce,F=>n(8,i=F)),r.$$.on_destroy.push(()=>s());let{rolesMap:a}=e,{permissionsMetaData:u}=e,{accessLevelsInfoMap:f}=e,{privilegeInfoMap:c}=e,{roleAccess:m}=e,{setAccess:d}=e,{removeAccess:g}=e,h=!1;function b(F){d(m.roleOid,m.withCustomAccess(F))}function w(F){F&&(F===ys?(d(m.roleOid,m.withCustomAccess()),n(5,h=!0)):d(m.roleOid,m.withAccess(F)))}const S=F=>w(F.detail),T=()=>g(m.roleOid),M=F=>String(F),A=F=>{var P,B;return(B=(P=c.get(F))==null?void 0:P.help)!=null?B:""},D=F=>b(F.detail);function O(F){h=F,n(5,h)}return r.$$set=F=>{"rolesMap"in F&&n(0,a=F.rolesMap),"permissionsMetaData"in F&&n(11,u=F.permissionsMetaData),"accessLevelsInfoMap"in F&&n(1,f=F.accessLevelsInfoMap),"privilegeInfoMap"in F&&n(2,c=F.privilegeInfoMap),"roleAccess"in F&&n(3,m=F.roleAccess),"setAccess"in F&&n(12,d=F.setAccess),"removeAccess"in F&&n(4,g=F.removeAccess)},r.$$.update=()=>{r.$$.dirty&2048&&o(n(6,t=u.currentAccess.currentRoleOwns))},[a,f,c,m,g,h,t,l,i,b,w,u,d,S,T,M,A,D,O]}class C3e extends Q{constructor(e){super(),Z(this,e,y3e,k3e,J,{rolesMap:0,permissionsMetaData:11,accessLevelsInfoMap:1,privilegeInfoMap:2,roleAccess:3,setAccess:12,removeAccess:4})}}const S3e=r=>({}),Mw=r=>({});function Rw(r){let e,n;const t=r[3].actions,l=ke(t,r,r[2],Mw);return{c(){e=E("div"),l&&l.c(),I(e,"class","actions svelte-1idtag3")},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,o){l&&l.p&&(!n||o&4)&&Ce(l,t,s,s[2],n?ye(t,s[2],o,S3e):Se(s[2]),Mw)},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function T3e(r){let e,n,t,l,s,o,i,a,u=r[1].actions&&Rw(r);const f=r[3].default,c=ke(f,r,r[2],null);return{c(){e=E("div"),n=E("div"),t=E("span"),l=L(r[0]),s=N(),u&&u.c(),o=N(),i=E("div"),c&&c.c(),I(t,"class","title svelte-1idtag3"),I(n,"class","header svelte-1idtag3"),I(i,"class","content svelte-1idtag3"),I(e,"class","section svelte-1idtag3")},m(m,d){v(m,e,d),R(e,n),R(n,t),R(t,l),R(n,s),u&&u.m(n,null),R(e,o),R(e,i),c&&c.m(i,null),a=!0},p(m,[d]){(!a||d&1)&&z(l,m[0]),m[1].actions?u?(u.p(m,d),d&2&&_(u,1)):(u=Rw(m),u.c(),_(u,1),u.m(n,null)):u&&(U(),p(u,1,1,()=>{u=null}),W()),c&&c.p&&(!a||d&4)&&Ce(c,f,m,m[2],a?ye(f,m[2],d,null):Se(m[2]),null)},i(m){a||(_(u),_(c,m),a=!0)},o(m){p(u),p(c,m),a=!1},d(m){m&&$(e),u&&u.d(),c&&c.d(m)}}}function I3e(r,e,n){let{$$slots:t={},$$scope:l}=e;const s=mr(t);let{title:o}=e;return r.$$set=i=>{"title"in i&&n(0,o=i.title),"$$scope"in i&&n(2,l=i.$$scope)},[o,s,l,t]}class SM extends Q{constructor(e){super(),Z(this,e,I3e,T3e,J,{title:0})}}function E3e(r,e){return e.mapValues(n=>new Ta({roleOid:n.role_oid,accessLevelConfig:r,privileges:[...n.direct],savedPrivileges:[...n.direct]}))}const{Map:TM}=gi;function Dw(r,e,n){const t=r.slice();return t[28]=e[n],t}function Aw(r,e,n){const t=r.slice();return t[25]=e[n],t}function Ow(r){let e,n,t,l;return n=new ur({props:{fullWidth:!0,$$slots:{default:[M3e]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),I(e,"class","no-access")},m(s,o){v(s,e,o),k(n,e,null),R(e,t),l=!0},p(s,o){const i={};o[0]&16|o[1]&1&&(i.$$scope={dirty:o,ctx:s}),n.$set(i)},i(s){l||(_(n.$$.fragment,s),l=!0)},o(s){p(n.$$.fragment,s),l=!1},d(s){s&&$(e),y(n)}}}function M3e(r){let e=r[4]("access_not_granted_for_any_role")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l[0]&16&&e!==(e=t[4]("access_not_granted_for_any_role")+"")&&z(n,e)},d(t){t&&$(n)}}}function Fw(r,e){let n,t,l,s;return t=new C3e({props:{rolesMap:e[1],permissionsMetaData:e[2],accessLevelsInfoMap:e[7],privilegeInfoMap:e[6],roleAccess:e[28],setAccess:e[15],removeAccess:e[16]}}),{key:r,first:null,c(){n=E("div"),C(t.$$.fragment),l=N(),I(n,"class","access-control-row svelte-x52w2g"),this.first=n},m(o,i){v(o,n,i),k(t,n,null),R(n,l),s=!0},p(o,i){e=o;const a={};i[0]&2&&(a.rolesMap=e[1]),i[0]&4&&(a.permissionsMetaData=e[2]),i[0]&128&&(a.accessLevelsInfoMap=e[7]),i[0]&64&&(a.privilegeInfoMap=e[6]),i[0]&2048&&(a.roleAccess=e[28]),t.$set(a)},i(o){s||(_(t.$$.fragment,o),s=!0)},o(o){p(t.$$.fragment,o),s=!1},d(o){o&&$(n),y(t)}}}function R3e(r){let e,n=[],t=new TM,l,s,o,i,a=[...r[11].values()];const u=c=>c[28].roleOid;for(let c=0;c<a.length;c+=1){let m=Dw(r,a,c),d=u(m);t.set(d,n[c]=Fw(d,m))}let f=null;return a.length||(f=Ow(r)),{c(){e=E("div");for(let c=0;c<n.length;c+=1)n[c].c();f&&f.c(),I(e,"class","access-control-rows svelte-x52w2g"),ie(e,"empty",r[11].size===0)},m(c,m){v(c,e,m);for(let d=0;d<n.length;d+=1)n[d].m(e,null);f&&f.m(e,null),s=!0,o||(i=Dt(l=Ii.call(null,e,{scrollHint:r[4]("privileges_new_items_scroll_hint")})),o=!0)},p(c,m){m[0]&100566&&(a=[...c[11].values()],U(),n=ht(n,m,u,1,c,a,t,e,kt,Fw,null,Dw),W(),!a.length&&f?f.p(c,m):a.length?f&&(U(),p(f,1,1,()=>{f=null}),W()):(f=Ow(c),f.c(),_(f,1),f.m(e,null))),l&&St(l.update)&&m[0]&16&&l.update.call(null,{scrollHint:c[4]("privileges_new_items_scroll_hint")}),(!s||m[0]&2048)&&ie(e,"empty",c[11].size===0)},i(c){if(!s){for(let m=0;m<a.length;m+=1)_(n[m]);s=!0}},o(c){for(let m=0;m<n.length;m+=1)p(n[m]);s=!1},d(c){c&&$(e);for(let m=0;m<n.length;m+=1)n[m].d();f&&f.d(),o=!1,i()}}}function Nw(r){let e,n;return e=new Pr({props:{label:r[4]("add_roles"),triggerAppearance:"secondary",icon:jt,triggerClass:"padding-compact",$$slots:{default:[A3e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&16&&(s.label=t[4]("add_roles")),l[0]&2082|l[1]&1&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function D3e(r){let e=r[25].name+"",n,t;return{c(){n=L(e),t=N()},m(l,s){v(l,n,s),v(l,t,s)},p(l,s){s[0]&2&&e!==(e=l[25].name+"")&&z(n,e)},d(l){l&&$(n),l&&$(t)}}}function Pw(r,e){let n,t,l;function s(){return e[23](e[25])}return t=new wn({props:{disabled:e[11].has(e[25].oid)||e[25].oid===e[5],$$slots:{default:[D3e]},$$scope:{ctx:e}}}),t.$on("click",s),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(o,i){v(o,n,i),k(t,o,i),l=!0},p(o,i){e=o;const a={};i[0]&2082&&(a.disabled=e[11].has(e[25].oid)||e[25].oid===e[5]),i[0]&2|i[1]&1&&(a.$$scope={dirty:i,ctx:e}),t.$set(a)},i(o){l||(_(t.$$.fragment,o),l=!0)},o(o){p(t.$$.fragment,o),l=!1},d(o){o&&$(n),y(t,o)}}}function A3e(r){let e=[],n=new TM,t,l,s=[...r[1].values()];const o=i=>i[25].oid;for(let i=0;i<s.length;i+=1){let a=Aw(r,s,i),u=o(a);n.set(u,e[i]=Pw(u,a))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=ae()},m(i,a){for(let u=0;u<e.length;u+=1)e[u].m(i,a);v(i,t,a),l=!0},p(i,a){a[0]&18466&&(s=[...i[1].values()],U(),e=ht(e,a,o,1,i,s,n,t.parentNode,kt,Pw,t,Aw),W())},i(i){if(!l){for(let a=0;a<s.length;a+=1)_(e[a]);l=!0}},o(i){for(let a=0;a<e.length;a+=1)p(e[a]);l=!1},d(i){for(let a=0;a<e.length;a+=1)e[a].d(i);i&&$(t)}}}function O3e(r){let e,n,t=r[12]&&Nw(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[12]?t?(t.p(l,s),s[0]&4096&&_(t,1)):(t=Nw(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function Lw(r){let e,n,t,l,s;return n=new yn({props:{form:r[8],canProceed:r[13].hasChanges,catchErrors:!0,onCancel:r[24],onProceed:r[17],proceedButton:{label:r[4]("save")},cancelButton:{label:r[4]("cancel")}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","footer")},m(o,i){v(o,e,i),k(n,e,null),t=!0,l||(s=Dt(dr.call(null,e)),l=!0)},p(o,i){const a={};i[0]&256&&(a.form=o[8]),i[0]&8192&&(a.canProceed=o[13].hasChanges),i[0]&1&&(a.onCancel=o[24]),i[0]&16&&(a.proceedButton={label:o[4]("save")}),i[0]&16&&(a.cancelButton={label:o[4]("cancel")}),n.$set(a)},i(o){t||(_(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&$(e),y(n),l=!1,s()}}}function F3e(r){let e,n,t,l;e=new SM({props:{title:r[4]("granted_privileges"),$$slots:{actions:[O3e],default:[R3e]},$$scope:{ctx:r}}});let s=r[12]&&Lw(r);return{c(){C(e.$$.fragment),n=N(),s&&s.c(),t=ae()},m(o,i){k(e,o,i),v(o,n,i),s&&s.m(o,i),v(o,t,i),l=!0},p(o,i){const a={};i[0]&16&&(a.title=o[4]("granted_privileges")),i[0]&6390|i[1]&1&&(a.$$scope={dirty:i,ctx:o}),e.$set(a),o[12]?s?(s.p(o,i),i[0]&4096&&_(s,1)):(s=Lw(o),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(U(),p(s,1,1,()=>{s=null}),W())},i(o){l||(_(e.$$.fragment,o),_(s),l=!0)},o(o){p(e.$$.fragment,o),p(s),l=!1},d(o){y(e,o),o&&$(n),s&&s.d(o),o&&$(t)}}}function N3e(r,e,n){let t,l,s,o,i,a,u,f,c,m=H,d=()=>(m(),m=le(o,fe=>n(11,c=fe)),o),g,h,b=H,w=()=>(b(),b=le(t,fe=>n(5,h=fe)),t),S,T=H,M=()=>(T(),T=le(l,fe=>n(12,S=fe)),l),A,D=H,O=()=>(D(),D=le(i,fe=>n(13,A=fe)),i);ne(r,ce,fe=>n(4,g=fe)),r.$$.on_destroy.push(()=>m()),r.$$.on_destroy.push(()=>b()),r.$$.on_destroy.push(()=>T()),r.$$.on_destroy.push(()=>D());let{controller:F}=e,{config:P}=e,{roles:B}=e,{privilegesForRoles:j}=e,{permissionsMetaData:V}=e,{savePrivilegesForRoles:q}=e;function G(fe){const he=new Ta({roleOid:fe,accessLevelConfig:P.access.levels,accessLevel:P.access.default});o.update(me=>me.with(fe,he,(ge,pe)=>ge!=null?ge:pe))}function Y(fe,he){o.update(me=>me.with(fe,he))}function K(fe){o.update(he=>he.without(fe))}async function ee(){const fe=[...s.keys()].filter(me=>!c.has(me)).map(me=>({role_oid:me,direct:[]})),he=[...c.values()].map(me=>({role_oid:me.roleOid,direct:me.privileges.valuesArray()}));await q([...fe,...he]),F.close()}const x=fe=>G(fe.oid),X=()=>{F.close()};return r.$$set=fe=>{"controller"in fe&&n(0,F=fe.controller),"config"in fe&&n(18,P=fe.config),"roles"in fe&&n(1,B=fe.roles),"privilegesForRoles"in fe&&n(19,j=fe.privilegesForRoles),"permissionsMetaData"in fe&&n(2,V=fe.permissionsMetaData),"savePrivilegesForRoles"in fe&&n(20,q=fe.savePrivilegesForRoles)},r.$$.update=()=>{r.$$.dirty[0]&4&&w(n(10,{ownerOid:t,currentRoleOwns:l}=V.currentAccess,t,M(n(9,l)))),r.$$.dirty[0]&524320&&n(21,s=j.filterValues(fe=>fe.role_oid!==h)),r.$$.dirty[0]&2359296&&d(n(3,o=gt(E3e(P.access.levels,s)))),r.$$.dirty[0]&8&&O(n(8,i=Wt({roleAccessField:o}))),r.$$.dirty[0]&262160&&n(22,a=[...P.access.levels.map(fe=>({id:fe.id,name:fe.name,help:fe.help})),{id:ys,name:g("custom"),help:g("access_custom_help")}]),r.$$.dirty[0]&4194304&&n(7,u=new Map(a.map(fe=>[fe.id,fe]))),r.$$.dirty[0]&262144&&n(6,f=new Map(P.allPrivileges.map(fe=>[fe.id,fe])))},[F,B,V,o,g,h,f,u,i,l,t,c,S,A,G,Y,K,ee,P,j,q,s,a,x,X]}class P3e extends Q{constructor(e){super(),Z(this,e,N3e,F3e,J,{controller:0,config:18,roles:1,privilegesForRoles:19,permissionsMetaData:2,savePrivilegesForRoles:20},null,[-1,-1])}}function L3e(r){let e,n;return e=new CM({props:{rolesMap:r[0],roleOid:r[3]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.rolesMap=t[0]),l&8&&(s.roleOid=t[3]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function H3e(r){let e,n;return e=new SM({props:{title:r[2]("owner"),$$slots:{default:[L3e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&4&&(s.title=t[2]("owner")),l&41&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function V3e(r,e,n){let t,l,s,o=H,i=()=>(o(),o=le(t,f=>n(3,s=f)),t);ne(r,ce,f=>n(2,l=f)),r.$$.on_destroy.push(()=>o());let{roles:a}=e,{permissionsMetaData:u}=e;return r.$$set=f=>{"roles"in f&&n(0,a=f.roles),"permissionsMetaData"in f&&n(4,u=f.permissionsMetaData)},r.$$.update=()=>{r.$$.dirty&16&&i(n(1,t=u.currentAccess.ownerOid))},[a,t,l,s,u]}class z3e extends Q{constructor(e){super(),Z(this,e,V3e,H3e,J,{roles:0,permissionsMetaData:4})}}function B3e(r){let e,n,t,l,s;return n=new z3e({props:{roles:r[5],permissionsMetaData:r[3]}}),l=new P3e({props:{controller:r[0],config:r[1],roles:r[5],privilegesForRoles:r[4],permissionsMetaData:r[3],savePrivilegesForRoles:r[2]}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),C(l.$$.fragment),I(e,"class","permissions-overview")},m(o,i){v(o,e,i),k(n,e,null),R(e,t),k(l,e,null),s=!0},p(o,[i]){const a={};i&32&&(a.roles=o[5]),i&8&&(a.permissionsMetaData=o[3]),n.$set(a);const u={};i&1&&(u.controller=o[0]),i&2&&(u.config=o[1]),i&32&&(u.roles=o[5]),i&16&&(u.privilegesForRoles=o[4]),i&8&&(u.permissionsMetaData=o[3]),i&4&&(u.savePrivilegesForRoles=o[2]),l.$set(u)},i(o){s||(_(n.$$.fragment,o),_(l.$$.fragment,o),s=!0)},o(o){p(n.$$.fragment,o),p(l.$$.fragment,o),s=!1},d(o){o&&$(e),y(n),y(l)}}}function q3e(r,e,n){let t,l,s,{controller:o}=e,{accessControlConfig:i}=e,{savePrivilegesForRoles:a}=e,{storeValues:u}=e;return r.$$set=f=>{"controller"in f&&n(0,o=f.controller),"accessControlConfig"in f&&n(1,i=f.accessControlConfig),"savePrivilegesForRoles"in f&&n(2,a=f.savePrivilegesForRoles),"storeValues"in f&&n(6,u=f.storeValues)},r.$$.update=()=>{r.$$.dirty&64&&n(5,{roles:t,privilegesForRoles:l,permissionsMetaData:s}=u,t,(n(4,l),n(6,u)),(n(3,s),n(6,u)))},[o,i,a,s,l,t,u]}class Up extends Q{constructor(e){super(),Z(this,e,q3e,B3e,J,{controller:0,accessControlConfig:1,savePrivilegesForRoles:2,storeValues:6})}}function U3e(r){let e,n,t,l,s,o,i,a;return n=new It({props:{label:r[5]("new_owner"),layout:"stacked",field:r[8],input:{component:r[7],props:{options:r[1],getLabel:r[18],autoSelect:"none",isOptionDisabled:r[19]}}}}),s=new yn({props:{form:r[9],canProceed:r[6].hasChanges,catchErrors:!0,onCancel:r[20],onProceed:r[10],proceedButton:{label:r[5]("transfer_ownership")},cancelButton:{label:r[5]("cancel")}}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),l=E("div"),C(s.$$.fragment),I(l,"class","footer")},m(u,f){v(u,e,f),k(n,e,null),v(u,t,f),v(u,l,f),k(s,l,null),o=!0,i||(a=Dt(dr.call(null,l)),i=!0)},p(u,[f]){const c={};f&32&&(c.label=u[5]("new_owner")),f&46&&(c.input={component:u[7],props:{options:u[1],getLabel:u[18],autoSelect:"none",isOptionDisabled:u[19]}}),n.$set(c);const m={};f&64&&(m.canProceed=u[6].hasChanges),f&1&&(m.onCancel=u[20]),f&32&&(m.proceedButton={label:u[5]("transfer_ownership")}),f&32&&(m.cancelButton={label:u[5]("cancel")}),s.$set(m)},i(u){o||(_(n.$$.fragment,u),_(s.$$.fragment,u),o=!0)},o(u){p(n.$$.fragment,u),p(s.$$.fragment,u),o=!1},d(u){u&&$(e),y(n),u&&$(t),u&&$(l),y(s),i=!1,a()}}}function W3e(r,e,n){let t,l,s,o,i,a,u,f,c,m,d=H,g=()=>(d(),d=le(i,j=>n(17,m=j)),i),h,b;ne(r,ce,j=>n(5,h=j)),r.$$.on_destroy.push(()=>d());let{controller:w}=e,{transferOwnership:S}=e,{storeValues:T}=e;const M=fn,A=gt(void 0);ne(r,A,j=>n(21,c=j));const D=Wt({newOwner:A});ne(r,D,j=>n(6,b=j));async function O(){c&&await S(c),w.close()}const F=j=>{var V,q;return j?(q=(V=t.get(j))==null?void 0:V.name)!=null?q:String(j):h("select_role")},P=j=>j!==void 0&&!f.has(j),B=()=>{w.close()};return r.$$set=j=>{"controller"in j&&n(0,w=j.controller),"transferOwnership"in j&&n(11,S=j.transferOwnership),"storeValues"in j&&n(12,T=j.storeValues)},r.$$.update=()=>{r.$$.dirty&4096&&n(2,{roles:t,permissionsMetaData:l,currentRole:s}=T,t,(n(16,l),n(12,T)),(n(14,s),n(12,T))),r.$$.dirty&4&&n(1,o=[...t.values()].map(j=>j.oid)),r.$$.dirty&65536&&g(n(4,i=l.currentAccess.ownerOid)),r.$$.dirty&16388&&n(15,a=t.get(s.oid)),r.$$.dirty&49154&&n(13,u=a!=null&&a.super?o:[...s.parentRoles.keys(),s.oid]),r.$$.dirty&139264&&n(3,f=new Set(u.filter(j=>j!==m)))},[w,o,t,f,i,h,b,M,A,D,O,S,T,u,s,a,l,m,F,P,B]}class Wp extends Q{constructor(e){super(),Z(this,e,W3e,U3e,J,{controller:0,transferOwnership:11,storeValues:12})}}function Hw(r){let e,n;return e=new kn({props:{$$slots:{default:[j3e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&131074&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function j3e(r){let e=r[1].displayName+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&2&&e!==(e=t[1].displayName+"")&&z(n,e)},d(t){t&&$(n)}}}function Y3e(r){let e,n,t=r[16]==="databaseName"&&Hw(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[16]==="databaseName"?t?(t.p(l,s),s&65536&&_(t,1)):(t=Hw(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function Vw(r){let e=r[4]("database_settings")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&16&&e!==(e=t[4]("database_settings")+"")&&z(n,e)},d(t){t&&$(n)}}}function G3e(r){let e,n=r[16]==="databaseSettings"&&Vw(r);return{c(){n&&n.c(),e=ae()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,l){t[16]==="databaseSettings"?n?n.p(t,l):(n=Vw(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&$(e)}}}function K3e(r){let e,n=r[4]("database_permissions_help_1")+"",t,l,s,o=r[4]("database_permissions_help_2")+"",i,a,u,f,c,m,d,g;return f=new Hr({props:{page:"databasePermissions"}}),d=new ot({props:{text:r[4]("database_permissions_help_3"),$$slots:{default:[G3e,({slotName:h})=>({16:h}),({slotName:h})=>h?65536:0]},$$scope:{ctx:r}}}),{c(){e=E("p"),t=L(n),l=N(),s=E("p"),i=L(o),a=N(),u=E("p"),C(f.$$.fragment),c=N(),m=E("p"),C(d.$$.fragment)},m(h,b){v(h,e,b),R(e,t),v(h,l,b),v(h,s,b),R(s,i),v(h,a,b),v(h,u,b),k(f,u,null),v(h,c,b),v(h,m,b),k(d,m,null),g=!0},p(h,b){(!g||b&16)&&n!==(n=h[4]("database_permissions_help_1")+"")&&z(t,n),(!g||b&16)&&o!==(o=h[4]("database_permissions_help_2")+"")&&z(i,o);const w={};b&16&&(w.text=h[4]("database_permissions_help_3")),b&196624&&(w.$$scope={dirty:b,ctx:h}),d.$set(w)},i(h){g||(_(f.$$.fragment,h),_(d.$$.fragment,h),g=!0)},o(h){p(f.$$.fragment,h),p(d.$$.fragment,h),g=!1},d(h){h&&$(e),h&&$(l),h&&$(s),h&&$(a),h&&$(u),y(f),h&&$(c),h&&$(m),y(d)}}}function X3e(r){let e,n,t,l,s;return n=new ot({props:{text:r[4]("permissions_for_named_database"),$$slots:{default:[Y3e,({slotName:o})=>({16:o}),({slotName:o})=>o?65536:0]},$$scope:{ctx:r}}}),l=new zt({props:{$$slots:{default:[K3e]},$$scope:{ctx:r}}}),{c(){e=E("span"),C(n.$$.fragment),t=N(),C(l.$$.fragment),I(e,"slot","title")},m(o,i){v(o,e,i),k(n,e,null),R(e,t),k(l,e,null),s=!0},p(o,i){const a={};i&16&&(a.text=o[4]("permissions_for_named_database")),i&196610&&(a.$$scope={dirty:i,ctx:o}),n.$set(a);const u={};i&131088&&(u.$$scope={dirty:i,ctx:o}),l.$set(u)},i(o){s||(_(n.$$.fragment,o),_(l.$$.fragment,o),s=!0)},o(o){p(n.$$.fragment,o),p(l.$$.fragment,o),s=!1},d(o){o&&$(e),y(n),y(l)}}}function J3e(r){let e,n;return e=new Up({props:{slot:"share",controller:r[0],accessControlConfig:r[6],storeValues:r[15],savePrivilegesForRoles:r[8]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.controller=t[0]),l&32768&&(s.storeValues=t[15]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Z3e(r){let e,n;return e=new Wp({props:{slot:"transfer-ownership",controller:r[0],transferOwnership:r[9],storeValues:r[15]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.controller=t[0]),l&32768&&(s.storeValues=t[15]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Q3e(r){let e,n;return e=new qp({props:{controller:r[0],getAsyncStores:r[7],onClose:r[11],$$slots:{"transfer-ownership":[Z3e,({storeValues:t})=>({15:t}),({storeValues:t})=>t?32768:0],share:[J3e,({storeValues:t})=>({15:t}),({storeValues:t})=>t?32768:0],title:[X3e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.controller=t[0]),l&4&&(s.onClose=t[11]),l&163859&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function x3e(r,e,n){let t,l,s,o,i,a,u,f=H,c=()=>(f(),f=le(s,M=>n(14,u=M)),s),m;ne(r,ce,M=>n(4,a=M)),r.$$.on_destroy.push(()=>f());let{controller:d}=e;const g=_s.get();ne(r,g,M=>n(10,m=M));const h={allPrivileges:[{id:"CONNECT",help:a("database_privilege_connect_help")},{id:"CREATE",help:a("database_privilege_create_help")},{id:"TEMPORARY",help:a("database_privilege_temporary_help")}],access:{levels:[{id:"connect",privileges:new Set(["CONNECT"]),name:a("connect"),help:a("database_access_connect_help")},{id:"connect_and_create",privileges:new Set(["CONNECT","CREATE"]),name:a("connect_and_create"),help:a("database_access_create_help")}],default:"connect"}};function b(){return En.runBatchConservatively([i.batchRunner(),l.batchRunner(),s.batchRunner(),o.batchRunner()]),{roles:l,privilegesForRoles:i,permissionsMetaData:s,currentRole:o}}async function w(M){const A=await Ke.databases.privileges.replace_for_roles({database_id:t.id,privileges:M}).run();i.updateResolvedValue(()=>new Ct(A.map(D=>[D.role_oid,D]))),$t.success(a("access_for_roles_saved_successfully"))}async function S(M){if(!u.resolvedValue)throw new Error("Database has not been stored");await u.resolvedValue.updateOwner(M),$t.success(a("database_ownership_updated_successfully"))}const T=()=>i.reset();return r.$$set=M=>{"controller"in M&&n(0,d=M.controller)},r.$$.update=()=>{r.$$.dirty&1024&&n(1,{database:t,roles:l,underlyingDatabase:s,currentRole:o}=m,t,c(n(3,s))),r.$$.dirty&2&&n(2,i=t.constructDatabasePrivilegesStore())},[d,t,i,s,a,g,h,b,w,S,m,T]}class e4e extends Q{constructor(e){super(),Z(this,e,x3e,Q3e,J,{controller:0})}}const t4e=r=>({}),zw=r=>({setSection:r[0]});function n4e(r){let e,n;const t=r[16].default,l=ke(t,r,r[22],zw);return{c(){e=E("div"),l&&l.c(),I(e,"class","tab-container svelte-1aan5yf")},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,o){l&&l.p&&(!n||o&4194304)&&Ce(l,t,s,s[22],n?ye(t,s[22],o,t4e):Se(s[22]),zw)},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function r4e(r){let e=r[23].label+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&8388608&&e!==(e=t[23].label+"")&&z(n,e)},i:H,o:H,d(t){t&&$(n)}}}function l4e(r){let e=r[23].label+"",n,t,l,s;return l=new zt({props:{placements:["top-start","bottom-start"],$$slots:{default:[s4e]},$$scope:{ctx:r}}}),{c(){n=L(e),t=N(),C(l.$$.fragment)},m(o,i){v(o,n,i),v(o,t,i),k(l,o,i),s=!0},p(o,i){(!s||i&8388608)&&e!==(e=o[23].label+"")&&z(n,e);const a={};i&4194312&&(a.$$scope={dirty:i,ctx:o}),l.$set(a)},i(o){s||(_(l.$$.fragment,o),s=!0)},o(o){p(l.$$.fragment,o),s=!1},d(o){o&&$(n),o&&$(t),y(l,o)}}}function s4e(r){let e,n=r[3]("schemas_list_help")+"",t,l,s,o,i;return o=new Hr({props:{page:"schemas"}}),{c(){e=E("p"),t=L(n),l=N(),s=E("p"),C(o.$$.fragment)},m(a,u){v(a,e,u),R(e,t),v(a,l,u),v(a,s,u),k(o,s,null),i=!0},p(a,u){(!i||u&8)&&n!==(n=a[3]("schemas_list_help")+"")&&z(t,n)},i(a){i||(_(o.$$.fragment,a),i=!0)},o(a){p(o.$$.fragment,a),i=!1},d(a){a&&$(e),a&&$(l),a&&$(s),y(o)}}}function o4e(r){let e,n,t,l;const s=[l4e,r4e],o=[];function i(a,u){return a[23].id==="schemas"?0:1}return n=i(r),t=o[n]=s[n](r),{c(){e=E("div"),t.c(),I(e,"slot","tab")},m(a,u){v(a,e,u),o[n].m(e,null),l=!0},p(a,u){let f=n;n=i(a),n===f?o[n].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),t=o[n],t?t.p(a,u):(t=o[n]=s[n](a),t.c()),_(t,1),t.m(e,null))},i(a){l||(_(t),l=!0)},o(a){p(t),l=!1},d(a){a&&$(e),o[n].d()}}}function i4e(r){let e,n;return e=new Ua({props:{activeTab:r[4],tabs:r[1],uniformTabWidth:!1,$$slots:{tab:[o4e,({tab:t})=>({23:t}),({tab:t})=>t?8388608:0],default:[n4e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.activeTab=t[4]),l&2&&(s.tabs=t[1]),l&12582920&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function a4e(r){let e,n,t,l,s=r[3]("postgres_database")+"",o,i=ou.COLON+"",a,u,f,c=r[2].name+"",m,d,g=r[2].server.getConnectionString()+"",h;return{c(){e=E("div"),n=E("div"),t=E("div"),l=E("span"),o=L(s),a=L(i),u=N(),f=E("code"),m=L(c),d=L(" @ "),h=L(g),I(l,"class","label svelte-1aan5yf"),I(n,"class","connection-details svelte-1aan5yf"),I(e,"slot","subText"),I(e,"class","database-info svelte-1aan5yf")},m(b,w){v(b,e,w),R(e,n),R(n,t),R(t,l),R(l,o),R(l,a),R(t,u),R(t,f),R(f,m),R(f,d),R(f,h)},p(b,w){w&8&&s!==(s=b[3]("postgres_database")+"")&&z(o,s),w&4&&c!==(c=b[2].name+"")&&z(m,c),w&4&&g!==(g=b[2].server.getConnectionString()+"")&&z(h,g)},d(b){b&&$(e)}}}function u4e(r){let e,n,t,l=r[3]("database_permissions")+"",s,o;const i=[Qs];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return e=new Ne({props:a}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l)},m(u,f){k(e,u,f),v(u,n,f),v(u,t,f),R(t,s),o=!0},p(u,f){const c=f&0?de(i,[_e(Qs)]):{};e.$set(c),(!o||f&8)&&l!==(l=u[3]("database_permissions")+"")&&z(s,l)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){p(e.$$.fragment,u),o=!1},d(u){y(e,u),u&&$(n),u&&$(t)}}}function Bw(r){let e,n,t;return n=new Pr({props:{showArrow:!1,triggerAppearance:"secondary",closeOnInnerClick:!1,icon:U_,preferredPlacement:"bottom-end",$$slots:{default:[d4e]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","dropdown-container svelte-1aan5yf")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&4194316&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function f4e(r){let e=r[3]("disconnect_database")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&8&&e!==(e=t[3]("disconnect_database")+"")&&z(n,e)},d(t){t&&$(n)}}}function c4e(r){let e=r[3]("edit_connection")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&8&&e!==(e=t[3]("edit_connection")+"")&&z(n,e)},d(t){t&&$(n)}}}function m4e(r){let e=r[3]("reinstall_mathesar_schemas")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&8&&e!==(e=t[3]("reinstall_mathesar_schemas")+"")&&z(n,e)},d(t){t&&$(n)}}}function d4e(r){let e,n,t,l,s,o;return e=new wn({props:{icon:Mt,$$slots:{default:[f4e]},$$scope:{ctx:r}}}),e.$on("click",r[18]),t=new wn({props:{icon:Kr,$$slots:{default:[c4e]},$$scope:{ctx:r}}}),t.$on("click",r[19]),s=new wn({props:{icon:MK,$$slots:{default:[m4e]},$$scope:{ctx:r}}}),s.$on("click",r[20]),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),C(s.$$.fragment)},m(i,a){k(e,i,a),v(i,n,a),k(t,i,a),v(i,l,a),k(s,i,a),o=!0},p(i,a){const u={};a&4194312&&(u.$$scope={dirty:a,ctx:i}),e.$set(u);const f={};a&4194312&&(f.$$scope={dirty:a,ctx:i}),t.$set(f);const c={};a&4194312&&(c.$$scope={dirty:a,ctx:i}),s.$set(c)},i(i){o||(_(e.$$.fragment,i),_(t.$$.fragment,i),_(s.$$.fragment,i),o=!0)},o(i){p(e.$$.fragment,i),p(t.$$.fragment,i),p(s.$$.fragment,i),o=!1},d(i){y(e,i),i&&$(n),y(t,i),i&&$(l),y(s,i)}}}function _4e(r){let e,n,t,l,s;t=new st({props:{appearance:"secondary",$$slots:{default:[u4e]},$$scope:{ctx:r}}}),t.$on("click",r[17]);let o=r[5]&&Bw(r);return{c(){e=E("div"),n=E("div"),C(t.$$.fragment),l=N(),o&&o.c(),I(n,"class","actions-container svelte-1aan5yf"),I(e,"slot","action")},m(i,a){v(i,e,a),R(e,n),k(t,n,null),R(n,l),o&&o.m(n,null),s=!0},p(i,a){const u={};a&4194312&&(u.$$scope={dirty:a,ctx:i}),t.$set(u),i[5]?o?(o.p(i,a),a&32&&_(o,1)):(o=Bw(i),o.c(),_(o,1),o.m(n,null)):o&&(U(),p(o,1,1,()=>{o=null}),W())},i(i){s||(_(t.$$.fragment,i),_(o),s=!0)},o(i){p(t.$$.fragment,i),p(o),s=!1},d(i){i&&$(e),y(t),o&&o.d()}}}function p4e(r){let e,n,t;return n=new fu({props:{icon:Js,name:r[2].displayName,entityTypeName:r[3]("database"),$$slots:{action:[_4e],subText:[a4e]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","database-page-header svelte-1aan5yf"),I(e,"slot","secondary-header")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&4&&(o.name=l[2].displayName),s&8&&(o.entityTypeName=l[3]("database")),s&4194348&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function g4e(r){let e,n,t,l,s,o,i,a,u,f,c,m;return document.title=e=Rn(r[2].displayName),t=new xr({props:{restrictWidth:!0,cssVariables:{"--page-padding":"0 var(--page-padding-x)","--max-layout-width":"var(--max-layout-width-console-pages)"},$$slots:{"secondary-header":[p4e],default:[i4e]},$$scope:{ctx:r}}}),s=new j2e({props:{controller:r[10],database:r[2]}}),i=new e4e({props:{controller:r[7]}}),u=new vM({props:{controller:r[9],isReinstall:!0}}),c=new j$e({props:{controller:r[8],disconnect:r[21]}}),{c(){n=N(),C(t.$$.fragment),l=N(),C(s.$$.fragment),o=N(),C(i.$$.fragment),a=N(),C(u.$$.fragment),f=N(),C(c.$$.fragment)},m(d,g){v(d,n,g),k(t,d,g),v(d,l,g),k(s,d,g),v(d,o,g),k(i,d,g),v(d,a,g),k(u,d,g),v(d,f,g),k(c,d,g),m=!0},p(d,[g]){(!m||g&4)&&e!==(e=Rn(d[2].displayName))&&(document.title=e);const h={};g&4194366&&(h.$$scope={dirty:g,ctx:d}),t.$set(h);const b={};g&4&&(b.database=d[2]),s.$set(b)},i(d){m||(_(t.$$.fragment,d),_(s.$$.fragment,d),_(i.$$.fragment,d),_(u.$$.fragment,d),_(c.$$.fragment,d),m=!0)},o(d){p(t.$$.fragment,d),p(s.$$.fragment,d),p(i.$$.fragment,d),p(u.$$.fragment,d),p(c.$$.fragment,d),m=!1},d(d){d&&$(n),y(t,d),d&&$(l),y(s,d),d&&$(o),y(i,d),d&&$(a),y(u,d),d&&$(f),y(c,d)}}}function h4e(r,e,n){let t,l,s,o,i,a,u,f;ne(r,ce,B=>n(3,a=B));let{$$slots:c={},$$scope:m}=e;const d=_s.get();ne(r,d,B=>n(15,f=B));const g=un.spawnModalController(),h=un.spawnModalController(),b=un.spawnModalController(),w=un.spawnModalController(),S=Lr();ne(r,S,B=>n(14,u=B));let T="schemas";function M(B){n(12,T=B)}const A=()=>g.open(),D=()=>h.open(t),O=()=>w.open(),F=()=>b.open(t),P=async B=>{await jn.disconnectDatabase(B),Un.goto("/")};return r.$$set=B=>{"$$scope"in B&&n(22,m=B.$$scope)},r.$$.update=()=>{r.$$.dirty&32768&&n(2,{database:t,underlyingDatabase:l}=f,t,(n(13,l),n(15,f))),r.$$.dirty&8192&&l.runConservatively(),r.$$.dirty&16384&&n(5,{isMathesarAdmin:s}=u,s),r.$$.dirty&12&&n(1,o=[{id:"schemas",label:a("schemas"),href:fI(t.id)},{id:"settings",label:a("database_settings"),href:Sc(t.id)}]),r.$$.dirty&4098&&n(4,i=o.find(B=>B.id===T))},[M,o,t,a,i,s,d,g,h,b,w,S,T,l,u,f,c,A,D,O,F,P,m]}class b4e extends Q{constructor(e){super(),Z(this,e,h4e,g4e,J,{setSection:0})}get setSection(){return this.$$.ctx[0]}}const $4e=r=>({}),qw=r=>({}),v4e=r=>({initialName:r&512}),Uw=r=>({slot:"title",initialName:r[9]});function Ww(r){let e,n=r[6].join(" ")+"",t;return{c(){e=E("p"),t=L(n),I(e,"class","error svelte-xqbcuv")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&64&&n!==(n=l[6].join(" ")+"")&&z(t,n)},d(l){l&&$(e)}}}function w4e(r){let e,n,t,l,s,o;function i(c){r[22](c)}function a(c){r[23](c)}let u={"aria-label":r[13]("name"),disabled:r[7]||r[4],placeholder:r[2],id:"name"};r[5]!==void 0&&(u.value=r[5]),r[8]!==void 0&&(u.element=r[8]),e=new hn({props:u}),we.push(()=>Me(e,"value",i)),we.push(()=>Me(e,"element",a)),e.$on("input",r[24]);let f=r[11]&&r[6].length&&Ww(r);return{c(){C(e.$$.fragment),l=N(),f&&f.c(),s=ae()},m(c,m){k(e,c,m),v(c,l,m),f&&f.m(c,m),v(c,s,m),o=!0},p(c,m){const d={};m&8192&&(d["aria-label"]=c[13]("name")),m&144&&(d.disabled=c[7]||c[4]),m&4&&(d.placeholder=c[2]),!n&&m&32&&(n=!0,d.value=c[5],De(()=>n=!1)),!t&&m&256&&(t=!0,d.element=c[8],De(()=>t=!1)),e.$set(d),c[11]&&c[6].length?f?f.p(c,m):(f=Ww(c),f.c(),f.m(s.parentNode,s)):f&&(f.d(1),f=null)},i(c){o||(_(e.$$.fragment,c),o=!0)},o(c){p(e.$$.fragment,c),o=!1},d(c){y(e,c),c&&$(l),f&&f.d(c),c&&$(s)}}}function k4e(r){let e,n,t;function l(o){r[25](o)}let s={"aria-label":r[13]("description"),disabled:r[7]||r[4],placeholder:r[3]};return r[10]!==void 0&&(s.value=r[10]),e=new Zl({props:s}),we.push(()=>Me(e,"value",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};i&8192&&(a["aria-label"]=o[13]("description")),i&144&&(a.disabled=o[7]||o[4]),i&8&&(a.placeholder=o[3]),!n&&i&1024&&(n=!0,a.value=o[10],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function y4e(r){let e,n,t,l,s,o,i,a;const u=r[20].helpText,f=ke(u,r,r[26],qw);return l=new Nt({props:{label:r[13]("name"),layout:"stacked",$$slots:{default:[w4e]},$$scope:{ctx:r}}}),i=new Nt({props:{label:r[13]("description"),layout:"stacked",$$slots:{default:[k4e]},$$scope:{ctx:r}}}),{c(){e=E("div"),f&&f.c(),n=N(),t=E("div"),C(l.$$.fragment),s=N(),o=E("div"),C(i.$$.fragment),I(t,"class","input-container svelte-xqbcuv"),I(o,"class","input-container svelte-xqbcuv"),I(e,"class","form-container svelte-xqbcuv")},m(c,m){v(c,e,m),f&&f.m(e,null),R(e,n),R(e,t),k(l,t,null),R(e,s),R(e,o),k(i,o,null),a=!0},p(c,m){f&&f.p&&(!a||m&67108864)&&Ce(f,u,c,c[26],a?ye(u,c[26],m,$4e):Se(c[26]),qw);const d={};m&8192&&(d.label=c[13]("name")),m&67119604&&(d.$$scope={dirty:m,ctx:c}),l.$set(d);const g={};m&8192&&(g.label=c[13]("description")),m&67118232&&(g.$$scope={dirty:m,ctx:c}),i.$set(g)},i(c){a||(_(f,c),_(l.$$.fragment,c),_(i.$$.fragment,c),a=!0)},o(c){p(f,c),p(l.$$.fragment,c),p(i.$$.fragment,c),a=!1},d(c){c&&$(e),f&&f.d(c),y(l),y(i)}}}function C4e(r){let e;const n=r[20].title,t=ke(n,r,r[26],Uw);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&67109376)&&Ce(t,n,l,l[26],e?ye(n,l[26],s,v4e):Se(l[26]),Uw)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function S4e(r){let e,n;return e=new Ol({props:{proceedButton:{label:r[0]},onCancel:r[21],onProceed:r[15],canProceed:r[12],slot:"footer"}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.proceedButton={label:t[0]}),l&2&&(s.onCancel=t[21]),l&4096&&(s.canProceed=t[12]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function T4e(r){let e,n;return e=new Yn({props:{controller:r[1],allowClose:!r[7],closeOn:["button","esc","overlay"],$$slots:{footer:[S4e],title:[C4e],default:[y4e]},$$scope:{ctx:r}}}),e.$on("open",r[14]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&2&&(s.controller=t[1]),l&128&&(s.allowClose=!t[7]),l&67125247&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function I4e(r,e,n){let t,l,s;ne(r,ce,G=>n(13,s=G));let{$$slots:o={},$$scope:i}=e,{saveButtonLabel:a=s("save")}=e,{controller:u}=e,{getNameValidationErrors:f}=e,{getInitialName:c=()=>""}=e,{getInitialDescription:m=()=>""}=e,{save:d}=e,{namePlaceholder:g=s("name")}=e,{descriptionPlaceholder:h=s("description")}=e,{disabled:b=!1}=e,w=!1,S,T="",M="",A="",D=!1;async function O(){n(9,T=c()),n(5,M=T),n(10,A=m()),n(11,D=!1),S&&(await sn(),S.focus(),S.setSelectionRange(0,S.value.length))}async function F(){try{n(7,w=!0),await d(M,A),u.close()}catch(G){$t.fromError(G)}finally{n(7,w=!1)}}const P=()=>{u.close()};function B(G){M=G,n(5,M)}function j(G){S=G,n(8,S)}const V=()=>{n(11,D=!0)};function q(G){A=G,n(10,A)}return r.$$set=G=>{"saveButtonLabel"in G&&n(0,a=G.saveButtonLabel),"controller"in G&&n(1,u=G.controller),"getNameValidationErrors"in G&&n(16,f=G.getNameValidationErrors),"getInitialName"in G&&n(17,c=G.getInitialName),"getInitialDescription"in G&&n(18,m=G.getInitialDescription),"save"in G&&n(19,d=G.save),"namePlaceholder"in G&&n(2,g=G.namePlaceholder),"descriptionPlaceholder"in G&&n(3,h=G.descriptionPlaceholder),"disabled"in G&&n(4,b=G.disabled),"$$scope"in G&&n(26,i=G.$$scope)},r.$$.update=()=>{r.$$.dirty&65568&&n(6,t=f(M)),r.$$.dirty&80&&n(12,l=!t.length&&!b)},[a,u,g,h,b,M,t,w,S,T,A,D,l,s,O,F,f,c,m,d,o,P,B,j,V,q,i]}class Yc extends Q{constructor(e){super(),Z(this,e,I4e,T4e,J,{saveButtonLabel:0,controller:1,getNameValidationErrors:16,getInitialName:17,getInitialDescription:18,save:19,namePlaceholder:2,descriptionPlaceholder:3,disabled:4})}}function E4e(r){let e=r[6]("create_schema")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&64&&e!==(e=t[6]("create_schema")+"")&&z(n,e)},i:H,o:H,d(t){t&&$(n)}}}function M4e(r){let e,n;return e=new ot({props:{text:r[6]("rename_schema_with_name"),$$slots:{default:[D4e,({slotName:t})=>({18:t}),({slotName:t})=>t?262144:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&64&&(s.text=t[6]("rename_schema_with_name")),l&917504&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function jw(r){let e,n;return e=new kn({props:{$$slots:{default:[R4e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&655360&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function R4e(r){let e=r[17]+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&131072&&e!==(e=t[17]+"")&&z(n,e)},d(t){t&&$(n)}}}function D4e(r){let e,n,t=r[18]==="schemaName"&&jw(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[18]==="schemaName"?t?(t.p(l,s),s&262144&&_(t,1)):(t=jw(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function A4e(r){let e,n,t,l;const s=[M4e,E4e],o=[];function i(a,u){return a[1]?0:1}return n=i(r),t=o[n]=s[n](r),{c(){e=E("span"),t.c(),I(e,"slot","title")},m(a,u){v(a,e,u),o[n].m(e,null),l=!0},p(a,u){let f=n;n=i(a),n===f?o[n].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),t=o[n],t?t.p(a,u):(t=o[n]=s[n](a),t.c()),_(t,1),t.m(e,null))},i(a){l||(_(t),l=!0)},o(a){p(t),l=!1},d(a){a&&$(e),o[n].d()}}}function O4e(r){let e,n;return e=new Yc({props:{controller:r[0],save:r[11],getNameValidationErrors:r[10],getInitialName:r[13],getInitialDescription:r[14],saveButtonLabel:r[1]?r[6]("save"):r[6]("create_new_schema"),namePlaceholder:r[6]("schema_name_placeholder"),disabled:r[5]&&!r[9],$$slots:{title:[A4e,({initialName:t})=>({17:t}),({initialName:t})=>t?131072:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.controller=t[0]),l&128&&(s.getInitialName=t[13]),l&256&&(s.getInitialDescription=t[14]),l&66&&(s.saveButtonLabel=t[1]?t[6]("save"):t[6]("create_new_schema")),l&64&&(s.namePlaceholder=t[6]("schema_name_placeholder")),l&544&&(s.disabled=t[5]&&!t[9]),l&655426&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function F4e(r,e,n){let t,l,s,o,i,a,u,f=H,c=()=>(f(),f=le(l,B=>n(7,u=B)),l),m,d=H,g=()=>(d(),d=le(s,B=>n(8,m=B)),s),h,b=H,w=()=>(b(),b=le(o,B=>n(9,h=B)),o);ne(r,ce,B=>n(6,i=B)),ne(r,xa,B=>n(15,a=B)),r.$$.on_destroy.push(()=>f()),r.$$.on_destroy.push(()=>d()),r.$$.on_destroy.push(()=>b());let{database:S}=e,{controller:T}=e,{schema:M=void 0}=e;function A(B){return M&&B.trim()===u?!1:Array.from((a==null?void 0:a.data)||[]).some(([,j])=>ve(j.name).toLowerCase().trim()===(B==null?void 0:B.trim()))}function D(B){return B.trim()?A(B)?[i("schema_name_already_exists")]:[]:[i("schema_name_cannot_be_empty")]}async function O(B,j){try{M?await M.updateNameAndDescription({name:B,description:j}):await rne(S,{name:B,description:j})}catch(V){$t.fromError(V)}}const F=()=>u!=null?u:"",P=()=>m!=null?m:"";return r.$$set=B=>{"database"in B&&n(12,S=B.database),"controller"in B&&n(0,T=B.controller),"schema"in B&&n(1,M=B.schema)},r.$$.update=()=>{var B,j,V;r.$$.dirty&2&&n(5,t=M!==void 0),r.$$.dirty&2&&c(n(4,l=(B=M==null?void 0:M.name)!=null?B:ar(""))),r.$$.dirty&2&&g(n(3,s=(j=M==null?void 0:M.description)!=null?j:ar(""))),r.$$.dirty&2&&w(n(2,o=(V=M==null?void 0:M.currentAccess)==null?void 0:V.currentRoleOwns))},[T,M,o,s,l,t,i,u,m,h,D,O,S,F,P]}class IM extends Q{constructor(e){super(),Z(this,e,F4e,O4e,J,{database:12,controller:0,schema:1})}}function Yw(r,e,n){const t=r.slice();return t[2]=e[n],t}function Gw(r,e){let n,t,l,s;return t=new pc({props:{loading:!0}}),{key:r,first:null,c(){n=E("div"),C(t.$$.fragment),l=N(),I(n,"class","schema-skeleton svelte-188e21j"),this.first=n},m(o,i){v(o,n,i),k(t,n,null),R(n,l),s=!0},p(o,i){},i(o){s||(_(t.$$.fragment,o),s=!0)},o(o){p(t.$$.fragment,o),s=!1},d(o){o&&$(n),y(t)}}}function N4e(r){let e,n=[],t=new Map,l,s=r[0];const o=i=>i[2];for(let i=0;i<s.length;i+=1){let a=Yw(r,s,i),u=o(a);t.set(u,n[i]=Gw(u))}return{c(){e=E("div");for(let i=0;i<n.length;i+=1)n[i].c();I(e,"class","schema-skeleton-container svelte-188e21j")},m(i,a){v(i,e,a);for(let u=0;u<n.length;u+=1)n[u].m(e,null);l=!0},p(i,[a]){a&1&&(s=i[0],U(),n=ht(n,a,o,1,i,s,t,e,kt,Gw,null,Yw),W())},i(i){if(!l){for(let a=0;a<s.length;a+=1)_(n[a]);l=!0}},o(i){for(let a=0;a<n.length;a+=1)p(n[a]);l=!1},d(i){i&&$(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function P4e(r,e,n){let t,{numTables:l=4}=e;return r.$$set=s=>{"numTables"in s&&n(1,l=s.numTables)},r.$$.update=()=>{r.$$.dirty&2&&n(0,t=Array.from({length:l},(s,o)=>o))},[t,l]}class L4e extends Q{constructor(e){super(),Z(this,e,P4e,N4e,J,{numTables:1})}}function H4e(r){let e,n,t=r[1]("count_tables",{values:{count:r[2]}})+"",l;return{c(){e=E("div"),n=E("p"),l=L(t),I(n,"class","table-count svelte-17s7wcv"),I(e,"class","container svelte-17s7wcv")},m(s,o){v(s,e,o),R(e,n),R(n,l)},p(s,[o]){o&6&&t!==(t=s[1]("count_tables",{values:{count:s[2]}})+"")&&z(l,t)},i:H,o:H,d(s){s&&$(e)}}}function V4e(r,e,n){let t,l,s,o=H,i=()=>(o(),o=le(t,u=>n(2,s=u)),t);ne(r,ce,u=>n(1,l=u)),r.$$.on_destroy.push(()=>o());let{schema:a}=e;return r.$$set=u=>{"schema"in u&&n(3,a=u.schema)},r.$$.update=()=>{r.$$.dirty&8&&i(n(0,{tableCount:t}=a,t))},[t,l,s,a]}class z4e extends Q{constructor(e){super(),Z(this,e,V4e,H4e,J,{schema:3})}}function B4e(r){let e=r[9]("rename_schema")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&512&&e!==(e=t[9]("rename_schema")+"")&&z(n,e)},d(t){t&&$(n)}}}function q4e(r){let e=r[9]("delete_schema")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&512&&e!==(e=t[9]("delete_schema")+"")&&z(n,e)},d(t){t&&$(n)}}}function U4e(r){let e,n,t,l;return e=new wn({props:{icon:Kr,disabled:!r[8],$$slots:{default:[B4e]},$$scope:{ctx:r}}}),e.$on("click",r[14]),t=new wn({props:{danger:!0,icon:Mt,disabled:!r[8],$$slots:{default:[q4e]},$$scope:{ctx:r}}}),t.$on("click",r[15]),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(s,o){k(e,s,o),v(s,n,o),k(t,s,o),l=!0},p(s,o){const i={};o&256&&(i.disabled=!s[8]),o&1049088&&(i.$$scope={dirty:o,ctx:s}),e.$set(i);const a={};o&256&&(a.disabled=!s[8]),o&1049088&&(a.$$scope={dirty:o,ctx:s}),t.$set(a)},i(s){l||(_(e.$$.fragment,s),_(t.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),l=!1},d(s){y(e,s),s&&$(n),y(t,s)}}}function W4e(r){let e;return{c(){e=E("div"),I(e,"class","description-placeholder svelte-haqudo")},m(n,t){v(n,e,t)},p:H,d(n){n&&$(e)}}}function j4e(r){let e,n;return{c(){e=E("p"),n=L(r[10]),I(e,"class","description svelte-haqudo"),I(e,"title",r[10])},m(t,l){v(t,e,l),R(e,n)},p(t,l){l&1024&&z(n,t[10]),l&1024&&I(e,"title",t[10])},d(t){t&&$(e)}}}function Y4e(r){let e,n,t,l,s,o,i,a,u,f,c,m,d,g,h,b,w,S,T,M,A,D;const O=[gf,{size:"1rem"}];let F={};for(let G=0;G<O.length;G+=1)F=se(F,O[G]);s=new Ne({props:F});const P=[ss,{size:"1rem"}];let B={};for(let G=0;G<P.length;G+=1)B=se(B,P[G]);c=new Ne({props:B}),d=new z4e({props:{schema:r[0]}}),b=new Pr({props:{showArrow:!1,triggerAppearance:"plain",preferredPlacement:"bottom-end",icon:U_,$$slots:{default:[U4e]},$$scope:{ctx:r}}});function j(G,Y){return G[10]?j4e:W4e}let V=j(r),q=V(r);return{c(){e=E("div"),n=E("div"),t=E("div"),l=E("div"),C(s.$$.fragment),o=N(),i=E("div"),a=L(r[7]),u=N(),f=E("div"),C(c.$$.fragment),m=N(),C(d.$$.fragment),g=N(),h=E("div"),C(b.$$.fragment),w=N(),q.c(),S=N(),T=E("a"),I(l,"class","icon-container svelte-haqudo"),I(i,"class","name svelte-haqudo"),I(f,"class","table-count svelte-haqudo"),I(h,"class","menu-trigger svelte-haqudo"),I(t,"class","content-header svelte-haqudo"),I(n,"class","content svelte-haqudo"),I(T,"href",r[3]),I(T,"class","hyperlink-overlay svelte-haqudo"),I(T,"aria-label",r[7]),I(e,"class","schema-row svelte-haqudo"),ie(e,"hover",r[1]),ie(e,"focus",r[2])},m(G,Y){v(G,e,Y),R(e,n),R(n,t),R(t,l),k(s,l,null),R(t,o),R(t,i),R(i,a),R(t,u),R(t,f),k(c,f,null),R(f,m),k(d,f,null),R(t,g),R(t,h),k(b,h,null),R(n,w),q.m(n,null),R(e,S),R(e,T),M=!0,A||(D=[He(T,"mouseenter",r[16]),He(T,"mouseleave",r[17]),He(T,"focusin",r[18]),He(T,"focusout",r[19])],A=!0)},p(G,[Y]){const K=Y&0?de(O,[_e(gf),O[1]]):{};s.$set(K),(!M||Y&128)&&z(a,G[7]);const ee=Y&0?de(P,[_e(ss),P[1]]):{};c.$set(ee);const x={};Y&1&&(x.schema=G[0]),d.$set(x);const X={};Y&1049344&&(X.$$scope={dirty:Y,ctx:G}),b.$set(X),V===(V=j(G))&&q?q.p(G,Y):(q.d(1),q=V(G),q&&(q.c(),q.m(n,null))),(!M||Y&8)&&I(T,"href",G[3]),(!M||Y&128)&&I(T,"aria-label",G[7]),(!M||Y&2)&&ie(e,"hover",G[1]),(!M||Y&4)&&ie(e,"focus",G[2])},i(G){M||(_(s.$$.fragment,G),_(c.$$.fragment,G),_(d.$$.fragment,G),_(b.$$.fragment,G),M=!0)},o(G){p(s.$$.fragment,G),p(c.$$.fragment,G),p(d.$$.fragment,G),p(b.$$.fragment,G),M=!1},d(G){G&&$(e),y(s),y(c),y(d),y(b),q.d(),A=!1,Ot(D)}}}function G4e(r,e,n){let t,l,s,o,i,a,u=H,f=()=>(u(),u=le(t,q=>n(7,a=q)),t),c,m=H,d=()=>(m(),m=le(o,q=>n(8,c=q)),o),g,h,b=H,w=()=>(b(),b=le(l,q=>n(10,h=q)),l);ne(r,ce,q=>n(9,g=q)),r.$$.on_destroy.push(()=>u()),r.$$.on_destroy.push(()=>m()),r.$$.on_destroy.push(()=>b());const S=Et();let{database:T}=e,{schema:M}=e,A=!1,D=!1;const O=()=>S("edit"),F=()=>S("delete"),P=()=>{n(1,A=!0)},B=()=>{n(1,A=!1)},j=()=>{n(2,D=!0)},V=()=>{n(2,D=!1)};return r.$$set=q=>{"database"in q&&n(12,T=q.database),"schema"in q&&n(0,M=q.schema)},r.$$.update=()=>{r.$$.dirty&1&&f(n(6,{name:t,description:l,currentAccess:s}=M,t,w(n(5,l)),(n(13,s),n(0,M)))),r.$$.dirty&8192&&d(n(4,{currentRoleOwns:o}=s,o)),r.$$.dirty&4097&&n(3,i=Jr(T.id,M.oid))},[M,A,D,i,o,l,t,a,c,g,h,S,T,s,O,F,P,B,j,V]}class K4e extends Q{constructor(e){super(),Z(this,e,G4e,Y4e,J,{database:12,schema:0})}}function Kw(r,e,n){const t=r.slice();return t[25]=e[n],t}function X4e(r){let e,n,t,l=r[10]("create_schema")+"",s,o;const i=[jt];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return e=new Ne({props:a}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l)},m(u,f){k(e,u,f),v(u,n,f),v(u,t,f),R(t,s),o=!0},p(u,f){const c=f&0?de(i,[_e(jt)]):{};e.$set(c),(!o||f&1024)&&l!==(l=u[10]("create_schema")+"")&&z(s,l)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){p(e.$$.fragment,u),o=!1},d(u){y(e,u),u&&$(n),u&&$(t)}}}function J4e(r){var t;let e,n;return e=new st({props:{appearance:"primary",disabled:!((t=r[11])!=null&&t.has("CREATE")),$$slots:{default:[X4e]},$$scope:{ctx:r}}}),e.$on("click",r[14]),{c(){C(e.$$.fragment)},m(l,s){k(e,l,s),n=!0},p(l,s){var i;const o={};s&2048&&(o.disabled=!((i=l[11])!=null&&i.has("CREATE"))),s&536871936&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){p(e.$$.fragment,l),n=!1},d(l){y(e,l)}}}function Xw(r){let e,n;return{c(){e=E("strong"),n=L(r[0])},m(t,l){v(t,e,l),R(e,n)},p(t,l){l&1&&z(n,t[0])},d(t){t&&$(e)}}}function Z4e(r){let e,n=r[28]==="searchValue"&&Xw(r);return{c(){n&&n.c(),e=ae()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,l){t[28]==="searchValue"?n?n.p(t,l):(n=Xw(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&$(e)}}}function Q4e(r){let e,n,t;return n=new ot({props:{text:r[10]("schemas_matching_search",{values:{count:r[6].length}}),$$slots:{default:[Z4e,({slotName:l})=>({28:l}),({slotName:l})=>l?268435456:0]},$$scope:{ctx:r}}}),{c(){e=E("p"),C(n.$$.fragment),I(e,"slot","resultInfo")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&1088&&(o.text=l[10]("schemas_matching_search",{values:{count:l[6].length}})),s&805306369&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function x4e(r){let e,n;return e=new _l({props:{fullWidth:!0,errors:[...r[1].errors,r[3].error].filter(At)}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&10&&(s.errors=[...t[1].errors,t[3].error].filter(At)),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function eve(r){let e,n;return e=new L4e({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function tve(r){let e=[],n=new Map,t,l,s=r[6];const o=i=>i[25].oid;for(let i=0;i<s.length;i+=1){let a=Kw(r,s,i),u=o(a);n.set(u,e[i]=Jw(u,a))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=ae()},m(i,a){for(let u=0;u<e.length;u+=1)e[u].m(i,a);v(i,t,a),l=!0},p(i,a){a&98880&&(s=i[6],U(),e=ht(e,a,o,1,i,s,n,t.parentNode,kt,Jw,t,Kw),W())},i(i){if(!l){for(let a=0;a<s.length;a+=1)_(e[a]);l=!0}},o(i){for(let a=0;a<e.length;a+=1)p(e[a]);l=!1},d(i){for(let a=0;a<e.length;a+=1)e[a].d(i);i&&$(t)}}}function Jw(r,e){let n,t,l,s;function o(){return e[21](e[25])}function i(){return e[22](e[25])}return t=new K4e({props:{database:e[9],schema:e[25]}}),t.$on("edit",o),t.$on("delete",i),{key:r,first:null,c(){n=E("li"),C(t.$$.fragment),l=N(),I(n,"class","schema-list-item"),this.first=n},m(a,u){v(a,n,u),k(t,n,null),R(n,l),s=!0},p(a,u){e=a;const f={};u&512&&(f.database=e[9]),u&64&&(f.schema=e[25]),t.$set(f)},i(a){s||(_(t.$$.fragment,a),s=!0)},o(a){p(t.$$.fragment,a),s=!1},d(a){a&&$(n),y(t)}}}function Zw(r){let e,n,t,l,s,o,i;const a=[tve,eve,x4e],u=[];function f(c,m){return c[1].state==="success"?0:c[1].state==="processing"||c[8]?1:c[1].state==="failure"||c[3].error?2:-1}return~(n=f(r))&&(t=u[n]=a[n](r)),{c(){e=E("ul"),t&&t.c(),I(e,"class","schema-list svelte-176a20q")},m(c,m){v(c,e,m),~n&&u[n].m(e,null),s=!0,o||(i=Dt(l=Ii.call(null,e,{scrollHint:r[10]("schema_new_items_scroll_hint"),enabled:r[5]})),o=!0)},p(c,m){let d=n;n=f(c),n===d?~n&&u[n].p(c,m):(t&&(U(),p(u[d],1,1,()=>{u[d]=null}),W()),~n?(t=u[n],t?t.p(c,m):(t=u[n]=a[n](c),t.c()),_(t,1),t.m(e,null)):t=null),l&&St(l.update)&&m&1056&&l.update.call(null,{scrollHint:c[10]("schema_new_items_scroll_hint"),enabled:c[5]})},i(c){s||(_(t),s=!0)},o(c){p(t),s=!1},d(c){c&&$(e),~n&&u[n].d(),o=!1,i()}}}function nve(r){let e,n=r[9].id,t,l=Zw(r);return{c(){e=E("div"),l.c(),I(e,"slot","content")},m(s,o){v(s,e,o),l.m(e,null),t=!0},p(s,o){o&512&&J(n,n=s[9].id)?(U(),p(l,1,1,H),W(),l=Zw(s),l.c(),_(l,1),l.m(e,null)):l.p(s,o)},i(s){t||(_(l),t=!0)},o(s){p(l),t=!1},d(s){s&&$(e),l.d(s)}}}function rve(r){let e,n,t,l,s,o;function i(u){r[23](u)}let a={searchPlaceholder:r[10]("search_schemas"),$$slots:{content:[nve],resultInfo:[Q4e],action:[J4e]},$$scope:{ctx:r}};return r[0]!==void 0&&(a.searchQuery=r[0]),n=new zp({props:a}),we.push(()=>Me(n,"searchQuery",i)),n.$on("clear",r[17]),s=new IM({props:{controller:r[12],database:r[9],schema:r[4]}}),{c(){e=E("div"),C(n.$$.fragment),l=N(),C(s.$$.fragment),I(e,"class","schema-list-wrapper svelte-176a20q")},m(u,f){v(u,e,f),k(n,e,null),v(u,l,f),k(s,u,f),o=!0},p(u,[f]){const c={};f&1024&&(c.searchPlaceholder=u[10]("search_schemas")),f&536874859&&(c.$$scope={dirty:f,ctx:u}),!t&&f&1&&(t=!0,c.searchQuery=u[0],De(()=>t=!1)),n.$set(c);const m={};f&512&&(m.database=u[9]),f&16&&(m.schema=u[4]),s.$set(m)},i(u){o||(_(n.$$.fragment,u),_(s.$$.fragment,u),o=!0)},o(u){p(n.$$.fragment,u),p(s.$$.fragment,u),o=!1},d(u){u&&$(e),y(n),u&&$(l),y(s,u)}}}function lve(r,e,n){let t,l,s,o,i,a,u,f,c,m=H,d=()=>(m(),m=le(l,K=>n(3,c=K)),l),g,h,b,w=H,S=()=>(w(),w=le(a,K=>n(11,b=K)),a);ne(r,ce,K=>n(10,f=K)),ne(r,oE,K=>n(19,g=K)),r.$$.on_destroy.push(()=>m()),r.$$.on_destroy.push(()=>w());const T=un.spawnModalController(),M=_s.get();ne(r,M,K=>n(20,h=K));let A="",D,O=!0;async function F(){n(5,O=!1),await sn(),n(5,O=!0)}function P(){n(4,D=void 0),T.open()}function B(K){n(4,D=K),T.open()}function j(K){Ll({identifierType:f("schema"),identifierName:ve(K.name),body:[f("schema_delete_warning"),f("are_you_sure_to_proceed")],onProceed:async()=>{await lne(K)}})}function V(){n(0,A="")}const q=K=>B(K),G=K=>j(K);function Y(K){A=K,n(0,A)}return r.$$.update=()=>{var K;r.$$.dirty&1048576&&n(9,{database:t,underlyingDatabase:l}=h,t,d(n(2,l))),r.$$.dirty&4&&l.runConservatively(),r.$$.dirty&524288&&n(18,s=g.data),r.$$.dirty&524288&&n(1,o=g.requestStatus),r.$$.dirty&10&&n(8,i=c.isLoading||o.state==="processing"),r.$$.dirty&8&&S(n(7,a=(K=c.resolvedValue)==null?void 0:K.currentAccess.currentRolePrivileges)),r.$$.dirty&262145&&n(6,u=[...Yd(s.values(),A,ee=>ve(ee.name))]),r.$$.dirty&1&&F()},[A,o,l,c,D,O,u,a,i,t,f,b,T,M,P,B,j,V,s,g,h,q,G,Y]}class sve extends Q{constructor(e){super(),Z(this,e,lve,rve,J,{})}}const Qw=Symbol("database settings route store"),ove=()=>{const r=Ke.users.list().run();return new In((e,n)=>{r.then(t=>e(new Ct(t.map(l=>[l.id,l]))),t=>n(t)).catch(t=>n(t))},()=>r.cancel())};class pl{constructor(e){te(this,"databaseRouteContext");te(this,"database");te(this,"configuredRoles");te(this,"combinedLoginRoles");te(this,"collaborators");te(this,"users");this.databaseRouteContext=e,this.database=this.databaseRouteContext.database,this.configuredRoles=this.database.constructConfiguredRolesStore(),this.combinedLoginRoles=et([this.databaseRouteContext.roles,this.configuredRoles],([n,t])=>{var a,u;if(t.isLoading||n.isLoading)return[];const s=t.isStable&&n.isStable,o=(a=n.resolvedValue)==null?void 0:a.filterValues(f=>f.login),i=(u=t.resolvedValue)==null?void 0:u.mapKeys(f=>f.name);if(s&&o&&i){const f=[...o.values()].map(d=>({name:d.name,role:d,configuredRole:i.get(d.name)})),c=new Set(f.map(d=>d.name)),m=[...i.values()].filter(d=>!c.has(d.name)).map(d=>({name:d.name,configuredRole:d}));return[...f,...m]}return t.isStable&&i?[...i.values()].map(f=>({name:f.name,configuredRole:f})):[]}),this.collaborators=this.database.constructCollaboratorsStore(),this.users=new Tl(ove)}async configureRole(e,n){if(e.configuredRole)return e.configuredRole.setPassword(n);if(e.role){const t=await e.role.configure(n);this.configuredRoles.updateResolvedValue(l=>l.with(t.id,t))}}async removeConfiguredRole(e){await e.delete(),this.configuredRoles.updateResolvedValue(n=>n.without(e.id)),this.collaborators.reset()}async addCollaborator(e,n){const t=await this.database.addCollaborator(e,n);return this.collaborators.updateResolvedValue(l=>l.with(t.id,t)),t}async deleteCollaborator(e){await e.delete(),this.collaborators.updateResolvedValue(n=>n.without(e.id))}static construct(e){return zc(Qw,new pl(e))}static get(){return Bc(Qw)}}function ive(r){let e,n;const t=r[2].default,l=ke(t,r,r[1],null);let s=[{class:"grid-table"},r[0]],o={};for(let i=0;i<s.length;i+=1)o=se(o,s[i]);return{c(){e=E("div"),l&&l.c(),Tt(e,o),ie(e,"svelte-8yrnx8",!0)},m(i,a){v(i,e,a),l&&l.m(e,null),n=!0},p(i,[a]){l&&l.p&&(!n||a&2)&&Ce(l,t,i,i[1],n?ye(t,i[1],a,null):Se(i[1]),null),Tt(e,o=de(s,[{class:"grid-table"},a&1&&i[0]])),ie(e,"svelte-8yrnx8",!0)},i(i){n||(_(l,i),n=!0)},o(i){p(l,i),n=!1},d(i){i&&$(e),l&&l.d(i)}}}function ave(r,e,n){const t=[];let l=We(e,t),{$$slots:s={},$$scope:o}=e;return r.$$set=i=>{e=se(se({},e),pt(i)),n(0,l=We(e,t)),"$$scope"in i&&n(1,o=i.$$scope)},[l,o,s]}class jp extends Q{constructor(e){super(),Z(this,e,ave,ive,J,{})}}function uve(r){let e,n;const t=r[3].default,l=ke(t,r,r[2],null);let s=[{class:"gt-cell"},r[1]],o={};for(let i=0;i<s.length;i+=1)o=se(o,s[i]);return{c(){e=E("div"),l&&l.c(),Tt(e,o),ie(e,"gt-header",r[0]),ie(e,"svelte-kqiicq",!0)},m(i,a){v(i,e,a),l&&l.m(e,null),n=!0},p(i,[a]){l&&l.p&&(!n||a&4)&&Ce(l,t,i,i[2],n?ye(t,i[2],a,null):Se(i[2]),null),Tt(e,o=de(s,[{class:"gt-cell"},a&2&&i[1]])),ie(e,"gt-header",i[0]),ie(e,"svelte-kqiicq",!0)},i(i){n||(_(l,i),n=!0)},o(i){p(l,i),n=!1},d(i){i&&$(e),l&&l.d(i)}}}function fve(r,e,n){const t=["header"];let l=We(e,t),{$$slots:s={},$$scope:o}=e,{header:i=!1}=e;return r.$$set=a=>{e=se(se({},e),pt(a)),n(1,l=We(e,t)),"header"in a&&n(0,i=a.header),"$$scope"in a&&n(2,o=a.$$scope)},[i,l,o,s]}class rr extends Q{constructor(e){super(),Z(this,e,fve,uve,J,{header:0})}}const cve=r=>({}),xw=r=>({}),mve=r=>({}),e6=r=>({});function dve(r){let e,n,t,l,s,o,i,a;const u=r[1].title,f=ke(u,r,r[0],e6),c=r[1].actions,m=ke(c,r,r[0],xw),d=r[1].default,g=ke(d,r,r[0],null);return{c(){e=E("div"),n=E("header"),t=E("div"),f&&f.c(),l=N(),s=E("div"),m&&m.c(),o=N(),i=E("div"),g&&g.c(),I(t,"class","title svelte-4ey3hv"),I(s,"class","actions svelte-4ey3hv"),I(n,"class","svelte-4ey3hv"),I(i,"class","content svelte-4ey3hv"),I(e,"class","settings-content svelte-4ey3hv")},m(h,b){v(h,e,b),R(e,n),R(n,t),f&&f.m(t,null),R(n,l),R(n,s),m&&m.m(s,null),R(e,o),R(e,i),g&&g.m(i,null),a=!0},p(h,[b]){f&&f.p&&(!a||b&1)&&Ce(f,u,h,h[0],a?ye(u,h[0],b,mve):Se(h[0]),e6),m&&m.p&&(!a||b&1)&&Ce(m,c,h,h[0],a?ye(c,h[0],b,cve):Se(h[0]),xw),g&&g.p&&(!a||b&1)&&Ce(g,d,h,h[0],a?ye(d,h[0],b,null):Se(h[0]),null)},i(h){a||(_(f,h),_(m,h),_(g,h),a=!0)},o(h){p(f,h),p(m,h),p(g,h),a=!1},d(h){h&&$(e),f&&f.d(h),m&&m.d(h),g&&g.d(h)}}}function _ve(r,e,n){let{$$slots:t={},$$scope:l}=e;return r.$$set=s=>{"$$scope"in s&&n(0,l=s.$$scope)},[l,t]}class Yp extends Q{constructor(e){super(),Z(this,e,_ve,dve,J,{})}}function pve(r){let e,n;return e=new It({props:{label:r[2]("role"),layout:"stacked",field:r[0],input:{component:r[3],props:{options:[...r[1].values()].map(t6),getLabel:r[4],autoSelect:"none"}},help:r[2]("collaborator_role_help")}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&4&&(s.label=t[2]("role")),l&1&&(s.field=t[0]),l&6&&(s.input={component:t[3],props:{options:[...t[1].values()].map(t6),getLabel:t[4],autoSelect:"none"}}),l&4&&(s.help=t[2]("collaborator_role_help")),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}const t6=r=>r.id;function gve(r,e,n){let t;ne(r,ce,a=>n(2,t=a));const l=fn;let{configuredRoleId:s}=e,{configuredRolesMap:o}=e;const i=a=>{var u,f;return a?(f=(u=o.get(a))==null?void 0:u.name)!=null?f:String(a):t("select_role")};return r.$$set=a=>{"configuredRoleId"in a&&n(0,s=a.configuredRoleId),"configuredRolesMap"in a&&n(1,o=a.configuredRolesMap)},[s,o,t,l,i]}class EM extends Q{constructor(e){super(),Z(this,e,gve,pve,J,{configuredRoleId:0,configuredRolesMap:1})}}function hve(r){let e,n,t,l,s,o,i,a,u,f;return n=new It({props:{label:r[4]("mathesar_user"),layout:"stacked",field:r[6],input:{component:r[9],props:{options:[...r[2].values()].map(n6),getLabel:r[13],autoSelect:"none",isOptionDisabled:r[14]}}}}),l=new EM({props:{configuredRoleId:r[7],configuredRolesMap:r[1]}}),i=new yn({props:{form:r[8],catchErrors:!0,onCancel:r[15],onProceed:r[10],proceedButton:{label:r[4]("add_collaborator")},cancelButton:{label:r[4]("cancel")}}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),C(l.$$.fragment),s=N(),o=E("div"),C(i.$$.fragment),I(o,"class","footer")},m(c,m){v(c,e,m),k(n,e,null),R(e,t),k(l,e,null),v(c,s,m),v(c,o,m),k(i,o,null),a=!0,u||(f=Dt(dr.call(null,o)),u=!0)},p(c,m){const d={};m&16&&(d.label=c[4]("mathesar_user")),m&28&&(d.input={component:c[9],props:{options:[...c[2].values()].map(n6),getLabel:c[13],autoSelect:"none",isOptionDisabled:c[14]}}),n.$set(d);const g={};m&2&&(g.configuredRolesMap=c[1]),l.$set(g);const h={};m&1&&(h.onCancel=c[15]),m&16&&(h.proceedButton={label:c[4]("add_collaborator")}),m&16&&(h.cancelButton={label:c[4]("cancel")}),i.$set(h)},i(c){a||(_(n.$$.fragment,c),_(l.$$.fragment,c),_(i.$$.fragment,c),a=!0)},o(c){p(n.$$.fragment,c),p(l.$$.fragment,c),p(i.$$.fragment,c),a=!1},d(c){c&&$(e),y(n),y(l),c&&$(s),c&&$(o),y(i),u=!1,f()}}}function bve(r){let e,n=r[4]("add_collaborator")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","title")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&16&&n!==(n=l[4]("add_collaborator")+"")&&z(t,n)},d(l){l&&$(e)}}}function $ve(r){let e,n;return e=new Yn({props:{controller:r[0],$$slots:{title:[bve],default:[hve]},$$scope:{ctx:r}}}),e.$on("close",r[16]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.controller=t[0]),l&1048607&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}const n6=r=>r.id;function vve(r,e,n){let t,l,s,o,i;ne(r,ce,O=>n(4,l=O));const a=pl.get();ne(r,a,O=>n(19,i=O));let{controller:u}=e,{configuredRolesMap:f}=e,{usersMap:c}=e,{collaboratorsMap:m}=e,{onAdd:d}=e;const g=gt(void 0);ne(r,g,O=>n(18,o=O));const h=gt(void 0);ne(r,h,O=>n(17,s=O));const b=Wt({userId:g,configuredRoleId:h}),w=fn;async function S(){if(o&&s){const O=await i.addCollaborator(o,s);d(O),u.close(),$t.success(l("collaborator_added_successfully")),b.reset()}}const T=O=>{var F,P;return O?(P=(F=c.get(O))==null?void 0:F.username)!=null?P:String(O):l("select_user")},M=O=>O!==void 0&&t.has(O),A=()=>{b.reset(),u.close()},D=()=>b.reset();return r.$$set=O=>{"controller"in O&&n(0,u=O.controller),"configuredRolesMap"in O&&n(1,f=O.configuredRolesMap),"usersMap"in O&&n(2,c=O.usersMap),"collaboratorsMap"in O&&n(11,m=O.collaboratorsMap),"onAdd"in O&&n(12,d=O.onAdd)},r.$$.update=()=>{r.$$.dirty&2048&&n(3,t=new Set([...m.values()].map(O=>O.userId)))},[u,f,c,t,l,a,g,h,b,w,S,m,d,T,M,A,D]}class wve extends Q{constructor(e){super(),Z(this,e,vve,$ve,J,{controller:0,configuredRolesMap:1,usersMap:2,collaboratorsMap:11,onAdd:12})}}function kve(r){let e,n;return e=new kn({props:{$$slots:{default:[Cve]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&34&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function yve(r){let e,n;return e=new kn({props:{$$slots:{default:[Sve]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&33&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Cve(r){let e;return{c(){e=L(r[1])},m(n,t){v(n,e,t)},p(n,t){t&2&&z(e,n[1])},d(n){n&&$(e)}}}function Sve(r){let e;return{c(){e=L(r[0])},m(n,t){v(n,e,t)},p(n,t){t&1&&z(e,n[0])},d(n){n&&$(e)}}}function Tve(r){let e,n,t,l;const s=[yve,kve],o=[];function i(a,u){return a[4]==="userName"?0:a[4]==="databaseName"?1:-1}return~(e=i(r))&&(n=o[e]=s[e](r)),{c(){n&&n.c(),t=ae()},m(a,u){~e&&o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?~e&&o[e].p(a,u):(n&&(U(),p(o[f],1,1,()=>{o[f]=null}),W()),~e?(n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t)):n=null)},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){~e&&o[e].d(a),a&&$(t)}}}function r6(r){let e,n;return e=new kn({props:{$$slots:{default:[Ive]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&33&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Ive(r){let e;return{c(){e=L(r[0])},m(n,t){v(n,e,t)},p(n,t){t&1&&z(e,n[0])},d(n){n&&$(e)}}}function Eve(r){let e,n,t=r[4]==="userName"&&r6(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[4]==="userName"?t?(t.p(l,s),s&16&&_(t,1)):(t=r6(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function l6(r){let e,n;return e=new kn({props:{$$slots:{default:[Mve]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&36&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Mve(r){let e;return{c(){e=L(r[2])},m(n,t){v(n,e,t)},p(n,t){t&4&&z(e,n[2])},d(n){n&&$(e)}}}function Rve(r){let e,n,t=r[4]==="roleName"&&l6(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[4]==="roleName"?t?(t.p(l,s),s&16&&_(t,1)):(t=l6(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function Dve(r){let e,n,t,l,s,o,i,a,u,f;return t=new ot({props:{text:r[3]("remove_collaborator_body_1"),$$slots:{default:[Tve,({slotName:c})=>({4:c}),({slotName:c})=>c?16:0]},$$scope:{ctx:r}}}),o=new ot({props:{text:r[3]("remove_collaborator_body_2"),$$slots:{default:[Eve,({slotName:c})=>({4:c}),({slotName:c})=>c?16:0]},$$scope:{ctx:r}}}),u=new ot({props:{text:r[3]("remove_collaborator_body_3"),$$slots:{default:[Rve,({slotName:c})=>({4:c}),({slotName:c})=>c?16:0]},$$scope:{ctx:r}}}),{c(){e=E("ul"),n=E("li"),C(t.$$.fragment),l=N(),s=E("li"),C(o.$$.fragment),i=N(),a=E("li"),C(u.$$.fragment)},m(c,m){v(c,e,m),R(e,n),k(t,n,null),R(e,l),R(e,s),k(o,s,null),R(e,i),R(e,a),k(u,a,null),f=!0},p(c,[m]){const d={};m&8&&(d.text=c[3]("remove_collaborator_body_1")),m&51&&(d.$$scope={dirty:m,ctx:c}),t.$set(d);const g={};m&8&&(g.text=c[3]("remove_collaborator_body_2")),m&49&&(g.$$scope={dirty:m,ctx:c}),o.$set(g);const h={};m&8&&(h.text=c[3]("remove_collaborator_body_3")),m&52&&(h.$$scope={dirty:m,ctx:c}),u.$set(h)},i(c){f||(_(t.$$.fragment,c),_(o.$$.fragment,c),_(u.$$.fragment,c),f=!0)},o(c){p(t.$$.fragment,c),p(o.$$.fragment,c),p(u.$$.fragment,c),f=!1},d(c){c&&$(e),y(t),y(o),y(u)}}}function Ave(r,e,n){let t;ne(r,ce,i=>n(3,t=i));let{userName:l}=e,{databaseName:s}=e,{roleName:o}=e;return r.$$set=i=>{"userName"in i&&n(0,l=i.userName),"databaseName"in i&&n(1,s=i.databaseName),"roleName"in i&&n(2,o=i.roleName)},[l,s,o,t]}class Ove extends Q{constructor(e){super(),Z(this,e,Ave,Dve,J,{userName:0,databaseName:1,roleName:2})}}function Fve(r){let e,n;return e=new kn({props:{$$slots:{default:[Pve]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&18&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Nve(r){let e,n;return e=new kn({props:{$$slots:{default:[Lve]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&17&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Pve(r){let e;return{c(){e=L(r[1])},m(n,t){v(n,e,t)},p(n,t){t&2&&z(e,n[1])},d(n){n&&$(e)}}}function Lve(r){let e;return{c(){e=L(r[0])},m(n,t){v(n,e,t)},p(n,t){t&1&&z(e,n[0])},d(n){n&&$(e)}}}function Hve(r){let e,n,t,l;const s=[Nve,Fve],o=[];function i(a,u){return a[3]==="userName"?0:a[3]==="databaseName"?1:-1}return~(e=i(r))&&(n=o[e]=s[e](r)),{c(){n&&n.c(),t=ae()},m(a,u){~e&&o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?~e&&o[e].p(a,u):(n&&(U(),p(o[f],1,1,()=>{o[f]=null}),W()),~e?(n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t)):n=null)},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){~e&&o[e].d(a),a&&$(t)}}}function Vve(r){let e,n;return e=new ot({props:{text:r[2]("remove_collaborator_name_from_database_question"),$$slots:{default:[Hve,({slotName:t})=>({3:t}),({slotName:t})=>t?8:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&4&&(s.text=t[2]("remove_collaborator_name_from_database_question")),l&27&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function zve(r,e,n){let t;ne(r,ce,o=>n(2,t=o));let{userName:l}=e,{databaseName:s}=e;return r.$$set=o=>{"userName"in o&&n(0,l=o.userName),"databaseName"in o&&n(1,s=o.databaseName)},[l,s,t]}class Bve extends Q{constructor(e){super(),Z(this,e,zve,Vve,J,{userName:0,databaseName:1})}}function qve(r){let e=r[0].userId+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1&&e!==(e=t[0].userId+"")&&z(n,e)},d(t){t&&$(n)}}}function Uve(r){var i;let e,n,t,l,s=((i=r[3].email)!=null?i:"")+"",o;return{c(){e=E("div"),n=L(r[5]),t=N(),l=E("div"),o=L(s)},m(a,u){v(a,e,u),R(e,n),v(a,t,u),v(a,l,u),R(l,o)},p(a,u){var f;u&32&&z(n,a[5]),u&8&&s!==(s=((f=a[3].email)!=null?f:"")+"")&&z(o,s)},d(a){a&&$(e),a&&$(t),a&&$(l)}}}function Wve(r){let e;function n(s,o){return s[3]?Uve:qve}let t=n(r),l=t(r);return{c(){e=E("div"),l.c()},m(s,o){v(s,e,o),l.m(e,null)},p(s,o){t===(t=n(s))&&l?l.p(s,o):(l.d(1),l=t(s),l&&(l.c(),l.m(e,null)))},d(s){s&&$(e),l.d()}}}function jve(r){let e;return{c(){e=L(r[4])},m(n,t){v(n,e,t)},p(n,t){t&16&&z(e,n[4])},d(n){n&&$(e)}}}function Yve(r){let e=r[6].name+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&64&&e!==(e=t[6].name+"")&&z(n,e)},d(t){t&&$(n)}}}function Gve(r){let e,n;const t=[Kr,{size:"0.8em"}];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[_e(Kr),t[1]]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function Kve(r){let e,n,t,l,s,o;function i(f,c){return f[6]?Yve:jve}let a=i(r),u=a(r);return s=new st({props:{appearance:"secondary",disabled:!r[8],tooltip:r[11]("change_role"),$$slots:{default:[Gve]},$$scope:{ctx:r}}}),s.$on("click",r[20]),{c(){e=E("div"),n=E("div"),u.c(),t=N(),l=E("div"),C(s.$$.fragment),I(l,"class","actions svelte-1397f3n"),I(e,"class","role-info svelte-1397f3n")},m(f,c){v(f,e,c),R(e,n),u.m(n,null),R(e,t),R(e,l),k(s,l,null),o=!0},p(f,c){a===(a=i(f))&&u?u.p(f,c):(u.d(1),u=a(f),u&&(u.c(),u.m(n,null)));const m={};c&256&&(m.disabled=!f[8]),c&2048&&(m.tooltip=f[11]("change_role")),c&4194304&&(m.$$scope={dirty:c,ctx:f}),s.$set(m)},i(f){o||(_(s.$$.fragment,f),o=!0)},o(f){p(s.$$.fragment,f),o=!1},d(f){f&&$(e),u.d(),y(s)}}}function Xve(r){let e,n;return e=new Ar({props:{appearance:"danger",confirm:r[21],onClick:r[14],icon:Mt,label:"",tooltip:r[11]("remove_collaborator"),disabled:!r[8]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2146&&(s.confirm=t[21]),l&2048&&(s.tooltip=t[11]("remove_collaborator")),l&256&&(s.disabled=!t[8]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Jve(r){let e,n,t,l,s,o;return e=new rr({props:{$$slots:{default:[Wve]},$$scope:{ctx:r}}}),t=new rr({props:{$$slots:{default:[Kve]},$$scope:{ctx:r}}}),s=new rr({props:{$$slots:{default:[Xve]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),C(s.$$.fragment)},m(i,a){k(e,i,a),v(i,n,a),k(t,i,a),v(i,l,a),k(s,i,a),o=!0},p(i,[a]){const u={};a&4194345&&(u.$$scope={dirty:a,ctx:i}),e.$set(u);const f={};a&4196693&&(f.$$scope={dirty:a,ctx:i}),t.$set(f);const c={};a&4196706&&(c.$$scope={dirty:a,ctx:i}),s.$set(c)},i(i){o||(_(e.$$.fragment,i),_(t.$$.fragment,i),_(s.$$.fragment,i),o=!0)},o(i){p(e.$$.fragment,i),p(t.$$.fragment,i),p(s.$$.fragment,i),o=!1},d(i){y(e,i),i&&$(n),y(t,i),i&&$(l),y(s,i)}}}function Zve(r,e,n){let t,l,s,o,i,a,u,f,c,m,d=H,g=()=>(d(),d=le(i,Y=>n(4,m=Y)),i),h,b=H,w=()=>(b(),b=le(t,Y=>n(17,h=Y)),t),S,T=H,M=()=>(T(),T=le(l,Y=>n(18,S=Y)),l),A;ne(r,ce,Y=>n(11,f=Y)),r.$$.on_destroy.push(()=>d()),r.$$.on_destroy.push(()=>b()),r.$$.on_destroy.push(()=>T());let{collaborator:D}=e,{database:O}=e,{onClickEditRole:F}=e,{onDelete:P}=e;const B=pl.get();ne(r,B,Y=>n(16,c=Y));const j=Lr();ne(r,j,Y=>n(19,A=Y));async function V(){await c.deleteCollaborator(D),P(D),$t.success(f("collaborator_removed_successfully"))}const q=()=>F(D),G=()=>ml({title:{component:Bve,props:{userName:u,databaseName:O.displayName}},body:{component:Ove,props:{userName:u,databaseName:O.displayName,roleName:a==null?void 0:a.name}},proceedButton:{label:f("remove_collaborator")}});return r.$$set=Y=>{"collaborator"in Y&&n(0,D=Y.collaborator),"database"in Y&&n(1,O=Y.database),"onClickEditRole"in Y&&n(2,F=Y.onClickEditRole),"onDelete"in Y&&n(15,P=Y.onDelete)},r.$$.update=()=>{var Y,K;r.$$.dirty&65536&&w(n(10,{configuredRoles:t,users:l}=c,t,M(n(9,l)))),r.$$.dirty&524288&&n(8,{isMathesarAdmin:s}=A,s),r.$$.dirty&262145&&n(3,o=(Y=S.resolvedValue)==null?void 0:Y.get(D.userId)),r.$$.dirty&1&&g(n(7,i=D.configuredRoleId)),r.$$.dirty&131088&&n(6,a=(K=h.resolvedValue)==null?void 0:K.get(m)),r.$$.dirty&8&&n(5,u=o?o.full_name||o.username:"")},[D,O,F,o,m,u,a,i,s,l,t,f,B,j,V,P,c,h,S,A,q,G]}class Qve extends Q{constructor(e){super(),Z(this,e,Zve,Jve,J,{collaborator:0,database:1,onClickEditRole:2,onDelete:15})}}function xve(r){let e,n,t,l,s,o,i,a;return n=new EM({props:{configuredRoleId:r[2],configuredRolesMap:r[1]}}),s=new yn({props:{form:r[4],catchErrors:!0,onCancel:r[12],onProceed:r[7],proceedButton:{label:r[6]("save")},cancelButton:{label:r[6]("cancel")}}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),l=E("div"),C(s.$$.fragment),I(l,"class","footer")},m(u,f){v(u,e,f),k(n,e,null),v(u,t,f),v(u,l,f),k(s,l,null),o=!0,i||(a=Dt(dr.call(null,l)),i=!0)},p(u,f){const c={};f&4&&(c.configuredRoleId=u[2]),f&2&&(c.configuredRolesMap=u[1]),n.$set(c);const m={};f&16&&(m.form=u[4]),f&1&&(m.onCancel=u[12]),f&64&&(m.proceedButton={label:u[6]("save")}),f&64&&(m.cancelButton={label:u[6]("cancel")}),s.$set(m)},i(u){o||(_(n.$$.fragment,u),_(s.$$.fragment,u),o=!0)},o(u){p(n.$$.fragment,u),p(s.$$.fragment,u),o=!1},d(u){u&&$(e),y(n),u&&$(t),u&&$(l),y(s),i=!1,a()}}}function s6(r){let e,n;return e=new kn({props:{$$slots:{default:[ewe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&65544&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function ewe(r){let e;return{c(){e=L(r[3])},m(n,t){v(n,e,t)},p(n,t){t&8&&z(e,n[3])},d(n){n&&$(e)}}}function twe(r){let e,n,t=r[15]==="userName"&&s6(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[15]==="userName"?t?(t.p(l,s),s&32768&&_(t,1)):(t=s6(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function nwe(r){let e,n,t;return n=new ot({props:{text:r[6]("edit_role_for_collaborator_value"),$$slots:{default:[twe,({slotName:l})=>({15:l}),({slotName:l})=>l?32768:0]},$$scope:{ctx:r}}}),{c(){e=E("span"),C(n.$$.fragment),I(e,"slot","title")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&64&&(o.text=l[6]("edit_role_for_collaborator_value")),s&98312&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function rwe(r){let e,n;return e=new Yn({props:{controller:r[0],$$slots:{title:[nwe],default:[xve]},$$scope:{ctx:r}}}),e.$on("close",r[13]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.controller=t[0]),l&65631&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function lwe(r,e,n){let t,l,s,o,i,a,u=H,f=()=>(u(),u=le(l,D=>n(14,a=D)),l),c,m=H,d=()=>(m(),m=le(t,D=>n(11,c=D)),t);ne(r,ce,D=>n(6,i=D)),r.$$.on_destroy.push(()=>u()),r.$$.on_destroy.push(()=>m());let{controller:g}=e,{collaborator:h}=e,{configuredRolesMap:b}=e,{usersMap:w}=e,{onUpdateRole:S}=e;async function T(){await h.setConfiguredRole(a),S(h),g.close(),$t.success(i("collaborator_role_updated_successfully"))}const M=()=>{g.close()},A=()=>s.reset();return r.$$set=D=>{"controller"in D&&n(0,g=D.controller),"collaborator"in D&&n(8,h=D.collaborator),"configuredRolesMap"in D&&n(1,b=D.configuredRolesMap),"usersMap"in D&&n(9,w=D.usersMap),"onUpdateRole"in D&&n(10,S=D.onUpdateRole)},r.$$.update=()=>{var D,O;r.$$.dirty&256&&d(n(5,t=h.configuredRoleId)),r.$$.dirty&2048&&f(n(2,l=gt(c))),r.$$.dirty&4&&n(4,s=Wt({configuredRoleId:l})),r.$$.dirty&768&&n(3,o=(O=(D=w.get(h.userId))==null?void 0:D.username)!=null?O:String(h.userId))},[g,b,l,o,s,t,i,T,h,w,S,c,M,A]}class swe extends Q{constructor(e){super(),Z(this,e,lwe,rwe,J,{controller:0,collaborator:8,configuredRolesMap:1,usersMap:9,onUpdateRole:10})}}function o6(r,e,n){const t=r.slice();return t[24]=e[n],t}function owe(r){let e,n;return e=new _l({props:{errors:r[8]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&256&&(s.errors=t[8]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function iwe(r){let e,n,t,l;const s=[fwe,uwe],o=[];function i(a,u){return a[7].length>0?0:1}return n=i(r),t=o[n]=s[n](r),{c(){e=E("div"),t.c(),I(e,"class","collaborators-table svelte-1b9w8s")},m(a,u){v(a,e,u),o[n].m(e,null),l=!0},p(a,u){let f=n;n=i(a),n===f?o[n].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),t=o[n],t?t.p(a,u):(t=o[n]=s[n](a),t.c()),_(t,1),t.m(e,null))},i(a){l||(_(t),l=!0)},o(a){p(t),l=!1},d(a){a&&$(e),o[n].d()}}}function awe(r){let e,n;return e=new Gt({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function uwe(r){let e,n;return e=new ur({props:{fullWidth:!0,$$slots:{default:[cwe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&134225920&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function fwe(r){let e,n;return e=new jp({props:{$$slots:{default:[pwe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&134228096&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function cwe(r){let e=r[13]("no_collaborators_added")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&8192&&e!==(e=t[13]("no_collaborators_added")+"")&&z(n,e)},d(t){t&&$(n)}}}function mwe(r){let e=r[13]("mathesar_user")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&8192&&e!==(e=t[13]("mathesar_user")+"")&&z(n,e)},d(t){t&&$(n)}}}function dwe(r){let e=r[13]("role")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&8192&&e!==(e=t[13]("role")+"")&&z(n,e)},d(t){t&&$(n)}}}function _we(r){let e=r[13]("actions")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&8192&&e!==(e=t[13]("actions")+"")&&z(n,e)},d(t){t&&$(n)}}}function i6(r,e){let n,t,l;return t=new Qve({props:{database:e[11],collaborator:e[24],onClickEditRole:e[18],onDelete:e[19]}}),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(s,o){v(s,n,o),k(t,s,o),l=!0},p(s,o){e=s;const i={};o&2048&&(i.database=e[11]),o&128&&(i.collaborator=e[24]),t.$set(i)},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){s&&$(n),y(t,s)}}}function pwe(r){let e,n,t,l,s,o,i=[],a=new Map,u,f;e=new rr({props:{header:!0,$$slots:{default:[mwe]},$$scope:{ctx:r}}}),t=new rr({props:{header:!0,$$slots:{default:[dwe]},$$scope:{ctx:r}}}),s=new rr({props:{header:!0,$$slots:{default:[_we]},$$scope:{ctx:r}}});let c=r[7];const m=d=>d[24].id;for(let d=0;d<c.length;d+=1){let g=o6(r,c,d),h=m(g);a.set(h,i[d]=i6(h,g))}return{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),C(s.$$.fragment),o=N();for(let d=0;d<i.length;d+=1)i[d].c();u=ae()},m(d,g){k(e,d,g),v(d,n,g),k(t,d,g),v(d,l,g),k(s,d,g),v(d,o,g);for(let h=0;h<i.length;h+=1)i[h].m(d,g);v(d,u,g),f=!0},p(d,g){const h={};g&134225920&&(h.$$scope={dirty:g,ctx:d}),e.$set(h);const b={};g&134225920&&(b.$$scope={dirty:g,ctx:d}),t.$set(b);const w={};g&134225920&&(w.$$scope={dirty:g,ctx:d}),s.$set(w),g&788608&&(c=d[7],U(),i=ht(i,g,m,1,d,c,a,u.parentNode,kt,i6,u,o6),W())},i(d){if(!f){_(e.$$.fragment,d),_(t.$$.fragment,d),_(s.$$.fragment,d);for(let g=0;g<c.length;g+=1)_(i[g]);f=!0}},o(d){p(e.$$.fragment,d),p(t.$$.fragment,d),p(s.$$.fragment,d);for(let g=0;g<i.length;g+=1)p(i[g]);f=!1},d(d){y(e,d),d&&$(n),y(t,d),d&&$(l),y(s,d),d&&$(o);for(let g=0;g<i.length;g+=1)i[g].d(d);d&&$(u)}}}function gwe(r){let e,n,t,l;const s=[awe,iwe,owe],o=[];function i(a,u){return a[10]?0:a[9]?1:2}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function hwe(r){let e=r[13]("collaborators_help")+"",n,t,l,s;return l=new Hr({props:{page:"collaborators"}}),{c(){n=L(e),t=N(),C(l.$$.fragment)},m(o,i){v(o,n,i),v(o,t,i),k(l,o,i),s=!0},p(o,i){(!s||i&8192)&&e!==(e=o[13]("collaborators_help")+"")&&z(n,e)},i(o){s||(_(l.$$.fragment,o),s=!0)},o(o){p(l.$$.fragment,o),s=!1},d(o){o&&$(n),o&&$(t),y(l,o)}}}function bwe(r){let e=r[13]("collaborators")+"",n,t,l,s;return l=new zt({props:{$$slots:{default:[hwe]},$$scope:{ctx:r}}}),{c(){n=L(e),t=N(),C(l.$$.fragment)},m(o,i){v(o,n,i),v(o,t,i),k(l,o,i),s=!0},p(o,i){(!s||i&8192)&&e!==(e=o[13]("collaborators")+"")&&z(n,e);const a={};i&134225920&&(a.$$scope={dirty:i,ctx:o}),l.$set(a)},i(o){s||(_(l.$$.fragment,o),s=!0)},o(o){p(l.$$.fragment,o),s=!1},d(o){o&&$(n),o&&$(t),y(l,o)}}}function a6(r){let e,n;return e=new st({props:{appearance:"primary",disabled:!r[12],$$slots:{default:[$we]},$$scope:{ctx:r}}}),e.$on("click",r[22]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&4096&&(s.disabled=!t[12]),l&134225920&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function $we(r){let e,n,t,l=r[13]("add_collaborator")+"",s,o;const i=[jt];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return e=new Ne({props:a}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l)},m(u,f){k(e,u,f),v(u,n,f),v(u,t,f),R(t,s),o=!0},p(u,f){const c=f&0?de(i,[_e(jt)]):{};e.$set(c),(!o||f&8192)&&l!==(l=u[13]("add_collaborator")+"")&&z(s,l)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){p(e.$$.fragment,u),o=!1},d(u){y(e,u),u&&$(n),u&&$(t)}}}function vwe(r){let e,n,t=r[9]&&a6(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[9]?t?(t.p(l,s),s&512&&_(t,1)):(t=a6(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function u6(r){let e,n;return e=new wve({props:{controller:r[15],usersMap:r[4].resolvedValue,configuredRolesMap:r[5].resolvedValue,collaboratorsMap:r[3].resolvedValue,onAdd:r[19]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.usersMap=t[4].resolvedValue),l&32&&(s.configuredRolesMap=t[5].resolvedValue),l&8&&(s.collaboratorsMap=t[3].resolvedValue),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function f6(r){let e,n;return e=new swe({props:{collaborator:r[6],usersMap:r[4].resolvedValue,controller:r[16],configuredRolesMap:r[5].resolvedValue,onUpdateRole:r[19]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&64&&(s.collaborator=t[6]),l&16&&(s.usersMap=t[4].resolvedValue),l&32&&(s.configuredRolesMap=t[5].resolvedValue),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function wwe(r){let e,n,t,l,s;e=new Yp({props:{$$slots:{actions:[vwe],title:[bwe],default:[gwe]},$$scope:{ctx:r}}});let o=r[4].resolvedValue&&r[5].resolvedValue&&r[3].resolvedValue&&u6(r),i=r[5].resolvedValue&&r[4].resolvedValue&&r[6]&&f6(r);return{c(){C(e.$$.fragment),n=N(),o&&o.c(),t=N(),i&&i.c(),l=ae()},m(a,u){k(e,a,u),v(a,n,u),o&&o.m(a,u),v(a,t,u),i&&i.m(a,u),v(a,l,u),s=!0},p(a,[u]){const f={};u&134233984&&(f.$$scope={dirty:u,ctx:a}),e.$set(f),a[4].resolvedValue&&a[5].resolvedValue&&a[3].resolvedValue?o?(o.p(a,u),u&56&&_(o,1)):(o=u6(a),o.c(),_(o,1),o.m(t.parentNode,t)):o&&(U(),p(o,1,1,()=>{o=null}),W()),a[5].resolvedValue&&a[4].resolvedValue&&a[6]?i?(i.p(a,u),u&112&&_(i,1)):(i=f6(a),i.c(),_(i,1),i.m(l.parentNode,l)):i&&(U(),p(i,1,1,()=>{i=null}),W())},i(a){s||(_(e.$$.fragment,a),_(o),_(i),s=!0)},o(a){p(e.$$.fragment,a),p(o),p(i),s=!1},d(a){y(e,a),a&&$(n),o&&o.d(a),a&&$(t),i&&i.d(a),a&&$(l)}}}function kwe(r,e,n){let t,l,s,o,i,a,u,f,c,m,d,g,h=H,b=()=>(h(),h=le(o,ee=>n(3,g=ee)),o),w,S=H,T=()=>(S(),S=le(i,ee=>n(4,w=ee)),i),M,A=H,D=()=>(A(),A=le(s,ee=>n(5,M=ee)),s),O,F;ne(r,ce,ee=>n(13,F=ee)),r.$$.on_destroy.push(()=>h()),r.$$.on_destroy.push(()=>S()),r.$$.on_destroy.push(()=>A());const P=pl.get();ne(r,P,ee=>n(21,O=ee));const B=un.spawnModalController(),j=un.spawnModalController(),V=Lr();ne(r,V,ee=>n(20,d=ee));let q;function G(ee){n(6,q=ee),j.open()}function Y(ee){ee.userId===d.id&&(En.runBatch([a.underlyingDatabase.batchRunner(),a.roles.batchRunner()]),Df())}const K=()=>B.open();return r.$$.update=()=>{var ee,x;r.$$.dirty&1048576&&n(12,{isMathesarAdmin:t}=d,t),r.$$.dirty&2097152&&n(11,{database:l,configuredRoles:s,collaborators:o,users:i,databaseRouteContext:a}=O,l,D(n(1,s)),b(n(2,o)),T(n(0,i))),r.$$.dirty&6&&En.runBatchConservatively([o.batchRunner(),s.batchRunner()]),r.$$.dirty&1&&i.runConservatively(),r.$$.dirty&56&&n(10,u=g.isLoading||M.isLoading||w.isLoading),r.$$.dirty&56&&n(9,f=g.isOk&&M.isOk&&w.isOk),r.$$.dirty&56&&n(8,c=[g.error,M.error,w.error].filter(X=>At(X))),r.$$.dirty&8&&n(7,m=[...(x=(ee=g.resolvedValue)==null?void 0:ee.values())!=null?x:[]])},[i,s,o,g,w,M,q,m,c,f,u,l,t,F,P,B,j,V,G,Y,d,O,K]}class ywe extends Q{constructor(e){super(),Z(this,e,kwe,wwe,J,{})}}function Cwe(r){let e,n,t;const l=[C0,{label:r[0]("yes")}];let s={};for(let o=0;o<l.length;o+=1)s=se(s,l[o]);return n=new Ne({props:s}),{c(){e=E("span"),C(n.$$.fragment),I(e,"class","yes svelte-1ukgwul")},m(o,i){v(o,e,i),k(n,e,null),t=!0},p(o,[i]){const a=i&1?de(l,[i&0&&_e(C0),i&1&&{label:o[0]("yes")}]):{};n.$set(a)},i(o){t||(_(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&$(e),y(n)}}}function Swe(r,e,n){let t;return ne(r,ce,l=>n(0,t=l)),[t]}class MM extends Q{constructor(e){super(),Z(this,e,Swe,Cwe,J,{})}}function Twe(r){let e=r[3]("role_configured_all_databases_in_server",{values:{server:r[2].server.getConnectionString()}})+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&12&&e!==(e=t[3]("role_configured_all_databases_in_server",{values:{server:t[2].server.getConnectionString()}})+"")&&z(n,e)},d(t){t&&$(n)}}}function Iwe(r){let e,n;return e=new Co({props:{$$slots:{default:[Twe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8204&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Ewe(r){let e,n,t,l,s,o,i,a,u,f;return n=new It({props:{label:r[3]("password"),help:r[3]("password_help"),layout:"stacked",field:r[5],input:{component:ul,props:{autocomplete:"off"}}}}),l=new Ht({props:{$$slots:{default:[Iwe]},$$scope:{ctx:r}}}),i=new yn({props:{form:r[6],catchErrors:!0,onCancel:r[9],onProceed:r[7],proceedButton:{label:r[3]("save_role")},cancelButton:{label:r[3]("cancel")}}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),C(l.$$.fragment),s=N(),o=E("div"),C(i.$$.fragment),I(o,"class","footer")},m(c,m){v(c,e,m),k(n,e,null),R(e,t),k(l,e,null),v(c,s,m),v(c,o,m),k(i,o,null),a=!0,u||(f=Dt(dr.call(null,o)),u=!0)},p(c,m){const d={};m&8&&(d.label=c[3]("password")),m&8&&(d.help=c[3]("password_help")),n.$set(d);const g={};m&8204&&(g.$$scope={dirty:m,ctx:c}),l.$set(g);const h={};m&1&&(h.onCancel=c[9]),m&8&&(h.proceedButton={label:c[3]("save_role")}),m&8&&(h.cancelButton={label:c[3]("cancel")}),i.$set(h)},i(c){a||(_(n.$$.fragment,c),_(l.$$.fragment,c),_(i.$$.fragment,c),a=!0)},o(c){p(n.$$.fragment,c),p(l.$$.fragment,c),p(i.$$.fragment,c),a=!1},d(c){c&&$(e),y(n),y(l),c&&$(s),c&&$(o),y(i),u=!1,f()}}}function c6(r){let e,n;return e=new kn({props:{$$slots:{default:[Mwe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8194&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Mwe(r){let e=r[1].name+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&2&&e!==(e=t[1].name+"")&&z(n,e)},d(t){t&&$(n)}}}function Rwe(r){let e,n,t=r[12]==="role"&&c6(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[12]==="role"?t?(t.p(l,s),s&4096&&_(t,1)):(t=c6(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function Dwe(r){let e,n,t;return n=new ot({props:{text:r[3]("update_stored_password_for_role"),$$slots:{default:[Rwe,({slotName:l})=>({12:l}),({slotName:l})=>l?4096:0]},$$scope:{ctx:r}}}),{c(){e=E("span"),C(n.$$.fragment),I(e,"slot","title")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&8&&(o.text=l[3]("update_stored_password_for_role")),s&12290&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function Awe(r){let e,n;return e=new Yn({props:{controller:r[0],$$slots:{title:[Dwe],default:[Ewe]},$$scope:{ctx:r}}}),e.$on("close",r[10]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.controller=t[0]),l&8207&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Owe(r,e,n){let t,l,s,o;ne(r,ce,h=>n(3,l=h));const i=pl.get();ne(r,i,h=>n(8,o=h));let{controller:a}=e,{combinedLoginRole:u}=e;const f=er("");ne(r,f,h=>n(11,s=h));const c=Wt({password:f});async function m(){await o.configureRole(u,s),a.close(),u.configuredRole?$t.success(l("role_configured_successfully_new_password")):$t.success(l("role_configured_successfully"))}const d=()=>{a.close()},g=()=>c.reset();return r.$$set=h=>{"controller"in h&&n(0,a=h.controller),"combinedLoginRole"in h&&n(1,u=h.combinedLoginRole)},r.$$.update=()=>{r.$$.dirty&256&&n(2,{database:t}=o,t)},[a,u,t,l,i,f,c,m,o,d,g]}class Fwe extends Q{constructor(e){super(),Z(this,e,Owe,Awe,J,{controller:0,combinedLoginRole:1})}}function m6(r,e,n){const t=r.slice();return t[23]=e[n],t}function Nwe(r){let e,n,t,l=r[8].length>0&&d6(r),s=r[3].length&&g6(r);return{c(){l&&l.c(),e=N(),s&&s.c(),n=ae()},m(o,i){l&&l.m(o,i),v(o,e,i),s&&s.m(o,i),v(o,n,i),t=!0},p(o,i){o[8].length>0?l?(l.p(o,i),i&256&&_(l,1)):(l=d6(o),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(U(),p(l,1,1,()=>{l=null}),W()),o[3].length?s?(s.p(o,i),i&8&&_(s,1)):(s=g6(o),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(U(),p(s,1,1,()=>{s=null}),W())},i(o){t||(_(l),_(s),t=!0)},o(o){p(l),p(s),t=!1},d(o){l&&l.d(o),o&&$(e),s&&s.d(o),o&&$(n)}}}function Pwe(r){let e,n;return e=new Gt({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function d6(r){let e,n,t;return n=new jp({props:{$$slots:{default:[jwe]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","role-configuration-table svelte-1dzpq7j")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&67109312&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function Lwe(r){let e=r[7]("role")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&128&&e!==(e=t[7]("role")+"")&&z(n,e)},d(t){t&&$(n)}}}function Hwe(r){let e=r[7]("stored_password")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&128&&e!==(e=t[7]("stored_password")+"")&&z(n,e)},d(t){t&&$(n)}}}function Vwe(r){let e,n=r[23].name+"",t;return{c(){e=E("span"),t=L(n),I(e,"class","role-name")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&256&&n!==(n=l[23].name+"")&&z(t,n)},d(l){l&&$(e)}}}function _6(r){let e,n;return e=new MM({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function zwe(r){let e,n;function t(){return r[22](r[23])}return e=new st({props:{appearance:"secondary",disabled:!r[6],tooltip:r[7]("store_a_password"),$$slots:{default:[qwe]},$$scope:{ctx:r}}}),e.$on("click",t),{c(){C(e.$$.fragment)},m(l,s){k(e,l,s),n=!0},p(l,s){r=l;const o={};s&64&&(o.disabled=!r[6]),s&128&&(o.tooltip=r[7]("store_a_password")),s&67108864&&(o.$$scope={dirty:s,ctx:r}),e.$set(o)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){p(e.$$.fragment,l),n=!1},d(l){y(e,l)}}}function Bwe(r){let e,n,t,l;function s(){return r[19](r[23])}e=new st({props:{appearance:"secondary",disabled:!r[6],tooltip:r[7]("update_stored_password"),$$slots:{default:[Uwe]},$$scope:{ctx:r}}}),e.$on("click",s);function o(){return r[20](r[23])}function i(){return r[21](r[23])}return t=new Ar({props:{appearance:"danger",disabled:!r[6],confirm:o,label:"",tooltip:r[7]("remove_stored_password"),icon:Mt,onClick:i}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(a,u){k(e,a,u),v(a,n,u),k(t,a,u),l=!0},p(a,u){r=a;const f={};u&64&&(f.disabled=!r[6]),u&128&&(f.tooltip=r[7]("update_stored_password")),u&67108864&&(f.$$scope={dirty:u,ctx:r}),e.$set(f);const c={};u&64&&(c.disabled=!r[6]),u&384&&(c.confirm=o),u&128&&(c.tooltip=r[7]("remove_stored_password")),u&256&&(c.onClick=i),t.$set(c)},i(a){l||(_(e.$$.fragment,a),_(t.$$.fragment,a),l=!0)},o(a){p(e.$$.fragment,a),p(t.$$.fragment,a),l=!1},d(a){y(e,a),a&&$(n),y(t,a)}}}function qwe(r){let e,n;const t=[jt,{size:"0.8em"}];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[_e(jt),t[1]]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function Uwe(r){let e,n;const t=[Kr,{size:"0.8em"}];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[_e(Kr),t[1]]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function Wwe(r){let e,n,t,l,s,o,i,a,u=r[23].configuredRole&&_6();const f=[Bwe,zwe],c=[];function m(d,g){return d[23].configuredRole?0:d[23].role?1:-1}return~(s=m(r))&&(o=c[s]=f[s](r)),{c(){e=E("div"),n=E("div"),u&&u.c(),t=N(),l=E("div"),o&&o.c(),i=N(),I(n,"class","svelte-1dzpq7j"),I(l,"class","svelte-1dzpq7j"),I(e,"class","password-saved-cell svelte-1dzpq7j")},m(d,g){v(d,e,g),R(e,n),u&&u.m(n,null),R(e,t),R(e,l),~s&&c[s].m(l,null),v(d,i,g),a=!0},p(d,g){d[23].configuredRole?u?g&256&&_(u,1):(u=_6(),u.c(),_(u,1),u.m(n,null)):u&&(U(),p(u,1,1,()=>{u=null}),W());let h=s;s=m(d),s===h?~s&&c[s].p(d,g):(o&&(U(),p(c[h],1,1,()=>{c[h]=null}),W()),~s?(o=c[s],o?o.p(d,g):(o=c[s]=f[s](d),o.c()),_(o,1),o.m(l,null)):o=null)},i(d){a||(_(u),_(o),a=!0)},o(d){p(u),p(o),a=!1},d(d){d&&$(e),u&&u.d(),~s&&c[s].d(),d&&$(i)}}}function p6(r,e){let n,t,l,s,o;return t=new rr({props:{$$slots:{default:[Vwe]},$$scope:{ctx:e}}}),s=new rr({props:{$$slots:{default:[Wwe]},$$scope:{ctx:e}}}),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),l=N(),C(s.$$.fragment),this.first=n},m(i,a){v(i,n,a),k(t,i,a),v(i,l,a),k(s,i,a),o=!0},p(i,a){e=i;const u={};a&67109120&&(u.$$scope={dirty:a,ctx:e}),t.$set(u);const f={};a&67109312&&(f.$$scope={dirty:a,ctx:e}),s.$set(f)},i(i){o||(_(t.$$.fragment,i),_(s.$$.fragment,i),o=!0)},o(i){p(t.$$.fragment,i),p(s.$$.fragment,i),o=!1},d(i){i&&$(n),y(t,i),i&&$(l),y(s,i)}}}function jwe(r){let e,n,t,l,s=[],o=new Map,i,a;e=new rr({props:{header:!0,$$slots:{default:[Lwe]},$$scope:{ctx:r}}}),t=new rr({props:{header:!0,$$slots:{default:[Hwe]},$$scope:{ctx:r}}});let u=r[8];const f=c=>c[23].name;for(let c=0;c<u.length;c+=1){let m=m6(r,u,c),d=f(m);o.set(d,s[c]=p6(d,m))}return{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N();for(let c=0;c<s.length;c+=1)s[c].c();i=ae()},m(c,m){k(e,c,m),v(c,n,m),k(t,c,m),v(c,l,m);for(let d=0;d<s.length;d+=1)s[d].m(c,m);v(c,i,m),a=!0},p(c,m){const d={};m&67108992&&(d.$$scope={dirty:m,ctx:c}),e.$set(d);const g={};m&67108992&&(g.$$scope={dirty:m,ctx:c}),t.$set(g),m&12736&&(u=c[8],U(),s=ht(s,m,f,1,c,u,o,i.parentNode,kt,p6,i,m6),W())},i(c){if(!a){_(e.$$.fragment,c),_(t.$$.fragment,c);for(let m=0;m<u.length;m+=1)_(s[m]);a=!0}},o(c){p(e.$$.fragment,c),p(t.$$.fragment,c);for(let m=0;m<s.length;m+=1)p(s[m]);a=!1},d(c){y(e,c),c&&$(n),y(t,c),c&&$(l);for(let m=0;m<s.length;m+=1)s[m].d(c);c&&$(i)}}}function g6(r){let e,n;return e=new _l({props:{fullWidth:!0,errors:r[3]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8&&(s.errors=t[3]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Ywe(r){let e,n,t,l;const s=[Pwe,Nwe],o=[];function i(a,u){return a[4]?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function Gwe(r){let e=r[7]("stored_role_passwords_help")+"",n,t,l,s;return l=new Hr({props:{page:"storedRoles"}}),{c(){n=L(e),t=N(),C(l.$$.fragment)},m(o,i){v(o,n,i),v(o,t,i),k(l,o,i),s=!0},p(o,i){(!s||i&128)&&e!==(e=o[7]("stored_role_passwords_help")+"")&&z(n,e)},i(o){s||(_(l.$$.fragment,o),s=!0)},o(o){p(l.$$.fragment,o),s=!1},d(o){o&&$(n),o&&$(t),y(l,o)}}}function Kwe(r){let e=r[7]("stored_role_passwords")+"",n,t,l,s;return l=new zt({props:{$$slots:{default:[Gwe]},$$scope:{ctx:r}}}),{c(){n=L(e),t=N(),C(l.$$.fragment)},m(o,i){v(o,n,i),v(o,t,i),k(l,o,i),s=!0},p(o,i){(!s||i&128)&&e!==(e=o[7]("stored_role_passwords")+"")&&z(n,e);const a={};i&67108992&&(a.$$scope={dirty:i,ctx:o}),l.$set(a)},i(o){s||(_(l.$$.fragment,o),s=!0)},o(o){p(l.$$.fragment,o),s=!1},d(o){o&&$(n),o&&$(t),y(l,o)}}}function h6(r){let e,n;return e=new Fwe({props:{controller:r[10],combinedLoginRole:r[2]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&4&&(s.combinedLoginRole=t[2]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Xwe(r){let e,n,t,l;e=new Yp({props:{$$slots:{title:[Kwe],default:[Ywe]},$$scope:{ctx:r}}});let s=r[2]&&h6(r);return{c(){C(e.$$.fragment),n=N(),s&&s.c(),t=ae()},m(o,i){k(e,o,i),v(o,n,i),s&&s.m(o,i),v(o,t,i),l=!0},p(o,[i]){const a={};i&67109336&&(a.$$scope={dirty:i,ctx:o}),e.$set(a),o[2]?s?(s.p(o,i),i&4&&_(s,1)):(s=h6(o),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(U(),p(s,1,1,()=>{s=null}),W())},i(o){l||(_(e.$$.fragment,o),_(s),l=!0)},o(o){p(e.$$.fragment,o),p(s),l=!1},d(o){y(e,o),o&&$(n),s&&s.d(o),o&&$(t)}}}function Jwe(r,e,n){let t,l,s,o,i,a,u,f,c,m,d=H,g=()=>(d(),d=le(i,K=>n(16,m=K)),i),h,b=H,w=()=>(b(),b=le(s,K=>n(17,h=K)),s),S,T,M=H,A=()=>(M(),M=le(o,K=>n(8,T=K)),o);ne(r,ce,K=>n(7,f=K)),r.$$.on_destroy.push(()=>d()),r.$$.on_destroy.push(()=>b()),r.$$.on_destroy.push(()=>M());const D=pl.get();ne(r,D,K=>n(15,c=K));const O=un.spawnModalController(),F=Lr();ne(r,F,K=>n(18,S=K));let P;function B(K){n(2,P=K),O.open()}async function j(K){if(K.configuredRole)try{await c.removeConfiguredRole(K.configuredRole),$t.success(f("stored_password_removed"))}catch(ee){$t.error(Yt(ee))}}const V=K=>B(K),q=K=>{var ee;return ml({title:{component:$c,props:{identifier:K.name,wrappingString:f("remove_stored_password_for_identifier")}},body:f("remove_stored_password_help",{values:{server:(ee=K.configuredRole)==null?void 0:ee.database.server.getConnectionString()}}),proceedButton:{label:f("remove_stored_password"),icon:Mt}})},G=K=>j(K),Y=K=>B(K);return r.$$.update=()=>{r.$$.dirty&262144&&n(6,{isMathesarAdmin:t}=S,t),r.$$.dirty&32768&&n(14,{databaseRouteContext:l,configuredRoles:s,combinedLoginRoles:o}=c,l,w(n(1,s)),A(n(5,o))),r.$$.dirty&16384&&g(n(0,{roles:i}=l,i)),r.$$.dirty&3&&En.runBatchConservatively([s.batchRunner(),i.batchRunner()]),r.$$.dirty&196608&&n(4,a=h.isLoading||m.isLoading),r.$$.dirty&196608&&n(3,u=[h.error,m.error].filter(At))},[i,s,P,u,a,o,t,f,T,D,O,F,B,j,l,c,m,h,S,V,q,G,Y]}class Zwe extends Q{constructor(e){super(),Z(this,e,Jwe,Xwe,J,{})}}function Qwe(r){let e,n,t;function l(o){r[10](o)}let s={};return r[1]!==void 0&&(s.checked=r[1]),e=new lr({props:s}),we.push(()=>Me(e,"checked",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};!n&&i&2&&(n=!0,a.checked=o[1],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function xwe(r){let e=r[2]("roles_login_help")+"",n,t,l,s;return l=new Hr({props:{page:"rolesLogin"}}),{c(){n=L(e),t=N(),C(l.$$.fragment)},m(o,i){v(o,n,i),v(o,t,i),k(l,o,i),s=!0},p(o,i){(!s||i&4)&&e!==(e=o[2]("roles_login_help")+"")&&z(n,e)},i(o){s||(_(l.$$.fragment,o),s=!0)},o(o){p(l.$$.fragment,o),s=!1},d(o){o&&$(n),o&&$(t),y(l,o)}}}function e6e(r){let e,n=ou.LOGIN+"",t,l,s,o;return s=new zt({props:{$$slots:{default:[xwe]},$$scope:{ctx:r}}}),{c(){e=E("div"),t=L(n),l=N(),C(s.$$.fragment),I(e,"slot","label")},m(i,a){v(i,e,a),R(e,t),R(e,l),k(s,e,null),o=!0},p(i,a){const u={};a&65540&&(u.$$scope={dirty:a,ctx:i}),s.$set(u)},i(i){o||(_(s.$$.fragment,i),o=!0)},o(i){p(s.$$.fragment,i),o=!1},d(i){i&&$(e),y(s)}}}function t6e(r){let e,n;return e=new Nt({props:{layout:"inline-input-first",$$slots:{label:[e6e],default:[Qwe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&65542&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function b6(r){let e,n,t,l,s,o;return e=new It({props:{label:r[2]("password"),layout:"stacked",field:r[6],input:{component:ul,props:{autocomplete:"new-password"}}}}),t=new It({props:{label:r[2]("confirm_password"),layout:"stacked",field:r[7],input:{component:ul,props:{autocomplete:"new-password"}}}}),s=new Ht({props:{$$slots:{default:[r6e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),C(s.$$.fragment)},m(i,a){k(e,i,a),v(i,n,a),k(t,i,a),v(i,l,a),k(s,i,a),o=!0},p(i,a){const u={};a&4&&(u.label=i[2]("password")),e.$set(u);const f={};a&4&&(f.label=i[2]("confirm_password")),t.$set(f);const c={};a&65540&&(c.$$scope={dirty:a,ctx:i}),s.$set(c)},i(i){o||(_(e.$$.fragment,i),_(t.$$.fragment,i),_(s.$$.fragment,i),o=!0)},o(i){p(e.$$.fragment,i),p(t.$$.fragment,i),p(s.$$.fragment,i),o=!1},d(i){y(e,i),i&&$(n),y(t,i),i&&$(l),y(s,i)}}}function n6e(r){let e=r[2]("new_login_role_info_box")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&4&&e!==(e=t[2]("new_login_role_info_box")+"")&&z(n,e)},d(t){t&&$(n)}}}function r6e(r){let e,n;return e=new Co({props:{$$slots:{default:[n6e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&65540&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function l6e(r){let e,n,t,l,s,o,i,a,u,f,c;n=new It({props:{label:r[2]("role_name"),layout:"stacked",field:r[5]}}),l=new Ht({props:{$$slots:{default:[t6e]},$$scope:{ctx:r}}});let m=r[1]&&b6(r);return a=new yn({props:{form:r[3],catchErrors:!0,onCancel:r[11],onProceed:r[8],proceedButton:{label:r[2]("create_role")},cancelButton:{label:r[2]("cancel")}}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),C(l.$$.fragment),s=N(),m&&m.c(),o=N(),i=E("div"),C(a.$$.fragment),I(i,"class","footer")},m(d,g){v(d,e,g),k(n,e,null),R(e,t),k(l,e,null),R(e,s),m&&m.m(e,null),v(d,o,g),v(d,i,g),k(a,i,null),u=!0,f||(c=Dt(dr.call(null,i)),f=!0)},p(d,g){const h={};g&4&&(h.label=d[2]("role_name")),n.$set(h);const b={};g&65542&&(b.$$scope={dirty:g,ctx:d}),l.$set(b),d[1]?m?(m.p(d,g),g&2&&_(m,1)):(m=b6(d),m.c(),_(m,1),m.m(e,null)):m&&(U(),p(m,1,1,()=>{m=null}),W());const w={};g&8&&(w.form=d[3]),g&9&&(w.onCancel=d[11]),g&4&&(w.proceedButton={label:d[2]("create_role")}),g&4&&(w.cancelButton={label:d[2]("cancel")}),a.$set(w)},i(d){u||(_(n.$$.fragment,d),_(l.$$.fragment,d),_(m),_(a.$$.fragment,d),u=!0)},o(d){p(n.$$.fragment,d),p(l.$$.fragment,d),p(m),p(a.$$.fragment,d),u=!1},d(d){d&&$(e),y(n),y(l),m&&m.d(),d&&$(o),d&&$(i),y(a),f=!1,c()}}}function s6e(r){let e,n=r[2]("create_role")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","title")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&4&&n!==(n=l[2]("create_role")+"")&&z(t,n)},d(l){l&&$(e)}}}function o6e(r){let e,n;return e=new Yn({props:{controller:r[0],$$slots:{title:[s6e],default:[l6e]},$$scope:{ctx:r}}}),e.$on("close",r[12]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.controller=t[0]),l&65551&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function i6e(r,e,n){let t,l,s,o,i,a;ne(r,ce,T=>n(2,s=T));const u=pl.get();ne(r,u,T=>n(14,i=T));let{controller:f}=e;const c=gt("");ne(r,c,T=>n(13,o=T));const m=gt("");ne(r,m,T=>n(15,a=T));const d=gt("");let g=!0;async function h(){g?await i.databaseRouteContext.addRole({roleName:o,login:!0,password:a}):await i.databaseRouteContext.addRole({roleName:o,login:!1}),$t.success(s("role_created_successfully")),f.close()}function b(T){g=T,n(1,g)}const w=()=>{l.reset(),f.close()},S=()=>l.reset();return r.$$set=T=>{"controller"in T&&n(0,f=T.controller)},r.$$.update=()=>{r.$$.dirty&2&&n(9,t=(()=>{const T={roleName:c};return g?{...T,password:m,confirmPassword:d}:T})()),r.$$.dirty&516&&n(3,l=Wt(t,[aE([m,d],s("passwords_do_not_match"))])),r.$$.dirty&2&&(m.reset(),d.reset())},[f,g,s,l,u,c,m,d,h,t,b,w,S]}class a6e extends Q{constructor(e){super(),Z(this,e,i6e,o6e,J,{controller:0})}}function $6(r,e,n){const t=r.slice();return t[22]=e[n],t}function v6(r,e,n){const t=r.slice();return t[25]=e[n],t}function u6e(r){let e=r[25].name+"",n,t;return{c(){n=L(e),t=N()},m(l,s){v(l,n,s),v(l,t,s)},p(l,s){s&16&&e!==(e=l[25].name+"")&&z(n,e)},d(l){l&&$(n),l&&$(t)}}}function w6(r,e){let n,t,l;function s(){return e[17](e[25])}return t=new wn({props:{disabled:e[9].has(e[25].oid),$$slots:{default:[u6e]},$$scope:{ctx:e}}}),t.$on("click",s),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(o,i){v(o,n,i),k(t,o,i),l=!0},p(o,i){e=o;const a={};i&528&&(a.disabled=e[9].has(e[25].oid)),i&268435472&&(a.$$scope={dirty:i,ctx:e}),t.$set(a)},i(o){l||(_(t.$$.fragment,o),l=!0)},o(o){p(t.$$.fragment,o),l=!1},d(o){o&&$(n),y(t,o)}}}function f6e(r){let e=[],n=new Map,t,l,s=r[4];const o=i=>i[25].oid;for(let i=0;i<s.length;i+=1){let a=v6(r,s,i),u=o(a);n.set(u,e[i]=w6(u,a))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=ae()},m(i,a){for(let u=0;u<e.length;u+=1)e[u].m(i,a);v(i,t,a),l=!0},p(i,a){a&1552&&(s=i[4],U(),e=ht(e,a,o,1,i,s,n,t.parentNode,kt,w6,t,v6),W())},i(i){if(!l){for(let a=0;a<s.length;a+=1)_(e[a]);l=!0}},o(i){for(let a=0;a<e.length;a+=1)p(e[a]);l=!1},d(i){for(let a=0;a<e.length;a+=1)e[a].d(i);i&&$(t)}}}function k6(r){let e,n,t;return n=new ur({props:{$$slots:{default:[c6e]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","changes-warning svelte-1tc14qm")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&268435712&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function c6e(r){let e=r[8]("click_save_button_to_save_changes")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&256&&e!==(e=t[8]("click_save_button_to_save_changes")+"")&&z(n,e)},d(t){t&&$(n)}}}function m6e(r){let e,n;return e=new Co({props:{fullWidth:!0,$$slots:{default:[_6e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&268435712&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function d6e(r){let e=[],n=new Map,t,l,s=[...r[9]];const o=i=>i[22];for(let i=0;i<s.length;i+=1){let a=$6(r,s,i),u=o(a);n.set(u,e[i]=y6(u,a))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=ae()},m(i,a){for(let u=0;u<e.length;u+=1)e[u].m(i,a);v(i,t,a),l=!0},p(i,a){a&2564&&(s=[...i[9]],U(),e=ht(e,a,o,1,i,s,n,t.parentNode,kt,y6,t,$6),W())},i(i){if(!l){for(let a=0;a<s.length;a+=1)_(e[a]);l=!0}},o(i){for(let a=0;a<e.length;a+=1)p(e[a]);l=!1},d(i){for(let a=0;a<e.length;a+=1)e[a].d(i);i&&$(t)}}}function _6e(r){let e=r[8]("role_has_no_child_roles")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&256&&e!==(e=t[8]("role_has_no_child_roles")+"")&&z(n,e)},d(t){t&&$(n)}}}function p6e(r){let e,n;const t=[Mt,{size:"0.8em"}];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[_e(Mt),t[1]]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function y6(r,e){var m,d;let n,t,l=((d=(m=e[2].get(e[22]))==null?void 0:m.name)!=null?d:e[22])+"",s,o,i,a,u,f;function c(){return e[18](e[22])}return a=new st({props:{appearance:"secondary",$$slots:{default:[p6e]},$$scope:{ctx:e}}}),a.$on("click",c),{key:r,first:null,c(){n=E("div"),t=E("span"),s=L(l),o=N(),i=E("span"),C(a.$$.fragment),u=N(),I(i,"class","remove svelte-1tc14qm"),I(n,"class","member svelte-1tc14qm"),this.first=n},m(g,h){v(g,n,h),R(n,t),R(t,s),R(n,o),R(n,i),k(a,i,null),R(n,u),f=!0},p(g,h){var w,S;e=g,(!f||h&516)&&l!==(l=((S=(w=e[2].get(e[22]))==null?void 0:w.name)!=null?S:e[22])+"")&&z(s,l);const b={};h&268435456&&(b.$$scope={dirty:h,ctx:e}),a.$set(b)},i(g){f||(_(a.$$.fragment,g),f=!0)},o(g){p(a.$$.fragment,g),f=!1},d(g){g&&$(n),y(a)}}}function g6e(r){let e,n,t,l,s,o,i,a,u,f,c,m,d,g,h;t=new Pr({props:{label:r[8]("add_child_roles"),triggerAppearance:"secondary",$$slots:{default:[f6e]},$$scope:{ctx:r}}});let b=r[5]&&k6(r);const w=[d6e,m6e],S=[];function T(M,A){return M[9].size>0?0:1}return i=T(r),a=S[i]=w[i](r),m=new yn({props:{form:r[6],catchErrors:!0,canProceed:r[5],onCancel:r[19],onProceed:r[12],proceedButton:{label:r[8]("save")},cancelButton:{label:r[8]("cancel")}}}),{c(){e=E("div"),n=E("div"),C(t.$$.fragment),l=N(),b&&b.c(),s=N(),o=E("div"),a.c(),f=N(),c=E("div"),C(m.$$.fragment),I(n,"class","menu-section svelte-1tc14qm"),I(o,"class","member-list svelte-1tc14qm"),I(c,"class","footer")},m(M,A){v(M,e,A),R(e,n),k(t,n,null),R(n,l),b&&b.m(n,null),R(e,s),R(e,o),S[i].m(o,null),v(M,f,A),v(M,c,A),k(m,c,null),d=!0,g||(h=[Dt(u=Ii.call(null,o,{scrollHint:r[8]("child_role_new_items_scroll_hint")})),Dt(dr.call(null,c))],g=!0)},p(M,A){const D={};A&256&&(D.label=M[8]("add_child_roles")),A&268435984&&(D.$$scope={dirty:A,ctx:M}),t.$set(D),M[5]?b?(b.p(M,A),A&32&&_(b,1)):(b=k6(M),b.c(),_(b,1),b.m(n,null)):b&&(U(),p(b,1,1,()=>{b=null}),W());let O=i;i=T(M),i===O?S[i].p(M,A):(U(),p(S[O],1,1,()=>{S[O]=null}),W(),a=S[i],a?a.p(M,A):(a=S[i]=w[i](M),a.c()),_(a,1),a.m(o,null)),u&&St(u.update)&&A&256&&u.update.call(null,{scrollHint:M[8]("child_role_new_items_scroll_hint")});const F={};A&64&&(F.form=M[6]),A&32&&(F.canProceed=M[5]),A&65&&(F.onCancel=M[19]),A&256&&(F.proceedButton={label:M[8]("save")}),A&256&&(F.cancelButton={label:M[8]("cancel")}),m.$set(F)},i(M){d||(_(t.$$.fragment,M),_(b),_(a),_(m.$$.fragment,M),d=!0)},o(M){p(t.$$.fragment,M),p(b),p(a),p(m.$$.fragment,M),d=!1},d(M){M&&$(e),y(t),b&&b.d(),S[i].d(),M&&$(f),M&&$(c),y(m),g=!1,Ot(h)}}}function C6(r){let e,n;return e=new kn({props:{$$slots:{default:[h6e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&268435458&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function h6e(r){let e=r[1].name+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&2&&e!==(e=t[1].name+"")&&z(n,e)},d(t){t&&$(n)}}}function b6e(r){let e,n,t=r[21]==="parent"&&C6(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[21]==="parent"?t?(t.p(l,s),s&2097152&&_(t,1)):(t=C6(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function $6e(r){let e,n,t;return n=new ot({props:{text:r[8]("edit_child_roles_for_parent"),$$slots:{default:[b6e,({slotName:l})=>({21:l}),({slotName:l})=>l?2097152:0]},$$scope:{ctx:r}}}),{c(){e=E("span"),C(n.$$.fragment),I(e,"slot","title")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&256&&(o.text=l[8]("edit_child_roles_for_parent")),s&270532610&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function v6e(r){let e,n;return e=new Yn({props:{controller:r[0],$$slots:{title:[$6e],default:[g6e]},$$scope:{ctx:r}}}),e.$on("close",r[20]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.controller=t[0]),l&268436343&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function w6e(r,e,n){let t,l,s,o,i,a,u,f,c=H,m=()=>(c(),c=le(s,G=>n(9,f=G)),s),d,g=H,h=()=>(g(),g=le(o,G=>n(15,d=G)),o),b,w=H,S=()=>(w(),w=le(t,G=>n(16,b=G)),t);ne(r,ce,G=>n(8,u=G)),r.$$.on_destroy.push(()=>c()),r.$$.on_destroy.push(()=>g()),r.$$.on_destroy.push(()=>w());let{controller:T}=e,{parentRole:M}=e,{rolesMap:A}=e,{onSave:D}=e;function O(G){s.update(Y=>Y.with(G))}function F(G){s.update(Y=>Y.without(G))}async function P(){await M.setMembers(new Set(f)),D({parentRole:M}),T.close(),$t.success(u("child_roles_saved_successfully"))}const B=G=>O(G.oid),j=G=>F(G),V=()=>{o.reset(),T.close()},q=()=>o.reset();return r.$$set=G=>{"controller"in G&&n(0,T=G.controller),"parentRole"in G&&n(1,M=G.parentRole),"rolesMap"in G&&n(2,A=G.rolesMap),"onSave"in G&&n(13,D=G.onSave)},r.$$.update=()=>{r.$$.dirty&2&&S(n(7,t=M.members)),r.$$.dirty&65536&&n(14,l=new Set([...b.keys()])),r.$$.dirty&16384&&m(n(3,s=gt(new vn(l)))),r.$$.dirty&8&&h(n(6,o=Wt({memberOids:s}))),r.$$.dirty&32768&&n(5,{hasChanges:i}=d,i),r.$$.dirty&6&&n(4,a=[...A.values()].filter(G=>G.oid!==M.oid))},[T,M,A,s,a,i,o,t,u,f,O,F,P,D,l,d,b,B,j,V,q]}class k6e extends Q{constructor(e){super(),Z(this,e,w6e,v6e,J,{controller:0,parentRole:1,rolesMap:2,onSave:13})}}function S6(r,e,n){const t=r.slice();return t[15]=e[n],t}function y6e(r){let e=r[0].name+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1&&e!==(e=t[0].name+"")&&z(n,e)},d(t){t&&$(n)}}}function T6(r){let e,n;return e=new MM({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function C6e(r){let e,n,t=r[0].login&&T6();return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[0].login?t?s&1&&_(t,1):(t=T6(),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function I6(r,e){let n,t=e[15]+"",l;return{key:r,first:null,c(){n=E("li"),l=L(t),this.first=n},m(s,o){v(s,n,o),R(n,l)},p(s,o){e=s,o&4&&t!==(t=e[15]+"")&&z(l,t)},d(s){s&&$(n)}}}function S6e(r){let e,n;const t=[Kr,{size:"0.8em"}];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[_e(Kr),t[1]]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function E6(r){let e,n=r[0].name+"",t;return{c(){e=E("b"),t=L(n)},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&1&&n!==(n=l[0].name+"")&&z(t,n)},d(l){l&&$(e)}}}function T6e(r){let e,n=r[14]==="parent"&&E6(r);return{c(){n&&n.c(),e=ae()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,l){t[14]==="parent"?n?n.p(t,l):(n=E6(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&$(e)}}}function I6e(r){let e,n,t;return n=new ot({props:{text:r[4]("edit_child_roles_for_parent"),$$slots:{default:[T6e,({slotName:l})=>({14:l}),({slotName:l})=>l?16384:0]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"slot","tooltip")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&16&&(o.text=l[4]("edit_child_roles_for_parent")),s&278529&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function E6e(r){let e,n,t=[],l=new Map,s,o,i,a,u=r[2];const f=c=>c[15];for(let c=0;c<u.length;c+=1){let m=S6(r,u,c),d=f(m);l.set(d,t[c]=I6(d,m))}return i=new st({props:{appearance:"secondary",$$slots:{tooltip:[I6e],default:[S6e]},$$scope:{ctx:r}}}),i.$on("click",r[11]),{c(){e=E("div"),n=E("ul");for(let c=0;c<t.length;c+=1)t[c].c();s=N(),o=E("div"),C(i.$$.fragment),I(n,"class","role-list svelte-yi816e"),I(o,"class","actions svelte-yi816e"),I(e,"class","child-roles svelte-yi816e")},m(c,m){v(c,e,m),R(e,n);for(let d=0;d<t.length;d+=1)t[d].m(n,null);R(e,s),R(e,o),k(i,o,null),a=!0},p(c,m){m&4&&(u=c[2],t=ht(t,m,f,1,c,u,l,n,Na,I6,null,S6));const d={};m&262161&&(d.$$scope={dirty:m,ctx:c}),i.$set(d)},i(c){a||(_(i.$$.fragment,c),a=!0)},o(c){p(i.$$.fragment,c),a=!1},d(c){c&&$(e);for(let m=0;m<t.length;m+=1)t[m].d();y(i)}}}function M6e(r){let e,n;return e=new Ar({props:{appearance:"danger",confirm:r[12],label:"",tooltip:r[4]("drop_role"),icon:Mt,onClick:r[6]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&17&&(s.confirm=t[12]),l&16&&(s.tooltip=t[4]("drop_role")),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function R6e(r){let e,n,t,l,s,o,i,a;return e=new rr({props:{$$slots:{default:[y6e]},$$scope:{ctx:r}}}),t=new rr({props:{$$slots:{default:[C6e]},$$scope:{ctx:r}}}),s=new rr({props:{$$slots:{default:[E6e]},$$scope:{ctx:r}}}),i=new rr({props:{$$slots:{default:[M6e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),C(s.$$.fragment),o=N(),C(i.$$.fragment)},m(u,f){k(e,u,f),v(u,n,f),k(t,u,f),v(u,l,f),k(s,u,f),v(u,o,f),k(i,u,f),a=!0},p(u,[f]){const c={};f&262145&&(c.$$scope={dirty:f,ctx:u}),e.$set(c);const m={};f&262145&&(m.$$scope={dirty:f,ctx:u}),t.$set(m);const d={};f&262167&&(d.$$scope={dirty:f,ctx:u}),s.$set(d);const g={};f&262161&&(g.$$scope={dirty:f,ctx:u}),i.$set(g)},i(u){a||(_(e.$$.fragment,u),_(t.$$.fragment,u),_(s.$$.fragment,u),_(i.$$.fragment,u),a=!0)},o(u){p(e.$$.fragment,u),p(t.$$.fragment,u),p(s.$$.fragment,u),p(i.$$.fragment,u),a=!1},d(u){y(e,u),u&&$(n),y(t,u),u&&$(l),y(s,u),u&&$(o),y(i,u)}}}function D6e(r,e,n){let t,l,s,o,i,a,u=H,f=()=>(u(),u=le(t,T=>n(10,a=T)),t);ne(r,ce,T=>n(4,o=T)),r.$$.on_destroy.push(()=>u());const c=pl.get();ne(r,c,T=>n(13,i=T));let{role:m}=e,{rolesMap:d}=e,{onClickEditMembers:g}=e,{onDrop:h}=e;async function b(){try{await i.databaseRouteContext.deleteRole(m),h(m),$t.success(o("role_dropped_successfully"))}catch(T){$t.error(Yt(T))}}const w=()=>g(m),S=()=>ml({title:{component:$c,props:{identifierKey:"name",identifier:m.name,wrappingString:o("drop_role_name_question")}},body:[o("action_cannot_be_undone"),o("drop_role_warning"),o("are_you_sure_to_proceed")],proceedButton:{label:o("drop_role"),icon:Mt}});return r.$$set=T=>{"role"in T&&n(0,m=T.role),"rolesMap"in T&&n(7,d=T.rolesMap),"onClickEditMembers"in T&&n(1,g=T.onClickEditMembers),"onDrop"in T&&n(8,h=T.onDrop)},r.$$.update=()=>{r.$$.dirty&1&&f(n(3,t=m.members)),r.$$.dirty&1024&&n(9,l=[...a.keys()]),r.$$.dirty&640&&n(2,s=l.map(T=>{var M;return(M=d.get(T))==null?void 0:M.name}).filter(At).sort())},[m,g,s,t,o,c,b,d,h,l,a,w,S]}class A6e extends Q{constructor(e){super(),Z(this,e,D6e,R6e,J,{role:0,rolesMap:7,onClickEditMembers:1,onDrop:8})}}function M6(r,e,n){const t=r.slice();return t[18]=e[n],t}function O6e(r){var t;let e,n;return e=new _l({props:{fullWidth:!0,errors:[(t=r[1].error)!=null?t:r[4]("unknown_error")]}}),{c(){C(e.$$.fragment)},m(l,s){k(e,l,s),n=!0},p(l,s){var i;const o={};s&18&&(o.errors=[(i=l[1].error)!=null?i:l[4]("unknown_error")]),e.$set(o)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){p(e.$$.fragment,l),n=!1},d(l){y(e,l)}}}function F6e(r){let e,n,t;return n=new jp({props:{$$slots:{default:[q6e]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","roles-table svelte-1paxo3q")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&2097178&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function N6e(r){let e,n;return e=new Gt({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function P6e(r){let e=r[4]("role")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&16&&e!==(e=t[4]("role")+"")&&z(n,e)},d(t){t&&$(n)}}}function L6e(r){let e=r[4]("roles_login_help")+"",n,t,l,s;return l=new Hr({props:{page:"rolesLogin"}}),{c(){n=L(e),t=N(),C(l.$$.fragment)},m(o,i){v(o,n,i),v(o,t,i),k(l,o,i),s=!0},p(o,i){(!s||i&16)&&e!==(e=o[4]("roles_login_help")+"")&&z(n,e)},i(o){s||(_(l.$$.fragment,o),s=!0)},o(o){p(l.$$.fragment,o),s=!1},d(o){o&&$(n),o&&$(t),y(l,o)}}}function H6e(r){let e,n=ou.LOGIN+"",t,l,s,o;return s=new zt({props:{$$slots:{default:[L6e]},$$scope:{ctx:r}}}),{c(){e=E("div"),t=L(n),l=N(),C(s.$$.fragment)},m(i,a){v(i,e,a),R(e,t),R(e,l),k(s,e,null),o=!0},p(i,a){const u={};a&2097168&&(u.$$scope={dirty:a,ctx:i}),s.$set(u)},i(i){o||(_(s.$$.fragment,i),o=!0)},o(i){p(s.$$.fragment,i),o=!1},d(i){i&&$(e),y(s)}}}function V6e(r){let e=r[4]("role_inheritance_help")+"",n,t,l,s;return l=new Hr({props:{page:"rolesInheritance"}}),{c(){n=L(e),t=N(),C(l.$$.fragment)},m(o,i){v(o,n,i),v(o,t,i),k(l,o,i),s=!0},p(o,i){(!s||i&16)&&e!==(e=o[4]("role_inheritance_help")+"")&&z(n,e)},i(o){s||(_(l.$$.fragment,o),s=!0)},o(o){p(l.$$.fragment,o),s=!1},d(o){o&&$(n),o&&$(t),y(l,o)}}}function z6e(r){let e,n=r[4]("child_roles")+"",t,l,s,o;return s=new zt({props:{$$slots:{default:[V6e]},$$scope:{ctx:r}}}),{c(){e=E("div"),t=L(n),l=N(),C(s.$$.fragment)},m(i,a){v(i,e,a),R(e,t),R(e,l),k(s,e,null),o=!0},p(i,a){(!o||a&16)&&n!==(n=i[4]("child_roles")+"")&&z(t,n);const u={};a&2097168&&(u.$$scope={dirty:a,ctx:i}),s.$set(u)},i(i){o||(_(s.$$.fragment,i),o=!0)},o(i){p(s.$$.fragment,i),o=!1},d(i){i&&$(e),y(s)}}}function B6e(r){let e=r[4]("actions")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&16&&e!==(e=t[4]("actions")+"")&&z(n,e)},d(t){t&&$(n)}}}function R6(r,e){let n,t,l;return t=new A6e({props:{role:e[18],rolesMap:e[1].resolvedValue,onClickEditMembers:e[8],onDrop:e[9]}}),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(s,o){v(s,n,o),k(t,s,o),l=!0},p(s,o){e=s;const i={};o&8&&(i.role=e[18]),o&2&&(i.rolesMap=e[1].resolvedValue),t.$set(i)},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){s&&$(n),y(t,s)}}}function q6e(r){let e,n,t,l,s,o,i,a,u=[],f=new Map,c,m;e=new rr({props:{header:!0,$$slots:{default:[P6e]},$$scope:{ctx:r}}}),t=new rr({props:{header:!0,$$slots:{default:[H6e]},$$scope:{ctx:r}}}),s=new rr({props:{header:!0,$$slots:{default:[z6e]},$$scope:{ctx:r}}}),i=new rr({props:{header:!0,$$slots:{default:[B6e]},$$scope:{ctx:r}}});let d=r[3];const g=h=>h[18].oid;for(let h=0;h<d.length;h+=1){let b=M6(r,d,h),w=g(b);f.set(w,u[h]=R6(w,b))}return{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),C(s.$$.fragment),o=N(),C(i.$$.fragment),a=N();for(let h=0;h<u.length;h+=1)u[h].c();c=ae()},m(h,b){k(e,h,b),v(h,n,b),k(t,h,b),v(h,l,b),k(s,h,b),v(h,o,b),k(i,h,b),v(h,a,b);for(let w=0;w<u.length;w+=1)u[w].m(h,b);v(h,c,b),m=!0},p(h,b){const w={};b&2097168&&(w.$$scope={dirty:b,ctx:h}),e.$set(w);const S={};b&2097168&&(S.$$scope={dirty:b,ctx:h}),t.$set(S);const T={};b&2097168&&(T.$$scope={dirty:b,ctx:h}),s.$set(T);const M={};b&2097168&&(M.$$scope={dirty:b,ctx:h}),i.$set(M),b&778&&(d=h[3],U(),u=ht(u,b,g,1,h,d,f,c.parentNode,kt,R6,c,M6),W())},i(h){if(!m){_(e.$$.fragment,h),_(t.$$.fragment,h),_(s.$$.fragment,h),_(i.$$.fragment,h);for(let b=0;b<d.length;b+=1)_(u[b]);m=!0}},o(h){p(e.$$.fragment,h),p(t.$$.fragment,h),p(s.$$.fragment,h),p(i.$$.fragment,h);for(let b=0;b<u.length;b+=1)p(u[b]);m=!1},d(h){y(e,h),h&&$(n),y(t,h),h&&$(l),y(s,h),h&&$(o),y(i,h),h&&$(a);for(let b=0;b<u.length;b+=1)u[b].d(h);h&&$(c)}}}function U6e(r){let e,n,t,l;const s=[N6e,F6e,O6e],o=[];function i(a,u){return a[1].isLoading?0:a[1].isOk&&a[1].resolvedValue?1:2}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function W6e(r){let e=r[4]("roles_help")+"",n,t,l,s;return l=new Hr({props:{page:"roles"}}),{c(){n=L(e),t=N(),C(l.$$.fragment)},m(o,i){v(o,n,i),v(o,t,i),k(l,o,i),s=!0},p(o,i){(!s||i&16)&&e!==(e=o[4]("roles_help")+"")&&z(n,e)},i(o){s||(_(l.$$.fragment,o),s=!0)},o(o){p(l.$$.fragment,o),s=!1},d(o){o&&$(n),o&&$(t),y(l,o)}}}function j6e(r){let e=r[4]("roles")+"",n,t,l,s;return l=new zt({props:{$$slots:{default:[W6e]},$$scope:{ctx:r}}}),{c(){n=L(e),t=N(),C(l.$$.fragment)},m(o,i){v(o,n,i),v(o,t,i),k(l,o,i),s=!0},p(o,i){(!s||i&16)&&e!==(e=o[4]("roles")+"")&&z(n,e);const a={};i&2097168&&(a.$$scope={dirty:i,ctx:o}),l.$set(a)},i(o){s||(_(l.$$.fragment,o),s=!0)},o(o){p(l.$$.fragment,o),s=!1},d(o){o&&$(n),o&&$(t),y(l,o)}}}function D6(r){let e,n;return e=new st({props:{appearance:"primary",$$slots:{default:[Y6e]},$$scope:{ctx:r}}}),e.$on("click",r[12]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2097168&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Y6e(r){let e,n,t,l=r[4]("create_role")+"",s,o;const i=[jt];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return e=new Ne({props:a}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l)},m(u,f){k(e,u,f),v(u,n,f),v(u,t,f),R(t,s),o=!0},p(u,f){const c=f&0?de(i,[_e(jt)]):{};e.$set(c),(!o||f&16)&&l!==(l=u[4]("create_role")+"")&&z(s,l)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){p(e.$$.fragment,u),o=!1},d(u){y(e,u),u&&$(n),u&&$(t)}}}function G6e(r){let e,n,t=!r[1].isLoading&&D6(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[1].isLoading?t&&(U(),p(t,1,1,()=>{t=null}),W()):t?(t.p(l,s),s&2&&_(t,1)):(t=D6(l),t.c(),_(t,1),t.m(e.parentNode,e))},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function A6(r){let e,n;return e=new k6e({props:{parentRole:r[2],rolesMap:r[1].resolvedValue,controller:r[7],onSave:r[13]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&4&&(s.parentRole=t[2]),l&2&&(s.rolesMap=t[1].resolvedValue),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function K6e(r){let e,n,t,l,s,o;e=new Yp({props:{$$slots:{actions:[G6e],title:[j6e],default:[U6e]},$$scope:{ctx:r}}}),t=new a6e({props:{controller:r[6]}});let i=r[1].resolvedValue&&r[2]&&A6(r);return{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),i&&i.c(),s=ae()},m(a,u){k(e,a,u),v(a,n,u),k(t,a,u),v(a,l,u),i&&i.m(a,u),v(a,s,u),o=!0},p(a,[u]){const f={};u&2097178&&(f.$$scope={dirty:u,ctx:a}),e.$set(f),a[1].resolvedValue&&a[2]?i?(i.p(a,u),u&6&&_(i,1)):(i=A6(a),i.c(),_(i,1),i.m(s.parentNode,s)):i&&(U(),p(i,1,1,()=>{i=null}),W())},i(a){o||(_(e.$$.fragment,a),_(t.$$.fragment,a),_(i),o=!0)},o(a){p(e.$$.fragment,a),p(t.$$.fragment,a),p(i),o=!1},d(a){y(e,a),a&&$(n),y(t,a),a&&$(l),i&&i.d(a),a&&$(s)}}}function X6e(r,e,n){let t,l,s,o,i,a,u,f,c=H,m=()=>(c(),c=le(o,O=>n(1,f=O)),o),d,g;ne(r,ce,O=>n(4,g=O)),r.$$.on_destroy.push(()=>c());const h=pl.get();ne(r,h,O=>n(11,d=O));const b=un.spawnModalController(),w=un.spawnModalController();let S;function T(O){n(2,S=O),w.open()}function M(O){l.reset(),s.reset();const F=ve(a).resolvedValue;Boolean((F==null?void 0:F.oid)===O.oid||(F==null?void 0:F.parentRoles.has(O.oid)))&&(En.runBatch([a.batchRunner(),i.batchRunner()]),Df())}const A=()=>b.open(),D=({parentRole:O})=>M(O);return r.$$.update=()=>{var O,F;r.$$.dirty&2048&&n(10,{databaseRouteContext:t,configuredRoles:l,collaborators:s}=d,t),r.$$.dirty&1024&&m(n(0,{roles:o,underlyingDatabase:i,currentRole:a}=t,o)),r.$$.dirty&1&&o.runConservatively(),r.$$.dirty&2&&n(3,u=[...(F=(O=f.resolvedValue)==null?void 0:O.values())!=null?F:[]])},[o,f,S,u,g,h,b,w,T,M,t,d,A,D]}class J6e extends Q{constructor(e){super(),Z(this,e,X6e,K6e,J,{})}}const Z6e=r=>({}),O6=r=>({setSection:r[0]});function Q6e(r){let e,n;const t=r[6].default,l=ke(t,r,r[7],O6);return{c(){e=E("div"),l&&l.c()},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,o){l&&l.p&&(!n||o&128)&&Ce(l,t,s,s[7],n?ye(t,s[7],o,Z6e):Se(s[7]),O6)},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function x6e(r){let e,n=r[3]("in_postgresql")+"",t;return{c(){e=E("div"),t=L(n),I(e,"class","heading")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&8&&n!==(n=l[3]("in_postgresql")+"")&&z(t,n)},d(l){l&&$(e)}}}function eke(r){let e=r[3]("roles")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&8&&e!==(e=t[3]("roles")+"")&&z(n,e)},d(t){t&&$(n)}}}function tke(r){let e,n=r[3]("in_mathesar")+"",t;return{c(){e=E("div"),t=L(n),I(e,"class","heading")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&8&&n!==(n=l[3]("in_mathesar")+"")&&z(t,n)},d(l){l&&$(e)}}}function nke(r){let e=r[3]("stored_role_passwords")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&8&&e!==(e=t[3]("stored_role_passwords")+"")&&z(n,e)},d(t){t&&$(n)}}}function rke(r){let e=r[3]("collaborators")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&8&&e!==(e=t[3]("collaborators")+"")&&z(n,e)},d(t){t&&$(n)}}}function lke(r){let e,n,t,l,s,o,i,a,u,f,c,m;return e=new Gs({props:{$$slots:{default:[x6e]},$$scope:{ctx:r}}}),t=new Er({props:{href:e2(r[2].id),active:r[1]==="roles",$$slots:{default:[eke]},$$scope:{ctx:r}}}),i=new Gs({props:{$$slots:{default:[tke]},$$scope:{ctx:r}}}),u=new Er({props:{href:Q0(r[2].id),active:r[1]==="roleConfiguration",$$slots:{default:[nke]},$$scope:{ctx:r}}}),c=new Er({props:{href:x0(r[2].id),active:r[1]==="collaborators",$$slots:{default:[rke]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),s=E("div"),o=N(),C(i.$$.fragment),a=N(),C(u.$$.fragment),f=N(),C(c.$$.fragment),I(s,"class","menu-divider")},m(d,g){k(e,d,g),v(d,n,g),k(t,d,g),v(d,l,g),v(d,s,g),v(d,o,g),k(i,d,g),v(d,a,g),k(u,d,g),v(d,f,g),k(c,d,g),m=!0},p(d,g){const h={};g&136&&(h.$$scope={dirty:g,ctx:d}),e.$set(h);const b={};g&4&&(b.href=e2(d[2].id)),g&2&&(b.active=d[1]==="roles"),g&136&&(b.$$scope={dirty:g,ctx:d}),t.$set(b);const w={};g&136&&(w.$$scope={dirty:g,ctx:d}),i.$set(w);const S={};g&4&&(S.href=Q0(d[2].id)),g&2&&(S.active=d[1]==="roleConfiguration"),g&136&&(S.$$scope={dirty:g,ctx:d}),u.$set(S);const T={};g&4&&(T.href=x0(d[2].id)),g&2&&(T.active=d[1]==="collaborators"),g&136&&(T.$$scope={dirty:g,ctx:d}),c.$set(T)},i(d){m||(_(e.$$.fragment,d),_(t.$$.fragment,d),_(i.$$.fragment,d),_(u.$$.fragment,d),_(c.$$.fragment,d),m=!0)},o(d){p(e.$$.fragment,d),p(t.$$.fragment,d),p(i.$$.fragment,d),p(u.$$.fragment,d),p(c.$$.fragment,d),m=!1},d(d){y(e,d),d&&$(n),y(t,d),d&&$(l),d&&$(s),d&&$(o),y(i,d),d&&$(a),y(u,d),d&&$(f),y(c,d)}}}function ske(r){let e,n,t;return n=new hc({props:{$$slots:{default:[lke]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","navigation svelte-gd1qhr"),I(e,"slot","sidebar")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&142&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function oke(r){let e,n;return e=new kM({props:{$$slots:{sidebar:[ske],default:[Q6e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&142&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function ike(r,e,n){let t,l,s;ne(r,ce,c=>n(3,s=c));let{$$slots:o={},$$scope:i}=e;const a=pl.get();ne(r,a,c=>n(5,l=c));let u="roles";function f(c){n(1,u=c)}return r.$$set=c=>{"$$scope"in c&&n(7,i=c.$$scope)},r.$$.update=()=>{r.$$.dirty&32&&n(2,{database:t}=l,t)},[f,u,t,s,a,l,o,i]}class ake extends Q{constructor(e){super(),Z(this,e,ike,oke,J,{setSection:0})}get setSection(){return this.$$.ctx[0]}}function uke(r){let e,n;return e=new Zwe({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function fke(r){let e,n;return e=new ywe({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function cke(r){let e,n;return e=new J6e({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function mke(r){let e,n,t,l,s,o,i,a;e=new en({props:{path:"/",redirect:"roles/"}});function u(){return r[2](r[5])}t=new Yo({props:{path:"/role-configuration",onLoad:u,$$slots:{default:[uke]},$$scope:{ctx:r}}});function f(){return r[3](r[5])}s=new Yo({props:{path:"/collaborators",onLoad:f,$$slots:{default:[fke]},$$scope:{ctx:r}}});function c(){return r[4](r[5])}return i=new Yo({props:{path:"/roles",onLoad:c,$$slots:{default:[cke]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),C(s.$$.fragment),o=N(),C(i.$$.fragment)},m(m,d){k(e,m,d),v(m,n,d),k(t,m,d),v(m,l,d),k(s,m,d),v(m,o,d),k(i,m,d),a=!0},p(m,d){r=m;const g={};d&32&&(g.onLoad=u),d&64&&(g.$$scope={dirty:d,ctx:r}),t.$set(g);const h={};d&32&&(h.onLoad=f),d&64&&(h.$$scope={dirty:d,ctx:r}),s.$set(h);const b={};d&32&&(b.onLoad=c),d&64&&(b.$$scope={dirty:d,ctx:r}),i.$set(b)},i(m){a||(_(e.$$.fragment,m),_(t.$$.fragment,m),_(s.$$.fragment,m),_(i.$$.fragment,m),a=!0)},o(m){p(e.$$.fragment,m),p(t.$$.fragment,m),p(s.$$.fragment,m),p(i.$$.fragment,m),a=!1},d(m){y(e,m),m&&$(n),y(t,m),m&&$(l),y(s,m),m&&$(o),y(i,m)}}}function dke(r){let e,n;return e=new ake({props:{$$slots:{default:[mke,({setSection:t})=>({5:t}),({setSection:t})=>t?32:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&96&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function _ke(r,e,n){let t;const l=_s.get();ne(r,l,a=>n(1,t=a));const s=a=>a("roleConfiguration"),o=a=>a("collaborators"),i=a=>a("roles");return r.$$.update=()=>{r.$$.dirty&2&&pl.construct(t)},[l,t,s,o,i]}class pke extends Q{constructor(e){super(),Z(this,e,_ke,dke,J,{})}}const gke=r=>({meta:r&2,path:r&2}),F6=r=>({meta:r[1].meta,path:r[1].routePath.name});function N6(r,e,n){const t=r.slice();return t[8]=e[n],t}function P6(r,e){let n,t,l;function s(...i){return e[6](e[8],...i)}function o(){return e[7](e[8])}return t=new Yo({props:{path:e[8].path,onLoad:s,onUnload:o,firstmatch:!0}}),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(i,a){v(i,n,a),k(t,i,a),l=!0},p(i,a){e=i;const u={};a&1&&(u.path=e[8].path),a&1&&(u.onLoad=s),a&1&&(u.onUnload=o),t.$set(u)},i(i){l||(_(t.$$.fragment,i),l=!0)},o(i){p(t.$$.fragment,i),l=!1},d(i){i&&$(n),y(t,i)}}}function L6(r){let e;const n=r[5].default,t=ke(n,r,r[4],F6);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&18)&&Ce(t,n,l,l[4],e?ye(n,l[4],s,gke):Se(l[4]),F6)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function hke(r){let e=[],n=new Map,t,l,s,o=r[0];const i=u=>u[8].name;for(let u=0;u<o.length;u+=1){let f=N6(r,o,u),c=i(f);n.set(c,e[u]=P6(c,f))}let a=r[1]&&L6(r);return{c(){for(let u=0;u<e.length;u+=1)e[u].c();t=N(),a&&a.c(),l=ae()},m(u,f){for(let c=0;c<e.length;c+=1)e[c].m(u,f);v(u,t,f),a&&a.m(u,f),v(u,l,f),s=!0},p(u,[f]){f&13&&(o=u[0],U(),e=ht(e,f,i,1,u,o,n,t.parentNode,kt,P6,t,N6),W()),u[1]?a?(a.p(u,f),f&2&&_(a,1)):(a=L6(u),a.c(),_(a,1),a.m(l.parentNode,l)):a&&(U(),p(a,1,1,()=>{a=null}),W())},i(u){if(!s){for(let f=0;f<o.length;f+=1)_(e[f]);_(a),s=!0}},o(u){for(let f=0;f<e.length;f+=1)p(e[f]);p(a),s=!1},d(u){for(let f=0;f<e.length;f+=1)e[f].d(u);u&&$(t),a&&a.d(u),u&&$(l)}}}function bke(r,e,n){let{$$slots:t={},$$scope:l}=e,{paths:s}=e,o;function i(c,m){n(1,o={routePath:c,meta:m})}async function a(c){await sn(),(o==null?void 0:o.routePath)===c&&n(1,o=void 0)}const u=(c,m)=>i(c,m),f=c=>a(c);return r.$$set=c=>{"paths"in c&&n(0,s=c.paths),"$$scope"in c&&n(4,l=c.$$scope)},[s,o,i,a,l,t,u,f]}class $ke extends Q{constructor(e){super(),Z(this,e,bke,hke,J,{paths:0})}}const vke=r=>({}),H6=r=>({});function wke(r){let e,n;const t=r[2].label,l=ke(t,r,r[4],H6);return{c(){e=E("div"),l&&l.c(),I(e,"slot","header"),I(e,"class","collapsible-fieldset-label svelte-1gajphp")},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,o){l&&l.p&&(!n||o&16)&&Ce(l,t,s,s[4],n?ye(t,s[4],o,vke):Se(s[4]),H6)},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function kke(r){let e,n;const t=r[2].default,l=ke(t,r,r[4],null);return{c(){e=E("div"),l&&l.c(),I(e,"slot","content"),I(e,"class","collapsible-fieldset-content svelte-1gajphp")},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,o){l&&l.p&&(!n||o&16)&&Ce(l,t,s,s[4],n?ye(t,s[4],o,null):Se(s[4]),null)},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function yke(r){let e,n,t,l;const s=[r[1]];function o(a){r[3](a)}let i={$$slots:{content:[kke],header:[wke]},$$scope:{ctx:r}};for(let a=0;a<s.length;a+=1)i=se(i,s[a]);return r[0]!==void 0&&(i.isOpen=r[0]),n=new Fl({props:i}),we.push(()=>Me(n,"isOpen",o)),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","collapsible-fieldset svelte-1gajphp"),ie(e,"open",r[0])},m(a,u){v(a,e,u),k(n,e,null),l=!0},p(a,[u]){const f=u&2?de(s,[_e(a[1])]):{};u&16&&(f.$$scope={dirty:u,ctx:a}),!t&&u&1&&(t=!0,f.isOpen=a[0],De(()=>t=!1)),n.$set(f),(!l||u&1)&&ie(e,"open",a[0])},i(a){l||(_(n.$$.fragment,a),l=!0)},o(a){p(n.$$.fragment,a),l=!1},d(a){a&&$(e),y(n)}}}function Cke(r,e,n){const t=["isOpen"];let l=We(e,t),{$$slots:s={},$$scope:o}=e,{isOpen:i=!1}=e;function a(u){i=u,n(0,i)}return r.$$set=u=>{e=se(se({},e),pt(u)),n(1,l=We(e,t)),"isOpen"in u&&n(0,i=u.isOpen),"$$scope"in u&&n(4,o=u.$$scope)},[i,l,s,a,o]}class RM extends Q{constructor(e){super(),Z(this,e,Cke,yke,J,{isOpen:0})}}const Ske=r=>({}),V6=r=>({}),Tke=r=>({}),z6=r=>({});function Ike(r){let e,n,t,l,s,o,i=r[0]("default_value")+"",a,u,f,c,m;const d=r[2].type,g=ke(d,r,r[1],z6),h=r[2].defaultValue,b=ke(h,r,r[1],V6);return{c(){e=E("div"),n=E("div"),t=E("span"),g&&g.c(),l=N(),s=E("div"),o=E("span"),a=L(i),u=L(":"),f=N(),c=E("span"),b&&b.c(),I(t,"class","value"),I(n,"class","type"),I(o,"class","label svelte-bojohv"),I(c,"class","value"),I(s,"class","default-value svelte-bojohv"),I(e,"class","new-pk-column-type-option svelte-bojohv")},m(w,S){v(w,e,S),R(e,n),R(n,t),g&&g.m(t,null),R(e,l),R(e,s),R(s,o),R(o,a),R(o,u),R(s,f),R(s,c),b&&b.m(c,null),m=!0},p(w,[S]){g&&g.p&&(!m||S&2)&&Ce(g,d,w,w[1],m?ye(d,w[1],S,Tke):Se(w[1]),z6),(!m||S&1)&&i!==(i=w[0]("default_value")+"")&&z(a,i),b&&b.p&&(!m||S&2)&&Ce(b,h,w,w[1],m?ye(h,w[1],S,Ske):Se(w[1]),V6)},i(w){m||(_(g,w),_(b,w),m=!0)},o(w){p(g,w),p(b,w),m=!1},d(w){w&&$(e),g&&g.d(w),b&&b.d(w)}}}function Eke(r,e,n){let t;ne(r,ce,o=>n(0,t=o));let{$$slots:l={},$$scope:s}=e;return r.$$set=o=>{"$$scope"in o&&n(1,s=o.$$scope)},[t,s,l]}class DM extends Q{constructor(e){super(),Z(this,e,Eke,Ike,J,{})}}function Mke(r){let e,n=r[0]("integer")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","type")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&1&&n!==(n=l[0]("integer")+"")&&z(t,n)},d(l){l&&$(e)}}}function Rke(r){let e,n=r[0]("auto_incrementing_identity")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","defaultValue")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&1&&n!==(n=l[0]("auto_incrementing_identity")+"")&&z(t,n)},d(l){l&&$(e)}}}function Dke(r){let e,n;return e=new DM({props:{$$slots:{defaultValue:[Rke],type:[Mke]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&3&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Ake(r,e,n){let t;return ne(r,ce,l=>n(0,t=l)),[t]}class Oke extends Q{constructor(e){super(),Z(this,e,Ake,Dke,J,{})}}function Fke(r){let e,n=r[0]("uuid")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","type")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&1&&n!==(n=l[0]("uuid")+"")&&z(t,n)},d(l){l&&$(e)}}}function Nke(r){let e,n=r[0]("random_uuidv4")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","defaultValue")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&1&&n!==(n=l[0]("random_uuidv4")+"")&&z(t,n)},d(l){l&&$(e)}}}function Pke(r){let e,n;return e=new DM({props:{$$slots:{defaultValue:[Nke],type:[Fke]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&3&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Lke(r,e,n){let t;return ne(r,ce,l=>n(0,t=l)),[t]}class Hke extends Q{constructor(e){super(),Z(this,e,Lke,Pke,J,{})}}const B6={IDENTITY:{label:{component:Oke}},UUIDv4:{label:{component:Hke}}};function Vke(r){let e,n,t;function l(o){r[3](o)}let s={options:r[1],getLabel:r[2]};return r[0]!==void 0&&(s.value=r[0]),e=new fn({props:s}),we.push(()=>Me(e,"value",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,[i]){const a={};!n&&i&1&&(n=!0,a.value=o[0],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function zke(r,e,n){let{value:t}=e;const l=Object.keys(B6),s=i=>{var a;return(a=Rr(i,u=>B6[u].label))!=null?a:""};function o(i){t=i,n(0,t)}return r.$$set=i=>{"value"in i&&n(0,t=i.value)},[t,l,s,o]}class Bke extends Q{constructor(e){super(),Z(this,e,zke,Vke,J,{value:0})}}function qke(r){let e,n,t,l;return e=new It({props:{field:r[2],label:r[5]("column_name"),layout:"stacked"}}),t=new It({props:{field:r[1],layout:"stacked",label:r[5]("column_type"),input:{component:Bke}}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(s,o){k(e,s,o),v(s,n,o),k(t,s,o),l=!0},p(s,o){const i={};o&4&&(i.field=s[2]),o&32&&(i.label=s[5]("column_name")),e.$set(i);const a={};o&2&&(a.field=s[1]),o&32&&(a.label=s[5]("column_type")),t.$set(a)},i(s){l||(_(e.$$.fragment,s),_(t.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),l=!1},d(s){y(e,s),s&&$(n),y(t,s)}}}function Uke(r){let e,n=r[5]("primary_key_column")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","label")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&32&&n!==(n=l[5]("primary_key_column")+"")&&z(t,n)},d(l){l&&$(e)}}}function Wke(r){let e,n;return e=new RM({props:{$$slots:{label:[Uke],default:[qke]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2086&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function jke(r){let e,n,t,l,s,o,i,a,u,f,c;return e=new It({props:{field:r[4],label:r[5]("name"),layout:"stacked"}}),t=new It({props:{field:r[3],label:r[5]("description"),layout:"stacked"}}),s=new Ht({props:{$$slots:{default:[Wke]},$$scope:{ctx:r}}}),a=new yn({props:{form:r[6],onProceed:r[7],onCancel:r[0]}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),C(s.$$.fragment),o=N(),i=E("div"),C(a.$$.fragment)},m(m,d){k(e,m,d),v(m,n,d),k(t,m,d),v(m,l,d),k(s,m,d),v(m,o,d),v(m,i,d),k(a,i,null),u=!0,f||(c=Dt(dr.call(null,i)),f=!0)},p(m,[d]){const g={};d&16&&(g.field=m[4]),d&32&&(g.label=m[5]("name")),e.$set(g);const h={};d&8&&(h.field=m[3]),d&32&&(h.label=m[5]("description")),t.$set(h);const b={};d&2086&&(b.$$scope={dirty:d,ctx:m}),s.$set(b);const w={};d&64&&(w.form=m[6]),d&1&&(w.onCancel=m[0]),a.$set(w)},i(m){u||(_(e.$$.fragment,m),_(t.$$.fragment,m),_(s.$$.fragment,m),_(a.$$.fragment,m),u=!0)},o(m){p(e.$$.fragment,m),p(t.$$.fragment,m),p(s.$$.fragment,m),p(a.$$.fragment,m),u=!1},d(m){y(e,m),m&&$(n),y(t,m),m&&$(l),y(s,m),m&&$(o),m&&$(i),y(a),f=!1,c()}}}function Yke(r,e,n){let t,l,s,o,i,a;ne(r,ce,g=>n(5,a=g));let{close:u}=e,{schema:f}=e,{existingTableNames:c}=e;function m(){function g(h){const b=`${a("table")} ${h}`;return c.has(b)?g(h+1):b}return g(1)}async function d(g){await yre({schema:f,name:g.name,description:g.description,pkColumn:{name:g.pkColumnName,type:g.pkColumnType}}),u()}return r.$$set=g=>{"close"in g&&n(0,u=g.close),"schema"in g&&n(8,f=g.schema),"existingTableNames"in g&&n(9,c=g.existingTableNames)},r.$$.update=()=>{r.$$.dirty&544&&n(4,t=gt(m(),[Dc(c,a("table_name_already_exists"))])),r.$$.dirty&30&&n(6,i=Wt({name:t,description:l,pkColumnName:s,pkColumnType:o}))},n(3,l=er("")),n(2,s=gt("id")),n(1,o=gt("IDENTITY")),[u,o,s,l,t,a,i,d,f,c]}class Gke extends Q{constructor(e){super(),Z(this,e,Yke,jke,J,{close:0,schema:8,existingTableNames:9})}}function Kke(r){let e,n;return e=new Gke({props:{schema:r[1],existingTableNames:r[2],close:r[4]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.schema=t[1]),l&4&&(s.existingTableNames=t[2]),l&1&&(s.close=t[4]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Xke(r){let e,n=r[3]("create_new_table")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","title")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&8&&n!==(n=l[3]("create_new_table")+"")&&z(t,n)},d(l){l&&$(e)}}}function Jke(r){let e,n;return e=new Yn({props:{controller:r[0],$$slots:{title:[Xke],default:[Kke]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.controller=t[0]),l&47&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Zke(r,e,n){let t;ne(r,ce,a=>n(3,t=a));let{controller:l}=e,{schema:s}=e,{existingTableNames:o}=e;const i=()=>l.close();return r.$$set=a=>{"controller"in a&&n(0,l=a.controller),"schema"in a&&n(1,s=a.schema),"existingTableNames"in a&&n(2,o=a.existingTableNames)},[l,s,o,t,i]}class Qke extends Q{constructor(e){super(),Z(this,e,Zke,Jke,J,{controller:0,schema:1,existingTableNames:2})}}function xke(r){let e=r[4]("from_scratch")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&16&&e!==(e=t[4]("from_scratch")+"")&&z(n,e)},d(t){t&&$(n)}}}function e5e(r){let e=r[4]("from_data_import")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&16&&e!==(e=t[4]("from_data_import")+"")&&z(n,e)},d(t){t&&$(n)}}}function t5e(r){let e,n,t,l;return e=new wn({props:{$$slots:{default:[xke]},$$scope:{ctx:r}}}),e.$on("click",function(){St(r[2])&&r[2].apply(this,arguments)}),t=new Er({props:{href:to(r[0].id,r[1].oid),$$slots:{default:[e5e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(s,o){k(e,s,o),v(s,n,o),k(t,s,o),l=!0},p(s,o){r=s;const i={};o&80&&(i.$$scope={dirty:o,ctx:r}),e.$set(i);const a={};o&3&&(a.href=to(r[0].id,r[1].oid)),o&80&&(a.$$scope={dirty:o,ctx:r}),t.$set(a)},i(s){l||(_(e.$$.fragment,s),_(t.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),l=!1},d(s){y(e,s),s&&$(n),y(t,s)}}}function n5e(r){let e,n,t,l=r[4]("new_table")+"",s,o;const i=[jt];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return n=new Ne({props:a}),{c(){e=E("div"),C(n.$$.fragment),t=N(),s=L(l),I(e,"slot","trigger")},m(u,f){v(u,e,f),k(n,e,null),R(e,t),R(e,s),o=!0},p(u,f){const c=f&0?de(i,[_e(jt)]):{};n.$set(c),(!o||f&16)&&l!==(l=u[4]("new_table")+"")&&z(s,l)},i(u){o||(_(n.$$.fragment,u),o=!0)},o(u){p(n.$$.fragment,u),o=!1},d(u){u&&$(e),y(n)}}}function r5e(r){let e,n;return e=new Pr({props:{showArrow:!0,triggerAppearance:"primary",closeOnInnerClick:!0,label:r[4]("new_table"),disabled:!r[5].has("CREATE"),$$slots:{trigger:[n5e],default:[t5e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&16&&(s.label=t[4]("new_table")),l&32&&(s.disabled=!t[5].has("CREATE")),l&87&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function l5e(r,e,n){let t,l,s,o=H,i=()=>(o(),o=le(t,c=>n(5,s=c)),t);ne(r,ce,c=>n(4,l=c)),r.$$.on_destroy.push(()=>o());let{database:a}=e,{schema:u}=e,{onCreateEmptyTable:f}=e;return r.$$set=c=>{"database"in c&&n(0,a=c.database),"schema"in c&&n(1,u=c.schema),"onCreateEmptyTable"in c&&n(2,f=c.onCreateEmptyTable)},r.$$.update=()=>{r.$$.dirty&2&&i(n(3,{currentRolePrivileges:t}=u.currentAccess,t))},[a,u,f,t,l,s]}class s5e extends Q{constructor(e){super(),Z(this,e,l5e,r5e,J,{database:0,schema:1,onCreateEmptyTable:2})}}function o5e(r){let e,n=r[3]("add_tables_to_new_schema")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","title")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&8&&n!==(n=l[3]("add_tables_to_new_schema")+"")&&z(t,n)},d(l){l&&$(e)}}}function i5e(r){let e,n=r[3]("what_is_a_table")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","body")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&8&&n!==(n=l[3]("what_is_a_table")+"")&&z(t,n)},d(l){l&&$(e)}}}function a5e(r){let e=r[3]("from_scratch")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&8&&e!==(e=t[3]("from_scratch")+"")&&z(n,e)},d(t){t&&$(n)}}}function u5e(r){let e=r[3]("import_from_file")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&8&&e!==(e=t[3]("import_from_file")+"")&&z(n,e)},d(t){t&&$(n)}}}function f5e(r){let e,n,t=r[3]("how_do_you_want_to_create_table")+"",l,s,o,i,a,u,f;return i=new st({props:{appearance:"tip",$$slots:{default:[a5e]},$$scope:{ctx:r}}}),i.$on("click",function(){St(r[2])&&r[2].apply(this,arguments)}),u=new Zr({props:{href:to(r[0].id,r[1].oid),appearance:"tip",$$slots:{default:[u5e]},$$scope:{ctx:r}}}),{c(){e=E("div"),n=E("span"),l=L(t),s=N(),o=E("div"),C(i.$$.fragment),a=N(),C(u.$$.fragment),I(n,"class","svelte-doup50"),I(o,"class","new-table-tutorial-actions svelte-doup50"),I(e,"class","new-table-tutorial-footer svelte-doup50"),I(e,"slot","footer")},m(c,m){v(c,e,m),R(e,n),R(n,l),R(e,s),R(e,o),k(i,o,null),R(o,a),k(u,o,null),f=!0},p(c,m){r=c,(!f||m&8)&&t!==(t=r[3]("how_do_you_want_to_create_table")+"")&&z(l,t);const d={};m&24&&(d.$$scope={dirty:m,ctx:r}),i.$set(d);const g={};m&3&&(g.href=to(r[0].id,r[1].oid)),m&24&&(g.$$scope={dirty:m,ctx:r}),u.$set(g)},i(c){f||(_(i.$$.fragment,c),_(u.$$.fragment,c),f=!0)},o(c){p(i.$$.fragment,c),p(u.$$.fragment,c),f=!1},d(c){c&&$(e),y(i),y(u)}}}function c5e(r){let e,n;return e=new fc({props:{$$slots:{footer:[f5e],body:[i5e],title:[o5e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&31&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function m5e(r,e,n){let t;ne(r,ce,i=>n(3,t=i));let{database:l}=e,{schema:s}=e,{onCreateEmptyTable:o}=e;return r.$$set=i=>{"database"in i&&n(0,l=i.database),"schema"in i&&n(1,s=i.schema),"onCreateEmptyTable"in i&&n(2,o=i.onCreateEmptyTable)},[l,s,o,t]}class d5e extends Q{constructor(e){super(),Z(this,e,m5e,c5e,J,{database:0,schema:1,onCreateEmptyTable:2})}}function q6(r){let e,n;return e=new kn({props:{$$slots:{default:[_5e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&640&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function _5e(r){let e=r[7]+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&128&&e!==(e=t[7]+"")&&z(n,e)},d(t){t&&$(n)}}}function p5e(r){let e,n,t=r[8]==="explorationName"&&q6(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[8]==="explorationName"?t?(t.p(l,s),s&256&&_(t,1)):(t=q6(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function g5e(r){let e,n,t;return n=new ot({props:{text:r[2]("rename_exploration_with_name"),$$slots:{default:[p5e,({slotName:l})=>({8:l}),({slotName:l})=>l?256:0]},$$scope:{ctx:r}}}),{c(){e=E("span"),C(n.$$.fragment),I(e,"slot","title")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&4&&(o.text=l[2]("rename_exploration_with_name")),s&896&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function h5e(r){let e,n;return e=new Yc({props:{controller:r[1],save:r[4],getNameValidationErrors:r[3],getInitialName:r[5],getInitialDescription:r[6],$$slots:{title:[g5e,({initialName:t})=>({7:t}),({initialName:t})=>t?128:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&2&&(s.controller=t[1]),l&1&&(s.getInitialName=t[5]),l&1&&(s.getInitialDescription=t[6]),l&644&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function b5e(r,e,n){let t;ne(r,ce,f=>n(2,t=f));const l=()=>[];let{exploration:s}=e,{controller:o}=e;async function i(f,c){await Ip({...s,name:f,description:c})}const a=()=>s.name,u=()=>{var f;return(f=s.description)!=null?f:""};return r.$$set=f=>{"exploration"in f&&n(0,s=f.exploration),"controller"in f&&n(1,o=f.controller)},[s,o,t,l,i,a,u]}class $5e extends Q{constructor(e){super(),Z(this,e,b5e,h5e,J,{exploration:0,controller:1})}}function U6(r){let e,n;return e=new ot({props:{text:r[4]("based_on_base"),$$slots:{default:[v5e,({slotName:t})=>({10:t}),({slotName:t})=>t?1024:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.text=t[4]("based_on_base")),l&3080&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function W6(r){let e,n;return e=new rn({props:{table:r[3],truncate:!1}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8&&(s.table=t[3]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function v5e(r){let e,n,t=r[10]==="base"&&W6(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[10]==="base"?t?(t.p(l,s),s&1024&&_(t,1)):(t=W6(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function w5e(r){let e,n,t=r[3]&&U6(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[3]?t?(t.p(l,s),s&8&&_(t,1)):(t=U6(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function k5e(r){let e=r[4]("rename_exploration")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&16&&e!==(e=t[4]("rename_exploration")+"")&&z(n,e)},d(t){t&&$(n)}}}function y5e(r){let e=r[4]("delete_exploration")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&16&&e!==(e=t[4]("delete_exploration")+"")&&z(n,e)},d(t){t&&$(n)}}}function C5e(r){let e,n,t,l;return e=new wn({props:{icon:Kr,$$slots:{default:[k5e]},$$scope:{ctx:r}}}),e.$on("click",r[9]),t=new wn({props:{danger:!0,icon:Mt,$$slots:{default:[y5e]},$$scope:{ctx:r}}}),t.$on("click",r[5]),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(s,o){k(e,s,o),v(s,n,o),k(t,s,o),l=!0},p(s,o){const i={};o&2064&&(i.$$scope={dirty:o,ctx:s}),e.$set(i);const a={};o&2064&&(a.$$scope={dirty:o,ctx:s}),t.$set(a)},i(s){l||(_(e.$$.fragment,s),_(t.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),l=!1},d(s){y(e,s),s&&$(n),y(t,s)}}}function S5e(r){var t;let e,n;return e=new jc({props:{href:r[2],name:r[0].name,description:(t=r[0].description)!=null?t:void 0,icon:Xr,cssVariables:{"--EntityListItem__accent-color":"var(--color-exploration-80)"},$$slots:{menu:[C5e],detail:[w5e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(l,s){k(e,l,s),n=!0},p(l,[s]){var i;const o={};s&4&&(o.href=l[2]),s&1&&(o.name=l[0].name),s&1&&(o.description=(i=l[0].description)!=null?i:void 0),s&2075&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){p(e.$$.fragment,l),n=!1},d(l){y(e,l)}}}function T5e(r,e,n){let t,l,s,o;ne(r,_r,d=>n(8,s=d)),ne(r,ce,d=>n(4,o=d));let{exploration:i}=e,{database:a}=e,{schema:u}=e,{openEditExplorationModal:f}=e;function c(){Ll({identifierType:"Exploration",identifierName:i.name,onProceed:()=>jE(i.id)})}const m=()=>f(i);return r.$$set=d=>{"exploration"in d&&n(0,i=d.exploration),"database"in d&&n(6,a=d.database),"schema"in d&&n(7,u=d.schema),"openEditExplorationModal"in d&&n(1,f=d.openEditExplorationModal)},r.$$.update=()=>{r.$$.dirty&257&&n(3,t=s.tablesMap.get(i.base_table_oid)),r.$$.dirty&193&&n(2,l=Al(a.id,u.oid,i.id))},[i,f,l,t,o,c,a,u,s,m]}class I5e extends Q{constructor(e){super(),Z(this,e,T5e,S5e,J,{exploration:0,database:6,schema:7,openEditExplorationModal:1})}}function j6(r,e,n){const t=r.slice();return t[6]=e[n],t}function Y6(r,e){let n,t,l;return t=new I5e({props:{exploration:e[6],database:e[1],schema:e[2],openEditExplorationModal:e[5]}}),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(s,o){v(s,n,o),k(t,s,o),l=!0},p(s,o){e=s;const i={};o&1&&(i.exploration=e[6]),o&2&&(i.database=e[1]),o&4&&(i.schema=e[2]),t.$set(i)},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){s&&$(n),y(t,s)}}}function G6(r){let e,n;return e=new $5e({props:{controller:r[4],exploration:r[3]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8&&(s.exploration=t[3]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function E5e(r){let e,n=[],t=new Map,l,s,o,i=r[0];const a=f=>f[6].id;for(let f=0;f<i.length;f+=1){let c=j6(r,i,f),m=a(c);t.set(m,n[f]=Y6(m,c))}let u=r[3]&&G6(r);return{c(){e=E("div");for(let f=0;f<n.length;f+=1)n[f].c();l=N(),u&&u.c(),s=ae(),I(e,"class","exploration-list")},m(f,c){v(f,e,c);for(let m=0;m<n.length;m+=1)n[m].m(e,null);v(f,l,c),u&&u.m(f,c),v(f,s,c),o=!0},p(f,[c]){c&39&&(i=f[0],U(),n=ht(n,c,a,1,f,i,t,e,kt,Y6,null,j6),W()),f[3]?u?(u.p(f,c),c&8&&_(u,1)):(u=G6(f),u.c(),_(u,1),u.m(s.parentNode,s)):u&&(U(),p(u,1,1,()=>{u=null}),W())},i(f){if(!o){for(let c=0;c<i.length;c+=1)_(n[c]);_(u),o=!0}},o(f){for(let c=0;c<n.length;c+=1)p(n[c]);p(u),o=!1},d(f){f&&$(e);for(let c=0;c<n.length;c+=1)n[c].d();f&&$(l),u&&u.d(f),f&&$(s)}}}function M5e(r,e,n){const t=un.spawnModalController();let{explorations:l}=e,{database:s}=e,{schema:o}=e,i;function a(u){n(3,i=u),t.open()}return r.$$set=u=>{"explorations"in u&&n(0,l=u.explorations),"database"in u&&n(1,s=u.database),"schema"in u&&n(2,o=u.schema)},[l,s,o,i,t,a]}class R5e extends Q{constructor(e){super(),Z(this,e,M5e,E5e,J,{explorations:0,database:1,schema:2})}}function D5e(r){let e=r[1]("open_data_explorer")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&2&&e!==(e=t[1]("open_data_explorer")+"")&&z(n,e)},d(t){t&&$(n)}}}function A5e(r){let e,n,t=r[1]("explore_your_data")+"",l,s,o,i=r[1]("what_is_an_exploration_mini")+"",a,u,f,c,m;return c=new Zr({props:{href:r[0],size:"small",$$slots:{default:[D5e]},$$scope:{ctx:r}}}),{c(){e=E("div"),n=E("h3"),l=L(t),s=N(),o=E("p"),a=L(i),u=N(),f=E("div"),C(c.$$.fragment),I(n,"class","explore-title svelte-i9ubrt"),I(o,"class","explore-description svelte-i9ubrt"),I(f,"class","svelte-i9ubrt"),I(e,"class","explore-your-data svelte-i9ubrt")},m(d,g){v(d,e,g),R(e,n),R(n,l),R(e,s),R(e,o),R(o,a),R(e,u),R(e,f),k(c,f,null),m=!0},p(d,[g]){(!m||g&2)&&t!==(t=d[1]("explore_your_data")+"")&&z(l,t),(!m||g&2)&&i!==(i=d[1]("what_is_an_exploration_mini")+"")&&z(a,i);const h={};g&1&&(h.href=d[0]),g&6&&(h.$$scope={dirty:g,ctx:d}),c.$set(h)},i(d){m||(_(c.$$.fragment,d),m=!0)},o(d){p(c.$$.fragment,d),m=!1},d(d){d&&$(e),y(c)}}}function O5e(r,e,n){let t;ne(r,ce,s=>n(1,t=s));let{href:l}=e;return r.$$set=s=>{"href"in s&&n(0,l=s.href)},[l,t]}class F5e extends Q{constructor(e){super(),Z(this,e,O5e,A5e,J,{href:0})}}function N5e(r){let e,n,t;return n=new rn({props:{table:{name:r[5]("select_table")}}}),{c(){e=E("span"),C(n.$$.fragment),I(e,"class","placeholder svelte-1iyxxlk")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&32&&(o.table={name:l[5]("select_table")}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function P5e(r){let e,n;return e=new rn({props:{table:r[9]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&512&&(s.table=t[9]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function L5e(r){let e,n,t,l;const s=[P5e,N5e],o=[];function i(a,u){return a[9]?0:a[1]?-1:1}return~(e=i(r))&&(n=o[e]=s[e](r)),{c(){n&&n.c(),t=ae()},m(a,u){~e&&o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?~e&&o[e].p(a,u):(n&&(U(),p(o[f],1,1,()=>{o[f]=null}),W()),~e?(n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t)):n=null)},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){~e&&o[e].d(a),a&&$(t)}}}function H5e(r){let e,n,t;function l(o){r[7](o)}let s={options:r[4],valuesAreEqual:V5e,autoSelect:r[2],disabled:r[3],$$slots:{default:[L5e,({option:o})=>({9:o}),({option:o})=>o?512:0]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.value=r[0]),e=new fn({props:s}),we.push(()=>Me(e,"value",l)),e.$on("change",r[8]),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,[i]){const a={};i&16&&(a.options=o[4]),i&4&&(a.autoSelect=o[2]),i&8&&(a.disabled=o[3]),i&1570&&(a.$$scope={dirty:i,ctx:o}),!n&&i&1&&(n=!0,a.value=o[0],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}const V5e=(r,e)=>(r==null?void 0:r.oid)===(e==null?void 0:e.oid);function z5e(r,e,n){let t,l;ne(r,ce,m=>n(5,l=m));let{tables:s}=e,{value:o=void 0}=e,{prependBlank:i=!1}=e,{autoSelect:a="first"}=e,{disabled:u=!1}=e;function f(m){o=m,n(0,o)}function c(m){Re.call(this,r,m)}return r.$$set=m=>{"tables"in m&&n(6,s=m.tables),"value"in m&&n(0,o=m.value),"prependBlank"in m&&n(1,i=m.prependBlank),"autoSelect"in m&&n(2,a=m.autoSelect),"disabled"in m&&n(3,u=m.disabled)},r.$$.update=()=>{r.$$.dirty&66&&n(4,t=i?[void 0,...s]:s)},[o,i,a,u,t,l,s,f,c]}class Ia extends Q{constructor(e){super(),Z(this,e,z5e,H5e,J,{tables:6,value:0,prependBlank:1,autoSelect:2,disabled:3})}}function B5e(r){let e,n,t;function l(o){r[6](o)}let s={tables:r[4],prependBlank:r[1],autoSelect:r[2],disabled:r[3]};return r[0]!==void 0&&(s.value=r[0]),e=new Ia({props:s}),we.push(()=>Me(e,"value",l)),e.$on("change",r[7]),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,[i]){const a={};i&16&&(a.tables=o[4]),i&2&&(a.prependBlank=o[1]),i&4&&(a.autoSelect=o[2]),i&8&&(a.disabled=o[3]),!n&&i&1&&(n=!0,a.value=o[0],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function q5e(r,e,n){let t,l;ne(r,Nc,c=>n(5,l=c));let{value:s=void 0}=e,{prependBlank:o=!1}=e,{autoSelect:i="first"}=e,{disabled:a=!1}=e;function u(c){s=c,n(0,s)}function f(c){Re.call(this,r,c)}return r.$$set=c=>{"value"in c&&n(0,s=c.value),"prependBlank"in c&&n(1,o=c.prependBlank),"autoSelect"in c&&n(2,i=c.autoSelect),"disabled"in c&&n(3,a=c.disabled)},r.$$.update=()=>{r.$$.dirty&32&&n(4,t=[...l.values()])},[s,o,i,a,t,l,u,f]}class AM extends Q{constructor(e){super(),Z(this,e,q5e,B5e,J,{value:0,prependBlank:1,autoSelect:2,disabled:3})}}function U5e(r,e){const n={key:vr(),label:r.column.name,help:null,index:e,is_required:!1,column_attnum:r.column.id,styling:{}};if(r.linkFk){const t=r.linkFk.referent_table_oid;return{...n,kind:"foreign_key",related_table_oid:t,fk_interaction_rule:"must_pick",child_fields:[]}}return{...n,kind:"scalar_column"}}function W5e(r){let e,n,t;function l(o){r[18](o)}let s={disabled:!!r[1],autoSelect:"none"};return r[6]!==void 0&&(s.value=r[6]),e=new AM({props:s}),we.push(()=>Me(e,"value",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};i&2&&(a.disabled=!!o[1]),!n&&i&64&&(n=!0,a.value=o[6],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function j5e(r){let e,n=r[7]("base_table")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","label")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&128&&n!==(n=l[7]("base_table")+"")&&z(t,n)},d(l){l&&$(e)}}}function Y5e(r){let e,n;return e=new Nt({props:{layout:"stacked",$$slots:{label:[j5e],default:[W5e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&4194498&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function G5e(r){let e,n,t,l,s,o;return e=new Ht({props:{$$slots:{default:[Y5e]},$$scope:{ctx:r}}}),t=new It({props:{field:r[5],input:{component:hn,props:{placeholder:r[9]}},label:r[7]("name"),layout:"stacked"}}),s=new It({props:{field:r[4],label:r[7]("description"),layout:"stacked"}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),C(s.$$.fragment)},m(i,a){k(e,i,a),v(i,n,a),k(t,i,a),v(i,l,a),k(s,i,a),o=!0},p(i,a){const u={};a&4194498&&(u.$$scope={dirty:a,ctx:i}),e.$set(u);const f={};a&32&&(f.field=i[5]),a&512&&(f.input={component:hn,props:{placeholder:i[9]}}),a&128&&(f.label=i[7]("name")),t.$set(f);const c={};a&16&&(c.field=i[4]),a&128&&(c.label=i[7]("description")),s.$set(c)},i(i){o||(_(e.$$.fragment,i),_(t.$$.fragment,i),_(s.$$.fragment,i),o=!0)},o(i){p(e.$$.fragment,i),p(t.$$.fragment,i),p(s.$$.fragment,i),o=!1},d(i){y(e,i),i&&$(n),y(t,i),i&&$(l),y(s,i)}}}function K6(r){let e,n;return e=new kn({props:{$$slots:{default:[K5e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&4194560&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function K5e(r){var t;let e=((t=r[8])==null?void 0:t.name)+"",n;return{c(){n=L(e)},m(l,s){v(l,n,s)},p(l,s){var o;s&256&&e!==(e=((o=l[8])==null?void 0:o.name)+"")&&z(n,e)},d(l){l&&$(n)}}}function X5e(r){let e,n,t=r[21]==="formName"&&K6(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[21]==="formName"?t?(t.p(l,s),s&2097152&&_(t,1)):(t=K6(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function J5e(r){let e,n,t;return n=new ot({props:{text:r[10],$$slots:{default:[X5e,({slotName:l})=>({21:l}),({slotName:l})=>l?2097152:0]},$$scope:{ctx:r}}}),{c(){e=E("span"),C(n.$$.fragment),I(e,"slot","title")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&1024&&(o.text=l[10]),s&6291712&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function Z5e(r){let e,n,t;return n=new yn({props:{form:r[11],proceedButton:{label:r[7]("save")},onProceed:r[14],onCancel:r[17]}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"slot","footer")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&2048&&(o.form=l[11]),s&128&&(o.proceedButton={label:l[7]("save")}),s&1&&(o.onCancel=l[17]),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function Q5e(r){let e,n;return e=new Yn({props:{controller:r[0],$$slots:{footer:[Z5e],title:[J5e],default:[G5e]},$$scope:{ctx:r}}}),e.$on("close",r[19]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.controller=t[0]),l&4198387&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function x5e(r,e,n){let t,l,s,o,i,a,u,f,c,m,d=H,g=()=>(d(),d=le(i,V=>n(6,m=V)),i),h,b,w=H,S=()=>(w(),w=le(t,V=>n(8,b=V)),t),T;ne(r,ce,V=>n(7,h=V)),ne(r,Nc,V=>n(16,T=V)),r.$$.on_destroy.push(()=>d()),r.$$.on_destroy.push(()=>w());const M=ms.get();ne(r,M,V=>n(20,c=V));let{controller:A}=e,{dataForm:D=void 0}=e,{onClose:O=void 0}=e;async function F(V){if(D)await D.updateNameAndDesc(V.name,V.description);else{const G=await new Ti(V.baseTable).getSubstanceOnceResolved(),Y=G.resolvedValue;if(Y){const K={name:V.name.trim()||Rd(Y.table),description:V.description,base_table_oid:Y.table.oid,schema_oid:Y.table.schema.oid,database_id:Y.table.schema.database.id,version:X_,associated_role_id:null,submit_message:null,submit_redirect_url:null,submit_button_label:null,fields:[...Y.processedColumns.values()].filter(ee=>{var x;return!((x=ee.column.default)!=null&&x.is_dynamic)}).map((ee,x)=>U5e(ee,x))};await c.insertDataForm(K)}else G.error&&$t.error(G.error.message)}A.close()}const P=()=>A.close();function B(V){m=V,i.set(m)}const j=()=>{a.reset(),O==null||O()};return r.$$set=V=>{"controller"in V&&n(0,A=V.controller),"dataForm"in V&&n(1,D=V.dataForm),"onClose"in V&&n(2,O=V.onClose)},r.$$.update=()=>{var V,q;r.$$.dirty&2&&S(n(12,t=Nn(D==null?void 0:D.structure))),r.$$.dirty&65538&&n(15,l=D?T.get(D.baseTableOid):void 0),r.$$.dirty&256&&n(5,s=er((V=b==null?void 0:b.name)!=null?V:"")),r.$$.dirty&256&&n(4,o=er((q=b==null?void 0:b.description)!=null?q:"")),r.$$.dirty&32768&&g(n(3,i=gt(l))),r.$$.dirty&56&&n(11,a=Wt({name:s,description:o,baseTable:i})),r.$$.dirty&130&&n(10,u=h(D?"rename_form_with_name":"create_new_form")),r.$$.dirty&64&&n(9,f=m?Rd(m):"")},[A,D,O,i,o,s,m,h,b,f,u,a,t,M,F,l,T,P,B,j]}class e8e extends Q{constructor(e){super(),Z(this,e,x5e,Q5e,J,{controller:0,dataForm:1,onClose:2})}}function t8e(r){let e,n,t,l,s,o,i;const a=[r[0]];let u={};for(let f=0;f<a.length;f+=1)u=se(u,a[f]);return t=new Ne({props:u}),{c(){e=E("div"),n=E("div"),C(t.$$.fragment),l=N(),s=E("span"),o=L(r[1]),I(n,"class","content svelte-1f2axcj"),I(e,"class","empty-entity-list svelte-1f2axcj")},m(f,c){v(f,e,c),R(e,n),k(t,n,null),R(n,l),R(n,s),R(s,o),i=!0},p(f,[c]){const m=c&1?de(a,[_e(f[0])]):{};t.$set(m),(!i||c&2)&&z(o,f[1])},i(f){i||(_(t.$$.fragment,f),i=!0)},o(f){p(t.$$.fragment,f),i=!1},d(f){f&&$(e),y(t)}}}function n8e(r,e,n){let{icon:t}=e,{text:l}=e;return r.$$set=s=>{"icon"in s&&n(0,t=s.icon),"text"in s&&n(1,l=s.text)},[t,l]}class OM extends Q{constructor(e){super(),Z(this,e,n8e,t8e,J,{icon:0,text:1})}}function X6(r){let e,n;return e=new ot({props:{text:r[7]("for_named_table"),$$slots:{default:[r8e,({slotName:t})=>({17:t}),({slotName:t})=>t?131072:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&128&&(s.text=t[7]("for_named_table")),l&393220&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function J6(r){let e,n;return e=new rn({props:{table:r[2],truncate:!1}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&4&&(s.table=t[2]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function r8e(r){let e,n,t=r[17]==="tableName"&&J6(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[17]==="tableName"?t?(t.p(l,s),s&131072&&_(t,1)):(t=J6(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function l8e(r){let e,n,t=r[2]&&X6(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[2]?t?(t.p(l,s),s&4&&_(t,1)):(t=X6(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function Z6(r){let e,n;return e=new On({props:{$$slots:{content:[i8e],trigger:[o8e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&262784&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function s8e(r){let e,n;const t=[wf,{size:"0.9rem"}];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[_e(wf),t[1]]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function o8e(r){let e,n;return e=new Zr({props:{slot:"trigger",appearance:"plain",href:`${window.location.origin}${dd(r[9])}`,$$slots:{default:[s8e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&512&&(s.href=`${window.location.origin}${dd(t[9])}`),l&262144&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function i8e(r){let e,n=r[7]("form_is_shared_publicly")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","content")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&128&&n!==(n=l[7]("form_is_shared_publicly")+"")&&z(t,n)},d(l){l&&$(e)}}}function a8e(r){let e,n,t=r[8].isPublishedPublicly&&Z6(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[8].isPublishedPublicly?t?(t.p(l,s),s&256&&_(t,1)):(t=Z6(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function u8e(r){let e=r[7]("rename_form")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&128&&e!==(e=t[7]("rename_form")+"")&&z(n,e)},d(t){t&&$(n)}}}function f8e(r){let e=r[7]("delete_form")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&128&&e!==(e=t[7]("delete_form")+"")&&z(n,e)},d(t){t&&$(n)}}}function c8e(r){let e,n,t,l;return e=new wn({props:{icon:Kr,$$slots:{default:[u8e]},$$scope:{ctx:r}}}),e.$on("click",function(){St(r[0])&&r[0].apply(this,arguments)}),t=new wn({props:{danger:!0,icon:Mt,$$slots:{default:[f8e]},$$scope:{ctx:r}}}),t.$on("click",r[10]),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(s,o){k(e,s,o),v(s,n,o),k(t,s,o),l=!0},p(s,o){r=s;const i={};o&262272&&(i.$$scope={dirty:o,ctx:r}),e.$set(i);const a={};o&262272&&(a.$$scope={dirty:o,ctx:r}),t.$set(a)},i(s){l||(_(e.$$.fragment,s),_(t.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),l=!1},d(s){y(e,s),s&&$(n),y(t,s)}}}function m8e(r){var t;let e,n;return e=new jc({props:{href:r[1],name:r[6].name,description:(t=r[6].description)!=null?t:void 0,icon:oi,cssVariables:{"--EntityListItem__accent-color":"var(--color-data-form-80)"},$$slots:{menu:[c8e],"action-buttons":[a8e],detail:[l8e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(l,s){k(e,l,s),n=!0},p(l,[s]){var i;const o={};s&2&&(o.href=l[1]),s&64&&(o.name=l[6].name),s&64&&(o.description=(i=l[6].description)!=null?i:void 0),s&263045&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){p(e.$$.fragment,l),n=!1},d(l){y(e,l)}}}function d8e(r,e,n){let t,l,s,o,i,a,u,f,c,m=H,d=()=>(m(),m=le(l,B=>n(6,c=B)),l),g,h,b,w=H,S=()=>(w(),w=le(i,B=>n(8,b=B)),i),T,M=H,A=()=>(M(),M=le(a,B=>n(9,T=B)),a);ne(r,ce,B=>n(7,g=B)),ne(r,_r,B=>n(16,h=B)),r.$$.on_destroy.push(()=>m()),r.$$.on_destroy.push(()=>w()),r.$$.on_destroy.push(()=>M());let{dataForm:D}=e,{editDataForm:O}=e,{deleteDataForm:F}=e;function P(){Ll({identifierType:g("form"),identifierName:c.name,onProceed:async()=>{F()}})}return r.$$set=B=>{"dataForm"in B&&n(11,D=B.dataForm),"editDataForm"in B&&n(0,O=B.editDataForm),"deleteDataForm"in B&&n(12,F=B.deleteDataForm)},r.$$.update=()=>{r.$$.dirty&2048&&n(13,{id:t,structure:l,schema:s,baseTableOid:o,sharePreferences:i,token:a}=D,t,d(n(5,l)),(n(14,s),n(11,D)),(n(15,o),n(11,D)),S(n(4,i)),A(n(3,a))),r.$$.dirty&98304&&n(2,u=h.tablesMap.get(o)),r.$$.dirty&24576&&n(1,f=va(s.database.id,s.oid,t))},[O,f,u,a,i,l,c,g,b,T,P,D,F,t,s,o,h]}class _8e extends Q{constructor(e){super(),Z(this,e,d8e,m8e,J,{dataForm:11,editDataForm:0,deleteDataForm:12})}}function p8e(r){let e,n,t;return n=new pc({props:{loading:!0}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","overview-item-skeleton-container svelte-10ey73h")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p:H,i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}class g8e extends Q{constructor(e){super(),Z(this,e,null,p8e,J,{})}}const h8e=r=>({}),Q6=r=>({}),b8e=r=>({}),x6=r=>({}),$8e=r=>({}),ek=r=>({}),v8e=r=>({}),tk=r=>({});function w8e(r){let e;const n=r[2].content,t=ke(n,r,r[3],Q6);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&8)&&Ce(t,n,l,l[3],e?ye(n,l[3],s,h8e):Se(l[3]),Q6)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function k8e(r){let e,n;return e=new Vn({props:{$$slots:{default:[C8e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function y8e(r){let e,n;return e=new g8e({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function C8e(r){let e;const n=r[2].errors,t=ke(n,r,r[3],x6);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&8)&&Ce(t,n,l,l[3],e?ye(n,l[3],s,b8e):Se(l[3]),x6)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function S8e(r){let e,n,t,l,s,o,i,a,u;const f=r[2].header,c=ke(f,r,r[3],tk),m=r[2].actions,d=ke(m,r,r[3],ek),g=[y8e,k8e,w8e],h=[];function b(w,S){return w[0]?0:w[1]?1:2}return i=b(r),a=h[i]=g[i](r),{c(){e=E("section"),n=E("header"),t=E("h2"),c&&c.c(),l=N(),s=E("div"),d&&d.c(),o=N(),a.c(),I(t,"class","svelte-hdnh67"),I(n,"class","svelte-hdnh67")},m(w,S){v(w,e,S),R(e,n),R(n,t),c&&c.m(t,null),R(n,l),R(n,s),d&&d.m(s,null),R(e,o),h[i].m(e,null),u=!0},p(w,[S]){c&&c.p&&(!u||S&8)&&Ce(c,f,w,w[3],u?ye(f,w[3],S,v8e):Se(w[3]),tk),d&&d.p&&(!u||S&8)&&Ce(d,m,w,w[3],u?ye(m,w[3],S,$8e):Se(w[3]),ek);let T=i;i=b(w),i===T?h[i].p(w,S):(U(),p(h[T],1,1,()=>{h[T]=null}),W(),a=h[i],a?a.p(w,S):(a=h[i]=g[i](w),a.c()),_(a,1),a.m(e,null))},i(w){u||(_(c,w),_(d,w),_(a),u=!0)},o(w){p(c,w),p(d,w),p(a),u=!1},d(w){w&&$(e),c&&c.d(w),d&&d.d(w),h[i].d()}}}function T8e(r,e,n){let{$$slots:t={},$$scope:l}=e,{isLoading:s}=e,{hasError:o}=e;return r.$$set=i=>{"isLoading"in i&&n(0,s=i.isLoading),"hasError"in i&&n(1,o=i.hasError),"$$scope"in i&&n(3,l=i.$$scope)},[s,o,t,l]}class FM extends Q{constructor(e){super(),Z(this,e,T8e,S8e,J,{isLoading:0,hasError:1})}}function nk(r,e,n){const t=r.slice();return t[14]=e[n],t}function I8e(r){let e=r[5]("forms")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&32&&e!==(e=t[5]("forms")+"")&&z(n,e)},d(t){t&&$(n)}}}function E8e(r){let e,n,t,l=r[5]("new_form")+"",s,o;const i=[jt];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return e=new Ne({props:a}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l)},m(u,f){k(e,u,f),v(u,n,f),v(u,t,f),R(t,s),o=!0},p(u,f){const c=f&0?de(i,[_e(jt)]):{};e.$set(c),(!o||f&32)&&l!==(l=u[5]("new_form")+"")&&z(s,l)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){p(e.$$.fragment,u),o=!1},d(u){y(e,u),u&&$(n),u&&$(t)}}}function M8e(r){let e,n;return e=new st({props:{appearance:"secondary",$$slots:{default:[E8e]},$$scope:{ctx:r}}}),e.$on("click",r[12]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&131104&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function rk(r){let e,n=r[4].error.message+"",t,l,s,o,i,a,u,f;return o=new Ar({props:{onClick:r[11],label:r[5]("retry"),icon:li}}),u=new st({props:{$$slots:{default:[R8e]},$$scope:{ctx:r}}}),{c(){e=E("p"),t=L(n),l=N(),s=E("div"),C(o.$$.fragment),i=N(),a=E("a"),C(u.$$.fragment),I(a,"href","../")},m(c,m){v(c,e,m),R(e,t),v(c,l,m),v(c,s,m),k(o,s,null),R(s,i),R(s,a),k(u,a,null),f=!0},p(c,m){(!f||m&16)&&n!==(n=c[4].error.message+"")&&z(t,n);const d={};m&4&&(d.onClick=c[11]),m&32&&(d.label=c[5]("retry")),o.$set(d);const g={};m&131104&&(g.$$scope={dirty:m,ctx:c}),u.$set(g)},i(c){f||(_(o.$$.fragment,c),_(u.$$.fragment,c),f=!0)},o(c){p(o.$$.fragment,c),p(u.$$.fragment,c),f=!1},d(c){c&&$(e),c&&$(l),c&&$(s),y(o),y(u)}}}function R8e(r){let e,n=r[5]("go_to_database")+"",t;return{c(){e=E("span"),t=L(n)},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&32&&n!==(n=l[5]("go_to_database")+"")&&z(t,n)},d(l){l&&$(e)}}}function D8e(r){let e,n,t=r[4].error&&rk(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[4].error?t?(t.p(l,s),s&16&&_(t,1)):(t=rk(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function lk(r){let e,n=[],t=new Map,l,s,o,i,a=[...r[6].values()];const u=c=>c[14].id;for(let c=0;c<a.length;c+=1){let m=nk(r,a,c),d=u(m);t.set(d,n[c]=ok(d,m))}let f=null;return a.length||(f=sk(r)),{c(){e=E("div");for(let c=0;c<n.length;c+=1)n[c].c();f&&f.c(),I(e,"class","forms-list")},m(c,m){v(c,e,m);for(let d=0;d<n.length;d+=1)n[d].m(e,null);f&&f.m(e,null),s=!0,o||(i=Dt(l=Ii.call(null,e,{scrollHint:r[5]("schema_new_items_scroll_hint")})),o=!0)},p(c,m){m&227&&(a=[...c[6].values()],U(),n=ht(n,m,u,1,c,a,t,e,kt,ok,null,nk),W(),!a.length&&f?f.p(c,m):a.length?f&&(U(),p(f,1,1,()=>{f=null}),W()):(f=sk(c),f.c(),_(f,1),f.m(e,null))),l&&St(l.update)&&m&32&&l.update.call(null,{scrollHint:c[5]("schema_new_items_scroll_hint")})},i(c){if(!s){for(let m=0;m<a.length;m+=1)_(n[m]);s=!0}},o(c){for(let m=0;m<n.length;m+=1)p(n[m]);s=!1},d(c){c&&$(e);for(let m=0;m<n.length;m+=1)n[m].d();f&&f.d(),o=!1,i()}}}function sk(r){let e,n;return e=new OM({props:{icon:oi,text:r[5]("no_forms")}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&32&&(s.text=t[5]("no_forms")),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function ok(r,e){let n,t,l;function s(){return e[9](e[14])}function o(){return e[10](e[14])}return t=new _8e({props:{dataForm:e[14],deleteDataForm:s,editDataForm:o}}),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(i,a){v(i,n,a),k(t,i,a),l=!0},p(i,a){e=i;const u={};a&64&&(u.dataForm=e[14]),a&65&&(u.deleteDataForm=s),a&66&&(u.editDataForm=o),t.$set(u)},i(i){l||(_(t.$$.fragment,i),l=!0)},o(i){p(t.$$.fragment,i),l=!1},d(i){i&&$(n),y(t,i)}}}function A8e(r){let e,n,t=r[4].resolvedValue&&lk(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[4].resolvedValue?t?(t.p(l,s),s&16&&_(t,1)):(t=lk(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function O8e(r){let e,n,t,l;return e=new FM({props:{isLoading:r[4].isLoading,hasError:!!r[4].error,$$slots:{content:[A8e],errors:[D8e],actions:[M8e],header:[I8e]},$$scope:{ctx:r}}}),t=new e8e({props:{controller:r[7],dataForm:r[1],onClose:r[13]}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(s,o){k(e,s,o),v(s,n,o),k(t,s,o),l=!0},p(s,[o]){const i={};o&16&&(i.isLoading=s[4].isLoading),o&16&&(i.hasError=!!s[4].error),o&131191&&(i.$$scope={dirty:o,ctx:s}),e.$set(i);const a={};o&2&&(a.dataForm=s[1]),o&2&&(a.onClose=s[13]),t.$set(a)},i(s){l||(_(e.$$.fragment,s),_(t.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),l=!1},d(s){y(e,s),s&&$(n),y(t,s)}}}function F8e(r,e,n){let t,l,s,o,i=H,a=()=>(i(),i=le(l,A=>n(4,o=A)),l),u,f,c=H,m=()=>(c(),c=le(t,A=>n(6,f=A)),t);ne(r,ce,A=>n(5,u=A)),r.$$.on_destroy.push(()=>i()),r.$$.on_destroy.push(()=>c());const d=un.spawnModalController(),g=ms.get();ne(r,g,A=>n(0,s=A));let h;const b=A=>s.removeDataForm(A),w=A=>{n(1,h=A),d.open()},S=async()=>{await l.run()},T=()=>d.open(),M=()=>{n(1,h=void 0)};return r.$$.update=()=>{r.$$.dirty&1&&m(n(3,{dataForms:t,dataFormsFetch:l}=s,t,a(n(2,l))))},[s,h,l,t,o,u,f,d,g,b,w,S,T,M]}class N8e extends Q{constructor(e){super(),Z(this,e,F8e,O8e,J,{})}}function ik(r,e,n){const t=r.slice();return t[2]=e[n],t}function ak(r,e){let n,t,l,s;return t=new pc({props:{loading:!0}}),{key:r,first:null,c(){n=E("div"),C(t.$$.fragment),l=N(),I(n,"class","table-skeleton svelte-urq83"),this.first=n},m(o,i){v(o,n,i),k(t,n,null),R(n,l),s=!0},p(o,i){},i(o){s||(_(t.$$.fragment,o),s=!0)},o(o){p(t.$$.fragment,o),s=!1},d(o){o&&$(n),y(t)}}}function P8e(r){let e,n=[],t=new Map,l,s=r[0];const o=i=>i[2];for(let i=0;i<s.length;i+=1){let a=ik(r,s,i),u=o(a);t.set(u,n[i]=ak(u))}return{c(){e=E("div");for(let i=0;i<n.length;i+=1)n[i].c();I(e,"class","table-skeleton-container svelte-urq83")},m(i,a){v(i,e,a);for(let u=0;u<n.length;u+=1)n[u].m(e,null);l=!0},p(i,[a]){a&1&&(s=i[0],U(),n=ht(n,a,o,1,i,s,t,e,kt,ak,null,ik),W())},i(i){if(!l){for(let a=0;a<s.length;a+=1)_(n[a]);l=!0}},o(i){for(let a=0;a<n.length;a+=1)p(n[a]);l=!1},d(i){i&&$(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function L8e(r,e,n){let t,{numTables:l=9}=e;return r.$$set=s=>{"numTables"in s&&n(1,l=s.numTables)},r.$$.update=()=>{r.$$.dirty&2&&n(0,t=Array.from({length:l},(s,o)=>o))},[t,l]}class H8e extends Q{constructor(e){super(),Z(this,e,L8e,P8e,J,{numTables:1})}}function uk(r){let e,n;return e=new kn({props:{$$slots:{default:[V8e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&32770&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function V8e(r){let e=r[1].name+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&2&&e!==(e=t[1].name+"")&&z(n,e)},d(t){t&&$(n)}}}function z8e(r){let e,n,t=r[14]==="tableName"&&uk(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[14]==="tableName"?t?(t.p(l,s),s&16384&&_(t,1)):(t=uk(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function B8e(r){let e,n=r[3]("table_permissions_help")+"",t,l,s,o,i;return o=new Hr({props:{page:"tablePermissions"}}),{c(){e=E("p"),t=L(n),l=N(),s=E("p"),C(o.$$.fragment)},m(a,u){v(a,e,u),R(e,t),v(a,l,u),v(a,s,u),k(o,s,null),i=!0},p(a,u){(!i||u&8)&&n!==(n=a[3]("table_permissions_help")+"")&&z(t,n)},i(a){i||(_(o.$$.fragment,a),i=!0)},o(a){p(o.$$.fragment,a),i=!1},d(a){a&&$(e),a&&$(l),a&&$(s),y(o)}}}function q8e(r){let e,n,t,l,s;return n=new ot({props:{text:r[3]("permissions_for_named_table"),$$slots:{default:[z8e,({slotName:o})=>({14:o}),({slotName:o})=>o?16384:0]},$$scope:{ctx:r}}}),l=new zt({props:{$$slots:{default:[B8e]},$$scope:{ctx:r}}}),{c(){e=E("span"),C(n.$$.fragment),t=N(),C(l.$$.fragment),I(e,"slot","title")},m(o,i){v(o,e,i),k(n,e,null),R(e,t),k(l,e,null),s=!0},p(o,i){const a={};i&8&&(a.text=o[3]("permissions_for_named_table")),i&49154&&(a.$$scope={dirty:i,ctx:o}),n.$set(a);const u={};i&32776&&(u.$$scope={dirty:i,ctx:o}),l.$set(u)},i(o){s||(_(n.$$.fragment,o),_(l.$$.fragment,o),s=!0)},o(o){p(n.$$.fragment,o),p(l.$$.fragment,o),s=!1},d(o){o&&$(e),y(n),y(l)}}}function U8e(r){let e,n;return e=new Up({props:{slot:"share",controller:r[0],accessControlConfig:r[5],storeValues:r[13],savePrivilegesForRoles:r[7]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.controller=t[0]),l&8192&&(s.storeValues=t[13]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function W8e(r){let e,n;return e=new Wp({props:{slot:"transfer-ownership",controller:r[0],transferOwnership:r[8],storeValues:r[13]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.controller=t[0]),l&8192&&(s.storeValues=t[13]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function j8e(r){let e,n;return e=new qp({props:{controller:r[0],getAsyncStores:r[6],onClose:r[10],$$slots:{"transfer-ownership":[W8e,({storeValues:t})=>({13:t}),({storeValues:t})=>t?8192:0],share:[U8e,({storeValues:t})=>({13:t}),({storeValues:t})=>t?8192:0],title:[q8e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.controller=t[0]),l&4&&(s.onClose=t[10]),l&40971&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Y8e(r,e,n){let t,l,s,o,i;ne(r,ce,b=>n(3,o=b));let{controller:a}=e,{table:u}=e;const f=_s.get();ne(r,f,b=>n(9,i=b));const c={allPrivileges:[{id:"SELECT",help:o("table_privilege_select_help")},{id:"INSERT",help:o("table_privilege_insert_help")},{id:"UPDATE",help:o("table_privilege_update_help")},{id:"DELETE",help:o("table_privilege_delete_help")},{id:"TRUNCATE",help:o("table_privilege_truncate_help")},{id:"REFERENCES",help:o("table_privilege_references_help")},{id:"TRIGGER",help:o("table_privilege_trigger_help")}],access:{levels:[{id:"read",privileges:new Set(["SELECT"]),name:o("read"),help:o("table_access_read_help")},{id:"write",privileges:new Set(["SELECT","INSERT","UPDATE","DELETE"]),name:o("write"),help:o("table_access_write_help")}],default:"read"}};function m(){return En.runBatchConservatively([t.batchRunner({database_id:u.schema.database.id,table_oid:u.oid}),l.batchRunner(),s.batchRunner()]),{roles:l,privilegesForRoles:t,permissionsMetaData:ar(new bs({isLoading:!1,settlement:{state:"resolved",value:u}})),currentRole:s}}async function d(b){const w=await Ke.tables.privileges.replace_for_roles({database_id:u.schema.database.id,table_oid:u.oid,privileges:b}).run();t.updateResolvedValue(()=>new Ct(w.map(S=>[S.role_oid,S]))),$t.success(o("access_for_roles_saved_successfully"))}async function g(b){await u.updateOwner(b),$t.success(o("table_ownership_updated_successfully"))}const h=()=>t.reset();return r.$$set=b=>{"controller"in b&&n(0,a=b.controller),"table"in b&&n(1,u=b.table)},r.$$.update=()=>{r.$$.dirty&2&&n(2,t=u.constructTablePrivilegesStore()),r.$$.dirty&512&&({roles:l,currentRole:s}=i)},[a,u,t,o,f,c,m,d,g,i,h]}class NM extends Q{constructor(e){super(),Z(this,e,Y8e,j8e,J,{controller:0,table:1})}}function fk(r){let e,n;return e=new kn({props:{$$slots:{default:[G8e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1280&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function G8e(r){let e=r[8]+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&256&&e!==(e=t[8]+"")&&z(n,e)},d(t){t&&$(n)}}}function K8e(r){let e,n,t=r[9]==="tableName"&&fk(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[9]==="tableName"?t?(t.p(l,s),s&512&&_(t,1)):(t=fk(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function X8e(r){let e,n,t;return n=new ot({props:{text:r[4]("rename_table_with_name"),$$slots:{default:[K8e,({slotName:l})=>({9:l}),({slotName:l})=>l?512:0]},$$scope:{ctx:r}}}),{c(){e=E("span"),C(n.$$.fragment),I(e,"slot","title")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&16&&(o.text=l[4]("rename_table_with_name")),s&1792&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function J8e(r){let e,n;return e=new Yc({props:{controller:r[1],save:r[5],getNameValidationErrors:r[3],getInitialName:r[6],getInitialDescription:r[7],$$slots:{title:[X8e,({initialName:t})=>({8:t}),({initialName:t})=>t?256:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&2&&(s.controller=t[1]),l&8&&(s.getNameValidationErrors=t[3]),l&1&&(s.getInitialName=t[6]),l&1&&(s.getInitialDescription=t[7]),l&1296&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Z8e(r,e,n){let t,l,s=H,o=()=>(s(),s=le(t,d=>n(3,l=d)),t),i;ne(r,ce,d=>n(4,i=d)),r.$$.on_destroy.push(()=>s());let{table:a}=e,{controller:u}=e;async function f(d,g){await vo({schema:a.schema,table:{oid:a.oid,name:d,description:g}})}const c=()=>a.name,m=()=>{var d;return(d=a.description)!=null?d:""};return r.$$set=d=>{"table"in d&&n(0,a=d.table),"controller"in d&&n(1,u=d.controller)},r.$$.update=()=>{r.$$.dirty&1&&o(n(2,t=bE(a)))},[a,u,t,l,i,f,c,m]}class Q8e extends Q{constructor(e){super(),Z(this,e,Z8e,J8e,J,{table:0,controller:1})}}const x8e=r=>({}),ck=r=>({});function mk(r){let e,n,t,l,s,o,i,a,u;const f=[r[0].icon,{class:"block"}];let c={};for(let d=0;d<f.length;d+=1)c=se(c,f[d]);t=new Ne({props:c}),i=new Qr({props:{$$slots:{default:[eye]},$$scope:{ctx:r}}});let m=r[0].description&&dk(r);return{c(){e=E("div"),n=E("div"),C(t.$$.fragment),l=N(),s=E("div"),o=E("h1"),C(i.$$.fragment),a=N(),m&&m.c(),I(n,"class","icon svelte-or00k7"),I(o,"class","name svelte-or00k7"),I(s,"class","text svelte-or00k7"),I(e,"class","heading svelte-or00k7")},m(d,g){v(d,e,g),R(e,n),k(t,n,null),R(e,l),R(e,s),R(s,o),k(i,o,null),R(s,a),m&&m.m(s,null),u=!0},p(d,g){const h=g&1?de(f,[_e(d[0].icon),f[1]]):{};t.$set(h);const b={};g&33&&(b.$$scope={dirty:g,ctx:d}),i.$set(b),d[0].description?m?(m.p(d,g),g&1&&_(m,1)):(m=dk(d),m.c(),_(m,1),m.m(s,null)):m&&(U(),p(m,1,1,()=>{m=null}),W())},i(d){u||(_(t.$$.fragment,d),_(i.$$.fragment,d),_(m),u=!0)},o(d){p(t.$$.fragment,d),p(i.$$.fragment,d),p(m),u=!1},d(d){d&&$(e),y(t),y(i),m&&m.d()}}}function eye(r){let e=r[0].name+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1&&e!==(e=t[0].name+"")&&z(n,e)},d(t){t&&$(n)}}}function dk(r){let e,n,t;return n=new Qr({props:{$$slots:{default:[tye]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","description svelte-or00k7")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&33&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function tye(r){let e=r[0].description+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1&&e!==(e=t[0].description+"")&&z(n,e)},d(t){t&&$(n)}}}function _k(r){let e,n;const t=r[4].default,l=ke(t,r,r[5],null);return{c(){e=E("div"),l&&l.c(),I(e,"class","actions-left svelte-or00k7")},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,o){l&&l.p&&(!n||o&32)&&Ce(l,t,s,s[5],n?ye(t,s[5],o,null):Se(s[5]),null)},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function pk(r){let e,n;const t=r[4]["actions-right"],l=ke(t,r,r[5],ck);return{c(){e=E("div"),l&&l.c(),I(e,"class","actions-right svelte-or00k7")},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,o){l&&l.p&&(!n||o&32)&&Ce(l,t,s,s[5],n?ye(t,s[5],o,x8e):Se(s[5]),ck)},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function nye(r){let e,n,t,l,s,o=r[0]&&mk(r),i=r[2].default&&_k(r),a=r[2]["actions-right"]&&pk(r);return{c(){e=E("div"),o&&o.c(),n=N(),t=E("div"),i&&i.c(),l=N(),a&&a.c(),I(t,"class","actions svelte-or00k7"),ie(t,"has-right-actions",r[2]["actions-right"]),I(e,"class","entity-page-header svelte-or00k7"),I(e,"style",r[1])},m(u,f){v(u,e,f),o&&o.m(e,null),R(e,n),R(e,t),i&&i.m(t,null),R(t,l),a&&a.m(t,null),s=!0},p(u,[f]){u[0]?o?(o.p(u,f),f&1&&_(o,1)):(o=mk(u),o.c(),_(o,1),o.m(e,n)):o&&(U(),p(o,1,1,()=>{o=null}),W()),u[2].default?i?(i.p(u,f),f&4&&_(i,1)):(i=_k(u),i.c(),_(i,1),i.m(t,l)):i&&(U(),p(i,1,1,()=>{i=null}),W()),u[2]["actions-right"]?a?(a.p(u,f),f&4&&_(a,1)):(a=pk(u),a.c(),_(a,1),a.m(t,null)):a&&(U(),p(a,1,1,()=>{a=null}),W()),(!s||f&4)&&ie(t,"has-right-actions",u[2]["actions-right"]),(!s||f&2)&&I(e,"style",u[1])},i(u){s||(_(o),_(i),_(a),s=!0)},o(u){p(o),p(i),p(a),s=!1},d(u){u&&$(e),o&&o.d(),i&&i.d(),a&&a.d()}}}function rye(r,e,n){let t,{$$slots:l={},$$scope:s}=e;const o=mr(l);let{title:i=void 0}=e,{cssVariables:a=void 0}=e;return r.$$set=u=>{"title"in u&&n(0,i=u.title),"cssVariables"in u&&n(3,a=u.cssVariables),"$$scope"in u&&n(5,s=u.$$scope)},r.$$.update=()=>{r.$$.dirty&8&&n(1,t=a?Ml(a):void 0)},[i,t,o,a,l,s]}class Gp extends Q{constructor(e){super(),Z(this,e,rye,nye,J,{title:0,cssVariables:3})}}function lye(r){let e,n,t,l=r[3]("inspector")+"",s,o;const i=[f0];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return e=new Ne({props:a}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l),I(t,"class","responsive-button-label")},m(u,f){k(e,u,f),v(u,n,f),v(u,t,f),R(t,s),o=!0},p(u,f){const c=f&0?de(i,[_e(f0)]):{};e.$set(c),(!o||f&8)&&l!==(l=u[3]("inspector")+"")&&z(s,l)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){p(e.$$.fragment,u),o=!1},d(u){y(e,u),u&&$(n),u&&$(t)}}}function sye(r){let e,n,t;return n=new st({props:{appearance:"custom",size:"medium",active:r[0],disabled:r[2],"aria-label":r[3]("inspector"),$$slots:{default:[lye]},$$scope:{ctx:r}}}),n.$on("click",r[4]),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","inspector-button svelte-8i0yg1")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,[s]){const o={};s&1&&(o.active=l[0]),s&4&&(o.disabled=l[2]),s&8&&(o["aria-label"]=l[3]("inspector")),s&40&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function oye(r,e,n){let t;ne(r,ce,a=>n(3,t=a));let{active:l}=e,{toggle:s}=e,{disabled:o=!1}=e;const i=()=>s();return r.$$set=a=>{"active"in a&&n(0,l=a.active),"toggle"in a&&n(1,s=a.toggle),"disabled"in a&&n(2,o=a.disabled)},[l,s,o,t,i]}class Kp extends Q{constructor(e){super(),Z(this,e,oye,sye,J,{active:0,toggle:1,disabled:2})}}function gk(r){let e;return{c(){e=E("div"),I(e,"class","dot svelte-lz6sq0")},m(n,t){v(n,e,t)},d(n){n&&$(e)}}}function iye(r){let e,n,t,l;n=new Ar({props:{icon:ls,label:r[3]("save"),disabled:!r[0],onClick:r[1],appearance:"secondary"}});let s=r[0]&&gk();return{c(){e=E("div"),C(n.$$.fragment),t=N(),s&&s.c(),I(e,"slot","trigger"),I(e,"class","save-button svelte-lz6sq0")},m(o,i){v(o,e,i),k(n,e,null),R(e,t),s&&s.m(e,null),l=!0},p(o,i){const a={};i&8&&(a.label=o[3]("save")),i&1&&(a.disabled=!o[0]),i&2&&(a.onClick=o[1]),n.$set(a),o[0]?s||(s=gk(),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i(o){l||(_(n.$$.fragment,o),l=!0)},o(o){p(n.$$.fragment,o),l=!1},d(o){o&&$(e),y(n),s&&s.d()}}}function aye(r){let e,n;return{c(){e=E("span"),n=L(r[2]),I(e,"slot","content")},m(t,l){v(t,e,l),R(e,n)},p(t,l){l&4&&z(n,t[2])},d(t){t&&$(e)}}}function uye(r){let e,n;return e=new On({props:{enabled:r[0],$$slots:{content:[aye],trigger:[iye]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.enabled=t[0]),l&31&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function fye(r,e,n){let t;ne(r,ce,i=>n(3,t=i));let{canSave:l}=e,{onSave:s}=e,{unsavedChangesText:o=t("click_to_save")}=e;return r.$$set=i=>{"canSave"in i&&n(0,l=i.canSave),"onSave"in i&&n(1,s=i.onSave),"unsavedChangesText"in i&&n(2,o=i.unsavedChangesText)},[l,s,o,t]}class PM extends Q{constructor(e){super(),Z(this,e,fye,uye,J,{canSave:0,onSave:1,unsavedChangesText:2})}}function cye(r){let e,n,t;return n=new AM({props:{autoSelect:"none",value:r[6]}}),n.$on("change",r[22]),{c(){e=E("span"),C(n.$$.fragment),I(e,"class","select-table svelte-1pjy1pw")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&64&&(o.value=l[6]),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function mye(r){let e,n;return e=new rn({props:{table:r[6]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&64&&(s.table=t[6]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function dye(r){let e=r[10]("base_table_exploration_help")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1024&&e!==(e=t[10]("base_table_exploration_help")+"")&&z(n,e)},d(t){t&&$(n)}}}function hk(r){let e,n;return e=new st({props:{appearance:"secondary",$$slots:{default:[_ye]},$$scope:{ctx:r}}}),e.$on("click",r[23]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&268436480&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function _ye(r){let e=r[10]("start_over")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1024&&e!==(e=t[10]("start_over")+"")&&z(n,e)},d(t){t&&$(n)}}}function pye(r){let e,n,t=(r[5]?r[10]("based_on"):r[10]("exploring_from"))+"",l,s,o,i,a,u,f,c,m;const d=[mye,cye],g=[];function h(w,S){return w[6]?0:1}i=h(r),a=g[i]=d[i](r),f=new zt({props:{$$slots:{default:[dye]},$$scope:{ctx:r}}});let b=!r[5]&&r[6]&&hk(r);return{c(){e=E("div"),n=E("div"),l=L(t),s=N(),o=E("div"),a.c(),u=N(),C(f.$$.fragment),c=N(),b&&b.c(),I(n,"class","detail svelte-1pjy1pw"),I(o,"class","base-table-holder svelte-1pjy1pw"),ie(o,"table-selected",r[6]),I(e,"class","detail-wrapper svelte-1pjy1pw")},m(w,S){v(w,e,S),R(e,n),R(n,l),R(e,s),R(e,o),g[i].m(o,null),R(o,u),k(f,o,null),R(e,c),b&&b.m(e,null),m=!0},p(w,S){(!m||S&1056)&&t!==(t=(w[5]?w[10]("based_on"):w[10]("exploring_from"))+"")&&z(l,t);let T=i;i=h(w),i===T?g[i].p(w,S):(U(),p(g[T],1,1,()=>{g[T]=null}),W(),a=g[i],a?a.p(w,S):(a=g[i]=d[i](w),a.c()),_(a,1),a.m(o,u));const M={};S&268436480&&(M.$$scope={dirty:S,ctx:w}),f.$set(M),(!m||S&64)&&ie(o,"table-selected",w[6]),!w[5]&&w[6]?b?(b.p(w,S),S&96&&_(b,1)):(b=hk(w),b.c(),_(b,1),b.m(e,null)):b&&(U(),p(b,1,1,()=>{b=null}),W())},i(w){m||(_(a),_(f.$$.fragment,w),_(b),m=!0)},o(w){p(a),p(f.$$.fragment,w),p(b),m=!1},d(w){w&&$(e),g[i].d(),y(f),b&&b.d()}}}function bk(r){let e,n,t,l,s,o,i;e=new PM({props:{canSave:r[4],unsavedChangesText:r[10]("exploration_has_unsaved_changes"),onSave:r[16]}});const a=[hye,gye],u=[];function f(c,m){return c[1]&&!c[4]?0:1}return t=f(r),l=u[t]=a[t](r),o=new Kp({props:{disabled:!r[1],active:r[0],toggle:r[21]}}),{c(){C(e.$$.fragment),n=N(),l.c(),s=N(),C(o.$$.fragment)},m(c,m){k(e,c,m),v(c,n,m),u[t].m(c,m),v(c,s,m),k(o,c,m),i=!0},p(c,m){const d={};m&16&&(d.canSave=c[4]),m&1024&&(d.unsavedChangesText=c[10]("exploration_has_unsaved_changes")),e.$set(d);let g=t;t=f(c),t===g?u[t].p(c,m):(U(),p(u[g],1,1,()=>{u[g]=null}),W(),l=u[t],l?l.p(c,m):(l=u[t]=a[t](c),l.c()),_(l,1),l.m(s.parentNode,s));const h={};m&2&&(h.disabled=!c[1]),m&1&&(h.active=c[0]),m&1&&(h.toggle=c[21]),o.$set(h)},i(c){i||(_(e.$$.fragment,c),_(l),_(o.$$.fragment,c),i=!0)},o(c){p(e.$$.fragment,c),p(l),p(o.$$.fragment,c),i=!1},d(c){y(e,c),c&&$(n),u[t].d(c),c&&$(s),y(o,c)}}}function gye(r){let e,n;return e=new On({props:{enabled:r[1],$$slots:{content:[vye],trigger:[$ye]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.enabled=t[1]),l&268436480&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function hye(r){let e,n;return e=new On({props:{allowHover:!0,$$slots:{content:[yye],trigger:[kye]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&268438540&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function bye(r){let e,n,t,l=r[10]("export")+"",s,o;const i=[ri];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return e=new Ne({props:a}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l),I(t,"class","responsive-button-label")},m(u,f){k(e,u,f),v(u,n,f),v(u,t,f),R(t,s),o=!0},p(u,f){const c=f&0?de(i,[_e(ri)]):{};e.$set(c),(!o||f&1024)&&l!==(l=u[10]("export")+"")&&z(s,l)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){p(e.$$.fragment,u),o=!1},d(u){y(e,u),u&&$(n),u&&$(t)}}}function $ye(r){let e,n;return e=new st({props:{slot:"trigger",appearance:"secondary",size:"medium","aria-label":r[10]("export"),disabled:"true",$$slots:{default:[bye]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1024&&(s["aria-label"]=t[10]("export")),l&268436480&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function vye(r){let e,n=r[10]("export_exploration_save_help")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","content")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&1024&&n!==(n=l[10]("export_exploration_save_help")+"")&&z(t,n)},d(l){l&&$(e)}}}function wye(r){let e,n,t,l=r[10]("export")+"",s,o;const i=[ri];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return e=new Ne({props:a}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l),I(t,"class","responsive-button-label")},m(u,f){k(e,u,f),v(u,n,f),v(u,t,f),R(t,s),o=!0},p(u,f){const c=f&0?de(i,[_e(ri)]):{};e.$set(c),(!o||f&1024)&&l!==(l=u[10]("export")+"")&&z(s,l)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){p(e.$$.fragment,u),o=!1},d(u){y(e,u),u&&$(n),u&&$(t)}}}function kye(r){let e,n;return e=new Zr({props:{slot:"trigger",href:"/api/export/v0/explorations/?"+r[3],"data-tinro-ignore":!0,appearance:"secondary",size:"medium","aria-label":r[10]("export"),download:r[2].name+".csv",$$slots:{default:[wye]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8&&(s.href="/api/export/v0/explorations/?"+t[3]),l&1024&&(s["aria-label"]=t[10]("export")),l&4&&(s.download=t[2].name+".csv"),l&268436480&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function $k(r){let e=r[10]("export_exploration_50K_limit")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1024&&e!==(e=t[10]("export_exploration_50K_limit")+"")&&z(n,e)},d(t){t&&$(n)}}}function yye(r){let e,n=r[10]("export_exploration_as_csv_help",{values:{explorationName:r[2].name}})+"",t,l,s=r[11].totalCount>5e4&&$k(r);return{c(){e=E("span"),t=L(n),l=N(),s&&s.c(),I(e,"slot","content")},m(o,i){v(o,e,i),R(e,t),R(e,l),s&&s.m(e,null)},p(o,i){i&1028&&n!==(n=o[10]("export_exploration_as_csv_help",{values:{explorationName:o[2].name}})+"")&&z(t,n),o[11].totalCount>5e4?s?s.p(o,i):(s=$k(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(o){o&&$(e),s&&s.d()}}}function Cye(r){let e,n,t=r[6]&&bk(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[6]?t?(t.p(l,s),s&64&&_(t,1)):(t=bk(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function Sye(r){let e,n=r[10]("save_exploration")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","title")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&1024&&n!==(n=l[10]("save_exploration")+"")&&z(t,n)},d(l){l&&$(e)}}}function Tye(r){var i;let e,n,t,l,s,o;return n=new Gp({props:{title:r[5]?{name:(i=r[2].name)!=null?i:"",description:r[2].description,icon:Xr}:void 0,$$slots:{"actions-right":[Cye],default:[pye]},$$scope:{ctx:r}}}),s=new Yc({props:{controller:r[12],save:r[15],getNameValidationErrors:r[14],getInitialName:r[24],getInitialDescription:r[25],$$slots:{title:[Sye]},$$scope:{ctx:r}}}),{c(){e=E("div"),t=E("div"),C(n.$$.fragment),l=N(),C(s.$$.fragment),ln(t,"display","contents"),ln(t,"--icon-fill-color","linear-gradient(135deg, var(--color-exploration), var(--color-exploration-40))"),ln(t,"--icon-stroke-color","var(--color-fg-inverted)"),I(e,"class","actions-pane")},m(a,u){v(a,e,u),R(e,t),k(n,t,null),v(a,l,u),k(s,a,u),o=!0},p(a,[u]){var m;const f={};u&36&&(f.title=a[5]?{name:(m=a[2].name)!=null?m:"",description:a[2].description,icon:Xr}:void 0),u&268438655&&(f.$$scope={dirty:u,ctx:a}),n.$set(f);const c={};u&4&&(c.getInitialName=a[24]),u&4&&(c.getInitialDescription=a[25]),u&268436480&&(c.$$scope={dirty:u,ctx:a}),s.$set(c)},i(a){o||(_(n.$$.fragment,a),_(s.$$.fragment,a),o=!0)},o(a){p(n.$$.fragment,a),p(s.$$.fragment,a),o=!1},d(a){a&&$(e),y(n),a&&$(l),y(s,a)}}}function Iye(r,e,n){let t,l,s,o,i,a,u,f,c,m=H,d=()=>(m(),m=le(l,he=>n(2,c=he)),l),g,h,b,w=H,S=()=>(w(),w=le(s,he=>n(19,b=he)),s),T,M,A=H,D=()=>(A(),A=le(t,he=>n(11,M=he)),t);ne(r,ce,he=>n(10,g=he)),ne(r,iu,he=>n(26,h=he)),ne(r,_r,he=>n(20,T=he)),r.$$.on_destroy.push(()=>m()),r.$$.on_destroy.push(()=>w()),r.$$.on_destroy.push(()=>A());const O=un.spawnModalController();let{queryManager:F}=e,{linkCollapsibleOpenState:P={}}=e,{isInspectorOpen:B}=e;function j(he){F.update(me=>me.withBaseTable(he?he.oid:void 0)),n(17,P={})}function V(he){var pe;const me=he.trim();return me?Array.from((pe=h.data)!=null?pe:[]).some(([,Le])=>Le.name.toLowerCase().trim()===me)?[g("exploration_with_name_already_exists")]:[]:[g("exploration_name_cannot_be_empty")]}async function q(){try{return await F.save(),{success:!0}}catch(he){return $t.fromError(he),{success:!1}}}async function G(he,me){try{await F.update(ge=>ge.withName(he).model.withDescription(me)),await q()}catch(ge){$t.fromError(ge)}}async function Y(){c.isSaved()?await q():O.open()}const K=()=>{n(0,B=!B)},ee=he=>j(he.detail),x=()=>j(void 0),X=()=>{var he;return(he=c.name)!=null?he:""},fe=()=>{var he;return(he=c.description)!=null?he:""};return r.$$set=he=>{"queryManager"in he&&n(18,F=he.queryManager),"linkCollapsibleOpenState"in he&&n(17,P=he.linkCollapsibleOpenState),"isInspectorOpen"in he&&n(0,B=he.isInspectorOpen)},r.$$.update=()=>{r.$$.dirty&262144&&D(n(9,{rowsData:t,query:l,queryHasUnsavedChanges:s}=F,t,d(n(8,l)),S(n(7,s)))),r.$$.dirty&1048580&&n(6,o=c.base_table_oid?T.tablesMap.get(c.base_table_oid):void 0),r.$$.dirty&4&&n(5,i=c.isSaved()),r.$$.dirty&4&&n(1,a=c.initial_columns.length>0),r.$$.dirty&524294&&n(4,u=!!c.base_table_oid&&a&&b),r.$$.dirty&4&&n(3,f=YT({database_id:c.database_id,exploration_id:c.id}))},[B,a,c,f,u,i,o,s,l,t,g,M,O,j,V,G,Y,P,F,b,T,K,ee,x,X,fe]}class Eye extends Q{constructor(e){super(),Z(this,e,Iye,Tye,J,{queryManager:18,linkCollapsibleOpenState:17,isInspectorOpen:0})}}function Mye(r){const e=r.slice(),n=e[0];return e[3]=n.column,e[4]=n.value,e[5]=n.recordSummary,e[6]=n.fileManifest,e}function Rye(r){let e,n=r[1]("select_cell_view_properties")+"",t;return{c(){e=E("div"),t=L(n),I(e,"class","no-cell-selected svelte-1ihxnzl")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&2&&n!==(n=l[1]("select_cell_view_properties")+"")&&z(t,n)},i:H,o:H,d(l){l&&$(e)}}}function Dye(r){let e,n,t=r[1]("content")+"",l,s,o,i,a=r[3]&&vk(r);return{c(){e=E("section"),n=E("header"),l=L(t),s=N(),o=E("div"),a&&a.c(),I(n,"class","header svelte-1ihxnzl"),I(o,"class","content svelte-1ihxnzl"),I(e,"class","active-cell")},m(u,f){v(u,e,f),R(e,n),R(n,l),R(e,s),R(e,o),a&&a.m(o,null),i=!0},p(u,f){(!i||f&2)&&t!==(t=u[1]("content")+"")&&z(l,t),u[3]?a?(a.p(u,f),f&1&&_(a,1)):(a=vk(u),a.c(),_(a,1),a.m(o,null)):a&&(U(),p(a,1,1,()=>{a=null}),W())},i(u){i||(_(a),i=!0)},o(u){p(a),i=!1},d(u){u&&$(e),a&&a.d()}}}function vk(r){let e,n;return e=new su({props:{isIndependentOfSheet:!0,disabled:!0,columnFabric:r[3],value:r[4],recordSummary:r[5],fileManifest:r[6]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.columnFabric=t[3]),l&1&&(s.value=t[4]),l&1&&(s.recordSummary=t[5]),l&1&&(s.fileManifest=t[6]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Aye(r){let e,n,t,l;const s=[Dye,Rye],o=[];function i(u,f){return u[0]?0:1}function a(u,f){return f===0?Mye(u):u}return n=i(r),t=o[n]=s[n](a(r,n)),{c(){e=E("div"),t.c(),I(e,"class","cell-inspector svelte-1ihxnzl")},m(u,f){v(u,e,f),o[n].m(e,null),l=!0},p(u,[f]){let c=n;n=i(u),n===c?o[n].p(a(u,n),f):(U(),p(o[c],1,1,()=>{o[c]=null}),W(),t=o[n],t?t.p(a(u,n),f):(t=o[n]=s[n](a(u,n)),t.c()),_(t,1),t.m(e,null))},i(u){l||(_(t),l=!0)},o(u){p(t),l=!1},d(u){u&&$(e),o[n].d()}}}function Oye(r,e,n){let t,l;ne(r,ce,o=>n(1,l=o));let{selectedCellData:s}=e;return r.$$set=o=>{"selectedCellData"in o&&n(2,s=o.selectedCellData)},r.$$.update=()=>{r.$$.dirty&4&&n(0,{activeCellData:t}=s,t)},[t,l,s]}class LM extends Q{constructor(e){super(),Z(this,e,Oye,Aye,J,{selectedCellData:2})}}function Fye(){return{exploration:{label:ve(ce)("exploration")},column:{label:ve(ce)("column")},cell:{label:ve(ce)("cell")}}}function HM([r,{label:e}]){return{id:r,label:e}}function wk(r){return Object.entries(r).map(HM)}class Nye{constructor(e){te(this,"tabs");te(this,"activeTabId");te(this,"activeTab");const n=Fye();this.tabs=et(e,l=>{if(l.isSaved())return wk(n);const{exploration:s,...o}=n;return wk(o)});const t=ve(this.tabs)[0].id;this.activeTabId=Ue(t),this.activeTab=et(this.activeTabId,l=>HM([l,n[l]]))}activate(e){this.activeTabId.set(e)}}const Xp=(r,e)=>r[1].linksTo&&!e[1].linksTo?1:!r[1].linksTo&&e[1].linksTo?-1:0;function Jp(r,e,n,t=""){const l=r.joinable_tables.filter(c=>c.depth===n&&c.fkey_path[n-1][1]===!1&&c.join_path[n-1][0][1]===e&&c.join_path.join(",").indexOf(t)===0);if(l.length===0)return;if(l.length>1)throw new Error(`Multiple links present for the same column: ${e}`);const s=l[0],o=r.target_table_info[s.target],i={id:s.target,name:o.name},a=s.join_path[n-1][1][1],u={id:a,name:o.columns[a].name},f=Object.entries(o.columns).map(([c,m])=>{const d=parseInt(c,10);return[d,{id:d,name:m.name,tableName:o.name,type:m.type,linksTo:Jp(r,d,n+1,s.join_path.join(",")),jpPath:s.join_path,producesMultipleResults:s.multiple_results,metadata:null}]});return{...i,linkedToColumn:u,columns:new Map(f.sort(Xp))}}function Pye(r){const e={database_id:r.database.id,table_oid:r.baseTableId};return K_([Ke.tables.list_joinable(e),Ke.tables.get(e),Ke.columns.list_with_metadata(e)]).transformResolved(([n,t,l])=>({joinableTables:n,baseTable:t,columns:l}))}function Lye({joinableTables:r,baseTable:e,columns:n}){const t=new Map;n.forEach(l=>{t.set(l.id,{id:l.id,name:l.name,type:l.type,tableId:e.oid,tableName:e.name})});for(const[l,s]of Object.entries(r.target_table_info)){const o=parseInt(l,10);for(const[i,a]of Object.entries(s.columns)){const u=parseInt(i,10);t.set(u,{id:u,name:a.name,type:a.type,tableId:o,tableName:s.name})}}return t}function Hye({joinableTables:r,baseTable:e,columns:n}){const t=n.map(({id:l,name:s,type:o,metadata:i})=>[l,{id:l,name:s,type:o,metadata:i,tableName:e.name,linksTo:Jp(r,l,1),producesMultipleResults:!1}]);return new Map(t.sort(Xp))}function Vye({joinableTables:r,baseTable:e,columns:n}){const t=r.joinable_tables.filter(s=>s.depth===1&&s.fkey_path[0][1]===!0),l=[];for(const s of t){const o=s.join_path[0][0][1],i=s.join_path[0][1][1],a=n.find(d=>d.id===o);if(!a)continue;const u=s.target,f=r.target_table_info[u],c=f.columns[i],m=Object.entries(f.columns).filter(([d])=>d!==String(i)).map(([d,g])=>{const h=parseInt(d,10),b=s.join_path.join(",");return[h,{id:h,name:g.name,type:g.type,tableName:e.name,linksTo:Jp(r,h,2,b),jpPath:s.join_path,producesMultipleResults:s.multiple_results,metadata:null}]});l.push({id:u,name:f.name,referencedViaColumn:{id:i,name:c.name,type:c.type},linkedToColumn:a,columns:new Map(m.sort(Xp))})}return l}function zye(r){return{baseTableColumns:Hye(r),tablesThatReferenceBaseTable:Vye(r),inputColumnInformationMap:Lye(r)}}function na(r){var l,s,o,i,a;const e={alias:r.alias,display_name:(l=r.display_name)!=null?l:r.alias,type:(s=r.type)!=null?s:"unknown",type_options:(o=r.type_options)!=null?o:null,metadata:(i=r.metadata)!=null?i:null},n=ho(e.type,e.metadata),t=r.is_initial_column?{is_initial_column:!0,input_column_name:r.input_column_name,input_table_name:r.input_table_name,input_table_id:r.input_table_id}:{is_initial_column:!1,input_alias:r.input_alias};return{id:e.alias,column:e,abstractType:n,cellComponentAndProps:hp({cellInfo:n.cellInfo,column:e}),simpleInputComponentAndProps:(a=bp(e,n.cellInfo))!=null?a:Lc(e,n.cellInfo),initialInputValue:kE(e,void 0,n.cellInfo),allowedFiltersMap:BI(n.identifier),preprocFunctions:qI(n.identifier),summarizationFunctions:Mx(n.identifier),source:t,formatCellValue:yE(e)}}function Bye(r){return new Ct(Object.entries(r).map(([e,n])=>[e,na(n)]))}function qye({currentProcessedColumnsMetaData:r,inputColumnInformationMap:e,queryModel:n}){const t=n.initial_columns,l=n.getSummarizationTransforms(),s=t.filter(f=>!r.has(f.alias)),o=l.filter(f=>f.getOutputColumnAliases().some(c=>!r.has(c))),i=Object.entries(n.display_names).filter(([f,c])=>{var m;return r.has(f)&&((m=r.get(f))==null?void 0:m.column.display_name)!==c});let a=r,u=s.length>0||o.length>0;return s.length>0&&s.forEach(f=>{const c=e.get(f.attnum);a=a.with(f.alias,na({alias:f.alias,type:c==null?void 0:c.type,is_initial_column:!0,input_column_name:c==null?void 0:c.name,input_table_name:c==null?void 0:c.tableName,input_table_id:c==null?void 0:c.tableId}))}),o.length>0&&o.forEach(f=>{[...f.groups.values()].forEach(c=>{var m,d,g;if(!a.has(c.outputAlias)){const h=(m=a.get(c.inputAlias))==null?void 0:m.column;a=a.with(c.outputAlias,na({alias:c.outputAlias,display_name:null,type:(d=h==null?void 0:h.type)!=null?d:"unknown",type_options:(g=h==null?void 0:h.type_options)!=null?g:null,is_initial_column:!1,input_alias:c.inputAlias}))}}),[...f.aggregations.values()].forEach(c=>{var m,d;a.has(c.outputAlias)||(a=a.with(c.outputAlias,na({alias:c.outputAlias,type:c.function==="distinct_aggregate_to_array"?"_array":"integer",type_options:c.function==="distinct_aggregate_to_array"?{item_type:(d=(m=a.get(c.inputAlias))==null?void 0:m.column.type)!=null?d:"unknown"}:null,is_initial_column:!1,input_alias:c.inputAlias})))})}),i.length>0&&i.forEach(([f,c])=>{const m=a.get(f);m&&(a=a.with(f,{...m,column:{...m.column,display_name:c}}),u=!0)}),u?new Ct(a):r}function qf(r,e){return new Ct(r.map((n,t)=>{var l;return[n,{...(l=e.get(n))!=null?l:na({alias:n,is_initial_column:!0}),columnIndex:t}]}))}function Uf(r){return String(r.rowIndex)}class Uye{constructor({query:e,runMode:n}){te(this,"query");te(this,"runState",Ue());te(this,"pagination",Ue(new Or({size:100})));te(this,"rowsData",Ue({totalCount:0,rows:[]}));te(this,"columnsMetaData",Ue(new Ct));te(this,"processedColumns",Ue(new Ct));te(this,"selectableRowsMap");te(this,"selection");te(this,"inspector");te(this,"runPromise");te(this,"runMode");this.runMode=n!=null?n:"queryObject",this.query=Ue(e),this.speculateProcessedColumns(),this.run(),this.selectableRowsMap=et(this.rowsData,({rows:l})=>new Map(l.map(s=>[Uf(s),s])));const t=et([this.rowsData,this.processedColumns],([{rows:l},s])=>{const o=new fi(l.map(Uf)),i=[...s.values()],a=new fi(i.map(u=>String(u.id)));return new np(o,a)});this.selection=new yI(t),this.inspector=new Nye(this.query)}speculateProcessedColumns(e){const n=qye({currentProcessedColumnsMetaData:ve(this.columnsMetaData),inputColumnInformationMap:e!=null?e:new Map,queryModel:this.getQueryModel()});this.columnsMetaData.set(n),this.processedColumns.set(qf(this.getQueryModel().getOutputColumnAliases(),n))}async run(){var t,l;(t=this.runPromise)==null||t.cancel();const e=this.getQueryModel();if(e.base_table_oid===void 0){const s={totalCount:0,rows:[]};this.columnsMetaData.set(new Ct),this.processedColumns.set(new Ct),this.rowsData.set(s),this.runState.set({state:"success"});return}let n;try{const s=ve(this.pagination).recordsRequestParams();if(this.runState.set({state:"processing"}),this.runMode==="queryObject"){const i=Ke.explorations.run({exploration_def:e.toAnonymousExploration(),...s}).run();this.runPromise=i,n=await i}else{if(!e.id){this.runState.set({state:"failure",errors:["Query does not contain an id"]});return}this.runPromise=Yie(e.id,{...s}),n=await this.runPromise}const o=Bye(n.column_metadata);return this.columnsMetaData.set(o),this.processedColumns.set(new Ct(qf(n.output_columns,o))),this.rowsData.set({totalCount:n.records.count,rows:((l=n.records.results)!=null?l:[]).map((i,a)=>({record:i,rowIndex:a}))}),this.runState.set({state:"success"}),await this.afterRun(n),n}catch(s){if(s instanceof Wa)this.runState.set({state:"failure",errors:s});else{const o=s instanceof Error?s.message:"Unable to run query due to an unknown reason";this.runState.set({state:"failure",errors:[o]})}}}async afterRun(e){}async setPagination(e){this.pagination.set(e),await this.run()}resetPagination(){this.pagination.update(e=>new Or({...e,page:1}))}resetResults(){var e;(e=this.runPromise)==null||e.cancel(),this.resetPagination(),this.rowsData.set({totalCount:0,rows:[]}),this.processedColumns.set(new Ct),this.runState.set(void 0)}async resetPaginationAndRun(){this.resetPagination(),await this.run()}selectColumn(e){const n=ve(this.processedColumns).get(e);!n||(this.selection.update(t=>t.ofOneColumn(n.id)),this.inspector.activate("column"))}getQueryModel(){return ve(this.query)}destroy(){var e;(e=this.runPromise)==null||e.cancel(),this.selection.destroy()}}function Wye(r,e,n){const{activeCellId:t}=r,l={cellCount:r.cellIds.size},s={selectionData:l};if(!t)return s;const{rowId:o,columnId:i}=nr(t),a=e.find(m=>Uf(m)===o);if(!a)return s;const u=a.record[i],f=n.get(i);return{activeCellData:f&&{column:f,value:u},selectionData:l}}function jye(r){let e,n;return e=new LM({props:{selectedCellData:r[0]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.selectedCellData=t[0]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Yye(r,e,n){let t,l,s,o,i,a=H,u=()=>(a(),a=le(l,w=>n(5,i=w)),l),f,c=H,m=()=>(c(),c=le(s,w=>n(6,f=w)),s),d,g=H,h=()=>(g(),g=le(t,w=>n(7,d=w)),t);r.$$.on_destroy.push(()=>a()),r.$$.on_destroy.push(()=>c()),r.$$.on_destroy.push(()=>g());let{queryHandler:b}=e;return r.$$set=w=>{"queryHandler"in w&&n(4,b=w.queryHandler)},r.$$.update=()=>{r.$$.dirty&16&&h(n(3,{selection:t,processedColumns:l,rowsData:s}=b,t,u(n(2,l)),m(n(1,s)))),r.$$.dirty&224&&n(0,o=Wye(d,f.rows,i))},[o,s,l,t,b,i,f,d]}class Gye extends Q{constructor(e){super(),Z(this,e,Yye,jye,J,{queryHandler:4})}}class VM{constructor(e,n){te(this,"maxEntries",5);te(this,"cache");this.maxEntries=e,this.cache=new Map(n!=null?n:[])}set(e,n){this.cache.delete(e),this.cache.set(e,n),this.cache.size>this.maxEntries&&this.cache.delete([...this.cache.keys()][0])}get(e){return this.cache.get(e)}getOrCreate(e,n){let t=this.cache.get(e);return t===void 0&&(t=n(),this.set(e,t)),t}}class Kye{constructor(e){te(this,"map");var t;const n=new Map;for(const l of e)n.set(l,((t=n.get(l))!=null?t:0)+1);this.map=n}get(e){var n;return(n=this.map.get(e))!=null?n:0}isSubsetOf(e){return KP(n=>e.includes(n),this.map.keys())}get distinctValues(){return this.map.size}}function kk(r,e){return!(r.name!==e.name||r.item_type!==e.item_type)}function Xye(r){return r||{columnDisplayOptions:{}}}function zM(r,e){var n,t;return{name:r.alias,index:e,type:{name:r.type,item_type:(t=(n=r.type_options)==null?void 0:n.item_type)!=null?t:void 0}}}function*Jye(r){var n,t;const e=(n=r.columnDisplayOptions)!=null?n:{};for(const{column:l,displayOptions:s}of Object.values(e)){const o=(t=s.display_width)!=null?t:void 0;!o||(yield[l.name,o])}}function Zye(r,e){const n=r.column,t=e.at(n.index);if(n.name===(t==null?void 0:t.name)){if(kk(n.type,t.type))return{outcome:"unchanged",entry:r};const s={...r,column:t};return{outcome:"new-type",entry:s}}const l=e.find(s=>s.name===n.name);if(l&&kk(n.type,l.type)){const s={...r,column:l};return{outcome:"new-index",entry:s}}if(n.type===(t==null?void 0:t.type)){const s={...r,column:t};return{outcome:"new-name",entry:s}}return{outcome:"removed",entry:r}}function Qye(r,e){const n=[...r].map(l=>Zye(l,e)),t=new Kye(Ln(l=>l.outcome,n));return t.isSubsetOf(["unchanged"])?{hasChanged:!1}:t.isSubsetOf(["unchanged","removed","new-index"])||t.isSubsetOf(["unchanged","new-name"])||t.isSubsetOf(["unchanged","new-type"])?{hasChanged:!0,newValue:Object.fromEntries(n.filter(l=>l.outcome!=="removed").map(({entry:l})=>[l.column.index,l]))}:{hasChanged:!0,newValue:Object.fromEntries(n.filter(l=>l.outcome==="unchanged").map(({entry:l})=>[l.column.index,l]))}}function xye(r,e){const{columnDisplayOptions:n}=r;if(!n)return{hasChanged:!1};const t=e.output_columns.map((o,i)=>zM(e.column_metadata[o],i)),l=Qye(Object.values(n),t);if(!l.hasChanged)return{hasChanged:!1};const s={...r,columnDisplayOptions:l.newValue};return{hasChanged:!0,newValue:s}}function yk(r){const e=r[3].get(r[47]);r[48]=e}function Ck(r){let e,n;const t=r[31].default,l=ke(t,r,r[39],null);return{c(){e=E("div"),l&&l.c(),I(e,"class","prefix svelte-1wl4ksg")},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,o){l&&l.p&&(!n||o[1]&256)&&Ce(l,t,s,s[39],n?ye(t,s[39],o,null):Se(s[39]),null)},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function e7e(r){var t,l,s,o,i,a;yk(r);let e,n;return e=new Gn({props:{column:{name:r[15](r[47]),type:(l=(t=r[48])==null?void 0:t.column.type)!=null?l:"unknown",type_options:(o=(s=r[48])==null?void 0:s.column.type_options)!=null?o:null,constraintsType:r[16](r[47]),metadata:(a=(i=r[48])==null?void 0:i.column.metadata)!=null?a:null}}}),{c(){C(e.$$.fragment)},m(u,f){k(e,u,f),n=!0},p(u,f){var m,d,g,h,b,w;yk(u);const c={};f[0]&8|f[1]&65536&&(c.column={name:u[15](u[47]),type:(d=(m=u[48])==null?void 0:m.column.type)!=null?d:"unknown",type_options:(h=(g=u[48])==null?void 0:g.column.type_options)!=null?h:null,constraintsType:u[16](u[47]),metadata:(w=(b=u[48])==null?void 0:b.column.metadata)!=null?w:null}),e.$set(c)},i(u){n||(_(e.$$.fragment,u),n=!0)},o(u){p(e.$$.fragment,u),n=!1},d(u){y(e,u)}}}function Sk(r){let e,n,t;function l(o){r[33](o)}let s={options:r[12],getLabel:r[17],triggerClass:"filter-condition"};return r[1]!==void 0&&(s.value=r[1]),e=new fn({props:s}),we.push(()=>Me(e,"value",l)),e.$on("change",r[34]),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};i[0]&4096&&(a.options=o[12]),!n&&i[0]&2&&(n=!0,a.value=o[1],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function Tk(r){var o;let e,n,t;function l(i){r[35](i)}let s={componentAndProps:r[10],class:CE,hasError:r[7]&&!r[11],recordSummary:(o=r[8].get(String(r[0])))==null?void 0:o.get(String(r[2])),setRecordSummary:r[21]};return r[2]!==void 0&&(s.value=r[2]),e=new lu({props:s}),we.push(()=>Me(e,"value",l)),e.$on("input",r[36]),e.$on("blur",r[37]),e.$on("change",r[18]),{c(){C(e.$$.fragment)},m(i,a){k(e,i,a),t=!0},p(i,a){var f;const u={};a[0]&1024&&(u.componentAndProps=i[10]),a[0]&2176&&(u.hasError=i[7]&&!i[11]),a[0]&261&&(u.recordSummary=(f=i[8].get(String(i[0])))==null?void 0:f.get(String(i[2]))),!n&&a[0]&4&&(n=!0,u.value=i[2],De(()=>n=!1)),e.$set(u)},i(i){t||(_(e.$$.fragment,i),t=!0)},o(i){p(e.$$.fragment,i),t=!1},d(i){y(e,i)}}}function Ik(r){let e,n,t=r[10]&&Tk(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[10]?t?(t.p(l,s),s[0]&1024&&_(t,1)):(t=Tk(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function Ek(r){let e,n;return e=new st({props:{size:"small",class:"filter-remove",appearance:"secondary",$$slots:{default:[t7e]},$$scope:{ctx:r}}}),e.$on("click",r[38]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[1]&256&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function t7e(r){let e,n;const t=[Mt];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[_e(Mt)]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function n7e(r){let e,n,t,l=r[0],s,o=`${r[0]}${r[1]}`,i,a,u;function f(h){r[32](h)}let c={options:r[13],getLabel:r[15],triggerClass:"filter-column-id",disabled:r[5],$$slots:{default:[e7e,({option:h})=>({47:h}),({option:h})=>[0,h?65536:0]]},$$scope:{ctx:r}};r[0]!==void 0&&(c.value=r[0]),e=new fn({props:c}),we.push(()=>Me(e,"value",f)),e.$on("change",r[19]);let m=Sk(r),d=Ik(r),g=r[6]&&Ek(r);return{c(){C(e.$$.fragment),t=N(),m.c(),s=N(),d.c(),i=N(),g&&g.c(),a=ae()},m(h,b){k(e,h,b),v(h,t,b),m.m(h,b),v(h,s,b),d.m(h,b),v(h,i,b),g&&g.m(h,b),v(h,a,b),u=!0},p(h,b){const w={};b[0]&8192&&(w.options=h[13]),b[0]&32&&(w.disabled=h[5]),b[0]&8|b[1]&65792&&(w.$$scope={dirty:b,ctx:h}),!n&&b[0]&1&&(n=!0,w.value=h[0],De(()=>n=!1)),e.$set(w),b[0]&1&&J(l,l=h[0])?(U(),p(m,1,1,H),W(),m=Sk(h),m.c(),_(m,1),m.m(s.parentNode,s)):m.p(h,b),b[0]&3&&J(o,o=`${h[0]}${h[1]}`)?(U(),p(d,1,1,H),W(),d=Ik(h),d.c(),_(d,1),d.m(i.parentNode,i)):d.p(h,b),h[6]?g?(g.p(h,b),b[0]&64&&_(g,1)):(g=Ek(h),g.c(),_(g,1),g.m(a.parentNode,a)):g&&(U(),p(g,1,1,()=>{g=null}),W())},i(h){u||(_(e.$$.fragment,h),_(m),_(d),_(g),u=!0)},o(h){p(e.$$.fragment,h),p(m),p(d),p(g),u=!1},d(h){y(e,h),h&&$(t),m.d(h),h&&$(s),d.d(h),h&&$(i),g&&g.d(h),h&&$(a)}}}function r7e(r){let e,n,t,l,s,o=r[22].default&&Ck(r);return t=new Va({props:{class:r[4],$$slots:{default:[n7e]},$$scope:{ctx:r}}}),{c(){e=E("div"),o&&o.c(),n=N(),C(t.$$.fragment),I(e,"class",l="filter-entry "+r[4]+" svelte-1wl4ksg")},m(i,a){v(i,e,a),o&&o.m(e,null),R(e,n),k(t,e,null),s=!0},p(i,a){i[22].default?o?(o.p(i,a),a[0]&4194304&&_(o,1)):(o=Ck(i),o.c(),_(o,1),o.m(e,n)):o&&(U(),p(o,1,1,()=>{o=null}),W());const u={};a[0]&16&&(u.class=i[4]),a[0]&15855|a[1]&256&&(u.$$scope={dirty:a,ctx:i}),t.$set(u),(!s||a[0]&16&&l!==(l="filter-entry "+i[4]+" svelte-1wl4ksg"))&&I(e,"class",l)},i(i){s||(_(o),_(t.$$.fragment,i),s=!0)},o(i){p(o),p(t.$$.fragment,i),s=!1},d(i){i&&$(e),o&&o.d(),y(t)}}}function l7e(r,e,n){let t,l,s,o,i,a,u,f,c,m,d,g=H,h=()=>(g(),g=le(c,Xe=>n(30,d=Xe)),c);r.$$.on_destroy.push(()=>g());let{$$slots:b={},$$scope:w}=e;const S=mr(b),T=Et();let{columns:M}=e,{getColumnLabel:A}=e,{getColumnConstraintType:D=()=>{}}=e,{columnIdentifier:O}=e,{conditionIdentifier:F}=e,{value:P}=e,{layout:B="horizontal"}=e,{disableColumnChange:j=!1}=e,{allowDelete:V=!0}=e,{numberOfFilters:q=0}=e,{recordSummaryStore:G=void 0}=e;const Y=q;let K=!1,ee=P,x;us(()=>{window.clearTimeout(x)});function X(Xe){if(Xe){const dt=M.get(Xe);if(dt)return A(dt)}return""}function fe(Xe){if(Xe){const dt=M.get(Xe);if(dt)return D(dt)}}function he(Xe){var dt,Oe;return Xe&&(Oe=(dt=s.get(Xe))==null?void 0:dt.name)!=null?Oe:""}function me(Xe){ee!==Xe&&(ee=Xe,T("update"))}function ge(Xe){clearTimeout(x),x=window.setTimeout(()=>{me(Xe)},500)}function pe(){clearTimeout(x),me(P)}function Le(Xe,dt){var mt;const Oe=Xe==null?void 0:Xe.parameters[0];if(typeof Oe>"u")return;if((dt==null?void 0:dt.abstractType.identifier)===Oe&&a)return a;const Fe={type:Oe,type_options:{},metadata:{}};return(mt=bp(Fe))!=null?mt:Lc(Fe)}function Qe(){ee=void 0,n(2,P=void 0),T("update")}function Ae(Xe){if(!Xe)return;const dt=s.get(Xe);!dt||(typeof(dt==null?void 0:dt.parameters[0])>"u"&&(ee=void 0,n(2,P=void 0)),T("update"))}function Je(Xe,dt){G&&G.addBespokeValue({columnId:String(O),key:Xe,value:dt})}function ze(Xe){O=Xe,n(0,O)}function Ve(Xe){F=Xe,n(1,F)}const Be=Xe=>Ae(Xe.detail);function qe(Xe){P=Xe,n(2,P)}const ft=()=>{n(7,K=!0)},vt=()=>{n(7,K=!0)},ut=()=>T("removeFilter");return r.$$set=Xe=>{"columns"in Xe&&n(3,M=Xe.columns),"getColumnLabel"in Xe&&n(23,A=Xe.getColumnLabel),"getColumnConstraintType"in Xe&&n(24,D=Xe.getColumnConstraintType),"columnIdentifier"in Xe&&n(0,O=Xe.columnIdentifier),"conditionIdentifier"in Xe&&n(1,F=Xe.conditionIdentifier),"value"in Xe&&n(2,P=Xe.value),"layout"in Xe&&n(4,B=Xe.layout),"disableColumnChange"in Xe&&n(5,j=Xe.disableColumnChange),"allowDelete"in Xe&&n(6,V=Xe.allowDelete),"numberOfFilters"in Xe&&n(25,q=Xe.numberOfFilters),"recordSummaryStore"in Xe&&n(26,G=Xe.recordSummaryStore),"$$scope"in Xe&&n(39,w=Xe.$$scope)},r.$$.update=()=>{var Xe;r.$$.dirty[0]&8&&n(13,t=[...M.values()].map(dt=>dt.id)),r.$$.dirty[0]&9&&n(28,l=O?M.get(O):void 0),r.$$.dirty[0]&268435456&&n(27,s=(Xe=l==null?void 0:l.allowedFiltersMap)!=null?Xe:new Map),r.$$.dirty[0]&134217728&&n(12,o=[...s].map(([dt])=>dt)),r.$$.dirty[0]&134217730&&n(29,i=F?s.get(F):void 0),r.$$.dirty[0]&268435456&&(a=l==null?void 0:l.simpleInputComponentAndProps),r.$$.dirty[0]&536870916&&n(11,u=i?Of(i,P):!1),r.$$.dirty[0]&33554432&&q!==Y&&n(7,K=!0),r.$$.dirty[0]&4&&ge(P),r.$$.dirty[0]&805306368&&n(10,f=Le(i,l)),r.$$.dirty[0]&67108864&&h(n(9,c=G!=null?G:ar(new Ct))),r.$$.dirty[0]&1073741824&&n(8,m=d)},[O,F,P,M,B,j,V,K,m,c,f,u,o,t,T,X,fe,he,pe,Qe,Ae,Je,S,A,D,q,G,s,l,i,d,b,ze,Ve,Be,qe,ft,vt,ut,w]}class BM extends Q{constructor(e){super(),Z(this,e,l7e,r7e,J,{columns:3,getColumnLabel:23,getColumnConstraintType:24,columnIdentifier:0,conditionIdentifier:1,value:2,layout:4,disableColumnChange:5,allowDelete:6,numberOfFilters:25,recordSummaryStore:26},null,[-1,-1])}}class qM{constructor(e){te(this,"type","filter");te(this,"name",ve(ce)("filter"));te(this,"columnIdentifier");te(this,"conditionIdentifier");te(this,"value");var n;if("columnIdentifier"in e)this.columnIdentifier=e.columnIdentifier,this.conditionIdentifier=e.conditionIdentifier,this.value=e.value;else{[this.conditionIdentifier]=Object.keys(e.spec);const t=e.spec[this.conditionIdentifier];if(!t)throw new Error("Invalid QueryInstanceFilterTransformation");[this.columnIdentifier]=t[0].column_name,this.value=(n=t[1])==null?void 0:n.literal[0]}}isValid(){const e=Cx(this.conditionIdentifier);return e?Of(e,this.value):!1}toJson(){return{type:"filter",spec:{[this.conditionIdentifier]:[{column_name:[this.columnIdentifier]},...this.value!==void 0?[{literal:[this.value]}]:[]]}}}isColumnUsedInTransformation(e){return this.columnIdentifier===e}}class UM{constructor(e){te(this,"type","hide");te(this,"name",ve(ce)("hide_columns"));te(this,"columnAliases");"columnAliases"in e?this.columnAliases=e.columnAliases:this.columnAliases=e.spec}isValid(){return this.columnAliases.length>0}toJson(){return{type:this.type,spec:this.columnAliases}}isColumnUsedInTransformation(e){return this.columnAliases.includes(e)}}class WM{constructor(e){te(this,"type","order");te(this,"name",ve(ce)("sort"));te(this,"columnIdentifier");te(this,"sortDirection");te(this,"isValid",()=>!0);"columnIdentifier"in e?(this.columnIdentifier=e.columnIdentifier,this.sortDirection=e.sortDirection):(this.columnIdentifier=e.spec[0].field,this.sortDirection=e.spec[0].direction==="desc"?"DESCENDING":"ASCENDING")}toJson(){return{type:this.type,spec:[{field:this.columnIdentifier,direction:this.sortDirection==="DESCENDING"?"desc":"asc"}]}}isColumnUsedInTransformation(e){return this.columnIdentifier===e}}class Zp{constructor(e){te(this,"type","summarize");te(this,"name",ve(ce)("summarization"));te(this,"columnIdentifier");te(this,"preprocFunctionIdentifier");te(this,"groups");te(this,"aggregations");te(this,"isValid",()=>!0);var n,t;if("columnIdentifier"in e)this.columnIdentifier=e.columnIdentifier,this.preprocFunctionIdentifier=e.preprocFunctionIdentifier,this.aggregations=e.aggregations,this.groups=e.groups;else{const l=e.spec.base_grouping_column,s=(n=e.spec.aggregation_expressions)!=null?n:[],o=(t=e.spec.grouping_expressions)!=null?t:[];this.columnIdentifier=l,this.aggregations=new Ct(s.map(u=>[u.input_alias,{inputAlias:u.input_alias,outputAlias:u.output_alias,function:u.function}]));let i=new Ct(o.map(u=>[u.input_alias,{inputAlias:u.input_alias,outputAlias:u.output_alias,preprocFunction:u.preproc}]));const a=i.get(l);a&&(this.preprocFunctionIdentifier=a.preprocFunction,i=i.without(l)),this.groups=i}}getBaseColumnOutputAlias(){return`${this.columnIdentifier}_grouped`}getOutputColumnAliases(){return[this.getBaseColumnOutputAlias(),...[...this.groups.values()].map(e=>e.outputAlias),...[...this.aggregations.values()].map(e=>e.outputAlias)]}toJson(){const e=[...this.aggregations.entries()],n=[...this.groups.entries()],t={base_grouping_column:this.columnIdentifier,grouping_expressions:[{input_alias:this.columnIdentifier,output_alias:this.getBaseColumnOutputAlias(),preproc:this.preprocFunctionIdentifier},...n.map(([l,s])=>({input_alias:l,output_alias:s.outputAlias,preproc:s.preprocFunction}))],aggregation_expressions:e.map(([l,s])=>({input_alias:l,output_alias:s.outputAlias,function:s.function}))};return{type:"summarize",spec:t}}isColumnUsedInTransformation(e){return this.getOutputColumnAliases().includes(e)}}function jM(r){switch(r.type){case"filter":return new qM(r);case"summarize":return new Zp(r);case"hide":return new UM(r);case"order":return new WM(r);default:return Rt(r)}}function s7e(r){return r.base_table_oid===void 0?{isValid:!1,isRunnable:!1}:{isValid:r.transformationModels.every(n=>n.isValid()),isRunnable:!0}}class $r{constructor(e){te(this,"database_id");te(this,"schema_oid");te(this,"base_table_oid");te(this,"id");te(this,"name");te(this,"description");te(this,"initial_columns");te(this,"transformationModels");te(this,"display_names");te(this,"display_options");te(this,"isValid");te(this,"isRunnable");var l,s,o,i;this.database_id=e.database_id,this.schema_oid=e.schema_oid,this.base_table_oid=e.base_table_oid,this.id=e.id,this.name=e.name,this.description=e.description,this.initial_columns=(l=e.initial_columns)!=null?l:[];let n;e&&"transformationModels"in e?n=[...e.transformationModels]:n=(o=(s=e.transformations)==null?void 0:s.map(jM))!=null?o:[],this.transformationModels=n,this.display_names=(i=e.display_names)!=null?i:{},this.display_options=Xye(e.display_options);const t=s7e({base_table_oid:e.base_table_oid,transformationModels:n});this.isValid=t.isValid,this.isRunnable=t.isRunnable}withBaseTable(e){return{model:new $r({database_id:this.database_id,schema_oid:this.schema_oid,base_table_oid:e,id:this.id,name:this.name}),type:"baseTable"}}withId(e){return{model:new $r({...this,id:e}),type:"id"}}withName(e){return{model:new $r({...this,name:e}),type:"name"}}withDescription(e){return{model:new $r({...this,description:e}),type:"name"}}withInitialColumn(e){const n=[...this.initial_columns,e];return{model:new $r({...this,initial_columns:n,display_names:{...this.display_names,[e.alias]:e.alias}}),type:"initialColumnsArray"}}withoutInitialColumns(e){const n=this.initial_columns.filter(l=>!e.includes(l.alias));return{model:new $r({...this,initial_columns:n}),type:"initialColumnsArray"}}withoutInitialColumn(e){return this.withoutInitialColumns([e])}withDisplayNameForColumn(e,n){const t={...this.display_names,[e]:n};return{model:new $r({...this,display_names:t}),type:"initialColumnName"}}withColumnDisplayOptionsEntry(e){var l;const n={...this.display_options,columnDisplayOptions:{...(l=this.display_options.columnDisplayOptions)!=null?l:{},[e.column.index]:{column:e.column,displayOptions:e.displayOptions}}};return{model:new $r({...this,display_options:n}),type:"displayOptions"}}withAllDisplayOptionsReplaced(e){return{model:new $r({...this,display_options:e}),type:"displayOptions"}}addTransform(e){return{model:new $r({...this,transformationModels:[...this.transformationModels,e]}),type:"transformations"}}addFilterTransform(e){return this.addTransform(e)}addSummarizationTransform(e){if(this.hasSummarizationTransform())throw new Error("QueryModel currently allows only a single summarization transformation");return this.addTransform(e)}addHideTransform(e){return this.addTransform(e)}addSortTransform(e){return this.addTransform(e)}removeLastTransform(){return{model:new $r({...this,transformationModels:this.transformationModels.slice(0,-1)}),type:"transformations"}}updateTransform(e,n){const t=[...this.transformationModels];return t[e]=n,{model:new $r({...this,transformationModels:t}),type:"transformations"}}getInitialColumnsAndTransformsUtilizingThemByColumnIds(e){const n=this.initial_columns.filter(o=>e.includes(o.attnum)),t=n.map(o=>o.alias),l=[];let s=!1;return this.transformationModels.forEach((o,i)=>{if(s){l.push({index:i,transform:o});return}if(o.type==="summarize"){s=!0,l.push({index:i,transform:o});return}t.some(a=>o.isColumnUsedInTransformation(a))&&l.push({index:i,transform:o})}),{initialColumnsUsingColumnIds:n,transformsUsingColumnIds:l}}withoutColumnsById(e){const n=this.initial_columns.filter(a=>!e.includes(a.attnum));let t=this.transformationModels;const l=this.transformationModels.findIndex(a=>a.type==="summarize");l>-1&&(t=t.slice(0,l));const s=this.initial_columns.filter(a=>e.includes(a.attnum)).map(a=>a.alias),o=t.filter(a=>!s.some(u=>a.isColumnUsedInTransformation(u)));return{model:new $r({...this,initial_columns:n,transformationModels:o}),type:"initialColumnsAndTransformations"}}getColumn(e){return this.initial_columns.find(n=>n.alias===e)}getSummarizationTransforms(){return this.transformationModels.filter(e=>e.type==="summarize")}isColumnUsedInTransformations(e){return this.transformationModels.some(n=>n.isColumnUsedInTransformation(e))}areColumnsUsedInTransformations(e){return e.some(n=>this.isColumnUsedInTransformations(n))}getOutputColumnAliases(){const e=this.getSummarizationTransforms();return e.length>0?e[e.length-1].getOutputColumnAliases():this.initial_columns.map(n=>n.alias)}getAllSortedColumns(){return this.transformationModels.filter(e=>e.type==="order").map(e=>e.columnIdentifier)}getAllSortableColumns(){const e=new Set(this.getAllSortedColumns());return this.getOutputColumnAliases().filter(n=>!e.has(n))}toAnonymousExploration(){if(this.base_table_oid===void 0)throw new Error("Cannot formulate run request since base_table is undefined");const e=this.isValid?this.transformationModels:this.transformationModels.filter(n=>n.isValid());return{database_id:this.database_id,schema_oid:this.schema_oid,base_table_oid:this.base_table_oid,initial_columns:this.initial_columns,transformations:e.map(n=>n.toJson()),display_names:this.display_names,display_options:this.display_options}}getColumnCount(e){const n=JSON.stringify(e.jpPath);return this.initial_columns.filter(t=>{const l=JSON.stringify(t.join_path);return t.attnum===e.id&&l===n}).length}toMaybeSavedExploration(){return{...this.toAnonymousExploration(),id:this.id,name:this.name,description:this.description}}isSaved(){return!!this.id}hasSummarizationTransform(){return this.transformationModels.some(e=>e.type==="summarize")}}class cu extends Uye{constructor({query:n,onSave:t}){super({query:n});te(this,"cacheManagers",{inputColumns:new VM(5)});te(this,"state",Ue({}));te(this,"inputColumns",Ue({baseTableColumns:new Map,tablesThatReferenceBaseTable:[],inputColumnInformationMap:new Map}));te(this,"confirmationNeededForMultipleResults",Ue(!0));te(this,"queryHasUnsavedChanges",Ue(!1));te(this,"tableStructurePromise");te(this,"querySavePromise");te(this,"onSaveCallback");this.onSaveCallback=t!=null?t:()=>{},this.calculateInputColumnTree()}async calculateInputColumnTree(){var l;const n=ve(this.query).base_table_oid;if(!n){this.inputColumns.set({baseTableColumns:new Map,tablesThatReferenceBaseTable:[],inputColumnInformationMap:new Map}),this.state.update(s=>({...s,inputColumnsFetchState:{state:"success"}}));return}const t=this.cacheManagers.inputColumns.get(n);if(t){this.inputColumns.set({...t}),this.state.update(s=>({...s,inputColumnsFetchState:{state:"success"}})),this.speculateColumns();return}try{const s=ve(jn.currentDatabase);if(!s)throw new Error("Current database not set");this.state.update(i=>({...i,inputColumnsFetchState:{state:"processing"}})),(l=this.tableStructurePromise)==null||l.cancel(),this.tableStructurePromise=Pye({database:s,baseTableId:n});const o=zye(await this.tableStructurePromise);this.cacheManagers.inputColumns.set(n,o),this.inputColumns.set(o),this.speculateColumns(),this.state.update(i=>({...i,inputColumnsFetchState:{state:"success"}}))}catch(s){const o=s instanceof Error?s.message:ve(ce)("error_fetching_joinable_links");this.state.update(i=>({...i,inputColumnsFetchState:{state:"failure",errors:[o]}}))}}speculateColumns(){super.speculateProcessedColumns(ve(this.inputColumns).inputColumnInformationMap)}async updateQuery(n){var t;return this.query.set(n),this.queryHasUnsavedChanges.set(!0),((t=ve(this.state).inputColumnsFetchState)==null?void 0:t.state)!=="success"&&await this.calculateInputColumnTree(),{isValid:n.isValid,isRunnable:n.isRunnable}}reconcileQueryWithServerResponse(n){const{transformations:t}=n.query;if(!t)return;const l=t.map(jM),s=this.getQueryModel();let o=s,i=!1;s.transformationModels.forEach((a,u)=>{const f=l[u];if(a.type==="summarize"&&f&&f.type==="summarize"){const c=f.groups.get(f.columnIdentifier);c&&(f.groups=f.groups.without(f.columnIdentifier),f.preprocFunctionIdentifier=c.preprocFunction),(f.aggregations.size!==a.aggregations.size||f.groups.size!==a.groups.size)&&(i=!0,o=o.updateTransform(u,f).model)}}),i&&this.query.set(o)}async reconcileDisplayOptions(n){const t=xye(this.getQueryModel().display_options,n);if(!t.hasChanged)return;const l=t.newValue,s=!ve(this.queryHasUnsavedChanges);await this.update(o=>o.withAllDisplayOptionsReplaced(l)),s&&await this.save()}async afterRun(n){this.reconcileQueryWithServerResponse(n),await this.reconcileDisplayOptions(n)}async update(n){var o;this.state.update(i=>({...i,saveState:void 0}));const{model:t,type:l}=n(this.getQueryModel()),{isRunnable:s}=await this.updateQuery(t);if(s)switch(l){case"baseTable":this.resetResults(),this.confirmationNeededForMultipleResults.set(!0),this.queryHasUnsavedChanges.set(!1),await this.calculateInputColumnTree();break;case"initialColumnName":this.speculateColumns();break;case"initialColumnsArray":(o=t.initial_columns)!=null&&o.length?(this.speculateColumns(),await this.run()):this.resetResults();break;case"transformations":case"initialColumnsAndTransformations":await this.resetPaginationAndRun();break}}async save(){var t;const n=this.getQueryModel().toMaybeSavedExploration();this.state.update(l=>({...l,saveState:{state:"processing"}}));try{if((t=this.querySavePromise)==null||t.cancel(),QX(n))this.querySavePromise=Ip(n);else if(oI(n))this.querySavePromise=Wie(n);else throw new Error(ve(ce)("error_saving_query"));const l=await this.querySavePromise;return this.query.update(s=>s.withId(l.id).model),await this.onSaveCallback(l),this.state.update(s=>({...s,saveState:{state:"success"}})),this.queryHasUnsavedChanges.set(!1),this.getQueryModel()}catch(l){const s=l instanceof Error?[l.message]:[ve(ce)("error_saving_query")];throw this.state.update(o=>({...o,saveState:{state:"failure",errors:s}})),l}}async setColumnDisplayOptions(n,t){const l=[...ve(this.processedColumns).values()][n];!l||await this.update(s=>s.withColumnDisplayOptionsEntry({column:zM(l.column,n),displayOptions:t}))}getAutoSummarizationTransformModel(){const{baseTableColumns:n}=ve(this.inputColumns),t=this.getQueryModel().initial_columns.find(l=>n.has(l.attnum));if(t)return new Zp({type:"summarize",spec:{base_grouping_column:t.alias}})}destroy(){var n,t;super.destroy(),(n=this.tableStructurePromise)==null||n.cancel(),(t=this.querySavePromise)==null||t.cancel()}}function Mk(r){var f;let e,n,t=r[2]("aggregated_from")+"",l,s,o,i,a,u;return a=new Gn({props:{isLoading:!r[0].name,column:{...r[0],name:(f=r[0].name)!=null?f:""}}}),{c(){e=E("div"),n=E("div"),l=L(t),s=N(),o=E("div"),i=E("span"),C(a.$$.fragment),I(n,"class","label svelte-sofjsa"),I(i,"class","tag svelte-sofjsa"),I(o,"class","column-info svelte-sofjsa"),I(e,"data-identifier","aggregation-source"),I(e,"class","svelte-sofjsa")},m(c,m){v(c,e,m),R(e,n),R(n,l),R(e,s),R(e,o),R(o,i),k(a,i,null),u=!0},p(c,m){var g;(!u||m&4)&&t!==(t=c[2]("aggregated_from")+"")&&z(l,t);const d={};m&1&&(d.isLoading=!c[0].name),m&1&&(d.column={...c[0],name:(g=c[0].name)!=null?g:""}),a.$set(d)},i(c){u||(_(a.$$.fragment,c),u=!0)},o(c){p(a.$$.fragment,c),u=!1},d(c){c&&$(e),y(a)}}}function Rk(r){let e,n,t=r[2]("source_column")+"",l,s,o,i,a;return i=new ot({props:{text:r[2]("column_from_table"),$$slots:{default:[u7e,({slotName:u,translatedArg:f})=>({5:u,6:f}),({slotName:u,translatedArg:f})=>(u?32:0)|(f?64:0)]},$$scope:{ctx:r}}}),{c(){e=E("div"),n=E("div"),l=L(t),s=N(),o=E("div"),C(i.$$.fragment),I(n,"class","label svelte-sofjsa"),I(o,"class","column-info svelte-sofjsa"),I(e,"data-identifier","column-source"),I(e,"class","svelte-sofjsa")},m(u,f){v(u,e,f),R(e,n),R(n,l),R(e,s),R(e,o),k(i,o,null),a=!0},p(u,f){(!a||f&4)&&t!==(t=u[2]("source_column")+"")&&z(l,t);const c={};f&4&&(c.text=u[2]("column_from_table")),f&226&&(c.$$scope={dirty:f,ctx:u}),i.$set(c)},i(u){a||(_(i.$$.fragment,u),a=!0)},o(u){p(i.$$.fragment,u),a=!1},d(u){u&&$(e),y(i)}}}function o7e(r){var l;let e,n,t;return n=new rn({props:{isLoading:!r[1].table.name,table:{name:(l=r[1].table.name)!=null?l:""}}}),{c(){e=E("span"),C(n.$$.fragment),I(e,"class","tag svelte-sofjsa")},m(s,o){v(s,e,o),k(n,e,null),t=!0},p(s,o){var a;const i={};o&2&&(i.isLoading=!s[1].table.name),o&2&&(i.table={name:(a=s[1].table.name)!=null?a:""}),n.$set(i)},i(s){t||(_(n.$$.fragment,s),t=!0)},o(s){p(n.$$.fragment,s),t=!1},d(s){s&&$(e),y(n)}}}function i7e(r){let e,n=r[6]+"",t;return{c(){e=E("span"),t=L(n),I(e,"class","from svelte-sofjsa")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&64&&n!==(n=l[6]+"")&&z(t,n)},i:H,o:H,d(l){l&&$(e)}}}function a7e(r){var l;let e,n,t;return n=new Gn({props:{isLoading:!r[1].column.name,column:{...r[1].column,name:(l=r[1].column.name)!=null?l:""}}}),{c(){e=E("span"),C(n.$$.fragment),I(e,"class","tag svelte-sofjsa")},m(s,o){v(s,e,o),k(n,e,null),t=!0},p(s,o){var a;const i={};o&2&&(i.isLoading=!s[1].column.name),o&2&&(i.column={...s[1].column,name:(a=s[1].column.name)!=null?a:""}),n.$set(i)},i(s){t||(_(n.$$.fragment,s),t=!0)},o(s){p(n.$$.fragment,s),t=!1},d(s){s&&$(e),y(n)}}}function u7e(r){let e,n,t,l;const s=[a7e,i7e,o7e],o=[];function i(a,u){return a[5]==="columnName"?0:a[5]==="fromSlot"&&a[6]?1:a[5]==="tableName"?2:-1}return~(e=i(r))&&(n=o[e]=s[e](r)),{c(){n&&n.c(),t=ae()},m(a,u){~e&&o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?~e&&o[e].p(a,u):(n&&(U(),p(o[f],1,1,()=>{o[f]=null}),W()),~e?(n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t)):n=null)},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){~e&&o[e].d(a),a&&$(t)}}}function f7e(r){let e,n,t,l=r[0]&&Mk(r),s=r[1]&&Rk(r);return{c(){l&&l.c(),e=N(),s&&s.c(),n=ae()},m(o,i){l&&l.m(o,i),v(o,e,i),s&&s.m(o,i),v(o,n,i),t=!0},p(o,[i]){o[0]?l?(l.p(o,i),i&1&&_(l,1)):(l=Mk(o),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(U(),p(l,1,1,()=>{l=null}),W()),o[1]?s?(s.p(o,i),i&2&&_(s,1)):(s=Rk(o),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(U(),p(s,1,1,()=>{s=null}),W())},i(o){t||(_(l),_(s),t=!0)},o(o){p(l),p(s),t=!1},d(o){l&&l.d(o),o&&$(e),s&&s.d(o),o&&$(n)}}}function YM(r,e){if(r.source.is_initial_column)return{column:{...r.column,name:r.source.input_column_name},table:{name:r.source.input_table_name}};const t=r.source.input_alias,l=e.get(t);if(l)return YM(l,e)}function c7e(r,e,n){let t,l,s;ne(r,ce,a=>n(2,s=a));let{columnInformation:o}=e,{columnsMetaData:i}=e;return r.$$set=a=>{"columnInformation"in a&&n(3,o=a.columnInformation),"columnsMetaData"in a&&n(4,i=a.columnsMetaData)},r.$$.update=()=>{r.$$.dirty&24&&n(1,t=YM(o,i)),r.$$.dirty&24&&n(0,l=(()=>{if(!o.source.is_initial_column){const u=o.source.input_alias,f=i.get(u);if(f)return{...f.column,name:f.column.display_name}}})())},[l,t,s,o,i]}class m7e extends Q{constructor(e){super(),Z(this,e,c7e,f7e,J,{columnInformation:3,columnsMetaData:4})}}function d7e(r){let e,n,t,l=r[5]("remove_columns_from_query",{values:{count:r[0].length}})+"",s,o;const i=[Mt];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return e=new Ne({props:a}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l)},m(u,f){k(e,u,f),v(u,n,f),v(u,t,f),R(t,s),o=!0},p(u,f){const c=f&0?de(i,[_e(Mt)]):{};e.$set(c),(!o||f&33)&&l!==(l=u[5]("remove_columns_from_query",{values:{count:u[0].length}})+"")&&z(s,l)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){p(e.$$.fragment,u),o=!1},d(u){y(e,u),u&&$(n),u&&$(t)}}}function _7e(r){let e,n;return e=new st({props:{slot:"trigger",appearance:"action",disabled:r[2],$$slots:{default:[d7e]},$$scope:{ctx:r}}}),e.$on("click",r[6]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&4&&(s.disabled=t[2]),l&4129&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function p7e(r){let e=r[5]("multiple_column_delete_error_used_in_transformations")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&32&&e!==(e=t[5]("multiple_column_delete_error_used_in_transformations")+"")&&z(n,e)},d(t){t&&$(n)}}}function g7e(r){let e=r[5]("multiple_column_delete_error_last_base_column")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&32&&e!==(e=t[5]("multiple_column_delete_error_last_base_column")+"")&&z(n,e)},d(t){t&&$(n)}}}function h7e(r){let e;function n(s,o){return s[1]?$7e:b7e}let t=n(r),l=t(r);return{c(){l.c(),e=ae()},m(s,o){l.m(s,o),v(s,e,o)},p(s,o){t===(t=n(s))&&l?l.p(s,o):(l.d(1),l=t(s),l&&(l.c(),l.m(e.parentNode,e)))},d(s){l.d(s),s&&$(e)}}}function b7e(r){let e=r[5]("single_column_delete_error_used_in_transformations")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&32&&e!==(e=t[5]("single_column_delete_error_used_in_transformations")+"")&&z(n,e)},d(t){t&&$(n)}}}function $7e(r){let e=r[5]("single_column_delete_error_last_base_column")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&32&&e!==(e=t[5]("single_column_delete_error_last_base_column")+"")&&z(n,e)},d(t){t&&$(n)}}}function v7e(r){let e;function n(s,o){return s[0].length===1?h7e:s[1]?g7e:p7e}let t=n(r),l=t(r);return{c(){e=E("div"),l.c(),I(e,"slot","content")},m(s,o){v(s,e,o),l.m(e,null)},p(s,o){t===(t=n(s))&&l?l.p(s,o):(l.d(1),l=t(s),l&&(l.c(),l.m(e,null)))},d(s){s&&$(e),l.d()}}}function w7e(r){let e,n,t;return n=new On({props:{enabled:r[2],$$slots:{content:[v7e],trigger:[_7e]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","delete-column svelte-1ighsr7")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,[s]){const o={};s&4&&(o.enabled=l[2]),s&4135&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function k7e(r,e,n){let t,l,s,o,i,a,u,f=H,c=()=>(f(),f=le(t,T=>n(10,u=T)),t),m,d=H,g=()=>(d(),d=le(l,T=>n(11,m=T)),l),h;ne(r,ce,T=>n(5,h=T)),r.$$.on_destroy.push(()=>f()),r.$$.on_destroy.push(()=>d());let{selectedColumns:b}=e,{queryManager:w}=e;function S(){w.update(T=>T.withoutInitialColumns(s))}return r.$$set=T=>{"selectedColumns"in T&&n(7,b=T.selectedColumns),"queryManager"in T&&n(8,w=T.queryManager)},r.$$.update=()=>{r.$$.dirty&256&&c(n(4,{query:t,columnsMetaData:l}=w,t,g(n(3,l)))),r.$$.dirty&128&&n(0,s=b.map(T=>T.column.alias)),r.$$.dirty&3073&&n(1,o=(()=>{if(u.hasSummarizationTransform())return!1;const T=u.initial_columns.filter(A=>!s.includes(A.alias));return!(T.length===0||T.some(A=>{var O;const D=(O=m.get(A.alias))==null?void 0:O.source;return(D==null?void 0:D.is_initial_column)&&D.input_table_id===u.base_table_oid}))})()),r.$$.dirty&1025&&n(9,i=u.areColumnsUsedInTransformations(s)),r.$$.dirty&514&&n(2,a=o||i)},[s,o,a,l,t,h,S,b,w,i,u,m]}class y7e extends Q{constructor(e){super(),Z(this,e,k7e,w7e,J,{selectedColumns:7,queryManager:8})}}function C7e(r){let e,n;return e=new An({props:{title:r[9]("properties"),$$slots:{default:[I7e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&512&&(s.title=t[9]("properties")),l&262685&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function S7e(r){let e,n=r[9]("multiple_columns_selected",{values:{count:r[1].length}})+"",t;return{c(){e=E("div"),t=L(n),I(e,"class","section-content")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&514&&n!==(n=l[9]("multiple_columns_selected",{values:{count:l[1].length}})+"")&&z(t,n)},i:H,o:H,d(l){l&&$(e)}}}function T7e(r){let e,n;return e=new hn({props:{value:r[0].column.display_name,disabled:!r[3]}}),e.$on("input",r[11]),e.$on("change",r[10]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.value=t[0].column.display_name),l&8&&(s.disabled=!t[3]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Dk(r){let e,n;return e=new m7e({props:{columnInformation:r[4],columnsMetaData:r[2]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.columnInformation=t[4]),l&4&&(s.columnsMetaData=t[2]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function I7e(r){let e,n,t,l;e=new Nt({props:{label:r[9]("name"),layout:"stacked",$$slots:{default:[T7e]},$$scope:{ctx:r}}});let s=r[4]&&Dk(r);return{c(){C(e.$$.fragment),n=N(),s&&s.c(),t=ae()},m(o,i){k(e,o,i),v(o,n,i),s&&s.m(o,i),v(o,t,i),l=!0},p(o,i){const a={};i&512&&(a.label=o[9]("name")),i&262153&&(a.$$scope={dirty:i,ctx:o}),e.$set(a),o[4]?s?(s.p(o,i),i&16&&_(s,1)):(s=Dk(o),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(U(),p(s,1,1,()=>{s=null}),W())},i(o){l||(_(e.$$.fragment,o),_(s),l=!0)},o(o){p(e.$$.fragment,o),p(s),l=!1},d(o){y(e,o),o&&$(n),s&&s.d(o),o&&$(t)}}}function Ak(r){let e,n;return e=new An({props:{title:r[9]("actions"),$$slots:{default:[E7e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&512&&(s.title=t[9]("actions")),l&262154&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function E7e(r){let e,n;return e=new y7e({props:{selectedColumns:r[1],queryManager:r[3]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.selectedColumns=t[1]),l&8&&(s.queryManager=t[3]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Ok(r){let e,n=r[9]("select_columns_view_properties")+"",t;return{c(){e=E("div"),t=L(n),I(e,"class","section-content no-column-selected svelte-5vr5vb")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&512&&n!==(n=l[9]("select_columns_view_properties")+"")&&z(t,n)},d(l){l&&$(e)}}}function M7e(r){let e,n,t,l,s,o;const i=[S7e,C7e],a=[];function u(m,d){return m[5]?0:m[0]?1:-1}~(e=u(r))&&(n=a[e]=i[e](r));let f=r[1].length>0&&r[3]&&Ak(r),c=!r[0]&&Ok(r);return{c(){n&&n.c(),t=N(),f&&f.c(),l=N(),c&&c.c(),s=ae()},m(m,d){~e&&a[e].m(m,d),v(m,t,d),f&&f.m(m,d),v(m,l,d),c&&c.m(m,d),v(m,s,d),o=!0},p(m,[d]){let g=e;e=u(m),e===g?~e&&a[e].p(m,d):(n&&(U(),p(a[g],1,1,()=>{a[g]=null}),W()),~e?(n=a[e],n?n.p(m,d):(n=a[e]=i[e](m),n.c()),_(n,1),n.m(t.parentNode,t)):n=null),m[1].length>0&&m[3]?f?(f.p(m,d),d&10&&_(f,1)):(f=Ak(m),f.c(),_(f,1),f.m(l.parentNode,l)):f&&(U(),p(f,1,1,()=>{f=null}),W()),m[0]?c&&(c.d(1),c=null):c?c.p(m,d):(c=Ok(m),c.c(),c.m(s.parentNode,s))},i(m){o||(_(n),_(f),o=!0)},o(m){p(n),p(f),o=!1},d(m){~e&&a[e].d(m),m&&$(t),f&&f.d(m),m&&$(l),c&&c.d(m),m&&$(s)}}}function R7e(r,e,n){let t,l,s,o,i,a,u,f,c,m,d=H,g=()=>(d(),d=le(s,j=>n(2,m=j)),s),h,b=H,w=()=>(b(),b=le(o,j=>n(14,h=j)),o),S,T=H,M=()=>(T(),T=le(l,j=>n(15,S=j)),l),A;ne(r,ce,j=>n(9,A=j)),r.$$.on_destroy.push(()=>d()),r.$$.on_destroy.push(()=>b()),r.$$.on_destroy.push(()=>T());let{queryHandler:D}=e,O;us(()=>{window.clearTimeout(O)});function F(j){if(window.clearTimeout(O),t&&f&&j!==f.column.display_name){const{alias:V}=f.column;t.update(q=>q.withDisplayNameForColumn(V,j))}}function P(j){const V=j.target;F(V.value)}function B(j){window.clearTimeout(O);const V=j.target;O=window.setTimeout(()=>{F(V.value)},500)}return r.$$set=j=>{"queryHandler"in j&&n(12,D=j.queryHandler)},r.$$.update=()=>{r.$$.dirty&4096&&n(3,t=D instanceof cu?D:void 0),r.$$.dirty&4096&&M(n(8,{selection:l,columnsMetaData:s,processedColumns:o}=D,l,g(n(7,s)),w(n(6,o)))),r.$$.dirty&32768&&n(13,{columnIds:i}=S,i),r.$$.dirty&24576&&n(1,a=Array.from(jr(i,Ln(j=>h.get(j)),sl(At)))),r.$$.dirty&2&&n(5,u=a.length>1),r.$$.dirty&2&&n(0,f=a.length>0?a[0]:void 0),r.$$.dirty&5&&n(4,c=f?m.get(f.column.alias):void 0)},[f,a,m,t,c,u,o,s,l,A,P,B,D,i,h,S]}class D7e extends Q{constructor(e){super(),Z(this,e,R7e,M7e,J,{queryHandler:12})}}function A7e(r){let e,n;const t=r[1].default,l=ke(t,r,r[0],null);return{c(){e=E("div"),l&&l.c(),I(e,"class","form svelte-1enxz59")},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,[o]){l&&l.p&&(!n||o&1)&&Ce(l,t,s,s[0],n?ye(t,s[0],o,null):Se(s[0]),null)},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function O7e(r,e,n){let{$$slots:t={},$$scope:l}=e;return r.$$set=s=>{"$$scope"in s&&n(0,l=s.$$scope)},[l,t]}class GM extends Q{constructor(e){super(),Z(this,e,O7e,A7e,J,{})}}function Fk(r,e,n){const t=r.slice();return t[3]=e[n],t}function Nk(r){let e;function n(s,o){return s[0].length===1?N7e:F7e}let t=n(r),l=t(r);return{c(){e=E("div"),l.c(),I(e,"class","errors svelte-179vraj")},m(s,o){v(s,e,o),l.m(e,null)},p(s,o){t===(t=n(s))&&l?l.p(s,o):(l.d(1),l=t(s),l&&(l.c(),l.m(e,null)))},d(s){s&&$(e),l.d()}}}function F7e(r){let e,n=r[0],t=[];for(let l=0;l<n.length;l+=1)t[l]=Pk(Fk(r,n,l));return{c(){e=E("ul");for(let l=0;l<t.length;l+=1)t[l].c();I(e,"class","svelte-179vraj")},m(l,s){v(l,e,s);for(let o=0;o<t.length;o+=1)t[o].m(e,null)},p(l,s){if(s&1){n=l[0];let o;for(o=0;o<n.length;o+=1){const i=Fk(l,n,o);t[o]?t[o].p(i,s):(t[o]=Pk(i),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(l){l&&$(e),Hn(t,l)}}}function N7e(r){let e=r[0][0]+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1&&e!==(e=t[0][0]+"")&&z(n,e)},d(t){t&&$(n)}}}function Pk(r){let e,n=r[3]+"",t;return{c(){e=E("li"),t=L(n)},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&1&&n!==(n=l[3]+"")&&z(t,n)},d(l){l&&$(e)}}}function P7e(r){let e,n,t;const l=r[2].default,s=ke(l,r,r[1],null);let o=r[0].length&&Nk(r);return{c(){e=E("div"),s&&s.c(),n=N(),o&&o.c(),I(e,"class","form-field")},m(i,a){v(i,e,a),s&&s.m(e,null),R(e,n),o&&o.m(e,null),t=!0},p(i,[a]){s&&s.p&&(!t||a&2)&&Ce(s,l,i,i[1],t?ye(l,i[1],a,null):Se(i[1]),null),i[0].length?o?o.p(i,a):(o=Nk(i),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i(i){t||(_(s,i),t=!0)},o(i){p(s,i),t=!1},d(i){i&&$(e),s&&s.d(i),o&&o.d()}}}function L7e(r,e,n){let{$$slots:t={},$$scope:l}=e,{errors:s=[]}=e;return r.$$set=o=>{"errors"in o&&n(0,s=o.errors),"$$scope"in o&&n(1,l=o.$$scope)},[s,l,t]}class pi extends Q{constructor(e){super(),Z(this,e,L7e,P7e,J,{errors:0})}}function H7e(r){let e,n;return e=new hn({props:{value:r[0],"aria-label":r[5]("name")}}),e.$on("change",r[7]),e.$on("input",r[6]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.value=t[0]),l&32&&(s["aria-label"]=t[5]("name")),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function V7e(r){let e,n;return e=new Nt({props:{label:r[5]("name"),layout:"stacked",$$slots:{default:[H7e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&32&&(s.label=t[5]("name")),l&65569&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function z7e(r){let e,n;return e=new Zl({props:{value:r[1],"aria-label":r[5]("description")}}),e.$on("change",r[8]),e.$on("input",r[6]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.value=t[1]),l&32&&(s["aria-label"]=t[5]("description")),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function B7e(r){let e,n;return e=new Nt({props:{label:r[5]("description"),layout:"stacked",$$slots:{default:[z7e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&32&&(s.label=t[5]("description")),l&65570&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Lk(r){let e,n;return e=new pi({props:{$$slots:{default:[q7e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&65568&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function q7e(r){let e,n;return e=new Ol({props:{cancelButton:{icon:void 0},proceedButton:{icon:void 0,label:r[5]("save")},onCancel:r[9],onProceed:r[10]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&32&&(s.proceedButton={icon:void 0,label:t[5]("save")}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function U7e(r){let e,n,t,l,s,o;e=new pi({props:{$$slots:{default:[V7e]},$$scope:{ctx:r}}}),t=new pi({props:{$$slots:{default:[B7e]},$$scope:{ctx:r}}});let i=!r[4]&&r[2]&&Lk(r);return{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),i&&i.c(),s=ae()},m(a,u){k(e,a,u),v(a,n,u),k(t,a,u),v(a,l,u),i&&i.m(a,u),v(a,s,u),o=!0},p(a,u){const f={};u&65569&&(f.$$scope={dirty:u,ctx:a}),e.$set(f);const c={};u&65570&&(c.$$scope={dirty:u,ctx:a}),t.$set(c),!a[4]&&a[2]?i?(i.p(a,u),u&20&&_(i,1)):(i=Lk(a),i.c(),_(i,1),i.m(s.parentNode,s)):i&&(U(),p(i,1,1,()=>{i=null}),W())},i(a){o||(_(e.$$.fragment,a),_(t.$$.fragment,a),_(i),o=!0)},o(a){p(e.$$.fragment,a),p(t.$$.fragment,a),p(i),o=!1},d(a){y(e,a),a&&$(n),y(t,a),a&&$(l),i&&i.d(a),a&&$(s)}}}function W7e(r){let e,n;return e=new GM({props:{$$slots:{default:[U7e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&65591&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function j7e(r){let e,n,t,l=r[5]("delete_exploration")+"",s,o;const i=[Mt];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return e=new Ne({props:a}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l)},m(u,f){k(e,u,f),v(u,n,f),v(u,t,f),R(t,s),o=!0},p(u,f){const c=f&0?de(i,[_e(Mt)]):{};e.$set(c),(!o||f&32)&&l!==(l=u[5]("delete_exploration")+"")&&z(s,l)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){p(e.$$.fragment,u),o=!1},d(u){y(e,u),u&&$(n),u&&$(t)}}}function Y7e(r){let e,n;return e=new st({props:{appearance:"danger",$$slots:{default:[j7e]},$$scope:{ctx:r}}}),e.$on("click",r[11]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&65568&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function G7e(r){let e,n,t,l;return e=new An({props:{title:r[5]("properties"),$$slots:{default:[W7e]},$$scope:{ctx:r}}}),t=new An({props:{title:r[5]("actions"),$$slots:{default:[Y7e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(s,o){k(e,s,o),v(s,n,o),k(t,s,o),l=!0},p(s,[o]){const i={};o&32&&(i.title=s[5]("properties")),o&65591&&(i.$$scope={dirty:o,ctx:s}),e.$set(i);const a={};o&32&&(a.title=s[5]("actions")),o&65568&&(a.$$scope={dirty:o,ctx:s}),t.$set(a)},i(s){l||(_(e.$$.fragment,s),_(t.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),l=!1},d(s){y(e,s),s&&$(n),y(t,s)}}}function K7e(r,e,n){let t,l,s,o,i=H,a=()=>(i(),i=le(t,A=>n(13,o=A)),t),u;ne(r,ce,A=>n(5,s=A)),ne(r,iu,A=>n(14,u=A)),r.$$.on_destroy.push(()=>i());const f=Et();let{queryHandler:c}=e,{name:m}=e,{description:d}=e,g=!1;function h(){n(2,g=!0)}function b(A){var O;const D=A.target;D.value.trim()===""&&(D.value=(O=o.name)!=null?O:Ms("New_Exploration",new Set([...u.data.values()].map(F=>F.name)))),n(0,m=D.value),"update"in c&&c.update(F=>F.withName(D.value))}function w(A){const D=A.target;n(1,d=D.value.trim()),"update"in c&&c.update(O=>O.withDescription(d!=null?d:""))}function S(){n(0,m=o.name),n(1,d=o.description),n(2,g=!1)}async function T(){try{const A=o.withName(m).model.withDescription(d).model;await Ip(A.toMaybeSavedExploration()),t.set(A)}catch(A){const D=A instanceof Error?A.message:s("unable_to_save_exploration");$t.error(D)}}function M(){if(o.id!==void 0){const A=o.id;Ll({identifierType:s("exploration"),onProceed:async()=>{await jE(A),f("delete")}})}}return r.$$set=A=>{"queryHandler"in A&&n(12,c=A.queryHandler),"name"in A&&n(0,m=A.name),"description"in A&&n(1,d=A.description)},r.$$.update=()=>{r.$$.dirty&4096&&a(n(3,{query:t}=c,t)),r.$$.dirty&4096&&n(4,l=c instanceof cu)},[m,d,g,t,l,s,h,b,w,S,T,M,c]}class X7e extends Q{constructor(e){super(),Z(this,e,K7e,G7e,J,{queryHandler:12,name:0,description:1})}}function J7e(r){let e,n;return e=new Gye({props:{queryHandler:r[0]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.queryHandler=t[0]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Z7e(r){let e,n;return e=new D7e({props:{queryHandler:r[0]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.queryHandler=t[0]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Q7e(r){let e,n;return e=new X7e({props:{queryHandler:r[0],name:r[6].name,description:r[6].description}}),e.$on("delete",r[9]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.queryHandler=t[0]),l&64&&(s.name=t[6].name),l&64&&(s.description=t[6].description),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function x7e(r){let e,n,t,l;const s=[Q7e,Z7e,J7e],o=[];function i(a,u){return a[5].id==="exploration"?0:a[5].id==="column"?1:a[5].id==="cell"?2:-1}return~(e=i(r))&&(n=o[e]=s[e](r)),{c(){n&&n.c(),t=ae()},m(a,u){~e&&o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?~e&&o[e].p(a,u):(n&&(U(),p(o[f],1,1,()=>{o[f]=null}),W()),~e?(n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t)):n=null)},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){~e&&o[e].d(a),a&&$(t)}}}function eCe(r){let e,n;return e=new qc({props:{$$slots:{default:[x7e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1121&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function tCe(r){let e,n,t;return n=new Ua({props:{tabStyle:"compact",tabs:r[4],activeTab:r[5],fillTabWidth:!0,fillContainerHeight:!0,$$slots:{default:[eCe]},$$scope:{ctx:r}}}),n.$on("tabSelected",r[7]),{c(){e=E("aside"),C(n.$$.fragment),I(e,"class","exploration-inspector svelte-ab7vdf")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,[s]){const o={};s&16&&(o.tabs=l[4]),s&32&&(o.activeTab=l[5]),s&1121&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function nCe(r,e,n){let t,l,s,o,i,a=H,u=()=>(a(),a=le(s,T=>n(4,i=T)),s),f,c=H,m=()=>(c(),c=le(o,T=>n(5,f=T)),o),d,g=H,h=()=>(g(),g=le(l,T=>n(6,d=T)),l);r.$$.on_destroy.push(()=>a()),r.$$.on_destroy.push(()=>c()),r.$$.on_destroy.push(()=>g());let{queryHandler:b}=e;function w(T){const M=T.detail.tab;t.activate(M.id)}function S(T){Re.call(this,r,T)}return r.$$set=T=>{"queryHandler"in T&&n(0,b=T.queryHandler)},r.$$.update=()=>{r.$$.dirty&1&&n(8,{inspector:t,query:l}=b,t,h(n(3,l))),r.$$.dirty&256&&u(n(2,{tabs:s,activeTab:o}=t,s,m(n(1,o))))},[b,o,s,l,i,f,d,w,t,S]}class rCe extends Q{constructor(e){super(),Z(this,e,nCe,tCe,J,{queryHandler:0})}}function lCe(r){let e;const n=r[3].default,t=ke(n,r,r[6],null);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&64)&&Ce(t,n,l,l[6],e?ye(n,l[6],s,null):Se(l[6]),null)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function sCe(r){let e,n;return e=new rCe({props:{slot:"panel",queryHandler:r[1]}}),e.$on("delete",r[4]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.queryHandler=t[1]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function oCe(r){let e,n,t;function l(o){r[5](o)}let s={showPanel:r[0],minSizePx:250,maxSizePx:600,$$slots:{panel:[sCe],default:[lCe]},$$scope:{ctx:r}};return r[2]!==void 0&&(s.sizePx=r[2]),e=new gc({props:s}),we.push(()=>Me(e,"sizePx",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,[i]){const a={};i&1&&(a.showPanel=o[0]),i&66&&(a.$$scope={dirty:i,ctx:o}),!n&&i&4&&(n=!0,a.sizePx=o[2],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function iCe(r,e,n){let t;ne(r,K0,f=>n(2,t=f));let{$$slots:l={},$$scope:s}=e,{isInspectorOpen:o}=e,{queryHandler:i}=e;function a(f){Re.call(this,r,f)}function u(f){t=f,K0.set(t)}return r.$$set=f=>{"isInspectorOpen"in f&&n(0,o=f.isInspectorOpen),"queryHandler"in f&&n(1,i=f.queryHandler),"$$scope"in f&&n(6,s=f.$$scope)},[o,i,t,l,a,u,s]}class aCe extends Q{constructor(e){super(),Z(this,e,iCe,oCe,J,{isInspectorOpen:0,queryHandler:1})}}function Hk(r){let e,n;return e=new On({props:{$$slots:{content:[cCe],trigger:[fCe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&38&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function uCe(r){let e;return{c(){e=L(r[1])},m(n,t){v(n,e,t)},p(n,t){t&2&&z(e,n[1])},d(n){n&&$(e)}}}function fCe(r){let e,n;return e=new E_({props:{slot:"trigger",$$slots:{default:[uCe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&34&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function cCe(r){let e=r[2]("column_added_number_of_times",{values:{count:r[1]}})+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&6&&e!==(e=t[2]("column_added_number_of_times",{values:{count:t[1]}})+"")&&z(n,e)},d(t){t&&$(n)}}}function mCe(r){let e,n,t,l,s,o=r[2]("add")+"",i,a,u,f,c;n=new Gn({props:{column:{...r[0],type:r[0].producesMultipleResults?"_array":r[0].type,type_options:r[0].producesMultipleResults?{item_type:r[0].type}:null,metadata:r[0].metadata}}});let m=r[1]>0&&Hk(r);return{c(){e=E("div"),C(n.$$.fragment),t=N(),l=E("span"),s=E("span"),i=L(o),a=N(),m&&m.c(),u=N(),f=E("span"),f.textContent="+",I(e,"class","name svelte-rwrinx"),I(s,"class","text svelte-rwrinx"),I(l,"class","add svelte-rwrinx")},m(d,g){v(d,e,g),k(n,e,null),v(d,t,g),v(d,l,g),R(l,s),R(s,i),R(l,a),m&&m.m(l,null),R(l,u),R(l,f),c=!0},p(d,g){const h={};g&1&&(h.column={...d[0],type:d[0].producesMultipleResults?"_array":d[0].type,type_options:d[0].producesMultipleResults?{item_type:d[0].type}:null,metadata:d[0].metadata}),n.$set(h),(!c||g&4)&&o!==(o=d[2]("add")+"")&&z(i,o),d[1]>0?m?(m.p(d,g),g&2&&_(m,1)):(m=Hk(d),m.c(),_(m,1),m.m(l,u)):m&&(U(),p(m,1,1,()=>{m=null}),W())},i(d){c||(_(n.$$.fragment,d),_(m),c=!0)},o(d){p(n.$$.fragment,d),p(m),c=!1},d(d){d&&$(e),y(n),d&&$(t),d&&$(l),m&&m.d()}}}function dCe(r){let e,n,t;return n=new st({props:{$$slots:{default:[mCe]},$$scope:{ctx:r}}}),n.$on("click",r[4]),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","selectable-column svelte-rwrinx")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,[s]){const o={};s&39&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function _Ce(r,e,n){let t;ne(r,ce,a=>n(2,t=a));const l=Et();let{column:s}=e,{usageCount:o=0}=e;const i=()=>l("add",s);return r.$$set=a=>{"column"in a&&n(0,s=a.column),"usageCount"in a&&n(1,o=a.usageCount)},[s,o,t,l,i]}class KM extends Q{constructor(e){super(),Z(this,e,_Ce,dCe,J,{column:0,usageCount:1})}}function pCe(r){let e=r[3]("via_column",{values:{columnName:r[1].name}})+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&10&&e!==(e=t[3]("via_column",{values:{columnName:t[1].name}})+"")&&z(n,e)},d(t){t&&$(n)}}}function gCe(r){let e,n,t,l,s,o,i,a,u;const f=[Gr,{size:"0.7rem"},{rotate:r[8]?void 0:270}];let c={};for(let m=0;m<f.length;m+=1)c=se(c,f[m]);return n=new Ne({props:c}),s=new rn({props:{table:{name:r[2]}}}),a=new Qr({props:{$$slots:{default:[pCe]},$$scope:{ctx:r}}}),{c(){e=E("span"),C(n.$$.fragment),t=N(),l=E("span"),C(s.$$.fragment),o=N(),i=E("span"),C(a.$$.fragment),I(l,"class","svelte-12ebftz"),I(e,"class","table-name svelte-12ebftz"),I(i,"class","fk-column svelte-12ebftz")},m(m,d){v(m,e,d),k(n,e,null),R(e,t),R(e,l),k(s,l,null),v(m,o,d),v(m,i,d),k(a,i,null),u=!0},p(m,d){const g=d&256?de(f,[d&0&&_e(Gr),f[1],d&256&&{rotate:m[8]?void 0:270}]):{};n.$set(g);const h={};d&4&&(h.table={name:m[2]}),s.$set(h);const b={};d&74&&(b.$$scope={dirty:d,ctx:m}),a.$set(b)},i(m){u||(_(n.$$.fragment,m),_(s.$$.fragment,m),_(a.$$.fragment,m),u=!0)},o(m){p(n.$$.fragment,m),p(s.$$.fragment,m),p(a.$$.fragment,m),u=!1},d(m){m&&$(e),y(n),y(s),m&&$(o),m&&$(i),y(a)}}}function hCe(r){let e,n;return e=new st({props:{appearance:"plain",class:"column-name",$$slots:{default:[gCe]},$$scope:{ctx:r}}}),e.$on("click",function(){St(r[7])&&r[7].apply(this,arguments)}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){r=t;const s={};l&334&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function bCe(r){let e,n,t,l;const s=r[4].default,o=ke(s,r,r[6],null);return{c(){e=E("div"),o&&o.c(),n=N(),t=E("div"),I(t,"class","line-down svelte-12ebftz"),I(e,"class","column-list svelte-12ebftz"),I(e,"slot","content")},m(i,a){v(i,e,a),o&&o.m(e,null),R(e,n),R(e,t),l=!0},p(i,a){o&&o.p&&(!l||a&64)&&Ce(o,s,i,i[6],l?ye(s,i[6],a,null):Se(i[6]),null)},i(i){l||(_(o,i),l=!0)},o(i){p(o,i),l=!1},d(i){i&&$(e),o&&o.d(i)}}}function $Ce(r){let e,n,t,l;function s(i){r[5](i)}let o={$$slots:{content:[bCe],trigger:[hCe,({toggle:i,isOpen:a})=>({7:i,8:a}),({toggle:i,isOpen:a})=>(i?128:0)|(a?256:0)]},$$scope:{ctx:r}};return r[0][r[1].id]!==void 0&&(o.isOpen=r[0][r[1].id]),n=new Fl({props:o}),we.push(()=>Me(n,"isOpen",s)),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","table-group svelte-12ebftz")},m(i,a){v(i,e,a),k(n,e,null),l=!0},p(i,[a]){const u={};a&462&&(u.$$scope={dirty:a,ctx:i}),!t&&a&3&&(t=!0,u.isOpen=i[0][i[1].id],De(()=>t=!1)),n.$set(u)},i(i){l||(_(n.$$.fragment,i),l=!0)},o(i){p(n.$$.fragment,i),l=!1},d(i){i&&$(e),y(n)}}}function vCe(r,e,n){let t;ne(r,ce,f=>n(3,t=f));let{$$slots:l={},$$scope:s}=e,{linkCollapsibleOpenState:o={}}=e,{column:i}=e,{tableName:a}=e;function u(f){r.$$.not_equal(o[i.id],f)&&(o[i.id]=f,n(0,o))}return r.$$set=f=>{"linkCollapsibleOpenState"in f&&n(0,o=f.linkCollapsibleOpenState),"column"in f&&n(1,i=f.column),"tableName"in f&&n(2,a=f.tableName),"$$scope"in f&&n(6,s=f.$$scope)},[o,i,a,t,l,u,s]}class XM extends Q{constructor(e){super(),Z(this,e,vCe,$Ce,J,{linkCollapsibleOpenState:0,column:1,tableName:2})}}function Vk(r,e,n){const t=r.slice();return t[6]=e[n][0],t[7]=e[n][1],t}function wCe(r){let e,n;return e=new KM({props:{column:r[7],usageCount:r[3].getColumnCount(r[7])}}),e.$on("add",r[5]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&4&&(s.column=t[7]),l&12&&(s.usageCount=t[3].getColumnCount(t[7])),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function kCe(r){let e,n;return e=new XM({props:{tableName:r[7].linksTo.name,column:r[7],linkCollapsibleOpenState:r[1],$$slots:{default:[yCe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&4&&(s.tableName=t[7].linksTo.name),l&4&&(s.column=t[7]),l&2&&(s.linkCollapsibleOpenState=t[1]),l&1031&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function yCe(r){let e,n,t;return e=new Qp({props:{linkCollapsibleOpenState:r[1],columnsWithLinks:r[7].linksTo.columns,query:r[0]}}),e.$on("add",r[4]),{c(){C(e.$$.fragment),n=N()},m(l,s){k(e,l,s),v(l,n,s),t=!0},p(l,s){const o={};s&2&&(o.linkCollapsibleOpenState=l[1]),s&4&&(o.columnsWithLinks=l[7].linksTo.columns),s&1&&(o.query=l[0]),e.$set(o)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){y(e,l),l&&$(n)}}}function zk(r,e){let n,t,l,s,o;const i=[kCe,wCe],a=[];function u(f,c){return f[7].linksTo?0:1}return t=u(e),l=a[t]=i[t](e),{key:r,first:null,c(){n=ae(),l.c(),s=ae(),this.first=n},m(f,c){v(f,n,c),a[t].m(f,c),v(f,s,c),o=!0},p(f,c){e=f;let m=t;t=u(e),t===m?a[t].p(e,c):(U(),p(a[m],1,1,()=>{a[m]=null}),W(),l=a[t],l?l.p(e,c):(l=a[t]=i[t](e),l.c()),_(l,1),l.m(s.parentNode,s))},i(f){o||(_(l),o=!0)},o(f){p(l),o=!1},d(f){f&&$(n),a[t].d(f),f&&$(s)}}}function CCe(r){let e,n=[],t=new Map,l,s=[...r[2]];const o=i=>i[6];for(let i=0;i<s.length;i+=1){let a=Vk(r,s,i),u=o(a);t.set(u,n[i]=zk(u,a))}return{c(){e=E("div");for(let i=0;i<n.length;i+=1)n[i].c();I(e,"class","selectable-column-tree")},m(i,a){v(i,e,a);for(let u=0;u<n.length;u+=1)n[u].m(e,null);l=!0},p(i,[a]){a&15&&(s=[...i[2]],U(),n=ht(n,a,o,1,i,s,t,e,kt,zk,null,Vk),W())},i(i){if(!l){for(let a=0;a<s.length;a+=1)_(n[a]);l=!0}},o(i){for(let a=0;a<n.length;a+=1)p(n[a]);l=!1},d(i){i&&$(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function SCe(r,e,n){let t,l=H,s=()=>(l(),l=le(o,c=>n(3,t=c)),o);r.$$.on_destroy.push(()=>l());let{query:o}=e;s();let{linkCollapsibleOpenState:i={}}=e,{columnsWithLinks:a}=e;function u(c){Re.call(this,r,c)}function f(c){Re.call(this,r,c)}return r.$$set=c=>{"query"in c&&s(n(0,o=c.query)),"linkCollapsibleOpenState"in c&&n(1,i=c.linkCollapsibleOpenState),"columnsWithLinks"in c&&n(2,a=c.columnsWithLinks)},[o,i,a,t,u,f]}class Qp extends Q{constructor(e){super(),Z(this,e,SCe,CCe,J,{query:0,linkCollapsibleOpenState:1,columnsWithLinks:2})}}const{Map:JM}=gi;function Bk(r,e,n){const t=r.slice();return t[16]=e[n],t}function qk(r,e,n){const t=r.slice();return t[19]=e[n][0],t[20]=e[n][1],t}function Uk(r,e){let n,t,l;return t=new KM({props:{column:e[20],usageCount:e[4].getColumnCount(e[20])}}),t.$on("add",e[13]),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(s,o){v(s,n,o),k(t,s,o),l=!0},p(s,o){e=s;const i={};o&8&&(i.column=e[20]),o&24&&(i.usageCount=e[4].getColumnCount(e[20])),t.$set(i)},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){s&&$(n),y(t,s)}}}function TCe(r){let e,n,t,l=r[6]&&Wk(r),s=r[5]&&jk(r);return{c(){l&&l.c(),e=N(),s&&s.c(),n=ae()},m(o,i){l&&l.m(o,i),v(o,e,i),s&&s.m(o,i),v(o,n,i),t=!0},p(o,i){o[6]?l?(l.p(o,i),i&64&&_(l,1)):(l=Wk(o),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(U(),p(l,1,1,()=>{l=null}),W()),o[5]?s?(s.p(o,i),i&32&&_(s,1)):(s=jk(o),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(U(),p(s,1,1,()=>{s=null}),W())},i(o){t||(_(l),_(s),t=!0)},o(o){p(l),p(s),t=!1},d(o){l&&l.d(o),o&&$(e),s&&s.d(o),o&&$(n)}}}function ICe(r){let e,n,t=r[10]("from_related_tables")+"",l,s,o,i,a=r[10]("one_column_from_base_is_required")+"",u;return{c(){e=E("section"),n=E("header"),l=L(t),s=N(),o=E("div"),i=E("div"),u=L(a),I(n,"class","svelte-1m55vpd"),I(i,"class","help-text svelte-1m55vpd"),I(o,"class","content svelte-1m55vpd")},m(f,c){v(f,e,c),R(e,n),R(n,l),R(e,s),R(e,o),R(o,i),R(i,u)},p(f,c){c&1024&&t!==(t=f[10]("from_related_tables")+"")&&z(l,t),c&1024&&a!==(a=f[10]("one_column_from_base_is_required")+"")&&z(u,a)},i:H,o:H,d(f){f&&$(e)}}}function Wk(r){let e,n,t=r[10]("references_from_base_table")+"",l,s,o,i,a;return i=new Qp({props:{columnsWithLinks:r[2],linkCollapsibleOpenState:r[0],query:r[8]}}),i.$on("add",r[14]),{c(){e=E("section"),n=E("header"),l=L(t),s=N(),o=E("div"),C(i.$$.fragment),I(n,"class","svelte-1m55vpd"),I(o,"class","content svelte-1m55vpd")},m(u,f){v(u,e,f),R(e,n),R(n,l),R(e,s),R(e,o),k(i,o,null),a=!0},p(u,f){(!a||f&1024)&&t!==(t=u[10]("references_from_base_table")+"")&&z(l,t);const c={};f&4&&(c.columnsWithLinks=u[2]),f&1&&(c.linkCollapsibleOpenState=u[0]),f&256&&(c.query=u[8]),i.$set(c)},i(u){a||(_(i.$$.fragment,u),a=!0)},o(u){p(i.$$.fragment,u),a=!1},d(u){u&&$(e),y(i)}}}function jk(r){let e,n,t=r[10]("references_to_base_table")+"",l,s,o,i,a=r[7]&&Yk(r);return{c(){e=E("section"),n=E("header"),l=L(t),s=N(),o=E("div"),a&&a.c(),I(n,"class","svelte-1m55vpd"),I(o,"class","content svelte-1m55vpd"),I(o,"data-identifier","referenced-by-tables")},m(u,f){v(u,e,f),R(e,n),R(n,l),R(e,s),R(e,o),a&&a.m(o,null),i=!0},p(u,f){(!i||f&1024)&&t!==(t=u[10]("references_to_base_table")+"")&&z(l,t),u[7]?a?(a.p(u,f),f&128&&_(a,1)):(a=Yk(u),a.c(),_(a,1),a.m(o,null)):a&&(U(),p(a,1,1,()=>{a=null}),W())},i(u){i||(_(a),i=!0)},o(u){p(a),i=!1},d(u){u&&$(e),a&&a.d()}}}function Yk(r){let e=[],n=new JM,t,l,s=r[1];const o=i=>i[16];for(let i=0;i<s.length;i+=1){let a=Bk(r,s,i),u=o(a);n.set(u,e[i]=Gk(u,a))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=ae()},m(i,a){for(let u=0;u<e.length;u+=1)e[u].m(i,a);v(i,t,a),l=!0},p(i,a){a&259&&(s=i[1],U(),e=ht(e,a,o,1,i,s,n,t.parentNode,kt,Gk,t,Bk),W())},i(i){if(!l){for(let a=0;a<s.length;a+=1)_(e[a]);l=!0}},o(i){for(let a=0;a<e.length;a+=1)p(e[a]);l=!1},d(i){for(let a=0;a<e.length;a+=1)e[a].d(i);i&&$(t)}}}function ECe(r){let e,n,t;return e=new Qp({props:{linkCollapsibleOpenState:r[0],columnsWithLinks:r[16].columns,query:r[8]}}),e.$on("add",r[15]),{c(){C(e.$$.fragment),n=N()},m(l,s){k(e,l,s),v(l,n,s),t=!0},p(l,s){const o={};s&1&&(o.linkCollapsibleOpenState=l[0]),s&2&&(o.columnsWithLinks=l[16].columns),s&256&&(o.query=l[8]),e.$set(o)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){y(e,l),l&&$(n)}}}function Gk(r,e){let n,t,l;return t=new XM({props:{tableName:e[16].name,column:e[16].referencedViaColumn,linkCollapsibleOpenState:e[0],$$slots:{default:[ECe]},$$scope:{ctx:e}}}),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(s,o){v(s,n,o),k(t,s,o),l=!0},p(s,o){e=s;const i={};o&2&&(i.tableName=e[16].name),o&2&&(i.column=e[16].referencedViaColumn),o&1&&(i.linkCollapsibleOpenState=e[0]),o&8388867&&(i.$$scope={dirty:o,ctx:e}),t.$set(i)},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){s&&$(n),y(t,s)}}}function MCe(r){let e,n,t,l=r[10]("from_base_table")+"",s,o,i,a=[],u=new JM,f,c,m,d,g=[...r[3]];const h=T=>T[19];for(let T=0;T<g.length;T+=1){let M=qk(r,g,T),A=h(M);u.set(A,a[T]=Uk(A,M))}const b=[ICe,TCe],w=[];function S(T,M){return!T[7]&&(T[6]||T[5])?0:1}return c=S(r),m=w[c]=b[c](r),{c(){e=E("div"),n=E("section"),t=E("header"),s=L(l),o=N(),i=E("div");for(let T=0;T<a.length;T+=1)a[T].c();f=N(),m.c(),I(t,"class","svelte-1m55vpd"),I(i,"class","content svelte-1m55vpd"),I(e,"data-identifier","column-selection-list"),I(e,"class","svelte-1m55vpd")},m(T,M){v(T,e,M),R(e,n),R(n,t),R(t,s),R(n,o),R(n,i);for(let A=0;A<a.length;A+=1)a[A].m(i,null);R(e,f),w[c].m(e,null),d=!0},p(T,[M]){(!d||M&1024)&&l!==(l=T[10]("from_base_table")+"")&&z(s,l),M&24&&(g=[...T[3]],U(),a=ht(a,M,h,1,T,g,u,i,kt,Uk,null,qk),W());let A=c;c=S(T),c===A?w[c].p(T,M):(U(),p(w[A],1,1,()=>{w[A]=null}),W(),m=w[c],m?m.p(T,M):(m=w[c]=b[c](T),m.c()),_(m,1),m.m(e,null))},i(T){if(!d){for(let M=0;M<g.length;M+=1)_(a[M]);_(m),d=!0}},o(T){for(let M=0;M<a.length;M+=1)p(a[M]);p(m),d=!1},d(T){T&&$(e);for(let M=0;M<a.length;M+=1)a[M].d();w[c].d()}}}function RCe(r,e,n){let t,l,s,o,i,a,u,f,c,m=H,d=()=>(m(),m=le(l,O=>n(4,c=O)),l),g,h=H,b=()=>(h(),h=le(t,O=>n(12,g=O)),t),w;ne(r,ce,O=>n(10,w=O)),r.$$.on_destroy.push(()=>m()),r.$$.on_destroy.push(()=>h());let{queryManager:S}=e,{linkCollapsibleOpenState:T={}}=e;function M(O){Re.call(this,r,O)}function A(O){Re.call(this,r,O)}function D(O){Re.call(this,r,O)}return r.$$set=O=>{"queryManager"in O&&n(11,S=O.queryManager),"linkCollapsibleOpenState"in O&&n(0,T=O.linkCollapsibleOpenState)},r.$$.update=()=>{r.$$.dirty&2048&&b(n(9,{inputColumns:t,query:l}=S,t,d(n(8,l)))),r.$$.dirty&4096&&n(3,{baseTableColumns:s,tablesThatReferenceBaseTable:o}=g,s,(n(1,o),n(12,g))),r.$$.dirty&16&&n(7,i=c.initial_columns.length>0),r.$$.dirty&8&&n(2,a=new Map([...s].filter(([,O])=>O.linksTo!==void 0))),r.$$.dirty&4&&n(6,u=a.size>0),r.$$.dirty&2&&n(5,f=o.length>0)},[T,o,a,s,c,f,u,i,l,t,w,S,g,M,A,D]}class DCe extends Q{constructor(e){super(),Z(this,e,RCe,MCe,J,{queryManager:11,linkCollapsibleOpenState:0})}}function ACe(r){let e,n,t,l,s;function o(f){r[6](f)}function i(f){r[7](f)}function a(f){r[8](f)}let u={allowDelete:!1,columns:r[1],getColumnLabel:r[5],disableColumnChange:r[3],layout:"vertical",numberOfFilters:r[2]};return r[0].columnIdentifier!==void 0&&(u.columnIdentifier=r[0].columnIdentifier),r[0].conditionIdentifier!==void 0&&(u.conditionIdentifier=r[0].conditionIdentifier),r[0].value!==void 0&&(u.value=r[0].value),e=new BM({props:u}),we.push(()=>Me(e,"columnIdentifier",o)),we.push(()=>Me(e,"conditionIdentifier",i)),we.push(()=>Me(e,"value",a)),e.$on("update",r[4]),{c(){C(e.$$.fragment)},m(f,c){k(e,f,c),s=!0},p(f,[c]){const m={};c&2&&(m.columns=f[1]),c&2&&(m.getColumnLabel=f[5]),c&8&&(m.disableColumnChange=f[3]),c&4&&(m.numberOfFilters=f[2]),!n&&c&1&&(n=!0,m.columnIdentifier=f[0].columnIdentifier,De(()=>n=!1)),!t&&c&1&&(t=!0,m.conditionIdentifier=f[0].conditionIdentifier,De(()=>t=!1)),!l&&c&1&&(l=!0,m.value=f[0].value,De(()=>l=!1)),e.$set(m)},i(f){s||(_(e.$$.fragment,f),s=!0)},o(f){p(e.$$.fragment,f),s=!1},d(f){y(e,f)}}}function OCe(r,e,n){const t=Et();let{columns:l}=e,{model:s}=e,{totalTransformations:o}=e,{limitEditing:i=!1}=e;function a(){t("update")}const u=d=>{var g,h;return(h=(g=l.get(d.id))==null?void 0:g.column.display_name)!=null?h:""};function f(d){r.$$.not_equal(s.columnIdentifier,d)&&(s.columnIdentifier=d,n(0,s))}function c(d){r.$$.not_equal(s.conditionIdentifier,d)&&(s.conditionIdentifier=d,n(0,s))}function m(d){r.$$.not_equal(s.value,d)&&(s.value=d,n(0,s))}return r.$$set=d=>{"columns"in d&&n(1,l=d.columns),"model"in d&&n(0,s=d.model),"totalTransformations"in d&&n(2,o=d.totalTransformations),"limitEditing"in d&&n(3,i=d.limitEditing)},[s,l,o,i,a,u,f,c,m]}class FCe extends Q{constructor(e){super(),Z(this,e,OCe,ACe,J,{columns:1,model:0,totalTransformations:2,limitEditing:3})}}function Kk(r){var n;const e=(n=r[1].get(r[7]))==null?void 0:n.column;r[8]=e}function NCe(r){var t,l,s,o,i,a,u,f;Kk(r);let e,n;return e=new Gn({props:{column:{name:(l=(t=r[8])==null?void 0:t.display_name)!=null?l:"",type:(o=(s=r[8])==null?void 0:s.type)!=null?o:"unknown",type_options:(a=(i=r[8])==null?void 0:i.type_options)!=null?a:null,metadata:(f=(u=r[8])==null?void 0:u.metadata)!=null?f:null}}}),{c(){C(e.$$.fragment)},m(c,m){k(e,c,m),n=!0},p(c,m){var g,h,b,w,S,T,M,A;Kk(c);const d={};m&130&&(d.column={name:(h=(g=c[8])==null?void 0:g.display_name)!=null?h:"",type:(w=(b=c[8])==null?void 0:b.type)!=null?w:"unknown",type_options:(T=(S=c[8])==null?void 0:S.type_options)!=null?T:null,metadata:(A=(M=c[8])==null?void 0:M.metadata)!=null?A:null}),e.$set(d)},i(c){n||(_(e.$$.fragment,c),n=!0)},o(c){p(e.$$.fragment,c),n=!1},d(c){y(e,c)}}}function PCe(r){let e,n;return e=new _c({props:{values:r[0].columnAliases,options:[...r[1].values()].map(Xk),autoClearInvalidValues:!1,disabled:r[2],$$slots:{default:[NCe,({option:t})=>({7:t}),({option:t})=>t?128:0]},$$scope:{ctx:r}}}),e.$on("change",r[5]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.values=t[0].columnAliases),l&2&&(s.options=[...t[1].values()].map(Xk)),l&4&&(s.disabled=t[2]),l&642&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function LCe(r){let e,n;return e=new Nt({props:{label:r[3]("select_columns_to_hide"),layout:"stacked",$$slots:{default:[PCe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&8&&(s.label=t[3]("select_columns_to_hide")),l&519&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}const Xk=r=>r.column.alias;function HCe(r,e,n){let t;ne(r,ce,f=>n(3,t=f));const l=Et();let{columns:s}=e,{model:o}=e,{limitEditing:i=!1}=e;function a(f){n(0,o.columnAliases=f,o),l("update",o)}const u=f=>a(f.detail);return r.$$set=f=>{"columns"in f&&n(1,s=f.columns),"model"in f&&n(0,o=f.model),"limitEditing"in f&&n(2,i=f.limitEditing)},[o,s,i,t,a,u]}class VCe extends Q{constructor(e){super(),Z(this,e,HCe,LCe,J,{columns:1,model:0,limitEditing:2})}}function Jk(r){const e=r[2].get(r[19]);r[20]=e}function zCe(r){var t,l,s,o,i,a;Jk(r);let e,n;return e=new Gn({props:{column:{name:r[3](r[20]),type:(l=(t=r[20])==null?void 0:t.column.type)!=null?l:"unknown",type_options:(o=(s=r[20])==null?void 0:s.column.type_options)!=null?o:null,constraintsType:r[8](r[19]),metadata:(a=(i=r[20])==null?void 0:i.column.metadata)!=null?a:null}}}),{c(){C(e.$$.fragment)},m(u,f){k(e,u,f),n=!0},p(u,f){var m,d,g,h,b,w;Jk(u);const c={};f&524300&&(c.column={name:u[3](u[20]),type:(d=(m=u[20])==null?void 0:m.column.type)!=null?d:"unknown",type_options:(h=(g=u[20])==null?void 0:g.column.type_options)!=null?h:null,constraintsType:u[8](u[19]),metadata:(w=(b=u[20])==null?void 0:b.column.metadata)!=null?w:null}),e.$set(c)},i(u){n||(_(e.$$.fragment,u),n=!0)},o(u){p(e.$$.fragment,u),n=!1},d(u){y(e,u)}}}function BCe(r){let e,n,t,l,s,o;function i(c){r[15](c)}let a={options:r[7],autoSelect:"none",disabled:r[4],getLabel:r[14],$$slots:{default:[zCe,({option:c})=>({19:c}),({option:c})=>c?524288:0]},$$scope:{ctx:r}};r[0]!==void 0&&(a.value=r[0]),e=new fn({props:a}),we.push(()=>Me(e,"value",i)),e.$on("change",r[10]);function u(c){r[16](c)}let f={options:hI,getLabel:r[6]};return r[1]!==void 0&&(f.value=r[1]),l=new fn({props:f}),we.push(()=>Me(l,"value",u)),l.$on("change",r[10]),{c(){C(e.$$.fragment),t=N(),C(l.$$.fragment)},m(c,m){k(e,c,m),v(c,t,m),k(l,c,m),o=!0},p(c,m){const d={};m&128&&(d.options=c[7]),m&16&&(d.disabled=c[4]),m&12&&(d.getLabel=c[14]),m&2621452&&(d.$$scope={dirty:m,ctx:c}),!n&&m&1&&(n=!0,d.value=c[0],De(()=>n=!1)),e.$set(d);const g={};m&64&&(g.getLabel=c[6]),!s&&m&2&&(s=!0,g.value=c[1],De(()=>s=!1)),l.$set(g)},i(c){o||(_(e.$$.fragment,c),_(l.$$.fragment,c),o=!0)},o(c){p(e.$$.fragment,c),p(l.$$.fragment,c),o=!1},d(c){y(e,c),c&&$(t),y(l,c)}}}function Zk(r){let e,n;return e=new st({props:{size:"small",appearance:"ghost",$$slots:{default:[qCe]},$$scope:{ctx:r}}}),e.$on("click",r[9]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2097152&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function qCe(r){let e,n;const t=[Mt];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[_e(Mt)]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function UCe(r){let e,n,t,l;n=new Va({props:{$$slots:{default:[BCe]},$$scope:{ctx:r}}});let s=r[5]&&Zk(r);return{c(){e=E("div"),C(n.$$.fragment),t=N(),s&&s.c(),I(e,"class","sort-entry svelte-110y5m4")},m(o,i){v(o,e,i),k(n,e,null),R(e,t),s&&s.m(e,null),l=!0},p(o,[i]){const a={};i&2097375&&(a.$$scope={dirty:i,ctx:o}),n.$set(a),o[5]?s?(s.p(o,i),i&32&&_(s,1)):(s=Zk(o),s.c(),_(s,1),s.m(e,null)):s&&(U(),p(s,1,1,()=>{s=null}),W())},i(o){l||(_(n.$$.fragment,o),_(s),l=!0)},o(o){p(n.$$.fragment,o),p(s),l=!1},d(o){o&&$(e),y(n),s&&s.d()}}}function WCe(r,e,n){let t,l,s;ne(r,ce,D=>n(17,s=D));const o=Et();let{columns:i}=e,{getColumnLabel:a}=e,{getColumnConstraintType:u=()=>{}}=e,{columnsAllowedForSelection:f=void 0}=e,{columnIdentifier:c}=e,{sortDirection:m="ASCENDING"}=e,{disableColumnChange:d=!1}=e,{allowDelete:g=!0}=e,{getSortDirectionLabel:h=D=>{const O=i.get(c);return O&&D?bI(O.abstractType.cellInfo.type)[D]:s(m==="DESCENDING"?"descending":"ascending")}}=e;function b(D){if(D){const O=i.get(D);if(O)return u(O)}}function w(){o("remove")}function S(){o("update",{columnIdentifier:c,sortDirection:m})}const T=D=>D?a(i.get(D)):"";function M(D){c=D,n(0,c)}function A(D){m=D,n(1,m)}return r.$$set=D=>{"columns"in D&&n(2,i=D.columns),"getColumnLabel"in D&&n(3,a=D.getColumnLabel),"getColumnConstraintType"in D&&n(11,u=D.getColumnConstraintType),"columnsAllowedForSelection"in D&&n(12,f=D.columnsAllowedForSelection),"columnIdentifier"in D&&n(0,c=D.columnIdentifier),"sortDirection"in D&&n(1,m=D.sortDirection),"disableColumnChange"in D&&n(4,d=D.disableColumnChange),"allowDelete"in D&&n(5,g=D.allowDelete),"getSortDirectionLabel"in D&&n(6,h=D.getSortDirectionLabel)},r.$$.update=()=>{r.$$.dirty&4&&n(13,t=[...i.values()].map(D=>D.id)),r.$$.dirty&12289&&n(7,l=(()=>{if(f){const D=[c,...f];return t.filter(O=>D.includes(O))}return t})())},[c,m,i,a,d,g,h,l,b,w,S,u,f,t,T,M,A]}class ZM extends Q{constructor(e){super(),Z(this,e,WCe,UCe,J,{columns:2,getColumnLabel:3,getColumnConstraintType:11,columnsAllowedForSelection:12,columnIdentifier:0,sortDirection:1,disableColumnChange:4,allowDelete:5,getSortDirectionLabel:6})}}function jCe(r){let e,n,t,l;function s(a){r[5](a)}function o(a){r[6](a)}let i={allowDelete:!1,columns:r[1],columnsAllowedForSelection:r[2],getColumnLabel:r[4],disableColumnChange:r[3]};return r[0].columnIdentifier!==void 0&&(i.columnIdentifier=r[0].columnIdentifier),r[0].sortDirection!==void 0&&(i.sortDirection=r[0].sortDirection),e=new ZM({props:i}),we.push(()=>Me(e,"columnIdentifier",s)),we.push(()=>Me(e,"sortDirection",o)),e.$on("update",r[7]),{c(){C(e.$$.fragment)},m(a,u){k(e,a,u),l=!0},p(a,[u]){const f={};u&2&&(f.columns=a[1]),u&4&&(f.columnsAllowedForSelection=a[2]),u&2&&(f.getColumnLabel=a[4]),u&8&&(f.disableColumnChange=a[3]),!n&&u&1&&(n=!0,f.columnIdentifier=a[0].columnIdentifier,De(()=>n=!1)),!t&&u&1&&(t=!0,f.sortDirection=a[0].sortDirection,De(()=>t=!1)),e.$set(f)},i(a){l||(_(e.$$.fragment,a),l=!0)},o(a){p(e.$$.fragment,a),l=!1},d(a){y(e,a)}}}function YCe(r,e,n){let{columns:t}=e,{model:l}=e,{columnsAllowedForSelection:s}=e,{limitEditing:o=!1}=e;const i=c=>{var m,d;return(d=c&&((m=t.get(c.id))==null?void 0:m.column.display_name))!=null?d:""};function a(c){r.$$.not_equal(l.columnIdentifier,c)&&(l.columnIdentifier=c,n(0,l))}function u(c){r.$$.not_equal(l.sortDirection,c)&&(l.sortDirection=c,n(0,l))}function f(c){Re.call(this,r,c)}return r.$$set=c=>{"columns"in c&&n(1,t=c.columns),"model"in c&&n(0,l=c.model),"columnsAllowedForSelection"in c&&n(2,s=c.columnsAllowedForSelection),"limitEditing"in c&&n(3,o=c.limitEditing)},[l,t,s,o,i,a,u,f]}class GCe extends Q{constructor(e){super(),Z(this,e,YCe,jCe,J,{columns:1,model:0,columnsAllowedForSelection:2,limitEditing:3})}}function Qk(r){const e=r[2].get(r[23]);r[24]=e}function KCe(r){var t,l,s,o,i,a;Qk(r);let e,n;return e=new Gn({props:{column:{name:r[3](r[24]),type:(l=(t=r[24])==null?void 0:t.column.type)!=null?l:"unknown",type_options:(o=(s=r[24])==null?void 0:s.column.type_options)!=null?o:null,constraintsType:r[11](r[23]),metadata:(a=(i=r[24])==null?void 0:i.column.metadata)!=null?a:null}}}),{c(){C(e.$$.fragment)},m(u,f){k(e,u,f),n=!0},p(u,f){var m,d,g,h,b,w;Qk(u);const c={};f&8388620&&(c.column={name:u[3](u[24]),type:(d=(m=u[24])==null?void 0:m.column.type)!=null?d:"unknown",type_options:(h=(g=u[24])==null?void 0:g.column.type_options)!=null?h:null,constraintsType:u[11](u[23]),metadata:(w=(b=u[24])==null?void 0:b.column.metadata)!=null?w:null}),e.$set(c)},i(u){n||(_(e.$$.fragment,u),n=!0)},o(u){p(e.$$.fragment,u),n=!1},d(u){y(e,u)}}}function xk(r){let e,n,t;function l(o){r[20](o)}let s={options:r[7],autoSelect:"none",getLabel:r[19]};return r[1]!==void 0&&(s.value=r[1]),e=new fn({props:s}),we.push(()=>Me(e,"value",l)),e.$on("change",r[12]),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};i&128&&(a.options=o[7]),i&576&&(a.getLabel=o[19]),!n&&i&2&&(n=!0,a.value=o[1],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function e5(r){let e,n;return e=new st({props:{appearance:"secondary",$$slots:{default:[XCe]},$$scope:{ctx:r}}}),e.$on("click",r[21]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&33554432&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function XCe(r){let e,n;const t=[{size:"0.8rem"},Mt];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[t[0],_e(Mt)]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function JCe(r){let e,n,t,l,s,o;function i(c){r[18](c)}let a={options:r[8],autoSelect:"none",disabled:r[4],getLabel:r[17],$$slots:{default:[KCe,({option:c})=>({23:c}),({option:c})=>c?8388608:0]},$$scope:{ctx:r}};r[0]!==void 0&&(a.value=r[0]),e=new fn({props:a}),we.push(()=>Me(e,"value",i)),e.$on("change",r[13]);let u=r[7].length>1&&xk(r),f=r[5]&&e5(r);return{c(){C(e.$$.fragment),t=N(),u&&u.c(),l=N(),f&&f.c(),s=ae()},m(c,m){k(e,c,m),v(c,t,m),u&&u.m(c,m),v(c,l,m),f&&f.m(c,m),v(c,s,m),o=!0},p(c,m){const d={};m&256&&(d.options=c[8]),m&16&&(d.disabled=c[4]),m&12&&(d.getLabel=c[17]),m&41943052&&(d.$$scope={dirty:m,ctx:c}),!n&&m&1&&(n=!0,d.value=c[0],De(()=>n=!1)),e.$set(d),c[7].length>1?u?(u.p(c,m),m&128&&_(u,1)):(u=xk(c),u.c(),_(u,1),u.m(l.parentNode,l)):u&&(U(),p(u,1,1,()=>{u=null}),W()),c[5]?f?(f.p(c,m),m&32&&_(f,1)):(f=e5(c),f.c(),_(f,1),f.m(s.parentNode,s)):f&&(U(),p(f,1,1,()=>{f=null}),W())},i(c){o||(_(e.$$.fragment,c),_(u),_(f),o=!0)},o(c){p(e.$$.fragment,c),p(u),p(f),o=!1},d(c){y(e,c),c&&$(t),u&&u.d(c),c&&$(l),f&&f.d(c),c&&$(s)}}}function ZCe(r){let e,n;return e=new Va({props:{$$slots:{default:[JCe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&33555455&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function QCe(r,e,n){let t=n!=null?n:r;return t!=null&&t.some(l=>l===e)||(t=[e,...t]),t}function xCe(r,e,n){let t,l,s,o,i;ne(r,ce,B=>n(9,i=B));const a=Et();let{columns:u}=e,{getColumnLabel:f}=e,{getColumnConstraintType:c=()=>{}}=e,{columnsAllowedForSelection:m=void 0}=e,{columnIdentifier:d}=e,{preprocFunctionIdentifier:g=void 0}=e,{disableColumnChange:h=!1}=e,{allowDelete:b=!0}=e;function w(B){if(B){const j=u.get(B);if(j)return c(j)}}async function S(){await sn(),a("update",{columnIdentifier:d,preprocFunctionIdentifier:g})}async function T(){n(1,g=void 0),await S()}function M(B,j){return V=>{var q,G,Y;return V===void 0?i("value"):(Y=(G=(q=B.get(j))==null?void 0:q.preprocFunctions.find(K=>K.id===V))==null?void 0:G.name)!=null?Y:V}}const A=B=>B?f(u.get(B)):"";function D(B){d=B,n(0,d)}const O=B=>B===void 0?i("value"):o(B);function F(B){g=B,n(1,g)}const P=()=>a("removeGroup");return r.$$set=B=>{"columns"in B&&n(2,u=B.columns),"getColumnLabel"in B&&n(3,f=B.getColumnLabel),"getColumnConstraintType"in B&&n(14,c=B.getColumnConstraintType),"columnsAllowedForSelection"in B&&n(15,m=B.columnsAllowedForSelection),"columnIdentifier"in B&&n(0,d=B.columnIdentifier),"preprocFunctionIdentifier"in B&&n(1,g=B.preprocFunctionIdentifier),"disableColumnChange"in B&&n(4,h=B.disableColumnChange),"allowDelete"in B&&n(5,b=B.allowDelete)},r.$$.update=()=>{var B,j;r.$$.dirty&4&&n(16,t=[...u.values()].map(V=>V.id)),r.$$.dirty&98305&&n(8,l=QCe(t,d,m)),r.$$.dirty&5&&n(7,s=[void 0,...(j=(B=u.get(d))==null?void 0:B.preprocFunctions.map(V=>V.id))!=null?j:[]]),r.$$.dirty&5&&n(6,o=M(u,d))},[d,g,u,f,h,b,o,s,l,i,a,w,S,T,c,m,t,A,D,O,F,P]}class QM extends Q{constructor(e){super(),Z(this,e,xCe,ZCe,J,{columns:2,getColumnLabel:3,getColumnConstraintType:14,columnsAllowedForSelection:15,columnIdentifier:0,preprocFunctionIdentifier:1,disableColumnChange:4,allowDelete:5})}}function eSe(r){let e,n,t;function l(o){r[8](o)}let s={options:r[4],disabled:r[2],getLabel:r[7]};return r[0].function!==void 0&&(s.value=r[0].function),e=new fn({props:s}),we.push(()=>Me(e,"value",l)),e.$on("change",r[9]),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};i&16&&(a.options=o[4]),i&4&&(a.disabled=o[2]),i&8&&(a.getLabel=o[7]),!n&&i&1&&(n=!0,a.value=o[0].function,De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function tSe(r){let e,n,t,l;const s=[rSe,nSe],o=[];function i(a,u){return a[1]?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function nSe(r){let e,n=r[0].inputAlias+"",t;return{c(){e=E("div"),t=L(n)},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&1&&n!==(n=l[0].inputAlias+"")&&z(t,n)},i:H,o:H,d(l){l&&$(e)}}}function rSe(r){var t;let e,n;return e=new Gn({props:{column:{...r[1].column,name:(t=r[1].column.display_name)!=null?t:r[1].column.alias}}}),{c(){C(e.$$.fragment)},m(l,s){k(e,l,s),n=!0},p(l,s){var i;const o={};s&2&&(o.column={...l[1].column,name:(i=l[1].column.display_name)!=null?i:l[1].column.alias}),e.$set(o)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){p(e.$$.fragment,l),n=!1},d(l){y(e,l)}}}function lSe(r){let e,n,t,l;const s=[tSe,eSe],o=[];function i(a,u){return a[11]==="column"?0:a[11]==="function"?1:-1}return~(e=i(r))&&(n=o[e]=s[e](r)),{c(){n&&n.c(),t=ae()},m(a,u){~e&&o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?~e&&o[e].p(a,u):(n&&(U(),p(o[f],1,1,()=>{o[f]=null}),W()),~e?(n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t)):n=null)},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){~e&&o[e].d(a),a&&$(t)}}}function sSe(r){let e,n;const t=[Ts,{size:"0.8rem"}];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[_e(Ts),t[1]]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function oSe(r){let e,n,t,l,s;return n=new ot({props:{text:r[5]("aggregate_column_as_function"),$$slots:{default:[lSe,({slotName:o})=>({11:o}),({slotName:o})=>o?2048:0]},$$scope:{ctx:r}}}),l=new st({props:{disabled:r[2],appearance:"plain",$$slots:{default:[sSe]},$$scope:{ctx:r}}}),l.$on("click",r[10]),{c(){e=E("div"),C(n.$$.fragment),t=N(),C(l.$$.fragment),I(e,"class","aggregation svelte-56xg2q")},m(o,i){v(o,e,i),k(n,e,null),R(e,t),k(l,e,null),s=!0},p(o,[i]){const a={};i&32&&(a.text=o[5]("aggregate_column_as_function")),i&6175&&(a.$$scope={dirty:i,ctx:o}),n.$set(a);const u={};i&4&&(u.disabled=o[2]),i&4096&&(u.$$scope={dirty:i,ctx:o}),l.$set(u)},i(o){s||(_(n.$$.fragment,o),_(l.$$.fragment,o),s=!0)},o(o){p(n.$$.fragment,o),p(l.$$.fragment,o),s=!1},d(o){o&&$(e),y(n),y(l)}}}function iSe(r,e,n){let t,l,s;ne(r,ce,g=>n(5,s=g));const o=Et();let{processedColumn:i}=e,{aggregation:a}=e,{limitEditing:u=!1}=e;const f=g=>{var h,b;return(b=(h=t.find(w=>w.id===g))==null?void 0:h.label)!=null?b:""};function c(g){r.$$.not_equal(a.function,g)&&(a.function=g,n(0,a))}const m=()=>o("update"),d=()=>o("remove");return r.$$set=g=>{"processedColumn"in g&&n(1,i=g.processedColumn),"aggregation"in g&&n(0,a=g.aggregation),"limitEditing"in g&&n(2,u=g.limitEditing)},r.$$.update=()=>{var g;r.$$.dirty&2&&n(3,t=(g=i==null?void 0:i.summarizationFunctions)!=null?g:[]),r.$$.dirty&8&&n(4,l=t.map(h=>h.id))},[a,i,u,t,l,s,o,f,c,m,d]}class aSe extends Q{constructor(e){super(),Z(this,e,iSe,oSe,J,{processedColumn:1,aggregation:0,limitEditing:2})}}function t5(r,e,n){const t=r.slice();return t[15]=e[n],t}function n5(r){var n;const e=(n=r[1].get(r[18]))==null?void 0:n.column;r[19]=e}function r5(r){let e,n,t;return n=new Nt({props:{label:r[5]("not_aggregated"),layout:"stacked",$$slots:{default:[fSe]},$$scope:{ctx:r}}}),{c(){e=E("section"),C(n.$$.fragment),I(e,"class","svelte-1a5pfoa")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&32&&(o.label=l[5]("not_aggregated")),s&1048599&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function uSe(r){var t,l,s,o,i,a,u,f;n5(r);let e,n;return e=new Gn({props:{column:{name:(l=(t=r[19])==null?void 0:t.display_name)!=null?l:"",type:(o=(s=r[19])==null?void 0:s.type)!=null?o:"unknown",type_options:(a=(i=r[19])==null?void 0:i.type_options)!=null?a:null,metadata:(f=(u=r[19])==null?void 0:u.metadata)!=null?f:null}}}),{c(){C(e.$$.fragment)},m(c,m){k(e,c,m),n=!0},p(c,m){var g,h,b,w,S,T,M,A;n5(c);const d={};m&262146&&(d.column={name:(h=(g=c[19])==null?void 0:g.display_name)!=null?h:"",type:(w=(b=c[19])==null?void 0:b.type)!=null?w:"unknown",type_options:(T=(S=c[19])==null?void 0:S.type_options)!=null?T:null,metadata:(A=(M=c[19])==null?void 0:M.metadata)!=null?A:null}),e.$set(d)},i(c){n||(_(e.$$.fragment,c),n=!0)},o(c){p(e.$$.fragment,c),n=!1},d(c){y(e,c)}}}function fSe(r){let e,n;return e=new _c({props:{values:[...r[4].values()].map(o5),options:[...r[1].without(r[0].columnIdentifier).values()].map(i5),autoClearInvalidValues:!1,disabled:r[2],$$slots:{default:[uSe,({option:t})=>({18:t}),({option:t})=>t?262144:0]},$$scope:{ctx:r}}}),e.$on("change",r[11]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.values=[...t[4].values()].map(o5)),l&3&&(s.options=[...t[1].without(t[0].columnIdentifier).values()].map(i5)),l&4&&(s.disabled=t[2]),l&1310722&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function l5(r){let e,n,t=r[5]("aggregate")+"",l,s,o=[],i=new Map,a,u=[...r[3].values()];const f=c=>c[15].inputAlias;for(let c=0;c<u.length;c+=1){let m=t5(r,u,c),d=f(m);i.set(d,o[c]=s5(d,m))}return{c(){e=E("section"),n=E("header"),l=L(t),s=N();for(let c=0;c<o.length;c+=1)o[c].c();I(e,"class","svelte-1a5pfoa")},m(c,m){v(c,e,m),R(e,n),R(n,l),R(e,s);for(let d=0;d<o.length;d+=1)o[d].m(e,null);a=!0},p(c,m){(!a||m&32)&&t!==(t=c[5]("aggregate")+"")&&z(l,t),m&270&&(u=[...c[3].values()],U(),o=ht(o,m,f,1,c,u,i,e,kt,s5,null,t5),W())},i(c){if(!a){for(let m=0;m<u.length;m+=1)_(o[m]);a=!0}},o(c){for(let m=0;m<o.length;m+=1)p(o[m]);a=!1},d(c){c&&$(e);for(let m=0;m<o.length;m+=1)o[m].d()}}}function s5(r,e){let n,t,l;function s(){return e[13](e[15])}return t=new aSe({props:{processedColumn:e[1].get(e[15].inputAlias),aggregation:e[15],limitEditing:e[2]}}),t.$on("update",e[12]),t.$on("remove",s),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(o,i){v(o,n,i),k(t,o,i),l=!0},p(o,i){e=o;const a={};i&10&&(a.processedColumn=e[1].get(e[15].inputAlias)),i&8&&(a.aggregation=e[15]),i&4&&(a.limitEditing=e[2]),t.$set(a)},i(o){l||(_(t.$$.fragment,o),l=!0)},o(o){p(t.$$.fragment,o),l=!1},d(o){o&&$(n),y(t,o)}}}function cSe(r){let e,n,t,l,s;n=new QM({props:{allowDelete:!1,columns:r[1],getColumnLabel:r[9],disableColumnChange:r[2],columnIdentifier:r[0].columnIdentifier,preprocFunctionIdentifier:r[0].preprocFunctionIdentifier}}),n.$on("update",r[10]);let o=r[4].size>0&&r5(r),i=r[3].size>0&&l5(r);return{c(){e=E("div"),C(n.$$.fragment),t=N(),o&&o.c(),l=N(),i&&i.c(),I(e,"class","summarization svelte-1a5pfoa")},m(a,u){v(a,e,u),k(n,e,null),R(e,t),o&&o.m(e,null),R(e,l),i&&i.m(e,null),s=!0},p(a,[u]){const f={};u&2&&(f.columns=a[1]),u&2&&(f.getColumnLabel=a[9]),u&4&&(f.disableColumnChange=a[2]),u&1&&(f.columnIdentifier=a[0].columnIdentifier),u&1&&(f.preprocFunctionIdentifier=a[0].preprocFunctionIdentifier),n.$set(f),a[4].size>0?o?(o.p(a,u),u&16&&_(o,1)):(o=r5(a),o.c(),_(o,1),o.m(e,l)):o&&(U(),p(o,1,1,()=>{o=null}),W()),a[3].size>0?i?(i.p(a,u),u&8&&_(i,1)):(i=l5(a),i.c(),_(i,1),i.m(e,null)):i&&(U(),p(i,1,1,()=>{i=null}),W())},i(a){s||(_(n.$$.fragment,a),_(o),_(i),s=!0)},o(a){p(n.$$.fragment,a),p(o),p(i),s=!1},d(a){a&&$(e),y(n),o&&o.d(),i&&i.d()}}}const o5=r=>r.inputAlias,i5=r=>r.column.alias;function mSe(r,e,n){let t,l,s;ne(r,ce,S=>n(5,s=S));const o=Et();let{columns:i}=e,{model:a}=e,{limitEditing:u=!1}=e;function f(S){const{columnIdentifier:T,preprocFunctionIdentifier:M}=S;T!==a.columnIdentifier&&(n(4,l=new Ct),n(3,t=new Ct),n(0,a.aggregations=t,a),n(0,a.groups=l,a)),n(0,a.columnIdentifier=T,a),n(0,a.preprocFunctionIdentifier=M,a),o("update",a)}function c(S){let T=t;const M=new Set(S);[...i.values()].forEach(A=>{const D=A.column.alias;!M.has(D)&&a.columnIdentifier!==D&&(T=T.with(D,{inputAlias:D,outputAlias:`${D}_agged`,function:"distinct_aggregate_to_array"}))}),n(3,t=T),n(4,l=new Ct(S.map(A=>[A,{inputAlias:A,outputAlias:`${A}_group`}]))),n(0,a.aggregations=t,a),n(0,a.groups=l,a),o("update",a)}function m(S){n(4,l=l.with(S.inputAlias,{inputAlias:S.inputAlias,outputAlias:`${S.inputAlias}_group`})),n(3,t=t.without(S.inputAlias)),n(0,a.groups=l,a),n(0,a.aggregations=t,a),o("update",a)}const d=S=>{var T,M;return(M=S&&((T=i.get(S.id))==null?void 0:T.column.display_name))!=null?M:""},g=S=>f(S.detail),h=S=>c(S.detail);function b(S){Re.call(this,r,S)}const w=S=>m(S);return r.$$set=S=>{"columns"in S&&n(1,i=S.columns),"model"in S&&n(0,a=S.model),"limitEditing"in S&&n(2,u=S.limitEditing)},r.$$.update=()=>{r.$$.dirty&1&&n(3,{aggregations:t,groups:l}=a,t,(n(4,l),n(0,a)))},[a,i,u,t,l,s,f,c,m,d,g,h,b,w]}class dSe extends Q{constructor(e){super(),Z(this,e,mSe,cSe,J,{columns:1,model:0,limitEditing:2})}}function _Se(r,e,n){const t=[];let l=qf(r.map(s=>s.alias),n);t.push(l);for(let s=1;s<e.length;s+=1){const o=e[s-1];o.type==="summarize"&&(l=qf(o.getOutputColumnAliases(),n)),t.push(l)}return t}function a5(r,e,n){const t=r.slice();return t[24]=e[n],t[26]=n,t}function u5(r){const e=r[3][r[26]].size===0;r[27]=e}function f5(r){let e=[],n=new Map,t,l,s=r[0];const o=i=>i[24];for(let i=0;i<s.length;i+=1){let a=a5(r,s,i),u=o(a);n.set(u,e[i]=m5(u,a))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=ae()},m(i,a){for(let u=0;u<e.length;u+=1)e[u].m(i,a);v(i,t,a),l=!0},p(i,a){a&24587&&(s=i[0],U(),e=ht(e,a,o,1,i,s,n,t.parentNode,kt,m5,t,a5),W())},i(i){if(!l){for(let a=0;a<s.length;a+=1)_(e[a]);l=!0}},o(i){for(let a=0;a<e.length;a+=1)p(e[a]);l=!1},d(i){for(let a=0;a<e.length;a+=1)e[a].d(i);i&&$(t)}}}function c5(r){let e,n;return e=new st({props:{appearance:"plain",class:"padding-zero",$$slots:{default:[pSe]},$$scope:{ctx:r}}}),e.$on("click",r[23]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&268435456&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function pSe(r){let e,n;const t=[Mt,{size:"0.8rem"}];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[_e(Mt),t[1]]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function gSe(r){let e,n,t=r[26]+1+"",l,s,o,i=r[24].name+"",a,u,f,c,m=r[26]===r[0].length-1&&c5(r);return{c(){e=E("span"),n=E("span"),l=L(t),s=N(),o=E("span"),a=L(i),u=N(),m&&m.c(),f=N(),I(n,"class","number svelte-1uq6biu"),I(o,"class","title svelte-1uq6biu"),I(e,"slot","header"),I(e,"class","header svelte-1uq6biu")},m(d,g){v(d,e,g),R(e,n),R(n,l),R(e,s),R(e,o),R(o,a),R(e,u),m&&m.m(e,null),R(e,f),c=!0},p(d,g){(!c||g&1)&&t!==(t=d[26]+1+"")&&z(l,t),(!c||g&1)&&i!==(i=d[24].name+"")&&z(a,i),d[26]===d[0].length-1?m?(m.p(d,g),g&1&&_(m,1)):(m=c5(d),m.c(),_(m,1),m.m(e,f)):m&&(U(),p(m,1,1,()=>{m=null}),W())},i(d){c||(_(m),c=!0)},o(d){p(m),c=!1},d(d){d&&$(e),m&&m.d()}}}function hSe(r){let e,n;function t(){return r[22](r[26],r[24])}return e=new GCe({props:{columns:r[3][r[26]],columnsAllowedForSelection:[...r[3][r[26]].without(r[1].getAllSortedColumns()).values()].map(d5),model:r[24],limitEditing:r[27]}}),e.$on("update",t),{c(){C(e.$$.fragment)},m(l,s){k(e,l,s),n=!0},p(l,s){r=l;const o={};s&9&&(o.columns=r[3][r[26]]),s&11&&(o.columnsAllowedForSelection=[...r[3][r[26]].without(r[1].getAllSortedColumns()).values()].map(d5)),s&1&&(o.model=r[24]),s&9&&(o.limitEditing=r[27]),e.$set(o)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){p(e.$$.fragment,l),n=!1},d(l){y(e,l)}}}function bSe(r){let e,n;function t(){return r[21](r[26],r[24])}return e=new VCe({props:{columns:r[3][r[26]],model:r[24],limitEditing:r[27]}}),e.$on("update",t),{c(){C(e.$$.fragment)},m(l,s){k(e,l,s),n=!0},p(l,s){r=l;const o={};s&9&&(o.columns=r[3][r[26]]),s&1&&(o.model=r[24]),s&9&&(o.limitEditing=r[27]),e.$set(o)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){p(e.$$.fragment,l),n=!1},d(l){y(e,l)}}}function $Se(r){let e,n;function t(){return r[20](r[26],r[24])}return e=new dSe({props:{columns:r[3][r[26]],model:r[24],limitEditing:r[27]||r[26]<r[0].length-1}}),e.$on("update",t),{c(){C(e.$$.fragment)},m(l,s){k(e,l,s),n=!0},p(l,s){r=l;const o={};s&9&&(o.columns=r[3][r[26]]),s&1&&(o.model=r[24]),s&9&&(o.limitEditing=r[27]||r[26]<r[0].length-1),e.$set(o)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){p(e.$$.fragment,l),n=!1},d(l){y(e,l)}}}function vSe(r){let e,n;function t(){return r[19](r[26],r[24])}return e=new FCe({props:{columns:r[3][r[26]],model:r[24],limitEditing:r[27],totalTransformations:r[0].length}}),e.$on("update",t),{c(){C(e.$$.fragment)},m(l,s){k(e,l,s),n=!0},p(l,s){r=l;const o={};s&9&&(o.columns=r[3][r[26]]),s&1&&(o.model=r[24]),s&9&&(o.limitEditing=r[27]),s&1&&(o.totalTransformations=r[0].length),e.$set(o)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){p(e.$$.fragment,l),n=!1},d(l){y(e,l)}}}function wSe(r){u5(r);let e,n,t,l,s;const o=[vSe,$Se,bSe,hSe],i=[];function a(u,f){return u[24].type==="filter"?0:u[24].type==="summarize"?1:u[24].type==="hide"?2:u[24].type==="order"?3:-1}return~(n=a(r))&&(t=i[n]=o[n](r)),{c(){e=E("div"),t&&t.c(),l=N(),I(e,"slot","content"),I(e,"class","content svelte-1uq6biu")},m(u,f){v(u,e,f),~n&&i[n].m(e,null),R(e,l),s=!0},p(u,f){u5(u);let c=n;n=a(u),n===c?~n&&i[n].p(u,f):(t&&(U(),p(i[c],1,1,()=>{i[c]=null}),W()),~n?(t=i[n],t?t.p(u,f):(t=i[n]=o[n](u),t.c()),_(t,1),t.m(e,l)):t=null)},i(u){s||(_(t),s=!0)},o(u){p(t),s=!1},d(u){u&&$(e),~n&&i[n].d()}}}function m5(r,e){let n,t,l;return t=new Fl({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[wSe],header:[gSe]},$$scope:{ctx:e}}}),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(s,o){v(s,n,o),k(t,s,o),l=!0},p(s,o){e=s;const i={};o&268435467&&(i.$$scope={dirty:o,ctx:e}),t.$set(i)},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){s&&$(n),y(t,s)}}}function kSe(r){let e=r[8]("filter")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&256&&e!==(e=t[8]("filter")+"")&&z(n,e)},d(t){t&&$(n)}}}function ySe(r){let e=r[8]("sort")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&256&&e!==(e=t[8]("sort")+"")&&z(n,e)},d(t){t&&$(n)}}}function CSe(r){let e=r[8]("summarize")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&256&&e!==(e=t[8]("summarize")+"")&&z(n,e)},d(t){t&&$(n)}}}function SSe(r){let e=r[8]("hide_columns")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&256&&e!==(e=t[8]("hide_columns")+"")&&z(n,e)},d(t){t&&$(n)}}}function TSe(r){let e,n,t,l,s,o,i,a;return e=new wn({props:{$$slots:{default:[kSe]},$$scope:{ctx:r}}}),e.$on("click",r[9]),t=new wn({props:{disabled:!r[2],$$slots:{default:[ySe]},$$scope:{ctx:r}}}),t.$on("click",r[12]),s=new wn({props:{disabled:r[1].hasSummarizationTransform(),$$slots:{default:[CSe]},$$scope:{ctx:r}}}),s.$on("click",r[10]),i=new wn({props:{$$slots:{default:[SSe]},$$scope:{ctx:r}}}),i.$on("click",r[11]),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),C(s.$$.fragment),o=N(),C(i.$$.fragment)},m(u,f){k(e,u,f),v(u,n,f),k(t,u,f),v(u,l,f),k(s,u,f),v(u,o,f),k(i,u,f),a=!0},p(u,f){const c={};f&268435712&&(c.$$scope={dirty:f,ctx:u}),e.$set(c);const m={};f&4&&(m.disabled=!u[2]),f&268435712&&(m.$$scope={dirty:f,ctx:u}),t.$set(m);const d={};f&2&&(d.disabled=u[1].hasSummarizationTransform()),f&268435712&&(d.$$scope={dirty:f,ctx:u}),s.$set(d);const g={};f&268435712&&(g.$$scope={dirty:f,ctx:u}),i.$set(g)},i(u){a||(_(e.$$.fragment,u),_(t.$$.fragment,u),_(s.$$.fragment,u),_(i.$$.fragment,u),a=!0)},o(u){p(e.$$.fragment,u),p(t.$$.fragment,u),p(s.$$.fragment,u),p(i.$$.fragment,u),a=!1},d(u){y(e,u),u&&$(n),y(t,u),u&&$(l),y(s,u),u&&$(o),y(i,u)}}}function ISe(r){let e,n,t,l,s,o=r[0]&&r[3].length===r[0].length&&f5(r);return l=new Pr({props:{label:r[8]("add_transformation_step"),icon:jt,disabled:r[7].size===0,triggerAppearance:"secondary",$$slots:{default:[TSe]},$$scope:{ctx:r}}}),{c(){e=E("div"),o&&o.c(),n=N(),t=E("div"),C(l.$$.fragment),I(t,"class","add-transform-control svelte-1uq6biu"),I(e,"class","transformations svelte-1uq6biu")},m(i,a){v(i,e,a),o&&o.m(e,null),R(e,n),R(e,t),k(l,t,null),s=!0},p(i,[a]){i[0]&&i[3].length===i[0].length?o?(o.p(i,a),a&9&&_(o,1)):(o=f5(i),o.c(),_(o,1),o.m(e,n)):o&&(U(),p(o,1,1,()=>{o=null}),W());const u={};a&256&&(u.label=i[8]("add_transformation_step")),a&128&&(u.disabled=i[7].size===0),a&268435718&&(u.$$scope={dirty:a,ctx:i}),l.$set(u)},i(i){s||(_(o),_(l.$$.fragment,i),s=!0)},o(i){p(o),p(l.$$.fragment,i),s=!1},d(i){i&&$(e),o&&o.d(),y(l)}}}const d5=r=>r.column.alias;function ESe(r,e,n){let t,l,s,o,i,a,u,f,c,m=H,d=()=>(m(),m=le(l,ee=>n(7,c=ee)),l),g,h=H,b=()=>(h(),h=le(t,ee=>n(1,g=ee)),t),w,S=H,T=()=>(S(),S=le(s,ee=>n(18,w=ee)),s),M;ne(r,ce,ee=>n(8,M=ee)),r.$$.on_destroy.push(()=>m()),r.$$.on_destroy.push(()=>h()),r.$$.on_destroy.push(()=>S());let{queryManager:A}=e;async function D(){const ee=[...c.values()][0];if(!ee)return;const x=[...ee.allowedFiltersMap.values()][0];if(!x)return;const X=new qM({columnIdentifier:ee.column.alias,conditionIdentifier:x.id,value:ee.initialInputValue});await A.update(fe=>fe.addFilterTransform(X))}async function O(){const x=[...c.values()][0];if(!x)return;const X=new Zp({columnIdentifier:x.column.alias,groups:new Ct,aggregations:new Ct});await A.update(fe=>fe.addSummarizationTransform(X))}async function F(){const ee=new UM({columnAliases:[]});await A.update(x=>x.addHideTransform(ee))}async function P(){const ee=u[0];if(!ee)return;const x=new WM({columnIdentifier:ee,sortDirection:"ASCENDING"});await A.update(X=>X.addSortTransform(x))}async function B(){await A.update(ee=>ee.removeLastTransform())}async function j(ee,x){await A.update(X=>X.updateTransform(ee,x))}const V=(ee,x)=>j(ee,x),q=(ee,x)=>j(ee,x),G=(ee,x)=>j(ee,x),Y=(ee,x)=>j(ee,x),K=()=>B();return r.$$set=ee=>{"queryManager"in ee&&n(15,A=ee.queryManager)},r.$$.update=()=>{r.$$.dirty&32768&&b(n(6,{query:t,processedColumns:l,columnsMetaData:s}=A,t,d(n(5,l)),T(n(4,s)))),r.$$.dirty&2&&n(17,{initial_columns:o,transformationModels:i}=g,o,(n(0,i),n(1,g))),r.$$.dirty&393217&&n(3,a=_Se(o,i,w)),r.$$.dirty&2&&n(16,u=g.getAllSortableColumns()),r.$$.dirty&65536&&n(2,f=u.length>0)},[i,g,f,a,s,l,t,c,M,D,O,F,P,B,j,A,u,o,w,V,q,G,Y,K]}class MSe extends Q{constructor(e){super(),Z(this,e,ESe,ISe,J,{queryManager:15})}}function RSe(r){let e,n;return e=new Vn({props:{$$slots:{default:[OSe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&32904&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function DSe(r){let e,n,t,l;const s=[NSe,FSe],o=[];function i(a,u){var f,c;return((f=a[2])==null?void 0:f.id)==="column-selection"?0:((c=a[2])==null?void 0:c.id)==="transform-results"?1:-1}return~(e=i(r))&&(n=o[e]=s[e](r)),{c(){n&&n.c(),t=ae()},m(a,u){~e&&o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?~e&&o[e].p(a,u):(n&&(U(),p(o[f],1,1,()=>{o[f]=null}),W()),~e?(n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t)):n=null)},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){~e&&o[e].d(a),a&&$(t)}}}function ASe(r){let e,n,t;return n=new Gt({}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","loading-state svelte-rg65k3")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p:H,i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function OSe(r){var o;let e=r[7]("failed_to_fetch_column_information")+"",n,t,l=((o=r[3])==null?void 0:o.errors.join(";"))+"",s;return{c(){n=L(e),t=N(),s=L(l)},m(i,a){v(i,n,a),v(i,t,a),v(i,s,a)},p(i,a){var u;a&128&&e!==(e=i[7]("failed_to_fetch_column_information")+"")&&z(n,e),a&8&&l!==(l=((u=i[3])==null?void 0:u.errors.join(";"))+"")&&z(s,l)},d(i){i&&$(n),i&&$(t),i&&$(s)}}}function FSe(r){let e,n=r[7]("transform_results_help")+"",t,l,s,o;return s=new MSe({props:{queryManager:r[0]}}),{c(){e=E("div"),t=L(n),l=N(),C(s.$$.fragment),I(e,"class","help-text svelte-rg65k3")},m(i,a){v(i,e,a),R(e,t),v(i,l,a),k(s,i,a),o=!0},p(i,a){(!o||a&128)&&n!==(n=i[7]("transform_results_help")+"")&&z(t,n);const u={};a&1&&(u.queryManager=i[0]),s.$set(u)},i(i){o||(_(s.$$.fragment,i),o=!0)},o(i){p(s.$$.fragment,i),o=!1},d(i){i&&$(e),i&&$(l),y(s,i)}}}function NSe(r){let e,n=r[7]("select_columns_for_exploration_help")+"",t,l,s,o;return s=new DCe({props:{queryManager:r[0],linkCollapsibleOpenState:r[1]}}),s.$on("add",r[11]),{c(){e=E("div"),t=L(n),l=N(),C(s.$$.fragment),I(e,"class","help-text svelte-rg65k3")},m(i,a){v(i,e,a),R(e,t),v(i,l,a),k(s,i,a),o=!0},p(i,a){(!o||a&128)&&n!==(n=i[7]("select_columns_for_exploration_help")+"")&&z(t,n);const u={};a&1&&(u.queryManager=i[0]),a&2&&(u.linkCollapsibleOpenState=i[1]),s.$set(u)},i(i){o||(_(s.$$.fragment,i),o=!0)},o(i){p(s.$$.fragment,i),o=!1},d(i){i&&$(e),i&&$(l),y(s,i)}}}function PSe(r){let e,n,t,l;const s=[ASe,DSe,RSe],o=[];function i(a,u){var f,c,m;return((f=a[3])==null?void 0:f.state)==="processing"?0:((c=a[3])==null?void 0:c.state)==="success"?1:((m=a[3])==null?void 0:m.state)==="failure"?2:-1}return~(e=i(r))&&(n=o[e]=s[e](r)),{c(){n&&n.c(),t=ae()},m(a,u){~e&&o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?~e&&o[e].p(a,u):(n&&(U(),p(o[f],1,1,()=>{o[f]=null}),W()),~e?(n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t)):n=null)},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){~e&&o[e].d(a),a&&$(t)}}}function LSe(r){let e,n,t,l,s;function o(a){r[12](a)}let i={tabs:r[8],tabStyle:"compact",fillTabWidth:!0,fillContainerHeight:!0,$$slots:{default:[PSe]},$$scope:{ctx:r}};return r[2]!==void 0&&(i.activeTab=r[2]),t=new Ua({props:i}),we.push(()=>Me(t,"activeTab",o)),{c(){e=E("aside"),n=E("section"),C(t.$$.fragment),I(n,"class","input-pane svelte-rg65k3"),I(e,"class","input-sidebar svelte-rg65k3")},m(a,u){v(a,e,u),R(e,n),k(t,n,null),s=!0},p(a,[u]){const f={};u&32911&&(f.$$scope={dirty:u,ctx:a}),!l&&u&4&&(l=!0,f.activeTab=a[2],De(()=>l=!1)),t.$set(f)},i(a){s||(_(t.$$.fragment,a),s=!0)},o(a){p(t.$$.fragment,a),s=!1},d(a){a&&$(e),y(t)}}}function HSe(r,e,n){let t,l,s,o,i,a,u=H,f=()=>(u(),u=le(s,F=>n(13,a=F)),s),c,m=H,d=()=>(m(),m=le(t,F=>n(14,c=F)),t),g,h=H,b=()=>(h(),h=le(l,F=>n(10,g=F)),l);ne(r,ce,F=>n(7,i=F)),r.$$.on_destroy.push(()=>u()),r.$$.on_destroy.push(()=>m()),r.$$.on_destroy.push(()=>h());let{queryManager:w}=e,{linkCollapsibleOpenState:S={}}=e;const T=[{id:"column-selection",label:i("select_columns")},{id:"transform-results",label:i("transform_results")}];let M=T[0];async function A(F){const P=`${F.tableName}_${F.name}`,B=new Set(c.initial_columns.map(G=>G.alias)),j=Ms(P,B),V=!c.hasSummarizationTransform();let q=!1;F.producesMultipleResults&&a&&V&&(q=await ml({title:{component:$c,props:{identifier:F.name,wrappingString:i("summarize_column_with_identifier")}},body:[i("summarize_column_recommendation"),i("summarize_column_configure")],proceedButton:{label:i("yes_summarize_as_list"),icon:void 0},cancelButton:{label:i("no_continue_without_summarization"),icon:void 0}})),await w.update(G=>{const Y=G.withInitialColumn({alias:j,attnum:F.id,join_path:F.jpPath});if(q){const K=w.getAutoSummarizationTransformModel();if(K)return Y.model.addSummarizationTransform(K)}return Y}),V&&w.selectColumn(j),q&&n(2,[,M]=T,M)}const D=F=>A(F.detail);function O(F){M=F,n(2,M)}return r.$$set=F=>{"queryManager"in F&&n(0,w=F.queryManager),"linkCollapsibleOpenState"in F&&n(1,S=F.linkCollapsibleOpenState)},r.$$.update=()=>{r.$$.dirty&1&&d(n(6,{query:t,state:l,confirmationNeededForMultipleResults:s}=w,t,b(n(5,l)),f(n(4,s)))),r.$$.dirty&1024&&n(3,{inputColumnsFetchState:o}=g,o)},[w,S,M,o,s,l,t,i,T,A,g,D,O]}class VSe extends Q{constructor(e){super(),Z(this,e,HSe,LSe,J,{queryManager:0,linkCollapsibleOpenState:1})}}function zSe(r){let e;const n=r[3].default,t=ke(n,r,r[5],null);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&32)&&Ce(t,n,l,l[5],e?ye(n,l[5],s,null):Se(l[5]),null)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function BSe(r){let e,n;return e=new VSe({props:{slot:"panel",queryManager:r[0],linkCollapsibleOpenState:r[1]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.queryManager=t[0]),l&2&&(s.linkCollapsibleOpenState=t[1]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function qSe(r){let e,n,t;function l(o){r[4](o)}let s={placement:"left",minSizePx:250,maxSizePx:700,$$slots:{panel:[BSe],default:[zSe]},$$scope:{ctx:r}};return r[2]!==void 0&&(s.sizePx=r[2]),e=new gc({props:s}),we.push(()=>Me(e,"sizePx",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,[i]){const a={};i&35&&(a.$$scope={dirty:i,ctx:o}),!n&&i&4&&(n=!0,a.sizePx=o[2],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function USe(r,e,n){let t;ne(r,G0,u=>n(2,t=u));let{$$slots:l={},$$scope:s}=e,{queryManager:o}=e,{linkCollapsibleOpenState:i={}}=e;function a(u){t=u,G0.set(t)}return r.$$set=u=>{"queryManager"in u&&n(0,o=u.queryManager),"linkCollapsibleOpenState"in u&&n(1,i=u.linkCollapsibleOpenState),"$$scope"in u&&n(5,s=u.$$scope)},[o,i,t,l,a,s]}class WSe extends Q{constructor(e){super(),Z(this,e,USe,qSe,J,{queryManager:0,linkCollapsibleOpenState:1})}}function jSe(r){return[...r.altKey?["Alt"]:[],...r.ctrlKey?["Ctrl"]:[],...r.metaKey?["Meta"]:[],...r.shiftKey?["Shift"]:[]].join("+")}const xM={};function eR(r){return r?Math.max(nI,Math.min(rI,r)):tI}function YSe(r,e,n,t){let l=0;const s=new Map;r.forEach(i=>{const a=e(i),u=eR(n.get(a));s.set(a,{left:l,width:u,styleString:`width: ${u}px; left: ${l}px;`}),l+=u});const o=l+t;return{columnStyleMap:s,rowWidth:o}}function GSe(r){Fr(xM,r)}function Ei(){return Wn(xM)}function tR(r){var e;(e=r==null?void 0:r.querySelector("[data-active-cell]"))==null||e.focus()}function _5(r){let e;const n=r[25].default,t=ke(n,r,r[24],null);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&16777216)&&Ce(t,n,l,l[24],e?ye(n,l[24],s,null):Se(l[24]),null)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function KSe(r){let e,n,t,l,s=r[1].length&&_5(r);return{c(){e=E("div"),s&&s.c(),I(e,"class","sheet svelte-x9ehg2"),I(e,"style",r[6]),ie(e,"has-border",r[4]),ie(e,"uses-virtual-list",r[2]),ie(e,"set-to-row-width",r[3]),ie(e,"selection-in-progress",r[7])},m(o,i){v(o,e,i),s&&s.m(e,null),r[26](e),n=!0,t||(l=[He(e,"mousedown",r[11]),He(e,"contextmenu",r[12]),He(e,"focusin",r[9]),He(e,"focusout",r[10])],t=!0)},p(o,[i]){o[1].length?s?(s.p(o,i),i&2&&_(s,1)):(s=_5(o),s.c(),_(s,1),s.m(e,null)):s&&(U(),p(s,1,1,()=>{s=null}),W()),(!n||i&64)&&I(e,"style",o[6]),(!n||i&16)&&ie(e,"has-border",o[4]),(!n||i&4)&&ie(e,"uses-virtual-list",o[2]),(!n||i&8)&&ie(e,"set-to-row-width",o[3]),(!n||i&128)&&ie(e,"selection-in-progress",o[7])},i(o){n||(_(s),n=!0)},o(o){p(s),n=!1},d(o){o&&$(e),s&&s.d(),r[26](null),t=!1,Ot(l)}}}function XSe(r,e,n){let t,l,s,o,i=H,a=()=>(i(),i=le(T,X=>n(27,o=X)),T),u;r.$$.on_destroy.push(()=>i());let{$$slots:f={},$$scope:c}=e;const m=XG();let{columns:d}=e,{usesVirtualList:g=!1}=e,{restrictWidthToRowWidth:h=!1}=e,{hasBorder:b=!1}=e,{hasPaddingRight:w=!1}=e,{clipboardHandler:S=void 0}=e,{selection:T=void 0}=e;a();let{onCellSelectionStart:M=()=>{}}=e,{getColumnIdentifier:A}=e,{scrollOffset:D=0}=e,{horizontalScrollOffset:O=0}=e,{paddingRight:F=w?100:0}=e,{columnWidths:P=new Ct}=e,{sheetElement:B=void 0}=e,{onCellContextMenu:j=void 0}=e;const V=Ue(!1);ne(r,V,X=>n(7,u=X));const q={columnStyleMap:Ue(t),rowWidth:Ue(l),horizontalScrollOffset:Ue(O),scrollOffset:Ue(D),paddingRight:Ue(F),selectionInProgress:V};GSe({stores:q,api:{getColumnWidth:X=>eR(P.get(X)),setColumnWidth:(X,fe)=>{n(15,P=P.with(X,fe))},resetColumnWidth:X=>{n(15,P=P.without(X))},setHorizontalScrollOffset:X=>{n(14,O=X)},setScrollOffset:X=>{n(13,D=X)}}});function G(){m==null||m.set(S)}function Y(){m==null||m.set(void 0)}function K(X){if(X.button!==0||!T||!B)return;const fe=X.target,he=Cd(fe);if(!he)return;const me=(()=>{const ge=jSe(X);if(ge==="")return he;if(ge==="Shift"){if(!o)return;const{activeCellId:pe}=o;return pe?{type:"data-cell",cellId:pe}:void 0}})();!me||(X.preventDefault(),pZ({selection:T,sheetElement:B,startingCell:me,targetCell:he,selectionInProgress:V}),me===he&&M(he))}function ee(X){if(!j)return;const fe=X.target,he=Cd(fe);if(!he)return;j({targetCell:he,position:X})==="opened"&&X.preventDefault()}tn(()=>(T==null||T.on("focus",async()=>{!B||(await sn(),tR(B))}),()=>{Y()}));function x(X){we[X?"unshift":"push"](()=>{B=X,n(0,B)})}return r.$$set=X=>{"columns"in X&&n(1,d=X.columns),"usesVirtualList"in X&&n(2,g=X.usesVirtualList),"restrictWidthToRowWidth"in X&&n(3,h=X.restrictWidthToRowWidth),"hasBorder"in X&&n(4,b=X.hasBorder),"hasPaddingRight"in X&&n(16,w=X.hasPaddingRight),"clipboardHandler"in X&&n(17,S=X.clipboardHandler),"selection"in X&&a(n(5,T=X.selection)),"onCellSelectionStart"in X&&n(18,M=X.onCellSelectionStart),"getColumnIdentifier"in X&&n(19,A=X.getColumnIdentifier),"scrollOffset"in X&&n(13,D=X.scrollOffset),"horizontalScrollOffset"in X&&n(14,O=X.horizontalScrollOffset),"paddingRight"in X&&n(20,F=X.paddingRight),"columnWidths"in X&&n(15,P=X.columnWidths),"sheetElement"in X&&n(0,B=X.sheetElement),"onCellContextMenu"in X&&n(21,j=X.onCellContextMenu),"$$scope"in X&&n(24,c=X.$$scope)},r.$$.update=()=>{r.$$.dirty&1605634&&n(23,{columnStyleMap:t,rowWidth:l}=YSe(d,A,P,F),t,(n(22,l),n(1,d),n(19,A),n(15,P),n(20,F))),r.$$.dirty&4194304&&q.rowWidth.set(l),r.$$.dirty&8388608&&q.columnStyleMap.set(t),r.$$.dirty&16384&&q.horizontalScrollOffset.set(O),r.$$.dirty&8192&&q.scrollOffset.set(D),r.$$.dirty&1048576&&q.paddingRight.set(F),r.$$.dirty&4194312&&n(6,s=h?`width:${l}px;`:void 0)},[B,d,g,h,b,T,s,u,V,G,Y,K,ee,D,O,P,w,S,M,A,F,j,l,t,c,f,x]}class xp extends Q{constructor(e){super(),Z(this,e,XSe,KSe,J,{columns:1,usesVirtualList:2,restrictWidthToRowWidth:3,hasBorder:4,hasPaddingRight:16,clipboardHandler:17,selection:5,onCellSelectionStart:18,getColumnIdentifier:19,scrollOffset:13,horizontalScrollOffset:14,paddingRight:20,columnWidths:15,sheetElement:0,onCellContextMenu:21})}}function JSe(r){let e,n,t=`${r[2]}px`,l;const s=r[7].default,o=ke(s,r,r[6],null);return{c(){e=E("div"),n=E("div"),o&&o.c(),I(n,"class","svelte-1xjjkh9"),ln(n,"width",t,!1),I(e,"data-sheet-element","header-row"),I(e,"class","svelte-1xjjkh9"),ie(e,"inherit-font-style",r[0])},m(i,a){v(i,e,a),R(e,n),o&&o.m(n,null),r[8](e),l=!0},p(i,[a]){o&&o.p&&(!l||a&64)&&Ce(o,s,i,i[6],l?ye(s,i[6],a,null):Se(i[6]),null),a&4&&t!==(t=`${i[2]}px`)&&ln(n,"width",t,!1),(!l||a&1)&&ie(e,"inherit-font-style",i[0])},i(i){l||(_(o,i),l=!0)},o(i){p(o,i),l=!1},d(i){i&&$(e),o&&o.d(i),r[8](null)}}}function ZSe(r,e,n){let t,l,{$$slots:s={},$$scope:o}=e;const{stores:i,api:a}=Ei(),{horizontalScrollOffset:u}=i;ne(r,u,b=>n(5,t=b));const{rowWidth:f}=i;ne(r,f,b=>n(2,l=b));let{inheritFontStyle:c=!1}=e,m;function d(b){m&&n(1,m.scrollLeft=b,m)}function g(b){t!==b&&a.setHorizontalScrollOffset(b)}tn(()=>{d(t);const b=w=>{const{scrollLeft:S}=w.target;g(S)};return m.addEventListener("scroll",b),()=>{m.removeEventListener("scroll",b)}});function h(b){we[b?"unshift":"push"](()=>{m=b,n(1,m)})}return r.$$set=b=>{"inheritFontStyle"in b&&n(0,c=b.inheritFontStyle),"$$scope"in b&&n(6,o=b.$$scope)},r.$$.update=()=>{r.$$.dirty&32&&d(t)},[c,m,l,u,f,t,o,s,h]}class e1 extends Q{constructor(e){super(),Z(this,e,ZSe,JSe,J,{inheritFontStyle:0})}}function QSe(r){let e,n,t,l;return{c(){e=E("div"),e.innerHTML='<div class="indicator svelte-15a62t4"></div>',I(e,"class","column-resizer svelte-15a62t4"),ie(e,"selection-in-progress",r[7]),ie(e,"is-resizing",!!r[5])},m(s,o){v(s,e,o),t||(l=[Dt(n=H9.call(null,e,{getStartingValue:r[9],onMove:r[10],onStart:r[11],onStop:r[12],min:r[0],max:r[1]})),He(e,"dblclick",r[13])],t=!0)},p(s,[o]){n&&St(n.update)&&o&47&&n.update.call(null,{getStartingValue:s[9],onMove:s[10],onStart:s[11],onStop:s[12],min:s[0],max:s[1]}),o&128&&ie(e,"selection-in-progress",s[7]),o&32&&ie(e,"is-resizing",!!s[5])},i:H,o:H,d(s){s&&$(e),t=!1,Ot(l)}}}function xSe(r,e,n){let t,l,s=H,o=()=>(s(),s=le(t,M=>n(7,l=M)),t);r.$$.on_destroy.push(()=>s());const{api:i,stores:a}=Ei();let{minColumnWidth:u=nI}=e,{maxColumnWidth:f=rI}=e,{columnIdentifierKey:c}=e,{afterResize:m=()=>{}}=e,{onReset:d=()=>{}}=e,g;const h=()=>{var M;return(M=i.getColumnWidth(c))!=null?M:0},b=M=>i.setColumnWidth(c,M),w=M=>{n(5,g=M)},S=M=>{M!==g&&m(M),n(5,g=void 0)},T=()=>{i.resetColumnWidth(c),d()};return r.$$set=M=>{"minColumnWidth"in M&&n(0,u=M.minColumnWidth),"maxColumnWidth"in M&&n(1,f=M.maxColumnWidth),"columnIdentifierKey"in M&&n(2,c=M.columnIdentifierKey),"afterResize"in M&&n(3,m=M.afterResize),"onReset"in M&&n(4,d=M.onReset)},o(n(6,{selectionInProgress:t}=a,t)),[u,f,c,m,d,g,t,l,i,h,b,w,S,T]}class t1 extends Q{constructor(e){super(),Z(this,e,xSe,QSe,J,{minColumnWidth:0,maxColumnWidth:1,columnIdentifierKey:2,afterResize:3,onReset:4})}}function e9e(){const r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(n){return window.setTimeout(n,20)};return e=>r(e)}function t9e(){const r=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return e=>r(e)}function Om(r){const e=r.__resizeTriggers__,n=e.firstElementChild,t=e.lastElementChild,l=n.firstElementChild;t.scrollLeft=t.scrollWidth,t.scrollTop=t.scrollHeight,l.style.width=n.offsetWidth+1+"px",l.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight}function n9e(r){return r.offsetWidth!==r.__resizeLast__.width||r.offsetHeight!==r.__resizeLast__.height}function r9e(){const r=e9e(),e=t9e();function n(b){var T,M,A,D;const w=b.target;if(((M=(T=w.className)==null?void 0:T.indexOf)==null?void 0:M.call(T,"contract-trigger"))<0&&((D=(A=w.className)==null?void 0:A.indexOf)==null?void 0:D.call(A,"expand-trigger"))<0)return;const S=this;Om(this),this.__resizeRAF__&&e(this.__resizeRAF__),this.__resizeRAF__=r(()=>{n9e(S)&&(S.__resizeLast__.width=S.offsetWidth,S.__resizeLast__.height=S.offsetHeight,S.__resizeListeners__.forEach(O=>{O.call(S,b)}))})}let t=!1,l="",s="animationstart",o="";const i="Webkit Moz O ms".split(" "),a="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),u=document.createElement("fakeelement");if(u.style.animationName!==void 0&&(t=!0),t===!1){for(let b=0;b<i.length;b+=1)if(u.style[i[b]+"AnimationName"]!==void 0){o=i[b],l="-"+o.toLowerCase()+"-",s=a[b],t=!0;break}}const f="resizeanim",c="@"+l+"keyframes "+f+" { from { opacity: 0; } to { opacity: 0; } } ",m=l+"animation: 1ms "+f+"; ";function d(b){if(!b.getElementById("detectElementResize")){const w=(c!=null?c:"")+".resize-triggers { "+(m!=null?m:"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; }.resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',S=b.head||b.getElementsByTagName("head")[0],T=b.createElement("style");T.id="detectElementResize",T.type="text/css",T.styleSheet?T.styleSheet.cssText=w:T.appendChild(b.createTextNode(w)),S.appendChild(T)}}function g(b,w){if(!b.__resizeTriggers__){const S=b.ownerDocument,T=window.getComputedStyle(b);T&&T.position==="static"&&(b.style.position="relative"),d(S),b.__resizeLast__={},b.__resizeListeners__=[],(b.__resizeTriggers__=S.createElement("div")).className="resize-triggers";const M=S.createElement("div");M.className="expand-trigger",M.appendChild(S.createElement("div"));const A=S.createElement("div");A.className="contract-trigger",b.__resizeTriggers__.appendChild(M),b.__resizeTriggers__.appendChild(A),b.appendChild(b.__resizeTriggers__),Om(b),b.addEventListener("scroll",n,!0),s&&(b.__resizeTriggers__.__animationListener__=function(O){O.animationName===f&&Om(b)},b.__resizeTriggers__.addEventListener(s,b.__resizeTriggers__.__animationListener__))}b.__resizeListeners__.push(w)}function h(b,w){if(b.__resizeListeners__.splice(b.__resizeListeners__.indexOf(w),1),!b.__resizeListeners__.length){b.removeEventListener("scroll",n,!0),b.__resizeTriggers__.__animationListener__&&(b.__resizeTriggers__.removeEventListener(s,b.__resizeTriggers__.__animationListener__),b.__resizeTriggers__.__animationListener__=null);try{b.__resizeTriggers__=!b.removeChild(b.__resizeTriggers__)}catch(S){}}}return{addResizeListener:g,removeResizeListener:h}}const l9e=r=>({height:r&1}),p5=r=>({height:r[0]});function g5(r){let e;const n=r[6].default,t=ke(n,r,r[5],p5);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&33)&&Ce(t,n,l,l[5],e?ye(n,l[5],s,l9e):Se(l[5]),p5)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function s9e(r){let e,n,t=!r[2]&&g5(r);return{c(){e=E("div"),t&&t.c(),I(e,"class",r[3])},m(l,s){v(l,e,s),t&&t.m(e,null),r[7](e),n=!0},p(l,[s]){l[2]?t&&(U(),p(t,1,1,()=>{t=null}),W()):t?(t.p(l,s),s&4&&_(t,1)):(t=g5(l),t.c(),_(t,1),t.m(e,null)),(!n||s&8)&&I(e,"class",l[3])},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){l&&$(e),t&&t.d(),r[7](null)}}}function o9e(r,e,n){let t,{$$slots:l={},$$scope:s}=e,{class:o="default"}=e,i,a,u=!1,f=0;function c(){if(a){const g=a.offsetHeight||0,h=window.getComputedStyle(a)||{},b=parseInt(h.paddingTop,10)||0,w=parseInt(h.paddingBottom,10)||0,S=g-b-w;f!==S&&n(0,f=g-b-w)}}tn(()=>{let g;return i!=null&&i.parentNode&&(a=i.parentNode,g=r9e(),g.addResizeListener(a,c),c()),()=>{g&&a&&g.removeResizeListener(a,c)}});function m(g){n(2,u=g===0)}function d(g){we[g?"unshift":"push"](()=>{i=g,n(1,i)})}return r.$$set=g=>{"class"in g&&n(4,o=g.class),"$$scope"in g&&n(5,s=g.$$scope)},r.$$.update=()=>{r.$$.dirty&16&&n(3,t=["virtual-list","resizer",o].join(" ")),r.$$.dirty&1&&m(f)},[f,i,u,t,o,s,l,d]}class i9e extends Q{constructor(e){super(),Z(this,e,o9e,s9e,J,{class:4})}}/*!
 * perfect-scrollbar v1.5.3
 * Copyright 2021 Hyunje Jun, MDBootstrap and Contributors
 * Licensed under MIT
 */function Ul(r){return getComputedStyle(r)}function Ir(r,e){for(var n in e){var t=e[n];typeof t=="number"&&(t=t+"px"),r.style[n]=t}return r}function Lu(r){var e=document.createElement("div");return e.className=r,e}var h5=typeof Element<"u"&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function ws(r,e){if(!h5)throw new Error("No element matching method supported");return h5.call(r,e)}function Ho(r){r.remove?r.remove():r.parentNode&&r.parentNode.removeChild(r)}function b5(r,e){return Array.prototype.filter.call(r.children,function(n){return ws(n,e)})}var Kn={main:"ps",rtl:"ps__rtl",element:{thumb:function(r){return"ps__thumb-"+r},rail:function(r){return"ps__rail-"+r},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(r){return"ps--active-"+r},scrolling:function(r){return"ps--scrolling-"+r}}},nR={x:null,y:null};function rR(r,e){var n=r.element.classList,t=Kn.state.scrolling(e);n.contains(t)?clearTimeout(nR[e]):n.add(t)}function lR(r,e){nR[e]=setTimeout(function(){return r.isAlive&&r.element.classList.remove(Kn.state.scrolling(e))},r.settings.scrollingThreshold)}function a9e(r,e){rR(r,e),lR(r,e)}var mu=function(e){this.element=e,this.handlers={}},sR={isEmpty:{configurable:!0}};mu.prototype.bind=function(e,n){typeof this.handlers[e]>"u"&&(this.handlers[e]=[]),this.handlers[e].push(n),this.element.addEventListener(e,n,!1)};mu.prototype.unbind=function(e,n){var t=this;this.handlers[e]=this.handlers[e].filter(function(l){return n&&l!==n?!0:(t.element.removeEventListener(e,l,!1),!1)})};mu.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)};sR.isEmpty.get=function(){var r=this;return Object.keys(this.handlers).every(function(e){return r.handlers[e].length===0})};Object.defineProperties(mu.prototype,sR);var Mi=function(){this.eventElements=[]};Mi.prototype.eventElement=function(e){var n=this.eventElements.filter(function(t){return t.element===e})[0];return n||(n=new mu(e),this.eventElements.push(n)),n};Mi.prototype.bind=function(e,n,t){this.eventElement(e).bind(n,t)};Mi.prototype.unbind=function(e,n,t){var l=this.eventElement(e);l.unbind(n,t),l.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(l),1)};Mi.prototype.unbindAll=function(){this.eventElements.forEach(function(e){return e.unbindAll()}),this.eventElements=[]};Mi.prototype.once=function(e,n,t){var l=this.eventElement(e),s=function(o){l.unbind(n,s),t(o)};l.bind(n,s)};function Hu(r){if(typeof window.CustomEvent=="function")return new CustomEvent(r);var e=document.createEvent("CustomEvent");return e.initCustomEvent(r,!1,!1,void 0),e}function Wf(r,e,n,t,l){t===void 0&&(t=!0),l===void 0&&(l=!1);var s;if(e==="top")s=["contentHeight","containerHeight","scrollTop","y","up","down"];else if(e==="left")s=["contentWidth","containerWidth","scrollLeft","x","left","right"];else throw new Error("A proper axis should be provided");u9e(r,n,s,t,l)}function u9e(r,e,n,t,l){var s=n[0],o=n[1],i=n[2],a=n[3],u=n[4],f=n[5];t===void 0&&(t=!0),l===void 0&&(l=!1);var c=r.element;r.reach[a]=null,c[i]<1&&(r.reach[a]="start"),c[i]>r[s]-r[o]-1&&(r.reach[a]="end"),e&&(c.dispatchEvent(Hu("ps-scroll-"+a)),e<0?c.dispatchEvent(Hu("ps-scroll-"+u)):e>0&&c.dispatchEvent(Hu("ps-scroll-"+f)),t&&a9e(r,a)),r.reach[a]&&(e||l)&&c.dispatchEvent(Hu("ps-"+a+"-reach-"+r.reach[a]))}function Bn(r){return parseInt(r,10)||0}function f9e(r){return ws(r,"input,[contenteditable]")||ws(r,"select,[contenteditable]")||ws(r,"textarea,[contenteditable]")||ws(r,"button,[contenteditable]")}function c9e(r){var e=Ul(r);return Bn(e.width)+Bn(e.paddingLeft)+Bn(e.paddingRight)+Bn(e.borderLeftWidth)+Bn(e.borderRightWidth)}var No={isWebKit:typeof document<"u"&&"WebkitAppearance"in document.documentElement.style,supportsTouch:typeof window<"u"&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:typeof navigator<"u"&&navigator.msMaxTouchPoints,isChrome:typeof navigator<"u"&&/Chrome/i.test(navigator&&navigator.userAgent)};function is(r){var e=r.element,n=Math.floor(e.scrollTop),t=e.getBoundingClientRect();r.containerWidth=Math.round(t.width),r.containerHeight=Math.round(t.height),r.contentWidth=e.scrollWidth,r.contentHeight=e.scrollHeight,e.contains(r.scrollbarXRail)||(b5(e,Kn.element.rail("x")).forEach(function(l){return Ho(l)}),e.appendChild(r.scrollbarXRail)),e.contains(r.scrollbarYRail)||(b5(e,Kn.element.rail("y")).forEach(function(l){return Ho(l)}),e.appendChild(r.scrollbarYRail)),!r.settings.suppressScrollX&&r.containerWidth+r.settings.scrollXMarginOffset<r.contentWidth?(r.scrollbarXActive=!0,r.railXWidth=r.containerWidth-r.railXMarginWidth,r.railXRatio=r.containerWidth/r.railXWidth,r.scrollbarXWidth=$5(r,Bn(r.railXWidth*r.containerWidth/r.contentWidth)),r.scrollbarXLeft=Bn((r.negativeScrollAdjustment+e.scrollLeft)*(r.railXWidth-r.scrollbarXWidth)/(r.contentWidth-r.containerWidth))):r.scrollbarXActive=!1,!r.settings.suppressScrollY&&r.containerHeight+r.settings.scrollYMarginOffset<r.contentHeight?(r.scrollbarYActive=!0,r.railYHeight=r.containerHeight-r.railYMarginHeight,r.railYRatio=r.containerHeight/r.railYHeight,r.scrollbarYHeight=$5(r,Bn(r.railYHeight*r.containerHeight/r.contentHeight)),r.scrollbarYTop=Bn(n*(r.railYHeight-r.scrollbarYHeight)/(r.contentHeight-r.containerHeight))):r.scrollbarYActive=!1,r.scrollbarXLeft>=r.railXWidth-r.scrollbarXWidth&&(r.scrollbarXLeft=r.railXWidth-r.scrollbarXWidth),r.scrollbarYTop>=r.railYHeight-r.scrollbarYHeight&&(r.scrollbarYTop=r.railYHeight-r.scrollbarYHeight),m9e(e,r),r.scrollbarXActive?e.classList.add(Kn.state.active("x")):(e.classList.remove(Kn.state.active("x")),r.scrollbarXWidth=0,r.scrollbarXLeft=0,e.scrollLeft=r.isRtl===!0?r.contentWidth:0),r.scrollbarYActive?e.classList.add(Kn.state.active("y")):(e.classList.remove(Kn.state.active("y")),r.scrollbarYHeight=0,r.scrollbarYTop=0,e.scrollTop=0)}function $5(r,e){return r.settings.minScrollbarLength&&(e=Math.max(e,r.settings.minScrollbarLength)),r.settings.maxScrollbarLength&&(e=Math.min(e,r.settings.maxScrollbarLength)),e}function m9e(r,e){var n={width:e.railXWidth},t=Math.floor(r.scrollTop);e.isRtl?n.left=e.negativeScrollAdjustment+r.scrollLeft+e.containerWidth-e.contentWidth:n.left=r.scrollLeft,e.isScrollbarXUsingBottom?n.bottom=e.scrollbarXBottom-t:n.top=e.scrollbarXTop+t,Ir(e.scrollbarXRail,n);var l={top:t,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?l.right=e.contentWidth-(e.negativeScrollAdjustment+r.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth-9:l.right=e.scrollbarYRight-r.scrollLeft:e.isRtl?l.left=e.negativeScrollAdjustment+r.scrollLeft+e.containerWidth*2-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:l.left=e.scrollbarYLeft+r.scrollLeft,Ir(e.scrollbarYRail,l),Ir(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),Ir(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}function d9e(r){r.element,r.event.bind(r.scrollbarY,"mousedown",function(e){return e.stopPropagation()}),r.event.bind(r.scrollbarYRail,"mousedown",function(e){var n=e.pageY-window.pageYOffset-r.scrollbarYRail.getBoundingClientRect().top,t=n>r.scrollbarYTop?1:-1;r.element.scrollTop+=t*r.containerHeight,is(r),e.stopPropagation()}),r.event.bind(r.scrollbarX,"mousedown",function(e){return e.stopPropagation()}),r.event.bind(r.scrollbarXRail,"mousedown",function(e){var n=e.pageX-window.pageXOffset-r.scrollbarXRail.getBoundingClientRect().left,t=n>r.scrollbarXLeft?1:-1;r.element.scrollLeft+=t*r.containerWidth,is(r),e.stopPropagation()})}function _9e(r){v5(r,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),v5(r,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])}function v5(r,e){var n=e[0],t=e[1],l=e[2],s=e[3],o=e[4],i=e[5],a=e[6],u=e[7],f=e[8],c=r.element,m=null,d=null,g=null;function h(S){S.touches&&S.touches[0]&&(S[l]=S.touches[0].pageY),c[a]=m+g*(S[l]-d),rR(r,u),is(r),S.stopPropagation(),S.type.startsWith("touch")&&S.changedTouches.length>1&&S.preventDefault()}function b(){lR(r,u),r[f].classList.remove(Kn.state.clicking),r.event.unbind(r.ownerDocument,"mousemove",h)}function w(S,T){m=c[a],T&&S.touches&&(S[l]=S.touches[0].pageY),d=S[l],g=(r[t]-r[n])/(r[s]-r[i]),T?r.event.bind(r.ownerDocument,"touchmove",h):(r.event.bind(r.ownerDocument,"mousemove",h),r.event.once(r.ownerDocument,"mouseup",b),S.preventDefault()),r[f].classList.add(Kn.state.clicking),S.stopPropagation()}r.event.bind(r[o],"mousedown",function(S){w(S)}),r.event.bind(r[o],"touchstart",function(S){w(S,!0)})}function p9e(r){var e=r.element,n=function(){return ws(e,":hover")},t=function(){return ws(r.scrollbarX,":focus")||ws(r.scrollbarY,":focus")};function l(s,o){var i=Math.floor(e.scrollTop);if(s===0){if(!r.scrollbarYActive)return!1;if(i===0&&o>0||i>=r.contentHeight-r.containerHeight&&o<0)return!r.settings.wheelPropagation}var a=e.scrollLeft;if(o===0){if(!r.scrollbarXActive)return!1;if(a===0&&s<0||a>=r.contentWidth-r.containerWidth&&s>0)return!r.settings.wheelPropagation}return!0}r.event.bind(r.ownerDocument,"keydown",function(s){if(!(s.isDefaultPrevented&&s.isDefaultPrevented()||s.defaultPrevented)&&!(!n()&&!t())){var o=document.activeElement?document.activeElement:r.ownerDocument.activeElement;if(o){if(o.tagName==="IFRAME")o=o.contentDocument.activeElement;else for(;o.shadowRoot;)o=o.shadowRoot.activeElement;if(f9e(o))return}var i=0,a=0;switch(s.which){case 37:s.metaKey?i=-r.contentWidth:s.altKey?i=-r.containerWidth:i=-30;break;case 38:s.metaKey?a=r.contentHeight:s.altKey?a=r.containerHeight:a=30;break;case 39:s.metaKey?i=r.contentWidth:s.altKey?i=r.containerWidth:i=30;break;case 40:s.metaKey?a=-r.contentHeight:s.altKey?a=-r.containerHeight:a=-30;break;case 32:s.shiftKey?a=r.containerHeight:a=-r.containerHeight;break;case 33:a=r.containerHeight;break;case 34:a=-r.containerHeight;break;case 36:a=r.contentHeight;break;case 35:a=-r.contentHeight;break;default:return}r.settings.suppressScrollX&&i!==0||r.settings.suppressScrollY&&a!==0||(e.scrollTop-=a,e.scrollLeft+=i,is(r),l(i,a)&&s.preventDefault())}})}function g9e(r){var e=r.element;function n(o,i){var a=Math.floor(e.scrollTop),u=e.scrollTop===0,f=a+e.offsetHeight===e.scrollHeight,c=e.scrollLeft===0,m=e.scrollLeft+e.offsetWidth===e.scrollWidth,d;return Math.abs(i)>Math.abs(o)?d=u||f:d=c||m,d?!r.settings.wheelPropagation:!0}function t(o){var i=o.deltaX,a=-1*o.deltaY;return(typeof i>"u"||typeof a>"u")&&(i=-1*o.wheelDeltaX/6,a=o.wheelDeltaY/6),o.deltaMode&&o.deltaMode===1&&(i*=10,a*=10),i!==i&&a!==a&&(i=0,a=o.wheelDelta),o.shiftKey?[-a,-i]:[i,a]}function l(o,i,a){if(!No.isWebKit&&e.querySelector("select:focus"))return!0;if(!e.contains(o))return!1;for(var u=o;u&&u!==e;){if(u.classList.contains(Kn.element.consuming))return!0;var f=Ul(u);if(a&&f.overflowY.match(/(scroll|auto)/)){var c=u.scrollHeight-u.clientHeight;if(c>0&&(u.scrollTop>0&&a<0||u.scrollTop<c&&a>0))return!0}if(i&&f.overflowX.match(/(scroll|auto)/)){var m=u.scrollWidth-u.clientWidth;if(m>0&&(u.scrollLeft>0&&i<0||u.scrollLeft<m&&i>0))return!0}u=u.parentNode}return!1}function s(o){var i=t(o),a=i[0],u=i[1];if(!l(o.target,a,u)){var f=!1;r.settings.useBothWheelAxes?r.scrollbarYActive&&!r.scrollbarXActive?(u?e.scrollTop-=u*r.settings.wheelSpeed:e.scrollTop+=a*r.settings.wheelSpeed,f=!0):r.scrollbarXActive&&!r.scrollbarYActive&&(a?e.scrollLeft+=a*r.settings.wheelSpeed:e.scrollLeft-=u*r.settings.wheelSpeed,f=!0):(e.scrollTop-=u*r.settings.wheelSpeed,e.scrollLeft+=a*r.settings.wheelSpeed),is(r),f=f||n(a,u),f&&!o.ctrlKey&&(o.stopPropagation(),o.preventDefault())}}typeof window.onwheel<"u"?r.event.bind(e,"wheel",s):typeof window.onmousewheel<"u"&&r.event.bind(e,"mousewheel",s)}function h9e(r){if(!No.supportsTouch&&!No.supportsIePointer)return;var e=r.element;function n(g,h){var b=Math.floor(e.scrollTop),w=e.scrollLeft,S=Math.abs(g),T=Math.abs(h);if(T>S){if(h<0&&b===r.contentHeight-r.containerHeight||h>0&&b===0)return window.scrollY===0&&h>0&&No.isChrome}else if(S>T&&(g<0&&w===r.contentWidth-r.containerWidth||g>0&&w===0))return!0;return!0}function t(g,h){e.scrollTop-=h,e.scrollLeft-=g,is(r)}var l={},s=0,o={},i=null;function a(g){return g.targetTouches?g.targetTouches[0]:g}function u(g){return g.pointerType&&g.pointerType==="pen"&&g.buttons===0?!1:!!(g.targetTouches&&g.targetTouches.length===1||g.pointerType&&g.pointerType!=="mouse"&&g.pointerType!==g.MSPOINTER_TYPE_MOUSE)}function f(g){if(!!u(g)){var h=a(g);l.pageX=h.pageX,l.pageY=h.pageY,s=new Date().getTime(),i!==null&&clearInterval(i)}}function c(g,h,b){if(!e.contains(g))return!1;for(var w=g;w&&w!==e;){if(w.classList.contains(Kn.element.consuming))return!0;var S=Ul(w);if(b&&S.overflowY.match(/(scroll|auto)/)){var T=w.scrollHeight-w.clientHeight;if(T>0&&(w.scrollTop>0&&b<0||w.scrollTop<T&&b>0))return!0}if(h&&S.overflowX.match(/(scroll|auto)/)){var M=w.scrollWidth-w.clientWidth;if(M>0&&(w.scrollLeft>0&&h<0||w.scrollLeft<M&&h>0))return!0}w=w.parentNode}return!1}function m(g){if(u(g)){var h=a(g),b={pageX:h.pageX,pageY:h.pageY},w=b.pageX-l.pageX,S=b.pageY-l.pageY;if(c(g.target,w,S))return;t(w,S),l=b;var T=new Date().getTime(),M=T-s;M>0&&(o.x=w/M,o.y=S/M,s=T),n(w,S)&&g.preventDefault()}}function d(){r.settings.swipeEasing&&(clearInterval(i),i=setInterval(function(){if(r.isInitialized){clearInterval(i);return}if(!o.x&&!o.y){clearInterval(i);return}if(Math.abs(o.x)<.01&&Math.abs(o.y)<.01){clearInterval(i);return}if(!r.element){clearInterval(i);return}t(o.x*30,o.y*30),o.x*=.8,o.y*=.8},10))}No.supportsTouch?(r.event.bind(e,"touchstart",f),r.event.bind(e,"touchmove",m),r.event.bind(e,"touchend",d)):No.supportsIePointer&&(window.PointerEvent?(r.event.bind(e,"pointerdown",f),r.event.bind(e,"pointermove",m),r.event.bind(e,"pointerup",d)):window.MSPointerEvent&&(r.event.bind(e,"MSPointerDown",f),r.event.bind(e,"MSPointerMove",m),r.event.bind(e,"MSPointerUp",d)))}var b9e=function(){return{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1}},$9e={"click-rail":d9e,"drag-thumb":_9e,keyboard:p9e,wheel:g9e,touch:h9e},du=function(e,n){var t=this;if(n===void 0&&(n={}),typeof e=="string"&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");this.element=e,e.classList.add(Kn.main),this.settings=b9e();for(var l in n)this.settings[l]=n[l];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var s=function(){return e.classList.add(Kn.state.focus)},o=function(){return e.classList.remove(Kn.state.focus)};this.isRtl=Ul(e).direction==="rtl",this.isRtl===!0&&e.classList.add(Kn.rtl),this.isNegativeScroll=function(){var u=e.scrollLeft,f=null;return e.scrollLeft=-1,f=e.scrollLeft<0,e.scrollLeft=u,f}(),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new Mi,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=Lu(Kn.element.rail("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=Lu(Kn.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",s),this.event.bind(this.scrollbarX,"blur",o),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var i=Ul(this.scrollbarXRail);this.scrollbarXBottom=parseInt(i.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=Bn(i.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=Bn(i.borderLeftWidth)+Bn(i.borderRightWidth),Ir(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=Bn(i.marginLeft)+Bn(i.marginRight),Ir(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=Lu(Kn.element.rail("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=Lu(Kn.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",s),this.event.bind(this.scrollbarY,"blur",o),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var a=Ul(this.scrollbarYRail);this.scrollbarYRight=parseInt(a.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=Bn(a.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?c9e(this.scrollbarY):null,this.railBorderYWidth=Bn(a.borderTopWidth)+Bn(a.borderBottomWidth),Ir(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=Bn(a.marginTop)+Bn(a.marginBottom),Ir(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(u){return $9e[u](t)}),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",function(u){return t.onScroll(u)}),is(this)};du.prototype.update=function(){!this.isAlive||(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,Ir(this.scrollbarXRail,{display:"block"}),Ir(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=Bn(Ul(this.scrollbarXRail).marginLeft)+Bn(Ul(this.scrollbarXRail).marginRight),this.railYMarginHeight=Bn(Ul(this.scrollbarYRail).marginTop)+Bn(Ul(this.scrollbarYRail).marginBottom),Ir(this.scrollbarXRail,{display:"none"}),Ir(this.scrollbarYRail,{display:"none"}),is(this),Wf(this,"top",0,!1,!0),Wf(this,"left",0,!1,!0),Ir(this.scrollbarXRail,{display:""}),Ir(this.scrollbarYRail,{display:""}))};du.prototype.onScroll=function(e){!this.isAlive||(is(this),Wf(this,"top",this.element.scrollTop-this.lastScrollTop),Wf(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)};du.prototype.destroy=function(){!this.isAlive||(this.event.unbindAll(),Ho(this.scrollbarX),Ho(this.scrollbarY),Ho(this.scrollbarXRail),Ho(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)};du.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(e){return!e.match(/^ps([-_].+|)$/)}).join(" ")};const v9e=r=>r;function Ea(r,e){const{itemSize:n,instanceProps:t}=r,{itemMetadataMap:l,lastMeasuredIndex:s}=t;if(e>s){let o=0;if(s>=0){const i=l[s];o=i.offset+i.size}for(let i=s+1;i<=e;i+=1){const a=n(i);l[i]={offset:o,size:a},o+=a}t.lastMeasuredIndex=e}return l[e]}function oR(r,e,n){const{scrollOffset:t}=r;let l=e,s=n;for(;s<=l;){const o=s+Math.floor((l-s)/2),i=Ea(r,o).offset;if(i===t)return o;i<t?s=o+1:i>t&&(l=o-1)}return s>0?s-1:0}function w9e(r,e){const{itemCount:n,scrollOffset:t}=r;let l=1,s=e;for(;s<n&&Ea(r,s).offset<t;)s+=l,l*=2;return oR(r,Math.min(s,n-1),Math.floor(s/2))}function k9e(r){const{instanceProps:e,scrollOffset:n}=r,{itemMetadataMap:t,lastMeasuredIndex:l}=e;return(l>0?t[l].offset:0)>=n?oR(r,l,0):w9e(r,Math.max(0,l))}function y9e(r,e){const{height:n,itemCount:t,scrollOffset:l}=r,s=Ea(r,e),o=l+n;let i=s.offset+s.size,a=e;for(;a<t-1&&i<o;)a+=1,i+=Ea(r,a).size;return a}function C9e(r){const{isScrolling:e,scrollDirection:n,itemCount:t,overscanCount:l}=r;if(t===0)return[0,0,0,0];const s=k9e(r),o=y9e(r,s),i=!e||n==="backward"?Math.max(1,l):1,a=!e||n==="forward"?Math.max(1,l):1;return[Math.max(0,s-i),Math.max(0,Math.min(t-1,o+a)),s,o]}function S9e(r,e){const{instanceProps:n}=r,{styleCache:t}=n;let l;if(Object.prototype.hasOwnProperty.call(t,e))l=t[e];else{const{offset:s}=Ea(r,e),{size:o}=n.itemMetadataMap[e];l={position:"absolute",left:0,top:s,height:o,width:"100%"},t[e]=l}return l}function T9e(r){const{itemKey:e,itemCount:n,isScrolling:t}=r,[l,s]=C9e(r),o=[];if(n>0)for(let i=l;i<=s;i+=1)o.push({key:e(i),index:i,isScrolling:t,style:S9e(r,i)});return{items:o,startIndex:l,stopIndex:s}}function I9e(r){const{instanceProps:e,itemCount:n,estimatedItemSize:t}=r,{lastMeasuredIndex:l,itemMetadataMap:s}=e;let o=l,i=0;if(o>=n&&(o=n-1),o>=0){const f=s[o];i=f.offset+f.size}const u=(n-o-1)*t;return i+u}const Fm={defaultItemKey:v9e,getItemsInfo:T9e,getEstimatedTotalSize:I9e},E9e=typeof performance=="object"&&typeof performance.now=="function",w5=E9e?()=>performance.now():()=>Date.now();function k5(r){r.id!==void 0&&cancelAnimationFrame(r.id)}function M9e(r,e){const n=w5(),t={id:void 0};function l(){w5()-n>=e?r.call(void 0):t.id=requestAnimationFrame(l)}return t.id=requestAnimationFrame(l),t}const R9e=r=>({items:r[0]&2}),y5=r=>({items:r[1],api:r[5]});function D9e(r){let e,n,t;const l=r[25].default,s=ke(l,r,r[24],y5);return{c(){e=E("div"),n=E("div"),s&&s.c(),I(n,"style",r[3]),I(e,"class",r[4]),ln(e,"height",r[0]+"px"),ln(e,"width","100%"),ln(e,"direction","ltr"),I(e,"data-sheet-body-element","list")},m(o,i){v(o,e,i),R(e,n),s&&s.m(n,null),r[26](e),t=!0},p(o,i){s&&s.p&&(!t||i[0]&16777218)&&Ce(s,l,o,o[24],t?ye(l,o[24],i,R9e):Se(o[24]),y5),(!t||i[0]&8)&&I(n,"style",o[3]),(!t||i[0]&16)&&I(e,"class",o[4]),(!t||i[0]&1)&&ln(e,"height",o[0]+"px")},i(o){t||(_(s,o),t=!0)},o(o){p(s,o),t=!1},d(o){o&&$(e),s&&s.d(o),r[26](null)}}}const A9e=150,O9e=30;function F9e(r,e,n){let t,l,{$$slots:s={},$$scope:o}=e;const i=Et();let{class:a="default"}=e,{estimatedItemSize:u=O9e}=e,{height:f}=e,{scrollOffset:c=0}=e,{itemCount:m}=e,{overscanCount:d=5}=e,{itemSize:g=()=>u}=e,{paddingBottom:h=0}=e,{horizontalScrollOffset:b=0}=e,{itemKey:w=Fm.defaultItemKey}=e,{width:S=void 0}=e,T={lastMeasuredIndex:-1,itemMetadataMap:{},styleCache:{}},M=!1,A="forward",D=f,O=[],F,P,B=!1,j,V=!1,q,G;function Y(Ae){G=Fm.getItemsInfo(Ae),n(1,O=G.items),n(23,F=Fm.getEstimatedTotalSize(Ae)),D!==f&&(D=f,i("refetch",G))}function K(Ae){P&&typeof Ae=="number"&&P.scrollLeft!==Ae&&n(2,P.scrollLeft=Ae,P)}function ee(Ae){const{clientHeight:Je,scrollHeight:ze,scrollTop:Ve,scrollLeft:Be}=Ae.target;if(B=!0,b!==Be&&(n(7,b=Be),i("h-scroll",b)),c!==Ve){const qe=Math.max(0,Math.min(Ve,ze-Je));n(21,M=!0),n(22,A=c<qe?"forward":"backward"),n(6,c=qe),i("scroll",c)}}function x(Ae){const{scrollLeft:Je}=Ae.target;b!==Je&&(n(7,b=Je),i("h-scroll",b))}tn(()=>{typeof c=="number"&&n(2,P.scrollTop=c,P),K(b),q=new du(P,{minScrollbarLength:40,wheelPropagation:!1});const Ae=ze=>{ee(ze)},Je=ze=>{x(ze)};return i("refetch",G),P.addEventListener("ps-scroll-y",Ae),P.addEventListener("ps-scroll-x",Je),()=>{P.removeEventListener("ps-scroll-y",Ae),P.removeEventListener("ps-scroll-x",Je),q==null||q.destroy()}});const X=()=>{j=void 0,n(21,M=!1),V=!0,i("refetch",G)};function fe(){j!==void 0&&k5(j),j=M9e(X,A9e)}aS(()=>{B&&(B=!1,fe()),V&&(V=!1,n(20,T.styleCache={},T)),q&&q.update()}),us(()=>{j!==void 0&&k5(j)});function he(Ae){n(20,T={...T,lastMeasuredIndex:Math.min(T.lastMeasuredIndex,(Ae!=null?Ae:0)-1),styleCache:{}})}function me(Ae,Je){if(P&&q){const ze=Math.max(Ae,0),Ve=Math.max(Je,0);let Be=!1;c!==ze&&(n(2,P.scrollTop=ze,P),Be=!0),b!==Ve&&(n(2,P.scrollLeft=Ve,P),Be=!0),Be&&q.update()}}function ge(){P&&q&&(n(2,P.scrollTop=P.scrollHeight,P),q.update())}function pe(){P&&q&&(n(2,P.scrollTop=0,P),q.update())}const Le={scrollToTop:pe,scrollToBottom:ge,scrollToPosition:me,recalculateHeightsAfterIndex:he};function Qe(Ae){we[Ae?"unshift":"push"](()=>{P=Ae,n(2,P)})}return r.$$set=Ae=>{"class"in Ae&&n(8,a=Ae.class),"estimatedItemSize"in Ae&&n(9,u=Ae.estimatedItemSize),"height"in Ae&&n(0,f=Ae.height),"scrollOffset"in Ae&&n(6,c=Ae.scrollOffset),"itemCount"in Ae&&n(10,m=Ae.itemCount),"overscanCount"in Ae&&n(11,d=Ae.overscanCount),"itemSize"in Ae&&n(12,g=Ae.itemSize),"paddingBottom"in Ae&&n(13,h=Ae.paddingBottom),"horizontalScrollOffset"in Ae&&n(7,b=Ae.horizontalScrollOffset),"itemKey"in Ae&&n(14,w=Ae.itemKey),"width"in Ae&&n(15,S=Ae.width),"$$scope"in Ae&&n(24,o=Ae.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&256&&n(4,t=["virtual-list","outerElement",a].join(" ")),r.$$.dirty[0]&7364161&&Y({itemSize:g,instanceProps:T,isScrolling:M,scrollDirection:A,itemCount:m,overscanCount:d,scrollOffset:c,height:f,itemKey:w,estimatedItemSize:u}),r.$$.dirty[0]&10526720&&n(3,l=`height:${F+h}px;width:${S?`${S}px`:"100%"};${M?"pointer-events:none;":""}`),r.$$.dirty[0]&128&&K(b)},[f,O,P,l,t,Le,c,b,a,u,m,d,g,h,w,S,he,me,ge,pe,T,M,A,F,o,s,Qe]}class N9e extends Q{constructor(e){super(),Z(this,e,F9e,D9e,J,{class:8,estimatedItemSize:9,height:0,scrollOffset:6,itemCount:10,overscanCount:11,itemSize:12,paddingBottom:13,horizontalScrollOffset:7,itemKey:14,width:15,recalculateHeightsAfterIndex:16,scrollToPosition:17,scrollToBottom:18,scrollToTop:19},null,[-1,-1])}get recalculateHeightsAfterIndex(){return this.$$.ctx[16]}get scrollToPosition(){return this.$$.ctx[17]}get scrollToBottom(){return this.$$.ctx[18]}get scrollToTop(){return this.$$.ctx[19]}}const P9e=r=>({items:r&131072,api:r&262144}),C5=r=>({items:r[17],api:r[18]});function L9e(r){let e;const n=r[11].default,t=ke(n,r,r[14],C5);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&409600)&&Ce(t,n,l,l[14],e?ye(n,l[14],s,P9e):Se(l[14]),C5)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function H9e(r){let e,n;return e=new N9e({props:{horizontalScrollOffset:r[4],scrollOffset:r[5],height:r[16],width:r[6],itemCount:r[0],paddingBottom:r[2],itemSize:r[1],estimatedItemSize:Dl,itemKey:r[3],$$slots:{default:[L9e,({items:t,api:l})=>({17:t,18:l}),({items:t,api:l})=>(t?131072:0)|(l?262144:0)]},$$scope:{ctx:r}}}),e.$on("scroll",r[12]),e.$on("h-scroll",r[13]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.horizontalScrollOffset=t[4]),l&32&&(s.scrollOffset=t[5]),l&65536&&(s.height=t[16]),l&64&&(s.width=t[6]),l&1&&(s.itemCount=t[0]),l&4&&(s.paddingBottom=t[2]),l&2&&(s.itemSize=t[1]),l&8&&(s.itemKey=t[3]),l&409600&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function V9e(r){let e,n,t;return n=new i9e({props:{$$slots:{default:[H9e,({height:l})=>({16:l}),({height:l})=>l?65536:0]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"data-sheet-element","body"),I(e,"tabindex","-1"),I(e,"class","svelte-1sm73pn")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,[s]){const o={};s&82047&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function z9e(r,e,n){let t,l,s,{$$slots:o={},$$scope:i}=e;const{stores:a,api:u}=Ei(),{rowWidth:f,horizontalScrollOffset:c,scrollOffset:m}=a;ne(r,f,T=>n(6,s=T)),ne(r,c,T=>n(4,t=T)),ne(r,m,T=>n(5,l=T));let{itemCount:d}=e,{itemSize:g}=e,{paddingBottom:h=0}=e,{itemKey:b=void 0}=e;const w=T=>{u.setScrollOffset(T.detail)},S=T=>{u.setHorizontalScrollOffset(T.detail)};return r.$$set=T=>{"itemCount"in T&&n(0,d=T.itemCount),"itemSize"in T&&n(1,g=T.itemSize),"paddingBottom"in T&&n(2,h=T.paddingBottom),"itemKey"in T&&n(3,b=T.itemKey),"$$scope"in T&&n(14,i=T.$$scope)},[d,g,h,b,t,l,s,u,f,c,m,o,w,S,i]}class iR extends Q{constructor(e){super(),Z(this,e,z9e,V9e,J,{itemCount:0,itemSize:1,paddingBottom:2,itemKey:3})}}const B9e=r=>({styleString:r&1}),S5=r=>({htmlAttributes:r[2],styleString:r[0]});function q9e(r){let e;const n=r[6].default,t=ke(n,r,r[5],S5);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,[s]){t&&t.p&&(!e||s&33)&&Ce(t,n,l,l[5],e?ye(n,l[5],s,B9e):Se(l[5]),S5)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function U9e(r,e){return`position:${r.position};left:${r.left}px;top:${r.top}px;height:${r.height}px;width:${e}px`}function W9e(r,e,n){let t,l,{$$slots:s={},$$scope:o}=e;const{stores:i}=Ei(),{rowWidth:a}=i;ne(r,a,c=>n(4,l=c));let{style:u}=e;const f={"data-sheet-element":"data-row"};return r.$$set=c=>{"style"in c&&n(3,u=c.style),"$$scope"in c&&n(5,o=c.$$scope)},r.$$.update=()=>{r.$$.dirty&24&&n(0,t=U9e(u,l))},[t,a,f,u,l,o,s]}class n1 extends Q{constructor(e){super(),Z(this,e,W9e,q9e,J,{style:3})}}function aR(r){const e=r==null?void 0:r.parentElement,n=document.querySelector('[data-sheet-body-element="list"]');if(!(!n||!e)){if(e.offsetTop+e.clientHeight+40>n.scrollTop+n.clientHeight){const t=n.getBoundingClientRect().bottom-e.getBoundingClientRect().bottom-40;n.scrollTop-=t}else e.offsetTop-30<n.scrollTop&&(n.scrollTop=e.offsetTop-30);if(r.offsetLeft+e.clientWidth+30>n.scrollLeft+n.clientWidth){const t=n.getBoundingClientRect().right-r.getBoundingClientRect().right-30;n.scrollLeft-=t}else r.offsetLeft-30<n.scrollLeft&&(n.scrollLeft=r.offsetLeft-30)}}function j9e(){const r=document.querySelector("[data-cell-active]");aR(r)}function Y9e(){const r=document.querySelector("[data-cell-selected]");aR(r)}async function uR(){await sn(),j9e()}function _u(r){const{stores:e}=Ei(),{columnStyleMap:n}=e;return et(n,t=>{const l=t.get(r);return l==null?void 0:l.styleString})}function G9e(r){let e,n;const t=r[4].default,l=ke(t,r,r[3],null);return{c(){e=E("div"),l&&l.c(),I(e,"data-sheet-element","column-header-cell"),I(e,"data-column-identifier",r[0]),I(e,"style",r[1]),I(e,"class","svelte-1lcr882")},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,[o]){l&&l.p&&(!n||o&8)&&Ce(l,t,s,s[3],n?ye(t,s[3],o,null):Se(s[3]),null),(!n||o&1)&&I(e,"data-column-identifier",s[0]),(!n||o&2)&&I(e,"style",s[1])},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function K9e(r,e,n){let t,{$$slots:l={},$$scope:s}=e,{columnIdentifierKey:o}=e;const i=_u(o);return ne(r,i,a=>n(1,t=a)),r.$$set=a=>{"columnIdentifierKey"in a&&n(0,o=a.columnIdentifierKey),"$$scope"in a&&n(3,s=a.$$scope)},[o,t,i,s,l]}class r1 extends Q{constructor(e){super(),Z(this,e,K9e,G9e,J,{columnIdentifierKey:0})}}const X9e=r=>({isActive:r&16,isSelected:r&8}),T5=r=>({isActive:r[4],isSelected:r[3]});function I5(r){let e,n;return e=new ll({props:{color:"var(--color-selection-subtle-2)",when:r[3]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8&&(s.when=t[3]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function J9e(r){let e,n,t,l,s,o,i=r[2]&&I5(r);const a=r[10].default,u=ke(a,r,r[9],T5);return{c(){e=E("div"),i&&i.c(),n=N(),u&&u.c(),I(e,"data-sheet-element","data-cell"),I(e,"data-sheet-row-type",t=r[1]?"placeholder":"data"),I(e,"data-cell-selection-id",r[0]),I(e,"data-cell-active",l=r[4]?"":void 0),I(e,"data-cell-selected",s=r[3]?"":void 0),I(e,"style",r[6]),I(e,"class","svelte-4fmkf")},m(f,c){v(f,e,c),i&&i.m(e,null),R(e,n),u&&u.m(e,null),o=!0},p(f,[c]){f[2]?i?(i.p(f,c),c&4&&_(i,1)):(i=I5(f),i.c(),_(i,1),i.m(e,n)):i&&(U(),p(i,1,1,()=>{i=null}),W()),u&&u.p&&(!o||c&536)&&Ce(u,a,f,f[9],o?ye(a,f[9],c,X9e):Se(f[9]),T5),(!o||c&2&&t!==(t=f[1]?"placeholder":"data"))&&I(e,"data-sheet-row-type",t),(!o||c&1)&&I(e,"data-cell-selection-id",f[0]),(!o||c&16&&l!==(l=f[4]?"":void 0))&&I(e,"data-cell-active",l),(!o||c&8&&s!==(s=f[3]?"":void 0))&&I(e,"data-cell-selected",s),(!o||c&64)&&I(e,"style",f[6])},i(f){o||(_(i),_(u,f),o=!0)},o(f){p(i),p(u,f),o=!1},d(f){f&&$(e),i&&i.d(),u&&u.d(f)}}}function Z9e(r,e,n){let t,l,s,o,i,a=H,u=()=>(a(),a=le(t,b=>n(6,i=b)),t);r.$$.on_destroy.push(()=>a());let{$$slots:f={},$$scope:c}=e,{columnIdentifierKey:m}=e,{cellSelectionId:d=void 0}=e,{selection:g=void 0}=e,{isWithinPlaceholderRow:h=!1}=e;return r.$$set=b=>{"columnIdentifierKey"in b&&n(7,m=b.columnIdentifierKey),"cellSelectionId"in b&&n(0,d=b.cellSelectionId),"selection"in b&&n(8,g=b.selection),"isWithinPlaceholderRow"in b&&n(1,h=b.isWithinPlaceholderRow),"$$scope"in b&&n(9,c=b.$$scope)},r.$$.update=()=>{r.$$.dirty&128&&u(n(5,t=_u(m))),r.$$.dirty&257&&n(4,{isActive:l,isSelected:s,hasSelectionBackground:o}=(()=>{if(!g||!d)return{isActive:!1,isSelected:!1,hasSelectionBackground:!1};const b=g.cellIds.has(d);return{isActive:g.activeCellId===d,isSelected:b,hasSelectionBackground:b&&g.cellIds.size>1}})(),l,(n(3,s),n(8,g),n(0,d)),(n(2,o),n(8,g),n(0,d)))},[d,h,o,s,l,t,i,m,g,c,f]}class l1 extends Q{constructor(e){super(),Z(this,e,Z9e,J9e,J,{columnIdentifierKey:7,cellSelectionId:0,selection:8,isWithinPlaceholderRow:1})}}function Q9e(r){let e,n;const t=r[4].default,l=ke(t,r,r[3],null);return{c(){e=E("div"),l&&l.c(),I(e,"data-sheet-element","new-column-cell"),I(e,"style",r[1]),I(e,"class","svelte-192yzps")},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,[o]){l&&l.p&&(!n||o&8)&&Ce(l,t,s,s[3],n?ye(t,s[3],o,null):Se(s[3]),null),(!n||o&2)&&I(e,"style",s[1])},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function x9e(r,e,n){let t,l,s=H,o=()=>(s(),s=le(t,f=>n(1,l=f)),t);r.$$.on_destroy.push(()=>s());let{$$slots:i={},$$scope:a}=e,{columnIdentifierKey:u}=e;return r.$$set=f=>{"columnIdentifierKey"in f&&n(2,u=f.columnIdentifierKey),"$$scope"in f&&n(3,a=f.$$scope)},r.$$.update=()=>{r.$$.dirty&4&&o(n(0,t=_u(u)))},[t,l,u,a,i]}class eTe extends Q{constructor(e){super(),Z(this,e,x9e,Q9e,J,{columnIdentifierKey:2})}}function tTe(r){let e,n;const t=r[4].default,l=ke(t,r,r[3],null);return{c(){e=E("div"),l&&l.c(),I(e,"data-sheet-element","origin-cell"),I(e,"style",r[1]),I(e,"class","svelte-1vnctx4")},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,[o]){l&&l.p&&(!n||o&8)&&Ce(l,t,s,s[3],n?ye(t,s[3],o,null):Se(s[3]),null),(!n||o&2)&&I(e,"style",s[1])},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function nTe(r,e,n){let t,l,s=H,o=()=>(s(),s=le(t,f=>n(1,l=f)),t);r.$$.on_destroy.push(()=>s());let{$$slots:i={},$$scope:a}=e,{columnIdentifierKey:u}=e;return r.$$set=f=>{"columnIdentifierKey"in f&&n(2,u=f.columnIdentifierKey),"$$scope"in f&&n(3,a=f.$$scope)},r.$$.update=()=>{r.$$.dirty&4&&o(n(0,t=_u(u)))},[t,l,u,a,i]}class fR extends Q{constructor(e){super(),Z(this,e,nTe,tTe,J,{columnIdentifierKey:2})}}function rTe(r){let e,n;const t=r[6].default,l=ke(t,r,r[5],null);return{c(){e=E("div"),l&&l.c(),I(e,"data-sheet-element","positionable-cell"),I(e,"style",r[0]),I(e,"class","svelte-pwze94")},m(s,o){v(s,e,o),l&&l.m(e,null),n=!0},p(s,[o]){l&&l.p&&(!n||o&32)&&Ce(l,t,s,s[5],n?ye(t,s[5],o,null):Se(s[5]),null),(!n||o&1)&&I(e,"style",s[0])},i(s){n||(_(l,s),n=!0)},o(s){p(l,s),n=!1},d(s){s&&$(e),l&&l.d(s)}}}function lTe(r,e,n){let t,l,{$$slots:s={},$$scope:o}=e;const{stores:i}=Ei(),{columnStyleMap:a}=i;ne(r,a,m=>n(4,l=m));let{index:u}=e,{columnSpan:f=1}=e;function c(m,d,g){var M,A;const h=[...m.values()],b=h[u]?u:0,w=(A=(M=h[b])==null?void 0:M.left)!=null?A:0;let S=h[b+g-1];S=S!=null?S:h[h.length-1];const T=S?S.left+S.width-w:0;return`left: ${w}px; width: ${T}px`}return r.$$set=m=>{"index"in m&&n(2,u=m.index),"columnSpan"in m&&n(3,f=m.columnSpan),"$$scope"in m&&n(5,o=m.$$scope)},r.$$.update=()=>{r.$$.dirty&28&&n(0,t=c(l,u,f))},[t,a,u,f,l,o,s]}class cR extends Q{constructor(e){super(),Z(this,e,lTe,rTe,J,{index:2,columnSpan:3})}}function sTe(r){let e,n,t,l,s;const o=r[7].default,i=ke(o,r,r[6],null);return{c(){e=E("div"),i&&i.c(),I(e,"data-sheet-element","row-header-cell"),I(e,"data-sheet-row-type",n=r[1]?"placeholder":"data"),I(e,"data-row-selection-id",r[0]),I(e,"style",r[4]),I(e,"class","svelte-7uof2d")},m(a,u){v(a,e,u),i&&i.m(e,null),t=!0,l||(s=He(e,"mousedown",function(){St(r[2])&&r[2].apply(this,arguments)}),l=!0)},p(a,[u]){r=a,i&&i.p&&(!t||u&64)&&Ce(i,o,r,r[6],t?ye(o,r[6],u,null):Se(r[6]),null),(!t||u&2&&n!==(n=r[1]?"placeholder":"data"))&&I(e,"data-sheet-row-type",n),(!t||u&1)&&I(e,"data-row-selection-id",r[0]),(!t||u&16)&&I(e,"style",r[4])},i(a){t||(_(i,a),t=!0)},o(a){p(i,a),t=!1},d(a){a&&$(e),i&&i.d(a),l=!1,s()}}}function oTe(r,e,n){let t,l,s=H,o=()=>(s(),s=le(t,d=>n(4,l=d)),t);r.$$.on_destroy.push(()=>s());let{$$slots:i={},$$scope:a}=e,{rowSelectionId:u}=e,{columnIdentifierKey:f}=e,{isWithinPlaceholderRow:c=!1}=e,{onMouseDown:m=void 0}=e;return r.$$set=d=>{"rowSelectionId"in d&&n(0,u=d.rowSelectionId),"columnIdentifierKey"in d&&n(5,f=d.columnIdentifierKey),"isWithinPlaceholderRow"in d&&n(1,c=d.isWithinPlaceholderRow),"onMouseDown"in d&&n(2,m=d.onMouseDown),"$$scope"in d&&n(6,a=d.$$scope)},r.$$.update=()=>{r.$$.dirty&32&&o(n(3,t=_u(f)))},[u,c,m,t,l,f,a,i]}class mR extends Q{constructor(e){super(),Z(this,e,oTe,sTe,J,{rowSelectionId:0,columnIdentifierKey:5,isWithinPlaceholderRow:1,onMouseDown:2})}}const dR="text/plain",_R="application/x-vnd.mathesar-sheet-clipboard";var Gc={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(r,e){(function(n,t){r.exports=t()})(Xs,function n(){var t=typeof self<"u"?self:typeof window<"u"?window:t!==void 0?t:{},l=!t.document&&!!t.postMessage,s=t.IS_PAPA_WORKER||!1,o={},i=0,a={parse:function(F,P){var B=(P=P||{}).dynamicTyping||!1;if(O(B)&&(P.dynamicTypingFunction=B,B={}),P.dynamicTyping=B,P.transform=!!O(P.transform)&&P.transform,P.worker&&a.WORKERS_SUPPORTED){var j=function(){if(!a.WORKERS_SUPPORTED)return!1;var q=(Y=t.URL||t.webkitURL||null,K=n.toString(),a.BLOB_URL||(a.BLOB_URL=Y.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",K,")();"],{type:"text/javascript"})))),G=new t.Worker(q),Y,K;return G.onmessage=S,G.id=i++,o[G.id]=G}();return j.userStep=P.step,j.userChunk=P.chunk,j.userComplete=P.complete,j.userError=P.error,P.step=O(P.step),P.chunk=O(P.chunk),P.complete=O(P.complete),P.error=O(P.error),delete P.worker,void j.postMessage({input:F,config:P,workerId:j.id})}var V=null;return a.NODE_STREAM_INPUT,typeof F=="string"?(F=function(q){return q.charCodeAt(0)===65279?q.slice(1):q}(F),V=P.download?new c(P):new d(P)):F.readable===!0&&O(F.read)&&O(F.on)?V=new g(P):(t.File&&F instanceof File||F instanceof Object)&&(V=new m(P)),V.stream(F)},unparse:function(F,P){var B=!1,j=!0,V=",",q=`\r
`,G='"',Y=G+G,K=!1,ee=null,x=!1;(function(){if(typeof P=="object"){if(typeof P.delimiter!="string"||a.BAD_DELIMITERS.filter(function(me){return P.delimiter.indexOf(me)!==-1}).length||(V=P.delimiter),(typeof P.quotes=="boolean"||typeof P.quotes=="function"||Array.isArray(P.quotes))&&(B=P.quotes),typeof P.skipEmptyLines!="boolean"&&typeof P.skipEmptyLines!="string"||(K=P.skipEmptyLines),typeof P.newline=="string"&&(q=P.newline),typeof P.quoteChar=="string"&&(G=P.quoteChar),typeof P.header=="boolean"&&(j=P.header),Array.isArray(P.columns)){if(P.columns.length===0)throw new Error("Option columns is empty");ee=P.columns}P.escapeChar!==void 0&&(Y=P.escapeChar+G),(typeof P.escapeFormulae=="boolean"||P.escapeFormulae instanceof RegExp)&&(x=P.escapeFormulae instanceof RegExp?P.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var X=new RegExp(b(G),"g");if(typeof F=="string"&&(F=JSON.parse(F)),Array.isArray(F)){if(!F.length||Array.isArray(F[0]))return fe(null,F,K);if(typeof F[0]=="object")return fe(ee||Object.keys(F[0]),F,K)}else if(typeof F=="object")return typeof F.data=="string"&&(F.data=JSON.parse(F.data)),Array.isArray(F.data)&&(F.fields||(F.fields=F.meta&&F.meta.fields||ee),F.fields||(F.fields=Array.isArray(F.data[0])?F.fields:typeof F.data[0]=="object"?Object.keys(F.data[0]):[]),Array.isArray(F.data[0])||typeof F.data[0]=="object"||(F.data=[F.data])),fe(F.fields||[],F.data||[],K);throw new Error("Unable to serialize unrecognized input");function fe(me,ge,pe){var Le="";typeof me=="string"&&(me=JSON.parse(me)),typeof ge=="string"&&(ge=JSON.parse(ge));var Qe=Array.isArray(me)&&0<me.length,Ae=!Array.isArray(ge[0]);if(Qe&&j){for(var Je=0;Je<me.length;Je++)0<Je&&(Le+=V),Le+=he(me[Je],Je);0<ge.length&&(Le+=q)}for(var ze=0;ze<ge.length;ze++){var Ve=Qe?me.length:ge[ze].length,Be=!1,qe=Qe?Object.keys(ge[ze]).length===0:ge[ze].length===0;if(pe&&!Qe&&(Be=pe==="greedy"?ge[ze].join("").trim()==="":ge[ze].length===1&&ge[ze][0].length===0),pe==="greedy"&&Qe){for(var ft=[],vt=0;vt<Ve;vt++){var ut=Ae?me[vt]:vt;ft.push(ge[ze][ut])}Be=ft.join("").trim()===""}if(!Be){for(var Xe=0;Xe<Ve;Xe++){0<Xe&&!qe&&(Le+=V);var dt=Qe&&Ae?me[Xe]:Xe;Le+=he(ge[ze][dt],Xe)}ze<ge.length-1&&(!pe||0<Ve&&!qe)&&(Le+=q)}}return Le}function he(me,ge){if(me==null)return"";if(me.constructor===Date)return JSON.stringify(me).slice(1,25);var pe=!1;x&&typeof me=="string"&&x.test(me)&&(me="'"+me,pe=!0);var Le=me.toString().replace(X,Y);return(pe=pe||B===!0||typeof B=="function"&&B(me,ge)||Array.isArray(B)&&B[ge]||function(Qe,Ae){for(var Je=0;Je<Ae.length;Je++)if(-1<Qe.indexOf(Ae[Je]))return!0;return!1}(Le,a.BAD_DELIMITERS)||-1<Le.indexOf(V)||Le.charAt(0)===" "||Le.charAt(Le.length-1)===" ")?G+Le+G:Le}}};if(a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\uFEFF",a.BAD_DELIMITERS=["\r",`
`,'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!l&&!!t.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=w,a.ParserHandle=h,a.NetworkStreamer=c,a.FileStreamer=m,a.StringStreamer=d,a.ReadableStreamStreamer=g,t.jQuery){var u=t.jQuery;u.fn.parse=function(F){var P=F.config||{},B=[];return this.each(function(q){if(!(u(this).prop("tagName").toUpperCase()==="INPUT"&&u(this).attr("type").toLowerCase()==="file"&&t.FileReader)||!this.files||this.files.length===0)return!0;for(var G=0;G<this.files.length;G++)B.push({file:this.files[G],inputElem:this,instanceConfig:u.extend({},P)})}),j(),this;function j(){if(B.length!==0){var q,G,Y,K,ee=B[0];if(O(F.before)){var x=F.before(ee.file,ee.inputElem);if(typeof x=="object"){if(x.action==="abort")return q="AbortError",G=ee.file,Y=ee.inputElem,K=x.reason,void(O(F.error)&&F.error({name:q},G,Y,K));if(x.action==="skip")return void V();typeof x.config=="object"&&(ee.instanceConfig=u.extend(ee.instanceConfig,x.config))}else if(x==="skip")return void V()}var X=ee.instanceConfig.complete;ee.instanceConfig.complete=function(fe){O(X)&&X(fe,ee.file,ee.inputElem),V()},a.parse(ee.file,ee.instanceConfig)}else O(F.complete)&&F.complete()}function V(){B.splice(0,1),j()}}}function f(F){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(P){var B=A(P);B.chunkSize=parseInt(B.chunkSize),P.step||P.chunk||(B.chunkSize=null),this._handle=new h(B),(this._handle.streamer=this)._config=B}.call(this,F),this.parseChunk=function(P,B){if(this.isFirstChunk&&O(this._config.beforeFirstChunk)){var j=this._config.beforeFirstChunk(P);j!==void 0&&(P=j)}this.isFirstChunk=!1,this._halted=!1;var V=this._partialLine+P;this._partialLine="";var q=this._handle.parse(V,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var G=q.meta.cursor;this._finished||(this._partialLine=V.substring(G-this._baseIndex),this._baseIndex=G),q&&q.data&&(this._rowCount+=q.data.length);var Y=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(s)t.postMessage({results:q,workerId:a.WORKER_ID,finished:Y});else if(O(this._config.chunk)&&!B){if(this._config.chunk(q,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);q=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(q.data),this._completeResults.errors=this._completeResults.errors.concat(q.errors),this._completeResults.meta=q.meta),this._completed||!Y||!O(this._config.complete)||q&&q.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),Y||q&&q.meta.paused||this._nextChunk(),q}this._halted=!0},this._sendError=function(P){O(this._config.error)?this._config.error(P):s&&this._config.error&&t.postMessage({workerId:a.WORKER_ID,error:P,finished:!1})}}function c(F){var P;(F=F||{}).chunkSize||(F.chunkSize=a.RemoteChunkSize),f.call(this,F),this._nextChunk=l?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(B){this._input=B,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(P=new XMLHttpRequest,this._config.withCredentials&&(P.withCredentials=this._config.withCredentials),l||(P.onload=D(this._chunkLoaded,this),P.onerror=D(this._chunkError,this)),P.open(this._config.downloadRequestBody?"POST":"GET",this._input,!l),this._config.downloadRequestHeaders){var B=this._config.downloadRequestHeaders;for(var j in B)P.setRequestHeader(j,B[j])}if(this._config.chunkSize){var V=this._start+this._config.chunkSize-1;P.setRequestHeader("Range","bytes="+this._start+"-"+V)}try{P.send(this._config.downloadRequestBody)}catch(q){this._chunkError(q.message)}l&&P.status===0&&this._chunkError()}},this._chunkLoaded=function(){P.readyState===4&&(P.status<200||400<=P.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:P.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(B){var j=B.getResponseHeader("Content-Range");return j===null?-1:parseInt(j.substring(j.lastIndexOf("/")+1))}(P),this.parseChunk(P.responseText)))},this._chunkError=function(B){var j=P.statusText||B;this._sendError(new Error(j))}}function m(F){var P,B;(F=F||{}).chunkSize||(F.chunkSize=a.LocalChunkSize),f.call(this,F);var j=typeof FileReader<"u";this.stream=function(V){this._input=V,B=V.slice||V.webkitSlice||V.mozSlice,j?((P=new FileReader).onload=D(this._chunkLoaded,this),P.onerror=D(this._chunkError,this)):P=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var V=this._input;if(this._config.chunkSize){var q=Math.min(this._start+this._config.chunkSize,this._input.size);V=B.call(V,this._start,q)}var G=P.readAsText(V,this._config.encoding);j||this._chunkLoaded({target:{result:G}})},this._chunkLoaded=function(V){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(V.target.result)},this._chunkError=function(){this._sendError(P.error)}}function d(F){var P;f.call(this,F=F||{}),this.stream=function(B){return P=B,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var B,j=this._config.chunkSize;return j?(B=P.substring(0,j),P=P.substring(j)):(B=P,P=""),this._finished=!P,this.parseChunk(B)}}}function g(F){f.call(this,F=F||{});var P=[],B=!0,j=!1;this.pause=function(){f.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){f.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(V){this._input=V,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){j&&P.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),P.length?this.parseChunk(P.shift()):B=!0},this._streamData=D(function(V){try{P.push(typeof V=="string"?V:V.toString(this._config.encoding)),B&&(B=!1,this._checkIsFinished(),this.parseChunk(P.shift()))}catch(q){this._streamError(q)}},this),this._streamError=D(function(V){this._streamCleanUp(),this._sendError(V)},this),this._streamEnd=D(function(){this._streamCleanUp(),j=!0,this._streamData("")},this),this._streamCleanUp=D(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function h(F){var P,B,j,V=Math.pow(2,53),q=-V,G=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Y=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,K=this,ee=0,x=0,X=!1,fe=!1,he=[],me={data:[],errors:[],meta:{}};if(O(F.step)){var ge=F.step;F.step=function(ze){if(me=ze,Qe())Le();else{if(Le(),me.data.length===0)return;ee+=ze.data.length,F.preview&&ee>F.preview?B.abort():(me.data=me.data[0],ge(me,K))}}}function pe(ze){return F.skipEmptyLines==="greedy"?ze.join("").trim()==="":ze.length===1&&ze[0].length===0}function Le(){return me&&j&&(Je("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),j=!1),F.skipEmptyLines&&(me.data=me.data.filter(function(ze){return!pe(ze)})),Qe()&&function(){if(!me)return;function ze(Be,qe){O(F.transformHeader)&&(Be=F.transformHeader(Be,qe)),he.push(Be)}if(Array.isArray(me.data[0])){for(var Ve=0;Qe()&&Ve<me.data.length;Ve++)me.data[Ve].forEach(ze);me.data.splice(0,1)}else me.data.forEach(ze)}(),function(){if(!me||!F.header&&!F.dynamicTyping&&!F.transform)return me;function ze(Be,qe){var ft,vt=F.header?{}:[];for(ft=0;ft<Be.length;ft++){var ut=ft,Xe=Be[ft];F.header&&(ut=ft>=he.length?"__parsed_extra":he[ft]),F.transform&&(Xe=F.transform(Xe,ut)),Xe=Ae(ut,Xe),ut==="__parsed_extra"?(vt[ut]=vt[ut]||[],vt[ut].push(Xe)):vt[ut]=Xe}return F.header&&(ft>he.length?Je("FieldMismatch","TooManyFields","Too many fields: expected "+he.length+" fields but parsed "+ft,x+qe):ft<he.length&&Je("FieldMismatch","TooFewFields","Too few fields: expected "+he.length+" fields but parsed "+ft,x+qe)),vt}var Ve=1;return!me.data.length||Array.isArray(me.data[0])?(me.data=me.data.map(ze),Ve=me.data.length):me.data=ze(me.data,0),F.header&&me.meta&&(me.meta.fields=he),x+=Ve,me}()}function Qe(){return F.header&&he.length===0}function Ae(ze,Ve){return Be=ze,F.dynamicTypingFunction&&F.dynamicTyping[Be]===void 0&&(F.dynamicTyping[Be]=F.dynamicTypingFunction(Be)),(F.dynamicTyping[Be]||F.dynamicTyping)===!0?Ve==="true"||Ve==="TRUE"||Ve!=="false"&&Ve!=="FALSE"&&(function(qe){if(G.test(qe)){var ft=parseFloat(qe);if(q<ft&&ft<V)return!0}return!1}(Ve)?parseFloat(Ve):Y.test(Ve)?new Date(Ve):Ve===""?null:Ve):Ve;var Be}function Je(ze,Ve,Be,qe){var ft={type:ze,code:Ve,message:Be};qe!==void 0&&(ft.row=qe),me.errors.push(ft)}this.parse=function(ze,Ve,Be){var qe=F.quoteChar||'"';if(F.newline||(F.newline=function(ut,Xe){ut=ut.substring(0,1048576);var dt=new RegExp(b(Xe)+"([^]*?)"+b(Xe),"gm"),Oe=(ut=ut.replace(dt,"")).split("\r"),_t=ut.split(`
`),Fe=1<_t.length&&_t[0].length<Oe[0].length;if(Oe.length===1||Fe)return`
`;for(var mt=0,yt=0;yt<Oe.length;yt++)Oe[yt][0]===`
`&&mt++;return mt>=Oe.length/2?`\r
`:"\r"}(ze,qe)),j=!1,F.delimiter)O(F.delimiter)&&(F.delimiter=F.delimiter(ze),me.meta.delimiter=F.delimiter);else{var ft=function(ut,Xe,dt,Oe,_t){var Fe,mt,yt,ct;_t=_t||[",","	","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var lt=0;lt<_t.length;lt++){var rt=_t[lt],Xt=0,Pt=0,_n=0;yt=void 0;for(var Jt=new w({comments:Oe,delimiter:rt,newline:Xe,preview:10}).parse(ut),bn=0;bn<Jt.data.length;bn++)if(dt&&pe(Jt.data[bn]))_n++;else{var Dn=Jt.data[bn].length;Pt+=Dn,yt!==void 0?0<Dn&&(Xt+=Math.abs(Dn-yt),yt=Dn):yt=Dn}0<Jt.data.length&&(Pt/=Jt.data.length-_n),(mt===void 0||Xt<=mt)&&(ct===void 0||ct<Pt)&&1.99<Pt&&(mt=Xt,Fe=rt,ct=Pt)}return{successful:!!(F.delimiter=Fe),bestDelimiter:Fe}}(ze,F.newline,F.skipEmptyLines,F.comments,F.delimitersToGuess);ft.successful?F.delimiter=ft.bestDelimiter:(j=!0,F.delimiter=a.DefaultDelimiter),me.meta.delimiter=F.delimiter}var vt=A(F);return F.preview&&F.header&&vt.preview++,P=ze,B=new w(vt),me=B.parse(P,Ve,Be),Le(),X?{meta:{paused:!0}}:me||{meta:{paused:!1}}},this.paused=function(){return X},this.pause=function(){X=!0,B.abort(),P=O(F.chunk)?"":P.substring(B.getCharIndex())},this.resume=function(){K.streamer._halted?(X=!1,K.streamer.parseChunk(P,!0)):setTimeout(K.resume,3)},this.aborted=function(){return fe},this.abort=function(){fe=!0,B.abort(),me.meta.aborted=!0,O(F.complete)&&F.complete(me),P=""}}function b(F){return F.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function w(F){var P,B=(F=F||{}).delimiter,j=F.newline,V=F.comments,q=F.step,G=F.preview,Y=F.fastMode,K=P=F.quoteChar===void 0||F.quoteChar===null?'"':F.quoteChar;if(F.escapeChar!==void 0&&(K=F.escapeChar),(typeof B!="string"||-1<a.BAD_DELIMITERS.indexOf(B))&&(B=","),V===B)throw new Error("Comment character same as delimiter");V===!0?V="#":(typeof V!="string"||-1<a.BAD_DELIMITERS.indexOf(V))&&(V=!1),j!==`
`&&j!=="\r"&&j!==`\r
`&&(j=`
`);var ee=0,x=!1;this.parse=function(X,fe,he){if(typeof X!="string")throw new Error("Input must be a string");var me=X.length,ge=B.length,pe=j.length,Le=V.length,Qe=O(q),Ae=[],Je=[],ze=[],Ve=ee=0;if(!X)return at();if(F.header&&!fe){var Be=X.split(j)[0].split(B),qe=[],ft={},vt=!1;for(var ut in Be){var Xe=Be[ut];O(F.transformHeader)&&(Xe=F.transformHeader(Xe,ut));var dt=Xe,Oe=ft[Xe]||0;for(0<Oe&&(vt=!0,dt=Xe+"_"+Oe),ft[Xe]=Oe+1;qe.includes(dt);)dt=dt+"_"+Oe;qe.push(dt)}if(vt){var _t=X.split(j);_t[0]=qe.join(B),X=_t.join(j)}}if(Y||Y!==!1&&X.indexOf(P)===-1){for(var Fe=X.split(j),mt=0;mt<Fe.length;mt++){if(ze=Fe[mt],ee+=ze.length,mt!==Fe.length-1)ee+=j.length;else if(he)return at();if(!V||ze.substring(0,Le)!==V){if(Qe){if(Ae=[],_n(ze.split(B)),$n(),x)return at()}else _n(ze.split(B));if(G&&G<=mt)return Ae=Ae.slice(0,G),at(!0)}}return at()}for(var yt=X.indexOf(B,ee),ct=X.indexOf(j,ee),lt=new RegExp(b(K)+b(P),"g"),rt=X.indexOf(P,ee);;)if(X[ee]!==P)if(V&&ze.length===0&&X.substring(ee,ee+Le)===V){if(ct===-1)return at();ee=ct+pe,ct=X.indexOf(j,ee),yt=X.indexOf(B,ee)}else if(yt!==-1&&(yt<ct||ct===-1))ze.push(X.substring(ee,yt)),ee=yt+ge,yt=X.indexOf(B,ee);else{if(ct===-1)break;if(ze.push(X.substring(ee,ct)),Dn(ct+pe),Qe&&($n(),x))return at();if(G&&Ae.length>=G)return at(!0)}else for(rt=ee,ee++;;){if((rt=X.indexOf(P,rt+1))===-1)return he||Je.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ae.length,index:ee}),bn();if(rt===me-1)return bn(X.substring(ee,rt).replace(lt,P));if(P!==K||X[rt+1]!==K){if(P===K||rt===0||X[rt-1]!==K){yt!==-1&&yt<rt+1&&(yt=X.indexOf(B,rt+1)),ct!==-1&&ct<rt+1&&(ct=X.indexOf(j,rt+1));var Xt=Jt(ct===-1?yt:Math.min(yt,ct));if(X.substr(rt+1+Xt,ge)===B){ze.push(X.substring(ee,rt).replace(lt,P)),X[ee=rt+1+Xt+ge]!==P&&(rt=X.indexOf(P,ee)),yt=X.indexOf(B,ee),ct=X.indexOf(j,ee);break}var Pt=Jt(ct);if(X.substring(rt+1+Pt,rt+1+Pt+pe)===j){if(ze.push(X.substring(ee,rt).replace(lt,P)),Dn(rt+1+Pt+pe),yt=X.indexOf(B,ee),rt=X.indexOf(P,ee),Qe&&($n(),x))return at();if(G&&Ae.length>=G)return at(!0);break}Je.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ae.length,index:ee}),rt++}}else rt++}return bn();function _n(Cn){Ae.push(Cn),Ve=ee}function Jt(Cn){var Bt=0;if(Cn!==-1){var or=X.substring(rt+1,Cn);or&&or.trim()===""&&(Bt=or.length)}return Bt}function bn(Cn){return he||(Cn===void 0&&(Cn=X.substring(ee)),ze.push(Cn),ee=me,_n(ze),Qe&&$n()),at()}function Dn(Cn){ee=Cn,_n(ze),ze=[],ct=X.indexOf(j,ee)}function at(Cn){return{data:Ae,errors:Je,meta:{delimiter:B,linebreak:j,aborted:x,truncated:!!Cn,cursor:Ve+(fe||0)}}}function $n(){q(at()),Ae=[],Je=[]}},this.abort=function(){x=!0},this.getCharIndex=function(){return ee}}function S(F){var P=F.data,B=o[P.workerId],j=!1;if(P.error)B.userError(P.error,P.file);else if(P.results&&P.results.data){var V={abort:function(){j=!0,T(P.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:M,resume:M};if(O(B.userStep)){for(var q=0;q<P.results.data.length&&(B.userStep({data:P.results.data[q],errors:P.results.errors,meta:P.results.meta},V),!j);q++);delete P.results}else O(B.userChunk)&&(B.userChunk(P.results,V,P.file),delete P.results)}P.finished&&!j&&T(P.workerId,P.results)}function T(F,P){var B=o[F];O(B.userComplete)&&B.userComplete(P),B.terminate(),delete o[F]}function M(){throw new Error("Not implemented.")}function A(F){if(typeof F!="object"||F===null)return F;var P=Array.isArray(F)?[]:{};for(var B in F)P[B]=A(F[B]);return P}function D(F,P){return function(){F.apply(P,arguments)}}function O(F){return typeof F=="function"}return s&&(t.onmessage=function(F){var P=F.data;if(a.WORKER_ID===void 0&&P&&(a.WORKER_ID=P.workerId),typeof P.input=="string")t.postMessage({workerId:a.WORKER_ID,results:a.parse(P.input,P.config),finished:!0});else if(t.File&&P.input instanceof File||P.input instanceof Object){var B=a.parse(P.input,P.config);B&&t.postMessage({workerId:a.WORKER_ID,results:B,finished:!0})}}),(c.prototype=Object.create(f.prototype)).constructor=c,(m.prototype=Object.create(f.prototype)).constructor=m,(d.prototype=Object.create(d.prototype)).constructor=d,(g.prototype=Object.create(f.prototype)).constructor=g,a})})(Gc);function iTe(r){return Gc.exports.unparse(r,{delimiter:"	",escapeFormulae:/^=|^\+|^@|^\t|^\r|^-(?!\d+(\.\d+)?$)/})}function aTe(r){return Array(r).fill("")}function uTe(r){const e=Math.max(...r.map(n=>n.length));return r.map(n=>[...n,...aTe(e-n.length)])}function fTe(r){const e=r.trim(),n=Gc.exports.parse(e,{delimiter:"	",skipEmptyLines:!1});return uTe(n.data)}function cTe(r,e,n,t){if(r==null)return"";const l=e.get(n);if(!l)return String(r);const s=l.formatCellValue(r,t);return s==null?"":s}function mTe(r,e){const n=[],t=[];for(const l of r.rowIds){const s=[],o=[],a=e.getRows().get(l);if(!a)throw new Error("Row not found");const u=e.getColumns(),f=e.getRecordSummaries();for(const c of r.columnIds){const m=u.get(c);if(!m)throw new Error("Column not found");const d=a[c],g=cTe(d,u,c,f),h=m.abstractType.identifier;o.push({type:h,raw:d,formatted:g}),s.push(g)}n.push(s),t.push(o)}return{structured:JSON.stringify(t),tsv:iTe(n),cellCount:r.rowIds.size*r.columnIds.size}}function dTe(r){if(typeof r!="object")throw new Error("StructuredCell must be an object.");if(r===null)throw new Error("StructuredCell must be an object.");if(!("type"in r))throw new Error("StructuredCell must have a `type` property.");if(typeof r.type!="string")throw new Error("StructuredCell `type` property must be a string.");if(!("raw"in r))throw new Error("StructuredCell must have a `raw` property.");if(!("formatted"in r))throw new Error("StructuredCell must have a `formatted` property.");if(typeof r.formatted!="string")throw new Error("StructuredCell `formatted` property must be a string.");return r}function E5(r){if(!Array.isArray(r))throw new Error("StructuredCells must be an array.");return r.map(dTe)}function _Te(r,e){if(r.length!==e.length)throw new Error("StructuredCell rows must have the same length.");for(const[n,t]of F9(r))if(t.type!==e[n].type)throw new Error("StructuredCell rows must have the same types.")}function*pTe(r){if(!Array.isArray(r))throw new Error("StructuredCellRows must be an array.");const e=r[Symbol.iterator](),n=e.next();if(n.done)return;const t=E5(n.value);for(yield t;;){const l=e.next();if(l.done)return;const s=E5(l.value);_Te(t,s),yield s}}function gTe(r){return[...pTe(r)]}function hTe(r){const e=r.getData(_R);if(e){const t=gTe(JSON.parse(e));if(t.length===0)throw new Error(ve(ce)("paste_error_empty"));return t.map(l=>l.map(s=>({type:"mathesar",value:s})))}const n=r.getData(dR);if(n){const t=fTe(n);if(t.length===0)throw new Error(ve(ce)("paste_error_empty"));return t.map(l=>l.map(s=>({type:"tsv",value:s})))}throw new Error(ve(ce)("paste_error_unsupported_mime_type"))}function bTe(r,e,n){if(e.size>r)throw new Error(ve(ce)("paste_error_too_many_destination_columns"));const l=n.findIndex(o=>e.has(String(o.id)));if(l===-1)throw new Error(ve(ce)("paste_error_no_columns_selected"));const s=l+r-1;if(s>=n.length)throw new Error(ve(ce)("paste_error_too_few_destination_columns"));return n.slice(l,s+1)}function $Te(r,e){return e.type==="tsv"?e.value===""&&r.nullable?null:e.value:e.type==="mathesar"?e.value.raw===null?null:r.type==="text"?e.value.formatted:e.value.raw:Rt(e)}function M5([r,e]){return{columnId:String(e.id),value:$Te(e,r)}}async function R5({payload:r,selectionStore:e,context:n,confirm:t}){const l=ve(e),s=Math.max(l.rowIds.size,r.length),o=[...sg(s,UP(r))],i=ol(o);if(!i)throw new Error(ve(ce)("paste_error_no_rows"));const a=i.length,u=n.getSheetColumns(),f=jr(n.getRecordRows(),A=>FJ(A,D=>l.rowIds.has(ya(D))),sg(o.length),rm),c=o.slice(0,f.length),m=o.slice(f.length),d=bTe(a,l.columnIds,u),g=jr(Ji(c,f),Ln(([A,D])=>({row:D,cells:[...Ln(M5,Ji(A,d))]})),rm),h=jr(m,Ln(A=>({cells:[...Ln(M5,Ji(A,d))]})),rm),b=Math.max(o.length,f.length),w=d.length,S=b*w;if(t&&!await n.confirm(ve(ce)("paste_confirmation",{values:{count:S}})))return;const{rowIds:T,columnIds:M}=await n.bulkDml(g,h);e.update(A=>A.ofRowColumnIntersection(T,M))}async function vTe(r,e,n){const t=hTe(r),l=ve(e).pasteOperation;if(l!=="none"){if(l==="insert"){await R5({payload:t,selectionStore:e,context:n,confirm:!1});return}if(l==="update"){await R5({payload:t,selectionStore:e,context:n,confirm:!0});return}Rt(l)}}function D5(){var r,e;return(e=(r=document.activeElement)==null?void 0:r.hasAttribute("data-active-cell"))!=null?e:!1}class pR{constructor(e){te(this,"deps");this.deps=e}shouldHandleCopy(){return D5()}shouldHandlePaste(){return D5()}handleCopy(e){if(e.clipboardData!=null)try{const n=ve(this.deps.selection),t=mTe(n,this.deps.copyingContext);this.deps.showToastInfo(ve(ce)("copied_cells",{values:{count:t.cellCount}})),e.clipboardData.setData(dR,t.tsv),e.clipboardData.setData(_R,t.structured)}catch(n){this.deps.showToastError(Yt(n))}}async handlePaste({clipboardData:e}){const n=this.deps.pastingContext;if(!!n&&!!e)try{await vTe(e,this.deps.selection,n)}catch(t){this.deps.showToastError(Yt(t))}}}function wTe(r,e){return r[e]}const kTe=4418;function A5(r,e,n){const t=r.slice();return t[24]=e[n],t}function O5(r,e,n){const t=r.slice();return t[11]=e[n],t}function F5(r,e,n){const t=r.slice();return t[18]=e[n],t}function N5(r,e,n){const t=r.slice();return t[21]=e[n],t}function yTe(r){const e=r.slice(),n=e[4].getInitialColumnsAndTransformsUtilizingThemByColumnIds([e[14]]);e[15]=n;const t=e[15].initialColumnsUsingColumnIds;e[16]=t;const l=e[15].transformsUsingColumnIds;return e[17]=l,e}function CTe(r){const e=r.slice(),n=Number(e[11].detail.column_id);return e[14]=n,e}function STe(r){let e,n=r[0],t=[];for(let l=0;l<n.length;l+=1)t[l]=P5(A5(r,n,l));return{c(){e=E("ul");for(let l=0;l<t.length;l+=1)t[l].c();I(e,"class","svelte-ka6voq")},m(l,s){v(l,e,s);for(let o=0;o<t.length;o+=1)t[o].m(e,null)},p(l,s){if(s&1){n=l[0];let o;for(o=0;o<n.length;o+=1){const i=A5(l,n,o);t[o]?t[o].p(i,s):(t[o]=P5(i),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},i:H,o:H,d(l){l&&$(e),Hn(t,l)}}}function TTe(r){let e,n,t=r[0].errors,l=[];for(let o=0;o<t.length;o+=1)l[o]=B5(O5(r,t,o));const s=o=>p(l[o],1,1,()=>{l[o]=null});return{c(){for(let o=0;o<l.length;o+=1)l[o].c();e=ae()},m(o,i){for(let a=0;a<l.length;a+=1)l[a].m(o,i);v(o,e,i),n=!0},p(o,i){if(i&379){t=o[0].errors;let a;for(a=0;a<t.length;a+=1){const u=O5(o,t,a);l[a]?(l[a].p(u,i),_(l[a],1)):(l[a]=B5(u),l[a].c(),_(l[a],1),l[a].m(e.parentNode,e))}for(U(),a=t.length;a<l.length;a+=1)s(a);W()}},i(o){if(!n){for(let i=0;i<t.length;i+=1)_(l[i]);n=!0}},o(o){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)p(l[i]);n=!1},d(o){Hn(l,o),o&&$(e)}}}function P5(r){let e,n=r[24]+"",t;return{c(){e=E("li"),t=L(n),I(e,"class","error")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&1&&n!==(n=l[24]+"")&&z(t,n)},d(l){l&&$(e)}}}function ITe(r){let e,n=r[11].message+"",t;return{c(){e=E("li"),t=L(n),I(e,"class","error")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&1&&n!==(n=l[11].message+"")&&z(t,n)},i:H,o:H,d(l){l&&$(e)}}}function ETe(r){let e,n,t=r[3]("some_columns_in_query_missing")+"",l,s,o,i,a;const u=[RTe,MTe],f=[];function c(d,g){return d[1]?0:d[5]&&d[6]&&d[4].id?1:-1}function m(d,g){return g===0?yTe(d):d}return~(o=c(r))&&(i=f[o]=u[o](m(r,o))),{c(){e=E("li"),n=E("p"),l=L(t),s=N(),i&&i.c(),I(n,"class","strong svelte-ka6voq"),I(e,"class","error")},m(d,g){v(d,e,g),R(e,n),R(n,l),R(e,s),~o&&f[o].m(e,null),a=!0},p(d,g){(!a||g&8)&&t!==(t=d[3]("some_columns_in_query_missing")+"")&&z(l,t);let h=o;o=c(d),o===h?~o&&f[o].p(m(d,o),g):(i&&(U(),p(f[h],1,1,()=>{f[h]=null}),W()),~o?(i=f[o],i?i.p(m(d,o),g):(i=f[o]=u[o](m(d,o)),i.c()),_(i,1),i.m(e,null)):i=null)},i(d){a||(_(i),a=!0)},o(d){p(i),a=!1},d(d){d&&$(e),~o&&f[o].d()}}}function MTe(r){let e,n=r[3]("edit_exploration_attempt_recovery")+"",t,l,s,o,i=r[3]("edit_in_data_explorer")+"",a,u;return{c(){e=E("p"),t=L(n),l=N(),s=E("p"),o=E("a"),a=L(i),I(e,"class","svelte-ka6voq"),I(o,"class","btn btn-secondary"),I(o,"href",u=Al(r[5].id,r[6].oid,r[4].id)),I(s,"class","svelte-ka6voq")},m(f,c){v(f,e,c),R(e,t),v(f,l,c),v(f,s,c),R(s,o),R(o,a)},p(f,c){c&8&&n!==(n=f[3]("edit_exploration_attempt_recovery")+"")&&z(t,n),c&8&&i!==(i=f[3]("edit_in_data_explorer")+"")&&z(a,i),c&112&&u!==(u=Al(f[5].id,f[6].oid,f[4].id))&&I(o,"href",u)},i:H,o:H,d(f){f&&$(e),f&&$(l),f&&$(s)}}}function RTe(r){let e,n=r[3]("recover_query_click_button")+"",t,l,s,o,i,a,u,f=r[16].length>0&&L5(r),c=r[17].length>0&&V5(r);function m(){return r[10](r[14])}return a=new st({props:{appearance:"secondary",$$slots:{default:[DTe]},$$scope:{ctx:r}}}),a.$on("click",m),{c(){e=E("p"),t=L(n),l=N(),f&&f.c(),s=N(),c&&c.c(),o=N(),i=E("p"),C(a.$$.fragment),I(e,"class","svelte-ka6voq"),I(i,"class","svelte-ka6voq")},m(d,g){v(d,e,g),R(e,t),v(d,l,g),f&&f.m(d,g),v(d,s,g),c&&c.m(d,g),v(d,o,g),v(d,i,g),k(a,i,null),u=!0},p(d,g){r=d,(!u||g&8)&&n!==(n=r[3]("recover_query_click_button")+"")&&z(t,n),r[16].length>0?f?f.p(r,g):(f=L5(r),f.c(),f.m(s.parentNode,s)):f&&(f.d(1),f=null),r[17].length>0?c?c.p(r,g):(c=V5(r),c.c(),c.m(o.parentNode,o)):c&&(c.d(1),c=null);const h={};g&134217736&&(h.$$scope={dirty:g,ctx:r}),a.$set(h)},i(d){u||(_(a.$$.fragment,d),u=!0)},o(d){p(a.$$.fragment,d),u=!1},d(d){d&&$(e),d&&$(l),f&&f.d(d),d&&$(s),c&&c.d(d),d&&$(o),d&&$(i),y(a)}}}function L5(r){let e,n=r[3]("this_will_remove_following_columns")+"",t,l,s,o=[],i=new Map,a=r[16];const u=f=>f[21].alias;for(let f=0;f<a.length;f+=1){let c=N5(r,a,f),m=u(c);i.set(m,o[f]=H5(m,c))}return{c(){e=E("p"),t=L(n),l=N(),s=E("ul");for(let f=0;f<o.length;f+=1)o[f].c();I(e,"class","svelte-ka6voq"),I(s,"class","removal-list svelte-ka6voq")},m(f,c){v(f,e,c),R(e,t),v(f,l,c),v(f,s,c);for(let m=0;m<o.length;m+=1)o[m].m(s,null)},p(f,c){c&8&&n!==(n=f[3]("this_will_remove_following_columns")+"")&&z(t,n),c&17&&(a=f[16],o=ht(o,c,u,1,f,a,i,s,Na,H5,null,N5))},d(f){f&&$(e),f&&$(l),f&&$(s);for(let c=0;c<o.length;c+=1)o[c].d()}}}function H5(r,e){var o;let n,t=((o=e[4].display_names[e[21].alias])!=null?o:e[21].alias)+"",l,s;return{key:r,first:null,c(){n=E("li"),l=L(t),s=N(),this.first=n},m(i,a){v(i,n,a),R(n,l),R(n,s)},p(i,a){var u;e=i,a&17&&t!==(t=((u=e[4].display_names[e[21].alias])!=null?u:e[21].alias)+"")&&z(l,t)},d(i){i&&$(n)}}}function V5(r){let e,n=r[3]("this_will_remove_following_transformations")+"",t,l,s,o=[],i=new Map,a=r[17];const u=f=>f[18];for(let f=0;f<a.length;f+=1){let c=F5(r,a,f),m=u(c);i.set(m,o[f]=z5(m,c))}return{c(){e=E("p"),t=L(n),l=N(),s=E("ul");for(let f=0;f<o.length;f+=1)o[f].c();I(e,"class","svelte-ka6voq"),I(s,"class","removal-list svelte-ka6voq")},m(f,c){v(f,e,c),R(e,t),v(f,l,c),v(f,s,c);for(let m=0;m<o.length;m+=1)o[m].m(s,null)},p(f,c){c&8&&n!==(n=f[3]("this_will_remove_following_transformations")+"")&&z(t,n),c&17&&(a=f[17],o=ht(o,c,u,1,f,a,i,s,Na,z5,null,F5))},d(f){f&&$(e),f&&$(l),f&&$(s);for(let c=0;c<o.length;c+=1)o[c].d()}}}function z5(r,e){let n,t=e[18].index+1+"",l,s,o=e[18].transform.name+"",i,a;return{key:r,first:null,c(){n=E("li"),l=L(t),s=L(": "),i=L(o),a=N(),this.first=n},m(u,f){v(u,n,f),R(n,l),R(n,s),R(n,i),R(n,a)},p(u,f){e=u,f&17&&t!==(t=e[18].index+1+"")&&z(l,t),f&17&&o!==(o=e[18].transform.name+"")&&z(i,o)},d(u){u&&$(n)}}}function DTe(r){let e=r[3]("attempt_exploration_recovery")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&8&&e!==(e=t[3]("attempt_exploration_recovery")+"")&&z(n,e)},d(t){t&&$(n)}}}function B5(r){let e,n,t,l,s,o;const i=[ETe,ITe],a=[];function u(c,m){return m&1&&(n=null),n==null&&(n=!!(c[11].code===kTe&&Jn(c[11].detail,"column_id"))),n?0:1}function f(c,m){return m===0?CTe(c):c}return t=u(r,-1),l=a[t]=i[t](f(r,t)),{c(){e=E("ul"),l.c(),s=N(),I(e,"class","svelte-ka6voq")},m(c,m){v(c,e,m),a[t].m(e,null),R(e,s),o=!0},p(c,m){let d=t;t=u(c,m),t===d?a[t].p(f(c,t),m):(U(),p(a[d],1,1,()=>{a[d]=null}),W(),l=a[t],l?l.p(f(c,t),m):(l=a[t]=i[t](f(c,t)),l.c()),_(l,1),l.m(e,s))},i(c){o||(_(l),o=!0)},o(c){p(l),o=!1},d(c){c&&$(e),a[t].d()}}}function ATe(r){let e,n=r[3]("result_could_not_be_displayed")+"",t,l,s,o,i,a;const u=[TTe,STe],f=[];function c(m,d){return m[0]instanceof Wa?0:1}return s=c(r),o=f[s]=u[s](r),{c(){e=E("p"),t=L(n),l=N(),o.c(),i=ae(),I(e,"class","error-header svelte-ka6voq")},m(m,d){v(m,e,d),R(e,t),v(m,l,d),f[s].m(m,d),v(m,i,d),a=!0},p(m,d){(!a||d&8)&&n!==(n=m[3]("result_could_not_be_displayed")+"")&&z(t,n);let g=s;s=c(m),s===g?f[s].p(m,d):(U(),p(f[g],1,1,()=>{f[g]=null}),W(),o=f[s],o?o.p(m,d):(o=f[s]=u[s](m),o.c()),_(o,1),o.m(i.parentNode,i))},i(m){a||(_(o),a=!0)},o(m){p(o),a=!1},d(m){m&&$(e),m&&$(l),f[s].d(m),m&&$(i)}}}function OTe(r){let e,n,t;return n=new Vn({props:{fullWidth:!0,$$slots:{default:[ATe]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","query-run-errors svelte-ka6voq")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,[s]){const o={};s&134217851&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function FTe(r,e,n){let t,l,s,o,i=H,a=()=>(i(),i=le(l,b=>n(4,o=b)),l),u,f;ne(r,ce,b=>n(3,s=b)),ne(r,fs,b=>n(6,f=b)),r.$$.on_destroy.push(()=>i());const{currentDatabase:c}=jn;ne(r,c,b=>n(5,u=b));let{queryHandler:m}=e,{errors:d}=e;function g(b){t&&t.update(w=>w.withoutColumnsById([b]))}const h=b=>g(b);return r.$$set=b=>{"queryHandler"in b&&n(9,m=b.queryHandler),"errors"in b&&n(0,d=b.errors)},r.$$.update=()=>{r.$$.dirty&512&&n(1,t=m instanceof cu?m:void 0),r.$$.dirty&512&&a(n(2,{query:l}=m,l))},[d,t,l,s,o,u,f,c,g,m,h]}class NTe extends Q{constructor(e){super(),Z(this,e,FTe,OTe,J,{queryHandler:9,errors:0})}}function PTe(r){var t;let e,n;return e=new Gn({props:{isLoading:r[3]==="processing"&&r[0].column.type==="unknown",column:{...r[0].column,name:(t=r[0].column.display_name)!=null?t:r[0].column.alias}}}),{c(){C(e.$$.fragment)},m(l,s){k(e,l,s),n=!0},p(l,s){var i;const o={};s&9&&(o.isLoading=l[3]==="processing"&&l[0].column.type==="unknown"),s&1&&(o.column={...l[0].column,name:(i=l[0].column.display_name)!=null?i:l[0].column.alias}),e.$set(o)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){p(e.$$.fragment,l),n=!1},d(l){y(e,l)}}}function LTe(r){let e,n,t,l;return e=new st({props:{appearance:"plain",class:"column-name-wrapper "+(r[1]?"selected":""),$$slots:{default:[PTe]},$$scope:{ctx:r}}}),t=new t1({props:{columnIdentifierKey:r[0].id,afterResize:r[7],onReset:r[8]}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(s,o){k(e,s,o),v(s,n,o),k(t,s,o),l=!0},p(s,o){const i={};o&2&&(i.class="column-name-wrapper "+(s[1]?"selected":"")),o&521&&(i.$$scope={dirty:o,ctx:s}),e.$set(i);const a={};o&1&&(a.columnIdentifierKey=s[0].id),o&4&&(a.afterResize=s[7]),o&4&&(a.onReset=s[8]),t.$set(a)},i(s){l||(_(e.$$.fragment,s),_(t.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),l=!1},d(s){y(e,s),s&&$(n),y(t,s)}}}function HTe(r){let e,n;return e=new r1({props:{columnIdentifierKey:r[0].id,$$slots:{default:[LTe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.columnIdentifierKey=t[0].id),l&527&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function VTe(r,e,n){let t,l,s,o=H,i=()=>(o(),o=le(t,g=>n(6,s=g)),t);r.$$.on_destroy.push(()=>o());let{queryRunner:a}=e,{processedQueryColumn:u}=e,{isSelected:f}=e,{setColumnWidth:c}=e;const m=g=>c(g),d=()=>c(null);return r.$$set=g=>{"queryRunner"in g&&n(5,a=g.queryRunner),"processedQueryColumn"in g&&n(0,u=g.processedQueryColumn),"isSelected"in g&&n(1,f=g.isSelected),"setColumnWidth"in g&&n(2,c=g.setColumnWidth)},r.$$.update=()=>{r.$$.dirty&32&&i(n(4,{runState:t}=a,t)),r.$$.dirty&64&&n(3,l=s==null?void 0:s.state)},[u,f,c,l,t,a,s,m,d]}class zTe extends Q{constructor(e){super(),Z(this,e,VTe,HTe,J,{queryRunner:5,processedQueryColumn:0,isSelected:1,setColumnWidth:2})}}class Ma{constructor(e){te(this,"ctrl");te(this,"shift");te(this,"alt");te(this,"meta");te(this,"key");this.ctrl=e.ctrl,this.shift=e.shift,this.alt=e.alt,this.meta=e.meta,this.key=e.key}static fromKey(e,n=[]){return new Ma({ctrl:n.includes("Ctrl"),shift:n.includes("Shift"),alt:n.includes("Alt"),meta:n.includes("Meta"),key:e})}static fromKeyboardEvent(e){return new Ma({ctrl:e.ctrlKey,shift:e.shiftKey,alt:e.altKey,meta:e.metaKey,key:e.key})}toString(){return[...this.ctrl?["Ctrl"]:[],...this.shift?["Shift"]:[],...this.alt?["Alt"]:[],...this.meta?["Meta"]:[],this.key].join("+")}}function Do(r,e){r.update(n=>n.collapsedAndMoved(e)),uR()}function Vu(r,e){r.update(n=>n.resized(e)),uR()}function Hl(...r){return Ma.fromKey(...r).toString()}const BTe=[[Hl("ArrowUp"),r=>Do(r,Cr.Up)],[Hl("ArrowDown"),r=>Do(r,Cr.Down)],[Hl("ArrowLeft"),r=>Do(r,Cr.Left)],[Hl("ArrowRight"),r=>Do(r,Cr.Right)],[Hl("Tab"),r=>Do(r,Cr.Right)],[Hl("Tab",["Shift"]),r=>Do(r,Cr.Left)],[Hl("ArrowUp",["Shift"]),r=>Vu(r,Cr.Up)],[Hl("ArrowDown",["Shift"]),r=>Vu(r,Cr.Down)],[Hl("ArrowLeft",["Shift"]),r=>Vu(r,Cr.Left)],[Hl("ArrowRight",["Shift"]),r=>Vu(r,Cr.Right)]],qTe=new Map(BTe);function gR(r,e){const n=Ma.fromKeyboardEvent(r),t=qTe.get(n.toString());t&&(r.preventDefault(),t(e))}function q5(r){var t;let e,n;return e=new su({props:{isActive:r[8],columnFabric:r[0],value:(t=r[1])==null?void 0:t.record[r[0].id],showAsSkeleton:r[2]==="processing",disabled:!0}}),e.$on("movementKeyDown",r[7]),{c(){C(e.$$.fragment)},m(l,s){k(e,l,s),n=!0},p(l,s){var i;const o={};s&256&&(o.isActive=l[8]),s&1&&(o.columnFabric=l[0]),s&3&&(o.value=(i=l[1])==null?void 0:i.record[l[0].id]),s&4&&(o.showAsSkeleton=l[2]==="processing"),e.$set(o)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){p(e.$$.fragment,l),n=!1},d(l){y(e,l)}}}function UTe(r){let e,n,t=(r[1]||r[2]==="processing")&&q5(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[1]||l[2]==="processing"?t?(t.p(l,s),s&6&&_(t,1)):(t=q5(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function WTe(r){let e,n;return e=new l1({props:{columnIdentifierKey:r[0].id,cellSelectionId:r[4],selection:r[5],$$slots:{default:[UTe,({isActive:t})=>({8:t}),({isActive:t})=>t?256:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.columnIdentifierKey=t[0].id),l&16&&(s.cellSelectionId=t[4]),l&32&&(s.selection=t[5]),l&783&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function jTe(r,e,n){let t,l,s=H,o=()=>(s(),s=le(c,d=>n(5,l=d)),c);r.$$.on_destroy.push(()=>s());let{column:i}=e,{row:a}=e,{rowSelectionId:u}=e,{recordRunState:f}=e,{selection:c}=e;o();const m=({detail:d})=>gR(d.originalEvent,c);return r.$$set=d=>{"column"in d&&n(0,i=d.column),"row"in d&&n(1,a=d.row),"rowSelectionId"in d&&n(6,u=d.rowSelectionId),"recordRunState"in d&&n(2,f=d.recordRunState),"selection"in d&&o(n(3,c=d.selection))},r.$$.update=()=>{r.$$.dirty&67&&n(4,t=a&&Ur(u,i.id))},[i,a,f,c,t,l,u,m]}class YTe extends Q{constructor(e){super(),Z(this,e,jTe,WTe,J,{column:0,row:1,rowSelectionId:6,recordRunState:2,selection:3})}}const{Map:s1}=gi;function U5(r,e,n){var i;const t=r.slice();t[33]=e[n];const l=wTe(t[1],t[33].index);t[34]=l;const s=(i=t[34]&&Uf(t[34]))!=null?i:"";t[35]=s;const o=t[7].rowIds.has(t[35]);return t[36]=o,t}function W5(r,e,n){const t=r.slice();return t[41]=e[n],t}function j5(r,e,n){const t=r.slice();return t[41]=e[n],t[45]=n,t}function GTe(r){let e,n;return e=new xp({props:{columns:r[9],getColumnIdentifier:nIe,columnWidths:r[13],clipboardHandler:r[12],usesVirtualList:!0,selection:r[5],onCellSelectionStart:r[31],$$slots:{default:[eIe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&512&&(s.columns=t[9]),l[0]&8192&&(s.columnWidths=t[13]),l[0]&4096&&(s.clipboardHandler=t[12]),l[0]&32&&(s.selection=t[5]),l[0]&32768&&(s.onCellSelectionStart=t[31]),l[0]&2099647|l[1]&32768&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function KTe(r){let e,n,t;return n=new NTe({props:{errors:r[10],queryHandler:r[0]}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","empty-state svelte-1l81930")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s[0]&1024&&(o.errors=l[10]),s[0]&1&&(o.queryHandler=l[0]),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function XTe(r){let e,n=r[20]("add_columns_to_exploration_empty_message")+"",t;return{c(){e=E("div"),t=L(n),I(e,"class","empty-state svelte-1l81930")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s[0]&1048576&&n!==(n=l[20]("add_columns_to_exploration_empty_message")+"")&&z(t,n)},i:H,o:H,d(l){l&&$(e)}}}function Y5(r,e){let n,t,l;function s(...o){return e[29](e[45],...o)}return t=new zTe({props:{processedQueryColumn:e[41],queryRunner:e[0],isSelected:e[11].has(e[41].id),setColumnWidth:s}}),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(o,i){v(o,n,i),k(t,o,i),l=!0},p(o,i){e=o;const a={};i[0]&16&&(a.processedQueryColumn=e[41]),i[0]&1&&(a.queryRunner=e[0]),i[0]&2064&&(a.isSelected=e[11].has(e[41].id)),i[0]&16&&(a.setColumnWidth=s),t.$set(a)},i(o){l||(_(t.$$.fragment,o),l=!0)},o(o){p(t.$$.fragment,o),l=!1},d(o){o&&$(n),y(t,o)}}}function JTe(r){let e,n,t=[],l=new s1,s,o;e=new fR({props:{columnIdentifierKey:jf}});let i=r[4];const a=u=>u[41].id;for(let u=0;u<i.length;u+=1){let f=j5(r,i,u),c=a(f);l.set(c,t[u]=Y5(c,f))}return{c(){C(e.$$.fragment),n=N();for(let u=0;u<t.length;u+=1)t[u].c();s=ae()},m(u,f){k(e,u,f),v(u,n,f);for(let c=0;c<t.length;c+=1)t[c].m(u,f);v(u,s,f),o=!0},p(u,f){f[0]&4196369&&(i=u[4],U(),t=ht(t,f,a,1,u,i,l,s.parentNode,kt,Y5,s,j5),W())},i(u){if(!o){_(e.$$.fragment,u);for(let f=0;f<i.length;f+=1)_(t[f]);o=!0}},o(u){p(e.$$.fragment,u);for(let f=0;f<t.length;f+=1)p(t[f]);o=!1},d(u){y(e,u),u&&$(n);for(let f=0;f<t.length;f+=1)t[f].d(u);u&&$(s)}}}function G5(r){let e,n;return e=new n1({props:{style:r[33].style,$$slots:{default:[QTe,({htmlAttributes:t,styleString:l})=>({39:t,40:l}),({htmlAttributes:t,styleString:l})=>[0,(t?256:0)|(l?512:0)]]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[1]&2&&(s.style=t[33].style),l[0]&2097338|l[1]&33538&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function ZTe(r){let e,n,t,l,s=r[21].offset+r[33].index+1+"",o,i;return e=new ll({props:{color:"var(--cell-bg-color-header)"}}),t=new ll({props:{when:r[36],color:"var(--cell-bg-color-row-selected)"}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),o=L(s)},m(a,u){k(e,a,u),v(a,n,u),k(t,a,u),v(a,l,u),v(a,o,u),i=!0},p(a,u){const f={};u[0]&130|u[1]&2&&(f.when=a[36]),t.$set(f),(!i||u[0]&2097152|u[1]&2)&&s!==(s=a[21].offset+a[33].index+1+"")&&z(o,s)},i(a){i||(_(e.$$.fragment,a),_(t.$$.fragment,a),i=!0)},o(a){p(e.$$.fragment,a),p(t.$$.fragment,a),i=!1},d(a){y(e,a),a&&$(n),y(t,a),a&&$(l),a&&$(o)}}}function K5(r,e){let n,t,l;return t=new YTe({props:{row:e[34],rowSelectionId:e[35],column:e[41],recordRunState:e[3],selection:e[5]}}),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(s,o){v(s,n,o),k(t,s,o),l=!0},p(s,o){e=s;const i={};o[0]&2|o[1]&2&&(i.row=e[34]),o[0]&2|o[1]&2&&(i.rowSelectionId=e[35]),o[0]&16&&(i.column=e[41]),o[0]&8&&(i.recordRunState=e[3]),o[0]&32&&(i.selection=e[5]),t.$set(i)},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){s&&$(n),y(t,s)}}}function QTe(r){let e,n,t,l=[],s=new s1,o,i,a;n=new mR({props:{rowSelectionId:r[35],columnIdentifierKey:jf,$$slots:{default:[ZTe]},$$scope:{ctx:r}}});let u=r[4];const f=d=>d[41].id;for(let d=0;d<u.length;d+=1){let g=W5(r,u,d),h=f(g);s.set(h,l[d]=K5(h,g))}let c=[r[39],{style:o="--cell-height:"+(Dl-1)+"px;"+r[40]}],m={};for(let d=0;d<c.length;d+=1)m=se(m,c[d]);return{c(){e=E("div"),C(n.$$.fragment),t=N();for(let d=0;d<l.length;d+=1)l[d].c();i=N(),Tt(e,m),ie(e,"svelte-1l81930",!0)},m(d,g){v(d,e,g),k(n,e,null),R(e,t);for(let h=0;h<l.length;h+=1)l[h].m(e,null);v(d,i,g),a=!0},p(d,g){const h={};g[0]&2|g[1]&2&&(h.rowSelectionId=d[35]),g[0]&2097282|g[1]&32770&&(h.$$scope={dirty:g,ctx:d}),n.$set(h),g[0]&58|g[1]&2&&(u=d[4],U(),l=ht(l,g,f,1,d,u,s,e,kt,K5,null,W5),W()),Tt(e,m=de(c,[g[1]&256&&d[39],(!a||g[1]&512&&o!==(o="--cell-height:"+(Dl-1)+"px;"+d[40]))&&{style:o}])),ie(e,"svelte-1l81930",!0)},i(d){if(!a){_(n.$$.fragment,d);for(let g=0;g<u.length;g+=1)_(l[g]);a=!0}},o(d){p(n.$$.fragment,d);for(let g=0;g<l.length;g+=1)p(l[g]);a=!1},d(d){d&&$(e),y(n);for(let g=0;g<l.length;g+=1)l[g].d();d&&$(i)}}}function X5(r,e){let n,t,l,s=(e[34]||e[2])&&G5(e);return{key:r,first:null,c(){n=ae(),s&&s.c(),t=ae(),this.first=n},m(o,i){v(o,n,i),s&&s.m(o,i),v(o,t,i),l=!0},p(o,i){e=o,e[34]||e[2]?s?(s.p(e,i),i[0]&6|i[1]&2&&_(s,1)):(s=G5(e),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(U(),p(s,1,1,()=>{s=null}),W())},i(o){l||(_(s),l=!0)},o(o){p(s),l=!1},d(o){o&&$(n),s&&s.d(o),o&&$(t)}}}function xTe(r){let e=[],n=new s1,t,l,s=r[32];const o=i=>i[33].key;for(let i=0;i<s.length;i+=1){let a=U5(r,s,i),u=o(a);n.set(u,e[i]=X5(u,a))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=ae()},m(i,a){for(let u=0;u<e.length;u+=1)e[u].m(i,a);v(i,t,a),l=!0},p(i,a){a[0]&2097342|a[1]&770&&(s=i[32],U(),e=ht(e,a,o,1,i,s,n,t.parentNode,kt,X5,t,U5),W())},i(i){if(!l){for(let a=0;a<s.length;a+=1)_(e[a]);l=!0}},o(i){for(let a=0;a<e.length;a+=1)p(e[a]);l=!1},d(i){for(let a=0;a<e.length;a+=1)e[a].d(i);i&&$(t)}}}function eIe(r){let e,n,t,l;return e=new e1({props:{$$slots:{default:[JTe]},$$scope:{ctx:r}}}),t=new iR({props:{itemCount:r[8],paddingBottom:30,itemSize:r[30],$$slots:{default:[xTe,({items:s})=>({32:s}),({items:s})=>[0,s?2:0]]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(s,o){k(e,s,o),v(s,n,o),k(t,s,o),l=!0},p(s,o){const i={};o[0]&2065|o[1]&32768&&(i.$$scope={dirty:o,ctx:s}),e.$set(i);const a={};o[0]&256&&(a.itemCount=s[8]),o[0]&2097342|o[1]&32770&&(a.$$scope={dirty:o,ctx:s}),t.$set(a)},i(s){l||(_(e.$$.fragment,s),_(t.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),l=!1},d(s){y(e,s),s&&$(n),y(t,s)}}}function tIe(r){let e,n,t,l;const s=[XTe,KTe,GTe],o=[];function i(a,u){return a[14].length?a[10]?1:2:0}return n=i(r),t=o[n]=s[n](r),{c(){e=E("div"),t.c(),I(e,"data-identifier","query-run-result"),I(e,"class","svelte-1l81930")},m(a,u){v(a,e,u),o[n].m(e,null),l=!0},p(a,u){let f=n;n=i(a),n===f?o[n].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),t=o[n],t?t.p(a,u):(t=o[n]=s[n](a),t.c()),_(t,1),t.m(e,null))},i(a){l||(_(t),l=!0)},o(a){p(t),l=!1},d(a){a&&$(e),o[n].d()}}}const jf="row-control",nIe=r=>r.id;function rIe(r,e,n){let t,l,s,o,i,a,u,f,c,m,d,g,h,b,w,S,T,M,A,D,O,F=H,P=()=>(F(),F=le(s,Be=>n(25,O=Be)),s),B,j=H,V=()=>(j(),j=le(l,Be=>n(26,B=Be)),l),q,G=H,Y=()=>(G(),G=le(a,Be=>n(27,q=Be)),a),K,ee=H,x=()=>(ee(),ee=le(u,Be=>n(7,K=Be)),u),X,fe=H,he=()=>(fe(),fe=le(t,Be=>n(28,X=Be)),t),me,ge,pe=H,Le=()=>(pe(),pe=le(i,Be=>n(21,ge=Be)),i);ne(r,ce,Be=>n(20,me=Be)),r.$$.on_destroy.push(()=>F()),r.$$.on_destroy.push(()=>j()),r.$$.on_destroy.push(()=>G()),r.$$.on_destroy.push(()=>ee()),r.$$.on_destroy.push(()=>fe()),r.$$.on_destroy.push(()=>pe());let{queryHandler:Qe}=e;function Ae(Be,qe){Qe instanceof cu&&Qe.setColumnDisplayOptions(Be,{display_width:qe})}const Je=(Be,qe)=>Ae(Be,qe),ze=()=>Dl,Ve=Be=>{Be.type==="column-header-cell"&&f.activate("column")};return r.$$set=Be=>{"queryHandler"in Be&&n(0,Qe=Be.queryHandler)},r.$$.update=()=>{r.$$.dirty[0]&1&&he(n(19,{query:t,processedColumns:l,rowsData:s,selectableRowsMap:o,pagination:i,runState:a,selection:u,inspector:f}=Qe,t,V(n(6,l)),P(n(18,s)),(n(23,o),n(0,Qe)),Le(n(17,i)),Y(n(16,a)),x(n(5,u)),(n(15,f),n(0,Qe)))),r.$$.dirty[0]&268435456&&n(14,{initial_columns:c,display_options:m}=X,c,(n(24,m),n(28,X))),r.$$.dirty[0]&16777216&&n(13,d=new Ct([[jf,eI],...Jye(m)])),r.$$.dirty[0]&8388704&&n(12,g=new pR({copyingContext:{getRows:()=>new Map(Ln(([Be,qe])=>[Be,qe.record],ve(o))),getColumns:()=>ve(l),getRecordSummaries:()=>new Ct},selection:u,showToastInfo:$t.info,showToastError:$t.error})),r.$$.dirty[0]&128&&n(11,{columnIds:h}=K,h),r.$$.dirty[0]&134217728&&n(3,b=q==null?void 0:q.state),r.$$.dirty[0]&134217728&&n(10,w=(q==null?void 0:q.state)==="failure"?q.errors:void 0),r.$$.dirty[0]&67108864&&n(4,S=[...B.values()]),r.$$.dirty[0]&16&&n(9,T=S.length?[{id:jf},...S]:[]),r.$$.dirty[0]&33554432&&n(1,M=O.rows),r.$$.dirty[0]&10&&n(2,A=(b==="success"||b==="processing")&&!M.length),r.$$.dirty[0]&6&&n(8,D=A?1:M.length)},[Qe,M,A,b,S,u,l,K,D,T,w,h,g,d,c,f,a,i,s,t,me,ge,Ae,o,m,O,B,q,X,Je,ze,Ve]}class lIe extends Q{constructor(e){super(),Z(this,e,rIe,tIe,J,{queryHandler:0},null,[-1,-1])}}function J5(r){let e,n,t,l;n=new ej({props:{total:r[0],pageSize:r[2],currentPage:r[4]}}),n.$on("change",r[5]);let s=r[1].length&&Z5(r);return{c(){e=E("div"),C(n.$$.fragment),t=N(),s&&s.c(),I(e,"class","pagination-group svelte-1e0lu03")},m(o,i){v(o,e,i),k(n,e,null),R(e,t),s&&s.m(e,null),l=!0},p(o,i){const a={};i&1&&(a.total=o[0]),i&4&&(a.pageSize=o[2]),i&16&&(a.currentPage=o[4]),n.$set(a),o[1].length?s?(s.p(o,i),i&2&&_(s,1)):(s=Z5(o),s.c(),_(s,1),s.m(e,null)):s&&(U(),p(s,1,1,()=>{s=null}),W())},i(o){l||(_(n.$$.fragment,o),_(s),l=!0)},o(o){p(n.$$.fragment,o),p(s),l=!1},d(o){o&&$(e),y(n),s&&s.d()}}}function Z5(r){let e,n;return e=new fn({props:{triggerAppearance:"secondary",options:r[1],value:r[2]}}),e.$on("change",r[6]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.options=t[1]),l&4&&(s.value=t[2]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function sIe(r){let e,n,t=r[0]&&!r[3]&&J5(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,[s]){l[0]&&!l[3]?t?(t.p(l,s),s&9&&_(t,1)):(t=J5(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function oIe(r,e,n){let t,l,s,o;const i=Et();let{pagination:a}=e,{totalCount:u}=e,{pageSizeOptions:f=[100,200,500]}=e,{hiddenWhenPossible:c=!1}=e;function m(g){n(7,a=new Or({...a,page:g.detail.currentPage})),i("change",a)}function d(g){const h=g.detail;typeof h<"u"&&t!==h&&(n(7,a=new Or({page:1,size:h})),i("change",a))}return r.$$set=g=>{"pagination"in g&&n(7,a=g.pagination),"totalCount"in g&&n(0,u=g.totalCount),"pageSizeOptions"in g&&n(1,f=g.pageSizeOptions),"hiddenWhenPossible"in g&&n(8,c=g.hiddenWhenPossible)},r.$$.update=()=>{r.$$.dirty&128&&n(2,{size:t,page:l}=a,t,(n(4,l),n(7,a))),r.$$.dirty&5&&n(9,s=t>=u),r.$$.dirty&768&&n(3,o=s&&c)},[u,f,t,o,l,m,d,a,c,s]}class hR extends Q{constructor(e){super(),Z(this,e,oIe,sIe,J,{pagination:7,totalCount:0,pageSizeOptions:1,hiddenWhenPossible:8})}}function iIe(r){let e=r[2]("refresh")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&4&&e!==(e=t[2]("refresh")+"")&&z(n,e)},d(t){t&&$(n)}}}function aIe(r){let e=r[2]("retry")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&4&&e!==(e=t[2]("retry")+"")&&z(n,e)},d(t){t&&$(n)}}}function uIe(r){let e=r[2]("loading")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&4&&e!==(e=t[2]("loading")+"")&&z(n,e)},d(t){t&&$(n)}}}function fIe(r){let e,n,t,l;const s=[r[0]&&!r[1]?il:li,{spin:r[1]}];let o={};for(let f=0;f<s.length;f+=1)o=se(o,s[f]);e=new Ne({props:o});function i(f,c){return f[1]?uIe:f[0]?aIe:iIe}let a=i(r),u=a(r);return{c(){C(e.$$.fragment),n=N(),t=E("span"),u.c()},m(f,c){k(e,f,c),v(f,n,c),v(f,t,c),u.m(t,null),l=!0},p(f,c){const m=c&3?de(s,[_e(f[0]&&!f[1]?il:li),c&2&&{spin:f[1]}]):{};e.$set(m),a===(a=i(f))&&u?u.p(f,c):(u.d(1),u=a(f),u&&(u.c(),u.m(t,null)))},i(f){l||(_(e.$$.fragment,f),l=!0)},o(f){p(e.$$.fragment,f),l=!1},d(f){y(e,f),f&&$(n),f&&$(t),u.d()}}}function cIe(r){let e,n,t;return n=new st({props:{size:"medium",disabled:r[1],$$slots:{default:[fIe]},$$scope:{ctx:r}}}),n.$on("click",r[4]),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","refresh-button")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,[s]){const o={};s&2&&(o.disabled=l[1]),s&39&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function mIe(r,e,n){let t,l,s;ne(r,ce,a=>n(2,s=a));let{state:o=void 0}=e;function i(a){Re.call(this,r,a)}return r.$$set=a=>{"state"in a&&n(3,o=a.state)},r.$$.update=()=>{r.$$.dirty&8&&n(1,t=o==="loading"),r.$$.dirty&8&&n(0,l=o==="error")},[l,t,s,o,i]}class bR extends Q{constructor(e){super(),Z(this,e,mIe,cIe,J,{state:3})}}function dIe(r){let e,n;return e=new bR({props:{state:r[1]}}),e.$on("click",r[4]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&2&&(s.state=t[1]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function _Ie(r,e,n){let t,l,s,o=H,i=()=>(o(),o=le(t,f=>n(3,s=f)),t);r.$$.on_destroy.push(()=>o());let{queryRunner:a}=e;const u=()=>a.run();return r.$$set=f=>{"queryRunner"in f&&n(0,a=f.queryRunner)},r.$$.update=()=>{r.$$.dirty&1&&i(n(2,{runState:t}=a,t)),r.$$.dirty&8&&n(1,l=(()=>{let f;const c=s==null?void 0:s.state;return c==="processing"&&(f="loading"),c==="failure"&&(f="error"),f})())},[a,l,t,s,u]}class pIe extends Q{constructor(e){super(),Z(this,e,_Ie,dIe,J,{queryRunner:0})}}function gIe(r){let e=r[6]("no_results_found")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&64&&e!==(e=t[6]("no_results_found")+"")&&z(n,e)},d(t){t&&$(n)}}}function hIe(r){let e,n=r[6]("showing_n_to_m_of_total",{values:{leftBound:r[7].leftBound,rightBound:Math.min(r[1],r[7].rightBound),totalCount:r[1]}})+"",t;return{c(){e=E("div"),t=L(n)},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&194&&n!==(n=l[6]("showing_n_to_m_of_total",{values:{leftBound:l[7].leftBound,rightBound:Math.min(l[1],l[7].rightBound),totalCount:l[1]}})+"")&&z(t,n)},d(l){l&&$(e)}}}function bIe(r){let e,n,t,l,s,o,i,a;function u(m,d){if(m[1])return hIe;if(m[2]==="success")return gIe}let f=u(r),c=f&&f(r);return l=new hR({props:{pagination:r[7],totalCount:r[1]}}),l.$on("change",r[10]),i=new pIe({props:{queryRunner:r[0]}}),{c(){e=E("div"),c&&c.c(),n=N(),t=E("div"),C(l.$$.fragment),s=N(),o=E("div"),C(i.$$.fragment),I(o,"class","refresh svelte-qqusvc"),I(t,"class","pagination-controls svelte-qqusvc"),I(e,"data-identifier","status-bar"),I(e,"class","svelte-qqusvc")},m(m,d){v(m,e,d),c&&c.m(e,null),R(e,n),R(e,t),k(l,t,null),R(t,s),R(t,o),k(i,o,null),a=!0},p(m,[d]){f===(f=u(m))&&c?c.p(m,d):(c&&c.d(1),c=f&&f(m),c&&(c.c(),c.m(e,n)));const g={};d&128&&(g.pagination=m[7]),d&2&&(g.totalCount=m[1]),l.$set(g);const h={};d&1&&(h.queryRunner=m[0]),i.$set(h)},i(m){a||(_(l.$$.fragment,m),_(i.$$.fragment,m),a=!0)},o(m){p(l.$$.fragment,m),p(i.$$.fragment,m),a=!1},d(m){m&&$(e),c&&c.d(),y(l),y(i)}}}function $Ie(r,e,n){let t,l,s,o,i,a,u=H,f=()=>(u(),u=le(t,M=>n(8,a=M)),t),c,m=H,d=()=>(m(),m=le(s,M=>n(9,c=M)),s),g,h,b=H,w=()=>(b(),b=le(l,M=>n(7,h=M)),l);ne(r,ce,M=>n(6,g=M)),r.$$.on_destroy.push(()=>u()),r.$$.on_destroy.push(()=>m()),r.$$.on_destroy.push(()=>b());let{queryHandler:S}=e;const T=M=>{S.setPagination(M.detail)};return r.$$set=M=>{"queryHandler"in M&&n(0,S=M.queryHandler)},r.$$.update=()=>{r.$$.dirty&1&&f(n(5,{rowsData:t,pagination:l,runState:s}=S,t,w(n(4,l)),d(n(3,s)))),r.$$.dirty&512&&n(2,o=c==null?void 0:c.state),r.$$.dirty&256&&n(1,i=a.totalCount)},[S,i,o,s,l,t,g,h,a,c,T]}class vIe extends Q{constructor(e){super(),Z(this,e,$Ie,bIe,J,{queryHandler:0})}}function wIe(r){let e,n,t,l;n=new WSe({props:{queryManager:r[1],linkCollapsibleOpenState:r[0],$$slots:{default:[TIe]},$$scope:{ctx:r}}});let s=r[4]&&Q5(r);return{c(){e=E("div"),C(n.$$.fragment),t=N(),s&&s.c(),I(e,"class","content-pane svelte-1np6c6v")},m(o,i){v(o,e,i),k(n,e,null),R(e,t),s&&s.m(e,null),l=!0},p(o,i){const a={};i&2&&(a.queryManager=o[1]),i&1&&(a.linkCollapsibleOpenState=o[0]),i&2202&&(a.$$scope={dirty:i,ctx:o}),n.$set(a),o[4]?s?(s.p(o,i),i&16&&_(s,1)):(s=Q5(o),s.c(),_(s,1),s.m(e,null)):s&&(U(),p(s,1,1,()=>{s=null}),W())},i(o){l||(_(n.$$.fragment,o),_(s),l=!0)},o(o){p(n.$$.fragment,o),p(s),l=!1},d(o){o&&$(e),y(n),s&&s.d()}}}function kIe(r){let e,n,t,l=r[7]("get_started_by_adding_table_and_columns")+"",s,o,i=r[6].requestStatus.state==="success"&&r[6].data.size===0&&x5(r);return{c(){e=E("div"),i&&i.c(),n=N(),t=E("div"),s=L(l),I(t,"class","help-text svelte-1np6c6v"),I(e,"class","initial-content svelte-1np6c6v")},m(a,u){v(a,e,u),i&&i.m(e,null),R(e,n),R(e,t),R(t,s),o=!0},p(a,u){a[6].requestStatus.state==="success"&&a[6].data.size===0?i?(i.p(a,u),u&64&&_(i,1)):(i=x5(a),i.c(),_(i,1),i.m(e,n)):i&&(U(),p(i,1,1,()=>{i=null}),W()),(!o||u&128)&&l!==(l=a[7]("get_started_by_adding_table_and_columns")+"")&&z(s,l)},i(a){o||(_(i),o=!0)},o(a){p(i),o=!1},d(a){a&&$(e),i&&i.d()}}}function yIe(r){let e,n,t;return n=new aCe({props:{isInspectorOpen:r[3],queryHandler:r[1],$$slots:{default:[SIe]},$$scope:{ctx:r}}}),n.$on("delete",r[10]),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","results-wrapper svelte-1np6c6v")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&8&&(o.isInspectorOpen=l[3]),s&2&&(o.queryHandler=l[1]),s&2050&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function CIe(r){let e,n=r[7]("get_started_by_adding_columns_from_left")+"",t;return{c(){e=E("div"),t=L(n),I(e,"class","help-text svelte-1np6c6v")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&128&&n!==(n=l[7]("get_started_by_adding_columns_from_left")+"")&&z(t,n)},i:H,o:H,d(l){l&&$(e)}}}function SIe(r){let e,n;return e=new lIe({props:{queryHandler:r[1]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.queryHandler=t[1]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function TIe(r){let e,n,t,l;const s=[CIe,yIe],o=[];function i(a,u){return a[4]?1:0}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function Q5(r){let e,n;return e=new vIe({props:{queryHandler:r[1]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.queryHandler=t[1]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function x5(r){let e,n,t;return n=new fc({props:{$$slots:{body:[EIe],title:[IIe]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","tutorial-holder svelte-1np6c6v")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&2176&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function IIe(r){let e,n=r[7]("create_share_explorations_of_your_data")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","title")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&128&&n!==(n=l[7]("create_share_explorations_of_your_data")+"")&&z(t,n)},d(l){l&&$(e)}}}function EIe(r){let e,n=r[7]("create_exploration_empty_state_help")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","body")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&128&&n!==(n=l[7]("create_exploration_empty_state_help")+"")&&z(t,n)},d(l){l&&$(e)}}}function MIe(r){let e,n,t,l,s,o,i,a;function u(h){r[8](h)}function f(h){r[9](h)}let c={queryManager:r[1]};r[0]!==void 0&&(c.linkCollapsibleOpenState=r[0]),r[3]!==void 0&&(c.isInspectorOpen=r[3]),n=new Eye({props:c}),we.push(()=>Me(n,"linkCollapsibleOpenState",u)),we.push(()=>Me(n,"isInspectorOpen",f));const m=[kIe,wIe],d=[];function g(h,b){return h[2].base_table_oid?1:0}return o=g(r),i=d[o]=m[o](r),{c(){e=E("div"),C(n.$$.fragment),s=N(),i.c(),I(e,"class","data-explorer svelte-1np6c6v"),ie(e,"inspector-open",r[3])},m(h,b){v(h,e,b),k(n,e,null),R(e,s),d[o].m(e,null),a=!0},p(h,[b]){const w={};b&2&&(w.queryManager=h[1]),!t&&b&1&&(t=!0,w.linkCollapsibleOpenState=h[0],De(()=>t=!1)),!l&&b&8&&(l=!0,w.isInspectorOpen=h[3],De(()=>l=!1)),n.$set(w);let S=o;o=g(h),o===S?d[o].p(h,b):(U(),p(d[S],1,1,()=>{d[S]=null}),W(),i=d[o],i?i.p(h,b):(i=d[o]=m[o](h),i.c()),_(i,1),i.m(e,null)),(!a||b&8)&&ie(e,"inspector-open",h[3])},i(h){a||(_(n.$$.fragment,h),_(i),a=!0)},o(h){p(n.$$.fragment,h),p(i),a=!1},d(h){h&&$(e),y(n),d[o].d()}}}function RIe(r,e,n){let t,l,s,o=H,i=()=>(o(),o=le(t,b=>n(2,s=b)),t),a,u;ne(r,iu,b=>n(6,a=b)),ne(r,ce,b=>n(7,u=b)),r.$$.on_destroy.push(()=>o());let{queryManager:f}=e,{linkCollapsibleOpenState:c={}}=e,m=!0;function d(b){c=b,n(0,c)}function g(b){m=b,n(3,m)}function h(b){Re.call(this,r,b)}return r.$$set=b=>{"queryManager"in b&&n(1,f=b.queryManager),"linkCollapsibleOpenState"in b&&n(0,c=b.linkCollapsibleOpenState)},r.$$.update=()=>{r.$$.dirty&2&&i(n(5,{query:t}=f,t)),r.$$.dirty&4&&n(4,l=!!s.initial_columns.length)},[c,f,s,m,l,t,a,u,d,g,h]}class DIe extends Q{constructor(e){super(),Z(this,e,RIe,MIe,J,{queryManager:1,linkCollapsibleOpenState:0})}}class Yf{static baseTable(e){return{oid:e.oid,name:e.name}}static terseSummarizedColumn(e){return{id:e.id,name:e.name}}static terseSummarization(e){return{databaseId:e.databaseId,schemaOid:e.schemaOid,baseTable:Yf.baseTable(e.baseTable),columns:e.columns.map(n=>Yf.terseSummarizedColumn(n)),terseGrouping:e.terseGrouping}}}function $R(r){return wi.encode(JSON.stringify(Yf.terseSummarization(r)))}function vR(r,e,n){const t=$a(r,e),l=$R({databaseId:r,schemaOid:e,baseTable:n,columns:[],terseGrouping:[]});return`${t}#${l}`}function AIe(r,e,n){const t=$a(r,e),{columns:l,terseGrouping:s}=n;if(s.length>0&&l.length>0){const o=$R(n);return`${t}#${o}`}}function OIe(r){var T;const e=JSON.parse(wi.decode(r));if(!e.databaseId||!e.baseTable||!e.schemaOid)return;const{baseTable:n,databaseId:t,schemaOid:l}=e;let s=[],o=[];if(!((T=e.terseGrouping)!=null&&T.length)||!e.columns)return{database_id:t,schema_oid:l,base_table_oid:n.oid};const i=new Map(e.columns.map(M=>[M.id,M])),a=e.terseGrouping.filter(M=>i.has(M[0])),u=a.map(M=>i.get(M[0])).filter(M=>M!==void 0);if(u.length===0)return{database_id:t,schema_oid:l,base_table_oid:n.oid};const f=u[0],c=a[0][1],m=e.columns.find(M=>!u.includes(M)),d=m?[m]:[];s=[...u,...d].map(M=>({alias:M.name,attnum:M.id}));const g=u.map((M,A)=>({input_alias:M.name,output_alias:`${M.name}_grouped`,preproc:A===0?c:void 0})),h=d.map(M=>({input_alias:M.name,output_alias:`${n.name}_agged`,function:"count"}));o=[{type:"summarize",spec:{base_grouping_column:f.name,grouping_expressions:g,aggregation_expressions:h}}];const w=g.reduce((M,A)=>({...M,[A.output_alias]:`${A.input_alias} group`}),{}),S=h.reduce((M,A)=>({...M,[A.output_alias]:`${n.name} count`}),w);return{database_id:t,schema_oid:l,base_table_oid:n.oid,initial_columns:s,transformations:o,display_names:S}}function e8(r){let e,n;return{c(){e=E("strong"),n=L(r[0])},m(t,l){v(t,e,l),R(e,n)},p(t,l){l&1&&z(n,t[0])},d(t){t&&$(e)}}}function FIe(r){let e,n=r[6]==="tableName"&&e8(r);return{c(){n&&n.c(),e=ae()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,l){t[6]==="tableName"?n?n.p(t,l):(n=e8(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&$(e)}}}function NIe(r){let e=r[2]("table_delete_permanent_warning")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&4&&e!==(e=t[2]("table_delete_permanent_warning")+"")&&z(n,e)},d(t){t&&$(n)}}}function PIe(r){let e,n,t,l,s,o,i,a,u;t=new ot({props:{text:r[2]("confirm_delete_table"),$$slots:{default:[FIe,({slotName:m})=>({6:m}),({slotName:m})=>m?64:0]},$$scope:{ctx:r}}});function f(m){r[4](m)}let c={autofocus:!0};return r[1]!==void 0&&(c.value=r[1]),s=new hn({props:c}),we.push(()=>Me(s,"value",f)),a=new ur({props:{$$slots:{default:[NIe]},$$scope:{ctx:r}}}),{c(){e=E("div"),n=E("p"),C(t.$$.fragment),l=N(),C(s.$$.fragment),i=N(),C(a.$$.fragment),I(n,"class","svelte-lbyl48"),I(e,"class","table-delete-confirmation-body svelte-lbyl48")},m(m,d){v(m,e,d),R(e,n),k(t,n,null),R(e,l),k(s,e,null),R(e,i),k(a,e,null),u=!0},p(m,[d]){const g={};d&4&&(g.text=m[2]("confirm_delete_table")),d&193&&(g.$$scope={dirty:d,ctx:m}),t.$set(g);const h={};!o&&d&2&&(o=!0,h.value=m[1],De(()=>o=!1)),s.$set(h);const b={};d&132&&(b.$$scope={dirty:d,ctx:m}),a.$set(b)},i(m){u||(_(t.$$.fragment,m),_(s.$$.fragment,m),_(a.$$.fragment,m),u=!0)},o(m){p(t.$$.fragment,m),p(s.$$.fragment,m),p(a.$$.fragment,m),u=!1},d(m){m&&$(e),y(t),y(s),y(a)}}}function LIe(r,e,n){let t,l;ne(r,ce,u=>n(2,l=u));let{tableName:s}=e,o="";const{canProceed:i}=W_;ne(r,i,u=>n(5,t=u));function a(u){o=u,n(1,o)}return r.$$set=u=>{"tableName"in u&&n(0,s=u.tableName)},r.$$.update=()=>{r.$$.dirty&3&&Pn(i,t=o.trim().toLowerCase()===s.toLowerCase(),t)},[s,o,l,i,a]}class wR extends Q{constructor(e){super(),Z(this,e,LIe,PIe,J,{tableName:0})}}function t8(r){let e,n;return e=new On({props:{enabled:r[3],$$slots:{content:[zIe],trigger:[VIe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8&&(s.enabled=t[3]),l&1050664&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function n8(r){let e,n=r[5]("find_record")+"",t;return{c(){e=E("span"),t=L(n)},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&32&&n!==(n=l[5]("find_record")+"")&&z(t,n)},d(l){l&&$(e)}}}function HIe(r){let e,n,t,l;const s=[cf];let o={};for(let a=0;a<s.length;a+=1)o=se(o,s[a]);e=new Ne({props:o});let i=!r[3]&&n8(r);return{c(){C(e.$$.fragment),n=N(),i&&i.c(),t=ae()},m(a,u){k(e,a,u),v(a,n,u),i&&i.m(a,u),v(a,t,u),l=!0},p(a,u){const f=u&0?de(s,[_e(cf)]):{};e.$set(f),a[3]?i&&(i.d(1),i=null):i?i.p(a,u):(i=n8(a),i.c(),i.m(t.parentNode,t))},i(a){l||(_(e.$$.fragment,a),l=!0)},o(a){p(e.$$.fragment,a),l=!1},d(a){y(e,a),a&&$(n),i&&i.d(a),a&&$(t)}}}function VIe(r){let e,n;return e=new st({props:{slot:"trigger",appearance:"secondary",size:"small",disabled:!r[11].has("SELECT"),class:"action-button",$$slots:{default:[HIe]},$$scope:{ctx:r}}}),e.$on("click",r[14]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2048&&(s.disabled=!t[11].has("SELECT")),l&1048616&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function zIe(r){let e,n=r[5]("find_record")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","content")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&32&&n!==(n=l[5]("find_record")+"")&&z(t,n)},d(l){l&&$(e)}}}function BIe(r){let e,n,t=!r[4]&&t8(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[4]?t&&(U(),p(t,1,1,()=>{t=null}),W()):t?(t.p(l,s),s&16&&_(t,1)):(t=t8(l),t.c(),_(t,1),t.m(e.parentNode,e))},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function r8(r){let e,n,t,l,s,o;return e=new Er({props:{href:r[7],icon:Xr,disabled:!r[11].has("SELECT"),$$slots:{default:[qIe]},$$scope:{ctx:r}}}),t=new wn({props:{icon:Kr,disabled:!r[12],$$slots:{default:[UIe]},$$scope:{ctx:r}}}),t.$on("click",r[17]),s=new wn({props:{icon:Qs,$$slots:{default:[WIe]},$$scope:{ctx:r}}}),s.$on("click",r[18]),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),C(s.$$.fragment)},m(i,a){k(e,i,a),v(i,n,a),k(t,i,a),v(i,l,a),k(s,i,a),o=!0},p(i,a){const u={};a&128&&(u.href=i[7]),a&2048&&(u.disabled=!i[11].has("SELECT")),a&1048608&&(u.$$scope={dirty:a,ctx:i}),e.$set(u);const f={};a&4096&&(f.disabled=!i[12]),a&1048608&&(f.$$scope={dirty:a,ctx:i}),t.$set(f);const c={};a&1048608&&(c.$$scope={dirty:a,ctx:i}),s.$set(c)},i(i){o||(_(e.$$.fragment,i),_(t.$$.fragment,i),_(s.$$.fragment,i),o=!0)},o(i){p(e.$$.fragment,i),p(t.$$.fragment,i),p(s.$$.fragment,i),o=!1},d(i){y(e,i),i&&$(n),y(t,i),i&&$(l),y(s,i)}}}function qIe(r){let e=r[5]("explore_table")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&32&&e!==(e=t[5]("explore_table")+"")&&z(n,e)},d(t){t&&$(n)}}}function UIe(r){let e=r[5]("rename_table")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&32&&e!==(e=t[5]("rename_table")+"")&&z(n,e)},d(t){t&&$(n)}}}function WIe(r){let e=r[5]("table_permissions")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&32&&e!==(e=t[5]("table_permissions")+"")&&z(n,e)},d(t){t&&$(n)}}}function jIe(r){let e=r[5]("delete_table")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&32&&e!==(e=t[5]("delete_table")+"")&&z(n,e)},d(t){t&&$(n)}}}function YIe(r){let e,n,t,l=!r[4]&&r8(r);return n=new wn({props:{danger:!0,icon:Mt,disabled:!r[12],$$slots:{default:[jIe]},$$scope:{ctx:r}}}),n.$on("click",r[13]),{c(){l&&l.c(),e=N(),C(n.$$.fragment)},m(s,o){l&&l.m(s,o),v(s,e,o),k(n,s,o),t=!0},p(s,o){s[4]?l&&(U(),p(l,1,1,()=>{l=null}),W()):l?(l.p(s,o),o&16&&_(l,1)):(l=r8(s),l.c(),_(l,1),l.m(e.parentNode,e));const i={};o&4096&&(i.disabled=!s[12]),o&1048608&&(i.$$scope={dirty:o,ctx:s}),n.$set(i)},i(s){t||(_(l),_(n.$$.fragment,s),t=!0)},o(s){p(l),p(n.$$.fragment,s),t=!1},d(s){l&&l.d(s),s&&$(e),y(n,s)}}}function GIe(r){var t;let e,n;return e=new jc({props:{href:r[8],name:r[0].name,description:(t=r[0].description)!=null?t:void 0,icon:ss,pendingMessage:r[6],primary:!0,cssVariables:{"--EntityListItem__accent-color":"var(--color-table-80)"},$$slots:{menu:[YIe],"action-buttons":[BIe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(l,s){k(e,l,s),n=!0},p(l,[s]){var i;const o={};s&256&&(o.href=l[8]),s&1&&(o.name=l[0].name),s&1&&(o.description=(i=l[0].description)!=null?i:void 0),s&64&&(o.pendingMessage=l[6]),s&1054911&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){p(e.$$.fragment,l),n=!1},d(l){y(e,l)}}}function KIe(r,e,n){let t,l,s,o,i,a,u,f,c=H,m=()=>(c(),c=le(l,j=>n(11,f=j)),l),d,g=H,h=()=>(g(),g=le(t,j=>n(12,d=j)),t);ne(r,ce,j=>n(5,u=j)),r.$$.on_destroy.push(()=>c()),r.$$.on_destroy.push(()=>g());const b=ko.get();let{table:w}=e,{database:S}=e,{schema:T}=e,{openEditTableModal:M}=e,{openTablePermissionsModal:A}=e,{condensed:D=!1}=e;function O(){Ll({identifierType:u("table"),body:{component:wR,props:{tableName:w.name}},onProceed:async()=>{await Fc(T,w.oid)}})}function F(){b==null||b.navigateToRecordPage({tableOid:w.oid})}const P=()=>M(w),B=()=>A(w);return r.$$set=j=>{"table"in j&&n(0,w=j.table),"database"in j&&n(15,S=j.database),"schema"in j&&n(16,T=j.schema),"openEditTableModal"in j&&n(1,M=j.openEditTableModal),"openTablePermissionsModal"in j&&n(2,A=j.openTablePermissionsModal),"condensed"in j&&n(3,D=j.condensed)},r.$$.update=()=>{r.$$.dirty&1&&h(n(10,{currentRoleOwns:t,currentRolePrivileges:l}=w.currentAccess,t,m(n(9,l)))),r.$$.dirty&1&&n(4,s=Ya(w)),r.$$.dirty&98321&&n(8,o=s?Tc(S.id,T.oid,w.oid,{useColumnTypeInference:!0}):_o(S.id,T.oid,w.oid)),r.$$.dirty&98305&&n(7,i=vR(S.id,T.oid,w)),r.$$.dirty&48&&n(6,a=s?u("needs_import_confirmation"):void 0)},[w,M,A,D,s,u,a,i,o,l,t,f,d,O,F,S,T,P,B]}class XIe extends Q{constructor(e){super(),Z(this,e,KIe,GIe,J,{table:0,database:15,schema:16,openEditTableModal:1,openTablePermissionsModal:2,condensed:3})}}function l8(r,e,n){const t=r.slice();return t[12]=e[n],t}function JIe(r){let e,n;return e=new OM({props:{icon:ss,text:r[6]("no_tables")}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&64&&(s.text=t[6]("no_tables")),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function ZIe(r){let e,n=[],t=new Map,l,s,o,i,a=r[0];const u=f=>f[12].oid;for(let f=0;f<a.length;f+=1){let c=l8(r,a,f),m=u(c);t.set(m,n[f]=s8(m,c))}return{c(){e=E("div");for(let f=0;f<n.length;f+=1)n[f].c()},m(f,c){v(f,e,c);for(let m=0;m<n.length;m+=1)n[m].m(e,null);s=!0,o||(i=Dt(l=Ii.call(null,e,{scrollHint:r[6]("table_new_items_scroll_hint")})),o=!0)},p(f,c){c&1575&&(a=f[0],U(),n=ht(n,c,u,1,f,a,t,e,kt,s8,null,l8),W()),l&&St(l.update)&&c&64&&l.update.call(null,{scrollHint:f[6]("table_new_items_scroll_hint")})},i(f){if(!s){for(let c=0;c<a.length;c+=1)_(n[c]);s=!0}},o(f){for(let c=0;c<n.length;c+=1)p(n[c]);s=!1},d(f){f&&$(e);for(let c=0;c<n.length;c+=1)n[c].d();o=!1,i()}}}function s8(r,e){let n,t,l;return t=new XIe({props:{table:e[12],database:e[1],schema:e[2],openEditTableModal:e[9],openTablePermissionsModal:e[10],condensed:e[5]<400}}),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(s,o){v(s,n,o),k(t,s,o),l=!0},p(s,o){e=s;const i={};o&1&&(i.table=e[12]),o&2&&(i.database=e[1]),o&4&&(i.schema=e[2]),o&32&&(i.condensed=e[5]<400),t.$set(i)},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){s&&$(n),y(t,s)}}}function o8(r){let e,n;return e=new Q8e({props:{controller:r[7],table:r[3]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8&&(s.table=t[3]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function i8(r){let e,n;return e=new NM({props:{controller:r[8],table:r[4]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.table=t[4]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function QIe(r){let e,n,t,l,s,o,i,a;const u=[ZIe,JIe],f=[];function c(g,h){return g[0].length>0?0:1}n=c(r),t=f[n]=u[n](r);let m=r[3]&&o8(r),d=r[4]&&i8(r);return{c(){e=E("div"),t.c(),s=N(),m&&m.c(),o=N(),d&&d.c(),i=ae(),I(e,"class","tables-list"),xn(()=>r[11].call(e))},m(g,h){v(g,e,h),f[n].m(e,null),l=Go(e,r[11].bind(e)),v(g,s,h),m&&m.m(g,h),v(g,o,h),d&&d.m(g,h),v(g,i,h),a=!0},p(g,[h]){let b=n;n=c(g),n===b?f[n].p(g,h):(U(),p(f[b],1,1,()=>{f[b]=null}),W(),t=f[n],t?t.p(g,h):(t=f[n]=u[n](g),t.c()),_(t,1),t.m(e,null)),g[3]?m?(m.p(g,h),h&8&&_(m,1)):(m=o8(g),m.c(),_(m,1),m.m(o.parentNode,o)):m&&(U(),p(m,1,1,()=>{m=null}),W()),g[4]?d?(d.p(g,h),h&16&&_(d,1)):(d=i8(g),d.c(),_(d,1),d.m(i.parentNode,i)):d&&(U(),p(d,1,1,()=>{d=null}),W())},i(g){a||(_(t),_(m),_(d),a=!0)},o(g){p(t),p(m),p(d),a=!1},d(g){g&&$(e),f[n].d(),l(),g&&$(s),m&&m.d(g),g&&$(o),d&&d.d(g),g&&$(i)}}}function xIe(r,e,n){let t;ne(r,ce,h=>n(6,t=h));const l=un.spawnModalController(),s=un.spawnModalController();let{tables:o}=e,{database:i}=e,{schema:a}=e,u,f,c;function m(h){n(3,u=h),l.open()}function d(h){n(4,f=h),s.open()}function g(){c=this.clientWidth,n(5,c)}return r.$$set=h=>{"tables"in h&&n(0,o=h.tables),"database"in h&&n(1,i=h.database),"schema"in h&&n(2,a=h.schema)},[o,i,a,u,f,c,t,l,s,m,d,g]}class eEe extends Q{constructor(e){super(),Z(this,e,xIe,QIe,J,{tables:0,database:1,schema:2})}}function tEe(r){let e,n;return e=new eEe({props:{tables:[...r[0].values()],schema:r[5],database:r[5].database}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.tables=[...t[0].values()]),l&32&&(s.schema=t[5]),l&32&&(s.database=t[5].database),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function nEe(r){let e,n;return e=new d5e({props:{database:r[5].database,schema:r[5],onCreateEmptyTable:r[4]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&32&&(s.database=t[5].database),l&32&&(s.schema=t[5]),l&16&&(s.onCreateEmptyTable=t[4]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function rEe(r){let e,n;return e=new Vn({props:{$$slots:{default:[sEe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2105348&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function lEe(r){let e,n;return e=new H8e({props:{numTables:r[14]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16384&&(s.numTables=t[14]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function sEe(r){let e,n=r[2].errors[0]+"",t,l,s,o,i,a,u=r[13]("go_to_database")+"",f,c;return o=new Ar({props:{onClick:r[19],label:r[13]("retry"),icon:li}}),{c(){e=E("p"),t=L(n),l=N(),s=E("div"),C(o.$$.fragment),i=N(),a=E("a"),f=L(u),I(a,"class","btn"),I(a,"href","../")},m(m,d){v(m,e,d),R(e,t),v(m,l,d),v(m,s,d),k(o,s,null),R(s,i),R(s,a),R(a,f),c=!0},p(m,d){(!c||d&4)&&n!==(n=m[2].errors[0]+"")&&z(t,n);const g={};d&8192&&(g.label=m[13]("retry")),o.$set(g),(!c||d&8192)&&u!==(u=m[13]("go_to_database")+"")&&z(f,u)},i(m){c||(_(o.$$.fragment,m),c=!0)},o(m){p(o.$$.fragment,m),c=!1},d(m){m&&$(e),m&&$(l),m&&$(s),y(o)}}}function oEe(r){let e=r[13]("what_is_an_exploration")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&8192&&e!==(e=t[13]("what_is_an_exploration")+"")&&z(n,e)},d(t){t&&$(n)}}}function iEe(r){let e=r[13]("explorations")+"",n,t,l,s;return l=new zt({props:{$$slots:{default:[oEe]},$$scope:{ctx:r}}}),{c(){n=L(e),t=N(),C(l.$$.fragment)},m(o,i){v(o,n,i),v(o,t,i),k(l,o,i),s=!0},p(o,i){(!s||i&8192)&&e!==(e=o[13]("explorations")+"")&&z(n,e);const a={};i&2105344&&(a.$$scope={dirty:i,ctx:o}),l.$set(a)},i(o){s||(_(l.$$.fragment,o),s=!0)},o(o){p(l.$$.fragment,o),s=!1},d(o){o&&$(n),o&&$(t),y(l,o)}}}function aEe(r){let e,n,t,l=r[13]("new_exploration")+"",s,o;const i=[jt];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return e=new Ne({props:a}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l)},m(u,f){k(e,u,f),v(u,n,f),v(u,t,f),R(t,s),o=!0},p(u,f){const c=f&0?de(i,[_e(jt)]):{};e.$set(c),(!o||f&8192)&&l!==(l=u[13]("new_exploration")+"")&&z(s,l)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){p(e.$$.fragment,u),o=!1},d(u){y(e,u),u&&$(n),u&&$(t)}}}function uEe(r){let e,n;return e=new Zr({props:{href:r[7],appearance:"secondary",$$slots:{default:[aEe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&128&&(s.href=t[7]),l&2105344&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function a8(r){let e,n=r[3].errors[0]+"",t,l,s,o,i,a,u,f;return o=new Ar({props:{onClick:r[20],label:r[13]("retry"),icon:li}}),u=new st({props:{$$slots:{default:[fEe]},$$scope:{ctx:r}}}),{c(){e=E("p"),t=L(n),l=N(),s=E("div"),C(o.$$.fragment),i=N(),a=E("a"),C(u.$$.fragment),I(a,"href","../")},m(c,m){v(c,e,m),R(e,t),v(c,l,m),v(c,s,m),k(o,s,null),R(s,i),R(s,a),k(u,a,null),f=!0},p(c,m){(!f||m&8)&&n!==(n=c[3].errors[0]+"")&&z(t,n);const d={};m&8192&&(d.label=c[13]("retry")),o.$set(d);const g={};m&2105344&&(g.$$scope={dirty:m,ctx:c}),u.$set(g)},i(c){f||(_(o.$$.fragment,c),_(u.$$.fragment,c),f=!0)},o(c){p(o.$$.fragment,c),p(u.$$.fragment,c),f=!1},d(c){c&&$(e),c&&$(l),c&&$(s),y(o),y(u)}}}function fEe(r){let e,n=r[13]("go_to_database")+"",t;return{c(){e=E("span"),t=L(n)},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&8192&&n!==(n=l[13]("go_to_database")+"")&&z(t,n)},d(l){l&&$(e)}}}function cEe(r){let e,n,t=r[3].state==="failure"&&a8(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[3].state==="failure"?t?(t.p(l,s),s&8&&_(t,1)):(t=a8(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function u8(r){let e,n,t;return n=new R5e({props:{explorations:[...r[1].values()],database:r[5].database,schema:r[5]}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","explorations-list svelte-158qyxg")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&2&&(o.explorations=[...l[1].values()]),s&32&&(o.database=l[5].database),s&32&&(o.schema=l[5]),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function mEe(r){let e,n;return e=new fc({props:{$$slots:{footer:[hEe],body:[pEe],title:[_Ee]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2105472&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function dEe(r){let e,n;return e=new F5e({props:{href:r[7]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&128&&(s.href=t[7]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function _Ee(r){let e,n=r[13]("time_to_create_exploration")+"",t;return{c(){e=E("div"),t=L(n),I(e,"slot","title")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&8192&&n!==(n=l[13]("time_to_create_exploration")+"")&&z(t,n)},d(l){l&&$(e)}}}function pEe(r){let e,n=r[13]("what_is_an_exploration")+"",t;return{c(){e=E("div"),t=L(n),I(e,"slot","body")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&8192&&n!==(n=l[13]("what_is_an_exploration")+"")&&z(t,n)},d(l){l&&$(e)}}}function gEe(r){let e=r[13]("open_data_explorer")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&8192&&e!==(e=t[13]("open_data_explorer")+"")&&z(n,e)},d(t){t&&$(n)}}}function hEe(r){let e,n,t;return n=new Zr({props:{href:r[7],size:"small",appearance:"tip",$$slots:{default:[gEe]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"slot","footer")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&128&&(o.href=l[7]),s&2105344&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function bEe(r){let e,n,t,l,s,o=r[12]&&u8(r);const i=[dEe,mEe],a=[];function u(f,c){return f[12]?0:1}return n=u(r),t=a[n]=i[n](r),{c(){o&&o.c(),e=N(),t.c(),l=ae()},m(f,c){o&&o.m(f,c),v(f,e,c),a[n].m(f,c),v(f,l,c),s=!0},p(f,c){f[12]?o?(o.p(f,c),c&4096&&_(o,1)):(o=u8(f),o.c(),_(o,1),o.m(e.parentNode,e)):o&&(U(),p(o,1,1,()=>{o=null}),W());let m=n;n=u(f),n===m?a[n].p(f,c):(U(),p(a[m],1,1,()=>{a[m]=null}),W(),t=a[n],t?t.p(f,c):(t=a[n]=i[n](f),t.c()),_(t,1),t.m(l.parentNode,l))},i(f){s||(_(o),_(t),s=!0)},o(f){p(o),p(t),s=!1},d(f){o&&o.d(f),f&&$(e),a[n].d(f),f&&$(l)}}}function $Ee(r){let e,n,t,l,s=r[13]("tables")+"",o,i,a,u,f,c,m,d,g,h,b,w,S;u=new s5e({props:{database:r[5].database,schema:r[5],onCreateEmptyTable:r[4]}});const T=[lEe,rEe,nEe,tEe],M=[];function A(D,O){return D[2].state==="processing"?0:D[2].state==="failure"?1:D[10]?2:3}return c=A(r),m=M[c]=T[c](r),h=new FM({props:{isLoading:r[9],hasError:r[3].state==="failure",$$slots:{content:[bEe],errors:[cEe],actions:[uEe],header:[iEe]},$$scope:{ctx:r}}}),w=new N8e({}),{c(){e=E("div"),n=E("div"),t=E("header"),l=E("h2"),o=L(s),i=N(),a=E("div"),C(u.$$.fragment),f=N(),m.c(),d=N(),g=E("div"),C(h.$$.fragment),b=N(),C(w.$$.fragment),I(l,"class","svelte-158qyxg"),I(t,"class","svelte-158qyxg"),I(n,"class","tables"),I(g,"class","sidebar svelte-158qyxg"),I(e,"class","schema-overview svelte-158qyxg"),ie(e,"has-tables",r[6])},m(D,O){v(D,e,O),R(e,n),R(n,t),R(t,l),R(l,o),R(t,i),R(t,a),k(u,a,null),R(n,f),M[c].m(n,null),R(e,d),R(e,g),k(h,g,null),R(g,b),k(w,g,null),S=!0},p(D,[O]){(!S||O&8192)&&s!==(s=D[13]("tables")+"")&&z(o,s);const F={};O&32&&(F.database=D[5].database),O&32&&(F.schema=D[5]),O&16&&(F.onCreateEmptyTable=D[4]),u.$set(F);let P=c;c=A(D),c===P?M[c].p(D,O):(U(),p(M[P],1,1,()=>{M[P]=null}),W(),m=M[c],m?m.p(D,O):(m=M[c]=T[c](D),m.c()),_(m,1),m.m(n,null));const B={};O&512&&(B.isLoading=D[9]),O&8&&(B.hasError=D[3].state==="failure"),O&2109610&&(B.$$scope={dirty:O,ctx:D}),h.$set(B),(!S||O&64)&&ie(e,"has-tables",D[6])},i(D){S||(_(u.$$.fragment,D),_(m),_(h.$$.fragment,D),_(w.$$.fragment,D),S=!0)},o(D){p(u.$$.fragment,D),p(m),p(h.$$.fragment,D),p(w.$$.fragment,D),S=!1},d(D){D&&$(e),y(u),M[c].d(),y(h),y(w)}}}function vEe(r,e,n){let t,l,s,o,i,a,u,f,c,m,d=H,g=()=>(d(),d=le(i,V=>n(17,m=V)),i),h,b,w,S=H,T=()=>(S(),S=le(f,V=>n(14,w=V)),f);ne(r,ce,V=>n(13,b=V)),r.$$.on_destroy.push(()=>d()),r.$$.on_destroy.push(()=>S());const M=ms.get();ne(r,M,V=>n(18,h=V));let{tablesMap:A}=e,{explorationsMap:D}=e,{tablesRequestStatus:O}=e,{explorationsRequestStatus:F}=e,{onCreateEmptyTable:P}=e;const B=()=>Af(),j=async()=>{await Md()};return r.$$set=V=>{"tablesMap"in V&&n(0,A=V.tablesMap),"explorationsMap"in V&&n(1,D=V.explorationsMap),"tablesRequestStatus"in V&&n(2,O=V.tablesRequestStatus),"explorationsRequestStatus"in V&&n(3,F=V.explorationsRequestStatus),"onCreateEmptyTable"in V&&n(4,P=V.onCreateEmptyTable)},r.$$.update=()=>{r.$$.dirty&262144&&n(5,{schema:t,dataFormsFetch:l}=h,t,(n(16,l),n(18,h))),r.$$.dirty&65536&&l.runConservatively(),r.$$.dirty&1&&n(6,s=A.size>0),r.$$.dirty&2&&n(12,o=D.size>0),r.$$.dirty&32&&g(n(11,{currentRolePrivileges:i}=t.currentAccess,i)),r.$$.dirty&131136&&n(10,a=!s&&m.has("CREATE")),r.$$.dirty&8&&n(9,u=F.state==="processing"),r.$$.dirty&32&&T(n(8,{tableCount:f}=t,f)),r.$$.dirty&32&&n(7,c=$a(t.database.id,t.oid))},[A,D,O,F,P,t,s,c,f,u,a,i,o,b,w,M,l,m,h,B,j]}class wEe extends Q{constructor(e){super(),Z(this,e,vEe,$Ee,J,{tablesMap:0,explorationsMap:1,tablesRequestStatus:2,explorationsRequestStatus:3,onCreateEmptyTable:4})}}function f8(r){let e,n;return e=new kn({props:{$$slots:{default:[kEe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&131088&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function kEe(r){let e;return{c(){e=L(r[4])},m(n,t){v(n,e,t)},p(n,t){t&16&&z(e,n[4])},d(n){n&&$(e)}}}function yEe(r){let e,n,t=r[16]==="schemaName"&&f8(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[16]==="schemaName"?t?(t.p(l,s),s&65536&&_(t,1)):(t=f8(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function CEe(r){let e,n=r[3]("schema_permissions_help_1")+"",t,l,s,o=r[3]("schema_permissions_help_2")+"",i,a,u,f,c;return f=new Hr({props:{page:"schemaPermissions"}}),{c(){e=E("p"),t=L(n),l=N(),s=E("p"),i=L(o),a=N(),u=E("p"),C(f.$$.fragment)},m(m,d){v(m,e,d),R(e,t),v(m,l,d),v(m,s,d),R(s,i),v(m,a,d),v(m,u,d),k(f,u,null),c=!0},p(m,d){(!c||d&8)&&n!==(n=m[3]("schema_permissions_help_1")+"")&&z(t,n),(!c||d&8)&&o!==(o=m[3]("schema_permissions_help_2")+"")&&z(i,o)},i(m){c||(_(f.$$.fragment,m),c=!0)},o(m){p(f.$$.fragment,m),c=!1},d(m){m&&$(e),m&&$(l),m&&$(s),m&&$(a),m&&$(u),y(f)}}}function SEe(r){let e,n,t,l,s;return n=new ot({props:{text:r[3]("permissions_for_named_schema"),$$slots:{default:[yEe,({slotName:o})=>({16:o}),({slotName:o})=>o?65536:0]},$$scope:{ctx:r}}}),l=new zt({props:{$$slots:{default:[CEe]},$$scope:{ctx:r}}}),{c(){e=E("span"),C(n.$$.fragment),t=N(),C(l.$$.fragment),I(e,"slot","title")},m(o,i){v(o,e,i),k(n,e,null),R(e,t),k(l,e,null),s=!0},p(o,i){const a={};i&8&&(a.text=o[3]("permissions_for_named_schema")),i&196624&&(a.$$scope={dirty:i,ctx:o}),n.$set(a);const u={};i&131080&&(u.$$scope={dirty:i,ctx:o}),l.$set(u)},i(o){s||(_(n.$$.fragment,o),_(l.$$.fragment,o),s=!0)},o(o){p(n.$$.fragment,o),p(l.$$.fragment,o),s=!1},d(o){o&&$(e),y(n),y(l)}}}function TEe(r){let e,n;return e=new Up({props:{slot:"share",controller:r[0],accessControlConfig:r[6],storeValues:r[15],savePrivilegesForRoles:r[8]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.controller=t[0]),l&32768&&(s.storeValues=t[15]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function IEe(r){let e,n;return e=new Wp({props:{slot:"transfer-ownership",controller:r[0],transferOwnership:r[9],storeValues:r[15]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.controller=t[0]),l&32768&&(s.storeValues=t[15]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function EEe(r){let e,n;return e=new qp({props:{controller:r[0],getAsyncStores:r[7],onClose:r[12],$$slots:{"transfer-ownership":[IEe,({storeValues:t})=>({15:t}),({storeValues:t})=>t?32768:0],share:[TEe,({storeValues:t})=>({15:t}),({storeValues:t})=>t?32768:0],title:[SEe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.controller=t[0]),l&2&&(s.onClose=t[12]),l&163865&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function MEe(r,e,n){let t,l,s,o,i,a,u,f=H,c=()=>(f(),f=le(l,M=>n(4,u=M)),l);ne(r,ce,M=>n(3,i=M)),r.$$.on_destroy.push(()=>f());let{controller:m}=e,{schema:d}=e;const g=_s.get();ne(r,g,M=>n(11,a=M));const h={allPrivileges:[{id:"USAGE",help:i("schema_privilege_usage_help")},{id:"CREATE",help:i("schema_privilege_create_help")}],access:{levels:[{id:"read",privileges:new Set(["USAGE"]),name:i("read"),help:i("schema_access_read_help")},{id:"read_and_create",privileges:new Set(["USAGE","CREATE"]),name:i("read_and_create"),help:i("schema_access_create_help")}],default:"read"}};function b(){return En.runBatchConservatively([t.batchRunner(),s.batchRunner(),o.batchRunner()]),{roles:s,privilegesForRoles:t,permissionsMetaData:ar(new bs({isLoading:!1,settlement:{state:"resolved",value:d}})),currentRole:o}}async function w(M){const A=await Ke.schemas.privileges.replace_for_roles({database_id:d.database.id,schema_oid:d.oid,privileges:M}).run();t.updateResolvedValue(()=>new Ct(A.map(D=>[D.role_oid,D]))),$t.success(i("access_for_roles_saved_successfully"))}async function S(M){await d.updateOwner(M),$t.success(i("schema_ownership_updated_successfully"))}const T=()=>t.reset();return r.$$set=M=>{"controller"in M&&n(0,m=M.controller),"schema"in M&&n(10,d=M.schema)},r.$$.update=()=>{r.$$.dirty&1024&&n(1,t=d.constructSchemaPrivilegesStore()),r.$$.dirty&1024&&c(n(2,l=d.name)),r.$$.dirty&2048&&({roles:s,currentRole:o}=a)},[m,t,l,i,u,g,h,b,w,S,d,a,T]}class REe extends Q{constructor(e){super(),Z(this,e,MEe,EEe,J,{controller:0,schema:10})}}function DEe(r){let e,n;return e=new wEe({props:{tablesRequestStatus:r[5],tablesMap:r[7],explorationsMap:r[6],explorationsRequestStatus:r[4],onCreateEmptyTable:r[22]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&32&&(s.tablesRequestStatus=t[5]),l&128&&(s.tablesMap=t[7]),l&64&&(s.explorationsMap=t[6]),l&16&&(s.explorationsRequestStatus=t[4]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function AEe(r){let e,n,t,l=r[9]("rename_schema")+"",s,o;const i=[Kr];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return e=new Ne({props:a}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l)},m(u,f){k(e,u,f),v(u,n,f),v(u,t,f),R(t,s),o=!0},p(u,f){const c=f&0?de(i,[_e(Kr)]):{};e.$set(c),(!o||f&512)&&l!==(l=u[9]("rename_schema")+"")&&z(s,l)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){p(e.$$.fragment,u),o=!1},d(u){y(e,u),u&&$(n),u&&$(t)}}}function OEe(r){let e,n,t,l=r[9]("schema_permissions")+"",s,o;const i=[Qs];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return e=new Ne({props:a}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l)},m(u,f){k(e,u,f),v(u,n,f),v(u,t,f),R(t,s),o=!0},p(u,f){const c=f&0?de(i,[_e(Qs)]):{};e.$set(c),(!o||f&512)&&l!==(l=u[9]("schema_permissions")+"")&&z(s,l)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){p(e.$$.fragment,u),o=!1},d(u){y(e,u),u&&$(n),u&&$(t)}}}function FEe(r){let e,n,t,l,s;return n=new st({props:{appearance:"secondary",disabled:!r[11],$$slots:{default:[AEe]},$$scope:{ctx:r}}}),n.$on("click",r[16]),l=new st({props:{appearance:"secondary",$$slots:{default:[OEe]},$$scope:{ctx:r}}}),l.$on("click",r[21]),{c(){e=E("div"),C(n.$$.fragment),t=N(),C(l.$$.fragment),I(e,"slot","action"),I(e,"class","action-buttons svelte-1ukm8hi")},m(o,i){v(o,e,i),k(n,e,null),R(e,t),k(l,e,null),s=!0},p(o,i){const a={};i&2048&&(a.disabled=!o[11]),i&8389120&&(a.$$scope={dirty:i,ctx:o}),n.$set(a);const u={};i&8389120&&(u.$$scope={dirty:i,ctx:o}),l.$set(u)},i(o){s||(_(n.$$.fragment,o),_(l.$$.fragment,o),s=!0)},o(o){p(n.$$.fragment,o),p(l.$$.fragment,o),s=!1},d(o){o&&$(e),y(n),y(l)}}}function c8(r){let e,n;return{c(){e=E("span"),n=L(r[10]),I(e,"class","description svelte-1ukm8hi")},m(t,l){v(t,e,l),R(e,n)},p(t,l){l&1024&&z(n,t[10])},d(t){t&&$(e)}}}function NEe(r){let e,n=r[10]&&c8(r);return{c(){n&&n.c(),e=ae()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,l){t[10]?n?n.p(t,l):(n=c8(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&$(e)}}}function PEe(r){let e,n,t;return n=new fu({props:{name:r[8],icon:gf,entityTypeName:r[9]("schema"),$$slots:{bottom:[NEe],action:[FEe]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"slot","secondary-header"),I(e,"class","schema-page-header svelte-1ukm8hi")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&256&&(o.name=l[8]),s&512&&(o.entityTypeName=l[9]("schema")),s&8392192&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function LEe(r){let e,n,t,l,s,o,i,a,u,f;return document.title=e=Rn(r[8]),t=new xr({props:{restrictWidth:!0,cssVariables:{"--max-layout-width":"var(--max-layout-width-console-pages)"},$$slots:{"secondary-header":[PEe],default:[DEe]},$$scope:{ctx:r}}}),s=new IM({props:{controller:r[13],database:r[0].database,schema:r[0]}}),i=new Qke({props:{controller:r[14],schema:r[0],existingTableNames:new Set(Ln(m8,r[7].values()))}}),u=new REe({props:{controller:r[15],schema:r[0]}}),{c(){n=N(),C(t.$$.fragment),l=N(),C(s.$$.fragment),o=N(),C(i.$$.fragment),a=N(),C(u.$$.fragment)},m(c,m){v(c,n,m),k(t,c,m),v(c,l,m),k(s,c,m),v(c,o,m),k(i,c,m),v(c,a,m),k(u,c,m),f=!0},p(c,[m]){(!f||m&256)&&e!==(e=Rn(c[8]))&&(document.title=e);const d={};m&8392688&&(d.$$scope={dirty:m,ctx:c}),t.$set(d);const g={};m&1&&(g.database=c[0].database),m&1&&(g.schema=c[0]),s.$set(g);const h={};m&1&&(h.schema=c[0]),m&128&&(h.existingTableNames=new Set(Ln(m8,c[7].values()))),i.$set(h);const b={};m&1&&(b.schema=c[0]),u.$set(b)},i(c){f||(_(t.$$.fragment,c),_(s.$$.fragment,c),_(i.$$.fragment,c),_(u.$$.fragment,c),f=!0)},o(c){p(t.$$.fragment,c),p(s.$$.fragment,c),p(i.$$.fragment,c),p(u.$$.fragment,c),f=!1},d(c){c&&$(n),y(t,c),c&&$(l),y(s,c),c&&$(o),y(i,c),c&&$(a),y(u,c)}}}const m8=r=>r.name;function HEe(r,e,n){let t,l,s,o,i,a,u,f,c,m,d,g,h,b=H,w=()=>(b(),b=le(a,K=>n(8,h=K)),a),S,T,M=H,A=()=>(M(),M=le(u,K=>n(10,T=K)),u),D,O=H,F=()=>(O(),O=le(c,K=>n(11,D=K)),c);ne(r,iu,K=>n(18,m=K)),ne(r,_r,K=>n(19,d=K)),ne(r,ce,K=>n(9,S=K)),r.$$.on_destroy.push(()=>b()),r.$$.on_destroy.push(()=>M()),r.$$.on_destroy.push(()=>O());const P=ms.get();ne(r,P,K=>n(20,g=K));const B=un.spawnModalController(),j=un.spawnModalController(),V=un.spawnModalController();function q(){B.open()}const G=()=>V.open(),Y=()=>j.open();return r.$$.update=()=>{r.$$.dirty&1048576&&n(0,{schema:t}=g,t),r.$$.dirty&524288&&n(7,l=d.tablesMap),r.$$.dirty&262144&&n(6,s=m.data),r.$$.dirty&524288&&n(5,o=d.requestStatus),r.$$.dirty&262144&&n(4,i=m.requestStatus),r.$$.dirty&1&&w(n(3,{name:a,description:u,currentAccess:f}=t,a,A(n(2,u)),(n(17,f),n(0,t),n(20,g)))),r.$$.dirty&131072&&F(n(1,{currentRoleOwns:c}=f,c))},[t,c,u,a,i,o,s,l,h,S,T,D,P,B,j,V,q,f,m,d,g,G,Y]}class VEe extends Q{constructor(e){super(),Z(this,e,HEe,LEe,J,{})}}function zEe(r,e,n){let{database:t}=e,{schema:l}=e,{query:s}=e;return tn(()=>{Un.goto(Al(t.id,l.oid,s.id))}),r.$$set=o=>{"database"in o&&n(0,t=o.database),"schema"in o&&n(1,l=o.schema),"query"in o&&n(2,s=o.query)},[t,l,s]}class BEe extends Q{constructor(e){super(),Z(this,e,zEe,null,J,{database:0,schema:1,query:2})}}function qEe(r){let e,n;return e=new DIe({props:{queryManager:r[0]}}),e.$on("delete",r[4]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.queryManager=t[0]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function UEe(r){var s;let e,n,t,l;return document.title=e=Rn((s=r[2].name)!=null?s:r[3]("data_explorer")),t=new xr({props:{fitViewport:!0,$$slots:{default:[qEe]},$$scope:{ctx:r}}}),{c(){n=N(),C(t.$$.fragment)},m(o,i){v(o,n,i),k(t,o,i),l=!0},p(o,[i]){var u;(!l||i&12)&&e!==(e=Rn((u=o[2].name)!=null?u:o[3]("data_explorer")))&&(document.title=e);const a={};i&129&&(a.$$scope={dirty:i,ctx:o}),t.$set(a)},i(o){l||(_(t.$$.fragment,o),l=!0)},o(o){p(t.$$.fragment,o),l=!1},d(o){o&&$(n),y(t,o)}}}function WEe(r,e,n){let t,l,s=H,o=()=>(s(),s=le(t,m=>n(2,l=m)),t),i;ne(r,ce,m=>n(3,i=m)),r.$$.on_destroy.push(()=>s());let{database:a}=e,{schema:u}=e,{queryManager:f}=e;function c(){Un.goto(Jr(a.id,u.oid))}return r.$$set=m=>{"database"in m&&n(5,a=m.database),"schema"in m&&n(6,u=m.schema),"queryManager"in m&&n(0,f=m.queryManager)},r.$$.update=()=>{r.$$.dirty&1&&o(n(1,{query:t}=f,t))},[f,t,l,i,c,a,u]}class jEe extends Q{constructor(e){super(),Z(this,e,WEe,UEe,J,{database:5,schema:6,queryManager:0})}}function YEe(r){let e,n;return e=new pr({props:{item:{type:"simple",href:$a(r[0].id,r[1].oid),label:r[6]("data_explorer"),icon:Xr}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&67&&(s.item={type:"simple",href:$a(t[0].id,t[1].oid),label:t[6]("data_explorer"),icon:Xr}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function GEe(r){let e,n,t,l;const s=[XEe,KEe],o=[];function i(a,u){return a[5].name?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function KEe(r){let e,n;return e=new pr({props:{item:{type:"simple",href:Al(r[0].id,r[1].oid,r[5].id),label:r[6]("data_explorer"),icon:Xr}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&99&&(s.item={type:"simple",href:Al(t[0].id,t[1].oid,t[5].id),label:t[6]("data_explorer"),icon:Xr}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function XEe(r){let e,n;return e=new pr({props:{item:{type:"exploration",database:r[0],schema:r[1],query:{id:r[5].id,name:r[5].name}}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&35&&(s.item={type:"exploration",database:t[0],schema:t[1],query:{id:t[5].id,name:t[5].name}}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function JEe(r){let e,n;return e=new ds({props:{$$slots:{default:[QEe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&32832&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function ZEe(r){let e,n;return e=new jEe({props:{queryManager:r[3],database:r[0],schema:r[1]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8&&(s.queryManager=t[3]),l&1&&(s.database=t[0]),l&2&&(s.schema=t[1]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function QEe(r){let e=r[6]("exploration_not_found")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&64&&e!==(e=t[6]("exploration_not_found")+"")&&z(n,e)},d(t){t&&$(n)}}}function xEe(r){let e,n,t,l,s,o,i;const a=[GEe,YEe],u=[];function f(g,h){var b;return(b=g[5])!=null&&b.id?0:1}e=f(r),n=u[e]=a[e](r);const c=[ZEe,JEe],m=[];function d(g,h){return g[3]?0:g[2]?1:-1}return~(l=d(r))&&(s=m[l]=c[l](r)),{c(){n.c(),t=N(),s&&s.c(),o=ae()},m(g,h){u[e].m(g,h),v(g,t,h),~l&&m[l].m(g,h),v(g,o,h),i=!0},p(g,[h]){let b=e;e=f(g),e===b?u[e].p(g,h):(U(),p(u[b],1,1,()=>{u[b]=null}),W(),n=u[e],n?n.p(g,h):(n=u[e]=a[e](g),n.c()),_(n,1),n.m(t.parentNode,t));let w=l;l=d(g),l===w?~l&&m[l].p(g,h):(s&&(U(),p(m[w],1,1,()=>{m[w]=null}),W()),~l?(s=m[l],s?s.p(g,h):(s=m[l]=c[l](g),s.c()),_(s,1),s.m(o.parentNode,o)):s=null)},i(g){i||(_(n),_(s),i=!0)},o(g){p(n),p(s),i=!1},d(g){u[e].d(g),g&&$(t),~l&&m[l].d(g),g&&$(o)}}}function eMe(r,e,n){let t,l,s=H,o=()=>(s(),s=le(g,M=>n(5,l=M)),g),i;ne(r,Un,M=>n(9,t=M)),ne(r,ce,M=>n(6,i=M)),r.$$.on_destroy.push(()=>s());let{database:a}=e,{schema:u}=e,{queryId:f}=e,c=!1,m,d,g=ar(void 0);o();function h(M){m==null||m.destroy(),n(3,m=new cu({query:new $r(M),onSave:async A=>{try{const D=Al(a.id,u.oid,A.id);Un.goto(D,!0)}catch(D){console.error("There was an error when updating the URL",D)}}})),o(n(4,g=m.query)),n(2,c=!1)}function b(){m==null||m.destroy(),n(2,c=!0),o(n(4,g=ar(void 0))),n(3,m=void 0)}function w(){if(m&&typeof m.getQueryModel().id>"u")return;const{hash:M}=t;if(M)try{const A=OIe(M);Un.location.hash.clear(),h({database_id:a.id,schema_oid:u.oid,...A!=null?A:{}});return}catch(A){console.error("Unable to create query model from hash",M)}h({database_id:a.id,schema_oid:u.oid})}async function S(M){if(Number.isNaN(M)){b();return}if(!(m&&m.getQueryModel().id===M)){d==null||d.cancel(),d=jie(M);try{const A=await d;h(A)}catch(A){b()}}}function T(M){M?S(M):w()}return r.$$set=M=>{"database"in M&&n(0,a=M.database),"schema"in M&&n(1,u=M.schema),"queryId"in M&&n(7,f=M.queryId)},r.$$.update=()=>{r.$$.dirty&128&&T(f)},[a,u,c,m,g,l,i,f]}class tMe extends Q{constructor(e){super(),Z(this,e,eMe,xEe,J,{database:0,schema:1,queryId:7})}}const d8=Symbol("dataform route store");function nMe(){return new Tl(r=>Ke.forms.get_source_info({form_token:r.token}).run().transformResolved(e=>({rawDataForm:r,rawFormSource:e})))}class pu{constructor(e,n){te(this,"schemaRouteContext");te(this,"dataForm");te(this,"rawDataFormWithSource");this.schemaRouteContext=e,this.dataForm=n,this.rawDataFormWithSource=nMe()}static construct(e,n){return zc(d8,new pu(e,n))}static get(){return Bc(d8)}}function rMe(r){let e=r[5]("share_form_help")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&32&&e!==(e=t[5]("share_form_help")+"")&&z(n,e)},d(t){t&&$(n)}}}function lMe(r){let e=r[5]("form_is_shared_publicly")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&32&&e!==(e=t[5]("form_is_shared_publicly")+"")&&z(n,e)},d(t){t&&$(n)}}}function _8(r){let e,n;return e=new ur({props:{$$slots:{default:[sMe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&262176&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function sMe(r){let e=r[5]("form_has_unsaved_changes")+"",n,t,l=r[5]("save_form_changes_to_modify_sharing_settings")+"",s;return{c(){n=L(e),t=N(),s=L(l)},m(o,i){v(o,n,i),v(o,t,i),v(o,s,i)},p(o,i){i&32&&e!==(e=o[5]("form_has_unsaved_changes")+"")&&z(n,e),i&32&&l!==(l=o[5]("save_form_changes_to_modify_sharing_settings")+"")&&z(s,l)},d(o){o&&$(n),o&&$(t),o&&$(s)}}}function oMe(r){let e,n,t;return n=new Ar({props:{disabled:r[7],appearance:"default",onClick:r[9],label:r[5]("create_public_link")}}),{c(){e=E("div"),C(n.$$.fragment)},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&128&&(o.disabled=l[7]),s&32&&(o.label=l[5]("create_public_link")),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function iMe(r){let e,n,t,l;e=new Va({props:{$$slots:{default:[uMe]},$$scope:{ctx:r}}});let s=!r[7]&&p8(r);return{c(){C(e.$$.fragment),n=N(),s&&s.c(),t=ae()},m(o,i){k(e,o,i),v(o,n,i),s&&s.m(o,i),v(o,t,i),l=!0},p(o,i){const a={};i&262147&&(a.$$scope={dirty:i,ctx:o}),e.$set(a),o[7]?s&&(U(),p(s,1,1,()=>{s=null}),W()):s?(s.p(o,i),i&128&&_(s,1)):(s=p8(o),s.c(),_(s,1),s.m(t.parentNode,t))},i(o){l||(_(e.$$.fragment,o),_(s),l=!0)},o(o){p(e.$$.fragment,o),p(s),l=!1},d(o){y(e,o),o&&$(n),s&&s.d(o),o&&$(t)}}}function aMe(r){let e,n;const t=[n0];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[_e(n0)]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function uMe(r){let e,n,t,l,s,o,i,a;function u(d){r[15](d)}let f={readonly:!0,value:r[1]};r[0]!==void 0&&(f.element=r[0]),e=new hn({props:f}),we.push(()=>Me(e,"element",u)),l=new st({props:{appearance:"secondary",$$slots:{default:[aMe]},$$scope:{ctx:r}}}),l.$on("click",r[8]);const c=[i0];let m={};for(let d=0;d<c.length;d+=1)m=se(m,c[d]);return i=new Ne({props:m}),{c(){C(e.$$.fragment),t=N(),C(l.$$.fragment),s=N(),o=E("a"),C(i.$$.fragment),I(o,"class","btn btn-secondary"),I(o,"target","_blank"),I(o,"href",r[1])},m(d,g){k(e,d,g),v(d,t,g),k(l,d,g),v(d,s,g),v(d,o,g),k(i,o,null),a=!0},p(d,g){const h={};g&2&&(h.value=d[1]),!n&&g&1&&(n=!0,h.element=d[0],De(()=>n=!1)),e.$set(h);const b={};g&262144&&(b.$$scope={dirty:g,ctx:d}),l.$set(b);const w=g&0?de(c,[_e(i0)]):{};i.$set(w),(!a||g&2)&&I(o,"href",d[1])},i(d){a||(_(e.$$.fragment,d),_(l.$$.fragment,d),_(i.$$.fragment,d),a=!0)},o(d){p(e.$$.fragment,d),p(l.$$.fragment,d),p(i.$$.fragment,d),a=!1},d(d){y(e,d),d&&$(t),y(l,d),d&&$(s),d&&$(o),y(i)}}}function p8(r){let e,n,t,l,s;return n=new Ar({props:{appearance:"secondary",onClick:r[10],label:r[5]("regenerate_link")}}),l=new Ar({props:{appearance:"secondary",onClick:r[11],label:r[5]("disable_link")}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),C(l.$$.fragment),I(e,"class","share-control-options svelte-1l21m79")},m(o,i){v(o,e,i),k(n,e,null),R(e,t),k(l,e,null),s=!0},p(o,i){const a={};i&32&&(a.label=o[5]("regenerate_link")),n.$set(a);const u={};i&32&&(u.label=o[5]("disable_link")),l.$set(u)},i(o){s||(_(n.$$.fragment,o),_(l.$$.fragment,o),s=!0)},o(o){p(n.$$.fragment,o),p(l.$$.fragment,o),s=!1},d(o){o&&$(e),y(n),y(l)}}}function fMe(r){let e,n,t,l,s,o,i,a;function u(b,w){return b[6].isPublishedPublicly?lMe:rMe}let f=u(r),c=f(r),m=r[7]&&_8(r);const d=[iMe,oMe],g=[];function h(b,w){return b[6].isPublishedPublicly?0:1}return o=h(r),i=g[o]=d[o](r),{c(){e=E("div"),n=E("div"),c.c(),t=N(),l=E("div"),m&&m.c(),s=N(),i.c(),I(n,"class","description svelte-1l21m79"),I(l,"class","content svelte-1l21m79"),I(e,"class","share-container svelte-1l21m79")},m(b,w){v(b,e,w),R(e,n),c.m(n,null),R(e,t),R(e,l),m&&m.m(l,null),R(l,s),g[o].m(l,null),a=!0},p(b,[w]){f===(f=u(b))&&c?c.p(b,w):(c.d(1),c=f(b),c&&(c.c(),c.m(n,null))),b[7]?m?(m.p(b,w),w&128&&_(m,1)):(m=_8(b),m.c(),_(m,1),m.m(l,s)):m&&(U(),p(m,1,1,()=>{m=null}),W());let S=o;o=h(b),o===S?g[o].p(b,w):(U(),p(g[S],1,1,()=>{g[S]=null}),W(),i=g[o],i?i.p(b,w):(i=g[o]=d[o](b),i.c()),_(i,1),i.m(l,null))},i(b){a||(_(m),_(i),a=!0)},o(b){p(m),p(i),a=!1},d(b){b&&$(e),c.d(),m&&m.d(),g[o].d()}}}function cMe(r,e,n){let t,l,s,o,i,a,u=H,f=()=>(u(),u=le(l,j=>n(14,a=j)),l),c,m=H,d=()=>(m(),m=le(t,j=>n(6,c=j)),t),g,h=H,b=()=>(h(),h=le(s,j=>n(7,g=j)),s);ne(r,ce,j=>n(5,i=j)),r.$$.on_destroy.push(()=>u()),r.$$.on_destroy.push(()=>m()),r.$$.on_destroy.push(()=>h());const w=Wn("dropdownAccompanyingElements");let{dataForm:S}=e,{dataFormManager:T}=e,M;async function A(){if(M&&o){M.select();try{await navigator.clipboard.writeText(o)}catch(j){document.execCommand("copy")}$t.info(i("link_copied"))}}async function D(){try{await S.updateSharingPreferences(!0)}catch(j){$t.error(Sn.fromAnything(j))}}function O(){const j=document.querySelector(`[data-modal-id='${W_.modal.modalId}']`);return!w||!j?()=>{}:w.add(j)}async function F(){const j=ml({title:i("remove_old_link_create_new"),body:[i("new_link_wont_work_once_regenerated"),i("are_you_sure_to_proceed")],proceedButton:{label:i("regenerate_link"),icon:void 0}});await sn();const V=O(),q=await j;if(V(),q)try{await S.regenerateToken(),$t.success(i("link_successfully_regenerated"))}catch(G){$t.error(Sn.fromAnything(G))}}async function P(){const j=ml({title:i("disable_link_question"),body:i("are_you_sure_to_proceed"),proceedButton:{label:i("disable_link"),icon:void 0}});await sn();const V=O(),q=await j;if(V(),q)try{await S.updateSharingPreferences(!1)}catch(G){$t.error(Sn.fromAnything(G))}}function B(j){M=j,n(0,M)}return r.$$set=j=>{"dataForm"in j&&n(12,S=j.dataForm),"dataFormManager"in j&&n(13,T=j.dataFormManager)},r.$$.update=()=>{r.$$.dirty&4096&&d(n(4,{sharePreferences:t,token:l}=S,t,f(n(3,l)))),r.$$.dirty&8192&&b(n(2,{hasChanges:s}=T,s)),r.$$.dirty&16384&&n(1,o=`${window.location.origin}${dd(a)}`)},[M,o,s,l,t,i,c,g,A,D,F,P,S,T,a,B]}class mMe extends Q{constructor(e){super(),Z(this,e,cMe,fMe,J,{dataForm:12,dataFormManager:13})}}function dMe(r){let e,n,t,l=r[5]("share")+"",s,o;const i=[o0];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return e=new Ne({props:a}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l),I(t,"class","responsive-button-label")},m(u,f){k(e,u,f),v(u,n,f),v(u,t,f),R(t,s),o=!0},p(u,f){const c=f&0?de(i,[_e(o0)]):{};e.$set(c),(!o||f&32)&&l!==(l=u[5]("share")+"")&&z(s,l)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){p(e.$$.fragment,u),o=!1},d(u){y(e,u),u&&$(n),u&&$(t)}}}function _Me(r){let e,n,t,l=r[5]("shared_publicly")+"",s,o;const i=[wf];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return e=new Ne({props:a}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l),I(t,"class","responsive-button-label")},m(u,f){k(e,u,f),v(u,n,f),v(u,t,f),R(t,s),o=!0},p(u,f){const c=f&0?de(i,[_e(wf)]):{};e.$set(c),(!o||f&32)&&l!==(l=u[5]("shared_publicly")+"")&&z(s,l)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){p(e.$$.fragment,u),o=!1},d(u){y(e,u),u&&$(n),u&&$(t)}}}function pMe(r){let e,n,t,l;const s=[_Me,dMe],o=[];function i(a,u){return a[8].isPublishedPublicly?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function gMe(r){let e,n;return e=new mMe({props:{dataForm:r[1],dataFormManager:r[0]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.dataForm=t[1]),l&1&&(s.dataFormManager=t[0]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function hMe(r){let e,n,t,l,s,o;return e=new PM({props:{onSave:r[11],canSave:r[7]}}),t=new Nl({props:{showArrow:!1,triggerAppearance:"secondary",ariaLabel:r[5]("share"),$$slots:{content:[gMe],trigger:[pMe]},$$scope:{ctx:r}}}),s=new Kp({props:{active:r[9],toggle:r[12]}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),C(s.$$.fragment)},m(i,a){k(e,i,a),v(i,n,a),k(t,i,a),v(i,l,a),k(s,i,a),o=!0},p(i,a){const u={};a&128&&(u.canSave=i[7]),e.$set(u);const f={};a&32&&(f.ariaLabel=i[5]("share")),a&33059&&(f.$$scope={dirty:a,ctx:i}),t.$set(f);const c={};a&512&&(c.active=i[9]),s.$set(c)},i(i){o||(_(e.$$.fragment,i),_(t.$$.fragment,i),_(s.$$.fragment,i),o=!0)},o(i){p(e.$$.fragment,i),p(t.$$.fragment,i),p(s.$$.fragment,i),o=!1},d(i){y(e,i),i&&$(n),y(t,i),i&&$(l),y(s,i)}}}function bMe(r){let e,n;return e=new Gp({props:{title:{name:r[6].name||r[5]("untitled"),icon:oi},cssVariables:{"--icon-fill-color":"linear-gradient(135deg, var(--color-data-form), var(--color-data-form-60))","--icon-stroke-color":"var(--color-fg-inverted)"},$$slots:{"actions-right":[hMe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&96&&(s.title={name:t[6].name||t[5]("untitled"),icon:oi}),l&33699&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function $Me(r,e,n){let t,l,s,o,i,a,u,f,c=H,m=()=>(c(),c=le(o,F=>n(6,f=F)),o),d,g=H,h=()=>(g(),g=le(l,F=>n(7,d=F)),l),b,w=H,S=()=>(w(),w=le(i,F=>n(8,b=F)),i),T;ne(r,ce,F=>n(5,a=F)),ne(r,ud,F=>n(9,T=F)),r.$$.on_destroy.push(()=>c()),r.$$.on_destroy.push(()=>g()),r.$$.on_destroy.push(()=>w());const M=pu.get();ne(r,M,F=>n(13,u=F));let{dataFormManager:A}=e;async function D(){let F=Promise.resolve(!0);if(s.hasErrorFields()&&(F=ml({title:a("saving_will_remove_fields_with_errors"),body:[a("form_contains_fields_with_errors"),a("are_you_sure_to_proceed")],proceedButton:{label:a("save"),icon:void 0}})),await F)try{await t.updateStructure(A.dataFormStructure.toRawStructure({withoutErrorFields:!0}))}catch(B){$t.error(Sn.fromAnything(B).message)}}function O(){ud.update(F=>!F)}return r.$$set=F=>{"dataFormManager"in F&&n(0,A=F.dataFormManager)},r.$$.update=()=>{r.$$.dirty&8192&&n(1,{dataForm:t}=u,t),r.$$.dirty&1&&h(n(4,{hasChanges:l,dataFormStructure:s}=A,l)),r.$$.dirty&2&&m(n(3,{structure:o,sharePreferences:i}=t,o,S(n(2,i))))},[A,t,i,o,l,a,f,d,b,T,M,D,O,u]}class vMe extends Q{constructor(e){super(),Z(this,e,$Me,bMe,J,{dataFormManager:0})}}function wMe(r){let e,n;return e=new _l({props:{errors:r[1].error?[r[1].error]:[],showFallbackError:!0}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.errors=t[1].error?[t[1].error]:[]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function kMe(r){let e,n,t;return n=new Gt({}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","loader svelte-fwmufz")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p:H,i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function yMe(r){let e,n,t,l,s;return n=new vMe({props:{dataFormManager:r[3]}}),l=new Hpe({props:{dataFormManager:r[3]}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),C(l.$$.fragment),I(e,"class","actions-pane")},m(o,i){v(o,e,i),k(n,e,null),v(o,t,i),k(l,o,i),s=!0},p(o,i){const a={};i&8&&(a.dataFormManager=o[3]),n.$set(a);const u={};i&8&&(u.dataFormManager=o[3]),l.$set(u)},i(o){s||(_(n.$$.fragment,o),_(l.$$.fragment,o),s=!0)},o(o){p(n.$$.fragment,o),p(l.$$.fragment,o),s=!1},d(o){o&&$(e),y(n),o&&$(t),y(l,o)}}}function CMe(r){let e,n,t,l;const s=[yMe,kMe,wMe],o=[];function i(a,u){return a[3]?0:a[1].isLoading?1:2}return n=i(r),t=o[n]=s[n](r),{c(){e=E("div"),t.c(),I(e,"class","data-form-editor svelte-fwmufz")},m(a,u){v(a,e,u),o[n].m(e,null),l=!0},p(a,u){let f=n;n=i(a),n===f?o[n].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),t=o[n],t?t.p(a,u):(t=o[n]=s[n](a),t.c()),_(t,1),t.m(e,null))},i(a){l||(_(t),l=!0)},o(a){p(t),l=!1},d(a){a&&$(e),o[n].d()}}}function SMe(r){let e,n,t,l;return document.title=e=Rn(r[2].name),t=new xr({props:{fitViewport:!0,$$slots:{default:[CMe]},$$scope:{ctx:r}}}),{c(){n=N(),C(t.$$.fragment)},m(s,o){v(s,n,o),k(t,s,o),l=!0},p(s,[o]){(!l||o&4)&&e!==(e=Rn(s[2].name))&&(document.title=e);const i={};o&2058&&(i.$$scope={dirty:o,ctx:s}),t.$set(i)},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){s&&$(n),y(t,s)}}}function TMe(r,e,n){let t,l,s,o,i,a,u,f=H,c=()=>(f(),f=le(l,S=>n(1,u=S)),l),m,d=H,g=()=>(d(),d=le(o,S=>n(2,m=S)),o),h;r.$$.on_destroy.push(()=>f()),r.$$.on_destroy.push(()=>d());const b=pu.get();ne(r,b,S=>n(9,h=S));const w=new VM(10);return r.$$.update=()=>{r.$$.dirty&512&&n(6,{dataForm:t,rawDataFormWithSource:l,schemaRouteContext:s}=h,t,c(n(0,l)),(n(7,s),n(9,h))),r.$$.dirty&64&&g(n(4,o=t.toRawDataFormStore())),r.$$.dirty&5&&l.run(m),r.$$.dirty&2&&n(8,i=u.resolvedValue),r.$$.dirty&448&&n(3,a=i?new Zn({buildDataFormStructure:di.factoryFromRawInfo(i.rawDataForm,new pM(i.rawFormSource)),schema:t.schema,tableStructureCache:w,deleteDataForm:async()=>{const{schema:S}=t;await s.removeDataForm(t),Un.goto(Jr(S.database.id,S.oid))}}):void 0)},[l,u,m,a,o,b,t,s,i,h]}class IMe extends Q{constructor(e){super(),Z(this,e,TMe,SMe,J,{})}}function g8(r){let e,n;return e=new XE({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function h8(r){let e,n;return e=new ds({props:{$$slots:{default:[EMe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2080&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function EMe(r){let e=r[5]("page_doesnt_exist")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&32&&e!==(e=t[5]("page_doesnt_exist")+"")&&z(n,e)},d(t){t&&$(n)}}}function b8(r){let e,n,t,l;return e=new pr({props:{item:{type:"dataForm",dataForm:r[0]}}}),t=new en({props:{path:"/",$$slots:{default:[MMe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(s,o){k(e,s,o),v(s,n,o),k(t,s,o),l=!0},p(s,o){const i={};o&1&&(i.item={type:"dataForm",dataForm:s[0]}),e.$set(i);const a={};o&2048&&(a.$$scope={dirty:o,ctx:s}),t.$set(a)},i(s){l||(_(e.$$.fragment,s),_(t.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),l=!1},d(s){y(e,s),s&&$(n),y(t,s)}}}function MMe(r){let e,n;return e=new IMe({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function RMe(r){let e,n,t,l,s=r[4].isLoading&&g8(),o=!r[0]&&r[4].hasSettled&&h8(r),i=r[6]&&r[0]&&b8(r);return{c(){s&&s.c(),e=N(),o&&o.c(),n=N(),i&&i.c(),t=ae()},m(a,u){s&&s.m(a,u),v(a,e,u),o&&o.m(a,u),v(a,n,u),i&&i.m(a,u),v(a,t,u),l=!0},p(a,[u]){a[4].isLoading?s?u&16&&_(s,1):(s=g8(),s.c(),_(s,1),s.m(e.parentNode,e)):s&&(U(),p(s,1,1,()=>{s=null}),W()),!a[0]&&a[4].hasSettled?o?(o.p(a,u),u&17&&_(o,1)):(o=h8(a),o.c(),_(o,1),o.m(n.parentNode,n)):o&&(U(),p(o,1,1,()=>{o=null}),W()),a[6]&&a[0]?i?(i.p(a,u),u&65&&_(i,1)):(i=b8(a),i.c(),_(i,1),i.m(t.parentNode,t)):i&&(U(),p(i,1,1,()=>{i=null}),W())},i(a){l||(_(s),_(o),_(i),l=!0)},o(a){p(s),p(o),p(i),l=!1},d(a){s&&s.d(a),a&&$(e),o&&o.d(a),a&&$(n),i&&i.d(a),a&&$(t)}}}function DMe(r,e,n){let t,l,s,o,i,a,u=H,f=()=>(u(),u=le(t,M=>n(10,a=M)),t),c,m=H,d=()=>(m(),m=le(l,M=>n(4,c=M)),l),g,h,b=H,w=()=>(b(),b=le(o,M=>n(6,h=M)),o);ne(r,ce,M=>n(5,g=M)),r.$$.on_destroy.push(()=>u()),r.$$.on_destroy.push(()=>m()),r.$$.on_destroy.push(()=>b());let{formId:S}=e;const T=ms.get();return ne(r,T,M=>n(9,i=M)),r.$$set=M=>{"formId"in M&&n(8,S=M.formId)},r.$$.update=()=>{r.$$.dirty&512&&f(n(3,{dataForms:t,dataFormsFetch:l}=i,t,d(n(1,l)))),r.$$.dirty&2&&l.runConservatively(),r.$$.dirty&1280&&n(0,s=a.get(S)),r.$$.dirty&513&&w(n(2,o=s?pu.construct(i,s):Nn(void 0)))},[s,l,o,t,c,g,h,T,S,i,a]}class AMe extends Q{constructor(e){super(),Z(this,e,DMe,RMe,J,{formId:8})}}const Kc="/api/db/v0/data_files/";function $8(r){return wX(Kc,r)}function OMe(r){return vX(`${Kc}${r}/`)}function FMe(r,e){return G_(Kc,r,e)}function NMe(r,e){return kX(`${Kc}${r}/`,e)}const Ra={addViaUrlToFile:r=>$8({url:r}),addViaText:r=>$8({paste:r}),addViaUpload:FMe,get:OMe,update:NMe};function PMe(r){let e=r[0]("keep_first_row_as_data")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1&&e!==(e=t[0]("keep_first_row_as_data")+"")&&z(n,e)},d(t){t&&$(n)}}}function LMe(r){let e,n;return e=new Qn({props:{icon:EK,truncate:!1,$$slots:{default:[PMe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&3&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function HMe(r,e,n){let t;return ne(r,ce,l=>n(0,t=l)),[t]}class VMe extends Q{constructor(e){super(),Z(this,e,HMe,LMe,J,{})}}function zMe(r){let e=r[0]("take_first_row_as_column_names")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1&&e!==(e=t[0]("take_first_row_as_column_names")+"")&&z(n,e)},d(t){t&&$(n)}}}function BMe(r){let e,n;return e=new Qn({props:{icon:IK,truncate:!1,$$slots:{default:[zMe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&3&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function qMe(r,e,n){let t;return ne(r,ce,l=>n(0,t=l)),[t]}class UMe extends Q{constructor(e){super(),Z(this,e,qMe,BMe,J,{})}}function WMe(r){let e,n,t;const l=[{boxed:!0},{options:[!0,!1]},{label:r[1]("column_names")},{getRadioLabel:r[3]},r[2]];function s(i){r[4](i)}let o={};for(let i=0;i<l.length;i+=1)o=se(o,l[i]);return r[0]!==void 0&&(o.value=r[0]),e=new Ns({props:o}),we.push(()=>Me(e,"value",s)),e.$on("change",r[5]),{c(){C(e.$$.fragment)},m(i,a){k(e,i,a),t=!0},p(i,[a]){const u=a&6?de(l,[l[0],l[1],a&2&&{label:i[1]("column_names")},a&0&&{getRadioLabel:i[3]},a&4&&_e(i[2])]):{};!n&&a&1&&(n=!0,u.value=i[0],De(()=>n=!1)),e.$set(u)},i(i){t||(_(e.$$.fragment,i),t=!0)},o(i){p(e.$$.fragment,i),t=!1},d(i){y(e,i)}}}function jMe(r,e,n){const t=["value"];let l=We(e,t),s;ne(r,ce,f=>n(1,s=f));let{value:o=!0}=e;const i=f=>f?{component:UMe}:{component:VMe};function a(f){o=f,n(0,o)}function u(f){Re.call(this,r,f)}return r.$$set=f=>{e=se(se({},e),pt(f)),n(2,l=We(e,t)),"value"in f&&n(0,o=f.value)},[o,s,l,i,a,u]}class YMe extends Q{constructor(e){super(),Z(this,e,jMe,WMe,J,{value:0})}}function GMe(r){let e=r[0]("use_text_for_all_columns")+"",n,t,l,s,o=r[0]("faster_for_large_imports")+"",i,a;return{c(){n=L(e),t=N(),l=E("em"),s=L("("),i=L(o),a=L(")")},m(u,f){v(u,n,f),v(u,t,f),v(u,l,f),R(l,s),R(l,i),R(l,a)},p(u,f){f&1&&e!==(e=u[0]("use_text_for_all_columns")+"")&&z(n,e),f&1&&o!==(o=u[0]("faster_for_large_imports")+"")&&z(i,o)},d(u){u&&$(n),u&&$(t),u&&$(l)}}}function KMe(r){let e,n;return e=new Qn({props:{icon:UT,truncate:!1,$$slots:{default:[GMe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&3&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function XMe(r,e,n){let t;return ne(r,ce,l=>n(0,t=l)),[t]}class JMe extends Q{constructor(e){super(),Z(this,e,XMe,KMe,J,{})}}function ZMe(r){let e=r[0]("pick_best_data_type_column")+"",n,t,l,s,o=r[0]("slower_for_large_imports")+"",i,a;return{c(){n=L(e),t=N(),l=E("em"),s=L("("),i=L(o),a=L(")")},m(u,f){v(u,n,f),v(u,t,f),v(u,l,f),R(l,s),R(l,i),R(l,a)},p(u,f){f&1&&e!==(e=u[0]("pick_best_data_type_column")+"")&&z(n,e),f&1&&o!==(o=u[0]("slower_for_large_imports")+"")&&z(i,o)},d(u){u&&$(n),u&&$(t),u&&$(l)}}}function QMe(r){let e,n;return e=new Qn({props:{icon:yK,truncate:!1,$$slots:{default:[ZMe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&3&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function xMe(r,e,n){let t;return ne(r,ce,l=>n(0,t=l)),[t]}class eRe extends Q{constructor(e){super(),Z(this,e,xMe,QMe,J,{})}}function tRe(r){let e,n,t;const l=[{boxed:!0},{options:[!0,!1]},{label:r[1]("column_data_types")},{getRadioLabel:r[3]},r[2]];function s(i){r[4](i)}let o={};for(let i=0;i<l.length;i+=1)o=se(o,l[i]);return r[0]!==void 0&&(o.value=r[0]),e=new Ns({props:o}),we.push(()=>Me(e,"value",s)),e.$on("change",r[5]),{c(){C(e.$$.fragment)},m(i,a){k(e,i,a),t=!0},p(i,[a]){const u=a&6?de(l,[l[0],l[1],a&2&&{label:i[1]("column_data_types")},a&0&&{getRadioLabel:i[3]},a&4&&_e(i[2])]):{};!n&&a&1&&(n=!0,u.value=i[0],De(()=>n=!1)),e.$set(u)},i(i){t||(_(e.$$.fragment,i),t=!0)},o(i){p(e.$$.fragment,i),t=!1},d(i){y(e,i)}}}function nRe(r,e,n){const t=["value"];let l=We(e,t),s;ne(r,ce,f=>n(1,s=f));let{value:o=!0}=e;const i=f=>f?{component:eRe}:{component:JMe};function a(f){o=f,n(0,o)}function u(f){Re.call(this,r,f)}return r.$$set=f=>{e=se(se({},e),pt(f)),n(2,l=We(e,t)),"value"in f&&n(0,o=f.value)},[o,s,l,i,a,u]}class kR extends Q{constructor(e){super(),Z(this,e,nRe,tRe,J,{value:0})}}function rRe(r){let e=r[1]("retry")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&2&&e!==(e=t[1]("retry")+"")&&z(n,e)},d(t){t&&$(n)}}}function lRe(r){let e,n,t,l=r[1]("delete_import")+"",s,o;const i=[Mt];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return e=new Ne({props:a}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l),I(t,"class","svelte-1vz523y")},m(u,f){k(e,u,f),v(u,n,f),v(u,t,f),R(t,s),o=!0},p(u,f){const c=f&0?de(i,[_e(Mt)]):{};e.$set(c),(!o||f&2)&&l!==(l=u[1]("delete_import")+"")&&z(s,l)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){p(e.$$.fragment,u),o=!1},d(u){y(e,u),u&&$(n),u&&$(t)}}}function sRe(r){let e,n=r[1]("failed_load_preview")+"",t,l,s,o,i,a,u,f,c,m=r[1]("or")+"",d,g,h,b;return u=new st({props:{appearance:"primary",$$slots:{default:[rRe]},$$scope:{ctx:r}}}),u.$on("click",r[3]),h=new st({props:{appearance:"danger",$$slots:{default:[lRe]},$$scope:{ctx:r}}}),h.$on("click",r[4]),{c(){e=E("div"),t=L(n),l=N(),s=E("div"),o=L(r[0]),i=N(),a=E("div"),C(u.$$.fragment),f=N(),c=E("span"),d=L(m),g=N(),C(h.$$.fragment),I(e,"class","title svelte-1vz523y"),I(c,"class","svelte-1vz523y"),I(a,"class","buttons svelte-1vz523y")},m(w,S){v(w,e,S),R(e,t),v(w,l,S),v(w,s,S),R(s,o),v(w,i,S),v(w,a,S),k(u,a,null),R(a,f),R(a,c),R(c,d),R(a,g),k(h,a,null),b=!0},p(w,S){(!b||S&2)&&n!==(n=w[1]("failed_load_preview")+"")&&z(t,n),(!b||S&1)&&z(o,w[0]);const T={};S&34&&(T.$$scope={dirty:S,ctx:w}),u.$set(T),(!b||S&2)&&m!==(m=w[1]("or")+"")&&z(d,m);const M={};S&34&&(M.$$scope={dirty:S,ctx:w}),h.$set(M)},i(w){b||(_(u.$$.fragment,w),_(h.$$.fragment,w),b=!0)},o(w){p(u.$$.fragment,w),p(h.$$.fragment,w),b=!1},d(w){w&&$(e),w&&$(l),w&&$(s),w&&$(i),w&&$(a),y(u),y(h)}}}function oRe(r){let e,n;return e=new Vn({props:{fullWidth:!0,$$slots:{default:[sRe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&35&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function iRe(r,e,n){let t;ne(r,ce,a=>n(1,t=a));const l=Et();let{error:s}=e;const o=()=>l("retry"),i=()=>l("delete");return r.$$set=a=>{"error"in a&&n(0,s=a.error)},[s,t,l,o,i]}class o1 extends Q{constructor(e){super(),Z(this,e,iRe,oRe,J,{error:0})}}const aRe=r=>({}),v8=r=>({});function uRe(r){let e,n,t,l;const s=r[1].header,o=ke(s,r,r[0],v8),i=r[1].default,a=ke(i,r,r[0],null);return{c(){e=E("div"),o&&o.c(),n=N(),t=E("div"),a&&a.c(),I(t,"class","section svelte-y38dr"),I(e,"class","inset-page-section")},m(u,f){v(u,e,f),o&&o.m(e,null),R(e,n),R(e,t),a&&a.m(t,null),l=!0},p(u,[f]){o&&o.p&&(!l||f&1)&&Ce(o,s,u,u[0],l?ye(s,u[0],f,aRe):Se(u[0]),v8),a&&a.p&&(!l||f&1)&&Ce(a,i,u,u[0],l?ye(i,u[0],f,null):Se(u[0]),null)},i(u){l||(_(o,u),_(a,u),l=!0)},o(u){p(o,u),p(a,u),l=!1},d(u){u&&$(e),o&&o.d(u),a&&a.d(u)}}}function fRe(r,e,n){let{$$slots:t={},$$scope:l}=e;return r.$$set=s=>{"$$scope"in s&&n(0,l=s.$$scope)},[l,t]}class Gf extends Q{constructor(e){super(),Z(this,e,fRe,uRe,J,{})}}const cRe=r=>({}),w8=r=>({});function mRe(r){let e,n;return e=new Gf({props:{$$slots:{default:[_Re]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&4&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function dRe(r){let e;const n=r[1].default,t=ke(n,r,r[2],null);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&4)&&Ce(t,n,l,l[2],e?ye(n,l[2],s,null):Se(l[2]),null)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function _Re(r){let e;const n=r[1].default,t=ke(n,r,r[2],null);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&4)&&Ce(t,n,l,l[2],e?ye(n,l[2],s,null):Se(l[2]),null)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function pRe(r){let e,n,t,l,s,o,i;const a=r[1].header,u=ke(a,r,r[2],w8),f=[dRe,mRe],c=[];function m(d,g){return d[0]?0:1}return s=m(r),o=c[s]=f[s](r),{c(){e=E("div"),n=E("div"),u&&u.c(),t=N(),l=E("div"),o.c(),I(n,"class","header restrict-width svelte-1cbe8ny"),I(l,"class","page restrict-width svelte-1cbe8ny"),I(e,"class","inset-page-layout svelte-1cbe8ny")},m(d,g){v(d,e,g),R(e,n),u&&u.m(n,null),R(e,t),R(e,l),c[s].m(l,null),i=!0},p(d,[g]){u&&u.p&&(!i||g&4)&&Ce(u,a,d,d[2],i?ye(a,d[2],g,cRe):Se(d[2]),w8);let h=s;s=m(d),s===h?c[s].p(d,g):(U(),p(c[h],1,1,()=>{c[h]=null}),W(),o=c[s],o?o.p(d,g):(o=c[s]=f[s](d),o.c()),_(o,1),o.m(l,null))},i(d){i||(_(u,d),_(o),i=!0)},o(d){p(u,d),p(o),i=!1},d(d){d&&$(e),u&&u.d(d),c[s].d()}}}function gRe(r,e,n){let{$$slots:t={},$$scope:l}=e,{hasMultipleSections:s=!1}=e;return r.$$set=o=>{"hasMultipleSections"in o&&n(0,s=o.hasMultipleSections),"$$scope"in o&&n(2,l=o.$$scope)},[s,t,l]}class i1 extends Q{constructor(e){super(),Z(this,e,gRe,pRe,J,{hasMultipleSections:0})}}const hRe=r=>({}),k8=r=>({}),bRe=r=>({}),y8=r=>({});function $Re(r){let e;const n=r[2].default,t=ke(n,r,r[3],null);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&8)&&Ce(t,n,l,l[3],e?ye(n,l[3],s,null):Se(l[3]),null)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function vRe(r){let e,n=r[0]("finish_setting_up_table")+"",t;return{c(){e=E("h1"),t=L(n),I(e,"slot","header")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&1&&n!==(n=l[0]("finish_setting_up_table")+"")&&z(t,n)},d(l){l&&$(e)}}}function wRe(r){let e,n,t,l,s,o,i;t=new i1({props:{$$slots:{header:[vRe],default:[$Re]},$$scope:{ctx:r}}});const a=r[2].preview,u=ke(a,r,r[3],y8),f=r[2].footer,c=ke(f,r,r[3],k8);return{c(){e=E("div"),n=E("div"),C(t.$$.fragment),l=N(),u&&u.c(),s=N(),o=E("div"),c&&c.c(),I(n,"class","page-content svelte-1kzw4yc"),ie(n,"has-preview",r[1].preview),I(o,"class","footer svelte-1kzw4yc"),I(e,"class","import-preview-content svelte-1kzw4yc")},m(m,d){v(m,e,d),R(e,n),k(t,n,null),R(n,l),u&&u.m(n,null),R(e,s),R(e,o),c&&c.m(o,null),i=!0},p(m,d){const g={};d&9&&(g.$$scope={dirty:d,ctx:m}),t.$set(g),u&&u.p&&(!i||d&8)&&Ce(u,a,m,m[3],i?ye(a,m[3],d,bRe):Se(m[3]),y8),(!i||d&2)&&ie(n,"has-preview",m[1].preview),c&&c.p&&(!i||d&8)&&Ce(c,f,m,m[3],i?ye(f,m[3],d,hRe):Se(m[3]),k8)},i(m){i||(_(t.$$.fragment,m),_(u,m),_(c,m),i=!0)},o(m){p(t.$$.fragment,m),p(u,m),p(c,m),i=!1},d(m){m&&$(e),y(t),u&&u.d(m),c&&c.d(m)}}}function kRe(r){let e,n;return e=new xr({props:{fitViewport:!0,cssVariables:{"--max-layout-width":"var(--max-layout-width-data-pages)","--inset-page-section-padding":"var(--lg3)","--page-padding":"var(--outer-page-padding-for-inset-page)"},$$slots:{default:[wRe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&11&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function yRe(r,e,n){let t;ne(r,ce,i=>n(0,t=i));let{$$slots:l={},$$scope:s}=e;const o=mr(l);return r.$$set=i=>{"$$scope"in i&&n(3,s=i.$$scope)},[t,o,l,s]}class a1 extends Q{constructor(e){super(),Z(this,e,yRe,kRe,J,{})}}function CRe(){return[{},{}]}const SRe="id";function TRe(r){return r.map(e=>{const n=ho(e.type,e.metadata);return{id:e.id,column:e,abstractType:n,cellComponentAndProps:hp({cellInfo:n.cellInfo,column:e})}})}function IRe({schema:r,table:e,dataFile:n}){async function t({firstRowIsHeader:l,customizedTableName:s}){return await Promise.all([Fc(r,e.oid),Ra.update(n.id,{header:l})]),pE({schema:r,dataFile:n,name:s})}return new Tl(t)}function ERe(r,e){return{selected:!0,displayName:r.name,castOptions:e}}function C8(r,e){return Object.fromEntries(r.map(n=>[n.id,ERe(n,e==null?void 0:e[n.id])]))}function S8(r,e){return r.map(n=>{var t;return{...n,cast_options:(t=e[n.id])==null?void 0:t.castOptions}})}function MRe({id:r,type:e,primary_key:n,type_options:t},l,s){return{id:r,name:l,cast_options:s,...n?{}:{type:e,type_options:t}}}function RRe(r,e){return r.filter(n=>{var t;return(t=e[n.id])==null?void 0:t.selected}).map(n=>{var t,l;return MRe(n,(t=e[n.id])==null?void 0:t.displayName,(l=e[n.id])==null?void 0:l.castOptions)})}function DRe(r){var a;let e,n=r[1]("database_type")+"",t,l,s,o=((a=r[0])!=null?a:"UNKNOWN")+"",i;return{c(){e=E("div"),t=L(n),l=L(": "),s=E("span"),i=L(o),I(s,"class","svelte-pflyqk"),I(e,"class","svelte-pflyqk")},m(u,f){v(u,e,f),R(e,t),R(e,l),R(e,s),R(s,i)},p(u,[f]){var c;f&2&&n!==(n=u[1]("database_type")+"")&&z(t,n),f&1&&o!==(o=((c=u[0])!=null?c:"UNKNOWN")+"")&&z(i,o)},i:H,o:H,d(u){u&&$(e)}}}function ARe(r,e,n){let t;ne(r,ce,s=>n(1,t=s));let{type:l}=e;return r.$$set=s=>{"type"in s&&n(0,l=s.type)},[l,t]}class yR extends Q{constructor(e){super(),Z(this,e,ARe,DRe,J,{type:0})}}function ORe(r){let e,n;return e=new fn({props:{options:r[4],value:r[1].max,getLabel:r[5]}}),e.$on("change",r[8]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.value=t[1].max),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function FRe(r){let e,n;return e=new fn({props:{options:r[4],value:r[1].min,getLabel:r[5]}}),e.$on("change",r[9]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.value=t[1].min),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function T8(r){let e,n;return{c(){e=E("span"),n=L(r[2]),I(e,"class","svelte-puij5")},m(t,l){v(t,e,l),R(e,n)},p(t,l){l&4&&z(n,t[2])},d(t){t&&$(e)}}}function NRe(r){let e,n=r[11]==="format"&&T8(r);return{c(){n&&n.c(),e=ae()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,l){t[11]==="format"?n?n.p(t,l):(n=T8(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&$(e)}}}function PRe(r){let e,n,t,l,s,o,i,a,u;return n=new Nt({props:{label:r[3]("max_time_unit"),layout:"stacked",$$slots:{default:[ORe]},$$scope:{ctx:r}}}),s=new Nt({props:{label:r[3]("min_time_unit"),layout:"stacked",$$slots:{default:[FRe]},$$scope:{ctx:r}}}),a=new ot({props:{text:r[3]("format_displayer"),$$slots:{default:[NRe,({slotName:f})=>({11:f}),({slotName:f})=>f?2048:0]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),l=E("div"),C(s.$$.fragment),o=N(),i=E("div"),C(a.$$.fragment),I(e,"class","form-element form-input"),I(l,"class","form-element form-input"),I(i,"class","form-element format svelte-puij5")},m(f,c){v(f,e,c),k(n,e,null),v(f,t,c),v(f,l,c),k(s,l,null),v(f,o,c),v(f,i,c),k(a,i,null),u=!0},p(f,[c]){const m={};c&8&&(m.label=f[3]("max_time_unit")),c&4098&&(m.$$scope={dirty:c,ctx:f}),n.$set(m);const d={};c&8&&(d.label=f[3]("min_time_unit")),c&4098&&(d.$$scope={dirty:c,ctx:f}),s.$set(d);const g={};c&8&&(g.text=f[3]("format_displayer")),c&6148&&(g.$$scope={dirty:c,ctx:f}),a.$set(g)},i(f){u||(_(n.$$.fragment,f),_(s.$$.fragment,f),_(a.$$.fragment,f),u=!0)},o(f){p(n.$$.fragment,f),p(s.$$.fragment,f),p(a.$$.fragment,f),u=!1},d(f){f&&$(e),y(n),f&&$(t),f&&$(l),y(s),f&&$(o),f&&$(i),y(a)}}}function LRe(r,e,n){let t,l,s=H,o=()=>(s(),s=le(a,b=>n(1,l=b)),a),i;ne(r,ce,b=>n(3,i=b)),r.$$.on_destroy.push(()=>s());let{store:a}=e;o();const u=Ca.getAllUnits(),f={d:i("days"),h:i("hours"),m:i("minutes"),s:i("seconds"),ms:i("milliseconds")},c=b=>{var w;return(w=b&&f[b])!=null?w:""};function m(b){if(!b)return;let{min:w}=l;u.indexOf(b)>u.indexOf(l.min)&&(w=b),Pn(a,l={...l,max:b,min:w},l)}function d(b){if(!b)return;let{max:w}=l;u.indexOf(b)<u.indexOf(l.max)&&(w=b),Pn(a,l={...l,max:w,min:b},l)}const g=b=>m(b.detail),h=b=>d(b.detail);return r.$$set=b=>{"store"in b&&o(n(0,a=b.store))},r.$$.update=()=>{r.$$.dirty&2&&n(2,t=new Ca(l).getFormattingString())},[a,l,t,i,u,c,m,d,g,h]}class HRe extends Q{constructor(e){super(),Z(this,e,LRe,PRe,J,{store:0})}}function CR(r){return r?r.values:ar({})}function VRe(r,e,n){var o,i;const t=(i=(o=r.getDbConfig)==null?void 0:o.call(r))!=null?i:void 0;let l;if(t){const a=n.type===e?t.constructDbFormValuesFromTypeOptions(n.type,n.type_options):{};l=RT(t.form,a)}const s=CR(l);return{dbOptionsConfig:t,dbForm:l,dbFormValues:s}}function I8(r,e,n){var o,i;const t=(i=(o=r.getDisplayConfig)==null?void 0:o.call(r))!=null?i:void 0;let l;if(t){const a=n.type===e?t.constructDisplayFormValuesFromDisplayOptions(n.metadata):{};l=RT(t.form,a,{"duration-config-menu":HRe})}const s=CR(l);return{displayOptionsConfig:t,displayForm:l,displayFormValues:s}}function zRe(r){let e,n;return e=new yR({props:{type:r[0]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.type=t[0]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function BRe(r){let e,n,t,l;n=new yR({props:{type:r[0]}});let s=r[2]&&E8(r);return{c(){e=E("div"),C(n.$$.fragment),t=N(),s&&s.c(),I(e,"class","type-options svelte-18383vq")},m(o,i){v(o,e,i),k(n,e,null),R(e,t),s&&s.m(e,null),l=!0},p(o,i){const a={};i&1&&(a.type=o[0]),n.$set(a),o[2]?s?(s.p(o,i),i&4&&_(s,1)):(s=E8(o),s.c(),_(s,1),s.m(e,null)):s&&(U(),p(s,1,1,()=>{s=null}),W())},i(o){l||(_(n.$$.fragment,o),_(s),l=!0)},o(o){p(n.$$.fragment,o),p(s),l=!1},d(o){o&&$(e),y(n),s&&s.d()}}}function E8(r){let e,n,t,l;return t=new DT({props:{form:r[2],disabled:r[1]}}),{c(){e=E("div"),n=E("div"),C(t.$$.fragment),I(n,"class","content svelte-18383vq"),I(e,"class","option-form db-opts svelte-18383vq")},m(s,o){v(s,e,o),R(e,n),k(t,n,null),l=!0},p(s,o){const i={};o&4&&(i.form=s[2]),o&2&&(i.disabled=s[1]),t.$set(i)},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){s&&$(e),y(t)}}}function qRe(r){let e,n,t,l;const s=[BRe,zRe],o=[];function i(a,u){return a[2]?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,[u]){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function URe(r,e,n){let t,l,s,o,i=H,a=()=>(i(),i=le(s,b=>n(8,o=b)),s);r.$$.on_destroy.push(()=>i());let{selectedAbstractType:u}=e,{selectedDbType:f}=e,{typeOptions:c}=e,{column:m}=e,{disabled:d=!1}=e;const g=FS();g.addValidator("AbstractTypeConfigValidator",()=>{let b=!0;if(l){const w=l.getValidationResult().isValid;b=b&&w}return b});function h(b,w){var S;if(w){const T=w.determineDbTypeAndOptions(b,m.type);n(4,c=(S=T.typeOptions)!=null?S:{}),n(0,f=T.dbType),g.validate()}}return r.$$set=b=>{"selectedAbstractType"in b&&n(5,u=b.selectedAbstractType),"selectedDbType"in b&&n(0,f=b.selectedDbType),"typeOptions"in b&&n(4,c=b.typeOptions),"column"in b&&n(6,m=b.column),"disabled"in b&&n(1,d=b.disabled)},r.$$.update=()=>{r.$$.dirty&97&&n(7,{dbOptionsConfig:t,dbForm:l,dbFormValues:s}=VRe(u,f,m),t,(n(2,l),n(5,u),n(0,f),n(6,m)),a(n(3,s))),r.$$.dirty&384&&h(o,t)},[f,d,l,s,c,u,m,t,o]}class WRe extends Q{constructor(e){super(),Z(this,e,URe,qRe,J,{selectedAbstractType:5,selectedDbType:0,typeOptions:4,column:6,disabled:1})}}function jRe(r){let e=r[0].name+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1&&e!==(e=t[0].name+"")&&z(n,e)},d(t){t&&$(n)}}}function M8(r){let e,n,t;return n=new zt({props:{$$slots:{default:[YRe]},$$scope:{ctx:r}}}),{c(){e=E("span"),C(n.$$.fragment),I(e,"class","help svelte-14iaee4")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&18&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function YRe(r){let e,n;return e=new x9({props:{arg:r[1]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.arg=t[1]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function GRe(r){let e,n,t,l;n=new Qn({props:{icon:r[0].getIcon(),$$slots:{default:[jRe]},$$scope:{ctx:r}}});let s=r[1]&&M8(r);return{c(){e=E("div"),C(n.$$.fragment),t=N(),s&&s.c(),I(e,"class","abstract-type svelte-14iaee4"),ie(e,"disabled",r[2])},m(o,i){v(o,e,i),k(n,e,null),R(e,t),s&&s.m(e,null),l=!0},p(o,[i]){const a={};i&1&&(a.icon=o[0].getIcon()),i&17&&(a.$$scope={dirty:i,ctx:o}),n.$set(a),o[1]?s?(s.p(o,i),i&2&&_(s,1)):(s=M8(o),s.c(),_(s,1),s.m(e,null)):s&&(U(),p(s,1,1,()=>{s=null}),W()),(!l||i&4)&&ie(e,"disabled",o[2])},i(o){l||(_(n.$$.fragment,o),_(s),l=!0)},o(o){p(n.$$.fragment,o),p(s),l=!1},d(o){o&&$(e),y(n),s&&s.d()}}}function KRe(r,e,n){let t,l,s,{abstractType:o}=e;return r.$$set=i=>{"abstractType"in i&&n(0,o=i.abstractType)},r.$$.update=()=>{var i;r.$$.dirty&1&&n(3,t=(i=o.getEnabledState)==null?void 0:i.call(o)),r.$$.dirty&8&&n(2,l=t?!t.enabled:!1),r.$$.dirty&8&&n(1,s=t&&!t.enabled?t.cause:void 0)},[o,s,l,t]}class SR extends Q{constructor(e){super(),Z(this,e,KRe,GRe,J,{abstractType:0})}}function XRe(r){let e,n;return e=new SR({props:{abstractType:r[10]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1024&&(s.abstractType=t[10]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function JRe(r){let e,n;return e=new fn({props:{options:r[2],value:r[0],getLabel:QRe,autoSelect:"none",isOptionDisabled:r[7],disabled:r[1],$$slots:{default:[XRe,({option:t})=>({10:t}),({option:t})=>t?1024:0]},$$scope:{ctx:r}}}),e.$on("change",r[8]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&4&&(s.options=t[2]),l&1&&(s.value=t[0]),l&2&&(s.disabled=t[1]),l&3072&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function ZRe(r){let e,n;return e=new Nt({props:{label:r[3]("data_type"),layout:"stacked",$$slots:{default:[JRe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&8&&(s.label=t[3]("data_type")),l&2055&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}const QRe=r=>{var e;return(e=r==null?void 0:r.name)!=null?e:""};function xRe(r,e,n){let t,l;ne(r,ce,d=>n(3,l=d));const s=Et();let{column:o}=e,{selectedAbstractType:i}=e,{disabled:a=!1}=e;function u(d){if(!d){console.error("This should never occur. AbstractType is undefined");return}if(i!==d){if(d.identifier===o.abstractType.identifier)s("reset");else if(d.defaultDbType)s("change",{type:d.defaultDbType,abstractType:d});else if(d.dbTypes.size>0){const[g]=d.dbTypes;s("change",{type:g,abstractType:d})}n(0,i=d)}}function f(d){return d?LI(d):!1}const c=d=>f(d),m=d=>u(d.detail);return r.$$set=d=>{"column"in d&&n(6,o=d.column),"selectedAbstractType"in d&&n(0,i=d.selectedAbstractType),"disabled"in d&&n(1,a=d.disabled)},r.$$.update=()=>{r.$$.dirty&64&&n(2,t=gx(o.type,o.metadata).filter(d=>!["jsonlist","map"].includes(d.identifier)))},[i,a,t,l,u,f,o,c,m]}class eDe extends Q{constructor(e){super(),Z(this,e,xRe,ZRe,J,{column:6,selectedAbstractType:0,disabled:1})}}function R8(r){let e=r[3],n,t,l=D8(r);return{c(){l.c(),n=ae()},m(s,o){l.m(s,o),v(s,n,o),t=!0},p(s,o){o&8&&J(e,e=s[3])?(U(),p(l,1,1,H),W(),l=D8(s),l.c(),_(l,1),l.m(n.parentNode,n)):l.p(s,o)},i(s){t||(_(l),t=!0)},o(s){p(l),t=!1},d(s){s&&$(n),l.d(s)}}}function D8(r){let e,n,t,l;function s(a){r[20](a)}function o(a){r[21](a)}let i={selectedAbstractType:r[3],column:r[0],disabled:r[2]};return r[4]!==void 0&&(i.selectedDbType=r[4]),r[5]!==void 0&&(i.typeOptions=r[5]),e=new WRe({props:i}),we.push(()=>Me(e,"selectedDbType",s)),we.push(()=>Me(e,"typeOptions",o)),{c(){C(e.$$.fragment)},m(a,u){k(e,a,u),l=!0},p(a,u){const f={};u&8&&(f.selectedAbstractType=a[3]),u&1&&(f.column=a[0]),u&4&&(f.disabled=a[2]),!n&&u&16&&(n=!0,f.selectedDbType=a[4],De(()=>n=!1)),!t&&u&32&&(t=!0,f.typeOptions=a[5],De(()=>t=!1)),e.$set(f)},i(a){l||(_(e.$$.fragment,a),l=!0)},o(a){p(e.$$.fragment,a),l=!1},d(a){y(e,a)}}}function A8(r){var o;let e,n,t,l,s=r[1]&&O8(r);return t=new Ol({props:{onProceed:r[14],onCancel:r[13],isProcessing:((o=r[6])==null?void 0:o.state)==="processing",canProceed:!r[7],proceedButton:{label:r[10]("save")},size:"small"}}),{c(){e=E("div"),s&&s.c(),n=N(),C(t.$$.fragment),I(e,"class","footer svelte-29qpgv")},m(i,a){v(i,e,a),s&&s.m(e,null),R(e,n),k(t,e,null),l=!0},p(i,a){var f;i[1]?s?(s.p(i,a),a&2&&_(s,1)):(s=O8(i),s.c(),_(s,1),s.m(e,n)):s&&(U(),p(s,1,1,()=>{s=null}),W());const u={};a&64&&(u.isProcessing=((f=i[6])==null?void 0:f.state)==="processing"),a&128&&(u.canProceed=!i[7]),a&1024&&(u.proceedButton={label:i[10]("save")}),t.$set(u)},i(i){l||(_(s),_(t.$$.fragment,i),l=!0)},o(i){p(s),p(t.$$.fragment,i),l=!1},d(i){i&&$(e),s&&s.d(),y(t)}}}function O8(r){let e,n;return e=new ur({props:{$$slots:{default:[tDe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&33555456&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function tDe(r){let e,n=r[10]("data_loss_warning_alert")+"",t;return{c(){e=E("span"),t=L(n),I(e,"class","warning-alert svelte-29qpgv")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&1024&&n!==(n=l[10]("data_loss_warning_alert")+"")&&z(t,n)},d(l){l&&$(e)}}}function nDe(r){var a;let e,n,t,l,s;e=new eDe({props:{selectedAbstractType:r[3],column:r[0],disabled:((a=r[6])==null?void 0:a.state)==="processing"||r[2]}}),e.$on("change",r[18]),e.$on("reset",r[19]);let o=r[3]&&r[4]&&R8(r),i=r[9]&&A8(r);return{c(){C(e.$$.fragment),n=N(),o&&o.c(),t=N(),i&&i.c(),l=ae()},m(u,f){k(e,u,f),v(u,n,f),o&&o.m(u,f),v(u,t,f),i&&i.m(u,f),v(u,l,f),s=!0},p(u,[f]){var m;const c={};f&8&&(c.selectedAbstractType=u[3]),f&1&&(c.column=u[0]),f&68&&(c.disabled=((m=u[6])==null?void 0:m.state)==="processing"||u[2]),e.$set(c),u[3]&&u[4]?o?(o.p(u,f),f&24&&_(o,1)):(o=R8(u),o.c(),_(o,1),o.m(t.parentNode,t)):o&&(U(),p(o,1,1,()=>{o=null}),W()),u[9]?i?(i.p(u,f),f&512&&_(i,1)):(i=A8(u),i.c(),_(i,1),i.m(l.parentNode,l)):i&&(U(),p(i,1,1,()=>{i=null}),W())},i(u){s||(_(e.$$.fragment,u),_(o),_(i),s=!0)},o(u){p(e.$$.fragment,u),p(o),p(i),s=!1},d(u){y(e,u),u&&$(n),o&&o.d(u),u&&$(t),i&&i.d(u),u&&$(l)}}}function rDe(r,e,n){var G;let t,l,s,o,i=H,a=()=>(i(),i=le(l,Y=>n(17,o=Y)),l),u;ne(r,ce,Y=>n(10,u=Y)),r.$$.on_destroy.push(()=>i());const f=Et();let{column:c}=e,{save:m}=e,{showWarnings:d=!0}=e,{disabled:g=!1}=e,h=c.abstractType,b=c.type,w=(G=c.type_options)!=null?G:{},S={...w},{metadata:T}=c,M;const A=OS();tn(()=>{A.validate()});function D(Y){var K;n(3,h=Y.abstractType),n(4,b=Y.type),n(16,w=(K=Y.type_options)!=null?K:{}),n(5,S={...w}),T=Y.metadata}function O(Y){const{type:K,abstractType:ee}=Y;n(4,b=K),n(3,h=ee),n(5,S={}),T=bx(h,T)}function F(){D(c),n(6,M={state:"success"}),f("cancel")}async function P(){n(6,M={state:"processing"});try{await m({type:b,type_options:{...S},metadata:T}),n(6,M={state:"success"})}catch(Y){const K=Y instanceof Error?Y.message:u("unable_to_change_column_type");$t.error(K),n(6,M={state:"failure",errors:[K]})}}const B=Y=>O(Y.detail),j=()=>D(c);function V(Y){b=Y,n(4,b)}function q(Y){S=Y,n(5,S)}return r.$$set=Y=>{"column"in Y&&n(0,c=Y.column),"save"in Y&&n(15,m=Y.save),"showWarnings"in Y&&n(1,d=Y.showWarnings),"disabled"in Y&&n(2,g=Y.disabled)},r.$$.update=()=>{r.$$.dirty&65593&&n(9,t=h!==c.abstractType||b!==c.type||!zle(w,S!=null?S:{})),r.$$.dirty&1&&D(c),r.$$.dirty&131144&&n(7,s=!h||(M==null?void 0:M.state)==="processing"||!o)},a(n(8,{validationResult:l}=A,l)),[c,d,g,h,b,S,M,s,l,t,u,D,O,F,P,m,w,o,B,j,V,q]}class TR extends Q{constructor(e){super(),Z(this,e,rDe,nDe,J,{column:0,save:15,showWarnings:1,disabled:2})}}function F8(r){let e,n;return e=new On({props:{allowHover:!0,placements:["top","bottom"],$$slots:{content:[sDe],trigger:[lDe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&132096&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function lDe(r){let e,n,t;const l=[h0];let s={};for(let o=0;o<l.length;o+=1)s=se(s,l[o]);return n=new Ne({props:s}),{c(){e=E("span"),C(n.$$.fragment),I(e,"slot","trigger")},m(o,i){v(o,e,i),k(n,e,null),t=!0},p(o,i){const a=i&0?de(l,[_e(h0)]):{};n.$set(a)},i(o){t||(_(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&$(e),y(n)}}}function sDe(r){let e,n=r[10]("pk_indicator_help_text")+"",t;return{c(){e=E("p"),t=L(n),I(e,"slot","content")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&1024&&n!==(n=l[10]("pk_indicator_help_text")+"")&&z(t,n)},d(l){l&&$(e)}}}function N8(r){let e,n;return e=new On({props:{allowHover:!0,placements:["top","bottom"],$$slots:{content:[iDe],trigger:[oDe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&132096&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function oDe(r){let e,n,t;const l=[b0];let s={};for(let o=0;o<l.length;o+=1)s=se(s,l[o]);return n=new Ne({props:s}),{c(){e=E("span"),C(n.$$.fragment),I(e,"slot","trigger")},m(o,i){v(o,e,i),k(n,e,null),t=!0},p(o,i){const a=i&0?de(l,[_e(b0)]):{};n.$set(a)},i(o){t||(_(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&$(e),y(n)}}}function iDe(r){let e,n=r[10]("auto_added_indicator_help_text")+"",t;return{c(){e=E("p"),t=L(n),I(e,"slot","content")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&1024&&n!==(n=l[10]("auto_added_indicator_help_text")+"")&&z(t,n)},d(l){l&&$(e)}}}function P8(r){let e,n;return e=new On({props:{allowHover:!0,placements:["top","bottom"],$$slots:{content:[uDe],trigger:[aDe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&132104&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function aDe(r){let e,n,t,l,s,o,i;const a=[af];let u={};for(let f=0;f<a.length;f+=1)u=se(u,a[f]);return l=new Ne({props:u}),{c(){e=E("span"),n=L(SRe),t=N(),C(l.$$.fragment),s=N(),o=L(r[3]),I(e,"slot","trigger"),I(e,"class","id-rename svelte-1rg1rdm")},m(f,c){v(f,e,c),R(e,n),R(e,t),k(l,e,null),R(e,s),R(e,o),i=!0},p(f,c){const m=c&0?de(a,[_e(af)]):{};l.$set(m),(!i||c&8)&&z(o,f[3])},i(f){i||(_(l.$$.fragment,f),i=!0)},o(f){p(l.$$.fragment,f),i=!1},d(f){f&&$(e),y(l)}}}function uDe(r){let e,n=r[10]("id_column_has_been_renamed",{values:{renamedIdColumn:r[3]}})+"",t;return{c(){e=E("p"),t=L(n),I(e,"slot","content")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&1032&&n!==(n=l[10]("id_column_has_been_renamed",{values:{renamedIdColumn:l[3]}})+"")&&z(t,n)},d(l){l&&$(e)}}}function fDe(r){let e=r[4].abstractType.name+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&16&&e!==(e=t[4].abstractType.name+"")&&z(n,e)},d(t){t&&$(n)}}}function cDe(r){let e,n;return e=new Qn({props:{slot:"trigger",icon:r[4].abstractType.getIcon(),$$slots:{default:[fDe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.icon=t[4].abstractType.getIcon()),l&131088&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function mDe(r){let e,n,t;function l(...s){return r[15](r[16],...s)}return n=new TR({props:{column:{...r[4].column,abstractType:r[4].abstractType},showWarnings:!1,save:l}}),n.$on("cancel",function(){St(r[16])&&r[16].apply(this,arguments)}),{c(){e=E("div"),C(n.$$.fragment),I(e,"slot","content"),I(e,"class","type-options-content svelte-1rg1rdm")},m(s,o){v(s,e,o),k(n,e,null),t=!0},p(s,o){r=s;const i={};o&16&&(i.column={...r[4].column,abstractType:r[4].abstractType}),o&65584&&(i.save=l),n.$set(i)},i(s){t||(_(n.$$.fragment,s),t=!0)},o(s){p(n.$$.fragment,s),t=!1},d(s){s&&$(e),y(n)}}}function dDe(r){let e,n,t,l,s,o,i,a,u,f,c,m,d,g,h=r[7]&&F8(r),b=r[6]&&N8(r),w=r[8]&&P8(r);function S(D){r[13](D)}let T={disabled:r[9]};r[0]!==void 0&&(T.checked=r[0]),i=new lr({props:T}),we.push(()=>Me(i,"checked",S));function M(D){r[14](D)}let A={disabled:r[2]};return r[1]!==void 0&&(A.value=r[1]),f=new hn({props:A}),we.push(()=>Me(f,"value",M)),f.$on("blur",r[11]),d=new Nl({props:{disabled:r[9],triggerClass:"column-type",triggerAppearance:"plain",$$slots:{content:[mDe,({close:D})=>({16:D}),({close:D})=>D?65536:0],trigger:[cDe]},$$scope:{ctx:r}}}),{c(){e=E("div"),n=E("div"),h&&h.c(),t=N(),b&&b.c(),l=N(),w&&w.c(),s=N(),o=E("div"),C(i.$$.fragment),u=N(),C(f.$$.fragment),m=N(),C(d.$$.fragment),I(n,"class","pk-indicator svelte-1rg1rdm"),I(o,"class","column-name svelte-1rg1rdm"),I(e,"class","column svelte-1rg1rdm")},m(D,O){v(D,e,O),R(e,n),h&&h.m(n,null),R(n,t),b&&b.m(n,null),R(n,l),w&&w.m(n,null),R(e,s),R(e,o),k(i,o,null),R(o,u),k(f,o,null),R(e,m),k(d,e,null),g=!0},p(D,[O]){D[7]?h?(h.p(D,O),O&128&&_(h,1)):(h=F8(D),h.c(),_(h,1),h.m(n,t)):h&&(U(),p(h,1,1,()=>{h=null}),W()),D[6]?b?(b.p(D,O),O&64&&_(b,1)):(b=N8(D),b.c(),_(b,1),b.m(n,l)):b&&(U(),p(b,1,1,()=>{b=null}),W()),D[8]?w?(w.p(D,O),O&256&&_(w,1)):(w=P8(D),w.c(),_(w,1),w.m(n,null)):w&&(U(),p(w,1,1,()=>{w=null}),W());const F={};O&512&&(F.disabled=D[9]),!a&&O&1&&(a=!0,F.checked=D[0],De(()=>a=!1)),i.$set(F);const P={};O&4&&(P.disabled=D[2]),!c&&O&2&&(c=!0,P.value=D[1],De(()=>c=!1)),f.$set(P);const B={};O&512&&(B.disabled=D[9]),O&196656&&(B.$$scope={dirty:O,ctx:D}),d.$set(B)},i(D){g||(_(h),_(b),_(w),_(i.$$.fragment,D),_(f.$$.fragment,D),_(d.$$.fragment,D),g=!0)},o(D){p(h),p(b),p(w),p(i.$$.fragment,D),p(f.$$.fragment,D),p(d.$$.fragment,D),g=!1},d(D){D&&$(e),h&&h.d(),b&&b.d(),w&&w.d(),y(i),y(f),y(d)}}}function _De(r,e,n){let t,l,s,o,i;ne(r,ce,T=>n(10,i=T));let{isLoading:a=!1}=e,{renamedIdColumn:u=void 0}=e,{processedColumn:f}=e,{selected:c}=e,{displayName:m}=e,{updateTypeRelatedOptions:d}=e,{isAutoAdded:g=!1}=e;function h(){m.trim()===""&&n(1,m=t.name)}function b(T){c=T,n(0,c)}function w(T){m=T,n(1,m)}const S=async(T,M)=>{await d({...f.column,...M}),T()};return r.$$set=T=>{"isLoading"in T&&n(2,a=T.isLoading),"renamedIdColumn"in T&&n(3,u=T.renamedIdColumn),"processedColumn"in T&&n(4,f=T.processedColumn),"selected"in T&&n(0,c=T.selected),"displayName"in T&&n(1,m=T.displayName),"updateTypeRelatedOptions"in T&&n(5,d=T.updateTypeRelatedOptions),"isAutoAdded"in T&&n(6,g=T.isAutoAdded)},r.$$.update=()=>{r.$$.dirty&16&&n(12,{column:t}=f,t),r.$$.dirty&4096&&n(7,l=t.primary_key),r.$$.dirty&132&&n(9,s=l||a),r.$$.dirty&24&&n(8,o=u===f.column.name)},[c,m,a,u,f,d,g,l,o,s,i,h,t,b,w,S]}class pDe extends Q{constructor(e){super(),Z(this,e,_De,dDe,J,{isLoading:2,renamedIdColumn:3,processedColumn:4,selected:0,displayName:1,updateTypeRelatedOptions:5,isAutoAdded:6})}}function L8(r,e,n){const t=r.slice();return t[9]=e[n],t}function H8(r,e,n){const t=r.slice();return t[14]=e[n],t}function V8(r,e,n){const t=r.slice();return t[14]=e[n],t[17]=e,t[18]=n,t}function gDe(r){let e,n,t,l,s,o,i;function a(c){r[7](c,r[14])}function u(c){r[8](c,r[14])}let f={isLoading:r[2],processedColumn:r[14],updateTypeRelatedOptions:r[3],isAutoAdded:r[14].id===r[5],renamedIdColumn:r[6]};return r[0][r[14].id].selected!==void 0&&(f.selected=r[0][r[14].id].selected),r[0][r[14].id].displayName!==void 0&&(f.displayName=r[0][r[14].id].displayName),e=new pDe({props:f}),we.push(()=>Me(e,"selected",a)),we.push(()=>Me(e,"displayName",u)),s=new t1({props:{columnIdentifierKey:r[14].id,minColumnWidth:jX}}),{c(){C(e.$$.fragment),l=N(),C(s.$$.fragment),o=N()},m(c,m){k(e,c,m),v(c,l,m),k(s,c,m),v(c,o,m),i=!0},p(c,m){r=c;const d={};m&4&&(d.isLoading=r[2]),m&2&&(d.processedColumn=r[14]),m&8&&(d.updateTypeRelatedOptions=r[3]),m&34&&(d.isAutoAdded=r[14].id===r[5]),m&64&&(d.renamedIdColumn=r[6]),!n&&m&3&&(n=!0,d.selected=r[0][r[14].id].selected,De(()=>n=!1)),!t&&m&3&&(t=!0,d.displayName=r[0][r[14].id].displayName,De(()=>t=!1)),e.$set(d);const g={};m&2&&(g.columnIdentifierKey=r[14].id),s.$set(g)},i(c){i||(_(e.$$.fragment,c),_(s.$$.fragment,c),i=!0)},o(c){p(e.$$.fragment,c),p(s.$$.fragment,c),i=!1},d(c){y(e,c),c&&$(l),y(s,c),c&&$(o)}}}function z8(r,e){let n,t,l;return t=new r1({props:{columnIdentifierKey:e[14].id,$$slots:{default:[gDe]},$$scope:{ctx:e}}}),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(s,o){v(s,n,o),k(t,s,o),l=!0},p(s,o){e=s;const i={};o&2&&(i.columnIdentifierKey=e[14].id),o&524399&&(i.$$scope={dirty:o,ctx:e}),t.$set(i)},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){s&&$(n),y(t,s)}}}function hDe(r){let e=[],n=new Map,t,l,s=r[1];const o=i=>i[14].id;for(let i=0;i<s.length;i+=1){let a=V8(r,s,i),u=o(a);n.set(u,e[i]=z8(u,a))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=ae()},m(i,a){for(let u=0;u<e.length;u+=1)e[u].m(i,a);v(i,t,a),l=!0},p(i,a){a&111&&(s=i[1],U(),e=ht(e,a,o,1,i,s,n,t.parentNode,kt,z8,t,V8),W())},i(i){if(!l){for(let a=0;a<s.length;a+=1)_(e[a]);l=!0}},o(i){for(let a=0;a<e.length;a+=1)p(e[a]);l=!1},d(i){for(let a=0;a<e.length;a+=1)e[a].d(i);i&&$(t)}}}function bDe(r){let e,n,t;return e=new su({props:{columnFabric:r[14],value:r[9][r[14].column.name],showAsSkeleton:r[2],disabled:!0}}),{c(){C(e.$$.fragment),n=N()},m(l,s){k(e,l,s),v(l,n,s),t=!0},p(l,s){const o={};s&2&&(o.columnFabric=l[14]),s&18&&(o.value=l[9][l[14].column.name]),s&4&&(o.showAsSkeleton=l[2]),e.$set(o)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){y(e,l),l&&$(n)}}}function B8(r,e){let n,t,l;return t=new l1({props:{columnIdentifierKey:e[14].id,$$slots:{default:[bDe]},$$scope:{ctx:e}}}),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(s,o){v(s,n,o),k(t,s,o),l=!0},p(s,o){e=s;const i={};o&2&&(i.columnIdentifierKey=e[14].id),o&524310&&(i.$$scope={dirty:o,ctx:e}),t.$set(i)},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){s&&$(n),y(t,s)}}}function $De(r){let e,n=[],t=new Map,l,s,o,i=r[1];const a=c=>c[14];for(let c=0;c<i.length;c+=1){let m=H8(r,i,c),d=a(m);t.set(d,n[c]=B8(d,m))}let u=[r[12],{style:l=r[13]}],f={};for(let c=0;c<u.length;c+=1)f=se(f,u[c]);return{c(){e=E("div");for(let c=0;c<n.length;c+=1)n[c].c();s=N(),Tt(e,f),ie(e,"svelte-11b8hhy",!0)},m(c,m){v(c,e,m);for(let d=0;d<n.length;d+=1)n[d].m(e,null);v(c,s,m),o=!0},p(c,m){m&22&&(i=c[1],U(),n=ht(n,m,a,1,c,i,t,e,kt,B8,null,H8),W()),Tt(e,f=de(u,[m&4096&&c[12],(!o||m&8192&&l!==(l=c[13]))&&{style:l}])),ie(e,"svelte-11b8hhy",!0)},i(c){if(!o){for(let m=0;m<i.length;m+=1)_(n[m]);o=!0}},o(c){for(let m=0;m<n.length;m+=1)p(n[m]);o=!1},d(c){c&&$(e);for(let m=0;m<n.length;m+=1)n[m].d();c&&$(s)}}}function q8(r,e){let n,t,l;return t=new n1({props:{style:{position:"relative",height:30},$$slots:{default:[$De,({htmlAttributes:s,styleString:o})=>({12:s,13:o}),({htmlAttributes:s,styleString:o})=>(s?4096:0)|(o?8192:0)]},$$scope:{ctx:e}}}),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(s,o){v(s,n,o),k(t,s,o),l=!0},p(s,o){e=s;const i={};o&536598&&(i.$$scope={dirty:o,ctx:e}),t.$set(i)},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){s&&$(n),y(t,s)}}}function vDe(r){let e,n,t=[],l=new Map,s,o;e=new e1({props:{inheritFontStyle:!0,$$slots:{default:[hDe]},$$scope:{ctx:r}}});let i=r[4];const a=u=>u[9];for(let u=0;u<i.length;u+=1){let f=L8(r,i,u),c=a(f);l.set(c,t[u]=q8(c,f))}return{c(){C(e.$$.fragment),n=N();for(let u=0;u<t.length;u+=1)t[u].c();s=ae()},m(u,f){k(e,u,f),v(u,n,f);for(let c=0;c<t.length;c+=1)t[c].m(u,f);v(u,s,f),o=!0},p(u,f){const c={};f&524399&&(c.$$scope={dirty:f,ctx:u}),e.$set(c),f&12310&&(i=u[4],U(),t=ht(t,f,a,1,u,i,l,s.parentNode,kt,q8,s,L8),W())},i(u){if(!o){_(e.$$.fragment,u);for(let f=0;f<i.length;f+=1)_(t[f]);o=!0}},o(u){p(e.$$.fragment,u);for(let f=0;f<t.length;f+=1)p(t[f]);o=!1},d(u){y(e,u),u&&$(n);for(let f=0;f<t.length;f+=1)t[f].d(u);u&&$(s)}}}function wDe(r){let e,n,t;return n=new xp({props:{restrictWidthToRowWidth:!0,columns:r[1],getColumnIdentifier:kDe,$$slots:{default:[vDe]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","import-preview svelte-11b8hhy")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,[s]){const o={};s&2&&(o.columns=l[1]),s&524415&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}const kDe=r=>r.id;function yDe(r,e,n){let{columns:t}=e,{isLoading:l}=e,{updateTypeRelatedOptions:s}=e,{columnPropertiesMap:o}=e,{records:i}=e,{addedPkAttnum:a=void 0}=e,{renamedIdColumn:u}=e;function f(m,d){r.$$.not_equal(o[d.id].selected,m)&&(o[d.id].selected=m,n(0,o))}function c(m,d){r.$$.not_equal(o[d.id].displayName,m)&&(o[d.id].displayName=m,n(0,o))}return r.$$set=m=>{"columns"in m&&n(1,t=m.columns),"isLoading"in m&&n(2,l=m.isLoading),"updateTypeRelatedOptions"in m&&n(3,s=m.updateTypeRelatedOptions),"columnPropertiesMap"in m&&n(0,o=m.columnPropertiesMap),"records"in m&&n(4,i=m.records),"addedPkAttnum"in m&&n(5,a=m.addedPkAttnum),"renamedIdColumn"in m&&n(6,u=m.renamedIdColumn)},[o,t,l,s,i,a,u,f,c]}class CDe extends Q{constructor(e){super(),Z(this,e,yDe,wDe,J,{columns:1,isLoading:2,updateTypeRelatedOptions:3,columnPropertiesMap:0,records:4,addedPkAttnum:5,renamedIdColumn:6})}}function SDe(r){let e;return{c(){e=E("div"),I(e,"class","empty svelte-1n6eca3")},m(n,t){v(n,e,t)},p:H,i:H,o:H,d(n){n&&$(e)}}}function TDe(r){let e,n;return e=new Gn({props:{column:r[5]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&32&&(s.column=t[5]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function IDe(r){let e,n,t,l;const s=[TDe,SDe],o=[];function i(a,u){return a[5]?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function EDe(r){let e,n,t;function l(o){r[3](o)}let s={options:r[1],labelKey:"name",valuesAreEqual:MDe,$$slots:{default:[IDe,({option:o})=>({5:o}),({option:o})=>o?32:0]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.value=r[0]),e=new fn({props:s}),we.push(()=>Me(e,"value",l)),e.$on("change",r[4]),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,[i]){const a={};i&2&&(a.options=o[1]),i&96&&(a.$$scope={dirty:i,ctx:o}),!n&&i&1&&(n=!0,a.value=o[0],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}const MDe=(r,e)=>(r==null?void 0:r.id)===(e==null?void 0:e.id);function RDe(r,e,n){let{columns:t}=e,{value:l=void 0}=e,{onUpdate:s=void 0}=e;function o(a){l=a,n(0,l)}const i=({detail:a})=>s==null?void 0:s(a);return r.$$set=a=>{"columns"in a&&n(1,t=a.columns),"value"in a&&n(0,l=a.value),"onUpdate"in a&&n(2,s=a.onUpdate)},[l,t,s,o,i]}class DDe extends Q{constructor(e){super(),Z(this,e,RDe,EDe,J,{columns:1,value:0,onUpdate:2})}}function ADe(r){let e=Rt(r[34])+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l[1]&8&&e!==(e=Rt(t[34])+"")&&z(n,e)},d(t){t&&$(n)}}}function ODe(r){let e=r[13]("choose_existing_pk_column")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l[0]&8192&&e!==(e=t[13]("choose_existing_pk_column")+"")&&z(n,e)},d(t){t&&$(n)}}}function FDe(r){let e=r[13]("add_a_new_pk_column")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l[0]&8192&&e!==(e=t[13]("add_a_new_pk_column")+"")&&z(n,e)},d(t){t&&$(n)}}}function NDe(r){let e;function n(s,o){return s[34]==="add"?FDe:s[34]==="pick"?ODe:ADe}let t=n(r),l=t(r);return{c(){l.c(),e=ae()},m(s,o){l.m(s,o),v(s,e,o)},p(s,o){t===(t=n(s))&&l?l.p(s,o):(l.d(1),l=t(s),l&&(l.c(),l.m(e.parentNode,e)))},d(s){l.d(s),s&&$(e)}}}function PDe(r){let e,n,t;function l(o){r[24](o)}let s={options:r[15],$$slots:{default:[NDe,({option:o})=>({34:o}),({option:o})=>[0,o?8:0]]},$$scope:{ctx:r}};return r[6]!==void 0&&(s.value=r[6]),e=new fn({props:s}),we.push(()=>Me(e,"value",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};i[0]&8192|i[1]&24&&(a.$$scope={dirty:i,ctx:o}),!n&&i[0]&64&&(n=!0,a.value=o[6],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function LDe(r){let e,n;return e=new Nt({props:{label:r[13]("strategy"),$$slots:{default:[PDe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&8192&&(s.label=t[13]("strategy")),l[0]&8256|l[1]&16&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function HDe(r){let e=Rt(r[6])+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l[0]&64&&e!==(e=Rt(t[6])+"")&&z(n,e)},i:H,o:H,d(t){t&&$(n)}}}function VDe(r){let e,n;return e=new Nt({props:{label:r[13]("column"),$$slots:{default:[BDe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&8192&&(s.label=t[13]("column")),l[0]&160|l[1]&16&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function zDe(r){let e,n;return e=new Nt({props:{label:r[13]("column_type"),$$slots:{default:[YDe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&8192&&(s.label=t[13]("column_type")),l[0]&8448|l[1]&16&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function BDe(r){let e,n,t;function l(o){r[26](o)}let s={columns:r[5]};return r[7]!==void 0&&(s.value=r[7]),e=new DDe({props:s}),we.push(()=>Me(e,"value",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};i[0]&32&&(a.columns=o[5]),!n&&i[0]&128&&(n=!0,a.value=o[7],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function qDe(r){let e=Rt(r[34])+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l[1]&8&&e!==(e=Rt(t[34])+"")&&z(n,e)},d(t){t&&$(n)}}}function UDe(r){let e=r[13]("UUID")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l[0]&8192&&e!==(e=t[13]("UUID")+"")&&z(n,e)},d(t){t&&$(n)}}}function WDe(r){let e=r[13]("Integer")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l[0]&8192&&e!==(e=t[13]("Integer")+"")&&z(n,e)},d(t){t&&$(n)}}}function jDe(r){let e;function n(s,o){return s[34]==="integer"?WDe:s[34]==="uuid"?UDe:qDe}let t=n(r),l=t(r);return{c(){l.c(),e=ae()},m(s,o){l.m(s,o),v(s,e,o)},p(s,o){t===(t=n(s))&&l?l.p(s,o):(l.d(1),l=t(s),l&&(l.c(),l.m(e.parentNode,e)))},d(s){l.d(s),s&&$(e)}}}function YDe(r){let e,n,t;function l(o){r[25](o)}let s={options:r[16],$$slots:{default:[jDe,({option:o})=>({34:o}),({option:o})=>[0,o?8:0]]},$$scope:{ctx:r}};return r[8]!==void 0&&(s.value=r[8]),e=new fn({props:s}),we.push(()=>Me(e,"value",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};i[0]&8192|i[1]&24&&(a.$$scope={dirty:i,ctx:o}),!n&&i[0]&256&&(n=!0,a.value=o[8],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function GDe(r){let e,n,t,l;const s=[zDe,VDe,HDe],o=[];function i(a,u){return a[6]==="add"?0:a[6]==="pick"?1:2}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function KDe(r){let e=Rt(r[34])+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l[1]&8&&e!==(e=Rt(t[34])+"")&&z(n,e)},d(t){t&&$(n)}}}function XDe(r){let e=r[13]("no_default")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l[0]&8192&&e!==(e=t[13]("no_default")+"")&&z(n,e)},d(t){t&&$(n)}}}function JDe(r){let e=r[13]("random_uuidv4")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l[0]&8192&&e!==(e=t[13]("random_uuidv4")+"")&&z(n,e)},d(t){t&&$(n)}}}function ZDe(r){let e=r[13]("auto_incrementing_identity")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l[0]&8192&&e!==(e=t[13]("auto_incrementing_identity")+"")&&z(n,e)},d(t){t&&$(n)}}}function QDe(r){let e;function n(s,o){return s[34]==="identity"?ZDe:s[34]==="uuid4"?JDe:s[34]==="none"?XDe:KDe}let t=n(r),l=t(r);return{c(){l.c(),e=ae()},m(s,o){l.m(s,o),v(s,e,o)},p(s,o){t===(t=n(s))&&l?l.p(s,o):(l.d(1),l=t(s),l&&(l.c(),l.m(e.parentNode,e)))},d(s){l.d(s),s&&$(e)}}}function xDe(r){let e,n,t;function l(o){r[27](o)}let s={options:r[4],$$slots:{default:[QDe,({option:o})=>({34:o}),({option:o})=>[0,o?8:0]]},$$scope:{ctx:r}};return r[12]!==void 0&&(s.value=r[12]),e=new fn({props:s}),we.push(()=>Me(e,"value",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};i[0]&16&&(a.options=o[4]),i[0]&8192|i[1]&24&&(a.$$scope={dirty:i,ctx:o}),!n&&i[0]&4096&&(n=!0,a.value=o[12],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function U8(r){let e,n,t;return n=new ur({props:{$$slots:{default:[eAe]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","error svelte-vvscom")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s[0]&8192|s[1]&16&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function eAe(r){let e,n=r[13]("heads_up")+"",t,l,s,o=r[13]("pk_no_default_warning_0")+"",i,a,u,f,c=r[13]("pk_no_default_warning_1")+"",m,d,g,h=r[13]("pk_no_default_warning_2")+"",b,w,S,T=r[13]("pk_no_default_warning_3")+"",M;return{c(){e=E("p"),t=L(n),l=N(),s=E("p"),i=L(o),a=N(),u=E("ul"),f=E("li"),m=L(c),d=N(),g=E("li"),b=L(h),w=N(),S=E("p"),M=L(T)},m(A,D){v(A,e,D),R(e,t),v(A,l,D),v(A,s,D),R(s,i),v(A,a,D),v(A,u,D),R(u,f),R(f,m),R(u,d),R(u,g),R(g,b),v(A,w,D),v(A,S,D),R(S,M)},p(A,D){D[0]&8192&&n!==(n=A[13]("heads_up")+"")&&z(t,n),D[0]&8192&&o!==(o=A[13]("pk_no_default_warning_0")+"")&&z(i,o),D[0]&8192&&c!==(c=A[13]("pk_no_default_warning_1")+"")&&z(m,c),D[0]&8192&&h!==(h=A[13]("pk_no_default_warning_2")+"")&&z(b,h),D[0]&8192&&T!==(T=A[13]("pk_no_default_warning_3")+"")&&z(M,T)},d(A){A&&$(e),A&&$(l),A&&$(s),A&&$(a),A&&$(u),A&&$(w),A&&$(S)}}}function tAe(r){let e,n,t,l;e=new Nt({props:{label:r[13]("default_value"),$$slots:{default:[xDe]},$$scope:{ctx:r}}});let s=r[12]==="none"&&U8(r);return{c(){C(e.$$.fragment),n=N(),s&&s.c(),t=ae()},m(o,i){k(e,o,i),v(o,n,i),s&&s.m(o,i),v(o,t,i),l=!0},p(o,i){const a={};i[0]&8192&&(a.label=o[13]("default_value")),i[0]&12304|i[1]&16&&(a.$$scope={dirty:i,ctx:o}),e.$set(a),o[12]==="none"?s?(s.p(o,i),i[0]&4096&&_(s,1)):(s=U8(o),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(U(),p(s,1,1,()=>{s=null}),W())},i(o){l||(_(e.$$.fragment,o),_(s),l=!0)},o(o){p(e.$$.fragment,o),p(s),l=!1},d(o){y(e,o),o&&$(n),s&&s.d(o),o&&$(t)}}}function W8(r){let e,n;return e=new Ht({props:{$$slots:{default:[nAe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&10240|l[1]&16&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function nAe(r){let e,n;return e=new yn({props:{form:r[11],onProceed:r[17],catchErrors:!0,proceedButton:{label:r[13]("update_primary_key_column")},cancelButton:{label:r[13]("discard_changes"),icon:cl}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&2048&&(s.form=t[11]),l[0]&8192&&(s.proceedButton={label:t[13]("update_primary_key_column")}),l[0]&8192&&(s.cancelButton={label:t[13]("discard_changes"),icon:cl}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function rAe(r){let e,n,t,l,s,o,i,a;e=new Ht({props:{$$slots:{default:[LDe]},$$scope:{ctx:r}}}),t=new Ht({props:{$$slots:{default:[GDe]},$$scope:{ctx:r}}}),s=new Ht({props:{$$slots:{default:[tAe]},$$scope:{ctx:r}}});let u=r[14].hasChanges&&W8(r);return{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),C(s.$$.fragment),o=N(),u&&u.c(),i=ae()},m(f,c){k(e,f,c),v(f,n,c),k(t,f,c),v(f,l,c),k(s,f,c),v(f,o,c),u&&u.m(f,c),v(f,i,c),a=!0},p(f,c){const m={};c[0]&8256|c[1]&16&&(m.$$scope={dirty:c,ctx:f}),e.$set(m);const d={};c[0]&8672|c[1]&16&&(d.$$scope={dirty:c,ctx:f}),t.$set(d);const g={};c[0]&12304|c[1]&16&&(g.$$scope={dirty:c,ctx:f}),s.$set(g),f[14].hasChanges?u?(u.p(f,c),c[0]&16384&&_(u,1)):(u=W8(f),u.c(),_(u,1),u.m(i.parentNode,i)):u&&(U(),p(u,1,1,()=>{u=null}),W())},i(f){a||(_(e.$$.fragment,f),_(t.$$.fragment,f),_(s.$$.fragment,f),_(u),a=!0)},o(f){p(e.$$.fragment,f),p(t.$$.fragment,f),p(s.$$.fragment,f),p(u),a=!1},d(f){y(e,f),f&&$(n),y(t,f),f&&$(l),y(s,f),f&&$(o),u&&u.d(f),f&&$(i)}}}function lAe(r){let e,n=r[13]("primary_key_column")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","label")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s[0]&8192&&n!==(n=l[13]("primary_key_column")+"")&&z(t,n)},d(l){l&&$(e)}}}function sAe(r){let e,n,t;function l(o){r[28](o)}let s={$$slots:{label:[lAe],default:[rAe]},$$scope:{ctx:r}};return r[9]!==void 0&&(s.isOpen=r[9]),e=new RM({props:s}),we.push(()=>Me(e,"isOpen",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};i[0]&31216|i[1]&16&&(a.$$scope={dirty:i,ctx:o}),!n&&i[0]&512&&(n=!0,a.isOpen=o[9],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function oAe(r,e,n){let t,l,s,o,i,a,u,f,c,m,d,g,h=H,b=()=>(h(),h=le(i,qe=>n(6,g=qe)),i),w,S=H,T=()=>(S(),S=le(d,qe=>n(29,w=qe)),d),M,A=H,D=()=>(A(),A=le(c,qe=>n(12,M=qe)),c),O,F=H,P=()=>(F(),F=le(u,qe=>n(7,O=qe)),u),B,j=H,V=()=>(j(),j=le(a,qe=>n(8,B=qe)),a),q,G,Y=H,K=()=>(Y(),Y=le(m,qe=>n(14,G=qe)),m);ne(r,ce,qe=>n(13,q=qe)),r.$$.on_destroy.push(()=>h()),r.$$.on_destroy.push(()=>S()),r.$$.on_destroy.push(()=>A()),r.$$.on_destroy.push(()=>F()),r.$$.on_destroy.push(()=>j()),r.$$.on_destroy.push(()=>Y());const ee=["add","pick"],x=["integer","uuid"],X=vx("number");let{table:fe}=e,{columns:he}=e,{onUpdated:me}=e,ge=!1;async function pe(qe){await Ke.columns.add_primary_key_column({database_id:fe.schema.database.id,table_oid:fe.oid,pkey_type:pm(B,{integer:"IDENTITY",uuid:"UUIDv4"}),drop_existing_pkey_column:qe.dropExistingPkColumn}).run()}function Le(qe){return Ke.data_modeling.change_primary_key_column({database_id:fe.schema.database.id,table_oid:fe.oid,column_attnum:O.id,default:pm(M,{identity:"IDENTITY",uuid4:"UUIDv4",none:null}),drop_existing_pk_column:qe.dropExistingPkColumn}).run()}async function Qe(){w?g==="pick"?await Le({dropExistingPkColumn:!0}):g==="add"?await pe({dropExistingPkColumn:!1}):Rt(g):g==="add"?await pe({dropExistingPkColumn:!0}):g==="pick"?await Le({dropExistingPkColumn:!1}):Rt(g),n(9,ge=!1),await me()}function Ae(qe){g=qe,i.set(g)}function Je(qe){B=qe,a.set(B)}function ze(qe){O=qe,u.set(O)}function Ve(qe){M=qe,c.set(M)}function Be(qe){ge=qe,n(9,ge)}return r.$$set=qe=>{"table"in qe&&n(18,fe=qe.table),"columns"in qe&&n(19,he=qe.columns),"onUpdated"in qe&&n(20,me=qe.onUpdated)},r.$$.update=()=>{var qe;r.$$.dirty[0]&786432&&n(23,t=he.find(ft=>{var vt;return ft.id===((vt=fe.metadata)==null?void 0:vt.mathesar_added_pkey_attnum)})),r.$$.dirty[0]&8388608&&n(22,l=t?"add":"pick"),r.$$.dirty[0]&8912896&&n(5,s=he.filter(ft=>ft.id!==(t==null?void 0:t.id))),r.$$.dirty[0]&12582912&&n(21,o=(()=>{if(l==="pick")return"integer";if(t){if(t.type==="integer")return"integer";if(t.type==="uuid")return"uuid"}return"integer"})()),r.$$.dirty[0]&4194304&&b(n(0,i=gt(l))),r.$$.dirty[0]&2097152&&V(n(2,a=gt(o))),r.$$.dirty[0]&32&&P(n(1,u=gt((qe=s.find(ft=>ft.primary_key))!=null?qe:s[0]))),r.$$.dirty[0]&448&&n(4,f=(()=>g==="add"?B==="integer"?["identity"]:B==="uuid"?["uuid4"]:Rt(B):g==="pick"?X.has(O.type)?["identity","none"]:O.type==="uuid"?["uuid4","none"]:["none"]:Rt(g))()),r.$$.dirty[0]&16&&D(n(3,c=gt(f[0]))),r.$$.dirty[0]&79&&K(n(11,m=Wt({strategy:i,defaultValue:c,...pm(g,{add:{typeOfColumnToAdd:a},pick:{pickedColumn:u}})}))),r.$$.dirty[0]&1&&T(n(10,d=i.hasChanges))},[i,u,a,c,f,s,g,O,B,ge,d,m,M,q,G,ee,x,Qe,fe,he,me,o,l,t,Ae,Je,ze,Ve,Be]}class iAe extends Q{constructor(e){super(),Z(this,e,oAe,sAe,J,{table:18,columns:19,onUpdated:20},null,[-1,-1])}}function aAe(r){let e,n;return e=new YMe({props:{value:r[2].header,disabled:r[18]}}),e.$on("change",r[23]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&4&&(s.value=t[2].header),l[0]&262144&&(s.disabled=t[18]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function uAe(r){let e,n;return e=new kR({props:{value:r[3],disabled:r[18]}}),e.$on("change",r[24]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&8&&(s.value=t[3]),l[0]&262144&&(s.disabled=t[18]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function j8(r){let e,n;return e=new Ht({props:{$$slots:{default:[fAe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&18|l[1]&64&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function fAe(r){let e,n;return e=new iAe({props:{table:r[1],columns:r[4],onUpdated:r[26]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&2&&(s.table=t[1]),l[0]&16&&(s.columns=t[4]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function cAe(r){let e=r[9]("customize_names_types_preview")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l[0]&512&&e!==(e=t[9]("customize_names_types_preview")+"")&&z(n,e)},d(t){t&&$(n)}}}function mAe(r){let e,n;return e=new Co({props:{$$slots:{default:[cAe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&512|l[1]&64&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function dAe(r){let e,n,t,l,s,o,i,a,u;e=new It({props:{field:r[5],label:r[9]("table_name")}}),t=new Ht({props:{$$slots:{default:[aAe]},$$scope:{ctx:r}}}),s=new Ht({props:{$$slots:{default:[uAe]},$$scope:{ctx:r}}});let f=r[4].length&&j8(r);return a=new Ht({props:{$$slots:{default:[mAe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),C(s.$$.fragment),o=N(),f&&f.c(),i=N(),C(a.$$.fragment)},m(c,m){k(e,c,m),v(c,n,m),k(t,c,m),v(c,l,m),k(s,c,m),v(c,o,m),f&&f.m(c,m),v(c,i,m),k(a,c,m),u=!0},p(c,m){const d={};m[0]&32&&(d.field=c[5]),m[0]&512&&(d.label=c[9]("table_name")),e.$set(d);const g={};m[0]&262148|m[1]&64&&(g.$$scope={dirty:m,ctx:c}),t.$set(g);const h={};m[0]&262152|m[1]&64&&(h.$$scope={dirty:m,ctx:c}),s.$set(h),c[4].length?f?(f.p(c,m),m[0]&16&&_(f,1)):(f=j8(c),f.c(),_(f,1),f.m(i.parentNode,i)):f&&(U(),p(f,1,1,()=>{f=null}),W());const b={};m[0]&512|m[1]&64&&(b.$$scope={dirty:m,ctx:c}),a.$set(b)},i(c){u||(_(e.$$.fragment,c),_(t.$$.fragment,c),_(s.$$.fragment,c),_(f),_(a.$$.fragment,c),u=!0)},o(c){p(e.$$.fragment,c),p(t.$$.fragment,c),p(s.$$.fragment,c),p(f),p(a.$$.fragment,c),u=!1},d(c){y(e,c),c&&$(n),y(t,c),c&&$(l),y(s,c),c&&$(o),f&&f.d(c),c&&$(i),y(a,c)}}}function _Ae(r){var i,a;let e,n,t,l,s;n=new CDe({props:{columns:r[16],isLoading:r[6].isLoading,updateTypeRelatedOptions:r[25],columnPropertiesMap:r[10],records:r[19],addedPkAttnum:(a=(i=r[1].metadata)==null?void 0:i.mathesar_added_pkey_attnum)!=null?a:void 0,renamedIdColumn:r[0]}});let o=r[19].length===Kf&&Y8(r);return{c(){e=E("div"),C(n.$$.fragment),t=N(),o&&o.c(),l=ae(),I(e,"class","sheet-holder svelte-vzzia4")},m(u,f){v(u,e,f),k(n,e,null),v(u,t,f),o&&o.m(u,f),v(u,l,f),s=!0},p(u,f){var m,d;const c={};f[0]&65536&&(c.columns=u[16]),f[0]&64&&(c.isLoading=u[6].isLoading),f[0]&1024&&(c.columnPropertiesMap=u[10]),f[0]&524288&&(c.records=u[19]),f[0]&2&&(c.addedPkAttnum=(d=(m=u[1].metadata)==null?void 0:m.mathesar_added_pkey_attnum)!=null?d:void 0),f[0]&1&&(c.renamedIdColumn=u[0]),n.$set(c),u[19].length===Kf?o?o.p(u,f):(o=Y8(u),o.c(),o.m(l.parentNode,l)):o&&(o.d(1),o=null)},i(u){s||(_(n.$$.fragment,u),s=!0)},o(u){p(n.$$.fragment,u),s=!1},d(u){u&&$(e),y(n),u&&$(t),o&&o.d(u),u&&$(l)}}}function pAe(r){let e,n;return e=new o1({props:{error:r[6].error}}),e.$on("retry",r[22]),e.$on("delete",r[27]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&64&&(s.error=t[6].error),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function gAe(r){let e,n,t;return n=new Gt({}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","loading svelte-vzzia4")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p:H,i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function hAe(r){let e,n;return e=new o1({props:{error:r[7].error}}),e.$on("retry",r[22]),e.$on("delete",r[27]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&128&&(s.error=t[7].error),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function bAe(r){let e,n;return e=new o1({props:{error:r[8].error}}),e.$on("retry",r[22]),e.$on("delete",r[27]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&256&&(s.error=t[8].error),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Y8(r){let e,n,t=r[9]("preview_truncated_at_limit",{values:{limit:Kf}})+"",l,s;return{c(){e=E("div"),n=L("("),l=L(t),s=L(")"),I(e,"class","truncation-alert svelte-vzzia4")},m(o,i){v(o,e,i),R(e,n),R(e,l),R(e,s)},p(o,i){i[0]&512&&t!==(t=o[9]("preview_truncated_at_limit",{values:{limit:Kf}})+"")&&z(l,t)},d(o){o&&$(e)}}}function $Ae(r){let e,n=r[9]("table_preview")+"",t,l,s,o,i,a;const u=[bAe,hAe,gAe,pAe,_Ae],f=[];function c(m,d){return m[8].error?0:m[7].error?1:m[6].hasSettled?m[6].error?3:4:2}return o=c(r),i=f[o]=u[o](r),{c(){e=E("h3"),t=L(n),l=N(),s=E("div"),i.c(),I(e,"class","preview-header svelte-vzzia4"),I(s,"class","preview-content svelte-vzzia4")},m(m,d){v(m,e,d),R(e,t),v(m,l,d),v(m,s,d),f[o].m(s,null),a=!0},p(m,d){(!a||d[0]&512)&&n!==(n=m[9]("table_preview")+"")&&z(t,n);let g=o;o=c(m),o===g?f[o].p(m,d):(U(),p(f[g],1,1,()=>{f[g]=null}),W(),i=f[o],i?i.p(m,d):(i=f[o]=u[o](m),i.c()),_(i,1),i.m(s,null))},i(m){a||(_(i),a=!0)},o(m){p(i),a=!1},d(m){m&&$(e),m&&$(l),m&&$(s),f[o].d()}}}function vAe(r){let e,n;return e=new Ol({props:{onCancel:r[27],onProceed:r[28],cancelButton:{icon:Mt},proceedButton:{label:r[9]("confirm_and_create_table")},canProceed:r[17]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&512&&(s.proceedButton={label:t[9]("confirm_and_create_table")}),l[0]&131072&&(s.canProceed=t[17]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function wAe(r){let e=r[9]("cleaning_up")+"",n,t,l,s;return l=new Gt({}),{c(){n=L(e),t=L("... "),C(l.$$.fragment)},m(o,i){v(o,n,i),v(o,t,i),k(l,o,i),s=!0},p(o,i){(!s||i[0]&512)&&e!==(e=o[9]("cleaning_up")+"")&&z(n,e)},i(o){s||(_(l.$$.fragment,o),s=!0)},o(o){p(l.$$.fragment,o),s=!1},d(o){o&&$(n),o&&$(t),y(l,o)}}}function kAe(r){let e,n,t,l;const s=[wAe,vAe],o=[];function i(a,u){return a[21].isLoading?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function yAe(r){let e,n;return e=new a1({props:{$$slots:{footer:[kAe],preview:[$Ae],default:[dAe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&3082239|l[1]&64&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}const Kf=20;function CAe(r,e,n){let t,l,s,o,i,a,u,f,c,m,d,g,h,b=H,w=()=>(b(),b=le(l,Oe=>n(35,h=Oe)),l),S,T=H,M=()=>(T(),T=le(s,Oe=>n(32,S=Oe)),s),A,D=H,O=()=>(D(),D=le(u,Oe=>n(6,A=Oe)),u),F,P=H,B=()=>(P(),P=le(a,Oe=>n(33,F=Oe)),a),j,V=H,q=()=>(V(),V=le(o,Oe=>n(7,j=Oe)),o),G,Y=H,K=()=>(Y(),Y=le(f,Oe=>n(8,G=Oe)),f),ee,x,X,fe=H,he=()=>(fe(),fe=le(i,Oe=>n(21,X=Oe)),i);ne(r,ce,Oe=>n(9,ee=Oe)),ne(r,pp,Oe=>n(34,x=Oe)),r.$$.on_destroy.push(()=>b()),r.$$.on_destroy.push(()=>T()),r.$$.on_destroy.push(()=>D()),r.$$.on_destroy.push(()=>P()),r.$$.on_destroy.push(()=>V()),r.$$.on_destroy.push(()=>Y()),r.$$.on_destroy.push(()=>fe());let{schema:me}=e,{table:ge}=e,{dataFile:pe}=e,{useColumnTypeInference:Le=!1}=e,{renamedIdColumn:Qe}=e,{refreshTable:Ae}=e,Je=[],ze=C8([],{});async function Ve(){var mt;const Oe=await f.run({database_id:me.database.id,table_oid:ge.oid}),_t=Oe==null?void 0:Oe.resolvedValue;if(!_t)return;n(4,Je=_t);let Fe={};if(Le){const yt=await a.run();if(((mt=yt.settlement)==null?void 0:mt.state)==="resolved"){const ct=yt.settlement.value;n(4,Je=Je.map(lt=>{var rt,Xt;return{...lt,type:(Xt=(rt=ct[lt.id])==null?void 0:rt.type)!=null?Xt:lt.type}})),Fe=Je.reduce((lt,rt)=>{var Xt;return lt[rt.id]=(Xt=ct[rt.id])==null?void 0:Xt.details,lt},Fe)}}n(10,ze=C8(Je,Fe)),await u.run(S8(Je,ze))}function Be(Oe){Un.goto(Tc(me.database.id,me.oid,Oe.tableOid,{useColumnTypeInference:Oe.useColumnTypeInference,renamedIdColumn:Oe.renamedIdColumn}),!0)}async function qe(){u.reset();const Oe=await o.run({firstRowIsHeader:!pe.header,customizedTableName:h});Oe.resolvedValue&&Be({tableOid:Oe.resolvedValue.table.oid,useColumnTypeInference:Le,renamedIdColumn:Oe.resolvedValue.renamedColumns.id})}async function ft(){u.reset(),Be({tableOid:ge.oid,useColumnTypeInference:!Le,renamedIdColumn:Qe})}function vt(Oe){return n(4,Je=Je.map(_t=>_t.id===Oe.id?Oe:_t)),u.run(S8(Je,ze))}async function ut(){await Ae(),await Ve(),n(0,Qe=void 0)}async function Xe(){const Oe=await i.run();Oe.isOk?Un.goto(Jr(me.database.id,me.oid),!0):$t.fromError(Oe.error)}async function dt(){try{await vo({schema:me,table:{oid:ge.oid,name:h,metadata:{import_verified:!0}},columnPatchSpecs:RRe(Je,ze),columnsToDelete:Object.entries(ze).filter(([,{selected:Oe}])=>!Oe).map(([Oe])=>parseInt(Oe,10))}),Un.goto(_o(me.database.id,me.oid,ge.oid),!0)}catch(Oe){$t.fromError(Oe)}}return r.$$set=Oe=>{"schema"in Oe&&n(29,me=Oe.schema),"table"in Oe&&n(1,ge=Oe.table),"dataFile"in Oe&&n(2,pe=Oe.dataFile),"useColumnTypeInference"in Oe&&n(3,Le=Oe.useColumnTypeInference),"renamedIdColumn"in Oe&&n(0,Qe=Oe.renamedIdColumn),"refreshTable"in Oe&&n(30,Ae=Oe.refreshTable)},r.$$.update=()=>{var Oe;r.$$.dirty[0]&2|r.$$.dirty[1]&8&&n(31,t=x.filter(_t=>_t.oid!==ge.oid).map(_t=>_t.name)),r.$$.dirty[0]&514|r.$$.dirty[1]&1&&w(n(5,l=gt(ge.name,[Dc(t,ee("table_name_already_exists"))]))),r.$$.dirty[0]&32&&M(n(20,s=Wt({customizedTableName:l}))),r.$$.dirty[0]&536870918&&q(n(13,o=IRe({schema:me,table:ge,dataFile:pe}))),r.$$.dirty[0]&536870914&&he(n(11,i=new Tl(()=>Fc(me,ge.oid)))),r.$$.dirty[0]&536870914&&B(n(14,a=new Tl(()=>Ke.data_modeling.suggest_types({table_oid:ge.oid,database_id:me.database.id}).run()))),r.$$.dirty[0]&536870914&&O(n(12,u=new Tl(_t=>Ke.tables.get_import_preview({database_id:me.database.id,table_oid:ge.oid,columns:_t}).run()))),r.$$.dirty[0]&64&&n(19,c=(Oe=A.resolvedValue)!=null?Oe:CRe()),r.$$.dirty[0]&448|r.$$.dirty[1]&4&&n(18,m=G.isLoading||j.isLoading||F.isLoading||A.isLoading),r.$$.dirty[0]&64|r.$$.dirty[1]&2&&n(17,d=A.isOk&&S.canSubmit),r.$$.dirty[0]&16&&n(16,g=TRe(Je)),r.$$.dirty[0]&10&&Ve()},K(n(15,f=new Tl(HX(Ke.columns.list_with_metadata)))),[Qe,ge,pe,Le,Je,l,A,j,G,ee,ze,i,u,o,a,f,g,d,m,c,s,X,Ve,qe,ft,vt,ut,Xe,dt,me,Ae,t,S,F,x]}class SAe extends Q{constructor(e){super(),Z(this,e,CAe,yAe,J,{schema:29,table:1,dataFile:2,useColumnTypeInference:3,renamedIdColumn:0,refreshTable:30},null,[-1,-1])}}function TAe(r){let e,n;return e=new a1({props:{$$slots:{default:[RAe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8384&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function IAe(r){let e,n;return e=new a1({props:{$$slots:{default:[DAe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8192&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function EAe(r){let e,n;return e=new SAe({props:{schema:r[0],table:r[5].resolvedValue,dataFile:r[4].resolvedValue,useColumnTypeInference:r[2],renamedIdColumn:r[3],refreshTable:r[11]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.schema=t[0]),l&32&&(s.table=t[5].resolvedValue),l&16&&(s.dataFile=t[4].resolvedValue),l&4&&(s.useColumnTypeInference=t[2]),l&8&&(s.renamedIdColumn=t[3]),l&3&&(s.refreshTable=t[11]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function MAe(r){let e,n=r[7]("unable_to_load_preview")+"",t,l,s,o=Yt(r[6])+"",i;return{c(){e=E("p"),t=L(n),l=N(),s=E("p"),i=L(o)},m(a,u){v(a,e,u),R(e,t),v(a,l,u),v(a,s,u),R(s,i)},p(a,u){u&128&&n!==(n=a[7]("unable_to_load_preview")+"")&&z(t,n),u&64&&o!==(o=Yt(a[6])+"")&&z(i,o)},d(a){a&&$(e),a&&$(l),a&&$(s)}}}function RAe(r){let e,n;return e=new Vn({props:{$$slots:{default:[MAe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8384&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function DAe(r){let e,n;return e=new Gt({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function AAe(r){let e,n,t,l,s,o;document.title=e=Rn(r[7]("import"));const i=[EAe,IAe,TAe],a=[];function u(f,c){return f[5].resolvedValue&&f[4].resolvedValue?0:f[5].isLoading||f[4].isLoading?1:2}return t=u(r),l=a[t]=i[t](r),{c(){n=N(),l.c(),s=ae()},m(f,c){v(f,n,c),a[t].m(f,c),v(f,s,c),o=!0},p(f,[c]){(!o||c&128)&&e!==(e=Rn(f[7]("import")))&&(document.title=e);let m=t;t=u(f),t===m?a[t].p(f,c):(U(),p(a[m],1,1,()=>{a[m]=null}),W(),l=a[t],l?l.p(f,c):(l=a[t]=i[t](f),l.c()),_(l,1),l.m(s.parentNode,s))},i(f){o||(_(l),o=!0)},o(f){p(l),o=!1},d(f){f&&$(n),a[t].d(f),f&&$(s)}}}function OAe(r,e,n){let t,l,s,o;ne(r,ce,b=>n(7,o=b));const i=new Tl(gE);ne(r,i,b=>n(5,s=b));const a=new Tl(Ra.get);ne(r,a,b=>n(4,l=b));let{database:u}=e,{schema:f}=e,{tableId:c}=e,{useColumnTypeInference:m=!1}=e,{renamedIdColumn:d=void 0}=e;function g(){Un.goto(_o(u.id,f.oid,c))}const h=async()=>{await i.run({schema:f,tableOid:c,clearCache:!0})};return r.$$set=b=>{"database"in b&&n(10,u=b.database),"schema"in b&&n(0,f=b.schema),"tableId"in b&&n(1,c=b.tableId),"useColumnTypeInference"in b&&n(2,m=b.useColumnTypeInference),"renamedIdColumn"in b&&n(3,d=b.renamedIdColumn)},r.$$.update=()=>{var b;r.$$.dirty&3&&(async()=>{var T,M;const w=(await i.run({schema:f,tableOid:c})).resolvedValue;if(!w)return;if(!Ya(w)){g();return}const S=(M=(T=w.metadata)==null?void 0:T.data_file_id)!=null?M:void 0;if(S===void 0){g();return}await a.run(S)})(),r.$$.dirty&48&&n(6,t=(b=s.error)!=null?b:l.error)},[f,c,m,d,l,s,t,o,i,a,u,h]}class FAe extends Q{constructor(e){super(),Z(this,e,OAe,AAe,J,{database:10,schema:0,tableId:1,useColumnTypeInference:2,renamedIdColumn:3})}}function G8(r){let e,n,t;return n=new st({props:{$$slots:{default:[NAe]},$$scope:{ctx:r}}}),n.$on("click",r[5]),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","button svelte-j8a923")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&8200&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function NAe(r){let e=r[3]("cancel_upload")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&8&&e!==(e=t[3]("cancel_upload")+"")&&z(n,e)},d(t){t&&$(n)}}}function PAe(r){let e,n,t,l,s;function o(u){r[10](u)}let i={fileProgress:r[2]};r[0]!==void 0&&(i.fileUploads=r[0]),e=new H_({props:i}),we.push(()=>Me(e,"fileUploads",o)),e.$on("add",r[4]);let a=r[1]&&G8(r);return{c(){C(e.$$.fragment),t=N(),a&&a.c(),l=ae()},m(u,f){k(e,u,f),v(u,t,f),a&&a.m(u,f),v(u,l,f),s=!0},p(u,[f]){const c={};f&4&&(c.fileProgress=u[2]),!n&&f&1&&(n=!0,c.fileUploads=u[0],De(()=>n=!1)),e.$set(c),u[1]?a?(a.p(u,f),f&2&&_(a,1)):(a=G8(u),a.c(),_(a,1),a.m(l.parentNode,l)):a&&(U(),p(a,1,1,()=>{a=null}),W())},i(u){s||(_(e.$$.fragment,u),_(a),s=!0)},o(u){p(e.$$.fragment,u),p(a),s=!1},d(u){y(e,u),u&&$(t),a&&a.d(u),u&&$(l)}}}const LAe=98;function HAe(r,e,n){let t,l,s;ne(r,ce,b=>n(3,s=b));let{value:o=void 0}=e,{isUploading:i=!1}=e,a,u=0,f;function c(){n(6,o=void 0),n(7,i=!1),n(0,a=void 0),n(8,u=0),n(1,f=void 0)}function m(b){n(8,u=b.percentCompleted)}async function d(b){try{const w=new FormData;w.append("file",b.detail.added[0].file),n(7,i=!0),n(1,f=Ra.addViaUpload(w,m));const S=await f;n(6,o=S.id),n(7,i=!1),n(1,f=void 0)}catch(w){$t.fromError(w),c()}}function g(){f&&f.cancel(),c()}us(g);function h(b){a=b,n(0,a)}return r.$$set=b=>{"value"in b&&n(6,o=b.value),"isUploading"in b&&n(7,i=b.isUploading)},r.$$.update=()=>{r.$$.dirty&64&&o===void 0&&c(),r.$$.dirty&1&&n(9,t=a==null?void 0:a[0]),r.$$.dirty&896&&n(2,l=(()=>{if(!t)return{};const b=i?Math.min(u,LAe):100;return{[t.fileId]:b}})())},[a,f,l,s,d,g,o,i,u,t,h]}class VAe extends Q{constructor(e){super(),Z(this,e,HAe,PAe,J,{value:6,isUploading:7})}}function K8(r,e,n){const t=r.slice();return t[23]=e[n],t}function zAe(r){let e,n,t,l,s,o;return e=new Ht({props:{$$slots:{default:[JAe]},$$scope:{ctx:r}}}),t=new It({props:{field:r[11],input:{component:kR}}}),s=new Ht({props:{$$slots:{default:[ZAe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),C(s.$$.fragment)},m(i,a){k(e,i,a),v(i,n,a),k(t,i,a),v(i,l,a),k(s,i,a),o=!0},p(i,a){const u={};a&268435481&&(u.$$scope={dirty:a,ctx:i}),e.$set(u);const f={};a&268435508&&(f.$$scope={dirty:a,ctx:i}),s.$set(f)},i(i){o||(_(e.$$.fragment,i),_(t.$$.fragment,i),_(s.$$.fragment,i),o=!0)},o(i){p(e.$$.fragment,i),p(t.$$.fragment,i),p(s.$$.fragment,i),o=!1},d(i){y(e,i),i&&$(n),y(t,i),i&&$(l),y(s,i)}}}function BAe(r){let e,n;return e=new Vn({props:{$$slots:{default:[QAe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&268435458&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function qAe(r){let e,n=r[4]("processing_data")+"",t,l,s,o,i,a,u;return o=new Gt({}),a=new ur({props:{$$slots:{default:[xAe]},$$scope:{ctx:r}}}),{c(){e=E("h2"),t=L(n),l=N(),s=E("div"),C(o.$$.fragment),i=N(),C(a.$$.fragment),I(s,"class","processing-spinner svelte-82txre")},m(f,c){v(f,e,c),R(e,t),v(f,l,c),v(f,s,c),k(o,s,null),v(f,i,c),k(a,f,c),u=!0},p(f,c){(!u||c&16)&&n!==(n=f[4]("processing_data")+"")&&z(t,n);const m={};c&268435472&&(m.$$scope={dirty:c,ctx:f}),a.$set(m)},i(f){u||(_(o.$$.fragment,f),_(a.$$.fragment,f),u=!0)},o(f){p(o.$$.fragment,f),p(a.$$.fragment,f),u=!1},d(f){f&&$(e),f&&$(l),f&&$(s),y(o),f&&$(i),y(a,f)}}}function UAe(r){let e=Rt(r[0].key)+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1&&e!==(e=Rt(t[0].key)+"")&&z(n,e)},i:H,o:H,d(t){t&&$(n)}}}function WAe(r){let e,n;return e=new It({props:{field:r[9],label:r[4]("paste_data_import"),layout:"stacked",input:{component:Zl,props:{rows:10}}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.label=t[4]("paste_data_import")),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function jAe(r){let e,n;return e=new It({props:{field:r[8],layout:"stacked",label:r[4]("enter_url_import_file")}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.label=t[4]("enter_url_import_file")),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function YAe(r){let e,n,t;function l(o){r[16](o)}let s={};return r[3]!==void 0&&(s.value=r[3]),e=new VAe({props:s}),we.push(()=>Me(e,"value",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};!n&&i&8&&(n=!0,a.value=o[3],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function X8(r){let e,n;return e=new dl({props:{page:"import",$$slots:{default:[GAe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&402653184&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function GAe(r){let e=r[27]+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&134217728&&e!==(e=t[27]+"")&&z(n,e)},d(t){t&&$(n)}}}function KAe(r){let e,n,t=r[26]==="documentationLink"&&X8(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[26]==="documentationLink"?t?(t.p(l,s),s&67108864&&_(t,1)):(t=X8(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function XAe(r){let e,n,t,l,s,o,i,a;const u=[YAe,jAe,WAe,UAe],f=[];function c(m,d){return m[0].key==="file"?0:m[0].key==="url"?1:m[0].key==="clipboard"?2:3}return t=c(r),l=f[t]=u[t](r),i=new ot({props:{text:r[4]("data_tabular_format_help"),$$slots:{default:[KAe,({slotName:m,translatedArg:d})=>({26:m,27:d}),({slotName:m,translatedArg:d})=>(m?67108864:0)|(d?134217728:0)]},$$scope:{ctx:r}}}),{c(){e=E("div"),n=E("div"),l.c(),s=N(),o=E("div"),C(i.$$.fragment),I(n,"class","data-source-input svelte-82txre"),I(o,"class","upload-format-help svelte-82txre"),I(e,"class","data-source-detail"),I(e,"slot","extra")},m(m,d){v(m,e,d),R(e,n),f[t].m(n,null),R(e,s),R(e,o),k(i,o,null),a=!0},p(m,d){let g=t;t=c(m),t===g?f[t].p(m,d):(U(),p(f[g],1,1,()=>{f[g]=null}),W(),l=f[t],l?l.p(m,d):(l=f[t]=u[t](m),l.c()),_(l,1),l.m(n,null));const h={};d&16&&(h.text=m[4]("data_tabular_format_help")),d&469762048&&(h.$$scope={dirty:d,ctx:m}),i.$set(h)},i(m){a||(_(l),_(i.$$.fragment,m),a=!0)},o(m){p(l),p(i.$$.fragment,m),a=!1},d(m){m&&$(e),f[t].d(),y(i)}}}function JAe(r){let e,n,t;function l(o){r[18](o)}let s={boxed:!0,options:r[6],isInline:!0,label:r[4]("data_source"),getRadioLabel:r[17],$$slots:{extra:[XAe]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.value=r[0]),e=new Ns({props:s}),we.push(()=>Me(e,"value",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};i&16&&(a.label=o[4]("data_source")),i&268435481&&(a.$$scope={dirty:i,ctx:o}),!n&&i&1&&(n=!0,a.value=o[0],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function ZAe(r){let e,n;return e=new yn({props:{form:r[2],onProceed:r[13],onCancel:r[12],cancelButton:{label:r[4]("reset")},canCancel:r[5].hasChanges}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&4&&(s.form=t[2]),l&16&&(s.cancelButton={label:t[4]("reset")}),l&32&&(s.canCancel=t[5].hasChanges),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function J8(r){let e,n=r[23]+"",t;return{c(){e=E("li"),t=L(n)},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&2&&n!==(n=l[23]+"")&&z(t,n)},d(l){l&&$(e)}}}function QAe(r){let e,n=r[1].errors,t=[];for(let l=0;l<n.length;l+=1)t[l]=J8(K8(r,n,l));return{c(){e=E("ul");for(let l=0;l<t.length;l+=1)t[l].c()},m(l,s){v(l,e,s);for(let o=0;o<t.length;o+=1)t[o].m(e,null)},p(l,s){if(s&2){n=l[1].errors;let o;for(o=0;o<n.length;o+=1){const i=K8(l,n,o);t[o]?t[o].p(i,s):(t[o]=J8(i),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(l){l&&$(e),Hn(t,l)}}}function xAe(r){let e=r[4]("large_data_takes_time_warning")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&16&&e!==(e=t[4]("large_data_takes_time_warning")+"")&&z(n,e)},d(t){t&&$(n)}}}function eOe(r){let e,n=r[4]("create_a_table_by_importing")+"",t,l,s,o,i,a;const u=[qAe,BAe,zAe],f=[];function c(m,d){var g,h;return((g=m[1])==null?void 0:g.state)==="processing"?0:((h=m[1])==null?void 0:h.state)==="failure"?1:2}return o=c(r),i=f[o]=u[o](r),{c(){e=E("h1"),t=L(n),l=N(),s=E("div"),i.c(),I(s,"class","import-file-view svelte-82txre")},m(m,d){v(m,e,d),R(e,t),v(m,l,d),v(m,s,d),f[o].m(s,null),a=!0},p(m,d){(!a||d&16)&&n!==(n=m[4]("create_a_table_by_importing")+"")&&z(t,n);let g=o;o=c(m),o===g?f[o].p(m,d):(U(),p(f[g],1,1,()=>{f[g]=null}),W(),i=f[o],i?i.p(m,d):(i=f[o]=u[o](m),i.c()),_(i,1),i.m(s,null))},i(m){a||(_(i),a=!0)},o(m){p(i),a=!1},d(m){m&&$(e),m&&$(l),m&&$(s),f[o].d()}}}function tOe(r){let e,n,t,l;return document.title=e=Rn(r[4]("import")),t=new xr({props:{restrictWidth:!0,cssVariables:{"--page-padding":"var(--inset-page-padding)","--max-layout-width":"var(--max-layout-width-data-pages)"},$$slots:{default:[eOe]},$$scope:{ctx:r}}}),{c(){n=N(),C(t.$$.fragment)},m(s,o){v(s,n,o),k(t,s,o),l=!0},p(s,[o]){(!l||o&16)&&e!==(e=Rn(s[4]("import")))&&(document.title=e);const i={};o&268435519&&(i.$$scope={dirty:o,ctx:s}),t.$set(i)},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){s&&$(n),y(t,s)}}}function nOe(r,e,n){let t,l,s,o,i,a,u,f,c=H,m=()=>(c(),c=le(t,V=>n(5,f=V)),t);ne(r,ce,V=>n(4,u=V)),r.$$.on_destroy.push(()=>c());let{database:d}=e,{schema:g}=e;const h=[{key:"file",label:u("upload_a_file"),icon:xm},{key:"url",label:u("provide_url_to_file"),icon:FK},{key:"clipboard",label:u("copy_and_paste_text"),icon:VT}],b=gt(h[0]);ne(r,b,V=>n(0,s=V));const w=gt("");ne(r,w,V=>n(21,i=V));const S=gt("");ne(r,S,V=>n(20,o=V));const T=gt(void 0);ne(r,T,V=>n(3,a=V));const M=gt(!0);ne(r,M,V=>n(19,l=V));let A;function D(){t.reset(),n(1,A=void 0)}async function O(){if(s.key==="file"){if(a===void 0)throw new Error(u("no_file_uploaded"));return a}return s.key==="url"?(await Ra.addViaUrlToFile(i)).id:s.key==="clipboard"?(await Ra.addViaText(o)).id:Rt(s.key)}async function F(){try{n(1,A={state:"processing"});const V=await O();if(V===void 0)return;const q=await pE({schema:g,dataFile:{id:V}}),G=Tc(d.id,g.oid,q.table.oid,{useColumnTypeInference:l,renamedIdColumn:q.renamedColumns.id});Un.goto(G,!0),n(1,A=void 0)}catch(V){n(1,A={state:"failure",errors:[Yt(V)]})}}function P(V){a=V,T.set(a)}const B=V=>({component:Qn,props:{name:V.label,icon:V.icon}});function j(V){s=V,b.set(s)}return r.$$set=V=>{"database"in V&&n(14,d=V.database),"schema"in V&&n(15,g=V.schema)},r.$$.update=()=>{r.$$.dirty&1&&m(n(2,t=(()=>{const V={uploadMethod:b,useColumnTypeInference:M};return s.key==="file"?Wt({...V,fileUploadId:T}):s.key==="url"?Wt({...V,urlToFile:w}):s.key==="clipboard"?Wt({...V,clipboardContent:S}):Rt(s.key)})()))},[s,A,t,a,u,f,h,b,w,S,T,M,D,F,d,g,P,B,j]}class rOe extends Q{constructor(e){super(),Z(this,e,nOe,tOe,J,{database:14,schema:15})}}function Z8(r){const e=hJ(r[3].query);r[4]=e;const n=parseInt(r[3].params.tableIdString,10);r[5]=n}function lOe(r){let e,n;return e=new rOe({props:{database:r[0],schema:r[1]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.database=t[0]),l&2&&(s.schema=t[1]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function sOe(r){Z8(r);let e,n;const t=[{database:r[0]},{schema:r[1]},{tableId:r[5]},r[4]];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new FAe({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){Z8(s);const i=o&11?de(t,[o&1&&{database:s[0]},o&2&&{schema:s[1]},o&8&&{tableId:s[5]},o&8&&_e(s[4])]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function oOe(r){let e,n,t,l,s,o;return e=new pr({props:{item:{type:"simple",href:to(r[0].id,r[1].oid),label:r[2]("import"),icon:ff}}}),t=new en({props:{path:"/",$$slots:{default:[lOe]},$$scope:{ctx:r}}}),s=new en({props:{path:"/:tableIdString",$$slots:{default:[sOe,({meta:i})=>({3:i}),({meta:i})=>i?8:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),C(s.$$.fragment)},m(i,a){k(e,i,a),v(i,n,a),k(t,i,a),v(i,l,a),k(s,i,a),o=!0},p(i,[a]){const u={};a&7&&(u.item={type:"simple",href:to(i[0].id,i[1].oid),label:i[2]("import"),icon:ff}),e.$set(u);const f={};a&67&&(f.$$scope={dirty:a,ctx:i}),t.$set(f);const c={};a&75&&(c.$$scope={dirty:a,ctx:i}),s.$set(c)},i(i){o||(_(e.$$.fragment,i),_(t.$$.fragment,i),_(s.$$.fragment,i),o=!0)},o(i){p(e.$$.fragment,i),p(t.$$.fragment,i),p(s.$$.fragment,i),o=!1},d(i){y(e,i),i&&$(n),y(t,i),i&&$(l),y(s,i)}}}function iOe(r,e,n){let t;ne(r,ce,o=>n(2,t=o));let{database:l}=e,{schema:s}=e;return r.$$set=o=>{"database"in o&&n(0,l=o.database),"schema"in o&&n(1,s=o.schema)},[l,s,t]}class aOe extends Q{constructor(e){super(),Z(this,e,iOe,oOe,J,{database:0,schema:1})}}function uOe(r){let e,n,t;return n=new Gt({}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","record-page-loading-spinner svelte-dw88uy")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p:H,i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}class IR extends Q{constructor(e){super(),Z(this,e,null,uOe,J,{})}}function fOe(r){let e,n,t;return n=new ur({props:{fullWidth:!0,$$slots:{default:[dOe]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","no-access svelte-em1nh2")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&16416&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function cOe(r){let e;const n=r[13].default,t=ke(n,r,r[14],null);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&16384)&&Ce(t,n,l,l[14],e?ye(n,l[14],s,null):Se(l[14]),null)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function mOe(r){let e,n;return e=new IR({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function dOe(r){let e=r[5]("no_privileges_view_record")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&32&&e!==(e=t[5]("no_privileges_view_record")+"")&&z(n,e)},d(t){t&&$(n)}}}function _Oe(r){let e,n,t,l;const s=[mOe,cOe,fOe],o=[];function i(a,u){return a[0]?0:a[3]?1:2}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,[u]){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function pOe(r,e,n){let t,l,s,o,i,a,u,f,c,m=H,d=()=>(m(),m=le(i,F=>n(10,c=F)),i),g,h=H,b=()=>(h(),h=le(a,F=>n(11,g=F)),a),w,S=H,T=()=>(S(),S=le(s,F=>n(12,w=F)),s),M;ne(r,ce,F=>n(5,M=F)),r.$$.on_destroy.push(()=>m()),r.$$.on_destroy.push(()=>h()),r.$$.on_destroy.push(()=>S());let{$$slots:A={},$$scope:D}=e,{record:O}=e;return r.$$set=F=>{"record"in F&&n(6,O=F.record),"$$scope"in F&&n(14,D=F.$$scope)},r.$$.update=()=>{r.$$.dirty&64&&n(9,{table:t,tableStructure:l}=O,t,(n(8,l),n(6,O))),r.$$.dirty&512&&T(n(4,{currentRolePrivileges:s}=t.currentAccess,s)),r.$$.dirty&4096&&n(3,o=w.has("SELECT")),r.$$.dirty&256&&d(n(2,i=l.isLoading)),r.$$.dirty&64&&b(n(1,a=O.fetchRequest)),r.$$.dirty&2048&&n(7,u=(g==null?void 0:g.state)==="processing"),r.$$.dirty&1152&&n(0,f=c||u)},[f,a,i,o,s,M,O,u,l,t,c,g,w,A,D]}class ER extends Q{constructor(e){super(),Z(this,e,pOe,_Oe,J,{record:6})}}function Q8(r){return{columnErrors:r,recordErrors:[]}}function Ad(r){return{columnErrors:new Ct,recordErrors:r}}function gOe(){return Ad([])}function hOe(r,e){return r.withEntries(e,(n,t)=>[...n,...t])}function bOe(r,e){return{columnErrors:hOe(r.columnErrors,e.columnErrors),recordErrors:[...r.recordErrors,...e.recordErrors]}}const $Oe=[r=>{if(!!Jn(r,"constraint_columns")&&!!Array.isArray(r.constraint_columns)&&!!Ss(r,"original_details"))return new Ct(r.constraint_columns.filter(kO).map(e=>[e,[r.original_details]]))}];function x8(r){for(const e of $Oe){const n=e(r);if(n)return n}}function u1(r){{const e=x8(r);if(e)return Q8(e)}if(r instanceof j_){const e=x8(r.detail);return e?Q8(e):Ad([r.message])}return r instanceof Wa?r.errors.map(u1).reduce(bOe,gOe()):Ad([Yt(r)])}function vOe(r){let e,n;const t=[ti];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[_e(ti)]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function wOe(r){let e,n;const t=[il];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[_e(il)]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function kOe(r){let e,n;const t=[da];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[_e(da)]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function yOe(r){let e,n;return e=new Gt({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function COe(r){var g;let e,n,t,l,s,o,i=((g=r[1][r[0]])!=null?g:"")+"",a,u,f;const c=[yOe,kOe,wOe,vOe],m=[];function d(h,b){return h[0]==="processing"?0:h[0]==="success"?1:h[0]==="failure"?2:3}return t=d(r),l=m[t]=c[t](r),{c(){e=E("span"),n=E("span"),l.c(),s=N(),o=E("span"),a=L(i),I(n,"class","icon svelte-1dsqcdc"),I(e,"class",u="status-indicator "+r[0]+" "+r[2]+" svelte-1dsqcdc")},m(h,b){v(h,e,b),R(e,n),m[t].m(n,null),R(e,s),R(e,o),R(o,a),f=!0},p(h,[b]){var S;let w=t;t=d(h),t===w?m[t].p(h,b):(U(),p(m[w],1,1,()=>{m[w]=null}),W(),l=m[t],l?l.p(h,b):(l=m[t]=c[t](h),l.c()),_(l,1),l.m(n,null)),(!f||b&3)&&i!==(i=((S=h[1][h[0]])!=null?S:"")+"")&&z(a,i),(!f||b&5&&u!==(u="status-indicator "+h[0]+" "+h[2]+" svelte-1dsqcdc"))&&I(e,"class",u)},i(h){f||(_(l),f=!0)},o(h){p(l),f=!1},d(h){h&&$(e),m[t].d()}}}function SOe(r,e,n){let{state:t}=e,{messages:l}=e,{class:s=""}=e;return r.$$set=o=>{"state"in o&&n(0,t=o.state),"messages"in o&&n(1,l=o.messages),"class"in o&&n(2,s=o.class)},[t,l,s]}class TOe extends Q{constructor(e){super(),Z(this,e,SOe,COe,J,{state:0,messages:1,class:2})}}function ey(r){let e,n,t,l;return n=new TOe({props:{state:r[1],messages:{processing:r[2]("saving_changes"),failure:r[2]("unable_to_save_changes"),warning:r[2]("unsaved_changes"),success:r[2]("all_changes_saved")}}}),{c(){e=E("span"),C(n.$$.fragment),I(e,"class","modification-status-indicator svelte-jrwjrw")},m(s,o){v(s,e,o),k(n,e,null),l=!0},p(s,o){r=s;const i={};o&2&&(i.state=r[1]),o&4&&(i.messages={processing:r[2]("saving_changes"),failure:r[2]("unable_to_save_changes"),warning:r[2]("unsaved_changes"),success:r[2]("all_changes_saved")}),n.$set(i)},i(s){l||(_(n.$$.fragment,s),t&&t.end(1),l=!0)},o(s){p(n.$$.fragment,s),s&&(t=Oa(e,jl,{duration:r[0]})),l=!1},d(s){s&&$(e),y(n),s&&t&&t.end()}}}function IOe(r){let e,n,t=r[1]&&ey(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,[s]){l[1]?t?(t.p(l,s),s&2&&_(t,1)):(t=ey(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function EOe(r,e,n){let t,l;ne(r,ce,d=>n(2,l=d));let{requestState:s}=e,{hasChanges:o=!1}=e,i,a,u=0;function f(){n(0,u=1e3),n(5,i=void 0)}function c(d){window.clearTimeout(a),a=void 0,n(0,u=0),n(5,i=d),i==="success"&&(a=window.setTimeout(f,5e3))}function m(d){!d&&i==="failure"&&n(5,i=void 0)}return us(()=>{window.clearTimeout(a)}),r.$$set=d=>{"requestState"in d&&n(3,s=d.requestState),"hasChanges"in d&&n(4,o=d.hasChanges)},r.$$.update=()=>{r.$$.dirty&8&&c(s),r.$$.dirty&16&&m(o),r.$$.dirty&48&&n(1,t=(()=>{if(i==="processing")return"processing";if(o&&i==="failure")return"failure";if(o)return"warning";if(i==="success")return"success"})())},[u,t,l,s,o,i]}class MR extends Q{constructor(e){super(),Z(this,e,EOe,IOe,J,{requestState:3,hasChanges:4})}}function MOe(r){var t;let e,n;return e=new MR({props:{hasChanges:r[1],requestState:(t=r[3])==null?void 0:t.state}}),{c(){C(e.$$.fragment)},m(l,s){k(e,l,s),n=!0},p(l,[s]){var i;const o={};s&2&&(o.hasChanges=l[1]),s&8&&(o.requestState=(i=l[3])==null?void 0:i.state),e.$set(o)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){p(e.$$.fragment,l),n=!1},d(l){y(e,l)}}}function ROe(r,e,n){let t,l,s,o=H,i=()=>(o(),o=le(c,m=>n(4,s=m)),c),a,u=H,f=()=>(u(),u=le(t,m=>n(3,a=m)),t);r.$$.on_destroy.push(()=>o()),r.$$.on_destroy.push(()=>u());let{form:c}=e;return i(),r.$$set=m=>{"form"in m&&i(n(0,c=m.form))},r.$$.update=()=>{r.$$.dirty&1&&f(n(2,{requestStatus:t}=c,t)),r.$$.dirty&16&&n(1,{hasChanges:l}=s,l)},[c,l,t,a,s]}class RR extends Q{constructor(e){super(),Z(this,e,ROe,MOe,J,{form:0})}}function Nm(r){const e=r.slice(),n=e[7]({tableId:e[5].referent_table_oid,recordId:e[2]});return e[34]=n,e}function DOe(r){let e,n;return e=new cs({props:{processedColumn:r[0]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&1&&(s.processedColumn=t[0]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function ty(r){let e,n,t,l;e=new wn({props:{icon:xs,$$slots:{default:[AOe]},$$scope:{ctx:r}}}),e.$on("click",r[18]);let s=r[34]&&ny(r);return{c(){C(e.$$.fragment),n=N(),s&&s.c(),t=ae()},m(o,i){k(e,o,i),v(o,n,i),s&&s.m(o,i),v(o,t,i),l=!0},p(o,i){const a={};i[0]&16384|i[1]&16&&(a.$$scope={dirty:i,ctx:o}),e.$set(a),o[34]?s?(s.p(o,i),i[0]&164&&_(s,1)):(s=ny(o),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(U(),p(s,1,1,()=>{s=null}),W())},i(o){l||(_(e.$$.fragment,o),_(s),l=!0)},o(o){p(e.$$.fragment,o),p(s),l=!1},d(o){y(e,o),o&&$(n),s&&s.d(o),o&&$(t)}}}function AOe(r){let e=r[14]("quick_view_linked_record")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l[0]&16384&&e!==(e=t[14]("quick_view_linked_record")+"")&&z(n,e)},d(t){t&&$(n)}}}function ny(r){let e,n;return e=new Er({props:{href:r[34],icon:Es,$$slots:{default:[OOe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&164&&(s.href=t[34]),l[0]&16384|l[1]&16&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function OOe(r){let e=r[14]("open_linked_record")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l[0]&16384&&e!==(e=t[14]("open_linked_record")+"")&&z(n,e)},d(t){t&&$(n)}}}function ry(r){let e,n;return e=new yi({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function FOe(r){let e,n,t=r[33]==="value"&&ry();return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[33]==="value"?t?s[1]&4&&_(t,1):(t=ry(),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function NOe(r){let e,n;return e=new ot({props:{text:r[14]("set_to_value"),$$slots:{default:[FOe,({slotName:t})=>({33:t}),({slotName:t})=>[0,t?4:0]]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&16384&&(s.text=t[14]("set_to_value")),l[1]&20&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function POe(r){let e,n,t,l=r[5]&&ty(Nm(r));return n=new wn({props:{icon:ld,disabled:r[9],$$slots:{default:[NOe]},$$scope:{ctx:r}}}),n.$on("click",r[26]),{c(){l&&l.c(),e=N(),C(n.$$.fragment)},m(s,o){l&&l.m(s,o),v(s,e,o),k(n,s,o),t=!0},p(s,o){s[5]?l?(l.p(Nm(s),o),o[0]&32&&_(l,1)):(l=ty(Nm(s)),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(U(),p(l,1,1,()=>{l=null}),W());const i={};o[0]&512&&(i.disabled=s[9]),o[0]&16384|o[1]&16&&(i.$$scope={dirty:o,ctx:s}),n.$set(i)},i(s){t||(_(l),_(n.$$.fragment,s),t=!0)},o(s){p(l),p(n.$$.fragment,s),t=!1},d(s){l&&l.d(s),s&&$(e),y(n,s)}}}function ly(r){let e,n,t;return n=new yi({}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","null svelte-11boty5")},m(l,s){v(l,e,s),k(n,e,null),t=!0},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function LOe(r){var M;let e,n,t,l,s,o,i,a,u,f,c,m,d,g,h,b;s=new Fs({props:{controller:r[17],$$slots:{default:[DOe]},$$scope:{ctx:r}}}),a=new Pr({props:{showArrow:!1,triggerAppearance:"plain",closeOnInnerClick:!0,ariaLabel:r[14]("column_field_options",{values:{columnName:r[3].name}}),icon:Gr,$$slots:{default:[POe]},$$scope:{ctx:r}}});let w=r[4]===null&&r[8]&&ly();function S(A){r[29](A)}let T={disabled:r[9],componentAndProps:r[0].inputComponentAndProps,labelController:r[17],recordSummary:(M=r[15].get(String(r[3].id)))==null?void 0:M.get(String(r[2])),setRecordSummary:r[27],fileManifest:r[6],setFileManifest:r[28],hasError:r[16],allowsHyperlinks:!0};return r[4]!==void 0&&(T.value=r[4]),m=new lu({props:T}),we.push(()=>Me(m,"value",S)),h=new Oc({props:{field:r[1]}}),{c(){e=E("div"),n=E("div"),t=E("div"),l=E("div"),C(s.$$.fragment),o=N(),i=E("div"),C(a.$$.fragment),u=N(),f=E("div"),w&&w.c(),c=N(),C(m.$$.fragment),g=N(),C(h.$$.fragment),I(l,"class","label svelte-11boty5"),I(i,"class","options svelte-11boty5"),I(t,"class","complex-label svelte-11boty5"),I(n,"class","left cell svelte-11boty5"),I(f,"class","input cell svelte-11boty5"),I(e,"class","direct-field svelte-11boty5")},m(A,D){v(A,e,D),R(e,n),R(n,t),R(t,l),k(s,l,null),R(t,o),R(t,i),k(a,i,null),R(e,u),R(e,f),w&&w.m(f,null),R(f,c),k(m,f,null),R(f,g),k(h,f,null),b=!0},p(A,D){var j;const O={};D[0]&1|D[1]&16&&(O.$$scope={dirty:D,ctx:A}),s.$set(O);const F={};D[0]&16392&&(F.ariaLabel=A[14]("column_field_options",{values:{columnName:A[3].name}})),D[0]&17062|D[1]&16&&(F.$$scope={dirty:D,ctx:A}),a.$set(F),A[4]===null&&A[8]?w?D[0]&272&&_(w,1):(w=ly(),w.c(),_(w,1),w.m(f,c)):w&&(U(),p(w,1,1,()=>{w=null}),W());const P={};D[0]&512&&(P.disabled=A[9]),D[0]&1&&(P.componentAndProps=A[0].inputComponentAndProps),D[0]&32780&&(P.recordSummary=(j=A[15].get(String(A[3].id)))==null?void 0:j.get(String(A[2]))),D[0]&8200&&(P.setRecordSummary=A[27]),D[0]&64&&(P.fileManifest=A[6]),D[0]&4104&&(P.setFileManifest=A[28]),D[0]&65536&&(P.hasError=A[16]),!d&&D[0]&16&&(d=!0,P.value=A[4],De(()=>d=!1)),m.$set(P);const B={};D[0]&2&&(B.field=A[1]),h.$set(B)},i(A){b||(_(s.$$.fragment,A),_(a.$$.fragment,A),_(w),_(m.$$.fragment,A),_(h.$$.fragment,A),b=!0)},o(A){p(s.$$.fragment,A),p(a.$$.fragment,A),p(w),p(m.$$.fragment,A),p(h.$$.fragment,A),b=!1},d(A){A&&$(e),y(s),y(a),w&&w.d(),y(m),y(h)}}}function HOe(r,e,n){let t,l,s,o,i,a,u,f,c,m,d,g,h,b,w,S=H,T=()=>(S(),S=le(l,Ve=>n(23,w=Ve)),l),M,A,D=H,O=()=>(D(),D=le(f,Ve=>n(25,A=Ve)),f),F,P=H,B=()=>(P(),P=le(ge,Ve=>n(4,F=Ve)),ge),j,V,q=H,G=()=>(q(),q=le(t,Ve=>n(15,V=Ve)),t),Y,K=H,ee=()=>(K(),K=le(c,Ve=>n(16,Y=Ve)),c);ne(r,Ci,Ve=>n(30,b=Ve)),ne(r,wo,Ve=>n(24,M=Ve)),ne(r,ce,Ve=>n(14,j=Ve)),r.$$.on_destroy.push(()=>S()),r.$$.on_destroy.push(()=>D()),r.$$.on_destroy.push(()=>P()),r.$$.on_destroy.push(()=>q()),r.$$.on_destroy.push(()=>K());const x=new Set(["date","datetime","duration","time"]),X=new Os,fe=nu.get();let{record:he}=e,{processedColumn:me}=e,{field:ge}=e;B();let{canUpdateTableRecords:pe=!0}=e;function Le(){if(!fe||u===void 0)return;const Ve=i==null?void 0:i.referent_table_oid;if(!Ve)return;const Be=b.get(Ve);if(!Be)return;const qe=new Si({table:Be,recordPk:String(u)});fe.open(qe)}const Qe=()=>ge.set(null),Ae=(Ve,Be)=>t.addBespokeValue({columnId:String(s.id),key:Ve,value:Be}),Je=(Ve,Be)=>{l.addBespokeValue({columnId:String(s.id),key:Ve,value:Be})};function ze(Ve){F=Ve,ge.set(F)}return r.$$set=Ve=>{"record"in Ve&&n(19,he=Ve.record),"processedColumn"in Ve&&n(0,me=Ve.processedColumn),"field"in Ve&&B(n(1,ge=Ve.field)),"canUpdateTableRecords"in Ve&&n(20,pe=Ve.canUpdateTableRecords)},r.$$.update=()=>{r.$$.dirty[0]&524288&&G(n(13,{recordSummaries:t,fileManifests:l}=he,t,T(n(12,l)))),r.$$.dirty[0]&1&&n(3,{column:s,abstractType:o,linkFk:i}=me,s,(n(21,o),n(0,me)),(n(5,i),n(0,me))),r.$$.dirty[0]&1&&n(22,a=me.currentRolePrivileges.has("UPDATE")),r.$$.dirty[0]&16&&n(2,u=F),r.$$.dirty[0]&2&&O(n(11,f=ge.disabled)),r.$$.dirty[0]&2&&ee(n(10,{showsError:c}=ge,c)),r.$$.dirty[0]&38797320&&n(9,m=s.primary_key||A||!pe||!a),r.$$.dirty[0]&2097152&&n(8,d=!x.has(o.cellInfo.type)),r.$$.dirty[0]&16777216&&n(7,g=M),r.$$.dirty[0]&8388620&&n(6,h=(()=>{var Be,qe;if(!((Be=s.metadata)!=null&&Be.file_backend))return;const Ve=po(u);if(!!Ve)return(qe=w.get(String(s.id)))==null?void 0:qe.get(Ve.mash)})())},[me,ge,u,s,F,i,h,g,d,m,c,f,l,t,j,V,Y,X,Le,he,pe,o,a,w,M,A,Qe,Ae,Je,ze]}class DR extends Q{constructor(e){super(),Z(this,e,HOe,LOe,J,{record:19,processedColumn:0,field:1,canUpdateTableRecords:20},null,[-1,-1])}}function VOe(r){let e;return{c(){e=L(r[3])},m(n,t){v(n,e,t)},p(n,t){t&8&&z(e,n[3])},d(n){n&&$(e)}}}function zOe(r){let e,n,t;const l=[Es];let s={};for(let o=0;o<l.length;o+=1)s=se(s,l[o]);return n=new Ne({props:s}),{c(){e=E("a"),C(n.$$.fragment),I(e,"href",r[0]),I(e,"slot","trigger"),I(e,"class","btn btn-ghost")},m(o,i){v(o,e,i),k(n,e,null),t=!0},p(o,i){const a=i&0?de(l,[_e(Es)]):{};n.$set(a),(!t||i&1)&&I(e,"href",o[0])},i(o){t||(_(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&$(e),y(n)}}}function BOe(r){let e,n=r[4]("open_in_full_page")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","content")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&16&&n!==(n=l[4]("open_in_full_page")+"")&&z(t,n)},d(l){l&&$(e)}}}function sy(r){let e,n;return e=new rn({props:{table:r[2],truncate:!1}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&4&&(s.table=t[2]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function qOe(r){let e,n,t=r[6]==="tableName"&&sy(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[6]==="tableName"?t?(t.p(l,s),s&64&&_(t,1)):(t=sy(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function UOe(r){let e,n,t,l,s,o,i,a,u,f;return t=new Qn({props:{icon:vc,cssVariables:{"--icon-color":"var(--color-record)"},$$slots:{default:[VOe]},$$scope:{ctx:r}}}),o=new On({props:{$$slots:{content:[BOe],trigger:[zOe]},$$scope:{ctx:r}}}),u=new ot({props:{text:r[4]("record_in_table"),$$slots:{default:[qOe,({slotName:c})=>({6:c}),({slotName:c})=>c?64:0]},$$scope:{ctx:r}}}),{c(){e=E("div"),n=E("div"),C(t.$$.fragment),l=N(),s=E("div"),C(o.$$.fragment),i=N(),a=E("div"),C(u.$$.fragment),I(s,"class","link svelte-jwbf0l"),I(n,"class","title svelte-jwbf0l"),I(a,"class","table-name svelte-jwbf0l"),I(e,"class","record-title")},m(c,m){v(c,e,m),R(e,n),k(t,n,null),R(n,l),R(n,s),k(o,s,null),R(e,i),R(e,a),k(u,a,null),f=!0},p(c,[m]){const d={};m&136&&(d.$$scope={dirty:m,ctx:c}),t.$set(d);const g={};m&145&&(g.$$scope={dirty:m,ctx:c}),o.$set(g);const h={};m&16&&(h.text=c[4]("record_in_table")),m&196&&(h.$$scope={dirty:m,ctx:c}),u.$set(h)},i(c){f||(_(t.$$.fragment,c),_(o.$$.fragment,c),_(u.$$.fragment,c),f=!0)},o(c){p(t.$$.fragment,c),p(o.$$.fragment,c),p(u.$$.fragment,c),f=!1},d(c){c&&$(e),y(t),y(o),y(u)}}}function WOe(r,e,n){let t,l,s,o,i=H,a=()=>(i(),i=le(l,c=>n(3,o=c)),l),u;ne(r,ce,c=>n(4,u=c)),r.$$.on_destroy.push(()=>i());let{record:f}=e;return r.$$set=c=>{"record"in c&&n(5,f=c.record)},r.$$.update=()=>{r.$$.dirty&32&&n(2,{table:t,summary:l,recordPageUrl:s}=f,t,a(n(1,l)),(n(0,s),n(5,f)))},[s,l,t,o,u,f]}class jOe extends Q{constructor(e){super(),Z(this,e,WOe,UOe,J,{record:5})}}class AR extends lc{async beginAddingNewFilteringEntry(e){await this.dispatch("openDropdown"),await sn(),await this.dispatch("addFilter",e),await sn(),await this.dispatch("activateLastFilterInput")}onOpenDropdown(e){return this.on("openDropdown",e)}onAddFilter(e){return this.on("addFilter",e)}onActivateLastFilterInput(e){return this.on("activateLastFilterInput",e)}}const gu=Gl();function oy(r){return new es({combination:r.combination,entries:JSON.parse(JSON.stringify(r.entries))})}function iy(r,e,n){const t=r.slice();return t[15]=e[n],t[16]=e,t[17]=n,t}function YOe(r){let e,n;return e=new nT({props:{$$slots:{default:[XOe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&262146&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function GOe(r){let e,n,t;function l(o){r[6](o)}let s={options:x_};return r[1]!==void 0&&(s.value=r[1]),e=new fn({props:s}),we.push(()=>Me(e,"value",l)),e.$on("change",r[7]),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};!n&&i&2&&(n=!0,a.value=o[1],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function KOe(r){let e,n;return e=new nT({props:{$$slots:{default:[JOe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&262160&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function XOe(r){let e;return{c(){e=L(r[1])},m(n,t){v(n,e,t)},p(n,t){t&2&&z(e,n[1])},d(n){n&&$(e)}}}function JOe(r){let e=r[4]("where")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&16&&e!==(e=t[4]("where")+"")&&z(n,e)},d(t){t&&$(n)}}}function ZOe(r){let e,n,t,l;const s=[KOe,GOe,YOe],o=[];function i(a,u){return a[17]===0?0:a[17]===1?1:2}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=N()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function ay(r,e){let n,t,l,s,o,i;function a(d){e[10](d,e[15])}function u(d){e[11](d,e[15])}function f(d){e[12](d,e[15])}function c(){return e[13](e[17])}let m={columns:e[2],getColumnLabel:e[8],getColumnConstraintType:e[9],numberOfFilters:e[0].length,recordSummaryStore:e[3],$$slots:{default:[ZOe]},$$scope:{ctx:e}};return e[15].columnId!==void 0&&(m.columnIdentifier=e[15].columnId),e[15].conditionId!==void 0&&(m.conditionIdentifier=e[15].conditionId),e[15].value!==void 0&&(m.value=e[15].value),t=new BM({props:m}),we.push(()=>Me(t,"columnIdentifier",a)),we.push(()=>Me(t,"conditionIdentifier",u)),we.push(()=>Me(t,"value",f)),t.$on("removeFilter",c),t.$on("update",e[14]),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(d,g){v(d,n,g),k(t,d,g),i=!0},p(d,g){e=d;const h={};g&4&&(h.columns=e[2]),g&4&&(h.getColumnLabel=e[8]),g&4&&(h.getColumnConstraintType=e[9]),g&1&&(h.numberOfFilters=e[0].length),g&8&&(h.recordSummaryStore=e[3]),g&262163&&(h.$$scope={dirty:g,ctx:e}),!l&&g&1&&(l=!0,h.columnIdentifier=e[15].columnId,De(()=>l=!1)),!s&&g&1&&(s=!0,h.conditionIdentifier=e[15].conditionId,De(()=>s=!1)),!o&&g&1&&(o=!0,h.value=e[15].value,De(()=>o=!1)),t.$set(h)},i(d){i||(_(t.$$.fragment,d),i=!0)},o(d){p(t.$$.fragment,d),i=!1},d(d){d&&$(n),y(t,d)}}}function QOe(r){let e=[],n=new Map,t,l,s=r[0];const o=i=>i[15];for(let i=0;i<s.length;i+=1){let a=iy(r,s,i),u=o(a);n.set(u,e[i]=ay(u,a))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=ae()},m(i,a){for(let u=0;u<e.length;u+=1)e[u].m(i,a);v(i,t,a),l=!0},p(i,[a]){a&63&&(s=i[0],U(),e=ht(e,a,o,1,i,s,n,t.parentNode,kt,ay,t,iy),W())},i(i){if(!l){for(let a=0;a<s.length;a+=1)_(e[a]);l=!0}},o(i){for(let a=0;a<e.length;a+=1)p(e[a]);l=!1},d(i){for(let a=0;a<e.length;a+=1)e[a].d(i);i&&$(t)}}}function xOe(r,e,n){let t;ne(r,ce,S=>n(4,t=S));const l=Et();let{processedColumns:s}=e,{recordSummaries:o}=e,{entries:i}=e,{filterCombination:a=yd}=e;function u(S){a=S,n(1,a)}const f=()=>l("updateCombination",a),c=S=>{var T,M;return(M=(T=s.get(S.id))==null?void 0:T.column.name)!=null?M:""},m=S=>Sa(S.id,s);function d(S,T){r.$$.not_equal(T.columnId,S)&&(T.columnId=S,n(0,i))}function g(S,T){r.$$.not_equal(T.conditionId,S)&&(T.conditionId=S,n(0,i))}function h(S,T){r.$$.not_equal(T.value,S)&&(T.value=S,n(0,i))}const b=S=>l("remove",S);function w(S){Re.call(this,r,S)}return r.$$set=S=>{"processedColumns"in S&&n(2,s=S.processedColumns),"recordSummaries"in S&&n(3,o=S.recordSummaries),"entries"in S&&n(0,i=S.entries),"filterCombination"in S&&n(1,a=S.filterCombination)},[i,a,s,o,t,l,u,f,c,m,d,g,h,b,w]}class eFe extends Q{constructor(e){super(),Z(this,e,xOe,QOe,J,{processedColumns:2,recordSummaries:3,entries:0,filterCombination:1})}}function uy(r,e,n){const t=r.slice();return t[22]=e[n],t}function tFe(r){let e,n=r[6]("no_filters_added")+"",t;return{c(){e=E("span"),t=L(n),I(e,"class","muted svelte-1uej520")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&64&&n!==(n=l[6]("no_filters_added")+"")&&z(t,n)},i:H,o:H,d(l){l&&$(e)}}}function nFe(r){let e,n,t,l;function s(a){r[13](a)}function o(a){r[14](a)}let i={processedColumns:r[1],recordSummaries:r[2]};return r[3].entries!==void 0&&(i.entries=r[3].entries),r[3].combination!==void 0&&(i.filterCombination=r[3].combination),e=new eFe({props:i}),we.push(()=>Me(e,"entries",s)),we.push(()=>Me(e,"filterCombination",o)),e.$on("remove",r[15]),e.$on("update",r[11]),e.$on("updateCombination",r[16]),{c(){C(e.$$.fragment)},m(a,u){k(e,a,u),l=!0},p(a,u){const f={};u&2&&(f.processedColumns=a[1]),u&4&&(f.recordSummaries=a[2]),!n&&u&8&&(n=!0,f.entries=a[3].entries,De(()=>n=!1)),!t&&u&8&&(t=!0,f.filterCombination=a[3].combination,De(()=>t=!1)),e.$set(f)},i(a){l||(_(e.$$.fragment,a),l=!0)},o(a){p(e.$$.fragment,a),l=!1},d(a){y(e,a)}}}function fy(r){let e,n,t;return n=new Pr({props:{icon:jt,label:r[6]("add_new_filter"),disabled:r[1].size===0,triggerAppearance:"secondary",$$slots:{default:[lFe]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","footer")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&64&&(o.label=l[6]("add_new_filter")),s&2&&(o.disabled=l[1].size===0),s&33554434&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function rFe(r){let e,n,t;return e=new cs({props:{processedColumn:r[22]}}),{c(){C(e.$$.fragment),n=N()},m(l,s){k(e,l,s),v(l,n,s),t=!0},p(l,s){const o={};s&2&&(o.processedColumn=l[22]),e.$set(o)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){y(e,l),l&&$(n)}}}function cy(r,e){let n,t,l;function s(){return e[17](e[22])}return t=new wn({props:{$$slots:{default:[rFe]},$$scope:{ctx:e}}}),t.$on("click",s),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(o,i){v(o,n,i),k(t,o,i),l=!0},p(o,i){e=o;const a={};i&33554434&&(a.$$scope={dirty:i,ctx:e}),t.$set(a)},i(o){l||(_(t.$$.fragment,o),l=!0)},o(o){p(t.$$.fragment,o),l=!1},d(o){o&&$(n),y(t,o)}}}function lFe(r){let e=[],n=new Map,t,l,s=[...r[1].values()];const o=i=>i[22].id;for(let i=0;i<s.length;i+=1){let a=uy(r,s,i),u=o(a);n.set(u,e[i]=cy(u,a))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=ae()},m(i,a){for(let u=0;u<e.length;u+=1)e[u].m(i,a);v(i,t,a),l=!0},p(i,a){a&4354&&(s=[...i[1].values()],U(),e=ht(e,a,o,1,i,s,n,t.parentNode,kt,cy,t,uy),W())},i(i){if(!l){for(let a=0;a<s.length;a+=1)_(e[a]);l=!0}},o(i){for(let a=0;a<e.length;a+=1)p(e[a]);l=!1},d(i){for(let a=0;a<e.length;a+=1)e[a].d(i);i&&$(t)}}}function sFe(r){let e,n,t=r[6]("filter_records")+"",l,s,o,i,a,u,f;const c=[nFe,tFe],m=[];function d(h,b){return h[5]?0:1}i=d(r),a=m[i]=c[i](r);let g=r[1].size&&fy(r);return{c(){e=E("div"),n=E("div"),l=L(t),s=N(),o=E("div"),a.c(),u=N(),g&&g.c(),I(n,"class","header svelte-1uej520"),I(o,"class","content"),I(e,"class","filters svelte-1uej520"),ie(e,"filtered",r[5])},m(h,b){v(h,e,b),R(e,n),R(n,l),R(e,s),R(e,o),m[i].m(o,null),R(e,u),g&&g.m(e,null),r[18](e),f=!0},p(h,[b]){(!f||b&64)&&t!==(t=h[6]("filter_records")+"")&&z(l,t);let w=i;i=d(h),i===w?m[i].p(h,b):(U(),p(m[w],1,1,()=>{m[w]=null}),W(),a=m[i],a?a.p(h,b):(a=m[i]=c[i](h),a.c()),_(a,1),a.m(o,null)),h[1].size?g?(g.p(h,b),b&2&&_(g,1)):(g=fy(h),g.c(),_(g,1),g.m(e,null)):g&&(U(),p(g,1,1,()=>{g=null}),W()),(!f||b&32)&&ie(e,"filtered",h[5])},i(h){f||(_(a),_(g),f=!0)},o(h){p(a),p(g),f=!1},d(h){h&&$(e),m[i].d(),g&&g.d(),r[18](null)}}}function oFe(r,e,n){let t,l,s=H,o=()=>(s(),s=le(f,j=>n(19,l=j)),f),i,a;ne(r,ce,j=>n(6,a=j)),r.$$.on_destroy.push(()=>s());const u=gu.get();let{filtering:f}=e;o();let{processedColumns:c}=e,{recordSummaries:m}=e;const d=Ue(oy(l));ne(r,d,j=>n(3,i=j));let g;function h(){const j=i.entries.filter(q=>{const G=c.get(q.columnId),Y=G==null?void 0:G.allowedFiltersMap.get(q.conditionId);return Y?Of(Y,q.value):!1}),V=oy({...i,entries:j});l.equals(V)||f.set(V)}function b(j){const V=c.get(j);if(!V)return;const q=[...V.allowedFiltersMap.values()][0];if(!q)return;const G={columnId:V.id,conditionId:q.id,value:void 0,isValid:Of(q,void 0)};d.update(Y=>Y.withEntry(G)),h()}function w(j){d.update(V=>V.withoutEntry(j)),h()}function S(j){d.update(V=>V.withCombination(j)),h()}function T(){h()}function M(){const j=pL(g.querySelectorAll(`.${CE}`));j&&("launchRecordSelector"in j?j.launchRecordSelector():j.focus())}tn(()=>u==null?void 0:u.onAddFilter(b)),tn(()=>u==null?void 0:u.onActivateLastFilterInput(M));function A(j){r.$$.not_equal(i.entries,j)&&(i.entries=j,d.set(i))}function D(j){r.$$.not_equal(i.combination,j)&&(i.combination=j,d.set(i))}const O=j=>w(j.detail),F=j=>S(j.detail),P=async j=>{b(j.id),await sn(),M()};function B(j){we[j?"unshift":"push"](()=>{g=j,n(4,g)})}return r.$$set=j=>{"filtering"in j&&o(n(0,f=j.filtering)),"processedColumns"in j&&n(1,c=j.processedColumns),"recordSummaries"in j&&n(2,m=j.recordSummaries)},r.$$.update=()=>{r.$$.dirty&8&&n(5,t=i.entries.length)},[f,c,m,i,g,t,a,d,b,w,S,T,M,A,D,O,F,P,B]}class iFe extends Q{constructor(e){super(),Z(this,e,oFe,sFe,J,{filtering:0,processedColumns:1,recordSummaries:2})}}function aFe(r){let e,n,t,l=r[5]("filter")+"",s,o,i,a;const u=[pf,{size:"0.8em"}];let f={};for(let c=0;c<u.length;c+=1)f=se(f,u[c]);return e=new Ne({props:f}),i=new M_({props:{value:r[6].entries.length}}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l),o=N(),C(i.$$.fragment),I(t,"class","responsive-button-label with-badge svelte-19augaz")},m(c,m){k(e,c,m),v(c,n,m),v(c,t,m),R(t,s),R(t,o),k(i,t,null),a=!0},p(c,m){const d=m&0?de(u,[_e(pf),u[1]]):{};e.$set(d),(!a||m&32)&&l!==(l=c[5]("filter")+"")&&z(s,l);const g={};m&64&&(g.value=c[6].entries.length),i.$set(g)},i(c){a||(_(e.$$.fragment,c),_(i.$$.fragment,c),a=!0)},o(c){p(e.$$.fragment,c),p(i.$$.fragment,c),a=!1},d(c){y(e,c),c&&$(n),c&&$(t),y(i)}}}function uFe(r){let e,n;return e=new iFe({props:{slot:"content",filtering:r[0],processedColumns:r[2],recordSummaries:r[3].linkedRecordSummaries}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.filtering=t[0]),l&4&&(s.processedColumns=t[2]),l&8&&(s.recordSummaries=t[3].linkedRecordSummaries),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function fFe(r){let e,n,t;const l=[{showArrow:!1},{triggerAppearance:"secondary"},r[8],{ariaLabel:r[5]("filter")}];function s(i){r[12](i)}let o={$$slots:{content:[uFe],trigger:[aFe]},$$scope:{ctx:r}};for(let i=0;i<l.length;i+=1)o=se(o,l[i]);return r[1]!==void 0&&(o.isOpen=r[1]),e=new Nl({props:o}),we.push(()=>Me(e,"isOpen",s)),{c(){C(e.$$.fragment)},m(i,a){k(e,i,a),t=!0},p(i,[a]){const u=a&288?de(l,[l[0],l[1],a&256&&_e(i[8]),a&32&&{ariaLabel:i[5]("filter")}]):{};a&32877&&(u.$$scope={dirty:a,ctx:i}),!n&&a&2&&(n=!0,u.isOpen=i[1],De(()=>n=!1)),e.$set(u)},i(i){t||(_(e.$$.fragment,i),t=!0)},o(i){p(e.$$.fragment,i),t=!1},d(i){y(e,i)}}}function cFe(r,e,n){let t,l,s;const o=["filtering","canViewLinkedEntities"];let i=We(e,o),a,u=H,f=()=>(u(),u=le(t,O=>n(10,a=O)),t),c,m,d,g=H,h=()=>(g(),g=le(S,O=>n(6,d=O)),S);ne(r,ce,O=>n(5,m=O)),r.$$.on_destroy.push(()=>u()),r.$$.on_destroy.push(()=>g());const b=gu.get(),w=on();ne(r,w,O=>n(11,c=O));let{filtering:S}=e;h();let{canViewLinkedEntities:T=!0}=e,M=!1;function A(){n(1,M=!0)}tn(()=>b==null?void 0:b.onOpenDropdown(A));function D(O){M=O,n(1,M)}return r.$$set=O=>{e=se(se({},e),pt(O)),n(8,i=We(e,o)),"filtering"in O&&h(n(0,S=O.filtering)),"canViewLinkedEntities"in O&&n(9,T=O.canViewLinkedEntities)},r.$$.update=()=>{r.$$.dirty&2048&&f(n(4,{processedColumns:t,recordsData:l}=c,t,(n(3,l),n(11,c)))),r.$$.dirty&1536&&n(2,s=T?a:new Map([...a].filter(([,O])=>!O.linkFk)))},[S,M,s,l,t,m,d,w,i,T,a,c,D]}class OR extends Q{constructor(e){super(),Z(this,e,cFe,fFe,J,{filtering:0,canViewLinkedEntities:9})}}function my(r,e,n){const t=r.slice();return t[14]=e[n],t}function dy(r,e,n){const t=r.slice();return t[17]=e[n],t[19]=n,t}function _y(r){let e,n=r[5]("no_grouping_condition_added")+"",t;return{c(){e=E("span"),t=L(n),I(e,"class","muted svelte-2j8h0p")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&32&&n!==(n=l[5]("no_grouping_condition_added")+"")&&z(t,n)},d(l){l&&$(e)}}}function py(r,e){let n,t,l;function s(...i){return e[11](e[19],...i)}function o(){return e[12](e[19])}return t=new QM({props:{columns:e[2],columnsAllowedForSelection:e[3].map(hy),getColumnLabel:pFe,getColumnConstraintType:e[10],columnIdentifier:e[17].columnId,preprocFunctionIdentifier:e[17].preprocFnId,disableColumnChange:e[1].entries.length>1&&e[19]<e[1].entries.length-1}}),t.$on("update",s),t.$on("removeGroup",o),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(i,a){v(i,n,a),k(t,i,a),l=!0},p(i,a){e=i;const u={};a&4&&(u.columns=e[2]),a&8&&(u.columnsAllowedForSelection=e[3].map(hy)),a&4&&(u.getColumnConstraintType=e[10]),a&2&&(u.columnIdentifier=e[17].columnId),a&2&&(u.preprocFunctionIdentifier=e[17].preprocFnId),a&2&&(u.disableColumnChange=e[1].entries.length>1&&e[19]<e[1].entries.length-1),t.$set(u)},i(i){l||(_(t.$$.fragment,i),l=!0)},o(i){p(t.$$.fragment,i),l=!1},d(i){i&&$(n),y(t,i)}}}function mFe(r){let e,n,t;return e=new cs({props:{processedColumn:r[14]}}),{c(){C(e.$$.fragment),n=N()},m(l,s){k(e,l,s),v(l,n,s),t=!0},p(l,s){const o={};s&8&&(o.processedColumn=l[14]),e.$set(o)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){y(e,l),l&&$(n)}}}function gy(r,e){let n,t,l;function s(){return e[13](e[14])}return t=new wn({props:{$$slots:{default:[mFe]},$$scope:{ctx:e}}}),t.$on("click",s),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(o,i){v(o,n,i),k(t,o,i),l=!0},p(o,i){e=o;const a={};i&1048584&&(a.$$scope={dirty:i,ctx:e}),t.$set(a)},i(o){l||(_(t.$$.fragment,o),l=!0)},o(o){p(t.$$.fragment,o),l=!1},d(o){o&&$(n),y(t,o)}}}function dFe(r){let e=[],n=new Map,t,l,s=r[3];const o=i=>i[14].id;for(let i=0;i<s.length;i+=1){let a=my(r,s,i),u=o(a);n.set(u,e[i]=gy(u,a))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=ae()},m(i,a){for(let u=0;u<e.length;u+=1)e[u].m(i,a);v(i,t,a),l=!0},p(i,a){a&136&&(s=i[3],U(),e=ht(e,a,o,1,i,s,n,t.parentNode,kt,gy,t,my),W())},i(i){if(!l){for(let a=0;a<s.length;a+=1)_(e[a]);l=!0}},o(i){for(let a=0;a<e.length;a+=1)p(e[a]);l=!1},d(i){for(let a=0;a<e.length;a+=1)e[a].d(i);i&&$(t)}}}function _Fe(r){let e,n,t=r[5]("group_records_by")+"",l,s,o,i=[],a=new Map,u,f,c,m,d=r[1].entries;const g=b=>b[19];for(let b=0;b<d.length;b+=1){let w=dy(r,d,b),S=g(w);a.set(S,i[b]=py(S,w))}let h=null;return d.length||(h=_y(r)),c=new Pr({props:{icon:jt,label:r[5]("add_new_grouping"),disabled:r[3].length===0,triggerAppearance:"secondary",$$slots:{default:[dFe]},$$scope:{ctx:r}}}),{c(){e=E("div"),n=E("header"),l=L(t),s=N(),o=E("div");for(let b=0;b<i.length;b+=1)i[b].c();h&&h.c(),u=N(),f=E("footer"),C(c.$$.fragment),I(n,"class","svelte-2j8h0p"),I(o,"class","content svelte-2j8h0p"),I(f,"class","svelte-2j8h0p"),I(e,"class","groups svelte-2j8h0p"),ie(e,"grouped",r[1].entries.length>0)},m(b,w){v(b,e,w),R(e,n),R(n,l),R(e,s),R(e,o);for(let S=0;S<i.length;S+=1)i[S].m(o,null);h&&h.m(o,null),R(e,u),R(e,f),k(c,f,null),m=!0},p(b,[w]){(!m||w&32)&&t!==(t=b[5]("group_records_by")+"")&&z(l,t),w&303&&(d=b[1].entries,U(),i=ht(i,w,g,1,b,d,a,o,kt,py,null,dy),W(),!d.length&&h?h.p(b,w):d.length?h&&(h.d(1),h=null):(h=_y(b),h.c(),h.m(o,null)));const S={};w&32&&(S.label=b[5]("add_new_grouping")),w&8&&(S.disabled=b[3].length===0),w&1048584&&(S.$$scope={dirty:w,ctx:b}),c.$set(S),(!m||w&2)&&ie(e,"grouped",b[1].entries.length>0)},i(b){if(!m){for(let w=0;w<d.length;w+=1)_(i[w]);_(c.$$.fragment,b),m=!0}},o(b){for(let w=0;w<i.length;w+=1)p(i[w]);p(c.$$.fragment,b),m=!1},d(b){b&&$(e);for(let w=0;w<i.length;w+=1)i[w].d();h&&h.d(),y(c)}}}const hy=r=>r.id,pFe=r=>{var e;return(e=r==null?void 0:r.column.name)!=null?e:""};function gFe(r,e,n){let t,l,s,o=H,i=()=>(o(),o=le(g,A=>n(1,s=A)),g),a,u=H,f=()=>(u(),u=le(t,A=>n(2,a=A)),t),c,m;ne(r,ce,A=>n(5,m=A)),r.$$.on_destroy.push(()=>o()),r.$$.on_destroy.push(()=>u());const d=on();ne(r,d,A=>n(9,c=A));let{grouping:g}=e;i();function h(A){g.update(D=>D.withEntry({columnId:A.id,preprocFnId:void 0}))}function b(A,D){g.update(O=>O.withReplacedEntry(A,{columnId:D.columnIdentifier,preprocFnId:D.preprocFunctionIdentifier}))}const w=A=>Sa(A.id,a),S=(A,D)=>b(A,D.detail),T=A=>g.update(D=>D.withoutEntry(A)),M=A=>h(A);return r.$$set=A=>{"grouping"in A&&i(n(0,g=A.grouping))},r.$$.update=()=>{r.$$.dirty&512&&f(n(4,{processedColumns:t}=c,t)),r.$$.dirty&6&&n(3,l=[...a.values()].filter(A=>!s.hasColumn(A.id)))},[g,s,a,l,t,m,d,h,b,c,w,S,T,M]}class hFe extends Q{constructor(e){super(),Z(this,e,gFe,_Fe,J,{grouping:0})}}function bFe(r){let e,n,t,l=r[1]("group")+"",s,o,i,a;const u=[ii];let f={};for(let c=0;c<u.length;c+=1)f=se(f,u[c]);return e=new Ne({props:f}),i=new M_({props:{value:r[2].entries.length}}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l),o=N(),C(i.$$.fragment),I(t,"class","responsive-button-label with-badge svelte-19augaz")},m(c,m){k(e,c,m),v(c,n,m),v(c,t,m),R(t,s),R(t,o),k(i,t,null),a=!0},p(c,m){const d=m&0?de(u,[_e(ii)]):{};e.$set(d),(!a||m&2)&&l!==(l=c[1]("group")+"")&&z(s,l);const g={};m&4&&(g.value=c[2].entries.length),i.$set(g)},i(c){a||(_(e.$$.fragment,c),_(i.$$.fragment,c),a=!0)},o(c){p(e.$$.fragment,c),p(i.$$.fragment,c),a=!1},d(c){y(e,c),c&&$(n),c&&$(t),y(i)}}}function $Fe(r){let e,n;return e=new hFe({props:{slot:"content",grouping:r[0]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.grouping=t[0]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function vFe(r){let e,n;const t=[{showArrow:!1},{triggerAppearance:"secondary"},r[3],{ariaLabel:r[1]("group")}];let l={$$slots:{content:[$Fe],trigger:[bFe]},$$scope:{ctx:r}};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Nl({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,[o]){const i=o&10?de(t,[t[0],t[1],o&8&&_e(s[3]),o&2&&{ariaLabel:s[1]("group")}]):{};o&23&&(i.$$scope={dirty:o,ctx:s}),e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function wFe(r,e,n){const t=["grouping"];let l=We(e,t),s,o,i=H,a=()=>(i(),i=le(u,f=>n(2,o=f)),u);ne(r,ce,f=>n(1,s=f)),r.$$.on_destroy.push(()=>i());let{grouping:u}=e;return a(),r.$$set=f=>{e=se(se({},e),pt(f)),n(3,l=We(e,t)),"grouping"in f&&a(n(0,u=f.grouping))},[u,s,o,l]}class FR extends Q{constructor(e){super(),Z(this,e,wFe,vFe,J,{grouping:0})}}function by(r,e,n){const t=r.slice();return t[18]=e[n],t}function $y(r,e,n){const t=r.slice();return t[21]=e[n][0],t[22]=e[n][1],t}function vy(r){let e,n=r[6]("no_sorting_condition_added")+"",t;return{c(){e=E("span"),t=L(n),I(e,"class","muted svelte-1cnylxs")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&64&&n!==(n=l[6]("no_sorting_condition_added")+"")&&z(t,n)},d(l){l&&$(e)}}}function wy(r,e){let n,t,l,s,o,i,a,u,f;const c=[si];let m={};for(let h=0;h<c.length;h+=1)m=se(m,c[h]);l=new Ne({props:m});function d(){return e[13](e[21])}function g(...h){return e[14](e[21],...h)}return o=new ZM({props:{columns:e[3],columnsAllowedForSelection:e[4],getColumnLabel:SFe,getColumnConstraintType:e[12],columnIdentifier:e[21],sortDirection:e[22]}}),o.$on("remove",d),o.$on("update",g),{key:r,first:null,c(){n=E("div"),t=E("div"),C(l.$$.fragment),s=N(),C(o.$$.fragment),i=N(),I(t,"class","trigger svelte-1cnylxs"),I(n,"class","item svelte-1cnylxs"),this.first=n},m(h,b){v(h,n,b),R(n,t),k(l,t,null),R(n,s),k(o,n,null),R(n,i),a=!0,u||(f=[Dt(Fp.call(null,t)),Dt(Op.call(null,n))],u=!0)},p(h,b){e=h;const w=b&0?de(c,[_e(si)]):{};l.$set(w);const S={};b&8&&(S.columns=e[3]),b&16&&(S.columnsAllowedForSelection=e[4]),b&8&&(S.getColumnConstraintType=e[12]),b&4&&(S.columnIdentifier=e[21]),b&4&&(S.sortDirection=e[22]),o.$set(S)},i(h){a||(_(l.$$.fragment,h),_(o.$$.fragment,h),a=!0)},o(h){p(l.$$.fragment,h),p(o.$$.fragment,h),a=!1},d(h){h&&$(n),y(l),y(o),u=!1,Ot(f)}}}function ky(r){let e,n,t;return n=new Pr({props:{icon:jt,label:r[6]("add_new_sort_condition"),disabled:r[1].length===0,triggerAppearance:"secondary",$$slots:{default:[yFe]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","footer")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&64&&(o.label=l[6]("add_new_sort_condition")),s&2&&(o.disabled=l[1].length===0),s&33554434&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function kFe(r){let e,n,t;return e=new cs({props:{processedColumn:r[18]}}),{c(){C(e.$$.fragment),n=N()},m(l,s){k(e,l,s),v(l,n,s),t=!0},p(l,s){const o={};s&2&&(o.processedColumn=l[18]),e.$set(o)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){y(e,l),l&&$(n)}}}function yy(r,e){let n,t,l;function s(){return e[17](e[18])}return t=new wn({props:{$$slots:{default:[kFe]},$$scope:{ctx:e}}}),t.$on("click",s),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(o,i){v(o,n,i),k(t,o,i),l=!0},p(o,i){e=o;const a={};i&33554434&&(a.$$scope={dirty:i,ctx:e}),t.$set(a)},i(o){l||(_(t.$$.fragment,o),l=!0)},o(o){p(t.$$.fragment,o),l=!1},d(o){o&&$(n),y(t,o)}}}function yFe(r){let e=[],n=new Map,t,l,s=r[1];const o=i=>i[18].id;for(let i=0;i<s.length;i+=1){let a=by(r,s,i),u=o(a);n.set(u,e[i]=yy(u,a))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=ae()},m(i,a){for(let u=0;u<e.length;u+=1)e[u].m(i,a);v(i,t,a),l=!0},p(i,a){a&258&&(s=i[1],U(),e=ht(e,a,o,1,i,s,n,t.parentNode,kt,yy,t,by),W())},i(i){if(!l){for(let a=0;a<s.length;a+=1)_(e[a]);l=!0}},o(i){for(let a=0;a<e.length;a+=1)p(e[a]);l=!1},d(i){for(let a=0;a<e.length;a+=1)e[a].d(i);i&&$(t)}}}function CFe(r){let e,n,t=r[6]("sort")+"",l,s,o,i=[],a=new Map,u,f,c,m,d,g=[...r[2]];const h=S=>S[21];for(let S=0;S<g.length;S+=1){let T=$y(r,g,S),M=h(T);a.set(M,i[S]=wy(M,T))}let b=null;g.length||(b=vy(r));let w=r[4].length>0&&ky(r);return{c(){e=E("div"),n=E("div"),l=L(t),s=N(),o=E("div");for(let S=0;S<i.length;S+=1)i[S].c();b&&b.c(),f=N(),w&&w.c(),I(n,"class","header svelte-1cnylxs"),I(o,"class","content svelte-1cnylxs"),I(e,"class","sorters svelte-1cnylxs")},m(S,T){v(S,e,T),R(e,n),R(n,l),R(e,s),R(e,o);for(let M=0;M<i.length;M+=1)i[M].m(o,null);b&&b.m(o,null),R(e,f),w&&w.m(e,null),c=!0,m||(d=Dt(u=Ap.call(null,o,{getItems:r[15],onSort:r[16]})),m=!0)},p(S,[T]){(!c||T&64)&&t!==(t=S[6]("sort")+"")&&z(l,t),T&1628&&(g=[...S[2]],U(),i=ht(i,T,h,1,S,g,a,o,kt,wy,null,$y),W(),!g.length&&b?b.p(S,T):g.length?b&&(b.d(1),b=null):(b=vy(S),b.c(),b.m(o,null))),u&&St(u.update)&&T&5&&u.update.call(null,{getItems:S[15],onSort:S[16]}),S[4].length>0?w?(w.p(S,T),T&16&&_(w,1)):(w=ky(S),w.c(),_(w,1),w.m(e,null)):w&&(U(),p(w,1,1,()=>{w=null}),W())},i(S){if(!c){for(let T=0;T<g.length;T+=1)_(i[T]);_(w),c=!0}},o(S){for(let T=0;T<i.length;T+=1)p(i[T]);p(w),c=!1},d(S){S&&$(e);for(let T=0;T<i.length;T+=1)i[T].d();b&&b.d(),w&&w.d(),m=!1,d()}}}const SFe=r=>{var e;return(e=r==null?void 0:r.column.name)!=null?e:""};function TFe(r,e,n){let t,l,s,o,i=H,a=()=>(i(),i=le(h,P=>n(2,o=P)),h),u,f=H,c=()=>(f(),f=le(t,P=>n(3,u=P)),t),m,d;ne(r,ce,P=>n(6,d=P)),r.$$.on_destroy.push(()=>i()),r.$$.on_destroy.push(()=>f());const g=on();ne(r,g,P=>n(11,m=P));let{sorting:h}=e;a();function b(P){h.update(B=>B.with(P,"ASCENDING"))}function w(P){h.update(B=>B.without(P))}function S(P,B,j){h.update(V=>new lo([...V].map(([q,G])=>q===P?[B,j]:[q,G])))}const T=P=>Sa(P.id,u),M=P=>w(P),A=(P,B)=>S(P,B.detail.columnIdentifier,B.detail.sortDirection),D=()=>[...o],O=P=>h.set(new lo(P)),F=P=>b(P.id);return r.$$set=P=>{"sorting"in P&&a(n(0,h=P.sorting))},r.$$.update=()=>{r.$$.dirty&2048&&c(n(5,{processedColumns:t}=m,t)),r.$$.dirty&12&&n(1,l=[...u.values()].filter(P=>!o.has(P.id))),r.$$.dirty&2&&n(4,s=l.map(P=>P.id))},[h,l,o,u,s,t,d,g,b,w,S,m,T,M,A,D,O,F]}class IFe extends Q{constructor(e){super(),Z(this,e,TFe,CFe,J,{sorting:0})}}function EFe(r){let e,n,t,l=r[1]("sort")+"",s,o,i,a;const u=[u0];let f={};for(let c=0;c<u.length;c+=1)f=se(f,u[c]);return e=new Ne({props:f}),i=new M_({props:{value:r[2].size}}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l),o=N(),C(i.$$.fragment),I(t,"class","responsive-button-label with-badge svelte-19augaz")},m(c,m){k(e,c,m),v(c,n,m),v(c,t,m),R(t,s),R(t,o),k(i,t,null),a=!0},p(c,m){const d=m&0?de(u,[_e(u0)]):{};e.$set(d),(!a||m&2)&&l!==(l=c[1]("sort")+"")&&z(s,l);const g={};m&4&&(g.value=c[2].size),i.$set(g)},i(c){a||(_(e.$$.fragment,c),_(i.$$.fragment,c),a=!0)},o(c){p(e.$$.fragment,c),p(i.$$.fragment,c),a=!1},d(c){y(e,c),c&&$(n),c&&$(t),y(i)}}}function MFe(r){let e,n;return e=new IFe({props:{slot:"content",sorting:r[0]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.sorting=t[0]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function RFe(r){let e,n;const t=[{showArrow:!1},{triggerAppearance:"secondary"},r[3],{ariaLabel:r[1]("sort")}];let l={$$slots:{content:[MFe],trigger:[EFe]},$$scope:{ctx:r}};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Nl({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,[o]){const i=o&10?de(t,[t[0],t[1],o&8&&_e(s[3]),o&2&&{ariaLabel:s[1]("sort")}]):{};o&23&&(i.$$scope={dirty:o,ctx:s}),e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function DFe(r,e,n){const t=["sorting"];let l=We(e,t),s,o,i=H,a=()=>(i(),i=le(u,f=>n(2,o=f)),u);ne(r,ce,f=>n(1,s=f)),r.$$.on_destroy.push(()=>i());let{sorting:u}=e;return a(),r.$$set=f=>{e=se(se({},e),pt(f)),n(3,l=We(e,t)),"sorting"in f&&a(n(0,u=f.sorting))},[u,s,o,l]}class NR extends Q{constructor(e){super(),Z(this,e,DFe,RFe,J,{sorting:0})}}function AFe(r){let e,n,t,l,s,o,i;const a=[{filtering:r[2]},{canViewLinkedEntities:Cy},r[3]];let u={};for(let g=0;g<a.length;g+=1)u=se(u,a[g]);n=new OR({props:u});const f=[{sorting:r[1]},r[3]];let c={};for(let g=0;g<f.length;g+=1)c=se(c,f[g]);l=new NR({props:c});const m=[{grouping:r[0]},r[3]];let d={};for(let g=0;g<m.length;g+=1)d=se(d,m[g]);return o=new FR({props:d}),{c(){e=E("div"),C(n.$$.fragment),t=N(),C(l.$$.fragment),s=N(),C(o.$$.fragment),I(e,"class","mini-actions-pane svelte-17z38bs")},m(g,h){v(g,e,h),k(n,e,null),R(e,t),k(l,e,null),R(e,s),k(o,e,null),i=!0},p(g,[h]){const b=h&12?de(a,[h&4&&{filtering:g[2]},h&0&&{canViewLinkedEntities:Cy},h&8&&_e(g[3])]):{};n.$set(b);const w=h&10?de(f,[h&2&&{sorting:g[1]},h&8&&_e(g[3])]):{};l.$set(w);const S=h&9?de(m,[h&1&&{grouping:g[0]},h&8&&_e(g[3])]):{};o.$set(S)},i(g){i||(_(n.$$.fragment,g),_(l.$$.fragment,g),_(o.$$.fragment,g),i=!0)},o(g){p(n.$$.fragment,g),p(l.$$.fragment,g),p(o.$$.fragment,g),i=!1},d(g){g&&$(e),y(n),y(l),y(o)}}}const Cy=!0;function OFe(r,e,n){let t,l,s,o,i;const a={placement:"bottom-end",size:"small"},u=on();return ne(r,u,f=>n(6,i=f)),r.$$.update=()=>{r.$$.dirty&64&&n(5,{meta:t}=i,t),r.$$.dirty&32&&n(2,{filtering:l,sorting:s,grouping:o}=t,l,(n(1,s),n(5,t),n(6,i)),(n(0,o),n(5,t),n(6,i)))},[o,s,l,a,u,t,i]}class FFe extends Q{constructor(e){super(),Z(this,e,OFe,AFe,J,{})}}function NFe(r){return new Map([...r.entries()].map(([e,n])=>[String(e),n]))}function Sy(r){let e,n;return{c(){e=E("span"),n=L(r[0]),I(e,"class","preproc svelte-1yboc8p")},m(t,l){v(t,e,l),R(e,n)},p(t,l){l&1&&z(n,t[0])},d(t){t&&$(e)}}}function PFe(r){let e,n;return e=new Qr({props:{$$slots:{default:[VFe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&4098&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function LFe(r){let e,n;return e=new Qr({props:{$$slots:{default:[zFe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&4128&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function HFe(r){let e,n;return e=new ru({props:{recordSummary:r[7],recordId:r[4],tableId:r[6],allowsHyperlinks:!0}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&128&&(s.recordSummary=t[7]),l&16&&(s.recordId=t[4]),l&64&&(s.tableId=t[6]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function VFe(r){let e,n;return e=new Ga({props:{value:r[1]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.value=t[1]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function zFe(r){let e=r[5].uri+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&32&&e!==(e=t[5].uri+"")&&z(n,e)},d(t){t&&$(n)}}}function BFe(r){var h,b;let e,n,t=((b=(h=r[3])==null?void 0:h.column.name)!=null?b:"")+"",l,s,o,i,a,u,f,c=r[0]&&Sy(r);const m=[HFe,LFe,PFe],d=[];function g(w,S){var T;return w[7]?0:((T=w[3])==null?void 0:T.abstractType.identifier)==="file"&&w[5]?1:2}return a=g(r),u=d[a]=m[a](r),{c(){e=E("span"),n=E("span"),l=L(t),s=N(),c&&c.c(),o=N(),i=E("span"),u.c(),I(n,"class","name svelte-1yboc8p"),I(i,"class","value svelte-1yboc8p"),I(e,"class","tag svelte-1yboc8p"),ln(e,"max-width","calc(100%/"+r[2]+")")},m(w,S){v(w,e,S),R(e,n),R(n,l),R(n,s),c&&c.m(n,null),R(e,o),R(e,i),d[a].m(i,null),f=!0},p(w,[S]){var M,A;(!f||S&8)&&t!==(t=((A=(M=w[3])==null?void 0:M.column.name)!=null?A:"")+"")&&z(l,t),w[0]?c?c.p(w,S):(c=Sy(w),c.c(),c.m(n,null)):c&&(c.d(1),c=null);let T=a;a=g(w),a===T?d[a].p(w,S):(U(),p(d[T],1,1,()=>{d[T]=null}),W(),u=d[a],u?u.p(w,S):(u=d[a]=m[a](w),u.c()),_(u,1),u.m(i,null)),(!f||S&4)&&ln(e,"max-width","calc(100%/"+w[2]+")")},i(w){f||(_(u),f=!0)},o(w){p(u),f=!1},d(w){w&&$(e),c&&c.d(),d[a].d()}}}function qFe(r,e,n){let t,l,s,o,i,{processedColumnsMap:a}=e,{recordSummariesForSheet:u}=e,{columnId:f}=e,{preprocName:c=void 0}=e,{cellValue:m=void 0}=e,{fileManifestsForSheet:d}=e,{totalColumns:g}=e;return r.$$set=h=>{"processedColumnsMap"in h&&n(8,a=h.processedColumnsMap),"recordSummariesForSheet"in h&&n(9,u=h.recordSummariesForSheet),"columnId"in h&&n(10,f=h.columnId),"preprocName"in h&&n(0,c=h.preprocName),"cellValue"in h&&n(1,m=h.cellValue),"fileManifestsForSheet"in h&&n(11,d=h.fileManifestsForSheet),"totalColumns"in h&&n(2,g=h.totalColumns)},r.$$.update=()=>{var h,b,w;r.$$.dirty&1280&&n(3,t=a.get(f)),r.$$.dirty&2&&n(4,l=String(m)),r.$$.dirty&1552&&n(7,s=(h=u.get(String(f)))==null?void 0:h.get(l)),r.$$.dirty&1280&&n(6,o=(w=(b=a==null?void 0:a.get(f))==null?void 0:b.linkFk)==null?void 0:w.referent_table_oid),r.$$.dirty&3082&&n(5,i=(()=>{var T,M;if(!((T=t==null?void 0:t.column.metadata)!=null&&T.file_backend))return;const S=po(m);if(!!S)return(M=d.get(String(f)))==null?void 0:M.get(S.mash)})())},[c,m,g,t,l,i,o,s,a,u,f,d]}class UFe extends Q{constructor(e){super(),Z(this,e,qFe,BFe,J,{processedColumnsMap:8,recordSummariesForSheet:9,columnId:10,preprocName:0,cellValue:1,fileManifestsForSheet:11,totalColumns:2})}}function Ty(r,e,n){const t=r.slice();return t[10]=e[n],t[12]=n,t}function Iy(r,e){let n,t,l;return t=new UFe({props:{processedColumnsMap:e[0],cellValue:e[1].groupValues?e[1].groupValues[e[10]]:void 0,recordSummariesForSheet:e[3],columnId:e[10],preprocName:e[6][e[12]],fileManifestsForSheet:e[4],totalColumns:e[5].length}}),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(s,o){v(s,n,o),k(t,s,o),l=!0},p(s,o){e=s;const i={};o&1&&(i.processedColumnsMap=e[0]),o&34&&(i.cellValue=e[1].groupValues?e[1].groupValues[e[10]]:void 0),o&8&&(i.recordSummariesForSheet=e[3]),o&32&&(i.columnId=e[10]),o&96&&(i.preprocName=e[6][e[12]]),o&16&&(i.fileManifestsForSheet=e[4]),o&32&&(i.totalColumns=e[5].length),t.$set(i)},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){s&&$(n),y(t,s)}}}function WFe(r){let e=r[2].count+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&4&&e!==(e=t[2].count+"")&&z(n,e)},d(t){t&&$(n)}}}function jFe(r){let e,n,t=[],l=new Map,s,o,i,a,u=r[5];const f=c=>c[10];for(let c=0;c<u.length;c+=1){let m=Ty(r,u,c),d=f(m);l.set(d,t[c]=Iy(d,m))}return i=new E_({props:{$$slots:{default:[WFe]},$$scope:{ctx:r}}}),{c(){e=E("div"),n=E("div");for(let c=0;c<t.length;c+=1)t[c].c();s=N(),o=E("div"),C(i.$$.fragment),I(o,"class","count-container svelte-1ws6nhm"),I(n,"class","groups-data svelte-1ws6nhm"),I(e,"class","group-header svelte-1ws6nhm")},m(c,m){v(c,e,m),R(e,n);for(let d=0;d<t.length;d+=1)t[d].m(n,null);R(n,s),R(n,o),k(i,o,null),a=!0},p(c,m){m&123&&(u=c[5],U(),t=ht(t,m,f,1,c,u,l,n,kt,Iy,s,Ty),W());const d={};m&8196&&(d.$$scope={dirty:m,ctx:c}),i.$set(d)},i(c){if(!a){for(let m=0;m<u.length;m+=1)_(t[m]);_(i.$$.fragment,c),a=!0}},o(c){for(let m=0;m<t.length;m+=1)p(t[m]);p(i.$$.fragment,c),a=!1},d(c){c&&$(e);for(let m=0;m<t.length;m+=1)t[m].d();y(i)}}}function YFe(r){let e,n;return e=new cR({props:{index:0,columnSpan:r[0].size+1,$$slots:{default:[jFe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.columnSpan=t[0].size+1),l&8319&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function GFe(r,e,n){let t,l,s,o,{processedColumnsMap:i}=e,{row:a}=e,{grouping:u}=e,{group:f}=e,{recordSummariesForSheet:c}=e,{fileManifestsForSheet:m}=e;return r.$$set=d=>{"processedColumnsMap"in d&&n(0,i=d.processedColumnsMap),"row"in d&&n(1,a=d.row),"grouping"in d&&n(7,u=d.grouping),"group"in d&&n(2,f=d.group),"recordSummariesForSheet"in d&&n(3,c=d.recordSummariesForSheet),"fileManifestsForSheet"in d&&n(4,m=d.fileManifestsForSheet)},r.$$.update=()=>{r.$$.dirty&128&&n(5,{columnIds:t,preprocIds:l}=u,t,(n(9,l),n(7,u))),r.$$.dirty&33&&n(8,s=t.map(d=>{var g,h;return(h=(g=i.get(d))==null?void 0:g.preprocFunctions)!=null?h:[]})),r.$$.dirty&768&&n(6,o=l.map((d,g)=>{var h;return d?(h=s[g].find(b=>b.id===d))==null?void 0:h.name:void 0}))},[i,a,f,c,m,t,o,u,s,l]}class KFe extends Q{constructor(e){super(),Z(this,e,GFe,YFe,J,{processedColumnsMap:0,row:1,grouping:7,group:2,recordSummariesForSheet:3,fileManifestsForSheet:4})}}function XFe(r){let e,n=r[1]("new_records_reposition_refresh")+"",t;return{c(){e=E("div"),t=L(n),I(e,"class","new-record-message svelte-1af96sn")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&2&&n!==(n=l[1]("new_records_reposition_refresh")+"")&&z(t,n)},d(l){l&&$(e)}}}function JFe(r){let e,n;return e=new cR({props:{index:0,columnSpan:r[0],$$slots:{default:[XFe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.columnSpan=t[0]),l&10&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function ZFe(r,e,n){let t,l;ne(r,ce,o=>n(1,l=o));let{columnCount:s}=e;return r.$$set=o=>{"columnCount"in o&&n(2,s=o.columnCount)},r.$$.update=()=>{r.$$.dirty&4&&n(0,t=s+1)},[t,l,s]}class QFe extends Q{constructor(e){super(),Z(this,e,ZFe,JFe,J,{columnCount:2})}}function xFe(r){let e,n,t,l,s,o,i,a;return e=new ll({props:{when:r[0],color:"var(--cell-bg-color-row-selected)"}}),t=new ll({props:{when:r[1],color:"var(--cell-bg-color-processing)"}}),s=new ll({props:{when:r[2],color:"var(--cell-bg-color-error)"}}),i=new ll({props:{class:"cell-bg-row-hover",color:"var(--cell-bg-color-row-hover, var(--cell-bg-color-base))"}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),C(s.$$.fragment),o=N(),C(i.$$.fragment)},m(u,f){k(e,u,f),v(u,n,f),k(t,u,f),v(u,l,f),k(s,u,f),v(u,o,f),k(i,u,f),a=!0},p(u,[f]){const c={};f&1&&(c.when=u[0]),e.$set(c);const m={};f&2&&(m.when=u[1]),t.$set(m);const d={};f&4&&(d.when=u[2]),s.$set(d)},i(u){a||(_(e.$$.fragment,u),_(t.$$.fragment,u),_(s.$$.fragment,u),_(i.$$.fragment,u),a=!0)},o(u){p(e.$$.fragment,u),p(t.$$.fragment,u),p(s.$$.fragment,u),p(i.$$.fragment,u),a=!1},d(u){y(e,u),u&&$(n),y(t,u),u&&$(l),y(s,u),u&&$(o),y(i,u)}}}function eNe(r,e,n){let{isSelected:t=!1}=e,{isProcessing:l=!1}=e,{hasErrors:s=!1}=e;return r.$$set=o=>{"isSelected"in o&&n(0,t=o.isSelected),"isProcessing"in o&&n(1,l=o.isProcessing),"hasErrors"in o&&n(2,s=o.hasErrors)},[t,l,s]}class PR extends Q{constructor(e){super(),Z(this,e,eNe,xFe,J,{isSelected:0,isProcessing:1,hasErrors:2})}}function tNe(r){let e,n;return{c(){e=Ut("svg"),n=Ut("path"),I(n,"d","M 0 0 L 10 0 L 10 10 Z"),I(n,"class","svelte-1wxku7v"),I(e,"viewBox","0 0 10 10")},m(t,l){v(t,e,l),R(e,n)},d(t){t&&$(e)}}}function nNe(r){let e;return{c(){e=E("span"),e.textContent="*",I(e,"class","required svelte-1wxku7v")},m(n,t){v(n,e,t)},d(n){n&&$(e)}}}function Ey(r){let e,n=r[4].join(" ")+"",t,l,s,o;return{c(){e=E("div"),t=L(n),I(e,"class","errors svelte-1wxku7v")},m(i,a){v(i,e,a),R(e,t),s||(o=[Dt(fo.call(null,e)),Dt(l=I_.call(null,e,{reference:r[3],options:{placement:"top-start"}})),He(e,"mouseenter",r[12]),He(e,"mouseleave",r[13])],s=!0)},p(i,a){a&16&&n!==(n=i[4].join(" ")+"")&&z(t,n),l&&St(l.update)&&a&8&&l.update.call(null,{reference:i[3],options:{placement:"top-start"}})},d(i){i&&$(e),s=!1,Ot(o)}}}function rNe(r){let e,n,t;function l(a,u){return a[1]?nNe:tNe}let s=l(r),o=s(r),i=r[3]&&r[2]&&!r[1]&&Ey(r);return{c(){e=E("div"),o.c(),n=N(),i&&i.c(),t=ae(),I(e,"class","error-indicator svelte-1wxku7v")},m(a,u){v(a,e,u),o.m(e,null),r[11](e),v(a,n,u),i&&i.m(a,u),v(a,t,u)},p(a,[u]){s!==(s=l(a))&&(o.d(1),o=s(a),o&&(o.c(),o.m(e,null))),a[3]&&a[2]&&!a[1]?i?i.p(a,u):(i=Ey(a),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},i:H,o:H,d(a){a&&$(e),o.d(),r[11](null),a&&$(n),i&&i.d(a),a&&$(t)}}}function lNe(r,e,n){let t,l,s,o,{serverErrors:i=[]}=e,{clientErrors:a=[]}=e,{forceShowErrors:u=!1}=e,f,c=!1,m;function d(){window.clearTimeout(m),n(10,c=!0)}function g(){m=window.setTimeout(()=>{n(10,c=!1)},1)}tn(()=>{const S=f==null?void 0:f.parentElement;return S?(S.addEventListener("mouseenter",d),S.addEventListener("mouseleave",g),()=>{S.removeEventListener("mouseenter",d),S.removeEventListener("mouseleave",g)}):()=>{}});function h(S){we[S?"unshift":"push"](()=>{f=S,n(0,f)})}const b=()=>d(),w=()=>g();return r.$$set=S=>{"serverErrors"in S&&n(7,i=S.serverErrors),"clientErrors"in S&&n(8,a=S.clientErrors),"forceShowErrors"in S&&n(9,u=S.forceShowErrors)},r.$$.update=()=>{r.$$.dirty&384&&n(4,t=[...i.map(S=>S.message),...a.map(S=>S.message)]),r.$$.dirty&1&&n(3,l=f==null?void 0:f.parentElement),r.$$.dirty&1536&&n(2,s=c||u),r.$$.dirty&384&&n(1,o=a.length&&!i.length)},[f,o,s,l,t,d,g,i,a,u,c,h,b,w]}class LR extends Q{constructor(e){super(),Z(this,e,lNe,rNe,J,{serverErrors:7,clientErrors:8,forceShowErrors:9})}}function My(r){let e,n;return e=new PR({props:{hasErrors:r[3]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&8&&(s.hasErrors=t[3]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Ry(r){let e,n;return e=new LR({props:{serverErrors:r[11],clientErrors:r[10],forceShowErrors:r[41]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&2048&&(s.serverErrors=t[11]),l[0]&1024&&(s.clientErrors=t[10]),l[1]&1024&&(s.forceShowErrors=t[41]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function sNe(r){let e,n,t,l,s,o,i,a,u;e=new ll({props:{when:r[8]||!r[41]&&r[9],color:"var(--cell-bg-color-error)"}}),t=new ll({props:{when:!r[15],color:"var(--cell-bg-color-disabled)"}});let f=!(r[15]&&r[41])&&My(r);o=new su({props:{columnFabric:r[7],isActive:r[41],value:r[0],isProcessing:r[16],canViewLinkedEntities:iNe,fileManifest:r[13],setFileManifest:r[36],recordSummary:r[14],setRecordSummary:r[37],showAsSkeleton:r[25]===qn.Loading,disabled:!r[15],horizontalAlignment:r[6].primary_key?"left":void 0,lightText:r[17]||r[16]}}),o.$on("movementKeyDown",r[38]),o.$on("update",r[26]);let c=r[18].length&&Ry(r);return{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),f&&f.c(),s=N(),C(o.$$.fragment),i=N(),c&&c.c(),a=ae()},m(m,d){k(e,m,d),v(m,n,d),k(t,m,d),v(m,l,d),f&&f.m(m,d),v(m,s,d),k(o,m,d),v(m,i,d),c&&c.m(m,d),v(m,a,d),u=!0},p(m,d){const g={};d[0]&768|d[1]&1024&&(g.when=m[8]||!m[41]&&m[9]),e.$set(g);const h={};d[0]&32768&&(h.when=!m[15]),t.$set(h),m[15]&&m[41]?f&&(U(),p(f,1,1,()=>{f=null}),W()):f?(f.p(m,d),d[0]&32768|d[1]&1024&&_(f,1)):(f=My(m),f.c(),_(f,1),f.m(s.parentNode,s));const b={};d[0]&128&&(b.columnFabric=m[7]),d[1]&1024&&(b.isActive=m[41]),d[0]&1&&(b.value=m[0]),d[0]&65536&&(b.isProcessing=m[16]),d[0]&8192&&(b.fileManifest=m[13]),d[0]&1048578&&(b.setFileManifest=m[36]),d[0]&16384&&(b.recordSummary=m[14]),d[0]&5242880&&(b.setRecordSummary=m[37]),d[0]&33554432&&(b.showAsSkeleton=m[25]===qn.Loading),d[0]&32768&&(b.disabled=!m[15]),d[0]&64&&(b.horizontalAlignment=m[6].primary_key?"left":void 0),d[0]&196608&&(b.lightText=m[17]||m[16]),o.$set(b),m[18].length?c?(c.p(m,d),d[0]&262144&&_(c,1)):(c=Ry(m),c.c(),_(c,1),c.m(a.parentNode,a)):c&&(U(),p(c,1,1,()=>{c=null}),W())},i(m){u||(_(e.$$.fragment,m),_(t.$$.fragment,m),_(f),_(o.$$.fragment,m),_(c),u=!0)},o(m){p(e.$$.fragment,m),p(t.$$.fragment,m),p(f),p(o.$$.fragment,m),p(c),u=!1},d(m){y(e,m),m&&$(n),y(t,m),m&&$(l),f&&f.d(m),m&&$(s),y(o,m),m&&$(i),c&&c.d(m),m&&$(a)}}}function oNe(r){let e,n;return e=new l1({props:{columnIdentifierKey:r[6].id,cellSelectionId:r[12],selection:r[24],isWithinPlaceholderRow:r[19],$$slots:{default:[sNe,({isActive:t})=>({41:t}),({isActive:t})=>[0,t?1024:0]]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&64&&(s.columnIdentifierKey=t[6].id),l[0]&4096&&(s.cellSelectionId=t[12]),l[0]&16777216&&(s.selection=t[24]),l[0]&524288&&(s.isWithinPlaceholderRow=t[19]),l[0]&39317455|l[1]&3072&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}const iNe=!0;function aNe(r,e,n){let t,l,s,o,i,a,u,f,c,m,d,g,h,b,w,S,T,M,A,D,O=H,F=()=>(O(),O=le(i,Fe=>n(32,D=Fe)),i),P,B=H,j=()=>(B(),B=le(o,Fe=>n(33,P=Fe)),o),V,q=H,G=()=>(q(),q=le(Be,Fe=>n(34,V=Fe)),Be),Y,K=H,ee=()=>(K(),K=le(ze,Fe=>n(35,Y=Fe)),ze),x,X=H,fe=()=>(X(),X=le(Le,Fe=>n(24,x=Fe)),Le),he,me=H,ge=()=>(me(),me=le(s,Fe=>n(25,he=Fe)),s);r.$$.on_destroy.push(()=>O()),r.$$.on_destroy.push(()=>B()),r.$$.on_destroy.push(()=>q()),r.$$.on_destroy.push(()=>K()),r.$$.on_destroy.push(()=>X()),r.$$.on_destroy.push(()=>me());let{recordsData:pe}=e,{selection:Le}=e;fe();let{row:Qe}=e,{rowHasErrors:Ae=!1}=e,{key:Je}=e,{modificationStatusMap:ze}=e;ee();let{processedColumn:Ve}=e,{clientSideErrorMap:Be}=e;G();let{value:qe=void 0}=e,{canUpdateRecords:ft}=e;async function vt(Fe){var yt,ct;if(Fe===qe)return;n(0,qe=Fe);const mt=$d(Qe)?await pe.createOrUpdateRecord(Qe,a):await pe.updateCell(Qe,a);n(0,qe=(ct=(yt=mt.record)==null?void 0:yt[a.id])!=null?ct:qe)}function ut(){Le.update(Fe=>Fe.ofOneCell(l))}async function Xe(Fe){await vt(Fe.detail.value),ut()}const dt=(Fe,mt)=>{pe.fileManifests.addBespokeValue({columnId:String(u),key:Fe,value:mt})},Oe=(Fe,mt)=>o.addBespokeValue({columnId:String(u),key:Fe,value:mt}),_t=({detail:Fe})=>gR(Fe.originalEvent,Le);return r.$$set=Fe=>{"recordsData"in Fe&&n(1,pe=Fe.recordsData),"selection"in Fe&&fe(n(2,Le=Fe.selection)),"row"in Fe&&n(27,Qe=Fe.row),"rowHasErrors"in Fe&&n(3,Ae=Fe.rowHasErrors),"key"in Fe&&n(28,Je=Fe.key),"modificationStatusMap"in Fe&&ee(n(4,ze=Fe.modificationStatusMap)),"processedColumn"in Fe&&n(29,Ve=Fe.processedColumn),"clientSideErrorMap"in Fe&&G(n(5,Be=Fe.clientSideErrorMap)),"value"in Fe&&n(0,qe=Fe.value),"canUpdateRecords"in Fe&&n(30,ft=Fe.canUpdateRecords)},r.$$.update=()=>{var Fe,mt;r.$$.dirty[0]&671088640&&n(7,t=$d(Qe)?Ve.withoutEnhancedPkCell():Ve),r.$$.dirty[0]&134217856&&n(12,l=Ur(ya(Qe),String(t.id))),r.$$.dirty[0]&2&&ge(n(23,s=pe.state)),r.$$.dirty[0]&2&&j(n(22,{linkedRecordSummaries:o,fileManifests:i}=pe,o,F(n(21,i)))),r.$$.dirty[0]&128&&n(6,{column:a}=t,a),r.$$.dirty[0]&64&&n(20,u=a.id),r.$$.dirty[0]&134217728&&n(19,f=os(Qe)),r.$$.dirty[0]&268435456|r.$$.dirty[1]&16&&n(31,c=Y.get(Je)),r.$$.dirty[1]&1&&n(11,m=(c==null?void 0:c.state)==="failure"?c==null?void 0:c.errors:[]),r.$$.dirty[0]&268435456|r.$$.dirty[1]&8&&n(10,d=(Fe=V.get(Je))!=null?Fe:[]),r.$$.dirty[0]&3072&&n(18,g=[...m,...d]),r.$$.dirty[0]&2048&&n(8,h=!!m.length),r.$$.dirty[0]&1024&&n(9,b=!!d.length),r.$$.dirty[0]&768&&n(17,w=b||h),r.$$.dirty[1]&1&&n(16,S=(c==null?void 0:c.state)==="processing"),r.$$.dirty[0]&1073741952&&n(15,T=ft&&t.isEditable),r.$$.dirty[0]&65|r.$$.dirty[1]&4&&n(14,M=(mt=P.get(String(a.id)))==null?void 0:mt.get(String(qe))),r.$$.dirty[0]&65|r.$$.dirty[1]&2&&n(13,A=(()=>{var ct,lt;if(!((ct=a.metadata)!=null&&ct.file_backend))return;const yt=po(qe);if(!!yt)return(lt=D.get(String(a.id)))==null?void 0:lt.get(yt.mash)})())},[qe,pe,Le,Ae,ze,Be,a,t,h,b,d,m,l,A,M,T,S,w,g,f,u,i,o,s,x,he,Xe,Qe,Je,Ve,ft,c,D,P,V,Y,dt,Oe,_t]}class uNe extends Q{constructor(e){super(),Z(this,e,aNe,oNe,J,{recordsData:1,selection:2,row:27,rowHasErrors:3,key:28,modificationStatusMap:4,processedColumn:29,clientSideErrorMap:5,value:0,canUpdateRecords:30},null,[-1,-1])}}function fNe(r){let e,n=o2(r[1])+"",t,l,s=Vl(r[0]),o=s&&Dy();return{c(){e=E("span"),t=L(n),l=N(),o&&o.c(),I(e,"class","number svelte-1xfpqg4")},m(i,a){v(i,e,a),R(e,t),R(e,l),o&&o.m(e,null)},p(i,a){a&2&&n!==(n=o2(i[1])+"")&&z(t,n),a&1&&(s=Vl(i[0])),s?o?o.p(i,a):(o=Dy(),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i:H,o:H,d(i){i&&$(e),o&&o.d()}}}function cNe(r){let e,n;const t=[jt];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[_e(jt)]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function Dy(r){let e;return{c(){e=L(dNe)},m(n,t){v(n,e,t)},p:H,d(n){n&&$(e)}}}function Ay(r){let e,n;const t=[{class:"mod-indicator"},{size:"0.9em"},Rl];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[t[0],t[1],_e(Rl)]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function Oy(r){let e,n;return e=new LR({props:{serverErrors:r[4]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.serverErrors=t[4]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function mNe(r){let e,n,t,l,s,o,i,a,u,f,c,m,d;e=new ll({props:{color:"var(--cell-bg-color-header)"}}),t=new PR({props:{isSelected:r[2],hasErrors:r[3]}});const g=[cNe,fNe],h=[];function b(T,M){return M&1&&(o=null),M&1&&(i=null),o==null&&(o=!!os(T[0])),o?0:(i==null&&(i=!!Yu(T[0])),i?1:-1)}~(a=b(r,-1))&&(u=h[a]=g[a](r));let w=r[5]==="processing"&&Ay(),S=r[4].length&&Oy(r);return{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),s=E("div"),u&&u.c(),f=N(),w&&w.c(),c=N(),S&&S.c(),m=ae(),I(s,"class","control svelte-1xfpqg4")},m(T,M){k(e,T,M),v(T,n,M),k(t,T,M),v(T,l,M),v(T,s,M),~a&&h[a].m(s,null),v(T,f,M),w&&w.m(T,M),v(T,c,M),S&&S.m(T,M),v(T,m,M),d=!0},p(T,[M]){const A={};M&4&&(A.isSelected=T[2]),M&8&&(A.hasErrors=T[3]),t.$set(A);let D=a;a=b(T,M),a===D?~a&&h[a].p(T,M):(u&&(U(),p(h[D],1,1,()=>{h[D]=null}),W()),~a?(u=h[a],u?u.p(T,M):(u=h[a]=g[a](T),u.c()),_(u,1),u.m(s,null)):u=null),T[5]==="processing"?w?(w.p(T,M),M&32&&_(w,1)):(w=Ay(),w.c(),_(w,1),w.m(c.parentNode,c)):w&&(U(),p(w,1,1,()=>{w=null}),W()),T[4].length?S?(S.p(T,M),M&16&&_(S,1)):(S=Oy(T),S.c(),_(S,1),S.m(m.parentNode,m)):S&&(U(),p(S,1,1,()=>{S=null}),W())},i(T){d||(_(e.$$.fragment,T),_(t.$$.fragment,T),_(u),_(w),_(S),d=!0)},o(T){p(e.$$.fragment,T),p(t.$$.fragment,T),p(u),p(w),p(S),d=!1},d(T){y(e,T),T&&$(n),y(t,T),T&&$(l),T&&$(s),~a&&h[a].d(),T&&$(f),w&&w.d(T),T&&$(c),S&&S.d(T),T&&$(m)}}}const dNe="*";function _Ne(r,e,n){let t,l,s,o,i,a=H,u=()=>(a(),a=le(t,h=>n(9,i=h)),t);r.$$.on_destroy.push(()=>a());let{row:f}=e,{rowDescriptor:c}=e,{meta:m}=e,{isSelected:d=!1}=e,{hasErrors:g=!1}=e;return r.$$set=h=>{"row"in h&&n(0,f=h.row),"rowDescriptor"in h&&n(1,c=h.rowDescriptor),"meta"in h&&n(7,m=h.meta),"isSelected"in h&&n(2,d=h.isSelected),"hasErrors"in h&&n(3,g=h.hasErrors)},r.$$.update=()=>{var h;r.$$.dirty&128&&u(n(6,{rowStatus:t}=m,t)),r.$$.dirty&513&&n(8,l=i.get(f.identifier)),r.$$.dirty&256&&n(5,s=l==null?void 0:l.wholeRowState),r.$$.dirty&256&&n(4,o=(h=l==null?void 0:l.errorsFromWholeRowAndCells)!=null?h:[])},[f,c,d,g,o,s,t,m,l,i]}class pNe extends Q{constructor(e){super(),Z(this,e,_Ne,mNe,J,{row:0,rowDescriptor:1,meta:7,isSelected:2,hasErrors:3})}}function Fy(r,e,n){const t=r.slice();return t[37]=e[n][0],t[38]=e[n][1],t[39]=e,t[40]=n,t}function Ny(r){let e,n;return e=new mR({props:{rowSelectionId:r[11],columnIdentifierKey:If,isWithinPlaceholderRow:r[12],onMouseDown:r[28],$$slots:{default:[gNe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&2048&&(s.rowSelectionId=t[11]),l[0]&4096&&(s.isWithinPlaceholderRow=t[12]),l[0]&675|l[1]&1024&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function gNe(r){let e,n;return e=new pNe({props:{row:r[0],rowDescriptor:r[1],meta:r[5],isSelected:r[9],hasErrors:r[7]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&1&&(s.row=t[0]),l[0]&2&&(s.rowDescriptor=t[1]),l[0]&32&&(s.meta=t[5]),l[0]&512&&(s.isSelected=t[9]),l[0]&128&&(s.hasErrors=t[7]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function hNe(r){let e,n;return e=new QFe({props:{columnCount:r[22].size}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&4194304&&(s.columnCount=t[22].size),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function bNe(r){let e=[],n=new Map,t,l,s=[...r[22]];const o=i=>i[37];for(let i=0;i<s.length;i+=1){let a=Fy(r,s,i),u=o(a);n.set(u,e[i]=Py(u,a))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=ae()},m(i,a){for(let u=0;u<e.length;u+=1)e[u].m(i,a);v(i,t,a),l=!0},p(i,a){a[0]&71500105&&(s=[...i[22]],U(),e=ht(e,a,o,1,i,s,n,t.parentNode,kt,Py,t,Fy),W())},i(i){if(!l){for(let a=0;a<s.length;a+=1)_(e[a]);l=!0}},o(i){for(let a=0;a<e.length;a+=1)p(e[a]);l=!1},d(i){for(let a=0;a<e.length;a+=1)e[a].d(i);i&&$(t)}}}function $Ne(r){let e,n;return e=new KFe({props:{row:r[0],grouping:r[23],group:r[0].group,processedColumnsMap:r[22],recordSummariesForSheet:r[24],fileManifestsForSheet:r[25]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&1&&(s.row=t[0]),l[0]&8388608&&(s.grouping=t[23]),l[0]&1&&(s.group=t[0].group),l[0]&4194304&&(s.processedColumnsMap=t[22]),l[0]&16777216&&(s.recordSummariesForSheet=t[24]),l[0]&33554432&&(s.fileManifestsForSheet=t[25]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Py(r,e){let n,t,l,s;function o(a){e[34](a,e[37])}let i={selection:e[6],row:e[0],rowHasErrors:e[8],key:Ws(e[0].identifier,e[37]),modificationStatusMap:e[17],clientSideErrorMap:e[16],processedColumn:e[38],recordsData:e[3],canUpdateRecords:e[26]};return e[0].record[e[37]]!==void 0&&(i.value=e[0].record[e[37]]),t=new uNe({props:i}),we.push(()=>Me(t,"value",o)),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(a,u){v(a,n,u),k(t,a,u),s=!0},p(a,u){e=a;const f={};u[0]&64&&(f.selection=e[6]),u[0]&1&&(f.row=e[0]),u[0]&256&&(f.rowHasErrors=e[8]),u[0]&4194305&&(f.key=Ws(e[0].identifier,e[37])),u[0]&131072&&(f.modificationStatusMap=e[17]),u[0]&65536&&(f.clientSideErrorMap=e[16]),u[0]&4194304&&(f.processedColumn=e[38]),u[0]&8&&(f.recordsData=e[3]),u[0]&67108864&&(f.canUpdateRecords=e[26]),!l&&u[0]&4194305&&(l=!0,f.value=e[0].record[e[37]],De(()=>l=!1)),t.$set(f)},i(a){s||(_(t.$$.fragment,a),s=!0)},o(a){p(t.$$.fragment,a),s=!1},d(a){a&&$(n),y(t,a)}}}function vNe(r){let e,n=Yu(r[0]),t,l,s,o,i,a,u,f,c=n&&Ny(r);const m=[$Ne,bNe,hNe],d=[];function g(w,S){return S[0]&8388609&&(l=null),S[0]&1&&(s=null),S[0]&1&&(o=null),l==null&&(l=!!(Gu(w[0])&&w[23])),l?0:(s==null&&(s=!!Yu(w[0])),s?1:(o==null&&(o=!!_I(w[0])),o?2:-1))}~(i=g(r,[-1,-1]))&&(a=d[i]=m[i](r));let h=[{class:"row"},r[35],{style:u="--cell-height:"+(Dl-1)+"px;"+r[36]}],b={};for(let w=0;w<h.length;w+=1)b=se(b,h[w]);return{c(){e=E("div"),c&&c.c(),t=N(),a&&a.c(),Tt(e,b),ie(e,"selected",r[9]),ie(e,"processing",r[4]==="processing"),ie(e,"failed",r[8]),ie(e,"created",r[10]==="success"),ie(e,"is-group-header",Gu(r[0])),ie(e,"is-add-placeholder",os(r[0])),ie(e,"svelte-f9wf1y",!0)},m(w,S){v(w,e,S),c&&c.m(e,null),R(e,t),~i&&d[i].m(e,null),f=!0},p(w,S){S[0]&1&&(n=Yu(w[0])),n?c?(c.p(w,S),S[0]&1&&_(c,1)):(c=Ny(w),c.c(),_(c,1),c.m(e,t)):c&&(U(),p(c,1,1,()=>{c=null}),W());let T=i;i=g(w,S),i===T?~i&&d[i].p(w,S):(a&&(U(),p(d[T],1,1,()=>{d[T]=null}),W()),~i?(a=d[i],a?a.p(w,S):(a=d[i]=m[i](w),a.c()),_(a,1),a.m(e,null)):a=null),Tt(e,b=de(h,[{class:"row"},S[1]&16&&w[35],(!f||S[1]&32&&u!==(u="--cell-height:"+(Dl-1)+"px;"+w[36]))&&{style:u}])),ie(e,"selected",w[9]),ie(e,"processing",w[4]==="processing"),ie(e,"failed",w[8]),ie(e,"created",w[10]==="success"),ie(e,"is-group-header",Gu(w[0])),ie(e,"is-add-placeholder",os(w[0])),ie(e,"svelte-f9wf1y",!0)},i(w){f||(_(c),_(a),f=!0)},o(w){p(c),p(a),f=!1},d(w){w&&$(e),c&&c.d(),~i&&d[i].d()}}}function wNe(r){let e,n;return e=new n1({props:{style:r[2],$$slots:{default:[vNe,({htmlAttributes:t,styleString:l})=>({35:t,36:l}),({htmlAttributes:t,styleString:l})=>[0,(t?16:0)|(l?32:0)]]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&4&&(s.style=t[2]),l[0]&130228219|l[1]&1072&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function kNe(r,e,n){let t,l,s,o,i,a,u,f,c,m,d,g,h,b,w,S,T,M,A,D,O,F=H,P=()=>(F(),F=le(s,Oe=>n(22,O=Oe)),s),B,j=H,V=()=>(j(),j=le(o,Oe=>n(30,B=Oe)),o),q,G=H,Y=()=>(G(),G=le(a,Oe=>n(31,q=Oe)),a),K,ee=H,x=()=>(ee(),ee=le(u,Oe=>n(32,K=Oe)),u),X,fe,he=H,me=()=>(he(),he=le(m,Oe=>n(23,fe=Oe)),m),ge,pe=H,Le=()=>(pe(),pe=le(d,Oe=>n(24,ge=Oe)),d),Qe,Ae=H,Je=()=>(Ae(),Ae=le(g,Oe=>n(25,Qe=Oe)),g),ze,Ve=H,Be=()=>(Ve(),Ve=le(i,Oe=>n(26,ze=Oe)),i);r.$$.on_destroy.push(()=>F()),r.$$.on_destroy.push(()=>j()),r.$$.on_destroy.push(()=>G()),r.$$.on_destroy.push(()=>ee()),r.$$.on_destroy.push(()=>he()),r.$$.on_destroy.push(()=>pe()),r.$$.on_destroy.push(()=>Ae()),r.$$.on_destroy.push(()=>Ve());let{row:qe}=e,{rowDescriptor:ft}=e,{style:vt}=e;const ut=on();ne(r,ut,Oe=>n(33,X=Oe));async function Xe(Oe){var mt;if(!os(qe))return;Oe.stopPropagation(),await t.addEmptyRecord();const _t=O.values(),Fe=(mt=SE(_t))==null?void 0:mt.id.toString();!Fe||o.update(yt=>yt.ofNewRecordDataEntryCell(Fe))}function dt(Oe,_t){r.$$.not_equal(qe.record[_t],Oe)&&(qe.record[_t]=Oe,n(0,qe))}return r.$$set=Oe=>{"row"in Oe&&n(0,qe=Oe.row),"rowDescriptor"in Oe&&n(1,ft=Oe.rowDescriptor),"style"in Oe&&n(2,vt=Oe.style)},r.$$.update=()=>{var Oe,_t;r.$$.dirty[1]&4&&n(3,{recordsData:t,meta:l,processedColumns:s,selection:o,canUpdateRecords:i}=X,t,(n(5,l),n(33,X)),P(n(21,s)),V(n(6,o)),Be(n(20,i))),r.$$.dirty[0]&32&&Y(n(19,{rowStatus:a,rowCreationStatus:u,cellModificationStatus:f,cellClientSideErrors:c}=l,a,x(n(18,u)),(n(17,f),n(5,l),n(33,X)),(n(16,c),n(5,l),n(33,X)))),r.$$.dirty[0]&8&&me(n(15,{grouping:m,linkedRecordSummaries:d,fileManifests:g}=t,m,Le(n(14,d)),Je(n(13,g)))),r.$$.dirty[0]&1&&n(12,h=os(qe)),r.$$.dirty[0]&1&&n(11,b=ya(qe)),r.$$.dirty[0]&1|r.$$.dirty[1]&2&&n(10,w=(Oe=K.get(qe.identifier))==null?void 0:Oe.state),r.$$.dirty[0]&1|r.$$.dirty[1]&1&&n(29,S=q.get(qe.identifier)),r.$$.dirty[0]&536870912&&n(4,T=S==null?void 0:S.wholeRowState),r.$$.dirty[0]&1073741825&&n(9,M=B.rowIds.has(ya(qe))),r.$$.dirty[0]&16&&n(8,A=T==="failure"),r.$$.dirty[0]&536870912&&n(7,D=!!((_t=S==null?void 0:S.errorsFromWholeRowAndCells)!=null&&_t.length))},[qe,ft,vt,t,T,l,o,D,A,M,w,b,h,g,d,m,c,f,u,a,i,s,O,fe,ge,Qe,ze,ut,Xe,S,B,q,K,X,dt]}class HR extends Q{constructor(e){super(),Z(this,e,kNe,wNe,J,{row:0,rowDescriptor:1,style:2},null,[-1,-1])}}function yNe(r,e,n){let t,l,s,o,i,a,u,f,c,m,d,g=H,h=()=>(g(),g=le(m,Be=>n(16,d=Be)),m),b,w=H,S=()=>(w(),w=le(i,Be=>n(17,b=Be)),i),T,M=H,A=()=>(M(),M=le(f,Be=>n(18,T=Be)),f),D,O=H,F=()=>(O(),O=le(o,Be=>n(26,D=Be)),o),P,B=H,j=()=>(B(),B=le(c,Be=>n(19,P=Be)),c),V,q=H,G=()=>(q(),q=le(u,Be=>n(20,V=Be)),u),Y,K=H,ee=()=>(K(),K=le(a,Be=>n(21,Y=Be)),a),x;r.$$.on_destroy.push(()=>g()),r.$$.on_destroy.push(()=>w()),r.$$.on_destroy.push(()=>M()),r.$$.on_destroy.push(()=>O()),r.$$.on_destroy.push(()=>B()),r.$$.on_destroy.push(()=>q()),r.$$.on_destroy.push(()=>K());const X=on();ne(r,X,Be=>n(22,x=Be));let{api:fe}=e,he,me,ge,pe;gD(()=>{n(9,he=Y),n(10,me=V),n(11,ge=T),n(12,pe=P)});let Le=0,Qe=0,Ae;async function Je(){await sn(),fe.recalculateHeightsAfterIndex(0)}async function ze(Be){var vt,ut;const qe=(vt=Be.length)!=null?vt:0,ft=(ut=D.length)!=null?ut:0;if(Le!==ft){const Xe=Math.max(Qe-Le-3,0);await sn(),Le<ft&&fe.scrollToBottom(),Le=ft,Qe=qe,fe.recalculateHeightsAfterIndex(Xe)}}async function Ve(Be,qe){if(Be!==qn.Loading&&(Ae!==T||T.entries.length>0)){await Je(),Ae=T;return}await ze(qe)}return r.$$set=Be=>{"api"in Be&&n(8,fe=Be.api)},r.$$.update=()=>{r.$$.dirty&4194304&&n(15,{recordsData:t,display:l,meta:s}=x,t,(n(13,l),n(22,x)),(n(14,s),n(22,x))),r.$$.dirty&32768&&F(n(6,{newRecords:o,state:i}=t,o,S(n(5,i)))),r.$$.dirty&16384&&ee(n(4,{sorting:a,filtering:u,grouping:f,pagination:c}=s,a,G(n(3,u)),A(n(2,f)),j(n(1,c)))),r.$$.dirty&8192&&h(n(0,{displayRowDescriptors:m}=l,m)),r.$$.dirty&3940096&&(he!==Y||me!==V||ge!==T||pe!==P)&&fe.scrollToTop(),r.$$.dirty&196608&&Ve(b,d)},[m,c,f,u,a,i,o,X,fe,he,me,ge,pe,l,s,t,d,b,T,P,V,Y,x]}class CNe extends Q{constructor(e){super(),Z(this,e,yNe,null,J,{api:8})}}function Ly(r,e,n){const t=r.slice();return t[21]=e[n],t[22]=e,t[23]=n,t}function Hy(r,e,n){const t=r.slice();t[17]=e[n],t[19]=e,t[20]=n;const l=!(os(t[4][t[17].index].row)&&!t[5]);return t[18]=l,t}function SNe(r){let e=[],n=new Map,t,l,s=r[4];const o=i=>i[21];for(let i=0;i<s.length;i+=1){let a=Ly(r,s,i),u=o(a);n.set(u,e[i]=Vy(u,a))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=ae()},m(i,a){for(let u=0;u<e.length;u+=1)e[u].m(i,a);v(i,t,a),l=!0},p(i,a){a&144&&(s=i[4],U(),e=ht(e,a,o,1,i,s,n,t.parentNode,kt,Vy,t,Ly),W())},i(i){if(!l){for(let a=0;a<s.length;a+=1)_(e[a]);l=!0}},o(i){for(let a=0;a<e.length;a+=1)p(e[a]);l=!1},d(i){for(let a=0;a<e.length;a+=1)e[a].d(i);i&&$(t)}}}function TNe(r){let e,n;return e=new iR({props:{itemCount:r[4].length,paddingBottom:30,itemSize:r[8],itemKey:r[13],$$slots:{default:[INe,({items:t,api:l})=>({15:t,16:l}),({items:t,api:l})=>(t?32768:0)|(l?65536:0)]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.itemCount=t[4].length),l&16&&(s.itemKey=t[13]),l&16875568&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Vy(r,e){let n,t,l,s;function o(a){e[14](a,e[21])}let i={style:{position:"relative",height:e[7](e[21].row)},rowDescriptor:e[21]};return e[21].row!==void 0&&(i.row=e[21].row),t=new HR({props:i}),we.push(()=>Me(t,"row",o)),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(a,u){v(a,n,u),k(t,a,u),s=!0},p(a,u){e=a;const f={};u&16&&(f.style={position:"relative",height:e[7](e[21].row)}),u&16&&(f.rowDescriptor=e[21]),!l&&u&16&&(l=!0,f.row=e[21].row,De(()=>l=!1)),t.$set(f)},i(a){s||(_(t.$$.fragment,a),s=!0)},o(a){p(t.$$.fragment,a),s=!1},d(a){a&&$(n),y(t,a)}}}function zy(r){let e,n,t;function l(o){r[12](o,r[17])}let s={style:r[17].style,rowDescriptor:r[4][r[17].index]};return r[4][r[17].index].row!==void 0&&(s.row=r[4][r[17].index].row),e=new HR({props:s}),we.push(()=>Me(e,"row",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){r=o;const a={};i&32768&&(a.style=r[17].style),i&32784&&(a.rowDescriptor=r[4][r[17].index]),!n&&i&32784&&(n=!0,a.row=r[4][r[17].index].row,De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function By(r,e){let n,t,l,s=e[4][e[17].index]&&e[18]&&zy(e);return{key:r,first:null,c(){n=ae(),s&&s.c(),t=ae(),this.first=n},m(o,i){v(o,n,i),s&&s.m(o,i),v(o,t,i),l=!0},p(o,i){e=o,e[4][e[17].index]&&e[18]?s?(s.p(e,i),i&32816&&_(s,1)):(s=zy(e),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(U(),p(s,1,1,()=>{s=null}),W())},i(o){l||(_(s),l=!0)},o(o){p(s),l=!1},d(o){o&&$(n),s&&s.d(o),o&&$(t)}}}function INe(r){let e,n,t=[],l=new Map,s,o;e=new CNe({props:{api:r[16]}});let i=r[15];const a=u=>u[17].key;for(let u=0;u<i.length;u+=1){let f=Hy(r,i,u),c=a(f);l.set(c,t[u]=By(c,f))}return{c(){C(e.$$.fragment),n=N();for(let u=0;u<t.length;u+=1)t[u].c();s=ae()},m(u,f){k(e,u,f),v(u,n,f);for(let c=0;c<t.length;c+=1)t[c].m(u,f);v(u,s,f),o=!0},p(u,f){const c={};f&65536&&(c.api=u[16]),e.$set(c),f&32816&&(i=u[15],U(),t=ht(t,f,a,1,u,i,l,s.parentNode,kt,By,s,Hy),W())},i(u){if(!o){_(e.$$.fragment,u);for(let f=0;f<i.length;f+=1)_(t[f]);o=!0}},o(u){p(e.$$.fragment,u);for(let f=0;f<t.length;f+=1)p(t[f]);o=!1},d(u){y(e,u),u&&$(n);for(let f=0;f<t.length;f+=1)t[f].d(u);u&&$(s)}}}function qy(r){let e,n,t,l;const s=[TNe,SNe],o=[];function i(a,u){return a[0]?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function ENe(r){let e=r[2],n,t,l=qy(r);return{c(){l.c(),n=ae()},m(s,o){l.m(s,o),v(s,n,o),t=!0},p(s,[o]){o&4&&J(e,e=s[2])?(U(),p(l,1,1,H),W(),l=qy(s),l.c(),_(l,1),l.m(n.parentNode,n)):l.p(s,o)},i(s){t||(_(l),t=!0)},o(s){p(l),t=!1},d(s){s&&$(n),l.d(s)}}}function MNe(r,e){return e?e.row.identifier:`__index_${r}`}function RNe(r,e,n){let t,l,s,o,i,a,u=H,f=()=>(u(),u=le(i,D=>n(4,a=D)),i),c,m,d=H,g=()=>(d(),d=le(s,D=>n(5,m=D)),s);r.$$.on_destroy.push(()=>u()),r.$$.on_destroy.push(()=>d());const h=on();ne(r,h,D=>n(11,c=D));let{usesVirtualList:b=!1}=e;function w(D){return _I(D)?UX:Gu(D)?WX:Dl}function S(D){const O=a==null?void 0:a[D].row;return O?w(O):Dl}function T(D,O){r.$$.not_equal(a[O.index].row,D)&&(a[O.index].row=D,i.set(a))}const M=D=>MNe(D,a[D]);function A(D,O){r.$$.not_equal(O.row,D)&&(O.row=D,i.set(a))}return r.$$set=D=>{"usesVirtualList"in D&&n(0,b=D.usesVirtualList)},r.$$.update=()=>{r.$$.dirty&2048&&n(10,{table:t,display:l,canInsertRecords:s}=c,t,(n(9,l),n(11,c)),g(n(3,s))),r.$$.dirty&1024&&n(2,{oid:o}=t,o),r.$$.dirty&512&&f(n(1,{displayRowDescriptors:i}=l,i))},[b,i,o,s,a,m,h,w,S,l,t,c,T,M,A]}class DNe extends Q{constructor(e){super(),Z(this,e,RNe,ENe,J,{usesVirtualList:0})}}function*ANe(r){!ve(r.tabularData.canDeleteRecords)||(yield Mr({icon:Mt,danger:!0,label:ve(ce)("delete_records",{values:{count:r.rowIds.length}}),onClick:()=>{ml({title:ve(ce)("delete_records_question",{values:{count:r.rowIds.length}}),body:[ve(ce)("deleted_records_cannot_be_recovered",{values:{count:r.rowIds.length}}),ve(ce)("are_you_sure_to_proceed")],onProceed:()=>r.tabularData.recordsData.deleteSelected(r.rowIds),onError:n=>$t.fromError(n)})}}))}function*ONe(r){if(!ve(r.tabularData.canInsertRecords))return;const n=ve(r.tabularData.recordsData.selectableRowsMap);yield Mr({icon:RK,label:ve(ce)("duplicate_record"),onClick:()=>{const t=n.get(r.rowId);!t||r.tabularData.recordsData.duplicateRecord(t)}})}function*FNe(r){const e=r.tabularData.meta.filtering,t=ve(e).entries.filter(o=>o.columnId===r.column.id);if(!r.imperativeFilterController)return;const{imperativeFilterController:l}=r,s=t.length;yield Mr({icon:kK,label:s>0?ve(ce)("add_filter"):ve(ce)("filter_column"),onClick:()=>{l.beginAddingNewFilteringEntry(r.column.id)}}),s&&(yield Mr({icon:SK,label:ve(ce)("remove_filters",{values:{count:s}}),onClick:()=>e.update(o=>o.withoutColumns([r.column.id]))}))}function*NNe(r){const e=r.tabularData.meta.grouping;ve(e).hasColumn(r.column.id)?yield Mr({icon:ii,label:ve(ce)("remove_grouping"),onClick:()=>{e.update(l=>l.withoutColumns([r.column.id]))}}):yield Mr({icon:ii,label:ve(ce)("group_by_column"),onClick:()=>e.update(l=>l.withEntry({columnId:r.column.id,preprocFnId:void 0}))})}function*PNe(r){const e=r.tabularData.meta.sorting,t=ve(e).get(r.column.id),l=bI(r.column.abstractType.cellInfo.type,!!r.column.linkFk);function s(){e.update(i=>i.without(r.column.id))}function o(i){e.update(a=>a.with(r.column.id,i))}t==="ASCENDING"?yield Mr({icon:mf,label:ve(ce)("remove_sorting_type",{values:{sortingType:l.ASCENDING}}),onClick:s}):yield Mr({icon:mf,label:ve(ce)("sort_type",{values:{sortingType:l.ASCENDING}}),onClick:()=>o("ASCENDING")}),t==="DESCENDING"?yield Mr({icon:df,label:ve(ce)("remove_sorting_type",{values:{sortingType:l.DESCENDING}}),onClick:s}):yield Mr({icon:df,label:ve(ce)("sort_type",{values:{sortingType:l.DESCENDING}}),onClick:()=>o("DESCENDING")})}function Uy(r){let e,n;return e=new kn({props:{$$slots:{default:[LNe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&9&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function LNe(r){let e;return{c(){e=L(r[0])},m(n,t){v(n,e,t)},p(n,t){t&1&&z(e,n[0])},d(n){n&&$(e)}}}function HNe(r){let e,n,t=r[2]==="tableName"&&Uy(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[2]==="tableName"?t?(t.p(l,s),s&4&&_(t,1)):(t=Uy(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function VNe(r){let e,n;return e=new ot({props:{text:r[1]("open_named_table"),$$slots:{default:[HNe,({slotName:t})=>({2:t}),({slotName:t})=>t?4:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&2&&(s.text=t[1]("open_named_table")),l&13&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function zNe(r,e,n){let t;ne(r,ce,s=>n(1,t=s));let{name:l}=e;return r.$$set=s=>{"name"in s&&n(0,l=s.name)},[l,t]}class BNe extends Q{constructor(e){super(),Z(this,e,zNe,VNe,J,{name:0})}}function qNe(r){const{linkFk:e}=r;if(!e)return;const n=ve(_r).tablesMap.get(e.referent_table_oid);if(!n)return;const l=ve(Pc)({tableId:n.oid});if(!!l)return{table:n,href:l}}function*UNe(r){const e=qNe(r.column);e&&(yield B_({label:ks(BNe,{name:e.table.name}),href:e.href,icon:ss}))}function Wy(r){let e,n;return e=new yi({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function WNe(r){let e,n,t=r[2]==="value"&&Wy();return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[2]==="value"?t?s&4&&_(t,1):(t=Wy(),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function jNe(r){let e,n;return e=new ot({props:{text:r[1]("set_count_cells_to_value",{values:{count:r[0]}}),$$slots:{default:[WNe,({slotName:t})=>({2:t}),({slotName:t})=>t?4:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&3&&(s.text=t[1]("set_count_cells_to_value",{values:{count:t[0]}})),l&12&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function YNe(r,e,n){let t;ne(r,ce,s=>n(1,t=s));let{cellCount:l}=e;return r.$$set=s=>{"cellCount"in s&&n(0,l=s.cellCount)},[l,t]}class Pm extends Q{constructor(e){super(),Z(this,e,YNe,jNe,J,{cellCount:0})}}function*GNe(r){const n=Mr({icon:ld,label:ks(Pm,{cellCount:1}),disabled:!0,onClick:()=>{}});if(!ve(r.tabularData.canUpdateRecords)){yield n;return}const l=r.cellIds.length,{rowIds:s,columnIds:o}=ve(r.tabularData.selection),i=ve(r.tabularData.recordsData.selectableRowsMap),a=ve(r.tabularData.processedColumns);if(jr(o,Ln(d=>a.get(parseInt(d,10))),sl(d=>!!d),Ys(d=>!(d!=null&&d.isEditable)||!(d!=null&&d.column.nullable)))){yield n;return}function*f(){for(const d of s){const g=i.get(d);!g||(yield{row:g,cells:[...o].map(h=>({columnId:h,value:null}))})}}if(!jr(f(),Ys(({row:d,cells:g})=>jr(g,Ys(({columnId:h})=>d.record[h]!==null))))){yield n;return}async function m(){l>1&&!await ml({title:ks(Pm,{cellCount:l})})||await r.tabularData.recordsData.bulkUpdate([...f()])}yield Mr({icon:ld,label:ks(Pm,{cellCount:l}),onClick:()=>{m()}})}function jy(r){let e,n,t;return n=new ru({props:{recordSummary:r[1]}}),{c(){e=E("span"),C(n.$$.fragment),I(e,"class","record-summary svelte-ux6q98")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&2&&(o.recordSummary=l[1]),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function KNe(r){let e,n,t=r[2]==="recordName"&&jy(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[2]==="recordName"?t?(t.p(l,s),s&4&&_(t,1)):(t=jy(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function XNe(r){let e,n,t;return n=new ot({props:{text:r[0],wrapStaticText:!0,$$slots:{default:[KNe,({slotName:l})=>({2:l}),({slotName:l})=>l?4:0]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","i18n-text-with-record-summary svelte-ux6q98")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,[s]){const o={};s&1&&(o.text=l[0]),s&14&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function JNe(r,e,n){let{translatedText:t}=e,{recordSummary:l}=e;return r.$$set=s=>{"translatedText"in s&&n(0,t=s.translatedText),"recordSummary"in s&&n(1,l=s.recordSummary)},[t,l]}class Yy extends Q{constructor(e){super(),Z(this,e,JNe,XNe,J,{translatedText:0,recordSummary:1})}}function*ZNe(r){var a;if(!r.column||!r.cellValue===void 0||r.cellValue===null)return;const{linkFk:e}=r.column;if(!e||!ve(r.tabularData.canViewLinkedEntities))return;const t=ve(Ci).get(e.referent_table_oid);if(!t)return;const s=ve(wo)({tableId:t.oid,recordId:r.cellValue});if(!s)return;const i=(a=ve(r.tabularData.recordsData.linkedRecordSummaries).get(String(r.column.id)))==null?void 0:a.get(String(r.cellValue));!i||(yield CT(Mr({label:ks(Yy,{translatedText:ve(ce)("quick_view_named_record"),recordSummary:i}),icon:xs,onClick:()=>{if(!r.modalRecordView)return;const u=new Si({table:t,recordPk:String(r.cellValue)});r.modalRecordView.open(u)}}),B_({label:ks(Yy,{translatedText:ve(ce)("open_named_record"),recordSummary:i}),icon:Es,href:s})))}function*QNe(r){if(r.recordId===void 0||!ve(r.tabularData.canViewLinkedEntities))return;yield Mr({label:ve(ce)("quick_view_record"),icon:xs,onClick:()=>{if(!r.modalRecordView||r.recordId===void 0)return;const l=ve(Ci).get(r.tabularData.table.oid);if(!l)return;const s=new Si({table:l,recordPk:String(r.recordId)});r.modalRecordView.open(s)}});const t=ve(wo)({tableId:r.tabularData.table.oid,recordId:r.recordId});!t||(yield B_({icon:Es,label:ve(ce)("open_record"),href:t}))}function xNe({targetCell:r,position:e,contextMenu:n,modalRecordView:t,tabularData:l,imperativeFilterController:s}){const{selection:o}=l;function*i(w){yield*ANe({tabularData:l,rowIds:w})}function*a(w){const S=l.getRecordIdFromRowId(w);yield*QNe({tabularData:l,recordId:S,modalRecordView:t}),yield*ONe({tabularData:l,rowId:w}),yield*i([w])}function*u(w){const S=ju(w);S?yield*a(S):yield*i([...w])}function*f(w){const S=l.getProcessedColumn(w);!S||(yield*FNe({tabularData:l,column:S,imperativeFilterController:s}),yield*PNe({tabularData:l,column:S}),yield*NNe({tabularData:l,column:S}),yield CT(...UNe({column:S})))}function*c(w){}function*m(w){const S=ju(w);S?yield*f(S):yield*c([...w])}function*d(w){yield*GNe({tabularData:l,cellIds:w})}function*g(w){const{columnId:S}=nr(w),T=l.getProcessedColumn(S),M=l.recordsData.getCellValue(w);yield*ZNe({tabularData:l,column:T,cellValue:M,modalRecordView:t}),yield*d([w])}function*h({cellIds:w,rowIds:S,columnIds:T}){const M=ju(w);M?yield*g(M):yield*d([...w]);const A=[...u(S)];A.length&&(yield Sb({label:ve(ce)("row_plural",{values:{count:S.size}}),entries:A}));const D=[...m(T)];D.length&&(yield Sb({label:ve(ce)("column_plural",{values:{count:T.size}}),entries:D}))}const b=Ao(r,"type",{"row-header-cell":({rowId:w})=>(o.update(S=>S.rowIds.has(w)?S:S.ofOneRow(w)),[...u(ve(o).rowIds)]),"column-header-cell":({columnId:w})=>(o.update(S=>S.columnIds.has(w)?S:S.ofOneColumn(w)),[...m(ve(o).columnIds)]),"data-cell":({cellId:w})=>(o.update(S=>S.cellIds.has(w)?S:S.ofOneCell(w)),[...h(ve(o))]),"placeholder-data-cell":()=>[],"placeholder-row-header-cell":()=>[]});return b.length?(n.open({position:e,entries:b}),"opened"):"empty"}function ePe(r){let e,n,t,l;const s=r[6].default,o=ke(s,r,r[5],null);return{c(){e=E("div"),o&&o.c(),I(e,"class","draggable svelte-3gs1al"),I(e,"draggable",r[1]),ie(e,"draggable_active",r[1])},m(i,a){v(i,e,a),o&&o.m(e,null),n=!0,t||(l=[He(e,"dragstart",r[7]),He(e,"mousedown",r[2])],t=!0)},p(i,[a]){o&&o.p&&(!n||a&32)&&Ce(o,s,i,i[5],n?ye(s,i[5],a,null):Se(i[5]),null),(!n||a&2)&&I(e,"draggable",i[1]),(!n||a&2)&&ie(e,"draggable_active",i[1])},i(i){n||(_(o,i),n=!0)},o(i){p(o,i),n=!1},d(i){i&&$(e),o&&o.d(i),t=!1,Ot(l)}}}function tPe(r,e,n){let t,l,s=H,o=()=>(s(),s=le(u,d=>n(4,l=d)),u);r.$$.on_destroy.push(()=>s());let{$$slots:i={},$$scope:a}=e,{selection:u}=e;o();let{column:f}=e;function c(d){t&&d.stopPropagation()}function m(d){Re.call(this,r,d)}return r.$$set=d=>{"selection"in d&&o(n(0,u=d.selection)),"column"in d&&n(3,f=d.column),"$$scope"in d&&n(5,a=d.$$scope)},r.$$.update=()=>{r.$$.dirty&24&&n(1,t=l.fullySelectedColumnIds.has(String(f.id)))},[u,t,c,f,l,a,i,m]}class nPe extends Q{constructor(e){super(),Z(this,e,tPe,ePe,J,{selection:0,column:3})}}const rPe=r=>({}),Gy=r=>({class:"drag-over"});function lPe(r){let e,n,t,l;const s=r[10].default,o=ke(s,r,r[9],Gy);return{c(){e=E("div"),o&&o.c(),I(e,"class","droppable svelte-8wmr3c"),ie(e,"is_selected",r[0]),ie(e,"dragged_over",r[1]),ie(e,"dragged_over_right",r[3]),ie(e,"dragged_over_left",r[2])},m(i,a){v(i,e,a),o&&o.m(e,null),n=!0,t||(l=[He(e,"drop",r[11]),He(e,"dragover",sPe),He(e,"dragenter",r[12]),He(e,"dragleave",r[13])],t=!0)},p(i,[a]){o&&o.p&&(!n||a&512)&&Ce(o,s,i,i[9],n?ye(s,i[9],a,rPe):Se(i[9]),Gy),(!n||a&1)&&ie(e,"is_selected",i[0]),(!n||a&2)&&ie(e,"dragged_over",i[1]),(!n||a&8)&&ie(e,"dragged_over_right",i[3]),(!n||a&4)&&ie(e,"dragged_over_left",i[2])},i(i){n||(_(o,i),n=!0)},o(i){p(o,i),n=!1},d(i){i&&$(e),o&&o.d(i),t=!1,Ot(l)}}}const sPe=r=>r.preventDefault();function oPe(r,e,n){let t,l,s,{$$slots:o={},$$scope:i}=e,{locationOfFirstDraggedColumn:a}=e,{columnLocation:u}=e,{isSelected:f=!1}=e,c=0;function m(w){w.preventDefault(),n(1,c+=1)}function d(){n(1,c-=1)}function g(w){Re.call(this,r,w)}const h=w=>m(w),b=()=>d();return r.$$set=w=>{"locationOfFirstDraggedColumn"in w&&n(6,a=w.locationOfFirstDraggedColumn),"columnLocation"in w&&n(7,u=w.columnLocation),"isSelected"in w&&n(0,f=w.isSelected),"$$scope"in w&&n(9,i=w.$$scope)},r.$$.update=()=>{r.$$.dirty&192&&n(8,t=a!==void 0?a-u:0),r.$$.dirty&256&&n(3,l=t<0),r.$$.dirty&256&&n(2,s=t>0),r.$$.dirty&64&&a===void 0&&n(1,c=0)},[f,c,s,l,m,d,a,u,t,i,o,g,h,b]}class VR extends Q{constructor(e){super(),Z(this,e,oPe,lPe,J,{locationOfFirstDraggedColumn:6,columnLocation:7,isSelected:0})}}function Ky(r){let e,n,t,l,s,o=r[3]&&Xy(r),i=r[4]&&Jy(),a=r[2]&&Zy(),u=r[8]&&Qy(r);return{c(){e=E("div"),o&&o.c(),n=N(),i&&i.c(),t=N(),a&&a.c(),l=N(),u&&u.c(),I(e,"class","indicator-icons svelte-1iiy6nb")},m(f,c){v(f,e,c),o&&o.m(e,null),R(e,n),i&&i.m(e,null),R(e,t),a&&a.m(e,null),R(e,l),u&&u.m(e,null),s=!0},p(f,c){f[3]?o?(o.p(f,c),c&8&&_(o,1)):(o=Xy(f),o.c(),_(o,1),o.m(e,n)):o&&(U(),p(o,1,1,()=>{o=null}),W()),f[4]?i?(i.p(f,c),c&16&&_(i,1)):(i=Jy(),i.c(),_(i,1),i.m(e,t)):i&&(U(),p(i,1,1,()=>{i=null}),W()),f[2]?a?(a.p(f,c),c&4&&_(a,1)):(a=Zy(),a.c(),_(a,1),a.m(e,l)):a&&(U(),p(a,1,1,()=>{a=null}),W()),f[8]?u?(u.p(f,c),c&256&&_(u,1)):(u=Qy(f),u.c(),_(u,1),u.m(e,null)):u&&(U(),p(u,1,1,()=>{u=null}),W())},i(f){s||(_(o),_(i),_(a),_(u),s=!0)},o(f){p(o),p(i),p(a),p(u),s=!1},d(f){f&&$(e),o&&o.d(),i&&i.d(),a&&a.d(),u&&u.d()}}}function Xy(r){let e,n;const t=[r[3]==="ASCENDING"?mf:df];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&8?de(t,[_e(s[3]==="ASCENDING"?mf:df)]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function Jy(r){let e,n;const t=[pf];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[_e(pf)]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function Zy(r){let e,n;const t=[ii];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[_e(ii)]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function Qy(r){let e,n;return e=new On({props:{$$slots:{content:[aPe],trigger:[iPe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1048832&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function iPe(r){let e,n;const t=[{slot:"trigger"},vf];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[t[0],_e(vf)]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function aPe(r){let e,n;return{c(){e=E("div"),n=L(r[8]),I(e,"slot","content")},m(t,l){v(t,e,l),R(e,n)},p(t,l){l&256&&z(n,t[8])},d(t){t&&$(e)}}}function uPe(r){let e,n,t,l,s,o,i,a,u;n=new ll({props:{when:r[1],color:"var(--cell-bg-color-row-selected)"}}),s=new cs({props:{processedColumn:r[0]}});let f=(r[3]||r[4]||r[2]||r[8])&&Ky(r);return{c(){e=E("div"),C(n.$$.fragment),t=N(),l=E("div"),C(s.$$.fragment),o=N(),f&&f.c(),I(l,"class","header-cell-btn btn btn-ghost svelte-1iiy6nb"),ln(l,"cursor","inherit"),I(e,"class","header-cell-root svelte-1iiy6nb")},m(c,m){v(c,e,m),k(n,e,null),R(e,t),R(e,l),k(s,l,null),R(l,o),f&&f.m(l,null),i=!0,a||(u=[He(l,"click",r[17]),He(l,"mousedown",r[18]),He(l,"mouseenter",r[19])],a=!0)},p(c,[m]){const d={};m&2&&(d.when=c[1]),n.$set(d);const g={};m&1&&(g.processedColumn=c[0]),s.$set(g),c[3]||c[4]||c[2]||c[8]?f?(f.p(c,m),m&284&&_(f,1)):(f=Ky(c),f.c(),_(f,1),f.m(l,null)):f&&(U(),p(f,1,1,()=>{f=null}),W())},i(c){i||(_(n.$$.fragment,c),_(s.$$.fragment,c),_(f),i=!0)},o(c){p(n.$$.fragment,c),p(s.$$.fragment,c),p(f),i=!1},d(c){c&&$(e),y(n),y(s),f&&f.d(),a=!1,Ot(u)}}}function fPe(r,e,n){let t,l,s,o,i,a,u,f,c,m,d,g=H,h=()=>(g(),g=le(u,q=>n(13,d=q)),u),b,w=H,S=()=>(w(),w=le(a,q=>n(14,b=q)),a),T,M=H,A=()=>(M(),M=le(i,q=>n(15,T=q)),i),D;r.$$.on_destroy.push(()=>g()),r.$$.on_destroy.push(()=>w()),r.$$.on_destroy.push(()=>M());const O=on();ne(r,O,q=>n(16,D=q));let{processedColumn:F}=e,{isSelected:P=!1}=e;function B(q){Re.call(this,r,q)}function j(q){Re.call(this,r,q)}function V(q){Re.call(this,r,q)}return r.$$set=q=>{"processedColumn"in q&&n(0,F=q.processedColumn),"isSelected"in q&&n(1,P=q.isSelected)},r.$$.update=()=>{r.$$.dirty&1&&n(12,{column:t}=F,t),r.$$.dirty&4096&&n(10,{id:l,description:s}=t,l,(n(8,s),n(12,t),n(0,F))),r.$$.dirty&65536&&n(11,{meta:o}=D,o),r.$$.dirty&2048&&A(n(7,{filtering:i,sorting:a,grouping:u}=o,i,S(n(6,a)),h(n(5,u)))),r.$$.dirty&33792&&n(4,f=T.entries.some(q=>q.columnId===l)),r.$$.dirty&17408&&n(3,c=b.get(l)),r.$$.dirty&9216&&n(2,m=d.entries.some(q=>q.columnId===l))},[F,P,m,c,f,u,a,i,s,O,l,o,t,d,b,T,D,B,j,V]}class cPe extends Q{constructor(e){super(),Z(this,e,fPe,uPe,J,{processedColumn:0,isSelected:1})}}function mPe(r){let e,n;return e=new SR({props:{abstractType:r[5]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&32&&(s.abstractType=t[5]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function dPe(r){let e,n;return e=new ij({props:{options:r[2],getLabel:_Pe,value:r[0],valuesAreEqual:pPe,offsetOnFocus:2,isOptionDisabled:r[3],disabled:r[1],$$slots:{default:[mPe,({option:t})=>({5:t}),({option:t})=>t?32:0]},$$scope:{ctx:r}}}),e.$on("change",r[4]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&4&&(s.options=t[2]),l&1&&(s.value=t[0]),l&2&&(s.disabled=t[1]),l&96&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}const _Pe=r=>{var e;return(e=r==null?void 0:r.name)!=null?e:""},pPe=(r,e)=>(r==null?void 0:r.identifier)===(e==null?void 0:e.identifier);function gPe(r,e,n){let t,{value:l}=e,{disabled:s=!1}=e;const o=a=>LI(a),i=a=>{var u;n(0,l=(u=a.detail)!=null?u:NI)};return r.$$set=a=>{"value"in a&&n(0,l=a.value),"disabled"in a&&n(1,s=a.disabled)},n(2,t=$x()),[l,s,t,o,i]}class hPe extends Q{constructor(e){super(),Z(this,e,gPe,dPe,J,{value:0,disabled:1})}}function bPe(r){let e,n;const t=[{class:"opt"},jt,{size:"0.9em"}];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[t[0],_e(jt),t[2]]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function $Pe(r){let e,n;return e=new Gt({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function vPe(r){let e,n,t,l;const s=[$Pe,bPe],o=[];function i(a,u){return a[5]?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function wPe(r){let e,n,t,l,s,o,i,a;n=new It({props:{field:r[1],label:r[4]("column_name"),layout:"stacked"}}),l=new It({props:{field:r[7],input:{component:hPe},label:r[4]("select_type"),layout:"stacked"}});function u(){return r[12](r[15])}return i=new yn({props:{form:r[0],proceedButton:{label:r[4]("add")},onProceed:u,onCancel:r[15],catchErrors:!0}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),C(l.$$.fragment),s=N(),o=E("div"),C(i.$$.fragment),I(o,"class","submit svelte-1kfp8h"),I(e,"slot","content"),I(e,"class","new-column-dropdown svelte-1kfp8h")},m(f,c){v(f,e,c),k(n,e,null),R(e,t),k(l,e,null),R(e,s),R(e,o),k(i,o,null),a=!0},p(f,c){r=f;const m={};c&2&&(m.field=r[1]),c&16&&(m.label=r[4]("column_name")),n.$set(m);const d={};c&16&&(d.label=r[4]("select_type")),l.$set(d);const g={};c&1&&(g.form=r[0]),c&16&&(g.proceedButton={label:r[4]("add")}),c&32768&&(g.onProceed=u),c&32768&&(g.onCancel=r[15]),i.$set(g)},i(f){a||(_(n.$$.fragment,f),_(l.$$.fragment,f),_(i.$$.fragment,f),a=!0)},o(f){p(n.$$.fragment,f),p(l.$$.fragment,f),p(i.$$.fragment,f),a=!1},d(f){f&&$(e),y(n),y(l),y(i)}}}function kPe(r){let e,n;return e=new Nl({props:{closeOnInnerClick:!1,triggerAppearance:"plain",showArrow:!1,ariaLabel:r[4]("new_column"),disabled:r[5],$$slots:{content:[wPe,({close:t})=>({15:t}),({close:t})=>t?32768:0],trigger:[vPe]},$$scope:{ctx:r}}}),e.$on("close",function(){St(r[0].reset)&&r[0].reset.apply(this,arguments)}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){r=t;const s={};l&16&&(s.ariaLabel=r[4]("new_column")),l&32&&(s.disabled=r[5]),l&98355&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function yPe(r,e,n){let t,l,s,o,i,a,u=H,f=()=>(u(),u=le(s,F=>n(13,a=F)),s),c,m,d=H,g=()=>(d(),d=le(l,F=>n(10,m=F)),l),h,b,w,S=H,T=()=>(S(),S=le(i,F=>n(5,w=F)),i);ne(r,ce,F=>n(4,b=F)),r.$$.on_destroy.push(()=>u()),r.$$.on_destroy.push(()=>d()),r.$$.on_destroy.push(()=>S());const M=on();ne(r,M,F=>n(11,h=F));const A=gt(NI);ne(r,A,F=>n(14,c=F));async function D(F){const P=hx(c);await t.addWithMetadata({name:a,...P.dbOptions},P.metadata),F()}const O=F=>D(F);return r.$$.update=()=>{r.$$.dirty&2048&&n(9,{columnsDataStore:t}=h,t),r.$$.dirty&512&&g(n(3,{columns:l}=t,l)),r.$$.dirty&1024&&f(n(1,s=gt("",[Pf(m)]))),r.$$.dirty&2&&n(0,o=Wt({columnName:s,columnAbstractType:A})),r.$$.dirty&1&&T(n(2,{isSubmitting:i}=o,i))},[o,s,i,l,b,w,M,A,D,t,m,h,O]}class CPe extends Q{constructor(e){super(),Z(this,e,yPe,kPe,J,{})}}function xy(r,e,n){const t=r.slice();t[21]=e[n][0],t[22]=e[n][1];const l=t[5].columnIds.has(String(t[21]));return t[23]=l,t}function SPe(r){let e,n;return e=new VR({props:{locationOfFirstDraggedColumn:0,columnLocation:-1}}),e.$on("drop",r[13]),e.$on("dragover",APe),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function TPe(r){let e,n;return e=new cPe({props:{processedColumn:r[22],isSelected:r[23]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&64&&(s.processedColumn=t[22]),l&96&&(s.isSelected=t[23]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function IPe(r){let e,n;function t(){return r[14](r[22])}return e=new VR({props:{locationOfFirstDraggedColumn:r[2],columnLocation:r[0].indexOf(r[21]),isSelected:r[23],$$slots:{default:[TPe]},$$scope:{ctx:r}}}),e.$on("drop",t),e.$on("dragover",OPe),{c(){C(e.$$.fragment)},m(l,s){k(e,l,s),n=!0},p(l,s){r=l;const o={};s&4&&(o.locationOfFirstDraggedColumn=r[2]),s&65&&(o.columnLocation=r[0].indexOf(r[21])),s&96&&(o.isSelected=r[23]),s&67108960&&(o.$$scope={dirty:s,ctx:r}),e.$set(o)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){p(e.$$.fragment,l),n=!1},d(l){y(e,l)}}}function EPe(r){let e,n,t,l;e=new nPe({props:{column:r[22],selection:r[4],$$slots:{default:[IPe]},$$scope:{ctx:r}}}),e.$on("dragstart",r[15]);function s(...i){return r[16](r[22],...i)}function o(){return r[17](r[22])}return t=new t1({props:{columnIdentifierKey:r[21],afterResize:s,onReset:o}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(i,a){k(e,i,a),v(i,n,a),k(t,i,a),l=!0},p(i,a){r=i;const u={};a&64&&(u.column=r[22]),a&16&&(u.selection=r[4]),a&67108965&&(u.$$scope={dirty:a,ctx:r}),e.$set(u);const f={};a&64&&(f.columnIdentifierKey=r[21]),a&64&&(f.afterResize=s),a&64&&(f.onReset=o),t.$set(f)},i(i){l||(_(e.$$.fragment,i),_(t.$$.fragment,i),l=!0)},o(i){p(e.$$.fragment,i),p(t.$$.fragment,i),l=!1},d(i){y(e,i),i&&$(n),y(t,i)}}}function e7(r,e){let n,t,l;return t=new r1({props:{columnIdentifierKey:e[21],$$slots:{default:[EPe]},$$scope:{ctx:e}}}),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(s,o){v(s,n,o),k(t,s,o),l=!0},p(s,o){e=s;const i={};o&64&&(i.columnIdentifierKey=e[21]),o&67108981&&(i.$$scope={dirty:o,ctx:e}),t.$set(i)},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){s&&$(n),y(t,s)}}}function t7(r){let e,n;return e=new eTe({props:{columnIdentifierKey:vd,$$slots:{default:[MPe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&67108864&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function MPe(r){let e,n;return e=new CPe({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function RPe(r){let e,n,t=[],l=new Map,s,o,i;e=new fR({props:{columnIdentifierKey:If,$$slots:{default:[SPe]},$$scope:{ctx:r}}});let a=[...r[6]];const u=c=>c[21];for(let c=0;c<a.length;c+=1){let m=xy(r,a,c),d=u(m);l.set(d,t[c]=e7(d,m))}let f=r[1]&&t7(r);return{c(){C(e.$$.fragment),n=N();for(let c=0;c<t.length;c+=1)t[c].c();s=N(),f&&f.c(),o=ae()},m(c,m){k(e,c,m),v(c,n,m);for(let d=0;d<t.length;d+=1)t[d].m(c,m);v(c,s,m),f&&f.m(c,m),v(c,o,m),i=!0},p(c,m){const d={};m&67108864&&(d.$$scope={dirty:m,ctx:c}),e.$set(d),m&1909&&(a=[...c[6]],U(),t=ht(t,m,u,1,c,a,l,s.parentNode,kt,e7,s,xy),W()),c[1]?f?(f.p(c,m),m&2&&_(f,1)):(f=t7(c),f.c(),_(f,1),f.m(o.parentNode,o)):f&&(U(),p(f,1,1,()=>{f=null}),W())},i(c){if(!i){_(e.$$.fragment,c);for(let m=0;m<a.length;m+=1)_(t[m]);_(f),i=!0}},o(c){p(e.$$.fragment,c);for(let m=0;m<t.length;m+=1)p(t[m]);p(f),i=!1},d(c){y(e,c),c&&$(n);for(let m=0;m<t.length;m+=1)t[m].d(c);c&&$(s),f&&f.d(c),c&&$(o)}}}function DPe(r){let e,n;return e=new e1({props:{$$slots:{default:[RPe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&67108983&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}const APe=r=>r.preventDefault(),OPe=r=>r.preventDefault();function FPe(r,e,n){let t,l,s,o,i=H,a=()=>(i(),i=le(t,V=>n(5,o=V)),t),u,f=H,c=()=>(f(),f=le(l,V=>n(6,u=V)),l),m;r.$$.on_destroy.push(()=>i()),r.$$.on_destroy.push(()=>f());const d=on();ne(r,d,V=>n(12,m=V));let{hasNewColumnButton:g=!1}=e,{columnOrder:h}=e,{table:b}=e,w,S=[],T=[];function M(){for(const V of u.keys())n(0,h=[...new Set(h)]),h.includes(V)||n(0,h=[...h,V]);n(0,h);for(const V of h)o.columnIds.has(String(V))?(S.push(V),w||n(2,w=h.indexOf(V))):T.push(V)}function A(V){if(V&&ol(o.columnIds)===String(V.id)){n(2,w=void 0),S=[],T=[];return}V?T.splice(h.indexOf(V.id),0,...S):T.splice(0,0,...S),vo({schema:b.schema,table:{oid:b.oid,metadata:{column_order:T}}}),n(2,w=void 0),S=[],T=[]}function D(V,q){s.setDisplayOptions(V,{display_width:q})}const O=()=>A(),F=V=>A(V),P=()=>M(),B=(V,q)=>D(V,q),j=V=>D(V,null);return r.$$set=V=>{"hasNewColumnButton"in V&&n(1,g=V.hasNewColumnButton),"columnOrder"in V&&n(0,h=V.columnOrder),"table"in V&&n(11,b=V.table)},r.$$.update=()=>{r.$$.dirty&1&&n(0,h=h!=null?h:[]),r.$$.dirty&4096&&a(n(4,{selection:t,processedColumns:l,columnsDataStore:s}=m,t,c(n(3,l))))},[h,g,w,l,t,o,u,d,M,A,D,b,m,O,F,P,B,j]}class NPe extends Q{constructor(e){super(),Z(this,e,FPe,DPe,J,{hasNewColumnButton:1,columnOrder:0,table:11})}}const zR=Gl(),PPe="/bulk_insert/";function LPe(r){const e=new FormData;return e.append("header",r.headerRow?"true":""),e.append("database_id",String(r.database.id)),e.append("target_table_oid",String(r.table.oid)),e.append("file",r.file),e.append("mappings",JSON.stringify(r.columnMapping)),G_(PPe,e)}function n7(r,e){if(r===0)return"0 Bytes";const n=1024,t=["Bytes","KiB","MiB","GiB","TiB","PiB"],l=Math.floor(Math.log(r)/Math.log(n));return`${(r/n**l).toLocaleString(e,{minimumFractionDigits:0,maximumFractionDigits:2})} ${t[l]}`}function HPe(r){let e=r[4]("column_number",{values:{column_number:r[0].index+1}})+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&17&&e!==(e=t[4]("column_number",{values:{column_number:t[0].index+1}})+"")&&z(n,e)},i:H,o:H,d(t){t&&$(n)}}}function VPe(r){let e,n;return e=new Qr({props:{$$slots:{default:[zPe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&65&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function zPe(r){let e=r[0].name+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1&&e!==(e=t[0].name+"")&&z(n,e)},d(t){t&&$(n)}}}function BPe(r){let e=r[0].sampleValue+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1&&e!==(e=t[0].sampleValue+"")&&z(n,e)},d(t){t&&$(n)}}}function qPe(r){let e,n=r[4]("None")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","empty"),I(e,"class","do-not-import svelte-1j4temc")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&16&&n!==(n=l[4]("None")+"")&&z(t,n)},d(l){l&&$(e)}}}function UPe(r){let e,n,t,l,s,o,i,a,u,f,c,m,d;const g=[VPe,HPe],h=[];function b(T,M){return T[0].name?0:1}n=b(r),t=h[n]=g[n](r),o=new Qr({props:{$$slots:{default:[BPe]},$$scope:{ctx:r}}});const w=[af];let S={};for(let T=0;T<w.length;T+=1)S=se(S,w[T]);return u=new Ne({props:S}),m=new _i({props:{value:r[2],columns:[...r[1].values()],allowEmpty:!0,labelController:r[5],onUpdate:r[3],$$slots:{empty:[qPe]},$$scope:{ctx:r}}}),{c(){e=E("div"),t.c(),l=N(),s=E("div"),C(o.$$.fragment),i=N(),a=E("div"),C(u.$$.fragment),f=N(),c=E("div"),C(m.$$.fragment),I(e,"class","column-name"),I(s,"class","sample-value svelte-1j4temc"),I(a,"class","arrow svelte-1j4temc"),I(c,"class","destination")},m(T,M){v(T,e,M),h[n].m(e,null),v(T,l,M),v(T,s,M),k(o,s,null),v(T,i,M),v(T,a,M),k(u,a,null),v(T,f,M),v(T,c,M),k(m,c,null),d=!0},p(T,[M]){let A=n;n=b(T),n===A?h[n].p(T,M):(U(),p(h[A],1,1,()=>{h[A]=null}),W(),t=h[n],t?t.p(T,M):(t=h[n]=g[n](T),t.c()),_(t,1),t.m(e,null));const D={};M&65&&(D.$$scope={dirty:M,ctx:T}),o.$set(D);const O=M&0?de(w,[_e(af)]):{};u.$set(O);const F={};M&4&&(F.value=T[2]),M&2&&(F.columns=[...T[1].values()]),M&8&&(F.onUpdate=T[3]),M&80&&(F.$$scope={dirty:M,ctx:T}),m.$set(F)},i(T){d||(_(t),_(o.$$.fragment,T),_(u.$$.fragment,T),_(m.$$.fragment,T),d=!0)},o(T){p(t),p(o.$$.fragment,T),p(u.$$.fragment,T),p(m.$$.fragment,T),d=!1},d(T){T&&$(e),h[n].d(),T&&$(l),T&&$(s),y(o),T&&$(i),T&&$(a),y(u),T&&$(f),T&&$(c),y(m)}}}function WPe(r,e,n){let t;ne(r,ce,u=>n(4,t=u));const l=new Os;let{field:s}=e,{availableTableColumns:o}=e,{mappedColumn:i=void 0}=e,{onUpdate:a=void 0}=e;return r.$$set=u=>{"field"in u&&n(0,s=u.field),"availableTableColumns"in u&&n(1,o=u.availableTableColumns),"mappedColumn"in u&&n(2,i=u.mappedColumn),"onUpdate"in u&&n(3,a=u.onUpdate)},[s,o,i,a,t,l]}class jPe extends Q{constructor(e){super(),Z(this,e,WPe,UPe,J,{field:0,availableTableColumns:1,mappedColumn:2,onUpdate:3})}}function r7(r,e,n){const t=r.slice();return t[7]=e[n],t[9]=n,t}function l7(r){let e,n;function t(...l){return r[6](r[9],...l)}return e=new jPe({props:{field:r[7],availableTableColumns:r[2],mappedColumn:r[0].at(r[9]),onUpdate:t}}),{c(){C(e.$$.fragment)},m(l,s){k(e,l,s),n=!0},p(l,s){r=l;const o={};s&2&&(o.field=r[7]),s&4&&(o.availableTableColumns=r[2]),s&1&&(o.mappedColumn=r[0].at(r[9])),e.$set(o)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){p(e.$$.fragment,l),n=!1},d(l){y(e,l)}}}function YPe(r){let e,n,t=r[3]("csv_column")+"",l,s,o,i=r[3]("sample_value")+"",a,u,f,c,m,d=r[3]("destination")+"",g,h,b,w=r[1],S=[];for(let M=0;M<w.length;M+=1)S[M]=l7(r7(r,w,M));const T=M=>p(S[M],1,1,()=>{S[M]=null});return{c(){e=E("div"),n=E("div"),l=L(t),s=N(),o=E("div"),a=L(i),u=N(),f=E("div"),c=N(),m=E("div"),g=L(d),h=N();for(let M=0;M<S.length;M+=1)S[M].c();I(n,"class","header svelte-12jneya"),I(o,"class","header svelte-12jneya"),I(m,"class","header svelte-12jneya"),I(e,"class","fields svelte-12jneya")},m(M,A){v(M,e,A),R(e,n),R(n,l),R(e,s),R(e,o),R(o,a),R(e,u),R(e,f),R(e,c),R(e,m),R(m,g),R(e,h);for(let D=0;D<S.length;D+=1)S[D].m(e,null);b=!0},p(M,A){if((!b||A&8)&&t!==(t=M[3]("csv_column")+"")&&z(l,t),(!b||A&8)&&i!==(i=M[3]("sample_value")+"")&&z(a,i),(!b||A&8)&&d!==(d=M[3]("destination")+"")&&z(g,d),A&23){w=M[1];let D;for(D=0;D<w.length;D+=1){const O=r7(M,w,D);S[D]?(S[D].p(O,A),_(S[D],1)):(S[D]=l7(O),S[D].c(),_(S[D],1),S[D].m(e,null))}for(U(),D=w.length;D<S.length;D+=1)T(D);W()}},i(M){if(!b){for(let A=0;A<w.length;A+=1)_(S[A]);b=!0}},o(M){S=S.filter(Boolean);for(let A=0;A<S.length;A+=1)p(S[A]);b=!1},d(M){M&&$(e),Hn(S,M)}}}function GPe(r){let e,n;return e=new al({props:{boxed:!0,label:r[3]("column_mapping"),$$slots:{default:[YPe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&8&&(s.label=t[3]("column_mapping")),l&1039&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function KPe(r,e,n){let t;ne(r,ce,f=>n(3,t=f));let{mapping:l}=e,{setMapping:s}=e,{fields:o}=e,{availableTableColumns:i}=e;function a(f,c){let m=[...l];c&&(m=m.map(d=>(d==null?void 0:d.id)===c.id?void 0:d)),m[f]=c,s(m)}const u=(f,c)=>a(f,c);return r.$$set=f=>{"mapping"in f&&n(0,l=f.mapping),"setMapping"in f&&n(5,s=f.setMapping),"fields"in f&&n(1,o=f.fields),"availableTableColumns"in f&&n(2,i=f.availableTableColumns)},[l,o,i,t,a,s,u]}class XPe extends Q{constructor(e){super(),Z(this,e,KPe,GPe,J,{mapping:0,setMapping:5,fields:1,availableTableColumns:2})}}class JPe{constructor(e=[]){te(this,"keyToValue",new Map);te(this,"valueToKey",new Map);for(const[n,t]of e)this.set(n,t)}set(e,n){const t=this.keyToValue.get(e);t!==void 0&&this.valueToKey.delete(t);const l=this.valueToKey.get(n);l!==void 0&&this.keyToValue.delete(l),this.keyToValue.set(e,n),this.valueToKey.set(n,e)}getValue(e){return this.keyToValue.get(e)}getKey(e){return this.valueToKey.get(e)}deleteKey(e){const n=this.keyToValue.get(e);return n===void 0?!1:(this.keyToValue.delete(e),this.valueToKey.delete(n),!0)}deleteValue(e){const n=this.valueToKey.get(e);return n===void 0?!1:(this.valueToKey.delete(e),this.keyToValue.delete(n),!0)}hasKey(e){return this.keyToValue.has(e)}hasValue(e){return this.valueToKey.has(e)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}get size(){return this.keyToValue.size}keys(){return this.keyToValue.keys()}values(){return this.keyToValue.values()}}function ZPe(r){return r.name!==void 0}async function QPe(r,e={}){var t;const n=(t=e==null?void 0:e.hasHeaderRow)!=null?t:!0;return new Promise(l=>{let s;Gc.exports.parse(r,{header:n,step:(o,i)=>{s=o.data,i.abort()},complete:()=>{const o=(()=>n?Object.entries(s).map(([u,f],c)=>({index:c,name:u,sampleValue:f})):s.map((a,u)=>({sampleValue:a,index:u})))();l({status:"success",fields:o})},error:()=>{l({status:"failure",message:"Parse error"})}})})}function s7(r){return r.toLowerCase().replace(/[^a-z0-9]/g,"")}function xPe(r){return new Map(sl(([,{column:e}])=>lI(e),r.entries()))}function eLe(r){const{csvColumns:e}=r,n=r.availableTableColumns,t=new JPe;function l(){return sl(c=>!t.hasKey(c.index),e)}function s(){return sl(c=>!t.hasValue(c.id),n.values())}const o=new Map(Ln(([,c])=>[c.column.name,c],n));function i(){const c=new Map(e.filter(ZPe).map(g=>[s7(g.name),g]));if(c.size<n.size)return;const m=new Map(Ln(([,g])=>[s7(g.column.name),g],n));if(m.size<n.size)return;const d=c.entries();for(const[g,h]of d){const b=m.get(g);!b||t.set(h.index,b.id)}}function a(){for(const c of l()){if(!c.name)continue;const m=o.get(c.name);!m||t.set(c.index,m.id)}}function u(){for(const c of l()){const m=ol(s());if(!m)return;t.set(c.index,m.id)}}function*f(){for(const c of e){const m=t.getValue(c.index);if(m===void 0){yield void 0;continue}const d=n.get(m);if(!d){yield void 0;continue}yield d}}return i(),a(),u(),[...f()]}function tLe(r,e){function n(t,l){var o;const s=e.at(l);if(!s)throw new Error("Field not found");return{csv_column:{index:l,name:s.name},table_column:(o=t==null?void 0:t.id)!=null?o:null}}return r.map(n)}function nLe(r){let e=r[0].name+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1&&e!==(e=t[0].name+"")&&z(n,e)},d(t){t&&$(n)}}}function rLe(r){let e,n;const t=[Mt];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[_e(Mt)]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function lLe(r){let e,n,t,l,s,o,i=n7(r[0].size)+"",a,u,f,c,m;return t=new Qr({props:{$$slots:{default:[nLe]},$$scope:{ctx:r}}}),c=new st({props:{appearance:"plain",class:"padding-zero",$$slots:{default:[rLe]},$$scope:{ctx:r}}}),c.$on("click",r[16]),{c(){e=E("div"),n=E("div"),C(t.$$.fragment),l=N(),s=E("div"),o=L("("),a=L(i),u=L(")"),f=N(),C(c.$$.fragment),I(n,"class","file-name svelte-onot55"),I(s,"class","file-size svelte-onot55"),I(e,"class","file-detail svelte-onot55")},m(d,g){v(d,e,g),R(e,n),k(t,n,null),R(e,l),R(e,s),R(s,o),R(s,a),R(s,u),R(e,f),k(c,e,null),m=!0},p(d,g){const h={};g&2097153&&(h.$$scope={dirty:g,ctx:d}),t.$set(h),(!m||g&1)&&i!==(i=n7(d[0].size)+"")&&z(a,i);const b={};g&2097152&&(b.$$scope={dirty:g,ctx:d}),c.$set(b)},i(d){m||(_(t.$$.fragment,d),_(c.$$.fragment,d),m=!0)},o(d){p(t.$$.fragment,d),p(c.$$.fragment,d),m=!1},d(d){d&&$(e),y(t),y(c)}}}function sLe(r){let e,n=r[8]("data_to_be_imported")+"",t;return{c(){e=E("span"),t=L(n)},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&256&&n!==(n=l[8]("data_to_be_imported")+"")&&z(t,n)},d(l){l&&$(e)}}}function oLe(r){let e,n=r[8]("column_names")+"",t;return{c(){e=E("span"),t=L(n)},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&256&&n!==(n=l[8]("column_names")+"")&&z(t,n)},d(l){l&&$(e)}}}function iLe(r){let e;function n(s,o){return s[20]?oLe:sLe}let t=n(r),l=t(r);return{c(){l.c(),e=ae()},m(s,o){l.m(s,o),v(s,e,o)},p(s,o){t===(t=n(s))&&l?l.p(s,o):(l.d(1),l=t(s),l&&(l.c(),l.m(e.parentNode,e)))},d(s){l.d(s),s&&$(e)}}}function aLe(r){let e,n,t;function l(o){r[17](o)}let s={options:[!0,!1],$$slots:{default:[iLe,({option:o})=>({20:o}),({option:o})=>o?1048576:0]},$$scope:{ctx:r}};return r[10]!==void 0&&(s.value=r[10]),e=new fn({props:s}),we.push(()=>Me(e,"value",l)),e.$on("change",r[11]),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};i&3145984&&(a.$$scope={dirty:i,ctx:o}),!n&&i&1024&&(n=!0,a.value=o[10],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function uLe(r){let e,n;return e=new Nt({props:{label:r[8]("content_of_first_row"),$$slots:{default:[aLe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&256&&(s.label=t[8]("content_of_first_row")),l&2098432&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function fLe(r){let e=Rt(r[4])+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&16&&e!==(e=Rt(t[4])+"")&&z(n,e)},i:H,o:H,d(t){t&&$(n)}}}function cLe(r){let e,n;return e=new Vn({props:{$$slots:{default:[_Le]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2097168&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function mLe(r){let e,n;return e=new XPe({props:{fields:r[4].fields,availableTableColumns:r[6],mapping:r[9],setMapping:r[18]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.fields=t[4].fields),l&64&&(s.availableTableColumns=t[6]),l&512&&(s.mapping=t[9]),l&4&&(s.setMapping=t[18]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function dLe(r){let e,n;return e=new Gt({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function _Le(r){let e=r[4].message+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&16&&e!==(e=t[4].message+"")&&z(n,e)},d(t){t&&$(n)}}}function pLe(r){let e,n,t,l,s,o,i,a,u,f,c,m,d;n=new al({props:{label:r[8]("file"),boxed:!0,$$slots:{default:[lLe]},$$scope:{ctx:r}}}),l=new al({props:{boxed:!0,label:r[8]("csv_structure"),$$slots:{default:[uLe]},$$scope:{ctx:r}}});const g=[dLe,mLe,cLe,fLe],h=[];function b(w,S){return w[5]||!w[4]?0:w[4].status==="success"?1:w[4].status==="failure"?2:3}return o=b(r),i=h[o]=g[o](r),f=new yn({props:{form:r[7],catchErrors:!0,canProceed:r[9].some(Boolean),hasCancelButton:!1,onProceed:r[12],proceedButton:{label:r[8]("import")}}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),C(l.$$.fragment),s=N(),i.c(),a=N(),u=E("div"),C(f.$$.fragment),I(e,"class","import-form svelte-onot55")},m(w,S){v(w,e,S),k(n,e,null),R(e,t),k(l,e,null),R(e,s),h[o].m(e,null),v(w,a,S),v(w,u,S),k(f,u,null),c=!0,m||(d=Dt(dr.call(null,u)),m=!0)},p(w,[S]){const T={};S&256&&(T.label=w[8]("file")),S&2097155&&(T.$$scope={dirty:S,ctx:w}),n.$set(T);const M={};S&256&&(M.label=w[8]("csv_structure")),S&2098432&&(M.$$scope={dirty:S,ctx:w}),l.$set(M);let A=o;o=b(w),o===A?h[o].p(w,S):(U(),p(h[A],1,1,()=>{h[A]=null}),W(),i=h[o],i?i.p(w,S):(i=h[o]=g[o](w),i.c()),_(i,1),i.m(e,null));const D={};S&128&&(D.form=w[7]),S&512&&(D.canProceed=w[9].some(Boolean)),S&256&&(D.proceedButton={label:w[8]("import")}),f.$set(D)},i(w){c||(_(n.$$.fragment,w),_(l.$$.fragment,w),_(i),_(f.$$.fragment,w),c=!0)},o(w){p(n.$$.fragment,w),p(l.$$.fragment,w),p(i),p(f.$$.fragment,w),c=!1},d(w){w&&$(e),y(n),y(l),h[o].d(),w&&$(a),w&&$(u),y(f),m=!1,d()}}}function gLe(r,e,n){let t,l,s,o,i,a,u=H,f=()=>(u(),u=le(s,j=>n(9,a=j)),s),c,m=H,d=()=>(m(),m=le(l,j=>n(10,c=j)),l);ne(r,ce,j=>n(8,i=j)),r.$$.on_destroy.push(()=>u()),r.$$.on_destroy.push(()=>m());let{table:g}=e,{file:h}=e,{tableColumns:b}=e,{resetFile:w=void 0}=e,{onFinish:S}=e,T,M=!1;async function A(){n(5,M=!0),n(4,T=await QPe(h,{hasHeaderRow:c})),Pn(s,a=T.status==="success"?eLe({csvColumns:T.fields,availableTableColumns:t}):[],a),n(5,M=!1)}function D(){A()}async function O(){if(!T||T.status==="failure")return;const{inserted_rows:j}=await LPe({database:g.schema.database,table:g,file:h,headerRow:c,columnMapping:tLe(a,T.fields)});$t.success(i("imported_count_rows",{values:{count:j}})),S()}tn(D);const F=()=>w==null?void 0:w();function P(j){c=j,l.set(c)}const B=j=>s.set(j);return r.$$set=j=>{"table"in j&&n(13,g=j.table),"file"in j&&n(0,h=j.file),"tableColumns"in j&&n(14,b=j.tableColumns),"resetFile"in j&&n(1,w=j.resetFile),"onFinish"in j&&n(15,S=j.onFinish)},r.$$.update=()=>{r.$$.dirty&16384&&n(6,t=xPe(b)),r.$$.dirty&12&&n(7,o=Wt({hasHeaderRow:l,mapping:s}))},d(n(3,l=gt(!0))),f(n(2,s=gt([]))),[h,w,s,l,T,M,t,o,i,a,c,D,O,g,b,S,F,P,B]}class hLe extends Q{constructor(e){super(),Z(this,e,gLe,pLe,J,{table:13,file:0,tableColumns:14,resetFile:1,onFinish:15})}}function bLe(r){let e,n;return e=new H_({}),e.$on("add",r[1]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function $Le(r,e,n){let{setFile:t}=e;const l=s=>{var i;const o=(i=s.detail.added.at(0))==null?void 0:i.file;!o||t(o)};return r.$$set=s=>{"setFile"in s&&n(0,t=s.setFile)},[t,l]}class vLe extends Q{constructor(e){super(),Z(this,e,$Le,bLe,J,{setFile:0})}}function wLe(r){let e,n;return e=new hLe({props:{table:r[1],file:r[3],tableColumns:r[2],resetFile:r[6],onFinish:r[7]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.table=t[1]),l&8&&(s.file=t[3]),l&4&&(s.tableColumns=t[2]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function kLe(r){let e,n;return e=new vLe({props:{setFile:r[5]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function yLe(r){let e,n,t,l;const s=[kLe,wLe],o=[];function i(a,u){return a[3]===void 0?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function CLe(r){let e,n;return e=new Yn({props:{controller:r[0],title:r[4]("import"),$$slots:{default:[yLe]},$$scope:{ctx:r}}}),e.$on("open",r[6]),e.$on("close",r[6]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.controller=t[0]),l&16&&(s.title=t[4]("import")),l&526&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function SLe(r,e,n){let t;ne(r,ce,m=>n(4,t=m));let{controller:l}=e,{table:s}=e,{tableColumns:o}=e,{onFinish:i}=e,a;function u(m){n(3,a=m)}function f(){u(void 0)}function c(){l.close(),i()}return r.$$set=m=>{"controller"in m&&n(0,l=m.controller),"table"in m&&n(1,s=m.table),"tableColumns"in m&&n(2,o=m.tableColumns),"onFinish"in m&&n(8,i=m.onFinish)},[l,s,o,a,t,u,f,c,i]}class TLe extends Q{constructor(e){super(),Z(this,e,SLe,CLe,J,{controller:0,table:1,tableColumns:2,onFinish:8})}}function o7(r){let e,n;return e=new Ar({props:{disabled:r[2],size:"medium",appearance:"primary",onClick:r[24],icon:jt,label:r[19]("new_record")}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&4&&(s.disabled=t[2]),l[0]&524288&&(s.label=t[19]("new_record")),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function ILe(r){let e=r[19]("no_records_found")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l[0]&524288&&e!==(e=t[19]("no_records_found")+"")&&z(n,e)},d(t){t&&$(n)}}}function ELe(r){let e,n=r[19]("showing_n_to_m_of_total_records",{values:{leftBound:r[13],rightBound:r[7],totalCount:r[3]}})+"",t;return{c(){e=E("span"),t=L(n)},m(l,s){v(l,e,s),R(e,t)},p(l,s){s[0]&532616&&n!==(n=l[19]("showing_n_to_m_of_total_records",{values:{leftBound:l[13],rightBound:l[7],totalCount:l[3]}})+"")&&z(t,n)},d(l){l&&$(e)}}}function i7(r){let e,n,t=r[19]("count_new_records",{values:{count:r[20].length}})+"",l;return{c(){e=E("span"),n=L("+"),l=L(t),I(e,"class","pill svelte-126ziv3")},m(s,o){v(s,e,o),R(e,n),R(e,l)},p(s,o){o[0]&1572864&&t!==(t=s[19]("count_new_records",{values:{count:s[20].length}})+"")&&z(l,t)},d(s){s&&$(e)}}}function a7(r){let e,n,t=r[19]("count_unsaved_records",{values:{count:r[21].length-r[20].length}})+"",l;return{c(){e=E("span"),n=L("+"),l=L(t),I(e,"class","pill svelte-126ziv3")},m(s,o){v(s,e,o),R(e,n),R(e,l)},p(s,o){o[0]&3670016&&t!==(t=s[19]("count_unsaved_records",{values:{count:s[21].length-s[20].length}})+"")&&z(l,t)},d(s){s&&$(e)}}}function MLe(r){var D;let e,n,t,l,s,o,i,a,u,f,c,m,d,g=r[6]&&o7(r);function h(O,F){if(O[3])return ELe;if(O[1]!==qn.Loading)return ILe}let b=h(r),w=b&&b(r),S=r[20].length>0&&i7(r),T=r[21].length-r[20].length>0&&a7(r);function M(O){r[35](O)}let A={totalCount:(D=r[3])!=null?D:0,pageSizeOptions:r[0]==="widget"?[]:void 0,hiddenWhenPossible:r[0]==="widget"};return r[4]!==void 0&&(A.pagination=r[4]),u=new hR({props:A}),we.push(()=>Me(u,"pagination",M)),m=new bR({props:{state:r[5]}}),m.$on("click",r[23]),{c(){e=E("div"),n=E("div"),g&&g.c(),t=N(),l=E("div"),w&&w.c(),s=N(),S&&S.c(),o=N(),T&&T.c(),i=N(),a=E("div"),C(u.$$.fragment),c=N(),C(m.$$.fragment),I(l,"class","record-count svelte-126ziv3"),I(n,"class","status-pane-items-section svelte-126ziv3"),I(a,"class","status-pane-items-section svelte-126ziv3"),I(e,"class","status-pane svelte-126ziv3"),ie(e,"context-widget",r[0]==="widget"),ie(e,"context-page",r[0]==="page")},m(O,F){v(O,e,F),R(e,n),g&&g.m(n,null),R(n,t),R(n,l),w&&w.m(l,null),R(l,s),S&&S.m(l,null),R(l,o),T&&T.m(l,null),R(e,i),R(e,a),k(u,a,null),R(a,c),k(m,a,null),d=!0},p(O,F){var j;O[6]?g?(g.p(O,F),F[0]&64&&_(g,1)):(g=o7(O),g.c(),_(g,1),g.m(n,t)):g&&(U(),p(g,1,1,()=>{g=null}),W()),b===(b=h(O))&&w?w.p(O,F):(w&&w.d(1),w=b&&b(O),w&&(w.c(),w.m(l,s))),O[20].length>0?S?S.p(O,F):(S=i7(O),S.c(),S.m(l,o)):S&&(S.d(1),S=null),O[21].length-O[20].length>0?T?T.p(O,F):(T=a7(O),T.c(),T.m(l,null)):T&&(T.d(1),T=null);const P={};F[0]&8&&(P.totalCount=(j=O[3])!=null?j:0),F[0]&1&&(P.pageSizeOptions=O[0]==="widget"?[]:void 0),F[0]&1&&(P.hiddenWhenPossible=O[0]==="widget"),!f&&F[0]&16&&(f=!0,P.pagination=O[4],De(()=>f=!1)),u.$set(P);const B={};F[0]&32&&(B.state=O[5]),m.$set(B),(!d||F[0]&1)&&ie(e,"context-widget",O[0]==="widget"),(!d||F[0]&1)&&ie(e,"context-page",O[0]==="page")},i(O){d||(_(g),_(u.$$.fragment,O),_(m.$$.fragment,O),d=!0)},o(O){p(g),p(u.$$.fragment,O),p(m.$$.fragment,O),d=!1},d(O){O&&$(e),g&&g.d(),w&&w.d(),S&&S.d(),T&&T.d(),y(u),y(m)}}}function RLe(r,e,n){let t,l,s,o,i,a,u,f,c,m,d,g,h,b,w,S,T,M,A,D,O,F,P=H,B=()=>(P(),P=le(u,rt=>n(37,F=rt)),u),j,V,q=H,G=()=>(q(),q=le(s,rt=>n(2,V=rt)),s),Y,K=H,ee=()=>(K(),K=le(a,rt=>n(31,Y=rt)),a),x,X=H,fe=()=>(X(),X=le(i,rt=>n(32,x=rt)),i),he,me=H,ge=()=>(me(),me=le(T,rt=>n(33,he=rt)),T),pe,Le=H,Qe=()=>(Le(),Le=le(g,rt=>n(3,pe=rt)),g),Ae,Je=H,ze=()=>(Je(),Je=le(h,rt=>n(34,Ae=rt)),h),Ve,Be=H,qe=()=>(Be(),Be=le(c,rt=>n(4,Ve=rt)),c),ft,vt,ut=H,Xe=()=>(ut(),ut=le(w,rt=>n(20,vt=rt)),w),dt,Oe=H,_t=()=>(Oe(),Oe=le(b,rt=>n(21,dt=rt)),b);ne(r,ce,rt=>n(19,ft=rt)),r.$$.on_destroy.push(()=>P()),r.$$.on_destroy.push(()=>q()),r.$$.on_destroy.push(()=>K()),r.$$.on_destroy.push(()=>X()),r.$$.on_destroy.push(()=>me()),r.$$.on_destroy.push(()=>Le()),r.$$.on_destroy.push(()=>Je()),r.$$.on_destroy.push(()=>Be()),r.$$.on_destroy.push(()=>ut()),r.$$.on_destroy.push(()=>Oe());const Fe=on();ne(r,Fe,rt=>n(30,j=rt));let{context:mt="page"}=e;function yt(){j.refresh()}async function ct(){await t.addEmptyRecord(),f.update(rt=>{var Xt;return rt.ofNewRecordDataEntryCell((Xt=SE(F.values()))==null?void 0:Xt.id.toString())})}function lt(rt){Ve=rt,c.set(Ve)}return r.$$set=rt=>{"context"in rt&&n(0,mt=rt.context)},r.$$.update=()=>{r.$$.dirty[0]&1073741824&&n(25,{recordsData:t,meta:l,isLoading:s,columnsDataStore:o,constraintsDataStore:i,canInsertRecords:a,processedColumns:u,selection:f}=j,t,(n(29,l),n(30,j)),G(n(18,s)),(n(28,o),n(30,j)),fe(n(17,i)),ee(n(16,a)),B(n(15,u))),r.$$.dirty[0]&536870912&&qe(n(14,{pagination:c}=l,c)),r.$$.dirty[0]&16&&n(13,{leftBound:m,rightBound:d}=Ve,m,(n(27,d),n(4,Ve))),r.$$.dirty[0]&33554432&&Qe(n(12,{totalCount:g,state:h,newRecords:b,persistedNewRecords:w}=t,g,ze(n(11,h)),_t(n(10,b)),Xe(n(9,w)))),r.$$.dirty[1]&8&&n(1,S=Ae),r.$$.dirty[0]&268435456&&ge(n(8,T=o.fetchStatus)),r.$$.dirty[0]&134217736&&n(7,M=Math.min(pe!=null?pe:0,d)),r.$$.dirty[0]&2|r.$$.dirty[1]&6&&n(26,A=(he==null?void 0:he.state)==="failure"||S===qn.Error||x.state===qn.Error),r.$$.dirty[0]&1|r.$$.dirty[1]&1&&n(6,D=mt!=="widget"&&Y),r.$$.dirty[0]&67108868&&n(5,O=(()=>{let rt;return V&&(rt="loading"),A&&(rt="error"),rt})())},[mt,S,V,pe,Ve,O,D,M,T,w,b,h,g,m,c,u,a,i,s,ft,vt,dt,Fe,yt,ct,t,A,d,o,l,j,Y,x,he,Ae,lt]}class DLe extends Q{constructor(e){super(),Z(this,e,RLe,MLe,J,{context:0},null,[-1,-1])}}function ALe(r){let e,n;return e=new LM({props:{selectedCellData:r[1]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&2&&(s.selectedCellData=t[1]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function OLe(r,e,n){let t,l,s,o=H,i=()=>(o(),o=le(t,u=>n(1,s=u)),t);r.$$.on_destroy.push(()=>o());const a=on();return ne(r,a,u=>n(3,l=u)),r.$$.update=()=>{r.$$.dirty&8&&i(n(0,{selectedCellData:t}=l,t))},[t,s,a,l]}class FLe extends Q{constructor(e){super(),Z(this,e,OLe,ALe,J,{})}}function NLe(r){let e,n;return e=new Hp({props:{table:r[0],processedColumns:r[5],isLoading:r[6],previewRecordId:r[1],onSave:r[2]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.table=t[0]),l&32&&(s.processedColumns=t[5]),l&64&&(s.isLoading=t[6]),l&2&&(s.previewRecordId=t[1]),l&4&&(s.onSave=t[2]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function PLe(r,e,n){let t,l,s,o,i=H,a=()=>(i(),i=le(l,h=>n(5,o=h)),l),u,f=H,c=()=>(f(),f=le(s,h=>n(6,u=h)),s);r.$$.on_destroy.push(()=>i()),r.$$.on_destroy.push(()=>f());let{linkedTable:m}=e,{previewRecordId:d=void 0}=e,{onSave:g=void 0}=e;return r.$$set=h=>{"linkedTable"in h&&n(0,m=h.linkedTable),"previewRecordId"in h&&n(1,d=h.previewRecordId),"onSave"in h&&n(2,g=h.onSave)},r.$$.update=()=>{r.$$.dirty&1&&n(7,t=new Ti(m)),r.$$.dirty&128&&a(n(4,{processedColumns:l,isLoading:s}=t,l,c(n(3,s))))},[m,d,g,s,l,o,u,t]}class LLe extends Q{constructor(e){super(),Z(this,e,PLe,NLe,J,{linkedTable:0,previewRecordId:1,onSave:2})}}function HLe(r){let e;const n=r[2].default,t=ke(n,r,r[3],null);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&8)&&Ce(t,n,l,l[3],e?ye(n,l[3],s,null):Se(l[3]),null)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function VLe(r){let e,n,t;return n=new Ac({props:{icon:AK,fullWidth:r[0],title:r[1],$$slots:{default:[HLe]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","outcome-box svelte-worsbx")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,[s]){const o={};s&1&&(o.fullWidth=l[0]),s&2&&(o.title=l[1]),s&8&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function zLe(r,e,n){let t;ne(r,ce,a=>n(4,t=a));let{$$slots:l={},$$scope:s}=e,{fullWidth:o=!0}=e,{title:i=t("whats_changing")}=e;return r.$$set=a=>{"fullWidth"in a&&n(0,o=a.fullWidth),"title"in a&&n(1,i=a.title),"$$scope"in a&&n(3,s=a.$$scope)},[o,i,l,s]}class BR extends Q{constructor(e){super(),Z(this,e,zLe,VLe,J,{fullWidth:0,title:1})}}function BLe(r){let e,n,t;function l(o){r[3](o)}let s={options:r[1],getLabel:r[2]};return r[0]!==void 0&&(s.values=r[0]),e=new _c({props:s}),we.push(()=>Me(e,"values",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,[i]){const a={};i&2&&(a.options=o[1]),!n&&i&1&&(n=!0,a.values=o[0],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function qLe(r,e,n){let{options:t}=e,{value:l=[]}=e;function s(i){return{component:cs,props:{processedColumn:i}}}function o(i){l=i,n(0,l)}return r.$$set=i=>{"options"in i&&n(1,t=i.options),"value"in i&&n(0,l=i.value)},[l,t,s,o]}class u7 extends Q{constructor(e){super(),Z(this,e,qLe,BLe,J,{options:1,value:0})}}function ULe({fkConstraint:r,columns:e,tables:n}){const t=n.get(r.referent_table_oid);if(!!t)return{constraint:r,table:t,columns:r.columns.map(l=>e.get(l)).filter(At)}}function WLe({constraints:r,columns:e,tables:n}){return r.map(t=>$p(t)?ULe({fkConstraint:t,columns:e,tables:n}):void 0).filter(At)}function jLe(r,e){const n=e.find(l=>r.columns.some(s=>s.id===l.id));return n?fp(((l,s)=>ve(ce)("cannot_move_linked_column_to_linked_table",{values:{columnName:l,tableName:s}}))(n.column.name,r.table.name)):Rc()}function f7(r,e,n){const t=r.slice();return t[5]=e[n],t}function c7(r){let e,n,t=r[1],l=[];for(let o=0;o<t.length;o+=1)l[o]=m7(f7(r,t,o));const s=o=>p(l[o],1,1,()=>{l[o]=null});return{c(){for(let o=0;o<l.length;o+=1)l[o].c();e=ae()},m(o,i){for(let a=0;a<l.length;a+=1)l[a].m(o,i);v(o,e,i),n=!0},p(o,i){if(i&2){t=o[1];let a;for(a=0;a<t.length;a+=1){const u=f7(o,t,a);l[a]?(l[a].p(u,i),_(l[a],1)):(l[a]=m7(u),l[a].c(),_(l[a],1),l[a].m(e.parentNode,e))}for(U(),a=t.length;a<l.length;a+=1)s(a);W()}},i(o){if(!n){for(let i=0;i<t.length;i+=1)_(l[i]);n=!0}},o(o){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)p(l[i]);n=!1},d(o){Hn(l,o),o&&$(e)}}}function m7(r){let e,n;return e=new cs({props:{processedColumn:r[5],truncate:!1,bold:!0}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.processedColumn=t[5]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function YLe(r){let e,n,t=r[4]==="columnComponent"&&c7(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[4]==="columnComponent"?t?(t.p(l,s),s&16&&_(t,1)):(t=c7(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function GLe(r){let e,n,t,l,s,o,i;return t=new rn({props:{table:r[0],bold:!0,truncate:!1}}),o=new ot({props:{text:r[2]("via_column_component"),$$slots:{default:[YLe,({slotName:a})=>({4:a}),({slotName:a})=>a?16:0]},$$scope:{ctx:r}}}),{c(){e=E("span"),n=E("span"),C(t.$$.fragment),l=N(),s=E("span"),C(o.$$.fragment),I(n,"class","table"),I(s,"class","columns"),I(e,"class","linked-table-name")},m(a,u){v(a,e,u),R(e,n),k(t,n,null),R(e,l),R(e,s),k(o,s,null),i=!0},p(a,[u]){const f={};u&1&&(f.table=a[0]),t.$set(f);const c={};u&4&&(c.text=a[2]("via_column_component")),u&274&&(c.$$scope={dirty:u,ctx:a}),o.$set(c)},i(a){i||(_(t.$$.fragment,a),_(o.$$.fragment,a),i=!0)},o(a){p(t.$$.fragment,a),p(o.$$.fragment,a),i=!1},d(a){a&&$(e),y(t),y(o)}}}function KLe(r,e,n){let t,l,s;ne(r,ce,i=>n(2,s=i));let{linkedTable:o}=e;return r.$$set=i=>{"linkedTable"in i&&n(3,o=i.linkedTable)},r.$$.update=()=>{r.$$.dirty&8&&n(1,{columns:t,table:l}=o,t,(n(0,l),n(3,o)))},[l,t,s,o]}class XLe extends Q{constructor(e){super(),Z(this,e,KLe,GLe,J,{linkedTable:3})}}function JLe(r){let e,n,t;function l(o){r[3](o)}let s={options:r[1],getLabel:r[2]};return r[0]!==void 0&&(s.value=r[0]),e=new fn({props:s}),we.push(()=>Me(e,"value",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,[i]){const a={};i&2&&(a.options=o[1]),!n&&i&1&&(n=!0,a.value=o[0],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function ZLe(r,e,n){let{linkedTables:t}=e,{value:l=void 0}=e;function s(i){return i===void 0?"":{component:XLe,props:{linkedTable:i}}}function o(i){l=i,n(0,l)}return r.$$set=i=>{"linkedTables"in i&&n(1,t=i.linkedTables),"value"in i&&n(0,l=i.value)},[l,t,s,o]}class d7 extends Q{constructor(e){super(),Z(this,e,ZLe,JLe,J,{linkedTables:1,value:0})}}function QLe(r){let e,n=r[1]("linked_via_foreign_key_column")+"",t,l,s,o,i;return o=new Qn({props:{icon:hf,name:r[0],truncate:!1,bold:!0}}),{c(){e=E("span"),t=L(n),l=L(":"),s=N(),C(o.$$.fragment)},m(a,u){v(a,e,u),R(e,t),R(e,l),v(a,s,u),k(o,a,u),i=!0},p(a,[u]){(!i||u&2)&&n!==(n=a[1]("linked_via_foreign_key_column")+"")&&z(t,n);const f={};u&1&&(f.name=a[0]),o.$set(f)},i(a){i||(_(o.$$.fragment,a),i=!0)},o(a){p(o.$$.fragment,a),i=!1},d(a){a&&$(e),a&&$(s),y(o,a)}}}function xLe(r,e,n){let t;ne(r,ce,s=>n(1,t=s));let{newFkColumnName:l}=e;return r.$$set=s=>{"newFkColumnName"in s&&n(0,l=s.newFkColumnName)},[l,t]}class eHe extends Q{constructor(e){super(),Z(this,e,xLe,QLe,J,{newFkColumnName:0})}}function tHe(r){let e,n;return e=new It({props:{field:r[3],input:{component:d7,props:{linkedTables:r[13]}},label:r[8]("linked_table"),layout:"stacked"}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&8&&(s.field=t[3]),l[0]&8192&&(s.input={component:d7,props:{linkedTables:t[13]}}),l[0]&256&&(s.label=t[8]("linked_table")),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function nHe(r){let e,n;return e=new It({props:{field:r[5],label:r[8]("name_of_new_table"),layout:"stacked",$$slots:{help:[lHe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&32&&(s.field=t[5]),l[0]&256&&(s.label=t[8]("name_of_new_table")),l[0]&2304|l[1]&128&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function _7(r){let e,n;return e=new rn({props:{table:r[11],truncate:!1,bold:!0}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&2048&&(s.table=t[11]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function rHe(r){let e,n,t=r[37]==="tableName"&&_7(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[37]==="tableName"?t?(t.p(l,s),s[1]&64&&_(t,1)):(t=_7(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function lHe(r){let e,n,t;return n=new ot({props:{text:r[8]("new_table_that_will_be_linked_to_table"),$$slots:{default:[rHe,({slotName:l})=>({37:l}),({slotName:l})=>[0,l?64:0]]},$$scope:{ctx:r}}}),{c(){e=E("span"),C(n.$$.fragment),I(e,"slot","help")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s[0]&256&&(o.text=l[8]("new_table_that_will_be_linked_to_table")),s[0]&2048|s[1]&192&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function p7(r){let e,n;return e=new rn({props:{table:{name:r[1]},truncate:!1,bold:!0}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&2&&(s.table={name:t[1]}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function sHe(r){let e,n,t=r[37]==="targetTableName"&&p7(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[37]==="targetTableName"?t?(t.p(l,s),s[1]&64&&_(t,1)):(t=p7(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function oHe(r){let e,n,t;return n=new ot({props:{text:r[12],$$slots:{default:[sHe,({slotName:l})=>({37:l}),({slotName:l})=>[0,l?64:0]]},$$scope:{ctx:r}}}),{c(){e=E("span"),C(n.$$.fragment),I(e,"slot","help")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s[0]&4096&&(o.text=l[12]),s[0]&2|s[1]&192&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function iHe(r){let e,n;return e=new rn({props:{table:{name:r[1]},truncate:!1,bold:!0}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&2&&(s.table={name:t[1]}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function aHe(r){let e,n;return e=new rn({props:{table:r[11],truncate:!1,bold:!0}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&2048&&(s.table=t[11]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function uHe(r){let e,n,t,l;const s=[aHe,iHe],o=[];function i(a,u){return a[37]==="tableName"?0:a[37]==="targetTableName"&&a[1]?1:-1}return~(e=i(r))&&(n=o[e]=s[e](r)),{c(){n&&n.c(),t=ae()},m(a,u){~e&&o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?~e&&o[e].p(a,u):(n&&(U(),p(o[f],1,1,()=>{o[f]=null}),W()),~e?(n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t)):n=null)},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){~e&&o[e].d(a),a&&$(t)}}}function g7(r){let e,n,t,l,s;return n=new ot({props:{text:r[8]("new_column_added_to_table"),$$slots:{default:[fHe,({slotName:o})=>({37:o}),({slotName:o})=>[0,o?64:0]]},$$scope:{ctx:r}}}),l=new It({props:{field:r[4],label:r[8]("name_of_link_column")}}),{c(){e=E("p"),C(n.$$.fragment),t=N(),C(l.$$.fragment)},m(o,i){v(o,e,i),k(n,e,null),v(o,t,i),k(l,o,i),s=!0},p(o,i){const a={};i[0]&256&&(a.text=o[8]("new_column_added_to_table")),i[0]&2048|i[1]&192&&(a.$$scope={dirty:i,ctx:o}),n.$set(a);const u={};i[0]&16&&(u.field=o[4]),i[0]&256&&(u.label=o[8]("name_of_link_column")),l.$set(u)},i(o){s||(_(n.$$.fragment,o),_(l.$$.fragment,o),s=!0)},o(o){p(n.$$.fragment,o),p(l.$$.fragment,o),s=!1},d(o){o&&$(e),y(n),o&&$(t),y(l,o)}}}function h7(r){let e,n;return e=new rn({props:{table:r[11],truncate:!1,bold:!0}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&2048&&(s.table=t[11]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function fHe(r){let e,n,t=r[37]==="tableName"&&h7(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[37]==="tableName"?t?(t.p(l,s),s[1]&64&&_(t,1)):(t=h7(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function cHe(r){let e,n,t,l,s;n=new ot({props:{text:r[1]?r[8]("columns_removed_from_table_added_to_target",{values:{count:r[9].length}}):r[8]("columns_removed_from_table_added_to_new_table",{values:{count:r[9].length}}),$$slots:{default:[uHe,({slotName:i})=>({37:i}),({slotName:i})=>[0,i?64:0]]},$$scope:{ctx:r}}});let o=r[7]==="newTable"&&g7(r);return{c(){e=E("p"),C(n.$$.fragment),t=N(),o&&o.c(),l=ae()},m(i,a){v(i,e,a),k(n,e,null),v(i,t,a),o&&o.m(i,a),v(i,l,a),s=!0},p(i,a){const u={};a[0]&770&&(u.text=i[1]?i[8]("columns_removed_from_table_added_to_target",{values:{count:i[9].length}}):i[8]("columns_removed_from_table_added_to_new_table",{values:{count:i[9].length}})),a[0]&2050|a[1]&192&&(u.$$scope={dirty:a,ctx:i}),n.$set(u),i[7]==="newTable"?o?(o.p(i,a),a[0]&128&&_(o,1)):(o=g7(i),o.c(),_(o,1),o.m(l.parentNode,l)):o&&(U(),p(o,1,1,()=>{o=null}),W())},i(i){s||(_(n.$$.fragment,i),_(o),s=!0)},o(i){p(n.$$.fragment,i),p(o),s=!1},d(i){i&&$(e),y(n),i&&$(t),o&&o.d(i),i&&$(l)}}}function mHe(r){let e,n;return e=new BR({props:{$$slots:{default:[cHe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&2962|l[1]&128&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function dHe(r){let e,n,t,l,s,o,i;const a=[nHe,tHe],u=[];function f(c,m){return c[7]==="newTable"?0:1}return e=f(r),n=u[e]=a[e](r),l=new It({props:{field:r[2],input:{component:u7,props:{options:r[6]}},label:r[7]==="newTable"?r[8]("columns_to_extract"):r[8]("columns_to_move"),layout:"stacked",$$slots:{help:[oHe]},$$scope:{ctx:r}}}),o=new Ht({props:{$$slots:{default:[mHe]},$$scope:{ctx:r}}}),{c(){n.c(),t=N(),C(l.$$.fragment),s=N(),C(o.$$.fragment)},m(c,m){u[e].m(c,m),v(c,t,m),k(l,c,m),v(c,s,m),k(o,c,m),i=!0},p(c,m){let d=e;e=f(c),e===d?u[e].p(c,m):(U(),p(u[d],1,1,()=>{u[d]=null}),W(),n=u[e],n?n.p(c,m):(n=u[e]=a[e](c),n.c()),_(n,1),n.m(t.parentNode,t));const g={};m[0]&4&&(g.field=c[2]),m[0]&64&&(g.input={component:u7,props:{options:c[6]}}),m[0]&384&&(g.label=c[7]==="newTable"?c[8]("columns_to_extract"):c[8]("columns_to_move")),m[0]&4098|m[1]&128&&(g.$$scope={dirty:m,ctx:c}),l.$set(g);const h={};m[0]&2962|m[1]&128&&(h.$$scope={dirty:m,ctx:c}),o.$set(h)},i(c){i||(_(n),_(l.$$.fragment,c),_(o.$$.fragment,c),i=!0)},o(c){p(n),p(l.$$.fragment,c),p(o.$$.fragment,c),i=!1},d(c){u[e].d(c),c&&$(t),y(l,c),c&&$(s),y(o,c)}}}function _He(r){let e=r[8]("extract_columns_to_new_table",{values:{count:r[9].length}})+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l[0]&768&&e!==(e=t[8]("extract_columns_to_new_table",{values:{count:t[9].length}})+"")&&z(n,e)},d(t){t&&$(n)}}}function pHe(r){let e=r[8]("move_columns_to_linked_table",{values:{count:r[9].length}})+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l[0]&768&&e!==(e=t[8]("move_columns_to_linked_table",{values:{count:t[9].length}})+"")&&z(n,e)},d(t){t&&$(n)}}}function gHe(r){let e;function n(s,o){return s[7]==="existingTable"?pHe:_He}let t=n(r),l=t(r);return{c(){e=E("span"),l.c(),I(e,"slot","title")},m(s,o){v(s,e,o),l.m(e,null)},p(s,o){t===(t=n(s))&&l?l.p(s,o):(l.d(1),l=t(s),l&&(l.c(),l.m(e,null)))},d(s){s&&$(e),l.d()}}}function hHe(r){let e,n;return e=new yn({props:{form:r[15],slot:"footer",proceedButton:{label:r[14]},onProceed:r[20],onCancel:r[31]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&32768&&(s.form=t[15]),l[0]&16384&&(s.proceedButton={label:t[14]}),l[0]&1&&(s.onCancel=t[31]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function bHe(r){let e,n;return e=new Yn({props:{controller:r[0],$$slots:{footer:[hHe],title:[gHe],default:[dHe]},$$scope:{ctx:r}}}),e.$on("close",function(){St(r[15].reset)&&r[15].reset.apply(this,arguments)}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){r=t;const s={};l[0]&1&&(s.controller=r[0]),l[0]&64511|l[1]&128&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function $He(r,e,n){let t,l,s,o,i,a,u,f,c,m,d,g,h,b,w,S,T,M,A,D,O=H,F=()=>(O(),O=le(u,Fe=>n(7,D=Fe)),u),P,B,j=H,V=()=>(j(),j=le(g,Fe=>n(24,B=Fe)),g),q,G,Y=H,K=()=>(Y(),Y=le(b,Fe=>n(33,G=Fe)),b),ee,x=H,X=()=>(x(),x=le(f,Fe=>n(9,ee=Fe)),f),fe,he=H,me=()=>(he(),he=le(h,Fe=>n(26,fe=Fe)),h),ge,pe=H,Le=()=>(pe(),pe=le(c,Fe=>n(34,ge=Fe)),c),Qe,Ae,Je=H,ze=()=>(Je(),Je=le(t,Fe=>n(28,Ae=Fe)),t),Ve,Be,qe=H,ft=()=>(qe(),qe=le(l,Fe=>n(30,Be=Fe)),l);ne(r,ce,Fe=>n(8,P=Fe)),ne(r,_r,Fe=>n(27,Qe=Fe)),ne(r,hE,Fe=>n(29,Ve=Fe)),r.$$.on_destroy.push(()=>O()),r.$$.on_destroy.push(()=>j()),r.$$.on_destroy.push(()=>Y()),r.$$.on_destroy.push(()=>x()),r.$$.on_destroy.push(()=>he()),r.$$.on_destroy.push(()=>pe()),r.$$.on_destroy.push(()=>Je()),r.$$.on_destroy.push(()=>qe());const vt=on();ne(r,vt,Fe=>n(25,q=Fe));let{controller:ut}=e;function Xe(Fe,mt){Pn(b,G=Gi({name:Fe},mt),G)}function dt(Fe){if(!ge||Fe.length===0)return;const mt=Fe.map(yt=>String(yt.id));s.updateWithoutFocus(yt=>yt.ofRowColumnIntersection(yt.rowIds,mt))}async function Oe(){var rt,Xt;const Fe=G,mt=fe,yt=[],ct=ee,lt=ct.map(Pt=>Pt.id);try{if(D==="existingTable"){const Pt=B==null?void 0:B.table.oid;if(!Pt)throw new Error(P("no_target_table_selected"));await Ke.data_modeling.move_columns({database_id:o.schema.database.id,source_table_oid:o.oid,move_column_attnums:lt,target_table_oid:Pt}).run();const _n=(rt=B==null?void 0:B.columns)!=null?rt:[];let Jt;_n.length===1&&(Jt=_n[0].column.id),yt.push(q.refreshAfterColumnExtraction(lt,Jt))}else{const Pt=await Ke.data_modeling.split_table({database_id:o.schema.database.id,table_oid:o.oid,column_attnums:lt,extracted_table_name:mt,relationship_fk_column_name:G}).run();yt.push(gE({schema:o.schema,tableOid:Pt.extracted_table_oid})),yt.push(q.refreshAfterColumnExtraction(lt,Pt.new_fkey_attnum))}if(D==="newTable")$t.success({title:P("new_table_created_with_extracted_column",{values:{count:ct.length,newTableName:mt}}),contentComponent:eHe,contentComponentProps:{newFkColumnName:Fe}});else{const Pt=ct.map(bn=>bn.column.name),_n=(Xt=B==null?void 0:B.table.name)!=null?Xt:"";let Jt;Pt.length===1?Jt=P("column_moved_to_table",{values:{columnName:Pt[0],tableName:_n}}):Jt=P("columns_moved_to_table",{values:{columnNames:Pt.join(","),tableName:_n}}),$t.success(Jt)}if(ut.close(),await Promise.all(yt),D==="newTable"){const _n=[...ve(t).values()].slice(-1)[0];s.update(Jt=>Jt.ofOneColumn(String(_n.id))),await sn(),Y9e()}}catch(Pt){$t.error(Yt(Pt))}}const _t=()=>ut.close();return r.$$set=Fe=>{"controller"in Fe&&n(0,ut=Fe.controller)},r.$$.update=()=>{var Fe;r.$$.dirty[0]&33554432&&ze(n(10,{processedColumns:t,constraintsDataStore:l,selection:s,table:o}=q,t,ft(n(18,l)),(n(11,o),n(25,q)))),r.$$.dirty[0]&1073741824&&n(22,{constraints:i}=Be,i),r.$$.dirty[0]&268435456&&n(6,a=[...Ae.values()]),r.$$.dirty[0]&1&&F(n(17,{targetType:u,columns:f,isOpen:c}=ut,u,X(n(2,f)),Le(n(16,c)))),r.$$.dirty[0]&512&&n(23,m=new Set(ee.map(mt=>mt.column.name))),r.$$.dirty[0]&8388672&&n(21,d=a.map(mt=>mt.column).filter(mt=>!m.has(mt.name))),r.$$.dirty[0]&536870912&&me(n(5,h=gt("",[Ve]))),r.$$.dirty[0]&2097152&&K(n(4,b=gt("",[Pf(d)]))),r.$$.dirty[0]&83886208&&n(1,w=D==="newTable"?fe:(Fe=B==null?void 0:B.table.name)!=null?Fe:""),r.$$.dirty[0]&188&&n(15,S=D==="newTable"?Wt({columns:f,tableName:h,newFkColumnName:b}):Wt({columns:f,linkedTable:g},[cp([g,f],mt=>jLe(...mt))])),r.$$.dirty[0]&384&&n(14,T=P(D==="existingTable"?"move_columns":"create_table_move_columns")),r.$$.dirty[0]&406847488&&n(13,M=WLe({constraints:i,columns:Ae,tables:Qe.tablesMap})),r.$$.dirty[0]&386&&n(12,A=(()=>P(D==="existingTable"?w?"select_columns_move_into_table":"select_columns_move":w?"select_columns_extract_into_table":"select_columns_extract"))()),r.$$.dirty[0]&69206016&&Xe(fe,d),r.$$.dirty[0]&512&&dt(ee)},V(n(3,g=gt(void 0))),[ut,w,f,g,b,h,a,D,P,ee,t,o,A,M,T,S,c,u,l,vt,Oe,d,i,m,B,q,fe,Qe,Ae,Ve,Be,_t]}class vHe extends Q{constructor(e){super(),Z(this,e,$He,bHe,J,{controller:0},null,[-1,-1])}}class wHe extends $T{constructor(){super(...arguments);te(this,"targetType",Ue("newTable"));te(this,"columns",gt([],[tu(n=>n.some(t=>t.column.primary_key),ve(ce)("primary_key_column_cannot_be_moved"))]))}}function kHe(r){let e,n,t,l,s,o=r[5]("extract_columns_to_new_table",{values:{count:r[0].length}})+"",i,a,u,f;const c=[r0];let m={};for(let h=0;h<c.length;h+=1)m=se(m,c[h]);t=new Ne({props:m});const d=[ei];let g={};for(let h=0;h<d.length;h+=1)g=se(g,d[h]);return u=new Ne({props:g}),{c(){e=E("div"),n=E("div"),C(t.$$.fragment),l=N(),s=E("span"),i=L(o),a=N(),C(u.$$.fragment),I(e,"class","action-item svelte-lo2o6r")},m(h,b){v(h,e,b),R(e,n),k(t,n,null),R(n,l),R(n,s),R(s,i),R(e,a),k(u,e,null),f=!0},p(h,b){const w=b&0?de(c,[_e(r0)]):{};t.$set(w),(!f||b&33)&&o!==(o=h[5]("extract_columns_to_new_table",{values:{count:h[0].length}})+"")&&z(i,o);const S=b&0?de(d,[_e(ei)]):{};u.$set(S)},i(h){f||(_(t.$$.fragment,h),_(u.$$.fragment,h),f=!0)},o(h){p(t.$$.fragment,h),p(u.$$.fragment,h),f=!1},d(h){h&&$(e),y(t),y(u)}}}function b7(r){let e,n;return e=new st({props:{disabled:!r[6],appearance:"action",$$slots:{default:[yHe]},$$scope:{ctx:r}}}),e.$on("click",r[11]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&64&&(s.disabled=!t[6]),l&131105&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function yHe(r){let e,n,t,l,s,o=r[5]("move_columns_to_linked_table",{values:{count:r[0].length}})+"",i,a,u,f;const c=[l0];let m={};for(let h=0;h<c.length;h+=1)m=se(m,c[h]);t=new Ne({props:m});const d=[ei];let g={};for(let h=0;h<d.length;h+=1)g=se(g,d[h]);return u=new Ne({props:g}),{c(){e=E("div"),n=E("div"),C(t.$$.fragment),l=N(),s=E("span"),i=L(o),a=N(),C(u.$$.fragment),I(e,"class","action-item svelte-lo2o6r")},m(h,b){v(h,e,b),R(e,n),k(t,n,null),R(n,l),R(n,s),R(s,i),R(e,a),k(u,e,null),f=!0},p(h,b){const w=b&0?de(c,[_e(l0)]):{};t.$set(w),(!f||b&33)&&o!==(o=h[5]("move_columns_to_linked_table",{values:{count:h[0].length}})+"")&&z(i,o);const S=b&0?de(d,[_e(ei)]):{};u.$set(S)},i(h){f||(_(t.$$.fragment,h),_(u.$$.fragment,h),f=!0)},o(h){p(t.$$.fragment,h),p(u.$$.fragment,h),f=!1},d(h){h&&$(e),y(t),y(u)}}}function $7(r){let e,n;return e=new st({props:{appearance:"danger",disabled:!r[6],$$slots:{default:[CHe]},$$scope:{ctx:r}}}),e.$on("click",r[15]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&64&&(s.disabled=!t[6]),l&131104&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function CHe(r){let e,n,t,l=r[5]("delete_column")+"",s,o;const i=[Mt];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return e=new Ne({props:a}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l)},m(u,f){k(e,u,f),v(u,n,f),v(u,t,f),R(t,s),o=!0},p(u,f){const c=f&0?de(i,[_e(Mt)]):{};e.$set(c),(!o||f&32)&&l!==(l=u[5]("delete_column")+"")&&z(s,l)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){p(e.$$.fragment,u),o=!1},d(u){y(e,u),u&&$(n),u&&$(t)}}}function SHe(r){let e,n,t,l,s,o,i;n=new st({props:{disabled:!r[6],appearance:"action",$$slots:{default:[kHe]},$$scope:{ctx:r}}}),n.$on("click",r[10]);let a=r[2]&&b7(r),u=r[3]&&$7(r);return o=new vHe({props:{controller:r[8]}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),a&&a.c(),l=N(),u&&u.c(),s=N(),C(o.$$.fragment),I(e,"class","actions-container svelte-lo2o6r")},m(f,c){v(f,e,c),k(n,e,null),R(e,t),a&&a.m(e,null),R(e,l),u&&u.m(e,null),v(f,s,c),k(o,f,c),i=!0},p(f,[c]){const m={};c&64&&(m.disabled=!f[6]),c&131105&&(m.$$scope={dirty:c,ctx:f}),n.$set(m),f[2]?a?(a.p(f,c),c&4&&_(a,1)):(a=b7(f),a.c(),_(a,1),a.m(e,l)):a&&(U(),p(a,1,1,()=>{a=null}),W()),f[3]?u?(u.p(f,c),c&8&&_(u,1)):(u=$7(f),u.c(),_(u,1),u.m(e,null)):u&&(U(),p(u,1,1,()=>{u=null}),W())},i(f){i||(_(n.$$.fragment,f),_(a),_(u),_(o.$$.fragment,f),i=!0)},o(f){p(n.$$.fragment,f),p(a),p(u),p(o.$$.fragment,f),i=!1},d(f){f&&$(e),y(n),a&&a.d(),u&&u.d(),f&&$(s),y(o,f)}}}function THe(r,e,n){let t,l,s,o,i,a,u,f,c=H,m=()=>(c(),c=le(l,F=>n(13,f=F)),l),d,g,h=H,b=()=>(h(),h=le(a,F=>n(6,g=F)),a);ne(r,ce,F=>n(5,u=F)),r.$$.on_destroy.push(()=>c()),r.$$.on_destroy.push(()=>h());const w=on();ne(r,w,F=>n(14,d=F));const S=new wHe(un.getPropsForNewModal());let{columns:T}=e;function M(F){Ll({identifierType:u("column"),identifierName:F.column.name,body:[u("all_objects_related_to_column_affected"),u("could_break_tables_views"),u("are_you_sure_to_proceed")],onProceed:()=>s.deleteColumn(F.id)})}function A(){S.targetType.set("newTable"),S.columns.set(T),S.open()}function D(){S.targetType.set("existingTable"),S.columns.set(T),S.open()}const O=()=>o&&M(o);return r.$$set=F=>{"columns"in F&&n(0,T=F.columns)},r.$$.update=()=>{r.$$.dirty&16384&&n(12,{table:t,processedColumns:l,columnsDataStore:s}=d,t,m(n(4,l))),r.$$.dirty&1&&n(3,o=T.length===1?T[0]:void 0),r.$$.dirty&8192&&n(2,i=[...f].some(([,F])=>F.linkFk)),r.$$.dirty&4096&&b(n(1,{currentRoleOwns:a}=t.currentAccess,a))},[T,a,i,o,l,u,g,w,S,M,A,D,t,f,d,O]}class IHe extends Q{constructor(e){super(),Z(this,e,THe,SHe,J,{columns:0})}}function EHe(r){let e,n,t,l,s;return l=new DT({props:{form:r[0],disabled:r[2]}}),{c(){e=E("div"),n=E("div"),t=E("div"),C(l.$$.fragment),I(t,"class","content"),I(n,"class","option-form display-opts"),I(e,"class","type-options")},m(o,i){v(o,e,i),R(e,n),R(n,t),k(l,t,null),s=!0},p(o,[i]){const a={};i&1&&(a.form=o[0]),i&4&&(a.disabled=o[2]),l.$set(a)},i(o){s||(_(l.$$.fragment,o),s=!0)},o(o){p(l.$$.fragment,o),s=!1},d(o){o&&$(e),y(l)}}}function MHe(r,e,n){let t,l=H,s=()=>(l(),l=le(u,d=>n(5,t=d)),u);r.$$.on_destroy.push(()=>l());let{displayOptions:o}=e,{displayOptionsConfig:i}=e,{displayForm:a}=e,{displayFormValues:u}=e;s();let{disabled:f=!1}=e;const c=FS();c.addValidator("AbstractTypeConfigValidator",()=>{let d=!0;if(a){const g=a.getValidationResult().isValid;d=d&&g}return d});function m(d,g){var h;g&&(n(3,o=(h=g==null?void 0:g.determineDisplayOptions(d))!=null?h:{}),c.validate())}return r.$$set=d=>{"displayOptions"in d&&n(3,o=d.displayOptions),"displayOptionsConfig"in d&&n(4,i=d.displayOptionsConfig),"displayForm"in d&&n(0,a=d.displayForm),"displayFormValues"in d&&s(n(1,u=d.displayFormValues)),"disabled"in d&&n(2,f=d.disabled)},r.$$.update=()=>{r.$$.dirty&48&&m(t,i)},[a,u,f,o,i,t]}class RHe extends Q{constructor(e){super(),Z(this,e,MHe,EHe,J,{displayOptions:3,displayOptionsConfig:4,displayForm:0,displayFormValues:1,disabled:2})}}function DHe(r){let e,n=r[10]("no_formatting_option_data_type")+"",t;return{c(){e=E("span"),t=L(n),I(e,"class","disabled svelte-o2ny5l")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&1024&&n!==(n=l[10]("no_formatting_option_data_type")+"")&&z(t,n)},i:H,o:H,d(l){l&&$(e)}}}function AHe(r){let e,n,t,l,s,o,i;function a(c){r[18](c)}let u={displayOptionsConfig:r[8],displayForm:r[7],displayFormValues:r[6],disabled:r[3]};r[2]!==void 0&&(u.displayOptions=r[2]),n=new RHe({props:u}),we.push(()=>Me(n,"displayOptions",a));let f=r[1]&&v7(r);return{c(){e=E("div"),C(n.$$.fragment),l=N(),f&&f.c()},m(c,m){v(c,e,m),k(n,e,null),R(e,l),f&&f.m(e,null),s=!0,o||(i=[He(e,"focus",r[14]),He(e,"mousedown",r[14])],o=!0)},p(c,m){const d={};m&256&&(d.displayOptionsConfig=c[8]),m&128&&(d.displayForm=c[7]),m&64&&(d.displayFormValues=c[6]),m&8&&(d.disabled=c[3]),!t&&m&4&&(t=!0,d.displayOptions=c[2],De(()=>t=!1)),n.$set(d),c[1]?f?(f.p(c,m),m&2&&_(f,1)):(f=v7(c),f.c(),_(f,1),f.m(e,null)):f&&(U(),p(f,1,1,()=>{f=null}),W())},i(c){s||(_(n.$$.fragment,c),_(f),s=!0)},o(c){p(n.$$.fragment,c),p(f),s=!1},d(c){c&&$(e),y(n),f&&f.d(),o=!1,Ot(i)}}}function v7(r){var l;let e,n,t;return n=new Ol({props:{onProceed:r[12],onCancel:r[13],isProcessing:((l=r[0])==null?void 0:l.state)==="processing",canProceed:!r[5],proceedButton:{label:r[10]("save")},size:"small"}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","footer svelte-o2ny5l")},m(s,o){v(s,e,o),k(n,e,null),t=!0},p(s,o){var a;const i={};o&1&&(i.isProcessing=((a=s[0])==null?void 0:a.state)==="processing"),o&32&&(i.canProceed=!s[5]),o&1024&&(i.proceedButton={label:s[10]("save")}),n.$set(i)},i(s){t||(_(n.$$.fragment,s),t=!0)},o(s){p(n.$$.fragment,s),t=!1},d(s){s&&$(e),y(n)}}}function OHe(r){let e,n,t,l;const s=[AHe,DHe],o=[];function i(a,u){return a[8]&&a[7]&&!a[4]?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,[u]){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function FHe(r,e,n){var B;let t,l,s,o,i,a,u,f,c,m=H,d=()=>(m(),m=le(l,j=>n(16,c=j)),l),g,h;ne(r,ce,j=>n(10,g=j)),r.$$.on_destroy.push(()=>m());let{column:b}=e,w=!1;const S=on();ne(r,S,j=>n(17,h=j));let T=(B=b.column.metadata)!=null?B:{},M;const A=OS();async function D(){n(0,M={state:"processing"});try{await t.setDisplayOptions(b,T),n(1,w=!1),n(0,M={state:"success"})}catch(j){const V=j instanceof Error?j.message:g("unable_to_change_display_opts");$t.error(V),n(0,M={state:"failure",errors:[V]})}}function O(){var j;n(0,M={state:"success"}),n(2,T=(j=b.column.metadata)!=null?j:{}),n(1,w=!1),n(8,{displayOptionsConfig:s,displayForm:o,displayFormValues:i}=I8(b.abstractType,b.column.type,{...b.column,abstractType:b.abstractType}),s,(n(7,o),n(15,b)),(n(6,i),n(15,b)))}function F(){n(1,w=!0)}function P(j){T=j,n(2,T)}return r.$$set=j=>{"column"in j&&n(15,b=j.column)},r.$$.update=()=>{r.$$.dirty&131072&&({columnsDataStore:t}=h),r.$$.dirty&32768&&n(8,{displayOptionsConfig:s,displayForm:o,displayFormValues:i}=I8(b.abstractType,b.column.type,{...b.column,abstractType:b.abstractType}),s,(n(7,o),n(15,b)),(n(6,i),n(15,b))),r.$$.dirty&65537&&n(5,a=(M==null?void 0:M.state)==="processing"||!c),r.$$.dirty&32768&&n(4,u=b.column.primary_key||!!b.linkFk),r.$$.dirty&1&&n(3,f=(M==null?void 0:M.state)==="processing")},d(n(9,{validationResult:l}=A,l)),[M,w,T,f,u,a,i,o,s,l,g,S,D,O,F,b,c,h,P]}class NHe extends Q{constructor(e){super(),Z(this,e,FHe,OHe,J,{column:15})}}function w7(r,e,n){const t=r.slice();return t[16]=e[n],t}function PHe(r){let e,n,t,l,s,o,i;function a(m){r[15](m)}var u=r[6];function f(m){let d={disabled:m[5],autofocus:!0};return m[2]!==void 0&&(d.value=m[2]),{props:d}}u&&(n=new u(f(r)),we.push(()=>Me(n,"value",a)));let c=r[3].length&&k7(r);return o=new Ol({props:{onProceed:r[11],onCancel:r[10],isProcessing:r[5],canProceed:r[7],proceedButton:{label:r[8]("save")},size:"small"}}),{c(){e=E("div"),n&&C(n.$$.fragment),l=N(),c&&c.c(),s=N(),C(o.$$.fragment),I(e,"class","input-container svelte-1eoy31l")},m(m,d){v(m,e,d),n&&k(n,e,null),R(e,l),c&&c.m(e,null),R(e,s),k(o,e,null),i=!0},p(m,d){const g={};if(d&32&&(g.disabled=m[5]),!t&&d&4&&(t=!0,g.value=m[2],De(()=>t=!1)),u!==(u=m[6])){if(n){U();const b=n;p(b.$$.fragment,1,0,()=>{y(b,1)}),W()}u?(n=new u(f(m)),we.push(()=>Me(n,"value",a)),C(n.$$.fragment),_(n.$$.fragment,1),k(n,e,l)):n=null}else u&&n.$set(g);m[3].length?c?c.p(m,d):(c=k7(m),c.c(),c.m(e,s)):c&&(c.d(1),c=null);const h={};d&32&&(h.isProcessing=m[5]),d&128&&(h.canProceed=m[7]),d&256&&(h.proceedButton={label:m[8]("save")}),o.$set(h)},i(m){i||(n&&_(n.$$.fragment,m),_(o.$$.fragment,m),i=!0)},o(m){n&&p(n.$$.fragment,m),p(o.$$.fragment,m),i=!1},d(m){m&&$(e),n&&y(n),c&&c.d(),y(o)}}}function LHe(r){let e,n,t;var l=r[6];function s(o){return{props:{value:o[0],disabled:o[1]}}}return l&&(e=new l(s(r)),e.$on("focus",r[9])),{c(){e&&C(e.$$.fragment),n=ae()},m(o,i){e&&k(e,o,i),v(o,n,i),t=!0},p(o,i){const a={};if(i&1&&(a.value=o[0]),i&2&&(a.disabled=o[1]),l!==(l=o[6])){if(e){U();const u=e;p(u.$$.fragment,1,0,()=>{y(u,1)}),W()}l?(e=new l(s(o)),e.$on("focus",o[9]),C(e.$$.fragment),_(e.$$.fragment,1),k(e,n.parentNode,n)):e=null}else l&&e.$set(a)},i(o){t||(e&&_(e.$$.fragment,o),t=!0)},o(o){e&&p(e.$$.fragment,o),t=!1},d(o){o&&$(n),e&&y(e,o)}}}function k7(r){let e,n=r[3],t=[];for(let l=0;l<n.length;l+=1)t[l]=y7(w7(r,n,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=ae()},m(l,s){for(let o=0;o<t.length;o+=1)t[o].m(l,s);v(l,e,s)},p(l,s){if(s&8){n=l[3];let o;for(o=0;o<n.length;o+=1){const i=w7(l,n,o);t[o]?t[o].p(i,s):(t[o]=y7(i),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(l){Hn(t,l),l&&$(e)}}}function y7(r){let e,n=r[16]+"",t;return{c(){e=E("span"),t=L(n),I(e,"class","error svelte-1eoy31l")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&8&&n!==(n=l[16]+"")&&z(t,n)},d(l){l&&$(e)}}}function HHe(r){let e,n,t,l;const s=[LHe,PHe],o=[];function i(a,u){return!a[4]||a[1]?0:1}return n=i(r),t=o[n]=s[n](r),{c(){e=E("div"),t.c(),I(e,"class","editable-text svelte-1eoy31l")},m(a,u){v(a,e,u),o[n].m(e,null),l=!0},p(a,[u]){let f=n;n=i(a),n===f?o[n].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),t=o[n],t?t.p(a,u):(t=o[n]=s[n](a),t.c()),_(t,1),t.m(e,null))},i(a){l||(_(t),l=!0)},o(a){p(t),l=!1},d(a){a&&$(e),o[n].d()}}}function VHe(r,e,n){let t,l,s,o;ne(r,ce,T=>n(8,o=T));let{initialValue:i=""}=e,{onSubmit:a}=e,{getValidationErrors:u=()=>[]}=e,{isLongText:f=!1}=e,{disabled:c=!1}=e,m=!1,d="",g=!1;function h(){n(2,d=i),n(4,m=!0)}function b(){n(2,d=""),n(4,m=!1)}async function w(){n(5,g=!0);try{await a(d),n(2,d=""),n(4,m=!1)}catch(T){$t.error(Yt(T))}finally{n(5,g=!1)}}function S(T){d=T,n(2,d)}return r.$$set=T=>{"initialValue"in T&&n(0,i=T.initialValue),"onSubmit"in T&&n(12,a=T.onSubmit),"getValidationErrors"in T&&n(13,u=T.getValidationErrors),"isLongText"in T&&n(14,f=T.isLongText),"disabled"in T&&n(1,c=T.disabled)},r.$$.update=()=>{r.$$.dirty&8197&&n(3,t=d===i?[]:u(d)),r.$$.dirty&13&&n(7,l=t.length===0&&d!==i),r.$$.dirty&16384&&n(6,s=f?Zl:hn)},[i,c,d,t,m,g,s,l,o,h,b,w,a,u,f,S]}class Xf extends Q{constructor(e){super(),Z(this,e,VHe,HHe,J,{initialValue:0,onSubmit:12,getValidationErrors:13,isLongText:14,disabled:1})}}function zHe(r){var h;let e,n,t=r[3]("column_name")+"",l,s,o,i,a,u,f=r[3]("column_description")+"",c,m,d,g;return o=new Xf({props:{initialValue:r[0].column.name,onSubmit:r[5],getValidationErrors:r[4],disabled:!r[1]}}),d=new Xf({props:{initialValue:(h=r[0].column.description)!=null?h:"",onSubmit:r[6],isLongText:!0,disabled:!r[1]}}),{c(){e=E("div"),n=E("span"),l=L(t),s=N(),C(o.$$.fragment),i=N(),a=E("div"),u=E("span"),c=L(f),m=N(),C(d.$$.fragment),I(n,"class","label svelte-f7zd5e"),I(e,"class","column-property column-name svelte-f7zd5e"),I(u,"class","label svelte-f7zd5e"),I(a,"class","column-property column-description svelte-f7zd5e")},m(b,w){v(b,e,w),R(e,n),R(n,l),R(e,s),k(o,e,null),v(b,i,w),v(b,a,w),R(a,u),R(u,c),R(a,m),k(d,a,null),g=!0},p(b,[w]){var M;(!g||w&8)&&t!==(t=b[3]("column_name")+"")&&z(l,t);const S={};w&1&&(S.initialValue=b[0].column.name),w&2&&(S.disabled=!b[1]),o.$set(S),(!g||w&8)&&f!==(f=b[3]("column_description")+"")&&z(c,f);const T={};w&1&&(T.initialValue=(M=b[0].column.description)!=null?M:""),w&2&&(T.disabled=!b[1]),d.$set(T)},i(b){g||(_(o.$$.fragment,b),_(d.$$.fragment,b),g=!0)},o(b){p(o.$$.fragment,b),p(d.$$.fragment,b),g=!1},d(b){b&&$(e),y(o),b&&$(i),b&&$(a),y(d)}}}function BHe(r,e,n){let t,l,s,o=H,i=()=>(o(),o=le(t,g=>n(8,s=g)),t);ne(r,ce,g=>n(3,l=g)),r.$$.on_destroy.push(()=>o());let{column:a}=e,{columnsDataStore:u}=e,{currentRoleOwnsTable:f}=e;function c(g){return g===a.column.name?[]:g?s.map(b=>b.name).includes(g)?[l("column_name_already_exists")]:[]:[l("column_name_cannot_be_empty")]}async function m(g){try{await u.rename(a.id,g)}catch(h){$t.error(`${l("unable_to_rename_column")} ${Yt(h)}`)}}async function d(g){try{await u.updateDescription(a.id,g!=null?g:null)}catch(h){$t.error(`${l("unable_to_update_column_desc")} ${Yt(h)}`)}}return r.$$set=g=>{"column"in g&&n(0,a=g.column),"columnsDataStore"in g&&n(7,u=g.columnsDataStore),"currentRoleOwnsTable"in g&&n(1,f=g.currentRoleOwnsTable)},r.$$.update=()=>{r.$$.dirty&128&&i(n(2,{columns:t}=u,t))},[a,f,t,l,c,m,d,u]}class qHe extends Q{constructor(e){super(),Z(this,e,BHe,zHe,J,{column:0,columnsDataStore:7,currentRoleOwnsTable:1})}}function UHe(r){let e,n;return e=new lr({props:{disabled:r[2]||!r[0],checked:!r[3]}}),e.$on("change",r[8]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&5&&(s.disabled=t[2]||!t[0]),l&8&&(s.checked=!t[3]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function WHe(r){let e,n;const t=[{class:"opt"},Rl];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[t[0],_e(Rl)]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function jHe(r){let e,n,t,l;const s=[WHe,UHe],o=[];function i(a,u){return a[2]?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function YHe(r){let e=r[6]("restrict_to_unique_help")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&64&&e!==(e=t[6]("restrict_to_unique_help")+"")&&z(n,e)},d(t){t&&$(n)}}}function GHe(r){let e,n=r[6]("restrict_to_unique")+"",t,l,s,o;return s=new zt({props:{$$slots:{default:[YHe]},$$scope:{ctx:r}}}),{c(){e=E("span"),t=L(n),l=N(),C(s.$$.fragment),I(e,"slot","label")},m(i,a){v(i,e,a),R(e,t),R(e,l),k(s,e,null),o=!0},p(i,a){(!o||a&64)&&n!==(n=i[6]("restrict_to_unique")+"")&&z(t,n);const u={};a&32832&&(u.$$scope={dirty:a,ctx:i}),s.$set(u)},i(i){o||(_(s.$$.fragment,i),o=!0)},o(i){p(s.$$.fragment,i),o=!1},d(i){i&&$(e),y(s)}}}function KHe(r){let e,n;return e=new lr({props:{disabled:r[1]||!r[0],checked:!r[4]}}),e.$on("change",r[7]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&3&&(s.disabled=t[1]||!t[0]),l&16&&(s.checked=!t[4]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function XHe(r){let e,n;const t=[{class:"opt"},Rl];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[t[0],_e(Rl)]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function JHe(r){let e,n,t,l;const s=[XHe,KHe],o=[];function i(a,u){return a[1]?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function C7(r){let e;return{c(){e=E("span"),e.textContent="NULL",I(e,"class","null svelte-1nhoybe")},m(n,t){v(n,e,t)},d(n){n&&$(e)}}}function ZHe(r){let e,n=r[14]==="null"&&C7();return{c(){n&&n.c(),e=ae()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,l){t[14]==="null"?n||(n=C7(),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&$(e)}}}function QHe(r){let e=r[6]("disallow_null_values_help")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&64&&e!==(e=t[6]("disallow_null_values_help")+"")&&z(n,e)},d(t){t&&$(n)}}}function xHe(r){let e,n,t,l,s;return n=new ot({props:{text:r[6]("disallow_null_values"),$$slots:{default:[ZHe,({slotName:o})=>({14:o}),({slotName:o})=>o?16384:0]},$$scope:{ctx:r}}}),l=new zt({props:{$$slots:{default:[QHe]},$$scope:{ctx:r}}}),{c(){e=E("span"),C(n.$$.fragment),t=N(),C(l.$$.fragment),I(e,"slot","label")},m(o,i){v(o,e,i),k(n,e,null),R(e,t),k(l,e,null),s=!0},p(o,i){const a={};i&64&&(a.text=o[6]("disallow_null_values")),i&49152&&(a.$$scope={dirty:i,ctx:o}),n.$set(a);const u={};i&32832&&(u.$$scope={dirty:i,ctx:o}),l.$set(u)},i(o){s||(_(n.$$.fragment,o),_(l.$$.fragment,o),s=!0)},o(o){p(n.$$.fragment,o),p(l.$$.fragment,o),s=!1},d(o){o&&$(e),y(n),y(l)}}}function eVe(r){let e,n,t,l,s;return n=new Nt({props:{layout:"inline-input-first",$$slots:{label:[GHe],default:[jHe]},$$scope:{ctx:r}}}),l=new Nt({props:{layout:"inline-input-first",$$slots:{label:[xHe],default:[JHe]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),C(l.$$.fragment),I(e,"class","column-options svelte-1nhoybe")},m(o,i){v(o,e,i),k(n,e,null),R(e,t),k(l,e,null),s=!0},p(o,[i]){const a={};i&32845&&(a.$$scope={dirty:i,ctx:o}),n.$set(a);const u={};i&32851&&(u.$$scope={dirty:i,ctx:o}),l.$set(u)},i(o){s||(_(n.$$.fragment,o),_(l.$$.fragment,o),s=!0)},o(o){p(n.$$.fragment,o),p(l.$$.fragment,o),s=!1},d(o){o&&$(e),y(n),y(l)}}}function tVe(r,e,n){let t,l,s,o,i,a=H,u=()=>(a(),a=le(l,T=>n(12,i=T)),l);ne(r,ce,T=>n(6,o=T)),r.$$.on_destroy.push(()=>a());let{column:f}=e,{columnsDataStore:c}=e,{constraintsDataStore:m}=e,{currentRoleOwnsTable:d}=e,g=!1,h=!1;const b=Et();async function w(){n(1,g=!0);try{const T=!t;await c.setNullabilityOfColumn(f.column,T);const M=T?o("column_will_allow_null",{values:{columnName:f.column.name}}):o("column_will_not_allow_null",{values:{columnName:f.column.name}});$t.success(M),b("close")}catch(T){const M=o("unable_to_update_allow_null_column",{values:{columnName:f.column.name}});$t.error(`${M} ${Yt(T)}.`)}finally{n(1,g=!1)}}async function S(){n(2,h=!0);try{const T=!s;await m.setUniquenessOfColumn(f.column,!T);const M=T?o("column_will_allow_duplicates",{values:{columnName:f.column.name}}):o("column_will_not_allow_duplicates",{values:{columnName:f.column.name}});$t.success(M),b("close")}catch(T){const M=o("unable_to_update_allow_duplicates_column",{values:{columnName:f.column.name}});$t.error(`${M} ${Yt(T)}.`)}finally{n(2,h=!1)}}return r.$$set=T=>{"column"in T&&n(9,f=T.column),"columnsDataStore"in T&&n(10,c=T.columnsDataStore),"constraintsDataStore"in T&&n(11,m=T.constraintsDataStore),"currentRoleOwnsTable"in T&&n(0,d=T.currentRoleOwnsTable)},r.$$.update=()=>{r.$$.dirty&512&&n(4,t=f.column.nullable),r.$$.dirty&2048&&u(n(5,{uniqueColumns:l}=m,l)),r.$$.dirty&4608&&n(3,s=!(f.column.primary_key||i.has(f.id)))},[d,g,h,s,t,l,o,w,S,f,c,m,i]}class nVe extends Q{constructor(e){super(),Z(this,e,tVe,eVe,J,{column:9,columnsDataStore:10,constraintsDataStore:11,currentRoleOwnsTable:0})}}function S7(r){let e,n;return e=new TR({props:{column:r[1],save:r[5],disabled:r[2]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.column=t[1]),l&4&&(s.disabled=t[2]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function T7(r){let e,n;return e=new Co({props:{$$slots:{default:[rVe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&4097&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function rVe(r){let e,n;return{c(){e=E("span"),n=L(r[0]),I(e,"class","info-alert svelte-111daun")},m(t,l){v(t,e,l),R(e,n)},p(t,l){l&1&&z(n,t[0])},d(t){t&&$(e)}}}function lVe(r){let e=r[1],n,t,l,s=S7(r),o=r[0]&&T7(r);return{c(){s.c(),n=N(),o&&o.c(),t=ae()},m(i,a){s.m(i,a),v(i,n,a),o&&o.m(i,a),v(i,t,a),l=!0},p(i,[a]){a&2&&J(e,e=i[1])?(U(),p(s,1,1,H),W(),s=S7(i),s.c(),_(s,1),s.m(n.parentNode,n)):s.p(i,a),i[0]?o?(o.p(i,a),a&1&&_(o,1)):(o=T7(i),o.c(),_(o,1),o.m(t.parentNode,t)):o&&(U(),p(o,1,1,()=>{o=null}),W())},i(i){l||(_(s),_(o),l=!0)},o(i){p(s),p(o),l=!1},d(i){s.d(i),i&&$(n),o&&o.d(i),i&&$(t)}}}function sVe(r,e,n){let t,l,s,o,i,a,u,f,c=H,m=()=>(c(),c=le(s,w=>n(9,f=w)),s),d;ne(r,ce,w=>n(8,u=w)),r.$$.on_destroy.push(()=>c());const g=on();ne(r,g,w=>n(10,d=w));let{column:h}=e;async function b(w){await l.changeType({id:h.id,type:w.type,type_options:w.type_options,metadata:w.metadata})}return r.$$set=w=>{"column"in w&&n(6,h=w.column)},r.$$.update=()=>{r.$$.dirty&1024&&n(7,{table:t,columnsDataStore:l}=d,t),r.$$.dirty&128&&m(n(3,{currentRoleOwns:s}=t.currentAccess,s)),r.$$.dirty&576&&n(2,o=h.column.primary_key||!!h.linkFk||!f),r.$$.dirty&64&&n(1,i={...h.column,abstractType:h.abstractType}),r.$$.dirty&320&&n(0,a=(()=>h.column.primary_key?u("data_type_pk_column_restricted"):h.linkFk?u("data_type_linked_column_restricted"):"")())},[a,i,o,s,g,b,h,t,u,f,d]}class oVe extends Q{constructor(e){super(),Z(this,e,sVe,lVe,J,{column:6})}}function iVe(r){let e,n,t,l,s=r[3]("primary_key")+"",o,i;const a=[ba];let u={};for(let f=0;f<a.length;f+=1)u=se(u,a[f]);return n=new Ne({props:u}),{c(){e=E("div"),C(n.$$.fragment),t=N(),l=E("span"),o=L(s),I(e,"class","specifier-tag svelte-1p5cyql")},m(f,c){v(f,e,c),k(n,e,null),R(e,t),R(e,l),R(l,o),i=!0},p(f,c){const m=c&0?de(a,[_e(ba)]):{};n.$set(m),(!i||c&8)&&s!==(s=f[3]("primary_key")+"")&&z(o,s)},i(f){i||(_(n.$$.fragment,f),i=!0)},o(f){p(n.$$.fragment,f),i=!1},d(f){f&&$(e),y(n)}}}function aVe(r){let e,n,t=r[3]("linked_to")+"",l,s,o,i,a,u,f,c;i=new rn({props:{table:r[2]}});const m=[Is];let d={};for(let g=0;g<m.length;g+=1)d=se(d,m[g]);return u=new Ne({props:d}),{c(){e=E("div"),n=E("span"),l=L(t),s=N(),o=E("a"),C(i.$$.fragment),a=N(),C(u.$$.fragment),I(o,"class","specifier-tag svelte-1p5cyql"),I(o,"href",f=r[4]({tableId:r[1]})),I(e,"class","fk-container svelte-1p5cyql")},m(g,h){v(g,e,h),R(e,n),R(n,l),R(e,s),R(e,o),k(i,o,null),R(o,a),k(u,o,null),c=!0},p(g,h){(!c||h&8)&&t!==(t=g[3]("linked_to")+"")&&z(l,t);const b={};h&4&&(b.table=g[2]),i.$set(b);const w=h&0?de(m,[_e(Is)]):{};u.$set(w),(!c||h&18&&f!==(f=g[4]({tableId:g[1]})))&&I(o,"href",f)},i(g){c||(_(i.$$.fragment,g),_(u.$$.fragment,g),c=!0)},o(g){p(i.$$.fragment,g),p(u.$$.fragment,g),c=!1},d(g){g&&$(e),y(i),y(u)}}}function uVe(r){let e,n,t,l;const s=[aVe,iVe],o=[];function i(a,u){return a[0]==="foreignKey"&&a[2]?0:a[0]==="primaryKey"?1:-1}return~(n=i(r))&&(t=o[n]=s[n](r)),{c(){e=E("div"),t&&t.c(),I(e,"class","specifier-tag-container svelte-1p5cyql")},m(a,u){v(a,e,u),~n&&o[n].m(e,null),l=!0},p(a,[u]){let f=n;n=i(a),n===f?~n&&o[n].p(a,u):(t&&(U(),p(o[f],1,1,()=>{o[f]=null}),W()),~n?(t=o[n],t?t.p(a,u):(t=o[n]=s[n](a),t.c()),_(t,1),t.m(e,null)):t=null)},i(a){l||(_(t),l=!0)},o(a){p(t),l=!1},d(a){a&&$(e),~n&&o[n].d()}}}function fVe(r,e,n){let t,l,s,o,i;ne(r,_r,f=>n(6,s=f)),ne(r,ce,f=>n(3,o=f)),ne(r,Pc,f=>n(4,i=f));let{type:a}=e,{column:u}=e;return r.$$set=f=>{"type"in f&&n(0,a=f.type),"column"in f&&n(5,u=f.column)},r.$$.update=()=>{var f;r.$$.dirty&32&&n(1,t=(f=u.linkFk)==null?void 0:f.referent_table_oid),r.$$.dirty&66&&n(2,l=t?s.tablesMap.get(t):void 0)},[a,t,l,o,i,u,s]}class qR extends Q{constructor(e){super(),Z(this,e,fVe,uVe,J,{type:0,column:5})}}function cVe(r){let e,n;return e=new qa({props:{checked:r[2],disabled:r[4]}}),e.$on("change",r[13]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&4&&(s.checked=t[2]),l&16&&(s.disabled=t[4]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function mVe(r){let e,n=r[9]("no_default_value")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","label")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&512&&n!==(n=l[9]("no_default_value")+"")&&z(t,n)},d(l){l&&$(e)}}}function dVe(r){let e,n;return e=new qa({props:{checked:!r[2],disabled:r[4]}}),e.$on("change",r[13]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&4&&(s.checked=!t[2]),l&16&&(s.disabled=t[4]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function _Ve(r){let e,n=r[9]("custom_default")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","label")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&512&&n!==(n=l[9]("custom_default")+"")&&z(t,n)},d(l){l&&$(e)}}}function I7(r){let e,n,t;function l(o){r[21](o)}let s={componentAndProps:r[0].simpleInputComponentAndProps,disabled:r[4],recordSummary:r[6],setRecordSummary:r[14]};return r[3]!==void 0&&(s.value=r[3]),e=new lu({props:s}),we.push(()=>Me(e,"value",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};i&1&&(a.componentAndProps=o[0].simpleInputComponentAndProps),i&16&&(a.disabled=o[4]),i&64&&(a.recordSummary=o[6]),!n&&i&8&&(n=!0,a.value=o[3],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function E7(r){var t;let e,n;return e=new Ol({props:{onProceed:r[11],onCancel:r[12],isProcessing:((t=r[1])==null?void 0:t.state)==="processing",proceedButton:{label:r[9]("save")},size:"small"}}),{c(){C(e.$$.fragment)},m(l,s){k(e,l,s),n=!0},p(l,s){var i;const o={};s&2&&(o.isProcessing=((i=l[1])==null?void 0:i.state)==="processing"),s&512&&(o.proceedButton={label:l[9]("save")}),e.$set(o)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){p(e.$$.fragment,l),n=!1},d(l){y(e,l)}}}function pVe(r){let e,n,t,l,s,o,i;n=new Nt({props:{layout:"inline-input-first",$$slots:{label:[mVe],default:[cVe]},$$scope:{ctx:r}}}),l=new Nt({props:{layout:"inline-input-first",$$slots:{label:[_Ve],default:[dVe]},$$scope:{ctx:r}}});let a=!r[2]&&I7(r),u=r[7]&&E7(r);return{c(){e=E("div"),C(n.$$.fragment),t=N(),C(l.$$.fragment),s=N(),a&&a.c(),o=N(),u&&u.c(),I(e,"class","default-value-container svelte-w6n0k")},m(f,c){v(f,e,c),k(n,e,null),R(e,t),k(l,e,null),R(e,s),a&&a.m(e,null),R(e,o),u&&u.m(e,null),i=!0},p(f,[c]){const m={};c&16777748&&(m.$$scope={dirty:c,ctx:f}),n.$set(m);const d={};c&16777748&&(d.$$scope={dirty:c,ctx:f}),l.$set(d),f[2]?a&&(U(),p(a,1,1,()=>{a=null}),W()):a?(a.p(f,c),c&4&&_(a,1)):(a=I7(f),a.c(),_(a,1),a.m(e,o)),f[7]?u?(u.p(f,c),c&128&&_(u,1)):(u=E7(f),u.c(),_(u,1),u.m(e,null)):u&&(U(),p(u,1,1,()=>{u=null}),W())},i(f){i||(_(n.$$.fragment,f),_(l.$$.fragment,f),_(a),_(u),i=!0)},o(f){p(n.$$.fragment,f),p(l.$$.fragment,f),p(a),p(u),i=!1},d(f){f&&$(e),y(n),y(l),a&&a.d(),u&&u.d()}}}function gVe(r,e,n){let t,l,s,o,i,a,u,f,c,m,d,g,h=H,b=()=>(h(),h=le(i,Y=>n(18,g=Y)),i),w,S,T=H,M=()=>(T(),T=le(o,Y=>n(19,S=Y)),o),A;ne(r,ce,Y=>n(9,w=Y)),r.$$.on_destroy.push(()=>h()),r.$$.on_destroy.push(()=>T());let{column:D}=e;const O=on();ne(r,O,Y=>n(20,A=Y));let F;function P(){n(3,u=a)}async function B(){var K;n(1,F={state:"processing"});const Y=f?null:{is_dynamic:!!((K=D.column.default)!=null&&K.is_dynamic),value:String(u)};try{await l.patch({id:D.id,default:Y}),n(1,F={state:"success"})}catch(ee){const x=ee instanceof Error?ee.message:w("unable_to_change_display_options");$t.error(x),n(1,F={state:"failure",errors:[x]})}}function j(){P(),n(1,F={state:"success"})}function V(){n(2,f=!f)}function q(Y,K){o&&o.addBespokeValue({columnId:String(D.id),key:Y,value:K})}function G(Y){u=Y,n(3,u),n(15,a),n(0,D)}return r.$$set=Y=>{"column"in Y&&n(0,D=Y.column)},r.$$.update=()=>{var Y,K,ee;r.$$.dirty&1048576&&n(16,{table:t,columnsDataStore:l,recordsData:s}=A,t,(n(17,s),n(20,A))),r.$$.dirty&131072&&M(n(5,{linkedRecordSummaries:o}=s,o)),r.$$.dirty&65536&&b(n(8,{currentRoleOwns:i}=t.currentAccess,i)),r.$$.dirty&1&&n(15,a=(K=(Y=D.column.default)==null?void 0:Y.value)!=null?K:D.initialInputValue),r.$$.dirty&32768&&n(3,u=a),r.$$.dirty&1&&n(2,f=D.column.default===null),r.$$.dirty&32781&&n(7,c=(()=>f?D.column.default!==null:typeof u=="object"?JSON.stringify(u)!==JSON.stringify(a):String(u)!==String(a))()),r.$$.dirty&524297&&n(6,m=(ee=S.get(String(D.id)))==null?void 0:ee.get(String(u))),r.$$.dirty&262146&&n(4,d=(F==null?void 0:F.state)==="processing"||!g)},[D,F,f,u,d,o,m,c,i,w,O,B,j,V,q,a,t,s,g,S,A,G]}class hVe extends Q{constructor(e){super(),Z(this,e,gVe,pVe,J,{column:0})}}function bVe(r){var S;let e,n,t,l,s,o,i,a,u,f=r[1].length>1&&M7(r),c=r[0]&&R7(r),m=r[0]&&O7(r),d=r[0]&&!((S=r[0].column.default)!=null&&S.is_dynamic)&&F7(r),g=r[0]&&N7(r),h=r[3]&&L7(r);function b(T){r[28](T)}let w={title:r[8]("actions"),$$slots:{default:[IVe]},$$scope:{ctx:r}};return r[16]!==void 0&&(w.isOpen=r[16]),i=new An({props:w}),we.push(()=>Me(i,"isOpen",b)),{c(){f&&f.c(),e=N(),c&&c.c(),n=N(),m&&m.c(),t=N(),d&&d.c(),l=N(),g&&g.c(),s=N(),h&&h.c(),o=N(),C(i.$$.fragment)},m(T,M){f&&f.m(T,M),v(T,e,M),c&&c.m(T,M),v(T,n,M),m&&m.m(T,M),v(T,t,M),d&&d.m(T,M),v(T,l,M),g&&g.m(T,M),v(T,s,M),h&&h.m(T,M),v(T,o,M),k(i,T,M),u=!0},p(T,M){var D;T[1].length>1?f?f.p(T,M):(f=M7(T),f.c(),f.m(e.parentNode,e)):f&&(f.d(1),f=null),T[0]?c?(c.p(T,M),M&1&&_(c,1)):(c=R7(T),c.c(),_(c,1),c.m(n.parentNode,n)):c&&(U(),p(c,1,1,()=>{c=null}),W()),T[0]?m?(m.p(T,M),M&1&&_(m,1)):(m=O7(T),m.c(),_(m,1),m.m(t.parentNode,t)):m&&(U(),p(m,1,1,()=>{m=null}),W()),T[0]&&!((D=T[0].column.default)!=null&&D.is_dynamic)?d?(d.p(T,M),M&1&&_(d,1)):(d=F7(T),d.c(),_(d,1),d.m(l.parentNode,l)):d&&(U(),p(d,1,1,()=>{d=null}),W()),T[0]?g?(g.p(T,M),M&1&&_(g,1)):(g=N7(T),g.c(),_(g,1),g.m(s.parentNode,s)):g&&(U(),p(g,1,1,()=>{g=null}),W()),T[3]?h?(h.p(T,M),M&8&&_(h,1)):(h=L7(T),h.c(),_(h,1),h.m(o.parentNode,o)):h&&(U(),p(h,1,1,()=>{h=null}),W());const A={};M&256&&(A.title=T[8]("actions")),M&536870914&&(A.$$scope={dirty:M,ctx:T}),!a&&M&65536&&(a=!0,A.isOpen=T[16],De(()=>a=!1)),i.$set(A)},i(T){u||(_(c),_(m),_(d),_(g),_(h),_(i.$$.fragment,T),u=!0)},o(T){p(c),p(m),p(d),p(g),p(h),p(i.$$.fragment,T),u=!1},d(T){f&&f.d(T),T&&$(e),c&&c.d(T),T&&$(n),m&&m.d(T),T&&$(t),d&&d.d(T),T&&$(l),g&&g.d(T),T&&$(s),h&&h.d(T),T&&$(o),y(i,T)}}}function $Ve(r){let e,n=r[8]("select_columns_cells_view_properties")+"",t;return{c(){e=E("span"),t=L(n),I(e,"class","no-cell-selected svelte-x20e80")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&256&&n!==(n=l[8]("select_columns_cells_view_properties")+"")&&z(t,n)},i:H,o:H,d(l){l&&$(e)}}}function M7(r){let e,n=r[8]("multiple_columns_selected",{values:{count:r[1].length}})+"",t;return{c(){e=E("span"),t=L(n),I(e,"class","columns-selected-count svelte-x20e80")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&258&&n!==(n=l[8]("multiple_columns_selected",{values:{count:l[1].length}})+"")&&z(t,n)},d(l){l&&$(e)}}}function R7(r){let e=r[0],n,t,l=A7(r);return{c(){l.c(),n=ae()},m(s,o){l.m(s,o),v(s,n,o),t=!0},p(s,o){o&1&&J(e,e=s[0])?(U(),p(l,1,1,H),W(),l=A7(s),l.c(),_(l,1),l.m(n.parentNode,n)):l.p(s,o)},i(s){t||(_(l),t=!0)},o(s){p(l),t=!1},d(s){s&&$(n),l.d(s)}}}function vVe(r){let e,n,t,l=!!r[0].linkFk&&D7(r);return n=new nVe({props:{column:r[0],columnsDataStore:r[2].columnsDataStore,constraintsDataStore:r[2].constraintsDataStore,currentRoleOwnsTable:r[10]}}),{c(){l&&l.c(),e=N(),C(n.$$.fragment)},m(s,o){l&&l.m(s,o),v(s,e,o),k(n,s,o),t=!0},p(s,o){s[0].linkFk?l?(l.p(s,o),o&1&&_(l,1)):(l=D7(s),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(U(),p(l,1,1,()=>{l=null}),W());const i={};o&1&&(i.column=s[0]),o&4&&(i.columnsDataStore=s[2].columnsDataStore),o&4&&(i.constraintsDataStore=s[2].constraintsDataStore),o&1024&&(i.currentRoleOwnsTable=s[10]),n.$set(i)},i(s){t||(_(l),_(n.$$.fragment,s),t=!0)},o(s){p(l),p(n.$$.fragment,s),t=!1},d(s){l&&l.d(s),s&&$(e),y(n,s)}}}function wVe(r){let e,n;return e=new qR({props:{column:r[0],type:"primaryKey"}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.column=t[0]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function D7(r){let e,n;return e=new qR({props:{column:r[0],type:"foreignKey"}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.column=t[0]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function kVe(r){let e,n,t,l,s,o;e=new qHe({props:{column:r[0],columnsDataStore:r[2].columnsDataStore,currentRoleOwnsTable:r[10]}});const i=[wVe,vVe],a=[];function u(f,c){return f[0].column.primary_key?0:1}return t=u(r),l=a[t]=i[t](r),{c(){C(e.$$.fragment),n=N(),l.c(),s=ae()},m(f,c){k(e,f,c),v(f,n,c),a[t].m(f,c),v(f,s,c),o=!0},p(f,c){const m={};c&1&&(m.column=f[0]),c&4&&(m.columnsDataStore=f[2].columnsDataStore),c&1024&&(m.currentRoleOwnsTable=f[10]),e.$set(m);let d=t;t=u(f),t===d?a[t].p(f,c):(U(),p(a[d],1,1,()=>{a[d]=null}),W(),l=a[t],l?l.p(f,c):(l=a[t]=i[t](f),l.c()),_(l,1),l.m(s.parentNode,s))},i(f){o||(_(e.$$.fragment,f),_(l),o=!0)},o(f){p(e.$$.fragment,f),p(l),o=!1},d(f){y(e,f),f&&$(n),a[t].d(f),f&&$(s)}}}function A7(r){let e,n,t;function l(o){r[22](o)}let s={title:r[8]("column_properties"),isDbLevelConfiguration:!0,$$slots:{default:[kVe]},$$scope:{ctx:r}};return r[9]!==void 0&&(s.isOpen=r[9]),e=new An({props:s}),we.push(()=>Me(e,"isOpen",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};i&256&&(a.title=o[8]("column_properties")),i&536871941&&(a.$$scope={dirty:i,ctx:o}),!n&&i&512&&(n=!0,a.isOpen=o[9],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function O7(r){let e,n,t;function l(o){r[23](o)}let s={title:r[8]("data_type"),isDbLevelConfiguration:!0,$$slots:{default:[yVe]},$$scope:{ctx:r}};return r[11]!==void 0&&(s.isOpen=r[11]),e=new An({props:s}),we.push(()=>Me(e,"isOpen",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};i&256&&(a.title=o[8]("data_type")),i&536870913&&(a.$$scope={dirty:i,ctx:o}),!n&&i&2048&&(n=!0,a.isOpen=o[11],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function yVe(r){let e,n;return e=new oVe({props:{column:r[0]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.column=t[0]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function F7(r){let e,n,t;function l(o){r[24](o)}let s={title:r[8]("default_value"),isDbLevelConfiguration:!0,$$slots:{default:[CVe]},$$scope:{ctx:r}};return r[12]!==void 0&&(s.isOpen=r[12]),e=new An({props:s}),we.push(()=>Me(e,"isOpen",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};i&256&&(a.title=o[8]("default_value")),i&536870913&&(a.$$scope={dirty:i,ctx:o}),!n&&i&4096&&(n=!0,a.isOpen=o[12],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function CVe(r){let e,n;return e=new hVe({props:{column:r[0]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.column=t[0]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function N7(r){let e,n,t;function l(o){r[25](o)}let s={title:r[8]("formatting"),$$slots:{default:[SVe]},$$scope:{ctx:r}};return r[13]!==void 0&&(s.isOpen=r[13]),e=new An({props:s}),we.push(()=>Me(e,"isOpen",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};i&256&&(a.title=o[8]("formatting")),i&536870913&&(a.$$scope={dirty:i,ctx:o}),!n&&i&8192&&(n=!0,a.isOpen=o[13],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function P7(r){let e,n;return e=new NHe({props:{column:r[0]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.column=t[0]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function SVe(r){let e=r[0],n,t,l=P7(r);return{c(){l.c(),n=ae()},m(s,o){l.m(s,o),v(s,n,o),t=!0},p(s,o){o&1&&J(e,e=s[0])?(U(),p(l,1,1,H),W(),l=P7(s),l.c(),_(l,1),l.m(n.parentNode,n)):l.p(s,o)},i(s){t||(_(l),t=!0)},o(s){p(l),t=!1},d(s){s&&$(n),l.d(s)}}}function L7(r){let e,n,t;function l(o){r[27](o)}let s={title:r[8]("linked_record_summary"),$$slots:{default:[TVe]},$$scope:{ctx:r}};return r[14]!==void 0&&(s.isOpen=r[14]),e=new An({props:s}),we.push(()=>Me(e,"isOpen",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};i&256&&(a.title=o[8]("linked_record_summary")),i&536903692&&(a.$$scope={dirty:i,ctx:o}),!n&&i&16384&&(n=!0,a.isOpen=o[14],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function TVe(r){var t;let e,n;return e=new LLe({props:{linkedTable:r[3],previewRecordId:(t=r[15].activeCellData)==null?void 0:t.value,onSave:r[26]}}),{c(){C(e.$$.fragment)},m(l,s){k(e,l,s),n=!0},p(l,s){var i;const o={};s&8&&(o.linkedTable=l[3]),s&32768&&(o.previewRecordId=(i=l[15].activeCellData)==null?void 0:i.value),s&4&&(o.onSave=l[26]),e.$set(o)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){p(e.$$.fragment,l),n=!1},d(l){y(e,l)}}}function IVe(r){let e,n;return e=new IHe({props:{columns:r[1]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.columns=t[1]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function EVe(r){let e,n,t,l;const s=[$Ve,bVe],o=[];function i(a,u){return a[1].length===0?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,[u]){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function MVe(r,e,n){let t,l,s,o,i,a,u,f,c,m,d=H,g=()=>(d(),d=le(l,pe=>n(20,m=pe)),l),h,b=H,w=()=>(b(),b=le(s,pe=>n(21,h=pe)),s),S,T,M,A,D=H,O=()=>(D(),D=le(i,pe=>n(10,A=pe)),i),F,P,B,j,V,q=H,G=()=>(q(),q=le(o,pe=>n(15,V=pe)),o),Y;ne(r,_r,pe=>n(19,c=pe)),ne(r,ce,pe=>n(8,T=pe)),ne(r,B0,pe=>n(9,M=pe)),ne(r,q0,pe=>n(11,F=pe)),ne(r,U0,pe=>n(12,P=pe)),ne(r,W0,pe=>n(13,B=pe)),ne(r,j0,pe=>n(14,j=pe)),ne(r,Y0,pe=>n(16,Y=pe)),r.$$.on_destroy.push(()=>d()),r.$$.on_destroy.push(()=>b()),r.$$.on_destroy.push(()=>D()),r.$$.on_destroy.push(()=>q());const K=on();ne(r,K,pe=>n(2,S=pe));function ee(pe){M=pe,B0.set(M)}function x(pe){F=pe,q0.set(F)}function X(pe){P=pe,U0.set(P)}function fe(pe){B=pe,W0.set(B)}const he=()=>S.recordsData.fetch();function me(pe){j=pe,j0.set(j)}function ge(pe){Y=pe,Y0.set(Y)}return r.$$.update=()=>{var pe;r.$$.dirty&4&&n(18,{table:t,processedColumns:l,selection:s,selectedCellData:o}=S,t,g(n(7,l)),w(n(6,s)),G(n(5,o))),r.$$.dirty&262144&&O(n(4,{currentRoleOwns:i}=t.currentAccess,i)),r.$$.dirty&3145728&&n(1,a=(()=>{const Le=h.columnIds,Qe=[];for(const Ae of Le){const Je=parseInt(Ae,10),ze=m.get(Je);ze!==void 0&&Qe.push(ze)}return Qe})()),r.$$.dirty&2&&n(0,u=a.length===1?a[0]:void 0),r.$$.dirty&524289&&n(3,f=Rr((pe=u==null?void 0:u.linkFk)==null?void 0:pe.referent_table_oid,Le=>c.tablesMap.get(Le)))},[u,a,S,f,i,o,s,l,T,M,A,F,P,B,j,V,Y,K,t,c,m,h,ee,x,X,fe,he,me,ge]}class RVe extends Q{constructor(e){super(),Z(this,e,MVe,EVe,J,{})}}function H7(r){let e,n,t,l;return e=new st({props:{appearance:"action",$$slots:{default:[DVe]},$$scope:{ctx:r}}}),e.$on("click",r[9]),t=new Zr({props:{href:r[1],appearance:"action",$$slots:{default:[AVe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(s,o){k(e,s,o),v(s,n,o),k(t,s,o),l=!0},p(s,o){const i={};o&8388672&&(i.$$scope={dirty:o,ctx:s}),e.$set(i);const a={};o&2&&(a.href=s[1]),o&8388672&&(a.$$scope={dirty:o,ctx:s}),t.$set(a)},i(s){l||(_(e.$$.fragment,s),_(t.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),l=!1},d(s){y(e,s),s&&$(n),y(t,s)}}}function DVe(r){let e,n,t,l=r[6]("quick_view_record")+"",s,o;const i=[xs];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return e=new Ne({props:a}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l)},m(u,f){k(e,u,f),v(u,n,f),v(u,t,f),R(t,s),o=!0},p(u,f){const c=f&0?de(i,[_e(xs)]):{};e.$set(c),(!o||f&64)&&l!==(l=u[6]("quick_view_record")+"")&&z(s,l)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){p(e.$$.fragment,u),o=!1},d(u){y(e,u),u&&$(n),u&&$(t)}}}function AVe(r){let e,n,t,l=r[6]("open_record")+"",s,o;const i=[Es];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return e=new Ne({props:a}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l)},m(u,f){k(e,u,f),v(u,n,f),v(u,t,f),R(t,s),o=!0},p(u,f){const c=f&0?de(i,[_e(Es)]):{};e.$set(c),(!o||f&64)&&l!==(l=u[6]("open_record")+"")&&z(s,l)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){p(e.$$.fragment,u),o=!1},d(u){y(e,u),u&&$(n),u&&$(t)}}}function OVe(r){let e,n,t,l=r[6]("delete_records",{values:{count:r[0]}})+"",s,o;const i=[Mt];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return e=new Ne({props:a}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l)},m(u,f){k(e,u,f),v(u,n,f),v(u,t,f),R(t,s),o=!0},p(u,f){const c=f&0?de(i,[_e(Mt)]):{};e.$set(c),(!o||f&65)&&l!==(l=u[6]("delete_records",{values:{count:u[0]}})+"")&&z(s,l)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){p(e.$$.fragment,u),o=!1},d(u){y(e,u),u&&$(n),u&&$(t)}}}function FVe(r){let e,n,t,l,s=r[1]&&H7(r);return t=new st({props:{disabled:!r[7],appearance:"danger",$$slots:{default:[OVe]},$$scope:{ctx:r}}}),t.$on("click",r[10]),{c(){e=E("div"),s&&s.c(),n=N(),C(t.$$.fragment),I(e,"class","actions-container svelte-1d7aiug")},m(o,i){v(o,e,i),s&&s.m(e,null),R(e,n),k(t,e,null),l=!0},p(o,[i]){o[1]?s?(s.p(o,i),i&2&&_(s,1)):(s=H7(o),s.c(),_(s,1),s.m(e,n)):s&&(U(),p(s,1,1,()=>{s=null}),W());const a={};i&128&&(a.disabled=!o[7]),i&8388673&&(a.$$scope={dirty:i,ctx:o}),t.$set(a)},i(o){l||(_(s),_(t.$$.fragment,o),l=!0)},o(o){p(s),p(t.$$.fragment,o),l=!1},d(o){o&&$(e),s&&s.d(),y(t)}}}function NVe(r,e,n){let t,l,s,o,i,a,u,f,c,m,d,g,h,b,w,S=H,T=()=>(S(),S=le(f,x=>n(17,w=x)),f),M,A=H,D=()=>(A(),A=le(c,x=>n(18,M=x)),c),O,F=H,P=()=>(F(),F=le(l,x=>n(19,O=x)),l),B,j,V=H,q=()=>(V(),V=le(i,x=>n(7,j=x)),i);ne(r,ce,x=>n(6,g=x)),ne(r,Ci,x=>n(21,h=x)),ne(r,wo,x=>n(16,b=x)),r.$$.on_destroy.push(()=>S()),r.$$.on_destroy.push(()=>A()),r.$$.on_destroy.push(()=>F()),r.$$.on_destroy.push(()=>V());const G=on();ne(r,G,x=>n(20,B=x));const Y=nu.get();function K(){if(!Y||m===void 0)return;const x=h.get(t.oid);if(!x)return;const X=new Si({table:x,recordPk:String(m)});Y.open(X)}async function ee(){Ll({identifierType:g("multiple_records",{values:{count:u}}),body:[g("deleted_records_cannot_be_recovered",{values:{count:u}}),g("are_you_sure_to_proceed")],onProceed:()=>s.deleteSelected(a),onError:x=>$t.fromError(x),onSuccess:x=>{$t.success({title:g("count_records_deleted_successfully",{values:{count:x}})})}})}return r.$$.update=()=>{r.$$.dirty&1048576&&n(14,{table:t,selection:l,recordsData:s,columnsDataStore:o,canDeleteRecords:i}=B,t,P(n(5,l)),(n(12,s),n(20,B)),(n(15,o),n(20,B)),q(n(4,i))),r.$$.dirty&524288&&n(11,a=O.rowIds),r.$$.dirty&2048&&n(0,u=a.size),r.$$.dirty&32768&&T(n(3,{columns:f}=o,f)),r.$$.dirty&4096&&D(n(2,{selectableRowsMap:c}=s,c)),r.$$.dirty&395264&&n(13,m=(()=>{const x=ju(a);if(!x)return;const X=M.get(x);if(!!X)try{return Q_(X.record,w)}catch(fe){return}})()),r.$$.dirty&90112&&n(1,d=b({tableId:t.oid,recordId:m}))},[u,d,c,f,i,l,g,j,G,K,ee,a,s,m,t,o,b,w,M,O,B]}class PVe extends Q{constructor(e){super(),Z(this,e,NVe,FVe,J,{})}}function LVe(r){let e,n=r[2]("select_cells_view_record_props")+"",t;return{c(){e=E("span"),t=L(n),I(e,"class","no-records-selected svelte-14wrjzk")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&4&&n!==(n=l[2]("select_cells_view_record_props")+"")&&z(t,n)},i:H,o:H,d(l){l&&$(e)}}}function HVe(r){let e,n,t,l=r[0]>1&&V7(r);return n=new An({props:{title:r[2]("actions"),$$slots:{default:[VVe]},$$scope:{ctx:r}}}),{c(){l&&l.c(),e=N(),C(n.$$.fragment)},m(s,o){l&&l.m(s,o),v(s,e,o),k(n,s,o),t=!0},p(s,o){s[0]>1?l?l.p(s,o):(l=V7(s),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null);const i={};o&4&&(i.title=s[2]("actions")),o&128&&(i.$$scope={dirty:o,ctx:s}),n.$set(i)},i(s){t||(_(n.$$.fragment,s),t=!0)},o(s){p(n.$$.fragment,s),t=!1},d(s){l&&l.d(s),s&&$(e),y(n,s)}}}function V7(r){let e,n=r[2]("multiple_records_selected",{values:{count:r[0]}})+"",t;return{c(){e=E("span"),t=L(n),I(e,"class","records-selected-count svelte-14wrjzk")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&5&&n!==(n=l[2]("multiple_records_selected",{values:{count:l[0]}})+"")&&z(t,n)},d(l){l&&$(e)}}}function VVe(r){let e,n;return e=new PVe({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function zVe(r){let e,n,t,l;const s=[HVe,LVe],o=[];function i(a,u){return a[0]>0?0:1}return n=i(r),t=o[n]=s[n](r),{c(){e=E("div"),t.c(),I(e,"class","column-mode-container svelte-14wrjzk")},m(a,u){v(a,e,u),o[n].m(e,null),l=!0},p(a,[u]){let f=n;n=i(a),n===f?o[n].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),t=o[n],t?t.p(a,u):(t=o[n]=s[n](a),t.c()),_(t,1),t.m(e,null))},i(a){l||(_(t),l=!0)},o(a){p(t),l=!1},d(a){a&&$(e),o[n].d()}}}function BVe(r,e,n){let t,l,s,o,i=H,a=()=>(i(),i=le(t,m=>n(5,o=m)),t),u,f;ne(r,ce,m=>n(2,f=m)),r.$$.on_destroy.push(()=>i());const c=on();return ne(r,c,m=>n(6,u=m)),r.$$.update=()=>{r.$$.dirty&64&&a(n(1,{selection:t}=u,t)),r.$$.dirty&32&&n(4,l=o.rowIds),r.$$.dirty&16&&n(0,s=l.size)},[s,t,f,c,l,o,u]}class qVe extends Q{constructor(e){super(),Z(this,e,BVe,zVe,J,{})}}function UVe(r){var l;const e=[...r.processedColumns.values()].find(s=>s.column.primary_key);if(!e)return;const n=Rr(r.selection.activeCellId,s=>nr(s).rowId),t=(l=Rr(n,s=>r.selectableRowsMap.get(s)))!=null?l:ol(r.selectableRowsMap.values());return t==null?void 0:t.record[e.id]}function WVe(r){let e,n;return e=new Hp({props:{table:r[6],processedColumns:r[0],previewRecordId:r[1],isLoading:r[7]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&64&&(s.table=t[6]),l&1&&(s.processedColumns=t[0]),l&2&&(s.previewRecordId=t[1]),l&128&&(s.isLoading=t[7]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function jVe(r,e,n){let t,l,s,o,i,a,u,f,c=H,m=()=>(c(),c=le(a,O=>n(10,f=O)),a),d,g=H,h=()=>(g(),g=le(o,O=>n(11,d=O)),o),b,w=H,S=()=>(w(),w=le(l,O=>n(0,b=O)),l),T,M=H,A=()=>(M(),M=le(i,O=>n(7,T=O)),i);r.$$.on_destroy.push(()=>c()),r.$$.on_destroy.push(()=>g()),r.$$.on_destroy.push(()=>w()),r.$$.on_destroy.push(()=>M());let{tabularData:D}=e;return r.$$set=O=>{"tabularData"in O&&n(8,D=O.tabularData)},r.$$.update=()=>{r.$$.dirty&256&&n(6,{table:t,processedColumns:l,recordsData:s,selection:o,isLoading:i}=D,t,S(n(5,l)),(n(9,s),n(8,D)),h(n(4,o)),A(n(3,i))),r.$$.dirty&512&&m(n(2,{selectableRowsMap:a}=s,a)),r.$$.dirty&3073&&n(1,u=UVe({processedColumns:b,selection:d,selectableRowsMap:f}))},[b,u,a,i,o,l,t,T,D,s,f,d]}class YVe extends Q{constructor(e){super(),Z(this,e,jVe,WVe,J,{tabularData:8})}}function z7(r,e,n){const t=r.slice();return t[6]=e[n],t}function B7(r,e){let n,t,l,s;return t=new Gn({props:{column:e[6]}}),{key:r,first:null,c(){n=E("span"),C(t.$$.fragment),l=N(),I(n,"class","column-name-container svelte-r03ev8"),this.first=n},m(o,i){v(o,n,i),k(t,n,null),R(n,l),s=!0},p(o,i){e=o;const a={};i&1&&(a.column=e[6]),t.$set(a)},i(o){s||(_(t.$$.fragment,o),s=!0)},o(o){p(t.$$.fragment,o),s=!1},d(o){o&&$(n),y(t)}}}function GVe(r){let e,n,t=[],l=new Map,s,o=r[0];const i=a=>a[6].id;for(let a=0;a<o.length;a+=1){let u=z7(r,o,a),f=i(u);l.set(f,t[a]=B7(f,u))}return{c(){e=E("div"),n=E("div");for(let a=0;a<t.length;a+=1)t[a].c();I(n,"class","column-names svelte-r03ev8"),I(e,"class","column-names-header svelte-r03ev8")},m(a,u){v(a,e,u),R(e,n);for(let f=0;f<t.length;f+=1)t[f].m(n,null);s=!0},p(a,[u]){u&1&&(o=a[0],U(),t=ht(t,u,i,1,a,o,l,n,kt,B7,null,z7),W())},i(a){if(!s){for(let u=0;u<o.length;u+=1)_(t[u]);s=!0}},o(a){for(let u=0;u<t.length;u+=1)p(t[u]);s=!1},d(a){a&&$(e);for(let u=0;u<t.length;u+=1)t[u].d()}}}function KVe(r,e,n){let t,l,s,o=H,i=()=>(o(),o=le(t,c=>n(4,s=c)),t),a;r.$$.on_destroy.push(()=>o());let{constraint:u}=e;const f=on();return ne(r,f,c=>n(5,a=c)),r.$$set=c=>{"constraint"in c&&n(3,u=c.constraint)},r.$$.update=()=>{r.$$.dirty&32&&i(n(1,t=a.columnsDataStore.columns)),r.$$.dirty&24&&n(0,l=s.filter(c=>u.columns.includes(c.id)))},[l,t,f,u,s,a]}class XVe extends Q{constructor(e){super(),Z(this,e,KVe,GVe,J,{constraint:3})}}function JVe(r){let e,n,t=r[1]("constraint_name")+"",l,s,o,i,a=r[0].name+"",u;return{c(){e=E("div"),n=E("span"),l=L(t),s=L(":"),o=N(),i=E("span"),u=L(a),I(e,"class","constraint-details svelte-1h2xelu")},m(f,c){v(f,e,c),R(e,n),R(n,l),R(n,s),R(e,o),R(e,i),R(i,u)},p(f,[c]){c&2&&t!==(t=f[1]("constraint_name")+"")&&z(l,t),c&1&&a!==(a=f[0].name+"")&&z(u,a)},i:H,o:H,d(f){f&&$(e)}}}function ZVe(r,e,n){let t;ne(r,ce,s=>n(1,t=s));let{constraint:l}=e;return r.$$set=s=>{"constraint"in s&&n(0,l=s.constraint)},[l,t]}class QVe extends Q{constructor(e){super(),Z(this,e,ZVe,JVe,J,{constraint:0})}}function q7(r,e,n){const t=r.slice();return t[6]=e[n],t}function U7(r){let e,n,t=r[2]("target")+"",l,s,o,i,a,u,f,c,m;u=new rn({props:{table:r[1]}});let d={ctx:r,current:null,token:null,hasCatch:!0,pending:tze,then:eze,catch:xVe,value:5,blocks:[,,,]};return Wl(c=r[3](r[0]),d),{c(){e=E("div"),n=E("span"),l=L(t),s=L(":"),o=N(),i=E("div"),a=E("span"),C(u.$$.fragment),f=N(),d.block.c(),I(a,"class","entity-name-container svelte-13izb14"),I(i,"class","target-details svelte-13izb14"),I(e,"class","target svelte-13izb14")},m(g,h){v(g,e,h),R(e,n),R(n,l),R(n,s),R(e,o),R(e,i),R(i,a),k(u,a,null),R(i,f),d.block.m(i,d.anchor=null),d.mount=()=>i,d.anchor=null,m=!0},p(g,h){r=g,(!m||h&4)&&t!==(t=r[2]("target")+"")&&z(l,t);const b={};h&2&&(b.table=r[1]),u.$set(b),d.ctx=r,h&1&&c!==(c=r[3](r[0]))&&Wl(c,d)||Fa(d,r,h)},i(g){m||(_(u.$$.fragment,g),_(d.block),m=!0)},o(g){p(u.$$.fragment,g);for(let h=0;h<3;h+=1){const b=d.blocks[h];p(b)}m=!1},d(g){g&&$(e),y(u),d.block.d(),d.token=null,d=null}}}function xVe(r){let e,n;const t=[il];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[_e(il)]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function eze(r){let e=[],n=new Map,t,l,s=r[5];const o=i=>i[6].id;for(let i=0;i<s.length;i+=1){let a=q7(r,s,i),u=o(a);n.set(u,e[i]=W7(u,a))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=ae()},m(i,a){for(let u=0;u<e.length;u+=1)e[u].m(i,a);v(i,t,a),l=!0},p(i,a){a&9&&(s=i[5],U(),e=ht(e,a,o,1,i,s,n,t.parentNode,kt,W7,t,q7),W())},i(i){if(!l){for(let a=0;a<s.length;a+=1)_(e[a]);l=!0}},o(i){for(let a=0;a<e.length;a+=1)p(e[a]);l=!1},d(i){for(let a=0;a<e.length;a+=1)e[a].d(i);i&&$(t)}}}function W7(r,e){let n,t,l,s;return t=new Gn({props:{column:e[6]}}),{key:r,first:null,c(){n=E("span"),C(t.$$.fragment),l=N(),I(n,"class","entity-name-container svelte-13izb14"),this.first=n},m(o,i){v(o,n,i),k(t,n,null),R(n,l),s=!0},p(o,i){e=o;const a={};i&1&&(a.column=e[6]),t.$set(a)},i(o){s||(_(t.$$.fragment,o),s=!0)},o(o){p(t.$$.fragment,o),s=!1},d(o){o&&$(n),y(t)}}}function tze(r){let e,n;return e=new Gt({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function nze(r){let e,n,t,l=r[2]("constraint_name")+"",s,o,i,a,u=r[0].name+"",f,c,m,d=r[1]&&U7(r);return{c(){e=E("div"),n=E("div"),t=E("span"),s=L(l),o=L(":"),i=N(),a=E("span"),f=L(u),c=N(),d&&d.c(),I(e,"class","constraint-details svelte-13izb14")},m(g,h){v(g,e,h),R(e,n),R(n,t),R(t,s),R(t,o),R(n,i),R(n,a),R(a,f),R(e,c),d&&d.m(e,null),m=!0},p(g,[h]){(!m||h&4)&&l!==(l=g[2]("constraint_name")+"")&&z(s,l),(!m||h&1)&&u!==(u=g[0].name+"")&&z(f,u),g[1]?d?(d.p(g,h),h&2&&_(d,1)):(d=U7(g),d.c(),_(d,1),d.m(e,null)):d&&(U(),p(d,1,1,()=>{d=null}),W())},i(g){m||(_(d),m=!0)},o(g){p(d),m=!1},d(g){g&&$(e),d&&d.d()}}}function rze(r,e,n){let t,l,s;ne(r,_r,a=>n(4,l=a)),ne(r,ce,a=>n(2,s=a));let{constraint:o}=e;async function i(a){if(a.type!=="foreignkey")return[];const u=ve(jn.currentDatabase);if(!u)throw new Error("Current database not set");return(await Ke.columns.list_with_metadata({database_id:u.id,table_oid:a.referent_table_oid}).run()).filter(c=>a.referent_columns.includes(c.id))}return r.$$set=a=>{"constraint"in a&&n(0,o=a.constraint)},r.$$.update=()=>{r.$$.dirty&17&&n(1,t=o.type==="foreignkey"?l.tablesMap.get(o.referent_table_oid):void 0)},[o,t,s,i,l]}class lze extends Q{constructor(e){super(),Z(this,e,rze,nze,J,{constraint:0})}}function sze(r){let e,n=r[0]("constraint_name_unique_help")+"",t,l,s,o=r[0]("constraint_name_unique_mathesar_relevance_help")+"",i;return{c(){e=E("p"),t=L(n),l=N(),s=E("p"),i=L(o)},m(a,u){v(a,e,u),R(e,t),v(a,l,u),v(a,s,u),R(s,i)},p(a,u){u&1&&n!==(n=a[0]("constraint_name_unique_help")+"")&&z(t,n),u&1&&o!==(o=a[0]("constraint_name_unique_mathesar_relevance_help")+"")&&z(i,o)},d(a){a&&$(e),a&&$(l),a&&$(s)}}}function oze(r){let e,n;return e=new zt({props:{$$slots:{default:[sze]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&3&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function ize(r,e,n){let t;return ne(r,ce,l=>n(0,t=l)),[t]}class UR extends Q{constructor(e){super(),Z(this,e,ize,oze,J,{})}}function aze(r){let e,n=r[16]("column_references_target_table")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","help")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s[0]&65536&&n!==(n=l[16]("column_references_target_table")+"")&&z(t,n)},d(l){l&&$(e)}}}function j7(r){let e,n,t,l;const s=[fze,uze],o=[];function i(a,u){return a[17]?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function uze(r){let e,n;return e=new It({props:{field:r[3],input:{component:_i,props:{columns:r[10]}},layout:"stacked",$$slots:{label:[mze]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&8&&(s.field=t[3]),l[0]&1024&&(s.input={component:_i,props:{columns:t[10]}}),l[0]&65664|l[1]&128&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function fze(r){let e,n;return e=new Ht({props:{$$slots:{default:[dze]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[1]&128&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Y7(r){let e,n;return e=new rn({props:{table:r[7],bold:!0,truncate:!1}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&128&&(s.table=t[7]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function cze(r){let e,n,t=r[37]==="tableName"&&Y7(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[37]==="tableName"?t?(t.p(l,s),s[1]&64&&_(t,1)):(t=Y7(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function mze(r){let e,n,t;return n=new ot({props:{text:r[16]("target_column_in_table"),$$slots:{default:[cze,({slotName:l})=>({37:l}),({slotName:l})=>[0,l?64:0]]},$$scope:{ctx:r}}}),{c(){e=E("span"),C(n.$$.fragment),I(e,"slot","label")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s[0]&65536&&(o.text=l[16]("target_column_in_table")),s[0]&128|s[1]&192&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function dze(r){let e,n;return e=new Gt({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function _ze(r){let e,n=r[16]("set_constraint_name")+"",t,l,s,o;return s=new UR({}),{c(){e=E("span"),t=L(n),l=N(),C(s.$$.fragment),I(e,"slot","label")},m(i,a){v(i,e,a),R(e,t),R(e,l),k(s,e,null),o=!0},p(i,a){(!o||a[0]&65536)&&n!==(n=i[16]("set_constraint_name")+"")&&z(t,n)},i(i){o||(_(s.$$.fragment,i),o=!0)},o(i){p(s.$$.fragment,i),o=!1},d(i){i&&$(e),y(s)}}}function pze(r){let e,n,t;function l(o){r[32](o)}let s={options:r[19],isInline:!0,getRadioLabel:r[31],$$slots:{label:[_ze]},$$scope:{ctx:r}};return r[6]!==void 0&&(s.value=r[6]),e=new Ns({props:s}),we.push(()=>Me(e,"value",l)),e.$on("change",r[21]),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};i[0]&65536|i[1]&128&&(a.$$scope={dirty:i,ctx:o}),!n&&i[0]&64&&(n=!0,a.value=o[6],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function G7(r){let e,n;return e=new It({props:{field:r[1],layout:"stacked",label:r[16]("constraint_name")}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&2&&(s.field=t[1]),l[0]&65536&&(s.label=t[16]("constraint_name")),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function gze(r){let e,n,t,l,s,o,i,a,u,f,c;n=new It({props:{field:r[5],input:{component:_i,props:{columns:r[13]}},layout:"stacked",label:r[16]("referencing_column"),$$slots:{help:[aze]},$$scope:{ctx:r}}}),l=new It({props:{field:r[4],input:{component:Ia,props:{autoSelect:"clear",tables:r[15]}},layout:"stacked",label:r[16]("target_table")}});let m=r[7]&&j7(r);i=new Ht({props:{$$slots:{default:[pze]},$$scope:{ctx:r}}});let d=r[6]==="manual"&&G7(r);return f=new yn({props:{form:r[8],catchErrors:!0,onProceed:r[22],onCancel:r[0],size:"small",proceedButton:{label:r[16]("add_foreign_key_constraint")}}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),C(l.$$.fragment),s=N(),m&&m.c(),o=N(),C(i.$$.fragment),a=N(),d&&d.c(),u=N(),C(f.$$.fragment),I(e,"class","add-new-fk-constraint svelte-1c0ahmy")},m(g,h){v(g,e,h),k(n,e,null),R(e,t),k(l,e,null),R(e,s),m&&m.m(e,null),R(e,o),k(i,e,null),R(e,a),d&&d.m(e,null),R(e,u),k(f,e,null),c=!0},p(g,h){const b={};h[0]&32&&(b.field=g[5]),h[0]&8192&&(b.input={component:_i,props:{columns:g[13]}}),h[0]&65536&&(b.label=g[16]("referencing_column")),h[0]&65536|h[1]&128&&(b.$$scope={dirty:h,ctx:g}),n.$set(b);const w={};h[0]&16&&(w.field=g[4]),h[0]&32768&&(w.input={component:Ia,props:{autoSelect:"clear",tables:g[15]}}),h[0]&65536&&(w.label=g[16]("target_table")),l.$set(w),g[7]?m?(m.p(g,h),h[0]&128&&_(m,1)):(m=j7(g),m.c(),_(m,1),m.m(e,o)):m&&(U(),p(m,1,1,()=>{m=null}),W());const S={};h[0]&65600|h[1]&128&&(S.$$scope={dirty:h,ctx:g}),i.$set(S),g[6]==="manual"?d?(d.p(g,h),h[0]&64&&_(d,1)):(d=G7(g),d.c(),_(d,1),d.m(e,u)):d&&(U(),p(d,1,1,()=>{d=null}),W());const T={};h[0]&256&&(T.form=g[8]),h[0]&1&&(T.onCancel=g[0]),h[0]&65536&&(T.proceedButton={label:g[16]("add_foreign_key_constraint")}),f.$set(T)},i(g){c||(_(n.$$.fragment,g),_(l.$$.fragment,g),_(m),_(i.$$.fragment,g),_(d),_(f.$$.fragment,g),c=!0)},o(g){p(n.$$.fragment,g),p(l.$$.fragment,g),p(m),p(i.$$.fragment,g),p(d),p(f.$$.fragment,g),c=!1},d(g){g&&$(e),y(n),y(l),m&&m.d(),y(i),d&&d.d(),y(f)}}}function hze(r,e,n){let t,l,s,o,i,a,u,f,c,m,d,g,h,b,w,S,T,M,A=H,D=()=>(A(),A=le(s,Fe=>n(34,M=Fe)),s),O,F=H,P=()=>(F(),F=le(a,Fe=>n(6,O=Fe)),a),B,j=H,V=()=>(j(),j=le(u,Fe=>n(35,B=Fe)),u),q,G=H,Y=()=>(G(),G=le(w,Fe=>n(26,q=Fe)),w),K,ee=H,x=()=>(ee(),ee=le(o,Fe=>n(7,K=Fe)),o),X,fe=H,he=()=>(fe(),fe=le(d,Fe=>n(27,X=Fe)),d),me,ge,pe,Le=H,Qe=()=>(Le(),Le=le(t,Fe=>n(30,pe=Fe)),t),Ae,Je,ze=H,Ve=()=>(ze(),ze=le(b,Fe=>n(17,Je=Fe)),b);ne(r,Nc,Fe=>n(29,ge=Fe)),ne(r,ce,Fe=>n(16,Ae=Fe)),r.$$.on_destroy.push(()=>A()),r.$$.on_destroy.push(()=>F()),r.$$.on_destroy.push(()=>j()),r.$$.on_destroy.push(()=>G()),r.$$.on_destroy.push(()=>ee()),r.$$.on_destroy.push(()=>fe()),r.$$.on_destroy.push(()=>Le()),r.$$.on_destroy.push(()=>ze());let{onClose:Be=void 0}=e;const qe=new Map([["auto",Ae("automatically")],["manual",Ae("manually")]]),ft=[...qe.keys()],vt=on();ne(r,vt,Fe=>n(28,me=Fe));function ut(Fe,mt,yt){var lt;const ct=`FK_${Fe}_${(lt=mt==null?void 0:mt.column.name)!=null?lt:""}`;return Ms(ct,yt)}function Xe(){Pn(u,B=O==="manual"?ut(m,M,l):void 0,B)}async function dt(Fe){await t.add({columns:[Fe.baseColumn.id],type:"f",name:Fe.constraintName,fkey_relation_id:Fe.targetTable.oid,fkey_columns:[Fe.targetColumn.id]}),f.reset(),Be==null||Be()}const Oe=Fe=>{var mt;return(mt=qe.get(Fe))!=null?mt:""};function _t(Fe){O=Fe,a.set(O)}return r.$$set=Fe=>{"onClose"in Fe&&n(0,Be=Fe.onClose)},r.$$.update=()=>{r.$$.dirty[0]&268435456&&Qe(n(9,t=me.constraintsDataStore)),r.$$.dirty[0]&1073741824&&n(23,l=new Set(pe.constraints.map(Fe=>Fe.name))),r.$$.dirty[0]&8388608&&V(n(1,u=gt(void 0,[Dc(l)]))),r.$$.dirty[0]&126&&n(8,f=Wt({baseColumn:s,targetTable:o,targetColumn:i,namingStrategy:a,...O==="auto"?{}:{constraintName:u}})),r.$$.dirty[0]&536870912&&n(15,c=[...ge.values()]),r.$$.dirty[0]&268435456&&(m=me.table.name),r.$$.dirty[0]&268435456&&he(n(14,{processedColumns:d}=me,d)),r.$$.dirty[0]&134217728&&n(13,g=[...X.values()]),r.$$.dirty[0]&128&&n(25,h=K?new Ti(K):void 0),r.$$.dirty[0]&33554432&&Ve(n(12,b=Nn(h==null?void 0:h.isLoading))),r.$$.dirty[0]&33554432&&Y(n(11,w=Nn(h==null?void 0:h.processedColumns))),r.$$.dirty[0]&67108864&&n(24,S=q!=null?q:new Map),r.$$.dirty[0]&16777216&&n(10,T=[...S.values()])},D(n(5,s=gt(void 0))),x(n(4,o=gt(void 0))),n(3,i=gt(void 0)),P(n(2,a=gt("auto"))),[Be,u,a,i,o,s,O,K,f,t,T,w,b,g,d,c,Ae,Je,qe,ft,vt,Xe,dt,l,S,h,q,X,me,ge,pe,Oe,_t]}class bze extends Q{constructor(e){super(),Z(this,e,hze,gze,J,{onClose:0},null,[-1,-1])}}function $ze(r){let e,n;return e=new Gn({props:{column:{...r[28].column,constraintsType:Sa(r[28].column.id,r[4])}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&268435472&&(s.column={...t[28].column,constraintsType:Sa(t[28].column.id,t[4])}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function vze(r){let e,n,t;function l(o){r[20](o)}let s={options:r[7],autoClearInvalidValues:!1,$$slots:{default:[$ze,({option:o})=>({28:o}),({option:o})=>o?268435456:0]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.values=r[0]),e=new _c({props:s}),we.push(()=>Me(e,"values",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};i&128&&(a.options=o[7]),i&805306384&&(a.$$scope={dirty:i,ctx:o}),!n&&i&1&&(n=!0,a.values=o[0],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function wze(r){let e,n=r[9]("columns_unique_values_help")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","help")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&512&&n!==(n=l[9]("columns_unique_values_help")+"")&&z(t,n)},d(l){l&&$(e)}}}function kze(r){let e,n;return e=new Nt({props:{label:r[9]("columns"),layout:"stacked",$$slots:{help:[wze],default:[vze]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&512&&(s.label=t[9]("columns")),l&536871569&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function yze(r){let e=r[9]("set_constraint_name")+"",n,t,l,s;return l=new UR({}),{c(){n=L(e),t=N(),C(l.$$.fragment)},m(o,i){v(o,n,i),v(o,t,i),k(l,o,i),s=!0},p(o,i){(!s||i&512)&&e!==(e=o[9]("set_constraint_name")+"")&&z(n,e)},i(o){s||(_(l.$$.fragment,o),s=!0)},o(o){p(l.$$.fragment,o),s=!1},d(o){o&&$(n),o&&$(t),y(l,o)}}}function Cze(r){let e,n,t;function l(o){r[22](o)}let s={options:r[11],isInline:!0,getRadioLabel:r[21],$$slots:{default:[yze]},$$scope:{ctx:r}};return r[1]!==void 0&&(s.value=r[1]),e=new Ns({props:s}),we.push(()=>Me(e,"value",l)),e.$on("change",r[13]),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};i&536871424&&(a.$$scope={dirty:i,ctx:o}),!n&&i&2&&(n=!0,a.value=o[1],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function K7(r){let e,n;return e=new pi({props:{errors:r[3],$$slots:{default:[Tze]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8&&(s.errors=t[3]),l&536871436&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Sze(r){let e,n,t;function l(o){r[23](o)}let s={hasError:r[3].length>0};return r[2]!==void 0&&(s.value=r[2]),e=new hn({props:s}),we.push(()=>Me(e,"value",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};i&8&&(a.hasError=o[3].length>0),!n&&i&4&&(n=!0,a.value=o[2],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function Tze(r){let e,n;return e=new Nt({props:{label:r[9]("constraint_name"),layout:"stacked",$$slots:{default:[Sze]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&512&&(s.label=t[9]("constraint_name")),l&536870924&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Ize(r){let e,n,t,l,s,o;e=new pi({props:{$$slots:{default:[kze]},$$scope:{ctx:r}}}),t=new pi({props:{$$slots:{default:[Cze]},$$scope:{ctx:r}}});let i=r[1]==="manual"&&K7(r);return{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),i&&i.c(),s=ae()},m(a,u){k(e,a,u),v(a,n,u),k(t,a,u),v(a,l,u),i&&i.m(a,u),v(a,s,u),o=!0},p(a,u){const f={};u&536871569&&(f.$$scope={dirty:u,ctx:a}),e.$set(f);const c={};u&536871426&&(c.$$scope={dirty:u,ctx:a}),t.$set(c),a[1]==="manual"?i?(i.p(a,u),u&2&&_(i,1)):(i=K7(a),i.c(),_(i,1),i.m(s.parentNode,s)):i&&(U(),p(i,1,1,()=>{i=null}),W())},i(a){o||(_(e.$$.fragment,a),_(t.$$.fragment,a),_(i),o=!0)},o(a){p(e.$$.fragment,a),p(t.$$.fragment,a),p(i),o=!1},d(a){y(e,a),a&&$(n),y(t,a),a&&$(l),i&&i.d(a),a&&$(s)}}}function Eze(r){let e,n,t,l,s;return n=new GM({props:{$$slots:{default:[Ize]},$$scope:{ctx:r}}}),l=new Ol({props:{onProceed:r[14],onCancel:r[15],proceedButton:{label:r[9]("add_unique_constraint")},canProceed:r[6],size:"small"}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),C(l.$$.fragment),I(e,"class","add-new-unique-constraint svelte-154es72")},m(o,i){v(o,e,i),k(n,e,null),R(e,t),k(l,e,null),s=!0},p(o,[i]){const a={};i&536871583&&(a.$$scope={dirty:i,ctx:o}),n.$set(a);const u={};i&512&&(u.proceedButton={label:o[9]("add_unique_constraint")}),i&64&&(u.canProceed=o[6]),l.$set(u)},i(o){s||(_(n.$$.fragment,o),_(l.$$.fragment,o),s=!0)},o(o){p(n.$$.fragment,o),p(l.$$.fragment,o),s=!1},d(o){o&&$(e),y(n),y(l)}}}function Mze(r,e,n){let t,l,s,o,i,a,u,f,c,m=H,d=()=>(m(),m=le(o,X=>n(4,c=X)),o),g,h,b=H,w=()=>(b(),b=le(t,X=>n(19,h=X)),t);ne(r,ce,X=>n(9,f=X)),r.$$.on_destroy.push(()=>m()),r.$$.on_destroy.push(()=>b());let{onClose:S=void 0}=e;const T=new Map([["auto",f("automatically")],["manual",f("manually")]]),M=[...T.keys()],A=on();ne(r,A,X=>n(18,g=X));function D(X,fe,he){const me=fe.map(pe=>pe.column.name),ge=`${X}_${me.join("_")}`;return Ms(ge,he)}function O(X,fe,he){return X==="auto"?[]:fe!=null&&fe.trim()?he.has(fe==null?void 0:fe.trim())?[f("constraint_name_already_exists")]:[]:[f("constraint_name_cannot_be_empty")]}let F=[],P="auto",B;function j(){n(0,F=[]),n(1,P="auto"),n(2,B=void 0)}function V(){n(2,B=P==="manual"?D(s,F,l):void 0)}async function q(){try{await t.add({columns:F.map(X=>X.id),type:"u",name:B}),j(),S==null||S()}catch(X){$t.error(`${f("unable_to_add_constraint")} ${Yt(X)}`)}}function G(){S==null||S()}function Y(X){F=X,n(0,F)}const K=X=>{var fe;return(fe=T.get(X))!=null?fe:""};function ee(X){P=X,n(1,P)}function x(X){B=X,n(2,B)}return r.$$set=X=>{"onClose"in X&&n(16,S=X.onClose)},r.$$.update=()=>{r.$$.dirty&262144&&w(n(5,t=g.constraintsDataStore)),r.$$.dirty&524288&&n(17,l=new Set(h.constraints.map(X=>X.name))),r.$$.dirty&262144&&(s=g.table.name),r.$$.dirty&262144&&d(n(8,{processedColumns:o}=g,o)),r.$$.dirty&16&&n(7,i=Array.from(c.values())),r.$$.dirty&131078&&n(3,a=O(P,B,l)),r.$$.dirty&9&&n(6,u=F.length>0&&!a.length)},[F,P,B,a,c,t,u,i,o,f,T,M,A,V,q,G,S,l,g,h,Y,K,ee,x]}class Rze extends Q{constructor(e){super(),Z(this,e,Mze,Eze,J,{onClose:16})}}function X7(r,e,n){const t=r.slice();return t[20]=e[n],t}function Dze(r){let e=r[8][r[0]]+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1&&e!==(e=t[8][t[0]]+"")&&z(n,e)},d(t){t&&$(n)}}}function J7(r){let e,n;return e=new st({props:{appearance:"link",size:"small",$$slots:{default:[Aze]},$$scope:{ctx:r}}}),e.$on("click",r[10]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8388672&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Aze(r){let e=r[6]("add")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&64&&e!==(e=t[6]("add")+"")&&z(n,e)},d(t){t&&$(n)}}}function Z7(r){let e,n,t,l;const s=[Fze,Oze],o=[];function i(a,u){return a[0]==="foreignkey"?0:a[0]==="unique"?1:-1}return~(n=i(r))&&(t=o[n]=s[n](r)),{c(){e=E("div"),t&&t.c(),I(e,"class","add-constraint svelte-acyxay")},m(a,u){v(a,e,u),~n&&o[n].m(e,null),l=!0},p(a,u){let f=n;n=i(a),n===f?~n&&o[n].p(a,u):(t&&(U(),p(o[f],1,1,()=>{o[f]=null}),W()),~n?(t=o[n],t?t.p(a,u):(t=o[n]=s[n](a),t.c()),_(t,1),t.m(e,null)):t=null)},i(a){l||(_(t),l=!0)},o(a){p(t),l=!1},d(a){a&&$(e),~n&&o[n].d()}}}function Oze(r){let e,n;return e=new Rze({props:{onClose:r[11]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Fze(r){let e,n;return e=new bze({props:{onClose:r[11]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Q7(r){let e,n=!r[2]&&x7(r);return{c(){n&&n.c(),e=ae()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,l){t[2]?n&&(n.d(1),n=null):n?n.p(t,l):(n=x7(t),n.c(),n.m(e.parentNode,e))},d(t){n&&n.d(t),t&&$(e)}}}function x7(r){let e,n=r[6]("no_type_constraints",{values:{constraintType:r[9][r[0]]}})+"",t,l;return{c(){e=E("span"),t=L(n),l=N(),I(e,"class","null svelte-acyxay")},m(s,o){v(s,e,o),R(e,t),R(e,l)},p(s,o){o&65&&n!==(n=s[6]("no_type_constraints",{values:{constraintType:s[9][s[0]]}})+"")&&z(t,n)},d(s){s&&$(e)}}}function Nze(r){let e,n,t,l;return n=new XVe({props:{constraint:r[20]}}),{c(){e=E("span"),C(n.$$.fragment),t=N(),I(e,"slot","header")},m(s,o){v(s,e,o),k(n,e,null),R(e,t),l=!0},p(s,o){const i={};o&2&&(i.constraint=s[20]),n.$set(i)},i(s){l||(_(n.$$.fragment,s),l=!0)},o(s){p(n.$$.fragment,s),l=!1},d(s){s&&$(e),y(n)}}}function eC(r){let e,n;function t(){return r[16](r[20])}return e=new st({props:{appearance:"danger",size:"small",$$slots:{default:[Pze]},$$scope:{ctx:r}}}),e.$on("click",t),{c(){C(e.$$.fragment)},m(l,s){k(e,l,s),n=!0},p(l,s){r=l;const o={};s&8388608&&(o.$$scope={dirty:s,ctx:r}),e.$set(o)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){p(e.$$.fragment,l),n=!1},d(l){y(e,l)}}}function Pze(r){let e,n;const t=[Mt];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[_e(Mt)]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function Lze(r){let e,n,t,l=r[3]&&eC(r);return{c(){e=E("span"),l&&l.c(),n=N(),I(e,"slot","trigger-aside")},m(s,o){v(s,e,o),l&&l.m(e,null),R(e,n),t=!0},p(s,o){s[3]?l?(l.p(s,o),o&8&&_(l,1)):(l=eC(s),l.c(),_(l,1),l.m(e,n)):l&&(U(),p(l,1,1,()=>{l=null}),W())},i(s){t||(_(l),t=!0)},o(s){p(l),t=!1},d(s){s&&$(e),l&&l.d()}}}function Hze(r){let e,n;return e=new QVe({props:{constraint:r[20]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.constraint=t[20]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Vze(r){let e,n;return e=new lze({props:{constraint:r[20]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.constraint=t[20]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function zze(r){let e,n,t,l,s;const o=[Vze,Hze],i=[];function a(u,f){return u[0]==="foreignkey"?0:1}return n=a(r),t=i[n]=o[n](r),{c(){e=E("div"),t.c(),l=N(),I(e,"slot","content")},m(u,f){v(u,e,f),i[n].m(e,null),R(e,l),s=!0},p(u,f){let c=n;n=a(u),n===c?i[n].p(u,f):(U(),p(i[c],1,1,()=>{i[c]=null}),W(),t=i[n],t?t.p(u,f):(t=i[n]=o[n](u),t.c()),_(t,1),t.m(e,l))},i(u){s||(_(t),s=!0)},o(u){p(t),s=!1},d(u){u&&$(e),i[n].d()}}}function tC(r,e){let n,t,l;return t=new Fl({props:{triggerAppearance:"ghost",$$slots:{content:[zze],"trigger-aside":[Lze],header:[Nze]},$$scope:{ctx:e}}}),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(s,o){v(s,n,o),k(t,s,o),l=!0},p(s,o){e=s;const i={};o&8388619&&(i.$$scope={dirty:o,ctx:e}),t.$set(i)},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){s&&$(n),y(t,s)}}}function Bze(r){let e,n,t,l=r[9][r[0]]+"",s,o,i,a,u,f,c=[],m=new Map,d;i=new zt({props:{$$slots:{default:[Dze]},$$scope:{ctx:r}}});let g=r[4]&&J7(r),h=r[2]&&Z7(r),b=r[1];const w=T=>T[20].oid;for(let T=0;T<b.length;T+=1){let M=X7(r,b,T),A=w(M);m.set(A,c[T]=tC(A,M))}let S=null;return b.length||(S=Q7(r)),{c(){e=E("div"),n=E("span"),t=E("span"),s=L(l),o=N(),C(i.$$.fragment),a=N(),g&&g.c(),u=N(),h&&h.c(),f=N();for(let T=0;T<c.length;T+=1)c[T].c();S&&S.c(),I(n,"class","title svelte-acyxay"),I(e,"class","constraint-type-section svelte-acyxay")},m(T,M){v(T,e,M),R(e,n),R(n,t),R(t,s),R(t,o),k(i,t,null),R(n,a),g&&g.m(n,null),R(e,u),h&&h.m(e,null),R(e,f);for(let A=0;A<c.length;A+=1)c[A].m(e,null);S&&S.m(e,null),d=!0},p(T,[M]){(!d||M&1)&&l!==(l=T[9][T[0]]+"")&&z(s,l);const A={};M&8388609&&(A.$$scope={dirty:M,ctx:T}),i.$set(A),T[4]?g?(g.p(T,M),M&16&&_(g,1)):(g=J7(T),g.c(),_(g,1),g.m(n,null)):g&&(U(),p(g,1,1,()=>{g=null}),W()),T[2]?h?(h.p(T,M),M&4&&_(h,1)):(h=Z7(T),h.c(),_(h,1),h.m(e,f)):h&&(U(),p(h,1,1,()=>{h=null}),W()),M&4687&&(b=T[1],U(),c=ht(c,M,w,1,T,b,m,e,kt,tC,null,X7),W(),!b.length&&S?S.p(T,M):b.length?S&&(S.d(1),S=null):(S=Q7(T),S.c(),S.m(e,null)))},i(T){if(!d){_(i.$$.fragment,T),_(g),_(h);for(let M=0;M<b.length;M+=1)_(c[M]);d=!0}},o(T){p(i.$$.fragment,T),p(g),p(h);for(let M=0;M<c.length;M+=1)p(c[M]);d=!1},d(T){T&&$(e),y(i),g&&g.d(),h&&h.d();for(let M=0;M<c.length;M+=1)c[M].d();S&&S.d()}}}function qze(r,e,n){let t,l,s,o,i,a,u=H,f=()=>(u(),u=le(s,P=>n(14,a=P)),s),c,m;ne(r,ce,P=>n(6,c=P)),r.$$.on_destroy.push(()=>u());let{constraintType:d}=e,{constraints:g}=e;const h=on();ne(r,h,P=>n(15,m=P));const b=["unique","foreignkey"],w=["unique","foreignkey"];let S=!1;const T={primary:c("primary_key_help"),foreignkey:c("foreign_key_help"),unique:c("unique_key_help"),check:"",exclude:""},M={primary:c("primary_keys"),foreignkey:c("foreign_keys"),unique:c("unique"),check:"",exclude:""};function A(){n(2,S=!0)}function D(){n(2,S=!1)}function O(P){Ll({identifierType:c("constraint"),identifierName:P.name,body:[c("are_you_sure_to_proceed")],onProceed:()=>t.remove(P.oid)})}const F=P=>O(P);return r.$$set=P=>{"constraintType"in P&&n(0,d=P.constraintType),"constraints"in P&&n(1,g=P.constraints)},r.$$.update=()=>{r.$$.dirty&32768&&n(13,{constraintsDataStore:t,table:l}=m,l),r.$$.dirty&8192&&f(n(5,s=l.currentAccess.currentRoleOwns)),r.$$.dirty&16385&&n(4,o=a&&b.includes(d)),r.$$.dirty&16385&&n(3,i=a&&w.includes(d))},[d,g,S,i,o,s,c,h,T,M,A,D,O,l,a,m,F]}class Lm extends Q{constructor(e){super(),Z(this,e,qze,Bze,J,{constraintType:0,constraints:1})}}function Uze(r){let e,n,t,l,s,o,i;return n=new Lm({props:{constraintType:"primary",constraints:r[3].get("primary")||[]}}),l=new Lm({props:{constraintType:"foreignkey",constraints:r[3].get("foreignkey")||[]}}),o=new Lm({props:{constraintType:"unique",constraints:r[3].get("unique")||[]}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),C(l.$$.fragment),s=N(),C(o.$$.fragment),I(e,"class","constraints-list svelte-15s0oew")},m(a,u){v(a,e,u),k(n,e,null),R(e,t),k(l,e,null),R(e,s),k(o,e,null),i=!0},p(a,u){const f={};u&8&&(f.constraints=a[3].get("primary")||[]),n.$set(f);const c={};u&8&&(c.constraints=a[3].get("foreignkey")||[]),l.$set(c);const m={};u&8&&(m.constraints=a[3].get("unique")||[]),o.$set(m)},i(a){i||(_(n.$$.fragment,a),_(l.$$.fragment,a),_(o.$$.fragment,a),i=!0)},o(a){p(n.$$.fragment,a),p(l.$$.fragment,a),p(o.$$.fragment,a),i=!1},d(a){a&&$(e),y(n),y(l),y(o)}}}function Wze(r){let e,n=r[6]("no_constraints")+"",t;return{c(){e=E("div"),t=L(n)},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&64&&n!==(n=l[6]("no_constraints")+"")&&z(t,n)},i:H,o:H,d(l){l&&$(e)}}}function jze(r){let e,n=r[6]("unable_to_fetch_table_constraints")+"",t,l,s,o;return{c(){e=E("div"),t=L(n),l=N(),s=E("div"),o=L(r[4])},m(i,a){v(i,e,a),R(e,t),v(i,l,a),v(i,s,a),R(s,o)},p(i,a){a&64&&n!==(n=i[6]("unable_to_fetch_table_constraints")+"")&&z(t,n),a&16&&z(o,i[4])},i:H,o:H,d(i){i&&$(e),i&&$(l),i&&$(s)}}}function Yze(r){let e,n;const t=[Rl];let l={};for(let s=0;s<t.length;s+=1)l=se(l,t[s]);return e=new Ne({props:l}),{c(){C(e.$$.fragment)},m(s,o){k(e,s,o),n=!0},p(s,o){const i=o&0?de(t,[_e(Rl)]):{};e.$set(i)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){y(e,s)}}}function Gze(r){let e,n,t,l;const s=[Yze,jze,Wze,Uze],o=[];function i(a,u){return a[2]?0:a[1]===qn.Error?1:a[0]?2:3}return n=i(r),t=o[n]=s[n](r),{c(){e=E("div"),t.c(),I(e,"class","table-constraints")},m(a,u){v(a,e,u),o[n].m(e,null),l=!0},p(a,[u]){let f=n;n=i(a),n===f?o[n].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),t=o[n],t?t.p(a,u):(t=o[n]=s[n](a),t.c()),_(t,1),t.m(e,null))},i(a){l||(_(t),l=!0)},o(a){p(t),l=!1},d(a){a&&$(e),o[n].d()}}}function Kze(r,e,n){let t,l,s,o,i,a,u,f,c,m=H,d=()=>(m(),m=le(t,w=>n(10,c=w)),t),g,h;ne(r,ce,w=>n(6,h=w)),r.$$.on_destroy.push(()=>m());const b=on();return ne(r,b,w=>n(11,g=w)),r.$$.update=()=>{r.$$.dirty&2048&&d(n(5,t=g.constraintsDataStore)),r.$$.dirty&1024&&n(1,l=c.state),r.$$.dirty&1024&&n(4,s=c.error),r.$$.dirty&1024&&n(9,o=c.constraints),r.$$.dirty&512&&n(3,i=o.reduce((w,S)=>{const T=w.get(S.type);return Array.isArray(T)?(w.set(S.type,[...T,S]),w):(w.set(S.type,[S]),w)},new Map)),r.$$.dirty&512&&n(0,a=o.length===0),r.$$.dirty&2&&n(8,u=l===qn.Idle||l===qn.Loading),r.$$.dirty&257&&n(2,f=a&&u)},[a,l,f,i,s,t,h,b,u,o,c,g]}class Xze extends Q{constructor(e){super(),Z(this,e,Kze,Gze,J,{})}}function Jze(r){let e,n=r[1]("constraints_info_help")+"",t,l,s,o;return s=new Xze({}),{c(){e=E("span"),t=L(n),l=N(),C(s.$$.fragment),I(e,"class","description svelte-1vevm5l")},m(i,a){v(i,e,a),R(e,t),v(i,l,a),k(s,i,a),o=!0},p(i,a){(!o||a&2)&&n!==(n=i[1]("constraints_info_help")+"")&&z(t,n)},i(i){o||(_(s.$$.fragment,i),o=!0)},o(i){p(s.$$.fragment,i),o=!1},d(i){i&&$(e),i&&$(l),y(s,i)}}}function Zze(r){let e,n=r[1]("constraints")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","title")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&2&&n!==(n=l[1]("constraints")+"")&&z(t,n)},d(l){l&&$(e)}}}function Qze(r){let e,n;return e=new Yn({props:{controller:r[0],$$slots:{title:[Zze],default:[Jze]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.controller=t[0]),l&6&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function xze(r,e,n){let t;ne(r,ce,s=>n(1,t=s));let{controller:l}=e;return r.$$set=s=>{"controller"in s&&n(0,l=s.controller)},[l,t]}class eBe extends Q{constructor(e){super(),Z(this,e,xze,Qze,J,{controller:0})}}function tBe(r){let e=r[0]("constraints_info_help_mini")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1&&e!==(e=t[0]("constraints_info_help_mini")+"")&&z(n,e)},d(t){t&&$(n)}}}function nBe(r){let e,n,t,l,s,o=r[0]("constraints")+"",i,a,u,f,c,m;const d=[ba];let g={};for(let w=0;w<d.length;w+=1)g=se(g,d[w]);t=new Ne({props:g}),u=new zt({props:{$$slots:{default:[tBe]},$$scope:{ctx:r}}});const h=[ei];let b={};for(let w=0;w<h.length;w+=1)b=se(b,h[w]);return c=new Ne({props:b}),{c(){e=E("div"),n=E("div"),C(t.$$.fragment),l=N(),s=E("span"),i=L(o),a=N(),C(u.$$.fragment),f=N(),C(c.$$.fragment),I(e,"class","action-item svelte-lo2o6r")},m(w,S){v(w,e,S),R(e,n),k(t,n,null),R(n,l),R(n,s),R(s,i),R(n,a),k(u,n,null),R(e,f),k(c,e,null),m=!0},p(w,S){const T=S&0?de(d,[_e(ba)]):{};t.$set(T),(!m||S&1)&&o!==(o=w[0]("constraints")+"")&&z(i,o);const M={};S&9&&(M.$$scope={dirty:S,ctx:w}),u.$set(M);const A=S&0?de(h,[_e(ei)]):{};c.$set(A)},i(w){m||(_(t.$$.fragment,w),_(u.$$.fragment,w),_(c.$$.fragment,w),m=!0)},o(w){p(t.$$.fragment,w),p(u.$$.fragment,w),p(c.$$.fragment,w),m=!1},d(w){w&&$(e),y(t),y(u),y(c)}}}function rBe(r){let e,n,t,l,s;return n=new st({props:{appearance:"action",$$slots:{default:[nBe]},$$scope:{ctx:r}}}),n.$on("click",r[2]),l=new eBe({props:{controller:r[1]}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),C(l.$$.fragment),I(e,"class","actions-container svelte-lo2o6r")},m(o,i){v(o,e,i),k(n,e,null),R(e,t),k(l,e,null),s=!0},p(o,[i]){const a={};i&9&&(a.$$scope={dirty:i,ctx:o}),n.$set(a)},i(o){s||(_(n.$$.fragment,o),_(l.$$.fragment,o),s=!0)},o(o){p(n.$$.fragment,o),p(l.$$.fragment,o),s=!1},d(o){o&&$(e),y(n),y(l)}}}function lBe(r,e,n){let t;ne(r,ce,o=>n(0,t=o));const l=un.spawnModalController();return[t,l,()=>l.open()]}class sBe extends Q{constructor(e){super(),Z(this,e,lBe,rBe,J,{})}}function oBe(r){let e,n,t;return n=new rn({props:{table:r[0],cssVariables:{"--icon-color":"var(--color-fg-base)"}}}),{c(){e=E("span"),C(n.$$.fragment),I(e,"class","table-pill svelte-dtiuub"),ie(e,"base",r[1]==="base"),ie(e,"target",r[1]==="target"),ie(e,"mapping",r[1]==="mapping")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,[s]){const o={};s&1&&(o.table=l[0]),n.$set(o),(!t||s&2)&&ie(e,"base",l[1]==="base"),(!t||s&2)&&ie(e,"target",l[1]==="target"),(!t||s&2)&&ie(e,"mapping",l[1]==="mapping")},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function iBe(r,e,n){let{table:t}=e,{which:l}=e;return r.$$set=s=>{"table"in s&&n(0,t=s.table),"which"in s&&n(1,l=s.which)},[t,l]}class fr extends Q{constructor(e){super(),Z(this,e,iBe,oBe,J,{table:0,which:1})}}function nC(){return tu(r=>r==="id",ve(ce)("id_is_reserved_column"))}function aBe(r,e,n){return e?Ms(`${r.name}_${e.name}`,new Set(n.map(t=>t.name))):""}function uBe(r){let e,n;return e=new fr({props:{table:r[2],which:r[1]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&4&&(s.table=t[2]),l&2&&(s.which=t[1]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function fBe(r){let e,n;return e=new fr({props:{table:r[0],which:r[3]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.table=t[0]),l&8&&(s.which=t[3]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function cBe(r){let e,n,t,l;const s=[fBe,uBe],o=[];function i(a,u){return a[10]==="baseTable"?0:a[10]==="targetTable"?1:-1}return~(e=i(r))&&(n=o[e]=s[e](r)),{c(){n&&n.c(),t=ae()},m(a,u){~e&&o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?~e&&o[e].p(a,u):(n&&(U(),p(o[f],1,1,()=>{o[f]=null}),W()),~e?(n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t)):n=null)},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){~e&&o[e].d(a),a&&$(t)}}}function mBe(r){let e,n;return e=new ot({props:{text:r[6]("we_will_add_a_column_in_x_to_y"),$$slots:{default:[cBe,({slotName:t})=>({10:t}),({slotName:t})=>t?1024:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&64&&(s.text=t[6]("we_will_add_a_column_in_x_to_y")),l&3087&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function dBe(r){let e,n;return e=new It({props:{field:r[4],label:r[8]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.field=t[4]),l&256&&(s.label=t[8]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function _Be(r){let e,n,t,l;return t=new Gt({}),{c(){e=L(r[8]),n=N(),C(t.$$.fragment)},m(s,o){v(s,e,o),v(s,n,o),k(t,s,o),l=!0},p(s,o){(!l||o&256)&&z(e,s[8])},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){s&&$(e),s&&$(n),y(t,s)}}}function pBe(r){let e,n,t,l;const s=[_Be,dBe],o=[];function i(a,u){return a[5]?0:1}return n=i(r),t=o[n]=s[n](r),{c(){e=E("div"),t.c(),I(e,"class","collapsible-detail svelte-1tnqxs2")},m(a,u){v(a,e,u),o[n].m(e,null),l=!0},p(a,u){let f=n;n=i(a),n===f?o[n].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),t=o[n],t?t.p(a,u):(t=o[n]=s[n](a),t.c()),_(t,1),t.m(e,null))},i(a){l||(_(t),l=!0)},o(a){p(t),l=!1},d(a){a&&$(e),o[n].d()}}}function gBe(r){let e,n,t;function l(o){r[9](o)}let s={triggerAppearance:"ghost",$$slots:{content:[pBe],header:[mBe]},$$scope:{ctx:r}};return r[7]!==void 0&&(s.isOpen=r[7]),e=new Fl({props:s}),we.push(()=>Me(e,"isOpen",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,[i]){const a={};i&2431&&(a.$$scope={dirty:i,ctx:o}),!n&&i&128&&(n=!0,a.isOpen=o[7],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function hBe(r,e,n){let t,l;ne(r,ce,d=>n(6,l=d));let{base:s}=e,{baseWhich:o="base"}=e,{target:i}=e,{targetWhich:a="target"}=e,{field:u}=e,{targetColumnsAreLoading:f=!1}=e,c=!1;function m(d){c=d,n(7,c)}return r.$$set=d=>{"base"in d&&n(0,s=d.base),"baseWhich"in d&&n(1,o=d.baseWhich),"target"in d&&n(2,i=d.target),"targetWhich"in d&&n(3,a=d.targetWhich),"field"in d&&n(4,u=d.field),"targetColumnsAreLoading"in d&&n(5,f=d.targetColumnsAreLoading)},r.$$.update=()=>{r.$$.dirty&64&&n(8,t=l("name_of_new_column"))},[s,o,i,a,u,f,l,c,t,m]}class Jf extends Q{constructor(e){super(),Z(this,e,hBe,gBe,J,{base:0,baseWhich:1,target:2,targetWhich:3,field:4,targetColumnsAreLoading:5})}}function bBe(r){let e,n,t,l,s,o,i,a=[r[2],{class:"target"},{x:"21.79"},{y:"107.4"}],u={};for(let g=0;g<a.length;g+=1)u=se(u,a[g]);let f=[r[2],{class:"target"},{x:"119.1"},{y:"107.4"}],c={};for(let g=0;g<f.length;g+=1)c=se(c,f[g]);let m=[r[2],{class:"base"},{x:"70.46"},{y:"1.236"}],d={};for(let g=0;g<m.length;g+=1)d=se(d,m[g]);return{c(){e=Ut("path"),n=Ut("path"),t=Ut("path"),l=Ut("path"),s=Ut("rect"),o=Ut("rect"),i=Ut("rect"),I(e,"d","m88 28.26c-4e-6 46.95-42.67 33.06-42.67 79.17"),I(e,"class","line svelte-1au8853"),I(n,"d","m100 28.26c1e-5 46.95 42.67 33.06 42.67 79.17"),I(n,"class","line svelte-1au8853"),I(t,"d","m88 20.05 4.172 8.213h-8.344z"),I(t,"class","arrow svelte-1au8853"),I(l,"d","m100 20.05 4.172 8.213h-8.344z"),I(l,"class","arrow svelte-1au8853"),Fn(s,u),ie(s,"svelte-1au8853",!0),Fn(o,c),ie(o,"svelte-1au8853",!0),Fn(i,d),ie(i,"svelte-1au8853",!0)},m(g,h){v(g,e,h),v(g,n,h),v(g,t,h),v(g,l,h),v(g,s,h),v(g,o,h),v(g,i,h)},p(g,h){Fn(s,u=de(a,[g[2],{class:"target"},{x:"21.79"},{y:"107.4"}])),ie(s,"svelte-1au8853",!0),Fn(o,c=de(f,[g[2],{class:"target"},{x:"119.1"},{y:"107.4"}])),ie(o,"svelte-1au8853",!0),Fn(i,d=de(m,[g[2],{class:"base"},{x:"70.46"},{y:"1.236"}])),ie(i,"svelte-1au8853",!0)},d(g){g&&$(e),g&&$(n),g&&$(t),g&&$(l),g&&$(s),g&&$(o),g&&$(i)}}}function $Be(r){let e,n,t,l,s,o,i,a,u,f,c,m,d,g,h,b,w,S,T,M=[r[2],{class:"target"},{x:"105.1"},{y:"107.4"}],A={};for(let x=0;x<M.length;x+=1)A=se(A,M[x]);let D=[r[2],{class:"target"},{x:"35.79"},{y:"107.4"}],O={};for(let x=0;x<D.length;x+=1)O=se(O,D[x]);let F=[r[2],{class:"mapping"},{x:"139.8"},{y:"54.34"}],P={};for(let x=0;x<F.length;x+=1)P=se(P,F[x]);let B=[r[2],{class:"mapping"},{x:"70.46"},{y:"54.34"}],j={};for(let x=0;x<B.length;x+=1)j=se(j,B[x]);let V=[r[2],{class:"mapping"},{x:"1.112"},{y:"54.34"}],q={};for(let x=0;x<V.length;x+=1)q=se(q,V[x]);let G=[r[2],{class:"base"},{x:"105.1"},{y:"1.25"}],Y={};for(let x=0;x<G.length;x+=1)Y=se(Y,G[x]);let K=[r[2],{class:"base"},{x:"35.79"},{y:"1.25"}],ee={};for(let x=0;x<K.length;x+=1)ee=se(ee,K[x]);return{c(){e=Ut("path"),n=Ut("path"),t=Ut("path"),l=Ut("path"),s=Ut("path"),o=Ut("path"),i=Ut("path"),a=Ut("path"),u=Ut("path"),f=Ut("path"),c=Ut("path"),m=Ut("path"),d=Ut("rect"),g=Ut("rect"),h=Ut("rect"),b=Ut("rect"),w=Ut("rect"),S=Ut("rect"),T=Ut("rect"),I(e,"d","m94 54.37c0-17.95 28.67-7.609 28.67-26.1"),I(e,"class","line svelte-1au8853"),I(n,"d","m163.4 54.34c0-17.95-28.67-7.579-28.67-26.07"),I(n,"class","line svelte-1au8853"),I(t,"d","m24.65 72.63c0 17.95 28.67 7.609 28.67 26.1"),I(t,"class","line svelte-1au8853"),I(l,"d","m94 72.66c0 17.95-28.67 7.579-28.67 26.07"),I(l,"class","line svelte-1au8853"),I(s,"d","m24.65 54.34c0-17.95 28.67-7.609 28.67-26.1"),I(s,"class","line svelte-1au8853"),I(o,"d","m163.4 72.66c0 17.95-28.67 7.579-28.67 26.07"),I(o,"class","line svelte-1au8853"),I(i,"d","m53.32 106.9 4.172-8.213h-8.344z"),I(i,"class","arrow svelte-1au8853"),I(a,"d","m65.33 106.9 4.172-8.213h-8.344z"),I(a,"class","arrow svelte-1au8853"),I(u,"d","m134.7 106.9 4.172-8.213h-8.344z"),I(u,"class","arrow svelte-1au8853"),I(f,"d","m122.7 20.06 4.172 8.213h-8.344z"),I(f,"class","arrow svelte-1au8853"),I(c,"d","m134.7 20.06 4.172 8.213h-8.344z"),I(c,"class","arrow svelte-1au8853"),I(m,"d","m53.32 20.03 4.172 8.213h-8.344z"),I(m,"class","arrow svelte-1au8853"),Fn(d,A),ie(d,"svelte-1au8853",!0),Fn(g,O),ie(g,"svelte-1au8853",!0),Fn(h,P),ie(h,"svelte-1au8853",!0),Fn(b,j),ie(b,"svelte-1au8853",!0),Fn(w,q),ie(w,"svelte-1au8853",!0),Fn(S,Y),ie(S,"svelte-1au8853",!0),Fn(T,ee),ie(T,"svelte-1au8853",!0)},m(x,X){v(x,e,X),v(x,n,X),v(x,t,X),v(x,l,X),v(x,s,X),v(x,o,X),v(x,i,X),v(x,a,X),v(x,u,X),v(x,f,X),v(x,c,X),v(x,m,X),v(x,d,X),v(x,g,X),v(x,h,X),v(x,b,X),v(x,w,X),v(x,S,X),v(x,T,X)},p(x,X){Fn(d,A=de(M,[x[2],{class:"target"},{x:"105.1"},{y:"107.4"}])),ie(d,"svelte-1au8853",!0),Fn(g,O=de(D,[x[2],{class:"target"},{x:"35.79"},{y:"107.4"}])),ie(g,"svelte-1au8853",!0),Fn(h,P=de(F,[x[2],{class:"mapping"},{x:"139.8"},{y:"54.34"}])),ie(h,"svelte-1au8853",!0),Fn(b,j=de(B,[x[2],{class:"mapping"},{x:"70.46"},{y:"54.34"}])),ie(b,"svelte-1au8853",!0),Fn(w,q=de(V,[x[2],{class:"mapping"},{x:"1.112"},{y:"54.34"}])),ie(w,"svelte-1au8853",!0),Fn(S,Y=de(G,[x[2],{class:"base"},{x:"105.1"},{y:"1.25"}])),ie(S,"svelte-1au8853",!0),Fn(T,ee=de(K,[x[2],{class:"base"},{x:"35.79"},{y:"1.25"}])),ie(T,"svelte-1au8853",!0)},d(x){x&&$(e),x&&$(n),x&&$(t),x&&$(l),x&&$(s),x&&$(o),x&&$(i),x&&$(a),x&&$(u),x&&$(f),x&&$(c),x&&$(m),x&&$(d),x&&$(g),x&&$(h),x&&$(b),x&&$(w),x&&$(S),x&&$(T)}}}function vBe(r){let e;function n(s,o){return s[0]==="manyToMany"?$Be:bBe}let t=n(r),l=t(r);return{c(){e=Ut("svg"),l.c(),I(e,"viewBox","0 0 188 127"),I(e,"preserveAspectRatio","xMidYMid meet"),I(e,"class","svelte-1au8853"),ie(e,"flip",r[1])},m(s,o){v(s,e,o),l.m(e,null)},p(s,[o]){t===(t=n(s))&&l?l.p(s,o):(l.d(1),l=t(s),l&&(l.c(),l.m(e,null))),o&2&&ie(e,"flip",s[1])},i:H,o:H,d(s){s&&$(e),l.d()}}}function wBe(r,e,n){let t;const l={width:"47.07",height:"18.31",rx:9.157};let{linkType:s}=e;return r.$$set=o=>{"linkType"in o&&n(0,s=o.linkType)},r.$$.update=()=>{r.$$.dirty&1&&n(1,t=s==="manyToOne")},[s,t,l]}class kBe extends Q{constructor(e){super(),Z(this,e,wBe,vBe,J,{linkType:0})}}function yBe(r){let e=Rt(r[0])+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1&&e!==(e=Rt(t[0])+"")&&z(n,e)},i:H,o:H,d(t){t&&$(n)}}}function CBe(r){let e,n,t,l;const s=[EBe,IBe],o=[];function i(a,u){return a[1]?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function SBe(r){let e,n;return e=new ot({props:{text:r[5]("relationship_type_description_many_to_one"),$$slots:{default:[HBe,({slotName:t})=>({10:t}),({slotName:t})=>t?1024:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&32&&(s.text=t[5]("relationship_type_description_many_to_one")),l&3096&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function TBe(r){let e,n;return e=new ot({props:{text:r[5]("relationship_type_description_one_to_many"),$$slots:{default:[BBe,({slotName:t})=>({10:t}),({slotName:t})=>t?1024:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&32&&(s.text=t[5]("relationship_type_description_one_to_many")),l&3096&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function IBe(r){let e,n;return e=new ot({props:{text:r[5]("relationship_type_description_many_to_many"),$$slots:{default:[ABe,({slotName:t})=>({10:t}),({slotName:t})=>t?1024:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&32&&(s.text=t[5]("relationship_type_description_many_to_many")),l&3128&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function EBe(r){let e,n;return e=new ot({props:{text:r[5]("relationship_type_description_many_to_many_self_referential"),$$slots:{default:[NBe,({slotName:t})=>({10:t}),({slotName:t})=>t?1024:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&32&&(s.text=t[5]("relationship_type_description_many_to_many_self_referential")),l&3112&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function MBe(r){let e,n;return e=new fr({props:{table:{name:r[5]("mapping_table")},which:"mapping"}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&32&&(s.table={name:t[5]("mapping_table")}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function RBe(r){let e,n;return e=new fr({props:{table:r[4],which:"target"}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.table=t[4]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function DBe(r){let e,n;return e=new fr({props:{table:r[3],which:"base"}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8&&(s.table=t[3]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function ABe(r){let e,n,t,l;const s=[DBe,RBe,MBe],o=[];function i(a,u){return a[10]==="baseTable"?0:a[10]==="targetTable"?1:a[10]==="mappingTable"?2:-1}return~(e=i(r))&&(n=o[e]=s[e](r)),{c(){n&&n.c(),t=ae()},m(a,u){~e&&o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?~e&&o[e].p(a,u):(n&&(U(),p(o[f],1,1,()=>{o[f]=null}),W()),~e?(n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t)):n=null)},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){~e&&o[e].d(a),a&&$(t)}}}function OBe(r){let e,n;return e=new fr({props:{table:{name:r[5]("mapping_table")},which:"mapping"}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&32&&(s.table={name:t[5]("mapping_table")}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function FBe(r){let e,n;return e=new fr({props:{table:r[3],which:"base"}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8&&(s.table=t[3]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function NBe(r){let e,n,t,l;const s=[FBe,OBe],o=[];function i(a,u){return a[10]==="baseTable"?0:a[10]==="mappingTable"?1:-1}return~(e=i(r))&&(n=o[e]=s[e](r)),{c(){n&&n.c(),t=ae()},m(a,u){~e&&o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?~e&&o[e].p(a,u):(n&&(U(),p(o[f],1,1,()=>{o[f]=null}),W()),~e?(n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t)):n=null)},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){~e&&o[e].d(a),a&&$(t)}}}function PBe(r){let e,n;return e=new fr({props:{table:r[4],which:"target"}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.table=t[4]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function LBe(r){let e,n;return e=new fr({props:{table:r[3],which:"base"}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8&&(s.table=t[3]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function HBe(r){let e,n,t,l;const s=[LBe,PBe],o=[];function i(a,u){return a[10]==="baseTable"?0:a[10]==="targetTable"?1:-1}return~(e=i(r))&&(n=o[e]=s[e](r)),{c(){n&&n.c(),t=ae()},m(a,u){~e&&o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?~e&&o[e].p(a,u):(n&&(U(),p(o[f],1,1,()=>{o[f]=null}),W()),~e?(n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t)):n=null)},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){~e&&o[e].d(a),a&&$(t)}}}function VBe(r){let e,n;return e=new fr({props:{table:r[4],which:"target"}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.table=t[4]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function zBe(r){let e,n;return e=new fr({props:{table:r[3],which:"base"}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8&&(s.table=t[3]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function BBe(r){let e,n,t,l;const s=[zBe,VBe],o=[];function i(a,u){return a[10]==="baseTable"?0:a[10]==="targetTable"?1:-1}return~(e=i(r))&&(n=o[e]=s[e](r)),{c(){n&&n.c(),t=ae()},m(a,u){~e&&o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?~e&&o[e].p(a,u):(n&&(U(),p(o[f],1,1,()=>{o[f]=null}),W()),~e?(n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t)):n=null)},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){~e&&o[e].d(a),a&&$(t)}}}function qBe(r){let e,n,t,l,s,o,i,a,u,f,c,m,d,g,h;l=new qa({props:{checked:r[7]}}),l.$on("change",r[8]),f=new kBe({props:{linkType:r[0]}});const b=[TBe,SBe,CBe,yBe],w=[];function S(T,M){return T[0]==="oneToMany"?0:T[0]==="manyToOne"?1:T[0]==="manyToMany"?2:3}return d=S(r),g=w[d]=b[d](r),{c(){e=E("div"),n=E("span"),t=E("span"),C(l.$$.fragment),s=N(),o=E("span"),i=L(r[6]),a=N(),u=E("span"),C(f.$$.fragment),c=N(),m=E("span"),g.c(),I(t,"class","input svelte-154ww44"),I(o,"class","label svelte-154ww44"),I(n,"class","top svelte-154ww44"),I(u,"class","diagram svelte-154ww44"),I(m,"class","description svelte-154ww44"),I(e,"class","link-type-option svelte-154ww44"),ie(e,"checked",r[7])},m(T,M){v(T,e,M),R(e,n),R(n,t),k(l,t,null),R(n,s),R(n,o),R(o,i),R(e,a),R(e,u),k(f,u,null),R(e,c),R(e,m),w[d].m(m,null),h=!0},p(T,M){const A={};M&128&&(A.checked=T[7]),l.$set(A),(!h||M&64)&&z(i,T[6]);const D={};M&1&&(D.linkType=T[0]),f.$set(D);let O=d;d=S(T),d===O?w[d].p(T,M):(U(),p(w[O],1,1,()=>{w[O]=null}),W(),g=w[d],g?g.p(T,M):(g=w[d]=b[d](T),g.c()),_(g,1),g.m(m,null)),(!h||M&128)&&ie(e,"checked",T[7])},i(T){h||(_(l.$$.fragment,T),_(f.$$.fragment,T),_(g),h=!0)},o(T){p(l.$$.fragment,T),p(f.$$.fragment,T),p(g),h=!1},d(T){T&&$(e),y(l),y(f),w[d].d()}}}function UBe(r){let e,n;return e=new Fs({props:{style:"--Label__display:contents;",$$slots:{default:[qBe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&2299&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function WBe(r,e,n){let t,l,s,o,i=H,a=()=>(i(),i=le(c,h=>n(9,o=h)),c);ne(r,ce,h=>n(5,s=h)),r.$$.on_destroy.push(()=>i());let{linkType:u}=e,{isSelfReferential:f}=e,{field:c}=e;a();let{base:m}=e,{target:d}=e;function g({detail:h}){h&&c.set(u)}return r.$$set=h=>{"linkType"in h&&n(0,u=h.linkType),"isSelfReferential"in h&&n(1,f=h.isSelfReferential),"field"in h&&a(n(2,c=h.field)),"base"in h&&n(3,m=h.base),"target"in h&&n(4,d=h.target)},r.$$.update=()=>{r.$$.dirty&513&&n(7,t=u===o),r.$$.dirty&33&&n(6,l=(()=>u==="oneToMany"?s("one_to_many"):u==="manyToOne"?s("many_to_one"):u==="manyToMany"?s("many_to_many"):Rt(u))())},[u,f,c,m,d,s,l,t,g,o]}class jBe extends Q{constructor(e){super(),Z(this,e,WBe,UBe,J,{linkType:0,isSelfReferential:1,field:2,base:3,target:4})}}function rC(r,e,n){const t=r.slice();return t[6]=e[n],t}function lC(r){let e,n,t;return e=new fr({props:{table:r[4],which:"target"}}),{c(){C(e.$$.fragment),n=L(":")},m(l,s){k(e,l,s),v(l,n,s),t=!0},p(l,s){const o={};s&16&&(o.table=l[4]),e.$set(o)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){y(e,l),l&&$(n)}}}function YBe(r){let e,n,t=r[9]==="tableName"&&lC(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[9]==="tableName"?t?(t.p(l,s),s&512&&_(t,1)):(t=lC(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function sC(r,e){let n,t,l;return t=new jBe({props:{linkType:e[6],isSelfReferential:e[1],field:e[2],base:e[3],target:e[4]}}),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(s,o){v(s,n,o),k(t,s,o),l=!0},p(s,o){e=s;const i={};o&1&&(i.linkType=e[6]),o&2&&(i.isSelfReferential=e[1]),o&4&&(i.field=e[2]),o&8&&(i.base=e[3]),o&16&&(i.target=e[4]),t.$set(i)},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){s&&$(n),y(t,s)}}}function GBe(r){let e,n,t,l,s,o=[],i=new Map,a,u,f;t=new ot({props:{text:r[5]("type_of_relationship_with_table"),$$slots:{default:[YBe,({slotName:d})=>({9:d}),({slotName:d})=>d?512:0]},$$scope:{ctx:r}}});let c=r[0];const m=d=>d[6];for(let d=0;d<c.length;d+=1){let g=rC(r,c,d),h=m(g);i.set(h,o[d]=sC(h,g))}return u=new Oc({props:{field:r[2]}}),{c(){e=E("fieldset"),n=E("legend"),C(t.$$.fragment),l=N(),s=E("div");for(let d=0;d<o.length;d+=1)o[d].c();a=N(),C(u.$$.fragment),I(n,"class","svelte-1wcc8uw"),I(s,"class","options svelte-1wcc8uw"),I(e,"class","svelte-1wcc8uw")},m(d,g){v(d,e,g),R(e,n),k(t,n,null),R(e,l),R(e,s);for(let h=0;h<o.length;h+=1)o[h].m(s,null);v(d,a,g),k(u,d,g),f=!0},p(d,g){const h={};g&32&&(h.text=d[5]("type_of_relationship_with_table")),g&1552&&(h.$$scope={dirty:g,ctx:d}),t.$set(h),g&31&&(c=d[0],U(),o=ht(o,g,m,1,d,c,i,s,kt,sC,null,rC),W());const b={};g&4&&(b.field=d[2]),u.$set(b)},i(d){if(!f){_(t.$$.fragment,d);for(let g=0;g<c.length;g+=1)_(o[g]);_(u.$$.fragment,d),f=!0}},o(d){p(t.$$.fragment,d);for(let g=0;g<o.length;g+=1)p(o[g]);p(u.$$.fragment,d),f=!1},d(d){d&&$(e),y(t);for(let g=0;g<o.length;g+=1)o[g].d();d&&$(a),y(u,d)}}}function KBe(r){let e,n;return e=new Ht({props:{$$slots:{default:[GBe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&1087&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function XBe(r,e,n){let t;ne(r,ce,u=>n(5,t=u));let{linkTypes:l}=e,{isSelfReferential:s}=e,{field:o}=e,{base:i}=e,{target:a}=e;return r.$$set=u=>{"linkTypes"in u&&n(0,l=u.linkTypes),"isSelfReferential"in u&&n(1,s=u.isSelfReferential),"field"in u&&n(2,o=u.field),"base"in u&&n(3,i=u.base),"target"in u&&n(4,a=u.target)},[l,s,o,i,a,t]}class JBe extends Q{constructor(e){super(),Z(this,e,XBe,KBe,J,{linkTypes:0,isSelfReferential:1,field:2,base:3,target:4})}}function oC(r){let e,n=r[46]+"",t;return{c(){e=E("em"),t=L(n)},m(l,s){v(l,e,s),R(e,t)},p(l,s){s[1]&32768&&n!==(n=l[46]+"")&&z(t,n)},d(l){l&&$(e)}}}function ZBe(r){let e,n=r[45]==="italic"&&oC(r);return{c(){n&&n.c(),e=ae()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,l){t[45]==="italic"?n?n.p(t,l):(n=oC(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&$(e)}}}function QBe(r){let e,n;return e=new ot({props:{text:r[13]("create_reference_help_info_2"),$$slots:{default:[ZBe,({slotName:t,translatedArg:l})=>({45:t,46:l}),({slotName:t,translatedArg:l})=>[0,(t?16384:0)|(l?32768:0)]]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&8192&&(s.text=t[13]("create_reference_help_info_2")),l[1]&114688&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function xBe(r){let e,n;return e=new Co({props:{$$slots:{default:[QBe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&8192|l[1]&65536&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function iC(r){let e,n;return e=new fr({props:{table:r[0],which:"base"}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&1&&(s.table=t[0]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function eqe(r){let e,n,t=r[45]==="tablePill"&&iC(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[45]==="tablePill"?t?(t.p(l,s),s[1]&16384&&_(t,1)):(t=iC(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function tqe(r){let e,n,t;return n=new ot({props:{text:r[13]("create_relationship_between"),$$slots:{default:[eqe,({slotName:l})=>({45:l}),({slotName:l})=>[0,l?16384:0]]},$$scope:{ctx:r}}}),{c(){e=E("span"),C(n.$$.fragment),I(e,"slot","label")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s[0]&8192&&(o.text=l[13]("create_relationship_between")),s[0]&1|s[1]&81920&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function aC(r){let e,n,t,l;return e=new JBe({props:{field:r[8],isSelfReferential:r[11],linkTypes:r[20],base:r[0],target:r[2]}}),t=new Ht({props:{$$slots:{default:[vqe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(s,o){k(e,s,o),v(s,n,o),k(t,s,o),l=!0},p(s,o){const i={};o[0]&256&&(i.field=s[8]),o[0]&2048&&(i.isSelfReferential=s[11]),o[0]&1048576&&(i.linkTypes=s[20]),o[0]&1&&(i.base=s[0]),o[0]&4&&(i.target=s[2]),e.$set(i);const a={};o[0]&8453373|o[1]&65536&&(a.$$scope={dirty:o,ctx:s}),t.$set(a)},i(s){l||(_(e.$$.fragment,s),_(t.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),l=!1},d(s){y(e,s),s&&$(n),y(t,s)}}}function nqe(r){let e=Rt(r[12])+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l[0]&4096&&e!==(e=Rt(t[12])+"")&&z(n,e)},i:H,o:H,d(t){t&&$(n)}}}function rqe(r){let e,n,t,l;const s=[iqe,oqe],o=[];function i(a,u){return a[11]?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function lqe(r){let e,n;return e=new Jf({props:{base:r[0],target:r[2],baseWhich:"target",targetWhich:"base",field:r[6]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&1&&(s.base=t[0]),l[0]&4&&(s.target=t[2]),l[0]&64&&(s.field=t[6]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function sqe(r){let e,n;return e=new Jf({props:{base:r[2],baseWhich:"base",target:r[0],targetWhich:"target",field:r[7],targetColumnsAreLoading:r[10]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&4&&(s.base=t[2]),l[0]&1&&(s.target=t[0]),l[0]&128&&(s.field=t[7]),l[0]&1024&&(s.targetColumnsAreLoading=t[10]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function oqe(r){let e,n,t,l,s;function o(u){r[39](u)}let i={triggerAppearance:"ghost",$$slots:{content:[fqe],header:[uqe]},$$scope:{ctx:r}};r[14]!==void 0&&(i.isOpen=r[14]),e=new Fl({props:i}),we.push(()=>Me(e,"isOpen",o));let a=r[23]&&fC(r);return{c(){C(e.$$.fragment),t=N(),a&&a.c(),l=ae()},m(u,f){k(e,u,f),v(u,t,f),a&&a.m(u,f),v(u,l,f),s=!0},p(u,f){const c={};f[0]&8396832|f[1]&65536&&(c.$$scope={dirty:f,ctx:u}),!n&&f[0]&16384&&(n=!0,c.isOpen=u[14],De(()=>n=!1)),e.$set(c),u[23]?a?(a.p(u,f),f[0]&8388608&&_(a,1)):(a=fC(u),a.c(),_(a,1),a.m(l.parentNode,l)):a&&(U(),p(a,1,1,()=>{a=null}),W())},i(u){s||(_(e.$$.fragment,u),_(a),s=!0)},o(u){p(e.$$.fragment,u),p(a),s=!1},d(u){y(e,u),u&&$(t),a&&a.d(u),u&&$(l)}}}function iqe(r){let e,n,t,l,s;function o(u){r[37](u)}let i={triggerAppearance:"ghost",$$slots:{content:[dqe],header:[mqe]},$$scope:{ctx:r}};r[14]!==void 0&&(i.isOpen=r[14]),e=new Fl({props:i}),we.push(()=>Me(e,"isOpen",o));let a=r[23]&&mC(r);return{c(){C(e.$$.fragment),t=N(),a&&a.c(),l=ae()},m(u,f){k(e,u,f),v(u,t,f),a&&a.m(u,f),v(u,l,f),s=!0},p(u,f){const c={};f[0]&8396832|f[1]&65536&&(c.$$scope={dirty:f,ctx:u}),!n&&f[0]&16384&&(n=!0,c.isOpen=u[14],De(()=>n=!1)),e.$set(c),u[23]?a?(a.p(u,f),f[0]&8388608&&_(a,1)):(a=mC(u),a.c(),_(a,1),a.m(l.parentNode,l)):a&&(U(),p(a,1,1,()=>{a=null}),W())},i(u){s||(_(e.$$.fragment,u),_(a),s=!0)},o(u){p(e.$$.fragment,u),p(a),s=!1},d(u){y(e,u),u&&$(t),a&&a.d(u),u&&$(l)}}}function uC(r){let e,n;return e=new fr({props:{table:{name:r[23]},which:"mapping"}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&8388608&&(s.table={name:t[23]}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function aqe(r){let e,n,t=r[45]==="mappingTable"&&uC(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[45]==="mappingTable"?t?(t.p(l,s),s[1]&16384&&_(t,1)):(t=uC(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function uqe(r){let e,n;return e=new ot({props:{text:r[13]("we_will_create_a_new_table"),$$slots:{default:[aqe,({slotName:t})=>({45:t}),({slotName:t})=>[0,t?16384:0]]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&8192&&(s.text=t[13]("we_will_create_a_new_table")),l[0]&8388608|l[1]&81920&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function fqe(r){let e,n,t;return n=new It({props:{field:r[5],label:r[13]("table_name")}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","collapsible-detail svelte-10ui87u")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s[0]&32&&(o.field=l[5]),s[0]&8192&&(o.label=l[13]("table_name")),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function fC(r){let e,n,t,l;return e=new Jf({props:{base:{name:r[23]},baseWhich:"mapping",target:r[0],targetWhich:"base",field:r[4]}}),t=new Jf({props:{base:{name:r[23]},baseWhich:"mapping",target:r[2],field:r[3]}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(s,o){k(e,s,o),v(s,n,o),k(t,s,o),l=!0},p(s,o){const i={};o[0]&8388608&&(i.base={name:s[23]}),o[0]&1&&(i.target=s[0]),o[0]&16&&(i.field=s[4]),e.$set(i);const a={};o[0]&8388608&&(a.base={name:s[23]}),o[0]&4&&(a.target=s[2]),o[0]&8&&(a.field=s[3]),t.$set(a)},i(s){l||(_(e.$$.fragment,s),_(t.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),l=!1},d(s){y(e,s),s&&$(n),y(t,s)}}}function cC(r){let e,n;return e=new fr({props:{table:{name:r[23]},which:"mapping"}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&8388608&&(s.table={name:t[23]}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function cqe(r){let e,n,t=r[45]==="mappingTable"&&cC(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[45]==="mappingTable"?t?(t.p(l,s),s[1]&16384&&_(t,1)):(t=cC(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function mqe(r){let e,n;return e=new ot({props:{text:r[13]("we_will_create_a_new_table"),$$slots:{default:[cqe,({slotName:t})=>({45:t}),({slotName:t})=>[0,t?16384:0]]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&8192&&(s.text=t[13]("we_will_create_a_new_table")),l[0]&8388608|l[1]&81920&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function dqe(r){let e,n,t;return n=new It({props:{field:r[5],label:r[13]("table_name")}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","collapsible-detail svelte-10ui87u")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s[0]&32&&(o.field=l[5]),s[0]&8192&&(o.label=l[13]("table_name")),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function mC(r){let e,n,t;function l(o){r[38](o)}let s={triggerAppearance:"ghost",$$slots:{content:[bqe],header:[hqe]},$$scope:{ctx:r}};return r[15]!==void 0&&(s.isOpen=r[15]),e=new Fl({props:s}),we.push(()=>Me(e,"isOpen",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};i[0]&8396828|i[1]&65536&&(a.$$scope={dirty:i,ctx:o}),!n&&i[0]&32768&&(n=!0,a.isOpen=o[15],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function _qe(r){let e,n;return e=new fr({props:{table:r[2],which:"target"}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&4&&(s.table=t[2]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function pqe(r){let e,n;return e=new fr({props:{table:{name:r[23]},which:"mapping"}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&8388608&&(s.table={name:t[23]}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function gqe(r){let e,n,t,l;const s=[pqe,_qe],o=[];function i(a,u){return a[45]==="mappingTable"?0:a[45]==="targetTable"?1:-1}return~(e=i(r))&&(n=o[e]=s[e](r)),{c(){n&&n.c(),t=ae()},m(a,u){~e&&o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?~e&&o[e].p(a,u):(n&&(U(),p(o[f],1,1,()=>{o[f]=null}),W()),~e?(n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t)):n=null)},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){~e&&o[e].d(a),a&&$(t)}}}function hqe(r){let e,n;return e=new ot({props:{text:r[13]("we_will_add_two_columns_in_x_to_y"),$$slots:{default:[gqe,({slotName:t})=>({45:t}),({slotName:t})=>[0,t?16384:0]]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&8192&&(s.text=t[13]("we_will_add_two_columns_in_x_to_y")),l[0]&8388612|l[1]&81920&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function bqe(r){let e,n,t,l,s;return n=new It({props:{field:r[4],label:r[13]("column_number_name",{values:{number:1}})}}),l=new It({props:{field:r[3],label:r[13]("column_number_name",{values:{number:2}})}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),C(l.$$.fragment),I(e,"class","collapsible-detail svelte-10ui87u")},m(o,i){v(o,e,i),k(n,e,null),R(e,t),k(l,e,null),s=!0},p(o,i){const a={};i[0]&16&&(a.field=o[4]),i[0]&8192&&(a.label=o[13]("column_number_name",{values:{number:1}})),n.$set(a);const u={};i[0]&8&&(u.field=o[3]),i[0]&8192&&(u.label=o[13]("column_number_name",{values:{number:2}})),l.$set(u)},i(o){s||(_(n.$$.fragment,o),_(l.$$.fragment,o),s=!0)},o(o){p(n.$$.fragment,o),p(l.$$.fragment,o),s=!1},d(o){o&&$(e),y(n),y(l)}}}function $qe(r){let e,n,t,l;const s=[sqe,lqe,rqe,nqe],o=[];function i(a,u){return a[12]==="oneToMany"?0:a[12]==="manyToOne"?1:a[12]==="manyToMany"?2:3}return n=i(r),t=o[n]=s[n](r),{c(){e=E("div"),t.c(),I(e,"class","collapsible-sections svelte-10ui87u")},m(a,u){v(a,e,u),o[n].m(e,null),l=!0},p(a,u){let f=n;n=i(a),n===f?o[n].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),t=o[n],t?t.p(a,u):(t=o[n]=s[n](a),t.c()),_(t,1),t.m(e,null))},i(a){l||(_(t),l=!0)},o(a){p(t),l=!1},d(a){a&&$(e),o[n].d()}}}function vqe(r){let e,n;return e=new BR({props:{$$slots:{default:[$qe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l[0]&8453373|l[1]&65536&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function wqe(r){let e,n,t,l,s,o,i,a,u,f,c;n=new Ht({props:{$$slots:{default:[xBe]},$$scope:{ctx:r}}}),l=new It({props:{field:r[9],input:{component:Ia,props:{tables:r[22],autoSelect:"none"}},$$slots:{label:[tqe]},$$scope:{ctx:r}}});let m=r[2]&&aC(r);return a=new yn({props:{form:r[16],catchErrors:!0,canProceed:r[17],onCancel:r[1],proceedButton:{label:r[13]("create_relationship"),icon:hf},onProceed:r[25]}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),C(l.$$.fragment),s=N(),m&&m.c(),o=N(),i=E("div"),C(a.$$.fragment),I(e,"class","form svelte-10ui87u"),ie(e,"self-referential",r[11])},m(d,g){v(d,e,g),k(n,e,null),R(e,t),k(l,e,null),R(e,s),m&&m.m(e,null),v(d,o,g),v(d,i,g),k(a,i,null),u=!0,f||(c=Dt(dr.call(null,i)),f=!0)},p(d,g){const h={};g[0]&8192|g[1]&65536&&(h.$$scope={dirty:g,ctx:d}),n.$set(h);const b={};g[0]&512&&(b.field=d[9]),g[0]&4194304&&(b.input={component:Ia,props:{tables:d[22],autoSelect:"none"}}),g[0]&8193|g[1]&65536&&(b.$$scope={dirty:g,ctx:d}),l.$set(b),d[2]?m?(m.p(d,g),g[0]&4&&_(m,1)):(m=aC(d),m.c(),_(m,1),m.m(e,null)):m&&(U(),p(m,1,1,()=>{m=null}),W()),(!u||g[0]&2048)&&ie(e,"self-referential",d[11]);const w={};g[0]&65536&&(w.form=d[16]),g[0]&131072&&(w.canProceed=d[17]),g[0]&2&&(w.onCancel=d[1]),g[0]&8192&&(w.proceedButton={label:d[13]("create_relationship"),icon:hf}),a.$set(w)},i(d){u||(_(n.$$.fragment,d),_(l.$$.fragment,d),_(m),_(a.$$.fragment,d),u=!0)},o(d){p(n.$$.fragment,d),p(l.$$.fragment,d),p(m),p(a.$$.fragment,d),u=!1},d(d){d&&$(e),y(n),y(l),m&&m.d(),d&&$(o),d&&$(i),y(a),f=!1,c()}}}function kqe(r,e,n){let t,l,s,o,i,a,u,f,c,m,d,g,h,b,w,S,T,M,A,D,O,F=H,P=()=>(F(),F=le(c,at=>n(12,O=at)),c),B,j=H,V=()=>(j(),j=le(M,at=>n(40,B=at)),M),q,G=H,Y=()=>(G(),G=le(T,at=>n(41,q=at)),T),K,ee=H,x=()=>(ee(),ee=le(S,at=>n(23,K=at)),S),X,fe=H,he=()=>(fe(),fe=le(b,at=>n(42,X=at)),b),me,ge=H,pe=()=>(ge(),ge=le(w,at=>n(43,me=at)),w),Le,Qe,Ae,Je,ze,Ve=H,Be=()=>(Ve(),Ve=le(d,at=>n(32,ze=at)),d),qe,ft=H,vt=()=>(ft(),ft=le(o,at=>n(33,qe=at)),o),ut,Xe=H,dt=()=>(Xe(),Xe=le(g,at=>n(34,ut=at)),g),Oe,_t=H,Fe=()=>(_t(),_t=le(i,at=>n(35,Oe=at)),i),mt;ne(r,ce,at=>n(13,Qe=at)),ne(r,hE,at=>n(30,Ae=at)),ne(r,pp,at=>n(31,Je=at)),ne(r,Nc,at=>n(36,mt=at)),r.$$.on_destroy.push(()=>F()),r.$$.on_destroy.push(()=>j()),r.$$.on_destroy.push(()=>G()),r.$$.on_destroy.push(()=>ee()),r.$$.on_destroy.push(()=>fe()),r.$$.on_destroy.push(()=>ge()),r.$$.on_destroy.push(()=>Ve()),r.$$.on_destroy.push(()=>ft()),r.$$.on_destroy.push(()=>Xe()),r.$$.on_destroy.push(()=>_t());const yt=on();ne(r,yt,at=>n(29,Le=at));let{base:ct}=e,{close:lt}=e;async function rt(){if(O==="manyToMany"){await Af();return}const at=O==="oneToMany"?a:ct;!at||at.oid===Le.table.oid&&await Le.refresh()}async function Xt(at){try{O==="oneToMany"?await Ke.data_modeling.add_foreign_key_column({database_id:ct.schema.database.id,referrer_table_oid:at.targetTable.oid,referent_table_oid:ct.oid,column_name:me}).run():O==="manyToOne"?await Ke.data_modeling.add_foreign_key_column({database_id:ct.schema.database.id,referrer_table_oid:ct.oid,referent_table_oid:at.targetTable.oid,column_name:X}).run():O==="manyToMany"?await Ke.data_modeling.add_mapping_table({database_id:ct.schema.database.id,schema_oid:ct.schema.oid,table_name:K,mapping_columns:[{referent_table_oid:ct.oid,column_name:q},{referent_table_oid:at.targetTable.oid,column_name:B}]}).run():Rt(O),$t.success("The link has been created successfully"),await rt(),lt()}catch($n){$t.error(Yt($n))}}let Pt=!1,_n=!1;function Jt(at){Pt=at,n(14,Pt)}function bn(at){_n=at,n(15,_n)}function Dn(at){Pt=at,n(14,Pt)}return r.$$set=at=>{"base"in at&&n(0,ct=at.base),"close"in at&&n(1,lt=at.close)},r.$$.update=()=>{var at;r.$$.dirty[0]&1&&n(26,t=SI(ct.name)),r.$$.dirty[1]&32&&n(22,l=[...mt.values()]),r.$$.dirty[0]&536870912&&n(28,{columnsDataStore:s}=Le,s),r.$$.dirty[0]&268435456&&vt(n(21,o=s.columns)),r.$$.dirty[1]&16&&n(2,a=Oe),r.$$.dirty[0]&5&&n(11,u=ct.oid===(a==null?void 0:a.oid)),r.$$.dirty[0]&2048&&n(20,f=(()=>u?["manyToOne","manyToMany"]:["manyToOne","oneToMany","manyToMany"])()),r.$$.dirty[0]&256|r.$$.dirty[1]&16&&c.reset(),r.$$.dirty[0]&4&&n(27,m=a?new gI({database:a.schema.database,table:a}):void 0),r.$$.dirty[0]&134217728&&Be(n(19,d=Nn((at=m==null?void 0:m.columns)!=null?at:[]))),r.$$.dirty[0]&134217728&&dt(n(18,g=Nn(m==null?void 0:m.fetchStatus))),r.$$.dirty[1]&8&&n(10,h=(ut==null?void 0:ut.state)==="processing"),r.$$.dirty[0]&4|r.$$.dirty[1]&4&&he(n(6,b=gt(Gi(a,qe),[Pf(qe)]))),r.$$.dirty[0]&1|r.$$.dirty[1]&2&&pe(n(7,w=gt(Gi(ct,ze),[Pf(ze)]))),r.$$.dirty[0]&1073741829|r.$$.dirty[1]&1&&x(n(5,S=gt(aBe(ct,a,Je),[Ae]))),r.$$.dirty[0]&67110913&&Y(n(4,T=(()=>{const $n=u?Ms(`${t}_1`,new Set(["id",t])):Gi(ct);return gt($n,[nC()])})())),r.$$.dirty[0]&67110916&&V(n(3,M=(()=>{const $n=u?Ms(`${t}_2`,new Set(["id",t])):Gi(a);return gt($n,[nC()])})())),r.$$.dirty[0]&5120&&n(17,A=!(O==="manyToOne"&&h)),r.$$.dirty[0]&13304&&n(16,D=(()=>{const $n={targetTable:i,linkType:c};return O==="oneToMany"?Wt({...$n,columnNameInTarget:w}):O==="manyToOne"?Wt({...$n,columnNameInBase:b}):O==="manyToMany"?Wt({...$n,mappingTableName:S,columnNameMappingToBase:T,columnNameMappingToTarget:M},[gne([T,M],([Cn,Bt])=>Cn===Bt,Qe("two_columns_cannot_have_same_name"))]):Rt(O)})())},Fe(n(9,i=gt(void 0))),P(n(8,c=gt("manyToOne"))),[ct,lt,a,M,T,S,b,w,c,i,h,u,O,Qe,Pt,_n,D,A,g,d,f,o,l,K,yt,Xt,t,m,s,Le,Ae,Je,ze,qe,ut,Oe,mt,Jt,bn,Dn]}class yqe extends Q{constructor(e){super(),Z(this,e,kqe,wqe,J,{base:0,close:1},null,[-1,-1])}}function dC(r){let e,n;return e=new Yn({props:{controller:r[0],size:"large",$$slots:{title:[Tqe],default:[Cqe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.controller=t[0]),l&23&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Cqe(r){let e,n;return e=new yqe({props:{base:r[1],close:r[3]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.base=t[1]),l&1&&(s.close=t[3]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Sqe(r){let e=r[2]("references_help")+"",n,t,l,s;return l=new Hr({props:{page:"relationships"}}),{c(){n=L(e),t=N(),C(l.$$.fragment)},m(o,i){v(o,n,i),v(o,t,i),k(l,o,i),s=!0},p(o,i){(!s||i&4)&&e!==(e=o[2]("references_help")+"")&&z(n,e)},i(o){s||(_(l.$$.fragment,o),s=!0)},o(o){p(l.$$.fragment,o),s=!1},d(o){o&&$(n),o&&$(t),y(l,o)}}}function Tqe(r){let e,n=r[2]("create_relationship")+"",t,l,s,o;return s=new zt({props:{$$slots:{default:[Sqe]},$$scope:{ctx:r}}}),{c(){e=E("span"),t=L(n),l=N(),C(s.$$.fragment),I(e,"slot","title")},m(i,a){v(i,e,a),R(e,t),R(e,l),k(s,e,null),o=!0},p(i,a){(!o||a&4)&&n!==(n=i[2]("create_relationship")+"")&&z(t,n);const u={};a&20&&(u.$$scope={dirty:a,ctx:i}),s.$set(u)},i(i){o||(_(s.$$.fragment,i),o=!0)},o(i){p(s.$$.fragment,i),o=!1},d(i){i&&$(e),y(s)}}}function Iqe(r){let e,n,t=r[1]&&dC(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,[s]){l[1]?t?(t.p(l,s),s&2&&_(t,1)):(t=dC(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function Eqe(r,e,n){let t,l;ne(r,gp,i=>n(1,t=i)),ne(r,ce,i=>n(2,l=i));let{controller:s}=e;const o=()=>s.close();return r.$$set=i=>{"controller"in i&&n(0,s=i.controller)},[s,t,l,o]}class Mqe extends Q{constructor(e){super(),Z(this,e,Eqe,Iqe,J,{controller:0})}}const Rqe=r=>({}),_C=r=>({}),Dqe=r=>({}),pC=r=>({});function Aqe(r){let e,n,t,l,s,o;const i=r[3]["table-name"],a=ke(i,r,r[2],pC),u=r[3].detail,f=ke(u,r,r[2],_C);return{c(){e=E("a"),n=E("div"),t=E("div"),a&&a.c(),l=N(),s=E("div"),f&&f.c(),I(t,"class","table-name svelte-lmlk2v"),I(s,"class","detail svelte-lmlk2v"),I(n,"class","container svelte-lmlk2v"),I(e,"class","passthrough link-card svelte-lmlk2v"),I(e,"href",r[1]),ie(e,"multiple",r[0])},m(c,m){v(c,e,m),R(e,n),R(n,t),a&&a.m(t,null),R(n,l),R(n,s),f&&f.m(s,null),o=!0},p(c,[m]){a&&a.p&&(!o||m&4)&&Ce(a,i,c,c[2],o?ye(i,c[2],m,Dqe):Se(c[2]),pC),f&&f.p&&(!o||m&4)&&Ce(f,u,c,c[2],o?ye(u,c[2],m,Rqe):Se(c[2]),_C),(!o||m&2)&&I(e,"href",c[1]),(!o||m&1)&&ie(e,"multiple",c[0])},i(c){o||(_(a,c),_(f,c),o=!0)},o(c){p(a,c),p(f,c),o=!1},d(c){c&&$(e),a&&a.d(c),f&&f.d(c)}}}function Oqe(r,e,n){let{$$slots:t={},$$scope:l}=e,{displayAsMultiple:s=!1}=e,{href:o}=e;return r.$$set=i=>{"displayAsMultiple"in i&&n(0,s=i.displayAsMultiple),"href"in i&&n(1,o=i.href),"$$scope"in i&&n(2,l=i.$$scope)},[s,o,l,t]}class WR extends Q{constructor(e){super(),Z(this,e,Oqe,Aqe,J,{displayAsMultiple:0,href:1})}}function gC(r){let e,n;return e=new WR({props:{href:r[3],$$slots:{detail:[Pqe],"table-name":[Fqe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8&&(s.href=t[3]),l&151&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Fqe(r){let e,n;return e=new rn({props:{slot:"table-name",table:r[0],truncate:!1}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.table=t[0]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function hC(r){let e,n,t,l,s,o;return e=new rn({props:{table:r[1],truncate:!1}}),t=new Lp({}),s=new Gn({props:{column:{name:r[2].name,type:"",type_options:null,constraintsType:["foreignkey"],metadata:null},truncate:!1}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),C(s.$$.fragment)},m(i,a){k(e,i,a),v(i,n,a),k(t,i,a),v(i,l,a),k(s,i,a),o=!0},p(i,a){const u={};a&2&&(u.table=i[1]),e.$set(u);const f={};a&4&&(f.column={name:i[2].name,type:"",type_options:null,constraintsType:["foreignkey"],metadata:null}),s.$set(f)},i(i){o||(_(e.$$.fragment,i),_(t.$$.fragment,i),_(s.$$.fragment,i),o=!0)},o(i){p(e.$$.fragment,i),p(t.$$.fragment,i),p(s.$$.fragment,i),o=!1},d(i){y(e,i),i&&$(n),y(t,i),i&&$(l),y(s,i)}}}function Nqe(r){let e,n,t=r[6]==="reference"&&hC(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[6]==="reference"?t?(t.p(l,s),s&64&&_(t,1)):(t=hC(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function Pqe(r){let e,n;return e=new ot({props:{text:r[4]("referenced_via_reference"),$$slots:{default:[Nqe,({slotName:t})=>({6:t}),({slotName:t})=>t?64:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.text=t[4]("referenced_via_reference")),l&198&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Lqe(r){let e,n,t=r[3]&&gC(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,[s]){l[3]?t?(t.p(l,s),s&8&&_(t,1)):(t=gC(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function Hqe(r,e,n){let t,l,s;ne(r,Pc,u=>n(5,l=u)),ne(r,ce,u=>n(4,s=u));let{referentTable:o}=e,{referencingTable:i}=e,{referencingColumn:a}=e;return r.$$set=u=>{"referentTable"in u&&n(0,o=u.referentTable),"referencingTable"in u&&n(1,i=u.referencingTable),"referencingColumn"in u&&n(2,a=u.referencingColumn)},r.$$.update=()=>{r.$$.dirty&33&&n(3,t=l({tableId:o.oid}))},[o,i,a,t,s,l]}class Vqe extends Q{constructor(e){super(),Z(this,e,Hqe,Lqe,J,{referentTable:0,referencingTable:1,referencingColumn:2})}}function bC(r){let e,n;return e=new WR({props:{href:r[3],displayAsMultiple:!0,$$slots:{detail:[Wqe],"table-name":[zqe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8&&(s.href=t[3]),l&151&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function zqe(r){let e,n;return e=new rn({props:{slot:"table-name",table:r[1],truncate:!1}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.table=t[1]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Bqe(r){let e,n;return e=new rn({props:{table:r[0],truncate:!1}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.table=t[0]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function qqe(r){let e,n,t,l;return e=new Lp({}),t=new Gn({props:{column:{name:r[2].name,type:"",type_options:null,metadata:null,constraintsType:["foreignkey"]},truncate:!1}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(s,o){k(e,s,o),v(s,n,o),k(t,s,o),l=!0},p(s,o){const i={};o&4&&(i.column={name:s[2].name,type:"",type_options:null,metadata:null,constraintsType:["foreignkey"]}),t.$set(i)},i(s){l||(_(e.$$.fragment,s),_(t.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),l=!1},d(s){y(e,s),s&&$(n),y(t,s)}}}function Uqe(r){let e,n,t,l;const s=[qqe,Bqe],o=[];function i(a,u){return a[6]==="reference"?0:a[6]==="referent"?1:-1}return~(e=i(r))&&(n=o[e]=s[e](r)),{c(){n&&n.c(),t=ae()},m(a,u){~e&&o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?~e&&o[e].p(a,u):(n&&(U(),p(o[f],1,1,()=>{o[f]=null}),W()),~e?(n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t)):n=null)},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){~e&&o[e].d(a),a&&$(t)}}}function Wqe(r){let e,n;return e=new ot({props:{text:r[4]("reference_references_referent"),$$slots:{default:[Uqe,({slotName:t})=>({6:t}),({slotName:t})=>t?64:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.text=t[4]("reference_references_referent")),l&197&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function jqe(r){let e,n,t=r[3]&&bC(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,[s]){l[3]?t?(t.p(l,s),s&8&&_(t,1)):(t=bC(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function Yqe(r,e,n){let t,l,s;ne(r,Pc,u=>n(5,l=u)),ne(r,ce,u=>n(4,s=u));let{referentTable:o}=e,{referencingTable:i}=e,{referencingColumn:a}=e;return r.$$set=u=>{"referentTable"in u&&n(0,o=u.referentTable),"referencingTable"in u&&n(1,i=u.referencingTable),"referencingColumn"in u&&n(2,a=u.referencingColumn)},r.$$.update=()=>{r.$$.dirty&34&&n(3,t=l({tableId:i.oid}))},[o,i,a,t,s,l]}class Gqe extends Q{constructor(e){super(),Z(this,e,Yqe,jqe,J,{referentTable:0,referencingTable:1,referencingColumn:2})}}function $C(r,e,n){const t=r.slice();return t[9]=e[n],t}function vC(r,e,n){const t=r.slice();return t[9]=e[n],t}function wC(r){let e,n,t,l,s,o,i,a,u,f;const c=[d0];let m={};for(let b=0;b<c.length;b+=1)m=se(m,c[b]);t=new Ne({props:m}),s=new ot({props:{text:r[4]("references_in_this_table"),$$slots:{default:[Kqe,({slotName:b,translatedArg:w})=>({12:b,13:w}),({slotName:b,translatedArg:w})=>(b?4096:0)|(w?8192:0)]},$$scope:{ctx:r}}}),i=new zt({props:{$$slots:{default:[Qqe]},$$scope:{ctx:r}}});let d=r[2],g=[];for(let b=0;b<d.length;b+=1)g[b]=yC(vC(r,d,b));const h=b=>p(g[b],1,1,()=>{g[b]=null});return{c(){e=E("div"),n=E("div"),C(t.$$.fragment),l=N(),C(s.$$.fragment),o=N(),C(i.$$.fragment),a=N(),u=E("div");for(let b=0;b<g.length;b+=1)g[b].c();I(n,"class","header svelte-17ieckw"),I(u,"class","links svelte-17ieckw")},m(b,w){v(b,e,w),R(e,n),k(t,n,null),R(n,l),k(s,n,null),R(n,o),k(i,n,null),R(e,a),R(e,u);for(let S=0;S<g.length;S+=1)g[S].m(u,null);f=!0},p(b,w){const S=w&0?de(c,[_e(d0)]):{};t.$set(S);const T={};w&16&&(T.text=b[4]("references_in_this_table")),w&77824&&(T.$$scope={dirty:w,ctx:b}),s.$set(T);const M={};if(w&65553&&(M.$$scope={dirty:w,ctx:b}),i.$set(M),w&5){d=b[2];let A;for(A=0;A<d.length;A+=1){const D=vC(b,d,A);g[A]?(g[A].p(D,w),_(g[A],1)):(g[A]=yC(D),g[A].c(),_(g[A],1),g[A].m(u,null))}for(U(),A=d.length;A<g.length;A+=1)h(A);W()}},i(b){if(!f){_(t.$$.fragment,b),_(s.$$.fragment,b),_(i.$$.fragment,b);for(let w=0;w<d.length;w+=1)_(g[w]);f=!0}},o(b){p(t.$$.fragment,b),p(s.$$.fragment,b),p(i.$$.fragment,b),g=g.filter(Boolean);for(let w=0;w<g.length;w+=1)p(g[w]);f=!1},d(b){b&&$(e),y(t),y(s),y(i),Hn(g,b)}}}function kC(r){let e,n=r[13]+"",t;return{c(){e=E("strong"),t=L(n)},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&8192&&n!==(n=l[13]+"")&&z(t,n)},d(l){l&&$(e)}}}function Kqe(r){let e,n=r[12]==="bold"&&kC(r);return{c(){n&&n.c(),e=ae()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,l){t[12]==="bold"?n?n.p(t,l):(n=kC(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&$(e)}}}function Xqe(r){let e,n=r[13]+"",t;return{c(){e=E("strong"),t=L(n)},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&8192&&n!==(n=l[13]+"")&&z(t,n)},i:H,o:H,d(l){l&&$(e)}}}function Jqe(r){let e,n;return e=new rn({props:{table:r[0],truncate:!1}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.table=t[0]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Zqe(r){let e,n,t,l;const s=[Jqe,Xqe],o=[];function i(a,u){return a[12]==="tableName"?0:a[12]==="bold"?1:-1}return~(e=i(r))&&(n=o[e]=s[e](r)),{c(){n&&n.c(),t=ae()},m(a,u){~e&&o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?~e&&o[e].p(a,u):(n&&(U(),p(o[f],1,1,()=>{o[f]=null}),W()),~e?(n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t)):n=null)},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){~e&&o[e].d(a),a&&$(t)}}}function Qqe(r){let e,n;return e=new ot({props:{text:r[4]("table_can_have_one"),$$slots:{default:[Zqe,({slotName:t,translatedArg:l})=>({12:t,13:l}),({slotName:t,translatedArg:l})=>(t?4096:0)|(l?8192:0)]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.text=t[4]("table_can_have_one")),l&77825&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function yC(r){let e,n;return e=new Vqe({props:{referentTable:r[9].table,referencingTable:r[0],referencingColumn:r[9].column}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&4&&(s.referentTable=t[9].table),l&1&&(s.referencingTable=t[0]),l&4&&(s.referencingColumn=t[9].column),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function CC(r){let e,n,t,l,s,o,i,a,u,f;const c=[_0];let m={};for(let b=0;b<c.length;b+=1)m=se(m,c[b]);t=new Ne({props:m}),s=new ot({props:{text:r[4]("references_to_this_table"),$$slots:{default:[xqe,({slotName:b,translatedArg:w})=>({12:b,13:w}),({slotName:b,translatedArg:w})=>(b?4096:0)|(w?8192:0)]},$$scope:{ctx:r}}}),i=new zt({props:{$$slots:{default:[rUe]},$$scope:{ctx:r}}});let d=r[1],g=[];for(let b=0;b<d.length;b+=1)g[b]=TC($C(r,d,b));const h=b=>p(g[b],1,1,()=>{g[b]=null});return{c(){e=E("div"),n=E("div"),C(t.$$.fragment),l=N(),C(s.$$.fragment),o=N(),C(i.$$.fragment),a=N(),u=E("div");for(let b=0;b<g.length;b+=1)g[b].c();I(n,"class","header svelte-17ieckw"),I(u,"class","links svelte-17ieckw")},m(b,w){v(b,e,w),R(e,n),k(t,n,null),R(n,l),k(s,n,null),R(n,o),k(i,n,null),R(e,a),R(e,u);for(let S=0;S<g.length;S+=1)g[S].m(u,null);f=!0},p(b,w){const S=w&0?de(c,[_e(_0)]):{};t.$set(S);const T={};w&16&&(T.text=b[4]("references_to_this_table")),w&77824&&(T.$$scope={dirty:w,ctx:b}),s.$set(T);const M={};if(w&65553&&(M.$$scope={dirty:w,ctx:b}),i.$set(M),w&3){d=b[1];let A;for(A=0;A<d.length;A+=1){const D=$C(b,d,A);g[A]?(g[A].p(D,w),_(g[A],1)):(g[A]=TC(D),g[A].c(),_(g[A],1),g[A].m(u,null))}for(U(),A=d.length;A<g.length;A+=1)h(A);W()}},i(b){if(!f){_(t.$$.fragment,b),_(s.$$.fragment,b),_(i.$$.fragment,b);for(let w=0;w<d.length;w+=1)_(g[w]);f=!0}},o(b){p(t.$$.fragment,b),p(s.$$.fragment,b),p(i.$$.fragment,b),g=g.filter(Boolean);for(let w=0;w<g.length;w+=1)p(g[w]);f=!1},d(b){b&&$(e),y(t),y(s),y(i),Hn(g,b)}}}function SC(r){let e,n=r[13]+"",t;return{c(){e=E("strong"),t=L(n)},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&8192&&n!==(n=l[13]+"")&&z(t,n)},d(l){l&&$(e)}}}function xqe(r){let e,n=r[12]==="bold"&&SC(r);return{c(){n&&n.c(),e=ae()},m(t,l){n&&n.m(t,l),v(t,e,l)},p(t,l){t[12]==="bold"?n?n.p(t,l):(n=SC(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&$(e)}}}function eUe(r){let e,n=r[13]+"",t;return{c(){e=E("strong"),t=L(n)},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&8192&&n!==(n=l[13]+"")&&z(t,n)},i:H,o:H,d(l){l&&$(e)}}}function tUe(r){let e,n;return e=new rn({props:{table:r[0],truncate:!1}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.table=t[0]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function nUe(r){let e,n,t,l;const s=[tUe,eUe],o=[];function i(a,u){return a[12]==="tableName"?0:a[12]==="bold"?1:-1}return~(e=i(r))&&(n=o[e]=s[e](r)),{c(){n&&n.c(),t=ae()},m(a,u){~e&&o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?~e&&o[e].p(a,u):(n&&(U(),p(o[f],1,1,()=>{o[f]=null}),W()),~e?(n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t)):n=null)},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){~e&&o[e].d(a),a&&$(t)}}}function rUe(r){let e,n;return e=new ot({props:{text:r[4]("table_can_have_many"),$$slots:{default:[nUe,({slotName:t,translatedArg:l})=>({12:t,13:l}),({slotName:t,translatedArg:l})=>(t?4096:0)|(l?8192:0)]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.text=t[4]("table_can_have_many")),l&77825&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function TC(r){let e,n;return e=new Gqe({props:{referencingTable:r[9].table,referencingColumn:r[9].column,referentTable:r[0]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.referencingTable=t[9].table),l&2&&(s.referencingColumn=t[9].column),l&1&&(s.referentTable=t[0]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function IC(r){let e,n=r[4]("table_does_not_link")+"",t;return{c(){e=E("span"),t=L(n),I(e,"class","null-text svelte-17ieckw")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&16&&n!==(n=l[4]("table_does_not_link")+"")&&z(t,n)},d(l){l&&$(e)}}}function lUe(r){let e,n,t,l=r[4]("create_relationship")+"",s,o;const i=[jt];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return e=new Ne({props:a}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l)},m(u,f){k(e,u,f),v(u,n,f),v(u,t,f),R(t,s),o=!0},p(u,f){const c=f&0?de(i,[_e(jt)]):{};e.$set(c),(!o||f&16)&&l!==(l=u[4]("create_relationship")+"")&&z(s,l)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){p(e.$$.fragment,u),o=!1},d(u){y(e,u),u&&$(n),u&&$(t)}}}function sUe(r){let e,n,t,l,s,o,i,a,u,f=r[2].length&&wC(r),c=r[1].length&&CC(r),m=r[3]&&IC(r);return o=new st({props:{appearance:"secondary",size:"small",$$slots:{default:[lUe]},$$scope:{ctx:r}}}),o.$on("click",r[8]),a=new Mqe({props:{controller:r[5]}}),{c(){e=E("div"),f&&f.c(),n=N(),c&&c.c(),t=N(),m&&m.c(),l=N(),s=E("div"),C(o.$$.fragment),i=N(),C(a.$$.fragment),I(e,"class","links-content svelte-17ieckw")},m(d,g){v(d,e,g),f&&f.m(e,null),R(e,n),c&&c.m(e,null),R(e,t),m&&m.m(e,null),R(e,l),R(e,s),k(o,s,null),R(s,i),k(a,s,null),u=!0},p(d,[g]){d[2].length?f?(f.p(d,g),g&4&&_(f,1)):(f=wC(d),f.c(),_(f,1),f.m(e,n)):f&&(U(),p(f,1,1,()=>{f=null}),W()),d[1].length?c?(c.p(d,g),g&2&&_(c,1)):(c=CC(d),c.c(),_(c,1),c.m(e,t)):c&&(U(),p(c,1,1,()=>{c=null}),W()),d[3]?m?m.p(d,g):(m=IC(d),m.c(),m.m(e,l)):m&&(m.d(1),m=null);const h={};g&65552&&(h.$$scope={dirty:g,ctx:d}),o.$set(h)},i(d){u||(_(f),_(c),_(o.$$.fragment,d),_(a.$$.fragment,d),u=!0)},o(d){p(f),p(c),p(o.$$.fragment,d),p(a.$$.fragment,d),u=!1},d(d){d&&$(e),f&&f.d(),c&&c.d(),m&&m.d(),y(o),y(a)}}}function oUe(r,e,n){let t,l,s,o;ne(r,ce,m=>n(4,o=m));const i=un.spawnModalController();let{table:a}=e,{joinableTablesResult:u}=e,{currentTableColumns:f}=e;const c=()=>i.open();return r.$$set=m=>{"table"in m&&n(0,a=m.table),"joinableTablesResult"in m&&n(6,u=m.joinableTablesResult),"currentTableColumns"in m&&n(7,f=m.currentTableColumns)},r.$$.update=()=>{r.$$.dirty&192&&n(2,t=[...iI(u,new Map([...f.entries()].map(([m,d])=>[m,d.column])))]),r.$$.dirty&64&&n(1,l=[...aI(u)]),r.$$.dirty&6&&n(3,s=!t.length&&!l.length)},[a,l,t,s,o,i,u,f,c]}class iUe extends Q{constructor(e){super(),Z(this,e,oUe,sUe,J,{table:0,joinableTablesResult:6,currentTableColumns:7})}}function aUe(r){let e,n;return e=new Vn({props:{$$slots:{default:[uUe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&257&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function uUe(r){let e=Yt(r[7])+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&1&&e!==(e=Yt(t[7])+"")&&z(n,e)},d(t){t&&$(n)}}}function fUe(r){let e,n;return e=new iUe({props:{table:r[0],currentTableColumns:r[2],joinableTablesResult:r[6]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.table=t[0]),l&4&&(s.currentTableColumns=t[2]),l&1&&(s.joinableTablesResult=t[6]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function cUe(r){let e,n;return e=new Gt({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function mUe(r){let e,n,t,l={ctx:r,current:null,token:null,hasCatch:!0,pending:cUe,then:fUe,catch:aUe,value:6,error:7,blocks:[,,,]};return Wl(n=r[4](r[0].schema.database.id,r[0].oid),l),{c(){e=E("div"),l.block.c()},m(s,o){v(s,e,o),l.block.m(e,l.anchor=null),l.mount=()=>e,l.anchor=null,t=!0},p(s,[o]){r=s,l.ctx=r,o&1&&n!==(n=r[4](r[0].schema.database.id,r[0].oid))&&Wl(n,l)||Fa(l,r,o)},i(s){t||(_(l.block),t=!0)},o(s){for(let o=0;o<3;o+=1){const i=l.blocks[o];p(i)}t=!1},d(s){s&&$(e),l.block.d(),l.token=null,l=null}}}function dUe(r,e,n){let t,l,s,o,i=H,a=()=>(i(),i=le(t,c=>n(2,o=c)),t);r.$$.on_destroy.push(()=>i());const u=on();ne(r,u,c=>n(5,s=c));function f(c,m){return Ke.tables.list_joinable({database_id:c,table_oid:m,max_depth:1}).run()}return r.$$.update=()=>{r.$$.dirty&32&&a(n(1,t=s.processedColumns)),r.$$.dirty&32&&n(0,l=s.table)},[l,t,o,u,f,s]}class _Ue extends Q{constructor(e){super(),Z(this,e,dUe,mUe,J,{})}}function pUe(r){let e=r[11]("open_table_in_data_explorer")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&2048&&e!==(e=t[11]("open_table_in_data_explorer")+"")&&z(n,e)},d(t){t&&$(n)}}}function gUe(r){let e,n,t,l,s,o=r[11]("explore_data")+"",i,a,u,f,c,m;const d=[Xr];let g={};for(let w=0;w<d.length;w+=1)g=se(g,d[w]);t=new Ne({props:g}),u=new zt({props:{$$slots:{default:[pUe]},$$scope:{ctx:r}}});const h=[Is];let b={};for(let w=0;w<h.length;w+=1)b=se(b,h[w]);return c=new Ne({props:b}),{c(){e=E("div"),n=E("div"),C(t.$$.fragment),l=N(),s=E("span"),i=L(o),a=N(),C(u.$$.fragment),f=N(),C(c.$$.fragment),I(e,"class","action-item svelte-lo2o6r")},m(w,S){v(w,e,S),R(e,n),k(t,n,null),R(n,l),R(n,s),R(s,i),R(n,a),k(u,n,null),R(e,f),k(c,e,null),m=!0},p(w,S){const T=S&0?de(d,[_e(Xr)]):{};t.$set(T),(!m||S&2048)&&o!==(o=w[11]("explore_data")+"")&&z(i,o);const M={};S&67110912&&(M.$$scope={dirty:S,ctx:w}),u.$set(M);const A=S&0?de(h,[_e(Is)]):{};c.$set(A)},i(w){m||(_(t.$$.fragment,w),_(u.$$.fragment,w),_(c.$$.fragment,w),m=!0)},o(w){p(t.$$.fragment,w),p(u.$$.fragment,w),p(c.$$.fragment,w),m=!1},d(w){w&&$(e),y(t),y(u),y(c)}}}function EC(r){let e,n;return e=new Zr({props:{href:r[2],$$slots:{default:[bUe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&4&&(s.href=t[2]),l&67110912&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function hUe(r){let e=r[11]("summarize_in_data_explorer_help")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&2048&&e!==(e=t[11]("summarize_in_data_explorer_help")+"")&&z(n,e)},d(t){t&&$(n)}}}function bUe(r){let e,n,t,l,s,o=r[11]("summarize_in_data_explorer")+"",i,a,u,f,c,m;const d=[Xr];let g={};for(let w=0;w<d.length;w+=1)g=se(g,d[w]);t=new Ne({props:g}),u=new zt({props:{$$slots:{default:[hUe]},$$scope:{ctx:r}}});const h=[Is];let b={};for(let w=0;w<h.length;w+=1)b=se(b,h[w]);return c=new Ne({props:b}),{c(){e=E("div"),n=E("div"),C(t.$$.fragment),l=N(),s=E("span"),i=L(o),a=N(),C(u.$$.fragment),f=N(),C(c.$$.fragment),I(e,"class","action-item svelte-lo2o6r")},m(w,S){v(w,e,S),R(e,n),k(t,n,null),R(n,l),R(n,s),R(s,i),R(n,a),k(u,n,null),R(e,f),k(c,e,null),m=!0},p(w,S){const T=S&0?de(d,[_e(Xr)]):{};t.$set(T),(!m||S&2048)&&o!==(o=w[11]("summarize_in_data_explorer")+"")&&z(i,o);const M={};S&67110912&&(M.$$scope={dirty:S,ctx:w}),u.$set(M);const A=S&0?de(h,[_e(Is)]):{};c.$set(A)},i(w){m||(_(t.$$.fragment,w),_(u.$$.fragment,w),_(c.$$.fragment,w),m=!0)},o(w){p(t.$$.fragment,w),p(u.$$.fragment,w),p(c.$$.fragment,w),m=!1},d(w){w&&$(e),y(t),y(u),y(c)}}}function $Ue(r){let e,n,t,l=r[11]("import")+"",s,o;const i=[ff];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return e=new Ne({props:a}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l)},m(u,f){k(e,u,f),v(u,n,f),v(u,t,f),R(t,s),o=!0},p(u,f){const c=f&0?de(i,[_e(ff)]):{};e.$set(c),(!o||f&2048)&&l!==(l=u[11]("import")+"")&&z(s,l)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){p(e.$$.fragment,u),o=!1},d(u){y(e,u),u&&$(n),u&&$(t)}}}function MC(r){let e,n;return e=new Zr({props:{href:"/api/export/v0/tables/?"+r[3],appearance:"action","data-tinro-ignore":!0,"aria-label":r[11]("export"),download:r[0].name+".csv",$$slots:{default:[wUe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8&&(s.href="/api/export/v0/tables/?"+t[3]),l&2048&&(s["aria-label"]=t[11]("export")),l&1&&(s.download=t[0].name+".csv"),l&67110913&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function vUe(r){let e=r[11]("export_table_as_csv_help",{values:{tableName:r[0].name}})+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&2049&&e!==(e=t[11]("export_table_as_csv_help",{values:{tableName:t[0].name}})+"")&&z(n,e)},d(t){t&&$(n)}}}function wUe(r){let e,n,t,l,s,o=r[11]("export")+"",i,a,u,f;const c=[ri];let m={};for(let d=0;d<c.length;d+=1)m=se(m,c[d]);return t=new Ne({props:m}),u=new zt({props:{$$slots:{default:[vUe]},$$scope:{ctx:r}}}),{c(){e=E("div"),n=E("div"),C(t.$$.fragment),l=N(),s=E("span"),i=L(o),a=N(),C(u.$$.fragment),I(e,"class","action-item svelte-lo2o6r")},m(d,g){v(d,e,g),R(e,n),k(t,n,null),R(n,l),R(n,s),R(s,i),R(n,a),k(u,n,null),f=!0},p(d,g){const h=g&0?de(c,[_e(ri)]):{};t.$set(h),(!f||g&2048)&&o!==(o=d[11]("export")+"")&&z(i,o);const b={};g&67110913&&(b.$$scope={dirty:g,ctx:d}),u.$set(b)},i(d){f||(_(t.$$.fragment,d),_(u.$$.fragment,d),f=!0)},o(d){p(t.$$.fragment,d),p(u.$$.fragment,d),f=!1},d(d){d&&$(e),y(t),y(u)}}}function kUe(r){let e,n,t,l=r[11]("delete_table")+"",s,o;const i=[Mt];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return e=new Ne({props:a}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l)},m(u,f){k(e,u,f),v(u,n,f),v(u,t,f),R(t,s),o=!0},p(u,f){const c=f&0?de(i,[_e(Mt)]):{};e.$set(c),(!o||f&2048)&&l!==(l=u[11]("delete_table")+"")&&z(s,l)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){p(e.$$.fragment,u),o=!1},d(u){y(e,u),u&&$(n),u&&$(t)}}}function yUe(r){let e,n,t,l,s,o,i,a,u;n=new Zr({props:{href:r[4],appearance:"action",$$slots:{default:[gUe]},$$scope:{ctx:r}}});let f=r[2]&&EC(r);s=new st({props:{disabled:!r[12],appearance:"action",$$slots:{default:[$Ue]},$$scope:{ctx:r}}}),s.$on("click",r[25]);let c=r[13]&&MC(r);return a=new st({props:{appearance:"danger",disabled:!r[14],$$slots:{default:[kUe]},$$scope:{ctx:r}}}),a.$on("click",r[17]),{c(){e=E("div"),C(n.$$.fragment),t=N(),f&&f.c(),l=N(),C(s.$$.fragment),o=N(),c&&c.c(),i=N(),C(a.$$.fragment),I(e,"class","actions-container svelte-lo2o6r")},m(m,d){v(m,e,d),k(n,e,null),R(e,t),f&&f.m(e,null),R(e,l),k(s,e,null),R(e,o),c&&c.m(e,null),R(e,i),k(a,e,null),u=!0},p(m,[d]){const g={};d&16&&(g.href=m[4]),d&67110912&&(g.$$scope={dirty:d,ctx:m}),n.$set(g),m[2]?f?(f.p(m,d),d&4&&_(f,1)):(f=EC(m),f.c(),_(f,1),f.m(e,l)):f&&(U(),p(f,1,1,()=>{f=null}),W());const h={};d&4096&&(h.disabled=!m[12]),d&67110912&&(h.$$scope={dirty:d,ctx:m}),s.$set(h),m[13]?c?(c.p(m,d),d&8192&&_(c,1)):(c=MC(m),c.c(),_(c,1),c.m(e,i)):c&&(U(),p(c,1,1,()=>{c=null}),W());const b={};d&16384&&(b.disabled=!m[14]),d&67110912&&(b.$$scope={dirty:d,ctx:m}),a.$set(b)},i(m){u||(_(n.$$.fragment,m),_(f),_(s.$$.fragment,m),_(c),_(a.$$.fragment,m),u=!0)},o(m){p(n.$$.fragment,m),p(f),p(s.$$.fragment,m),p(c),p(a.$$.fragment,m),u=!1},d(m){m&&$(e),y(n),f&&f.d(),y(s),c&&c.d(),y(a)}}}function CUe(r,e,n){let t,l,s,o,i,a,u,f,c,m,d,g,h,b,w,S=H,T=()=>(S(),S=le(f,Ae=>n(20,w=Ae)),f),M,A=H,D=()=>(A(),A=le(c,Ae=>n(21,M=Ae)),c),O,F=H,P=()=>(F(),F=le(a,Ae=>n(22,O=Ae)),a),B,j=H,V=()=>(j(),j=le(u,Ae=>n(23,B=Ae)),u),q,G,Y=H,K=()=>(Y(),Y=le(o,Ae=>n(12,G=Ae)),o),ee,x=H,X=()=>(x(),x=le(i,Ae=>n(13,ee=Ae)),i),fe,he=H,me=()=>(he(),he=le(h,Ae=>n(14,fe=Ae)),h);ne(r,ce,Ae=>n(11,b=Ae)),r.$$.on_destroy.push(()=>S()),r.$$.on_destroy.push(()=>A()),r.$$.on_destroy.push(()=>F()),r.$$.on_destroy.push(()=>j()),r.$$.on_destroy.push(()=>Y()),r.$$.on_destroy.push(()=>x()),r.$$.on_destroy.push(()=>he());const ge=on();ne(r,ge,Ae=>n(24,q=Ae));const pe=zR.getOrError();function Le(){Ll({identifierType:b("table"),body:{component:wR,props:{tableName:t.name}},onProceed:async()=>{await Fc(t.schema,t.oid),Un.goto(Jr(t.schema.database.id,t.schema.oid),!0)}})}const Qe=()=>pe.open();return r.$$.update=()=>{r.$$.dirty&16777216&&n(0,{table:t,columnsDataStore:l,meta:s,canInsertRecords:o,canSelectRecords:i}=q,t,(n(18,l),n(24,q)),(n(19,s),n(24,q)),K(n(10,o)),X(n(9,i))),r.$$.dirty&524288&&P(n(8,{filtering:a,sorting:u,grouping:f}=s,a,V(n(7,u)),T(n(6,f)))),r.$$.dirty&262144&&D(n(5,{columns:c}=l,c)),r.$$.dirty&1&&n(4,m=vR(t.schema.database.id,t.schema.oid,t)),r.$$.dirty&13631489&&n(3,d=YT({database_id:t.schema.database.id,table_oid:t.oid,...B.recordsRequestParamsIncludingGrouping(w),...O.recordsRequestParams()})),r.$$.dirty&3145729&&n(2,g=(()=>AIe(t.schema.database.id,t.schema.oid,{databaseId:t.schema.database.id,schemaOid:t.schema.oid,baseTable:t,columns:M,terseGrouping:w.terse()}))()),r.$$.dirty&1&&me(n(1,{currentRoleOwns:h}=t.currentAccess,h))},[t,h,g,d,m,c,f,u,a,i,o,b,G,ee,fe,ge,pe,Le,l,s,w,M,O,B,q,Qe]}class SUe extends Q{constructor(e){super(),Z(this,e,CUe,yUe,J,{})}}function TUe(r){var a;let e,n,t=r[2]("table_description")+"",l,s,o,i;return o=new Xf({props:{initialValue:(a=r[1].description)!=null?a:"",onSubmit:r[4],isLongText:!0,disabled:r[0]}}),{c(){e=E("div"),n=E("span"),l=L(t),s=N(),C(o.$$.fragment),I(n,"class","label svelte-1akqxt3"),I(e,"class","update-table-description-property-container svelte-1akqxt3")},m(u,f){v(u,e,f),R(e,n),R(n,l),R(e,s),k(o,e,null),i=!0},p(u,[f]){var m;(!i||f&4)&&t!==(t=u[2]("table_description")+"")&&z(l,t);const c={};f&2&&(c.initialValue=(m=u[1].description)!=null?m:""),f&1&&(c.disabled=u[0]),o.$set(c)},i(u){i||(_(o.$$.fragment,u),i=!0)},o(u){p(o.$$.fragment,u),i=!1},d(u){u&&$(e),y(o)}}}function IUe(r,e,n){let t,l,s;ne(r,ce,u=>n(2,s=u));const o=on();ne(r,o,u=>n(5,l=u));let{disabled:i=!1}=e;async function a(u){await vo({schema:t.schema,table:{oid:t.oid,description:u}})}return r.$$set=u=>{"disabled"in u&&n(0,i=u.disabled)},r.$$.update=()=>{r.$$.dirty&32&&n(1,{table:t}=l,t)},[i,t,s,o,a,l]}class EUe extends Q{constructor(e){super(),Z(this,e,IUe,TUe,J,{disabled:0})}}function MUe(r){let e,n,t=r[3]("table_name")+"",l,s,o,i;return o=new Xf({props:{initialValue:r[1].name,onSubmit:r[6],getValidationErrors:r[4],disabled:r[0]}}),{c(){e=E("div"),n=E("span"),l=L(t),s=N(),C(o.$$.fragment),I(n,"class","label svelte-1f6m0j3"),I(e,"class","rename-table-property-container svelte-1f6m0j3")},m(a,u){v(a,e,u),R(e,n),R(n,l),R(e,s),k(o,e,null),i=!0},p(a,[u]){(!i||u&8)&&t!==(t=a[3]("table_name")+"")&&z(l,t);const f={};u&2&&(f.initialValue=a[1].name),u&16&&(f.getValidationErrors=a[4]),u&1&&(f.disabled=a[0]),o.$set(f)},i(a){i||(_(o.$$.fragment,a),i=!0)},o(a){p(o.$$.fragment,a),i=!1},d(a){a&&$(e),y(o)}}}function RUe(r,e,n){let t,l,s,o,i,a=H,u=()=>(a(),a=le(l,d=>n(4,i=d)),l);ne(r,ce,d=>n(3,o=d)),r.$$.on_destroy.push(()=>a());const f=on();ne(r,f,d=>n(7,s=d));let{disabled:c=!1}=e;async function m(d){await vo({schema:t.schema,table:{oid:t.oid,name:d}})}return r.$$set=d=>{"disabled"in d&&n(0,c=d.disabled)},r.$$.update=()=>{r.$$.dirty&128&&n(1,{table:t}=s,t),r.$$.dirty&2&&u(n(2,l=bE(t)))},[c,t,l,o,i,f,m,s]}class DUe extends Q{constructor(e){super(),Z(this,e,RUe,MUe,J,{disabled:0})}}function AUe(r){let e,n,t,l=r[3]("table_permissions")+"",s,o;const i=[Qs];let a={};for(let u=0;u<i.length;u+=1)a=se(a,i[u]);return e=new Ne({props:a}),{c(){C(e.$$.fragment),n=N(),t=E("span"),s=L(l)},m(u,f){k(e,u,f),v(u,n,f),v(u,t,f),R(t,s),o=!0},p(u,f){const c=f&0?de(i,[_e(Qs)]):{};e.$set(c),(!o||f&8)&&l!==(l=u[3]("table_permissions")+"")&&z(s,l)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){p(e.$$.fragment,u),o=!1},d(u){y(e,u),u&&$(n),u&&$(t)}}}function OUe(r){let e,n,t,l,s,o,i;return e=new DUe({props:{disabled:!r[5]}}),t=new EUe({props:{disabled:!r[5]}}),o=new st({props:{appearance:"secondary",size:"small",class:"permissions-button",$$slots:{default:[AUe]},$$scope:{ctx:r}}}),o.$on("click",r[12]),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),s=E("div"),C(o.$$.fragment)},m(a,u){k(e,a,u),v(a,n,u),k(t,a,u),v(a,l,u),v(a,s,u),k(o,s,null),i=!0},p(a,u){const f={};u&32&&(f.disabled=!a[5]),e.$set(f);const c={};u&32&&(c.disabled=!a[5]),t.$set(c);const m={};u&262152&&(m.$$scope={dirty:u,ctx:a}),o.$set(m)},i(a){i||(_(e.$$.fragment,a),_(t.$$.fragment,a),_(o.$$.fragment,a),i=!0)},o(a){p(e.$$.fragment,a),p(t.$$.fragment,a),p(o.$$.fragment,a),i=!1},d(a){y(e,a),a&&$(n),y(t,a),a&&$(l),a&&$(s),y(o)}}}function FUe(r){let e,n;return e=new _Ue({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function NUe(r){let e,n=r[3]("references_help")+"",t,l,s,o,i;return o=new Hr({props:{page:"relationships"}}),{c(){e=E("p"),t=L(n),l=N(),s=E("p"),C(o.$$.fragment)},m(a,u){v(a,e,u),R(e,t),v(a,l,u),v(a,s,u),k(o,s,null),i=!0},p(a,u){(!i||u&8)&&n!==(n=a[3]("references_help")+"")&&z(t,n)},i(a){i||(_(o.$$.fragment,a),i=!0)},o(a){p(o.$$.fragment,a),i=!1},d(a){a&&$(e),a&&$(l),a&&$(s),y(o)}}}function PUe(r){let e,n=r[3]("relationships")+"",t,l,s,o;return s=new zt({props:{$$slots:{default:[NUe]},$$scope:{ctx:r}}}),{c(){e=E("div"),t=L(n),l=N(),C(s.$$.fragment),I(e,"slot","title")},m(i,a){v(i,e,a),R(e,t),R(e,l),k(s,e,null),o=!0},p(i,a){(!o||a&8)&&n!==(n=i[3]("relationships")+"")&&z(t,n);const u={};a&262152&&(u.$$scope={dirty:a,ctx:i}),s.$set(u)},i(i){o||(_(s.$$.fragment,i),o=!0)},o(i){p(s.$$.fragment,i),o=!1},d(i){i&&$(e),y(s)}}}function LUe(r){let e,n;return e=new YVe({props:{tabularData:r[1]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.tabularData=t[1]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function HUe(r){let e,n;return e=new SUe({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function VUe(r){let e,n;return e=new sBe({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function zUe(r){let e,n,t,l,s,o,i,a,u,f,c,m,d,g,h,b,w;function S(V){r[13](V)}let T={title:r[3]("table_properties"),isDbLevelConfiguration:!0,$$slots:{default:[OUe]},$$scope:{ctx:r}};r[4]!==void 0&&(T.isOpen=r[4]),e=new An({props:T}),we.push(()=>Me(e,"isOpen",S));function M(V){r[14](V)}let A={isDbLevelConfiguration:!0,$$slots:{title:[PUe],default:[FUe]},$$scope:{ctx:r}};r[6]!==void 0&&(A.isOpen=r[6]),l=new An({props:A}),we.push(()=>Me(l,"isOpen",M));function D(V){r[15](V)}let O={title:r[3]("record_summary"),$$slots:{default:[LUe]},$$scope:{ctx:r}};r[7]!==void 0&&(O.isOpen=r[7]),i=new An({props:O}),we.push(()=>Me(i,"isOpen",D));function F(V){r[16](V)}let P={title:r[3]("actions"),$$slots:{default:[HUe]},$$scope:{ctx:r}};r[8]!==void 0&&(P.isOpen=r[8]),f=new An({props:P}),we.push(()=>Me(f,"isOpen",F));function B(V){r[17](V)}let j={title:r[3]("advanced"),$$slots:{default:[VUe]},$$scope:{ctx:r}};return r[9]!==void 0&&(j.isOpen=r[9]),d=new An({props:j}),we.push(()=>Me(d,"isOpen",B)),b=new NM({props:{table:r[0],controller:r[11]}}),{c(){C(e.$$.fragment),t=N(),C(l.$$.fragment),o=N(),C(i.$$.fragment),u=N(),C(f.$$.fragment),m=N(),C(d.$$.fragment),h=N(),C(b.$$.fragment)},m(V,q){k(e,V,q),v(V,t,q),k(l,V,q),v(V,o,q),k(i,V,q),v(V,u,q),k(f,V,q),v(V,m,q),k(d,V,q),v(V,h,q),k(b,V,q),w=!0},p(V,[q]){const G={};q&8&&(G.title=V[3]("table_properties")),q&262184&&(G.$$scope={dirty:q,ctx:V}),!n&&q&16&&(n=!0,G.isOpen=V[4],De(()=>n=!1)),e.$set(G);const Y={};q&262152&&(Y.$$scope={dirty:q,ctx:V}),!s&&q&64&&(s=!0,Y.isOpen=V[6],De(()=>s=!1)),l.$set(Y);const K={};q&8&&(K.title=V[3]("record_summary")),q&262146&&(K.$$scope={dirty:q,ctx:V}),!a&&q&128&&(a=!0,K.isOpen=V[7],De(()=>a=!1)),i.$set(K);const ee={};q&8&&(ee.title=V[3]("actions")),q&262144&&(ee.$$scope={dirty:q,ctx:V}),!c&&q&256&&(c=!0,ee.isOpen=V[8],De(()=>c=!1)),f.$set(ee);const x={};q&8&&(x.title=V[3]("advanced")),q&262144&&(x.$$scope={dirty:q,ctx:V}),!g&&q&512&&(g=!0,x.isOpen=V[9],De(()=>g=!1)),d.$set(x);const X={};q&1&&(X.table=V[0]),b.$set(X)},i(V){w||(_(e.$$.fragment,V),_(l.$$.fragment,V),_(i.$$.fragment,V),_(f.$$.fragment,V),_(d.$$.fragment,V),_(b.$$.fragment,V),w=!0)},o(V){p(e.$$.fragment,V),p(l.$$.fragment,V),p(i.$$.fragment,V),p(f.$$.fragment,V),p(d.$$.fragment,V),p(b.$$.fragment,V),w=!1},d(V){y(e,V),V&&$(t),y(l,V),V&&$(o),y(i,V),V&&$(u),y(f,V),V&&$(m),y(d,V),V&&$(h),y(b,V)}}}function BUe(r,e,n){let t,l,s,o,i,a,u=H,f=()=>(u(),u=le(l,O=>n(5,a=O)),l),c,m,d,g;ne(r,ce,O=>n(3,o=O)),ne(r,P0,O=>n(4,i=O)),ne(r,L0,O=>n(6,c=O)),ne(r,H0,O=>n(7,m=O)),ne(r,V0,O=>n(8,d=O)),ne(r,z0,O=>n(9,g=O)),r.$$.on_destroy.push(()=>u());const h=on();ne(r,h,O=>n(1,s=O));const b=un.spawnModalController(),w=()=>b.open();function S(O){i=O,P0.set(i)}function T(O){c=O,L0.set(c)}function M(O){m=O,H0.set(m)}function A(O){d=O,V0.set(d)}function D(O){g=O,z0.set(g)}return r.$$.update=()=>{r.$$.dirty&2&&n(0,{table:t}=s,t),r.$$.dirty&1&&f(n(2,{currentRoleOwns:l}=t.currentAccess,l))},[t,s,l,o,i,a,c,m,d,g,h,b,w,S,T,M,A,D]}class qUe extends Q{constructor(e){super(),Z(this,e,BUe,zUe,J,{})}}function RC(r){let e,n;return e=new qc({props:{$$slots:{default:[UUe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&65&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function UUe(r){let e,n,t;var l=r[0].component;function s(o){return{}}return l&&(e=new l(s())),{c(){e&&C(e.$$.fragment),n=ae()},m(o,i){e&&k(e,o,i),v(o,n,i),t=!0},p(o,i){if(l!==(l=o[0].component)){if(e){U();const a=e;p(a.$$.fragment,1,0,()=>{y(a,1)}),W()}l?(e=new l(s()),C(e.$$.fragment),_(e.$$.fragment,1),k(e,n.parentNode,n)):e=null}},i(o){t||(e&&_(e.$$.fragment,o),t=!0)},o(o){e&&p(e.$$.fragment,o),t=!1},d(o){o&&$(n),e&&y(e,o)}}}function WUe(r){let e,n,t=r[0]&&RC(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[0]?t?(t.p(l,s),s&1&&_(t,1)):(t=RC(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function jUe(r){let e,n,t;return n=new Ua({props:{activeTab:r[0],tabs:r[1],tabStyle:"compact",fillContainerHeight:!0,fillTabWidth:!0,$$slots:{default:[WUe]},$$scope:{ctx:r}}}),n.$on("tabSelected",r[2]),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","table-inspector svelte-19tx2g8")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,[s]){const o={};s&1&&(o.activeTab=l[0]),s&2&&(o.tabs=l[1]),s&65&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function YUe(r,e,n){let t,l,s;ne(r,ce,u=>n(4,s=u));const o={table:{label:s("table"),component:qUe},column:{label:s("column"),component:RVe},record:{label:s("record"),component:qVe},cell:{label:s("cell"),component:FLe}};let{activeTabId:i}=e;function a(u){n(3,i=u.detail.tab.id)}return r.$$set=u=>{"activeTabId"in u&&n(3,i=u.activeTabId)},r.$$.update=()=>{r.$$.dirty&8&&n(0,l=Rr(i,u=>({id:u,...o[u]})))},n(1,t=Object.entries(o).map(([u,f])=>({id:u,...f}))),[l,t,a,i]}class GUe extends Q{constructor(e){super(),Z(this,e,YUe,jUe,J,{activeTabId:3})}}function KUe(r){let e,n,t;function l(o){r[6](o)}let s={showPanel:r[2],minSizePx:200,maxSizePx:600,$$slots:{panel:[ZUe],default:[JUe]},$$scope:{ctx:r}};return r[3]!==void 0&&(s.sizePx=r[3]),e=new gc({props:s}),we.push(()=>Me(e,"sizePx",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};i&4&&(a.showPanel=o[2]),i&129&&(a.$$scope={dirty:i,ctx:o}),!n&&i&8&&(n=!0,a.sizePx=o[3],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function XUe(r){let e;const n=r[4].default,t=ke(n,r,r[7],null);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&128)&&Ce(t,n,l,l[7],e?ye(n,l[7],s,null):Se(l[7]),null)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function JUe(r){let e;const n=r[4].default,t=ke(n,r,r[7],null);return{c(){t&&t.c()},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&128)&&Ce(t,n,l,l[7],e?ye(n,l[7],s,null):Se(l[7]),null)},i(l){e||(_(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function ZUe(r){let e,n,t;function l(o){r[5](o)}let s={slot:"panel"};return r[0]!==void 0&&(s.activeTabId=r[0]),e=new GUe({props:s}),we.push(()=>Me(e,"activeTabId",l)),{c(){C(e.$$.fragment)},m(o,i){k(e,o,i),t=!0},p(o,i){const a={};!n&&i&1&&(n=!0,a.activeTabId=o[0],De(()=>n=!1)),e.$set(a)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function QUe(r){let e,n,t,l;const s=[XUe,KUe],o=[];function i(a,u){return a[1]==="widget"?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,[u]){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function xUe(r,e,n){let t;ne(r,N0,c=>n(3,t=c));let{$$slots:l={},$$scope:s}=e,{context:o}=e,{showTableInspector:i}=e,{activeTabId:a=void 0}=e;function u(c){a=c,n(0,a)}function f(c){t=c,N0.set(t)}return r.$$set=c=>{"context"in c&&n(1,o=c.context),"showTableInspector"in c&&n(2,i=c.showTableInspector),"activeTabId"in c&&n(0,a=c.activeTabId),"$$scope"in c&&n(7,s=c.$$scope)},[a,o,i,t,l,u,f,s]}class eWe extends Q{constructor(e){super(),Z(this,e,xUe,QUe,J,{context:1,showTableInspector:2,activeTabId:0})}}function*tWe(r){var e;for(const n of r){const t=(e=n.column.metadata)==null?void 0:e.display_width;if(!t)continue;yield[n.id,t]}}function nWe(r){let e,n,t;return n=new Gt({}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","loading-sheet svelte-1mbd7wj")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p:H,i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function rWe(r){let e,n,t,l,s;function o(f){r[36](f)}function i(f){r[37](f)}function a(f){r[38](f)}let u={clipboardHandler:r[16],columnWidths:r[11],selection:r[4],usesVirtualList:r[19],onCellSelectionStart:r[34],onCellContextMenu:r[35],columns:r[12],getColumnIdentifier:iWe,hasBorder:r[18],hasPaddingRight:!0,restrictWidthToRowWidth:!r[19],$$slots:{default:[lWe]},$$scope:{ctx:r}};return r[21]!==void 0&&(u.horizontalScrollOffset=r[21]),r[22]!==void 0&&(u.scrollOffset=r[22]),r[0]!==void 0&&(u.sheetElement=r[0]),e=new xp({props:u}),we.push(()=>Me(e,"horizontalScrollOffset",o)),we.push(()=>Me(e,"scrollOffset",i)),we.push(()=>Me(e,"sheetElement",a)),{c(){C(e.$$.fragment)},m(f,c){k(e,f,c),s=!0},p(f,c){const m={};c[0]&65536&&(m.clipboardHandler=f[16]),c[0]&2048&&(m.columnWidths=f[11]),c[0]&16&&(m.selection=f[4]),c[0]&524288&&(m.usesVirtualList=f[19]),c[0]&512&&(m.onCellSelectionStart=f[34]),c[0]&256&&(m.onCellContextMenu=f[35]),c[0]&4096&&(m.columns=f[12]),c[0]&262144&&(m.hasBorder=f[18]),c[0]&524288&&(m.restrictWidthToRowWidth=!f[19]),c[0]&532492|c[1]&1024&&(m.$$scope={dirty:c,ctx:f}),!n&&c[0]&2097152&&(n=!0,m.horizontalScrollOffset=f[21],De(()=>n=!1)),!t&&c[0]&4194304&&(t=!0,m.scrollOffset=f[22],De(()=>t=!1)),!l&&c[0]&1&&(l=!0,m.sheetElement=f[0],De(()=>l=!1)),e.$set(m)},i(f){s||(_(e.$$.fragment,f),s=!0)},o(f){p(e.$$.fragment,f),s=!1},d(f){y(e,f)}}}function lWe(r){let e,n,t,l;return e=new NPe({props:{hasNewColumnButton:r[3],columnOrder:r[13],table:r[2]}}),t=new DNe({props:{usesVirtualList:r[19]}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(s,o){k(e,s,o),v(s,n,o),k(t,s,o),l=!0},p(s,o){const i={};o[0]&8&&(i.hasNewColumnButton=s[3]),o[0]&8192&&(i.columnOrder=s[13]),o[0]&4&&(i.table=s[2]),e.$set(i);const a={};o[0]&524288&&(a.usesVirtualList=s[19]),t.$set(a)},i(s){l||(_(e.$$.fragment,s),_(t.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),l=!1},d(s){y(e,s),s&&$(n),y(t,s)}}}function sWe(r){let e,n,t,l;const s=[rWe,nWe],o=[];function i(a,u){return a[7].size?0:a[23]?1:-1}return~(n=i(r))&&(t=o[n]=s[n](r)),{c(){e=E("div"),t&&t.c(),I(e,"class","sheet-area svelte-1mbd7wj")},m(a,u){v(a,e,u),~n&&o[n].m(e,null),l=!0},p(a,u){let f=n;n=i(a),n===f?~n&&o[n].p(a,u):(t&&(U(),p(o[f],1,1,()=>{o[f]=null}),W()),~n?(t=o[n],t?t.p(a,u):(t=o[n]=s[n](a),t.c()),_(t,1),t.m(e,null)):t=null)},i(a){l||(_(t),l=!0)},o(a){p(t),l=!1},d(a){a&&$(e),~n&&o[n].d()}}}function oWe(r){let e,n,t,l,s,o,i,a;function u(c){r[39](c)}let f={context:r[1],showTableInspector:r[10],$$slots:{default:[sWe]},$$scope:{ctx:r}};return r[9]!==void 0&&(f.activeTabId=r[9]),n=new eWe({props:f}),we.push(()=>Me(n,"activeTabId",u)),s=new DLe({props:{context:r[1]}}),i=new TLe({props:{controller:r[25],table:r[2],tableColumns:r[7],onFinish:r[40]}}),{c(){e=E("div"),C(n.$$.fragment),l=N(),C(s.$$.fragment),o=N(),C(i.$$.fragment),I(e,"class","table-view svelte-1mbd7wj")},m(c,m){v(c,e,m),k(n,e,null),R(e,l),k(s,e,null),v(c,o,m),k(i,c,m),a=!0},p(c,m){const d={};m[0]&2&&(d.context=c[1]),m[0]&1024&&(d.showTableInspector=c[10]),m[0]&15547293|m[1]&1024&&(d.$$scope={dirty:m,ctx:c}),!t&&m[0]&512&&(t=!0,d.activeTabId=c[9],De(()=>t=!1)),n.$set(d);const g={};m[0]&2&&(g.context=c[1]),s.$set(g);const h={};m[0]&4&&(h.table=c[2]),m[0]&128&&(h.tableColumns=c[7]),m[0]&32&&(h.onFinish=c[40]),i.$set(h)},i(c){a||(_(n.$$.fragment,c),_(s.$$.fragment,c),_(i.$$.fragment,c),a=!0)},o(c){p(n.$$.fragment,c),p(s.$$.fragment,c),p(i.$$.fragment,c),a=!1},d(c){c&&$(e),y(n),y(s),c&&$(o),y(i,c)}}}const iWe=r=>r.column.id;function aWe(r,e,n){let t,l,s,o,i,a,u,f,c,m,d,g,h,b,w,S,T,M,A,D=H,O=()=>(D(),D=le(o,Oe=>n(7,A=Oe)),o),F,P=H,B=()=>(P(),P=le(t,Oe=>n(32,F=Oe)),t),j,V,q,G=H,Y=()=>(G(),G=le(m,Oe=>n(21,q=Oe)),m),K,ee=H,x=()=>(ee(),ee=le(d,Oe=>n(22,K=Oe)),d),X,fe=H,he=()=>(fe(),fe=le(a,Oe=>n(23,X=Oe)),a);ne(r,ad,Oe=>n(31,M=Oe)),ne(r,ce,Oe=>n(33,j=Oe)),r.$$.on_destroy.push(()=>D()),r.$$.on_destroy.push(()=>P()),r.$$.on_destroy.push(()=>G()),r.$$.on_destroy.push(()=>ee()),r.$$.on_destroy.push(()=>fe());const me=on();ne(r,me,Oe=>n(8,V=Oe));const ge=un.spawnModalController();zR.set(ge);const pe=LE.get(),Le=nu.get(),Qe=gu.get();let{context:Ae="page"}=e,{table:Je}=e,{sheetElement:ze=void 0}=e,Ve="table";const Be=Oe=>{Oe.type==="column-header-cell"&&n(9,Ve="column"),Oe.type==="row-header-cell"&&n(9,Ve="record")},qe=({targetCell:Oe,position:_t})=>pe?xNe({targetCell:Oe,position:_t,contextMenu:pe,modalRecordView:Le,tabularData:V,imperativeFilterController:Qe}):"empty";function ft(Oe){q=Oe,m.set(q)}function vt(Oe){K=Oe,d.set(K)}function ut(Oe){ze=Oe,n(0,ze)}function Xe(Oe){Ve=Oe,n(9,Ve)}const dt=()=>{f.fetch()};return r.$$set=Oe=>{"context"in Oe&&n(1,Ae=Oe.context),"table"in Oe&&n(2,Je=Oe.table),"sheetElement"in Oe&&n(0,ze=Oe.sheetElement)},r.$$.update=()=>{var Oe,_t;r.$$.dirty[0]&4&&B(n(20,{currentRoleOwns:t}=Je.currentAccess,t)),r.$$.dirty[0]&2&&n(19,l=Ae!=="widget"),r.$$.dirty[0]&2&&n(18,s=Ae==="widget"),r.$$.dirty[0]&256&&O(n(6,{processedColumns:o,display:i,isLoading:a,selection:u,recordsData:f}=V,o,(n(30,i),n(8,V)),he(n(17,a)),(n(4,u),n(8,V)),(n(5,f),n(8,V)))),r.$$.dirty[0]&112|r.$$.dirty[1]&4&&n(16,c=new pR({copyingContext:{getRows:()=>new Map(Ln(([Fe,mt])=>[Fe,mt.record],ve(f.selectableRowsMap))),getColumns:()=>NFe(ve(o)),getRecordSummaries:()=>ve(f.linkedRecordSummaries)},pastingContext:{getRecordRows:()=>[...ve(f.fetchedRecordRows),...ve(f.newRecords)],getSheetColumns:()=>[...Ln(({column:Fe})=>Fe,ve(o).values())],bulkDml:(...Fe)=>f.bulkDml(...Fe),confirm:Fe=>ml({title:Fe,body:[],proceedButton:{label:j("paste"),icon:VT}})},selection:u,showToastInfo:$t.info,showToastError:$t.error})),r.$$.dirty[0]&1073741824&&Y(n(15,{horizontalScrollOffset:m,scrollOffset:d}=i,m,x(n(14,d)))),r.$$.dirty[0]&4&&n(13,g=(_t=(Oe=Je.metadata)==null?void 0:Oe.column_order)!=null?_t:[]),r.$$.dirty[0]&2|r.$$.dirty[1]&2&&n(3,h=Ae!=="widget"&&F),r.$$.dirty[0]&2&&n(29,b=Ae==="page"),r.$$.dirty[0]&136&&n(12,w=(()=>{const Fe=[{column:{id:If,name:"ROW_CONTROL"}},...A.values()];return h&&Fe.push({column:{id:vd,name:"ADD_NEW"}}),Fe})()),r.$$.dirty[0]&128&&n(11,S=new Ct([[If,eI],[vd,32],...tWe(A.values())])),r.$$.dirty[0]&536870912|r.$$.dirty[1]&1&&n(10,T=M&&b)},[ze,Ae,Je,h,u,f,o,A,V,Ve,T,S,w,g,d,m,c,a,s,l,t,q,K,X,me,ge,pe,Le,Qe,b,i,M,F,j,Be,qe,ft,vt,ut,Xe,dt]}class jR extends Q{constructor(e){super(),Z(this,e,aWe,oWe,J,{context:1,table:2,sheetElement:0},null,[-1,-1])}}function DC(r){let e,n;return e=new rn({props:{table:r[1],truncate:!1}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.table=t[1]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function AC(r){let e,n;return e=new Qn({props:{icon:vc,truncate:!1,bold:!0,$$slots:{default:[uWe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8193&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function uWe(r){let e;return{c(){e=L(r[0])},m(n,t){v(n,e,t)},p(n,t){t&1&&z(e,n[0])},d(n){n&&$(e)}}}function OC(r){let e,n;return e=new Gn({props:{column:{name:r[2].name,type:"unknown",type_options:null,metadata:r[2].metadata,constraintsType:["foreignkey"]},truncate:!1,bold:!0}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&4&&(s.column={name:t[2].name,type:"unknown",type_options:null,metadata:t[2].metadata,constraintsType:["foreignkey"]}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function fWe(r){let e,n,t,l,s=r[12]==="tableName"&&DC(r),o=r[12]==="recordSummary"&&AC(r),i=r[12]==="columnName"&&OC(r);return{c(){s&&s.c(),e=N(),o&&o.c(),n=N(),i&&i.c(),t=ae()},m(a,u){s&&s.m(a,u),v(a,e,u),o&&o.m(a,u),v(a,n,u),i&&i.m(a,u),v(a,t,u),l=!0},p(a,u){a[12]==="tableName"?s?(s.p(a,u),u&4096&&_(s,1)):(s=DC(a),s.c(),_(s,1),s.m(e.parentNode,e)):s&&(U(),p(s,1,1,()=>{s=null}),W()),a[12]==="recordSummary"?o?(o.p(a,u),u&4096&&_(o,1)):(o=AC(a),o.c(),_(o,1),o.m(n.parentNode,n)):o&&(U(),p(o,1,1,()=>{o=null}),W()),a[12]==="columnName"?i?(i.p(a,u),u&4096&&_(i,1)):(i=OC(a),i.c(),_(i,1),i.m(t.parentNode,t)):i&&(U(),p(i,1,1,()=>{i=null}),W())},i(a){l||(_(s),_(o),_(i),l=!0)},o(a){p(s),p(o),p(i),l=!1},d(a){s&&s.d(a),a&&$(e),o&&o.d(a),a&&$(n),i&&i.d(a),a&&$(t)}}}function cWe(r){let e,n;return e=new ot({props:{text:r[5]("related_records_help"),$$slots:{default:[fWe,({slotName:t})=>({12:t}),({slotName:t})=>t?4096:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&32&&(s.text=t[5]("related_records_help")),l&12295&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function FC(r){let e,n;return e=new FFe({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function mWe(r){let e,n;return e=new ur({props:{fullWidth:!0,$$slots:{default:[_We]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8224&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function dWe(r){let e,n;return e=new jR({props:{context:"widget",table:r[1]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.table=t[1]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function _We(r){let e=r[5]("no_privileges_view_table")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&32&&e!==(e=t[5]("no_privileges_view_table")+"")&&z(n,e)},d(t){t&&$(n)}}}function pWe(r){let e,n,t,l,s,o,i,a,u,f,c,m;l=new rn({props:{table:r[1],truncate:!1}}),o=new zt({props:{$$slots:{default:[cWe]},$$scope:{ctx:r}}});let d=r[3]&&FC();const g=[dWe,mWe],h=[];function b(w,S){return w[3]?0:1}return f=b(r),c=h[f]=g[f](r),{c(){e=E("div"),n=E("div"),t=E("h3"),C(l.$$.fragment),s=N(),C(o.$$.fragment),i=N(),d&&d.c(),a=N(),u=E("div"),c.c(),I(t,"class","bold-header svelte-1izqfci"),I(n,"class","top svelte-1izqfci"),I(u,"class","results svelte-1izqfci"),I(e,"class","table-widget")},m(w,S){v(w,e,S),R(e,n),R(n,t),k(l,t,null),R(t,s),k(o,t,null),R(n,i),d&&d.m(n,null),R(e,a),R(e,u),h[f].m(u,null),m=!0},p(w,[S]){const T={};S&2&&(T.table=w[1]),l.$set(T);const M={};S&8231&&(M.$$scope={dirty:S,ctx:w}),o.$set(M),w[3]?d?S&8&&_(d,1):(d=FC(),d.c(),_(d,1),d.m(n,null)):d&&(U(),p(d,1,1,()=>{d=null}),W());let A=f;f=b(w),f===A?h[f].p(w,S):(U(),p(h[A],1,1,()=>{h[A]=null}),W(),c=h[f],c?c.p(w,S):(c=h[f]=g[f](w),c.c()),_(c,1),c.m(u,null))},i(w){m||(_(l.$$.fragment,w),_(o.$$.fragment,w),_(d),_(c),m=!0)},o(w){p(l.$$.fragment,w),p(o.$$.fragment,w),p(d),p(c),m=!1},d(w){w&&$(e),y(l),y(o),d&&d.d(),h[f].d()}}}function gWe(r,e,n){let t,l,s,o,i=H,a=()=>(i(),i=le(l,w=>n(8,o=w)),l),u;ne(r,ce,w=>n(5,u=w)),r.$$.on_destroy.push(()=>i());const f=wp(void 0),c=new ki({pagination:new Or({size:10})}),m=new AR;gu.set(m);let{recordPk:d}=e,{recordSummary:g}=e,{table:h}=e,{fkColumn:b}=e;return r.$$set=w=>{"recordPk"in w&&n(6,d=w.recordPk),"recordSummary"in w&&n(0,g=w.recordSummary),"table"in w&&n(1,h=w.table),"fkColumn"in w&&n(2,b=w.fkColumn)},r.$$.update=()=>{r.$$.dirty&70&&n(7,t=new vp({database:h.schema.database,table:h,meta:c,contextualFilters:new Map([[b.id,d]])})),r.$$.dirty&128&&f.set(t),r.$$.dirty&2&&a(n(4,{currentRolePrivileges:l}=h.currentAccess,l)),r.$$.dirty&256&&n(3,s=o.has("SELECT"))},[g,h,b,s,l,u,d,t,o]}class hWe extends Q{constructor(e){super(),Z(this,e,gWe,pWe,J,{recordPk:6,recordSummary:0,table:1,fkColumn:2})}}function NC(r,e,n){const t=r.slice();return t[6]=e[n].table,t[7]=e[n].fkColumn,t}function bWe(r){let e;return{c(){e=E("div"),I(e,"class","no-widgets svelte-8vf0l5")},m(n,t){v(n,e,t)},p:H,i:H,o:H,d(n){n&&$(e)}}}function $We(r){let e,n=[],t=new Map,l,s=r[2];const o=i=>`${i[6].oid}-${i[7].id}`;for(let i=0;i<s.length;i+=1){let a=NC(r,s,i),u=o(a);t.set(u,n[i]=PC(u,a))}return{c(){e=E("div");for(let i=0;i<n.length;i+=1)n[i].c();I(e,"class","widgets")},m(i,a){v(i,e,a);for(let u=0;u<n.length;u+=1)n[u].m(e,null);l=!0},p(i,a){a&7&&(s=i[2],U(),n=ht(n,a,o,1,i,s,t,e,kt,PC,null,NC),W())},i(i){if(!l){for(let a=0;a<s.length;a+=1)_(n[a]);l=!0}},o(i){for(let a=0;a<n.length;a+=1)p(n[a]);l=!1},d(i){i&&$(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function PC(r,e){let n,t,l,s;return t=new hWe({props:{recordPk:e[0],recordSummary:e[1],table:e[6],fkColumn:e[7]}}),{key:r,first:null,c(){n=E("section"),C(t.$$.fragment),l=N(),I(n,"class","table-widget-positioner svelte-8vf0l5"),this.first=n},m(o,i){v(o,n,i),k(t,n,null),R(n,l),s=!0},p(o,i){e=o;const a={};i&1&&(a.recordPk=e[0]),i&2&&(a.recordSummary=e[1]),i&4&&(a.table=e[6]),i&4&&(a.fkColumn=e[7]),t.$set(a)},i(o){s||(_(t.$$.fragment,o),s=!0)},o(o){p(t.$$.fragment,o),s=!1},d(o){o&&$(n),y(t)}}}function vWe(r){let e,n,t,l;const s=[$We,bWe],o=[];function i(a,u){return a[2].length?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,[u]){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function wWe(r,e,n){let t,l;ne(r,_r,u=>n(4,l=u));let{recordPk:s}=e,{recordSummary:o}=e,{joinableTablesResult:i}=e;function a(u){const f=l.tablesMap.get(u.target);if(!f)return;const c=u.join_path[0].slice(-1)[0][1],{name:m}=i.target_table_info[f.oid].columns[c];return{table:f,fkColumn:{id:c,name:m,metadata:null}}}return r.$$set=u=>{"recordPk"in u&&n(0,s=u.recordPk),"recordSummary"in u&&n(1,o=u.recordSummary),"joinableTablesResult"in u&&n(3,i=u.joinableTablesResult)},r.$$.update=()=>{r.$$.dirty&8&&n(2,t=i.joinable_tables.filter(u=>u.multiple_results).map(a).filter(At).sort((u,f)=>u.table.name.localeCompare(f.table.name)))},[s,o,t,i]}class YR extends Q{constructor(e){super(),Z(this,e,wWe,vWe,J,{recordPk:0,recordSummary:1,joinableTablesResult:3})}}function LC(r,e,n){const t=r.slice();return t[23]=e[n].field,t[24]=e[n].processedColumn,t}function HC(r,e){let n,t,l;return t=new DR({props:{record:e[0],processedColumn:e[24],field:e[23],canUpdateTableRecords:e[9]}}),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(s,o){v(s,n,o),k(t,s,o),l=!0},p(s,o){e=s;const i={};o&1&&(i.record=e[0]),o&8&&(i.processedColumn=e[24]),o&8&&(i.field=e[23]),o&512&&(i.canUpdateTableRecords=e[9]),t.$set(i)},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){s&&$(n),y(t,s)}}}function VC(r){let e,n,t;return n=new yn({props:{form:r[4],catchErrors:!0,proceedButton:{label:r[12]("save"),icon:ls},cancelButton:{label:r[12]("discard_changes"),icon:cl},onProceed:r[15],getErrorMessages:r[20],initiallyHidden:!0}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","submit svelte-t2ca8")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&16&&(o.form=l[4]),s&4096&&(o.proceedButton={label:l[12]("save"),icon:ls}),s&4096&&(o.cancelButton={label:l[12]("discard_changes"),icon:cl}),s&4&&(o.getErrorMessages=l[20]),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function kWe(r){return{c:H,m:H,p:H,i:H,o:H,d:H}}function yWe(r){let e,n;return e=new YR({props:{joinableTablesResult:r[22],recordPk:r[7],recordSummary:r[13]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.joinableTablesResult=t[22]),l&128&&(s.recordPk=t[7]),l&8192&&(s.recordSummary=t[13]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function CWe(r){return{c:H,m:H,p:H,i:H,o:H,d:H}}function SWe(r){let e,n,t,l,s,o,i,a,u=[],f=new Map,c,m,d,g,h,b;l=new jOe({props:{record:r[0]}}),o=new RR({props:{form:r[4]}});let w=r[3];const S=A=>A[24].id;for(let A=0;A<w.length;A+=1){let D=LC(r,w,A),O=S(D);f.set(O,u[A]=HC(O,D))}let T=r[11].hasChanges&&VC(r),M={ctx:r,current:null,token:null,hasCatch:!1,pending:CWe,then:yWe,catch:kWe,value:22,blocks:[,,,]};return Wl(d=r[14](r[1].oid),M),{c(){e=E("div"),n=E("div"),t=E("div"),C(l.$$.fragment),s=N(),C(o.$$.fragment),i=N(),a=E("div");for(let A=0;A<u.length;A+=1)u[A].c();c=N(),T&&T.c(),m=N(),M.block.c(),I(t,"class","record-title svelte-t2ca8"),I(n,"class","title-bar svelte-t2ca8"),I(a,"class","fields svelte-t2ca8"),I(e,"class","modal-record-view-content")},m(A,D){v(A,e,D),R(e,n),R(n,t),k(l,t,null),R(n,s),k(o,n,null),R(e,i),R(e,a);for(let O=0;O<u.length;O+=1)u[O].m(a,null);R(e,c),T&&T.m(e,null),R(e,m),M.block.m(e,M.anchor=null),M.mount=()=>e,M.anchor=null,g=!0,h||(b=Dt(jG.call(null,n)),h=!0)},p(A,[D]){r=A;const O={};D&1&&(O.record=r[0]),l.$set(O);const F={};D&16&&(F.form=r[4]),o.$set(F),D&521&&(w=r[3],U(),u=ht(u,D,S,1,r,w,f,a,kt,HC,null,LC),W()),r[11].hasChanges?T?(T.p(r,D),D&2048&&_(T,1)):(T=VC(r),T.c(),_(T,1),T.m(e,m)):T&&(U(),p(T,1,1,()=>{T=null}),W()),M.ctx=r,D&2&&d!==(d=r[14](r[1].oid))&&Wl(d,M)||Fa(M,r,D)},i(A){if(!g){_(l.$$.fragment,A),_(o.$$.fragment,A);for(let D=0;D<w.length;D+=1)_(u[D]);_(T),_(M.block),g=!0}},o(A){p(l.$$.fragment,A),p(o.$$.fragment,A);for(let D=0;D<u.length;D+=1)p(u[D]);p(T);for(let D=0;D<3;D+=1){const O=M.blocks[D];p(O)}g=!1},d(A){A&&$(e),y(l),y(o);for(let D=0;D<u.length;D+=1)u[D].d();T&&T.d(),M.block.d(),M.token=null,M=null,h=!1,b()}}}function TWe(r,e,n){let t,l,s,o,i,a,u,f,c,m,d,g,h=H,b=()=>(h(),h=le(d,X=>n(11,g=X)),d),w,S=H,T=()=>(S(),S=le(i,X=>n(17,w=X)),i),M,A=H,D=()=>(A(),A=le(f,X=>n(18,M=X)),f),O,F=H,P=()=>(F(),F=le(s,X=>n(19,O=X)),s),B,j,V=H,q=()=>(V(),V=le(u,X=>n(13,j=X)),u);ne(r,ce,X=>n(12,B=X)),r.$$.on_destroy.push(()=>h()),r.$$.on_destroy.push(()=>S()),r.$$.on_destroy.push(()=>A()),r.$$.on_destroy.push(()=>F()),r.$$.on_destroy.push(()=>V());let{record:G}=e;function Y(X){return Ke.tables.list_joinable({database_id:t.schema.database.id,table_oid:X,max_depth:1}).run()}function K(X){const fe=w.get(parseInt(X,10));return fe?!fe.column.primary_key:!1}async function ee(){const X=Object.entries(g.values),fe=Object.fromEntries(X.filter(([he])=>K(he)));await G.patch(fe)}const x=X=>{var me;const{columnErrors:fe,recordErrors:he}=u1(X);for(const[ge,pe]of fe)(me=m[ge])==null||me.serverErrors.set(pe);return he};return r.$$set=X=>{"record"in X&&n(0,G=X.record)},r.$$.update=()=>{r.$$.dirty&1&&n(1,{table:t,tableStructure:l}=G,t,(n(16,l),n(0,G))),r.$$.dirty&2&&P(n(10,{currentRolePrivileges:s}=t.currentAccess,s)),r.$$.dirty&524288&&n(9,o=O.has("UPDATE")),r.$$.dirty&65536&&T(n(8,{processedColumns:i}=l,i)),r.$$.dirty&1&&n(7,{recordPk:a,summary:u,fieldValues:f}=G,a,q(n(6,u)),D(n(5,f))),r.$$.dirty&393216&&n(3,c=[...w.values()].map(X=>({processedColumn:X,field:er(M.get(X.id))}))),r.$$.dirty&8&&n(2,m=Object.fromEntries(c.map(X=>[X.processedColumn.id,X.field]))),r.$$.dirty&4&&b(n(4,d=Wt(m)))},[G,t,m,c,d,f,u,a,i,o,s,g,B,j,Y,ee,l,w,M,O,x]}class IWe extends Q{constructor(e){super(),Z(this,e,TWe,SWe,J,{record:0})}}function EWe(r){let e,n;return e=new IWe({props:{record:r[1]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.record=t[1]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function MWe(r){let e,n;return e=new f1({props:{$$slots:{default:[EWe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&6&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function RWe(r){let e,n;return e=new ER({props:{record:r[1],$$slots:{default:[MWe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.record=t[1]),l&6&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function DWe(r){let e,n;return e=new Yn({props:{controller:r[0],size:"large",$$slots:{default:[RWe,({options:t})=>({1:t}),({options:t})=>t?2:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.controller=t[0]),l&6&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function AWe(r,e,n){let{controller:t}=e;return r.$$set=l=>{"controller"in l&&n(0,t=l.controller)},[t]}class OWe extends Q{constructor(e){super(),Z(this,e,AWe,DWe,J,{controller:0})}}function FWe(r){let e,n,t;const l=r[2].default,s=ke(l,r,r[1],null);return n=new OWe({props:{controller:r[0]}}),{c(){s&&s.c(),e=N(),C(n.$$.fragment)},m(o,i){s&&s.m(o,i),v(o,e,i),k(n,o,i),t=!0},p(o,[i]){s&&s.p&&(!t||i&2)&&Ce(s,l,o,o[1],t?ye(l,o[1],i,null):Se(o[1]),null)},i(o){t||(_(s,o),_(n.$$.fragment,o),t=!0)},o(o){p(s,o),p(n.$$.fragment,o),t=!1},d(o){s&&s.d(o),o&&$(e),y(n,o)}}}function NWe(r,e,n){let{$$slots:t={},$$scope:l}=e;const s=un.spawnModalController();return nu.set(s),r.$$set=o=>{"$$scope"in o&&n(1,l=o.$$scope)},[s,l,t]}class f1 extends Q{constructor(e){super(),Z(this,e,NWe,FWe,J,{})}}function zC(r){let e,n,t,l,s,o,i;return n=new OR({props:{filtering:r[5],canViewLinkedEntities:BWe}}),l=new NR({props:{sorting:r[4]}}),o=new FR({props:{grouping:r[3]}}),{c(){e=E("div"),C(n.$$.fragment),t=N(),C(l.$$.fragment),s=N(),C(o.$$.fragment),I(e,"class","quick-access svelte-18ndiuq")},m(a,u){v(a,e,u),k(n,e,null),R(e,t),k(l,e,null),R(e,s),k(o,e,null),i=!0},p(a,u){const f={};u&32&&(f.filtering=a[5]),n.$set(f);const c={};u&16&&(c.sorting=a[4]),l.$set(c);const m={};u&8&&(m.grouping=a[3]),o.$set(m)},i(a){i||(_(n.$$.fragment,a),_(l.$$.fragment,a),_(o.$$.fragment,a),i=!0)},o(a){p(n.$$.fragment,a),p(l.$$.fragment,a),p(o.$$.fragment,a),i=!1},d(a){a&&$(e),y(n),y(l),y(o)}}}function BC(r){let e,n,t;return n=new On({props:{allowHover:!0,$$slots:{content:[LWe],trigger:[PWe]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","no-pk-warning svelte-18ndiuq")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&532480&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function PWe(r){let e,n,t;const l=[{size:"1.3em"},T0];let s={};for(let o=0;o<l.length;o+=1)s=se(s,l[o]);return n=new Ne({props:s}),{c(){e=E("div"),C(n.$$.fragment),I(e,"slot","trigger")},m(o,i){v(o,e,i),k(n,e,null),t=!0},p(o,i){const a=i&0?de(l,[l[0],_e(T0)]):{};n.$set(a)},i(o){t||(_(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&$(e),y(n)}}}function LWe(r){let e,n=r[13]("no_row_op_support_table_without_pk")+"",t;return{c(){e=E("span"),t=L(n),I(e,"slot","content")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&8192&&n!==(n=l[13]("no_row_op_support_table_without_pk")+"")&&z(t,n)},d(l){l&&$(e)}}}function HWe(r){let e,n,t,l,s,o=r[1]&&zC(r);n=new MR({props:{requestState:r[11]}});let i=!r[9]&&!r[12]&&BC(r);return{c(){o&&o.c(),e=N(),C(n.$$.fragment),t=N(),i&&i.c(),l=ae()},m(a,u){o&&o.m(a,u),v(a,e,u),k(n,a,u),v(a,t,u),i&&i.m(a,u),v(a,l,u),s=!0},p(a,u){a[1]?o?(o.p(a,u),u&2&&_(o,1)):(o=zC(a),o.c(),_(o,1),o.m(e.parentNode,e)):o&&(U(),p(o,1,1,()=>{o=null}),W());const f={};u&2048&&(f.requestState=a[11]),n.$set(f),!a[9]&&!a[12]?i?(i.p(a,u),u&4608&&_(i,1)):(i=BC(a),i.c(),_(i,1),i.m(l.parentNode,l)):i&&(U(),p(i,1,1,()=>{i=null}),W())},i(a){s||(_(o),_(n.$$.fragment,a),_(i),s=!0)},o(a){p(o),p(n.$$.fragment,a),p(i),s=!1},d(a){o&&o.d(a),a&&$(e),y(n,a),a&&$(t),i&&i.d(a),a&&$(l)}}}function qC(r){let e,n;return e=new Kp({props:{disabled:r[9],active:r[10],toggle:r[15]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&512&&(s.disabled=t[9]),l&1024&&(s.active=t[10]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function VWe(r){let e,n,t=r[1]&&qC(r);return{c(){e=E("div"),t&&t.c(),I(e,"class","aux-actions svelte-18ndiuq"),I(e,"slot","actions-right")},m(l,s){v(l,e,s),t&&t.m(e,null),n=!0},p(l,s){l[1]?t?(t.p(l,s),s&2&&_(t,1)):(t=qC(l),t.c(),_(t,1),t.m(e,null)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){l&&$(e),t&&t.d()}}}function zWe(r){var l;let e,n,t;return e=new Gp({props:{title:{name:r[0].name,description:(l=r[0].description)!=null?l:void 0,icon:ss},$$slots:{"actions-right":[VWe],default:[HWe]},$$scope:{ctx:r}}}),{c(){n=E("div"),C(e.$$.fragment),ln(n,"display","contents"),ln(n,"--icon-fill-color","linear-gradient(135deg, var(--color-table), var(--color-table-80))"),ln(n,"--icon-stroke-color","var(--color-fg-inverted)")},m(s,o){v(s,n,o),k(e,n,null),t=!0},p(s,[o]){var a;const i={};o&1&&(i.title={name:s[0].name,description:(a=s[0].description)!=null?a:void 0,icon:ss}),o&540218&&(i.$$scope={dirty:o,ctx:s}),e.$set(i)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){s&&$(n),y(e,s)}}}const BWe=!0;function qWe(r,e,n){let t,l,s,o,i,a,u,f,c,m,d,g=H,h=()=>(g(),g=le(i,G=>n(17,d=G)),i),b,w,S=H,T=()=>(S(),S=le(s,G=>n(9,w=G)),s),M,A,D=H,O=()=>(D(),D=le(c,G=>n(11,A=G)),c),F,P=H,B=()=>(P(),P=le(o,G=>n(12,F=G)),o),j;ne(r,ad,G=>n(10,M=G)),ne(r,ce,G=>n(13,j=G)),r.$$.on_destroy.push(()=>g()),r.$$.on_destroy.push(()=>S()),r.$$.on_destroy.push(()=>D()),r.$$.on_destroy.push(()=>P());const V=on();ne(r,V,G=>n(18,b=G));function q(){ad.update(G=>!G)}return r.$$.update=()=>{r.$$.dirty&262144&&n(0,{table:t,meta:l,isLoading:s,hasPrimaryKey:o}=b,t,(n(16,l),n(18,b)),T(n(8,s)),B(n(7,o))),r.$$.dirty&1&&h(n(6,{currentRolePrivileges:i}=t.currentAccess,i)),r.$$.dirty&65536&&n(5,{filtering:a,sorting:u,grouping:f,sheetState:c}=l,a,(n(4,u),n(16,l),n(18,b)),(n(3,f),n(16,l),n(18,b)),O(n(2,c))),r.$$.dirty&131072&&n(1,m=d.has("SELECT"))},[t,m,c,f,u,a,i,o,s,w,M,A,F,j,V,q,l,d,b]}class UWe extends Q{constructor(e){super(),Z(this,e,qWe,zWe,J,{})}}const{document:UC}=gi;function WWe(r){let e,n,t;return n=new ur({props:{fullWidth:!0,$$slots:{default:[YWe]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","warning svelte-11oqq27")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&1048640&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function jWe(r){let e,n;return e=new f1({props:{$$slots:{default:[GWe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1048579&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function YWe(r){let e=r[6]("no_privileges_view_table")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&64&&e!==(e=t[6]("no_privileges_view_table")+"")&&z(n,e)},d(t){t&&$(n)}}}function GWe(r){let e,n,t,l;function s(i){r[14](i)}let o={table:r[0]};return r[1]!==void 0&&(o.sheetElement=r[1]),n=new jR({props:o}),we.push(()=>Me(n,"sheetElement",s)),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","table-view-area svelte-11oqq27")},m(i,a){v(i,e,a),k(n,e,null),l=!0},p(i,a){const u={};a&1&&(u.table=i[0]),!t&&a&2&&(t=!0,u.sheetElement=i[1],De(()=>t=!1)),n.$set(u)},i(i){l||(_(n.$$.fragment,i),l=!0)},o(i){p(n.$$.fragment,i),l=!1},d(i){i&&$(e),y(n)}}}function KWe(r){let e,n,t,l,s,o,i;n=new UWe({});const a=[jWe,WWe],u=[];function f(c,m){return m&32&&(l=null),l==null&&(l=!!c[5].has("SELECT")),l?0:1}return s=f(r,-1),o=u[s]=a[s](r),{c(){e=E("div"),C(n.$$.fragment),t=N(),o.c(),I(e,"class","table-page svelte-11oqq27")},m(c,m){v(c,e,m),k(n,e,null),R(e,t),u[s].m(e,null),i=!0},p(c,m){let d=s;s=f(c,m),s===d?u[s].p(c,m):(U(),p(u[d],1,1,()=>{u[d]=null}),W(),o=u[s],o?o.p(c,m):(o=u[s]=a[s](c),o.c()),_(o,1),o.m(e,null))},i(c){i||(_(n.$$.fragment,c),_(o),i=!0)},o(c){p(n.$$.fragment,c),p(o),i=!1},d(c){c&&$(e),y(n),u[s].d()}}}function XWe(r){let e,n,t,l;return UC.title=e=Rn(r[0].name),t=new xr({props:{fitViewport:!0,restrictWidth:!1,$$slots:{default:[KWe]},$$scope:{ctx:r}}}),{c(){n=N(),C(t.$$.fragment)},m(s,o){v(s,n,o),k(t,s,o),l=!0},p(s,[o]){(!l||o&1)&&e!==(e=Rn(s[0].name))&&(UC.title=e);const i={};o&1048675&&(i.$$scope={dirty:o,ctx:s}),t.$set(i)},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){s&&$(n),y(t,s)}}}const WC="q";function JWe(r,e,n){let t,l,s,o,i,a,u,f,c=H,m=()=>(c(),c=le(u,q=>n(11,f=q)),u),d,g=H,h=()=>(g(),g=le(i,q=>n(12,d=q)),i),b,w,S=H,T=()=>(S(),S=le(s,q=>n(5,w=q)),s),M;ne(r,Un,q=>n(13,b=q)),ne(r,ce,q=>n(6,M=q)),r.$$.on_destroy.push(()=>c()),r.$$.on_destroy.push(()=>g()),r.$$.on_destroy.push(()=>S());const A=wp(void 0),D=new AR;gu.set(D);let{table:O}=e,F;async function P(){a.updateWithoutFocus(q=>q.ofFirstDataCell()),document.activeElement===document.body&&(await sn(),tR(F))}let B=!1;function j(q){Un.location.query.set(WC,q)}function V(q){F=q,n(1,F)}return r.$$set=q=>{"table"in q&&n(0,O=q.table)},r.$$.update=()=>{var q;r.$$.dirty&8192&&n(10,{query:t}=b,t),r.$$.dirty&1024&&n(9,l=ki.fromSerialization((q=t[WC])!=null?q:"")),r.$$.dirty&1&&T(n(4,{currentRolePrivileges:s}=O.currentAccess,s)),r.$$.dirty&513&&n(8,o=new vp({database:O.schema.database,table:O,meta:l})),r.$$.dirty&256&&h(n(3,{isLoading:i,selection:a}=o,i)),r.$$.dirty&256&&A.set(o),r.$$.dirty&4224&&!B&&!d&&(n(7,B=!0),P()),r.$$.dirty&256&&m(n(2,u=o.meta.serialization)),r.$$.dirty&2048&&j(f)},[O,F,u,i,s,w,M,B,o,l,t,f,d,b,V]}class ZWe extends Q{constructor(e){super(),Z(this,e,JWe,XWe,J,{table:0})}}function jC(r,e,n){const t=r.slice();return t[23]=e[n].field,t[24]=e[n].processedColumn,t}function YC(r){let e,n;return e=new rn({props:{table:r[1],truncate:!1}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.table=t[1]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function QWe(r){let e,n,t=r[27]==="tableName"&&YC(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[27]==="tableName"?t?(t.p(l,s),s&134217728&&_(t,1)):(t=YC(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function xWe(r){let e,n,t;return n=new ot({props:{text:r[12]("record_in_table"),$$slots:{default:[QWe,({slotName:l})=>({27:l}),({slotName:l})=>l?134217728:0]},$$scope:{ctx:r}}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"slot","subText"),I(e,"class","table-name svelte-1w7plmp")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&4096&&(o.text=l[12]("record_in_table")),s&402653186&&(o.$$scope={dirty:s,ctx:l}),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function eje(r){let e,n,t,l;return t=new RR({props:{form:r[4]}}),{c(){e=E("div"),n=E("div"),C(t.$$.fragment),I(n,"class","form-status svelte-1w7plmp"),I(e,"slot","action")},m(s,o){v(s,e,o),R(e,n),k(t,n,null),l=!0},p(s,o){const i={};o&16&&(i.form=s[4]),t.$set(i)},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){s&&$(e),y(t)}}}function GC(r,e){let n,t,l;return t=new DR({props:{record:e[0],processedColumn:e[24],field:e[23],canUpdateTableRecords:e[9]}}),{key:r,first:null,c(){n=ae(),C(t.$$.fragment),this.first=n},m(s,o){v(s,n,o),k(t,s,o),l=!0},p(s,o){e=s;const i={};o&1&&(i.record=e[0]),o&8&&(i.processedColumn=e[24]),o&8&&(i.field=e[23]),o&512&&(i.canUpdateTableRecords=e[9]),t.$set(i)},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){s&&$(n),y(t,s)}}}function tje(r){let e,n=[],t=new Map,l,s,o,i,a=r[3];const u=f=>f[24].id;for(let f=0;f<a.length;f+=1){let c=jC(r,a,f),m=u(c);t.set(m,n[f]=GC(m,c))}return o=new yn({props:{form:r[4],catchErrors:!0,proceedButton:{label:r[12]("save"),icon:ls},cancelButton:{label:r[12]("discard_changes"),icon:cl},onProceed:r[14],getErrorMessages:r[19],initiallyHidden:!0}}),{c(){e=E("div");for(let f=0;f<n.length;f+=1)n[f].c();l=N(),s=E("div"),C(o.$$.fragment),I(e,"class","fields svelte-1w7plmp"),I(s,"class","submit svelte-1w7plmp")},m(f,c){v(f,e,c);for(let m=0;m<n.length;m+=1)n[m].m(e,null);v(f,l,c),v(f,s,c),k(o,s,null),i=!0},p(f,c){c&521&&(a=f[3],U(),n=ht(n,c,u,1,f,a,t,e,kt,GC,null,jC),W());const m={};c&16&&(m.form=f[4]),c&4096&&(m.proceedButton={label:f[12]("save"),icon:ls}),c&4096&&(m.cancelButton={label:f[12]("discard_changes"),icon:cl}),c&4&&(m.getErrorMessages=f[19]),o.$set(m)},i(f){if(!i){for(let c=0;c<a.length;c+=1)_(n[c]);_(o.$$.fragment,f),i=!0}},o(f){for(let c=0;c<n.length;c+=1)p(n[c]);p(o.$$.fragment,f),i=!1},d(f){f&&$(e);for(let c=0;c<n.length;c+=1)n[c].d();f&&$(l),f&&$(s),y(o)}}}function nje(r){return{c:H,m:H,p:H,i:H,o:H,d:H}}function rje(r){let e,n,t;return n=new YR({props:{joinableTablesResult:r[22],recordPk:r[7],recordSummary:r[11]}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","widgets-container svelte-1w7plmp")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p(l,s){const o={};s&2&&(o.joinableTablesResult=l[22]),s&128&&(o.recordPk=l[7]),s&2048&&(o.recordSummary=l[11]),n.$set(o)},i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function lje(r){let e,n;return e=new IR({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function sje(r){let e,n,t,l,s,o,i,a;t=new fu({props:{name:r[11],icon:vc,entityTypeName:r[12]("record"),$$slots:{action:[eje],subText:[xWe]},$$scope:{ctx:r}}}),s=new i1({props:{$$slots:{default:[tje]},$$scope:{ctx:r}}});let u={ctx:r,current:null,token:null,hasCatch:!1,pending:lje,then:rje,catch:nje,value:22,blocks:[,,,]};return Wl(i=r[13](r[1].oid),u),{c(){e=E("div"),n=E("div"),C(t.$$.fragment),l=N(),C(s.$$.fragment),o=N(),u.block.c(),I(n,"class","record-page-header svelte-1w7plmp"),I(e,"class","record-page-content svelte-1w7plmp")},m(f,c){v(f,e,c),R(e,n),k(t,n,null),R(e,l),k(s,e,null),R(e,o),u.block.m(e,u.anchor=null),u.mount=()=>e,u.anchor=null,a=!0},p(f,[c]){r=f;const m={};c&2048&&(m.name=r[11]),c&4096&&(m.entityTypeName=r[12]("record")),c&268439570&&(m.$$scope={dirty:c,ctx:r}),t.$set(m);const d={};c&268440093&&(d.$$scope={dirty:c,ctx:r}),s.$set(d),u.ctx=r,c&2&&i!==(i=r[13](r[1].oid))&&Wl(i,u)||Fa(u,r,c)},i(f){a||(_(t.$$.fragment,f),_(s.$$.fragment,f),_(u.block),a=!0)},o(f){p(t.$$.fragment,f),p(s.$$.fragment,f);for(let c=0;c<3;c+=1){const m=u.blocks[c];p(m)}a=!1},d(f){f&&$(e),y(t),y(s),u.block.d(),u.token=null,u=null}}}function oje(r,e,n){let t,l,s,o,i,a,u,f,c,m,d,g,h=H,b=()=>(h(),h=le(d,X=>n(20,g=X)),d),w,S=H,T=()=>(S(),S=le(i,X=>n(16,w=X)),i),M,A=H,D=()=>(A(),A=le(f,X=>n(17,M=X)),f),O,F=H,P=()=>(F(),F=le(s,X=>n(18,O=X)),s),B,j=H,V=()=>(j(),j=le(u,X=>n(11,B=X)),u),q;ne(r,ce,X=>n(12,q=X)),r.$$.on_destroy.push(()=>h()),r.$$.on_destroy.push(()=>S()),r.$$.on_destroy.push(()=>A()),r.$$.on_destroy.push(()=>F()),r.$$.on_destroy.push(()=>j());let{record:G}=e;function Y(X){return Ke.tables.list_joinable({database_id:t.schema.database.id,table_oid:X,max_depth:1}).run()}function K(X){const fe=w.get(parseInt(X,10));return fe?!fe.column.primary_key:!1}async function ee(){const X=Object.entries(g.values),fe=Object.fromEntries(X.filter(([he])=>K(he)));await G.patch(fe)}const x=X=>{var me;const{columnErrors:fe,recordErrors:he}=u1(X);for(const[ge,pe]of fe)(me=m[ge])==null||me.serverErrors.set(pe);return he};return r.$$set=X=>{"record"in X&&n(0,G=X.record)},r.$$.update=()=>{r.$$.dirty&1&&n(1,{table:t,tableStructure:l}=G,t,(n(15,l),n(0,G))),r.$$.dirty&2&&P(n(10,{currentRolePrivileges:s}=t.currentAccess,s)),r.$$.dirty&262144&&n(9,o=O.has("UPDATE")),r.$$.dirty&32768&&T(n(8,{processedColumns:i}=l,i)),r.$$.dirty&1&&n(7,{recordPk:a,summary:u,fieldValues:f}=G,a,V(n(6,u)),D(n(5,f))),r.$$.dirty&196608&&n(3,c=[...w.values()].map(X=>({processedColumn:X,field:er(M.get(X.id))}))),r.$$.dirty&8&&n(2,m=Object.fromEntries(c.map(X=>[X.processedColumn.id,X.field]))),r.$$.dirty&4&&b(n(4,d=Wt(m)))},[G,t,m,c,d,f,u,a,i,o,s,B,q,Y,ee,l,w,M,O,x]}class ije extends Q{constructor(e){super(),Z(this,e,oje,sje,J,{record:0})}}function aje(r){let e,n;return e=new ije({props:{record:r[0]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.record=t[0]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function uje(r){let e,n;return e=new f1({props:{$$slots:{default:[aje]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&129&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function fje(r){let e,n;return e=new ER({props:{record:r[0],$$slots:{default:[uje]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.record=t[0]),l&129&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function cje(r){let e,n,t,l;return document.title=e=Rn(r[1]),t=new xr({props:{cssVariables:{"--page-padding":"0"},fitViewport:!0,$$slots:{default:[fje]},$$scope:{ctx:r}}}),{c(){n=N(),C(t.$$.fragment)},m(s,o){v(s,n,o),k(t,s,o),l=!0},p(s,[o]){(!l||o&2)&&e!==(e=Rn(s[1]))&&(document.title=e);const i={};o&129&&(i.$$scope={dirty:o,ctx:s}),t.$set(i)},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){p(t.$$.fragment,s),l=!1},d(s){s&&$(n),y(t,s)}}}function mje(r,e,n){let t,l,s,o,i,a=H,u=()=>(a(),a=le(l,g=>n(5,i=g)),l),f,c=H,m=()=>(c(),c=le(t,g=>n(6,f=g)),t);r.$$.on_destroy.push(()=>a()),r.$$.on_destroy.push(()=>c());let{record:d}=e;return r.$$set=g=>{"record"in g&&n(0,d=g.record)},r.$$.update=()=>{r.$$.dirty&1&&m(n(3,t=d.fetchRequest)),r.$$.dirty&1&&u(n(2,{summary:l}=d,l)),r.$$.dirty&64&&n(4,s=(f==null?void 0:f.state)==="processing"),r.$$.dirty&48&&n(1,o=s?"":i)},[d,o,l,t,s,i,f]}class dje extends Q{constructor(e){super(),Z(this,e,mje,cje,J,{record:0})}}function KC(r){let e,n;return e=new pr({props:{item:{type:"record",database:r[6],schema:r[3],table:r[0],record:{pk:r[1],summary:r[8]}}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&331&&(s.item={type:"record",database:t[6],schema:t[3],table:t[0],record:{pk:t[1],summary:t[8]}}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function _je(r){var s;let e,n,t,l=((s=r[7])==null?void 0:s.state)==="success"&&KC(r);return n=new dje({props:{record:r[2]}}),{c(){l&&l.c(),e=N(),C(n.$$.fragment)},m(o,i){l&&l.m(o,i),v(o,e,i),k(n,o,i),t=!0},p(o,[i]){var u;((u=o[7])==null?void 0:u.state)==="success"?l?(l.p(o,i),i&128&&_(l,1)):(l=KC(o),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(U(),p(l,1,1,()=>{l=null}),W());const a={};i&4&&(a.record=o[2]),n.$set(a)},i(o){t||(_(l),_(n.$$.fragment,o),t=!0)},o(o){p(l),p(n.$$.fragment,o),t=!1},d(o){l&&l.d(o),o&&$(e),y(n,o)}}}function pje(r,e,n){let t,l,s,o,i,a,u=H,f=()=>(u(),u=le(i,b=>n(7,a=b)),i),c,m=H,d=()=>(m(),m=le(o,b=>n(8,c=b)),o);r.$$.on_destroy.push(()=>u()),r.$$.on_destroy.push(()=>m());let{table:g}=e,{recordPk:h}=e;return r.$$set=b=>{"table"in b&&n(0,g=b.table),"recordPk"in b&&n(1,h=b.recordPk)},r.$$.update=()=>{r.$$.dirty&3&&n(2,t=new Si({table:g,recordPk:h})),r.$$.dirty&1&&n(3,l=g.schema),r.$$.dirty&8&&n(6,s=l.database),r.$$.dirty&4&&d(n(5,{summary:o,fetchRequest:i}=t,o,f(n(4,i))))},[g,h,t,l,i,o,s,a,c]}class gje extends Q{constructor(e){super(),Z(this,e,pje,_je,J,{table:0,recordPk:1})}}function hje(r){let e,n;return e=new ds({props:{$$slots:{default:[$je]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&520&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function bje(r){let e,n,t,l,s,o;return e=new pr({props:{item:{type:"table",database:r[0],schema:r[1],table:r[2]}}}),t=new en({props:{path:"/",$$slots:{default:[vje]},$$scope:{ctx:r}}}),s=new en({props:{path:"/:recordPk",$$slots:{default:[wje,({meta:i})=>({8:i}),({meta:i})=>i?256:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),C(s.$$.fragment)},m(i,a){k(e,i,a),v(i,n,a),k(t,i,a),v(i,l,a),k(s,i,a),o=!0},p(i,a){const u={};a&7&&(u.item={type:"table",database:i[0],schema:i[1],table:i[2]}),e.$set(u);const f={};a&516&&(f.$$scope={dirty:a,ctx:i}),t.$set(f);const c={};a&772&&(c.$$scope={dirty:a,ctx:i}),s.$set(c)},i(i){o||(_(e.$$.fragment,i),_(t.$$.fragment,i),_(s.$$.fragment,i),o=!0)},o(i){p(e.$$.fragment,i),p(t.$$.fragment,i),p(s.$$.fragment,i),o=!1},d(i){y(e,i),i&&$(n),y(t,i),i&&$(l),y(s,i)}}}function $je(r){let e=r[3]("table_not_found")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&8&&e!==(e=t[3]("table_not_found")+"")&&z(n,e)},d(t){t&&$(n)}}}function vje(r){let e,n;return e=new ZWe({props:{table:r[2]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&4&&(s.table=t[2]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function wje(r){let e,n;return e=new gje({props:{table:r[2],recordPk:String(r[8].params.recordPk)}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&4&&(s.table=t[2]),l&256&&(s.recordPk=String(t[8].params.recordPk)),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function kje(r){let e,n,t,l;const s=[bje,hje],o=[];function i(a,u){return a[2]?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,[u]){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function yje(r,e,n){let t,l,s,o;ne(r,ea,c=>n(6,l=c)),ne(r,_r,c=>n(5,s=c)),ne(r,ce,c=>n(3,o=c));let{database:i}=e,{schema:a}=e,{tableId:u}=e;function f(){Pn(ea,l=void 0,l)}return tn(()=>f),r.$$set=c=>{"database"in c&&n(0,i=c.database),"schema"in c&&n(1,a=c.schema),"tableId"in c&&n(4,u=c.tableId)},r.$$.update=()=>{r.$$.dirty&16&&Pn(ea,l=u,l),r.$$.dirty&48&&n(2,t=s.tablesMap.get(u))},[i,a,t,o,u,s]}class Cje extends Q{constructor(e){super(),Z(this,e,yje,kje,J,{database:0,schema:1,tableId:4})}}function Sje(r){let e,n;return e=new ds({props:{$$slots:{default:[Ije]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2064&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Tje(r){let e,n,t,l,s,o,i,a,u,f,c,m,d,g;return e=new pr({props:{item:{type:"schema",database:r[0],schema:r[1]}}}),t=new en({props:{path:"/import/*",firstmatch:!0,$$slots:{default:[Eje]},$$scope:{ctx:r}}}),s=new en({props:{path:"/tables/:tableId/*",firstmatch:!0,$$slots:{default:[Mje,({meta:h})=>({9:h}),({meta:h})=>h?512:0]},$$scope:{ctx:r}}}),i=new en({props:{path:"/explorations/:queryId/edit",$$slots:{default:[Rje,({meta:h})=>({9:h}),({meta:h})=>h?512:0]},$$scope:{ctx:r}}}),u=new $ke({props:{paths:[{name:"edit-exploration",path:"/explorations/:queryId"},{name:"new-exploration",path:"/data-explorer/"}],$$slots:{default:[Dje,({path:h,meta:b})=>({10:h,9:b}),({path:h,meta:b})=>(h?1024:0)|(b?512:0)]},$$scope:{ctx:r}}}),c=new en({props:{path:"/forms/:formId/*",firstmatch:!0,$$slots:{default:[Aje,({meta:h})=>({9:h}),({meta:h})=>h?512:0]},$$scope:{ctx:r}}}),d=new en({props:{path:"/",$$slots:{default:[Oje]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),C(s.$$.fragment),o=N(),C(i.$$.fragment),a=N(),C(u.$$.fragment),f=N(),C(c.$$.fragment),m=N(),C(d.$$.fragment)},m(h,b){k(e,h,b),v(h,n,b),k(t,h,b),v(h,l,b),k(s,h,b),v(h,o,b),k(i,h,b),v(h,a,b),k(u,h,b),v(h,f,b),k(c,h,b),v(h,m,b),k(d,h,b),g=!0},p(h,b){const w={};b&3&&(w.item={type:"schema",database:h[0],schema:h[1]}),e.$set(w);const S={};b&2051&&(S.$$scope={dirty:b,ctx:h}),t.$set(S);const T={};b&2563&&(T.$$scope={dirty:b,ctx:h}),s.$set(T);const M={};b&2563&&(M.$$scope={dirty:b,ctx:h}),i.$set(M);const A={};b&3587&&(A.$$scope={dirty:b,ctx:h}),u.$set(A);const D={};b&2560&&(D.$$scope={dirty:b,ctx:h}),c.$set(D);const O={};b&2048&&(O.$$scope={dirty:b,ctx:h}),d.$set(O)},i(h){g||(_(e.$$.fragment,h),_(t.$$.fragment,h),_(s.$$.fragment,h),_(i.$$.fragment,h),_(u.$$.fragment,h),_(c.$$.fragment,h),_(d.$$.fragment,h),g=!0)},o(h){p(e.$$.fragment,h),p(t.$$.fragment,h),p(s.$$.fragment,h),p(i.$$.fragment,h),p(u.$$.fragment,h),p(c.$$.fragment,h),p(d.$$.fragment,h),g=!1},d(h){y(e,h),h&&$(n),y(t,h),h&&$(l),y(s,h),h&&$(o),y(i,h),h&&$(a),y(u,h),h&&$(f),y(c,h),h&&$(m),y(d,h)}}}function Ije(r){let e=r[4]("schema_not_found")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&16&&e!==(e=t[4]("schema_not_found")+"")&&z(n,e)},d(t){t&&$(n)}}}function Eje(r){let e,n;return e=new aOe({props:{database:r[0],schema:r[1]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.database=t[0]),l&2&&(s.schema=t[1]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Mje(r){let e,n;return e=new Cje({props:{database:r[0],schema:r[1],tableId:parseInt(r[9].params.tableId,10)}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.database=t[0]),l&2&&(s.schema=t[1]),l&512&&(s.tableId=parseInt(t[9].params.tableId,10)),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Rje(r){let e,n;return e=new BEe({props:{database:r[0],schema:r[1],query:{id:parseInt(r[9].params.queryId,10)}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.database=t[0]),l&2&&(s.schema=t[1]),l&512&&(s.query={id:parseInt(t[9].params.queryId,10)}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Dje(r){let e,n;return e=new tMe({props:{database:r[0],schema:r[1],queryId:r[10]==="edit-exploration"?parseInt(r[9].params.queryId,10):void 0}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.database=t[0]),l&2&&(s.schema=t[1]),l&1536&&(s.queryId=t[10]==="edit-exploration"?parseInt(t[9].params.queryId,10):void 0),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Aje(r){let e,n;return e=new AMe({props:{formId:parseInt(r[9].params.formId,10)}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&512&&(s.formId=parseInt(t[9].params.formId,10)),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Oje(r){let e,n;return e=new VEe({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Fje(r){let e,n,t,l;const s=[Tje,Sje],o=[];function i(a,u){return a[3]&&a[1]?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,[u]){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function Nje(r,e,n){let t,l,s,o,i,a=H,u=()=>(a(),a=le(l,g=>n(3,i=g)),l),f;ne(r,xi,g=>n(7,s=g)),ne(r,xa,g=>n(6,o=g)),ne(r,ce,g=>n(4,f=g)),r.$$.on_destroy.push(()=>a());let{database:c}=e,{schemaId:m}=e;function d(){Pn(xi,s=void 0,s)}return tn(()=>d),r.$$set=g=>{"database"in g&&n(0,c=g.database),"schemaId"in g&&n(5,m=g.schemaId)},r.$$.update=()=>{r.$$.dirty&32&&Pn(xi,s=m,s),r.$$.dirty&96&&n(1,t=o.data.get(m)),r.$$.dirty&2&&u(n(2,l=t?ms.construct(t):Nn(void 0)))},[c,t,l,i,f,m,o]}class Pje extends Q{constructor(e){super(),Z(this,e,Nje,Fje,J,{database:0,schemaId:5})}}function Lje(r){let e,n;return e=new ds({props:{$$slots:{default:[Bje]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1029&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Hje(r){let e,n,t,l,s,o;return e=new pr({props:{item:{type:"database",database:r[1]}}}),t=new en({props:{path:"/schemas/:schemaId/*",firstmatch:!0,$$slots:{default:[qje,({meta:i})=>({8:i}),({meta:i})=>i?256:0]},$$scope:{ctx:r}}}),s=new en({props:{path:"/*",firstmatch:!0,$$slots:{default:[Yje]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),C(s.$$.fragment)},m(i,a){k(e,i,a),v(i,n,a),k(t,i,a),v(i,l,a),k(s,i,a),o=!0},p(i,a){const u={};a&2&&(u.item={type:"database",database:i[1]}),e.$set(u);const f={};a&1282&&(f.$$scope={dirty:a,ctx:i}),t.$set(f);const c={};a&1024&&(c.$$scope={dirty:a,ctx:i}),s.$set(c)},i(i){o||(_(e.$$.fragment,i),_(t.$$.fragment,i),_(s.$$.fragment,i),o=!0)},o(i){p(e.$$.fragment,i),p(t.$$.fragment,i),p(s.$$.fragment,i),o=!1},d(i){y(e,i),i&&$(n),y(t,i),i&&$(l),y(s,i)}}}function XC(r){let e,n;return e=new kn({props:{$$slots:{default:[Vje]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1025&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Vje(r){let e;return{c(){e=L(r[0])},m(n,t){v(n,e,t)},p(n,t){t&1&&z(e,n[0])},d(n){n&&$(e)}}}function zje(r){let e,n,t=r[9]==="connectionId"&&XC(r);return{c(){t&&t.c(),e=ae()},m(l,s){t&&t.m(l,s),v(l,e,s),n=!0},p(l,s){l[9]==="connectionId"?t?(t.p(l,s),s&512&&_(t,1)):(t=XC(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(U(),p(t,1,1,()=>{t=null}),W())},i(l){n||(_(t),n=!0)},o(l){p(t),n=!1},d(l){t&&t.d(l),l&&$(e)}}}function Bje(r){let e,n;return e=new ot({props:{text:r[2]("database_not_found"),$$slots:{default:[zje,({slotName:t})=>({9:t}),({slotName:t})=>t?512:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&4&&(s.text=t[2]("database_not_found")),l&1537&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function qje(r){let e,n;return e=new Pje({props:{database:r[1],schemaId:parseInt(r[8].params.schemaId,10)}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.database=t[1]),l&256&&(s.schemaId=parseInt(t[8].params.schemaId,10)),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Uje(r){let e,n;return e=new sve({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Wje(r){let e,n;return e=new pke({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function jje(r){let e,n,t,l;function s(){return r[4](r[7])}e=new Yo({props:{path:"/schemas",onLoad:s,$$slots:{default:[Uje]},$$scope:{ctx:r}}});function o(){return r[5](r[7])}return t=new Yo({props:{path:"/settings/*",onLoad:o,firstmatch:!0,$$slots:{default:[Wje]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(i,a){k(e,i,a),v(i,n,a),k(t,i,a),l=!0},p(i,a){r=i;const u={};a&128&&(u.onLoad=s),a&1024&&(u.$$scope={dirty:a,ctx:r}),e.$set(u);const f={};a&128&&(f.onLoad=o),a&1024&&(f.$$scope={dirty:a,ctx:r}),t.$set(f)},i(i){l||(_(e.$$.fragment,i),_(t.$$.fragment,i),l=!0)},o(i){p(e.$$.fragment,i),p(t.$$.fragment,i),l=!1},d(i){y(e,i),i&&$(n),y(t,i)}}}function Yje(r){let e,n,t,l;return e=new en({props:{path:"/",redirect:"schemas/"}}),t=new b4e({props:{$$slots:{default:[jje,({setSection:s})=>({7:s}),({setSection:s})=>s?128:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(s,o){k(e,s,o),v(s,n,o),k(t,s,o),l=!0},p(s,o){const i={};o&1152&&(i.$$scope={dirty:o,ctx:s}),t.$set(i)},i(s){l||(_(e.$$.fragment,s),_(t.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),l=!1},d(s){y(e,s),s&&$(n),y(t,s)}}}function Gje(r){let e,n,t,l;const s=[Hje,Lje],o=[];function i(a,u){return a[1]?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,[u]){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function Kje(r,e,n){let t,l;ne(r,ce,f=>n(2,l=f));let{databaseId:s}=e;const{currentDatabase:o}=jn;ne(r,o,f=>n(1,t=f));function i(){jn.clearCurrentDatabaseId()}tn(()=>i);const a=f=>f("schemas"),u=f=>f("settings");return r.$$set=f=>{"databaseId"in f&&n(0,s=f.databaseId)},r.$$.update=()=>{r.$$.dirty&1&&jn.setCurrentDatabaseId(s),r.$$.dirty&2&&t&&_s.construct(t)},[s,t,l,o,a,u]}class Xje extends Q{constructor(e){super(),Z(this,e,Kje,Gje,J,{databaseId:0})}}function Jje(r){let e,n;return e=new Vn({props:{$$slots:{default:[Qje]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&18&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Zje(r){let e,n,t,l,s,o;e=new Gf({props:{$$slots:{header:[eYe],default:[xje]},$$scope:{ctx:r}}}),t=new Gf({props:{$$slots:{default:[tYe]},$$scope:{ctx:r}}});let i=!r[0].isMathesarAdmin&&JC(r);return{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),i&&i.c(),s=ae()},m(a,u){k(e,a,u),v(a,n,u),k(t,a,u),v(a,l,u),i&&i.m(a,u),v(a,s,u),o=!0},p(a,u){const f={};u&19&&(f.$$scope={dirty:u,ctx:a}),e.$set(f);const c={};u&17&&(c.$$scope={dirty:u,ctx:a}),t.$set(c),a[0].isMathesarAdmin?i&&(U(),p(i,1,1,()=>{i=null}),W()):i?(i.p(a,u),u&1&&_(i,1)):(i=JC(a),i.c(),_(i,1),i.m(s.parentNode,s))},i(a){o||(_(e.$$.fragment,a),_(t.$$.fragment,a),_(i),o=!0)},o(a){p(e.$$.fragment,a),p(t.$$.fragment,a),p(i),o=!1},d(a){y(e,a),a&&$(n),y(t,a),a&&$(l),i&&i.d(a),a&&$(s)}}}function Qje(r){let e=r[1]("could_not_fetch_profile_error")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&2&&e!==(e=t[1]("could_not_fetch_profile_error")+"")&&z(n,e)},d(t){t&&$(n)}}}function xje(r){let e,n;return e=new Bp({props:{user:r[0].getUser()}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.user=t[0].getUser()),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function eYe(r){let e,n=r[1]("account_details")+"",t;return{c(){e=E("h2"),t=L(n),I(e,"slot","header")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&2&&n!==(n=l[1]("account_details")+"")&&z(t,n)},d(l){l&&$(e)}}}function tYe(r){let e,n;return e=new yM({props:{userId:r[0].id}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.userId=t[0].id),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function JC(r){let e,n;return e=new Gf({props:{$$slots:{header:[rYe],default:[nYe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&18&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function nYe(r){let e,n=r[1]("delete_account_contact_admin")+"",t;return{c(){e=E("div"),t=L(n)},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&2&&n!==(n=l[1]("delete_account_contact_admin")+"")&&z(t,n)},d(l){l&&$(e)}}}function rYe(r){let e,n=r[1]("delete_account")+"",t;return{c(){e=E("h2"),t=L(n),I(e,"slot","header")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&2&&n!==(n=l[1]("delete_account")+"")&&z(t,n)},d(l){l&&$(e)}}}function lYe(r){let e,n,t,l;const s=[Zje,Jje],o=[];function i(a,u){return a[0]?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,u){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function sYe(r){let e,n=r[1]("user_profile")+"",t;return{c(){e=E("h1"),t=L(n),I(e,"slot","header")},m(l,s){v(l,e,s),R(e,t)},p(l,s){s&2&&n!==(n=l[1]("user_profile")+"")&&z(t,n)},d(l){l&&$(e)}}}function oYe(r){let e,n;return e=new i1({props:{hasMultipleSections:!0,$$slots:{header:[sYe],default:[lYe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&19&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function iYe(r){var s,o;let e,n,t,l;return document.title=e=`
    `+((o=(s=r[0])==null?void 0:s.getDisplayName())!=null?o:r[1]("user_profile"))+" | "+r[1]("mathesar")+`
  `,t=new xr({props:{cssVariables:{"--page-padding":"var(--outer-page-padding-for-inset-page)","--inset-page-section-padding":"var(--lg4) var(--lg3)"},$$slots:{default:[oYe]},$$scope:{ctx:r}}}),{c(){n=N(),C(t.$$.fragment)},m(i,a){v(i,n,a),k(t,i,a),l=!0},p(i,[a]){var f,c;(!l||a&3)&&e!==(e=`
    `+((c=(f=i[0])==null?void 0:f.getDisplayName())!=null?c:i[1]("user_profile"))+" | "+i[1]("mathesar")+`
  `)&&(document.title=e);const u={};a&19&&(u.$$scope={dirty:a,ctx:i}),t.$set(u)},i(i){l||(_(t.$$.fragment,i),l=!0)},o(i){p(t.$$.fragment,i),l=!1},d(i){i&&$(n),y(t,i)}}}function aYe(r,e,n){let t,l,s;ne(r,ce,i=>n(1,s=i));const o=Lr();return ne(r,o,i=>n(3,l=i)),r.$$.update=()=>{r.$$.dirty&8&&n(0,t=l)},[t,s,o,l]}class uYe extends Q{constructor(e){super(),Z(this,e,aYe,iYe,J,{})}}function fYe(r){let e,n,t,l;return e=new pr({props:{item:{type:"simple",href:_d,label:r[0]("user_profile"),icon:$f}}}),t=new uYe({}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(s,o){k(e,s,o),v(s,n,o),k(t,s,o),l=!0},p(s,[o]){const i={};o&1&&(i.item={type:"simple",href:_d,label:s[0]("user_profile"),icon:$f}),e.$set(i)},i(s){l||(_(e.$$.fragment,s),_(t.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),l=!1},d(s){y(e,s),s&&$(n),y(t,s)}}}function cYe(r,e,n){let t;return ne(r,ce,l=>n(0,t=l)),[t]}class mYe extends Q{constructor(e){super(),Z(this,e,cYe,fYe,J,{})}}function dYe(r){let e,n;return e=new Mhe({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function _Ye(r){let e,n;return e=new mYe({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function ZC(r){let e,n;return e=new en({props:{path:"/administration/*",firstmatch:!0,$$slots:{default:[pYe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function pYe(r){let e,n;return e=new S2e({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function gYe(r){let e,n;return e=new Xje({props:{databaseId:parseInt(r[3].params.databaseId,10)}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&8&&(s.databaseId=parseInt(t[3].params.databaseId,10)),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function hYe(r){var u;let e,n,t,l,s,o,i;e=new en({props:{path:"/",$$slots:{default:[dYe]},$$scope:{ctx:r}}}),t=new en({props:{path:"/profile",$$slots:{default:[_Ye]},$$scope:{ctx:r}}});let a=((u=r[0])==null?void 0:u.isMathesarAdmin)&&ZC(r);return o=new en({props:{path:"/db/:databaseId/*",firstmatch:!0,$$slots:{default:[gYe,({meta:f})=>({3:f}),({meta:f})=>f?8:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment),l=N(),a&&a.c(),s=N(),C(o.$$.fragment)},m(f,c){k(e,f,c),v(f,n,c),k(t,f,c),v(f,l,c),a&&a.m(f,c),v(f,s,c),k(o,f,c),i=!0},p(f,[c]){var h;const m={};c&16&&(m.$$scope={dirty:c,ctx:f}),e.$set(m);const d={};c&16&&(d.$$scope={dirty:c,ctx:f}),t.$set(d),(h=f[0])!=null&&h.isMathesarAdmin?a?c&1&&_(a,1):(a=ZC(f),a.c(),_(a,1),a.m(s.parentNode,s)):a&&(U(),p(a,1,1,()=>{a=null}),W());const g={};c&24&&(g.$$scope={dirty:c,ctx:f}),o.$set(g)},i(f){i||(_(e.$$.fragment,f),_(t.$$.fragment,f),_(a),_(o.$$.fragment,f),i=!0)},o(f){p(e.$$.fragment,f),p(t.$$.fragment,f),p(a),p(o.$$.fragment,f),i=!1},d(f){y(e,f),f&&$(n),y(t,f),f&&$(l),a&&a.d(f),f&&$(s),y(o,f)}}}function bYe(r,e,n){let t,l;const s=Lr();return ne(r,s,o=>n(2,l=o)),r.$$.update=()=>{r.$$.dirty&4&&n(0,t=l)},[t,s,l]}class $Ye extends Q{constructor(e){super(),Z(this,e,bYe,hYe,J,{})}}function vYe(r){let e,n;return e=new en({props:{path:"/*",firstmatch:!0,$$slots:{default:[SYe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&35&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function wYe(r){let e,n;return e=new en({props:{path:"/*",firstmatch:!0,$$slots:{default:[RYe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&34&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function QC(r){let e,n;return e=new $Ye({}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function kYe(r){let e,n;return e=new yp({props:{meta:r[4]}}),e.$on("load",r[3]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.meta=t[4]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function yYe(r){let e=r[1]("page_doesnt_exist")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&2&&e!==(e=t[1]("page_doesnt_exist")+"")&&z(n,e)},d(t){t&&$(n)}}}function CYe(r){let e,n;return e=new ds({props:{$$slots:{default:[yYe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&34&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function SYe(r){let e,n,t,l,s,o=r[0].is_authenticated&&QC();return n=new en({props:{path:"/shares/*",$$slots:{default:[kYe,({meta:i})=>({4:i}),({meta:i})=>i?16:0]},$$scope:{ctx:r}}}),l=new en({props:{fallback:!0,$$slots:{default:[CYe]},$$scope:{ctx:r}}}),{c(){o&&o.c(),e=N(),C(n.$$.fragment),t=N(),C(l.$$.fragment)},m(i,a){o&&o.m(i,a),v(i,e,a),k(n,i,a),v(i,t,a),k(l,i,a),s=!0},p(i,a){i[0].is_authenticated?o?a&1&&_(o,1):(o=QC(),o.c(),_(o,1),o.m(e.parentNode,e)):o&&(U(),p(o,1,1,()=>{o=null}),W());const u={};a&48&&(u.$$scope={dirty:a,ctx:i}),n.$set(u);const f={};a&34&&(f.$$scope={dirty:a,ctx:i}),l.$set(f)},i(i){s||(_(o),_(n.$$.fragment,i),_(l.$$.fragment,i),s=!0)},o(i){p(o),p(n.$$.fragment,i),p(l.$$.fragment,i),s=!1},d(i){o&&o.d(i),i&&$(e),y(n,i),i&&$(t),y(l,i)}}}function TYe(r){let e=r[1]("page_doesnt_exist")+"",n;return{c(){n=L(e)},m(t,l){v(t,n,l)},p(t,l){l&2&&e!==(e=t[1]("page_doesnt_exist")+"")&&z(n,e)},d(t){t&&$(n)}}}function IYe(r){let e,n;return e=new ds({props:{$$slots:{default:[TYe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&34&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function EYe(r){let e,n,t,l;return e=new e1e({}),t=new en({props:{fallback:!0,$$slots:{default:[IYe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(s,o){k(e,s,o),v(s,n,o),k(t,s,o),l=!0},p(s,o){const i={};o&34&&(i.$$scope={dirty:o,ctx:s}),t.$set(i)},i(s){l||(_(e.$$.fragment,s),_(t.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),l=!1},d(s){y(e,s),s&&$(n),y(t,s)}}}function MYe(r){let e,n;return e=new yp({props:{meta:r[4]}}),e.$on("load",r[2]),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.meta=t[4]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function RYe(r){let e,n,t,l;return e=new en({props:{path:"/shares/*",firstmatch:!0,$$slots:{default:[EYe]},$$scope:{ctx:r}}}),t=new en({props:{fallback:!0,$$slots:{default:[MYe,({meta:s})=>({4:s}),({meta:s})=>s?16:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),n=N(),C(t.$$.fragment)},m(s,o){k(e,s,o),v(s,n,o),k(t,s,o),l=!0},p(s,o){const i={};o&34&&(i.$$scope={dirty:o,ctx:s}),e.$set(i);const a={};o&48&&(a.$$scope={dirty:o,ctx:s}),t.$set(a)},i(s){l||(_(e.$$.fragment,s),_(t.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),l=!1},d(s){y(e,s),s&&$(n),y(t,s)}}}function DYe(r){let e,n,t,l;const s=[wYe,vYe],o=[];function i(a,u){return a[0].routing_context==="anonymous"?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,[u]){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function AYe(r,e,n){let t;ne(r,ce,i=>n(1,t=i));let{commonData:l}=e;const s=()=>window.location.reload(),o=()=>window.location.reload();return r.$$set=i=>{"commonData"in i&&n(0,l=i.commonData)},[l,t,s,o]}class OYe extends Q{constructor(e){super(),Z(this,e,AYe,DYe,J,{commonData:0})}}let zu=null;function FYe(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function GR(r){const e=r==="system"?FYe():r;Array.from(document.body.classList).filter(n=>n.startsWith("theme-")).forEach(n=>document.body.classList.remove(n)),document.body.classList.add(`theme-${e}`)}function xC(){kf.subscribe(r=>{r==="system"&&GR(r)})()}function NYe(){zu&&zu.removeEventListener("change",xC),zu=window.matchMedia("(prefers-color-scheme: dark)"),zu.addEventListener("change",xC)}function PYe(){kf.subscribe(r=>GR(r)),NYe()}function LYe(r){let e,n;return e=new Woe({props:{commonData:r[2],$$slots:{default:[VYe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const s={};l&18&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function HYe(r){let e,n,t;return n=new Gt({props:{size:"2rem"}}),{c(){e=E("div"),C(n.$$.fragment),I(e,"class","app-loader")},m(l,s){v(l,e,s),k(n,e,null),t=!0},p:H,i(l){t||(_(n.$$.fragment,l),t=!0)},o(l){p(n.$$.fragment,l),t=!1},d(l){l&&$(e),y(n)}}}function eS(r){let e,n;return e=new OYe({props:{commonData:r[2]}}),{c(){C(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:H,i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function VYe(r){let e=r[1],n,t,l=eS(r);return{c(){l.c(),n=ae()},m(s,o){l.m(s,o),v(s,n,o),t=!0},p(s,o){o&2&&J(e,e=s[1])?(U(),p(l,1,1,H),W(),l=eS(s),l.c(),_(l,1),l.m(n.parentNode,n)):l.p(s,o)},i(s){t||(_(l),t=!0)},o(s){p(l),t=!1},d(s){s&&$(n),l.d(s)}}}function zYe(r){let e,n,t,l;const s=[HYe,LYe],o=[];function i(a,u){return a[0]?0:1}return e=i(r),n=o[e]=s[e](r),{c(){n.c(),t=ae()},m(a,u){o[e].m(a,u),v(a,t,u),l=!0},p(a,[u]){let f=e;e=i(a),e===f?o[e].p(a,u):(U(),p(o[f],1,1,()=>{o[f]=null}),W(),n=o[e],n?n.p(a,u):(n=o[e]=s[e](a),n.c()),_(n,1),n.m(t.parentNode,t))},i(a){l||(_(n),l=!0)},o(a){p(n),l=!1},d(a){o[e].d(a),a&&$(t)}}}function BYe(r,e,n){let t,l;ne(r,Wu,i=>n(0,t=i)),ne(r,As,i=>n(1,l=i)),PYe();const s=Pl(),o=s.routing_context!=="anonymous"?s.user.display_language:null;return Koe(o!=null?o:"en"),[t,l,s]}class qYe extends Q{constructor(e){super(),Z(this,e,BYe,zYe,J,{})}}new qYe({target:document.body});export{WYe as __vite_legacy_guard};
