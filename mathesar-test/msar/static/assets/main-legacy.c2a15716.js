!function(){function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}System.register([],(function(t,n){"use strict";return{execute:function(){let t,r,o,s;function a(){}const i=e=>e;function l(e,t){for(const n in t)e[n]=t[n];return e}function c(e){return e()}function u(){return Object.create(null)}function d(e){e.forEach(c)}function $(e){return"function"==typeof e}let p;function m(e,t){return p||(p=document.createElement("a")),p.href=t,e===p.href}function f(e,t){return e!=e?t==t:e!==t}function g(e,...t){if(null==e)return a;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function h(e){let t;return g(e,(e=>t=e))(),t}function y(e,t,n){e.$$.on_destroy.push(g(t,n))}function b(e,t,n,r){if(e){const o=v(e,t,n,r);return e[0](o)}}function v(e,t,n,r){return e[1]&&r?l(n.ctx.slice(),e[1](r(t))):n.ctx}function w(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|o[r];return e}return t.dirty|o}return t.dirty}function _(e,t,n,r,o,s){if(o){const a=v(t,n,r,s);e.p(a,o)}}function x(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function C(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function S(e,t){const n={};t=new Set(t);for(const r in e)t.has(r)||"$"===r[0]||(n[r]=e[r]);return n}function k(e){const t={};for(const n in e)t[n]=!0;return t}function M(e){return null==e?"":e}function I(e,t,n){return e.set(n),t}function T(e){return e&&$(e.destroy)?e.destroy:a}const E="undefined"!=typeof window;let D=E?()=>window.performance.now():()=>Date.now(),O=E?e=>requestAnimationFrame(e):a;const N=new Set;function A(e){N.forEach((t=>{t.c(e)||(N.delete(t),t.f())})),0!==N.size&&O(A)}function R(e){let t;return 0===N.size&&O(A),{promise:new Promise((n=>{N.add(t={c:e,f:n})})),abort(){N.delete(t)}}}function F(e,t){e.appendChild(t)}function P(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function L(e){const t=q("style");return function(e,t){F(e.head||e,t),t.sheet}(P(e),t),t.sheet}function H(e,t,n){e.insertBefore(t,n||null)}function z(e){e.parentNode.removeChild(e)}function V(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function q(e){return document.createElement(e)}function B(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function j(e){return document.createTextNode(e)}function U(){return j(" ")}function W(){return j("")}function Y(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function K(e){return function(t){return t.preventDefault(),e.call(this,t)}}function G(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function X(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Z(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const r in t)null==t[r]?e.removeAttribute(r):"style"===r?e.style.cssText=t[r]:"__value"===r?e.value=e[r]=t[r]:n[r]&&n[r].set?e[r]=t[r]:X(e,r,t[r])}function J(e,t){for(const n in t)X(e,n,t[n])}function Q(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function ee(e,t){e.value=null==t?"":t}function te(e,t,n,r){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}let ne;function re(){if(void 0===ne){ne=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(Ln){ne=!0}}return ne}function oe(e,t){"static"===getComputedStyle(e).position&&(e.style.position="relative");const n=q("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=re();let o;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=Y(window,"message",(e=>{e.source===n.contentWindow&&t()}))):(n.src="about:blank",n.onload=()=>{o=Y(n.contentWindow,"resize",t)}),F(e,n),()=>{(r||o&&n.contentWindow)&&o(),z(n)}}function se(e,t,n){e.classList[n?"add":"remove"](t)}function ae(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,r,t),o}const ie=new Map;let le,ce=0;function ue(e,t,n,r,o,s,a,i=0){const l=16.666/r;let c="{\n";for(let g=0;g<=1;g+=l){const e=t+(n-t)*s(g);c+=100*g+`%{${a(e,1-e)}}\n`}const u=c+`100% {${a(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${i}`,$=P(e),{stylesheet:p,rules:m}=ie.get($)||function(e,t){const n={stylesheet:L(t),rules:{}};return ie.set(e,n),n}($,e);m[d]||(m[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const f=e.style.animation||"";return e.style.animation=`${f?`${f}, `:""}${d} ${r}ms linear ${o}ms 1 both`,ce+=1,d}function de(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),o=n.length-r.length;o&&(e.style.animation=r.join(", "),ce-=o,ce||O((()=>{ce||(ie.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&z(t)})),ie.clear())})))}function $e(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const r=getComputedStyle(e),o="none"===r.transform?"":r.transform;e.style.transform=`${o} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}function pe(e){le=e}function me(){if(!le)throw new Error("Function called outside component initialization");return le}function fe(e){me().$$.on_mount.push(e)}function ge(e){me().$$.after_update.push(e)}function he(e){me().$$.on_destroy.push(e)}function ye(){const e=me();return(t,n,{cancelable:r=!1}={})=>{const o=e.$$.callbacks[t];if(o){const s=ae(t,n,{cancelable:r});return o.slice().forEach((t=>{t.call(e,s)})),!s.defaultPrevented}return!0}}function be(e,t){return me().$$.context.set(e,t),t}function ve(e){return me().$$.context.get(e)}function we(e){return me().$$.context.has(e)}function _e(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const xe=[],Ce=[],Se=[],ke=[],Me=Promise.resolve();let Ie=!1;function Te(){Ie||(Ie=!0,Me.then(Fe))}function Ee(){return Te(),Me}function De(e){Se.push(e)}function Oe(e){ke.push(e)}const Ne=new Set;let Ae,Re=0;function Fe(){const e=le;do{for(;Re<xe.length;){const e=xe[Re];Re++,pe(e),Pe(e.$$)}for(pe(null),xe.length=0,Re=0;Ce.length;)Ce.pop()();for(let e=0;e<Se.length;e+=1){const t=Se[e];Ne.has(t)||(Ne.add(t),t())}Se.length=0}while(xe.length);for(;ke.length;)ke.pop()();Ie=!1,Ne.clear(),pe(e)}function Pe(e){if(null!==e.fragment){e.update(),d(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(De)}}function Le(){return Ae||(Ae=Promise.resolve(),Ae.then((()=>{Ae=null}))),Ae}function He(e,t,n){e.dispatchEvent(ae(`${t?"intro":"outro"}${n}`))}const ze=new Set;let Ve;function qe(){Ve={r:0,c:[],p:Ve}}function Be(){Ve.r||d(Ve.c),Ve=Ve.p}function je(e,t){e&&e.i&&(ze.delete(e),e.i(t))}function Ue(e,t,n,r){if(e&&e.o){if(ze.has(e))return;ze.add(e),Ve.c.push((()=>{ze.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}else r&&r()}const We={duration:0};function Ye(e,t,n){let r,o,s=t(e,n),l=!1,c=0;function u(){r&&de(e,r)}function d(){const{delay:t=0,duration:n=300,easing:d=i,tick:$=a,css:p}=s||We;p&&(r=ue(e,0,1,n,t,d,p,c++)),$(0,1);const m=D()+t,f=m+n;o&&o.abort(),l=!0,De((()=>He(e,!0,"start"))),o=R((t=>{if(l){if(t>=f)return $(1,0),He(e,!0,"end"),u(),l=!1;if(t>=m){const e=d((t-m)/n);$(e,1-e)}}return l}))}let p=!1;return{start(){p||(p=!0,de(e),$(s)?(s=s(),Le().then(d)):d())},invalidate(){p=!1},end(){l&&(u(),l=!1)}}}function Ke(e,t,n){let r,o=t(e,n),s=!0;const l=Ve;function c(){const{delay:t=0,duration:n=300,easing:c=i,tick:u=a,css:$}=o||We;$&&(r=ue(e,1,0,n,t,c,$));const p=D()+t,m=p+n;De((()=>He(e,!1,"start"))),R((t=>{if(s){if(t>=m)return u(0,1),He(e,!1,"end"),--l.r||d(l.c),!1;if(t>=p){const e=c((t-p)/n);u(1-e,e)}}return s}))}return l.r+=1,$(o)?Le().then((()=>{o=o(),c()})):c(),{end(t){t&&o.tick&&o.tick(1,0),s&&(r&&de(e,r),s=!1)}}}function Ge(e,t,n,r){let o=t(e,n),s=r?0:1,l=null,c=null,u=null;function p(){u&&de(e,u)}function m(e,t){const n=e.b-s;return t*=Math.abs(n),{a:s,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function f(t){const{delay:n=0,duration:r=300,easing:$=i,tick:f=a,css:g}=o||We,h={start:D()+n,b:t};t||(h.group=Ve,Ve.r+=1),l||c?c=h:(g&&(p(),u=ue(e,s,t,r,n,$,g)),t&&f(0,1),l=m(h,r),De((()=>He(e,t,"start"))),R((t=>{if(c&&t>c.start&&(l=m(c,r),c=null,He(e,l.b,"start"),g&&(p(),u=ue(e,s,l.b,l.duration,0,$,o.css))),l)if(t>=l.end)f(s=l.b,1-s),He(e,l.b,"end"),c||(l.b?p():--l.group.r||d(l.group.c)),l=null;else if(t>=l.start){const e=t-l.start;s=l.a+l.d*$(e/l.duration),f(s,1-s)}return!(!l&&!c)})))}return{run(e){$(o)?Le().then((()=>{o=o(),f(e)})):f(e)},end(){p(),l=c=null}}}function Xe(e,t){const n=t.token={};function r(e,r,o,s){if(t.token!==n)return;t.resolved=s;let a=t.ctx;void 0!==o&&(a=a.slice(),a[o]=s);const i=e&&(t.current=e)(a);let l=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==r&&e&&(qe(),Ue(e,1,1,(()=>{t.blocks[n]===e&&(t.blocks[n]=null)})),Be())})):t.block.d(1),i.c(),je(i,1),i.m(t.mount(),t.anchor),l=!0),t.block=i,t.blocks&&(t.blocks[r]=i),l&&Fe()}if((o=e)&&"object"==typeof o&&"function"==typeof o.then){const n=me();if(e.then((e=>{pe(n),r(t.then,1,t.value,e),pe(null)}),(e=>{if(pe(n),r(t.catch,2,t.error,e),pe(null),!t.hasCatch)throw e})),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,e),!0;t.resolved=e}var o}function Ze(e,t,n){const r=t.slice(),{resolved:o}=e;e.current===e.then&&(r[e.value]=o),e.current===e.catch&&(r[e.error]=o),e.block.p(r,n)}const Je="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Qe(e,t){e.d(1),t.delete(e.key)}function et(e,t){Ue(e,1,1,(()=>{t.delete(e.key)}))}function tt(e,t){e.f(),et(e,t)}function nt(e,t,n,r,o,s,a,i,l,c,u,d){let $=e.length,p=s.length,m=$;const f={};for(;m--;)f[e[m].key]=m;const g=[],h=new Map,y=new Map;for(m=p;m--;){const e=d(o,s,m),i=n(e);let l=a.get(i);l?r&&l.p(e,t):(l=c(i,e),l.c()),h.set(i,g[m]=l),i in f&&y.set(i,Math.abs(m-f[i]))}const b=new Set,v=new Set;function w(e){je(e,1),e.m(i,u),a.set(e.key,e),u=e.first,p--}for(;$&&p;){const t=g[p-1],n=e[$-1],r=t.key,o=n.key;t===n?(u=t.first,$--,p--):h.has(o)?!a.has(r)||b.has(r)?w(t):v.has(o)?$--:y.get(r)>y.get(o)?(v.add(r),w(t)):(b.add(o),$--):(l(n,a),$--)}for(;$--;){const t=e[$];h.has(t.key)||l(t,a)}for(;p;)w(g[p-1]);return g}function rt(e,t){const n={},r={},o={$$scope:1};let s=e.length;for(;s--;){const a=e[s],i=t[s];if(i){for(const e in a)e in i||(r[e]=1);for(const e in i)o[e]||(n[e]=i[e],o[e]=1);e[s]=i}else for(const e in a)o[e]=1}for(const a in r)a in n||(n[a]=void 0);return n}function ot(e){return"object"==typeof e&&null!==e?e:{}}function st(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function at(e){e&&e.c()}function it(e,t,n,r){const{fragment:o,on_mount:s,on_destroy:a,after_update:i}=e.$$;o&&o.m(t,n),r||De((()=>{const t=s.map(c).filter($);a?a.push(...t):d(t),e.$$.on_mount=[]})),i.forEach(De)}function lt(e,t){const n=e.$$;null!==n.fragment&&(d(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ct(e,t,n,r,o,s,i,l=[-1]){const c=le;pe(e);const $=e.$$={fragment:null,ctx:null,props:s,update:a,not_equal:o,bound:u(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:u(),dirty:l,skip_bound:!1,root:t.target||c.$$.root};i&&i($.root);let p=!1;if($.ctx=n?n(e,t.props||{},((t,n,...r)=>{const s=r.length?r[0]:n;return $.ctx&&o($.ctx[t],$.ctx[t]=s)&&(!$.skip_bound&&$.bound[t]&&$.bound[t](s),p&&function(e,t){-1===e.$$.dirty[0]&&(xe.push(e),Te(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],$.update(),p=!0,d($.before_update),$.fragment=!!r&&r($.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);$.fragment&&$.fragment.l(e),e.forEach(z)}else $.fragment&&$.fragment.c();t.intro&&je(e.$$.fragment),it(e,t.target,t.anchor,t.customElement),Fe()}pe(c)}class ut{$destroy(){lt(this,1),this.$destroy=a}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const dt=[];function $t(e,t){return{subscribe:pt(e,t).subscribe}}function pt(e,t=a){let n;const r=new Set;function o(t){if(function(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}(e,t)&&(e=t,n)){const t=!dt.length;for(const n of r)n[1](),dt.push(n,e);if(t){for(let e=0;e<dt.length;e+=2)dt[e][0](dt[e+1]);dt.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(s,i=a){const l=[s,i];return r.add(l),1===r.size&&(n=t(o)||a),s(e),()=>{r.delete(l),0===r.size&&(n(),n=null)}}}}function mt(e,t,n){const r=!Array.isArray(e),o=r?[e]:e,s=t.length<2;return $t(n,(e=>{let n=!1;const i=[];let l=0,c=a;const u=()=>{if(l)return;c();const n=t(r?i[0]:i,e);s?e(n):c=$(n)?n:a},p=o.map(((e,t)=>g(e,(e=>{i[t]=e,l&=~(1<<t),n&&u()}),(()=>{l|=1<<t}))));return n=!0,u(),function(){d(p),c()}}))}var ft="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function gt(e){var t=e.default;if("function"==typeof t){var n=function(){return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}var ht=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===yt}(e)}(e)};var yt="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function bt(e,t){return!1!==t.clone&&t.isMergeableObject(e)?Ct((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function vt(e,t,n){return e.concat(t).map((function(e){return bt(e,n)}))}function wt(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function _t(e,t){try{return t in e}catch(n){return!1}}function xt(e,t,n){var r={};return n.isMergeableObject(e)&&wt(e).forEach((function(t){r[t]=bt(e[t],n)})),wt(t).forEach((function(o){(function(e,t){return _t(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(_t(e,o)&&n.isMergeableObject(t[o])?r[o]=function(e,t){if(!t.customMerge)return Ct;var n=t.customMerge(e);return"function"==typeof n?n:Ct}(o,n)(e[o],t[o],n):r[o]=bt(t[o],n))})),r}function Ct(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||vt,n.isMergeableObject=n.isMergeableObject||ht,n.cloneUnlessOtherwiseSpecified=bt;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):xt(e,t,n):bt(t,n)}Ct.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return Ct(e,n,t)}),{})};var St=Ct,kt={},Mt={exports:{}};!function(e){var t,n,r,o,s,a,i,l,c,u,d,$,p,m,f,g,h,y,b,v,w,_,x,C,S;!function(k){var M="object"==typeof ft?ft:"object"==typeof self?self:"object"==typeof this?this:{};function I(e,t){return e!==M&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(n,r){return e[n]=t?t(n,r):r}}!function(e){var k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])};t=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}k(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},o=function(e,t,n,r){var o,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(a=(s<3?o(a):s>3?o(t,n,a):o(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},s=function(e,t){return function(n,r){t(n,r,e)}},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=function(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function a(e){try{l(r.next(e))}catch(t){s(t)}}function i(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){e.done?n(e.value):o(e.value).then(a,i)}l((r=r.apply(e,t||[])).next())}))},l=function(e,t){var n,r,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(e){return function(t){return l([e,t])}}function l(s){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(i){s=[6,i],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},c=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||S(t,e,n)},S=Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},u=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},d=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)a.push(r.value)}catch(Ln){o={error:Ln}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return a},$=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e},p=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var s=arguments[t],a=0,i=s.length;a<i;a++,o++)r[o]=s[a];return r},m=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,s=t.length;o<s;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},f=function(e){return this instanceof f?(this.v=e,this):new f(e)},g=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),s=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){s.push([e,t,n,r])>1||i(e,t)}))})}function i(e,t){try{l(o[e](t))}catch(n){d(s[0][3],n)}}function l(e){e.value instanceof f?Promise.resolve(e.value.v).then(c,u):d(s[0][2],e)}function c(e){i("next",e)}function u(e){i("throw",e)}function d(e,t){e(t),s.shift(),s.length&&i(s[0][0],s[0][1])}},h=function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:f(e[r](t)),done:"return"===r}:o?o(t):t}:o}},y=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=u(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,s){o(r,s,(t=e[n](t)).done,t.value)}))}}function o(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}},b=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};var M=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&S(t,e,n);return M(t,e),t},w=function(e){return e&&e.__esModule?e:{default:e}},_=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},x=function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},C=function(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)},e("__extends",t),e("__assign",n),e("__rest",r),e("__decorate",o),e("__param",s),e("__metadata",a),e("__awaiter",i),e("__generator",l),e("__exportStar",c),e("__createBinding",S),e("__values",u),e("__read",d),e("__spread",$),e("__spreadArrays",p),e("__spreadArray",m),e("__await",f),e("__asyncGenerator",g),e("__asyncDelegator",h),e("__asyncValues",y),e("__makeTemplateObject",b),e("__importStar",v),e("__importDefault",w),e("__classPrivateFieldGet",_),e("__classPrivateFieldSet",x),e("__classPrivateFieldIn",C)}(I(M,I(e.exports)))}()}(Mt);var It,Tt={},Et={},Dt={};Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.ErrorKind=void 0,function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(It||(Dt.ErrorKind=It={}));var Ot,Nt,At={},Rt={};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.createNumberElement=Rt.createLiteralElement=Rt.isDateTimeSkeleton=Rt.isNumberSkeleton=Rt.isTagElement=Rt.isPoundElement=Rt.isPluralElement=Rt.isSelectElement=Rt.isTimeElement=Rt.isDateElement=Rt.isNumberElement=Rt.isArgumentElement=Rt.isLiteralElement=Rt.SKELETON_TYPE=Rt.TYPE=void 0,function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(Ot||(Rt.TYPE=Ot={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(Nt||(Rt.SKELETON_TYPE=Nt={})),Rt.isLiteralElement=function(e){return e.type===Ot.literal},Rt.isArgumentElement=function(e){return e.type===Ot.argument},Rt.isNumberElement=function(e){return e.type===Ot.number},Rt.isDateElement=function(e){return e.type===Ot.date},Rt.isTimeElement=function(e){return e.type===Ot.time},Rt.isSelectElement=function(e){return e.type===Ot.select},Rt.isPluralElement=function(e){return e.type===Ot.plural},Rt.isPoundElement=function(e){return e.type===Ot.pound},Rt.isTagElement=function(e){return e.type===Ot.tag},Rt.isNumberSkeleton=function(e){return!(!e||"object"!=typeof e||e.type!==Nt.number)},Rt.isDateTimeSkeleton=function(e){return!(!e||"object"!=typeof e||e.type!==Nt.dateTime)},Rt.createLiteralElement=function(e){return{type:Ot.literal,value:e}},Rt.createNumberElement=function(e,t){return{type:Ot.number,value:e,style:t}};var Ft={};Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.WHITE_SPACE_REGEX=Ft.SPACE_SEPARATOR_REGEX=void 0,Ft.SPACE_SEPARATOR_REGEX=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,Ft.WHITE_SPACE_REGEX=/[\t-\r \x85\u200E\u200F\u2028\u2029]/;var Pt,Lt={},Ht={};var zt,Vt,qt={},Bt={};function jt(){if(Vt)return qt;Vt=1,Object.defineProperty(qt,"__esModule",{value:!0}),qt.parseNumberSkeleton=qt.parseNumberSkeletonFromString=void 0;var e=Mt.exports,t=(zt||(zt=1,Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.WHITE_SPACE_REGEX=void 0,Bt.WHITE_SPACE_REGEX=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i),Bt);qt.parseNumberSkeletonFromString=function(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var n=e.split(t.WHITE_SPACE_REGEX).filter((function(e){return e.length>0})),r=[],o=0,s=n;o<s.length;o++){var a=s[o].split("/");if(0===a.length)throw new Error("Invalid number skeleton");for(var i=a[0],l=a.slice(1),c=0,u=l;c<u.length;c++){if(0===u[c].length)throw new Error("Invalid number skeleton")}r.push({stem:i,options:l})}return r};var n=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,r=/^(@+)?(\+|#+)?[rs]?$/g,o=/(\*)(0+)|(#+)(0+)|(0+)/g,s=/^(0+)$/;function a(e){var t={};return"r"===e[e.length-1]?t.roundingPriority="morePrecision":"s"===e[e.length-1]&&(t.roundingPriority="lessPrecision"),e.replace(r,(function(e,n,r){return"string"!=typeof r?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===r?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"==typeof r?r.length:0)),""})),t}function i(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function l(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if("+!"===n?(t.signDisplay="always",e=e.slice(2)):"+?"===n&&(t.signDisplay="exceptZero",e=e.slice(2)),!s.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function c(e){var t=i(e);return t||{}}return qt.parseNumberSkeleton=function(t){for(var u={},d=0,$=t;d<$.length;d++){var p=$[d];switch(p.stem){case"percent":case"%":u.style="percent";continue;case"%x100":u.style="percent",u.scale=100;continue;case"currency":u.style="currency",u.currency=p.options[0];continue;case"group-off":case",_":u.useGrouping=!1;continue;case"precision-integer":case".":u.maximumFractionDigits=0;continue;case"measure-unit":case"unit":u.style="unit",u.unit=p.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":u.notation="compact",u.compactDisplay="short";continue;case"compact-long":case"KK":u.notation="compact",u.compactDisplay="long";continue;case"scientific":u=e.__assign(e.__assign(e.__assign({},u),{notation:"scientific"}),p.options.reduce((function(t,n){return e.__assign(e.__assign({},t),c(n))}),{}));continue;case"engineering":u=e.__assign(e.__assign(e.__assign({},u),{notation:"engineering"}),p.options.reduce((function(t,n){return e.__assign(e.__assign({},t),c(n))}),{}));continue;case"notation-simple":u.notation="standard";continue;case"unit-width-narrow":u.currencyDisplay="narrowSymbol",u.unitDisplay="narrow";continue;case"unit-width-short":u.currencyDisplay="code",u.unitDisplay="short";continue;case"unit-width-full-name":u.currencyDisplay="name",u.unitDisplay="long";continue;case"unit-width-iso-code":u.currencyDisplay="symbol";continue;case"scale":u.scale=parseFloat(p.options[0]);continue;case"integer-width":if(p.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");p.options[0].replace(o,(function(e,t,n,r,o,s){if(t)u.minimumIntegerDigits=n.length;else{if(r&&o)throw new Error("We currently do not support maximum integer digits");if(s)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(s.test(p.stem))u.minimumIntegerDigits=p.stem.length;else if(n.test(p.stem)){if(p.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");p.stem.replace(n,(function(e,t,n,r,o,s){return"*"===n?u.minimumFractionDigits=t.length:r&&"#"===r[0]?u.maximumFractionDigits=r.length:o&&s?(u.minimumFractionDigits=o.length,u.maximumFractionDigits=o.length+s.length):(u.minimumFractionDigits=t.length,u.maximumFractionDigits=t.length),""}));var m=p.options[0];"w"===m?u=e.__assign(e.__assign({},u),{trailingZeroDisplay:"stripIfInteger"}):m&&(u=e.__assign(e.__assign({},u),a(m)))}else if(r.test(p.stem))u=e.__assign(e.__assign({},u),a(p.stem));else{var f=i(p.stem);f&&(u=e.__assign(e.__assign({},u),f));var g=l(p.stem);g&&(u=e.__assign(e.__assign({},u),g))}}return u},qt}!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Mt.exports;t.__exportStar(function(){if(Pt)return Ht;Pt=1,Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.parseDateTimeSkeleton=void 0;var e=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;return Ht.parseDateTimeSkeleton=function(t){var n={};return t.replace(e,(function(e){var t=e.length;switch(e[0]){case"G":n.era=4===t?"long":5===t?"narrow":"short";break;case"y":n.year=2===t?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":n.month=["numeric","2-digit","short","long","narrow"][t-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":n.day=["numeric","2-digit"][t-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":n.weekday=4===t?"long":5===t?"narrow":"short";break;case"e":if(t<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");n.weekday=["short","long","narrow","short"][t-4];break;case"c":if(t<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");n.weekday=["short","long","narrow","short"][t-4];break;case"a":n.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":n.hourCycle="h12",n.hour=["numeric","2-digit"][t-1];break;case"H":n.hourCycle="h23",n.hour=["numeric","2-digit"][t-1];break;case"K":n.hourCycle="h11",n.hour=["numeric","2-digit"][t-1];break;case"k":n.hourCycle="h24",n.hour=["numeric","2-digit"][t-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":n.minute=["numeric","2-digit"][t-1];break;case"s":n.second=["numeric","2-digit"][t-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":n.timeZoneName=t<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),n},Ht}(),e),t.__exportStar(jt(),e)}(Lt);var Ut={},Wt={};Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.timeData=void 0,Wt.timeData={"001":["H","h"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["H","h","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BI:["H","h"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["H","hB","h","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BY:["H","h"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["H","h","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],CV:["H","hB"],CW:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["H","hB","h","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FO:["H","h"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GL:["H","h"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["H","h","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["H","h","hB","hb"],HR:["H","hB"],HU:["H","h"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","K","h"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MG:["H","h"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MT:["H","h"],MU:["H","h"],MV:["H","h"],MW:["h","hb","H","hB"],MX:["H","h","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["H","h","hB","hb"],NL:["H","hB"],NO:["H","h"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["H","hB","h","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PL:["H","h"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["H","h","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],RW:["H","h"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["H","h","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TH:["H","h"],TJ:["H","h"],TL:["H","hB","hb","h"],TM:["H","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["H","h","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VN:["H","h"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],ZW:["H","h"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]},Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.getBestPattern=void 0;var Yt,Kt=Wt;function Gt(e){var t=e.hourCycle;if(void 0===t&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]),t)switch(t){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var n,r=e.language;return"root"!==r&&(n=e.maximize().region),(Kt.timeData[n||""]||Kt.timeData[r||""]||Kt.timeData["".concat(r,"-001")]||Kt.timeData["001"])[0]}Ut.getBestPattern=function(e,t){for(var n="",r=0;r<e.length;r++){var o=e.charAt(r);if("j"===o){for(var s=0;r+1<e.length&&e.charAt(r+1)===o;)s++,r++;var a=1+(1&s),i=s<2?1:3+(s>>1),l=Gt(t);for("H"!=l&&"k"!=l||(i=0);i-- >0;)n+="a";for(;a-- >0;)n=l+n}else n+="J"===o?"H":o}return n},Object.defineProperty(At,"__esModule",{value:!0}),At.Parser=void 0;var Xt=Mt.exports,Zt=Dt,Jt=Rt,Qt=Ft,en=Lt,tn=Ut,nn=new RegExp("^".concat(Qt.SPACE_SEPARATOR_REGEX.source,"*")),rn=new RegExp("".concat(Qt.SPACE_SEPARATOR_REGEX.source,"*$"));function on(e,t){return{start:e,end:t}}var sn=!!String.prototype.startsWith&&"_a".startsWith("a",1),an=!!String.fromCodePoint,ln=!!Object.fromEntries,cn=!!String.prototype.codePointAt,un=!!String.prototype.trimStart,dn=!!String.prototype.trimEnd,$n=!!Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},pn=!0;try{pn="a"===(null===(Yt=wn("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===Yt?void 0:Yt[0])}catch(jBe){pn=!1}var mn,fn=sn?function(e,t,n){return e.startsWith(t,n)}:function(e,t,n){return e.slice(n,n+t.length)===t},gn=an?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n,r="",o=e.length,s=0;o>s;){if((n=e[s++])>1114111)throw RangeError(n+" is not a valid code point");r+=n<65536?String.fromCharCode(n):String.fromCharCode(55296+((n-=65536)>>10),n%1024+56320)}return r},hn=ln?Object.fromEntries:function(e){for(var t={},n=0,r=e;n<r.length;n++){var o=r[n],s=o[0],a=o[1];t[s]=a}return t},yn=cn?function(e,t){return e.codePointAt(t)}:function(e,t){var n=e.length;if(!(t<0||t>=n)){var r,o=e.charCodeAt(t);return o<55296||o>56319||t+1===n||(r=e.charCodeAt(t+1))<56320||r>57343?o:r-56320+(o-55296<<10)+65536}},bn=un?function(e){return e.trimStart()}:function(e){return e.replace(nn,"")},vn=dn?function(e){return e.trimEnd()}:function(e){return e.replace(rn,"")};function wn(e,t){return new RegExp(e,t)}if(pn){var _n=wn("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");mn=function(e,t){var n;return _n.lastIndex=t,null!==(n=_n.exec(e)[1])&&void 0!==n?n:""}}else mn=function(e,t){for(var n=[];;){var r=yn(e,t);if(void 0===r||Sn(r)||kn(r))break;n.push(r),t+=r>=65536?2:1}return gn.apply(void 0,n)};var xn=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.locale=t.locale,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,n){for(var r=[];!this.isEOF();){var o=this.char();if(123===o){if((s=this.parseArgument(e,n)).err)return s;r.push(s.val)}else{if(125===o&&e>0)break;if(35!==o||"plural"!==t&&"selectordinal"!==t){if(60===o&&!this.ignoreTag&&47===this.peek()){if(n)break;return this.error(Zt.ErrorKind.UNMATCHED_CLOSING_TAG,on(this.clonePosition(),this.clonePosition()))}if(60===o&&!this.ignoreTag&&Cn(this.peek()||0)){if((s=this.parseTag(e,t)).err)return s;r.push(s.val)}else{var s;if((s=this.parseLiteral(e,t)).err)return s;r.push(s.val)}}else{var a=this.clonePosition();this.bump(),r.push({type:Jt.TYPE.pound,location:on(a,this.clonePosition())})}}}return{val:r,err:null}},e.prototype.parseTag=function(e,t){var n=this.clonePosition();this.bump();var r=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:Jt.TYPE.literal,value:"<".concat(r,"/>"),location:on(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var o=this.parseMessage(e+1,t,!0);if(o.err)return o;var s=o.val,a=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!Cn(this.char()))return this.error(Zt.ErrorKind.INVALID_TAG,on(a,this.clonePosition()));var i=this.clonePosition();return r!==this.parseTagName()?this.error(Zt.ErrorKind.UNMATCHED_CLOSING_TAG,on(i,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:Jt.TYPE.tag,value:r,children:s,location:on(n,this.clonePosition())},err:null}:this.error(Zt.ErrorKind.INVALID_TAG,on(a,this.clonePosition())))}return this.error(Zt.ErrorKind.UNCLOSED_TAG,on(n,this.clonePosition()))}return this.error(Zt.ErrorKind.INVALID_TAG,on(n,this.clonePosition()))},e.prototype.parseTagName=function(){var e,t=this.offset();for(this.bump();!this.isEOF()&&(45===(e=this.char())||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039);)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(e,t){for(var n=this.clonePosition(),r="";;){var o=this.tryParseQuote(t);if(o)r+=o;else{var s=this.tryParseUnquoted(e,t);if(s)r+=s;else{var a=this.tryParseLeftAngleBracket();if(!a)break;r+=a}}}var i=on(n,this.clonePosition());return{val:{type:Jt.TYPE.literal,value:r,location:i},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(Cn(e=this.peek()||0)||47===e)?null:(this.bump(),"<");var e},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(39===n){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(n);this.bump()}return gn.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var n=this.char();return 60===n||123===n||35===n&&("plural"===t||"selectordinal"===t)||125===n&&e>0?null:(this.bump(),gn(n))},e.prototype.parseArgument=function(e,t){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(Zt.ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE,on(n,this.clonePosition()));if(125===this.char())return this.bump(),this.error(Zt.ErrorKind.EMPTY_ARGUMENT,on(n,this.clonePosition()));var r=this.parseIdentifierIfPossible().value;if(!r)return this.error(Zt.ErrorKind.MALFORMED_ARGUMENT,on(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(Zt.ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE,on(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:Jt.TYPE.argument,value:r,location:on(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(Zt.ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE,on(n,this.clonePosition())):this.parseArgumentOptions(e,t,r,n);default:return this.error(Zt.ErrorKind.MALFORMED_ARGUMENT,on(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),n=mn(this.message,t),r=t+n.length;return this.bumpTo(r),{value:n,location:on(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,n,r){var o,s=this.clonePosition(),a=this.parseIdentifierIfPossible().value,i=this.clonePosition();switch(a){case"":return this.error(Zt.ErrorKind.EXPECT_ARGUMENT_TYPE,on(s,i));case"number":case"date":case"time":this.bumpSpace();var l=null;if(this.bumpIf(",")){this.bumpSpace();var c=this.clonePosition();if((h=this.parseSimpleArgStyleIfPossible()).err)return h;if(0===(p=vn(h.val)).length)return this.error(Zt.ErrorKind.EXPECT_ARGUMENT_STYLE,on(this.clonePosition(),this.clonePosition()));l={style:p,styleLocation:on(c,this.clonePosition())}}if((y=this.tryParseArgumentClose(r)).err)return y;var u=on(r,this.clonePosition());if(l&&fn(null==l?void 0:l.style,"::",0)){var d=bn(l.style.slice(2));if("number"===a)return(h=this.parseNumberSkeletonFromString(d,l.styleLocation)).err?h:{val:{type:Jt.TYPE.number,value:n,location:u,style:h.val},err:null};if(0===d.length)return this.error(Zt.ErrorKind.EXPECT_DATE_TIME_SKELETON,u);var $=d;this.locale&&($=(0,tn.getBestPattern)(d,this.locale));var p={type:Jt.SKELETON_TYPE.dateTime,pattern:$,location:l.styleLocation,parsedOptions:this.shouldParseSkeletons?(0,en.parseDateTimeSkeleton)($):{}};return{val:{type:"date"===a?Jt.TYPE.date:Jt.TYPE.time,value:n,location:u,style:p},err:null}}return{val:{type:"number"===a?Jt.TYPE.number:"date"===a?Jt.TYPE.date:Jt.TYPE.time,value:n,location:u,style:null!==(o=null==l?void 0:l.style)&&void 0!==o?o:null},err:null};case"plural":case"selectordinal":case"select":var m=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(Zt.ErrorKind.EXPECT_SELECT_ARGUMENT_OPTIONS,on(m,Xt.__assign({},m)));this.bumpSpace();var f=this.parseIdentifierIfPossible(),g=0;if("select"!==a&&"offset"===f.value){if(!this.bumpIf(":"))return this.error(Zt.ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,on(this.clonePosition(),this.clonePosition()));var h;if(this.bumpSpace(),(h=this.tryParseDecimalInteger(Zt.ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Zt.ErrorKind.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return h;this.bumpSpace(),f=this.parseIdentifierIfPossible(),g=h.val}var y,b=this.tryParsePluralOrSelectOptions(e,a,t,f);if(b.err)return b;if((y=this.tryParseArgumentClose(r)).err)return y;var v=on(r,this.clonePosition());return"select"===a?{val:{type:Jt.TYPE.select,value:n,options:hn(b.val),location:v},err:null}:{val:{type:Jt.TYPE.plural,value:n,options:hn(b.val),offset:g,pluralType:"plural"===a?"cardinal":"ordinal",location:v},err:null};default:return this.error(Zt.ErrorKind.INVALID_ARGUMENT_TYPE,on(s,i))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(Zt.ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE,on(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();){switch(this.char()){case 39:this.bump();var n=this.clonePosition();if(!this.bumpUntil("'"))return this.error(Zt.ErrorKind.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,on(n,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var n=[];try{n=(0,en.parseNumberSkeletonFromString)(e)}catch(r){return this.error(Zt.ErrorKind.INVALID_NUMBER_SKELETON,t)}return{val:{type:Jt.SKELETON_TYPE.number,tokens:n,location:t,parsedOptions:this.shouldParseSkeletons?(0,en.parseNumberSkeleton)(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,n,r){for(var o,s=!1,a=[],i=new Set,l=r.value,c=r.location;;){if(0===l.length){var u=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var d=this.tryParseDecimalInteger(Zt.ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR,Zt.ErrorKind.INVALID_PLURAL_ARGUMENT_SELECTOR);if(d.err)return d;c=on(u,this.clonePosition()),l=this.message.slice(u.offset,this.offset())}if(i.has(l))return this.error("select"===t?Zt.ErrorKind.DUPLICATE_SELECT_ARGUMENT_SELECTOR:Zt.ErrorKind.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,c);"other"===l&&(s=!0),this.bumpSpace();var $=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?Zt.ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:Zt.ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,on(this.clonePosition(),this.clonePosition()));var p=this.parseMessage(e+1,t,n);if(p.err)return p;var m=this.tryParseArgumentClose($);if(m.err)return m;a.push([l,{value:p.val,location:on($,this.clonePosition())}]),i.add(l),this.bumpSpace(),l=(o=this.parseIdentifierIfPossible()).value,c=o.location}return 0===a.length?this.error("select"===t?Zt.ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR:Zt.ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR,on(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!s?this.error(Zt.ErrorKind.MISSING_OTHER_CLAUSE,on(this.clonePosition(),this.clonePosition())):{val:a,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var n=1,r=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var o=!1,s=0;!this.isEOF();){var a=this.char();if(!(a>=48&&a<=57))break;o=!0,s=10*s+(a-48),this.bump()}var i=on(r,this.clonePosition());return o?$n(s*=n)?{val:s,err:null}:this.error(t,i):this.error(e,i)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=yn(this.message,e);if(void 0===t)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(fn(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),n=this.message.indexOf(e,t);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&Sn(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),n=this.message.charCodeAt(t+(e>=65536?2:1));return null!=n?n:null},e}();function Cn(e){return e>=97&&e<=122||e>=65&&e<=90}function Sn(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function kn(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function Mn(e,t,n,r){var o,s=null==(o=r)||"number"==typeof o||"boolean"==typeof o?r:n(r),a=t.get(s);return void 0===a&&(a=e.call(this,r),t.set(s,a)),a}function In(e,t,n){var r=Array.prototype.slice.call(arguments,3),o=n(r),s=t.get(o);return void 0===s&&(s=e.apply(this,r),t.set(o,s)),s}function Tn(e,t,n,r,o){return n.bind(t,e,r,o)}function En(e,t){return Tn(e,this,1===e.length?Mn:In,t.cache.create(),t.serializer)}At.Parser=xn,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._Parser=e.parse=void 0;var t=Mt.exports,n=Dt,r=At,o=Rt;function s(e){e.forEach((function(e){if(delete e.location,(0,o.isSelectElement)(e)||(0,o.isPluralElement)(e))for(var t in e.options)delete e.options[t].location,s(e.options[t].value);else(0,o.isNumberElement)(e)&&(0,o.isNumberSkeleton)(e.style)||((0,o.isDateElement)(e)||(0,o.isTimeElement)(e))&&(0,o.isDateTimeSkeleton)(e.style)?delete e.style.location:(0,o.isTagElement)(e)&&s(e.children)}))}e.parse=function(e,o){void 0===o&&(o={}),o=t.__assign({shouldParseSkeletons:!0,requiresOtherClause:!0},o);var a=new r.Parser(e,o).parse();if(a.err){var i=SyntaxError(n.ErrorKind[a.err.kind]);throw i.location=a.err.location,i.originalMessage=a.err.message,i}return(null==o?void 0:o.captureLocation)||s(a.val),a.val},t.__exportStar(Rt,e),e._Parser=r.Parser}(Et);var Dn=function(){return JSON.stringify(arguments)};function On(){this.cache=Object.create(null)}On.prototype.get=function(e){return this.cache[e]},On.prototype.set=function(e,t){this.cache[e]=t};var Nn={create:function(){return new On}},An={variadic:function(e,t){return Tn(e,this,In,t.cache.create(),t.serializer)},monadic:function(e,t){return Tn(e,this,Mn,t.cache.create(),t.serializer)}};const Rn=Object.freeze(Object.defineProperty({__proto__:null,memoize:function(e,t){var n=t&&t.cache?t.cache:Nn,r=t&&t.serializer?t.serializer:Dn;return(t&&t.strategy?t.strategy:En)(e,{cache:n,serializer:r})},strategies:An},Symbol.toStringTag,{value:"Module"})),Fn=gt(Rn);var Pn={},Ln={};Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.MissingValueError=Ln.InvalidValueTypeError=Ln.InvalidValueError=Ln.FormatError=Ln.ErrorCode=void 0;var Hn,zn=Mt.exports;!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(Hn||(Ln.ErrorCode=Hn={}));var Vn=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.code=n,o.originalMessage=r,o}return zn.__extends(t,e),t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error);Ln.FormatError=Vn;var qn=function(e){function t(t,n,r,o){return e.call(this,'Invalid values for "'.concat(t,'": "').concat(n,'". Options are "').concat(Object.keys(r).join('", "'),'"'),Hn.INVALID_VALUE,o)||this}return zn.__extends(t,e),t}(Vn);Ln.InvalidValueError=qn;var Bn=function(e){function t(t,n,r){return e.call(this,'Value for "'.concat(t,'" must be of type ').concat(n),Hn.INVALID_VALUE,r)||this}return zn.__extends(t,e),t}(Vn);Ln.InvalidValueTypeError=Bn;var jn=function(e){function t(t,n){return e.call(this,'The intl string context variable "'.concat(t,'" was not provided to the string "').concat(n,'"'),Hn.MISSING_VALUE,n)||this}return zn.__extends(t,e),t}(Vn);Ln.MissingValueError=jn,Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.formatToParts=Pn.isFormatXMLElementFn=Pn.PART_TYPE=void 0;var Un,Wn=Et,Yn=Ln;function Kn(e){return"function"==typeof e}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(Un||(Pn.PART_TYPE=Un={})),Pn.isFormatXMLElementFn=Kn,Pn.formatToParts=function e(t,n,r,o,s,a,i){if(1===t.length&&(0,Wn.isLiteralElement)(t[0]))return[{type:Un.literal,value:t[0].value}];for(var l=[],c=0,u=t;c<u.length;c++){var d=u[c];if((0,Wn.isLiteralElement)(d))l.push({type:Un.literal,value:d.value});else if((0,Wn.isPoundElement)(d))"number"==typeof a&&l.push({type:Un.literal,value:r.getNumberFormat(n).format(a)});else{var $=d.value;if(!s||!($ in s))throw new Yn.MissingValueError($,i);var p=s[$];if((0,Wn.isArgumentElement)(d))p&&"string"!=typeof p&&"number"!=typeof p||(p="string"==typeof p||"number"==typeof p?String(p):""),l.push({type:"string"==typeof p?Un.literal:Un.object,value:p});else if((0,Wn.isDateElement)(d)){var m="string"==typeof d.style?o.date[d.style]:(0,Wn.isDateTimeSkeleton)(d.style)?d.style.parsedOptions:void 0;l.push({type:Un.literal,value:r.getDateTimeFormat(n,m).format(p)})}else if((0,Wn.isTimeElement)(d)){m="string"==typeof d.style?o.time[d.style]:(0,Wn.isDateTimeSkeleton)(d.style)?d.style.parsedOptions:o.time.medium;l.push({type:Un.literal,value:r.getDateTimeFormat(n,m).format(p)})}else if((0,Wn.isNumberElement)(d)){(m="string"==typeof d.style?o.number[d.style]:(0,Wn.isNumberSkeleton)(d.style)?d.style.parsedOptions:void 0)&&m.scale&&(p*=m.scale||1),l.push({type:Un.literal,value:r.getNumberFormat(n,m).format(p)})}else{if((0,Wn.isTagElement)(d)){var f=d.children,g=d.value,h=s[g];if(!Kn(h))throw new Yn.InvalidValueTypeError(g,"function",i);var y=h(e(f,n,r,o,s,a).map((function(e){return e.value})));Array.isArray(y)||(y=[y]),l.push.apply(l,y.map((function(e){return{type:"string"==typeof e?Un.literal:Un.object,value:e}})))}if((0,Wn.isSelectElement)(d)){if(!(b=d.options[p]||d.options.other))throw new Yn.InvalidValueError(d.value,p,Object.keys(d.options),i);l.push.apply(l,e(b.value,n,r,o,s))}else if((0,Wn.isPluralElement)(d)){var b;if(!(b=d.options["=".concat(p)])){if(!Intl.PluralRules)throw new Yn.FormatError('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',Yn.ErrorCode.MISSING_INTL_API,i);var v=r.getPluralRules(n,{type:d.pluralType}).select(p-(d.offset||0));b=d.options[v]||d.options.other}if(!b)throw new Yn.InvalidValueError(d.value,p,Object.keys(d.options),i);l.push.apply(l,e(b.value,n,r,o,s,p-(d.offset||0)))}else;}}}return function(e){return e.length<2?e:e.reduce((function(e,t){var n=e[e.length-1];return n&&n.type===Un.literal&&t.type===Un.literal?n.value+=t.value:e.push(t),e}),[])}(l)},Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.IntlMessageFormat=void 0;var Gn=Mt.exports,Xn=Et,Zn=Fn,Jn=Pn;function Qn(e,t){return t?Object.keys(e).reduce((function(n,r){var o,s;return n[r]=(o=e[r],(s=t[r])?Gn.__assign(Gn.__assign(Gn.__assign({},o||{}),s||{}),Object.keys(o).reduce((function(e,t){return e[t]=Gn.__assign(Gn.__assign({},o[t]),s[t]||{}),e}),{})):o),n}),Gn.__assign({},e)):e}function er(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}var tr=function(){function e(t,n,r,o){var s=this;if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=s.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce((function(e,t){return e.length&&t.type===Jn.PART_TYPE.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return(0,Jn.formatToParts)(s.ast,s.locales,s.formatters,s.formats,e,void 0,s.message)},this.resolvedOptions=function(){var e;return{locale:(null===(e=s.resolvedLocale)||void 0===e?void 0:e.toString())||Intl.NumberFormat.supportedLocalesOf(s.locales)[0]}},this.getAst=function(){return s.ast},this.locales=n,this.resolvedLocale=e.resolveLocale(n),"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var a=o||{};a.formatters;var i=Gn.__rest(a,["formatters"]);this.ast=e.__parse(t,Gn.__assign(Gn.__assign({},i),{locale:this.resolvedLocale}))}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=Qn(e.formats,r),this.formatters=o&&o.formatters||function(e){return void 0===e&&(e={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:(0,Zn.memoize)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,Gn.__spreadArray([void 0],t,!1)))}),{cache:er(e.number),strategy:Zn.strategies.variadic}),getDateTimeFormat:(0,Zn.memoize)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,Gn.__spreadArray([void 0],t,!1)))}),{cache:er(e.dateTime),strategy:Zn.strategies.variadic}),getPluralRules:(0,Zn.memoize)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,Gn.__spreadArray([void 0],t,!1)))}),{cache:er(e.pluralRules),strategy:Zn.strategies.variadic})}}(this.formatterCache)}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(e){if(void 0!==Intl.Locale){var t=Intl.NumberFormat.supportedLocalesOf(e);return t.length>0?new Intl.Locale(t[0]):new Intl.Locale("string"==typeof e?e:e[0])}},e.__parse=Xn.parse,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}();Tt.IntlMessageFormat=tr,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Mt.exports,n=Tt;t.__exportStar(Pn,e),t.__exportStar(Tt,e),t.__exportStar(Ln,e),e.default=n.IntlMessageFormat}(kt);const nr={},rr=(e,t,n)=>n?(t in nr||(nr[t]={}),e in nr[t]||(nr[t][e]=n),n):n,or=(e,t)=>{if(null==t)return;if(t in nr&&e in nr[t])return nr[t][e];const n=Rr(t);for(let r=0;r<n.length;r++){const o=lr(n[r],e);if(o)return rr(e,t,o)}};let sr;const ar=pt({});function ir(e){return e in sr}function lr(e,t){if(!ir(e))return null;const n=function(e){return sr[e]||null}(e),r=function(e,t){if(null==t)return;if(t in e)return e[t];const n=t.split(".");let r=e;for(let o=0;o<n.length;o++)if("object"==typeof r){if(o>0){const e=n.slice(o,n.length).join(".");if(e in r){r=r[e];break}}r=r[n[o]]}else r=void 0;return r}(n,t);return r}function cr(e,...t){delete nr[e],ar.update((n=>(n[e]=St.all([n[e]||{},...t]),n)))}mt([ar],(([e])=>Object.keys(e))),ar.subscribe((e=>sr=e));const ur={};function dr(e){return ur[e]}function $r(e){return null!=e&&Rr(e).some((e=>{var t;return null==(t=dr(e))?void 0:t.size}))}function pr(e,t){const n=Promise.all(t.map((t=>(function(e,t){ur[e].delete(t),0===ur[e].size&&delete ur[e]}(e,t),t().then((e=>e.default||e))))));return n.then((t=>cr(e,...t)))}const mr={};function fr(e){if(!$r(e))return e in mr?mr[e]:Promise.resolve();const t=function(e){return Rr(e).map((e=>{const t=dr(e);return[e,t?[...t]:[]]})).filter((([,e])=>e.length>0))}(e);return mr[e]=Promise.all(t.map((([e,t])=>pr(e,t)))).then((()=>{if($r(e))return fr(e);delete mr[e]})),mr[e]}function gr(e,t){dr(e)||function(e){ur[e]=new Set}(e);const n=dr(e);dr(e).has(t)||(ir(e)||ar.update((t=>(t[e]={},t))),n.add(t))}var hr=Object.getOwnPropertySymbols,yr=Object.prototype.hasOwnProperty,br=Object.prototype.propertyIsEnumerable;function vr({locale:e,id:t}){console.warn(`[svelte-i18n] The message "${t}" was not found in "${Rr(e).join('", "')}".${$r(Fr())?"\n\nNote: there are at least one loader still registered to this locale that wasn't executed.":""}`)}const wr={fallbackLocale:null,loadingDelay:200,formats:{number:{scientific:{notation:"scientific"},engineering:{notation:"engineering"},compactLong:{notation:"compact",compactDisplay:"long"},compactShort:{notation:"compact",compactDisplay:"short"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},warnOnMissingMessages:!0,handleMissingMessage:void 0,ignoreTag:!0};function _r(){return wr}function xr(e){const t=e,{formats:n}=t,r=((e,t)=>{var n={};for(var r in e)yr.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&hr)for(var r of hr(e))t.indexOf(r)<0&&br.call(e,r)&&(n[r]=e[r]);return n})(t,["formats"]);let o=e.fallbackLocale;if(e.initialLocale)try{kt.IntlMessageFormat.resolveLocale(e.initialLocale)&&(o=e.initialLocale)}catch(s){console.warn(`[svelte-i18n] The initial locale "${e.initialLocale}" is not a valid locale.`)}return r.warnOnMissingMessages&&(delete r.warnOnMissingMessages,null==r.handleMissingMessage?r.handleMissingMessage=vr:console.warn('[svelte-i18n] The "warnOnMissingMessages" option is deprecated. Please use the "handleMissingMessage" option instead.')),Object.assign(wr,r,{initialLocale:o}),n&&("number"in n&&Object.assign(wr.formats.number,n.number),"date"in n&&Object.assign(wr.formats.date,n.date),"time"in n&&Object.assign(wr.formats.time,n.time)),Pr.set(o)}const Cr=pt(!1);var Sr=Object.defineProperty,kr=Object.defineProperties,Mr=Object.getOwnPropertyDescriptors,Ir=Object.getOwnPropertySymbols,Tr=Object.prototype.hasOwnProperty,Er=Object.prototype.propertyIsEnumerable,Dr=(e,t,n)=>t in e?Sr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;let Or;const Nr=pt(null);function Ar(e){return e.split("-").map(((e,t,n)=>n.slice(0,t+1).join("-"))).reverse()}function Rr(e,t=_r().fallbackLocale){const n=Ar(e);return t?[...new Set([...n,...Ar(t)])]:n}function Fr(){return null!=Or?Or:void 0}Nr.subscribe((e=>{Or=null!=e?e:void 0,"undefined"!=typeof window&&null!=e&&document.documentElement.setAttribute("lang",e)}));const Pr=((e,t)=>kr(e,Mr(t)))(((e,t)=>{for(var n in t||(t={}))Tr.call(t,n)&&Dr(e,n,t[n]);if(Ir)for(var n of Ir(t))Er.call(t,n)&&Dr(e,n,t[n]);return e})({},Nr),{set:e=>{if(e&&function(e){if(null==e)return;const t=Rr(e);for(let n=0;n<t.length;n++){const e=t[n];if(ir(e))return e}}(e)&&$r(e)){const{loadingDelay:t}=_r();let n;return"undefined"!=typeof window&&null!=Fr()&&t?n=window.setTimeout((()=>Cr.set(!0)),t):Cr.set(!0),fr(e).then((()=>{Nr.set(e)})).finally((()=>{clearTimeout(n),Cr.set(!1)}))}return Nr.set(e)}}),Lr=e=>{const t=Object.create(null);return n=>{const r=JSON.stringify(n);return r in t?t[r]:t[r]=e(n)}};var Hr=Object.defineProperty,zr=Object.getOwnPropertySymbols,Vr=Object.prototype.hasOwnProperty,qr=Object.prototype.propertyIsEnumerable,Br=(e,t,n)=>t in e?Hr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jr=(e,t)=>{for(var n in t||(t={}))Vr.call(t,n)&&Br(e,n,t[n]);if(zr)for(var n of zr(t))qr.call(t,n)&&Br(e,n,t[n]);return e},Ur=(e,t)=>{var n={};for(var r in e)Vr.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&zr)for(var r of zr(e))t.indexOf(r)<0&&qr.call(e,r)&&(n[r]=e[r]);return n};const Wr=(e,t)=>{const{formats:n}=_r();if(e in n&&t in n[e])return n[e][t];throw new Error(`[svelte-i18n] Unknown "${t}" ${e} format.`)},Yr=Lr((e=>{var t=e,{locale:n,format:r}=t,o=Ur(t,["locale","format"]);if(null==n)throw new Error('[svelte-i18n] A "locale" must be set to format numbers');return r&&(o=Wr("number",r)),new Intl.NumberFormat(n,o)})),Kr=Lr((e=>{var t=e,{locale:n,format:r}=t,o=Ur(t,["locale","format"]);if(null==n)throw new Error('[svelte-i18n] A "locale" must be set to format dates');return r?o=Wr("date",r):0===Object.keys(o).length&&(o=Wr("date","short")),new Intl.DateTimeFormat(n,o)})),Gr=Lr((e=>{var t=e,{locale:n,format:r}=t,o=Ur(t,["locale","format"]);if(null==n)throw new Error('[svelte-i18n] A "locale" must be set to format time values');return r?o=Wr("time",r):0===Object.keys(o).length&&(o=Wr("time","short")),new Intl.DateTimeFormat(n,o)})),Xr=Lr(((e,t=Fr())=>new kt.IntlMessageFormat(e,t,_r().formats,{ignoreTag:_r().ignoreTag}))),Zr=(e,t={})=>{var n,r,o,s;let a=t;"object"==typeof e&&(a=e,e=a.id);const{values:i,locale:l=Fr(),default:c}=a;if(null==l)throw new Error("[svelte-i18n] Cannot format a message without first setting the initial locale.");let u=or(e,l);if(u){if("string"!=typeof u)return console.warn(`[svelte-i18n] Message with id "${e}" must be of type "string", found: "${typeof u}". Gettin its value through the "$format" method is deprecated; use the "json" method instead.`),u}else u=null!=(s=null!=(o=null==(r=(n=_r()).handleMissingMessage)?void 0:r.call(n,{locale:l,id:e,defaultValue:c}))?o:c)?s:e;if(!i)return u;let d=u;try{d=Xr(u,l).format(i)}catch($){$ instanceof Error&&console.warn(`[svelte-i18n] Message "${e}" has syntax error:`,$.message)}return d},Jr=(e,t)=>((e={})=>{var t=e,{locale:n=Fr()}=t,r=Ur(t,["locale"]);return Gr(jr({locale:n},r))})(t).format(e),Qr=(e,t)=>((e={})=>{var t=e,{locale:n=Fr()}=t,r=Ur(t,["locale"]);return Kr(jr({locale:n},r))})(t).format(e),eo=(e,t)=>((e={})=>{var t=e,{locale:n=Fr()}=t,r=Ur(t,["locale"]);return Yr(jr({locale:n},r))})(t).format(e),to=(e,t=Fr())=>or(e,t),no=mt([Pr,ar],(()=>Zr));mt([Pr],(()=>Jr)),mt([Pr],(()=>Qr)),mt([Pr],(()=>eo)),mt([Pr,ar],(()=>to));class ro extends Promise{constructor(t,n){super(t),e(this,"isCancelled",!1),e(this,"onCancel",void 0),this.onCancel=n}cancel(){this.isCancelled=!0,this.onCancel?.()}then(e,t){return this.isCancelled?null:super.then((t=>this.isCancelled?null:e?.(t)||t),(e=>{if(this.isCancelled)return null;if(!t)throw e;return t(e)}))}transformResolved(e){return new ro(((t,n)=>{this.then((n=>t(e(n))),n).catch(n)}),(()=>this.cancel()))}}class oo{constructor(){e(this,"listeners",void 0),this.listeners=new Map}getCallbackSet(e){const t=this.listeners.get(e);if(t)return t;const n=new Set;return this.listeners.set(e,n),n}on(e,t){const n=this.getCallbackSet(e);return n.add(t),()=>{n.delete(t)}}async dispatch(e,t){const n=this.listeners.get(e);n&&await Promise.all([...n.values()].map((e=>e(t))))}destroy(){this.listeners.clear()}}t=Symbol.iterator;class so{constructor(t){e(this,"set",void 0),this.set=new Set(t)}getNewInstance(...e){return new this.constructor(...e)}with(e){const t=new Set(this.set);return t.add(e),this.getNewInstance(t)}union(e){const t=new Set(this.set);return[...e].forEach((e=>{t.add(e)})),this.getNewInstance(t)}intersect(e){return this.getNewInstance([...this].filter((t=>e.has(t))))}without(e){const t=Array.isArray(e)?e:[e],n=new Set(this.set);return t.forEach((e=>{n.delete(e)})),this.getNewInstance(n)}has(e){return this.set.has(e)}equals(e){return this.size===e.size&&this.union(e).size===this.size}get size(){return this.set.size}values(){return this.set.values()}valuesArray(){return[...this.set.values()]}[t](){return this.values()}}r=Symbol.iterator;class ao{constructor(t=[]){e(this,"map",void 0),e(this,"valueIsValid",(()=>!0)),this.map=new Map(t)}getNewInstance(...e){return new this.constructor(...e)}with(e,t,n=((e,t)=>t)){return this.withEntries([[e,t]],n)}withEntries(e,t=((e,t)=>t)){const n=new Map(this.map);return[...e].forEach((([e,r])=>{const o=this.get(e),s=void 0===o?r:t(o,r);this.valueIsValid(s)?n.set(e,s):n.delete(e)})),this.getNewInstance(n)}coalesce(e,t){return this.has(e)?this:this.with(e,t)}coalesceEntries(e){const t=new Map(this.map);return[...e].forEach((([e,n])=>{!this.has(e)&&this.valueIsValid(n)&&t.set(e,n)})),this.getNewInstance(t)}without(e){const t=Array.isArray(e)?e:[e],n=new Map(this.map);return t.forEach((e=>n.delete(e))),this.getNewInstance(n)}drained(){return this.getNewInstance([])}has(e){return this.map.has(e)}get(e){return this.map.get(e)}get size(){return this.map.size}keys(){return this.map.keys()}values(){return this.map.values()}entries(){return this.map.entries()}mapValues(e){return new ao([...this.entries()].map((([t,n])=>[t,e(n)])))}mapKeys(e){return new ao([...this.values()].map((t=>[e(t),t])))}filterValues(e){return new ao([...this.entries()].filter((([,t])=>e(t))))}[r](){return this.entries()}}class io extends ao{constructor(t,n=[]){super(t(n)),e(this,"sortFn",void 0),this.sortFn=t}getNewInstance(...e){return new this.constructor(this.sortFn,...e)}}class lo{constructor(t=[]){e(this,"map",void 0),this.map=pt(new ao(t))}subscribe(e){return this.map.subscribe(e)}reconstruct(e=[]){this.map.set(new ao(e))}clear(){this.map.set(new ao)}delete(e){this.map.update((t=>t.without(e)))}set(e,t,n=((e,t)=>t)){this.map.update((r=>r.with(e,t,n)))}setEntries(e=[],t=((e,t)=>t)){this.map.update((n=>n.withEntries(e,t)))}setMultiple(e,t,n=((e,t)=>t)){this.map.update((r=>r.withEntries([...e].map((e=>[e,t])),n)))}getEntries(){return h(this.map).entries()}derivedEntries(){return mt(this.map,(e=>e.entries()))}getHas(e){return h(this.map).has(e)}derivedHas(e){return mt(this.map,(t=>t.has(e)))}getValue(e){return h(this.map).get(e)}derivedValue(e){return mt(this.map,(t=>t.get(e)))}getKeys(){return h(this.map).keys()}derivedKeys(){return mt(this.map,(e=>e.keys()))}getValues(){return h(this.map).values()}derivedValues(){return mt(this.map,(e=>e.values()))}}class co{constructor(t=[]){e(this,"values",void 0),this.values=pt(new so(t))}subscribe(e){return this.values.subscribe(e)}reconstruct(e=[]){this.values.set(new so(e))}clear(){this.values.set(new so)}delete(e){this.values.update((t=>t.without(e)))}add(e){this.values.update((t=>t.with(e)))}addMultiple(e=[]){this.values.update((t=>t.union(e)))}getValues(){return h(this.values).values()}derivedValues(){return mt(this.values,(e=>e.values()))}getHas(e){return h(this.values).has(e)}derivedHas(e){return mt(this.values,(t=>t.has(e)))}}var uo={exports:{}};!function(e,t){e.exports=function(){var e=1e3,t=6e4,n=36e5,r="millisecond",o="second",s="minute",a="hour",i="day",l="week",c="month",u="quarter",d="year",$="date",p="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},h=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:h,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),o=n%60;return(t<=0?"+":"-")+h(r,2,"0")+":"+h(o,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),o=t.clone().add(r,c),s=n-o<0,a=t.clone().add(r+(s?-1:1),c);return+(-(r+(n-o)/(s?o-a:a-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:l,d:i,D:$,h:a,m:s,s:o,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",v={};v[b]=g;var w=function(e){return e instanceof S},_=function e(t,n,r){var o;if(!t)return b;if("string"==typeof t){var s=t.toLowerCase();v[s]&&(o=s),n&&(v[s]=n,o=s);var a=t.split("-");if(!o&&a.length>1)return e(a[0])}else{var i=t.name;v[i]=t,o=i}return!r&&o&&(b=o),o||!r&&b},x=function(e,t){if(w(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new S(n)},C=y;C.l=_,C.i=w,C.w=function(e,t){return x(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var S=function(){function g(e){this.$L=_(e.locale,null,!0),this.parse(e)}var h=g.prototype;return h.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(C.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(m);if(r){var o=r[2]-1||0,s=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},h.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},h.$utils=function(){return C},h.isValid=function(){return!(this.$d.toString()===p)},h.isSame=function(e,t){var n=x(e);return this.startOf(t)<=n&&n<=this.endOf(t)},h.isAfter=function(e,t){return x(e)<this.startOf(t)},h.isBefore=function(e,t){return this.endOf(t)<x(e)},h.$g=function(e,t,n){return C.u(e)?this[t]:this.set(n,e)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(e,t){var n=this,r=!!C.u(t)||t,u=C.p(e),p=function(e,t){var o=C.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?o:o.endOf(i)},m=function(e,t){return C.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},f=this.$W,g=this.$M,h=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case d:return r?p(1,0):p(31,11);case c:return r?p(1,g):p(0,g+1);case l:var b=this.$locale().weekStart||0,v=(f<b?f+7:f)-b;return p(r?h-v:h+(6-v),g);case i:case $:return m(y+"Hours",0);case a:return m(y+"Minutes",1);case s:return m(y+"Seconds",2);case o:return m(y+"Milliseconds",3);default:return this.clone()}},h.endOf=function(e){return this.startOf(e,!1)},h.$set=function(e,t){var n,l=C.p(e),u="set"+(this.$u?"UTC":""),p=(n={},n[i]=u+"Date",n[$]=u+"Date",n[c]=u+"Month",n[d]=u+"FullYear",n[a]=u+"Hours",n[s]=u+"Minutes",n[o]=u+"Seconds",n[r]=u+"Milliseconds",n)[l],m=l===i?this.$D+(t-this.$W):t;if(l===c||l===d){var f=this.clone().set($,1);f.$d[p](m),f.init(),this.$d=f.set($,Math.min(this.$D,f.daysInMonth())).$d}else p&&this.$d[p](m);return this.init(),this},h.set=function(e,t){return this.clone().$set(e,t)},h.get=function(e){return this[C.p(e)]()},h.add=function(r,u){var $,p=this;r=Number(r);var m=C.p(u),f=function(e){var t=x(p);return C.w(t.date(t.date()+Math.round(e*r)),p)};if(m===c)return this.set(c,this.$M+r);if(m===d)return this.set(d,this.$y+r);if(m===i)return f(1);if(m===l)return f(7);var g=($={},$[s]=t,$[a]=n,$[o]=e,$)[m]||1,h=this.$d.getTime()+r*g;return C.w(h,this)},h.subtract=function(e,t){return this.add(-1*e,t)},h.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var r=e||"YYYY-MM-DDTHH:mm:ssZ",o=C.z(this),s=this.$H,a=this.$m,i=this.$M,l=n.weekdays,c=n.months,u=function(e,n,o,s){return e&&(e[n]||e(t,r))||o[n].slice(0,s)},d=function(e){return C.s(s%12||12,e,"0")},$=n.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:i+1,MM:C.s(i+1,2,"0"),MMM:u(n.monthsShort,i,c,3),MMMM:u(c,i),D:this.$D,DD:C.s(this.$D,2,"0"),d:String(this.$W),dd:u(n.weekdaysMin,this.$W,l,2),ddd:u(n.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(s),HH:C.s(s,2,"0"),h:d(1),hh:d(2),a:$(s,a,!0),A:$(s,a,!1),m:String(a),mm:C.s(a,2,"0"),s:String(this.$s),ss:C.s(this.$s,2,"0"),SSS:C.s(this.$ms,3,"0"),Z:o};return r.replace(f,(function(e,t){return t||m[e]||o.replace(":","")}))},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(r,$,p){var m,f=C.p($),g=x(r),h=(g.utcOffset()-this.utcOffset())*t,y=this-g,b=C.m(this,g);return b=(m={},m[d]=b/12,m[c]=b,m[u]=b/3,m[l]=(y-h)/6048e5,m[i]=(y-h)/864e5,m[a]=y/n,m[s]=y/t,m[o]=y/e,m)[f]||y,p?b:C.a(b)},h.daysInMonth=function(){return this.endOf(c).$D},h.$locale=function(){return v[this.$L]},h.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=_(e,t,!0);return r&&(n.$L=r),n},h.clone=function(){return C.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},g}(),k=S.prototype;return x.prototype=k,[["$ms",r],["$s",o],["$m",s],["$H",a],["$W",i],["$M",c],["$y",d],["$D",$]].forEach((function(e){k[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),x.extend=function(e,t){return e.$i||(e(t,S,x),e.$i=!0),x},x.locale=_,x.isDayjs=w,x.unix=function(e){return x(1e3*e)},x.en=v[b],x.Ls=v,x.p={},x}()}(uo);const $o=uo.exports;var po={exports:{}};!function(e,t){e.exports=function(){var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,r=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,s={},a=function(e){return(e=+e)+(e>68?1900:2e3)},i=function(e){return function(t){this[e]=+t}},l=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:"+"===t[0]?-n:n}(e)}],c=function(e){var t=s[e];return t&&(t.indexOf?t:t.s.concat(t.f))},u=function(e,t){var n,r=s.meridiem;if(r){for(var o=1;o<=24;o+=1)if(e.indexOf(r(o,0,t))>-1){n=o>12;break}}else n=e===(t?"pm":"PM");return n},d={A:[o,function(e){this.afternoon=u(e,!1)}],a:[o,function(e){this.afternoon=u(e,!0)}],S:[/\d/,function(e){this.milliseconds=100*+e}],SS:[n,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[r,i("seconds")],ss:[r,i("seconds")],m:[r,i("minutes")],mm:[r,i("minutes")],H:[r,i("hours")],h:[r,i("hours")],HH:[r,i("hours")],hh:[r,i("hours")],D:[r,i("day")],DD:[n,i("day")],Do:[o,function(e){var t=s.ordinal,n=e.match(/\d+/);if(this.day=n[0],t)for(var r=1;r<=31;r+=1)t(r).replace(/\[|\]/g,"")===e&&(this.day=r)}],M:[r,i("month")],MM:[n,i("month")],MMM:[o,function(e){var t=c("months"),n=(c("monthsShort")||t.map((function(e){return e.slice(0,3)}))).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[o,function(e){var t=c("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,i("year")],YY:[n,function(e){this.year=a(e)}],YYYY:[/\d{4}/,i("year")],Z:l,ZZ:l};function $(n){var r,o;r=n,o=s&&s.formats;for(var a=(n=r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var s=r&&r.toUpperCase();return n||o[r]||e[r]||o[s].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))).match(t),i=a.length,l=0;l<i;l+=1){var c=a[l],u=d[c],$=u&&u[0],p=u&&u[1];a[l]=p?{regex:$,parser:p}:c.replace(/^\[|\]$/g,"")}return function(e){for(var t={},n=0,r=0;n<i;n+=1){var o=a[n];if("string"==typeof o)r+=o.length;else{var s=o.regex,l=o.parser,c=e.slice(r),u=s.exec(c)[0];l.call(t,u),e=e.replace(u,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(a=e.parseTwoDigitYear);var r=t.prototype,o=r.parse;r.parse=function(e){var t=e.date,r=e.utc,a=e.args;this.$u=r;var i=a[1];if("string"==typeof i){var l=!0===a[2],c=!0===a[3],u=l||c,d=a[2];c&&(d=a[2]),s=this.$locale(),!l&&d&&(s=n.Ls[d]),this.$d=function(e,t,n){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*e);var r=$(t)(e),o=r.year,s=r.month,a=r.day,i=r.hours,l=r.minutes,c=r.seconds,u=r.milliseconds,d=r.zone,p=new Date,m=a||(o||s?1:p.getDate()),f=o||p.getFullYear(),g=0;o&&!s||(g=s>0?s-1:p.getMonth());var h=i||0,y=l||0,b=c||0,v=u||0;return d?new Date(Date.UTC(f,g,m,h,y,b,v+60*d.offset*1e3)):n?new Date(Date.UTC(f,g,m,h,y,b,v)):new Date(f,g,m,h,y,b,v)}catch(e){return new Date("")}}(t,i,r),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),u&&t!=this.format(i)&&(this.$d=new Date("")),s={}}else if(i instanceof Array)for(var p=i.length,m=1;m<=p;m+=1){a[1]=i[m-1];var f=n.apply(this,a);if(f.isValid()){this.$d=f.$d,this.$L=f.$L,this.init();break}m===p&&(this.$d=new Date(""))}else o.call(this,e)}}}()}(po);const mo=po.exports;var fo={exports:{}};!function(e,t){e.exports=function(){var e,t,n=1e3,r=6e4,o=36e5,s=864e5,a=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,i=31536e6,l=2592e6,c=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,u={years:i,months:l,days:s,hours:o,minutes:r,seconds:n,milliseconds:1,weeks:6048e5},d=function(e){return e instanceof y},$=function(e,t,n){return new y(e,n,t.$l)},p=function(e){return t.p(e)+"s"},m=function(e){return e<0},f=function(e){return m(e)?Math.ceil(e):Math.floor(e)},g=function(e){return Math.abs(e)},h=function(e,t){return e?m(e)?{negative:!0,format:""+g(e)+t}:{negative:!1,format:""+e+t}:{negative:!1,format:""}},y=function(){function m(e,t,n){var r=this;if(this.$d={},this.$l=n,void 0===e&&(this.$ms=0,this.parseFromMilliseconds()),t)return $(e*u[p(t)],this);if("number"==typeof e)return this.$ms=e,this.parseFromMilliseconds(),this;if("object"==typeof e)return Object.keys(e).forEach((function(t){r.$d[p(t)]=e[t]})),this.calMilliseconds(),this;if("string"==typeof e){var o=e.match(c);if(o){var s=o.slice(2).map((function(e){return null!=e?Number(e):0}));return this.$d.years=s[0],this.$d.months=s[1],this.$d.weeks=s[2],this.$d.days=s[3],this.$d.hours=s[4],this.$d.minutes=s[5],this.$d.seconds=s[6],this.calMilliseconds(),this}}return this}var g=m.prototype;return g.calMilliseconds=function(){var e=this;this.$ms=Object.keys(this.$d).reduce((function(t,n){return t+(e.$d[n]||0)*u[n]}),0)},g.parseFromMilliseconds=function(){var e=this.$ms;this.$d.years=f(e/i),e%=i,this.$d.months=f(e/l),e%=l,this.$d.days=f(e/s),e%=s,this.$d.hours=f(e/o),e%=o,this.$d.minutes=f(e/r),e%=r,this.$d.seconds=f(e/n),e%=n,this.$d.milliseconds=e},g.toISOString=function(){var e=h(this.$d.years,"Y"),t=h(this.$d.months,"M"),n=+this.$d.days||0;this.$d.weeks&&(n+=7*this.$d.weeks);var r=h(n,"D"),o=h(this.$d.hours,"H"),s=h(this.$d.minutes,"M"),a=this.$d.seconds||0;this.$d.milliseconds&&(a+=this.$d.milliseconds/1e3);var i=h(a,"S"),l=e.negative||t.negative||r.negative||o.negative||s.negative||i.negative,c=o.format||s.format||i.format?"T":"",u=(l?"-":"")+"P"+e.format+t.format+r.format+c+o.format+s.format+i.format;return"P"===u||"-P"===u?"P0D":u},g.toJSON=function(){return this.toISOString()},g.format=function(e){var n=e||"YYYY-MM-DDTHH:mm:ss",r={Y:this.$d.years,YY:t.s(this.$d.years,2,"0"),YYYY:t.s(this.$d.years,4,"0"),M:this.$d.months,MM:t.s(this.$d.months,2,"0"),D:this.$d.days,DD:t.s(this.$d.days,2,"0"),H:this.$d.hours,HH:t.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:t.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:t.s(this.$d.seconds,2,"0"),SSS:t.s(this.$d.milliseconds,3,"0")};return n.replace(a,(function(e,t){return t||String(r[e])}))},g.as=function(e){return this.$ms/u[p(e)]},g.get=function(e){var t=this.$ms,n=p(e);return"milliseconds"===n?t%=1e3:t="weeks"===n?f(t/u[n]):this.$d[n],0===t?0:t},g.add=function(e,t,n){var r;return r=t?e*u[p(t)]:d(e)?e.$ms:$(e,this).$ms,$(this.$ms+r*(n?-1:1),this)},g.subtract=function(e,t){return this.add(e,t,!0)},g.locale=function(e){var t=this.clone();return t.$l=e,t},g.clone=function(){return $(this.$ms,this)},g.humanize=function(t){return e().add(this.$ms,"ms").locale(this.$l).fromNow(!t)},g.milliseconds=function(){return this.get("milliseconds")},g.asMilliseconds=function(){return this.as("milliseconds")},g.seconds=function(){return this.get("seconds")},g.asSeconds=function(){return this.as("seconds")},g.minutes=function(){return this.get("minutes")},g.asMinutes=function(){return this.as("minutes")},g.hours=function(){return this.get("hours")},g.asHours=function(){return this.as("hours")},g.days=function(){return this.get("days")},g.asDays=function(){return this.as("days")},g.weeks=function(){return this.get("weeks")},g.asWeeks=function(){return this.as("weeks")},g.months=function(){return this.get("months")},g.asMonths=function(){return this.as("months")},g.years=function(){return this.get("years")},g.asYears=function(){return this.as("years")},m}();return function(n,r,o){e=o,t=o().$utils(),o.duration=function(e,t){var n=o.locale();return $(e,{$l:n},t)},o.isDuration=d;var s=r.prototype.add,a=r.prototype.subtract;r.prototype.add=function(e,t){return d(e)&&(e=e.asMilliseconds()),s.bind(this)(e,t)},r.prototype.subtract=function(e,t){return d(e)&&(e=e.asMilliseconds()),a.bind(this)(e,t)}}}()}(fo);const go=fo.exports;function ho(e){return"object"==typeof e&&null!==e}function yo(e){return"number"==typeof e}function bo(e,t){return ho(e)&&t in e}function vo(e,t){return bo(e,t)&&"string"==typeof e[t]}function wo(e,t){return bo(e,t)&&"function"==typeof e[t]}function _o(e){return null!=e}function xo(e,t){return _o(e)?e:t}function Co(e,t){return void 0===e?void 0:t(e)}function So(e){throw new Error(`Exhaustive condition error: ${JSON.stringify(e)}`)}$o.extend(mo),$o.extend(go);function ko(e){const t=e??"_id";return crypto&&crypto.randomUUID?`${t}-${crypto.randomUUID()}`:`${t}-${Date.now().toString(36)}-${Math.random().toString(36).substring(2)}`}function Mo(e){wo(e,"focus")&&e.focus()}function Io(e){if(0===e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024)),n=e/1024**t,r=" KMGTP".charAt(t);return`${n.toFixed(2)} ${r}B`}function To(e,t="label"){return vo(e,t)?e[t]:void 0===e?"":String(e)}function Eo(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}function Do(e){const t=e-1;return t*t*t+1}function Oo(e){return"[object Date]"===Object.prototype.toString.call(e)}function No(e,t){if(e===t||e!=e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const n=t.map(((t,n)=>No(e[n],t)));return e=>n.map((t=>t(e)))}if("object"===n){if(!e||!t)throw new Error("Object cannot be null");if(Oo(e)&&Oo(t)){e=e.getTime();const n=(t=t.getTime())-e;return t=>new Date(e+t*n)}const n=Object.keys(t),r={};return n.forEach((n=>{r[n]=No(e[n],t[n])})),e=>{const t={};return n.forEach((n=>{t[n]=r[n](e)})),t}}if("number"===n){const n=t-e;return t=>e+t*n}throw new Error(`Cannot interpolate ${n} values`)}const Ao={allowPause:!0,duration:0};function Ro(e,t={}){const n={...Ao,...t},r=function(e,t={}){const n=pt(e);let r,o=e;function s(s,a){if(null==e)return n.set(e=s),Promise.resolve();o=s;let c=r,u=!1,{delay:d=0,duration:$=400,easing:p=i,interpolate:m=No}=l(l({},t),a);if(0===$)return c&&(c.abort(),c=null),n.set(e=o),Promise.resolve();const f=D()+d;let g;return r=R((t=>{if(t<f)return!0;u||(g=m(e,s),"function"==typeof $&&($=$(e,s)),u=!0),c&&(c.abort(),c=null);const r=t-f;return r>$?(n.set(e=s),!1):(n.set(e=g(p(r/$))),!0)})),r.promise}return{set:s,update:(t,n)=>s(t(o,e),n),subscribe:n.subscribe}}(e,n);let o=!1,s=e,a=e,{duration:c}=n,u=()=>{};function d(){return new Promise((e=>{u=e}))}return{update:function(e,t){c=t?.duration??n.duration,a=h(r),s=e(s,a);const o=d();return r.set(s,t).then(u),o},set:function(e,t){s=e,c=t?.duration??n.duration;const o=d();return r.update(((t,n)=>(a=n,e)),t).then(u),o},subscribe:r.subscribe,pause:function(){n.allowPause&&(o=!0,r.update(((e,t)=>(s=e,t)),{duration:0}))},resume:function(){if(!o)return;const e=h(r),t=(s-e)/((s-a)/c);r.set(s,{duration:t}).then(u)}}}function Fo(e){return function(e){return"object"==typeof e&&null!==e&&"subscribe"in e&&"function"==typeof e.subscribe}(e)?e:$t(e)}function Po(e){return mt(e,((e,t)=>e.subscribe(t)))}function Lo(e){let t=[];return $t(t,(n=>{const r=e.map(((e,r)=>e.subscribe((e=>{t=function(e,t,n){const r=[...e];return r[t]=n,r}(t,r,e),n(t)}))));return()=>r.forEach((e=>e()))}))}function Ho(e,t,n){return Po(mt(e,(e=>{const r=[...e].map((e=>mt(t(e),(t=>({value:e,key:t})))));return mt(Lo(r),(e=>[...e].sort(((e,t)=>n(e.key,t.key))).map((e=>e.value))))})))}function zo(e,t,n,r){let o=!1,s=0;const a=[],i=e=>{if(o)return;o=!0,s+=1;const t=()=>{o=!1,e(),s-=1,o||0!==s||a.splice(0,a.length).forEach((e=>e()))};"function"==typeof queueMicrotask?queueMicrotask(t):Promise.resolve().then(t)},l=$t(r,(r=>{let o=!1,s=0,a=[];const l=t=>{if(s!==t)return;const o=h(e);r(n(o,h))},c=e.subscribe((()=>{s+=1;const n=h(e),r=t(n);((e,t)=>{o=!0;const n=[...e.values()];a.forEach((e=>e())),a=n.map((e=>e.subscribe((()=>{s!==t||o||i((()=>l(t)))})))),o=!1})(new Set(r),s),l(s)}));return()=>{s=0,c(),a.forEach((e=>e())),a=[]}}));return{subscribe:l.subscribe,tick:()=>o||0!==s?new Promise((e=>{a.push(e)})):Promise.resolve()}}const Vo="validationContext";class qo{constructor(){e(this,"validationResult",pt(!0)),e(this,"validationFunctionMap",new Map)}validate(){let e=!0;for(const t of this.validationFunctionMap.values())e=e&&t();return this.validationResult.set(e),e}addValidator(e,t){this.validationFunctionMap.set(e,t),he((()=>{this.validationFunctionMap.delete(e),this.validate()}))}}function Bo(){const e=new qo;return be(Vo,e),e}function jo(){if(!we(Vo))throw Error("Validation context not present");return ve(Vo)}function Uo(e){if(!e.target)return;return e.target.value}function Wo(e){const t=Uo(e);return _o(t)?"object"==typeof t?JSON.stringify(t):String(t):""}function Yo(e){return e.detail}function Ko(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Go(e){return function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}(e).toLowerCase()}function*Xo(e,t,n){if(null==t||""===t.trim())return void(yield*e);function r(e){return Go(e.trim())}const o=r(t);for(const s of e){const e=n(s);(Array.isArray(e)?e:[e]).some((e=>r(e).includes(o)))&&(yield s)}}function Zo(e={}){return Object.fromEntries(Object.entries(e).filter((([,e])=>void 0!==e)))}function Jo(e){return Object.entries(e).filter((e=>0===e[0].indexOf("--"))).map((([e,t])=>`${e}: ${t};`)).join("")}function Qo(...e){return e.filter(_o).map((e=>{const t=e.trim();return t.endsWith(";")?t:`${t};`})).join("")}function es(e,t){return{component:e,props:t}}const ts=["input","button","select","textarea","a[href]","area[href]","iframe","object","embed","[tabindex]",'[contenteditable="true"]','[contenteditable=""]',"audio[controls]","video[controls]","details","summary"].join(", ");function ns(e){const t={focusable:!1},n=function(e){return bo(e,"tabIndex")&&"number"==typeof e.tabIndex?e.tabIndex:void 0}(e);if(void 0===n)return t;if(n<0)return t;if(bo(e,"disabled")&&e.disabled)return t;const{display:r,visibility:o}=getComputedStyle(e);return"none"===r||"hidden"===o||bo(e,"type")&&"hidden"===e.type?t:{focusable:!0,tabIndex:n}}function rs(e){const t=Array.from(function*(e){const t=e.querySelectorAll(ts);for(const n of t){const e=ns(n);e.focusable&&(yield{element:n,tabIndex:e.tabIndex})}}(e));return t.sort(((e,t)=>e.tabIndex-t.tabIndex)),t.map((({element:e})=>e))}function os(e){if(ns(e).focusable)return e;if(!e.parentElement)return;const t=e.parentElement.closest(ts);return t?os(t):void 0}function ss(){const e={};return{set:t=>be(e,t),get:()=>ve(e),getOrError:()=>{const t=ve(e);if(void 0===t)throw new Error("Value not found in context");return t}}}var as={exports:{}},is={exports:{}};!function(e){var t=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",i=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(D){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,s=Object.create(o.prototype),a=new I(r||[]);return s._invoke=function(e,t,n){var r=d;return function(o,s){if(r===p)throw new Error("Generator is already running");if(r===m){if("throw"===o)throw s;return E()}for(n.method=o,n.arg=s;;){var a=n.delegate;if(a){var i=S(a,n);if(i){if(i===f)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var l=u(e,t,n);if("normal"===l.type){if(r=n.done?m:$,l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=m,n.method="throw",n.arg=l.arg)}}}(e,n,a),s}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=c;var d="suspendedStart",$="suspendedYield",p="executing",m="completed",f={};function g(){}function h(){}function y(){}var b={};b[s]=function(){return this};var v=Object.getPrototypeOf,w=v&&v(v(T([])));w&&w!==n&&r.call(w,s)&&(b=w);var _=y.prototype=g.prototype=Object.create(b);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,s,a,i){var l=u(e[o],e,s);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,i)}),(function(e){n("throw",e,a,i)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,i)}))}i(l.arg)}var o;this._invoke=function(e,r){function s(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(s,s):s()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return f;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var o=u(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,f;var s=o.arg;return s?s.done?(n[e.resultName]=s.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,f):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(e){if(e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:E}}function E(){return{value:t,done:!0}}return h.prototype=_.constructor=y,y.constructor=h,h.displayName=l(y,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,i,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},x(C.prototype),C.prototype[a]=function(){return this},e.AsyncIterator=C,e.async=function(t,n,r,o,s){void 0===s&&(s=Promise);var a=new C(c(t,n,r,o),s);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(_),l(_,i,"Generator"),_[s]=function(){return this},_.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return i.type="throw",i.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var s=this.tryEntries.length-1;s>=0;--s){var a=this.tryEntries[s],i=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var s=o;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var a=s?s.completion:{};return a.type=e,a.arg=t,s?(this.method="next",this.next=s.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;M(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),f}},e}(e.exports);try{regeneratorRuntime=t}catch(n){Function("r","regeneratorRuntime = r")(t)}}(is),function(e){e.exports=is.exports}(as);var ls={},cs={exports:{}};!function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0}(cs);var us={exports:{}},ds={exports:{}},$s={exports:{}};!function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0}($s),function(e){var t=$s.exports;e.exports=function(e){if(Array.isArray(e))return t(e)},e.exports.default=e.exports,e.exports.__esModule=!0}(ds);var ps={exports:{}};!function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0}(ps);var ms={exports:{}};!function(e){var t=$s.exports;e.exports=function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0}(ms);var fs={exports:{}};!function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0}(fs),function(e){var t=ds.exports,n=ps.exports,r=ms.exports,o=fs.exports;e.exports=function(e){return t(e)||n(e)||r(e)||o()},e.exports.default=e.exports,e.exports.__esModule=!0}(us);var gs={},hs={};hs.notUndefined=function(e){return void 0!==e};var ys=hs.notUndefined;gs.isIterable=function(e){return null!=e&&ys(e[Symbol.iterator])};var bs={};bs.isLoopable=gs.isIterable;var vs={},ws=hs.notUndefined;vs.isWrappable=function(e){return null==e||ws(e[Symbol.iterator])};var _s={},xs=as.exports,Cs=xs.mark(ks),Ss=xs.mark(Ms);function ks(e){return xs.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(e,"t0",1);case 1:case"end":return t.stop()}}),Cs)}function Ms(e){return xs.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e){t.next=2;break}return t.delegateYield(e,"t0",2);case 2:case"end":return t.stop()}}),Ss)}_s.wrap=ks,_s.nullableWrap=Ms;var Is={},Ts=us.exports;function Es(e,t){var n=e.fn,r=e.validateArgs,o=e.variadic,s=e.reduces,a=e.growRight,i=e.minArgs,l=e.maxArgs,c=e.isIterable,u=e.iterableType,d=e.applyOnIterableArgs,$=e.IterableClass;if(t.length>i){var p=!0,m=o?t.findIndex((function(e,t){return c(e)&&t>=i})):Math.min(l,t.length-1),f=o?t.length:m+1;if(o)for(var g=m;g<t.length;g++)p=p&&c(t[g]);else p=c(t[m]);if(t.length>l&&(-1===m||!p)){var h=o?"...".concat(u,"s"):u,y="".concat(n.name," takes up to ").concat(l," arguments, followed by ").concat(h,". ")+"You already passed ".concat(t.length," arguments");throw o?new Error("".concat(y," and the following arguments were not all ").concat(u,"s")):new Error("".concat(y," and the last argument was not ").concat(u))}if(m>=0&&p){for(var b=m;b<f;b++)t[b]=d(t[b]);var v=o?t.slice(m):t[m];return t.splice(m),a||t.reverse(),t.unshift(v),r(t),s?n.apply(void 0,Ts(t)):new $(n,t)}}return Ds(e,t)}function Ds(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(0===r.length)throw new Error("Cannot make a partial application with no arguments");return r.unshift.apply(r,Ts(t)),Es(e,r)}}Is.curry=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return n<=s.length?t.apply(void 0,Ts(r).concat(s)):e(t,n-s.length,[].concat(Ts(r),s))}},Is.variadicCurryWithValidation=Ds;var Os={},Ns=Symbol.for("_");Os._=Ns;var As=Symbol("__iterate");Os.__iterate=As;var Rs=Symbol("split");Os.split=Rs;var Fs,Ps=cs.exports,Ls=us.exports,Hs=gs.isIterable,zs=bs.isLoopable,Vs=vs.isWrappable,qs=_s.nullableWrap,Bs=Is.variadicCurryWithValidation,js=Os,Us=js._,Ws=js.__iterate;function Ys(e){if(Vs(e))return Hs(e)?e:qs(e);throw"function"==typeof e.next?new TypeError("iter-tools received a value that looked like an iterator but was not iterable. Get help fixing this: https://github.com/iter-tools/iter-tools/wiki/Making-iterators-iterable"):new TypeError("Expected an iterable, null, or undefined")}function Ks(e,t){this[Us]={fn:e,args:t,staticIterator:null}}function Gs(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Ks.apply(this,t)}ls.wrap=qs,ls.isIterable=Hs,ls.isLoopable=zs,ls.isWrappable=Vs,ls.ensureIterable=Ys,ls.callReturn=function(e){"return"in e&&e.return()},ls.BaseIterableIterator=Ks,Object.assign(Ks.prototype,(Ps(Fs={constructor:Ks},Ws,(function(){var e=this[Us],t=e.fn,n=e.args;return t.apply(void 0,Ls(n))})),Ps(Fs,"next",(function(){var e=this[Us];return e.staticIterator=e.staticIterator||this[Ws](),e.staticIterator.next()})),Ps(Fs,"return",(function(e){var t=this[Us];return t.staticIterator=t.staticIterator||this[Ws](),t.staticIterator.return(e)})),Ps(Fs,"throw",(function(e){var t=this[Us];return t.staticIterator=t.staticIterator||this[Ws](),t.staticIterator.throw(e)})),Fs)),ls.IterableIterator=Gs,Gs.prototype=Object.assign(Object.create(Ks.prototype),Ps({constructor:Gs},Symbol.iterator,(function(){return this[Ws]()}))),ls.cache=function(e){return Ls(e)},ls.wrapWithIterableIterator=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.validateArgs,r=void 0===n?function(e){return e}:n;return function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return r(n),new Gs(e,n)}};ls.iterableCurry=function(e,t){return Bs(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.validateArgs,r=void 0===n?function(e){}:n,o=t.variadic,s=void 0!==o&&o,a=t.reduces,i=void 0!==a&&a,l=t.growRight,c=void 0!==l&&l,u=t.minArgs,d=void 0===u?e.length-1:u,$=t.maxArgs,p=void 0===$?e.length-1:$,m=t.applyOnIterableArgs;return{fn:e,validateArgs:r,variadic:s,reduces:i,growRight:c,minArgs:d,maxArgs:p,isIterable:Vs,iterableType:"iterable",applyOnIterableArgs:void 0===m?Ys:m,IterableClass:Gs}}(e,t))};var Xs={exports:{}};!function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0}(Xs);var Zs={exports:{}};!function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e},e.exports.default=e.exports,e.exports.__esModule=!0}(Zs);var Js={exports:{}};!function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,t(n,r)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0}(Js);var Qs={exports:{}},ea={exports:{}};!function(e){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.default=e.exports,e.exports.__esModule=!0}(ea),function(e){var t=Js.exports,n=ea.exports;function r(o,s,a){return n()?(e.exports=r=Reflect.construct,e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=r=function(e,n,r){var o=[null];o.push.apply(o,n);var s=new(Function.bind.apply(e,o));return r&&t(s,r.prototype),s},e.exports.default=e.exports,e.exports.__esModule=!0),r.apply(null,arguments)}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0}(Qs);var ta={},na=as.exports,ra=na.mark(ia);function oa(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return sa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sa(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw s}}}}function sa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var aa=ls.iterableCurry;function ia(e,t){var n,r,o,s;return na.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=0,r=oa(e),a.prev=2,r.s();case 4:if((o=r.n()).done){a.next=10;break}return s=o.value,a.next=8,t(s,n++);case 8:a.next=4;break;case 10:a.next=15;break;case 12:a.prev=12,a.t0=a.catch(2),r.e(a.t0);case 15:return a.prev=15,r.f(),a.finish(15);case 18:case"end":return a.stop()}}),ra,null,[[2,12,15,18]])}ta.__map=ia;var la=aa(ia);ta.map=la;var ca={};function ua(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return da(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return da(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw s}}}}function da(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $a=ls.iterableCurry;function pa(e,t){var n,r=0,o=ua(e);try{for(o.s();!(n=o.n()).done;){if(t(n.value,r++))return!0}}catch(s){o.e(s)}finally{o.f()}return!1}ca.__some=pa;var ma=$a(pa,{reduces:!0});ca.some=ma;var fa={},ga={};function ha(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ya(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ya(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw s}}}}function ya(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ba=ls.ensureIterable;function va(e){var t,n=[],r=ha(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;n.push(o)}}catch(s){r.e(s)}finally{r.f()}return n}ga.__toArray=va,ga.toArray=function(e){return va(ba(e))};var wa=as.exports,_a=wa.mark(Sa),xa=ls.iterableCurry,Ca=ga.__toArray;function Sa(e,t){var n;return wa.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if((n=Array.isArray(e)?e:Ca(e)).length){r.next=3;break}return r.abrupt("return");case 3:if(!t--){r.next=7;break}return r.delegateYield(n,"t0",5);case 5:r.next=3;break;case 7:case"end":return r.stop()}}),_a)}fa.__cycleTimes=Sa;var ka=xa(Sa);fa.cycleTimes=ka;var Ma={};function Ia(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ta(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ta(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw s}}}}function Ta(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ea=ls.iterableCurry;function Da(e,t){var n,r=0,o=Ia(e);try{for(o.s();!(n=o.n()).done;){if(!t(n.value,r++))return!1}}catch(s){o.e(s)}finally{o.f()}return!0}Ma.__every=Da;var Oa=Ea(Da,{reduces:!0});Ma.every=Oa;var Na={};function Aa(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ra(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ra(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw s}}}}function Ra(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Fa=ls.iterableCurry;function Pa(e,t,n){var r,o=0,s=Aa(e);try{for(s.s();!(r=s.n()).done;){var a=r.value;if(n(a,o++))return a}}catch(i){s.e(i)}finally{s.f()}return t}Na.__findOr=Pa;var La=Fa(Pa,{growRight:!0,reduces:!0});Na.findOr=La;var Ha,za={};var Va={},qa={},Ba=Qs.exports,ja=Xs.exports,Ua=Zs.exports,Wa=ls,Ya=Wa.ensureIterable,Ka=Wa.callReturn,Ga=Symbol.for("_"),Xa=function(){function e(t){ja(this,e),this.peekr=t}return Ua(e,[{key:"next",value:function(){var e=this.peekr,t=e.current;return e.advance(),t}},{key:"return",value:function(){return this.peekr.return(),{value:void 0,done:!0}}},{key:Symbol.iterator,value:function(){return this}}]),e}(),Za=function(){function e(t,n){ja(this,e),this[Ga]={iterator:t,current:n,index:0}}return Ua(e,null,[{key:"from",value:function(e){for(var t=Ya(e)[Symbol.iterator](),n=t.next(),r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return Ba(this,[t,n].concat(o))}}]),Ua(e,[{key:"advance",value:function(){var e=this[Ga];return e.current.done||(e.index++,e.current=e.iterator.next()),this}},{key:"return",value:function(){var e=this[Ga];return this.done||Ka(e.iterator),e.current={value:void 0,done:!0},this}},{key:"asIterator",value:function(){return new Xa(this)}},{key:"current",get:function(){return this[Ga].current}},{key:"value",get:function(){return this[Ga].current.value}},{key:"done",get:function(){return this[Ga].current.done}},{key:"index",get:function(){return this[Ga].index}}]),e}();qa.Peekerator=Za;var Ja=ls.ensureIterable,Qa=qa.Peekerator;function ei(e){return Qa.from(e)}Va.__peekerate=ei;var ti,ni=(ti=ei,function(e){return ti(Ja(e))});Va.peekerate=ni;var ri={},oi=as.exports,si=oi.mark(gi);function ai(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ii(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ii(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw s}}}}function ii(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var li=ls.iterableCurry,ci=function(){if(Ha)return za;function e(e,n){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,n)}(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var o=0,s=function(){};return{s:s,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw a}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}return Ha=1,za.parallelEach=function(t,n){var r,o=e(t);try{for(o.s();!(r=o.n()).done;){n(r.value)}}catch(s){o.e(s)}finally{o.f()}},za}(),ui=ci.parallelEach,di=Va.__peekerate,$i=ta.__map,pi=ca.__some,mi=ga.__toArray,fi=function(e){return e.done};function gi(e){var t,n,r,o;return oi.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:t=mi($i(e,di)),n=pi(t,fi),s.prev=2;case 3:if(n){s.next=11;break}return s.next=6,t.map((function(e){return e.value}));case 6:r=ai(t);try{for(r.s();!(o=r.n()).done;)o.value.advance()}catch(a){r.e(a)}finally{r.f()}n=pi(t,fi),s.next=3;break;case 11:return s.prev=11,ui(t,(function(e){return e.return()})),s.finish(11);case 14:case"end":return s.stop()}}),si,null,[[2,,11,14]])}ri.__zip=gi;var hi=li(gi,{variadic:!0});ri.zip=hi;var yi={},bi=as.exports,vi=bi.mark(Ci);function wi(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw s}}}}function _i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xi=ls.iterableCurry;function Ci(e,t){var n,r,o,s;return bi.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=0,r=wi(e),a.prev=2,r.s();case 4:if((o=r.n()).done){a.next=11;break}if(s=o.value,!t(s,n++)){a.next=9;break}return a.next=9,s;case 9:a.next=4;break;case 11:a.next=16;break;case 13:a.prev=13,a.t0=a.catch(2),r.e(a.t0);case 16:return a.prev=16,r.f(),a.finish(16);case 19:case"end":return a.stop()}}),vi,null,[[2,13,16,19]])}yi.__filter=Ci;var Si=xi(Ci);yi.filter=Si;var ki={},Mi=as.exports,Ii=Mi.mark(Oi),Ti=ls,Ei=Ti.wrapWithIterableIterator,Di=Ti.ensureIterable;function Oi(){var e,t,n,r,o,s,a=arguments;return Mi.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:for(e=a.length,t=new Array(e),n=0;n<e;n++)t[n]=a[n];r=0,o=t;case 2:if(!(r<o.length)){i.next=8;break}return s=o[r],i.delegateYield(Di(s),"t0",5);case 5:r++,i.next=2;break;case 8:case"end":return i.stop()}}),Ii)}ki.__concat=Oi;var Ni=Ei(Oi);ki.concat=Ni;var Ai={},Ri=ls.iterableCurry,Fi=fa.__cycleTimes;function Pi(e){return Fi(e,1/0)}Ai.__cycle=Pi;var Li=Ri(Pi);Ai.cycle=Li;var Hi={},zi=as.exports,Vi=zi.mark(Ui);function qi(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Bi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bi(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw s}}}}function Bi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ji=ls.iterableCurry;function Ui(e,t){var n,r,o,s,a;return zi.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:n=new Set,r=qi(e),i.prev=2,r.s();case 4:if((o=r.n()).done){i.next=14;break}if(s=o.value,a=t?t(s):s,!n.has(a)){i.next=9;break}return i.abrupt("continue",12);case 9:return n.add(a),i.next=12,s;case 12:i.next=4;break;case 14:i.next=19;break;case 16:i.prev=16,i.t0=i.catch(2),r.e(i.t0);case 19:return i.prev=19,r.f(),i.finish(19);case 22:case"end":return i.stop()}}),Vi,null,[[2,16,19,22]])}Hi.__distinct=Ui;var Wi=ji(Ui,{minArgs:0,maxArgs:1});Hi.distinct=Wi;var Yi={},Ki=ls.iterableCurry,Gi=ta.__map;function Xi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Gi(e,(function(e,n){return[t+n,e]}))}Yi.__enumerate=Xi;var Zi=Ki(Xi,{minArgs:0,maxArgs:1});Yi.enumerate=Zi;var Ji={},Qi=ls.iterableCurry,el=Na.__findOr;function tl(e,t){return el(e,void 0,t)}Ji.__find=tl;var nl=Qi(tl,{reduces:!0});Ji.find=nl;var rl={},ol={},sl=ls.iterableCurry,al=Va.__peekerate;function il(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e},o=al(e);if(o.done)return t;var s=o.value,a=r(s,o.index);for(o.advance();!o.done;){var i=o.value,l=r(i,o.index);n(a,l)&&(s=i,a=l),o.advance()}return s}ol.__findBestOr=il;var ll=sl(il,{reduces:!0,minArgs:2,maxArgs:3,growRight:!0});ol.findBestOr=ll;var cl=ls.iterableCurry,ul=ol.__findBestOr;function dl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return ul(e,void 0,t,n)}rl.__findBest=dl;var $l=cl(dl,{reduces:!0,minArgs:1,maxArgs:2,growRight:!0});rl.findBest=$l;var pl={},ml={},fl=ls,gl=fl.iterableCurry,hl=fl.callReturn;function yl(e,t){var n=e[Symbol.iterator](),r=n.next(),o=r.value;return r.done?t:(hl(n),o)}ml.__firstOr=yl;var bl=gl(yl,{reduces:!0});ml.firstOr=bl;var vl=ls.iterableCurry,wl=ml.__firstOr;function _l(e){return wl(e,void 0)}pl.__first=_l;var xl=vl(_l,{reduces:!0});pl.first=xl;var Cl={},Sl=as.exports,kl=Sl.mark(Dl);function Ml(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Il(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Il(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw s}}}}function Il(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Tl=ls.iterableCurry,El=ta.__map;function Dl(e,t){var n,r,o;return Sl.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:n=Ml(El(e,t)),s.prev=1,n.s();case 3:if((r=n.n()).done){s.next=8;break}return o=r.value,s.delegateYield(o,"t0",6);case 6:s.next=3;break;case 8:s.next=13;break;case 10:s.prev=10,s.t1=s.catch(1),n.e(s.t1);case 13:return s.prev=13,n.f(),s.finish(13);case 16:case"end":return s.stop()}}),kl,null,[[1,10,13,16]])}Cl.__flatMap=Dl;var Ol=Tl(Dl);Cl.flatMap=Ol;var Nl={},Al=as.exports,Rl=Al.mark(Hl);function Fl(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Pl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pl(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw s}}}}function Pl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ll=ls.iterableCurry;function Hl(e,t){var n,r,o,s;return Al.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(0!==t){a.next=2;break}return a.abrupt("return");case 2:n=0,r=Fl(e),a.prev=4,r.s();case 6:if((o=r.n()).done){a.next=14;break}return s=o.value,a.next=10,s;case 10:if(++n!==t){a.next=12;break}return a.abrupt("break",14);case 12:a.next=6;break;case 14:a.next=19;break;case 16:a.prev=16,a.t0=a.catch(4),r.e(a.t0);case 19:return a.prev=19,r.f(),a.finish(19);case 22:case"end":return a.stop()}}),Rl,null,[[4,16,19,22]])}Nl.__take=Hl;var zl=Ll(Hl);Nl.take=zl;var Vl={},ql={};function Bl(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return jl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jl(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw s}}}}function jl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ul=ls.iterableCurry;function Wl(e,t){var n,r=t,o=Bl(e);try{for(o.s();!(n=o.n()).done;){r=n.value}}catch(s){o.e(s)}finally{o.f()}return r}ql.__takeLastOr=Wl;var Yl=Ul(Wl,{reduces:!0});ql.takeLastOr=Yl;var Kl=ls.iterableCurry,Gl=ql.__takeLastOr;function Xl(e){return Gl(e,void 0)}Vl.__takeLast=Xl;var Zl=Kl(Xl,{reduces:!0});Vl.takeLast=Zl;var Jl={};Jl.__arrayFrom=ga.__toArray,Jl.arrayFrom=ga.toArray;const Ql=Jl.arrayFrom;const ec=ki.concat;const tc=Ai.cycle;const nc=Hi.distinct;const rc=Yi.enumerate;const oc=Ma.every;var sc={};sc.execPipe=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return t(e)}),e)};const ac=sc.execPipe;const ic=yi.filter;const lc=Ji.find;const cc=rl.findBest;const uc=pl.first;var dc={};dc.firstHighest=function(e,t){return t>e};const $c=dc.firstHighest;var pc={};pc.firstLowest=function(e,t){return t<e};const mc=pc.firstLowest;const fc=Cl.flatMap;const gc=ta.map;const hc=ca.some;const yc=Nl.take;const bc=Vl.takeLast;const vc=ga.toArray;const wc=ri.zip;function _c(e,t){let{callback:n,references:r}=t;function o(t){const o=t.target;hc((e=>e.contains(o)),function*(){if(r)for(const e of h(r))e&&(yield e)}())||e.contains(o)||n(t)}const s="onpointerdown"in document.body?["pointerdown"]:["mousedown","contextmenu"];return s.forEach((e=>{document.body.addEventListener(e,o,!0)})),{update:function(e){n=e.callback,r=e.references},destroy:function(){s.forEach((e=>{document.body.removeEventListener(e,o,!0)}))}}}var xc={exports:{}};function Cc(e,t={}){const n=t.matchTriggerWidthPxUpTo??250,r=[{name:"flip"},{name:"preventOverflow",options:{altAxis:!0}},{name:"offset",options:{offset:[0,0]}},...[{name:"setMinWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:e=>{const t=Math.min(n,e.state.rects.reference.width);e.state.styles.popper.minWidth=`${t}px`},effect:e=>{const t=e.state.elements.reference.offsetWidth,r=Math.min(n,t);e.state.elements.popper.style.minWidth=`${r}px`}}]];return e.forEach((e=>{const t=r.findIndex((t=>t.name===e.name));-1===t?r.push(e):r[t]=e})),r}function Sc(e,t){let n,r,o;const s=t.autoReposition??!1;function a(r,a){r&&(n=xc.exports.createPopper(r,e,{placement:a?.placement||"bottom-start",modifiers:Cc(a?.modifiers??[],t.customModifierOptions)}),s&&(o=new ResizeObserver((()=>{n.update()})),o.observe(e)))}function i(){o?.disconnect(),n?.destroy(),r=void 0}return a(t.reference,t.options),{update:function(e){const{reference:t,options:o}=e;if(t){if(n)return r!==t?(i(),a(t,o),void(r=t)):void(o&&n.setOptions(o));a(t,o)}else i()},destroy:i}}function kc(e){const t=e.clientX,n=e.clientY;return{getBoundingClientRect:()=>({width:0,height:0,x:t,y:n,top:n,right:t,bottom:n,left:t,toJSON:()=>({x:t,y:n})})}}function Mc(e,t){function n(t){t&&t instanceof HTMLElement&&t.appendChild(e)}return n(t??document.querySelector("body")??void 0),{update:n,destroy:function(){e.parentElement?.removeChild(e)}}}!function(e,t){!function(e){function t(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function n(e){return e instanceof t(e).Element||e instanceof Element}function r(e){return e instanceof t(e).HTMLElement||e instanceof HTMLElement}function o(e){return"undefined"!=typeof ShadowRoot&&(e instanceof t(e).ShadowRoot||e instanceof ShadowRoot)}var s=Math.max,a=Math.min,i=Math.round;function l(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function c(){return!/^((?!chrome|android).)*safari/i.test(l())}function u(e,o,s){void 0===o&&(o=!1),void 0===s&&(s=!1);var a=e.getBoundingClientRect(),l=1,u=1;o&&r(e)&&(l=e.offsetWidth>0&&i(a.width)/e.offsetWidth||1,u=e.offsetHeight>0&&i(a.height)/e.offsetHeight||1);var d=(n(e)?t(e):window).visualViewport,$=!c()&&s,p=(a.left+($&&d?d.offsetLeft:0))/l,m=(a.top+($&&d?d.offsetTop:0))/u,f=a.width/l,g=a.height/u;return{width:f,height:g,top:m,right:p+f,bottom:m+g,left:p,x:p,y:m}}function d(e){var n=t(e);return{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function $(e){return e?(e.nodeName||"").toLowerCase():null}function p(e){return((n(e)?e.ownerDocument:e.document)||window.document).documentElement}function m(e){return u(p(e)).left+d(e).scrollLeft}function f(e){return t(e).getComputedStyle(e)}function g(e){var t=f(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function h(e,n,o){void 0===o&&(o=!1);var s,a,l=r(n),c=r(n)&&function(e){var t=e.getBoundingClientRect(),n=i(t.width)/e.offsetWidth||1,r=i(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(n),f=p(n),h=u(e,c,o),y={scrollLeft:0,scrollTop:0},b={x:0,y:0};return(l||!l&&!o)&&(("body"!==$(n)||g(f))&&(y=(s=n)!==t(s)&&r(s)?{scrollLeft:(a=s).scrollLeft,scrollTop:a.scrollTop}:d(s)),r(n)?((b=u(n,!0)).x+=n.clientLeft,b.y+=n.clientTop):f&&(b.x=m(f))),{x:h.left+y.scrollLeft-b.x,y:h.top+y.scrollTop-b.y,width:h.width,height:h.height}}function y(e){var t=u(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function b(e){return"html"===$(e)?e:e.assignedSlot||e.parentNode||(o(e)?e.host:null)||p(e)}function v(e){return["html","body","#document"].indexOf($(e))>=0?e.ownerDocument.body:r(e)&&g(e)?e:v(b(e))}function w(e,n){var r;void 0===n&&(n=[]);var o=v(e),s=o===(null==(r=e.ownerDocument)?void 0:r.body),a=t(o),i=s?[a].concat(a.visualViewport||[],g(o)?o:[]):o,l=n.concat(i);return s?l:l.concat(w(b(i)))}function _(e){return["table","td","th"].indexOf($(e))>=0}function x(e){return r(e)&&"fixed"!==f(e).position?e.offsetParent:null}function C(e){for(var n=t(e),s=x(e);s&&_(s)&&"static"===f(s).position;)s=x(s);return s&&("html"===$(s)||"body"===$(s)&&"static"===f(s).position)?n:s||function(e){var t=/firefox/i.test(l());if(/Trident/i.test(l())&&r(e)&&"fixed"===f(e).position)return null;var n=b(e);for(o(n)&&(n=n.host);r(n)&&["html","body"].indexOf($(n))<0;){var s=f(n);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||t&&"filter"===s.willChange||t&&s.filter&&"none"!==s.filter)return n;n=n.parentNode}return null}(e)||n}var S="top",k="bottom",M="right",I="left",T="auto",E=[S,k,M,I],D="start",O="end",N="viewport",A="popper",R=E.reduce((function(e,t){return e.concat([t+"-"+D,t+"-"+O])}),[]),F=[].concat(E,[T]).reduce((function(e,t){return e.concat([t,t+"-"+D,t+"-"+O])}),[]),P=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function L(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}function H(e){return e.split("-")[0]}function z(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&o(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function V(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function q(e,r,o){return r===N?V(function(e,n){var r=t(e),o=p(e),s=r.visualViewport,a=o.clientWidth,i=o.clientHeight,l=0,u=0;if(s){a=s.width,i=s.height;var d=c();(d||!d&&"fixed"===n)&&(l=s.offsetLeft,u=s.offsetTop)}return{width:a,height:i,x:l+m(e),y:u}}(e,o)):n(r)?function(e,t){var n=u(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(r,o):V(function(e){var t,n=p(e),r=d(e),o=null==(t=e.ownerDocument)?void 0:t.body,a=s(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),i=s(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),l=-r.scrollLeft+m(e),c=-r.scrollTop;return"rtl"===f(o||n).direction&&(l+=s(n.clientWidth,o?o.clientWidth:0)-a),{width:a,height:i,x:l,y:c}}(p(e)))}function B(e,t,o,i){var l="clippingParents"===t?function(e){var t=w(b(e)),o=["absolute","fixed"].indexOf(f(e).position)>=0&&r(e)?C(e):e;return n(o)?t.filter((function(e){return n(e)&&z(e,o)&&"body"!==$(e)})):[]}(e):[].concat(t),c=[].concat(l,[o]),u=c[0],d=c.reduce((function(t,n){var r=q(e,n,i);return t.top=s(r.top,t.top),t.right=a(r.right,t.right),t.bottom=a(r.bottom,t.bottom),t.left=s(r.left,t.left),t}),q(e,u,i));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function j(e){return e.split("-")[1]}function U(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function W(e){var t,n=e.reference,r=e.element,o=e.placement,s=o?H(o):null,a=o?j(o):null,i=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(s){case S:t={x:i,y:n.y-r.height};break;case k:t={x:i,y:n.y+n.height};break;case M:t={x:n.x+n.width,y:l};break;case I:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=s?U(s):null;if(null!=c){var u="y"===c?"height":"width";switch(a){case D:t[c]=t[c]-(n[u]/2-r[u]/2);break;case O:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}function Y(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function K(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function G(e,t){void 0===t&&(t={});var r=t,o=r.placement,s=void 0===o?e.placement:o,a=r.strategy,i=void 0===a?e.strategy:a,l=r.boundary,c=void 0===l?"clippingParents":l,d=r.rootBoundary,$=void 0===d?N:d,m=r.elementContext,f=void 0===m?A:m,g=r.altBoundary,h=void 0!==g&&g,y=r.padding,b=void 0===y?0:y,v=Y("number"!=typeof b?b:K(b,E)),w=f===A?"reference":A,_=e.rects.popper,x=e.elements[h?w:f],C=B(n(x)?x:x.contextElement||p(e.elements.popper),c,$,i),I=u(e.elements.reference),T=W({reference:I,element:_,strategy:"absolute",placement:s}),D=V(Object.assign({},_,T)),O=f===A?D:I,R={top:C.top-O.top+v.top,bottom:O.bottom-C.bottom+v.bottom,left:C.left-O.left+v.left,right:O.right-C.right+v.right},F=e.modifiersData.offset;if(f===A&&F){var P=F[s];Object.keys(R).forEach((function(e){var t=[M,k].indexOf(e)>=0?1:-1,n=[S,k].indexOf(e)>=0?"y":"x";R[e]+=P[n]*t}))}return R}var X={placement:"bottom",modifiers:[],strategy:"absolute"};function Z(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function J(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,o=void 0===r?[]:r,s=t.defaultOptions,a=void 0===s?X:s;return function(e,t,r){void 0===r&&(r=a);var s,i,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},X,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],u=!1,d={state:l,setOptions:function(r){var s="function"==typeof r?r(l.options):r;$(),l.options=Object.assign({},a,l.options,s),l.scrollParents={reference:n(e)?w(e):e.contextElement?w(e.contextElement):[],popper:w(t)};var i,u,p=function(e){var t=L(e);return P.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((i=[].concat(o,l.options.modifiers),u=i.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(u).map((function(e){return u[e]}))));return l.orderedModifiers=p.filter((function(e){return e.enabled})),l.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"==typeof o){var s=o({state:l,name:t,instance:d,options:r}),a=function(){};c.push(s||a)}})),d.update()},forceUpdate:function(){if(!u){var e=l.elements,t=e.reference,n=e.popper;if(Z(t,n)){l.rects={reference:h(t,C(n),"fixed"===l.options.strategy),popper:y(n)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(e){return l.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<l.orderedModifiers.length;r++)if(!0!==l.reset){var o=l.orderedModifiers[r],s=o.fn,a=o.options,i=void 0===a?{}:a,c=o.name;"function"==typeof s&&(l=s({state:l,options:i,name:c,instance:d})||l)}else l.reset=!1,r=-1}}},update:(s=function(){return new Promise((function(e){d.forceUpdate(),e(l)}))},function(){return i||(i=new Promise((function(e){Promise.resolve().then((function(){i=void 0,e(s())}))}))),i}),destroy:function(){$(),u=!0}};if(!Z(e,t))return d;function $(){c.forEach((function(e){return e()})),c=[]}return d.setOptions(r).then((function(e){!u&&r.onFirstUpdate&&r.onFirstUpdate(e)})),d}}var Q={passive:!0},ee={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var n=e.state,r=e.instance,o=e.options,s=o.scroll,a=void 0===s||s,i=o.resize,l=void 0===i||i,c=t(n.elements.popper),u=[].concat(n.scrollParents.reference,n.scrollParents.popper);return a&&u.forEach((function(e){e.addEventListener("scroll",r.update,Q)})),l&&c.addEventListener("resize",r.update,Q),function(){a&&u.forEach((function(e){e.removeEventListener("scroll",r.update,Q)})),l&&c.removeEventListener("resize",r.update,Q)}},data:{}},te={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=W({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},ne={top:"auto",right:"auto",bottom:"auto",left:"auto"};function re(e){var n,r=e.popper,o=e.popperRect,s=e.placement,a=e.variation,l=e.offsets,c=e.position,u=e.gpuAcceleration,d=e.adaptive,$=e.roundOffsets,m=e.isFixed,g=l.x,h=void 0===g?0:g,y=l.y,b=void 0===y?0:y,v="function"==typeof $?$({x:h,y:b}):{x:h,y:b};h=v.x,b=v.y;var w=l.hasOwnProperty("x"),_=l.hasOwnProperty("y"),x=I,T=S,E=window;if(d){var D=C(r),N="clientHeight",A="clientWidth";D===t(r)&&"static"!==f(D=p(r)).position&&"absolute"===c&&(N="scrollHeight",A="scrollWidth"),(s===S||(s===I||s===M)&&a===O)&&(T=k,b-=(m&&D===E&&E.visualViewport?E.visualViewport.height:D[N])-o.height,b*=u?1:-1),s!==I&&(s!==S&&s!==k||a!==O)||(x=M,h-=(m&&D===E&&E.visualViewport?E.visualViewport.width:D[A])-o.width,h*=u?1:-1)}var R,F=Object.assign({position:c},d&&ne),P=!0===$?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:i(t*r)/r||0,y:i(n*r)/r||0}}({x:h,y:b}):{x:h,y:b};return h=P.x,b=P.y,u?Object.assign({},F,((R={})[T]=_?"0":"",R[x]=w?"0":"",R.transform=(E.devicePixelRatio||1)<=1?"translate("+h+"px, "+b+"px)":"translate3d("+h+"px, "+b+"px, 0)",R)):Object.assign({},F,((n={})[T]=_?b+"px":"",n[x]=w?h+"px":"",n.transform="",n))}var oe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,s=n.adaptive,a=void 0===s||s,i=n.roundOffsets,l=void 0===i||i,c={placement:H(t.placement),variation:j(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,re(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,re(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},se={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},o=t.attributes[e]||{},s=t.elements[e];r(s)&&$(s)&&(Object.assign(s.style,n),Object.keys(o).forEach((function(e){var t=o[e];!1===t?s.removeAttribute(e):s.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var o=t.elements[e],s=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});r(o)&&$(o)&&(Object.assign(o.style,a),Object.keys(s).forEach((function(e){o.removeAttribute(e)})))}))}},requires:["computeStyles"]},ae={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,s=void 0===o?[0,0]:o,a=F.reduce((function(e,n){return e[n]=function(e,t,n){var r=H(e),o=[I,S].indexOf(r)>=0?-1:1,s="function"==typeof n?n(Object.assign({},t,{placement:e})):n,a=s[0],i=s[1];return a=a||0,i=(i||0)*o,[I,M].indexOf(r)>=0?{x:i,y:a}:{x:a,y:i}}(n,t.rects,s),e}),{}),i=a[t.placement],l=i.x,c=i.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}},ie={left:"right",right:"left",bottom:"top",top:"bottom"};function le(e){return e.replace(/left|right|bottom|top/g,(function(e){return ie[e]}))}var ce={start:"end",end:"start"};function ue(e){return e.replace(/start|end/g,(function(e){return ce[e]}))}function de(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,s=n.rootBoundary,a=n.padding,i=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?F:l,u=j(r),d=u?i?R:R.filter((function(e){return j(e)===u})):E,$=d.filter((function(e){return c.indexOf(e)>=0}));0===$.length&&($=d);var p=$.reduce((function(t,n){return t[n]=G(e,{placement:n,boundary:o,rootBoundary:s,padding:a})[H(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}var $e={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,s=void 0===o||o,a=n.altAxis,i=void 0===a||a,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,$=n.altBoundary,p=n.flipVariations,m=void 0===p||p,f=n.allowedAutoPlacements,g=t.options.placement,h=H(g),y=l||(h!==g&&m?function(e){if(H(e)===T)return[];var t=le(e);return[ue(e),t,ue(t)]}(g):[le(g)]),b=[g].concat(y).reduce((function(e,n){return e.concat(H(n)===T?de(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:m,allowedAutoPlacements:f}):n)}),[]),v=t.rects.reference,w=t.rects.popper,_=new Map,x=!0,C=b[0],E=0;E<b.length;E++){var O=b[E],N=H(O),A=j(O)===D,R=[S,k].indexOf(N)>=0,F=R?"width":"height",P=G(t,{placement:O,boundary:u,rootBoundary:d,altBoundary:$,padding:c}),L=R?A?M:I:A?k:S;v[F]>w[F]&&(L=le(L));var z=le(L),V=[];if(s&&V.push(P[N]<=0),i&&V.push(P[L]<=0,P[z]<=0),V.every((function(e){return e}))){C=O,x=!1;break}_.set(O,V)}if(x)for(var q=function(e){var t=b.find((function(t){var n=_.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return C=t,"break"},B=m?3:1;B>0&&"break"!==q(B);B--);t.placement!==C&&(t.modifiersData[r]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function pe(e,t,n){return s(e,a(t,n))}var me={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=void 0===o||o,l=n.altAxis,c=void 0!==l&&l,u=n.boundary,d=n.rootBoundary,$=n.altBoundary,p=n.padding,m=n.tether,f=void 0===m||m,g=n.tetherOffset,h=void 0===g?0:g,b=G(t,{boundary:u,rootBoundary:d,padding:p,altBoundary:$}),v=H(t.placement),w=j(t.placement),_=!w,x=U(v),T="x"===x?"y":"x",E=t.modifiersData.popperOffsets,O=t.rects.reference,N=t.rects.popper,A="function"==typeof h?h(Object.assign({},t.rects,{placement:t.placement})):h,R="number"==typeof A?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),F=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,P={x:0,y:0};if(E){if(i){var L,z="y"===x?S:I,V="y"===x?k:M,q="y"===x?"height":"width",B=E[x],W=B+b[z],Y=B-b[V],K=f?-N[q]/2:0,X=w===D?O[q]:N[q],Z=w===D?-N[q]:-O[q],J=t.elements.arrow,Q=f&&J?y(J):{width:0,height:0},ee=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},te=ee[z],ne=ee[V],re=pe(0,O[q],Q[q]),oe=_?O[q]/2-K-re-te-R.mainAxis:X-re-te-R.mainAxis,se=_?-O[q]/2+K+re+ne+R.mainAxis:Z+re+ne+R.mainAxis,ae=t.elements.arrow&&C(t.elements.arrow),ie=ae?"y"===x?ae.clientTop||0:ae.clientLeft||0:0,le=null!=(L=null==F?void 0:F[x])?L:0,ce=B+se-le,ue=pe(f?a(W,B+oe-le-ie):W,B,f?s(Y,ce):Y);E[x]=ue,P[x]=ue-B}if(c){var de,$e="x"===x?S:I,me="x"===x?k:M,fe=E[T],ge="y"===T?"height":"width",he=fe+b[$e],ye=fe-b[me],be=-1!==[S,I].indexOf(v),ve=null!=(de=null==F?void 0:F[T])?de:0,we=be?he:fe-O[ge]-N[ge]-ve+R.altAxis,_e=be?fe+O[ge]+N[ge]-ve-R.altAxis:ye,xe=f&&be?function(e,t,n){var r=pe(e,t,n);return r>n?n:r}(we,fe,_e):pe(f?we:he,fe,f?_e:ye);E[T]=xe,P[T]=xe-fe}t.modifiersData[r]=P}},requiresIfExists:["offset"]},fe={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,s=n.elements.arrow,a=n.modifiersData.popperOffsets,i=H(n.placement),l=U(i),c=[I,M].indexOf(i)>=0?"height":"width";if(s&&a){var u=function(e,t){return Y("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:K(e,E))}(o.padding,n),d=y(s),$="y"===l?S:I,p="y"===l?k:M,m=n.rects.reference[c]+n.rects.reference[l]-a[l]-n.rects.popper[c],f=a[l]-n.rects.reference[l],g=C(s),h=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,b=m/2-f/2,v=u[$],w=h-d[c]-u[p],_=h/2-d[c]/2+b,x=pe(v,_,w),T=l;n.modifiersData[r]=((t={})[T]=x,t.centerOffset=x-_,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&z(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ge(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function he(e){return[S,M,k,I].some((function(t){return e[t]>=0}))}var ye={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,s=t.modifiersData.preventOverflow,a=G(t,{elementContext:"reference"}),i=G(t,{altBoundary:!0}),l=ge(a,r),c=ge(i,o,s),u=he(l),d=he(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}},be=J({defaultModifiers:[ee,te,oe,se]}),ve=[ee,te,oe,se,ae,$e,me,fe,ye],we=J({defaultModifiers:ve});e.applyStyles=se,e.arrow=fe,e.computeStyles=oe,e.createPopper=we,e.createPopperLite=be,e.defaultModifiers=ve,e.detectOverflow=G,e.eventListeners=ee,e.flip=$e,e.hide=ye,e.offset=ae,e.popperGenerator=J,e.popperOffsets=te,e.preventOverflow=me,Object.defineProperty(e,"__esModule",{value:!0})}(t)}(0,xc.exports);const Ic={onMove:()=>{},onStart:()=>{},onStop:()=>{},min:0,max:1/0,axis:"x",invert:!1};function Tc(e,t){const n=function(e){return"touches"in e}(e)?e.touches[0]:e;return"x"===t?n.clientX:n.clientY}function Ec(e){e.preventDefault()}function Dc(e,t){const n=function(e){return{...Ic,...e}}(t);let r=0,o=0,s=0;function a(e){s=e,n.onMove(s)}function i(e){const t=n.invert?-1:1,s=Tc(e,n.axis)-o,i=function(e){return Math.min(Math.max(e,n.min),n.max)}(r+s*t);a(i)}function l(){n.onStop(s),window.removeEventListener("mousemove",i,!0),window.removeEventListener("touchmove",i,!0),window.removeEventListener("mouseup",l,!0),window.removeEventListener("touchend",l,!0),window.removeEventListener("touchcancel",l,!0),window.removeEventListener("selectstart",Ec,!0)}function c(e){e.stopPropagation(),e.preventDefault(),r=n.getStartingValue(),a(r),n.onStart(r),o=Tc(e,n.axis),window.addEventListener("mousemove",i,!0),window.addEventListener("touchmove",i,!0),window.addEventListener("mouseup",l,!0),window.addEventListener("touchend",l,!0),window.addEventListener("touchcancel",l,!0),window.addEventListener("selectstart",Ec,!0)}return e.addEventListener("mousedown",c),e.addEventListener("touchstart",c,{passive:!1}),{destroy(){e.removeEventListener("mousedown",c),e.removeEventListener("touchstart",c)}}}function Oc(e,t={}){let n;const r={autoFocus:!0,autoRestore:!0,...t};function o(t){if("Tab"!==t.key)return;if(t.altKey||t.ctrlKey||t.metaKey)return;t.preventDefault();const n=rs(e);if(!n.length)return;const r=n.findIndex((e=>e===t.target)),o=t.shiftKey?-1:1,s=((r+o)%n.length+n.length)%n.length;const a=n.at(s);a&&Mo(a)}return async function(){if(await Ee(),n=document.activeElement,r.autoFocus){const t=rs(e).at(0);t&&setTimeout((()=>{Mo(t)}),10)}else n&&wo(n,"blur")&&n.blur()}(),window.addEventListener("keydown",o),{destroy(){window.removeEventListener("keydown",o),r.autoRestore&&Mo(n)}}}function Nc(e){let t,n;const r=e[7].default,o=b(r,e,e[6],null);let s=[e[2],{href:e[0]},{class:e[1]}],a={};for(let i=0;i<s.length;i+=1)a=l(a,s[i]);return{c(){t=q("a"),o&&o.c(),Z(t,a)},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,[i]){o&&o.p&&(!n||64&i)&&_(o,r,e,e[6],n?w(r,e[6],i,null):x(e[6]),null),Z(t,a=rt(s,[4&i&&e[2],(!n||1&i)&&{href:e[0]},(!n||2&i)&&{class:e[1]}]))},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function Ac(e,t,n){let r;const o=["href","appearance","size","class"];let s=S(t,o),{$$slots:a={},$$scope:i}=t,{href:c}=t,{appearance:u="default"}=t,{size:d="medium"}=t,{class:$=""}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(2,s=S(t,o)),"href"in e&&n(0,c=e.href),"appearance"in e&&n(3,u=e.appearance),"size"in e&&n(4,d=e.size),"class"in e&&n(5,$=e.class),"$$scope"in e&&n(6,i=e.$$scope)},e.$$.update=()=>{56&e.$$.dirty&&n(1,r=["anchor-button","btn",`btn-${u}`,`size-${d}`,$].join(" "))},[c,r,s,u,d,$,i,a]}class Rc extends ut{constructor(e){super(),ct(this,e,Ac,Nc,f,{href:0,appearance:3,size:4,class:5})}}function Fc(e){let t,n;const r=e[1].default,o=b(r,e,e[0],null);return{c(){t=q("span"),o&&o.c(),X(t,"class","badge")},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&_(o,r,e,e[0],n?w(r,e[0],t,null):x(e[0]),null)},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function Pc(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,r]}class Lc extends ut{constructor(e){super(),ct(this,e,Pc,Fc,f,{})}}function Hc(e){let t,n;return t=new Lc({props:{$$slots:{default:[zc]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};3&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function zc(e){let t;return{c(){t=j(e[0])},m(e,n){H(e,t,n)},p(e,n){1&n&&Q(t,e[0])},d(e){e&&z(t)}}}function Vc(e){let t,n,r=e[0]>0&&Hc(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,[n]){e[0]>0?r?(r.p(e,n),1&n&&je(r,1)):(r=Hc(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function qc(e,t,n){let{value:r}=t;return e.$$set=e=>{"value"in e&&n(0,r=e.value)},[r]}class Bc extends ut{constructor(e){super(),ct(this,e,qc,Vc,f,{value:0})}}const jc=e=>({}),Uc=e=>({}),Wc=e=>({}),Yc=e=>({}),Kc=e=>({}),Gc=e=>({}),Xc=e=>({}),Zc=e=>({});function Jc(e){let t,n;const r=e[3].icon,o=b(r,e,e[2],Zc);return{c(){t=q("div"),o&&o.c(),X(t,"class","icon")},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||4&t)&&_(o,r,e,e[2],n?w(r,e[2],t,Xc):x(e[2]),Zc)},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function Qc(e){let t,n;const r=e[3].title,o=b(r,e,e[2],Gc);return{c(){t=q("div"),o&&o.c(),X(t,"class","title")},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||4&t)&&_(o,r,e,e[2],n?w(r,e[2],t,Kc):x(e[2]),Gc)},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function eu(e){let t,n;const r=e[3].body,o=b(r,e,e[2],Yc);return{c(){t=q("div"),o&&o.c(),X(t,"class","body")},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||4&t)&&_(o,r,e,e[2],n?w(r,e[2],t,Wc):x(e[2]),Yc)},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function tu(e){let t,n;const r=e[3].footer,o=b(r,e,e[2],Uc);return{c(){t=q("div"),o&&o.c(),X(t,"class","footer")},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||4&t)&&_(o,r,e,e[2],n?w(r,e[2],t,jc):x(e[2]),Uc)},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function nu(e){let t,n,r,o,s,a,i,l=e[1].icon&&Jc(e),c=e[1].title&&Qc(e),u=e[1].body&&eu(e),d=e[1].footer&&tu(e);return{c(){t=q("div"),n=q("div"),l&&l.c(),r=U(),c&&c.c(),o=U(),u&&u.c(),s=U(),d&&d.c(),X(n,"class","content"),X(t,"class",a=["tutorial",e[0]].join(" "))},m(e,a){H(e,t,a),F(t,n),l&&l.m(n,null),F(n,r),c&&c.m(n,null),F(n,o),u&&u.m(n,null),F(n,s),d&&d.m(n,null),i=!0},p(e,[$]){e[1].icon?l?(l.p(e,$),2&$&&je(l,1)):(l=Jc(e),l.c(),je(l,1),l.m(n,r)):l&&(qe(),Ue(l,1,1,(()=>{l=null})),Be()),e[1].title?c?(c.p(e,$),2&$&&je(c,1)):(c=Qc(e),c.c(),je(c,1),c.m(n,o)):c&&(qe(),Ue(c,1,1,(()=>{c=null})),Be()),e[1].body?u?(u.p(e,$),2&$&&je(u,1)):(u=eu(e),u.c(),je(u,1),u.m(n,s)):u&&(qe(),Ue(u,1,1,(()=>{u=null})),Be()),e[1].footer?d?(d.p(e,$),2&$&&je(d,1)):(d=tu(e),d.c(),je(d,1),d.m(n,null)):d&&(qe(),Ue(d,1,1,(()=>{d=null})),Be()),(!i||1&$&&a!==(a=["tutorial",e[0]].join(" ")))&&X(t,"class",a)},i(e){i||(je(l),je(c),je(u),je(d),i=!0)},o(e){Ue(l),Ue(c),Ue(u),Ue(d),i=!1},d(e){e&&z(t),l&&l.d(),c&&c.d(),u&&u.d(),d&&d.d()}}}function ru(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=k(r);let{class:a=""}=t;return e.$$set=e=>{"class"in e&&n(0,a=e.class),"$$scope"in e&&n(2,o=e.$$scope)},[a,s,o,r]}class ou extends ut{constructor(e){super(),ct(this,e,ru,nu,f,{class:0})}}function su(e,t,n){const r=e.slice();return r[2]=t[n],r}function au(e){let t,n,r;const o=[e[1]];var s=e[0].component;function a(e){let t={};for(let n=0;n<o.length;n+=1)t=l(t,o[n]);return{props:t}}return s&&(t=new s(a())),{c(){t&&at(t.$$.fragment),n=W()},m(e,o){t&&it(t,e,o),H(e,n,o),r=!0},p(e,r){const i=2&r?rt(o,[ot(e[1])]):{};if(s!==(s=e[0].component)){if(t){qe();const e=t;Ue(e.$$.fragment,1,0,(()=>{lt(e,1)})),Be()}s?(t=new s(a()),at(t.$$.fragment),je(t.$$.fragment,1),it(t,n.parentNode,n)):t=null}else s&&t.$set(i)},i(e){r||(t&&je(t.$$.fragment,e),r=!0)},o(e){t&&Ue(t.$$.fragment,e),r=!1},d(e){e&&z(n),t&&lt(t,e)}}}function iu(e){let t,n=e[0],r=[];for(let o=0;o<n.length;o+=1)r[o]=cu(su(e,n,o));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=W()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);H(e,t,n)},p(e,o){if(1&o){let s;for(n=e[0],s=0;s<n.length;s+=1){const a=su(e,n,s);r[s]?r[s].p(a,o):(r[s]=cu(a),r[s].c(),r[s].m(t.parentNode,t))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},i:a,o:a,d(e){V(r,e),e&&z(t)}}}function lu(e){let t;return{c(){t=j(e[0])},m(e,n){H(e,t,n)},p(e,n){1&n&&Q(t,e[0])},i:a,o:a,d(e){e&&z(t)}}}function cu(e){let t,n,r=e[2]+"";return{c(){t=q("p"),n=j(r)},m(e,r){H(e,t,r),F(t,n)},p(e,t){1&t&&r!==(r=e[2]+"")&&Q(n,r)},d(e){e&&z(t)}}}function uu(e){let t,n,r,o,s;const a=[lu,iu,au],i=[];function l(e,n){return 1&n&&(t=null),"string"==typeof e[0]?0:(null==t&&(t=!!Array.isArray(e[0])),t?1:2)}return n=l(e,-1),r=i[n]=a[n](e),{c(){r.c(),o=W()},m(e,t){i[n].m(e,t),H(e,o,t),s=!0},p(e,[t]){let s=n;n=l(e,t),n===s?i[n].p(e,t):(qe(),Ue(i[s],1,1,(()=>{i[s]=null})),Be(),r=i[n],r?r.p(e,t):(r=i[n]=a[n](e),r.c()),je(r,1),r.m(o.parentNode,o))},i(e){s||(je(r),s=!0)},o(e){Ue(r),s=!1},d(e){i[n].d(e),e&&z(o)}}}function du(e,t,n){let r,{arg:o}=t;return e.$$set=e=>{"arg"in e&&n(0,o=e.arg)},e.$$.update=()=>{1&e.$$.dirty&&n(1,r=bo(o,"props")&&ho(o.props)?o.props:{})},[o,r]}class $u extends ut{constructor(e){super(),ct(this,e,du,uu,f,{arg:0})}}class pu{constructor(t){e(this,"elements",pt(new Set)),e(this,"parent",void 0),this.parent=t}add(e){return this.elements.update((t=>{const n=new Set(t);return n.add(e),n})),this.parent?.add(e),()=>this.delete(e)}delete(e){this.elements.update((t=>{const n=new Set(t);return n.delete(e),n})),this.parent?.delete(e)}subscribe(e){return this.elements.subscribe(e)}}const mu=e=>({}),fu=e=>({close:e[11]});function gu(e){let t,n,r,o,s,a,i,l,c;const u=[yu,hu],p=[];function m(e,t){return e[13].default?0:e[3]?1:-1}return~(n=m(e))&&(r=p[n]=u[n](e)),{c(){t=q("div"),r&&r.c(),X(t,"class",o=["dropdown content",e[2]].join(" ")),X(t,"data-attachable-dropdown","")},m(r,o){H(r,t,o),~n&&p[n].m(t,null),e[22](t),i=!0,l||(c=[T(s=Mc.call(null,t,e[4])),T(a=Sc.call(null,t,{reference:e[1],autoReposition:e[5],options:{placement:e[7],modifiers:[{name:"flip",options:{fallbackPlacements:e[9]}}]},customModifierOptions:{matchTriggerWidthPxUpTo:e[6]}})),T(_c.call(null,t,{callback:e[11],references:e[10]})),Y(t,"click",e[12]),Y(t,"click",e[19]),Y(t,"mouseenter",e[20]),Y(t,"mouseleave",e[21])],l=!0)},p(e,l){let c=n;n=m(e),n===c?~n&&p[n].p(e,l):(r&&(qe(),Ue(p[c],1,1,(()=>{p[c]=null})),Be()),~n?(r=p[n],r?r.p(e,l):(r=p[n]=u[n](e),r.c()),je(r,1),r.m(t,null)):r=null),(!i||4&l&&o!==(o=["dropdown content",e[2]].join(" ")))&&X(t,"class",o),s&&$(s.update)&&16&l&&s.update.call(null,e[4]),a&&$(a.update)&&738&l&&a.update.call(null,{reference:e[1],autoReposition:e[5],options:{placement:e[7],modifiers:[{name:"flip",options:{fallbackPlacements:e[9]}}]},customModifierOptions:{matchTriggerWidthPxUpTo:e[6]}})},i(e){i||(je(r),i=!0)},o(e){Ue(r),i=!1},d(r){r&&z(t),~n&&p[n].d(),e[22](null),l=!1,d(c)}}}function hu(e){let t,n;return t=new $u({props:{arg:e[3]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.arg=e[3]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function yu(e){let t;const n=e[18].default,r=b(n,e,e[17],fu);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||131072&o)&&_(r,n,e,e[17],t?w(n,e[17],o,mu):x(e[17]),fu)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function bu(e){let t,n,r=e[0]&&gu(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,[n]){e[0]?r?(r.p(e,n),1&n&&je(r,1)):(r=gu(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function vu(e,t,n){let r,o,{$$slots:s={},$$scope:a}=t;const i=k(s),l=ye();let c,{trigger:u}=t,{placements:d=["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]}=t,{preferredPlacement:$}=t,{isOpen:p=!1}=t,{class:m=""}=t,{closeOnInnerClick:f=!1}=t,{content:g}=t,{portalTarget:h}=t,{autoReposition:y=!1}=t,{matchTriggerWidthPxUpTo:b}=t;const v=ve("dropdownAccompanyingElements");async function w(){c||await Ee(),c&&v?.delete(c)}he(w);const _=new pu(v);be("dropdownAccompanyingElements",_);const x=mt(_,(e=>[u,...e]));function C(e){e?(l("open"),async function(){c||await Ee(),c&&v?.add(c)}()):(l("close"),w())}function S(){n(0,p=!1)}return e.$$set=e=>{"trigger"in e&&n(1,u=e.trigger),"placements"in e&&n(14,d=e.placements),"preferredPlacement"in e&&n(15,$=e.preferredPlacement),"isOpen"in e&&n(0,p=e.isOpen),"class"in e&&n(2,m=e.class),"closeOnInnerClick"in e&&n(16,f=e.closeOnInnerClick),"content"in e&&n(3,g=e.content),"portalTarget"in e&&n(4,h=e.portalTarget),"autoReposition"in e&&n(5,y=e.autoReposition),"matchTriggerWidthPxUpTo"in e&&n(6,b=e.matchTriggerWidthPxUpTo),"$$scope"in e&&n(17,a=e.$$scope)},e.$$.update=()=>{49152&e.$$.dirty&&n(7,r=$??d[0]??"bottom-start"),16512&e.$$.dirty&&n(9,o=(()=>{const e=d.filter((e=>e!==r));if(0!==e.length)return e})()),1&e.$$.dirty&&C(p)},[p,u,m,g,h,y,b,r,c,o,x,S,function(){f&&S()},i,d,$,f,a,s,function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(e){Ce[e?"unshift":"push"]((()=>{c=e,n(8,c)}))}]}class wu extends ut{constructor(e){super(),ct(this,e,vu,bu,f,{trigger:1,placements:14,preferredPlacement:15,isOpen:0,class:2,closeOnInnerClick:16,content:3,portalTarget:4,autoReposition:5,matchTriggerWidthPxUpTo:6})}}const _u=e=>({}),xu=e=>({}),Cu=e=>({}),Su=e=>({});function ku(e){let t,n;return t=new wu({props:{trigger:e[5],isOpen:e[7],placements:e[1],class:"tooltip trim-child-margins "+e[0],$$slots:{default:[Mu]},$$scope:{ctx:e}}}),t.$on("mouseenter",e[14]),t.$on("mouseleave",e[15]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.trigger=e[5]),128&n&&(r.isOpen=e[7]),2&n&&(r.placements=e[1]),1&n&&(r.class="tooltip trim-child-margins "+e[0]),65536&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Mu(e){let t;const n=e[10].content,r=b(n,e,e[16],xu);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||65536&o)&&_(r,n,e,e[16],t?w(n,e[16],o,_u):x(e[16]),xu)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function Iu(e){let t,n,r,o,s,a;const i=e[10].trigger,c=b(i,e,e[16],Su);let u=[{"aria-label":"Help"},e[8]],$={};for(let d=0;d<u.length;d+=1)$=l($,u[d]);let p=e[2]&&ku(e);return{c(){t=q("span"),c&&c.c(),n=U(),p&&p.c(),r=W(),Z(t,$)},m(i,l){H(i,t,l),c&&c.m(t,null),e[11](t),H(i,n,l),p&&p.m(i,l),H(i,r,l),o=!0,s||(a=[Y(t,"mouseenter",e[12]),Y(t,"mouseleave",e[13])],s=!0)},p(e,[n]){c&&c.p&&(!o||65536&n)&&_(c,i,e,e[16],o?w(i,e[16],n,Cu):x(e[16]),Su),Z(t,$=rt(u,[{"aria-label":"Help"},256&n&&e[8]])),e[2]?p?(p.p(e,n),4&n&&je(p,1)):(p=ku(e),p.c(),je(p,1),p.m(r.parentNode,r)):p&&(qe(),Ue(p,1,1,(()=>{p=null})),Be())},i(e){o||(je(c,e),je(p),o=!0)},o(e){Ue(c,e),Ue(p),o=!1},d(o){o&&z(t),c&&c.d(o),e[11](null),o&&z(n),p&&p.d(o),o&&z(r),s=!1,d(a)}}}function Tu(e,t,n){let r;const o=["tooltipClass","allowHover","placements","enabled"];let s,a,i=S(t,o),{$$slots:c={},$$scope:u}=t,{tooltipClass:d=""}=t,{allowHover:$=!1}=t,{placements:p=["top","right","bottom","left"]}=t,{enabled:m=!0}=t,f=!1,g=!1;return e.$$set=e=>{t=l(l({},t),C(e)),n(8,i=S(t,o)),"tooltipClass"in e&&n(0,d=e.tooltipClass),"allowHover"in e&&n(9,$=e.allowHover),"placements"in e&&n(1,p=e.placements),"enabled"in e&&n(2,m=e.enabled),"$$scope"in e&&n(16,u=e.$$scope)},e.$$.update=()=>{536&e.$$.dirty&&n(7,r=f||$&&g)},[d,p,m,f,g,s,a,r,i,$,c,function(e){Ce[e?"unshift":"push"]((()=>{s=e,n(5,s)}))},()=>{window.clearTimeout(a),n(3,f=!0)},()=>{n(6,a=window.setTimeout((()=>{n(3,f=!1)}),100))},()=>{n(4,g=!0)},()=>{n(4,g=!1)},u]}class Eu extends ut{constructor(e){super(),ct(this,e,Tu,Iu,f,{tooltipClass:0,allowHover:9,placements:1,enabled:2})}}const Du=e=>({}),Ou=e=>({});function Nu(e){let t,n,r,o;const s=e[10].default,a=b(s,e,e[27],null);let i=[{type:e[2]},{class:e[4]},e[6]],c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return{c(){t=q("button"),a&&a.c(),Z(t,c),se(t,"active",e[1])},m(s,i){H(s,t,i),a&&a.m(t,null),t.autofocus&&t.focus(),e[26](t),n=!0,r||(o=[Y(t,"click",e[18]),Y(t,"keydown",e[19]),Y(t,"focus",e[20]),Y(t,"blur",e[21]),Y(t,"mouseenter",e[22]),Y(t,"mouseleave",e[23]),Y(t,"mousedown",e[24])],r=!0)},p(e,r){a&&a.p&&(!n||134217728&r)&&_(a,s,e,e[27],n?w(s,e[27],r,null):x(e[27]),null),Z(t,c=rt(i,[(!n||4&r)&&{type:e[2]},(!n||16&r)&&{class:e[4]},64&r&&e[6]])),se(t,"active",e[1])},i(e){n||(je(a,e),n=!0)},o(e){Ue(a,e),n=!1},d(n){n&&z(t),a&&a.d(n),e[26](null),r=!1,d(o)}}}function Au(e){let t,n;return t=new Eu({props:{$$slots:{content:[Fu],trigger:[Ru]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};134217823&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Ru(e){let t,n,r,o;const s=e[10].default,a=b(s,e,e[27],null);let i=[{slot:"trigger"},{type:e[2]},{class:e[4]},e[6]],c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return{c(){t=q("button"),a&&a.c(),Z(t,c),se(t,"active",e[1])},m(s,i){H(s,t,i),a&&a.m(t,null),t.autofocus&&t.focus(),e[25](t),n=!0,r||(o=[Y(t,"click",e[11]),Y(t,"keydown",e[12]),Y(t,"focus",e[13]),Y(t,"blur",e[14]),Y(t,"mouseenter",e[15]),Y(t,"mouseleave",e[16]),Y(t,"mousedown",e[17])],r=!0)},p(e,r){a&&a.p&&(!n||134217728&r)&&_(a,s,e,e[27],n?w(s,e[27],r,null):x(e[27]),null),Z(t,c=rt(i,[{slot:"trigger"},(!n||4&r)&&{type:e[2]},(!n||16&r)&&{class:e[4]},64&r&&e[6]])),se(t,"active",e[1])},i(e){n||(je(a,e),n=!0)},o(e){Ue(a,e),n=!1},d(n){n&&z(t),a&&a.d(n),e[25](null),r=!1,d(o)}}}function Fu(e){let t,n;const r=e[10].tooltip,o=b(r,e,e[27],Ou),s=o||function(e){let t;return{c(){t=j(e[3])},m(e,n){H(e,t,n)},p(e,n){8&n&&Q(t,e[3])},d(e){e&&z(t)}}}(e);return{c(){t=q("div"),s&&s.c(),X(t,"slot","content")},m(e,r){H(e,t,r),s&&s.m(t,null),n=!0},p(e,t){o?o.p&&(!n||134217728&t)&&_(o,r,e,e[27],n?w(r,e[27],t,Du):x(e[27]),Ou):s&&s.p&&(!n||8&t)&&s.p(e,n?t:-1)},i(e){n||(je(s,e),n=!0)},o(e){Ue(s,e),n=!1},d(e){e&&z(t),s&&s.d(e)}}}function Pu(e){let t,n,r,o;const s=[Au,Nu],a=[];function i(e,t){return e[3]||e[5].tooltip?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,[o]){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function Lu(e,t,n){let r;const o=["appearance","size","active","type","class","element","tooltip"];let s=S(t,o),{$$slots:a={},$$scope:i}=t;const c=k(a);let{appearance:u="default"}=t,{size:d="medium"}=t,{active:$=!1}=t,{type:p="button"}=t,{class:m=""}=t,{element:f}=t,{tooltip:g}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(6,s=S(t,o)),"appearance"in e&&n(7,u=e.appearance),"size"in e&&n(8,d=e.size),"active"in e&&n(1,$=e.active),"type"in e&&n(2,p=e.type),"class"in e&&n(9,m=e.class),"element"in e&&n(0,f=e.element),"tooltip"in e&&n(3,g=e.tooltip),"$$scope"in e&&n(27,i=e.$$scope)},e.$$.update=()=>{896&e.$$.dirty&&n(4,r=["btn",`btn-${u}`,`size-${d}`,m].join(" "))},[f,$,p,g,r,c,s,u,d,m,a,function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(e){Ce[e?"unshift":"push"]((()=>{f=e,n(0,f)}))},function(e){Ce[e?"unshift":"push"]((()=>{f=e,n(0,f)}))},i]}class Hu extends ut{constructor(e){super(),ct(this,e,Lu,Pu,f,{appearance:7,size:8,active:1,type:2,class:9,element:0,tooltip:3})}}var zu={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"]},Vu={prefix:"fas",iconName:"message",icon:[512,512,["comment-alt"],"f27a","M64 0C28.7 0 0 28.7 0 64V352c0 35.3 28.7 64 64 64h96v80c0 6.1 3.4 11.6 8.8 14.3s11.9 2.1 16.8-1.5L309.3 416H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H64z"]},qu={prefix:"fas",iconName:"file-lines",icon:[384,512,[128441,128462,61686,"file-alt","file-text"],"f15c","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM112 256H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},Bu={prefix:"fas",iconName:"pencil",icon:[512,512,[9999,61504,"pencil-alt"],"f303","M421.7 220.3l-11.3 11.3-22.6 22.6-205 205c-6.6 6.6-14.8 11.5-23.8 14.1L30.8 511c-8.4 2.5-17.5 .2-23.7-6.1S-1.5 489.7 1 481.2L38.7 353.1c2.6-9 7.5-17.2 14.1-23.8l205-205 22.6-22.6 11.3-11.3 33.9 33.9 62.1 62.1 33.9 33.9zM96 353.9l-9.3 9.3c-.9 .9-1.6 2.1-2 3.4l-25.3 86 86-25.3c1.3-.4 2.5-1.1 3.4-2l9.3-9.3H112c-8.8 0-16-7.2-16-16V353.9zM453.3 19.3l39.4 39.4c25 25 25 65.5 0 90.5l-14.5 14.5-22.6 22.6-11.3 11.3-33.9-33.9-62.1-62.1L314.3 67.7l11.3-11.3 22.6-22.6 14.5-14.5c25-25 65.5-25 90.5 0z"]},ju={prefix:"fas",iconName:"circle-exclamation",icon:[512,512,["exclamation-circle"],"f06a","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zm0-384c13.3 0 24 10.7 24 24V264c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zm32 224c0 17.7-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32z"]},Uu={prefix:"fas",iconName:"square-check",icon:[448,512,[9745,9989,61510,"check-square"],"f14a","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},Wu={prefix:"fas",iconName:"key",icon:[512,512,[128273],"f084","M336 352c97.2 0 176-78.8 176-176S433.2 0 336 0S160 78.8 160 176c0 18.7 2.9 36.8 8.3 53.7L7 391c-4.5 4.5-7 10.6-7 17v80c0 13.3 10.7 24 24 24h80c13.3 0 24-10.7 24-24V448h40c13.3 0 24-10.7 24-24V384h40c6.4 0 12.5-2.5 17-7l33.3-33.3c16.9 5.4 35 8.3 53.7 8.3zm40-176c-22.1 0-40-17.9-40-40s17.9-40 40-40s40 17.9 40 40s-17.9 40-40 40z"]},Yu={prefix:"fas",iconName:"globe",icon:[512,512,[127760],"f0ac","M352 256c0 22.2-1.2 43.6-3.3 64H163.3c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64H348.7c2.2 20.4 3.3 41.8 3.3 64zm28.8-64H503.9c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64H380.8c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64zm112.6-32H376.7c-10-63.9-29.8-117.4-55.3-151.6c78.3 20.7 142 77.5 171.9 151.6zm-149.1 0H167.7c6.1-36.4 15.5-68.6 27-94.7c10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7 0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5c11.6 26 21 58.2 27 94.7zm-209 0H18.6C48.6 85.9 112.2 29.1 190.6 8.4C165.1 42.6 145.3 96.1 135.3 160zM8.1 192H131.2c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64H8.1C2.8 299.5 0 278.1 0 256s2.8-43.5 8.1-64zM194.7 446.6c-11.6-26-20.9-58.2-27-94.6H344.3c-6.1 36.4-15.5 68.6-27 94.6c-10.5 23.6-22.2 40.7-33.5 51.5C272.6 508.8 263.3 512 256 512s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5zM135.3 352c10 63.9 29.8 117.4 55.3 151.6C112.2 482.9 48.6 426.1 18.6 352H135.3zm358.1 0c-30 74.1-93.6 130.9-171.9 151.6c25.5-34.2 45.2-87.7 55.3-151.6H493.4z"]},Ku={prefix:"fas",iconName:"user-pen",icon:[640,512,["user-edit"],"f4ff","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0S96 57.3 96 128s57.3 128 128 128zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H322.8c-3.1-8.8-3.7-18.4-1.4-27.8l15-60.1c2.8-11.3 8.6-21.5 16.8-29.7l40.3-40.3c-32.1-31-75.7-50.1-123.9-50.1H178.3zm435.5-68.3c-15.6-15.6-40.9-15.6-56.6 0l-29.4 29.4 71 71 29.4-29.4c15.6-15.6 15.6-40.9 0-56.6l-14.4-14.4zM375.9 417c-4.1 4.1-7 9.2-8.4 14.9l-15 60.1c-1.4 5.5 .2 11.2 4.2 15.2s9.7 5.6 15.2 4.2l60.1-15c5.6-1.4 10.8-4.3 14.9-8.4L576.1 358.7l-71-71L375.9 417z"]},Gu={prefix:"fas",iconName:"rotate-left",icon:[512,512,["rotate-back","rotate-backward","undo-alt"],"f2ea","M48.5 224H40c-13.3 0-24-10.7-24-24V72c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2L98.6 96.6c87.6-86.5 228.7-86.2 315.8 1c87.5 87.5 87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3c-62.2-62.2-162.7-62.5-225.3-1L185 183c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8H48.5z"]},Xu={prefix:"fas",iconName:"arrow-down-wide-short",icon:[576,512,["sort-amount-asc","sort-amount-down"],"f160","M151.6 469.6C145.5 476.2 137 480 128 480s-17.5-3.8-23.6-10.4l-88-96c-11.9-13-11.1-33.3 2-45.2s33.3-11.1 45.2 2L96 365.7V64c0-17.7 14.3-32 32-32s32 14.3 32 32V365.7l32.4-35.4c11.9-13 32.2-13.9 45.2-2s13.9 32.2 2 45.2l-88 96zM320 480c-17.7 0-32-14.3-32-32s14.3-32 32-32h32c17.7 0 32 14.3 32 32s-14.3 32-32 32H320zm0-128c-17.7 0-32-14.3-32-32s14.3-32 32-32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H320zm0-128c-17.7 0-32-14.3-32-32s14.3-32 32-32H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H320zm0-128c-17.7 0-32-14.3-32-32s14.3-32 32-32H544c17.7 0 32 14.3 32 32s-14.3 32-32 32H320z"]},Zu={prefix:"fas",iconName:"cloud-arrow-down",icon:[640,512,[62337,"cloud-download","cloud-download-alt"],"f0ed","M144 480C64.5 480 0 415.5 0 336c0-62.8 40.2-116.2 96.2-135.9c-.1-2.7-.2-5.4-.2-8.1c0-88.4 71.6-160 160-160c59.3 0 111 32.2 138.7 80.2C409.9 102 428.3 96 448 96c53 0 96 43 96 96c0 12.2-2.3 23.8-6.4 34.6C596 238.4 640 290.1 640 352c0 70.7-57.3 128-128 128H144zm79-167l80 80c9.4 9.4 24.6 9.4 33.9 0l80-80c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-39 39V184c0-13.3-10.7-24-24-24s-24 10.7-24 24V318.1l-39-39c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9z"]},Ju={prefix:"fas",iconName:"arrows-rotate",icon:[512,512,[128472,"refresh","sync"],"f021","M105.1 202.6c7.7-21.8 20.2-42.3 37.8-59.8c62.5-62.5 163.8-62.5 226.3 0L386.3 160H336c-17.7 0-32 14.3-32 32s14.3 32 32 32H463.5c0 0 0 0 0 0h.4c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5zM39 289.3c-5 1.5-9.8 4.2-13.7 8.2c-4 4-6.7 8.8-8.1 14c-.3 1.2-.6 2.5-.8 3.8c-.3 1.7-.4 3.4-.4 5.1V448c0 17.7 14.3 32 32 32s32-14.3 32-32V396.9l17.6 17.5 0 0c87.5 87.4 229.3 87.4 316.7 0c24.4-24.4 42.1-53.1 52.9-83.7c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.5 62.5-163.8 62.5-226.3 0l-.1-.1L125.6 352H176c17.7 0 32-14.3 32-32s-14.3-32-32-32H48.4c-1.6 0-3.2 .1-4.8 .3s-3.1 .5-4.6 1z"]},Qu={prefix:"fas",iconName:"file-zipper",icon:[384,512,["file-archive"],"f1c6","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM96 48c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16zm0 64c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16zm0 64c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16zm-6.3 71.8c3.7-14 16.4-23.8 30.9-23.8h14.8c14.5 0 27.2 9.7 30.9 23.8l23.5 88.2c1.4 5.4 2.1 10.9 2.1 16.4c0 35.2-28.8 63.7-64 63.7s-64-28.5-64-63.7c0-5.5 .7-11.1 2.1-16.4l23.5-88.2zM112 336c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H112z"]},ed={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M3.9 54.9C10.5 40.9 24.5 32 40 32H472c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9V448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6V320.9L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"]},td={prefix:"fas",iconName:"arrow-up-right-from-square",icon:[448,512,["external-link"],"f08e","M288 32c-17.7 0-32 14.3-32 32s14.3 32 32 32h50.7L169.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L384 141.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V64c0-17.7-14.3-32-32-32H288zM80 64C35.8 64 0 99.8 0 144V400c0 44.2 35.8 80 80 80H336c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V144c0-8.8 7.2-16 16-16h80c17.7 0 32-14.3 32-32s-14.3-32-32-32H80z"]},nd=td,rd={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},od={prefix:"fas",iconName:"floppy-disk",icon:[448,512,[128190,128426,"save"],"f0c7","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V173.3c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32H64zm0 96c0-17.7 14.3-32 32-32H288c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V128zM224 416c-35.3 0-64-28.7-64-64s28.7-64 64-64s64 28.7 64 64s-28.7 64-64 64z"]},sd={prefix:"fas",iconName:"up-right-from-square",icon:[448,512,["external-link-alt"],"f35d","M288 32c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9L306.7 128 169.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L352 173.3l41.4 41.4c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6V64c0-17.7-14.3-32-32-32H288zM80 64C35.8 64 0 99.8 0 144V400c0 44.2 35.8 80 80 80H336c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V144c0-8.8 7.2-16 16-16h80c17.7 0 32-14.3 32-32s-14.3-32-32-32H80z"]},ad=sd,id={prefix:"fas",iconName:"arrow-rotate-left",icon:[512,512,[8634,"arrow-left-rotate","arrow-rotate-back","arrow-rotate-backward","undo"],"f0e2","M125.7 160H176c17.7 0 32 14.3 32 32s-14.3 32-32 32H48c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32s32 14.3 32 32v51.2L97.6 97.6c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3s-163.8-62.5-226.3 0L125.7 160z"]},ld={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 360c30.9 0 56 25.1 56 56s-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56zm0-160c30.9 0 56 25.1 56 56s-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56zM120 96c0 30.9-25.1 56-56 56S8 126.9 8 96S33.1 40 64 40s56 25.1 56 56z"]},cd={prefix:"fas",iconName:"delete-left",icon:[576,512,[9003,"backspace"],"f55a","M576 128c0-35.3-28.7-64-64-64H205.3c-17 0-33.3 6.7-45.3 18.7L9.4 233.4c-6 6-9.4 14.1-9.4 22.6s3.4 16.6 9.4 22.6L160 429.3c12 12 28.3 18.7 45.3 18.7H512c35.3 0 64-28.7 64-64V128zM271 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"]},ud={prefix:"fas",iconName:"arrow-down-short-wide",icon:[576,512,["sort-amount-desc","sort-amount-down-alt"],"f884","M151.6 469.6C145.5 476.2 137 480 128 480s-17.5-3.8-23.6-10.4l-88-96c-11.9-13-11.1-33.3 2-45.2s33.3-11.1 45.2 2L96 365.7V64c0-17.7 14.3-32 32-32s32 14.3 32 32V365.7l32.4-35.4c11.9-13 32.2-13.9 45.2-2s13.9 32.2 2 45.2l-88 96zM320 32h32c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128H544c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},dd={prefix:"fas",iconName:"file",icon:[384,512,[128196,128459,61462],"f15b","M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128z"]},$d={prefix:"fas",iconName:"link",icon:[640,512,[128279,"chain"],"f0c1","M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"]},pd={prefix:"fas",iconName:"diagram-project",icon:[576,512,["project-diagram"],"f542","M0 80C0 53.5 21.5 32 48 32h96c26.5 0 48 21.5 48 48V96H384V80c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H432c-26.5 0-48-21.5-48-48V160H192v16c0 1.7-.1 3.4-.3 5L272 288h96c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H272c-26.5 0-48-21.5-48-48V336c0-1.7 .1-3.4 .3-5L144 224H48c-26.5 0-48-21.5-48-48V80z"]},md={prefix:"fas",iconName:"xmark",icon:[320,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"]},fd={prefix:"fas",iconName:"clone",icon:[512,512,[],"f24d","M0 448c0 35.3 28.7 64 64 64H288c35.3 0 64-28.7 64-64V384H224c-53 0-96-43-96-96V160H64c-35.3 0-64 28.7-64 64V448zm224-96H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H224c-35.3 0-64 28.7-64 64V288c0 35.3 28.7 64 64 64z"]},gd={prefix:"fas",iconName:"check",icon:[512,512,[10003,10004],"f00c","M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},hd={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224c0-17.7-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32z"]},yd={prefix:"fas",iconName:"magnifying-glass-plus",icon:[512,512,["search-plus"],"f00e","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM184 296c0 13.3 10.7 24 24 24s24-10.7 24-24V232h64c13.3 0 24-10.7 24-24s-10.7-24-24-24H232V120c0-13.3-10.7-24-24-24s-24 10.7-24 24v64H120c-13.3 0-24 10.7-24 24s10.7 24 24 24h64v64z"]};const bd={data:{prefix:"fas",iconName:"angles-right",icon:[512,512,[187,"angle-double-right"],"f101","M470.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 256 265.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160zm-352 160l160-160c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L210.7 256 73.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0z"]}},vd={data:{prefix:"fas",iconName:"angles-left",icon:[512,512,[171,"angle-double-left"],"f100","M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160zm352-160l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L301.3 256 438.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0z"]}},wd={data:{prefix:"fas",iconName:"angle-right",icon:[320,512,[8250],"f105","M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"]}},_d={data:{prefix:"fas",iconName:"angle-left",icon:[320,512,[8249],"f104","M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]}},xd={data:md},Cd={data:{prefix:"fas",iconName:"angle-down",icon:[448,512,[8964],"f107","M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]}},Sd={data:{prefix:"fas",iconName:"circle-question",icon:[512,512,[62108,"question-circle"],"f059","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3h58.3c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24V250.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1H222.6c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM288 352c0 17.7-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32z"]}},kd={data:gd},Md={data:{prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"]}},Id={data:{prefix:"fas",iconName:"ellipsis",icon:[448,512,["ellipsis-h"],"f141","M120 256c0 30.9-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56s56 25.1 56 56zm160 0c0 30.9-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56s56 25.1 56 56zm104 56c-30.9 0-56-25.1-56-56s25.1-56 56-56s56 25.1 56 56s-25.1 56-56 56z"]}},Td={data:{prefix:"fas",iconName:"file-arrow-up",icon:[384,512,["file-upload"],"f574","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM216 408c0 13.3-10.7 24-24 24s-24-10.7-24-24V305.9l-31 31c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l72-72c9.4-9.4 24.6-9.4 33.9 0l72 72c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-31-31V408z"]}},Ed={data:dd},Dd={data:{prefix:"fas",iconName:"gears",icon:[640,512,["cogs"],"f085","M308.5 135.3c7.1-6.3 9.9-16.2 6.2-25c-2.3-5.3-4.8-10.5-7.6-15.5L304 89.4c-3-5-6.3-9.9-9.8-14.6c-5.7-7.6-15.7-10.1-24.7-7.1l-28.2 9.3c-10.7-8.8-23-16-36.2-20.9L199 27.1c-1.9-9.3-9.1-16.7-18.5-17.8C173.7 8.4 166.9 8 160 8s-13.7 .4-20.4 1.2c-9.4 1.1-16.6 8.6-18.5 17.8L115 56.1c-13.3 5-25.5 12.1-36.2 20.9L50.5 67.8c-9-3-19-.5-24.7 7.1c-3.5 4.7-6.8 9.6-9.9 14.6l-3 5.3c-2.8 5-5.3 10.2-7.6 15.6c-3.7 8.7-.9 18.6 6.2 25l22.2 19.8C32.6 161.9 32 168.9 32 176s.6 14.1 1.7 20.9L11.5 216.7c-7.1 6.3-9.9 16.2-6.2 25c2.3 5.3 4.8 10.5 7.6 15.6l3 5.2c3 5.1 6.3 9.9 9.9 14.6c5.7 7.6 15.7 10.1 24.7 7.1l28.2-9.3c10.7 8.8 23 16 36.2 20.9l6.1 29.1c1.9 9.3 9.1 16.7 18.5 17.8c6.7 .8 13.5 1.2 20.4 1.2s13.7-.4 20.4-1.2c9.4-1.1 16.6-8.6 18.5-17.8l6.1-29.1c13.3-5 25.5-12.1 36.2-20.9l28.2 9.3c9 3 19 .5 24.7-7.1c3.5-4.7 6.8-9.5 9.8-14.6l3.1-5.4c2.8-5 5.3-10.2 7.6-15.5c3.7-8.7 .9-18.6-6.2-25l-22.2-19.8c1.1-6.8 1.7-13.8 1.7-20.9s-.6-14.1-1.7-20.9l22.2-19.8zM208 176c0 26.5-21.5 48-48 48s-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48zM504.7 500.5c6.3 7.1 16.2 9.9 25 6.2c5.3-2.3 10.5-4.8 15.5-7.6l5.4-3.1c5-3 9.9-6.3 14.6-9.8c7.6-5.7 10.1-15.7 7.1-24.7l-9.3-28.2c8.8-10.7 16-23 20.9-36.2l29.1-6.1c9.3-1.9 16.7-9.1 17.8-18.5c.8-6.7 1.2-13.5 1.2-20.4s-.4-13.7-1.2-20.4c-1.1-9.4-8.6-16.6-17.8-18.5L583.9 307c-5-13.3-12.1-25.5-20.9-36.2l9.3-28.2c3-9 .5-19-7.1-24.7c-4.7-3.5-9.6-6.8-14.6-9.9l-5.3-3c-5-2.8-10.2-5.3-15.6-7.6c-8.7-3.7-18.6-.9-25 6.2l-19.8 22.2c-6.8-1.1-13.8-1.7-20.9-1.7s-14.1 .6-20.9 1.7l-19.8-22.2c-6.3-7.1-16.2-9.9-25-6.2c-5.3 2.3-10.5 4.8-15.6 7.6l-5.2 3c-5.1 3-9.9 6.3-14.6 9.9c-7.6 5.7-10.1 15.7-7.1 24.7l9.3 28.2c-8.8 10.7-16 23-20.9 36.2L315.1 313c-9.3 1.9-16.7 9.1-17.8 18.5c-.8 6.7-1.2 13.5-1.2 20.4s.4 13.7 1.2 20.4c1.1 9.4 8.6 16.6 17.8 18.5l29.1 6.1c5 13.3 12.1 25.5 20.9 36.2l-9.3 28.2c-3 9-.5 19 7.1 24.7c4.7 3.5 9.5 6.8 14.6 9.8l5.4 3.1c5 2.8 10.2 5.3 15.5 7.6c8.7 3.7 18.6 .9 25-6.2l19.8-22.2c6.8 1.1 13.8 1.7 20.9 1.7s14.1-.6 20.9-1.7l19.8 22.2zM464 400c-26.5 0-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48s-21.5 48-48 48z"]}},Od={data:td},Nd={data:{prefix:"fas",iconName:"lightbulb",icon:[384,512,[128161],"f0eb","M272 384c9.6-31.9 29.5-59.1 49.2-86.2l0 0c5.2-7.1 10.4-14.2 15.4-21.4c19.8-28.5 31.4-63 31.4-100.3C368 78.8 289.2 0 192 0S16 78.8 16 176c0 37.3 11.6 71.9 31.4 100.3c5 7.2 10.2 14.3 15.4 21.4l0 0c19.8 27.1 39.7 54.4 49.2 86.2H272zM192 512c44.2 0 80-35.8 80-80V416H112v16c0 44.2 35.8 80 80 80zM112 176c0 8.8-7.2 16-16 16s-16-7.2-16-16c0-61.9 50.1-112 112-112c8.8 0 16 7.2 16 16s-7.2 16-16 16c-44.2 0-80 35.8-80 80z"]}},Ad={data:ju},Rd={data:hd},Fd={data:{prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"]},spin:!0},Pd={data:gd};function Ld(e){let t,n,r,o;return{c(){t=B("path"),X(t,"d",n=e[0].path),X(t,"fill-rule",r=e[0].fillRule),X(t,"clip-rule",o=e[0].clipRule),X(t,"style",e[1])},m(e,n){H(e,t,n)},p(e,s){1&s&&n!==(n=e[0].path)&&X(t,"d",n),1&s&&r!==(r=e[0].fillRule)&&X(t,"fill-rule",r),1&s&&o!==(o=e[0].clipRule)&&X(t,"clip-rule",o),2&s&&X(t,"style",e[1])},d(e){e&&z(t)}}}function Hd(e){let t;return{c(){t=B("path"),X(t,"d",e[0]),X(t,"style",e[1])},m(e,n){H(e,t,n)},p(e,n){1&n&&X(t,"d",e[0]),2&n&&X(t,"style",e[1])},d(e){e&&z(t)}}}function zd(e){let t;function n(e,t){return"string"==typeof e[0]?Hd:Ld}let r=n(e),o=r(e);return{c(){o.c(),t=W()},m(e,n){o.m(e,n),H(e,t,n)},p(e,[s]){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},i:a,o:a,d(e){o.d(e),e&&z(t)}}}function Vd(e,t,n){let{path:r}=t,{style:o}=t;return e.$$set=e=>{"path"in e&&n(0,r=e.path),"style"in e&&n(1,o=e.style)},[r,o]}class qd extends ut{constructor(e){super(),ct(this,e,Vd,zd,f,{path:0,style:1})}}function Bd(e,t,n){if(!n)return;const r=function(e,t,n){const{cx:r,cy:o}=n,s=1.4*n.r;return["M 0 0",`L 0 ${t}`,`L ${e} ${t}`,`L ${e} 0`,"L 0 0","z",`M ${r} ${o-s}`,`A ${s} ${s} 0 0 1 ${r+s} ${o}`,`A ${s} ${s} 0 0 1 ${r} ${o+s}`,`A ${s} ${s} 0 0 1 ${r-s} ${o}`,`A ${s} ${s} 0 0 1 ${r} ${o-s}`,"z"].join(" ")}(e,t,n);return`clip-path: path('${r}');`}function jd(e,t,n){const r=e.slice();return r[16]=t[n],r}function Ud(e){let t,n;return{c(){t=B("title"),n=j(e[4])},m(e,r){H(e,t,r),F(t,n)},p(e,t){16&t&&Q(n,e[4])},d(e){e&&z(t)}}}function Wd(e){let t,n;return t=new qd({props:{path:e[9],style:Bd(e[6],e[5],e[8])}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};512&n&&(r.path=e[9]),352&n&&(r.style=Bd(e[6],e[5],e[8])),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Yd(e){let t,n,r=[],o=new Map,s=e[9];const a=e=>e[16];for(let i=0;i<s.length;i+=1){let t=jd(e,s,i),n=a(t);o.set(n,r[i]=Kd(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=W()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);H(e,t,o),n=!0},p(e,n){864&n&&(s=e[9],qe(),r=nt(r,n,a,1,e,s,o,t.parentNode,et,Kd,t,jd),Be())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ue(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&z(t)}}}function Kd(e,t){let n,r,o;return r=new qd({props:{path:t[16],style:Bd(t[6],t[5],t[8])}}),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};512&n&&(o.path=t[16]),352&n&&(o.style=Bd(t[6],t[5],t[8])),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function Gd(e){let t,n=[{class:"notification-dot"},e[8]],r={};for(let o=0;o<n.length;o+=1)r=l(r,n[o]);return{c(){t=B("circle"),J(t,r)},m(e,n){H(e,t,n)},p(e,o){J(t,r=rt(n,[{class:"notification-dot"},256&o&&e[8]]))},d(e){e&&z(t)}}}function Xd(e){let t,n,r,o,s,a,i,c,u,d=e[4]&&Ud(e);const $=[Yd,Wd],p=[];function m(e,t){return 512&t&&(r=null),null==r&&(r=!!Array.isArray(e[9])),r?0:1}o=m(e,-1),s=p[o]=$[o](e);let f=e[8]&&Gd(e),g=[{version:"1.1"},{viewBox:i="0 0 "+e[6]+" "+e[5]},{width:"1em"},{height:"1em"},{class:e[7]},{"aria-label":e[3]},{role:c=e[3]?"img":"presentation"},e[10]],h={};for(let y=0;y<g.length;y+=1)h=l(h,g[y]);return{c(){t=B("svg"),d&&d.c(),n=W(),s.c(),a=W(),f&&f.c(),J(t,h),se(t,"fa-spin",e[1]),se(t,"fa-pulse",e[2]),te(t,"font-size",e[0],!1)},m(e,r){H(e,t,r),d&&d.m(t,null),F(t,n),p[o].m(t,null),F(t,a),f&&f.m(t,null),u=!0},p(e,[r]){e[4]?d?d.p(e,r):(d=Ud(e),d.c(),d.m(t,n)):d&&(d.d(1),d=null);let l=o;o=m(e,r),o===l?p[o].p(e,r):(qe(),Ue(p[l],1,1,(()=>{p[l]=null})),Be(),s=p[o],s?s.p(e,r):(s=p[o]=$[o](e),s.c()),je(s,1),s.m(t,a)),e[8]?f?f.p(e,r):(f=Gd(e),f.c(),f.m(t,null)):f&&(f.d(1),f=null),J(t,h=rt(g,[{version:"1.1"},(!u||96&r&&i!==(i="0 0 "+e[6]+" "+e[5]))&&{viewBox:i},{width:"1em"},{height:"1em"},(!u||128&r)&&{class:e[7]},(!u||8&r)&&{"aria-label":e[3]},(!u||8&r&&c!==(c=e[3]?"img":"presentation"))&&{role:c},1024&r&&e[10]])),se(t,"fa-spin",e[1]),se(t,"fa-pulse",e[2]),te(t,"font-size",e[0],!1)},i(e){u||(je(s),u=!0)},o(e){Ue(s),u=!1},d(e){e&&z(t),d&&d.d(),p[o].d(),f&&f.d()}}}function Zd(e,t,n){let r,o,s,a;const i=["data","size","spin","pulse","flip","rotate","class","label","title","hasNotificationDot"];let c,u=S(t,i),{data:d}=t,{size:$="1em"}=t,{spin:p=!1}=t,{pulse:m=!1}=t,{flip:f}=t,{rotate:g}=t,{class:h=""}=t,{label:y}=t,{title:b}=t,{hasNotificationDot:v=!1}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(10,u=S(t,i)),"data"in e&&n(11,d=e.data),"size"in e&&n(0,$=e.size),"spin"in e&&n(1,p=e.spin),"pulse"in e&&n(2,m=e.pulse),"flip"in e&&n(12,f=e.flip),"rotate"in e&&n(13,g=e.rotate),"class"in e&&n(14,h=e.class),"label"in e&&n(3,y=e.label),"title"in e&&n(4,b=e.title),"hasNotificationDot"in e&&n(15,v=e.hasNotificationDot)},e.$$.update=()=>{2048&e.$$.dirty&&n(6,[r,o,,,s]=d.icon,r,(n(5,o),n(11,d)),(n(9,s),n(11,d))),28672&e.$$.dirty&&n(7,c=function(e,t,n){const r=["fa-icon"];return e&&r.push(e),t&&r.push(`fa-flip-${t}`),n&&r.push(`fa-rotate-${n}`),r.join(" ")}(h,f,g)),32864&e.$$.dirty&&n(8,a=v?function(e,t){const n=.22*Math.min(t,e);return{r:n,cx:e-n,cy:n}}(r,o):void 0)},[$,p,m,y,b,o,r,c,a,s,u,d,f,g,h,v]}class Jd extends ut{constructor(e){super(),ct(this,e,Zd,Xd,f,{data:11,size:0,spin:1,pulse:2,flip:12,rotate:13,class:14,label:3,title:4,hasNotificationDot:15})}}function Qd(e){let t,n;const r=[Fd,{size:e[0]}];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const o=1&n?rt(r,[0&n&&ot(Fd),1&n&&{size:e[0]}]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function e$(e,t,n){let{size:r}=t;return e.$$set=e=>{"size"in e&&n(0,r=e.size)},[r]}class t$ extends ut{constructor(e){super(),ct(this,e,e$,Qd,f,{size:0})}}function n$(e){let t,n;const r=[e[2]];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=4&n?rt(r,[ot(e[2])]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function r$(e){let t,n;return t=new t$({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function o$(e){let t,n;return{c(){t=q("span"),n=j(e[1])},m(e,r){H(e,t,r),F(t,n)},p(e,t){2&t&&Q(n,e[1])},d(e){e&&z(t)}}}function s$(e){let t,n,r,o,s;const a=[r$,n$],i=[];function l(e,t){return e[0]?0:e[2]?1:-1}~(t=l(e))&&(n=i[t]=a[t](e));let c=e[1]&&o$(e);return{c(){n&&n.c(),r=U(),c&&c.c(),o=W()},m(e,n){~t&&i[t].m(e,n),H(e,r,n),c&&c.m(e,n),H(e,o,n),s=!0},p(e,s){let u=t;t=l(e),t===u?~t&&i[t].p(e,s):(n&&(qe(),Ue(i[u],1,1,(()=>{i[u]=null})),Be()),~t?(n=i[t],n?n.p(e,s):(n=i[t]=a[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null),e[1]?c?c.p(e,s):(c=o$(e),c.c(),c.m(o.parentNode,o)):c&&(c.d(1),c=null)},i(e){s||(je(n),s=!0)},o(e){Ue(n),s=!1},d(e){~t&&i[t].d(e),e&&z(r),c&&c.d(e),e&&z(o)}}}function a$(e){let t,n;const r=[{appearance:e[4]},{disabled:e[3]||e[0]},{tooltip:e[5]},{"aria-label":e[1]?void 0:e[5]},e[7]];let o={$$slots:{default:[s$]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Hu({props:o}),t.$on("click",e[6]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const o=187&n?rt(r,[16&n&&{appearance:e[4]},9&n&&{disabled:e[3]||e[0]},32&n&&{tooltip:e[5]},34&n&&{"aria-label":e[1]?void 0:e[5]},128&n&&ot(e[7])]):{};1031&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function i$(e,t,n){const r=["label","icon","onClick","confirm","disabled","isProcessing","appearance","tooltip","proceed"];let o=S(t,r),{label:s="Proceed"}=t,{icon:a}=t,{onClick:i=(()=>{})}=t,{confirm:c=(async()=>!0)}=t,{disabled:u=!1}=t,{isProcessing:d=!1}=t,{appearance:$="primary"}=t,{tooltip:p}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(7,o=S(t,r)),"label"in e&&n(1,s=e.label),"icon"in e&&n(2,a=e.icon),"onClick"in e&&n(8,i=e.onClick),"confirm"in e&&n(9,c=e.confirm),"disabled"in e&&n(3,u=e.disabled),"isProcessing"in e&&n(0,d=e.isProcessing),"appearance"in e&&n(4,$=e.appearance),"tooltip"in e&&n(5,p=e.tooltip)},[d,s,a,u,$,p,async function(){if(await c()){n(0,d=!0);try{await i()}finally{n(0,d=!1)}}},o,i,c]}class l$ extends ut{constructor(e){super(),ct(this,e,i$,a$,f,{label:1,icon:2,onClick:8,confirm:9,disabled:3,isProcessing:0,appearance:4,tooltip:5,proceed:6})}get proceed(){return this.$$.ctx[6]}}function c$(e){let t,n;return t=new Hu({props:{appearance:e[9].appearance,disabled:e[0]||!e[4],size:e[5],$$slots:{default:[d$]},$$scope:{ctx:e}}}),t.$on("click",(function(){$(e[1])&&e[1].apply(this,arguments)})),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(n,r){e=n;const o={};512&r&&(o.appearance=e[9].appearance),17&r&&(o.disabled=e[0]||!e[4]),32&r&&(o.size=e[5]),131584&r&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function u$(e){let t,n;const r=[e[9].icon];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=512&n?rt(r,[ot(e[9].icon)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function d$(e){let t,n,r,o,s=e[9].label+"",a=e[9].icon&&u$(e);return{c(){a&&a.c(),t=U(),n=q("span"),r=j(s)},m(e,s){a&&a.m(e,s),H(e,t,s),H(e,n,s),F(n,r),o=!0},p(e,n){e[9].icon?a?(a.p(e,n),512&n&&je(a,1)):(a=u$(e),a.c(),je(a,1),a.m(t.parentNode,t)):a&&(qe(),Ue(a,1,1,(()=>{a=null})),Be()),(!o||512&n)&&s!==(s=e[9].label+"")&&Q(r,s)},i(e){o||(je(a),o=!0)},o(e){Ue(a),o=!1},d(e){a&&a.d(e),e&&z(t),e&&z(n)}}}function $$(e){let t,n,r,o,s,a,i=e[6]&&c$(e);function l(t){e[13](t)}function c(t){e[14](t)}let u={onClick:e[2],appearance:e[8].appearance,icon:e[8].icon,label:e[8].label,disabled:e[0]||!e[3],type:e[8].type,size:e[5]};return void 0!==e[0]&&(u.isProcessing=e[0]),void 0!==e[7]&&(u.proceed=e[7]),r=new l$({props:u}),Ce.push((()=>st(r,"isProcessing",l))),Ce.push((()=>st(r,"proceed",c))),{c(){t=q("div"),i&&i.c(),n=U(),at(r.$$.fragment),X(t,"class","cancel-or-proceed-button-pair"),se(t,"has-cancel-button",e[6])},m(e,o){H(e,t,o),i&&i.m(t,null),F(t,n),it(r,t,null),a=!0},p(e,[l]){e[6]?i?(i.p(e,l),64&l&&je(i,1)):(i=c$(e),i.c(),je(i,1),i.m(t,n)):i&&(qe(),Ue(i,1,1,(()=>{i=null})),Be());const c={};4&l&&(c.onClick=e[2]),256&l&&(c.appearance=e[8].appearance),256&l&&(c.icon=e[8].icon),256&l&&(c.label=e[8].label),9&l&&(c.disabled=e[0]||!e[3]),256&l&&(c.type=e[8].type),32&l&&(c.size=e[5]),!o&&1&l&&(o=!0,c.isProcessing=e[0],Oe((()=>o=!1))),!s&&128&l&&(s=!0,c.proceed=e[7],Oe((()=>s=!1))),r.$set(c),(!a||64&l)&&se(t,"has-cancel-button",e[6])},i(e){a||(je(i),je(r.$$.fragment,e),a=!0)},o(e){Ue(i),Ue(r.$$.fragment,e),a=!1},d(e){e&&z(t),i&&i.d(),lt(r)}}}function p$(e,t,n){let r,o;const s={label:"Cancel",appearance:"secondary"},a={label:"Proceed",icon:kd,appearance:"primary",type:"button"};let{cancelButton:i={}}=t,{proceedButton:l={}}=t,{onCancel:c=(()=>{})}=t,{onProceed:u=(()=>{})}=t,{canProceed:d=!0}=t,{canCancel:$=!0}=t,{isProcessing:p=!1}=t,{size:m}=t,{hasCancelButton:f=!0}=t,g=async()=>{};return e.$$set=e=>{"cancelButton"in e&&n(10,i=e.cancelButton),"proceedButton"in e&&n(11,l=e.proceedButton),"onCancel"in e&&n(1,c=e.onCancel),"onProceed"in e&&n(2,u=e.onProceed),"canProceed"in e&&n(3,d=e.canProceed),"canCancel"in e&&n(4,$=e.canCancel),"isProcessing"in e&&n(0,p=e.isProcessing),"size"in e&&n(5,m=e.size),"hasCancelButton"in e&&n(6,f=e.hasCancelButton)},e.$$.update=()=>{1024&e.$$.dirty&&n(9,r={...s,...i}),2048&e.$$.dirty&&n(8,o={...a,...l})},[p,c,u,d,$,m,f,g,o,r,i,l,function(){return g()},function(e){p=e,n(0,p)},function(e){g=e,n(7,g)}]}class m$ extends ut{constructor(e){super(),ct(this,e,p$,$$,f,{cancelButton:10,proceedButton:11,onCancel:1,onProceed:2,canProceed:3,canCancel:4,isProcessing:0,size:5,hasCancelButton:6,proceed:12})}get proceed(){return this.$$.ctx[12]}}class f${constructor(t){e(this,"disabled",pt(!1)),e(this,"inputId",void 0),this.inputId=pt(t??ko())}}const g$={};function h$(e){be(g$,e)}function y$(){return ve(g$)}function b$(e,t,n){let{id:r=ko()}=t,{labelController:o=y$()}=t,{disabled:s=!1}=t,{focusOnMount:a=!1}=t;return ge((async()=>{if(await Ee(),a){document.querySelector(`#${r}`)?.focus()}})),e.$$set=e=>{"id"in e&&n(0,r=e.id),"labelController"in e&&n(1,o=e.labelController),"disabled"in e&&n(2,s=e.disabled),"focusOnMount"in e&&n(3,a=e.focusOnMount)},e.$$.update=()=>{6&e.$$.dirty&&o?.disabled.set(s),3&e.$$.dirty&&o?.inputId.set(r)},[r,o,s,a]}class v$ extends ut{constructor(e){super(),ct(this,e,b$,null,f,{id:0,labelController:1,disabled:2,focusOnMount:3})}}function w$(e){let t,n,r,o,s,a,i,c;const u=[e[6],{disabled:e[3]}];function $(t){e[10](t)}let p={};for(let d=0;d<u.length;d+=1)p=l(p,u[d]);void 0!==e[1]&&(p.id=e[1]),t=new v$({props:p}),Ce.push((()=>st(t,"id",$)));let m=[e[6],{class:"checkbox"},{type:"checkbox"},{id:e[1]},{checked:s=e[0]??void 0},{indeterminate:e[4]},{disabled:e[3]},{value:e[2]}],f={};for(let d=0;d<m.length;d+=1)f=l(f,m[d]);return{c(){at(t.$$.fragment),r=U(),o=q("input"),Z(o,f)},m(n,s){it(t,n,s),H(n,r,s),H(n,o,s),o.autofocus&&o.focus(),a=!0,i||(c=[Y(o,"change",e[5]),Y(o,"click",e[8]),Y(o,"mousedown",e[9])],i=!0)},p(e,[r]){const i=72&r?rt(u,[64&r&&ot(e[6]),8&r&&{disabled:e[3]}]):{};!n&&2&r&&(n=!0,i.id=e[1],Oe((()=>n=!1))),t.$set(i),Z(o,f=rt(m,[64&r&&e[6],{class:"checkbox"},{type:"checkbox"},(!a||2&r)&&{id:e[1]},(!a||1&r&&s!==(s=e[0]??void 0))&&{checked:s},(!a||16&r)&&{indeterminate:e[4]},(!a||8&r)&&{disabled:e[3]},(!a||4&r)&&{value:e[2]}]))},i(e){a||(je(t.$$.fragment,e),a=!0)},o(e){Ue(t.$$.fragment,e),a=!1},d(e){lt(t,e),e&&z(r),e&&z(o),i=!1,d(c)}}}function _$(e,t,n){let r;const o=["checked","allowIndeterminate","value","disabled","id"];let s=S(t,o);const a=ye();let{checked:i=!1}=t,{allowIndeterminate:c=!1}=t,{value:u}=t,{disabled:d=!1}=t,{id:$}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(6,s=S(t,o)),"checked"in e&&n(0,i=e.checked),"allowIndeterminate"in e&&n(7,c=e.allowIndeterminate),"value"in e&&n(2,u=e.value),"disabled"in e&&n(3,d=e.disabled),"id"in e&&n(1,$=e.id)},e.$$.update=()=>{129&e.$$.dirty&&n(4,r=c&&null===i)},[i,$,u,d,r,function(){n(0,i=!i),a("change",i)},s,c,function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(e){$=e,n(1,$)}]}class x$ extends ut{constructor(e){super(),ct(this,e,_$,w$,f,{checked:0,allowIndeterminate:7,value:2,disabled:3,id:1})}}function C$(e){let t,n,r;function o(t){e[3](t)}let s={disabled:e[1],id:e[2]};return void 0!==e[0]&&(s.checked=e[0]),t=new x$({props:s}),Ce.push((()=>st(t,"checked",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.disabled=e[1]),4&r&&(o.id=e[2]),!n&&1&r&&(n=!0,o.checked=e[0],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function S$(e,t,n){let{value:r=!1}=t,{disabled:o=!1}=t,{id:s}=t;return e.$$set=e=>{"value"in e&&n(0,r=e.value),"disabled"in e&&n(1,o=e.disabled),"id"in e&&n(2,s=e.id)},[r,o,s,function(e){r=e,n(0,r)}]}class k$ extends ut{constructor(e){super(),ct(this,e,S$,C$,f,{value:0,disabled:1,id:2})}}function M$(e){return`${e}-label`}const I$=e=>({inputId:8&e}),T$=e=>({inputId:e[3]});function E$(e){let t,n,r,o,s;const a=e[9].default,i=b(a,e,e[8],T$);let c=[{for:e[3]},e[6],{style:e[0]},{class:"label-component"},{id:n=M$(e[3])}],u={};for(let d=0;d<c.length;d+=1)u=l(u,c[d]);return{c(){t=q("label"),i&&i.c(),Z(t,u),se(t,"disabled",e[4])},m(n,a){H(n,t,a),i&&i.m(t,null),r=!0,o||(s=Y(t,"click",e[5]),o=!0)},p(e,[o]){i&&i.p&&(!r||264&o)&&_(i,a,e,e[8],r?w(a,e[8],o,I$):x(e[8]),T$),Z(t,u=rt(c,[(!r||8&o)&&{for:e[3]},64&o&&e[6],(!r||1&o)&&{style:e[0]},{class:"label-component"},(!r||8&o&&n!==(n=M$(e[3])))&&{id:n}])),se(t,"disabled",e[4])},i(e){r||(je(i,e),r=!0)},o(e){Ue(i,e),r=!1},d(e){e&&z(t),i&&i.d(e),o=!1,s()}}}function D$(e,t,n){let r,o;const s=["controller","style"];let i,c,u=S(t,s),d=a,$=a;e.$$.on_destroy.push((()=>d())),e.$$.on_destroy.push((()=>$()));let{$$slots:p={},$$scope:m}=t,{controller:f=new f$}=t,{style:h}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(6,u=S(t,s)),"controller"in e&&n(7,f=e.controller),"style"in e&&n(0,h=e.style),"$$scope"in e&&n(8,m=e.$$scope)},e.$$.update=()=>{128&e.$$.dirty&&h$(f),128&e.$$.dirty&&(n(2,({inputId:r,disabled:o}=f),r,(n(1,o),$(),$=g(o,(e=>n(4,c=e))),o)),d(),d=g(r,(e=>n(3,i=e))))},[h,o,r,i,c,function(){document.querySelector(`#${i}`)?.focus()},u,f,m,p]}class O$ extends ut{constructor(e){super(),ct(this,e,D$,E$,f,{controller:7,style:0})}}const N$=e=>({}),A$=e=>({slot:"content"});function R$(e){let t,n;const r=[{slot:"trigger"},Sd];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[r[0],ot(Sd)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function F$(e){let t;const n=e[1].default,r=b(n,e,e[2],A$);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||4&o)&&_(r,n,e,e[2],t?w(n,e[2],o,N$):x(e[2]),A$)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function P$(e){let t,n,r,o;const s=[{"aria-label":"Help"},{class:"help-trigger"},{allowHover:!0},e[0]];let a={$$slots:{content:[F$],trigger:[R$]},$$scope:{ctx:e}};for(let i=0;i<s.length;i+=1)a=l(a,s[i]);return r=new Eu({props:a}),{c(){t=q("span"),n=q("span"),at(r.$$.fragment),X(n,"class","help-trigger svelte-1m8bps"),X(t,"class","help svelte-1m8bps")},m(e,s){H(e,t,s),F(t,n),it(r,n,null),o=!0},p(e,[t]){const n=1&t?rt(s,[s[0],s[1],s[2],ot(e[0])]):{};4&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(t),lt(r)}}}function L$(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{n(0,t=l(l({},t),C(e))),"$$scope"in e&&n(2,o=e.$$scope)},[t=C(t),r,o]}class H$ extends ut{constructor(e){super(),ct(this,e,L$,P$,f,{})}}const z$=e=>({}),V$=e=>({}),q$=e=>({}),B$=e=>({}),j$=e=>({}),U$=e=>({});function W$(e){let t,n;return t=new H$({props:{$$slots:{default:[Y$]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};66&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Y$(e){let t,n,r=(e[1]??"")+"";const o=e[5].help,s=b(o,e,e[6],B$);return{c(){t=j(r),s&&s.c()},m(e,r){H(e,t,r),s&&s.m(e,r),n=!0},p(e,a){(!n||2&a)&&r!==(r=(e[1]??"")+"")&&Q(t,r),s&&s.p&&(!n||64&a)&&_(s,o,e,e[6],n?w(o,e[6],a,q$):x(e[6]),B$)},i(e){n||(je(s,e),n=!0)},o(e){Ue(s,e),n=!1},d(e){e&&z(t),s&&s.d(e)}}}function K$(e){let t,n,r,o=(e[1]??"")+"";const s=e[5].help,a=b(s,e,e[6],V$);return{c(){t=q("span"),n=j(o),a&&a.c(),X(t,"class","help")},m(e,o){H(e,t,o),F(t,n),a&&a.m(t,null),r=!0},p(e,t){(!r||2&t)&&o!==(o=(e[1]??"")+"")&&Q(n,o),a&&a.p&&(!r||64&t)&&_(a,s,e,e[6],r?w(s,e[6],t,z$):x(e[6]),V$)},i(e){r||(je(a,e),r=!0)},o(e){Ue(a,e),r=!1},d(e){e&&z(t),a&&a.d(e)}}}function G$(e){let t,n,r,o,s,a,i,l,c,u=(e[0]??"")+"";const d=e[5].label,$=b(d,e,e[6],U$);let p=e[4]&&"tooltip"===e[3]&&W$(e);const m=e[5].default,f=b(m,e,e[6],null);let g=e[4]&&"inline"===e[3]&&K$(e);return{c(){t=q("span"),n=q("span"),r=j(u),o=U(),$&&$.c(),s=U(),p&&p.c(),a=U(),i=q("span"),f&&f.c(),l=U(),g&&g.c(),X(n,"class","labeled-input-label"),X(i,"class","labeled-input-slot"),X(t,"class","label-content")},m(e,u){H(e,t,u),F(t,n),F(n,r),F(n,o),$&&$.m(n,null),F(n,s),p&&p.m(n,null),F(t,a),F(t,i),f&&f.m(i,null),F(t,l),g&&g.m(t,null),c=!0},p(e,o){(!c||1&o)&&u!==(u=(e[0]??"")+"")&&Q(r,u),$&&$.p&&(!c||64&o)&&_($,d,e,e[6],c?w(d,e[6],o,j$):x(e[6]),U$),e[4]&&"tooltip"===e[3]?p?(p.p(e,o),24&o&&je(p,1)):(p=W$(e),p.c(),je(p,1),p.m(n,null)):p&&(qe(),Ue(p,1,1,(()=>{p=null})),Be()),f&&f.p&&(!c||64&o)&&_(f,m,e,e[6],c?w(m,e[6],o,null):x(e[6]),null),e[4]&&"inline"===e[3]?g?(g.p(e,o),24&o&&je(g,1)):(g=K$(e),g.c(),je(g,1),g.m(t,null)):g&&(qe(),Ue(g,1,1,(()=>{g=null})),Be())},i(e){c||(je($,e),je(p),je(f,e),je(g),c=!0)},o(e){Ue($,e),Ue(p),Ue(f,e),Ue(g),c=!1},d(e){e&&z(t),$&&$.d(e),p&&p.d(),f&&f.d(e),g&&g.d()}}}function X$(e){let t,n,r;return n=new O$({props:{$$slots:{default:[G$]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","labeled-input"),se(t,"layout-stacked","stacked"===e[2]),se(t,"layout-inline","inline"===e[2]),se(t,"layout-inline-input-first","inline-input-first"===e[2])},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,[o]){const s={};91&o&&(s.$$scope={dirty:o,ctx:e}),n.$set(s),(!r||4&o)&&se(t,"layout-stacked","stacked"===e[2]),(!r||4&o)&&se(t,"layout-inline","inline"===e[2]),(!r||4&o)&&se(t,"layout-inline-input-first","inline-input-first"===e[2])},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function Z$(e,t,n){let r,{$$slots:o={},$$scope:s}=t;const a=k(o);let{label:i}=t,{help:l}=t,{layout:c="inline"}=t,{helpType:u="inline"}=t;return e.$$set=e=>{"label"in e&&n(0,i=e.label),"help"in e&&n(1,l=e.help),"layout"in e&&n(2,c=e.layout),"helpType"in e&&n(3,u=e.helpType),"$$scope"in e&&n(6,s=e.$$scope)},e.$$.update=()=>{2&e.$$.dirty&&n(4,r=a.help||l)},[i,l,c,u,r,o,s]}class J$ extends ut{constructor(e){super(),ct(this,e,Z$,X$,f,{label:0,help:1,layout:2,helpType:3})}}function Q$(e){let t,n;const r=e[1].default,o=b(r,e,e[0],null);return{c(){t=q("div"),o&&o.c(),X(t,"class","margin-trim svelte-1hehqd7")},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&_(o,r,e,e[0],n?w(r,e[0],t,null):x(e[0]),null)},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function ep(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,r]}class tp extends ut{constructor(e){super(),ct(this,e,ep,Q$,f,{})}}function np(e){let t,n,r;const o=[e[0]];var s=e[1];function a(e){let t={};for(let n=0;n<o.length;n+=1)t=l(t,o[n]);return{props:t}}return s&&(t=new s(a())),{c(){t&&at(t.$$.fragment),n=W()},m(e,o){t&&it(t,e,o),H(e,n,o),r=!0},p(e,[r]){const i=1&r?rt(o,[ot(e[0])]):{};if(s!==(s=e[1])){if(t){qe();const e=t;Ue(e.$$.fragment,1,0,(()=>{lt(e,1)})),Be()}s?(t=new s(a()),at(t.$$.fragment),je(t.$$.fragment,1),it(t,n.parentNode,n)):t=null}else s&&t.$set(i)},i(e){r||(t&&je(t.$$.fragment,e),r=!0)},o(e){t&&Ue(t.$$.fragment,e),r=!1},d(e){e&&z(n),t&&lt(t,e)}}}function rp(e,t,n){let r,o,{componentWithProps:s}=t;return e.$$set=e=>{"componentWithProps"in e&&n(2,s=e.componentWithProps)},e.$$.update=()=>{4&e.$$.dirty&&n(1,r=s.component),4&e.$$.dirty&&n(0,o=s.props)},[o,r,s]}class op extends ut{constructor(e){super(),ct(this,e,rp,np,f,{componentWithProps:2})}}function sp(e,t,n){const r=e.slice();return r[1]=t[n],r}function ap(e){let t,n;return t=new op({props:{componentWithProps:e[0]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.componentWithProps=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function ip(e){let t,n,r,o;const s=[$p,dp,up],a=[];function i(e,t){return 0===e[0].length?0:1===e[0].length?1:2}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function lp(e){let t;return{c(){t=j(e[0])},m(e,n){H(e,t,n)},p(e,n){1&n&&Q(t,e[0])},i:a,o:a,d(e){e&&z(t)}}}function cp(e){let t;return{c(){t=j("")},m(e,n){H(e,t,n)},p:a,i:a,o:a,d(e){e&&z(t)}}}function up(e){let t,n;return t=new tp({props:{$$slots:{default:[mp]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};17&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function dp(e){let t,n=e[0][0]+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1&r&&n!==(n=e[0][0]+"")&&Q(t,n)},i:a,o:a,d(e){e&&z(t)}}}function $p(e){let t;return{c(){t=j("")},m(e,n){H(e,t,n)},p:a,i:a,o:a,d(e){e&&z(t)}}}function pp(e){let t,n,r=e[1]+"";return{c(){t=q("p"),n=j(r)},m(e,r){H(e,t,r),F(t,n)},p(e,t){1&t&&r!==(r=e[1]+"")&&Q(n,r)},d(e){e&&z(t)}}}function mp(e){let t,n=e[0],r=[];for(let o=0;o<n.length;o+=1)r[o]=pp(sp(e,n,o));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=W()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);H(e,t,n)},p(e,o){if(1&o){let s;for(n=e[0],s=0;s<n.length;s+=1){const a=sp(e,n,s);r[s]?r[s].p(a,o):(r[s]=pp(a),r[s].c(),r[s].m(t.parentNode,t))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(e){V(r,e),e&&z(t)}}}function fp(e){let t,n,r,o,s;const a=[cp,lp,ip,ap],i=[];function l(e,n){return 1&n&&(t=null),void 0===e[0]?0:"string"==typeof e[0]?1:(null==t&&(t=!!Array.isArray(e[0])),t?2:3)}return n=l(e,-1),r=i[n]=a[n](e),{c(){r.c(),o=W()},m(e,t){i[n].m(e,t),H(e,o,t),s=!0},p(e,[t]){let s=n;n=l(e,t),n===s?i[n].p(e,t):(qe(),Ue(i[s],1,1,(()=>{i[s]=null})),Be(),r=i[n],r?r.p(e,t):(r=i[n]=a[n](e),r.c()),je(r,1),r.m(o.parentNode,o))},i(e){s||(je(r),s=!0)},o(e){Ue(r),s=!1},d(e){i[n].d(e),e&&z(o)}}}function gp(e,t,n){let{arg:r}=t;return e.$$set=e=>{"arg"in e&&n(0,r=e.arg)},[r]}class hp extends ut{constructor(e){super(),ct(this,e,gp,fp,f,{arg:0})}}const yp=e=>({}),bp=e=>({});function vp(e){let t,n,r,o,s,a;const i=e[4].label,l=b(i,e,e[3],bp),c=l||function(e){let t,n=(e[0]??"")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1&r&&n!==(n=(e[0]??"")+"")&&Q(t,n)},d(e){e&&z(t)}}}(e),u=e[4].default,d=b(u,e,e[3],null);return{c(){t=q("fieldset"),n=q("legend"),c&&c.c(),r=U(),d&&d.c(),X(t,"class","fieldset"),X(t,"aria-label",e[1]),se(t,"boxed",e[2])},m(i,l){H(i,t,l),F(t,n),c&&c.m(n,null),F(t,r),d&&d.m(t,null),o=!0,s||(a=Y(t,"change",e[5]),s=!0)},p(e,[n]){l?l.p&&(!o||8&n)&&_(l,i,e,e[3],o?w(i,e[3],n,yp):x(e[3]),bp):c&&c.p&&(!o||1&n)&&c.p(e,o?n:-1),d&&d.p&&(!o||8&n)&&_(d,u,e,e[3],o?w(u,e[3],n,null):x(e[3]),null),(!o||2&n)&&X(t,"aria-label",e[1]),(!o||4&n)&&se(t,"boxed",e[2])},i(e){o||(je(c,e),je(d,e),o=!0)},o(e){Ue(c,e),Ue(d,e),o=!1},d(e){e&&z(t),c&&c.d(e),d&&d.d(e),s=!1,a()}}}function wp(e,t,n){let{$$slots:r={},$$scope:o}=t,{label:s}=t,{ariaLabel:a}=t,{boxed:i=!1}=t;return e.$$set=e=>{"label"in e&&n(0,s=e.label),"ariaLabel"in e&&n(1,a=e.ariaLabel),"boxed"in e&&n(2,i=e.boxed),"$$scope"in e&&n(3,o=e.$$scope)},[s,a,i,o,r,function(t){_e.call(this,e,t)}]}class _p extends ut{constructor(e){super(),ct(this,e,wp,vp,f,{label:0,ariaLabel:1,boxed:2})}}const xp=e=>({option:2&e,disabled:146&e}),Cp=e=>({option:e[12],disabled:e[7](e[12])||e[4]});function Sp(e,t,n){const r=e.slice();r[12]=t[n];const o=r[8](r[12]);return r[13]=o,r}const kp=e=>({option:2&e,disabled:146&e}),Mp=e=>({option:e[12],disabled:e[7](e[12])||e[4]}),Ip=e=>({option:2&e,disabled:146&e}),Tp=e=>({slot:"label",option:e[12],disabled:e[7](e[12])||e[4]});function Ep(e){let t;const n=e[10].default,r=b(n,e,e[11],Mp);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||2194&o)&&_(r,n,e,e[11],t?w(n,e[11],o,kp):x(e[11]),Mp)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function Dp(e){let t,n;return t=new $u({props:{slot:"label",arg:e[5](e[12])}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};34&n&&(r.arg=e[5](e[12])),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Op(e){let t,n;return t=new hp({props:{slot:"help",arg:e[13]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};258&n&&(r.arg=e[13]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Np(e,t){let n,r,o,s;return r=new J$({props:{layout:"inline-input-first",$$slots:{help:[Op],label:[Dp],default:[Ep]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=q("li"),at(r.$$.fragment),o=U(),X(n,"class","option"),se(n,"has-help",!!t[13]),this.first=n},m(e,t){H(e,n,t),it(r,n,null),F(n,o),s=!0},p(e,o){t=e;const a={};2482&o&&(a.$$scope={dirty:o,ctx:t}),r.$set(a),(!s||258&o)&&se(n,"has-help",!!t[13])},i(e){s||(je(r.$$.fragment,e),s=!0)},o(e){Ue(r.$$.fragment,e),s=!1},d(e){e&&z(n),lt(r)}}}function Ap(e){let t,n,r,o=[],s=new Map,a=e[1];const i=e=>e[12];for(let u=0;u<a.length;u+=1){let t=Sp(e,a,u),n=i(t);s.set(n,o[u]=Np(n,t))}const l=e[10].extra,c=b(l,e,e[11],Cp);return{c(){t=q("ul");for(let e=0;e<o.length;e+=1)o[e].c();n=U(),c&&c.c(),X(t,"class","fieldset-group-options"),se(t,"inline",e[0]),se(t,"has-fieldset-label",!!e[2])},m(e,s){H(e,t,s);for(let n=0;n<o.length;n+=1)o[n].m(t,null);H(e,n,s),c&&c.m(e,s),r=!0},p(e,n){2482&n&&(a=e[1],qe(),o=nt(o,n,i,1,e,a,s,t,et,Np,null,Sp),Be()),(!r||1&n)&&se(t,"inline",e[0]),(!r||4&n)&&se(t,"has-fieldset-label",!!e[2]),c&&c.p&&(!r||2194&n)&&_(c,l,e,e[11],r?w(l,e[11],n,xp):x(e[11]),Cp)},i(e){if(!r){for(let e=0;e<a.length;e+=1)je(o[e]);je(c,e),r=!0}},o(e){for(let t=0;t<o.length;t+=1)Ue(o[t]);Ue(c,e),r=!1},d(e){e&&z(t);for(let t=0;t<o.length;t+=1)o[t].d();e&&z(n),c&&c.d(e)}}}function Rp(e){let t;const n=e[10].label,r=b(n,e,e[11],Tp),o=r||function(e){let t,n=(e[2]??"")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){4&r&&n!==(n=(e[2]??"")+"")&&Q(t,n)},d(e){e&&z(t)}}}(e);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,s){r?r.p&&(!t||2194&s)&&_(r,n,e,e[11],t?w(n,e[11],s,Ip):x(e[11]),Tp):o&&o.p&&(!t||4&s)&&o.p(e,t?s:-1)},i(e){t||(je(o,e),t=!0)},o(e){Ue(o,e),t=!1},d(e){o&&o.d(e)}}}function Fp(e){let t,n;return t=new _p({props:{ariaLabel:e[3],boxed:e[6],$$slots:{label:[Rp],default:[Ap]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};8&n&&(r.ariaLabel=e[3]),64&n&&(r.boxed=e[6]),2487&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Pp(e,t,n){let{$$slots:r={},$$scope:o}=t,{isInline:s}=t,{options:a=[]}=t,{label:i}=t,{ariaLabel:l}=t,{disabled:c=!1}=t,{labelKey:u="label"}=t,{getLabel:d=(e=>To(e,u))}=t,{boxed:$}=t,{getDisabled:p=(()=>!1)}=t,{getHelp:m=(()=>{})}=t;return e.$$set=e=>{"isInline"in e&&n(0,s=e.isInline),"options"in e&&n(1,a=e.options),"label"in e&&n(2,i=e.label),"ariaLabel"in e&&n(3,l=e.ariaLabel),"disabled"in e&&n(4,c=e.disabled),"labelKey"in e&&n(9,u=e.labelKey),"getLabel"in e&&n(5,d=e.getLabel),"boxed"in e&&n(6,$=e.boxed),"getDisabled"in e&&n(7,p=e.getDisabled),"getHelp"in e&&n(8,m=e.getHelp),"$$scope"in e&&n(11,o=e.$$scope)},[s,a,i,l,c,d,$,p,m,u,r,o]}class Lp extends ut{constructor(e){super(),ct(this,e,Pp,Fp,f,{isInline:0,options:1,label:2,ariaLabel:3,disabled:4,labelKey:9,getLabel:5,boxed:6,getDisabled:7,getHelp:8})}}const Hp=e=>({}),zp=e=>({slot:"label"});function Vp(e){let t,n;function r(...t){return e[14](e[19],...t)}return t=new x$({props:{checked:e[0].some(r),disabled:e[20]}}),t.$on("change",(function(...t){return e[15](e[19],...t)})),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(n,o){e=n;const s={};525313&o&&(s.checked=e[0].some(r)),1048576&o&&(s.disabled=e[20]),t.$set(s)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function qp(e){let t;const n=e[13].label,r=b(n,e,e[17],zp),o=r||function(e){let t,n=(e[3]??"")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8&r&&n!==(n=(e[3]??"")+"")&&Q(t,n)},d(e){e&&z(t)}}}(e);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,s){r?r.p&&(!t||131072&s)&&_(r,n,e,e[17],t?w(n,e[17],s,Hp):x(e[17]),zp):o&&o.p&&(!t||8&s)&&o.p(e,t?s:-1)},i(e){t||(je(o,e),t=!0)},o(e){Ue(o,e),t=!1},d(e){o&&o.d(e)}}}function Bp(e){let t,n;return t=new Lp({props:{isInline:e[1],options:e[2],ariaLabel:e[4],disabled:e[11],boxed:e[9],labelKey:e[5],getLabel:e[6],getHelp:e[7],getDisabled:e[8],$$slots:{label:[qp,({option:e,disabled:t})=>({19:e,20:t}),({option:e,disabled:t})=>(e?524288:0)|(t?1048576:0)],default:[Vp,({option:e,disabled:t})=>({19:e,20:t}),({option:e,disabled:t})=>(e?524288:0)|(t?1048576:0)]},$$scope:{ctx:e}}}),t.$on("change",e[16]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.isInline=e[1]),4&n&&(r.options=e[2]),16&n&&(r.ariaLabel=e[4]),2048&n&&(r.disabled=e[11]),512&n&&(r.boxed=e[9]),32&n&&(r.labelKey=e[5]),64&n&&(r.getLabel=e[6]),128&n&&(r.getHelp=e[7]),256&n&&(r.getDisabled=e[8]),1704969&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function jp(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=ye();let{values:a=[]}=t,{isInline:i=!1}=t,{options:l=[]}=t,{label:c}=t,{ariaLabel:u}=t,{checkboxLabelKey:d}=t,{getCheckboxLabel:$}=t,{getCheckboxHelp:p=(()=>{})}=t,{getCheckboxDisabled:m=(()=>!1)}=t,{boxed:f=!1}=t,{valuesAreEqual:g=((e,t)=>e===t)}=t,{disabled:h=!1}=t;function y(e,t){n(0,a=t?[...a,e]:a.filter((t=>!g(t,e)))),s("artificialChange",a)}return e.$$set=e=>{"values"in e&&n(0,a=e.values),"isInline"in e&&n(1,i=e.isInline),"options"in e&&n(2,l=e.options),"label"in e&&n(3,c=e.label),"ariaLabel"in e&&n(4,u=e.ariaLabel),"checkboxLabelKey"in e&&n(5,d=e.checkboxLabelKey),"getCheckboxLabel"in e&&n(6,$=e.getCheckboxLabel),"getCheckboxHelp"in e&&n(7,p=e.getCheckboxHelp),"getCheckboxDisabled"in e&&n(8,m=e.getCheckboxDisabled),"boxed"in e&&n(9,f=e.boxed),"valuesAreEqual"in e&&n(10,g=e.valuesAreEqual),"disabled"in e&&n(11,h=e.disabled),"$$scope"in e&&n(17,o=e.$$scope)},[a,i,l,c,u,d,$,p,m,f,g,h,y,r,(e,t)=>g(t,e),(e,{detail:t})=>y(e,t),function(t){_e.call(this,e,t)},o]}class Up extends ut{constructor(e){super(),ct(this,e,jp,Bp,f,{values:0,isInline:1,options:2,label:3,ariaLabel:4,checkboxLabelKey:5,getCheckboxLabel:6,getCheckboxHelp:7,getCheckboxDisabled:8,boxed:9,valuesAreEqual:10,disabled:11})}}const Wp=e=>({}),Yp=e=>({}),Kp=e=>({}),Gp=e=>({}),Xp=e=>({}),Zp=e=>({}),Jp=e=>({isOpen:1&e}),Qp=e=>({toggle:e[2],isOpen:e[0]});function em(e){let t,n,r,o;const s=[Cd,{size:"0.9rem"},{rotate:e[0]?void 0:270}];let a={};for(let u=0;u<s.length;u+=1)a=l(a,s[u]);t=new Jd({props:a});const i=e[3].header,c=b(i,e,e[4],Zp);return{c(){at(t.$$.fragment),n=U(),r=q("div"),c&&c.c(),X(r,"class","collapsible-header-title")},m(e,s){it(t,e,s),H(e,n,s),H(e,r,s),c&&c.m(r,null),o=!0},p(e,n){const r=1&n?rt(s,[0&n&&ot(Cd),s[1],1&n&&{rotate:e[0]?void 0:270}]):{};t.$set(r),c&&c.p&&(!o||16&n)&&_(c,i,e,e[4],o?w(i,e[4],n,Xp):x(e[4]),Zp)},i(e){o||(je(t.$$.fragment,e),je(c,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(c,e),o=!1},d(e){lt(t,e),e&&z(n),e&&z(r),c&&c.d(e)}}}function tm(e){let t,n;const r=e[3].content,o=b(r,e,e[4],Yp);return{c(){t=q("div"),o&&o.c(),X(t,"class","collapsible-content")},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||16&t)&&_(o,r,e,e[4],n?w(r,e[4],t,Wp):x(e[4]),Yp)},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function nm(e){let t,n,r,o,s;const a=e[3].trigger,i=b(a,e,e[4],Qp),l=i||function(e){let t,n;return t=new Hu({props:{appearance:e[1],class:"collapsible-header-btn",$$slots:{default:[em]},$$scope:{ctx:e}}}),t.$on("click",e[2]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.appearance=e[1]),17&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}(e),c=e[3]["trigger-aside"],u=b(c,e,e[4],Gp);let d=e[0]&&tm(e);return{c(){t=q("div"),n=q("div"),l&&l.c(),r=U(),u&&u.c(),o=U(),d&&d.c(),X(n,"class","collapsible-header"),X(t,"class","collapsible")},m(e,a){H(e,t,a),F(t,n),l&&l.m(n,null),F(n,r),u&&u.m(n,null),F(t,o),d&&d.m(t,null),s=!0},p(e,[n]){i?i.p&&(!s||17&n)&&_(i,a,e,e[4],s?w(a,e[4],n,Jp):x(e[4]),Qp):l&&l.p&&(!s||19&n)&&l.p(e,s?n:-1),u&&u.p&&(!s||16&n)&&_(u,c,e,e[4],s?w(c,e[4],n,Kp):x(e[4]),Gp),e[0]?d?(d.p(e,n),1&n&&je(d,1)):(d=tm(e),d.c(),je(d,1),d.m(t,null)):d&&(qe(),Ue(d,1,1,(()=>{d=null})),Be())},i(e){s||(je(l,e),je(u,e),je(d),s=!0)},o(e){Ue(l,e),Ue(u,e),Ue(d),s=!1},d(e){e&&z(t),l&&l.d(e),u&&u.d(e),d&&d.d()}}}function rm(e,t,n){let{$$slots:r={},$$scope:o}=t,{isOpen:s=!1}=t,{triggerAppearance:a="default"}=t;return e.$$set=e=>{"isOpen"in e&&n(0,s=e.isOpen),"triggerAppearance"in e&&n(1,a=e.triggerAppearance),"$$scope"in e&&n(4,o=e.$$scope)},[s,a,function(){n(0,s=!s)},r,o]}class om extends ut{constructor(e){super(),ct(this,e,rm,nm,f,{isOpen:0,triggerAppearance:1})}}const sm=e=>({}),am=e=>({handleNewValue:e[0]});function im(e){let t;const n=e[4].default,r=b(n,e,e[3],am);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,[o]){r&&r.p&&(!t||8&o)&&_(r,n,e,e[3],t?w(n,e[3],o,sm):x(e[3]),am)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function lm(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=ye();let a,{duration:i=300}=t,{value:l}=t;function c(e){l!==e&&(n(1,l=e),s("artificialInput",e),s("artificialChange",e))}return he((()=>clearTimeout(a))),e.$$set=e=>{"duration"in e&&n(2,i=e.duration),"value"in e&&n(1,l=e.value),"$$scope"in e&&n(3,o=e.$$scope)},[function({value:e,debounce:t}){clearTimeout(a),t?a=window.setTimeout((()=>{c(e)}),i):c(e)},l,i,o,r]}class cm extends ut{constructor(e){super(),ct(this,e,lm,im,f,{duration:2,value:1})}}function um(e){let t,n,r;const o=e[3].default,s=b(o,e,e[2],null);let a=[{class:n=["input-group",e[0]].join(" ")},e[1]],i={};for(let c=0;c<a.length;c+=1)i=l(i,a[c]);return{c(){t=q("div"),s&&s.c(),Z(t,i)},m(e,n){H(e,t,n),s&&s.m(t,null),r=!0},p(e,[l]){s&&s.p&&(!r||4&l)&&_(s,o,e,e[2],r?w(o,e[2],l,null):x(e[2]),null),Z(t,i=rt(a,[(!r||1&l&&n!==(n=["input-group",e[0]].join(" ")))&&{class:n},2&l&&e[1]]))},i(e){r||(je(s,e),r=!0)},o(e){Ue(s,e),r=!1},d(e){e&&z(t),s&&s.d(e)}}}function dm(e,t,n){const r=["class"];let o=S(t,r),{$$slots:s={},$$scope:a}=t,{class:i=""}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(1,o=S(t,r)),"class"in e&&n(0,i=e.class),"$$scope"in e&&n(2,a=e.$$scope)},[i,o,a,s]}class $m extends ut{constructor(e){super(),ct(this,e,dm,um,f,{class:0})}}function pm(e){let t,n,r;const o=e[3].default,s=b(o,e,e[2],null);let a=[{class:n=["input-group-text",e[0]].join(" ")},e[1]],i={};for(let c=0;c<a.length;c+=1)i=l(i,a[c]);return{c(){t=q("span"),s&&s.c(),Z(t,i)},m(e,n){H(e,t,n),s&&s.m(t,null),r=!0},p(e,[l]){s&&s.p&&(!r||4&l)&&_(s,o,e,e[2],r?w(o,e[2],l,null):x(e[2]),null),Z(t,i=rt(a,[(!r||1&l&&n!==(n=["input-group-text",e[0]].join(" ")))&&{class:n},2&l&&e[1]]))},i(e){r||(je(s,e),r=!0)},o(e){Ue(s,e),r=!1},d(e){e&&z(t),s&&s.d(e)}}}function mm(e,t,n){const r=["class"];let o=S(t,r),{$$slots:s={},$$scope:a}=t,{class:i=""}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(1,o=S(t,r)),"class"in e&&n(0,i=e.class),"$$scope"in e&&n(2,a=e.$$scope)},[i,o,a,s]}class fm extends ut{constructor(e){super(),ct(this,e,mm,pm,f,{class:0})}}function gm(e){let t,n,r,o,s,a,i,c;const u=[e[6]];function $(t){e[15](t)}let p={};for(let d=0;d<u.length;d+=1)p=l(p,u[d]);void 0!==e[2]&&(p.id=e[2]),t=new v$({props:p}),Ce.push((()=>st(t,"id",$)));let m=[e[6],{style:e[5]},{type:"text"},{class:s=["input-element","text-input",e[3]].join(" ")},{id:e[2]}],f={};for(let d=0;d<m.length;d+=1)f=l(f,m[d]);return{c(){at(t.$$.fragment),r=U(),o=q("input"),Z(o,f),se(o,"has-error",e[4]),se(o,"read-only",e[6].readonly)},m(n,s){it(t,n,s),H(n,r,s),H(n,o,s),o.autofocus&&o.focus(),e[16](o),ee(o,e[0]),a=!0,i||(c=[Y(o,"input",e[17]),Y(o,"input",e[9]),Y(o,"focus",e[10]),Y(o,"blur",e[11]),Y(o,"keydown",e[12]),Y(o,"beforeinput",e[13]),Y(o,"change",e[14])],i=!0)},p(e,[r]){const i=64&r?rt(u,[ot(e[6])]):{};!n&&4&r&&(n=!0,i.id=e[2],Oe((()=>n=!1))),t.$set(i),Z(o,f=rt(m,[64&r&&e[6],(!a||32&r)&&{style:e[5]},{type:"text"},(!a||8&r&&s!==(s=["input-element","text-input",e[3]].join(" ")))&&{class:s},(!a||4&r)&&{id:e[2]}])),1&r&&o.value!==e[0]&&ee(o,e[0]),se(o,"has-error",e[4]),se(o,"read-only",e[6].readonly)},i(e){a||(je(t.$$.fragment,e),a=!0)},o(e){Ue(t.$$.fragment,e),a=!1},d(n){lt(t,n),n&&z(r),n&&z(o),e[16](null),i=!1,d(c)}}}function hm(e,t,n){let r,o;const s=["value","class","element","hasError","id","cssVariables"];let a=S(t,s),{value:i}=t,{class:c=""}=t,{element:u}=t,{hasError:d=!1}=t,{id:$}=t,{cssVariables:p}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(6,a=S(t,s)),"value"in e&&n(0,i=e.value),"class"in e&&n(3,c=e.class),"element"in e&&n(1,u=e.element),"hasError"in e&&n(4,d=e.hasError),"id"in e&&n(2,$=e.id),"cssVariables"in e&&n(7,p=e.cssVariables)},e.$$.update=()=>{128&e.$$.dirty&&n(8,r=p?Jo(p):""),n(5,o=Qo(r,a.style))},[i,u,$,c,d,o,a,p,r,function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(e){$=e,n(2,$)},function(e){Ce[e?"unshift":"push"]((()=>{u=e,n(1,u)}))},function(){i=this.value,n(0,i)}]}class ym extends ut{constructor(e){super(),ct(this,e,hm,gm,f,{value:0,class:3,element:1,hasError:4,id:2,cssVariables:7})}}var bm=-1;function vm(e,t,n,r){if(e===t)return e?[[0,e]]:[];if(null!=n){var o=function(e,t,n){var r="number"==typeof n?{index:n,length:0}:n.oldRange,o="number"==typeof n?null:n.newRange,s=e.length,a=t.length;if(0===r.length&&(null===o||0===o.length)){var i=r.index,l=e.slice(0,i),c=e.slice(i),u=o?o.index:null,d=i+a-s;if((null===u||u===d)&&!(d<0||d>a)){var $=t.slice(0,d);if((f=t.slice(d))===c){var p=Math.min(i,d);if((h=l.slice(0,p))===(b=$.slice(0,p)))return Tm(h,l.slice(p),$.slice(p),c)}}if(null===u||u===i){var m=i,f=($=t.slice(0,m),t.slice(m));if($===l){var g=Math.min(s-m,a-m);if((y=c.slice(c.length-g))===(v=f.slice(f.length-g)))return Tm(l,c.slice(0,c.length-g),f.slice(0,f.length-g),y)}}}if(r.length>0&&o&&0===o.length){var h=e.slice(0,r.index),y=e.slice(r.index+r.length);if(!(a<(p=h.length)+(g=y.length))){var b=t.slice(0,p),v=t.slice(a-g);if(h===b&&y===v)return Tm(h,e.slice(p,s-g),t.slice(p,a-g),y)}}return null}(e,t,n);if(o)return o}var s=_m(e,t),a=e.substring(0,s);s=xm(e=e.substring(s),t=t.substring(s));var i=e.substring(e.length-s),l=function(e,t){var n;if(!e)return[[1,t]];if(!t)return[[bm,e]];var r=e.length>t.length?e:t,o=e.length>t.length?t:e,s=r.indexOf(o);if(-1!==s)return n=[[1,r.substring(0,s)],[0,o],[1,r.substring(s+o.length)]],e.length>t.length&&(n[0][0]=n[2][0]=bm),n;if(1===o.length)return[[bm,e],[1,t]];var a=function(e,t){var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;function o(e,t,n){for(var r,o,s,a,i=e.substring(n,n+Math.floor(e.length/4)),l=-1,c="";-1!==(l=t.indexOf(i,l+1));){var u=_m(e.substring(n),t.substring(l)),d=xm(e.substring(0,n),t.substring(0,l));c.length<d+u&&(c=t.substring(l-d,l)+t.substring(l,l+u),r=e.substring(0,n-d),o=e.substring(n+u),s=t.substring(0,l-d),a=t.substring(l+u))}return 2*c.length>=e.length?[r,o,s,a,c]:null}var s,a,i,l,c,u=o(n,r,Math.ceil(n.length/4)),d=o(n,r,Math.ceil(n.length/2));if(!u&&!d)return null;s=d?u&&u[4].length>d[4].length?u:d:u;e.length>t.length?(a=s[0],i=s[1],l=s[2],c=s[3]):(l=s[0],c=s[1],a=s[2],i=s[3]);var $=s[4];return[a,i,l,c,$]}(e,t);if(a){var i=a[0],l=a[1],c=a[2],u=a[3],d=a[4],$=vm(i,c),p=vm(l,u);return $.concat([[0,d]],p)}return function(e,t){for(var n=e.length,r=t.length,o=Math.ceil((n+r)/2),s=o,a=2*o,i=new Array(a),l=new Array(a),c=0;c<a;c++)i[c]=-1,l[c]=-1;i[s+1]=0,l[s+1]=0;for(var u=n-r,d=u%2!=0,$=0,p=0,m=0,f=0,g=0;g<o;g++){for(var h=-g+$;h<=g-p;h+=2){for(var y=s+h,b=(C=h===-g||h!==g&&i[y-1]<i[y+1]?i[y+1]:i[y-1]+1)-h;C<n&&b<r&&e.charAt(C)===t.charAt(b);)C++,b++;if(i[y]=C,C>n)p+=2;else if(b>r)$+=2;else if(d){if((_=s+u-h)>=0&&_<a&&-1!==l[_])if(C>=(w=n-l[_]))return wm(e,t,C,b)}}for(var v=-g+m;v<=g-f;v+=2){for(var w,_=s+v,x=(w=v===-g||v!==g&&l[_-1]<l[_+1]?l[_+1]:l[_-1]+1)-v;w<n&&x<r&&e.charAt(n-w-1)===t.charAt(r-x-1);)w++,x++;if(l[_]=w,w>n)f+=2;else if(x>r)m+=2;else if(!d){if((y=s+u-v)>=0&&y<a&&-1!==i[y]){var C;b=s+(C=i[y])-y;if(C>=(w=n-w))return wm(e,t,C,b)}}}}return[[bm,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-s),t=t.substring(0,t.length-s));return a&&l.unshift([0,a]),i&&l.push([0,i]),Cm(l,r),l}function wm(e,t,n,r){var o=e.substring(0,n),s=t.substring(0,r),a=e.substring(n),i=t.substring(r),l=vm(o,s),c=vm(a,i);return l.concat(c)}function _m(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),o=r,s=0;n<o;)e.substring(s,o)==t.substring(s,o)?s=n=o:r=o,o=Math.floor((r-n)/2+n);return Sm(e.charCodeAt(o-1))&&o--,o}function xm(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var n=0,r=Math.min(e.length,t.length),o=r,s=0;n<o;)e.substring(e.length-o,e.length-s)==t.substring(t.length-o,t.length-s)?s=n=o:r=o,o=Math.floor((r-n)/2+n);return km(e.charCodeAt(e.length-o))&&o--,o}function Cm(e,t){e.push([0,""]);for(var n,r=0,o=0,s=0,a="",i="";r<e.length;)if(r<e.length-1&&!e[r][1])e.splice(r,1);else switch(e[r][0]){case 1:s++,i+=e[r][1],r++;break;case bm:o++,a+=e[r][1],r++;break;case 0:var l=r-s-o-1;if(t){if(l>=0&&Im(e[l][1])){var c=e[l][1].slice(-1);if(e[l][1]=e[l][1].slice(0,-1),a=c+a,i=c+i,!e[l][1]){e.splice(l,1),r--;var u=l-1;e[u]&&1===e[u][0]&&(s++,i=e[u][1]+i,u--),e[u]&&e[u][0]===bm&&(o++,a=e[u][1]+a,u--),l=u}}if(Mm(e[r][1])){c=e[r][1].charAt(0);e[r][1]=e[r][1].slice(1),a+=c,i+=c}}if(r<e.length-1&&!e[r][1]){e.splice(r,1);break}if(a.length>0||i.length>0){a.length>0&&i.length>0&&(0!==(n=_m(i,a))&&(l>=0?e[l][1]+=i.substring(0,n):(e.splice(0,0,[0,i.substring(0,n)]),r++),i=i.substring(n),a=a.substring(n)),0!==(n=xm(i,a))&&(e[r][1]=i.substring(i.length-n)+e[r][1],i=i.substring(0,i.length-n),a=a.substring(0,a.length-n)));var d=s+o;0===a.length&&0===i.length?(e.splice(r-d,d),r-=d):0===a.length?(e.splice(r-d,d,[1,i]),r=r-d+1):0===i.length?(e.splice(r-d,d,[bm,a]),r=r-d+1):(e.splice(r-d,d,[bm,a],[1,i]),r=r-d+2)}0!==r&&0===e[r-1][0]?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,s=0,o=0,a="",i=""}""===e[e.length-1][1]&&e.pop();var $=!1;for(r=1;r<e.length-1;)0===e[r-1][0]&&0===e[r+1][0]&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)===e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),$=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),$=!0)),r++;$&&Cm(e,t)}function Sm(e){return e>=55296&&e<=56319}function km(e){return e>=56320&&e<=57343}function Mm(e){return km(e.charCodeAt(0))}function Im(e){return Sm(e.charCodeAt(e.length-1))}function Tm(e,t,n,r){return Im(e)||Mm(r)?null:function(e){for(var t=[],n=0;n<e.length;n++)e[n][1].length>0&&t.push(e[n]);return t}([[0,e],[bm,t],[1,n],[0,r]])}function Em(e,t,n){return vm(e,t,n,!0)}Em.INSERT=1,Em.DELETE=bm,Em.EQUAL=0;var Dm=Em;const Om=["direction","boxSizing","paddingRight","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","fontFamily","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize"];function Nm(e){const{clientWidth:t,scrollWidth:n}=e;if(t>=n)return;const r=e.selectionEnd;if(!r)return;if(0===r)return void(e.scrollLeft=0);const o=e.value;if(r===o.length)return void(e.scrollLeft=e.scrollWidth);const s=function(e,t){const n=document.createElement("div");n.id="caret-position-measurement",document.body.appendChild(n);const{style:r}=n;r.position="absolute",r.top="0px",r.zIndex="999999999",r.backgroundColor="coral",r.width="max-content",r.whiteSpace="pre",r.visibility="hidden";for(const s of Om)r[s]=t[s];n.textContent=e;const o=n.clientWidth;return n.remove(),o}(o.substring(0,r),window.getComputedStyle(e));let a=10;const i=s-e.scrollLeft-t+a;if(i>0)return void(e.scrollLeft+=i);a=25;const l=e.scrollLeft-s+a;l>0&&(e.scrollLeft-=l)}function Am(e){let t,n,r;const o=[{value:e[1]},e[5]];function s(t){e[9](t)}let a={};for(let i=0;i<o.length;i+=1)a=l(a,o[i]);return void 0!==e[0]&&(a.element=e[0]),t=new ym({props:a}),Ce.push((()=>st(t,"element",s))),t.$on("beforeinput",e[2]),t.$on("blur",e[3]),t.$on("focus",e[10]),t.$on("blur",e[11]),t.$on("blur",e[4]),t.$on("keydown",e[12]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,[r]){const s=34&r?rt(o,[2&r&&{value:e[1]},32&r&&ot(e[5])]):{};!n&&1&r&&(n=!0,s.element=e[0],Oe((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function Rm(e,t,n){let r;const o=["formatter","value","onParseError","element"];let s=S(t,o);const a=ye();let i,c,u,{formatter:d}=t,{value:$}=t,{onParseError:p=(()=>{})}=t,{element:m}=t,f="";return e.$$set=e=>{t=l(l({},t),C(e)),n(5,s=S(t,o)),"formatter"in e&&n(7,d=e.formatter),"value"in e&&n(6,$=e.value),"onParseError"in e&&n(8,p=e.onParseError),"element"in e&&n(0,m=e.element)},e.$$.update=()=>{var t;128&e.$$.dirty&&(r=e=>null==e?"":d.format(e)),64&e.$$.dirty&&(c=r(t=$),i?.value!==t&&(n(1,f=c),u=t))},[m,f,async function(e){e.preventDefault();const{value:t,cursorPosition:r}=function(e){const t=e.target,n=e.inputType,r=t.value,o=t.selectionStart??0,s=t.selectionEnd??r.length,a=o===s;let i=r.substring(0,o),l=r.substring(s,r.length);const c=(()=>{switch(n){case"insertText":case"insertFromPaste":case"insertFromDrop":return"insert";default:return"delete"}})(),u=(()=>{switch(n){case"deleteContentBackward":case"deleteWordBackward":return"backward";case"deleteContentForward":case"deleteWordForward":return"forward";default:return}})();"delete"===c&&a&&("backward"===u?i=i.slice(0,-1):"forward"===u&&(l=l.slice(1,l.length)));const d="insert"===c&&e.data||"";return{value:`${i}${d}${l}`,cursorPosition:i.length+d.length}}(e);try{i=d.parse(t),function(e){n(6,$=e),a("artificialInput",e)}(i.value),n(1,f=i.intermediateDisplay);const e=function({oldText:e,oldCursorPosition:t,newText:n}){const r=Dm(e,n);let o=0;return r.forEach((e=>{const[t]=e;t===Dm.DELETE?o-=1:t===Dm.INSERT&&(o+=1)})),o<0&&(o=0),t+o}({oldText:t,oldCursorPosition:r,newText:i.intermediateDisplay});if(await Ee(),m?.setSelectionRange(e,e),!m)return;Nm(m)}catch(Ln){p({userInput:t,error:Ln})}},function(){u!==$&&a("artificialChange",$)},function(){n(1,f=c??"")},s,$,d,p,function(e){m=e,n(0,m)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)}]}class Fm extends ut{constructor(e){super(),ct(this,e,Rm,Am,f,{formatter:7,value:6,onParseError:8,element:0})}}function Pm(e){const t=new Intl.NumberFormat(e).format(1.2)[1];if(![".",","].includes(t))throw new Error(`Unsupported decimal separator: ${t}`);return t}const Lm={allowFloat:!1,allowNegative:!1,useGrouping:!1,minimumFractionDigits:0,maximumFractionDigits:20,forceTrailingDecimal:!1};function Hm(e){return{...e,decimalSeparator:Pm(e.locale)}}class zm{constructor(t={}){e(this,"opts",void 0),this.opts=Hm(function(e,t={}){return{...e,...Zo(t)}}(Lm,t))}}function Vm(e){return e.replace(new RegExp(`[${["","","","","","","","","",""].join("")}]`,"g"),"-")}function qm(e){return`${!!/^-/.exec(e)?"-":""}${e.replace(/-/g,"")}`}function Bm(e){return e.replace(/,/g,".")}function jm(e){const t=[String.raw`\d`,...e.allowNegative?[Ko("-")]:[],...e.allowFloat?[Ko(e.decimalSeparator)]:[]],n=new RegExp(`[^${t.join("")}]`,"g");return e=>e.replace(n,"")}function Um(e){return t=>t.split(e.decimalSeparator).reduce(((t,n,r)=>{if(void 0===t)return n;return`${t}${r<=1?e.decimalSeparator:""}${n}`}))}function Wm(e){const t=new RegExp(`(^|[^\\d])(?=${Ko(e.decimalSeparator)})`);return e=>e.replace(t,"$10")}function Ym(e){return e.replace(/^(-?)0*(?!\.|$)/,"$1")}function Km(e){return e.replace(/(\.(?:[1-9]|0(?=0*[1-9]))*)(0*)$/,"$1")}function Gm(e){return e.replace(/\.$/,"")}function Xm(e){return t=>e.reduce(((e,t)=>t(e)),t)}function Zm(e){return Xm([Vm,jm(e),qm,Um(e),Bm,Wm(e),Ym])}function Jm(e){return function(t){const n=function(t){return Number.isNaN(t)?["Value is NaN."]:!e.allowNegative&&(t<0||Object.is(t,-0))?["Value must be positive."]:e.allowFloat||"number"!=typeof t||t%1==0?[]:["Value must be an integer."]}(t);if(n.length)throw new Error(`Unable to format value. ${n.join(", ")}`);const r=Intl.NumberFormat(e.locale,{numberingSystem:"latn",minimumFractionDigits:e.minimumFractionDigits,maximumFractionDigits:Math.max(e.minimumFractionDigits,e.maximumFractionDigits),useGrouping:e.useGrouping}).formatToParts(t),o=[];e.forceTrailingDecimal&&o.push(function(e){return t=>t.some((e=>"decimal"===e.type))?t:[...t,{type:"decimal",value:e.decimalSeparator}]}(e));const s=function(e){return e.map((e=>e.value)).join("")}(o.reduce(((e,t)=>t(e)),r));return Vm(s)}}function Qm(e){return t=>t.replace(/\./g,e.decimalSeparator)}function ef(e){return(e.split(".")[1]??"").length}function tf(e){return e.endsWith(".")}function nf(e){return function(t){const n=Zm(e)(t),r=function(e){const t=parseFloat(e);if(!Number.isNaN(t))return t}(n);if(void 0===r)return{value:null,intermediateDisplay:n};const o=function(e){return Xm([Zm(e),Km,Gm])}(e)(t);var s;if(s=r,Jm(Hm({locale:"en-US",allowFloat:!0,allowNegative:!0,useGrouping:!1,minimumFractionDigits:0,maximumFractionDigits:20,forceTrailingDecimal:!1}))(s)===o){const t=Object.is(r,-0)?-0:parseFloat(r.toFixed(e.maximumFractionDigits));return{value:{type:"number",numericalValue:t,normalizedStringifiedNumber:t.toString()},intermediateDisplay:Jm({...e,forceTrailingDecimal:tf(n),minimumFractionDigits:Math.min(ef(n),e.maximumFractionDigits)})(t)}}const a=function(e){try{return BigInt(e)}catch{return}}(n);return void 0!==a?{value:{type:"bigint",numericalValue:a,normalizedStringifiedNumber:o},intermediateDisplay:Jm({...e,forceTrailingDecimal:!1,minimumFractionDigits:0,maximumFractionDigits:0})(a)}:{value:{type:"bigfloat",normalizedStringifiedNumber:o},intermediateDisplay:Qm(e)(n)}}}class rf extends zm{format(e){return Jm(this.opts)(e)}parse(e){const t=nf(this.opts)(e);if(null===t.value)return{value:null,intermediateDisplay:t.intermediateDisplay};if("number"!==t.value.type)throw new Error("Number input could not be accurately parsed to a JavaScript number without loss of precision.");return{value:t.value.numericalValue,intermediateDisplay:t.intermediateDisplay}}}class of extends zm{format(e){const t=nf({...this.opts,decimalSeparator:"."})(e);switch(t.value?.type){case"bigfloat":return t.value.normalizedStringifiedNumber;case"number":case"bigint":return Jm(this.opts)(t.value.numericalValue);default:return""}}parse(e){const t=nf(this.opts)(e);return{value:t.value?.normalizedStringifiedNumber??null,intermediateDisplay:t.intermediateDisplay}}}function sf(e){const t={...Lm,...e},{allowFloat:n,allowNegative:r}=t;return r?"text":n?"decimal":"numeric"}function af(e){let t,n,r,o;const s=[{formatter:e[3]},e[4],{inputmode:e[2]}];function a(t){e[5](t)}function i(t){e[6](t)}let c={};for(let u=0;u<s.length;u+=1)c=l(c,s[u]);return void 0!==e[0]&&(c.value=e[0]),void 0!==e[1]&&(c.element=e[1]),t=new Fm({props:c}),Ce.push((()=>st(t,"value",a))),Ce.push((()=>st(t,"element",i))),t.$on("artificialInput",e[7]),t.$on("artificialChange",e[8]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),o=!0},p(e,[o]){const a=28&o?rt(s,[8&o&&{formatter:e[3]},16&o&&ot(e[4]),4&o&&{inputmode:e[2]}]):{};!n&&1&o&&(n=!0,a.value=e[0],Oe((()=>n=!1))),!r&&2&o&&(r=!0,a.element=e[1],Oe((()=>r=!1))),t.$set(a)},i(e){o||(je(t.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),o=!1},d(e){lt(t,e)}}}function lf(e,t,n){let r,o;const s=["value","element"];let a=S(t,s),{value:i}=t,{element:c}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(4,a=S(t,s)),"value"in e&&n(0,i=e.value),"element"in e&&n(1,c=e.element)},e.$$.update=()=>{n(3,r=new rf(a)),n(2,o=sf(a))},[i,c,o,r,a,function(e){i=e,n(0,i)},function(e){c=e,n(1,c)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)}]}class cf extends ut{constructor(e){super(),ct(this,e,lf,af,f,{value:0,element:1})}}function uf(e){let t,n,r,o;const s=[e[4],{formatter:e[3]},{inputmode:e[2]}];function a(t){e[5](t)}function i(t){e[6](t)}let c={};for(let u=0;u<s.length;u+=1)c=l(c,s[u]);return void 0!==e[0]&&(c.value=e[0]),void 0!==e[1]&&(c.element=e[1]),t=new Fm({props:c}),Ce.push((()=>st(t,"value",a))),Ce.push((()=>st(t,"element",i))),t.$on("blur",e[7]),t.$on("focus",e[8]),t.$on("keydown",e[9]),t.$on("artificialInput",e[10]),t.$on("artificialChange",e[11]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),o=!0},p(e,[o]){const a=28&o?rt(s,[16&o&&ot(e[4]),8&o&&{formatter:e[3]},4&o&&{inputmode:e[2]}]):{};!n&&1&o&&(n=!0,a.value=e[0],Oe((()=>n=!1))),!r&&2&o&&(r=!0,a.element=e[1],Oe((()=>r=!1))),t.$set(a)},i(e){o||(je(t.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),o=!1},d(e){lt(t,e)}}}function df(e,t,n){let r,o;const s=["value","element"];let a=S(t,s),{value:i}=t,{element:c}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(4,a=S(t,s)),"value"in e&&n(0,i=e.value),"element"in e&&n(1,c=e.element)},e.$$.update=()=>{n(3,r=new of(a)),n(2,o=sf(a))},[i,c,o,r,a,function(e){i=e,n(0,i)},function(e){c=e,n(1,c)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)}]}class $f extends ut{constructor(e){super(),ct(this,e,df,uf,f,{value:0,element:1})}}const pf=e=>({close:33554432&e}),mf=e=>({close:e[25]}),ff=e=>({}),gf=e=>({});function hf(e){let t,n,r;const o=[Cd,{size:"0.75em"}];let s={};for(let a=0;a<o.length;a+=1)s=l(s,o[a]);return n=new Jd({props:s}),{c(){t=q("span"),at(n.$$.fragment),X(t,"class","arrow")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r=0&t?rt(o,[ot(Cd),o[1]]):{};n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function yf(e){let t,n,r,o;const s=e[17].trigger,a=b(s,e,e[24],gf);let i=e[8]&&hf();return{c(){t=q("span"),a&&a.c(),n=U(),i&&i.c(),r=W(),X(t,"class","label")},m(e,s){H(e,t,s),a&&a.m(t,null),H(e,n,s),i&&i.m(e,s),H(e,r,s),o=!0},p(e,t){a&&a.p&&(!o||16777216&t)&&_(a,s,e,e[24],o?w(s,e[24],t,ff):x(e[24]),gf),e[8]?i?(i.p(e,t),256&t&&je(i,1)):(i=hf(),i.c(),je(i,1),i.m(r.parentNode,r)):i&&(qe(),Ue(i,1,1,(()=>{i=null})),Be())},i(e){o||(je(a,e),je(i),o=!0)},o(e){Ue(a,e),Ue(i),o=!1},d(e){e&&z(t),a&&a.d(e),e&&z(n),i&&i.d(e),e&&z(r)}}}function bf(e){let t;const n=e[17].content,r=b(n,e,e[24],mf);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||50331648&o)&&_(r,n,e,e[24],t?w(n,e[24],o,pf):x(e[24]),mf)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function vf(e){let t,n,r,o,s;const a=[{appearance:e[1]},{class:e[12]},{"aria-controls":e[5]},{"aria-haspopup":"listbox"},{"aria-label":e[4]},{title:e[4]},{size:e[9]},{disabled:e[10]},e[15]];function i(t){e[18](t)}let c={$$slots:{default:[yf]},$$scope:{ctx:e}};for(let u=0;u<a.length;u+=1)c=l(c,a[u]);return void 0!==e[11]&&(c.element=e[11]),t=new Hu({props:c}),Ce.push((()=>st(t,"element",i))),t.$on("click",e[13]),t.$on("keydown",e[19]),t.$on("focus",e[20]),t.$on("blur",e[21]),o=new wu({props:{trigger:e[11],isOpen:e[0],placements:e[6],preferredPlacement:e[7],class:e[2],closeOnInnerClick:e[3],$$slots:{default:[bf,({close:e})=>({25:e}),({close:e})=>e?33554432:0]},$$scope:{ctx:e}}}),o.$on("close",e[14]),o.$on("open",e[22]),o.$on("close",e[23]),{c(){at(t.$$.fragment),r=U(),at(o.$$.fragment)},m(e,n){it(t,e,n),H(e,r,n),it(o,e,n),s=!0},p(e,[r]){const s=38450&r?rt(a,[2&r&&{appearance:e[1]},4096&r&&{class:e[12]},32&r&&{"aria-controls":e[5]},a[3],16&r&&{"aria-label":e[4]},16&r&&{title:e[4]},512&r&&{size:e[9]},1024&r&&{disabled:e[10]},32768&r&&ot(e[15])]):{};16777472&r&&(s.$$scope={dirty:r,ctx:e}),!n&&2048&r&&(n=!0,s.element=e[11],Oe((()=>n=!1))),t.$set(s);const i={};2048&r&&(i.trigger=e[11]),1&r&&(i.isOpen=e[0]),64&r&&(i.placements=e[6]),128&r&&(i.preferredPlacement=e[7]),4&r&&(i.class=e[2]),8&r&&(i.closeOnInnerClick=e[3]),50331648&r&&(i.$$scope={dirty:r,ctx:e}),o.$set(i)},i(e){s||(je(t.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),Ue(o.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(r),lt(o,e)}}}function wf(e,t,n){let r;const o=["triggerClass","triggerAppearance","contentClass","isOpen","closeOnInnerClick","ariaLabel","ariaControls","placements","preferredPlacement","showArrow","size","disabled"];let s,a=S(t,o),{$$slots:i={},$$scope:c}=t,{triggerClass:u=""}=t,{triggerAppearance:d="default"}=t,{contentClass:$=""}=t,{isOpen:p=!1}=t,{closeOnInnerClick:m=!1}=t,{ariaLabel:f}=t,{ariaControls:g}=t,{placements:h}=t,{preferredPlacement:y}=t,{showArrow:b=!0}=t,{size:v="medium"}=t,{disabled:w=!1}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(15,a=S(t,o)),"triggerClass"in e&&n(16,u=e.triggerClass),"triggerAppearance"in e&&n(1,d=e.triggerAppearance),"contentClass"in e&&n(2,$=e.contentClass),"isOpen"in e&&n(0,p=e.isOpen),"closeOnInnerClick"in e&&n(3,m=e.closeOnInnerClick),"ariaLabel"in e&&n(4,f=e.ariaLabel),"ariaControls"in e&&n(5,g=e.ariaControls),"placements"in e&&n(6,h=e.placements),"preferredPlacement"in e&&n(7,y=e.preferredPlacement),"showArrow"in e&&n(8,b=e.showArrow),"size"in e&&n(9,v=e.size),"disabled"in e&&n(10,w=e.disabled),"$$scope"in e&&n(24,c=e.$$scope)},e.$$.update=()=>{65792&e.$$.dirty&&n(12,r=function(e,t){const n=["dropdown","trigger"];return e&&n.push(e),t||n.push("no-arrow"),n.join(" ")}(u,b))},[p,d,$,m,f,g,h,y,b,v,w,s,r,function(e){e.preventDefault(),n(0,p=!p)},function(){n(0,p=!1)},a,u,i,function(e){s=e,n(11,s)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},c]}class _f extends ut{constructor(e){super(),ct(this,e,wf,vf,f,{triggerClass:16,triggerAppearance:1,contentClass:2,isOpen:0,closeOnInnerClick:3,ariaLabel:4,ariaControls:5,placements:6,preferredPlacement:7,showArrow:8,size:9,disabled:10})}}const xf=e=>({isOpen:2&e[0]}),Cf=e=>({api:e[0],isOpen:e[1]});function Sf(e){let t;const n=e[17].default,r=b(n,e,e[16],Cf);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||65538&o[0])&&_(r,n,e,e[16],t?w(n,e[16],o,xf):x(e[16]),Cf)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function kf(e,t,n){let r,o,s,{$$slots:a={},$$scope:i}=t;const l=ye();let{selectionType:c="multiple"}=t,{options:u}=t,{value:d=[]}=t,{searchable:$=!1}=t,{disabled:p=!1}=t,{labelKey:m="label"}=t,{getLabel:f=(e=>To(e,m))}=t,{checkEquality:g=((e,t)=>e===t)}=t,{checkIfOptionIsDisabled:h=(()=>!1)}=t,{mode:b="dropdown"}=t;const v=pt(!1);y(e,v,(e=>n(1,r=e)));const w=pt(-1);y(e,w,(e=>n(18,o=e)));const _=pt(Array.isArray(u)?u:[]);function x(){const e=d[d.length-1];I(w,o=s.findIndex((t=>g(e,t))),o)}function C(){p||(I(v,r=!0,r),x())}function S(){p||I(v,r=!1,r)}function k(e){const t=s.findIndex((t=>g(e,t)));I(w,o=t,o)}function M(){const e=s.length;I(w,o=o===e-1?0:o+1,o)}function T(){const e=s.length;I(w,o=o<=0?e-1:o-1,o)}function E(e){return"single"===c?g(e,d[0]):d.some((t=>g(e,t)))}function D(e){k(e),h(e)||(E(e)?"single"===c&&S():("single"===c?(n(5,d=[e]),S()):n(5,d=[...d,e]),l("change",d)))}function O(e){k(e),h(e)||E(e)&&("single"===c?(n(5,d=[]),S()):n(5,d=d.filter((t=>!g(e,t)))),l("change",d))}function N(e){"single"===c?D(e):E(e)?O(e):D(e),l("pick",e)}function A(){N(s[o])}y(e,_,(e=>n(15,s=e))),fe((()=>{"static"===b&&x()}));const R={open:C,close:S,toggle:function(){p||(r?S():C())},focusOption:k,focusNext:M,focusPrevious:T,isOptionSelected:E,select:D,deselect:O,pick:N,pickFocused:A,handleKeyDown:function(e){if(r||"dropdown"!==b)switch(e.key){case"ArrowDown":e.preventDefault(),M();break;case"ArrowUp":e.preventDefault(),T();break;case"Escape":e.preventDefault(),S();break;case"Enter":e.preventDefault(),A()}else if("Enter"===e.key)e.preventDefault(),C()}},F=pt(d),P=pt({selectionType:c,getLabel:f,searchable:$,disabled:p,checkEquality:g,checkIfOptionIsDisabled:h,mode:b});return be("LIST_BOX_CONTEXT",{api:R,state:{isOpen:v,displayedOptions:_,focusedOptionIndex:w,value:F,staticProps:P}}),e.$$set=e=>{"selectionType"in e&&n(6,c=e.selectionType),"options"in e&&n(7,u=e.options),"value"in e&&n(5,d=e.value),"searchable"in e&&n(8,$=e.searchable),"disabled"in e&&n(9,p=e.disabled),"labelKey"in e&&n(10,m=e.labelKey),"getLabel"in e&&n(11,f=e.getLabel),"checkEquality"in e&&n(12,g=e.checkEquality),"checkIfOptionIsDisabled"in e&&n(13,h=e.checkIfOptionIsDisabled),"mode"in e&&n(14,b=e.mode),"$$scope"in e&&n(16,i=e.$$scope)},e.$$.update=()=>{128&e.$$.dirty[0]&&_.set(Array.isArray(u)?u:[]),32800&e.$$.dirty[0]&&x(),32&e.$$.dirty[0]&&F.set(d),31552&e.$$.dirty[0]&&P.set({selectionType:c,getLabel:f,searchable:$,disabled:p,checkEquality:g,checkIfOptionIsDisabled:h,mode:b})},[R,r,v,w,_,d,c,u,$,p,m,f,g,h,b,s,i,a]}class Mf extends ut{constructor(e){super(),ct(this,e,kf,Sf,f,{selectionType:6,options:7,value:5,searchable:8,disabled:9,labelKey:10,getLabel:11,checkEquality:12,checkIfOptionIsDisabled:13,mode:14,api:0},null,[-1,-1])}get api(){return this.$$.ctx[0]}}function If(e,t,n){const r=e.slice();r[25]=t[n],r[30]=n;const o=r[7].some((e=>r[5].checkEquality(e,r[25])));r[26]=o;const s=r[5].checkIfOptionIsDisabled(r[25]);r[27]=s;const a=r[30]===r[8];return r[28]=a,r}const Tf=e=>({option:64&e,isSelected:224&e,inFocus:320&e,label:96&e}),Ef=e=>({option:e[25],isSelected:e[26],inFocus:e[28],label:e[5].getLabel(e[25])});function Df(e,t){let n,r,o,s,a,i;const l=t[16].default,c=b(l,t,t[15],Ef),u=c||function(e){let t,n;return t=new $u({props:{arg:e[5].getLabel(e[25])}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};96&n&&(r.arg=e[5].getLabel(e[25])),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}(t);function $(){return t[20](t[25])}function p(){return t[21](t[25])}return{key:e,first:null,c(){n=q("li"),u&&u.c(),r=U(),X(n,"role","option"),X(n,"aria-selected",o=!!t[26]||void 0),se(n,"selected",t[26]),se(n,"disabled",t[27]),se(n,"in-focus",t[28]),this.first=n},m(e,t){H(e,n,t),u&&u.m(n,null),F(n,r),s=!0,a||(i=[Y(n,"mousedown",$),Y(n,"click",p)],a=!0)},p(e,r){t=e,c?c.p&&(!s||33248&r)&&_(c,l,t,t[15],s?w(l,t[15],r,Tf):x(t[15]),Ef):u&&u.p&&(!s||96&r)&&u.p(t,s?r:-1),(!s||224&r&&o!==(o=!!t[26]||void 0))&&X(n,"aria-selected",o),(!s||224&r)&&se(n,"selected",t[26]),(!s||96&r)&&se(n,"disabled",t[27]),(!s||320&r)&&se(n,"in-focus",t[28])},i(e){s||(je(u,e),s=!0)},o(e){Ue(u,e),s=!1},d(e){e&&z(n),u&&u.d(e),a=!1,d(i)}}}function Of(e){let t,n,r,o,s,a,i=[],l=new Map,c=e[6];const u=e=>e[25];for(let d=0;d<c.length;d+=1){let t=If(e,c,d),n=u(t);l.set(n,i[d]=Df(n,t))}return{c(){t=q("ul");for(let e=0;e<i.length;e+=1)i[e].c();X(t,"tabindex",n=e[3]?0:-1),X(t,"id",e[0]),X(t,"role","listbox"),X(t,"aria-expanded","true"),X(t,"class",r=["list-box-options",e[5].selectionType,e[1]].join(" ")),se(t,"truncate",e[2]),se(t,"disabled",e[5].disabled)},m(n,r){H(n,t,r);for(let e=0;e<i.length;e+=1)i[e].m(t,null);e[22](t),o=!0,s||(a=[Y(t,"focus",e[17]),Y(t,"blur",e[18]),Y(t,"keydown",e[19])],s=!0)},p(e,[s]){33760&s&&(c=e[6],qe(),i=nt(i,s,u,1,e,c,l,t,et,Df,null,If),Be()),(!o||8&s&&n!==(n=e[3]?0:-1))&&X(t,"tabindex",n),(!o||1&s)&&X(t,"id",e[0]),(!o||34&s&&r!==(r=["list-box-options",e[5].selectionType,e[1]].join(" ")))&&X(t,"class",r),(!o||38&s)&&se(t,"truncate",e[2]),(!o||34&s)&&se(t,"disabled",e[5].disabled)},i(e){if(!o){for(let e=0;e<c.length;e+=1)je(i[e]);o=!0}},o(e){for(let t=0;t<i.length;t+=1)Ue(i[t]);o=!1},d(n){n&&z(t);for(let e=0;e<i.length;e+=1)i[e].d();e[22](null),s=!1,d(a)}}}function Nf(e,t,n){let r,o,s,a,{$$slots:i={},$$scope:l}=t,{id:c}=t,{class:u=""}=t,{truncateOnOverflow:d=!0}=t,{offsetOnFocus:$=0}=t,{userFocusable:p=!1}=t;const{api:m,state:f}=ve("LIST_BOX_CONTEXT"),{displayedOptions:g,value:h,focusedOptionIndex:b,staticProps:v}=f;let w;function _(){if(w){const e=w.querySelector(".in-focus"),t="dropdown"===r.mode?w.parentElement:w;if(e&&t)if(e.offsetTop+e.clientHeight+$>t.scrollTop+t.clientHeight){const n=t.getBoundingClientRect().bottom-e.getBoundingClientRect().bottom-2*$;t.scrollTop-=n}else e.offsetTop<t.scrollTop&&(t.scrollTop=e.offsetTop-$)}}y(e,g,(e=>n(6,o=e))),y(e,h,(e=>n(7,s=e))),y(e,b,(e=>n(8,a=e))),y(e,v,(e=>n(5,r=e))),fe((()=>(_(),b.subscribe((()=>{Ee().then((()=>_()))})))));return e.$$set=e=>{"id"in e&&n(0,c=e.id),"class"in e&&n(1,u=e.class),"truncateOnOverflow"in e&&n(2,d=e.truncateOnOverflow),"offsetOnFocus"in e&&n(14,$=e.offsetOnFocus),"userFocusable"in e&&n(3,p=e.userFocusable),"$$scope"in e&&n(15,l=e.$$scope)},[c,u,d,p,w,r,o,s,a,m,g,h,b,v,$,l,i,function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},e=>m.focusOption(e),e=>m.pick(e),function(e){Ce[e?"unshift":"push"]((()=>{w=e,n(4,w)}))}]}class Af extends ut{constructor(e){super(),ct(this,e,Nf,Of,f,{id:0,class:1,truncateOnOverflow:2,offsetOnFocus:14,userFocusable:3})}}const Rf=e=>({option:268435456&e[0],label:536870912&e[0]}),Ff=e=>({option:e[28],label:e[29]});function Pf(e,t,n){const r=e.slice();return r[30]=t[n],r}const Lf=e=>({option:1&e[0],label:17&e[0]}),Hf=e=>({option:e[30],label:e[4](e[30])});function zf(e){let t,n;return t=new $u({props:{arg:e[4](e[30])}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};17&n[0]&&(r.arg=e[4](e[30])),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Vf(e){let t;const n=e[16].default,r=b(n,e,e[23],Hf);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||8388625&o[0])&&_(r,n,e,e[23],t?w(n,e[23],o,Lf):x(e[23]),Hf)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function qf(e){let t,n,r,o,s,a,i,l,c,u,d;const $=[Vf,zf],p=[];function m(e,t){return e[14].default?0:1}function f(){return e[17](e[30])}return r=m(e),o=p[r]=$[r](e),i=new Jd({props:{data:md,size:"0.8em"}}),{c(){t=q("span"),n=q("span"),o.c(),s=U(),a=q("span"),at(i.$$.fragment),l=U(),X(n,"class","value"),X(a,"class","remove-button icon-button"),X(t,"class","selected-value")},m(e,o){H(e,t,o),F(t,n),p[r].m(n,null),F(t,s),F(t,a),it(i,a,null),F(t,l),c=!0,u||(d=Y(a,"click",G(f)),u=!0)},p(t,s){let a=r;r=m(e=t),r===a?p[r].p(e,s):(qe(),Ue(p[a],1,1,(()=>{p[a]=null})),Be(),o=p[r],o?o.p(e,s):(o=p[r]=$[r](e),o.c()),je(o,1),o.m(n,null))},i(e){c||(je(o),je(i.$$.fragment,e),c=!0)},o(e){Ue(o),Ue(i.$$.fragment,e),c=!1},d(e){e&&z(t),p[r].d(),lt(i),u=!1,d()}}}function Bf(e){let t,n;return t=new Af({props:{id:e[1]+"-select-options"}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n[0]&&(r.id=e[1]+"-select-options"),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function jf(e){let t,n;return t=new Af({props:{id:e[1]+"-select-options",$$slots:{default:[Uf,({option:e,label:t})=>({28:e,29:t}),({option:e,label:t})=>[(e?268435456:0)|(t?536870912:0)]]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n[0]&&(r.id=e[1]+"-select-options"),813694976&n[0]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Uf(e){let t;const n=e[16].default,r=b(n,e,e[23],Ff);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||813694976&o[0])&&_(r,n,e,e[23],t?w(n,e[23],o,Rf):x(e[23]),Ff)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function Wf(e){let t,n,r,o;const s=[jf,Bf],a=[];function i(e,t){return e[14].default?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function Yf(e){let t,n,r,o,s,a,i,l,c,u,p,m=e[0],f=[];for(let d=0;d<m.length;d+=1)f[d]=qf(Pf(e,m,d));const g=e=>Ue(f[e],1,1,(()=>{f[e]=null}));return s=new Jd({props:{data:cd}}),l=new wu({props:{isOpen:e[27],class:"multi-select-content "+e[6],trigger:e[10],$$slots:{default:[Wf]},$$scope:{ctx:e}}}),l.$on("close",(function(){return e[20](e[26])})),{c(){t=q("span"),n=q("span");for(let e=0;e<f.length;e+=1)f[e].c();r=U(),o=q("span"),at(s.$$.fragment),i=U(),at(l.$$.fragment),X(n,"class","selected-values"),X(o,"class","clear-button icon-button"),X(t,"class",a="input-element multi-select-trigger "+e[7]),X(t,"aria-label",e[8]),X(t,"tabindex","0"),X(t,"id",e[1]),se(t,"disabled",e[2])},m(a,d){H(a,t,d),F(t,n);for(let e=0;e<f.length;e+=1)f[e].m(n,null);F(t,r),F(t,o),it(s,o,null),e[19](t),H(a,i,d),it(l,a,d),c=!0,u||(p=[Y(o,"click",G(e[18])),Y(t,"click",(function(){$(e[26].toggle)&&e[26].toggle.apply(this,arguments)})),Y(t,"keydown",(function(){$(e[26].handleKeyDown)&&e[26].handleKeyDown.apply(this,arguments)}))],u=!0)},p(r,o){if(e=r,8409105&o[0]){let t;for(m=e[0],t=0;t<m.length;t+=1){const r=Pf(e,m,t);f[t]?(f[t].p(r,o),je(f[t],1)):(f[t]=qf(r),f[t].c(),je(f[t],1),f[t].m(n,null))}for(qe(),t=m.length;t<f.length;t+=1)g(t);Be()}(!c||128&o[0]&&a!==(a="input-element multi-select-trigger "+e[7]))&&X(t,"class",a),(!c||256&o[0])&&X(t,"aria-label",e[8]),(!c||2&o[0])&&X(t,"id",e[1]),(!c||132&o[0])&&se(t,"disabled",e[2]);const s={};134217728&o[0]&&(s.isOpen=e[27]),64&o[0]&&(s.class="multi-select-content "+e[6]),1024&o[0]&&(s.trigger=e[10]),8404994&o[0]&&(s.$$scope={dirty:o,ctx:e}),l.$set(s)},i(e){if(!c){for(let e=0;e<m.length;e+=1)je(f[e]);je(s.$$.fragment,e),je(l.$$.fragment,e),c=!0}},o(e){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)Ue(f[t]);Ue(s.$$.fragment,e),Ue(l.$$.fragment,e),c=!1},d(n){n&&z(t),V(f,n),lt(s),e[19](null),n&&z(i),lt(l,n),u=!1,d(p)}}}function Kf(e){let t,n,r,o,s;const a=[e[13],{id:e[1]},{disabled:e[2]}];let i={};for(let d=0;d<a.length;d+=1)i=l(i,a[d]);function c(t){e[21](t)}t=new v$({props:i});let u={options:e[5],labelKey:e[3],getLabel:e[4],disabled:e[2],checkEquality:e[9],$$slots:{default:[Yf,({api:e,isOpen:t})=>({26:e,27:t}),({api:e,isOpen:t})=>[(e?67108864:0)|(t?134217728:0)]]},$$scope:{ctx:e}};return void 0!==e[0]&&(u.value=e[0]),r=new Mf({props:u}),Ce.push((()=>st(r,"value",c))),r.$on("change",e[22]),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,o){it(t,e,o),H(e,n,o),it(r,e,o),s=!0},p(e,n){const s=8198&n[0]?rt(a,[8192&n[0]&&ot(e[13]),2&n[0]&&{id:e[1]},4&n[0]&&{disabled:e[2]}]):{};t.$set(s);const i={};32&n[0]&&(i.options=e[5]),8&n[0]&&(i.labelKey=e[3]),16&n[0]&&(i.getLabel=e[4]),4&n[0]&&(i.disabled=e[2]),512&n[0]&&(i.checkEquality=e[9]),209733079&n[0]&&(i.$$scope={dirty:n,ctx:e}),!o&&1&n[0]&&(o=!0,i.value=e[0],Oe((()=>o=!1))),r.$set(i)},i(e){s||(je(t.$$.fragment,e),je(r.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function Gf(e,t,n){const r=["id","disabled","labelKey","getLabel","options","values","contentClass","triggerClass","ariaLabel","valuesAreEqual","autoClearInvalidValues"];let o=S(t,r),{$$slots:s={},$$scope:a}=t;const i=k(s),c=ye();let u,{id:d=ko()}=t,{disabled:$=!1}=t,{labelKey:p="label"}=t,{getLabel:m=(e=>To(e,p))}=t,{options:f=[]}=t,{values:g=[]}=t,{contentClass:h=""}=t,{triggerClass:y=""}=t,{ariaLabel:b}=t,{valuesAreEqual:v=((e,t)=>e===t)}=t,{autoClearInvalidValues:w=!0}=t;function _(e){n(0,g=e),c("change",g)}function x(e){_(g.filter((t=>!v(t,e))))}return e.$$set=e=>{t=l(l({},t),C(e)),n(13,o=S(t,r)),"id"in e&&n(1,d=e.id),"disabled"in e&&n(2,$=e.disabled),"labelKey"in e&&n(3,p=e.labelKey),"getLabel"in e&&n(4,m=e.getLabel),"options"in e&&n(5,f=e.options),"values"in e&&n(0,g=e.values),"contentClass"in e&&n(6,h=e.contentClass),"triggerClass"in e&&n(7,y=e.triggerClass),"ariaLabel"in e&&n(8,b=e.ariaLabel),"valuesAreEqual"in e&&n(9,v=e.valuesAreEqual),"autoClearInvalidValues"in e&&n(15,w=e.autoClearInvalidValues),"$$scope"in e&&n(23,a=e.$$scope)},e.$$.update=()=>{var t;32&e.$$.dirty[0]&&(t=f,w&&_(g.filter((e=>t.some((t=>v(t,e)))))))},[g,d,$,p,m,f,h,y,b,v,u,_,x,o,i,w,s,e=>x(e),()=>_([]),function(e){Ce[e?"unshift":"push"]((()=>{u=e,n(10,u)}))},e=>e.close(),function(e){g=e,n(0,g)},function(t){_e.call(this,e,t)},a]}class Xf extends ut{constructor(e){super(),ct(this,e,Gf,Kf,f,{id:1,disabled:2,labelKey:3,getLabel:4,options:5,values:0,contentClass:6,triggerClass:7,ariaLabel:8,valuesAreEqual:9,autoClearInvalidValues:15},null,[-1,-1])}}function Zf(e){let t,n,r,o,s,a,i,c;const u=[e[5]];function $(t){e[12](t)}let p={};for(let d=0;d<u.length;d+=1)p=l(p,u[d]);void 0!==e[2]&&(p.id=e[2]),t=new v$({props:p}),Ce.push((()=>st(t,"id",$)));let m=[e[5],{type:"password"},{class:s=["input-element","password-input",...e[3].split(" ")].join(" ")},{id:e[2]}],f={};for(let d=0;d<m.length;d+=1)f=l(f,m[d]);return{c(){at(t.$$.fragment),r=U(),o=q("input"),Z(o,f),se(o,"has-error",e[4])},m(n,s){it(t,n,s),H(n,r,s),H(n,o,s),o.autofocus&&o.focus(),e[13](o),ee(o,e[0]),a=!0,i||(c=[Y(o,"input",e[14]),Y(o,"input",e[6]),Y(o,"focus",e[7]),Y(o,"blur",e[8]),Y(o,"keydown",e[9]),Y(o,"beforeinput",e[10]),Y(o,"change",e[11])],i=!0)},p(e,[r]){const i=32&r?rt(u,[ot(e[5])]):{};!n&&4&r&&(n=!0,i.id=e[2],Oe((()=>n=!1))),t.$set(i),Z(o,f=rt(m,[32&r&&e[5],{type:"password"},(!a||8&r&&s!==(s=["input-element","password-input",...e[3].split(" ")].join(" ")))&&{class:s},(!a||4&r)&&{id:e[2]}])),1&r&&o.value!==e[0]&&ee(o,e[0]),se(o,"has-error",e[4])},i(e){a||(je(t.$$.fragment,e),a=!0)},o(e){Ue(t.$$.fragment,e),a=!1},d(n){lt(t,n),n&&z(r),n&&z(o),e[13](null),i=!1,d(c)}}}function Jf(e,t,n){const r=["value","class","element","hasError","id"];let o=S(t,r),{value:s=""}=t,{class:a=""}=t,{element:i}=t,{hasError:c=!1}=t,{id:u}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(5,o=S(t,r)),"value"in e&&n(0,s=e.value),"class"in e&&n(3,a=e.class),"element"in e&&n(1,i=e.element),"hasError"in e&&n(4,c=e.hasError),"id"in e&&n(2,u=e.id)},[s,i,u,a,c,o,function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(e){u=e,n(2,u)},function(e){Ce[e?"unshift":"push"]((()=>{i=e,n(1,i)}))},function(){s=this.value,n(0,s)}]}class Qf extends ut{constructor(e){super(),ct(this,e,Jf,Zf,f,{value:0,class:3,element:1,hasError:4,id:2})}}function eg(e){let t,n,r,o,s=[{class:"progress"},{role:"progressbar"},{"aria-valuenow":e[0]},{"aria-valuemin":r=0},{"aria-valuemax":o=100},{"aria-valuetext":e[1]},e[2]],i={};for(let a=0;a<s.length;a+=1)i=l(i,s[a]);return{c(){t=q("div"),n=q("div"),te(n,"width",e[0]+"%"),Z(t,i)},m(e,r){H(e,t,r),F(t,n)},p(e,[r]){1&r&&te(n,"width",e[0]+"%"),Z(t,i=rt(s,[{class:"progress"},{role:"progressbar"},1&r&&{"aria-valuenow":e[0]},{"aria-valuemin":0},{"aria-valuemax":100},2&r&&{"aria-valuetext":e[1]},4&r&&e[2]]))},i:a,o:a,d(e){e&&z(t)}}}function tg(e,t,n){const r=["percentage","ariaValueText"];let o=S(t,r),{percentage:s=0}=t,{ariaValueText:a="Progress"}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(2,o=S(t,r)),"percentage"in e&&n(0,s=e.percentage),"ariaValueText"in e&&n(1,a=e.ariaValueText)},[s,a,o]}class ng extends ut{constructor(e){super(),ct(this,e,tg,eg,f,{percentage:0,ariaValueText:1})}}function rg(e){let t,n,r,o,s,a,i;const c=[e[5],{disabled:e[3]}];function u(t){e[6](t)}let d={};for(let m=0;m<c.length;m+=1)d=l(d,c[m]);void 0!==e[1]&&(d.id=e[1]),t=new v$({props:d}),Ce.push((()=>st(t,"id",u)));let $=[{class:"radio"},{type:"radio"},e[5],{checked:e[0]},{id:e[1]},{disabled:e[3]},{value:e[2]}],p={};for(let m=0;m<$.length;m+=1)p=l(p,$[m]);return{c(){at(t.$$.fragment),r=U(),o=q("input"),Z(o,p)},m(n,l){it(t,n,l),H(n,r,l),H(n,o,l),o.autofocus&&o.focus(),s=!0,a||(i=Y(o,"change",e[4]),a=!0)},p(e,[r]){const a=40&r?rt(c,[32&r&&ot(e[5]),8&r&&{disabled:e[3]}]):{};!n&&2&r&&(n=!0,a.id=e[1],Oe((()=>n=!1))),t.$set(a),Z(o,p=rt($,[{class:"radio"},{type:"radio"},32&r&&e[5],(!s||1&r)&&{checked:e[0]},(!s||2&r)&&{id:e[1]},(!s||8&r)&&{disabled:e[3]},(!s||4&r)&&{value:e[2]}]))},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(r),e&&z(o),a=!1,i()}}}function og(e,t,n){const r=["checked","value","disabled","id"];let o=S(t,r);const s=ye();let{checked:a=!1}=t,{value:i}=t,{disabled:c=!1}=t,{id:u}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(5,o=S(t,r)),"checked"in e&&n(0,a=e.checked),"value"in e&&n(2,i=e.value),"disabled"in e&&n(3,c=e.disabled),"id"in e&&n(1,u=e.id)},[a,u,i,c,function(){n(0,a=!a),s("change",a)},o,function(e){u=e,n(1,u)}]}class sg extends ut{constructor(e){super(),ct(this,e,og,rg,f,{checked:0,value:2,disabled:3,id:1})}}const ag=e=>({}),ig=e=>({slot:"label"}),lg=e=>({}),cg=e=>({slot:"extra"});function ug(e){let t,n;return t=new sg({props:{disabled:e[15],checked:e[9](e[0],e[14])}}),t.$on("change",(function(...t){return e[12](e[14],...t)})),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(n,r){e=n;const o={};32768&r&&(o.disabled=e[15]),16897&r&&(o.checked=e[9](e[0],e[14])),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function dg(e){let t;const n=e[11].label,r=b(n,e,e[13],ig),o=r||function(e){let t,n=(e[3]??"")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8&r&&n!==(n=(e[3]??"")+"")&&Q(t,n)},d(e){e&&z(t)}}}(e);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,s){r?r.p&&(!t||8192&s)&&_(r,n,e,e[13],t?w(n,e[13],s,ag):x(e[13]),ig):o&&o.p&&(!t||8&s)&&o.p(e,t?s:-1)},i(e){t||(je(o,e),t=!0)},o(e){Ue(o,e),t=!1},d(e){o&&o.d(e)}}}function $g(e){let t;const n=e[11].extra,r=b(n,e,e[13],cg);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||8192&o)&&_(r,n,e,e[13],t?w(n,e[13],o,lg):x(e[13]),cg)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function pg(e){let t,n;return t=new Lp({props:{isInline:e[1],options:e[2],ariaLabel:e[4],disabled:e[7],boxed:e[8],labelKey:e[5],getLabel:e[6],$$slots:{extra:[$g,({option:e,disabled:t})=>({14:e,15:t}),({option:e,disabled:t})=>(e?16384:0)|(t?32768:0)],label:[dg,({option:e,disabled:t})=>({14:e,15:t}),({option:e,disabled:t})=>(e?16384:0)|(t?32768:0)],default:[ug,({option:e,disabled:t})=>({14:e,15:t}),({option:e,disabled:t})=>(e?16384:0)|(t?32768:0)]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.isInline=e[1]),4&n&&(r.options=e[2]),16&n&&(r.ariaLabel=e[4]),128&n&&(r.disabled=e[7]),256&n&&(r.boxed=e[8]),32&n&&(r.labelKey=e[5]),64&n&&(r.getLabel=e[6]),57865&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function mg(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=ye();let{value:a}=t,{isInline:i=!1}=t,{options:l=[]}=t,{label:c}=t,{ariaLabel:u}=t,{radioLabelKey:d}=t,{getRadioLabel:$}=t,{disabled:p=!1}=t,{boxed:m=!1}=t,{valuesAreEqual:f=((e,t)=>e===t)}=t;return e.$$set=e=>{"value"in e&&n(0,a=e.value),"isInline"in e&&n(1,i=e.isInline),"options"in e&&n(2,l=e.options),"label"in e&&n(3,c=e.label),"ariaLabel"in e&&n(4,u=e.ariaLabel),"radioLabelKey"in e&&n(5,d=e.radioLabelKey),"getRadioLabel"in e&&n(6,$=e.getRadioLabel),"disabled"in e&&n(7,p=e.disabled),"boxed"in e&&n(8,m=e.boxed),"valuesAreEqual"in e&&n(9,f=e.valuesAreEqual),"$$scope"in e&&n(13,o=e.$$scope)},[a,i,l,c,u,d,$,p,m,f,s,r,(e,{detail:t})=>{t&&n(0,a=e),s("change",{value:e})},o]}class fg extends ut{constructor(e){super(),ct(this,e,mg,pg,f,{value:0,isInline:1,options:2,label:3,ariaLabel:4,radioLabelKey:5,getRadioLabel:6,disabled:7,boxed:8,valuesAreEqual:9})}}function gg(e,{delay:t=0,duration:n=400,easing:r=i}={}){const o=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:e=>"opacity: "+e*o}}function hg(e,{delay:t=0,duration:n=400,easing:r=Do,x:o=0,y:s=0,opacity:a=0}={}){const i=getComputedStyle(e),l=+i.opacity,c="none"===i.transform?"":i.transform,u=l*(1-a);return{delay:t,duration:n,easing:r,css:(e,t)=>`\n\t\t\ttransform: ${c} translate(${(1-e)*o}px, ${(1-e)*s}px);\n\t\t\topacity: ${l-u*t}`}}function yg(e){let t,n,r;return{c(){t=q("div"),X(t,"class","skeleton")},m(e,n){H(e,t,n),r=!0},i(e){r||(e&&De((()=>{n||(n=Ge(t,gg,{duration:120},!0)),n.run(1)})),r=!0)},o(e){e&&(n||(n=Ge(t,gg,{duration:120},!1)),n.run(0)),r=!1},d(e){e&&z(t),e&&n&&n.end()}}}function bg(e){let t,n=e[0]&&yg();return{c(){n&&n.c(),t=W()},m(e,r){n&&n.m(e,r),H(e,t,r)},p(e,[r]){e[0]?n?1&r&&je(n,1):(n=yg(),n.c(),je(n,1),n.m(t.parentNode,t)):n&&(qe(),Ue(n,1,1,(()=>{n=null})),Be())},i(e){je(n)},o(e){Ue(n)},d(e){n&&n.d(e),e&&z(t)}}}function vg(e,t,n){let{loading:r=!1}=t;return e.$$set=e=>{"loading"in e&&n(0,r=e.loading)},[r]}class wg extends ut{constructor(e){super(),ct(this,e,vg,bg,f,{loading:0})}}function _g(e){let t,n,r,o,s,a,i,c;const u=[e[7],{disabled:e[3]}];function $(t){e[14](t)}let p={};for(let d=0;d<u.length;d+=1)p=l(p,u[d]);void 0!==e[0]&&(p.id=e[0]),t=new v$({props:p}),Ce.push((()=>st(t,"id",$)));let m=[e[7],{class:s="input-element text-area "+e[4]},{id:e[0]},{disabled:e[3]}],f={};for(let d=0;d<m.length;d+=1)f=l(f,m[d]);return{c(){at(t.$$.fragment),r=U(),o=q("textarea"),Z(o,f),se(o,"has-error",e[5])},m(n,s){it(t,n,s),H(n,r,s),H(n,o,s),o.autofocus&&o.focus(),e[15](o),ee(o,e[1]),a=!0,i||(c=[Y(o,"input",e[16]),Y(o,"input",e[9]),Y(o,"change",e[10]),Y(o,"focus",e[11]),Y(o,"blur",e[12]),Y(o,"keydown",e[6]),Y(o,"keydown",e[13])],i=!0)},p(e,[r]){const i=136&r?rt(u,[128&r&&ot(e[7]),8&r&&{disabled:e[3]}]):{};!n&&1&r&&(n=!0,i.id=e[0],Oe((()=>n=!1))),t.$set(i),Z(o,f=rt(m,[128&r&&e[7],(!a||16&r&&s!==(s="input-element text-area "+e[4]))&&{class:s},(!a||1&r)&&{id:e[0]},(!a||8&r)&&{disabled:e[3]}])),2&r&&ee(o,e[1]),se(o,"has-error",e[5])},i(e){a||(je(t.$$.fragment,e),a=!0)},o(e){Ue(t.$$.fragment,e),a=!1},d(n){lt(t,n),n&&z(r),n&&z(o),e[15](null),i=!1,d(c)}}}function xg(e,t,n){const r=["id","disabled","class","addNewLineOnEnterKeyCombinations","value","element","hasError"];let o=S(t,r);const s=ye();let{id:a}=t,{disabled:i=!1}=t,{class:c=""}=t,{addNewLineOnEnterKeyCombinations:u=!1}=t,{value:d}=t,{element:$}=t,{hasError:p=!1}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(7,o=S(t,r)),"id"in e&&n(0,a=e.id),"disabled"in e&&n(3,i=e.disabled),"class"in e&&n(4,c=e.class),"addNewLineOnEnterKeyCombinations"in e&&n(8,u=e.addNewLineOnEnterKeyCombinations),"value"in e&&n(1,d=e.value),"element"in e&&n(2,$=e.element),"hasError"in e&&n(5,p=e.hasError)},[a,d,$,i,c,p,function(e){let t="normal";if($&&"Enter"===e.key&&(e.ctrlKey||e.metaKey||e.shiftKey)){if(u&&!e.shiftKey){let e=$.selectionStart;const t=$.value.substring(0,e),r=$.value.substring(e,$.value.length);n(2,$.value=`${t}\n${r}`,$),n(1,d=$.value),e+=1,n(2,$.selectionStart=e,$),n(2,$.selectionEnd=e,$)}t="newlineWithEnterKeyCombination"}s("processedKeyDown",{type:t,originalEvent:e})},o,u,function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(e){a=e,n(0,a)},function(e){Ce[e?"unshift":"push"]((()=>{$=e,n(2,$)}))},function(){d=this.value,n(1,d)}]}class Cg extends ut{constructor(e){super(),ct(this,e,xg,_g,f,{id:0,disabled:3,class:4,addNewLineOnEnterKeyCombinations:8,value:1,element:2,hasError:5})}}function Sg(e){let t,n,r,o,s,a,i;const c=[e[2]];let u={};for(let m=0;m<c.length;m+=1)u=l(u,c[m]);r=new Jd({props:u});const d=[{class:["prefixed-input",e[1]].join(" ")},e[3]];function $(t){e[4](t)}let p={};for(let m=0;m<d.length;m+=1)p=l(p,d[m]);return void 0!==e[0]&&(p.value=e[0]),s=new ym({props:p}),Ce.push((()=>st(s,"value",$))),s.$on("input",e[5]),s.$on("focus",e[6]),s.$on("blur",e[7]),s.$on("keydown",e[8]),s.$on("beforeinput",e[9]),s.$on("change",e[10]),{c(){t=q("span"),n=q("div"),at(r.$$.fragment),o=U(),at(s.$$.fragment),X(n,"class","input-prefix-icon-container svelte-10fhafj"),X(t,"class","prefix-wrapper svelte-10fhafj")},m(e,a){H(e,t,a),F(t,n),it(r,n,null),F(t,o),it(s,t,null),i=!0},p(e,[t]){const n=4&t?rt(c,[ot(e[2])]):{};r.$set(n);const o=10&t?rt(d,[2&t&&{class:["prefixed-input",e[1]].join(" ")},8&t&&ot(e[3])]):{};!a&&1&t&&(a=!0,o.value=e[0],Oe((()=>a=!1))),s.$set(o)},i(e){i||(je(r.$$.fragment,e),je(s.$$.fragment,e),i=!0)},o(e){Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),i=!1},d(e){e&&z(t),lt(r),lt(s)}}}function kg(e,t,n){const r=["value","class","prefixIcon"];let o=S(t,r),{value:s=""}=t,{class:a=""}=t,{prefixIcon:i}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(3,o=S(t,r)),"value"in e&&n(0,s=e.value),"class"in e&&n(1,a=e.class),"prefixIcon"in e&&n(2,i=e.prefixIcon)},[s,a,i,o,function(e){s=e,n(0,s)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)}]}class Mg extends ut{constructor(e){super(),ct(this,e,kg,Sg,f,{value:0,class:1,prefixIcon:2})}}function Ig(e){let t,n,r,o,s,a;const i=e[9].default,l=b(i,e,e[12],null);return r=new wu({props:{isOpen:e[4],trigger:e[3],placements:e[1],class:"truncation-content",$$slots:{default:[Eg]},$$scope:{ctx:e}}}),{c(){t=q("span"),l&&l.c(),n=U(),at(r.$$.fragment),X(t,"class","truncate"),X(t,"style",e[5]),se(t,"multiline",e[2])},m(i,c){H(i,t,c),l&&l.m(t,null),e[10](t),H(i,n,c),it(r,i,c),o=!0,s||(a=[Y(t,"mouseenter",e[6]),Y(t,"mouseleave",e[11])],s=!0)},p(e,n){l&&l.p&&(!o||4096&n)&&_(l,i,e,e[12],o?w(i,e[12],n,null):x(e[12]),null),(!o||32&n)&&X(t,"style",e[5]),(!o||4&n)&&se(t,"multiline",e[2]);const s={};16&n&&(s.isOpen=e[4]),8&n&&(s.trigger=e[3]),2&n&&(s.placements=e[1]),4096&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(l,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(l,e),Ue(r.$$.fragment,e),o=!1},d(o){o&&z(t),l&&l.d(o),e[10](null),o&&z(n),lt(r,o),s=!1,d(a)}}}function Tg(e){let t;const n=e[9].default,r=b(n,e,e[12],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||4096&o)&&_(r,n,e,e[12],t?w(n,e[12],o,null):x(e[12]),null)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function Eg(e){let t;const n=e[9].default,r=b(n,e,e[12],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||4096&o)&&_(r,n,e,e[12],t?w(n,e[12],o,null):x(e[12]),null)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function Dg(e){let t,n,r,o;const s=[Tg,Ig],a=[];function i(e,t){return e[0]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,[o]){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function Og(e,t,n){let r,o,s,{$$slots:a={},$$scope:i}=t,{lines:l=1}=t,{passthrough:c=!1}=t,{popoverPlacements:u=["top","right","left","bottom"]}=t,{alwaysShowTooltip:d=!1}=t,$=!1;return e.$$set=e=>{"lines"in e&&n(7,l=e.lines),"passthrough"in e&&n(0,c=e.passthrough),"popoverPlacements"in e&&n(1,u=e.popoverPlacements),"alwaysShowTooltip"in e&&n(8,d=e.alwaysShowTooltip),"$$scope"in e&&n(12,i=e.$$scope)},e.$$.update=()=>{128&e.$$.dirty&&n(2,r=l>1),132&e.$$.dirty&&n(5,o=r?`-webkit-line-clamp: ${l};`:void 0)},[c,u,r,s,$,o,function(){var e;e=s,(d||e.scrollHeight-e.clientHeight>3||e.scrollWidth-e.clientWidth>0)&&n(4,$=!0)},l,d,a,function(e){Ce[e?"unshift":"push"]((()=>{s=e,n(3,s)}))},()=>{n(4,$=!1)},i]}class Ng extends ut{constructor(e){super(),ct(this,e,Og,Dg,f,{lines:7,passthrough:0,popoverPlacements:1,alwaysShowTooltip:8})}}const Ag=e=>({}),Rg=e=>({});function Fg(e){let t,n,r,o,s,a,i;const l=e[10].panel,c=b(l,e,e[9],Rg);return{c(){t=q("div"),n=q("div"),o=U(),c&&c.c(),X(n,"class","resizer"),X(t,"class","panel"),X(t,"style",e[8])},m(l,u){H(l,t,u),F(t,n),F(t,o),c&&c.m(t,null),s=!0,a||(i=T(r=Dc.call(null,n,{getStartingValue:e[11],onMove:e[12],onStart:e[13],onStop:e[14],min:e[2],max:e[3],axis:"width"===e[6]?"x":"y",invert:"right"===e[1]||"bottom"===e[1]})),a=!0)},p(e,n){r&&$(r.update)&&239&n&&r.update.call(null,{getStartingValue:e[11],onMove:e[12],onStart:e[13],onStop:e[14],min:e[2],max:e[3],axis:"width"===e[6]?"x":"y",invert:"right"===e[1]||"bottom"===e[1]}),c&&c.p&&(!s||512&n)&&_(c,l,e,e[9],s?w(l,e[9],n,Ag):x(e[9]),Rg),(!s||256&n)&&X(t,"style",e[8])},i(e){s||(je(c,e),s=!0)},o(e){Ue(c,e),s=!1},d(e){e&&z(t),c&&c.d(e),a=!1,i()}}}function Pg(e){let t,n,r,o;const s=e[10].default,a=b(s,e,e[9],null);let i=e[4]&&Fg(e);return{c(){t=q("div"),n=q("div"),a&&a.c(),r=U(),i&&i.c(),X(n,"class","main"),X(t,"class","with-panel"),se(t,"is-resizing",e[7]),se(t,"top","top"===e[1]),se(t,"bottom","bottom"===e[1]),se(t,"left","left"===e[1]),se(t,"right","right"===e[1]),se(t,"horizontal","width"===e[6]),se(t,"vertical","height"===e[6])},m(e,s){H(e,t,s),F(t,n),a&&a.m(n,null),F(t,r),i&&i.m(t,null),o=!0},p(e,[n]){a&&a.p&&(!o||512&n)&&_(a,s,e,e[9],o?w(s,e[9],n,null):x(e[9]),null),e[4]?i?(i.p(e,n),16&n&&je(i,1)):(i=Fg(e),i.c(),je(i,1),i.m(t,null)):i&&(qe(),Ue(i,1,1,(()=>{i=null})),Be()),(!o||128&n)&&se(t,"is-resizing",e[7]),(!o||2&n)&&se(t,"top","top"===e[1]),(!o||2&n)&&se(t,"bottom","bottom"===e[1]),(!o||2&n)&&se(t,"left","left"===e[1]),(!o||2&n)&&se(t,"right","right"===e[1]),(!o||64&n)&&se(t,"horizontal","width"===e[6]),(!o||64&n)&&se(t,"vertical","height"===e[6])},i(e){o||(je(a,e),je(i),o=!0)},o(e){Ue(a,e),Ue(i),o=!1},d(e){e&&z(t),a&&a.d(e),i&&i.d()}}}function Lg(e,t,n){let r,o,{$$slots:s={},$$scope:a}=t,{placement:i="right"}=t,{sizePx:l=300}=t,{minSizePx:c=0}=t,{maxSizePx:u=1/0}=t,{showPanel:d=!0}=t,{onResizeComplete:$=(()=>{})}=t,p=!1;return e.$$set=e=>{"placement"in e&&n(1,i=e.placement),"sizePx"in e&&n(0,l=e.sizePx),"minSizePx"in e&&n(2,c=e.minSizePx),"maxSizePx"in e&&n(3,u=e.maxSizePx),"showPanel"in e&&n(4,d=e.showPanel),"onResizeComplete"in e&&n(5,$=e.onResizeComplete),"$$scope"in e&&n(9,a=e.$$scope)},e.$$.update=()=>{2&e.$$.dirty&&n(6,r=(()=>{switch(i){case"top":case"bottom":return"height";case"left":case"right":return"width";default:return So(i)}})()),65&e.$$.dirty&&n(8,o=`${r}: ${l}px;`)},[l,i,c,u,d,$,r,p,o,a,s,()=>l,e=>{n(0,l=e)},()=>{n(7,p=!0)},e=>{n(7,p=!1),$(e)}]}class Hg extends ut{constructor(e){super(),ct(this,e,Lg,Pg,f,{placement:1,sizePx:0,minSizePx:2,maxSizePx:3,showPanel:4,onResizeComplete:5})}}var zg=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Vg={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(e){return"undefined"!=typeof console&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},qg={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},Bg=function(e,t){return void 0===t&&(t=2),("000"+e).slice(-1*t)},jg=function(e){return!0===e?1:0};function Ug(e,t){var n;return function(){var r=this,o=arguments;clearTimeout(n),n=setTimeout((function(){return e.apply(r,o)}),t)}}var Wg=function(e){return e instanceof Array?e:[e]};function Yg(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function Kg(e,t,n){var r=window.document.createElement(e);return t=t||"",n=n||"",r.className=t,void 0!==n&&(r.textContent=n),r}function Gg(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function Xg(e,t){return t(e)?e:e.parentNode?Xg(e.parentNode,t):void 0}function Zg(e,t){var n=Kg("div","numInputWrapper"),r=Kg("input","numInput "+e),o=Kg("span","arrowUp"),s=Kg("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?r.type="number":(r.type="text",r.pattern="\\d*"),void 0!==t)for(var a in t)r.setAttribute(a,t[a]);return n.appendChild(r),n.appendChild(o),n.appendChild(s),n}function Jg(e){try{return"function"==typeof e.composedPath?e.composedPath()[0]:e.target}catch(Ln){return e.target}}var Qg=function(){},eh=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},th={D:Qg,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*jg(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t,n){var r=parseInt(t),o=new Date(e.getFullYear(),0,2+7*(r-1),0,0,0,0);return o.setDate(o.getDate()-o.getDay()+n.firstDayOfWeek),o},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:Qg,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:Qg,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},nh={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},rh={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[rh.w(e,t,n)]},F:function(e,t,n){return eh(rh.n(e,t,n)-1,!1,t)},G:function(e,t,n){return Bg(rh.h(e,t,n))},H:function(e){return Bg(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[jg(e.getHours()>11)]},M:function(e,t){return eh(e.getMonth(),!0,t)},S:function(e){return Bg(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return Bg(e.getFullYear(),4)},d:function(e){return Bg(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return Bg(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return Bg(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},oh=function(e){var t=e.config,n=void 0===t?Vg:t,r=e.l10n,o=void 0===r?qg:r,s=e.isMobile,a=void 0!==s&&s;return function(e,t,r){var s=r||o;return void 0===n.formatDate||a?t.split("").map((function(t,r,o){return rh[t]&&"\\"!==o[r-1]?rh[t](e,s,n):"\\"!==t?t:""})).join(""):n.formatDate(e,t,s)}},sh=function(e){var t=e.config,n=void 0===t?Vg:t,r=e.l10n,o=void 0===r?qg:r;return function(e,t,r,s){if(0===e||e){var a,i=s||o,l=e;if(e instanceof Date)a=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)a=new Date(e);else if("string"==typeof e){var c=t||(n||Vg).dateFormat,u=String(e).trim();if("today"===u)a=new Date,r=!0;else if(n&&n.parseDate)a=n.parseDate(e,c);else if(/Z$/.test(u)||/GMT$/.test(u))a=new Date(e);else{for(var d=void 0,$=[],p=0,m=0,f="";p<c.length;p++){var g=c[p],h="\\"===g,y="\\"===c[p-1]||h;if(nh[g]&&!y){f+=nh[g];var b=new RegExp(f).exec(e);b&&(d=!0)&&$["Y"!==g?"push":"unshift"]({fn:th[g],val:b[++m]})}else h||(f+=".")}a=n&&n.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0),$.forEach((function(e){var t=e.fn,n=e.val;return a=t(a,n,i)||a})),a=d?a:void 0}}if(a instanceof Date&&!isNaN(a.getTime()))return!0===r&&a.setHours(0,0,0,0),a;n.errorHandler(new Error("Invalid date provided: "+l))}}};function ah(e,t,n){return void 0===n&&(n=!0),!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}var ih=function(e,t,n){return 3600*e+60*t+n},lh=864e5;function ch(e){var t=e.defaultHour,n=e.defaultMinute,r=e.defaultSeconds;if(void 0!==e.minDate){var o=e.minDate.getHours(),s=e.minDate.getMinutes(),a=e.minDate.getSeconds();t<o&&(t=o),t===o&&n<s&&(n=s),t===o&&n===s&&r<a&&(r=e.minDate.getSeconds())}if(void 0!==e.maxDate){var i=e.maxDate.getHours(),l=e.maxDate.getMinutes();(t=Math.min(t,i))===i&&(n=Math.min(l,n)),t===i&&n===l&&(r=e.maxDate.getSeconds())}return{hours:t,minutes:n,seconds:r}}"function"!=typeof Object.assign&&(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var r=function(t){t&&Object.keys(t).forEach((function(n){return e[n]=t[n]}))},o=0,s=t;o<s.length;o++){var a=s[o];r(a)}return e});var uh=globalThis&&globalThis.__assign||function(){return uh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},uh.apply(this,arguments)},dh=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var s=arguments[t],a=0,i=s.length;a<i;a++,o++)r[o]=s[a];return r};function $h(e,t){var n={config:uh(uh({},Vg),mh.defaultConfig),l10n:qg};function r(){var e;return(null===(e=n.calendarContainer)||void 0===e?void 0:e.getRootNode()).activeElement||document.activeElement}function o(e){return e.bind(n)}function s(){var e=n.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame((function(){if(void 0!==n.calendarContainer&&(n.calendarContainer.style.visibility="hidden",n.calendarContainer.style.display="block"),void 0!==n.daysContainer){var t=(n.days.offsetWidth+1)*e.showMonths;n.daysContainer.style.width=t+"px",n.calendarContainer.style.width=t+(void 0!==n.weekWrapper?n.weekWrapper.offsetWidth:0)+"px",n.calendarContainer.style.removeProperty("visibility"),n.calendarContainer.style.removeProperty("display")}}))}function a(e){if(0===n.selectedDates.length){var t=void 0===n.config.minDate||ah(new Date,n.config.minDate)>=0?new Date:new Date(n.config.minDate.getTime()),r=ch(n.config);t.setHours(r.hours,r.minutes,r.seconds,t.getMilliseconds()),n.selectedDates=[t],n.latestSelectedDateObj=t}void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();var t="keydown"===e.type,r=Jg(e),o=r;void 0!==n.amPM&&r===n.amPM&&(n.amPM.textContent=n.l10n.amPM[jg(n.amPM.textContent===n.l10n.amPM[0])]);var s=parseFloat(o.getAttribute("min")),a=parseFloat(o.getAttribute("max")),i=parseFloat(o.getAttribute("step")),l=parseInt(o.value,10),c=e.delta||(t?38===e.which?1:-1:0),u=l+i*c;if(void 0!==o.value&&2===o.value.length){var d=o===n.hourElement,$=o===n.minuteElement;u<s?(u=a+u+jg(!d)+(jg(d)&&jg(!n.amPM)),$&&f(void 0,-1,n.hourElement)):u>a&&(u=o===n.hourElement?u-a-jg(!n.amPM):s,$&&f(void 0,1,n.hourElement)),n.amPM&&d&&(1===i?u+l===23:Math.abs(u-l)>i)&&(n.amPM.textContent=n.l10n.amPM[jg(n.amPM.textContent===n.l10n.amPM[0])]),o.value=Bg(u)}}(e);var o=n._input.value;i(),Q(),n._input.value!==o&&n._debouncedChange()}function i(){if(void 0!==n.hourElement&&void 0!==n.minuteElement){var e,t,r=(parseInt(n.hourElement.value.slice(-2),10)||0)%24,o=(parseInt(n.minuteElement.value,10)||0)%60,s=void 0!==n.secondElement?(parseInt(n.secondElement.value,10)||0)%60:0;void 0!==n.amPM&&(e=r,t=n.amPM.textContent,r=e%12+12*jg(t===n.l10n.amPM[1]));var a=void 0!==n.config.minTime||n.config.minDate&&n.minDateHasTime&&n.latestSelectedDateObj&&0===ah(n.latestSelectedDateObj,n.config.minDate,!0),i=void 0!==n.config.maxTime||n.config.maxDate&&n.maxDateHasTime&&n.latestSelectedDateObj&&0===ah(n.latestSelectedDateObj,n.config.maxDate,!0);if(void 0!==n.config.maxTime&&void 0!==n.config.minTime&&n.config.minTime>n.config.maxTime){var l=ih(n.config.minTime.getHours(),n.config.minTime.getMinutes(),n.config.minTime.getSeconds()),u=ih(n.config.maxTime.getHours(),n.config.maxTime.getMinutes(),n.config.maxTime.getSeconds()),d=ih(r,o,s);if(d>u&&d<l){var $=function(e){var t=Math.floor(e/3600),n=(e-3600*t)/60;return[t,n,e-3600*t-60*n]}(l);r=$[0],o=$[1],s=$[2]}}else{if(i){var p=void 0!==n.config.maxTime?n.config.maxTime:n.config.maxDate;(r=Math.min(r,p.getHours()))===p.getHours()&&(o=Math.min(o,p.getMinutes())),o===p.getMinutes()&&(s=Math.min(s,p.getSeconds()))}if(a){var m=void 0!==n.config.minTime?n.config.minTime:n.config.minDate;(r=Math.max(r,m.getHours()))===m.getHours()&&o<m.getMinutes()&&(o=m.getMinutes()),o===m.getMinutes()&&(s=Math.max(s,m.getSeconds()))}}c(r,o,s)}}function l(e){var t=e||n.latestSelectedDateObj;t&&t instanceof Date&&c(t.getHours(),t.getMinutes(),t.getSeconds())}function c(e,t,r){void 0!==n.latestSelectedDateObj&&n.latestSelectedDateObj.setHours(e%24,t,r||0,0),n.hourElement&&n.minuteElement&&!n.isMobile&&(n.hourElement.value=Bg(n.config.time_24hr?e:(12+e)%12+12*jg(e%12==0)),n.minuteElement.value=Bg(t),void 0!==n.amPM&&(n.amPM.textContent=n.l10n.amPM[jg(e>=12)]),void 0!==n.secondElement&&(n.secondElement.value=Bg(r)))}function u(e){var t=Jg(e),n=parseInt(t.value)+(e.delta||0);(n/1e3>1||"Enter"===e.key&&!/[^\d]/.test(n.toString()))&&E(n)}function d(e,t,r,o){return t instanceof Array?t.forEach((function(t){return d(e,t,r,o)})):e instanceof Array?e.forEach((function(e){return d(e,t,r,o)})):(e.addEventListener(t,r,o),void n._handlers.push({remove:function(){return e.removeEventListener(t,r,o)}}))}function $(){K("onChange")}function p(e,t){var r=void 0!==e?n.parseDate(e):n.latestSelectedDateObj||(n.config.minDate&&n.config.minDate>n.now?n.config.minDate:n.config.maxDate&&n.config.maxDate<n.now?n.config.maxDate:n.now),o=n.currentYear,s=n.currentMonth;try{void 0!==r&&(n.currentYear=r.getFullYear(),n.currentMonth=r.getMonth())}catch(a){a.message="Invalid date supplied: "+r,n.config.errorHandler(a)}t&&n.currentYear!==o&&(K("onYearChange"),_()),!t||n.currentYear===o&&n.currentMonth===s||K("onMonthChange"),n.redraw()}function m(e){var t=Jg(e);~t.className.indexOf("arrow")&&f(e,t.classList.contains("arrowUp")?1:-1)}function f(e,t,n){var r=e&&Jg(e),o=n||r&&r.parentNode&&r.parentNode.firstChild,s=G("increment");s.delta=t,o&&o.dispatchEvent(s)}function g(e,t,r,o){var s=D(t,!0),a=Kg("span",e,t.getDate().toString());return a.dateObj=t,a.$i=o,a.setAttribute("aria-label",n.formatDate(t,n.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===ah(t,n.now)&&(n.todayDateElem=a,a.classList.add("today"),a.setAttribute("aria-current","date")),s?(a.tabIndex=-1,X(t)&&(a.classList.add("selected"),n.selectedDateElem=a,"range"===n.config.mode&&(Yg(a,"startRange",n.selectedDates[0]&&0===ah(t,n.selectedDates[0],!0)),Yg(a,"endRange",n.selectedDates[1]&&0===ah(t,n.selectedDates[1],!0)),"nextMonthDay"===e&&a.classList.add("inRange")))):a.classList.add("flatpickr-disabled"),"range"===n.config.mode&&function(e){return!("range"!==n.config.mode||n.selectedDates.length<2)&&(ah(e,n.selectedDates[0])>=0&&ah(e,n.selectedDates[1])<=0)}(t)&&!X(t)&&a.classList.add("inRange"),n.weekNumbers&&1===n.config.showMonths&&"prevMonthDay"!==e&&o%7==6&&n.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+n.config.getWeek(t)+"</span>"),K("onDayCreate",a),a}function h(e){e.focus(),"range"===n.config.mode&&R(e)}function y(e){for(var t=e>0?0:n.config.showMonths-1,r=e>0?n.config.showMonths:-1,o=t;o!=r;o+=e)for(var s=n.daysContainer.children[o],a=e>0?0:s.children.length-1,i=e>0?s.children.length:-1,l=a;l!=i;l+=e){var c=s.children[l];if(-1===c.className.indexOf("hidden")&&D(c.dateObj))return c}}function b(e,t){var o=r(),s=O(o||document.body),a=void 0!==e?e:s?o:void 0!==n.selectedDateElem&&O(n.selectedDateElem)?n.selectedDateElem:void 0!==n.todayDateElem&&O(n.todayDateElem)?n.todayDateElem:y(t>0?1:-1);void 0===a?n._input.focus():s?function(e,t){for(var r=-1===e.className.indexOf("Month")?e.dateObj.getMonth():n.currentMonth,o=t>0?n.config.showMonths:-1,s=t>0?1:-1,a=r-n.currentMonth;a!=o;a+=s)for(var i=n.daysContainer.children[a],l=r-n.currentMonth===a?e.$i+t:t<0?i.children.length-1:0,c=i.children.length,u=l;u>=0&&u<c&&u!=(t>0?c:-1);u+=s){var d=i.children[u];if(-1===d.className.indexOf("hidden")&&D(d.dateObj)&&Math.abs(e.$i-u)>=Math.abs(t))return h(d)}n.changeMonth(s),b(y(s),0)}(a,t):h(a)}function v(e,t){for(var r=(new Date(e,t,1).getDay()-n.l10n.firstDayOfWeek+7)%7,o=n.utils.getDaysInMonth((t-1+12)%12,e),s=n.utils.getDaysInMonth(t,e),a=window.document.createDocumentFragment(),i=n.config.showMonths>1,l=i?"prevMonthDay hidden":"prevMonthDay",c=i?"nextMonthDay hidden":"nextMonthDay",u=o+1-r,d=0;u<=o;u++,d++)a.appendChild(g("flatpickr-day "+l,new Date(e,t-1,u),0,d));for(u=1;u<=s;u++,d++)a.appendChild(g("flatpickr-day",new Date(e,t,u),0,d));for(var $=s+1;$<=42-r&&(1===n.config.showMonths||d%7!=0);$++,d++)a.appendChild(g("flatpickr-day "+c,new Date(e,t+1,$%s),0,d));var p=Kg("div","dayContainer");return p.appendChild(a),p}function w(){if(void 0!==n.daysContainer){Gg(n.daysContainer),n.weekNumbers&&Gg(n.weekNumbers);for(var e=document.createDocumentFragment(),t=0;t<n.config.showMonths;t++){var r=new Date(n.currentYear,n.currentMonth,1);r.setMonth(n.currentMonth+t),e.appendChild(v(r.getFullYear(),r.getMonth()))}n.daysContainer.appendChild(e),n.days=n.daysContainer.firstChild,"range"===n.config.mode&&1===n.selectedDates.length&&R()}}function _(){if(!(n.config.showMonths>1||"dropdown"!==n.config.monthSelectorType)){var e=function(e){return!(void 0!==n.config.minDate&&n.currentYear===n.config.minDate.getFullYear()&&e<n.config.minDate.getMonth())&&!(void 0!==n.config.maxDate&&n.currentYear===n.config.maxDate.getFullYear()&&e>n.config.maxDate.getMonth())};n.monthsDropdownContainer.tabIndex=-1,n.monthsDropdownContainer.innerHTML="";for(var t=0;t<12;t++)if(e(t)){var r=Kg("option","flatpickr-monthDropdown-month");r.value=new Date(n.currentYear,t).getMonth().toString(),r.textContent=eh(t,n.config.shorthandCurrentMonth,n.l10n),r.tabIndex=-1,n.currentMonth===t&&(r.selected=!0),n.monthsDropdownContainer.appendChild(r)}}}function x(){var e,t=Kg("div","flatpickr-month"),r=window.document.createDocumentFragment();n.config.showMonths>1||"static"===n.config.monthSelectorType?e=Kg("span","cur-month"):(n.monthsDropdownContainer=Kg("select","flatpickr-monthDropdown-months"),n.monthsDropdownContainer.setAttribute("aria-label",n.l10n.monthAriaLabel),d(n.monthsDropdownContainer,"change",(function(e){var t=Jg(e),r=parseInt(t.value,10);n.changeMonth(r-n.currentMonth),K("onMonthChange")})),_(),e=n.monthsDropdownContainer);var o=Zg("cur-year",{tabindex:"-1"}),s=o.getElementsByTagName("input")[0];s.setAttribute("aria-label",n.l10n.yearAriaLabel),n.config.minDate&&s.setAttribute("min",n.config.minDate.getFullYear().toString()),n.config.maxDate&&(s.setAttribute("max",n.config.maxDate.getFullYear().toString()),s.disabled=!!n.config.minDate&&n.config.minDate.getFullYear()===n.config.maxDate.getFullYear());var a=Kg("div","flatpickr-current-month");return a.appendChild(e),a.appendChild(o),r.appendChild(a),t.appendChild(r),{container:t,yearElement:s,monthElement:e}}function C(){Gg(n.monthNav),n.monthNav.appendChild(n.prevMonthNav),n.config.showMonths&&(n.yearElements=[],n.monthElements=[]);for(var e=n.config.showMonths;e--;){var t=x();n.yearElements.push(t.yearElement),n.monthElements.push(t.monthElement),n.monthNav.appendChild(t.container)}n.monthNav.appendChild(n.nextMonthNav)}function S(){n.weekdayContainer?Gg(n.weekdayContainer):n.weekdayContainer=Kg("div","flatpickr-weekdays");for(var e=n.config.showMonths;e--;){var t=Kg("div","flatpickr-weekdaycontainer");n.weekdayContainer.appendChild(t)}return k(),n.weekdayContainer}function k(){if(n.weekdayContainer){var e=n.l10n.firstDayOfWeek,t=dh(n.l10n.weekdays.shorthand);e>0&&e<t.length&&(t=dh(t.splice(e,t.length),t.splice(0,e)));for(var r=n.config.showMonths;r--;)n.weekdayContainer.children[r].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+t.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function M(e,t){void 0===t&&(t=!0);var r=t?e:e-n.currentMonth;r<0&&!0===n._hidePrevMonthArrow||r>0&&!0===n._hideNextMonthArrow||(n.currentMonth+=r,(n.currentMonth<0||n.currentMonth>11)&&(n.currentYear+=n.currentMonth>11?1:-1,n.currentMonth=(n.currentMonth+12)%12,K("onYearChange"),_()),w(),K("onMonthChange"),Z())}function I(e){return n.calendarContainer.contains(e)}function T(e){if(n.isOpen&&!n.config.inline){var t=Jg(e),r=I(t),o=!(t===n.input||t===n.altInput||n.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(n.input)||~e.path.indexOf(n.altInput)))&&!r&&!I(e.relatedTarget),s=!n.config.ignoredFocusElements.some((function(e){return e.contains(t)}));o&&s&&(n.config.allowInput&&n.setDate(n._input.value,!1,n.config.altInput?n.config.altFormat:n.config.dateFormat),void 0!==n.timeContainer&&void 0!==n.minuteElement&&void 0!==n.hourElement&&""!==n.input.value&&void 0!==n.input.value&&a(),n.close(),n.config&&"range"===n.config.mode&&1===n.selectedDates.length&&n.clear(!1))}}function E(e){if(!(!e||n.config.minDate&&e<n.config.minDate.getFullYear()||n.config.maxDate&&e>n.config.maxDate.getFullYear())){var t=e,r=n.currentYear!==t;n.currentYear=t||n.currentYear,n.config.maxDate&&n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth=Math.min(n.config.maxDate.getMonth(),n.currentMonth):n.config.minDate&&n.currentYear===n.config.minDate.getFullYear()&&(n.currentMonth=Math.max(n.config.minDate.getMonth(),n.currentMonth)),r&&(n.redraw(),K("onYearChange"),_())}}function D(e,t){var r;void 0===t&&(t=!0);var o=n.parseDate(e,void 0,t);if(n.config.minDate&&o&&ah(o,n.config.minDate,void 0!==t?t:!n.minDateHasTime)<0||n.config.maxDate&&o&&ah(o,n.config.maxDate,void 0!==t?t:!n.maxDateHasTime)>0)return!1;if(!n.config.enable&&0===n.config.disable.length)return!0;if(void 0===o)return!1;for(var s=!!n.config.enable,a=null!==(r=n.config.enable)&&void 0!==r?r:n.config.disable,i=0,l=void 0;i<a.length;i++){if("function"==typeof(l=a[i])&&l(o))return s;if(l instanceof Date&&void 0!==o&&l.getTime()===o.getTime())return s;if("string"==typeof l){var c=n.parseDate(l,void 0,!0);return c&&c.getTime()===o.getTime()?s:!s}if("object"==typeof l&&void 0!==o&&l.from&&l.to&&o.getTime()>=l.from.getTime()&&o.getTime()<=l.to.getTime())return s}return!s}function O(e){return void 0!==n.daysContainer&&(-1===e.className.indexOf("hidden")&&-1===e.className.indexOf("flatpickr-disabled")&&n.daysContainer.contains(e))}function N(e){var t=e.target===n._input,r=n._input.value.trimEnd()!==J();!t||!r||e.relatedTarget&&I(e.relatedTarget)||n.setDate(n._input.value,!0,e.target===n.altInput?n.config.altFormat:n.config.dateFormat)}function A(t){var o=Jg(t),s=n.config.wrap?e.contains(o):o===n._input,l=n.config.allowInput,c=n.isOpen&&(!l||!s),u=n.config.inline&&s&&!l;if(13===t.keyCode&&s){if(l)return n.setDate(n._input.value,!0,o===n.altInput?n.config.altFormat:n.config.dateFormat),n.close(),o.blur();n.open()}else if(I(o)||c||u){var d=!!n.timeContainer&&n.timeContainer.contains(o);switch(t.keyCode){case 13:d?(t.preventDefault(),a(),q()):B(t);break;case 27:t.preventDefault(),q();break;case 8:case 46:s&&!n.config.allowInput&&(t.preventDefault(),n.clear());break;case 37:case 39:if(d||s)n.hourElement&&n.hourElement.focus();else{t.preventDefault();var $=r();if(void 0!==n.daysContainer&&(!1===l||$&&O($))){var p=39===t.keyCode?1:-1;t.ctrlKey?(t.stopPropagation(),M(p),b(y(1),0)):b(void 0,p)}}break;case 38:case 40:t.preventDefault();var m=40===t.keyCode?1:-1;n.daysContainer&&void 0!==o.$i||o===n.input||o===n.altInput?t.ctrlKey?(t.stopPropagation(),E(n.currentYear-m),b(y(1),0)):d||b(void 0,7*m):o===n.currentYearElement?E(n.currentYear-m):n.config.enableTime&&(!d&&n.hourElement&&n.hourElement.focus(),a(t),n._debouncedChange());break;case 9:if(d){var f=[n.hourElement,n.minuteElement,n.secondElement,n.amPM].concat(n.pluginElements).filter((function(e){return e})),g=f.indexOf(o);if(-1!==g){var h=f[g+(t.shiftKey?-1:1)];t.preventDefault(),(h||n._input).focus()}}else!n.config.noCalendar&&n.daysContainer&&n.daysContainer.contains(o)&&t.shiftKey&&(t.preventDefault(),n._input.focus())}}if(void 0!==n.amPM&&o===n.amPM)switch(t.key){case n.l10n.amPM[0].charAt(0):case n.l10n.amPM[0].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[0],i(),Q();break;case n.l10n.amPM[1].charAt(0):case n.l10n.amPM[1].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[1],i(),Q()}(s||I(o))&&K("onKeyDown",t)}function R(e,t){if(void 0===t&&(t="flatpickr-day"),1===n.selectedDates.length&&(!e||e.classList.contains(t)&&!e.classList.contains("flatpickr-disabled"))){for(var r=e?e.dateObj.getTime():n.days.firstElementChild.dateObj.getTime(),o=n.parseDate(n.selectedDates[0],void 0,!0).getTime(),s=Math.min(r,n.selectedDates[0].getTime()),a=Math.max(r,n.selectedDates[0].getTime()),i=!1,l=0,c=0,u=s;u<a;u+=lh)D(new Date(u),!0)||(i=i||u>s&&u<a,u<o&&(!l||u>l)?l=u:u>o&&(!c||u<c)&&(c=u));Array.from(n.rContainer.querySelectorAll("*:nth-child(-n+"+n.config.showMonths+") > ."+t)).forEach((function(t){var s,a,u,d=t.dateObj.getTime(),$=l>0&&d<l||c>0&&d>c;if($)return t.classList.add("notAllowed"),void["inRange","startRange","endRange"].forEach((function(e){t.classList.remove(e)}));i&&!$||(["startRange","inRange","endRange","notAllowed"].forEach((function(e){t.classList.remove(e)})),void 0!==e&&(e.classList.add(r<=n.selectedDates[0].getTime()?"startRange":"endRange"),o<r&&d===o?t.classList.add("startRange"):o>r&&d===o&&t.classList.add("endRange"),d>=l&&(0===c||d<=c)&&(a=o,u=r,(s=d)>Math.min(a,u)&&s<Math.max(a,u))&&t.classList.add("inRange")))}))}}function F(){!n.isOpen||n.config.static||n.config.inline||z()}function P(e){return function(t){var r=n.config["_"+e+"Date"]=n.parseDate(t,n.config.dateFormat),o=n.config["_"+("min"===e?"max":"min")+"Date"];void 0!==r&&(n["min"===e?"minDateHasTime":"maxDateHasTime"]=r.getHours()>0||r.getMinutes()>0||r.getSeconds()>0),n.selectedDates&&(n.selectedDates=n.selectedDates.filter((function(e){return D(e)})),n.selectedDates.length||"min"!==e||l(r),Q()),n.daysContainer&&(V(),void 0!==r?n.currentYearElement[e]=r.getFullYear().toString():n.currentYearElement.removeAttribute(e),n.currentYearElement.disabled=!!o&&void 0!==r&&o.getFullYear()===r.getFullYear())}}function L(){return n.config.wrap?e.querySelector("[data-input]"):e}function H(){"object"!=typeof n.config.locale&&void 0===mh.l10ns[n.config.locale]&&n.config.errorHandler(new Error("flatpickr: invalid locale "+n.config.locale)),n.l10n=uh(uh({},mh.l10ns.default),"object"==typeof n.config.locale?n.config.locale:"default"!==n.config.locale?mh.l10ns[n.config.locale]:void 0),nh.D="("+n.l10n.weekdays.shorthand.join("|")+")",nh.l="("+n.l10n.weekdays.longhand.join("|")+")",nh.M="("+n.l10n.months.shorthand.join("|")+")",nh.F="("+n.l10n.months.longhand.join("|")+")",nh.K="("+n.l10n.amPM[0]+"|"+n.l10n.amPM[1]+"|"+n.l10n.amPM[0].toLowerCase()+"|"+n.l10n.amPM[1].toLowerCase()+")",void 0===uh(uh({},t),JSON.parse(JSON.stringify(e.dataset||{}))).time_24hr&&void 0===mh.defaultConfig.time_24hr&&(n.config.time_24hr=n.l10n.time_24hr),n.formatDate=oh(n),n.parseDate=sh({config:n.config,l10n:n.l10n})}function z(e){if("function"!=typeof n.config.position){if(void 0!==n.calendarContainer){K("onPreCalendarPosition");var t=e||n._positionElement,r=Array.prototype.reduce.call(n.calendarContainer.children,(function(e,t){return e+t.offsetHeight}),0),o=n.calendarContainer.offsetWidth,s=n.config.position.split(" "),a=s[0],i=s.length>1?s[1]:null,l=t.getBoundingClientRect(),c=window.innerHeight-l.bottom,u="above"===a||"below"!==a&&c<r&&l.top>r,d=window.pageYOffset+l.top+(u?-r-2:t.offsetHeight+2);if(Yg(n.calendarContainer,"arrowTop",!u),Yg(n.calendarContainer,"arrowBottom",u),!n.config.inline){var $=window.pageXOffset+l.left,p=!1,m=!1;"center"===i?($-=(o-l.width)/2,p=!0):"right"===i&&($-=o-l.width,m=!0),Yg(n.calendarContainer,"arrowLeft",!p&&!m),Yg(n.calendarContainer,"arrowCenter",p),Yg(n.calendarContainer,"arrowRight",m);var f=window.document.body.offsetWidth-(window.pageXOffset+l.right),g=$+o>window.document.body.offsetWidth,h=f+o>window.document.body.offsetWidth;if(Yg(n.calendarContainer,"rightMost",g),!n.config.static)if(n.calendarContainer.style.top=d+"px",g)if(h){var y=function(){for(var e=null,t=0;t<document.styleSheets.length;t++){var n=document.styleSheets[t];if(n.cssRules){try{n.cssRules}catch(o){continue}e=n;break}}return null!=e?e:(r=document.createElement("style"),document.head.appendChild(r),r.sheet);var r}();if(void 0===y)return;var b=window.document.body.offsetWidth,v=Math.max(0,b/2-o/2),w=y.cssRules.length,_="{left:"+l.left+"px;right:auto;}";Yg(n.calendarContainer,"rightMost",!1),Yg(n.calendarContainer,"centerMost",!0),y.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+_,w),n.calendarContainer.style.left=v+"px",n.calendarContainer.style.right="auto"}else n.calendarContainer.style.left="auto",n.calendarContainer.style.right=f+"px";else n.calendarContainer.style.left=$+"px",n.calendarContainer.style.right="auto"}}}else n.config.position(n,e)}function V(){n.config.noCalendar||n.isMobile||(_(),Z(),w())}function q(){n._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(n.close,0):n.close()}function B(e){e.preventDefault(),e.stopPropagation();var t=Xg(Jg(e),(function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled")&&!e.classList.contains("notAllowed")}));if(void 0!==t){var r=t,o=n.latestSelectedDateObj=new Date(r.dateObj.getTime()),s=(o.getMonth()<n.currentMonth||o.getMonth()>n.currentMonth+n.config.showMonths-1)&&"range"!==n.config.mode;if(n.selectedDateElem=r,"single"===n.config.mode)n.selectedDates=[o];else if("multiple"===n.config.mode){var a=X(o);a?n.selectedDates.splice(parseInt(a),1):n.selectedDates.push(o)}else"range"===n.config.mode&&(2===n.selectedDates.length&&n.clear(!1,!1),n.latestSelectedDateObj=o,n.selectedDates.push(o),0!==ah(o,n.selectedDates[0],!0)&&n.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()})));if(i(),s){var l=n.currentYear!==o.getFullYear();n.currentYear=o.getFullYear(),n.currentMonth=o.getMonth(),l&&(K("onYearChange"),_()),K("onMonthChange")}if(Z(),w(),Q(),s||"range"===n.config.mode||1!==n.config.showMonths?void 0!==n.selectedDateElem&&void 0===n.hourElement&&n.selectedDateElem&&n.selectedDateElem.focus():h(r),void 0!==n.hourElement&&void 0!==n.hourElement&&n.hourElement.focus(),n.config.closeOnSelect){var c="single"===n.config.mode&&!n.config.enableTime,u="range"===n.config.mode&&2===n.selectedDates.length&&!n.config.enableTime;(c||u)&&q()}$()}}n.parseDate=sh({config:n.config,l10n:n.l10n}),n._handlers=[],n.pluginElements=[],n.loadedPlugins=[],n._bind=d,n._setHoursFromDate=l,n._positionCalendar=z,n.changeMonth=M,n.changeYear=E,n.clear=function(e,t){void 0===e&&(e=!0);void 0===t&&(t=!0);n.input.value="",void 0!==n.altInput&&(n.altInput.value="");void 0!==n.mobileInput&&(n.mobileInput.value="");n.selectedDates=[],n.latestSelectedDateObj=void 0,!0===t&&(n.currentYear=n._initialDate.getFullYear(),n.currentMonth=n._initialDate.getMonth());if(!0===n.config.enableTime){var r=ch(n.config),o=r.hours,s=r.minutes,a=r.seconds;c(o,s,a)}n.redraw(),e&&K("onChange")},n.close=function(){n.isOpen=!1,n.isMobile||(void 0!==n.calendarContainer&&n.calendarContainer.classList.remove("open"),void 0!==n._input&&n._input.classList.remove("active"));K("onClose")},n.onMouseOver=R,n._createElement=Kg,n.createDay=g,n.destroy=function(){void 0!==n.config&&K("onDestroy");for(var e=n._handlers.length;e--;)n._handlers[e].remove();if(n._handlers=[],n.mobileInput)n.mobileInput.parentNode&&n.mobileInput.parentNode.removeChild(n.mobileInput),n.mobileInput=void 0;else if(n.calendarContainer&&n.calendarContainer.parentNode)if(n.config.static&&n.calendarContainer.parentNode){var t=n.calendarContainer.parentNode;if(t.lastChild&&t.removeChild(t.lastChild),t.parentNode){for(;t.firstChild;)t.parentNode.insertBefore(t.firstChild,t);t.parentNode.removeChild(t)}}else n.calendarContainer.parentNode.removeChild(n.calendarContainer);n.altInput&&(n.input.type="text",n.altInput.parentNode&&n.altInput.parentNode.removeChild(n.altInput),delete n.altInput);n.input&&(n.input.type=n.input._type,n.input.classList.remove("flatpickr-input"),n.input.removeAttribute("readonly"));["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((function(e){try{delete n[e]}catch(jBe){}}))},n.isEnabled=D,n.jumpToDate=p,n.updateValue=Q,n.open=function(e,t){void 0===t&&(t=n._positionElement);if(!0===n.isMobile){if(e){e.preventDefault();var r=Jg(e);r&&r.blur()}return void 0!==n.mobileInput&&(n.mobileInput.focus(),n.mobileInput.click()),void K("onOpen")}if(n._input.disabled||n.config.inline)return;var o=n.isOpen;n.isOpen=!0,o||(n.calendarContainer.classList.add("open"),n._input.classList.add("active"),K("onOpen"),z(t));!0===n.config.enableTime&&!0===n.config.noCalendar&&(!1!==n.config.allowInput||void 0!==e&&n.timeContainer.contains(e.relatedTarget)||setTimeout((function(){return n.hourElement.select()}),50))},n.redraw=V,n.set=function(e,t){if(null!==e&&"object"==typeof e)for(var r in Object.assign(n.config,e),e)void 0!==j[r]&&j[r].forEach((function(e){return e()}));else n.config[e]=t,void 0!==j[e]?j[e].forEach((function(e){return e()})):zg.indexOf(e)>-1&&(n.config[e]=Wg(t));n.redraw(),Q(!0)},n.setDate=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=n.config.dateFormat);if(0!==e&&!e||e instanceof Array&&0===e.length)return n.clear(t);U(e,r),n.latestSelectedDateObj=n.selectedDates[n.selectedDates.length-1],n.redraw(),p(void 0,t),l(),0===n.selectedDates.length&&n.clear(!1);Q(t),t&&K("onChange")},n.toggle=function(e){if(!0===n.isOpen)return n.close();n.open(e)};var j={locale:[H,k],showMonths:[C,s,S],minDate:[p],maxDate:[p],positionElement:[Y],clickOpens:[function(){!0===n.config.clickOpens?(d(n._input,"focus",n.open),d(n._input,"click",n.open)):(n._input.removeEventListener("focus",n.open),n._input.removeEventListener("click",n.open))}]};function U(e,t){var r=[];if(e instanceof Array)r=e.map((function(e){return n.parseDate(e,t)}));else if(e instanceof Date||"number"==typeof e)r=[n.parseDate(e,t)];else if("string"==typeof e)switch(n.config.mode){case"single":case"time":r=[n.parseDate(e,t)];break;case"multiple":r=e.split(n.config.conjunction).map((function(e){return n.parseDate(e,t)}));break;case"range":r=e.split(n.l10n.rangeSeparator).map((function(e){return n.parseDate(e,t)}))}else n.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));n.selectedDates=n.config.allowInvalidPreload?r:r.filter((function(e){return e instanceof Date&&D(e,!1)})),"range"===n.config.mode&&n.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()}))}function W(e){return e.slice().map((function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?n.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:n.parseDate(e.from,void 0),to:n.parseDate(e.to,void 0)}:e})).filter((function(e){return e}))}function Y(){n._positionElement=n.config.positionElement||n._input}function K(e,t){if(void 0!==n.config){var r=n.config[e];if(void 0!==r&&r.length>0)for(var o=0;r[o]&&o<r.length;o++)r[o](n.selectedDates,n.input.value,n,t);"onChange"===e&&(n.input.dispatchEvent(G("change")),n.input.dispatchEvent(G("input")))}}function G(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function X(e){for(var t=0;t<n.selectedDates.length;t++){var r=n.selectedDates[t];if(r instanceof Date&&0===ah(r,e))return""+t}return!1}function Z(){n.config.noCalendar||n.isMobile||!n.monthNav||(n.yearElements.forEach((function(e,t){var r=new Date(n.currentYear,n.currentMonth,1);r.setMonth(n.currentMonth+t),n.config.showMonths>1||"static"===n.config.monthSelectorType?n.monthElements[t].textContent=eh(r.getMonth(),n.config.shorthandCurrentMonth,n.l10n)+" ":n.monthsDropdownContainer.value=r.getMonth().toString(),e.value=r.getFullYear().toString()})),n._hidePrevMonthArrow=void 0!==n.config.minDate&&(n.currentYear===n.config.minDate.getFullYear()?n.currentMonth<=n.config.minDate.getMonth():n.currentYear<n.config.minDate.getFullYear()),n._hideNextMonthArrow=void 0!==n.config.maxDate&&(n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth+1>n.config.maxDate.getMonth():n.currentYear>n.config.maxDate.getFullYear()))}function J(e){var t=e||(n.config.altInput?n.config.altFormat:n.config.dateFormat);return n.selectedDates.map((function(e){return n.formatDate(e,t)})).filter((function(e,t,r){return"range"!==n.config.mode||n.config.enableTime||r.indexOf(e)===t})).join("range"!==n.config.mode?n.config.conjunction:n.l10n.rangeSeparator)}function Q(e){void 0===e&&(e=!0),void 0!==n.mobileInput&&n.mobileFormatStr&&(n.mobileInput.value=void 0!==n.latestSelectedDateObj?n.formatDate(n.latestSelectedDateObj,n.mobileFormatStr):""),n.input.value=J(n.config.dateFormat),void 0!==n.altInput&&(n.altInput.value=J(n.config.altFormat)),!1!==e&&K("onValueUpdate")}function ee(e){var t=Jg(e),r=n.prevMonthNav.contains(t),o=n.nextMonthNav.contains(t);r||o?M(r?-1:1):n.yearElements.indexOf(t)>=0?t.select():t.classList.contains("arrowUp")?n.changeYear(n.currentYear+1):t.classList.contains("arrowDown")&&n.changeYear(n.currentYear-1)}return function(){n.element=n.input=e,n.isOpen=!1,function(){var r=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],s=uh(uh({},JSON.parse(JSON.stringify(e.dataset||{}))),t),a={};n.config.parseDate=s.parseDate,n.config.formatDate=s.formatDate,Object.defineProperty(n.config,"enable",{get:function(){return n.config._enable},set:function(e){n.config._enable=W(e)}}),Object.defineProperty(n.config,"disable",{get:function(){return n.config._disable},set:function(e){n.config._disable=W(e)}});var i="time"===s.mode;if(!s.dateFormat&&(s.enableTime||i)){var l=mh.defaultConfig.dateFormat||Vg.dateFormat;a.dateFormat=s.noCalendar||i?"H:i"+(s.enableSeconds?":S":""):l+" H:i"+(s.enableSeconds?":S":"")}if(s.altInput&&(s.enableTime||i)&&!s.altFormat){var c=mh.defaultConfig.altFormat||Vg.altFormat;a.altFormat=s.noCalendar||i?"h:i"+(s.enableSeconds?":S K":" K"):c+" h:i"+(s.enableSeconds?":S":"")+" K"}Object.defineProperty(n.config,"minDate",{get:function(){return n.config._minDate},set:P("min")}),Object.defineProperty(n.config,"maxDate",{get:function(){return n.config._maxDate},set:P("max")});var u=function(e){return function(t){n.config["min"===e?"_minTime":"_maxTime"]=n.parseDate(t,"H:i:S")}};Object.defineProperty(n.config,"minTime",{get:function(){return n.config._minTime},set:u("min")}),Object.defineProperty(n.config,"maxTime",{get:function(){return n.config._maxTime},set:u("max")}),"time"===s.mode&&(n.config.noCalendar=!0,n.config.enableTime=!0);Object.assign(n.config,a,s);for(var d=0;d<r.length;d++)n.config[r[d]]=!0===n.config[r[d]]||"true"===n.config[r[d]];zg.filter((function(e){return void 0!==n.config[e]})).forEach((function(e){n.config[e]=Wg(n.config[e]||[]).map(o)})),n.isMobile=!n.config.disableMobile&&!n.config.inline&&"single"===n.config.mode&&!n.config.disable.length&&!n.config.enable&&!n.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(d=0;d<n.config.plugins.length;d++){var $=n.config.plugins[d](n)||{};for(var p in $)zg.indexOf(p)>-1?n.config[p]=Wg($[p]).map(o).concat(n.config[p]):void 0===s[p]&&(n.config[p]=$[p])}s.altInputClass||(n.config.altInputClass=L().className+" "+n.config.altInputClass);K("onParseConfig")}(),H(),function(){if(n.input=L(),!n.input)return void n.config.errorHandler(new Error("Invalid input element specified"));n.input._type=n.input.type,n.input.type="text",n.input.classList.add("flatpickr-input"),n._input=n.input,n.config.altInput&&(n.altInput=Kg(n.input.nodeName,n.config.altInputClass),n._input=n.altInput,n.altInput.placeholder=n.input.placeholder,n.altInput.disabled=n.input.disabled,n.altInput.required=n.input.required,n.altInput.tabIndex=n.input.tabIndex,n.altInput.type="text",n.input.setAttribute("type","hidden"),!n.config.static&&n.input.parentNode&&n.input.parentNode.insertBefore(n.altInput,n.input.nextSibling));n.config.allowInput||n._input.setAttribute("readonly","readonly");Y()}(),function(){n.selectedDates=[],n.now=n.parseDate(n.config.now)||new Date;var e=n.config.defaultDate||("INPUT"!==n.input.nodeName&&"TEXTAREA"!==n.input.nodeName||!n.input.placeholder||n.input.value!==n.input.placeholder?n.input.value:null);e&&U(e,n.config.dateFormat);n._initialDate=n.selectedDates.length>0?n.selectedDates[0]:n.config.minDate&&n.config.minDate.getTime()>n.now.getTime()?n.config.minDate:n.config.maxDate&&n.config.maxDate.getTime()<n.now.getTime()?n.config.maxDate:n.now,n.currentYear=n._initialDate.getFullYear(),n.currentMonth=n._initialDate.getMonth(),n.selectedDates.length>0&&(n.latestSelectedDateObj=n.selectedDates[0]);void 0!==n.config.minTime&&(n.config.minTime=n.parseDate(n.config.minTime,"H:i"));void 0!==n.config.maxTime&&(n.config.maxTime=n.parseDate(n.config.maxTime,"H:i"));n.minDateHasTime=!!n.config.minDate&&(n.config.minDate.getHours()>0||n.config.minDate.getMinutes()>0||n.config.minDate.getSeconds()>0),n.maxDateHasTime=!!n.config.maxDate&&(n.config.maxDate.getHours()>0||n.config.maxDate.getMinutes()>0||n.config.maxDate.getSeconds()>0)}(),n.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=n.currentMonth),void 0===t&&(t=n.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:n.l10n.daysInMonth[e]}},n.isMobile||function(){var e=window.document.createDocumentFragment();if(n.calendarContainer=Kg("div","flatpickr-calendar"),n.calendarContainer.tabIndex=-1,!n.config.noCalendar){if(e.appendChild((n.monthNav=Kg("div","flatpickr-months"),n.yearElements=[],n.monthElements=[],n.prevMonthNav=Kg("span","flatpickr-prev-month"),n.prevMonthNav.innerHTML=n.config.prevArrow,n.nextMonthNav=Kg("span","flatpickr-next-month"),n.nextMonthNav.innerHTML=n.config.nextArrow,C(),Object.defineProperty(n,"_hidePrevMonthArrow",{get:function(){return n.__hidePrevMonthArrow},set:function(e){n.__hidePrevMonthArrow!==e&&(Yg(n.prevMonthNav,"flatpickr-disabled",e),n.__hidePrevMonthArrow=e)}}),Object.defineProperty(n,"_hideNextMonthArrow",{get:function(){return n.__hideNextMonthArrow},set:function(e){n.__hideNextMonthArrow!==e&&(Yg(n.nextMonthNav,"flatpickr-disabled",e),n.__hideNextMonthArrow=e)}}),n.currentYearElement=n.yearElements[0],Z(),n.monthNav)),n.innerContainer=Kg("div","flatpickr-innerContainer"),n.config.weekNumbers){var t=function(){n.calendarContainer.classList.add("hasWeeks");var e=Kg("div","flatpickr-weekwrapper");e.appendChild(Kg("span","flatpickr-weekday",n.l10n.weekAbbreviation));var t=Kg("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}(),r=t.weekWrapper,o=t.weekNumbers;n.innerContainer.appendChild(r),n.weekNumbers=o,n.weekWrapper=r}n.rContainer=Kg("div","flatpickr-rContainer"),n.rContainer.appendChild(S()),n.daysContainer||(n.daysContainer=Kg("div","flatpickr-days"),n.daysContainer.tabIndex=-1),w(),n.rContainer.appendChild(n.daysContainer),n.innerContainer.appendChild(n.rContainer),e.appendChild(n.innerContainer)}n.config.enableTime&&e.appendChild(function(){n.calendarContainer.classList.add("hasTime"),n.config.noCalendar&&n.calendarContainer.classList.add("noCalendar");var e=ch(n.config);n.timeContainer=Kg("div","flatpickr-time"),n.timeContainer.tabIndex=-1;var t=Kg("span","flatpickr-time-separator",":"),r=Zg("flatpickr-hour",{"aria-label":n.l10n.hourAriaLabel});n.hourElement=r.getElementsByTagName("input")[0];var o=Zg("flatpickr-minute",{"aria-label":n.l10n.minuteAriaLabel});n.minuteElement=o.getElementsByTagName("input")[0],n.hourElement.tabIndex=n.minuteElement.tabIndex=-1,n.hourElement.value=Bg(n.latestSelectedDateObj?n.latestSelectedDateObj.getHours():n.config.time_24hr?e.hours:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(e.hours)),n.minuteElement.value=Bg(n.latestSelectedDateObj?n.latestSelectedDateObj.getMinutes():e.minutes),n.hourElement.setAttribute("step",n.config.hourIncrement.toString()),n.minuteElement.setAttribute("step",n.config.minuteIncrement.toString()),n.hourElement.setAttribute("min",n.config.time_24hr?"0":"1"),n.hourElement.setAttribute("max",n.config.time_24hr?"23":"12"),n.hourElement.setAttribute("maxlength","2"),n.minuteElement.setAttribute("min","0"),n.minuteElement.setAttribute("max","59"),n.minuteElement.setAttribute("maxlength","2"),n.timeContainer.appendChild(r),n.timeContainer.appendChild(t),n.timeContainer.appendChild(o),n.config.time_24hr&&n.timeContainer.classList.add("time24hr");if(n.config.enableSeconds){n.timeContainer.classList.add("hasSeconds");var s=Zg("flatpickr-second");n.secondElement=s.getElementsByTagName("input")[0],n.secondElement.value=Bg(n.latestSelectedDateObj?n.latestSelectedDateObj.getSeconds():e.seconds),n.secondElement.setAttribute("step",n.minuteElement.getAttribute("step")),n.secondElement.setAttribute("min","0"),n.secondElement.setAttribute("max","59"),n.secondElement.setAttribute("maxlength","2"),n.timeContainer.appendChild(Kg("span","flatpickr-time-separator",":")),n.timeContainer.appendChild(s)}n.config.time_24hr||(n.amPM=Kg("span","flatpickr-am-pm",n.l10n.amPM[jg((n.latestSelectedDateObj?n.hourElement.value:n.config.defaultHour)>11)]),n.amPM.title=n.l10n.toggleTitle,n.amPM.tabIndex=-1,n.timeContainer.appendChild(n.amPM));return n.timeContainer}());Yg(n.calendarContainer,"rangeMode","range"===n.config.mode),Yg(n.calendarContainer,"animate",!0===n.config.animate),Yg(n.calendarContainer,"multiMonth",n.config.showMonths>1),n.calendarContainer.appendChild(e);var s=void 0!==n.config.appendTo&&void 0!==n.config.appendTo.nodeType;if((n.config.inline||n.config.static)&&(n.calendarContainer.classList.add(n.config.inline?"inline":"static"),n.config.inline&&(!s&&n.element.parentNode?n.element.parentNode.insertBefore(n.calendarContainer,n._input.nextSibling):void 0!==n.config.appendTo&&n.config.appendTo.appendChild(n.calendarContainer)),n.config.static)){var a=Kg("div","flatpickr-wrapper");n.element.parentNode&&n.element.parentNode.insertBefore(a,n.element),a.appendChild(n.element),n.altInput&&a.appendChild(n.altInput),a.appendChild(n.calendarContainer)}n.config.static||n.config.inline||(void 0!==n.config.appendTo?n.config.appendTo:window.document.body).appendChild(n.calendarContainer)}(),function(){n.config.wrap&&["open","close","toggle","clear"].forEach((function(e){Array.prototype.forEach.call(n.element.querySelectorAll("[data-"+e+"]"),(function(t){return d(t,"click",n[e])}))}));if(n.isMobile)return void function(){var e=n.config.enableTime?n.config.noCalendar?"time":"datetime-local":"date";n.mobileInput=Kg("input",n.input.className+" flatpickr-mobile"),n.mobileInput.tabIndex=1,n.mobileInput.type=e,n.mobileInput.disabled=n.input.disabled,n.mobileInput.required=n.input.required,n.mobileInput.placeholder=n.input.placeholder,n.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",n.selectedDates.length>0&&(n.mobileInput.defaultValue=n.mobileInput.value=n.formatDate(n.selectedDates[0],n.mobileFormatStr));n.config.minDate&&(n.mobileInput.min=n.formatDate(n.config.minDate,"Y-m-d"));n.config.maxDate&&(n.mobileInput.max=n.formatDate(n.config.maxDate,"Y-m-d"));n.input.getAttribute("step")&&(n.mobileInput.step=String(n.input.getAttribute("step")));n.input.type="hidden",void 0!==n.altInput&&(n.altInput.type="hidden");try{n.input.parentNode&&n.input.parentNode.insertBefore(n.mobileInput,n.input.nextSibling)}catch(Yt){}d(n.mobileInput,"change",(function(e){n.setDate(Jg(e).value,!1,n.mobileFormatStr),K("onChange"),K("onClose")}))}();var e=Ug(F,50);n._debouncedChange=Ug($,300),n.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&d(n.daysContainer,"mouseover",(function(e){"range"===n.config.mode&&R(Jg(e))}));d(n._input,"keydown",A),void 0!==n.calendarContainer&&d(n.calendarContainer,"keydown",A);n.config.inline||n.config.static||d(window,"resize",e);void 0!==window.ontouchstart?d(window.document,"touchstart",T):d(window.document,"mousedown",T);d(window.document,"focus",T,{capture:!0}),!0===n.config.clickOpens&&(d(n._input,"focus",n.open),d(n._input,"click",n.open));void 0!==n.daysContainer&&(d(n.monthNav,"click",ee),d(n.monthNav,["keyup","increment"],u),d(n.daysContainer,"click",B));if(void 0!==n.timeContainer&&void 0!==n.minuteElement&&void 0!==n.hourElement){var t=function(e){return Jg(e).select()};d(n.timeContainer,["increment"],a),d(n.timeContainer,"blur",a,{capture:!0}),d(n.timeContainer,"click",m),d([n.hourElement,n.minuteElement],["focus","click"],t),void 0!==n.secondElement&&d(n.secondElement,"focus",(function(){return n.secondElement&&n.secondElement.select()})),void 0!==n.amPM&&d(n.amPM,"click",(function(e){a(e)}))}n.config.allowInput&&d(n._input,"blur",N)}(),(n.selectedDates.length||n.config.noCalendar)&&(n.config.enableTime&&l(n.config.noCalendar?n.latestSelectedDateObj:void 0),Q(!1)),s();var r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!n.isMobile&&r&&z(),K("onReady")}(),n}function ph(e,t){for(var n=Array.prototype.slice.call(e).filter((function(e){return e instanceof HTMLElement})),r=[],o=0;o<n.length;o++){var s=n[o];try{if(null!==s.getAttribute("data-fp-omit"))continue;void 0!==s._flatpickr&&(s._flatpickr.destroy(),s._flatpickr=void 0),s._flatpickr=$h(s,t||{}),r.push(s._flatpickr)}catch(a){console.error(a)}}return 1===r.length?r[0]:r}"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return ph(this,e)},HTMLElement.prototype.flatpickr=function(e){return ph([this],e)});var mh=function(e,t){return"string"==typeof e?ph(window.document.querySelectorAll(e),t):e instanceof Node?ph([e],t):ph(e,t)};function fh(e){let t;return{c(){t=q("div"),t.innerHTML='<input type="hidden" data-input=""/>',X(t,"class","flat-pickr")},m(n,r){H(n,t,r),e[7](t)},p:a,i:a,o:a,d(n){n&&z(t),e[7](null)}}}function gh(e,t,n){const r=ye();let o,s,{value:a}=t,{type:i}=t,{format:l}=t,{timeShow24Hr:c=!0}=t,{timeEnableSeconds:u=!0}=t;return fe((()=>(n(6,s=mh(o,{wrap:!0,enableTime:"date"!==i,enableSeconds:u,noCalendar:"time"===i,dateFormat:l,parseDate:(e,t)=>$o(e,t).toDate(),formatDate:(e,t)=>$o(e).format(t),time_24hr:c,static:!0,inline:!0,monthSelectorType:"static",onChange:e=>{if(e[0]){const t=a,o=$o(e[0]);if(n(1,a=o.format(l)),r("change",a),"date"===i)r("dateChange",a);else if("time"===i)r("timeChange",a);else{const e=$o(t,l);if(!e.isValid())return r("dateChange",a),void r("timeChange",a);e.format("YYYY-MM-DD")!==o.format("YYYY-MM-DD")&&r("dateChange",a),e.format("HH:mm")!==o.format("HH:mm")&&r("timeChange",a)}}}})),()=>s.destroy()))),e.$$set=e=>{"value"in e&&n(1,a=e.value),"type"in e&&n(2,i=e.type),"format"in e&&n(3,l=e.format),"timeShow24Hr"in e&&n(4,c=e.timeShow24Hr),"timeEnableSeconds"in e&&n(5,u=e.timeEnableSeconds)},e.$$.update=()=>{66&e.$$.dirty&&(null==a?s?.clear():s?.setDate(a))},[o,a,i,l,c,u,s,function(e){Ce[e?"unshift":"push"]((()=>{o=e,n(0,o)}))}]}mh.defaultConfig={},mh.l10ns={en:uh({},qg),default:uh({},qg)},mh.localize=function(e){mh.l10ns.default=uh(uh({},mh.l10ns.default),e)},mh.setDefaults=function(e){mh.defaultConfig=uh(uh({},mh.defaultConfig),e)},mh.parseDate=sh({}),mh.formatDate=oh({}),mh.compareDates=ah,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(e){return ph(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=mh);class hh extends ut{constructor(e){super(),ct(this,e,gh,fh,f,{value:1,type:2,format:3,timeShow24Hr:4,timeEnableSeconds:5})}}class yh{constructor(t,n){e(this,"delay",void 0),e(this,"value",void 0),e(this,"cancel",void 0),this.delay=n,this.value=pt(t)}subscribe(e){return this.value.subscribe(e)}setImmediately(e){this.cancel?.(),this.value.set(e)}setAfterDelay(e){this.cancel?.();const t=window.setTimeout((()=>{this.value.set(e)}),this.delay);this.cancel=()=>{window.clearTimeout(t)}}}class bh{constructor(t){e(this,"inputs",void 0),e(this,"output",void 0),this.inputs=new co,this.output=Po(mt(this.inputs,(e=>mt(Lo([...e]),t))))}registerInput(e){const t=Fo(e);return this.inputs.add(t),()=>this.inputs.delete(t)}subscribe(e,t){return this.output.subscribe(e,t)}}function vh(){return new bh((e=>e.some((e=>e))))}function wh(e){return e instanceof HTMLButtonElement&&null!==e.getAttribute("data-menu-item-sub-menu")}class _h{constructor(){e(this,"subMenus",new lo),e(this,"openedSubMenu",new yh(void 0,70)),e(this,"hasControlColumn",vh()),e(this,"hasIconColumn",vh()),e(this,"hasSubMenu",void 0),e(this,"hasSubMenuOpen",void 0),e(this,"openedSubMenuTimeoutId",void 0),this.hasSubMenu=mt(this.subMenus,(e=>e.size>0)),this.hasSubMenuOpen=mt(this.openedSubMenu,Boolean)}openSubMenuImmediately(e){wh(e)?this.openedSubMenu.setImmediately(e):this.closeSubMenuImmediately()}openSubMenuAfterDelay(e){wh(e)?this.openedSubMenu.setAfterDelay(e):this.closeSubMenuAfterDelay()}closeSubMenuImmediately(){this.openedSubMenu.setImmediately(void 0)}closeSubMenuAfterDelay(){this.openedSubMenu.setAfterDelay(void 0)}registerSubMenu(e){const[t,n]=function(){const e=new Set;return[function(t){for(const n of e)n(t)},function(t){return e.add(t),()=>e.delete(t)}]}(),r={isOpen:mt(this.openedSubMenu,(t=>t===e)),open:()=>{this.openSubMenuImmediately(e)},close:()=>{this.closeSubMenuImmediately(),e.focus()},handleMouseEnterContent:t};return this.subMenus.set(e,r),n((()=>this.openSubMenuImmediately(e))),r}unRegisterSubMenu(e){this.subMenus.delete(e)}}const xh=ss();function Ch(e){let t,n;const r=e[19].default,o=b(r,e,e[18],null);return{c(){t=q("div"),o&&o.c(),X(t,"class","menu"),X(t,"role","menu"),X(t,"style",e[2]),se(t,"has-icon",e[3]),se(t,"has-control",e[4]),se(t,"has-sub-menu",e[5])},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,s){o&&o.p&&(!n||262144&s)&&_(o,r,e,e[18],n?w(r,e[18],s,null):x(e[18]),null),(!n||4&s)&&X(t,"style",e[2]),(!n||8&s)&&se(t,"has-icon",e[3]),(!n||16&s)&&se(t,"has-control",e[4]),(!n||32&s)&&se(t,"has-sub-menu",e[5])},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function Sh(e){let t,n,r,o,s;const a=e[19].default,i=b(a,e,e[18],null);return{c(){t=q("div"),i&&i.c(),X(t,"class","menu"),X(t,"role","menu"),X(t,"style",e[2]),se(t,"has-icon",e[3]),se(t,"has-control",e[4]),se(t,"has-sub-menu",e[5]),se(t,"menu-modal",e[0])},m(a,l){H(a,t,l),i&&i.m(t,null),e[20](t),r=!0,o||(s=[Y(t,"mousemove",e[10]),Y(t,"mouseleave",e[11]),T(n=Oc.call(null,t,{autoFocus:!1,autoRestore:e[0].restoreFocusOnClose??!0}))],o=!0)},p(e,o){i&&i.p&&(!r||262144&o)&&_(i,a,e,e[18],r?w(a,e[18],o,null):x(e[18]),null),(!r||4&o)&&X(t,"style",e[2]),n&&$(n.update)&&1&o&&n.update.call(null,{autoFocus:!1,autoRestore:e[0].restoreFocusOnClose??!0}),(!r||8&o)&&se(t,"has-icon",e[3]),(!r||16&o)&&se(t,"has-control",e[4]),(!r||32&o)&&se(t,"has-sub-menu",e[5]),(!r||1&o)&&se(t,"menu-modal",e[0])},i(e){r||(je(i,e),r=!0)},o(e){Ue(i,e),r=!1},d(n){n&&z(t),i&&i.d(n),e[20](null),o=!1,d(s)}}}function kh(e){let t,n,r,o;const s=[Sh,Ch],a=[];function i(e,t){return e[0]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,[o]){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function Mh(e,t,n){let r,o,s,a,i,l,{$$slots:c={},$$scope:u}=t;const d=new _h;xh.set(d);const{hasControlColumn:$,hasIconColumn:p,hasSubMenu:m,hasSubMenuOpen:f}=d;y(e,$,(e=>n(4,i=e))),y(e,p,(e=>n(3,a=e))),y(e,m,(e=>n(5,l=e))),y(e,f,(e=>n(21,s=e)));let g,{style:h}=t,{iconWidth:b="1em"}=t,{controlWidth:v="1em"}=t,{cssVariables:w}=t,{modal:_}=t,{isSubMenu:x=!1}=t;function C(e){const t=[...rs(g)],n=(()=>{const n=document.activeElement,r=t.findIndex((e=>e===n));if(-1===r)return 0;const o=t.length;return((r+e)%o+o)%o})();Mo(t.at(n))}function S(e){if(!s){switch(e.key){case"Escape":_?.close();break;case"ArrowUp":C(-1);break;case"ArrowDown":C(1);break;case"ArrowRight":d.openSubMenuImmediately(e.target);break;case"ArrowLeft":if(!x)return;_?.close();break;default:return}e.stopPropagation(),e.preventDefault()}}return fe((()=>_?(window.addEventListener("keydown",S,{capture:!0}),()=>{window.removeEventListener("keydown",S,{capture:!0})}):()=>{})),e.$$set=e=>{"style"in e&&n(12,h=e.style),"iconWidth"in e&&n(13,b=e.iconWidth),"controlWidth"in e&&n(14,v=e.controlWidth),"cssVariables"in e&&n(15,w=e.cssVariables),"modal"in e&&n(0,_=e.modal),"isSubMenu"in e&&n(16,x=e.isSubMenu),"$$scope"in e&&n(18,u=e.$$scope)},e.$$.update=()=>{32768&e.$$.dirty&&n(17,r=w?Jo(w):""),159744&e.$$.dirty&&n(2,o=Qo(Jo({"--Menu__icon-width":b,"--Menu__control-width":v}),r,h))},[_,g,o,a,i,l,$,p,m,f,function(e){const t=os(e.target);t&&(Mo(t),d.openSubMenuAfterDelay(t))},function(){!function(e){wo(e,"blur")&&e.blur()}(document.activeElement)},h,b,v,w,x,r,u,c,function(e){Ce[e?"unshift":"push"]((()=>{g=e,n(1,g)}))}]}class Ih extends ut{constructor(e){super(),ct(this,e,Mh,kh,f,{style:12,iconWidth:13,controlWidth:14,cssVariables:15,modal:0,isSubMenu:16})}}const Th=e=>({}),Eh=e=>({slot:"trigger",close:e[10]}),Dh=e=>({close:1024&e}),Oh=e=>({close:e[10]});function Nh(e){let t,n;const r=[e[2]];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=4&n?rt(r,[ot(e[2])]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Ah(e){let t,n;return{c(){t=q("span"),n=j(e[0]),X(t,"class","label")},m(e,r){H(e,t,r),F(t,n)},p(e,t){1&t&&Q(n,e[0])},d(e){e&&z(t)}}}function Rh(e){let t;const n=e[6].trigger,r=b(n,e,e[9],Eh),o=r||function(e){let t,n,r,o=e[2]&&Nh(e),s=e[0]&&Ah(e);return{c(){t=q("span"),o&&o.c(),n=U(),s&&s.c(),X(t,"class","dropdown-menu-trigger svelte-pow2fb")},m(e,a){H(e,t,a),o&&o.m(t,null),F(t,n),s&&s.m(t,null),r=!0},p(e,r){e[2]?o?(o.p(e,r),4&r&&je(o,1)):(o=Nh(e),o.c(),je(o,1),o.m(t,n)):o&&(qe(),Ue(o,1,1,(()=>{o=null})),Be()),e[0]?s?s.p(e,r):(s=Ah(e),s.c(),s.m(t,null)):s&&(s.d(1),s=null)},i(e){r||(je(o),r=!0)},o(e){Ue(o),r=!1},d(e){e&&z(t),o&&o.d(),s&&s.d()}}}(e);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,s){r?r.p&&(!t||512&s)&&_(r,n,e,e[9],t?w(n,e[9],s,Th):x(e[9]),Eh):o&&o.p&&(!t||5&s)&&o.p(e,t?s:-1)},i(e){t||(je(o,e),t=!0)},o(e){Ue(o,e),t=!1},d(e){o&&o.d(e)}}}function Fh(e){let t;const n=e[6].default,r=b(n,e,e[9],Oh);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||1536&o)&&_(r,n,e,e[9],t?w(n,e[9],o,Dh):x(e[9]),Oh)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function Ph(e){let t,n;return t=new Ih({props:{style:"--Menu__min-width: 100%;"+e[4],modal:{close:e[10],closeRoot:e[10]},$$slots:{default:[Fh]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.style="--Menu__min-width: 100%;"+e[4]),1024&n&&(r.modal={close:e[10],closeRoot:e[10]}),1536&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Lh(e){let t,n;const r=[{closeOnInnerClick:e[3]},{ariaLabel:e[1]??e[0]},e[5]];let o={$$slots:{content:[Ph,({close:e})=>({10:e}),({close:e})=>e?1024:0],trigger:[Rh]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new _f({props:o}),t.$on("open",e[7]),t.$on("close",e[8]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const o=43&n?rt(r,[8&n&&{closeOnInnerClick:e[3]},3&n&&{ariaLabel:e[1]??e[0]},32&n&&ot(e[5])]):{};1557&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Hh(e,t,n){const r=["label","ariaLabel","icon","closeOnInnerClick","menuStyle"];let o=S(t,r),{$$slots:s={},$$scope:a}=t,{label:i=""}=t,{ariaLabel:c}=t,{icon:u}=t,{closeOnInnerClick:d=!0}=t,{menuStyle:$=""}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(5,o=S(t,r)),"label"in e&&n(0,i=e.label),"ariaLabel"in e&&n(1,c=e.ariaLabel),"icon"in e&&n(2,u=e.icon),"closeOnInnerClick"in e&&n(3,d=e.closeOnInnerClick),"menuStyle"in e&&n(4,$=e.menuStyle),"$$scope"in e&&n(9,a=e.$$scope)},[i,c,u,d,$,o,s,function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},a]}class zh extends ut{constructor(e){super(),ct(this,e,Hh,Lh,f,{label:0,ariaLabel:1,icon:2,closeOnInnerClick:3,menuStyle:4})}}function Vh(e){let t,n,r;const o=[e[2]];function s(t){e[3](t)}let a={};for(let i=0;i<o.length;i+=1)a=l(a,o[i]);return void 0!==e[0]&&(a.checked=e[0]),t=new x$({props:a}),Ce.push((()=>st(t,"checked",s))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const s=4&r?rt(o,[ot(e[2])]):{};!n&&1&r&&(n=!0,s.checked=e[0],Oe((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function qh(e){let t;return{c(){t=j("Toggle not implemented yet")},m(e,n){H(e,t,n)},p:a,i:a,o:a,d(e){e&&z(t)}}}function Bh(e){let t,n,r,o;const s=[qh,Vh],a=[];function i(e,t){return"toggle"===e[1]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,[o]){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function jh(e,t,n){const r=["value","interfaceType"];let o=S(t,r),{value:s=!1}=t,{interfaceType:a="checkbox"}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(2,o=S(t,r)),"value"in e&&n(0,s=e.value),"interfaceType"in e&&n(1,a=e.interfaceType)},[s,a,o,function(e){s=e,n(0,s)}]}class Uh extends ut{constructor(e){super(),ct(this,e,jh,Bh,f,{value:0,interfaceType:1})}}const Wh=e=>({option:1&e,label:17&e}),Yh=e=>({option:e[0],label:e[4](e[0])}),Kh=e=>({option:1&e,label:17&e}),Gh=e=>({option:e[0],label:e[4](e[0])}),Xh=e=>({}),Zh=e=>({option:e[29],label:e[30]}),Jh=e=>({option:536870912&e,label:1073741824&e}),Qh=e=>({option:e[29],label:e[30]});function ey(e){let t,n;return t=new $u({props:{arg:e[4](e[0])}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};17&n&&(r.arg=e[4](e[0])),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function ty(e){let t;const n=e[17].default,r=b(n,e,e[24],Yh);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||16777233&o)&&_(r,n,e,e[24],t?w(n,e[24],o,Wh):x(e[24]),Yh)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function ny(e){let t;const n=e[17].trigger,r=b(n,e,e[24],Gh);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||16777233&o)&&_(r,n,e,e[24],t?w(n,e[24],o,Kh):x(e[24]),Gh)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function ry(e){let t,n,r,o;const s=[ny,ty,ey],a=[];function i(e,t){return e[15].trigger?0:e[15].default?1:2}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function oy(e){let t,n;return t=new Af({props:{id:e[1]+"-select-options"}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.id=e[1]+"-select-options"),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function sy(e){let t,n;return t=new Af({props:{id:e[1]+"-select-options",$$slots:{default:[ay,({option:e,label:t})=>({29:e,30:t}),({option:e,label:t})=>(e?536870912:0)|(t?1073741824:0)]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.id=e[1]+"-select-options"),1627389952&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function ay(e){let t;const n=e[17].default,r=b(n,e,e[24],Qh);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||1627389952&o)&&_(r,n,e,e[24],t?w(n,e[24],o,Jh):x(e[24]),Qh)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function iy(e){let t;const n=e[17].empty,r=b(n,e,e[24],Zh);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||16777216&o)&&_(r,n,e,e[24],t?w(n,e[24],o,Xh):x(e[24]),Zh)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function ly(e){let t,n,r,o,s;const a=[sy,oy],i=[];function l(e,t){return e[15].default?0:1}t=l(e),n=i[t]=a[t](e);let c=0===e[5].length&&e[15].empty&&iy(e);return{c(){n.c(),r=U(),c&&c.c(),o=W()},m(e,n){i[t].m(e,n),H(e,r,n),c&&c.m(e,n),H(e,o,n),s=!0},p(e,s){let u=t;t=l(e),t===u?i[t].p(e,s):(qe(),Ue(i[u],1,1,(()=>{i[u]=null})),Be(),n=i[t],n?n.p(e,s):(n=i[t]=a[t](e),n.c()),je(n,1),n.m(r.parentNode,r)),0===e[5].length&&e[15].empty?c?(c.p(e,s),32800&s&&je(c,1)):(c=iy(e),c.c(),je(c,1),c.m(o.parentNode,o)):c&&(qe(),Ue(c,1,1,(()=>{c=null})),Be())},i(e){s||(je(n),je(c),s=!0)},o(e){Ue(n),Ue(c),s=!1},d(e){i[t].d(e),e&&z(r),c&&c.d(e),e&&z(o)}}}function cy(e){let t,n;return t=new _f({props:{ariaControls:e[1]+"-select-options",ariaLabel:e[10],isOpen:e[28],disabled:e[2],id:e[1],contentClass:["select",e[8],e[6]].join(" "),triggerAppearance:e[9],triggerClass:["input-element select full-width",e[8],e[7]].join(" "),$$slots:{content:[ly],trigger:[ry]},$$scope:{ctx:e}}}),t.$on("open",(function(){return e[18](e[27])})),t.$on("close",(function(){return e[19](e[27])})),t.$on("keydown",(function(...t){return e[20](e[27],...t)})),t.$on("focus",e[21]),t.$on("blur",e[22]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(n,r){e=n;const o={};2&r&&(o.ariaControls=e[1]+"-select-options"),1024&r&&(o.ariaLabel=e[10]),268435456&r&&(o.isOpen=e[28]),4&r&&(o.disabled=e[2]),2&r&&(o.id=e[1]),320&r&&(o.contentClass=["select",e[8],e[6]].join(" ")),512&r&&(o.triggerAppearance=e[9]),384&r&&(o.triggerClass=["input-element select full-width",e[8],e[7]].join(" ")),16810035&r&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function uy(e){let t,n,r,o;const s=[e[14],{id:e[1]},{disabled:e[2]}];let a={};for(let i=0;i<s.length;i+=1)a=l(a,s[i]);return t=new v$({props:a}),r=new Mf({props:{selectionType:"single",options:e[5],value:void 0!==e[0]?[e[0]]:[],labelKey:e[3],getLabel:e[4],checkEquality:e[11],checkIfOptionIsDisabled:e[12],$$slots:{default:[cy,({api:e,isOpen:t})=>({27:e,28:t}),({api:e,isOpen:t})=>(e?134217728:0)|(t?268435456:0)]},$$scope:{ctx:e}}}),r.$on("change",e[23]),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,s){it(t,e,s),H(e,n,s),it(r,e,s),o=!0},p(e,[n]){const o=16390&n?rt(s,[16384&n&&ot(e[14]),2&n&&{id:e[1]},4&n&&{disabled:e[2]}]):{};t.$set(o);const a={};32&n&&(a.options=e[5]),1&n&&(a.value=void 0!==e[0]?[e[0]]:[]),8&n&&(a.labelKey=e[3]),16&n&&(a.getLabel=e[4]),2048&n&&(a.checkEquality=e[11]),4096&n&&(a.checkIfOptionIsDisabled=e[12]),419465207&n&&(a.$$scope={dirty:n,ctx:e}),r.$set(a)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function dy(e,t,n){const r=["id","disabled","labelKey","getLabel","options","value","contentClass","triggerClass","class","triggerAppearance","ariaLabel","valuesAreEqual","isOptionDisabled","autoSelect"];let o=S(t,r),{$$slots:s={},$$scope:a}=t;const i=k(s),c=ye();let{id:u=ko()}=t,{disabled:d=!1}=t,{labelKey:$="label"}=t,{getLabel:p=(e=>To(e,$))}=t,{options:m}=t,{value:f}=t,{contentClass:g=""}=t,{triggerClass:h=""}=t,{class:y=""}=t,{triggerAppearance:b="default"}=t,{ariaLabel:v}=t,{valuesAreEqual:w=((e,t)=>e===t)}=t,{isOptionDisabled:_=(()=>!1)}=t,{autoSelect:x="first"}=t;function M(e){const t=e.find((e=>!_(e)));n(0,f=t),c("change",f),c("input",f),c("artificialChange",f),c("artificialInput",f)}return e.$$set=e=>{t=l(l({},t),C(e)),n(14,o=S(t,r)),"id"in e&&n(1,u=e.id),"disabled"in e&&n(2,d=e.disabled),"labelKey"in e&&n(3,$=e.labelKey),"getLabel"in e&&n(4,p=e.getLabel),"options"in e&&n(5,m=e.options),"value"in e&&n(0,f=e.value),"contentClass"in e&&n(6,g=e.contentClass),"triggerClass"in e&&n(7,h=e.triggerClass),"class"in e&&n(8,y=e.class),"triggerAppearance"in e&&n(9,b=e.triggerAppearance),"ariaLabel"in e&&n(10,v=e.ariaLabel),"valuesAreEqual"in e&&n(11,w=e.valuesAreEqual),"isOptionDisabled"in e&&n(12,_=e.isOptionDisabled),"autoSelect"in e&&n(16,x=e.autoSelect),"$$scope"in e&&n(24,a=e.$$scope)},e.$$.update=()=>{var t;32&e.$$.dirty&&(t=m,"none"!==x&&(t.length?void 0!==f&&t.some((e=>w(e,f)))||("first"===x?M(t):"clear"===x&&M([])):void 0!==f&&M([])))},[f,u,d,$,p,m,g,h,y,b,v,w,_,M,o,i,x,s,e=>e.open(),e=>e.close(),(e,t)=>e.handleKeyDown(t),function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},e=>M(e.detail),a]}class $y extends ut{constructor(e){super(),ct(this,e,dy,uy,f,{id:1,disabled:2,labelKey:3,getLabel:4,options:5,value:0,contentClass:6,triggerClass:7,class:8,triggerAppearance:9,ariaLabel:10,valuesAreEqual:11,isOptionDisabled:12,autoSelect:16})}}function py(e,t){return"boolean"===e||t?.[0]}function my(e){let t,n;const r=[e[4],{triggerAppearance:e[0]},{options:e[1]},{value:e[2]}];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new $y({props:o}),t.$on("change",e[3]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const o=23&n?rt(r,[16&n&&ot(e[4]),1&n&&{triggerAppearance:e[0]},2&n&&{options:e[1]},4&n&&{value:e[2]}]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function fy(e,t,n){let r,o;const s=["dataType","enumValues","options","triggerAppearance","value"];let a=S(t,s),{dataType:i}=t,{enumValues:c}=t,{options:u}=t,{triggerAppearance:d="default"}=t,{value:$=py(i,c)}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(4,a=S(t,s)),"dataType"in e&&n(6,i=e.dataType),"enumValues"in e&&n(7,c=e.enumValues),"options"in e&&n(8,u=e.options),"triggerAppearance"in e&&n(0,d=e.triggerAppearance),"value"in e&&n(5,$=e.value)},e.$$.update=()=>{448&e.$$.dirty&&n(1,r=function(e,t,n){return"boolean"===e?[{value:!0,label:n?.true?.label??"True"},{value:!1,label:n?.false?.label??"False"}]:t?.map((e=>({value:e,label:n?.[e]?.label??e})))||[]}(i,c,u)),34&e.$$.dirty&&n(2,o=function(e,t){return e.find((e=>e.value===t))}(r,$))},[d,r,o,function(e){n(5,$=e.detail?.value)},a,$,i,c,u]}class gy extends ut{constructor(e){super(),ct(this,e,fy,my,f,{dataType:6,enumValues:7,options:8,triggerAppearance:0,value:5})}}function hy(e){let t,n,r;const o=[e[2]];function s(t){e[4](t)}let a={};for(let i=0;i<o.length;i+=1)a=l(a,o[i]);return void 0!==e[0]&&(a.value=e[0]),t=new ym({props:a}),Ce.push((()=>st(t,"value",s))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const s=4&r?rt(o,[ot(e[2])]):{};!n&&1&r&&(n=!0,s.value=e[0],Oe((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function yy(e){let t,n,r;const o=[e[2]];function s(t){e[3](t)}let a={};for(let i=0;i<o.length;i+=1)a=l(a,o[i]);return void 0!==e[0]&&(a.value=e[0]),t=new Cg({props:a}),Ce.push((()=>st(t,"value",s))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const s=4&r?rt(o,[ot(e[2])]):{};!n&&1&r&&(n=!0,s.value=e[0],Oe((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function by(e){let t,n,r,o;const s=[yy,hy],a=[];function i(e,t){return"textarea"===e[1]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,[o]){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function vy(e,t,n){const r=["value","interfaceType"];let o=S(t,r),{value:s}=t,{interfaceType:a}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(2,o=S(t,r)),"value"in e&&n(0,s=e.value),"interfaceType"in e&&n(1,a=e.interfaceType)},[s,a,o,function(e){s=e,n(0,s)},function(e){s=e,n(0,s)}]}class wy extends ut{constructor(e){super(),ct(this,e,vy,by,f,{value:0,interfaceType:1})}}function _y(e){let t,n,r;const o=[e[5],{interfaceType:e[2]}];function s(t){e[9](t)}let a={};for(let i=0;i<o.length;i+=1)a=l(a,o[i]);return void 0!==e[0]&&(a.value=e[0]),t=new wy({props:a}),Ce.push((()=>st(t,"value",s))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const s=36&r?rt(o,[32&r&&ot(e[5]),4&r&&{interfaceType:e[2]}]):{};!n&&1&r&&(n=!0,s.value=e[0],Oe((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function xy(e){let t,n,r;const o=[e[5],{allowFloat:"float"===e[1]},{allowNegative:!0}];function s(t){e[8](t)}let a={};for(let i=0;i<o.length;i+=1)a=l(a,o[i]);return void 0!==e[0]&&(a.value=e[0]),t=new cf({props:a}),Ce.push((()=>st(t,"value",s))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const s=34&r?rt(o,[32&r&&ot(e[5]),2&r&&{allowFloat:"float"===e[1]},o[2]]):{};!n&&1&r&&(n=!0,s.value=e[0],Oe((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function Cy(e){let t,n,r;const o=[e[5],{interfaceType:e[2]}];function s(t){e[7](t)}let a={};for(let i=0;i<o.length;i+=1)a=l(a,o[i]);return void 0!==e[0]&&(a.value=e[0]),t=new Uh({props:a}),Ce.push((()=>st(t,"value",s))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const s=36&r?rt(o,[32&r&&ot(e[5]),4&r&&{interfaceType:e[2]}]):{};!n&&1&r&&(n=!0,s.value=e[0],Oe((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function Sy(e){let t,n,r;const o=[e[5],{enumValues:e[3]},{dataType:e[1]},{options:e[4]}];function s(t){e[6](t)}let a={};for(let i=0;i<o.length;i+=1)a=l(a,o[i]);return void 0!==e[0]&&(a.value=e[0]),t=new gy({props:a}),Ce.push((()=>st(t,"value",s))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const s=58&r?rt(o,[32&r&&ot(e[5]),8&r&&{enumValues:e[3]},2&r&&{dataType:e[1]},16&r&&{options:e[4]}]):{};!n&&1&r&&(n=!0,s.value=e[0],Oe((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function ky(e){let t,n,r,o;const s=[Sy,Cy,xy,_y],a=[];function i(e,t){return e[3]||"select"===e[2]?0:"boolean"===e[1]?1:"integer"===e[1]||"float"===e[1]?2:"string"===e[1]?3:-1}return~(t=i(e))&&(n=a[t]=s[t](e)),{c(){n&&n.c(),r=W()},m(e,n){~t&&a[t].m(e,n),H(e,r,n),o=!0},p(e,[o]){let l=t;t=i(e),t===l?~t&&a[t].p(e,o):(n&&(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be()),~t?(n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){~t&&a[t].d(e),e&&z(r)}}}function My(e,t,n){const r=["dataType","value","interfaceType","enum","options"];let o=S(t,r),{dataType:s="string"}=t,{value:a}=t,{interfaceType:i}=t,{enum:c}=t,{options:u}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(5,o=S(t,r)),"dataType"in e&&n(1,s=e.dataType),"value"in e&&n(0,a=e.value),"interfaceType"in e&&n(2,i=e.interfaceType),"enum"in e&&n(3,c=e.enum),"options"in e&&n(4,u=e.options)},[a,s,i,c,u,o,function(e){a=e,n(0,a)},function(e){a=e,n(0,a)},function(e){a=e,n(0,a)},function(e){a=e,n(0,a)}]}class Iy extends ut{constructor(e){super(),ct(this,e,My,ky,f,{dataType:1,value:0,interfaceType:2,enum:3,options:4})}}function Ty(e,t,n){const r=e.slice();r[18]=t[n];const o=Math.round(r[1]?.[r[18].fileId]??0);return r[19]=o,r}function Ey(e){let t,n,r=[],o=new Map,s=e[0];const a=e=>e[18].fileId;for(let i=0;i<s.length;i+=1){let t=Ty(e,s,i),n=a(t);o.set(n,r[i]=Dy(n,t))}return{c(){t=q("div");for(let e=0;e<r.length;e+=1)r[e].c();X(t,"class","files")},m(e,o){H(e,t,o);for(let n=0;n<r.length;n+=1)r[n].m(t,null);n=!0},p(e,n){3&n&&(s=e[0],qe(),r=nt(r,n,a,1,e,s,o,t,et,Dy,null,Ty),Be())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ue(r[t]);n=!1},d(e){e&&z(t);for(let t=0;t<r.length;t+=1)r[t].d()}}}function Dy(e,t){let n,r,o,s,a,i,c,u,d,$,p,m,f,g,h,y,b,v,w,_,x=t[18].file.name+"",C=t[19]+"",S=Io(t[18].file.size)+"";const k=[Ed];let M={};for(let I=0;I<k.length;I+=1)M=l(M,k[I]);return s=new Jd({props:M}),d=new ng({props:{percentage:t[19]}}),{key:e,first:null,c(){n=q("div"),r=q("div"),o=q("div"),at(s.$$.fragment),a=U(),i=q("span"),c=j(x),u=U(),at(d.$$.fragment),$=U(),p=q("div"),m=q("span"),f=j("Uploaded "),g=j(C),h=j("%"),y=U(),b=q("span"),v=j(S),w=U(),X(o,"class","file-name"),X(p,"class","upload-info"),X(r,"class","file-info"),X(n,"class","file"),this.first=n},m(e,t){H(e,n,t),F(n,r),F(r,o),it(s,o,null),F(o,a),F(o,i),F(i,c),F(r,u),it(d,r,null),F(r,$),F(r,p),F(p,m),F(m,f),F(m,g),F(m,h),F(p,y),F(p,b),F(b,v),F(n,w),_=!0},p(e,n){t=e;const r=0&n?rt(k,[ot(Ed)]):{};s.$set(r),(!_||1&n)&&x!==(x=t[18].file.name+"")&&Q(c,x);const o={};3&n&&(o.percentage=t[19]),d.$set(o),(!_||3&n)&&C!==(C=t[19]+"")&&Q(g,C),(!_||1&n)&&S!==(S=Io(t[18].file.size)+"")&&Q(v,S)},i(e){_||(je(s.$$.fragment,e),je(d.$$.fragment,e),_=!0)},o(e){Ue(s.$$.fragment,e),Ue(d.$$.fragment,e),_=!1},d(e){e&&z(n),lt(s),lt(d)}}}function Oy(e){let t,n,r,o;const s=e[10].default,a=b(s,e,e[9],null),i=a||function(e){let t,n,r,o,s,a;const i=[Td];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return r=new Jd({props:c}),{c(){t=q("div"),n=q("div"),at(r.$$.fragment),o=U(),s=q("div"),s.innerHTML='<div class="title">Drag a file here</div> \n            <div class="desc">or click to browse a file from your computer</div>',X(n,"class","icon-holder"),X(s,"class","text"),X(t,"class","message")},m(e,i){H(e,t,i),F(t,n),it(r,n,null),F(t,o),F(t,s),a=!0},p(e,t){const n=0&t?rt(i,[ot(Td)]):{};r.$set(n)},i(e){a||(je(r.$$.fragment,e),a=!0)},o(e){Ue(r.$$.fragment,e),a=!1},d(e){e&&z(t),lt(r)}}}();return{c(){t=q("label"),i&&i.c(),X(t,"tabindex","0"),X(t,"for",e[5]),X(t,"class","file-upload-trigger"),se(t,"dragging-over",e[4])},m(s,a){H(s,t,a),i&&i.m(t,null),n=!0,r||(o=[Y(t,"keydown",e[8]),Y(t,"drop",G(K(e[7]))),Y(t,"dragenter",G(K(e[11]))),Y(t,"dragover",G(K(e[12]))),Y(t,"dragleave",G(K(e[13]))),Y(t,"dragend",G(K(e[14])))],r=!0)},p(e,r){a&&a.p&&(!n||512&r)&&_(a,s,e,e[9],n?w(s,e[9],r,null):x(e[9]),null),(!n||16&r)&&se(t,"dragging-over",e[4])},i(e){n||(je(i,e),n=!0)},o(e){Ue(i,e),n=!1},d(e){e&&z(t),i&&i.d(e),r=!1,d(o)}}}function Ny(e){let t,n,r,o,s,a,i,l=e[0]&&e[0].length>0&&Ey(e),c=(e[2]||!e[0]||0===e[0].length)&&Oy(e);return{c(){t=q("div"),l&&l.c(),n=U(),r=q("input"),o=U(),c&&c.c(),X(r,"type","file"),X(r,"id",e[5]),r.multiple=e[2],te(r,"display","none"),X(t,"class","file-upload"),se(t,"disabled",e[3]),se(t,"inprogress",e[0]&&e[0].length>0)},m(u,d){H(u,t,d),l&&l.m(t,null),F(t,n),F(t,r),F(t,o),c&&c.m(t,null),s=!0,a||(i=Y(r,"change",e[6]),a=!0)},p(e,[o]){e[0]&&e[0].length>0?l?(l.p(e,o),1&o&&je(l,1)):(l=Ey(e),l.c(),je(l,1),l.m(t,n)):l&&(qe(),Ue(l,1,1,(()=>{l=null})),Be()),(!s||4&o)&&(r.multiple=e[2]),e[2]||!e[0]||0===e[0].length?c?(c.p(e,o),5&o&&je(c,1)):(c=Oy(e),c.c(),je(c,1),c.m(t,null)):c&&(qe(),Ue(c,1,1,(()=>{c=null})),Be()),(!s||8&o)&&se(t,"disabled",e[3]),(!s||1&o)&&se(t,"inprogress",e[0]&&e[0].length>0)},i(e){s||(je(l),je(c),s=!0)},o(e){Ue(l),Ue(c),s=!1},d(e){e&&z(t),l&&l.d(),c&&c.d(),a=!1,i()}}}function Ay(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=ye(),a=ko();let{fileProgress:i}=t,{multiple:l=!1}=t,{fileUploads:c}=t,{disabled:u=!1}=t,d=0,$=!1;function p(e,t){const r=[];for(const n of t)r.push({fileId:`${a}-${d}`,file:n}),d+=1;n(0,c=[...c||[],...r]),s("add",{added:r,all:c,originalEvent:e})}return e.$$set=e=>{"fileProgress"in e&&n(1,i=e.fileProgress),"multiple"in e&&n(2,l=e.multiple),"fileUploads"in e&&n(0,c=e.fileUploads),"disabled"in e&&n(3,u=e.disabled),"$$scope"in e&&n(9,o=e.$$scope)},[c,i,l,u,$,a,function(e){const t=e.target;t.files&&p(e,t.files),t.value=""},function(e){if(n(4,$=!1),!u){const t=e.dataTransfer?.files;if(!t||0===t.length)return;p(e,l?t:[t[0]])}},function(e){u||"Enter"!==e.key||e.target.click()},o,r,()=>{n(4,$=!0)},()=>{n(4,$=!0)},()=>{n(4,$=!1)},()=>{n(4,$=!1)}]}class Ry extends ut{constructor(e){super(),ct(this,e,Ay,Ny,f,{fileProgress:1,multiple:2,fileUploads:0,disabled:3})}}function Fy(e,t,n){const r=e.slice();return r[15]=t[n],r}function Py(e){let t,n,r;return n=new Hu({props:{appearance:"plain",tabindex:"0",role:"link","aria-label":"Previous",disabled:1===e[0],$$slots:{default:[Ly]},$$scope:{ctx:e}}}),n.$on("click",e[7]),{c(){t=q("li"),at(n.$$.fragment)},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};1&t&&(r.disabled=1===e[0]),262144&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function Ly(e){let t,n;const r=[_d,{tabindex:"-1"}];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[ot(_d),r[1]]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Hy(e){let t,n,r,o,s;n=new Hu({props:{tabindex:"0",appearance:"secondary",role:"link","aria-label":"Goto Page 1",class:"page",$$slots:{default:[zy]},$$scope:{ctx:e}}}),n.$on("click",e[8]);let a=e[3].start>2&&Vy(e);return{c(){t=q("li"),at(n.$$.fragment),r=U(),a&&a.c(),o=W()},m(e,i){H(e,t,i),it(n,t,null),H(e,r,i),a&&a.m(e,i),H(e,o,i),s=!0},p(e,t){const r={};262144&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r),e[3].start>2?a?(a.p(e,t),8&t&&je(a,1)):(a=Vy(e),a.c(),je(a,1),a.m(o.parentNode,o)):a&&(qe(),Ue(a,1,1,(()=>{a=null})),Be())},i(e){s||(je(n.$$.fragment,e),je(a),s=!0)},o(e){Ue(n.$$.fragment,e),Ue(a),s=!1},d(e){e&&z(t),lt(n),e&&z(r),a&&a.d(e),e&&z(o)}}}function zy(e){let t;return{c(){t=j("1")},m(e,n){H(e,t,n)},d(e){e&&z(t)}}}function Vy(e){let t,n,r;return n=new Hu({props:{tabindex:"0",role:"link",appearance:"plain","aria-label":"Goto Page "+e[3].prevPageWindow,$$slots:{default:[qy]},$$scope:{ctx:e}}}),n.$on("click",e[9]),{c(){t=q("li"),at(n.$$.fragment)},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};8&t&&(r["aria-label"]="Goto Page "+e[3].prevPageWindow),262144&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function qy(e){let t,n,r,o,s;const a=[{class:"ellipsis"},Id];let i={};for(let d=0;d<a.length;d+=1)i=l(i,a[d]);n=new Jd({props:i});const c=[{class:"arrow"},vd];let u={};for(let d=0;d<c.length;d+=1)u=l(u,c[d]);return o=new Jd({props:u}),{c(){t=q("span"),at(n.$$.fragment),r=U(),at(o.$$.fragment)},m(e,a){H(e,t,a),it(n,t,null),F(t,r),it(o,t,null),s=!0},p(e,t){const r=0&t?rt(a,[a[0],ot(Id)]):{};n.$set(r);const s=0&t?rt(c,[c[0],ot(vd)]):{};o.$set(s)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(n),lt(o)}}}function By(e){let t,n=e[15]+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8&r&&n!==(n=e[15]+"")&&Q(t,n)},d(e){e&&z(t)}}}function jy(e,t){let n,r,o;return r=new Hu({props:{tabindex:"0",appearance:"secondary",role:"link","aria-label":t[0]===t[15]?`Current Page, Page ${t[0]}`:`Goto Page ${t[15]}`,class:"page","data-page":t[15],"aria-selected":t[0]===t[15],$$slots:{default:[By]},$$scope:{ctx:t}}}),r.$on("click",(function(...e){return t[10](t[15],...e)})),{key:e,first:null,c(){n=q("li"),at(r.$$.fragment),se(n,"active",t[0]===t[15]),this.first=n},m(e,t){H(e,n,t),it(r,n,null),o=!0},p(e,s){t=e;const a={};9&s&&(a["aria-label"]=t[0]===t[15]?`Current Page, Page ${t[0]}`:`Goto Page ${t[15]}`),8&s&&(a["data-page"]=t[15]),9&s&&(a["aria-selected"]=t[0]===t[15]),262152&s&&(a.$$scope={dirty:s,ctx:t}),r.$set(a),(!o||9&s)&&se(n,"active",t[0]===t[15])},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r)}}}function Uy(e){let t,n,r,o,s=e[3].end<e[2]-1&&Wy(e);return r=new Hu({props:{tabindex:"0",appearance:"secondary",class:"page",role:"link","aria-label":"Goto Page "+e[2],$$slots:{default:[Ky]},$$scope:{ctx:e}}}),r.$on("click",e[12]),{c(){s&&s.c(),t=U(),n=q("li"),at(r.$$.fragment)},m(e,a){s&&s.m(e,a),H(e,t,a),H(e,n,a),it(r,n,null),o=!0},p(e,n){e[3].end<e[2]-1?s?(s.p(e,n),12&n&&je(s,1)):(s=Wy(e),s.c(),je(s,1),s.m(t.parentNode,t)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be());const o={};4&n&&(o["aria-label"]="Goto Page "+e[2]),262148&n&&(o.$$scope={dirty:n,ctx:e}),r.$set(o)},i(e){o||(je(s),je(r.$$.fragment,e),o=!0)},o(e){Ue(s),Ue(r.$$.fragment,e),o=!1},d(e){s&&s.d(e),e&&z(t),e&&z(n),lt(r)}}}function Wy(e){let t,n,r;return n=new Hu({props:{tabindex:"0",appearance:"plain",role:"link","aria-label":"Goto Page "+e[3].nextPageWindow,$$slots:{default:[Yy]},$$scope:{ctx:e}}}),n.$on("click",e[11]),{c(){t=q("li"),at(n.$$.fragment)},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};8&t&&(r["aria-label"]="Goto Page "+e[3].nextPageWindow),262144&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function Yy(e){let t,n,r,o,s;const a=[{class:"ellipsis"},Id];let i={};for(let d=0;d<a.length;d+=1)i=l(i,a[d]);n=new Jd({props:i});const c=[{class:"arrow"},bd];let u={};for(let d=0;d<c.length;d+=1)u=l(u,c[d]);return o=new Jd({props:u}),{c(){t=q("span"),at(n.$$.fragment),r=U(),at(o.$$.fragment)},m(e,a){H(e,t,a),it(n,t,null),F(t,r),it(o,t,null),s=!0},p(e,t){const r=0&t?rt(a,[a[0],ot(Id)]):{};n.$set(r);const s=0&t?rt(c,[c[0],ot(bd)]):{};o.$set(s)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(n),lt(o)}}}function Ky(e){let t;return{c(){t=j(e[2])},m(e,n){H(e,t,n)},p(e,n){4&n&&Q(t,e[2])},d(e){e&&z(t)}}}function Gy(e){let t,n,r;return n=new Hu({props:{tabindex:"0",appearance:"plain",role:"link","aria-label":"Next",disabled:e[0]===e[2],$$slots:{default:[Xy]},$$scope:{ctx:e}}}),n.$on("click",e[13]),{c(){t=q("li"),at(n.$$.fragment)},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};5&t&&(r.disabled=e[0]===e[2]),262144&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function Xy(e){let t,n;const r=[wd];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[ot(wd)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Zy(e){let t,n,r,o,s,a,i,l=[],c=new Map,u=e[2]>1&&Py(e),d=e[3].start>1&&Hy(e),$=e[3].currentWindow;const p=e=>e[15];for(let g=0;g<$.length;g+=1){let t=Fy(e,$,g),n=p(t);c.set(n,l[g]=jy(n,t))}let m=e[3].end<e[2]&&Uy(e),f=e[2]>1&&Gy(e);return{c(){t=q("nav"),n=q("ul"),u&&u.c(),r=U(),d&&d.c(),o=U();for(let e=0;e<l.length;e+=1)l[e].c();s=U(),m&&m.c(),a=U(),f&&f.c(),X(n,"class","pagination"),X(t,"aria-label",e[1])},m(e,c){H(e,t,c),F(t,n),u&&u.m(n,null),F(n,r),d&&d.m(n,null),F(n,o);for(let t=0;t<l.length;t+=1)l[t].m(n,null);F(n,s),m&&m.m(n,null),F(n,a),f&&f.m(n,null),i=!0},p(e,[g]){e[2]>1?u?(u.p(e,g),4&g&&je(u,1)):(u=Py(e),u.c(),je(u,1),u.m(n,r)):u&&(qe(),Ue(u,1,1,(()=>{u=null})),Be()),e[3].start>1?d?(d.p(e,g),8&g&&je(d,1)):(d=Hy(e),d.c(),je(d,1),d.m(n,o)):d&&(qe(),Ue(d,1,1,(()=>{d=null})),Be()),25&g&&($=e[3].currentWindow,qe(),l=nt(l,g,p,1,e,$,c,n,et,jy,s,Fy),Be()),e[3].end<e[2]?m?(m.p(e,g),12&g&&je(m,1)):(m=Uy(e),m.c(),je(m,1),m.m(n,a)):m&&(qe(),Ue(m,1,1,(()=>{m=null})),Be()),e[2]>1?f?(f.p(e,g),4&g&&je(f,1)):(f=Gy(e),f.c(),je(f,1),f.m(n,null)):f&&(qe(),Ue(f,1,1,(()=>{f=null})),Be()),(!i||2&g)&&X(t,"aria-label",e[1])},i(e){if(!i){je(u),je(d);for(let e=0;e<$.length;e+=1)je(l[e]);je(m),je(f),i=!0}},o(e){Ue(u),Ue(d);for(let t=0;t<l.length;t+=1)Ue(l[t]);Ue(m),Ue(f),i=!1},d(e){e&&z(t),u&&u.d(),d&&d.d();for(let t=0;t<l.length;t+=1)l[t].d();m&&m.d(),f&&f.d()}}}function Jy(e,t,n){let r,o;const s=ye();let{currentPage:a=1}=t,{pageSize:i=10}=t,{total:l=0}=t,{ariaLabel:c="Pagination"}=t;async function u(e,t){t>0&&t<=r&&a!==t&&(n(0,a=t),s("change",{currentPage:a,originalEvent:e})),await Ee();document.querySelector(`[data-page="${a}"]`)?.focus()}return e.$$set=e=>{"currentPage"in e&&n(0,a=e.currentPage),"pageSize"in e&&n(5,i=e.pageSize),"total"in e&&n(6,l=e.total),"ariaLabel"in e&&n(1,c=e.ariaLabel)},e.$$.update=()=>{96&e.$$.dirty&&n(2,r=function(e,t){return Math.ceil(e/t)}(l,i)),5&e.$$.dirty&&n(3,o=function(e,t){let n=Math.max(e-2,1),r=Math.min(n+4,t);r-n<4&&(n=Math.max(r-4,1)),r>t-2&&(n=Math.max(r-(6-(t-r)),1)),n<3&&(r=Math.min(r+2-(n-1),t));const o=function(e,t){const n=[];for(let r=e;r<=t;r+=1)n.push(r);return n}(n,r);return{currentWindow:o,start:n,end:r,prevPageWindow:Math.max(n-3,1),nextPageWindow:Math.min(r+3,t)}}(a,r))},[a,c,r,o,u,i,l,e=>u(e,a-1),e=>u(e,1),e=>u(e,o.prevPageWindow),(e,t)=>u(t,e),e=>u(e,o.nextPageWindow),e=>u(e,r),e=>u(e,a+1)]}class Qy extends ut{constructor(e){super(),ct(this,e,Jy,Zy,f,{currentPage:0,pageSize:5,total:6,ariaLabel:1})}}const eb=e=>({option:4194304&e,label:8388608&e}),tb=e=>({option:e[22],label:e[23]});function nb(e){let t;const n=e[13].default,r=b(n,e,e[18],tb),o=r||function(e){let t,n;return t=new $u({props:{arg:e[4](e[22])}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4194320&n&&(r.arg=e[4](e[22])),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}(e);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,s){r?r.p&&(!t||12845056&s)&&_(r,n,e,e[18],t?w(n,e[18],s,eb):x(e[18]),tb):o&&o.p&&(!t||4194320&s)&&o.p(e,t?s:-1)},i(e){t||(je(o,e),t=!0)},o(e){Ue(o,e),t=!1},d(e){o&&o.d(e)}}}function rb(e){let t,n;return t=new Af({props:{id:e[1],class:"input-element selection-list "+e[6],offsetOnFocus:e[8],userFocusable:!0,$$slots:{default:[nb,({option:e,label:t})=>({22:e,23:t}),({option:e,label:t})=>(e?4194304:0)|(t?8388608:0)]},$$scope:{ctx:e}}}),t.$on("keydown",(function(...t){return e[14](e[21],...t)})),t.$on("focus",e[15]),t.$on("blur",e[16]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(n,r){e=n;const o={};2&r&&(o.id=e[1]),64&r&&(o.class="input-element selection-list "+e[6]),256&r&&(o.offsetOnFocus=e[8]),12845072&r&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function ob(e){let t,n,r,o;const s=[e[11],{id:e[1]},{disabled:e[2]}];let a={};for(let i=0;i<s.length;i+=1)a=l(a,s[i]);return t=new v$({props:a}),r=new Mf({props:{selectionType:"single",options:e[5],value:void 0!==e[0]?[e[0]]:[],labelKey:e[3],getLabel:e[4],disabled:e[2],mode:"static",checkEquality:e[7],checkIfOptionIsDisabled:e[9],$$slots:{default:[rb,({api:e})=>({21:e}),({api:e})=>e?2097152:0]},$$scope:{ctx:e}}}),r.$on("change",e[17]),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,s){it(t,e,s),H(e,n,s),it(r,e,s),o=!0},p(e,[n]){const o=2054&n?rt(s,[2048&n&&ot(e[11]),2&n&&{id:e[1]},4&n&&{disabled:e[2]}]):{};t.$set(o);const a={};32&n&&(a.options=e[5]),1&n&&(a.value=void 0!==e[0]?[e[0]]:[]),8&n&&(a.labelKey=e[3]),16&n&&(a.getLabel=e[4]),4&n&&(a.disabled=e[2]),128&n&&(a.checkEquality=e[7]),512&n&&(a.checkIfOptionIsDisabled=e[9]),2359634&n&&(a.$$scope={dirty:n,ctx:e}),r.$set(a)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function sb(e,t,n){const r=["id","disabled","labelKey","getLabel","options","value","class","valuesAreEqual","autoSelect","offsetOnFocus","isOptionDisabled"];let o=S(t,r),{$$slots:s={},$$scope:a}=t;const i=ye();let{id:c=ko()}=t,{disabled:u=!1}=t,{labelKey:d="label"}=t,{getLabel:$=(e=>To(e,d))}=t,{options:p}=t,{value:m}=t,{class:f=""}=t,{valuesAreEqual:g=((e,t)=>e===t)}=t,{autoSelect:h="first"}=t,{offsetOnFocus:y=0}=t,{isOptionDisabled:b=(()=>!1)}=t;function v(e){n(0,[m]=e,m),i("change",m),i("input",m),i("artificialChange",m),i("artificialInput",m)}return e.$$set=e=>{t=l(l({},t),C(e)),n(11,o=S(t,r)),"id"in e&&n(1,c=e.id),"disabled"in e&&n(2,u=e.disabled),"labelKey"in e&&n(3,d=e.labelKey),"getLabel"in e&&n(4,$=e.getLabel),"options"in e&&n(5,p=e.options),"value"in e&&n(0,m=e.value),"class"in e&&n(6,f=e.class),"valuesAreEqual"in e&&n(7,g=e.valuesAreEqual),"autoSelect"in e&&n(12,h=e.autoSelect),"offsetOnFocus"in e&&n(8,y=e.offsetOnFocus),"isOptionDisabled"in e&&n(9,b=e.isOptionDisabled),"$$scope"in e&&n(18,a=e.$$scope)},e.$$.update=()=>{var t;32&e.$$.dirty&&(t=p,"none"!==h&&(t.length?void 0!==m&&t.some((e=>g(e,m)))||("first"===h?v(t):"clear"===h&&v([])):void 0!==m&&v([])))},[m,c,u,d,$,p,f,g,y,b,v,o,h,s,(e,t)=>e.handleKeyDown(t),function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},e=>v(e.detail),a]}class ab extends ut{constructor(e){super(),ct(this,e,sb,ob,f,{id:1,disabled:2,labelKey:3,getLabel:4,options:5,value:0,class:6,valuesAreEqual:7,autoSelect:12,offsetOnFocus:8,isOptionDisabled:9})}}function ib(e){let t,n,r,o,s,a,i;const c=e[10].default,u=b(c,e,e[9],null);let $=[{role:"tab"},{tabindex:"0"},{"aria-selected":e[3]},{"aria-disabled":n=!!e[1].disabled},{id:r=e[3]?`mtsr-${e[0]}-tab`:void 0},{"aria-controls":o=e[3]?`mtsr-${e[0]}-tabpanel`:void 0},e[5]],p={};for(let d=0;d<$.length;d+=1)p=l(p,$[d]);return{c(){t=q(e[6]),u&&u.c(),Z(t,p)},m(n,r){H(n,t,r),u&&u.m(t,null),s=!0,a||(i=[Y(t,"focus",e[11]),Y(t,"blur",e[12]),Y(t,"mousedown",e[13]),Y(t,"click",e[14])],a=!0)},p(e,a){u&&u.p&&(!s||512&a)&&_(u,c,e,e[9],s?w(c,e[9],a,null):x(e[9]),null),Z(t,p=rt($,[{role:"tab"},{tabindex:"0"},(!s||8&a)&&{"aria-selected":e[3]},(!s||2&a&&n!==(n=!!e[1].disabled))&&{"aria-disabled":n},(!s||9&a&&r!==(r=e[3]?`mtsr-${e[0]}-tab`:void 0))&&{id:r},(!s||9&a&&o!==(o=e[3]?`mtsr-${e[0]}-tabpanel`:void 0))&&{"aria-controls":o},32&a&&e[5]]))},i(e){s||(je(u,e),s=!0)},o(e){Ue(u,e),s=!1},d(e){e&&z(t),u&&u.d(e),a=!1,d(i)}}}function lb(e){let t,n,r,o=e[6],s=e[6]&&ib(e);return{c(){t=q("li"),s&&s.c(),X(t,"role","presentation"),X(t,"class","tab"),X(t,"tabindex","-1"),X(t,"style",n=e[4]?`width:${Math.floor(100/e[2])}%;`:void 0),se(t,"active",e[3])},m(e,n){H(e,t,n),s&&s.m(t,null),r=!0},p(e,[a]){e[6]?o?f(o,e[6])?(s.d(1),s=ib(e),s.c(),s.m(t,null)):s.p(e,a):(s=ib(e),s.c(),s.m(t,null)):o&&(s.d(1),s=null),o=e[6],(!r||20&a&&n!==(n=e[4]?`width:${Math.floor(100/e[2])}%;`:void 0))&&X(t,"style",n),(!r||8&a)&&se(t,"active",e[3])},i(e){r||(je(s),r=!0)},o(e){Ue(s),r=!1},d(e){e&&z(t),s&&s.d(e)}}}function cb(e,t,n){let r,o,s,{$$slots:a={},$$scope:i}=t,{componentId:l}=t,{tab:c}=t,{totalTabs:u}=t,{isActive:d=!1}=t,{uniformTabWidth:$=!0}=t,{link:p}=t;return e.$$set=e=>{"componentId"in e&&n(0,l=e.componentId),"tab"in e&&n(1,c=e.tab),"totalTabs"in e&&n(2,u=e.totalTabs),"isActive"in e&&n(3,d=e.isActive),"uniformTabWidth"in e&&n(4,$=e.uniformTabWidth),"link"in e&&n(7,p=e.link),"$$scope"in e&&n(9,i=e.$$scope)},e.$$.update=()=>{128&e.$$.dirty&&n(8,r=void 0!==p),256&e.$$.dirty&&n(6,o=r?"a":"div"),384&e.$$.dirty&&n(5,s=r?{href:p}:{})},[l,c,u,d,$,s,o,p,r,i,a,function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)}]}class ub extends ut{constructor(e){super(),ct(this,e,cb,lb,f,{componentId:0,tab:1,totalTabs:2,isActive:3,uniformTabWidth:4,link:7})}}const db=e=>({activeTab:1&e}),$b=e=>({activeTab:e[0]});function pb(e,t,n){const r=e.slice();return r[20]=t[n],r}const mb=e=>({tab:2&e,activeTab:1&e}),fb=e=>({tab:e[20],activeTab:e[0]});function gb(e){let t,n,r=[],o=new Map,s=e[1];const a=e=>e[20][e[2]]||e[20];for(let i=0;i<s.length;i+=1){let t=pb(e,s,i),n=a(t);o.set(n,r[i]=yb(n,t))}return{c(){t=q("ul");for(let e=0;e<r.length;e+=1)r[e].c();X(t,"role","tablist"),X(t,"class","tabs"),se(t,"fill-tab-width",e[4])},m(e,o){H(e,t,o);for(let n=0;n<r.length;n+=1)r[n].m(t,null);n=!0},p(e,i){269903&i&&(s=e[1],qe(),r=nt(r,i,a,1,e,s,o,t,et,yb,null,pb),Be()),(!n||16&i)&&se(t,"fill-tab-width",e[4])},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ue(r[t]);n=!1},d(e){e&&z(t);for(let t=0;t<r.length;t+=1)r[t].d()}}}function hb(e){let t,n;const r=e[16].tab,o=b(r,e,e[18],fb),s=o||function(e){let t,n=e[20][e[3]]+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){10&r&&n!==(n=e[20][e[3]]+"")&&Q(t,n)},d(e){e&&z(t)}}}(e);return{c(){s&&s.c(),t=U()},m(e,r){s&&s.m(e,r),H(e,t,r),n=!0},p(e,t){o?o.p&&(!n||262147&t)&&_(o,r,e,e[18],n?w(r,e[18],t,mb):x(e[18]),fb):s&&s.p&&(!n||10&t)&&s.p(e,n?t:-1)},i(e){n||(je(s,e),n=!0)},o(e){Ue(s,e),n=!1},d(e){s&&s.d(e),e&&z(t)}}}function yb(e,t){let n,r,o;return r=new ub({props:{componentId:t[9],tab:t[20],uniformTabWidth:t[6],link:t[12](t[20]),totalTabs:t[1].length,isActive:t[20][t[2]]===t[0]?.[t[2]],$$slots:{default:[hb]},$$scope:{ctx:t}}}),r.$on("focus",_b),r.$on("blur",xb),r.$on("click",t[11]),r.$on("mousedown",(function(...e){return t[17](t[20],...e)})),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};2&n&&(o.tab=t[20]),64&n&&(o.uniformTabWidth=t[6]),2&n&&(o.link=t[12](t[20])),2&n&&(o.totalTabs=t[1].length),7&n&&(o.isActive=t[20][t[2]]===t[0]?.[t[2]]),262155&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function bb(e){let t;const n=e[16].default,r=b(n,e,e[18],$b);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||262145&o)&&_(r,n,e,e[18],t?w(n,e[18],o,db):x(e[18]),$b)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function vb(e){let t,n,r,o,s,a=!e[8]&&gb(e),i=e[0]&&bb(e);return{c(){t=q("div"),a&&a.c(),n=U(),r=q("div"),o=q("div"),i&&i.c(),X(o,"role","tabpanel"),X(o,"aria-hidden","false"),X(o,"id","mtsr-"+e[9]+"-tabpanel"),X(o,"aria-labelledby","mtsr-"+e[9]+"-tab"),X(o,"tabindex","0"),X(r,"class","tab-content-holder"),X(t,"class","tab-container"),X(t,"role","navigation"),se(t,"fill-container-height",e[5]),se(t,"compact","compact"===e[7])},m(e,l){H(e,t,l),a&&a.m(t,null),F(t,n),F(t,r),F(r,o),i&&i.m(o,null),s=!0},p(e,[r]){e[8]?a&&(qe(),Ue(a,1,1,(()=>{a=null})),Be()):a?(a.p(e,r),256&r&&je(a,1)):(a=gb(e),a.c(),je(a,1),a.m(t,n)),e[0]?i?(i.p(e,r),1&r&&je(i,1)):(i=bb(e),i.c(),je(i,1),i.m(o,null)):i&&(qe(),Ue(i,1,1,(()=>{i=null})),Be()),(!s||32&r)&&se(t,"fill-container-height",e[5]),(!s||128&r)&&se(t,"compact","compact"===e[7])},i(e){s||(je(a),je(i),s=!0)},o(e){Ue(a),Ue(i),s=!1},d(e){e&&z(t),a&&a.d(),i&&i.d()}}}let wb=0;function _b(e){e.target.parentElement.classList.add("focused")}function xb(e){e.target.parentElement.classList.remove("focused")}function Cb(e,t,n){let r,{$$slots:o={},$$scope:s}=t;const a=ye(),i=(wb+=1,wb);let{tabs:l=[]}=t,{activeTab:c=l[0]}=t,{idKey:u="id"}=t,{labelKey:d="label"}=t,{linkKey:$="href"}=t,{preventDefault:p=!1}=t,{fillTabWidth:m=!1}=t,{fillContainerHeight:f=!1}=t,{uniformTabWidth:g=!0}=t,{tabStyle:h="default"}=t,{hideTabsInCaseOfSingleTab:y=!1}=t;function b(e,t){!!t[$]||n(0,c=t),a("tabSelected",{tab:t,originalEvent:e})}return e.$$set=e=>{"tabs"in e&&n(1,l=e.tabs),"activeTab"in e&&n(0,c=e.activeTab),"idKey"in e&&n(2,u=e.idKey),"labelKey"in e&&n(3,d=e.labelKey),"linkKey"in e&&n(13,$=e.linkKey),"preventDefault"in e&&n(14,p=e.preventDefault),"fillTabWidth"in e&&n(4,m=e.fillTabWidth),"fillContainerHeight"in e&&n(5,f=e.fillContainerHeight),"uniformTabWidth"in e&&n(6,g=e.uniformTabWidth),"tabStyle"in e&&n(7,h=e.tabStyle),"hideTabsInCaseOfSingleTab"in e&&n(15,y=e.hideTabsInCaseOfSingleTab),"$$scope"in e&&n(18,s=e.$$scope)},e.$$.update=()=>{32770&e.$$.dirty&&n(8,r=y&&1===l.length)},[c,l,u,d,m,f,g,h,r,i,b,function(e){if(p){e.preventDefault();e.target.closest('a[role="tab"]')?.focus?.()}},function(e){return e[$]},$,p,y,o,(e,t)=>b(t,e),s]}class Sb extends ut{constructor(e){super(),ct(this,e,Cb,vb,f,{tabs:1,activeTab:0,idKey:2,labelKey:3,linkKey:13,preventDefault:14,fillTabWidth:4,fillContainerHeight:5,uniformTabWidth:6,tabStyle:7,hideTabsInCaseOfSingleTab:15})}}const kb={body:"Are you sure?",proceedButton:{label:"Yes"},cancelButton:{label:"Cancel"},onProceed:()=>Promise.resolve(),onSuccess:()=>{},onError:()=>{}};class Mb{constructor(t,n){e(this,"modal",void 0),e(this,"confirmationProps",void 0),e(this,"resolve",pt((()=>{}))),e(this,"canProceed",pt(!0)),this.modal=t,this.confirmationProps=pt(n)}}class Ib{constructor({modalId:t,modalStackStore:n}){e(this,"modalId",void 0),e(this,"modalStackStore",void 0),e(this,"isOpen",void 0),e(this,"isOnTop",void 0),e(this,"options",pt(void 0)),this.modalId=t,this.modalStackStore=n,this.isOpen=function({modalId:e,modalStackStore:t}){return{subscribe:n=>t.subscribe((t=>{n(t.has(e))})),update(n){t.update((t=>{const r=t.has(e);return n(r)?t.withModalOnTop(e):r?t.without(e):t}))},set(n){n?t.update((t=>t.withModalOnTop(e))):t.update((t=>t.without(e)))}}}({modalId:t,modalStackStore:n}),this.isOnTop=mt(this.modalStackStore,(e=>e.isOnTop(this.modalId)))}open(...e){this.options.set(e[0]),this.isOpen.set(!0)}close(){this.isOpen.set(!1),this.options.set(void 0)}}class Tb{constructor(t){e(this,"idSet",void 0),this.idSet=new so(t)}ids(){return this.idSet.values()}get size(){return this.idSet.size}has(e){return this.idSet.has(e)}isOnTop(e){return this.idSet.values().next().value===e}withModalOnTop(e){return new Tb(new so([e]).union(this.idSet).values())}without(e){return new Tb(this.idSet.without(e).values())}}const Eb=e=>({}),Db=e=>({}),Ob=e=>({}),Nb=e=>({});function Ab(e){let t,n,r,o,s,a,i=(e[0]??"")+"";const l=e[6].title,c=b(l,e,e[7],Nb);let u=e[1]&&Rb(e);return{c(){t=q("div"),n=q("div"),c&&c.c(),r=U(),o=j(i),s=U(),u&&u.c(),X(n,"class","title"),X(n,"data-window-area","title"),X(t,"class","title-bar"),X(t,"data-window-area","title-bar")},m(e,i){H(e,t,i),F(t,n),c&&c.m(n,null),F(n,r),F(n,o),F(t,s),u&&u.m(t,null),a=!0},p(e,n){c&&c.p&&(!a||128&n)&&_(c,l,e,e[7],a?w(l,e[7],n,Ob):x(e[7]),Nb),(!a||1&n)&&i!==(i=(e[0]??"")+"")&&Q(o,i),e[1]?u?(u.p(e,n),2&n&&je(u,1)):(u=Rb(e),u.c(),je(u,1),u.m(t,null)):u&&(qe(),Ue(u,1,1,(()=>{u=null})),Be())},i(e){a||(je(c,e),je(u),a=!0)},o(e){Ue(c,e),Ue(u),a=!1},d(e){e&&z(t),c&&c.d(e),u&&u.d()}}}function Rb(e){let t,n;return t=new Hu({props:{appearance:"plain",tabIndex:Lb,$$slots:{default:[Fb]},$$scope:{ctx:e}}}),t.$on("click",e[4]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};128&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Fb(e){let t,n;const r=[xd];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[ot(xd)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Pb(e){let t,n,r,o,s,a,i=(e[5].title||e[0]||e[1])&&Ab(e);const l=e[6].default,c=b(l,e,e[7],null),u=e[6].footer,d=b(u,e,e[7],Db);return{c(){t=q("div"),i&&i.c(),n=U(),r=q("div"),c&&c.c(),o=U(),s=q("div"),d&&d.c(),X(r,"class","body"),X(r,"data-window-area","body"),X(s,"class","footer"),X(s,"data-window-area","footer"),X(t,"class","window"),X(t,"data-window-area","window"),se(t,"can-scroll-body",e[2]),se(t,"has-body-padding",e[3])},m(e,l){H(e,t,l),i&&i.m(t,null),F(t,n),F(t,r),c&&c.m(r,null),F(t,o),F(t,s),d&&d.m(s,null),a=!0},p(e,[r]){e[5].title||e[0]||e[1]?i?(i.p(e,r),35&r&&je(i,1)):(i=Ab(e),i.c(),je(i,1),i.m(t,n)):i&&(qe(),Ue(i,1,1,(()=>{i=null})),Be()),c&&c.p&&(!a||128&r)&&_(c,l,e,e[7],a?w(l,e[7],r,null):x(e[7]),null),d&&d.p&&(!a||128&r)&&_(d,u,e,e[7],a?w(u,e[7],r,Eb):x(e[7]),Db),(!a||4&r)&&se(t,"can-scroll-body",e[2]),(!a||8&r)&&se(t,"has-body-padding",e[3])},i(e){a||(je(i),je(c,e),je(d,e),a=!0)},o(e){Ue(i),Ue(c,e),Ue(d,e),a=!1},d(e){e&&z(t),i&&i.d(),c&&c.d(e),d&&d.d(e)}}}const Lb=9999;function Hb(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=k(r),a=ye();let{title:i}=t,{hasCloseButton:l=!0}=t,{canScrollBody:c=!0}=t,{hasBodyPadding:u=!0}=t;return e.$$set=e=>{"title"in e&&n(0,i=e.title),"hasCloseButton"in e&&n(1,l=e.hasCloseButton),"canScrollBody"in e&&n(2,c=e.canScrollBody),"hasBodyPadding"in e&&n(3,u=e.hasBodyPadding),"$$scope"in e&&n(7,o=e.$$scope)},[i,l,c,u,function(){a("close")},s,r,o]}class zb extends ut{constructor(e){super(),ct(this,e,Hb,Pb,f,{title:0,hasCloseButton:1,canScrollBody:2,hasBodyPadding:3})}}const{window:Vb}=Je,qb=e=>({}),Bb=e=>({}),jb=e=>({}),Ub=e=>({slot:"footer"});function Wb(e){let t,n,r,o,s,a,i,l,c,u=e[4]&&Yb(e);return o=new zb({props:{canScrollBody:e[5],hasCloseButton:e[6],$$slots:{footer:[Xb],title:[Gb],default:[Kb]},$$scope:{ctx:e}}}),o.$on("close",e[7]),{c(){t=q("div"),u&&u.c(),n=U(),r=q("div"),at(o.$$.fragment),X(r,"class","window-positioner"),se(r,"width-regular","regular"===e[3]),se(r,"width-medium","medium"===e[3]),se(r,"width-large","large"===e[3]),X(t,"class","modal"),X(t,"data-modal-id",e[1])},m(e,s){H(e,t,s),u&&u.m(t,null),F(t,n),F(t,r),it(o,r,null),i=!0,l||(c=[T(Oc.call(null,r)),T(Mc.call(null,t))],l=!0)},p(e,s){e[4]?u?(u.p(e,s),16&s&&je(u,1)):(u=Yb(e),u.c(),je(u,1),u.m(t,n)):u&&(qe(),Ue(u,1,1,(()=>{u=null})),Be());const a={};32&s&&(a.canScrollBody=e[5]),64&s&&(a.hasCloseButton=e[6]),8196&s&&(a.$$scope={dirty:s,ctx:e}),o.$set(a),(!i||8&s)&&se(r,"width-regular","regular"===e[3]),(!i||8&s)&&se(r,"width-medium","medium"===e[3]),(!i||8&s)&&se(r,"width-large","large"===e[3]),(!i||2&s)&&X(t,"data-modal-id",e[1])},i(e){i||(je(u),je(o.$$.fragment,e),De((()=>{a&&a.end(1),s=Ye(r,hg,{y:20,duration:150}),s.start()})),i=!0)},o(e){Ue(u),Ue(o.$$.fragment,e),s&&s.invalidate(),a=Ke(r,hg,{y:20,duration:150}),i=!1},d(e){e&&z(t),u&&u.d(),lt(o),e&&a&&a.end(),l=!1,d(c)}}}function Yb(e){let t,n,r,o,s,i;return{c(){t=q("div"),X(t,"class","overlay")},m(n,r){H(n,t,r),o=!0,s||(i=Y(t,"click",e[9]),s=!0)},p:a,i(e){o||(De((()=>{r&&r.end(1),n=Ye(t,gg,{duration:150}),n.start()})),o=!0)},o(e){n&&n.invalidate(),r=Ke(t,gg,{duration:150}),o=!1},d(e){e&&z(t),e&&r&&r.end(),s=!1,i()}}}function Kb(e){let t;const n=e[12].default,r=b(n,e,e[13],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||8192&o)&&_(r,n,e,e[13],t?w(n,e[13],o,null):x(e[13]),null)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function Gb(e){let t,n,r,o=(e[2]??"")+"";const s=e[12].title,a=b(s,e,e[13],Bb);return{c(){t=q("div"),a&&a.c(),n=j(o),X(t,"slot","title")},m(e,o){H(e,t,o),a&&a.m(t,null),F(t,n),r=!0},p(e,t){a&&a.p&&(!r||8192&t)&&_(a,s,e,e[13],r?w(s,e[13],t,qb):x(e[13]),Bb),(!r||4&t)&&o!==(o=(e[2]??"")+"")&&Q(n,o)},i(e){r||(je(a,e),r=!0)},o(e){Ue(a,e),r=!1},d(e){e&&z(t),a&&a.d(e)}}}function Xb(e){let t;const n=e[12].footer,r=b(n,e,e[13],Ub);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||8192&o)&&_(r,n,e,e[13],t?w(n,e[13],o,jb):x(e[13]),Ub)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function Zb(e){let t,n,r,o,s=e[0]&&Wb(e);return{c(){s&&s.c(),t=W()},m(a,i){s&&s.m(a,i),H(a,t,i),n=!0,r||(o=Y(Vb,"keydown",e[8]),r=!0)},p(e,[n]){e[0]?s?(s.p(e,n),1&n&&je(s,1)):(s=Wb(e),s.c(),je(s,1),s.m(t.parentNode,t)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be())},i(e){n||(je(s),n=!0)},o(e){Ue(s),n=!1},d(e){s&&s.d(e),e&&z(t),r=!1,o()}}}function Jb(e,t,n){let r,o,s,{$$slots:a={},$$scope:i}=t;const l=ye();let c,{modalId:u}=t,{isOpen:d=!1}=t,{title:$}=t,{size:p="regular"}=t,{allowClose:m=!0}=t,{hasOverlay:f=!0}=t,{closeOn:g=["button"]}=t,{canScrollBody:h=!0}=t;function y(){n(0,d=!1)}async function b(e){await Ee(),e?(c=document.activeElement??void 0,l("open")):(Mo(c),c=void 0,l("close"))}return e.$$set=e=>{"modalId"in e&&n(1,u=e.modalId),"isOpen"in e&&n(0,d=e.isOpen),"title"in e&&n(2,$=e.title),"size"in e&&n(3,p=e.size),"allowClose"in e&&n(10,m=e.allowClose),"hasOverlay"in e&&n(4,f=e.hasOverlay),"closeOn"in e&&n(11,g=e.closeOn),"canScrollBody"in e&&n(5,h=e.canScrollBody),"$$scope"in e&&n(13,i=e.$$scope)},e.$$.update=()=>{3072&e.$$.dirty&&n(6,r=m&&g.includes("button")),3072&e.$$.dirty&&(o=m&&g.includes("esc")),3072&e.$$.dirty&&(s=m&&g.includes("overlay")),1&e.$$.dirty&&b(d)},[d,u,$,p,f,h,r,y,function(e){"Escape"===e.key&&d&&o&&y()},function(){s&&y()},m,g,a,i]}class Qb extends ut{constructor(e){super(),ct(this,e,Jb,Zb,f,{modalId:1,isOpen:0,title:2,size:3,allowClose:10,hasOverlay:4,closeOn:11,canScrollBody:5})}}const ev=e=>({options:64&e}),tv=e=>({options:e[6]}),nv=e=>({options:64&e}),rv=e=>({slot:"title",options:e[6]}),ov=e=>({options:64&e}),sv=e=>({slot:"footer",options:e[6]});function av(e){let t;const n=e[13].default,r=b(n,e,e[17],tv);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||131136&o)&&_(r,n,e,e[17],t?w(n,e[17],o,ev):x(e[17]),tv)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function iv(e){let t;const n=e[13].title,r=b(n,e,e[17],rv);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||131136&o)&&_(r,n,e,e[17],t?w(n,e[17],o,nv):x(e[17]),rv)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function lv(e){let t;const n=e[13].footer,r=b(n,e,e[17],sv);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||131136&o)&&_(r,n,e,e[17],t?w(n,e[17],o,ov):x(e[17]),sv)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function cv(e){let t,n,r;function o(t){e[14](t)}let s={hasOverlay:e[11],title:e[1],size:e[2],allowClose:e[3]&&e[11],closeOn:e[4],canScrollBody:e[5],modalId:e[0].modalId,$$slots:{footer:[lv],title:[iv],default:[av]},$$scope:{ctx:e}};return void 0!==e[10]&&(s.isOpen=e[10]),t=new Qb({props:s}),Ce.push((()=>st(t,"isOpen",o))),t.$on("open",e[15]),t.$on("close",e[16]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,[r]){const o={};2048&r&&(o.hasOverlay=e[11]),2&r&&(o.title=e[1]),4&r&&(o.size=e[2]),2056&r&&(o.allowClose=e[3]&&e[11]),16&r&&(o.closeOn=e[4]),32&r&&(o.canScrollBody=e[5]),1&r&&(o.modalId=e[0].modalId),131136&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1024&r&&(n=!0,o.isOpen=e[10],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function uv(e,t,n){let r,o,s,i,l,c,u,d=a,$=a,p=a;e.$$.on_destroy.push((()=>d())),e.$$.on_destroy.push((()=>$())),e.$$.on_destroy.push((()=>p()));let{$$slots:m={},$$scope:f}=t,{controller:h}=t,{title:y}=t,{size:b}=t,{allowClose:v=!0}=t,{closeOn:w=["button"]}=t,{canScrollBody:_=!0}=t;return e.$$set=e=>{"controller"in e&&n(0,h=e.controller),"title"in e&&n(1,y=e.title),"size"in e&&n(2,b=e.size),"allowClose"in e&&n(3,v=e.allowClose),"closeOn"in e&&n(4,w=e.closeOn),"canScrollBody"in e&&n(5,_=e.canScrollBody),"$$scope"in e&&n(17,f=e.$$scope)},e.$$.update=()=>{1&e.$$.dirty&&(n(9,({isOpen:r,isOnTop:o,options:s}=h),r,(n(8,o),p(),p=g(o,(e=>n(11,u=e))),o),(n(7,s),d(),d=g(s,(e=>n(12,l=e))),s)),$(),$=g(r,(e=>n(10,c=e)))),4096&e.$$.dirty&&n(6,i=l)},[h,y,b,v,w,_,i,s,o,r,c,u,l,m,function(e){c=e,r.set(c)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},f]}class dv extends ut{constructor(e){super(),ct(this,e,uv,cv,f,{controller:0,title:1,size:2,allowClose:3,closeOn:4,canScrollBody:5})}}function $v(e){let t,n;return t=new $u({props:{arg:e[4]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.arg=e[4]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function pv(e){let t,n;return t=new $u({props:{arg:e[5]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.arg=e[5]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function mv(e){let t,n,r=e[5]&&pv(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){e[5]?r?(r.p(e,n),32&n&&je(r,1)):(r=pv(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function fv(e){let t,n;return t=new m$({props:{slot:"footer",cancelButton:e[2],proceedButton:e[3],onCancel:e[10],onProceed:e[11],canProceed:e[9]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.cancelButton=e[2]),8&n&&(r.proceedButton=e[3]),512&n&&(r.canProceed=e[9]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function gv(e){let t,n;return t=new dv({props:{controller:e[1],allowClose:e[0],closeOn:["button","esc","overlay"],$$slots:{footer:[fv],title:[mv],default:[$v]},$$scope:{ctx:e}}}),t.$on("close",e[12]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.controller=e[1]),1&n&&(r.allowClose=e[0]),524860&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function hv(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,y,b=a,v=a,w=a;e.$$.on_destroy.push((()=>b())),e.$$.on_destroy.push((()=>v())),e.$$.on_destroy.push((()=>w()));let{controller:_}=t,x=!0;return e.$$set=e=>{"controller"in e&&n(13,_=e.controller)},e.$$.update=()=>{8192&e.$$.dirty&&n(1,({modal:r,confirmationProps:o,resolve:s,canProceed:i}=_),r,(n(8,o),v(),v=g(o,(e=>n(14,h=e))),o),(n(7,s),b(),b=g(s,(e=>n(18,f=e))),s),(n(6,i),w(),w=g(i,(e=>n(9,y=e))),i)),16384&e.$$.dirty&&n(5,({title:l,body:c,proceedButton:u,cancelButton:d,onProceed:$,onSuccess:p,onError:m}=h),l,(n(4,c),n(14,h)),(n(3,u),n(14,h)),(n(2,d),n(14,h)))},[x,r,d,u,c,l,i,s,o,y,function(){f(!1),r.close()},async function(){try{n(0,x=!1);const e=await $();p(e),f(!0),r.close()}catch(Ln){m(Ln),r.close()}finally{n(0,x=!0)}},function(){f(!1),n(0,x=!0)},_,h]}class yv extends ut{constructor(e){super(),ct(this,e,hv,gv,f,{controller:13})}}function bv(e){return{text:e,isMatch:!0}}function vv(e){return{text:e,isMatch:!1}}function wv(e,t){if(0===e.length)return[];if(0===t.length)return[vv(e)];const n=Go(e),r=Go(t),o=[];let s=0;for(;;){const a=n.indexOf(r,s);if(-1===a){s<n.length&&o.push(vv(e.slice(s)));break}a>s&&o.push(vv(e.substring(s,a))),o.push(bv(e.substring(a,a+t.length))),s=a+t.length}return o}function _v(e){return e?"exactMatch":"noMatch"}function xv(e,t,n){if(null!=e&&""!==e)return n&&n(t)===e?"exactMatch":_v(e===t||String(e)===String(t))}function Cv(e){let t,n;const r=e[1].default,o=b(r,e,e[0],null);return{c(){t=q("span"),o&&o.c(),X(t,"class","match svelte-1ado8x1")},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&_(o,r,e,e[0],n?w(r,e[0],t,null):x(e[0]),null)},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function Sv(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,r]}class kv extends ut{constructor(e){super(),ct(this,e,Sv,Cv,f,{})}}function Mv(e,t,n){const r=e.slice();return r[3]=t[n],r}function Iv(e){let t,n=e[3].text+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1&r&&n!==(n=e[3].text+"")&&Q(t,n)},i:a,o:a,d(e){e&&z(t)}}}function Tv(e){let t,n,r;var o=e[1];function s(e){return{props:{$$slots:{default:[Ev]},$$scope:{ctx:e}}}}return o&&(t=new o(s(e))),{c(){t&&at(t.$$.fragment),n=W()},m(e,o){t&&it(t,e,o),H(e,n,o),r=!0},p(e,r){const a={};if(65&r&&(a.$$scope={dirty:r,ctx:e}),o!==(o=e[1])){if(t){qe();const e=t;Ue(e.$$.fragment,1,0,(()=>{lt(e,1)})),Be()}o?(t=new o(s(e)),at(t.$$.fragment),je(t.$$.fragment,1),it(t,n.parentNode,n)):t=null}else o&&t.$set(a)},i(e){r||(t&&je(t.$$.fragment,e),r=!0)},o(e){t&&Ue(t.$$.fragment,e),r=!1},d(e){e&&z(n),t&&lt(t,e)}}}function Ev(e){let t,n=e[3].text+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1&r&&n!==(n=e[3].text+"")&&Q(t,n)},d(e){e&&z(t)}}}function Dv(e){let t,n,r,o;const s=[Tv,Iv],a=[];function i(e,t){return e[3].isMatch?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function Ov(e){let t,n,r=e[0],o=[];for(let a=0;a<r.length;a+=1)o[a]=Dv(Mv(e,r,a));const s=e=>Ue(o[e],1,1,(()=>{o[e]=null}));return{c(){t=q("span");for(let e=0;e<o.length;e+=1)o[e].c();X(t,"class","match-highlighter")},m(e,r){H(e,t,r);for(let n=0;n<o.length;n+=1)o[n].m(t,null);n=!0},p(e,[n]){if(3&n){let a;for(r=e[0],a=0;a<r.length;a+=1){const s=Mv(e,r,a);o[a]?(o[a].p(s,n),je(o[a],1)):(o[a]=Dv(s),o[a].c(),je(o[a],1),o[a].m(t,null))}for(qe(),a=r.length;a<o.length;a+=1)s(a);Be()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)je(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)Ue(o[t]);n=!1},d(e){e&&z(t),V(o,e)}}}function Nv(e,t,n){let r,{matchParts:o}=t,{matchComponent:s}=t;return e.$$set=e=>{"matchParts"in e&&n(0,o=e.matchParts),"matchComponent"in e&&n(2,s=e.matchComponent)},e.$$.update=()=>{4&e.$$.dirty&&n(1,r=s??kv)},[o,r,s]}class Av extends ut{constructor(e){super(),ct(this,e,Nv,Ov,f,{matchParts:0,matchComponent:2})}}function Rv(e){let t,n;return t=new Av({props:{matchParts:e[1],matchComponent:e[0]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.matchParts=e[1]),1&n&&(r.matchComponent=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Fv(e,t,n){let r,{text:o}=t,{substring:s=""}=t,{matchComponent:a}=t;return e.$$set=e=>{"text"in e&&n(2,o=e.text),"substring"in e&&n(3,s=e.substring),"matchComponent"in e&&n(0,a=e.matchComponent)},e.$$.update=()=>{12&e.$$.dirty&&n(1,r=wv(o,s))},[a,r,o,s]}class Pv extends ut{constructor(e){super(),ct(this,e,Fv,Rv,f,{text:2,substring:3,matchComponent:0})}}function Lv(e){let t;return{c(){t=q("div"),X(t,"class","menu-divider")},m(e,n){H(e,t,n)},p:a,i:a,o:a,d(e){e&&z(t)}}}function Hv(e){return[]}class zv extends ut{constructor(e){super(),ct(this,e,Hv,Lv,f,{})}}function Vv(e){let t,n;return t=new $u({props:{arg:e[0]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.arg=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function qv(e){let t,n;const r=e[3].default,o=b(r,e,e[2],null),s=o||function(e){let t,n,r=e[0]&&Vv(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){e[0]?r?(r.p(e,n),1&n&&je(r,1)):(r=Vv(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}(e);let a=[{class:"menu-heading"},e[1]],i={};for(let c=0;c<a.length;c+=1)i=l(i,a[c]);return{c(){t=q("div"),s&&s.c(),Z(t,i)},m(e,r){H(e,t,r),s&&s.m(t,null),n=!0},p(e,[l]){o?o.p&&(!n||4&l)&&_(o,r,e,e[2],n?w(r,e[2],l,null):x(e[2]),null):s&&s.p&&(!n||1&l)&&s.p(e,n?l:-1),Z(t,i=rt(a,[{class:"menu-heading"},2&l&&e[1]]))},i(e){n||(je(s,e),n=!0)},o(e){Ue(s,e),n=!1},d(e){e&&z(t),s&&s.d(e)}}}function Bv(e,t,n){const r=["label"];let o=S(t,r),{$$slots:s={},$$scope:a}=t,{label:i}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(1,o=S(t,r)),"label"in e&&n(0,i=e.label),"$$scope"in e&&n(2,a=e.$$scope)},[i,o,a,s]}class jv extends ut{constructor(e){super(),ct(this,e,Bv,qv,f,{label:0})}}const Uv=e=>({}),Wv=e=>({});function Yv(e){let t,n;const r=[e[0],{hasNotificationDot:e[1]}];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=3&n?rt(r,[1&n&&ot(e[0]),2&n&&{hasNotificationDot:e[1]}]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Kv(e){let t,n;const r=[wd];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[ot(wd)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Gv(e){let t,n,r,o,s,a,i,l;const c=e[5].control,u=b(c,e,e[4],Wv);let d=e[0]&&Yv(e);const $=e[5].default,p=b($,e,e[4],null);let m=e[2]&&Kv();return{c(){t=q("div"),u&&u.c(),n=U(),r=q("div"),d&&d.c(),o=U(),s=q("div"),p&&p.c(),a=U(),i=q("div"),m&&m.c(),X(t,"class","control cell"),X(r,"class","icon cell"),X(s,"class","label cell"),X(i,"class","sub-menu cell")},m(e,c){H(e,t,c),u&&u.m(t,null),H(e,n,c),H(e,r,c),d&&d.m(r,null),H(e,o,c),H(e,s,c),p&&p.m(s,null),H(e,a,c),H(e,i,c),m&&m.m(i,null),l=!0},p(e,[t]){u&&u.p&&(!l||16&t)&&_(u,c,e,e[4],l?w(c,e[4],t,Uv):x(e[4]),Wv),e[0]?d?(d.p(e,t),1&t&&je(d,1)):(d=Yv(e),d.c(),je(d,1),d.m(r,null)):d&&(qe(),Ue(d,1,1,(()=>{d=null})),Be()),p&&p.p&&(!l||16&t)&&_(p,$,e,e[4],l?w($,e[4],t,null):x(e[4]),null),e[2]?m?(m.p(e,t),4&t&&je(m,1)):(m=Kv(),m.c(),je(m,1),m.m(i,null)):m&&(qe(),Ue(m,1,1,(()=>{m=null})),Be())},i(e){l||(je(u,e),je(d),je(p,e),je(m),l=!0)},o(e){Ue(u,e),Ue(d),Ue(p,e),Ue(m),l=!1},d(e){e&&z(t),u&&u.d(e),e&&z(n),e&&z(r),d&&d.d(),e&&z(o),e&&z(s),p&&p.d(e),e&&z(a),e&&z(i),m&&m.d()}}}function Xv(e,t,n){let r,{$$slots:o={},$$scope:s}=t;const a=k(o),i=xh.getOrError(),l=pt(!1);y(e,l,(e=>n(6,r=e)));let{icon:c}=t,{hasNotificationDot:u=!1}=t,{hasSubMenu:d=!1}=t;return i&&(fe((()=>i.hasControlColumn.registerInput(a.control))),fe((()=>i.hasIconColumn.registerInput(l)))),e.$$set=e=>{"icon"in e&&n(0,c=e.icon),"hasNotificationDot"in e&&n(1,u=e.hasNotificationDot),"hasSubMenu"in e&&n(2,d=e.hasSubMenu),"$$scope"in e&&n(4,s=e.$$scope)},e.$$.update=()=>{1&e.$$.dirty&&I(l,r=!!c,r)},[c,u,d,l,s,o]}class Zv extends ut{constructor(e){super(),ct(this,e,Xv,Gv,f,{icon:0,hasNotificationDot:1,hasSubMenu:2})}}function Jv(e){let t,n;return t=new $u({props:{arg:e[0]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.arg=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Qv(e){let t;const n=e[6].default,r=b(n,e,e[7],null),o=r||function(e){let t,n,r=e[0]&&Jv(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){e[0]?r?(r.p(e,n),1&n&&je(r,1)):(r=Jv(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}(e);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,s){r?r.p&&(!t||128&s)&&_(r,n,e,e[7],t?w(n,e[7],s,null):x(e[7]),null):o&&o.p&&(!t||1&s)&&o.p(e,t?s:-1)},i(e){t||(je(o,e),t=!0)},o(e){Ue(o,e),t=!1},d(e){o&&o.d(e)}}}function ew(e){let t,n,r,o,s;return n=new Zv({props:{icon:e[1],hasNotificationDot:e[4],$$slots:{default:[Qv]},$$scope:{ctx:e}}}),{c(){t=q("button"),at(n.$$.fragment),t.disabled=e[2],X(t,"role","menuitem"),X(t,"class","menu-item menu-item-button"),se(t,"disabled",e[2]),se(t,"danger",e[3])},m(a,i){H(a,t,i),it(n,t,null),r=!0,o||(s=Y(t,"click",e[5]),o=!0)},p(e,[o]){const s={};2&o&&(s.icon=e[1]),16&o&&(s.hasNotificationDot=e[4]),129&o&&(s.$$scope={dirty:o,ctx:e}),n.$set(s),(!r||4&o)&&(t.disabled=e[2]),(!r||4&o)&&se(t,"disabled",e[2]),(!r||8&o)&&se(t,"danger",e[3])},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n),o=!1,s()}}}function tw(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=ye();let{label:a}=t,{icon:i}=t,{disabled:l=!1}=t,{danger:c=!1}=t,{hasNotificationDot:u=!1}=t;return e.$$set=e=>{"label"in e&&n(0,a=e.label),"icon"in e&&n(1,i=e.icon),"disabled"in e&&n(2,l=e.disabled),"danger"in e&&n(3,c=e.danger),"hasNotificationDot"in e&&n(4,u=e.hasNotificationDot),"$$scope"in e&&n(7,o=e.$$scope)},[a,i,l,c,u,function(){l||s("click")},r,o]}class nw extends ut{constructor(e){super(),ct(this,e,tw,ew,f,{label:0,icon:1,disabled:2,danger:3,hasNotificationDot:4})}}function rw(e){let t,n;return t=new $u({props:{arg:e[0]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.arg=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function ow(e){let t;const n=e[7].default,r=b(n,e,e[8],null),o=r||function(e){let t,n,r=e[0]&&rw(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){e[0]?r?(r.p(e,n),1&n&&je(r,1)):(r=rw(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}(e);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,s){r?r.p&&(!t||256&s)&&_(r,n,e,e[8],t?w(n,e[8],s,null):x(e[8]),null):o&&o.p&&(!t||1&s)&&o.p(e,t?s:-1)},i(e){t||(je(o,e),t=!0)},o(e){Ue(o,e),t=!1},d(e){o&&o.d(e)}}}function sw(e){let t,n,r,o;n=new Zv({props:{icon:e[1],hasNotificationDot:e[3],$$slots:{default:[ow]},$$scope:{ctx:e}}});let s=[{class:"menu-item menu-item-link"},{href:r=e[4]?void 0:e[2]},e[6]],a={};for(let i=0;i<s.length;i+=1)a=l(a,s[i]);return{c(){t=q("a"),at(n.$$.fragment),Z(t,a),se(t,"active",e[5]),se(t,"disabled",e[4])},m(e,r){H(e,t,r),it(n,t,null),o=!0},p(e,[i]){const l={};2&i&&(l.icon=e[1]),8&i&&(l.hasNotificationDot=e[3]),257&i&&(l.$$scope={dirty:i,ctx:e}),n.$set(l),Z(t,a=rt(s,[{class:"menu-item menu-item-link"},(!o||20&i&&r!==(r=e[4]?void 0:e[2]))&&{href:r},64&i&&e[6]])),se(t,"active",e[5]),se(t,"disabled",e[4])},i(e){o||(je(n.$$.fragment,e),o=!0)},o(e){Ue(n.$$.fragment,e),o=!1},d(e){e&&z(t),lt(n)}}}function aw(e,t,n){const r=["label","icon","href","hasNotificationDot","disabled","active"];let o=S(t,r),{$$slots:s={},$$scope:a}=t,{label:i}=t,{icon:c}=t,{href:u}=t,{hasNotificationDot:d=!1}=t,{disabled:$=!1}=t,{active:p=!1}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(6,o=S(t,r)),"label"in e&&n(0,i=e.label),"icon"in e&&n(1,c=e.icon),"href"in e&&n(2,u=e.href),"hasNotificationDot"in e&&n(3,d=e.hasNotificationDot),"disabled"in e&&n(4,$=e.disabled),"active"in e&&n(5,p=e.active),"$$scope"in e&&n(8,a=e.$$scope)},[i,c,u,d,$,p,o,s,a]}class iw extends ut{constructor(e){super(),ct(this,e,aw,sw,f,{label:0,icon:1,href:2,hasNotificationDot:3,disabled:4,active:5})}}const lw=e=>({close:8&e}),cw=e=>({close:e[9]}),uw=e=>({close:8&e}),dw=e=>({close:e[9]});function $w(e){let t,n;return t=new $u({props:{arg:e[0]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.arg=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function pw(e){let t;const n=e[8].label,r=b(n,e,e[12],dw),o=r||function(e){let t,n,r=e[0]&&$w(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){e[0]?r?(r.p(e,n),1&n&&je(r,1)):(r=$w(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}(e);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,s){r?r.p&&(!t||4104&s)&&_(r,n,e,e[12],t?w(n,e[12],s,uw):x(e[12]),dw):o&&o.p&&(!t||1&s)&&o.p(e,t?s:-1)},i(e){t||(je(o,e),t=!0)},o(e){Ue(o,e),t=!1},d(e){o&&o.d(e)}}}function mw(e){let t,n;const r=e[8].default,o=b(r,e,e[12],cw);return{c(){t=q("div"),o&&o.c(),X(t,"class","sub-menu")},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||4104&t)&&_(o,r,e,e[12],n?w(r,e[12],t,lw):x(e[12]),cw)},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function fw(e){let t,n,r,o,s,a,i;return n=new Zv({props:{icon:e[1],hasSubMenu:!0,$$slots:{default:[pw]},$$scope:{ctx:e}}}),o=new wu({props:{isOpen:e[6],trigger:e[4],placements:["right-start","left-start","bottom","top"],matchTriggerWidthPxUpTo:10,$$slots:{default:[mw]},$$scope:{ctx:e}}}),o.$on("click",(function(){$(e[2])&&e[2].apply(this,arguments)})),o.$on("mouseenter",e[11]),{c(){t=q("button"),at(n.$$.fragment),r=U(),at(o.$$.fragment),X(t,"role","menuitem"),X(t,"data-menu-item-focusable",""),X(t,"data-menu-item-sub-menu",""),X(t,"class","menu-item menu-item-button"),se(t,"opened",e[6])},m(l,c){H(l,t,c),it(n,t,null),e[10](t),H(l,r,c),it(o,l,c),s=!0,a||(i=Y(t,"click",e[7]),a=!0)},p(r,[a]){e=r;const i={};2&a&&(i.icon=e[1]),4105&a&&(i.$$scope={dirty:a,ctx:e}),n.$set(i),(!s||64&a)&&se(t,"opened",e[6]);const l={};64&a&&(l.isOpen=e[6]),16&a&&(l.trigger=e[4]),4104&a&&(l.$$scope={dirty:a,ctx:e}),o.$set(l)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),s=!1},d(s){s&&z(t),lt(n),e[10](null),s&&z(r),lt(o,s),a=!1,i()}}}function gw(e,t,n){let r,o,s=a;e.$$.on_destroy.push((()=>s()));let{$$slots:i={},$$scope:l}=t;const c=xh.getOrError();let u,d,{label:$}=t,{icon:p}=t,{closeRoot:m=(()=>{})}=t;fe((()=>(n(3,d=c.registerSubMenu(u)),()=>{c.unRegisterSubMenu(u)})));return e.$$set=e=>{"label"in e&&n(0,$=e.label),"icon"in e&&n(1,p=e.icon),"closeRoot"in e&&n(2,m=e.closeRoot),"$$scope"in e&&n(12,l=e.$$scope)},e.$$.update=()=>{8&e.$$.dirty&&(n(5,r=d?.isOpen??$t(!1)),s(),s=g(r,(e=>n(6,o=e))))},[$,p,m,d,u,r,o,function(e){d?.open(),e.stopPropagation()},i,()=>d?.close(),function(e){Ce[e?"unshift":"push"]((()=>{u=e,n(4,u)}))},()=>d?.handleMouseEnterContent(),l]}class hw extends ut{constructor(e){super(),ct(this,e,gw,fw,f,{label:0,icon:1,closeRoot:2})}}function yw(e){let t,n=So(e[0])+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1&r&&n!==(n=So(e[0])+"")&&Q(t,n)},i:a,o:a,d(e){e&&z(t)}}}function bw(e){let t,n;const r=[e[0],{closeRoot:e[1]}];let o={$$slots:{default:[Cw,({close:e})=>({2:e}),({close:e})=>e?4:0]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new hw({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=3&n?rt(r,[1&n&&ot(e[0]),2&n&&{closeRoot:e[1]}]):{};15&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function vw(e){let t,n;const r=[e[0]];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new jv({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=1&n?rt(r,[ot(e[0])]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function ww(e){let t,n;return t=new zv({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function _w(e){let t,n;const r=[e[0]];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new iw({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=1&n?rt(r,[ot(e[0])]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function xw(e){let t,n;const r=[e[0]];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new nw({props:o}),t.$on("click",(function(){$(e[0].onClick)&&e[0].onClick.apply(this,arguments)})),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(n,o){e=n;const s=1&o?rt(r,[ot(e[0])]):{};t.$set(s)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Cw(e){let t,n;return t=new Lw({props:{modal:{close:e[2],closeRoot:e[1],restoreFocusOnClose:!1},entries:e[0].entries,isSubMenu:!0}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};6&n&&(r.modal={close:e[2],closeRoot:e[1],restoreFocusOnClose:!1}),1&n&&(r.entries=e[0].entries),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Sw(e){let t,n,r,o;const s=[xw,_w,ww,vw,bw,yw],a=[];function i(e,t){return"button"===e[0].type?0:"hyperlink"===e[0].type?1:"divider"===e[0].type?2:"heading"===e[0].type?3:"submenu"===e[0].type?4:5}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,[o]){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function kw(e,t,n){let{entry:r}=t,{closeRoot:o=(()=>{})}=t;return e.$$set=e=>{"entry"in e&&n(0,r=e.entry),"closeRoot"in e&&n(1,o=e.closeRoot)},[r,o]}class Mw extends ut{constructor(e){super(),ct(this,e,kw,Sw,f,{entry:0,closeRoot:1})}}function Iw(e){return{type:"button",...e}}function Tw(e){return{type:"hyperlink",...e}}function Ew(...e){return{type:"section",entries:e}}function Dw(e){return{type:"submenu",...e}}function*Ow(e){let t;for(const n of e)if("section"===n.type){const e=[...Ow(n.entries)];if(!e.length)continue;void 0!==t&&(yield{type:"divider"}),yield*e,t="section"}else"section"===t&&(yield{type:"divider"}),yield n,t="primitive"}function Nw(e,t,n){const r=e.slice();return r[6]=t[n],r}function Aw(e){let t,n;return t=new Mw({props:{entry:e[6],closeRoot:e[5]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.entry=e[6]),1&n&&(r.closeRoot=e[5]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Rw(e){let t,n,r=e[2],o=[];for(let a=0;a<r.length;a+=1)o[a]=Aw(Nw(e,r,a));const s=e=>Ue(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=W()},m(e,r){for(let t=0;t<o.length;t+=1)o[t].m(e,r);H(e,t,r),n=!0},p(e,n){if(5&n){let a;for(r=e[2],a=0;a<r.length;a+=1){const s=Nw(e,r,a);o[a]?(o[a].p(s,n),je(o[a],1)):(o[a]=Aw(s),o[a].c(),je(o[a],1),o[a].m(t.parentNode,t))}for(qe(),a=r.length;a<o.length;a+=1)s(a);Be()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)je(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)Ue(o[t]);n=!1},d(e){V(o,e),e&&z(t)}}}function Fw(e){let t,n;const r=[{modal:e[0]},{isSubMenu:e[1]},e[3]];let o={$$slots:{default:[Rw]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Ih({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const o=11&n?rt(r,[1&n&&{modal:e[0]},2&n&&{isSubMenu:e[1]},8&n&&ot(e[3])]):{};517&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Pw(e,t,n){let r;const o=["entries","modal","isSubMenu"];let s=S(t,o),{entries:a}=t,{modal:i}=t,{isSubMenu:c=!1}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(3,s=S(t,o)),"entries"in e&&n(4,a=e.entries),"modal"in e&&n(0,i=e.modal),"isSubMenu"in e&&n(1,c=e.isSubMenu)},e.$$.update=()=>{16&e.$$.dirty&&n(2,r=[...Ow(a)])},[i,c,r,s,a,()=>{i?.closeRoot()}]}class Lw extends ut{constructor(e){super(),ct(this,e,Pw,Fw,f,{entries:4,modal:0,isSubMenu:1})}}function Hw(e){let t,n,r,o,s,a,i,l;return o=new Lw({props:{entries:e[1].entries,modal:{close:e[4],closeRoot:e[5]}}}),{c(){t=q("div"),n=U(),r=q("div"),at(o.$$.fragment),X(t,"class","context-menu-backdrop svelte-1u77nk8"),X(r,"class","context-menu dropdown content")},m(c,u){H(c,t,u),H(c,n,u),H(c,r,u),it(o,r,null),a=!0,i||(l=[Y(t,"click",e[2]),Y(t,"contextmenu",e[2]),T(s=Sc.call(null,r,{reference:kc(e[1].position)})),T(Mc.call(null,r)),Y(r,"click",e[6])],i=!0)},p(e,t){const n={};2&t&&(n.entries=e[1].entries),1&t&&(n.modal={close:e[4],closeRoot:e[5]}),o.$set(n),s&&$(s.update)&&2&t&&s.update.call(null,{reference:kc(e[1].position)})},i(e){a||(je(o.$$.fragment,e),a=!0)},o(e){Ue(o.$$.fragment,e),a=!1},d(e){e&&z(t),e&&z(n),e&&z(r),lt(o),i=!1,d(l)}}}function zw(e){let t,n,r=e[1]&&Hw(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,[n]){e[1]?r?(r.p(e,n),2&n&&je(r,1)):(r=Hw(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function Vw(e,t,n){let r,o,s=a,i=()=>(s(),s=g(l,(e=>n(3,o=e))),l);e.$$.on_destroy.push((()=>s()));let{controller:l}=t;i();return e.$$set=e=>{"controller"in e&&i(n(0,l=e.controller))},e.$$.update=()=>{8&e.$$.dirty&&n(1,r=o)},[l,r,function(e){l.close(),e.preventDefault()},o,()=>{l.close()},()=>{l.close()},()=>l.close()]}class qw extends ut{constructor(e){super(),ct(this,e,Vw,zw,f,{controller:0})}}class Bw{constructor(){e(this,"props",pt(void 0))}open(e){e.entries.length&&this.props.set(e)}close(){this.props.set(void 0)}subscribe(e){return this.props.subscribe(e)}}const jw={lifetime:6e3,hasProgress:!0,initialProgress:1,finalProgress:0,allowPause:!0,allowDismiss:!0,onShow:()=>{},onDismiss:()=>{}};class Uw{constructor({defaultProps:t}={defaultProps:{}}){e(this,"maxId",0),e(this,"defaultProps",void 0),e(this,"entriesMap",void 0),e(this,"entries",void 0),this.entriesMap=pt(new Map),this.defaultProps={...jw,...t},this.entries=mt(this.entriesMap,(e=>[...e.values()]))}makeId(){return this.maxId+=1,this.maxId}show(e={}){const t={...this.defaultProps,...e},n=t.id??this.makeId(),r=Ro(t.initialProgress,{duration:200,easing:i}),o={id:n,progress:r,dismiss:()=>this.dismiss(n)},s={id:n,props:t,controller:o};return this.entriesMap.update((e=>{const t=new Map(e);return t.set(n,s),t})),t.lifetime&&o.progress.set(t.finalProgress,{duration:t.lifetime}).then(o.dismiss),t.onShow(o),o}dismiss(e){this.entriesMap.update((t=>{const n=t.get(e);if(!n)return t;const r=new Map(t);return r.delete(e),n.props.onDismiss(),r}))}}function Ww(e){return"string"==typeof e?{title:e}:e}function Yw(e,{from:t,to:n},r={}){const o=getComputedStyle(e),s="none"===o.transform?"":o.transform,[a,i]=o.transformOrigin.split(" ").map(parseFloat),l=t.left+t.width*a/n.width-(n.left+a),c=t.top+t.height*i/n.height-(n.top+i),{delay:u=0,duration:d=(e=>120*Math.sqrt(e)),easing:p=Do}=r;return{delay:u,duration:$(d)?d(Math.sqrt(l*l+c*c)):d,easing:p,css:(e,r)=>{const o=r*l,a=r*c,i=e+r*t.width/n.width,u=e+r*t.height/n.height;return`transform: ${s} translate(${o}px, ${a}px) scale(${i}, ${u});`}}}function Kw(e){let t,n,r;const o=[e[3]];let s={};for(let a=0;a<o.length;a+=1)s=l(s,o[a]);return n=new Jd({props:s}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","icon")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r=8&t?rt(o,[ot(e[3])]):{};n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function Gw(e){let t,n;return{c(){t=q("div"),n=j(e[12]),X(t,"class","title")},m(e,r){H(e,t,r),F(t,n)},p(e,t){4096&t&&Q(n,e[12])},d(e){e&&z(t)}}}function Xw(e){let t,n,r,o,s;const a=[xd];let i={};for(let c=0;c<a.length;c+=1)i=l(i,a[c]);return n=new Jd({props:i}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","close-button"),X(t,"role","button"),X(t,"tabindex","-1")},m(a,i){H(a,t,i),it(n,t,null),r=!0,o||(s=Y(t,"click",(function(){$(e[10])&&e[10].apply(this,arguments)})),o=!0)},p(t,r){e=t;const o=0&r?rt(a,[ot(xd)]):{};n.$set(o)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n),o=!1,s()}}}function Zw(e){let t,n,r,o;const s=[Qw,Jw],a=[];function i(e,t){return e[0].contentComponent?0:e[0].message?1:-1}return~(n=i(e))&&(r=a[n]=s[n](e)),{c(){t=q("div"),r&&r.c(),X(t,"class","message")},m(e,r){H(e,t,r),~n&&a[n].m(t,null),o=!0},p(e,o){let l=n;n=i(e),n===l?~n&&a[n].p(e,o):(r&&(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be()),~n?(r=a[n],r?r.p(e,o):(r=a[n]=s[n](e),r.c()),je(r,1),r.m(t,null)):r=null)},i(e){o||(je(r),o=!0)},o(e){Ue(r),o=!1},d(e){e&&z(t),~n&&a[n].d()}}}function Jw(e){let t;return{c(){t=j(e[14])},m(e,n){H(e,t,n)},p(e,n){16384&n&&Q(t,e[14])},i:a,o:a,d(e){e&&z(t)}}}function Qw(e){let t,n,r;const o=[e[13]];var s=e[0].contentComponent;function a(e){let t={};for(let n=0;n<o.length;n+=1)t=l(t,o[n]);return{props:t}}return s&&(t=new s(a())),{c(){t&&at(t.$$.fragment),n=W()},m(e,o){t&&it(t,e,o),H(e,n,o),r=!0},p(e,r){const i=8192&r?rt(o,[ot(e[13])]):{};if(s!==(s=e[0].contentComponent)){if(t){qe();const e=t;Ue(e.$$.fragment,1,0,(()=>{lt(e,1)})),Be()}s?(t=new s(a()),at(t.$$.fragment),je(t.$$.fragment,1),it(t,n.parentNode,n)):t=null}else s&&t.$set(i)},i(e){r||(t&&je(t.$$.fragment,e),r=!0)},o(e){t&&Ue(t.$$.fragment,e),r=!1},d(e){e&&z(n),t&&lt(t,e)}}}function e_(e){let t;return{c(){t=q("progress"),t.value=e[15]},m(e,n){H(e,t,n)},p(e,n){32768&n&&(t.value=e[15])},d(e){e&&z(t)}}}function t_(e){let t,n,r,o,s,a,i,l,c,u=e[3]&&Kw(e),p=e[0].title&&Gw(e),m=e[0].allowDismiss&&Xw(e),f=(e[0].contentComponent||e[0].message)&&Zw(e),g=e[0].hasProgress&&e_(e);return{c(){t=q("div"),n=q("div"),u&&u.c(),r=U(),p&&p.c(),o=U(),m&&m.c(),s=U(),f&&f.c(),a=U(),g&&g.c(),X(n,"class","header"),X(t,"class","toast-item"),X(t,"style",e[11])},m(d,h){H(d,t,h),F(t,n),u&&u.m(n,null),F(n,r),p&&p.m(n,null),F(n,o),m&&m.m(n,null),F(t,s),f&&f.m(t,null),F(t,a),g&&g.m(t,null),i=!0,l||(c=[Y(t,"mouseenter",(function(){$(e[9])&&e[9].apply(this,arguments)})),Y(t,"mouseleave",(function(){$(e[8])&&e[8].apply(this,arguments)}))],l=!0)},p(s,[l]){(e=s)[3]?u?(u.p(e,l),8&l&&je(u,1)):(u=Kw(e),u.c(),je(u,1),u.m(n,r)):u&&(qe(),Ue(u,1,1,(()=>{u=null})),Be()),e[0].title?p?p.p(e,l):(p=Gw(e),p.c(),p.m(n,o)):p&&(p.d(1),p=null),e[0].allowDismiss?m?(m.p(e,l),1&l&&je(m,1)):(m=Xw(e),m.c(),je(m,1),m.m(n,null)):m&&(qe(),Ue(m,1,1,(()=>{m=null})),Be()),e[0].contentComponent||e[0].message?f?(f.p(e,l),1&l&&je(f,1)):(f=Zw(e),f.c(),je(f,1),f.m(t,a)):f&&(qe(),Ue(f,1,1,(()=>{f=null})),Be()),e[0].hasProgress?g?g.p(e,l):(g=e_(e),g.c(),g.m(t,null)):g&&(g.d(1),g=null),(!i||2048&l)&&X(t,"style",e[11])},i(e){i||(je(u),je(m),je(f),i=!0)},o(e){Ue(u),Ue(m),Ue(f),i=!1},d(e){e&&z(t),u&&u.d(),p&&p.d(),m&&m.d(),f&&f.d(),g&&g.d(),l=!1,d(c)}}}function n_(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,y,b,v,w,_,x=a,C=a,S=a,k=a,M=a,I=a;e.$$.on_destroy.push((()=>x())),e.$$.on_destroy.push((()=>C())),e.$$.on_destroy.push((()=>S())),e.$$.on_destroy.push((()=>k())),e.$$.on_destroy.push((()=>M())),e.$$.on_destroy.push((()=>I()));let{entry:T}=t;return e.$$set=e=>{"entry"in e&&n(16,T=e.entry)},e.$$.update=()=>{65536&e.$$.dirty&&n(0,({props:r,controller:o}=T),r,(n(17,o),n(16,T))),131072&e.$$.dirty&&(n(1,({progress:s,dismiss:i}=o),s,(n(10,i),n(17,o),n(16,T))),I(),I=g(s,(e=>n(15,_=e)))),2&e.$$.dirty&&n(9,({pause:l,resume:c}=s),l,(n(8,c),n(1,s),n(17,o),n(16,T))),1&e.$$.dirty&&(n(7,u=Fo(r.title)),S(),S=g(u,(e=>n(12,b=e)))),1&e.$$.dirty&&(n(6,d=Fo(r.message)),M(),M=g(d,(e=>n(14,w=e)))),1&e.$$.dirty&&(n(5,$=Fo(r.contentComponentProps)),k(),k=g($,(e=>n(13,v=e)))),1&e.$$.dirty&&(n(4,p=Fo(r.icon)),x(),x=g(p,(e=>n(18,h=e)))),262144&e.$$.dirty&&n(3,m=h),1&e.$$.dirty&&(n(2,f=mt([Fo(r.backgroundColor),Fo(r.textColor),Fo(r.progressColor)],(([e,t,n])=>{const r=[];function o(e,t){t&&r.push(`${e}: ${t};`)}return o("--ToastItem__background-color",e),o("--ToastItem__text-color",t),o("--ToastItem__progress-color",n),r.join(" ")}))),C(),C=g(f,(e=>n(11,y=e))))},[r,s,f,m,p,$,d,u,c,l,i,y,b,v,w,_,T,o,h]}class r_ extends ut{constructor(e){super(),ct(this,e,n_,t_,f,{entry:16})}}function o_(e,t,n){const r=e.slice();return r[4]=t[n],r}function s_(e,t){let n,r,o,s,c,u,d,$=a;const p=[t[3],{entry:t[4]}];var m=t[1];function f(e){let t={};for(let n=0;n<p.length;n+=1)t=l(t,p[n]);return{props:t}}return m&&(r=new m(f())),{key:e,first:null,c(){n=q("li"),r&&at(r.$$.fragment),o=U(),this.first=n},m(e,t){H(e,n,t),r&&it(r,n,null),F(n,o),d=!0},p(e,s){t=e;const a=12&s?rt(p,[8&s&&ot(t[3]),4&s&&{entry:t[4]}]):{};if(m!==(m=t[1])){if(r){qe();const e=r;Ue(e.$$.fragment,1,0,(()=>{lt(e,1)})),Be()}m?(r=new m(f()),at(r.$$.fragment),je(r.$$.fragment,1),it(r,n,o)):r=null}else m&&r.$set(a)},r(){u=n.getBoundingClientRect()},f(){!function(e){const t=getComputedStyle(e);if("absolute"!==t.position&&"fixed"!==t.position){const{width:n,height:r}=t,o=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=r,$e(e,o)}}(n),$(),$e(n,u)},a(){$(),$=function(e,t,n,r){if(!t)return a;const o=e.getBoundingClientRect();if(t.left===o.left&&t.right===o.right&&t.top===o.top&&t.bottom===o.bottom)return a;const{delay:s=0,duration:l=300,easing:c=i,start:u=D()+s,end:d=u+l,tick:$=a,css:p}=n(e,{from:t,to:o},r);let m,f=!0,g=!1;function h(){p&&de(e,m),f=!1}return R((e=>{if(!g&&e>=u&&(g=!0),g&&e>=d&&($(1,0),h()),!f)return!1;if(g){const t=0+1*c((e-u)/l);$(t,1-t)}return!0})),p&&(m=ue(e,0,1,l,s,c,p)),s||(g=!0),$(0,1),h}(n,u,Yw,{duration:200})},i(e){d||(r&&je(r.$$.fragment,e),De((()=>{c&&c.end(1),s=Ye(n,hg,{x:256}),s.start()})),d=!0)},o(e){r&&Ue(r.$$.fragment,e),s&&s.invalidate(),c=Ke(n,gg,{}),d=!1},d(e){e&&z(n),r&&lt(r),e&&c&&c.end()}}}function a_(e){let t,n,r=[],o=new Map,s=e[2];const a=e=>e[4].id;for(let i=0;i<s.length;i+=1){let t=o_(e,s,i),n=a(t);o.set(n,r[i]=s_(n,t))}return{c(){t=q("ul");for(let e=0;e<r.length;e+=1)r[e].c();X(t,"class","toast-presenter")},m(e,o){H(e,t,o);for(let n=0;n<r.length;n+=1)r[n].m(t,null);n=!0},p(e,[n]){if(14&n){s=e[2],qe();for(let e=0;e<r.length;e+=1)r[e].r();r=nt(r,n,a,1,e,s,o,t,tt,s_,null,o_);for(let e=0;e<r.length;e+=1)r[e].a();Be()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ue(r[t]);n=!1},d(e){e&&z(t);for(let t=0;t<r.length;t+=1)r[t].d()}}}function i_(e,t,n){const r=["entries","toastItemComponent"];let o,s=S(t,r),i=a,c=()=>(i(),i=g(u,(e=>n(2,o=e))),u);e.$$.on_destroy.push((()=>i()));let{entries:u}=t;c();let{toastItemComponent:d=r_}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(3,s=S(t,r)),"entries"in e&&c(n(0,u=e.entries)),"toastItemComponent"in e&&n(1,d=e.toastItemComponent)},[u,d,o,s]}class l_ extends ut{constructor(e){super(),ct(this,e,i_,a_,f,{entries:0,toastItemComponent:1})}}function c_(e,t){const{cases:n}=t;return n[String(e)]??n.default??[]}function u_(e,t){return n=e,r=t.condition,o=t.value,("eq"===r?n===o:"neq"===r&&n!==o)?t.elements??[]:[];var n,r,o}function d_(e,t){const n=new Set;let r=[];if("input"===e.type||"static"===e.type)n.add(e.variable);else if("switch"===e.type){r=c_(t[e.variable],e)}else if("if"===e.type){r=u_(t[e.variable],e)}else"layout"!==e.type&&e.type||(r=e.elements);return r.forEach((e=>{d_(e,t).forEach((e=>n.add(e)))})),n}function $_(e){const t=new Set;let n=[];if("switch"===e.type){t.add(e.variable);const r=[];Object.keys(e.cases).forEach((t=>{r.push(...e.cases[t])})),n=r}else"if"===e.type?(t.add(e.variable),n=e.elements):"layout"!==e.type&&e.type||(n=e.elements);return n.forEach((e=>{$_(e).forEach((e=>t.add(e)))})),t}function p_(e,t,n){const r=$_(e.layout),o=new Map;function s(){const e={};return o.forEach(((t,n)=>{e[n]=h(t)})),e}Object.keys(e.variables)?.forEach((n=>{const r=pt(void 0!==t?.[n]?t[n]:e.variables[n].default);o.set(n,r)}));const a=function(){let t={},n=d_(e.layout,s());return $t(t,(a=>{const i=[...o].map((([o,i])=>i.subscribe((()=>{const i=s();r.has(o)&&(n=d_(e.layout,i)),t={},n.forEach((e=>{t[e]=i[e]})),a(t)}))));return()=>i.forEach((e=>e()))}))}(),i=mt(a,(t=>{const n={isValid:!0,failedChecks:{}};return Object.keys(t).forEach((r=>{const o=t[r],s=e.variables[r],a=s?.validation;if(s&&a){const{checks:e}=a;if(e.includes("isEmpty")){let e=null!=o;"string"===s.type&&(e=e&&""!==o),e||(n.failedChecks[r]||(n.failedChecks[r]=[]),n.failedChecks[r].push("isEmpty")),n.isValid=n.isValid&&e}}})),n}));return{...e,stores:o,values:a,validationStore:i,getValidationResult:function(){return h(i)},customComponents:n}}function m_(e){let t,n,r;const o=[e[1]??{},{store:e[3]},{stores:e[2]}];var s=e[4][e[0]];function a(e){let t={};for(let n=0;n<o.length;n+=1)t=l(t,o[n]);return{props:t}}return s&&(t=new s(a())),{c(){t&&at(t.$$.fragment),n=W()},m(e,o){t&&it(t,e,o),H(e,n,o),r=!0},p(e,r){const i=14&r?rt(o,[2&r&&ot(e[1]??{}),8&r&&{store:e[3]},4&r&&{stores:e[2]}]):{};if(s!==(s=e[4][e[0]])){if(t){qe();const e=t;Ue(e.$$.fragment,1,0,(()=>{lt(e,1)})),Be()}s?(t=new s(a()),at(t.$$.fragment),je(t.$$.fragment,1),it(t,n.parentNode,n)):t=null}else s&&t.$set(i)},i(e){r||(t&&je(t.$$.fragment,e),r=!0)},o(e){t&&Ue(t.$$.fragment,e),r=!1},d(e){e&&z(n),t&&lt(t,e)}}}function f_(e){let t,n,r=e[4]?.[e[0]]&&m_(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,[n]){e[4]?.[e[0]]?r?(r.p(e,n),17&n&&je(r,1)):(r=m_(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function g_(e,t,n){let{componentId:r}=t,{props:o}=t,{stores:s}=t,{store:a}=t,{customComponents:i}=t;return e.$$set=e=>{"componentId"in e&&n(0,r=e.componentId),"props"in e&&n(1,o=e.props),"stores"in e&&n(2,s=e.stores),"store"in e&&n(3,a=e.store),"customComponents"in e&&n(4,i=e.customComponents)},[r,o,s,a,i]}class h_ extends ut{constructor(e){super(),ct(this,e,g_,f_,f,{componentId:0,props:1,stores:2,store:3,customComponents:4})}}function y_(e,t,n){const r=e.slice();return r[8]=t[n],r}function b_(e){let t,n,r;const o=[e[6],{dataType:e[0]},{label:e[2]},{hasError:e[4].length>0}];function s(t){e[7](t)}let a={};for(let i=0;i<o.length;i+=1)a=l(a,o[i]);return void 0!==e[5]&&(a.value=e[5]),t=new Iy({props:a}),Ce.push((()=>st(t,"value",s))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const s=85&r?rt(o,[64&r&&ot(e[6]),1&r&&{dataType:e[0]},4&r&&{label:e[2]},16&r&&{hasError:e[4].length>0}]):{};!n&&32&r&&(n=!0,s.value=e[5],Oe((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function v_(e){let t,n=e[8]+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){16&r&&n!==(n=e[8]+"")&&Q(t,n)},d(e){e&&z(t)}}}function w_(e){let t;return{c(){t=j("* This is a required field")},m(e,n){H(e,t,n)},p:a,d(e){e&&z(t)}}}function __(e,t){let n,r;function o(e,t){return"isEmpty"===e[8]?w_:v_}let s=o(t),a=s(t);return{key:e,first:null,c(){n=q("div"),a.c(),r=U(),X(n,"class","validation-error"),this.first=n},m(e,t){H(e,n,t),a.m(n,null),F(n,r)},p(e,i){s===(s=o(t=e))&&a?a.p(t,i):(a.d(1),a=s(t),a&&(a.c(),a.m(n,r)))},d(e){e&&z(n),a.d()}}}function x_(e){let t,n,r,o,s=[],a=new Map;n=new J$({props:{label:e[2],layout:"boolean"===e[0]?"inline-input-first":"stacked",help:e[1]?.help,helpType:"tooltip",$$slots:{default:[b_]},$$scope:{ctx:e}}});let i=e[4];const l=e=>e[8];for(let c=0;c<i.length;c+=1){let t=y_(e,i,c),n=l(t);a.set(n,s[c]=__(n,t))}return{c(){t=q("div"),at(n.$$.fragment),r=U();for(let e=0;e<s.length;e+=1)s[e].c();X(t,"class","form-element form-input")},m(e,a){H(e,t,a),it(n,t,null),F(t,r);for(let n=0;n<s.length;n+=1)s[n].m(t,null);o=!0},p(e,[r]){const o={};4&r&&(o.label=e[2]),1&r&&(o.layout="boolean"===e[0]?"inline-input-first":"stacked"),2&r&&(o.help=e[1]?.help),2165&r&&(o.$$scope={dirty:r,ctx:e}),n.$set(o),16&r&&(i=e[4],s=nt(s,r,l,1,e,i,a,t,Qe,__,null,y_))},i(e){o||(je(n.$$.fragment,e),o=!0)},o(e){Ue(n.$$.fragment,e),o=!1},d(e){e&&z(t),lt(n);for(let t=0;t<s.length;t+=1)s[t].d()}}}function C_(e,t,n){const r=["type","text","label","store","validationErrors"];let o,s=S(t,r),i=a,c=()=>(i(),i=g(p,(e=>n(5,o=e))),p);e.$$.on_destroy.push((()=>i()));let{type:u}=t,{text:d}=t,{label:$}=t,{store:p}=t;c();let{validationErrors:m}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(6,s=S(t,r)),"type"in e&&n(0,u=e.type),"text"in e&&n(1,d=e.text),"label"in e&&n(2,$=e.label),"store"in e&&c(n(3,p=e.store)),"validationErrors"in e&&n(4,m=e.validationErrors)},[u,d,$,p,m,o,s,function(e){o=e,p.set(o)}]}class S_ extends ut{constructor(e){super(),ct(this,e,C_,x_,f,{type:0,text:1,label:2,store:3,validationErrors:4})}}function k_(e,t,n){const r=e.slice();return r[4]=t[n],r}const M_=e=>({element:2&e}),I_=e=>({element:e[4]});function T_(e,t){let n,r;const o=t[3].default,s=b(o,t,t[2],I_);return{key:e,first:null,c(){n=W(),s&&s.c(),this.first=n},m(e,t){H(e,n,t),s&&s.m(e,t),r=!0},p(e,n){t=e,s&&s.p&&(!r||6&n)&&_(s,o,t,t[2],r?w(o,t[2],n,M_):x(t[2]),I_)},i(e){r||(je(s,e),r=!0)},o(e){Ue(s,e),r=!1},d(e){e&&z(n),s&&s.d(e)}}}function E_(e){let t,n,r,o=[],s=new Map,a=e[1]||[];const i=e=>e[4];for(let l=0;l<a.length;l+=1){let t=k_(e,a,l),n=i(t);s.set(n,o[l]=T_(n,t))}return{c(){t=q("div");for(let e=0;e<o.length;e+=1)o[e].c();X(t,"class",n="form-element form-layout "+e[0])},m(e,n){H(e,t,n);for(let r=0;r<o.length;r+=1)o[r].m(t,null);r=!0},p(e,[l]){6&l&&(a=e[1]||[],qe(),o=nt(o,l,i,1,e,a,s,t,et,T_,null,k_),Be()),(!r||1&l&&n!==(n="form-element form-layout "+e[0]))&&X(t,"class",n)},i(e){if(!r){for(let e=0;e<a.length;e+=1)je(o[e]);r=!0}},o(e){for(let t=0;t<o.length;t+=1)Ue(o[t]);r=!1},d(e){e&&z(t);for(let t=0;t<o.length;t+=1)o[t].d()}}}function D_(e,t,n){let{$$slots:r={},$$scope:o}=t,{orientation:s="vertical"}=t,{elements:a}=t;return e.$$set=e=>{"orientation"in e&&n(0,s=e.orientation),"elements"in e&&n(1,a=e.elements),"$$scope"in e&&n(2,o=e.$$scope)},[s,a,o,r]}class O_ extends ut{constructor(e){super(),ct(this,e,D_,E_,f,{orientation:0,elements:1})}}function N_(e,t,n){const r=e.slice();return r[8]=t[n],r}const A_=e=>({element:2&e}),R_=e=>({element:e[8]});function F_(e,t){let n,r;const o=t[7].default,s=b(o,t,t[6],R_);return{key:e,first:null,c(){n=W(),s&&s.c(),this.first=n},m(e,t){H(e,n,t),s&&s.m(e,t),r=!0},p(e,n){t=e,s&&s.p&&(!r||66&n)&&_(s,o,t,t[6],r?w(o,t[6],n,A_):x(t[6]),R_)},i(e){r||(je(s,e),r=!0)},o(e){Ue(s,e),r=!1},d(e){e&&z(n),s&&s.d(e)}}}function P_(e){let t,n,r=[],o=new Map,s=e[1];const a=e=>e[8];for(let i=0;i<s.length;i+=1){let t=N_(e,s,i),n=a(t);o.set(n,r[i]=F_(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=W()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);H(e,t,o),n=!0},p(e,[n]){66&n&&(s=e[1],qe(),r=nt(r,n,a,1,e,s,o,t.parentNode,et,F_,t,N_),Be())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ue(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&z(t)}}}function L_(e,t,n){let r,o,s=a,i=()=>(s(),s=g(u,(e=>n(5,o=e))),u);e.$$.on_destroy.push((()=>s()));let{$$slots:l={},$$scope:c}=t,{store:u}=t;i();let{condition:d="eq"}=t,{value:$}=t,{elements:p}=t;return e.$$set=e=>{"store"in e&&i(n(0,u=e.store)),"condition"in e&&n(2,d=e.condition),"value"in e&&n(3,$=e.value),"elements"in e&&n(4,p=e.elements),"$$scope"in e&&n(6,c=e.$$scope)},e.$$.update=()=>{60&e.$$.dirty&&n(1,r=u_(o,{condition:d,value:$,elements:p}))},[u,r,d,$,p,o,c,l]}class H_ extends ut{constructor(e){super(),ct(this,e,L_,P_,f,{store:0,condition:2,value:3,elements:4})}}function z_(e,t,n){const r=e.slice();return r[6]=t[n],r}const V_=e=>({element:2&e}),q_=e=>({element:e[6]});function B_(e,t){let n,r;const o=t[5].default,s=b(o,t,t[4],q_);return{key:e,first:null,c(){n=W(),s&&s.c(),this.first=n},m(e,t){H(e,n,t),s&&s.m(e,t),r=!0},p(e,n){t=e,s&&s.p&&(!r||18&n)&&_(s,o,t,t[4],r?w(o,t[4],n,V_):x(t[4]),q_)},i(e){r||(je(s,e),r=!0)},o(e){Ue(s,e),r=!1},d(e){e&&z(n),s&&s.d(e)}}}function j_(e){let t,n,r=[],o=new Map,s=e[1];const a=e=>e[6];for(let i=0;i<s.length;i+=1){let t=z_(e,s,i),n=a(t);o.set(n,r[i]=B_(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=W()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);H(e,t,o),n=!0},p(e,[n]){18&n&&(s=e[1],qe(),r=nt(r,n,a,1,e,s,o,t.parentNode,et,B_,t,z_),Be())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ue(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&z(t)}}}function U_(e,t,n){let r,o,s=a,i=()=>(s(),s=g(u,(e=>n(3,o=e))),u);e.$$.on_destroy.push((()=>s()));let{$$slots:l={},$$scope:c}=t,{store:u}=t;i();let{cases:d}=t;return e.$$set=e=>{"store"in e&&i(n(0,u=e.store)),"cases"in e&&n(2,d=e.cases),"$$scope"in e&&n(4,c=e.$$scope)},e.$$.update=()=>{12&e.$$.dirty&&n(1,r=c_(o,{cases:d}))},[u,r,d,o,c,l]}class W_ extends ut{constructor(e){super(),ct(this,e,U_,j_,f,{store:0,cases:2})}}function Y_(e){let t,n;return t=new O_({props:{orientation:e[0].orientation,elements:e[0].elements,$$slots:{default:[J_,({element:e})=>({9:e}),({element:e})=>e?512:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.orientation=e[0].orientation),1&n&&(r.elements=e[0].elements),1792&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function K_(e){let t,n;const r=[{store:e[7]},e[0]];let o={$$slots:{default:[Q_,({element:e})=>({9:e}),({element:e})=>e?512:0]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new H_({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=129&n?rt(r,[128&n&&{store:e[7]},1&n&&ot(e[0])]):{};1792&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function G_(e){let t,n;return t=new W_({props:{store:e[7],cases:e[0].cases,$$slots:{default:[ex,({element:e})=>({9:e}),({element:e})=>e?512:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};128&n&&(r.store=e[7]),1&n&&(r.cases=e[0].cases),1792&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function X_(e){let t,n;const r=[e[0],{customComponents:e[3]},{store:e[7]},{stores:e[1]}];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new h_({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=139&n?rt(r,[1&n&&ot(e[0]),8&n&&{customComponents:e[3]},128&n&&{store:e[7]},2&n&&{stores:e[1]}]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Z_(e){let t,n,r=e[6]&&"custom"!==e[6]&&tx(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){e[6]&&"custom"!==e[6]?r?(r.p(e,n),64&n&&je(r,1)):(r=tx(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function J_(e){let t,n;const r=[e[8],{element:e[9]}];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new ox({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=768&n?rt(r,[256&n&&ot(e[8]),512&n&&{element:e[9]}]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Q_(e){let t,n;const r=[e[8],{element:e[9]}];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new ox({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=768&n?rt(r,[256&n&&ot(e[8]),512&n&&{element:e[9]}]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function ex(e){let t,n;const r=[e[8],{element:e[9]}];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new ox({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=768&n?rt(r,[256&n&&ot(e[8]),512&n&&{element:e[9]}]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function tx(e){let t,n;const r=[e[0],e[2][e[0].variable],{type:e[6]},{store:e[7]},{validationErrors:e[4].failedChecks[e[0].variable]||[]},{disabled:e[5]}];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new S_({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=245&n?rt(r,[1&n&&ot(e[0]),5&n&&ot(e[2][e[0].variable]),64&n&&{type:e[6]},128&n&&{store:e[7]},17&n&&{validationErrors:e[4].failedChecks[e[0].variable]||[]},32&n&&{disabled:e[5]}]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function nx(e){let t,n,r,o;const s=[Z_,X_,G_,K_,Y_],a=[];function i(e,t){return"input"===e[0].type&&e[7]?0:"static"===e[0].type&&e[7]?1:"switch"===e[0].type&&e[7]?2:"if"===e[0].type&&e[7]?3:"layout"!==e[0].type&&e[0].type?-1:4}return~(t=i(e))&&(n=a[t]=s[t](e)),{c(){n&&n.c(),r=W()},m(e,n){~t&&a[t].m(e,n),H(e,r,n),o=!0},p(e,[o]){let l=t;t=i(e),t===l?~t&&a[t].p(e,o):(n&&(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be()),~t?(n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){~t&&a[t].d(e),e&&z(r)}}}function rx(e,t,n){let r,o,{element:s}=t,{stores:a}=t,{variables:i}=t,{customComponents:c}=t,{validationResult:u}=t,{disabled:d=!1}=t;return e.$$set=e=>{n(8,t=l(l({},t),C(e))),"element"in e&&n(0,s=e.element),"stores"in e&&n(1,a=e.stores),"variables"in e&&n(2,i=e.variables),"customComponents"in e&&n(3,c=e.customComponents),"validationResult"in e&&n(4,u=e.validationResult),"disabled"in e&&n(5,d=e.disabled)},e.$$.update=()=>{3&e.$$.dirty&&n(7,r="variable"in s?a.get(s.variable):void 0),5&e.$$.dirty&&n(6,o="variable"in s?i[s.variable].type:void 0)},t=C(t),[s,a,i,c,u,d,o,r,t]}class ox extends ut{constructor(e){super(),ct(this,e,rx,nx,f,{element:0,stores:1,variables:2,customComponents:3,validationResult:4,disabled:5})}}function sx(e){let t,n,r,o,s,a;return r=new ox({props:{stores:e[1].stores,variables:e[1].variables,element:e[1].layout,customComponents:e[1].customComponents,validationResult:e[3],disabled:e[0]}}),{c(){t=q("div"),n=q("form"),at(r.$$.fragment),X(t,"class","form-builder")},m(i,l){H(i,t,l),F(t,n),it(r,n,null),o=!0,s||(a=Y(n,"submit",K(e[4])),s=!0)},p(e,[t]){const n={};2&t&&(n.stores=e[1].stores),2&t&&(n.variables=e[1].variables),2&t&&(n.element=e[1].layout),2&t&&(n.customComponents=e[1].customComponents),8&t&&(n.validationResult=e[3]),1&t&&(n.disabled=e[0]),r.$set(n)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(t),lt(r),s=!1,a()}}}function ax(e,t,n){let r,o,s=a;e.$$.on_destroy.push((()=>s()));const i=ye();let{disabled:l=!1}=t,{form:c}=t;return e.$$set=e=>{"disabled"in e&&n(0,l=e.disabled),"form"in e&&n(1,c=e.form)},e.$$.update=()=>{2&e.$$.dirty&&(n(2,r=c.validationStore),s(),s=g(r,(e=>n(3,o=e))))},[l,c,r,o,function(){return i("submit"),!1}]}class ix extends ut{constructor(e){super(),ct(this,e,ax,sx,f,{disabled:0,form:1})}}function lx(e){return t=>(async function(e,t){await Ee(),e.closest('[data-window-area="window"]')?.querySelector(t)?.appendChild(e)}(t,e),{destroy:()=>t.parentElement?.removeChild(t)})}const cx=lx(':scope > [data-window-area="title-bar"] > [data-window-area="title"]'),ux=lx(':scope > [data-window-area="footer"]');function dx(){const e=function(e){const t=document.querySelector(e);if(t?.textContent)try{return JSON.parse(t.textContent)}catch(n){console.error(n)}}("#common-data");if(!e)throw new Error("commonData is undefined. This state should never occur");return e}function $x(e){return dx().file_backends?.find((t=>t.backend===e))??null}function px(){const e=dx();return _o(e.file_backends)?e.file_backends[0]??null:null}Array.prototype.at||(Array.prototype.at=function(e){let t=Math.trunc(e)||0;if(t<0&&(t+=this.length),!(t<0||t>=this.length))return this[t]});const mx=Symbol("breadcrumb items store");function fx(){return ve(mx)}const gx=Symbol("ClipboardHandlerStore");function hx(e){let t,n;const r=e[1].default,o=b(r,e,e[0],null);return{c(){t=q("span"),o&&o.c(),X(t,"class","identifier svelte-xmbz32")},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&_(o,r,e,e[0],n?w(r,e[0],t,null):x(e[0]),null)},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function yx(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,r]}class bx extends ut{constructor(e){super(),ct(this,e,yx,hx,f,{})}}function vx(e){return{type:"text",content:e}}function wx(e,t){return{type:"slot",name:e,arg:t}}function _x(e){if(""===e.remainder)return e;const t=function(e){let t;const n=e.replace(/^\[(\w+)\]\(([^)]+)\)|^\[(\w+)\]/,((e,n,r,o)=>(n?t=wx(n,r):o&&(t=wx(o)),"")));return t?{tokens:[t],remainder:n}:void 0}(e.remainder);return _x(t?{tokens:[...e.tokens,...t.tokens],remainder:t.remainder}:function({tokens:e,remainder:t}){const n=t[0],r=e[e.length-1];return{tokens:r&&"text"===r.type?[...e.slice(0,-1),vx(r.content+n)]:[...e,vx(n)],remainder:t.slice(1)}}(e))}function xx(e){return _x({tokens:[],remainder:e}).tokens}function Cx(e,t,n){const r=e.slice();return r[4]=t[n],r}const Sx=e=>({slotName:1&e,translatedArg:1&e}),kx=e=>({slotName:e[4].name,translatedArg:e[4].arg});function Mx(e){let t,n=So(e[4])+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1&r&&n!==(n=So(e[4])+"")&&Q(t,n)},i:a,o:a,d(e){e&&z(t)}}}function Ix(e){let t;const n=e[3].default,r=b(n,e,e[2],kx);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||5&o)&&_(r,n,e,e[2],t?w(n,e[2],o,Sx):x(e[2]),kx)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function Tx(e){let t;function n(e,t){return e[1]?Dx:Ex}let r=n(e),o=r(e);return{c(){o.c(),t=W()},m(e,n){o.m(e,n),H(e,t,n)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},i:a,o:a,d(e){o.d(e),e&&z(t)}}}function Ex(e){let t,n=e[4].content+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1&r&&n!==(n=e[4].content+"")&&Q(t,n)},d(e){e&&z(t)}}}function Dx(e){let t,n,r=e[4].content+"";return{c(){t=q("span"),n=j(r),X(t,"class","static")},m(e,r){H(e,t,r),F(t,n)},p(e,t){1&t&&r!==(r=e[4].content+"")&&Q(n,r)},d(e){e&&z(t)}}}function Ox(e){let t,n,r,o;const s=[Tx,Ix,Mx],a=[];function i(e,t){return"text"===e[4].type?0:"slot"===e[4].type?1:2}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function Nx(e){let t,n,r=xx(e[0]),o=[];for(let a=0;a<r.length;a+=1)o[a]=Ox(Cx(e,r,a));const s=e=>Ue(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=W()},m(e,r){for(let t=0;t<o.length;t+=1)o[t].m(e,r);H(e,t,r),n=!0},p(e,[n]){if(7&n){let a;for(r=xx(e[0]),a=0;a<r.length;a+=1){const s=Cx(e,r,a);o[a]?(o[a].p(s,n),je(o[a],1)):(o[a]=Ox(s),o[a].c(),je(o[a],1),o[a].m(t.parentNode,t))}for(qe(),a=r.length;a<o.length;a+=1)s(a);Be()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)je(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)Ue(o[t]);n=!1},d(e){V(o,e),e&&z(t)}}}function Ax(e,t,n){let{$$slots:r={},$$scope:o}=t,{text:s}=t,{wrapStaticText:a=!1}=t;return e.$$set=e=>{"text"in e&&n(0,s=e.text),"wrapStaticText"in e&&n(1,a=e.wrapStaticText),"$$scope"in e&&n(2,o=e.$$scope)},[s,a,o,r]}class Rx extends ut{constructor(e){super(),ct(this,e,Ax,Nx,f,{text:0,wrapStaticText:1})}}function Fx(e){let t,n;return t=new bx({props:{$$slots:{default:[Px]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};17&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Px(e){let t;return{c(){t=j(e[0])},m(e,n){H(e,t,n)},p(e,n){1&n&&Q(t,e[0])},d(e){e&&z(t)}}}function Lx(e){let t,n,r=e[3]===e[2]&&Fx(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){e[3]===e[2]?r?(r.p(e,n),12&n&&je(r,1)):(r=Fx(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function Hx(e){let t,n;return t=new Rx({props:{text:e[1],$$slots:{default:[Lx,({slotName:e})=>({3:e}),({slotName:e})=>e?8:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.text=e[1]),29&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function zx(e,t,n){let{identifier:r}=t,{wrappingString:o=""}=t,{identifierKey:s="identifier"}=t;return e.$$set=e=>{"identifier"in e&&n(0,r=e.identifier),"wrappingString"in e&&n(1,o=e.wrappingString),"identifierKey"in e&&n(2,s=e.identifierKey)},[r,o,s]}class Vx extends ut{constructor(e){super(),ct(this,e,zx,Hx,f,{identifier:0,wrappingString:1,identifierKey:2})}}const qx={icon:[18,18,[],"","m7.387 0.4182c-0.141 0.3522-0.3215 0.7703-0.5131 1.13-0.2127 0.3993-0.738 0.9245-1.138 1.137-0.3605 0.1918-0.7797 0.3725-1.133 0.5136-0.4214 0.1684-0.4214 0.4069 1.816e-4 0.5754 0.353 0.1412 0.7722 0.322 1.133 0.514 0.3993 0.2126 0.9246 0.7379 1.137 1.137 0.1918 0.3602 0.3724 0.779 0.5134 1.132 0.1685 0.4214 0.4071 0.4214 0.5757-1.3e-4 0.1412-0.3528 0.3219-0.7716 0.5138-1.132 0.2127-0.3993 0.7379-0.9246 1.137-1.137 0.3597-0.1917 0.7778-0.3723 1.13-0.5133 0.4213-0.1688 0.4212-0.4076-2.47e-4 -0.5764-0.3522-0.1411-0.7703-0.3217-1.13-0.5134-0.3993-0.2128-0.9245-0.738-1.137-1.137-0.1916-0.3596-0.3722-0.7774-0.5133-1.129-0.1688-0.4213-0.4076-0.4211-0.5763 3.506e-4zm-4.805 6.427c-0.1056 0.2639-0.2409 0.5772-0.3845 0.8467-0.1594 0.2992-0.553 0.6928-0.8524 0.8521-0.2701 0.1438-0.5842 0.2792-0.8487 0.3849-0.3158 0.1262-0.3157 0.3049 1.36e-4 0.4312 0.2645 0.1058 0.5787 0.2413 0.8488 0.3851 0.2992 0.1593 0.6928 0.553 0.8521 0.8523 0.1437 0.2699 0.279 0.5837 0.3847 0.848 0.1263 0.3158 0.305 0.3157 0.4314-9.7e-5 0.1058-0.2643 0.2412-0.5782 0.385-0.8482 0.1594-0.2992 0.553-0.6929 0.8522-0.8523 0.2695-0.1436 0.5828-0.279 0.8467-0.3847 0.3157-0.1265 0.3156-0.3055-1.838e-4 -0.432-0.2639-0.1057-0.5772-0.241-0.8467-0.3847-0.2992-0.1594-0.6928-0.553-0.8523-0.8523-0.1436-0.2694-0.2789-0.5826-0.3846-0.8464-0.1265-0.3157-0.3054-0.3156-0.4318 2.627e-4zm9.262 0.691c-0.2263 0.5653-0.516 1.236-0.8235 1.814-0.3414 0.6409-1.185 1.484-1.826 1.825-0.5786 0.3079-1.251 0.598-1.818 0.8244-0.6765 0.2703-0.6763 0.6531 2.913e-4 0.9236 0.5667 0.2266 1.24 0.5169 1.818 0.825 0.641 0.3413 1.484 1.184 1.825 1.826 0.3078 0.5782 0.5977 1.25 0.8241 1.817 0.2705 0.6764 0.6534 0.6763 0.9241-2.09e-4 0.2266-0.5662 0.5167-1.239 0.8247-1.817 0.3414-0.641 1.184-1.484 1.826-1.826 0.5774-0.3077 1.248-0.5976 1.814-0.824 0.6763-0.2709 0.6761-0.6543-3.95e-4 -0.9253-0.5653-0.2264-1.236-0.5163-1.814-0.824-0.6408-0.3415-1.484-1.185-1.826-1.826-0.3076-0.5772-0.5974-1.248-0.8238-1.813-0.2709-0.6762-0.6542-0.676-0.925 5.627e-4z"]},Bx={data:ed},jx={data:{prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]}},Ux={data:{prefix:"fas",iconName:"user-plus",icon:[640,512,[],"f234","M352 128c0 70.7-57.3 128-128 128s-128-57.3-128-128S153.3 0 224 0s128 57.3 128 128zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3zM504 312V248H440c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V136c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H552v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]}},Wx={data:rd},Yx={data:{prefix:"fas",iconName:"copy",icon:[512,512,[],"f0c5","M224 0c-35.3 0-64 28.7-64 64V288c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H224zM64 160c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H288c35.3 0 64-28.7 64-64V384H288v64H64V224h64V160H64z"]}},Kx={data:zu},Gx={data:md},Xx={data:Bu},Zx={data:Ku},Jx={data:{prefix:"fas",iconName:"chevron-right",icon:[384,512,[9002],"f054","M342.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L274.7 256 105.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]}},Qx={data:{prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V274.7l-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7V32zM64 352c-35.3 0-64 28.7-64 64v32c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V416c0-35.3-28.7-64-64-64H346.5l-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352H64zM432 456c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"]}},eC={data:{prefix:"fas",iconName:"upload",icon:[512,512,[],"f093","M288 109.3V352c0 17.7-14.3 32-32 32s-32-14.3-32-32V109.3l-73.4 73.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l128-128c12.5-12.5 32.8-12.5 45.3 0l128 128c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L288 109.3zM64 352H192c0 35.3 28.7 64 64 64s64-28.7 64-64H448c35.3 0 64 28.7 64 64v32c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V416c0-35.3 28.7-64 64-64zM432 456c13.3 0 24-10.7 24-24s-10.7-24-24-24s-24 10.7-24 24s10.7 24 24 24z"]}},tC={data:{prefix:"fas",iconName:"microscope",icon:[512,512,[128300],"f610","M168 32c0-17.7 14.3-32 32-32h16c17.7 0 32 14.3 32 32h8c17.7 0 32 14.3 32 32V288c0 17.7-14.3 32-32 32h-8c0 17.7-14.3 32-32 32H200c-17.7 0-32-14.3-32-32h-8c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32l8 0zM32 448H320c70.7 0 128-57.3 128-128s-57.3-128-128-128V128c106 0 192 86 192 192c0 49.2-18.5 94-48.9 128H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H320 32c-17.7 0-32-14.3-32-32s14.3-32 32-32zm80-64H304c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]}},nC={data:ld},rC={data:$d},oC={data:$d},sC={data:gd},aC={data:Ju},iC={data:{prefix:"fas",iconName:"filter-circle-xmark",icon:[576,512,[],"e17b","M3.9 22.9C10.5 8.9 24.5 0 40 0H472c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L396.4 195.6C316.2 212.1 256 283 256 368c0 27.4 6.3 53.4 17.5 76.5c-1.6-.8-3.2-1.8-4.7-2.9l-64-48c-8.1-6-12.8-15.5-12.8-25.6V288.9L9 65.3C-.7 53.4-2.8 36.8 3.9 22.9zM432 512c-79.5 0-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144s-64.5 144-144 144zm59.3-180.7c6.2-6.2 6.2-16.4 0-22.6s-16.4-6.2-22.6 0L432 345.4l-36.7-36.7c-6.2-6.2-16.4-6.2-22.6 0s-6.2 16.4 0 22.6L409.4 368l-36.7 36.7c-6.2 6.2-6.2 16.4 0 22.6s16.4 6.2 22.6 0L432 390.6l36.7 36.7c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6L454.6 368l36.7-36.7z"]}},lC={data:od},cC={data:yd},uC={data:cd},dC={data:{prefix:"fas",iconName:"paper-plane",icon:[512,512,[61913],"f1d8","M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L277.3 424.9l-40.1 74.5c-5.2 9.7-16.3 14.6-27 11.9S192 499 192 488V392c0-5.3 1.8-10.5 5.1-14.7L362.4 164.7c2.5-7.1-6.5-14.3-13-8.4L170.4 318.2l-32 28.9 0 0c-9.2 8.3-22.3 10.6-33.8 5.8l-85-35.4C8.4 312.8 .8 302.2 .1 290s5.5-23.7 16.1-29.8l448-256c10.7-6.1 23.9-5.5 34 1.4z"]}},$C={data:ud},pC={data:Xu},mC={data:id},fC={data:{prefix:"fas",iconName:"paste",icon:[512,512,["file-clipboard"],"f0ea","M160 0c-23.7 0-44.4 12.9-55.4 32H48C21.5 32 0 53.5 0 80V400c0 26.5 21.5 48 48 48H192V176c0-44.2 35.8-80 80-80h48V80c0-26.5-21.5-48-48-48H215.4C204.4 12.9 183.7 0 160 0zM272 128c-26.5 0-48 21.5-48 48V448v16c0 26.5 21.5 48 48 48H464c26.5 0 48-21.5 48-48V256H416c-17.7 0-32-14.3-32-32V128H320 272zM160 88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24zm256 40v96h96l-96-96z"]}},gC={data:{prefix:"fas",iconName:"arrow-right-from-bracket",icon:[576,512,["sign-out"],"f08b","M534.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L434.7 224 224 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l210.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128zM192 96c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-53 0-96 43-96 96l0 256c0 53 43 96 96 96l64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l64 0z"]}},hC={data:{prefix:"fas",iconName:"diagram-next",icon:[512,512,[],"e476","M512 160c0 35.3-28.7 64-64 64H280v64h46.1c21.4 0 32.1 25.9 17 41L273 399c-9.4 9.4-24.6 9.4-33.9 0L169 329c-15.1-15.1-4.4-41 17-41H232V224H64c-35.3 0-64-28.7-64-64V96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64v64zM448 416V352H365.3l.4-.4c18.4-18.4 20.4-43.7 11-63.6l71.3 0c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64V352c0-35.3 28.7-64 64-64l71.3 0c-9.4 19.9-7.4 45.2 11 63.6l.4 .4H64v64H210.7l5.7 5.7c21.9 21.9 57.3 21.9 79.2 0l5.7-5.7H448z"]}},yC={data:{prefix:"fas",iconName:"wand-sparkles",icon:[512,512,[],"f72b","M464 6.1c9.5-8.5 24-8.1 33 .9l8 8c9 9 9.4 23.5 .9 33l-85.8 95.9c-2.6 2.9-4.1 6.7-4.1 10.7V176c0 8.8-7.2 16-16 16H384.2c-4.6 0-8.9 1.9-11.9 5.3L100.7 500.9C94.3 508 85.3 512 75.8 512c-8.8 0-17.3-3.5-23.5-9.8L9.7 459.7C3.5 453.4 0 445 0 436.2c0-9.5 4-18.5 11.1-24.8l111.6-99.8c3.4-3 5.3-7.4 5.3-11.9V272c0-8.8 7.2-16 16-16h34.6c3.9 0 7.7-1.5 10.7-4.1L464 6.1zM432 288c3.6 0 6.7 2.4 7.7 5.8l14.8 51.7 51.7 14.8c3.4 1 5.8 4.1 5.8 7.7s-2.4 6.7-5.8 7.7l-51.7 14.8-14.8 51.7c-1 3.4-4.1 5.8-7.7 5.8s-6.7-2.4-7.7-5.8l-14.8-51.7-51.7-14.8c-3.4-1-5.8-4.1-5.8-7.7s2.4-6.7 5.8-7.7l51.7-14.8 14.8-51.7c1-3.4 4.1-5.8 7.7-5.8zM87.7 69.8l14.8 51.7 51.7 14.8c3.4 1 5.8 4.1 5.8 7.7s-2.4 6.7-5.8 7.7l-51.7 14.8L87.7 218.2c-1 3.4-4.1 5.8-7.7 5.8s-6.7-2.4-7.7-5.8L57.5 166.5 5.8 151.7c-3.4-1-5.8-4.1-5.8-7.7s2.4-6.7 5.8-7.7l51.7-14.8L72.3 69.8c1-3.4 4.1-5.8 7.7-5.8s6.7 2.4 7.7 5.8zM224 0c3.7 0 6.9 2.5 7.8 6.1l6.8 27.3 27.3 6.8c3.6 .9 6.1 4.1 6.1 7.8s-2.5 6.9-6.1 7.8l-27.3 6.8-6.8 27.3c-.9 3.6-4.1 6.1-7.8 6.1s-6.9-2.5-7.8-6.1l-6.8-27.3-27.3-6.8c-3.6-.9-6.1-4.1-6.1-7.8s2.5-6.9 6.1-7.8l27.3-6.8 6.8-27.3c.9-3.6 4.1-6.1 7.8-6.1z"]}},bC={data:{prefix:"fas",iconName:"share-from-square",icon:[576,512,[61509,"share-square"],"f14d","M384 24c0-9.6 5.7-18.2 14.5-22s19-2 26 4.6l144 136c4.8 4.5 7.5 10.8 7.5 17.4s-2.7 12.9-7.5 17.4l-144 136c-7 6.6-17.2 8.4-26 4.6s-14.5-12.5-14.5-22V224H352 337.5c-45 0-81.5 36.5-81.5 81.5c0 22.3 10.3 34.3 19.2 40.5c6.8 4.7 12.8 12 12.8 20.3c0 9.8-8 17.8-17.8 17.8h-2.5c-2.4 0-4.8-.4-7.1-1.4C242.8 374.8 160 333.4 160 240c0-79.5 64.5-144 144-144h80V24zM0 144C0 99.8 35.8 64 80 64H96c17.7 0 32 14.3 32 32s-14.3 32-32 32H80c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16H368c8.8 0 16-7.2 16-16V416c0-17.7 14.3-32 32-32s32 14.3 32 32v16c0 44.2-35.8 80-80 80H80c-44.2 0-80-35.8-80-80V144z"]}},vC={data:nd},wC={data:{prefix:"fas",iconName:"grip",icon:[448,512,["grip-horizontal"],"f58d","M128 136c0-22.1-17.9-40-40-40L40 96C17.9 96 0 113.9 0 136l0 48c0 22.1 17.9 40 40 40H88c22.1 0 40-17.9 40-40V136zm0 192c0-22.1-17.9-40-40-40H40c-22.1 0-40 17.9-40 40v48c0 22.1 17.9 40 40 40H88c22.1 0 40-17.9 40-40V328zm32-192v48c0 22.1 17.9 40 40 40h48c22.1 0 40-17.9 40-40V136c0-22.1-17.9-40-40-40l-48 0c-22.1 0-40 17.9-40 40zM288 328c0-22.1-17.9-40-40-40H200c-22.1 0-40 17.9-40 40l0 48c0 22.1 17.9 40 40 40h48c22.1 0 40-17.9 40-40V328zm32-192v48c0 22.1 17.9 40 40 40h48c22.1 0 40-17.9 40-40V136c0-22.1-17.9-40-40-40l-48 0c-22.1 0-40 17.9-40 40zM448 328c0-22.1-17.9-40-40-40H360c-22.1 0-40 17.9-40 40v48c0 22.1 17.9 40 40 40h48c22.1 0 40-17.9 40-40V328z"]}},_C={data:Gu},xC={data:fd,flip:"vertical"},CC={data:Zu},SC={data:{prefix:"fas",iconName:"comments",icon:[640,512,[128490,61670],"f086","M208 352c114.9 0 208-78.8 208-176S322.9 0 208 0S0 78.8 0 176c0 38.6 14.7 74.3 39.6 103.4c-3.5 9.4-8.7 17.7-14.2 24.7c-4.8 6.2-9.7 11-13.3 14.3c-1.8 1.6-3.3 2.9-4.3 3.7c-.5 .4-.9 .7-1.1 .8l-.2 .2 0 0 0 0C1 327.2-1.4 334.4 .8 340.9S9.1 352 16 352c21.8 0 43.8-5.6 62.1-12.5c9.2-3.5 17.8-7.4 25.3-11.4C134.1 343.3 169.8 352 208 352zM448 176c0 112.3-99.1 196.9-216.5 207C255.8 457.4 336.4 512 432 512c38.2 0 73.9-8.7 104.7-23.9c7.5 4 16 7.9 25.2 11.4c18.3 6.9 40.3 12.5 62.1 12.5c6.9 0 13.1-4.5 15.2-11.1c2.1-6.6-.2-13.8-5.8-17.9l0 0 0 0-.2-.2c-.2-.2-.6-.4-1.1-.8c-1-.8-2.5-2-4.3-3.7c-3.6-3.3-8.5-8.1-13.3-14.3c-5.5-7-10.7-15.4-14.2-24.7c24.9-29 39.6-64.7 39.6-103.4c0-92.8-84.9-168.9-192.6-175.5c.4 5.1 .6 10.3 .6 15.5z"]}},kC={data:{prefix:"fas",iconName:"plug",icon:[384,512,[128268],"f1e6","M96 0C78.3 0 64 14.3 64 32v96h64V32c0-17.7-14.3-32-32-32zM288 0c-17.7 0-32 14.3-32 32v96h64V32c0-17.7-14.3-32-32-32zM32 160c-17.7 0-32 14.3-32 32s14.3 32 32 32v32c0 77.4 55 142 128 156.8V480c0 17.7 14.3 32 32 32s32-14.3 32-32V412.8C297 398 352 333.4 352 256V224c17.7 0 32-14.3 32-32s-14.3-32-32-32H32z"]}},MC={data:Wu},IC={data:{icon:[24,24,[],"","M5 12.5C5 12.8134 5.46101 13.3584 6.53047 13.8931C7.91405 14.5849 9.87677 15 12 15C14.1232 15 16.0859 14.5849 17.4695 13.8931C18.539 13.3584 19 12.8134 19 12.5V10.3287C17.35 11.3482 14.8273 12 12 12C9.17273 12 6.64996 11.3482 5 10.3287V12.5ZM19 15.3287C17.35 16.3482 14.8273 17 12 17C9.17273 17 6.64996 16.3482 5 15.3287V17.5C5 17.8134 5.46101 18.3584 6.53047 18.8931C7.91405 19.5849 9.87677 20 12 20C14.1232 20 16.0859 19.5849 17.4695 18.8931C18.539 18.3584 19 17.8134 19 17.5V15.3287ZM3 17.5V7.5C3 5.01472 7.02944 3 12 3C16.9706 3 21 5.01472 21 7.5V17.5C21 19.9853 16.9706 22 12 22C7.02944 22 3 19.9853 3 17.5ZM12 10C14.1232 10 16.0859 9.58492 17.4695 8.89313C18.539 8.3584 19 7.81342 19 7.5C19 7.18658 18.539 6.6416 17.4695 6.10687C16.0859 5.41508 14.1232 5 12 5C9.87677 5 7.91405 5.41508 6.53047 6.10687C5.46101 6.6416 5 7.18658 5 7.5C5 7.81342 5.46101 8.3584 6.53047 8.89313C7.91405 9.58492 9.87677 10 12 10Z"]}},TC={data:{prefix:"fas",iconName:"book",icon:[448,512,[128212],"f02d","M96 0C43 0 0 43 0 96V416c0 53 43 96 96 96H384h32c17.7 0 32-14.3 32-32s-14.3-32-32-32V384c17.7 0 32-14.3 32-32V32c0-17.7-14.3-32-32-32H384 96zm0 384H352v64H96c-17.7 0-32-14.3-32-32s14.3-32 32-32zm32-240c0-8.8 7.2-16 16-16H336c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16zm16 48H336c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]}},EC={data:{prefix:"fas",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"]}},DC={data:{icon:[24,24,[],"",["M16.3776 8.27091C16.538 7.86412 16.1358 7.46189 15.729 7.62233L10.1173 9.83557C9.98843 9.88639 9.88643 9.98839 9.8356 10.1173L7.62237 15.729C7.46193 16.1358 7.86415 16.538 8.27094 16.3776L13.8827 14.1643C14.0115 14.1135 14.1135 14.0115 14.1644 13.8826L16.3776 8.27091Z",{fillRule:"evenodd",clipRule:"evenodd",path:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12ZM22.5 12C22.5 17.799 17.799 22.5 12 22.5C6.20101 22.5 1.5 17.799 1.5 12C1.5 6.20101 6.20101 1.5 12 1.5C17.799 1.5 22.5 6.20101 22.5 12Z"}]]}},OC={data:sd},NC={data:Vu},AC={data:ed},RC={data:{prefix:"fas",iconName:"clipboard-list",icon:[384,512,[],"f46d","M101.5 64C114.6 26.7 150.2 0 192 0s77.4 26.7 90.5 64H320c35.3 0 64 28.7 64 64V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128C0 92.7 28.7 64 64 64h37.5zM224 96c0-17.7-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32zM160 368c0 8.8 7.2 16 16 16H304c8.8 0 16-7.2 16-16s-7.2-16-16-16H176c-8.8 0-16 7.2-16 16zM96 392c13.3 0 24-10.7 24-24s-10.7-24-24-24s-24 10.7-24 24s10.7 24 24 24zm64-120c0 8.8 7.2 16 16 16H304c8.8 0 16-7.2 16-16s-7.2-16-16-16H176c-8.8 0-16 7.2-16 16zM96 296c13.3 0 24-10.7 24-24s-10.7-24-24-24s-24 10.7-24 24s10.7 24 24 24z"]}},FC={data:{prefix:"fas",iconName:"list-ul",icon:[512,512,["list-dots"],"f0ca","M64 144c26.5 0 48-21.5 48-48s-21.5-48-48-48S16 69.5 16 96s21.5 48 48 48zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zM64 464c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm48-208c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48z"]}},PC={data:ad},LC={data:{prefix:"fas",iconName:"newspaper",icon:[512,512,[128240],"f1ea","M96 96c0-35.3 28.7-64 64-64H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H80c-44.2 0-80-35.8-80-80V128c0-17.7 14.3-32 32-32s32 14.3 32 32V400c0 8.8 7.2 16 16 16s16-7.2 16-16V96zm64 24v80c0 13.3 10.7 24 24 24H424c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24H184c-13.3 0-24 10.7-24 24zm0 184c0 8.8 7.2 16 16 16h96c8.8 0 16-7.2 16-16s-7.2-16-16-16H176c-8.8 0-16 7.2-16 16zm160 0c0 8.8 7.2 16 16 16h96c8.8 0 16-7.2 16-16s-7.2-16-16-16H336c-8.8 0-16 7.2-16 16zM160 400c0 8.8 7.2 16 16 16h96c8.8 0 16-7.2 16-16s-7.2-16-16-16H176c-8.8 0-16 7.2-16 16zm160 0c0 8.8 7.2 16 16 16h96c8.8 0 16-7.2 16-16s-7.2-16-16-16H336c-8.8 0-16 7.2-16 16z"]}},HC={data:qx},zC={data:qu},VC={data:pd},qC={data:{prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336c44.2 0 80-35.8 80-80s-35.8-80-80-80s-80 35.8-80 80s35.8 80 80 80z"]}},BC={data:{prefix:"fas",iconName:"sliders",icon:[512,512,["sliders-h"],"f1de","M0 416c0-17.7 14.3-32 32-32l54.7 0c12.3-28.3 40.5-48 73.3-48s61 19.7 73.3 48L480 384c17.7 0 32 14.3 32 32s-14.3 32-32 32l-246.7 0c-12.3 28.3-40.5 48-73.3 48s-61-19.7-73.3-48L32 448c-17.7 0-32-14.3-32-32zm192 0c0-17.7-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32zM384 256c0-17.7-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32zm-32-80c32.8 0 61 19.7 73.3 48l54.7 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-54.7 0c-12.3 28.3-40.5 48-73.3 48s-61-19.7-73.3-48L32 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l246.7 0c12.3-28.3 40.5-48 73.3-48zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32s-14.3-32-32-32zm73.3 0L480 64c17.7 0 32 14.3 32 32s-14.3 32-32 32l-214.7 0c-12.3 28.3-40.5 48-73.3 48s-61-19.7-73.3-48L32 128C14.3 128 0 113.7 0 96S14.3 64 32 64l86.7 0C131 35.7 159.2 16 192 16s61 19.7 73.3 48z"]}},jC={data:{prefix:"fas",iconName:"sort",icon:[320,512,["unsorted"],"f0dc","M137.4 41.4c12.5-12.5 32.8-12.5 45.3 0l128 128c9.2 9.2 11.9 22.9 6.9 34.9s-16.6 19.8-29.6 19.8H32c-12.9 0-24.6-7.8-29.6-19.8s-2.2-25.7 6.9-34.9l128-128zm0 429.3l-128-128c-9.2-9.2-11.9-22.9-6.9-34.9s16.6-19.8 29.6-19.8H288c12.9 0 24.6 7.8 29.6 19.8s2.2 25.7-6.9 34.9l-128 128c-12.5 12.5-32.8 12.5-45.3 0z"]}},UC={data:{icon:[16,16,[],"",{fillRule:"evenodd",clipRule:"evenodd",path:"M15 1C15.5523 1 16 1.44771 16 2V13.5644C16 14.1166 15.5523 14.5644 15 14.5644H1C0.447715 14.5644 0 14.1166 0 13.5644V2C0 1.44772 0.447715 1 1 1H15ZM14.6 6.76282V9.3349C14.5517 9.32236 14.501 9.31568 14.4488 9.31568L11.4861 9.31568V6.78197L14.449 6.78197C14.5012 6.78197 14.5518 6.77532 14.6 6.76282ZM5.83926 9.31569L10.2861 9.31569V6.78197L5.83926 6.78196V9.31569ZM4.63926 9.31569L1.4 9.31569V6.78196L4.63926 6.78196V9.31569ZM4.63926 10.5157V13.1644H1.4V10.5157L4.63926 10.5157ZM5.83926 13.1644V10.5157L10.2861 10.5157V13.1644H5.83926ZM11.4861 10.5157V13.1644H14.6V10.4965C14.5517 10.509 14.501 10.5157 14.4488 10.5157L11.4861 10.5157ZM14.6 5.60112V2.4H1.4V5.58196L14.449 5.58197C14.5012 5.58197 14.5518 5.58862 14.6 5.60112Z"}]}},WC={data:{prefix:"fas",iconName:"info",icon:[192,512,[],"f129","M144 80c0 26.5-21.5 48-48 48s-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48zM0 224c0-17.7 14.3-32 32-32H96c17.7 0 32 14.3 32 32V448h32c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H64V256H32c-17.7 0-32-14.3-32-32z"]}},YC={data:$d},KC={data:{icon:[9,10,[],"",["M0.5 5V0H1.5V5C1.5 6.933 3.067 8.5 5 8.5H9V9.5H5C2.51472 9.5 0.5 7.48528 0.5 5Z"]]}},GC={data:{prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-144c-17.7 0-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32z"]}},XC={data:gd},ZC={data:{prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0S96 57.3 96 128s57.3 128 128 128zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"]}},JC={data:{prefix:"fas",iconName:"users",icon:[640,512,[],"f0c0","M144 160c-44.2 0-80-35.8-80-80S99.8 0 144 0s80 35.8 80 80s-35.8 80-80 80zm368 0c-44.2 0-80-35.8-80-80s35.8-80 80-80s80 35.8 80 80s-35.8 80-80 80zM0 298.7C0 239.8 47.8 192 106.7 192h42.7c15.9 0 31 3.5 44.6 9.7c-1.3 7.2-1.9 14.7-1.9 22.3c0 38.2 16.8 72.5 43.3 96c-.2 0-.4 0-.7 0H21.3C9.6 320 0 310.4 0 298.7zM405.3 320c-.2 0-.4 0-.7 0c26.6-23.5 43.3-57.8 43.3-96c0-7.6-.7-15-1.9-22.3c13.6-6.3 28.7-9.7 44.6-9.7h42.7C592.2 192 640 239.8 640 298.7c0 11.8-9.6 21.3-21.3 21.3H405.3zM416 224c0 53-43 96-96 96s-96-43-96-96s43-96 96-96s96 43 96 96zM128 485.3C128 411.7 187.7 352 261.3 352H378.7C452.3 352 512 411.7 512 485.3c0 14.7-11.9 26.7-26.7 26.7H154.7c-14.7 0-26.7-11.9-26.7-26.7z"]}},QC={data:{prefix:"fas",iconName:"user-gear",icon:[640,512,["user-cog"],"f4fe","M224 256c-70.7 0-128-57.3-128-128S153.3 0 224 0s128 57.3 128 128s-57.3 128-128 128zm-45.7 48h91.4c11.8 0 23.4 1.2 34.5 3.3c-2.1 18.5 7.4 35.6 21.8 44.8c-16.6 10.6-26.7 31.6-20 53.3c4 12.9 9.4 25.5 16.4 37.6s15.2 23.1 24.4 33c15.7 16.9 39.6 18.4 57.2 8.7v.9c0 9.2 2.7 18.5 7.9 26.3H29.7C13.3 512 0 498.7 0 482.3C0 383.8 79.8 304 178.3 304zM436 218.2c0-7 4.5-13.3 11.3-14.8c10.5-2.4 21.5-3.7 32.7-3.7s22.2 1.3 32.7 3.7c6.8 1.5 11.3 7.8 11.3 14.8v30.6c7.9 3.4 15.4 7.7 22.3 12.8l24.9-14.3c6.1-3.5 13.7-2.7 18.5 2.4c7.6 8.1 14.3 17.2 20.1 27.2s10.3 20.4 13.5 31c2.1 6.7-1.1 13.7-7.2 17.2l-25 14.4c.4 4 .7 8.1 .7 12.3s-.2 8.2-.7 12.3l25 14.4c6.1 3.5 9.2 10.5 7.2 17.2c-3.3 10.6-7.8 21-13.5 31s-12.5 19.1-20.1 27.2c-4.8 5.1-12.5 5.9-18.5 2.4l-24.9-14.3c-6.9 5.1-14.3 9.4-22.3 12.8l0 30.6c0 7-4.5 13.3-11.3 14.8c-10.5 2.4-21.5 3.7-32.7 3.7s-22.2-1.3-32.7-3.7c-6.8-1.5-11.3-7.8-11.3-14.8V454.8c-8-3.4-15.6-7.7-22.5-12.9l-24.7 14.3c-6.1 3.5-13.7 2.7-18.5-2.4c-7.6-8.1-14.3-17.2-20.1-27.2s-10.3-20.4-13.5-31c-2.1-6.7 1.1-13.7 7.2-17.2l24.8-14.3c-.4-4.1-.7-8.2-.7-12.4s.2-8.3 .7-12.4L343.8 325c-6.1-3.5-9.2-10.5-7.2-17.2c3.3-10.6 7.7-21 13.5-31s12.5-19.1 20.1-27.2c4.8-5.1 12.4-5.9 18.5-2.4l24.8 14.3c6.9-5.1 14.5-9.4 22.5-12.9V218.2zm92.1 133.5c0-26.5-21.5-48-48.1-48s-48.1 21.5-48.1 48s21.5 48 48.1 48s48.1-21.5 48.1-48z"]}},eS={data:rd},tS={data:{prefix:"fas",iconName:"arrow-left",icon:[448,512,[8592],"f060","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]}},nS={data:{prefix:"fas",iconName:"slash",icon:[640,512,[],"f715","M5.1 9.2C13.3-1.2 28.4-3.1 38.8 5.1l592 464c10.4 8.2 12.3 23.3 4.1 33.7s-23.3 12.3-33.7 4.1L9.2 42.9C-1.2 34.7-3.1 19.6 5.1 9.2z"]}},rS={data:$d},oS={data:{prefix:"fas",iconName:"t",icon:[384,512,[116],"54","M32 32C14.3 32 0 46.3 0 64S14.3 96 32 96H160V448c0 17.7 14.3 32 32 32s32-14.3 32-32V96H352c17.7 0 32-14.3 32-32s-14.3-32-32-32H192 32z"]}},sS={data:{prefix:"fas",iconName:"database",icon:[448,512,[],"f1c0","M448 80v48c0 44.2-100.3 80-224 80S0 172.2 0 128V80C0 35.8 100.3 0 224 0S448 35.8 448 80zM393.2 214.7c20.8-7.4 39.9-16.9 54.8-28.6V288c0 44.2-100.3 80-224 80S0 332.2 0 288V186.1c14.9 11.8 34 21.2 54.8 28.6C99.7 230.7 159.5 240 224 240s124.3-9.3 169.2-25.3zM0 346.1c14.9 11.8 34 21.2 54.8 28.6C99.7 390.7 159.5 400 224 400s124.3-9.3 169.2-25.3c20.8-7.4 39.9-16.9 54.8-28.6V432c0 44.2-100.3 80-224 80S0 476.2 0 432V346.1z"]}},aS={data:{prefix:"fas",iconName:"caret-right",icon:[256,512,[],"f0da","M246.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-9.2-9.2-22.9-11.9-34.9-6.9s-19.8 16.6-19.8 29.6l0 256c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l128-128z"]}},iS={data:{icon:[100,100,[],"",["M 50 1.14 C 49.12 1.14 48.23 1.33 47.45 1.7 L 11.29 17.03 C 7.07 18.82 3.92 22.98 3.94 28.01 C 4.04 47.04 11.87 81.87 44.93 97.71 C 48.14 99.24 51.86 99.24 55.07 97.71 C 88.13 81.87 95.96 47.04 96.06 28.01 C 96.08 22.98 92.93 18.82 88.71 17.03 L 52.57 1.7 C 51.77 1.33 50.88 1.14 50 1.14 z M 50 28.19 A 15.36 15.36 0 0 1 65.36 43.55 A 15.36 15.36 0 0 1 56.37 57.53 L 56.37 74.35 A 6.36 6.36 0 0 1 50 80.72 A 6.36 6.36 0 0 1 43.63 74.35 L 43.63 57.53 A 15.36 15.36 0 0 1 34.64 43.55 A 15.36 15.36 0 0 1 50 28.19 z"]]}},lS={data:Wu},cS={data:qx},uS={data:{icon:[1e3,1e3,[],"","m565 298c0 40-32 72-72 72s-72-32-72-72 32-72 72-72 72 32 72 72zm-131 119c-30 0-55 25-55 55s25 55 55 55h11v120h-29c-30 0-55 25-55 55s25 55 55 55h168c30 0 55-25 55-55s-25-55-55-55h-29v-175c0-30-25-55-55-55zm66-411c-131 0-257 52-349 145-93 92-145 218-145 349s52 257 145 349c92 93 218 145 349 145s257-52 349-145c93-92 145-218 145-349s-52-257-145-349c-92-93-218-145-349-145zm0 110c102 0 200 40 272 112s112 170 112 272-40 200-112 272-170 112-272 112-200-40-272-112-112-170-112-272c0-212 172-384 384-384z"]}},dS={icon:[2e3,345,[],"","m824 0v339h69v-123c0-48 18-81 57-81 34 0 45 27 45 64v140h68v-160c0-57-32-97-90-97-36 0-66 16-82 47h-2c3-10 4-23 4-38v-91zm-824 10v329h66v-222c0-15-1-31-1-46h3c2 12 7 33 11 50l62 218h64l63-214c4-15 9-39 11-54h3c-1 19-1 33-1 50v218h66v-329h-105l-56 202c-5 15-9 39-11 52h-2c-1-13-6-38-10-53l-56-201zm730 8-68 11v58h-40v51h40v125c0 62 35 79 76 79 24 0 45-6 61-15v-44c-14 5-25 7-34 7-23 0-34-11-34-44v-108h70v-51h-71zm-228 64c-40 0-77 16-97 30v53c24-16 58-31 87-31 28 0 50 14 50 41-31 0-79 4-115 24-25 14-45 35-45 70 0 47 36 73 79 73 37 0 70-20 80-49h2l3 46h65l-4-77v-79c0-62-39-100-105-100zm719 0c-79 0-128 54-128 132s56 130 137 130c41 0 78-15 95-27v-53c-20 15-57 27-88 27-39 0-73-19-75-60h175v-26c0-71-41-123-117-123zm234 0c-58 0-98 30-98 75 0 42 31 62 86 78 19 6 48 15 48 32 0 14-16 23-43 23-31 0-69-13-92-28v52c20 17 60 29 96 29 64 0 109-32 109-80 0-49-51-67-91-78-23-7-44-13-44-29 0-13 14-22 38-22s55 8 75 22v-53c-22-13-55-22-84-22zm242 0c-40 0-77 16-97 30v53c24-16 58-31 87-31 28 0 50 14 50 41-31 0-79 4-115 24-25 14-45 35-45 70 0 47 36 73 79 73 37 0 70-20 80-49h2l3 46h65l-4-77v-79c0-62-39-100-105-100zm273 2c-30 0-56 24-64 61h-2v-58h-57v252h69v-106c0-55 21-86 59-86 8 0 17 2 26 5v-60c-8-5-20-8-30-8zm-748 47c28 0 51 17 55 52h-114c4-34 30-52 59-52zm-680 83v13c0 47-33 67-58 67-18 0-32-10-32-30 0-16 10-29 27-37 18-9 47-12 62-13zm1196 0v13c0 47-33 67-58 67-18 0-32-10-32-30 0-16 10-29 27-37 18-9 47-12 62-13zz"]},$S={data:{icon:[100,100,[],"","m38.8 0c-8.2 0-15 6.8-15 15v46.2c0 8.2 6.8 15 15 15h46.2c8.2 0 15-6.8 15-15v-46.2c0-8.2-6.8-15-15-15zm43.6 6.7c3.402 0.05358 6.146 2.798 6.2 6.2 4.33e-4 3.441-2.76 6.245-6.2 6.3-3.479 0-6.3-2.821-6.3-6.3 0.05461-3.44 2.859-6.2 6.3-6.2zm-68.4 17.2c-7.7 0.5-14 7-14 14.9v46.2c0 8.2 6.8 15 15 15h46.2c7.9 0 14.4-6.3 14.9-14h-47.1c-8.2 0-15-6.8-15-15zm19.8 0.5h56.2v36.8c0 2.8-2.1 5-5 5h-46.2c-2.8 0-5-2.2-5-5z"]}},pS={data:dd},mS={data:qu},fS={data:Qu},gS={data:{prefix:"fas",iconName:"file-audio",icon:[384,512,[],"f1c7","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zm2 226.3c37.1 22.4 62 63.1 62 109.7s-24.9 87.3-62 109.7c-7.6 4.6-17.4 2.1-22-5.4s-2.1-17.4 5.4-22C269.4 401.5 288 370.9 288 336s-18.6-65.5-46.5-82.3c-7.6-4.6-10-14.4-5.4-22s14.4-10 22-5.4zm-91.9 30.9c6 2.5 9.9 8.3 9.9 14.8V400c0 6.5-3.9 12.3-9.9 14.8s-12.9 1.1-17.4-3.5L113.4 376H80c-8.8 0-16-7.2-16-16V312c0-8.8 7.2-16 16-16h33.4l35.3-35.3c4.6-4.6 11.5-5.9 17.4-3.5zm51 34.9c6.6-5.9 16.7-5.3 22.6 1.3C249.8 304.6 256 319.6 256 336s-6.2 31.4-16.3 42.7c-5.9 6.6-16 7.1-22.6 1.3s-7.1-16-1.3-22.6c5.1-5.7 8.1-13.1 8.1-21.3s-3.1-15.7-8.1-21.3c-5.9-6.6-5.3-16.7 1.3-22.6z"]}},hS={data:{prefix:"fas",iconName:"file-code",icon:[384,512,[],"f1c9","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM153 289l-31 31 31 31c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0L71 337c-9.4-9.4-9.4-24.6 0-33.9l48-48c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9zM265 255l48 48c9.4 9.4 9.4 24.6 0 33.9l-48 48c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l31-31-31-31c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z"]}},yS={data:{prefix:"fas",iconName:"file-csv",icon:[384,512,[],"f6dd","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM80 224H96c22.1 0 40 17.9 40 40v8c0 8.8-7.2 16-16 16s-16-7.2-16-16v-8c0-4.4-3.6-8-8-8H80c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8H96c4.4 0 8-3.6 8-8v-8c0-8.8 7.2-16 16-16s16 7.2 16 16v8c0 22.1-17.9 40-40 40H80c-22.1 0-40-17.9-40-40V264c0-22.1 17.9-40 40-40zm72 46.4c0-25.6 20.8-46.4 46.4-46.4H216c8.8 0 16 7.2 16 16s-7.2 16-16 16H198.4c-7.9 0-14.4 6.4-14.4 14.4c0 5.2 2.8 9.9 7.2 12.5l25.4 14.5c14.4 8.3 23.4 23.6 23.4 40.3c0 25.6-20.8 46.4-46.4 46.4H168c-8.8 0-16-7.2-16-16s7.2-16 16-16h25.6c7.9 0 14.4-6.4 14.4-14.4c0-5.2-2.8-9.9-7.2-12.5l-25.4-14.5C160.9 302.4 152 287 152 270.4zM280 240v31.6c0 23 5.5 45.6 16 66c10.5-20.3 16-42.9 16-66V240c0-8.8 7.2-16 16-16s16 7.2 16 16v31.6c0 34.7-10.3 68.7-29.6 97.6l-5.1 7.7c-3 4.5-8 7.1-13.3 7.1s-10.3-2.7-13.3-7.1l-5.1-7.7c-19.3-28.9-29.6-62.9-29.6-97.6V240c0-8.8 7.2-16 16-16s16 7.2 16 16z"]}},bS={data:{prefix:"fas",iconName:"file-excel",icon:[384,512,[],"f1c3","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM155.7 250.2L192 302.1l36.3-51.9c7.6-10.9 22.6-13.5 33.4-5.9s13.5 22.6 5.9 33.4L221.3 344l46.4 66.2c7.6 10.9 5 25.8-5.9 33.4s-25.8 5-33.4-5.9L192 385.8l-36.3 51.9c-7.6 10.9-22.6 13.5-33.4 5.9s-13.5-22.6-5.9-33.4L162.7 344l-46.4-66.2c-7.6-10.9-5-25.8 5.9-33.4s25.8-5 33.4 5.9z"]}},vS={data:{prefix:"fas",iconName:"file-image",icon:[384,512,[128443],"f1c5","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM128 256c0 17.7-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32zm88 32c5.3 0 10.2 2.6 13.2 6.9l88 128c3.4 4.9 3.7 11.3 1 16.5s-8.2 8.6-14.2 8.6H216 176 128 80c-5.8 0-11.1-3.1-13.9-8.1s-2.8-11.2 .2-16.1l48-80c2.9-4.8 8.1-7.8 13.7-7.8s10.8 2.9 13.7 7.8l12.8 21.4 48.3-70.2c3-4.3 7.9-6.9 13.2-6.9z"]}},wS={data:{prefix:"fas",iconName:"file-pdf",icon:[384,512,[],"f1c1","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM64 224H88c30.9 0 56 25.1 56 56s-25.1 56-56 56H80v32c0 8.8-7.2 16-16 16s-16-7.2-16-16V320 240c0-8.8 7.2-16 16-16zm24 80c13.3 0 24-10.7 24-24s-10.7-24-24-24H80v48h8zm72-64c0-8.8 7.2-16 16-16h24c26.5 0 48 21.5 48 48v64c0 26.5-21.5 48-48 48H176c-8.8 0-16-7.2-16-16V240zm32 112h8c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16h-8v96zm96-128h48c8.8 0 16 7.2 16 16s-7.2 16-16 16H304v32h32c8.8 0 16 7.2 16 16s-7.2 16-16 16H304v48c0 8.8-7.2 16-16 16s-16-7.2-16-16V304 240c0-8.8 7.2-16 16-16z"]}},_S={data:{prefix:"fas",iconName:"file-powerpoint",icon:[384,512,[],"f1c4","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM136 240h68c42 0 76 34 76 76s-34 76-76 76H160v32c0 13.3-10.7 24-24 24s-24-10.7-24-24V368 264c0-13.3 10.7-24 24-24zm68 104c15.5 0 28-12.5 28-28s-12.5-28-28-28H160v56h44z"]}},xS={data:{prefix:"fas",iconName:"file-video",icon:[384,512,[],"f1c8","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM64 288c0-17.7 14.3-32 32-32h96c17.7 0 32 14.3 32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V288zM300.9 397.9L256 368V304l44.9-29.9c2-1.3 4.4-2.1 6.8-2.1c6.8 0 12.3 5.5 12.3 12.3V387.7c0 6.8-5.5 12.3-12.3 12.3c-2.4 0-4.8-.7-6.8-2.1z"]}},CS={data:{prefix:"fas",iconName:"file-word",icon:[384,512,[],"f1c2","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM111 257.1l26.8 89.2 31.6-90.3c3.4-9.6 12.5-16.1 22.7-16.1s19.3 6.4 22.7 16.1l31.6 90.3L273 257.1c3.8-12.7 17.2-19.9 29.9-16.1s19.9 17.2 16.1 29.9l-48 160c-3 10-12.1 16.9-22.4 17.1s-19.8-6.2-23.2-16.1L192 336.6l-33.3 95.3c-3.4 9.8-12.8 16.3-23.2 16.1s-19.5-7.1-22.4-17.1l-48-160c-3.8-12.7 3.4-26.1 16.1-29.9s26.1 3.4 29.9 16.1z"]}},SS={data:gd},kS={data:hd},MS={data:ju},IS={data:Yu},TS={data:Uu},ES={data:{prefix:"fas",iconName:"calendar-day",icon:[448,512,[],"f783","M128 0c17.7 0 32 14.3 32 32V64H288V32c0-17.7 14.3-32 32-32s32 14.3 32 32V64h48c26.5 0 48 21.5 48 48v48H0V112C0 85.5 21.5 64 48 64H96V32c0-17.7 14.3-32 32-32zM0 192H448V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V192zm80 64c-8.8 0-16 7.2-16 16v96c0 8.8 7.2 16 16 16h96c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H80z"]}},DS={data:{prefix:"fas",iconName:"calendar-week",icon:[448,512,[],"f784","M128 0c17.7 0 32 14.3 32 32V64H288V32c0-17.7 14.3-32 32-32s32 14.3 32 32V64h48c26.5 0 48 21.5 48 48v48H0V112C0 85.5 21.5 64 48 64H96V32c0-17.7 14.3-32 32-32zM0 192H448V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V192zm80 64c-8.8 0-16 7.2-16 16v64c0 8.8 7.2 16 16 16H368c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H80z"]}},OS={data:{prefix:"fas",iconName:"stopwatch",icon:[448,512,[9201],"f2f2","M176 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h16V98.4C92.3 113.8 16 200 16 304c0 114.9 93.1 208 208 208s208-93.1 208-208c0-41.8-12.3-80.7-33.5-113.2l24.1-24.1c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L355.7 143c-28.1-23-62.2-38.8-99.7-44.6V64h16c17.7 0 32-14.3 32-32s-14.3-32-32-32H224 176zm72 192V320c0 13.3-10.7 24-24 24s-24-10.7-24-24V192c0-13.3 10.7-24 24-24s24 10.7 24 24z"]}},NS={data:{prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"]}},AS={data:{icon:[1e3,1e3,[],"","m364 5c-115 0-210 95-210 210v136c0 50-39 89-89 89-33 0-61 27-61 61 0 33 27 61 61 61 50 0 89 39 89 89v136c0 115 95 210 210 210 33 0 61-27 61-61 0-33-27-61-61-61-50 0-89-39-89-89v-137c0-58-24-111-63-149 39-38 63-91 63-149v-136c0-50 39-89 89-89 33 0 61-27 61-61 0-33-27-61-61-61zm273 0c-33 0-61 27-61 61 0 33 27 61 61 61 50 0 89 39 89 89v136c0 58 24 111 63 149-39 38-63 91-63 149v136c0 50-39 89-89 89-33 0-61 27-61 61 0 33 27 61 61 61 115 0 210-95 210-210v-138c0-50 39-89 89-89 33 0 61-27 61-61 0-33-27-61-61-61-50 0-89-39-89-89v-134c-1-116-95-210-211-210z"]}},RS={data:fd},FS={data:{prefix:"fas",iconName:"shapes",icon:[512,512,["triangle-circle-square"],"f61f","M315.4 15.5C309.7 5.9 299.2 0 288 0s-21.7 5.9-27.4 15.5l-96 160c-5.9 9.9-6.1 22.2-.4 32.2s16.3 16.2 27.8 16.2H384c11.5 0 22.2-6.2 27.8-16.2s5.5-22.3-.4-32.2l-96-160zM288 312V456c0 22.1 17.9 40 40 40H472c22.1 0 40-17.9 40-40V312c0-22.1-17.9-40-40-40H328c-22.1 0-40 17.9-40 40zM128 512c70.7 0 128-57.3 128-128s-57.3-128-128-128S0 313.3 0 384s57.3 128 128 128z"]}},PS={data:{prefix:"fas",iconName:"dollar-sign",icon:[320,512,[128178,61781,"dollar","usd"],"24","M160 0c17.7 0 32 14.3 32 32V67.7c1.6 .2 3.1 .4 4.7 .7c10.6 1.6 42.1 6.7 55.1 10c17.1 4.3 27.5 21.7 23.2 38.9s-21.7 27.5-38.9 23.2c-9.3-2.4-37.6-7-48.9-8.7c-32.1-4.8-59.6-2.4-78.5 4.9c-18.3 7-25.9 16.9-27.9 28c-1.9 10.7-.5 16.8 1.3 20.6c1.9 4 5.6 8.5 12.9 13.4c16.2 10.8 41.1 17.9 73.3 26.7l2.8 .8c28.4 7.7 63.2 17.2 89 34.3c14.1 9.4 27.3 22.1 35.5 39.7c8.3 17.8 10.1 37.8 6.3 59.1c-6.9 38-33.1 63.4-65.6 76.7c-13.7 5.6-28.6 9.2-44.4 11V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V445.1c-.4-.1-.9-.1-1.3-.2l-.2 0 0 0c-24.4-3.8-64.5-14.3-91.5-26.3c-16.2-7.2-23.4-26.1-16.2-42.2s26.1-23.4 42.2-16.2c20.9 9.3 55.3 18.4 75.2 21.6c31.9 4.7 58.2 2 76-5.3c16.9-6.9 24.6-16.9 26.8-28.9c1.9-10.7 .5-16.8-1.3-20.6c-1.9-4-5.6-8.5-12.9-13.4c-16.2-10.8-41.1-17.9-73.3-26.7l-2.8-.8c-28.4-7.7-63.2-17.2-89-34.3c-14.1-9.4-27.3-22.1-35.5-39.7c-8.3-17.8-10.1-37.8-6.3-59.1C25 114.1 53 89.3 86 76.7c13-5 27.2-8.2 42-10V32c0-17.7 14.3-32 32-32z"]}},LS={data:{prefix:"fas",iconName:"hashtag",icon:[448,512,[62098],"23","M181.3 32.4c17.4 2.9 29.2 19.4 26.3 36.8L197.8 128h95.1l11.5-69.3c2.9-17.4 19.4-29.2 36.8-26.3s29.2 19.4 26.3 36.8L357.8 128H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H347.1L325.8 320H384c17.7 0 32 14.3 32 32s-14.3 32-32 32H315.1l-11.5 69.3c-2.9 17.4-19.4 29.2-36.8 26.3s-29.2-19.4-26.3-36.8l9.8-58.7H155.1l-11.5 69.3c-2.9 17.4-19.4 29.2-36.8 26.3s-29.2-19.4-26.3-36.8L90.2 384H32c-17.7 0-32-14.3-32-32s14.3-32 32-32h68.9l21.3-128H64c-17.7 0-32-14.3-32-32s14.3-32 32-32h68.9l11.5-69.3c2.9-17.4 19.4-29.2 36.8-26.3zM187.1 192L165.8 320h95.1l21.3-128H187.1z"]}},HS={data:{prefix:"fas",iconName:"align-left",icon:[448,512,[],"f036","M288 64c0 17.7-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32H256c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H256c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]}},zS={data:{prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 512C114.6 512 0 397.4 0 256S114.6 0 256 0S512 114.6 512 256s-114.6 256-256 256zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]}},VS={data:{prefix:"fas",iconName:"question",icon:[320,512,[10067,10068,61736],"3f","M96 96c-17.7 0-32 14.3-32 32s-14.3 32-32 32s-32-14.3-32-32C0 75 43 32 96 32h97c70.1 0 127 56.9 127 127c0 52.4-32.2 99.4-81 118.4l-63 24.5 0 18.1c0 17.7-14.3 32-32 32s-32-14.3-32-32V301.9c0-26.4 16.2-50.1 40.8-59.6l63-24.5C240 208.3 256 185 256 159c0-34.8-28.2-63-63-63H96zm48 384c-22.1 0-40-17.9-40-40s17.9-40 40-40s40 17.9 40 40s-17.9 40-40 40z"]}},qS={data:Yu},BS={data:{icon:[12,12,[],"","M4 0V1.33333H2V10.6667H4V12H0.666664V0H4ZM8 0H11.3333V12H8V10.6667H10V1.33333H8V0Z"]}},jS={data:{prefix:"fas",iconName:"fingerprint",icon:[512,512,[],"f577","M48 256C48 141.1 141.1 48 256 48c69.3 0 130.6 33.8 168.5 86c7.8 10.7 22.8 13.1 33.5 5.3s13.1-22.8 5.3-33.5C416.8 41.7 341.3 0 256 0C114.6 0 0 114.6 0 256v8c0 13.3 10.7 24 24 24s24-10.7 24-24v-8zm458.5-52.9c-2.7-13-15.5-21.3-28.4-18.5s-21.3 15.5-18.5 28.4c2.9 13.9 4.5 28.3 4.5 43.1v8c0 13.3 10.7 24 24 24s24-10.7 24-24v-8c0-18.1-1.9-35.8-5.5-52.9zM222.1 128.2c10.8-2.9 22.1-4.4 33.9-4.4c73 0 132.2 59.2 132.2 132.2c0 31.1-1.9 62.4-3.9 86c-1 11.8-2 21.6-2.7 28.4c-.4 3.4-.7 6.1-.9 7.9l-.2 2-.1 .5 0 .1 0 0 0 0c-1.6 13.2 7.7 25.1 20.8 26.8s25.1-7.7 26.8-20.8l-23.8-3c23.8 3 23.8 3 23.8 3l0 0 0 0 0 0 0-.2 .1-.6 .3-2.2c.2-1.9 .5-4.8 .9-8.3c.8-7.2 1.8-17.4 2.8-29.6c2-24.4 4.1-57.1 4.1-90c0-99.5-80.7-180.2-180.2-180.2c-15.9 0-31.4 2.1-46.2 6c-12.8 3.4-20.5 16.5-17.1 29.3s16.5 20.5 29.3 17.1zm-74.5 52.1c7.6-10.9 5-25.8-5.9-33.4s-25.8-5-33.4 5.9C87.9 182 75.8 217.6 75.8 256c0 30.1-3.8 58.6-7.6 79.7c-1.9 10.5-3.8 19.1-5.2 24.9c-.7 2.9-1.3 5.2-1.7 6.7c-.2 .7-.3 1.3-.4 1.6l-.1 .4 0 .1 0 0c-3.6 12.7 3.7 26 16.5 29.7s26-3.7 29.7-16.5L83.8 376c23.1 6.6 23.1 6.6 23.1 6.6l0 0 0 0 0-.1 0-.2 .2-.6c.1-.5 .3-1.2 .6-2.1c.5-1.8 1.2-4.4 1.9-7.7c1.6-6.6 3.7-16.1 5.8-27.6c4.2-22.9 8.4-54.4 8.4-88.3c0-28.2 8.8-54.3 23.8-75.7zM256 200c30.9 0 56 25.1 56 56c0 47.1-2.7 86.3-5.5 113.6c-1.4 13.7-2.7 24.3-3.7 31.6c-.5 3.6-.9 6.3-1.2 8.1c-.1 .9-.2 1.6-.3 2l-.1 .5 0 .1 0 0 0 0 0 0c-2.3 13.1 6.5 25.5 19.5 27.8s25.5-6.4 27.8-19.5L324.8 416c23.6 4.1 23.6 4.1 23.6 4.1l0 0 0 0 0-.1 0-.2 .1-.7c.1-.6 .2-1.4 .4-2.4c.3-2.1 .8-5.1 1.3-9c1.1-7.8 2.5-19.1 4-33.4c2.9-28.7 5.7-69.5 5.7-118.4c0-57.4-46.6-104-104-104s-104 46.6-104 104c0 46.7-3.9 83.4-7.7 108.4c-1.9 12.5-3.8 21.9-5.2 28.2c-.7 3.1-1.3 5.5-1.6 6.9c-.2 .7-.3 1.3-.4 1.6l-.1 .3c-3.6 12.7 3.7 26 16.5 29.7s26-3.7 29.7-16.5L160 408c23.1 6.6 23.1 6.6 23.1 6.6l0 0 0 0 0-.1 .1-.2 .2-.7c.1-.5 .3-1.3 .6-2.3c.5-2 1.2-4.8 2-8.4c1.6-7.2 3.7-17.8 5.8-31.3c3-19.2 5.9-44.6 7.3-75.3c.6-12.6 .9-26 .9-40.3c0-30.9 25.1-56 56-56zm24 56c0-13.3-10.7-24-24-24s-24 10.7-24 24c0 45.4-2.6 83.4-6.3 114.5L202 478.3l0 0c-5.3 12.1 .1 26.2 12.2 31.6c12.1 5.4 26.3-.1 31.7-12.2L224 488c21.9 9.7 21.9 9.7 21.9 9.7l0 0 0 0 0-.1 .1-.3 .4-.9c.3-.8 .7-1.8 1.2-3.1c1-2.7 2.4-6.5 4-11.5c3.3-10.1 7.5-24.9 11.7-44.7C271.8 397.3 280 337.6 280 256zM225.7 370.5s0 0 0 0L256 232 225.7 370.5zm0 0c-2.7 22.5-5.9 41.3-9.2 56.6c-3.8 18.2-7.6 31.3-10.3 39.8c-1.4 4.2-2.5 7.3-3.2 9.2c-.4 .9-.6 1.6-.8 2l-.1 .4 23.6-107.9z"]}},US=new class{constructor(){e(this,"stack",pt(new Tb)),e(this,"isModalOpen",void 0),e(this,"maxId",0),this.isModalOpen=mt(this.stack,(e=>e.size>0))}getId(){return this.maxId+=1,this.maxId}getPropsForNewModal(){return{modalId:this.getId(),modalStackStore:this.stack}}spawnModalController(){return new Ib(this.getPropsForNewModal())}},WS=function(e={}){const t=new Uw({defaultProps:e});function n(e={}){return t.show({icon:Rd,backgroundColor:"var(--color-bg-danger)",...Ww(e)})}return{entries:t.entries,info:function(e={}){return t.show(Ww({icon:Nd,backgroundColor:"var(--color-bg-info)",...Ww(e)}))},success:function(e={}){return t.show({icon:Pd,backgroundColor:"var(--color-bg-success)",...Ww(e)})},error:n,fromError:function(e){return n(e instanceof Error?e.message:"Something went wrong.")},spinner:function(e={}){return t.show({icon:{...Fd},lifetime:0,allowDismiss:!1,hasProgress:!1,...Ww(e)})},progress:function(e={}){return t.show({lifetime:0,allowDismiss:!1,initialProgress:0,...Ww(e)})}}}(),YS=US.spawnModalController(),{confirm:KS,confirmationController:GS}=function({confirmationModal:e,defaultConfirmationProps:t}){const n={...kb,...t},r=new Mb(e,n);return{async confirm(e){const t={...n,...e};return new Promise((e=>{r.resolve.set(e),r.canProceed.set(!0),r.confirmationProps.set(t),r.modal.open()}))},confirmationController:r}}({confirmationModal:YS});function XS(e){const t=e.identifierType;return KS({title:e.identifierName?{component:Vx,props:{identifier:e.identifierName,wrappingString:h(no)("delete_item_question_with_identifier",{values:{item:t}})}}:h(no)("delete_item_question",{values:{item:t}}),body:h(no)("are_you_sure_to_proceed"),proceedButton:{label:h(no)("delete_item",{values:{item:t}}),icon:Kx},onError:e=>WS.error(`${h(no)("unable_to_delete_item",{values:{item:t}})} ${e.message}`),...e})}const ZS=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,JS=e=>{if("string"!=typeof e)throw new TypeError("Invalid argument expected string");const t=e.match(ZS);if(!t)throw new Error(`Invalid argument not valid semver ('${e}' received)`);return t.shift(),t},QS=e=>"*"===e||"x"===e||"X"===e,ek=e=>{const t=parseInt(e,10);return isNaN(t)?e:t},tk=(e,t)=>{if(QS(e)||QS(t))return 0;const[n,r]=((e,t)=>typeof e!=typeof t?[String(e),String(t)]:[e,t])(ek(e),ek(t));return n>r?1:n<r?-1:0},nk=(e,t)=>{for(let n=0;n<Math.max(e.length,t.length);n++){const r=tk(e[n]||"0",t[n]||"0");if(0!==r)return r}return 0},rk=(e,t,n)=>{ak(n);const r=((e,t)=>{const n=JS(e),r=JS(t),o=n.pop(),s=r.pop(),a=nk(n,r);return 0!==a?a:o&&s?nk(o.split("."),s.split(".")):o||s?o?-1:1:0})(e,t);return ok[n].includes(r)},ok={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},sk=Object.keys(ok),ak=e=>{if("string"!=typeof e)throw new TypeError("Invalid operator type, expected string but got "+typeof e);if(-1===sk.indexOf(e))throw new Error(`Invalid operator, expected one of ${sk.join("|")}`)};/*! js-cookie v3.0.1 | MIT */function ik(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var lk=function e(t,n){function r(e,r,o){if("undefined"!=typeof document){"number"==typeof(o=ik({},n,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var a in o)o[a]&&(s+="; "+a,!0!==o[a]&&(s+="="+o[a].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+s}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},o=0;o<n.length;o++){var s=n[o].split("="),a=s.slice(1).join("=");try{var i=decodeURIComponent(s[0]);if(r[i]=t.read(a,i),e===i)break}catch(l){}}return e?r[e]:r}},remove:function(e,t){r(e,"",ik({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,ik({},this.attributes,t))},withConverter:function(t){return e(ik({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});function ck(e){return"string"==typeof e?e:vo(e,"message")?e.message:"object"==typeof e?JSON.stringify(e):String(e)}function uk(e){if(bo(e,"code")){const{code:t}=e;if("string"==typeof t||"number"==typeof t)return t}}class dk extends Error{constructor(t){const n=function(e){return{message:ck(e),code:uk(e),field:vo(e,"field")?e.field:void 0,detail:bo(e,"detail")?e.detail:void 0}}(t);super(n.message),e(this,"code",void 0),e(this,"field",void 0),e(this,"detail",void 0),this.name="ApiError",this.code=n.code,this.field=n.field,this.detail=n.detail}getSegregatedErrors(){return this.field?{commonErrors:[],fieldSpecificErrors:new ao([[this.field,[ck(this)]]])}:{commonErrors:[ck(this)],fieldSpecificErrors:new ao}}}class $k extends Error{constructor(t){const n=(Array.isArray(t)?t:[t]).map((e=>new dk(e)));super(n.map((e=>e.message)).join(" ")),e(this,"errors",void 0),this.name="ApiMultiError",this.errors=n}getSegregatedErrors(){return this.errors.reduce(((e,t)=>{const n=t.getSegregatedErrors();return{commonErrors:[...e.commonErrors,...n.commonErrors],fieldSpecificErrors:e.fieldSpecificErrors.withEntries(n.fieldSpecificErrors,((e,t)=>[...e,...t]))}}),{commonErrors:[],fieldSpecificErrors:new ao})}}var pk=(e=>(e.Idle="idle",e.Loading="loading",e.Done="done",e.Error="error",e))(pk||{});const mk=["processing","failure","success"],fk=mk[0];function gk(e,t){for(const n of mk)if(e===n||t===n)return n;throw new Error("Invalid RequestStatus states.")}function hk(e){const t=Object.entries(e).map((([e,t])=>[e,"string"==typeof t?t:JSON.stringify(t)]));return new URLSearchParams(t).toString()}function yk(e,t){if(!t)return e;const[n,r]=e.split("?"),o=new URLSearchParams(r||"");for(const[a,i]of Object.entries(t))o.set(a,"string"==typeof i?i:JSON.stringify(i));const s=o.toString();return s?`${n}?${s}`:n}const bk=new Set([200,201,204]);function vk(e,t,n){const r=new XMLHttpRequest;r.open(e,t),r.setRequestHeader("Content-Type","application/json");const o=lk.get("csrftoken");o&&r.setRequestHeader("X-CSRFToken",o),n?r.send(JSON.stringify(n)):r.send();let s=!1;return new ro(((e,t)=>{r.addEventListener("load",(()=>{if(bk.has(r.status))e(function(e){if(204===e.status)return;const t=String(e.response);return 0!==t.trim().length?JSON.parse(String(t)):void 0}(r));else{if(401===r.status)return void window.location.reload();try{t(new $k(JSON.parse(String(r.response))))}catch{const e=["When making an XHR request, the server responded with an","error, but the response body was not valid JSON."].join(" ");t(new Error(e))}}})),r.addEventListener("error",(()=>{t(new Error("An unexpected error has occurred"))})),r.addEventListener("abort",(()=>{s||t(new Error("Request was aborted"))}))}),(()=>{s=!0,r.abort()}))}function wk(e,t,n){const r=new XMLHttpRequest;r.open("POST",e);const o=lk.get("csrftoken");return o&&r.setRequestHeader("X-CSRFToken",o),r.upload.onprogress=e=>{const{loaded:t,total:r}=e;n?.({loaded:t,total:r,percentCompleted:t/r*100})},r.send(t),new ro(((e,t)=>{r.addEventListener("load",(()=>{if(bk.has(r.status))try{const t=JSON.parse(String(r.response));e(t)}catch(n){e(r.response)}else t(new Error(function(e){return ck(e.response).trim()||`HTTP ${e.status}: ${e.statusText}`}(r)))})),r.addEventListener("error",(()=>{t(new Error("Network error occurred"))})),r.addEventListener("timeout",(()=>{t(new Error("Request timed out"))}))}),(()=>{r.abort()}))}function _k(e){return async function(e){const t=await fetch(e,{mode:"cors"});if(t.ok)return await t.json()}(`https://api.github.com/repos/centerofci/mathesar${e}`)}const xk={fetchLatest:()=>_k("/releases/latest"),fetchByTagName:e=>_k(`/releases/tags/${e}`)};function Ck(e){try{return JSON.parse(e)}catch(t){return}}function Sk(){return Date.now()}class kk{constructor(t){e(this,"inputHash",""),e(this,"cacheKey",void 0),e(this,"value",void 0),e(this,"fetch",void 0),e(this,"timeToLiveMs",void 0),e(this,"serializeValue",JSON.stringify),e(this,"deserializeValue",Ck),e(this,"writableLoading",pt(!1)),e(this,"loading",this.writableLoading),t.inputHash&&(this.inputHash=t.inputHash),this.value=pt(void 0),this.cacheKey=t.cacheKey,this.fetch=t.fetch,this.timeToLiveMs=t.timeToLiveMs,t.serialize&&(this.serializeValue=t.serialize),t.deserialize&&(this.deserializeValue=t.deserialize),this.cachedFetch()}serialize({inputHash:e,timestamp:t,value:n}){return JSON.stringify({inputHash:e,timestamp:t,value:this.serializeValue(n)})}deserialize(e){try{const t=JSON.parse(e),{inputHash:n,timestamp:r,value:o}=t;if("string"!=typeof n)return;if("number"!=typeof r)return;if("string"!=typeof o)return;const s=this.deserializeValue(o);if(void 0===s)return;return{inputHash:n,timestamp:r,value:s}}catch(t){return}}fetchFromCache(){const e=localStorage.getItem(this.cacheKey);if(null===e)return"no-cache-found";const t=this.deserialize(e);return void 0===t?"no-cache-found":Sk()-t.timestamp>this.timeToLiveMs?"cache-too-old":t.inputHash!==this.inputHash?"hash-change":(this.value.set(t),"cache-ok")}async forceFetch(){try{this.writableLoading.set(!0);const e=Sk(),t=await this.fetch(),{inputHash:n}=this;localStorage.setItem(this.cacheKey,this.serialize({inputHash:n,timestamp:e,value:t})),this.value.set({inputHash:n,timestamp:e,value:t})}finally{this.writableLoading.set(!1)}}async cachedFetch(){if("cache-ok"!==this.fetchFromCache())try{await this.forceFetch()}catch(e){}}subscribe(e){return this.value.subscribe(e)}}class Mk{constructor(t){e(this,"store",void 0),e(this,"key",void 0),e(this,"defaultValue",void 0),e(this,"serialize",void 0),e(this,"deserialize",void 0),this.key=t.key,this.defaultValue=t.defaultValue,this.serialize=t.serialize??JSON.stringify,this.deserialize=t.deserialize??JSON.parse,this.store=pt(this.getLocalStorageValue())}getLocalStorageValue(){const e=localStorage.getItem(this.key);if(null===e)return this.defaultValue;try{return this.deserialize(e)}catch{return this.defaultValue}}setLocalStorageValue(e){localStorage.setItem(this.key,this.serialize(e))}subscribe(e,t){return this.store.subscribe(e,t)}set(e){this.store.set(e),this.setLocalStorageValue(e)}update(e){this.store.update((t=>{const n=e(t);return this.setLocalStorageValue(n),n}))}}const Ik="mathesar-release-data",Tk="ui-theme-preference",Ek="table-inspector-visible",Dk="table-inspector-table-properties-visible",Ok="table-inspector-table-links-visible",Nk="table-inspector-table-record-summary-visible",Ak="table-inspector-table-actions-visible",Rk="table-inspector-table-advanced-visible",Fk="table-inspector-column-properties-visible",Pk="table-inspector-column-data-type-visible",Lk="table-inspector-column-default-value-visible",Hk="table-inspector-column-formatting-visible",zk="table-inspector-column-record-summary-visible",Vk="table-inspector-column-actions-visible",qk="data-explorer-left-sidebar-width",Bk="data-explorer-right-sidebar-width",jk="data-form-inspector-visible",Uk="data-form-inspector-width",Wk=new Mk({key:"table-inspector-width",defaultValue:350}),Yk=new Mk({key:Ek,defaultValue:!0}),Kk=new Mk({key:Dk,defaultValue:!0}),Gk=new Mk({key:Ok,defaultValue:!0}),Xk=new Mk({key:Nk,defaultValue:!1}),Zk=new Mk({key:Ak,defaultValue:!0}),Jk=new Mk({key:Rk,defaultValue:!1}),Qk=new Mk({key:Fk,defaultValue:!0}),eM=new Mk({key:Pk,defaultValue:!0}),tM=new Mk({key:Lk,defaultValue:!0}),nM=new Mk({key:Hk,defaultValue:!0}),rM=new Mk({key:zk,defaultValue:!1}),oM=new Mk({key:Vk,defaultValue:!0}),sM=new Mk({key:Tk,defaultValue:"system"}),aM=new Mk({key:qk,defaultValue:400}),iM=new Mk({key:Bk,defaultValue:350}),lM=new Mk({key:jk,defaultValue:!0}),cM=new Mk({key:Uk,defaultValue:350});function uM(e){if(void 0!==e)return{id:e.id,tagName:e.tag_name,date:e.published_at}}class dM{constructor({current:t,latest:n}){e(this,"current",void 0),e(this,"latest",void 0),e(this,"upgradeStatus",void 0),this.current=t,this.latest=n,this.upgradeStatus=function(e,t){if(void 0!==e&&void 0!==t)return rk(t.tagName,e.tagName,">")?"upgradable":"up-to-date"}(t,n)}serialize(){return JSON.stringify({current:this.current,latest:this.latest})}static deserialize(e){try{const t=JSON.parse(e),{current:n,latest:r}=t;return new dM({current:n,latest:r})}catch(t){return}}}function $M(e){return new kk({inputHash:e,cacheKey:Ik,timeToLiveMs:864e5,fetch:()=>async function(e){return new dM({current:uM(await xk.fetchByTagName(e)),latest:uM(await xk.fetchLatest())})}(e),serialize:e=>e.serialize(),deserialize:e=>dM.deserialize(e)})}const pM=Symbol("ReleaseDataStore");function mM(){return ve(pM)}class fM extends Error{constructor(t){super(t.message),e(this,"status","error"),e(this,"code",void 0),e(this,"data",void 0),this.code=t.code,this.data=t.data}static fromAnything(e){if(e instanceof fM)return e;if(e instanceof Error)return new fM({code:0,message:e.message});if(bo(e,"error"))return fM.fromAnything(e.error);const t=vo(e,"message")?e.message:"string"==typeof e?e:bo(e,"toString")&&"function"==typeof e.toString?String(e.toString()):JSON.stringify(e),n=bo(e,"code")&&"number"==typeof e.code?e.code:0,r=bo(e,"data")?e.data:void 0;return new fM({code:n,message:t,data:r})}}function gM(e,t={}){const n=new AbortController;return new ro(((r,o)=>{fetch(e,{...t,signal:n.signal}).then(r).catch(o)}),(()=>n.abort()))}function hM(e,t=0){return{jsonrpc:"2.0",id:t,method:e.method,params:e.params}}function yM(e){if(bo(e,"result")){return{status:"ok",value:e.result}}return fM.fromAnything(e)}function bM(e,t,n){const r=n.map(((e,t)=>hM(e,t))),o=gM(e,{method:"POST",headers:{...t,"Content-Type":"application/json"},body:JSON.stringify(r)});return new ro((e=>{o.then((e=>e.json()),(t=>e(n.map((()=>fM.fromAnything(t)))))).then((t=>e(function(e,t){if(!Array.isArray(e))throw new Error("Response is not an array");const n=new Map(e.map((e=>{if(!bo(e,"id"))throw new Error('Response array does not conform to RPC spec: "id" missing in values');return[e.id,yM(e)]})));return t.map((e=>{const t=n.get(e.id);if(void 0===t)throw new Error(`Response array does not contain the response for the request with id: ${e.id}`);return t}))}(t,r))))}),(()=>o.cancel()))}class vM{constructor(t){e(this,"endpoint",void 0),e(this,"path",void 0),e(this,"params",void 0),e(this,"getHeaders",void 0),this.endpoint=t.endpoint,this.path=t.path,this.params=t.params,this.getHeaders=t.getHeaders}get method(){return this.path.join(".")}run(){const e=this.send();return new ro(((t,n)=>{e.then((e=>"ok"===e.status?t(e.value):n(e)),(e=>n(fM.fromAnything(e))))}),(()=>e.cancel()))}send(){return function(e){const t=gM(e.endpoint,{method:"POST",headers:{...e.getHeaders(),"Content-Type":"application/json"},body:JSON.stringify(hM(e))});return new ro((e=>{t.then((e=>e.json()),(t=>e(fM.fromAnything(t)))).then((t=>e(yM(t))))}),(()=>t.cancel()))}(this)}}function wM(e){if(0===e.length)throw new Error("There must be atleast one request");const[t,...n]=e,{endpoint:r}=t;if(n.some((e=>e.endpoint!==r)))throw new Error("Only RPC requests to the same endpoint can be batched");return bM(r,t.getHeaders(),e)}function _M(e){const t=wM(e);return new ro(((e,n)=>{t.then((t=>{const r=[];for(const e of t){if("ok"!==e.status)return n(e);r.push(e.value)}return e(r)}),n).catch(n)}),(()=>t.cancel()))}function xM(e,t,n,r){if(function(e){return Array.isArray(e)}(r))return r=>new vM({path:e,endpoint:t,params:r,getHeaders:n});const o={};for(const[s,a]of Object.entries(r))o[s]=xM([...e,s],t,n,a);return o}const CM=32,SM=20,kM=1e3,MM=["d","h","m","s","ms"],IM={bool_input:"checkbox",bool_true:"true",bool_false:"false",num_min_frac_digits:0,num_max_frac_digits:20,num_format:null,num_grouping:"auto",mon_currency_symbol:"$",mon_currency_location:"after-minus",time_format:"24hr",date_format:"none",duration_min:"s",duration_max:"m",display_width:160,file_backend:null};function TM(e){return!e.default||(!e.primary_key||!e.default.is_dynamic)}function EM(e,t){return function(e,t){return e[t]??IM[t]}(e.metadata??{},t)}const DM=["bike_shop","hardware_store","ice_cream_employees","library_makerspace","movie_rentals","museum_exhibits","nonprofit_grants"],OM=["distinct_aggregate_to_array","count","sum","median","mode","percentage_true","max","min","mean","peak_time","peak_month"];function NM(e){return"name"in e&&""!==e.name&&void 0!==e.name&&"base_table_oid"in e&&void 0!==e.base_table_oid&&"initial_columns"in e&&void 0!==e.initial_columns&&e.initial_columns.length>0}const AM=["must_pick","can_pick_or_create","must_create"];function*RM(e,t){const n=e.joinable_tables.filter((e=>!e.fkey_path[0][1]));for(const r of n){const n=e.target_table_info[r.target],o=r.join_path[0][0][1],s=t.get(o);s&&(yield{table:{oid:r.target,name:n.name},column:{name:s.name}})}}function*FM(e){const t=e.joinable_tables.filter((e=>e.fkey_path[0][1]));for(const n of t){const t=e.target_table_info[n.target],r=n.join_path[0][1][1];yield{table:{oid:n.target,name:t.name},column:t.columns[r]}}}const PM=function(e){return xM([],e.endpoint,e.getHeaders,e.methodTree)}({endpoint:"/api/rpc/v0/",getHeaders:()=>({"X-CSRFToken":lk.get("csrftoken")}),methodTree:{analytics:{get_state:[],initialize:[],disable:[],upload_feedback:[]},collaborators:{list:[],add:[],set_role:[],delete:[]},columns:{list:[],list_with_metadata:[],add:[],patch:[],delete:[],metadata:{set:[]},add_primary_key_column:[]},constraints:{list:[],add:[],delete:[]},forms:{get:[],get_source_info:[],list:[],add:[],patch:[],delete:[],list_related_records:[],submit:[],regenerate_token:[],set_publish_public:[]},data_modeling:{move_columns:[],split_table:[],suggest_types:[],add_foreign_key_column:[],add_mapping_table:[],change_primary_key_column:[]},databases:{get:[],upgrade_sql:[],configured:{list:[],patch:[],disconnect:[]},setup:{create_new:[],connect_existing:[]},privileges:{list_direct:[],replace_for_roles:[],transfer_ownership:[]}},explorations:{list:[],get:[],add:[],delete:[],replace:[],run:[],run_saved:[]},records:{add:[],patch:[],get:[],list:[],search:[],delete:[],list_summaries:[]},roles:{list:[],add:[],set_members:[],get_current_role:[],delete:[],configured:{list:[],add:[],delete:[],set_password:[]}},schemas:{list:[],add:[],patch:[],delete:[],privileges:{list_direct:[],replace_for_roles:[],transfer_ownership:[]}},servers:{configured:{list:[],patch:[]}},tables:{list:[],list_with_metadata:[],get:[],get_with_metadata:[],add:[],import:[],patch:[],delete:[],list_joinable:[],get_import_preview:[],metadata:{list:[],set:[]},privileges:{list_direct:[],replace_for_roles:[],transfer_ownership:[]}},users:{list:[],get:[],add:[],delete:[],patch_self:[],patch_other:[],password:{replace_own:[],revoke:[]}}}});class LM{constructor(t){e(this,"id",void 0),e(this,"isMathesarAdmin",void 0),e(this,"fullName",void 0),e(this,"email",void 0),e(this,"username",void 0),e(this,"displayLanguage",void 0),this.id=t.id,this.isMathesarAdmin=t.is_superuser,this.fullName=t.full_name,this.email=t.email,this.username=t.username,this.displayLanguage=t.display_language}getDisplayName(){return this.username}getUser(){return{id:this.id,is_superuser:this.isMathesarAdmin,username:this.username,full_name:this.fullName,email:this.email,display_language:this.displayLanguage}}with(e){return new LM({...this.getUser(),...e})}}class HM extends LM{constructor(){super({id:0,is_superuser:!1,username:"Anonymous",full_name:"Anonymous",email:null,display_language:"en"})}}const zM=Symbol("users list store");class VM{constructor(){e(this,"requestStatus",pt()),e(this,"users",pt([])),e(this,"count",pt(0)),e(this,"request",void 0),this.fetchUsers()}async fetchUsersSilently(){this.request?.cancel(),this.request=PM.users.list().run();const e=await this.request;this.users.set(e.map((e=>new LM(e)))),this.count.set(e.length)}async fetchUsers(){try{this.requestStatus.set({state:"processing"}),await this.fetchUsersSilently(),this.requestStatus.set({state:"success"})}catch(e){this.requestStatus.set({state:"failure",errors:[ck(e)]})}}async getUserDetails(e){const t=h(this.requestStatus);if("success"===t?.state)return h(this.users).find((t=>t.id===e));if("processing"===t?.state){const t=(await this.request)?.find((t=>t.id===e));if(t)return new LM(t)}}async delete(e){this.requestStatus.set({state:"processing"}),await PM.users.delete({user_id:e}).run(),this.users.update((t=>t.filter((t=>t.id!==e)))),this.count.update((e=>e-1)),this.requestStatus.set({state:"success"}),this.fetchUsersSilently()}}function qM(){return ve(zM)}const BM=Symbol("UserProfileStore");function jM(){const e=ve(BM);if(!e)throw Error("User profile store context not found");return e}class UM{static encode(e){return btoa(unescape(encodeURIComponent(e))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}static decode(e){const t=e.replace(/-/g,"+").replace(/_/g,"/");return decodeURIComponent(escape(atob(t)))}}function WM(e){return`/db/${e}/`}function YM(e){return`/db/${e}/schemas/`}function KM(e){return`/db/${e}/settings/`}function GM(e){return`${KM(e)}role-configuration/`}function XM(e){return`${KM(e)}collaborators/`}function ZM(e){return`${KM(e)}roles/`}function JM(e,t){return`${YM(e)}${t}/`}function QM(e,t){return`${JM(e,t)}import/`}const eI="inference",tI="renamed_id_column";function nI(e,t,n,r){const o=QM(e,t),s=function(e){const t=new URLSearchParams({[eI]:JSON.stringify(e.useColumnTypeInference)});return e.renamedIdColumn&&t.append(tI,UM.encode(e.renamedIdColumn)),t.toString()}(r);return`${o}${n}/?${s}`}function rI(e,t){return`${JM(e,t)}data-explorer/`}function oI(e,t,n){return`${function(e,t){return`${JM(e,t)}explorations/`}(e,t)}${n}/`}function sI(e,t,n){return`${function(e,t){return`${JM(e,t)}tables/`}(e,t)}${n}/`}function aI(e,t,n,r){return`${sI(e,t,n)}${String(r)}`}function iI(e,t,n){return`${JM(e,t)}forms/${n}/`}function lI(e){return`/shares/forms/${e}/`}const cI="/profile/",uI="/administration/",dI=`${uI}update/`,$I=`${uI}users/`,pI=`${uI}users/new/`,mI=`${uI}settings/`;function fI(e){return`${$I}${e}/`}const gI={usageDataCollection:"/user-guide/usage-data-collection/",collaborators:"/user-guide/collaborators/",databasePermissions:"/user-guide/databases/#permissions",databases:"/user-guide/databases/",dataTypes:"/user-guide/data-types/",fileDataType:"/user-guide/data-types/#file",import:"/user-guide/importing-data/",internalSchemas:"/user-guide/schemas/#internal",metadata:"/user-guide/databases#understanding-mathesars-metadata/",relationships:"/user-guide/relationships/",roles:"/user-guide/roles/",rolesInheritance:"/user-guide/roles/#inheritance",rolesLogin:"/user-guide/roles/#login",schemaPermissions:"/user-guide/schemas/#permissions",schemas:"/user-guide/schemas/",storedRoles:"/user-guide/stored-roles/",tablePermissions:"/user-guide/tables/#permissions",userAdmin:"/user-guide/users/#admin",userGuide:"/user-guide/"};function hI(e){return`https://docs.mathesar.org${gI[e]}`}const yI={community:"/community",donate:"/donate",privacy:"/privacy",mailingList:"/mailing-list",survey:"/survey"};function bI(e){return`https://mathesar.org${yI[e]}`}function vI(e){return!1===e.metadata?.import_verified}function wI(e,t){const n=[...e.values()],r=new Map,o=function(e,t){const n=new Set(t.metadata?.column_order??[]),r=new Set(e.map((e=>e.id))),o=ic((e=>r.has(e)),n),s=ic((e=>!n.has(e)),r);return[...o,...s]}(n,t);return o.forEach((e=>{const t=n.map((e=>e.id)).indexOf(e);if(-1!==t){const e=n.splice(t,1)[0];r.set(e.id,e)}})),r}function _I(e,t,n){return vI(n)?nI(e,t,n.oid,{useColumnTypeInference:!0}):sI(e,t,n.oid)}function xI(e,t,n){const r=e.slice();return r[13]=t[n],r}function CI(e){let t,n,r=e[5],o=[];for(let a=0;a<r.length;a+=1)o[a]=kI(xI(e,r,a));const s=e=>Ue(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=W()},m(e,r){for(let t=0;t<o.length;t+=1)o[t].m(e,r);H(e,t,r),n=!0},p(e,n){if(32&n){let a;for(r=e[5],a=0;a<r.length;a+=1){const s=xI(e,r,a);o[a]?(o[a].p(s,n),je(o[a],1)):(o[a]=kI(s),o[a].c(),je(o[a],1),o[a].m(t.parentNode,t))}for(qe(),a=r.length;a<o.length;a+=1)s(a);Be()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)je(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)Ue(o[t]);n=!1},d(e){V(o,e),e&&z(t)}}}function SI(e){let t,n;return t=new t$({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function kI(e){let t,n;const r=[{size:"min(1em, 0.75em + 0.25rem)"},e[13]];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=32&n?rt(r,[r[0],ot(e[13])]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function MI(e){let t;const n=e[10].default,r=b(n,e,e[12],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||4096&o)&&_(r,n,e,e[12],t?w(n,e[12],o,null):x(e[12]),null)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function II(e){let t;return{c(){t=j(e[0])},m(e,n){H(e,t,n)},p(e,n){1&n&&Q(t,e[0])},i:a,o:a,d(e){e&&z(t)}}}function TI(e){let t,n,r,o,s,a,i,l,c,u,d;const $=[SI,CI],p=[];function m(e,t){return e[1]?0:1}r=m(e),o=p[r]=$[r](e);const f=[II,MI],g=[];function h(e,t){return e[0]?0:1}return i=h(e),l=g[i]=f[i](e),{c(){t=q("span"),n=q("span"),o.c(),s=j(""),a=q("span"),l.c(),X(n,"class","icon svelte-1ahqfmb"),te(n,"white-space","nowrap"),X(a,"class","name svelte-1ahqfmb"),X(t,"class","name-with-icon svelte-1ahqfmb"),X(t,"style",e[6]),se(t,"boxed",e[2]),se(t,"bold",e[4])},m(o,l){H(o,t,l),F(t,n),p[r].m(n,null),F(t,s),F(t,a),g[i].m(a,null),c=!0,u||(d=Y(t,"click",e[11]),u=!0)},p(e,s){let u=r;r=m(e),r===u?p[r].p(e,s):(qe(),Ue(p[u],1,1,(()=>{p[u]=null})),Be(),o=p[r],o?o.p(e,s):(o=p[r]=$[r](e),o.c()),je(o,1),o.m(n,null));let d=i;i=h(e),i===d?g[i].p(e,s):(qe(),Ue(g[d],1,1,(()=>{g[d]=null})),Be(),l=g[i],l?l.p(e,s):(l=g[i]=f[i](e),l.c()),je(l,1),l.m(a,null)),(!c||64&s)&&X(t,"style",e[6]),(!c||4&s)&&se(t,"boxed",e[2]),(!c||16&s)&&se(t,"bold",e[4])},i(e){c||(je(o),je(l),c=!0)},o(e){Ue(o),Ue(l),c=!1},d(e){e&&z(t),p[r].d(),g[i].d(),u=!1,d()}}}function EI(e){let t,n;const r=[e[7],{passthrough:!e[3]}];let o={$$slots:{default:[TI]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Ng({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const o=136&n?rt(r,[128&n&&ot(e[7]),8&n&&{passthrough:!e[3]}]):{};4215&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function DI(e,t,n){let r,o;const s=["icon","name","isLoading","iconHasBox","truncate","bold","cssVariables"];let a=S(t,s),{$$slots:i={},$$scope:c}=t,{icon:u}=t,{name:d}=t,{isLoading:$=!1}=t,{iconHasBox:p=!1}=t,{truncate:m=!0}=t,{bold:f=!1}=t,{cssVariables:g}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(7,a=S(t,s)),"icon"in e&&n(8,u=e.icon),"name"in e&&n(0,d=e.name),"isLoading"in e&&n(1,$=e.isLoading),"iconHasBox"in e&&n(2,p=e.iconHasBox),"truncate"in e&&n(3,m=e.truncate),"bold"in e&&n(4,f=e.bold),"cssVariables"in e&&n(9,g=e.cssVariables),"$$scope"in e&&n(12,c=e.$$scope)},e.$$.update=()=>{512&e.$$.dirty&&n(6,r=g?Jo(g):void 0),256&e.$$.dirty&&n(5,o=Array.isArray(u)?u:[u])},[d,$,p,m,f,o,r,a,u,g,i,function(t){_e.call(this,e,t)},c]}class OI extends ut{constructor(e){super(),ct(this,e,DI,EI,f,{icon:8,name:0,isLoading:1,iconHasBox:2,truncate:3,bold:4,cssVariables:9})}}const NI=e=>({tableName:1&e}),AI=e=>({tableName:e[0].name});function RI(e){let t;return{c(){t=j("*")},m(e,n){H(e,t,n)},d(e){e&&z(t)}}}function FI(e){let t,n,r;const o=e[5].default,s=b(o,e,e[6],AI),a=s||function(e){let t,n=e[0].name+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1&r&&n!==(n=e[0].name+"")&&Q(t,n)},d(e){e&&z(t)}}}(e);let i=e[3]&&RI();return{c(){a&&a.c(),t=U(),i&&i.c(),n=W()},m(e,o){a&&a.m(e,o),H(e,t,o),i&&i.m(e,o),H(e,n,o),r=!0},p(e,t){s?s.p&&(!r||65&t)&&_(s,o,e,e[6],r?w(o,e[6],t,NI):x(e[6]),AI):a&&a.p&&(!r||1&t)&&a.p(e,r?t:-1),e[3]?i||(i=RI(),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},i(e){r||(je(a,e),r=!0)},o(e){Ue(a,e),r=!1},d(e){a&&a.d(e),e&&z(t),i&&i.d(e),e&&z(n)}}}function PI(e){let t,n;const r=[{icon:UC},{isLoading:e[1]},e[4],{cssVariables:{"--icon-color":"var(--color-table)",...e[2]}},{bold:!0}];let o={$$slots:{default:[FI]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new OI({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const o=22&n?rt(r,[0&n&&{icon:UC},2&n&&{isLoading:e[1]},16&n&&ot(e[4]),4&n&&{cssVariables:{"--icon-color":"var(--color-table)",...e[2]}},r[4]]):{};73&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function LI(e,t,n){let r;const o=["table","isLoading","cssVariables"];let s=S(t,o),{$$slots:a={},$$scope:i}=t,{table:c}=t,{isLoading:u=!1}=t,{cssVariables:d}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(4,s=S(t,o)),"table"in e&&n(0,c=e.table),"isLoading"in e&&n(1,u=e.isLoading),"cssVariables"in e&&n(2,d=e.cssVariables),"$$scope"in e&&n(6,i=e.$$scope)},e.$$.update=()=>{1&e.$$.dirty&&n(3,r=vI(c))},[c,u,d,r,s,a,i]}class HI extends ut{constructor(e){super(),ct(this,e,LI,PI,f,{table:0,isLoading:1,cssVariables:2})}}function zI(e){return function(e,t){const n=e[Symbol.iterator](),r=n.next();return r.done?t.whenZero:n.next().done?t.whenOne(r.value):t.whenMany}(e,{whenZero:void 0,whenOne:e=>e,whenMany:void 0})}function VI(e,t){return JSON.stringify([e,t])}function qI(e){try{const[t,n]=JSON.parse(e);if("string"!=typeof t||"string"!=typeof n)throw new Error;return{rowId:t,columnId:n}}catch{throw new Error(`Unable to parse cell id: ${e}.`)}}function BI(e,t){return gc((([e,t])=>VI(e,t)),function(e,t){return{*[Symbol.iterator](){for(const n of e)for(const e of t)yield[n,e]}}}(e,t))}function jI(e){return new ao(Object.entries(e))}function UI(e){return new ao(gc((([e,t])=>[e,jI(t)]),Object.entries(e??{})))}function WI(e,t){return e.withEntries(t)}function YI(e,t){return e.withEntries(t,WI)}class KI{constructor(){e(this,"fetched",pt(new ao)),e(this,"bespoke",pt(new ao)),e(this,"combined",void 0),this.combined=mt([this.bespoke,this.fetched],(([e,t])=>YI(e,t)))}subscribe(e,t){return this.combined.subscribe(e,t)}setFetchedValues(e){this.fetched.set(e)}setFetchedValuesFromPrimitive(e){this.setFetchedValues(UI(e))}addBespokeValues(e){this.bespoke.update((t=>YI(t,e)))}addBespokeValue({columnId:e,key:t,value:n}){this.addBespokeValues(new ao([[e,new ao([[t,n]])]]))}}class GI{constructor(t){e(this,"identifier",void 0),e(this,"record",void 0),e(this,"type",void 0),this.identifier=t.identifier??ko("record-row"),this.record=t.record,this.type=t.type}}class XI extends GI{constructor(e){super({...e,type:"persistedRecord"})}withRecord(e){return new XI({identifier:this.identifier,record:e})}static fromDraft(e){return new XI({identifier:e.identifier,record:e.record})}}class ZI extends GI{constructor(e){super({...e,type:"draftRecord"})}withRecord(e){return new ZI({identifier:this.identifier,record:e})}static fromPlaceholder(e){return new ZI({identifier:e.identifier,record:e.record})}}class JI extends GI{constructor(e){super({...e,type:"placeholderRecord"})}withRecord(e){return new JI({identifier:this.identifier,record:e})}}class QI{constructor(t){e(this,"identifier",ko("group-header-row")),e(this,"group",void 0),e(this,"groupValues",void 0),e(this,"type","groupHeader"),this.group=t.group,this.groupValues=t.groupValues}}class eT{constructor(){e(this,"identifier",ko("help-row")),e(this,"type","help")}}function tT(e){return"persistedRecord"===e.type}function nT(e){return"draftRecord"===e.type}function rT(e){return"placeholderRecord"===e.type}function oT(e){return nT(e)||rT(e)}function sT(e){return oT(e)||tT(e)}function aT(e){return"groupHeader"===e.type}function iT(e){return"help"===e.type}const lT="::";function cT(e,t){return`${String(e)}::${t}`}function uT(e){return e.split(lT).slice(0,-1).join(lT)}function dT(e){const t=[],n=e.filter((e=>101===e.code));return n&&t.push(fM.fromAnything(h(no)("columns_cannot_be_null",{values:{columnNames:n.map((e=>`'${e.column.name}'`)).join(", ")}}))),t}function $T(e){return function(e){let t;for(const{state:n}of e){if(n===fk)return n;t=t?gk(n,t):n}return t}(ec(e.cellModificationStatus.values(),e.rowCreationStatus.values(),e.rowDeletionStatus.values()))}function pT({cellValue:e,column:t,cellKey:n,cellClientSideErrors:r}){const o=function(e,t){const n=[];return null!==e||t.nullable||n.push({code:101,column:t,message:h(no)("cell_cannot_be_null_for_column")}),n}(e,t);o.length?r.set(n,o):r.delete(n)}function mT(e){return e.identifier}function fT(e){return{count:e.count,eqValue:e.results_eq,resultIndices:e.result_indices}}function gT(e,t){const n=t.find((e=>e.primary_key));if(!n)throw new Error("No primary key column found.");const r=e[n.id];if("string"!=typeof r&&"number"!=typeof r)throw new Error("Primary key value is not a string or number.");return r}function hT(e){return Object.fromEntries(e.map((e=>[e.columnId,e.value])))}function yT({row:e,cells:t},n){const r=e.record[n.id];if(tT(e)&&void 0===r)throw new Error("Unable to update record for a row with a missing primary key value");if(t.some((e=>e.columnId===String(n.id)))){if(!nT(e))throw new Error("Unable to modify primary key cells of saved rows");if(n.default&&n.default.is_dynamic)throw new Error("Unable to modify cells in a primary key column with a dynamic default")}}function bT(e){const t=hT(e.cells);return{row:new ZI({record:t}),cells:e.cells}}class vT{constructor({database:t,table:n,meta:r,columnsDataStore:o,contextualFilters:s,loadIntrinsicRecordSummaries:a}){e(this,"apiContext",void 0),e(this,"meta",void 0),e(this,"columnsDataStore",void 0),e(this,"state",void 0),e(this,"fetchedRecordRows",void 0),e(this,"newRecords",void 0),e(this,"persistedNewRecords",void 0),e(this,"recordSummaries",new lo),e(this,"linkedRecordSummaries",new KI),e(this,"fileManifests",new KI),e(this,"grouping",void 0),e(this,"totalCount",void 0),e(this,"error",void 0),e(this,"selectableRowsMap",void 0),e(this,"promise",void 0),e(this,"createPromises",void 0),e(this,"updatePromises",void 0),e(this,"requestParamsUnsubscriber",void 0),e(this,"contextualFilters",void 0),e(this,"loadIntrinsicRecordSummaries",void 0),this.apiContext={database_id:t.id,table_oid:n.oid},this.state=pt(pk.Loading),this.fetchedRecordRows=pt([]),this.newRecords=pt([]),this.grouping=pt(void 0),this.totalCount=pt(void 0),this.error=pt(void 0),this.meta=r,this.columnsDataStore=o,this.contextualFilters=s,this.loadIntrinsicRecordSummaries=a,this.fetch(),this.selectableRowsMap=mt([this.fetchedRecordRows,this.newRecords],(([e,t])=>{const n=[...e,...t];return new Map(n.map((e=>[mT(e),e])))})),this.persistedNewRecords=mt(this.newRecords,(e=>e.filter((e=>tT(e))))),this.requestParamsUnsubscriber=this.meta.recordsRequestParamsData.subscribe((()=>{this.fetch()}))}async fetch(e={}){const t={clearNewRecords:!0,setLoadingState:!0,clearMetaStatuses:!0,...e};this.promise?.cancel(),this.error.set(void 0),t.clearNewRecords&&this.newRecords.set([]),t.setLoadingState&&this.state.set(pk.Loading),t.clearMetaStatuses&&this.meta.clearAllStatusesAndErrors();try{const e=h(this.meta.recordsRequestParamsData),t=[...this.contextualFilters].map((([e,t])=>({columnId:e,conditionId:"equal",value:t}))),r={...this.apiContext,...e.pagination.recordsRequestParams(),...e.sorting.recordsRequestParamsIncludingGrouping(e.grouping),...e.grouping.recordsRequestParams(),...e.filtering.withEntries(t).recordsRequestParams(),return_record_summaries:this.loadIntrinsicRecordSummaries},o=e.searchFuzzy.getSearchParams(),s={...this.apiContext,...e.pagination.recordsRequestParams(),search_params:o,return_record_summaries:this.loadIntrinsicRecordSummaries};this.promise=o.length?PM.records.search(s).run():PM.records.list(r).run();const a=await this.promise,i=a.count||0,l=a.grouping?{columnIds:(n=a.grouping).columns,preprocIds:n.preproc??[],groups:(n.groups??[]).map(fT)}:void 0;a.linked_record_summaries&&this.linkedRecordSummaries.setFetchedValuesFromPrimitive(a.linked_record_summaries),a.record_summaries&&this.recordSummaries.reconstruct(Object.entries(a.record_summaries)),a.download_links&&this.fileManifests.setFetchedValuesFromPrimitive(a.download_links),this.fetchedRecordRows.set(a.results.map((e=>new XI({record:e})))),this.state.set(pk.Done),this.grouping.set(l),this.totalCount.set(i),this.error.set(void 0)}catch(r){this.state.set(pk.Error),this.error.set(r instanceof Error?r.message:"Unable to load records")}var n}async deleteSelected(e){const t=h(this.columnsDataStore.pkColumn);if(!t)throw new Error("Cannot delete without primary key");const n="string"==typeof e?[e]:e,r=h(this.selectableRowsMap),o=new Map,s=new Map;for(const c of n){const e=r.get(c);e&&(nT(e)?o.set(e.identifier,e):s.set(e.identifier,e))}if(!o.size&&!s.size)return 0;this.meta.rowDeletionStatus.setMultiple([...o.keys(),...s.keys()],{state:"processing"});const a=new Set(o.keys()),i=new Map;if(s.size){const e=[...s.values()].map((e=>e.record[t.id]));try{const n=PM.records.delete({database_id:this.apiContext.database_id,table_oid:this.apiContext.table_oid,record_ids:e}).run(),r=new Set(await n);s.forEach((e=>{const n=e.record[t.id];if(r.has(n))a.add(e.identifier);else{const t=h(no)("row_deletion_ignored_by_pg",{values:{rowId:n}});i.set(e.identifier,fM.fromAnything(t))}}))}catch(Ln){s.forEach((e=>i.set(e.identifier,fM.fromAnything(fM))))}}const l=a.size>0;if(this.newRecords.set([]),l&&await this.fetch({clearMetaStatuses:!1,clearNewRecords:!1,setLoadingState:!1}),this.meta.rowCreationStatus.delete(Array.from(a,String)),this.meta.clearAllStatusesAndErrorsForRows([...a]),this.meta.rowDeletionStatus.setEntries([...i.entries()].map((([e,t])=>[e,{state:"failure",errors:[t]}]))),this.meta.rowDeletionStatus.clear(),i.size>0){const e=h(no)("unable_to_delete_count_rows",{values:{count:i.size}}),t=[...i.values()].join("\n");throw new Error(`${e} ${t}`)}return o.size+s.size}getPkColumOrError(){const e=h(this.columnsDataStore.pkColumn);if(!e)throw new Error("Unable to update without primary key");return e}async bulkDml(e,t=[]){const n=t.map(bT),r=n.map((({row:e})=>e)).filter(nT),o=this.getPkColumOrError(),s=[...e,...n];return s.forEach((e=>yT(e,o))),this.newRecords.update((e=>[...e,...r])),await this.bulkUpdate(s,{validateRecipes:!1}),{rowIds:s.map((e=>e.row.identifier)),columnIds:Co(s.at(0),(e=>e.cells.map((e=>e.columnId))))??[]}}async bulkUpdate(e,t={}){const{validateRecipes:n}={validateRecipes:!0,...t},r=this.meta.cellModificationStatus,{cellClientSideErrors:o,rowCreationStatus:s}=this.meta,a=this.getPkColumOrError();function i(t){e.forEach(t)}n&&i((e=>yT(e,a))),function(e){i((t=>t.cells.forEach((n=>e(cT(t.row.identifier,n.columnId))))))}((e=>{r.set(e,{state:"processing"}),this.updatePromises?.get(e)?.cancel()})),i((({row:e})=>{nT(e)&&s.set(e.identifier,{state:"processing"}),this.updatePromises?.get(e.identifier)?.cancel()}));const l=e.map((({row:e,cells:t})=>{const n=hT(t);return nT(e)?PM.records.add({...this.apiContext,record_def:{...Object.fromEntries(this.contextualFilters),...n}}):PM.records.patch({...this.apiContext,record_id:e.record[a.id],record_def:n})})),c=await wM(l),u=new Map(ac(wc(e,c),gc((([e,t])=>[e.row.identifier,{blueprint:e,response:t}]))));function d(e){const t=u.get(e.identifier);if(!t)return e;const{blueprint:n,response:a}=t;function i(){const t=hT(n.cells);return e.withRecord({...e.record,...t})}if(nT(e)&&s.delete(e.identifier),"error"===a.status)return n.cells.forEach((t=>{const n=cT(e.identifier,t.columnId);r.set(n,{state:"failure",errors:[a]})})),i();const l=uc(a.value.results);if(!l)return i();for(const s of Object.keys(e.record)){const t=cT(e.identifier,s);r.set(t,{state:"success"}),o.delete(t)}return nT(e)?XI.fromDraft(e.withRecord(l)):e.withRecord(l)}this.fetchedRecordRows.update((e=>e.map(d))),this.newRecords.update((e=>e.map(d)));let $=new ao;for(const p of c){if("error"===p.status)continue;const e=p.value.linked_record_summaries;e&&($=YI($,UI(e)))}this.linkedRecordSummaries.addBespokeValues($)}async updateCell(e,t){const{record:n}=e,r=h(this.columnsDataStore.pkColumn);if(void 0===r)return console.error("Unable to update record for a row without a primary key"),e;const o=n[r.id];if(void 0===o)return console.error("Unable to update record for a row with a missing primary key value"),e;const s=cT(e.identifier,t.id);this.meta.cellModificationStatus.set(s,{state:"processing"}),this.updatePromises?.get(s)?.cancel();const a=PM.records.patch({...this.apiContext,record_id:o,record_def:{[String(t.id)]:n[t.id]}}).run();this.updatePromises||(this.updatePromises=new Map),this.updatePromises.set(s,a);try{const t=await a;return this.meta.cellModificationStatus.set(s,{state:"success"}),e.withRecord(t.results[0])}catch(i){this.meta.cellModificationStatus.set(s,{state:"failure",errors:[fM.fromAnything(i)]})}finally{this.updatePromises.get(s)===a&&this.updatePromises.delete(s)}return e}getEmptyApiRecord(){return Object.fromEntries(h(this.columnsDataStore.columns).filter((e=>null===e.default)).map((e=>[String(e.id),null])))}async createRecord(e){const t=h(this.columnsDataStore.columns);if(function({row:e,columns:t,cellClientSideErrors:n}){t.forEach((t=>{pT({cellValue:e.record[String(t.id)],column:t,cellKey:cT(e.identifier,t.id),cellClientSideErrors:n})}))}({row:e,columns:t,cellClientSideErrors:this.meta.cellClientSideErrors}),h(this.meta.rowsWithClientSideErrors).has(e.identifier))return e;this.meta.rowCreationStatus.set(e.identifier,{state:"processing"}),this.createPromises?.get(e.identifier)?.cancel();const n=PM.records.add({...this.apiContext,record_def:{...Object.fromEntries(this.contextualFilters),...e.record}}).run();this.createPromises||(this.createPromises=new Map),this.createPromises.set(e.identifier,n);try{const t=(await n).results[0],r=XI.fromDraft(e.withRecord(t));return this.meta.clearAllStatusesAndErrorsForRows([r.identifier]),this.meta.rowCreationStatus.set(r.identifier,{state:"success"}),this.newRecords.update((t=>t.map((t=>t.identifier===e.identifier?r:t)))),r}catch(r){this.meta.rowCreationStatus.set(e.identifier,{state:"failure",errors:[fM.fromAnything(r)]})}finally{this.createPromises.get(e.identifier)===n&&this.createPromises.delete(e.identifier)}return e}async createOrUpdateRecord(e,t){const n=rT(e)?ZI.fromPlaceholder(e):e;let r;return h(this.newRecords).find((e=>e.identifier===n.identifier))||this.newRecords.update((e=>[...e,n])),r=tT(n)?await this.updateCell(n,t):await this.createRecord(n),r}async duplicateRecord(e){const t=h(this.columnsDataStore.pkColumn),n={...e.record};t&&delete n[t.id];const r=new ZI({record:{...this.getEmptyApiRecord(),...n}});this.newRecords.update((e=>e.concat(r))),await this.createRecord(r)}async addEmptyRecord(){const e=new ZI({record:this.getEmptyApiRecord()});this.newRecords.update((t=>t.concat(e))),await this.createRecord(e)}getCellValue(e){const{columnId:t,rowId:n}=qI(e),r=h(this.selectableRowsMap).get(n);if(r)return r.record[t]}destroy(){this.promise?.cancel(),this.promise=void 0,this.requestParamsUnsubscriber()}}class wT extends oo{constructor({database:t,table:n,hiddenColumns:r}){super(),e(this,"apiContext",void 0),e(this,"promise",void 0),e(this,"fetchedColumns",pt([])),e(this,"fetchStatus",pt(void 0)),e(this,"hiddenColumns",void 0),e(this,"columns",void 0),e(this,"pkColumn",void 0),this.apiContext={database_id:t.id,table_oid:n.oid},this.hiddenColumns=new co(r),this.columns=mt([this.fetchedColumns,this.hiddenColumns],(([e,t])=>e.filter((e=>!t.has(e.id))))),this.pkColumn=mt(this.fetchedColumns,(e=>e.find((e=>e.primary_key)))),this.fetch()}async fetch(){try{this.fetchStatus.set({state:"processing"}),this.promise?.cancel(),this.promise=PM.columns.list_with_metadata({...this.apiContext}).run();const e=await this.promise;return this.fetchedColumns.set(e),this.fetchStatus.set({state:"success"}),e}catch(e){return void this.fetchStatus.set({state:"failure",errors:[ck(e)]})}finally{this.promise=void 0}}async add(e){await PM.columns.add({...this.apiContext,column_data_list:[e]}).run(),await this.dispatch("columnAdded"),await this.fetch()}async addWithMetadata(e,t){const n=await PM.columns.add({...this.apiContext,column_data_list:[e]}).run(),[r]=n;r&&_o(t)&&await PM.columns.metadata.set({...this.apiContext,column_meta_data_list:[{attnum:r,...t}]}).run(),await this.dispatch("columnAdded"),await this.fetch()}async rename(e,t){await PM.columns.patch({...this.apiContext,column_data_list:[{id:e,name:t}]}).run(),await this.dispatch("columnRenamed")}async updateDescription(e,t){await PM.columns.patch({...this.apiContext,column_data_list:[{id:e,description:t}]}).run(),this.fetchedColumns.update((n=>n.map((n=>n.id===e?{...n,description:t}:n))))}async setNullabilityOfColumn(e,t){if(e.primary_key)throw new Error(`Column "${e.name}" cannot allow NULL because it is a primary key.`);await PM.columns.patch({...this.apiContext,column_data_list:[{id:e.id,nullable:t}]}).run(),await this.fetch()}async patch(e){await PM.columns.patch({...this.apiContext,column_data_list:[e]}).run(),await this.fetch(),await this.dispatch("columnPatched")}async setDisplayOptions(e,t){await PM.columns.metadata.set({...this.apiContext,column_meta_data_list:[{attnum:e.id,...t}]}).run(),this.fetchedColumns.update((n=>n.map((n=>n.id===e.id?{...n,metadata:{...n.metadata,...t}}:n))))}async changeType(e){await PM.columns.patch({...this.apiContext,column_data_list:[{id:e.id,type:e.type,type_options:e.type_options}]}).run(),await PM.columns.metadata.set({...this.apiContext,column_meta_data_list:[{attnum:e.id,...e.metadata}]}).run(),await this.fetch(),await this.dispatch("columnPatched")}destroy(){this.promise?.cancel(),this.promise=void 0,super.destroy()}async deleteColumn(e){await PM.columns.delete({...this.apiContext,column_attnums:[e]}).run(),await this.dispatch("columnDeleted",e),await this.fetch()}}class _T{constructor({page:t,size:n}={}){e(this,"page",void 0),e(this,"size",void 0),e(this,"offset",void 0),e(this,"leftBound",void 0),e(this,"rightBound",void 0),this.page=t??1,this.size=n??500,this.offset=(this.page-1)*this.size,this.leftBound=this.offset+1,this.rightBound=this.offset+this.size}recordsRequestParams(){return{limit:this.size,offset:this.offset}}terse(){return[this.page,this.size]}static fromTerse(e){return new _T({page:e[0],size:e[1]})}getMaxPage(e){return Math.ceil(e/this.size)}}function xT(e){const t={type:"attnum",value:e.columnId};function n(t=e.value){return{type:"literal",value:String(t)}}function r(e,r=[t,n()]){return{type:e,args:r}}function o(e,n=t){return{type:e,args:[n]}}function s(e,t=n()){return r(e,[o("json_array_length"),t])}return{contains_case_insensitive:r("contains_case_insensitive"),email_domain_contains:r("contains",[o("email_domain"),n()]),email_domain_equals:r("equal",[o("email_domain"),n()]),equal:r("equal"),greater_or_equal:r("greater_or_equal"),greater:r("greater"),json_array_contains:r("json_array_contains"),json_array_length_equals:s("equal"),json_array_length_greater_or_equal:s("greater_or_equal"),json_array_length_greater_than:s("greater"),json_array_length_less_or_equal:s("lesser_or_equal"),json_array_length_less_than:s("lesser"),json_array_not_empty:s("greater",n(0)),lesser_or_equal:r("lesser_or_equal"),lesser:r("lesser"),not_null:o("not_null"),null:o("null"),starts_with_case_insensitive:r("starts_with"),uri_authority_contains:r("contains",[o("uri_authority"),n()]),uri_scheme_equals:r("equal",[o("uri_scheme"),n()])}[e.conditionId]}function CT(e){return[e.columnId,e.conditionId,e.value]}function ST(e){return{columnId:e[0],conditionId:e[1],value:e[2]}}const kT=["and","or"],MT=kT[0];class IT{constructor({combination:t,entries:n}={}){e(this,"combination",void 0),e(this,"entries",void 0),this.combination=t??MT,this.entries=n??[]}withEntries(e){return new IT({combination:this.combination,entries:[...this.entries,...e]})}withEntry(e){return this.withEntries([e])}withoutEntry(e){return new IT({combination:this.combination,entries:[...this.entries.slice(0,e),...this.entries.slice(e+1)]})}withoutColumns(e){return new IT({combination:this.combination,entries:this.entries.filter((t=>!e.includes(t.columnId)))})}withCombination(e){return new IT({combination:e,entries:this.entries})}equals(e){if(this.entries.length!==e.entries.length||this.combination!==e.combination)return!1;for(let t=0;t<e.entries.length;t+=1){const n=this.entries[t],r=e.entries[t];if(n.columnId!==r.columnId||n.conditionId!==r.conditionId||n.value!==r.value)return!1}return!0}recordsRequestParams(){if(0===this.entries.length)return{};if(1===this.entries.length)return{filter:xT(this.entries[0])};let e=xT(this.entries[0]);for(let t=1;t<this.entries.length;t+=1)e={type:this.combination,args:[e,xT(this.entries[t])]};return{filter:e}}terse(){return[this.combination,this.entries.map(CT)]}static fromTerse(e){return new IT({combination:kT.find((t=>t===e[0]))??MT,entries:e[1].map(ST)})}}class TT{constructor({entries:t}={}){e(this,"entries",void 0),this.entries=t??[]}hasColumn(e){return this.entries.some((t=>t.columnId===e))}withEntry(e){return new TT({entries:[...this.entries,e]})}withReplacedEntry(e,t){return new TT({entries:this.entries.map(((n,r)=>r===e?t:n))})}withoutEntry(e){return new TT({entries:[...this.entries.slice(0,e),...this.entries.slice(e+1)]})}withoutColumns(e){return new TT({entries:this.entries.filter((t=>!e.includes(t.columnId)))})}withPreprocForColumn(e,t){return new TT({entries:this.entries.map((n=>n.columnId===e?{columnId:e,preprocFnId:t}:n))})}recordsRequestParams(){return this.entries.length?{grouping:{columns:this.entries.map((e=>e.columnId)),preproc:this.entries.map((e=>e.preprocFnId??null))}}:{}}terse(){return this.entries.map((e=>e.preprocFnId?[e.columnId,e.preprocFnId]:[e.columnId]))}static fromTerse(e){return new TT({entries:e.map((e=>({columnId:e[0],preprocFnId:e[1]??void 0})))})}}function ET(e){return"string"==typeof e?e.trim().length>0:null!=e}class DT extends ao{constructor(e=[]){super(e),this.valueIsValid=ET}getSearchParams(){return[...this].map((([e,t])=>({attnum:e,literal:t})))}}const OT=["ASCENDING","DESCENDING"];function NT(e,t){return t?{ASCENDING:h(no)("ascending_id"),DESCENDING:h(no)("descending_id")}:["string","uri"].includes(e)?{ASCENDING:"A-Z",DESCENDING:"Z-A"}:["date","datetime","time"].includes(e)?{ASCENDING:h(no)("oldest_to_newest_sort"),DESCENDING:h(no)("newest_to_oldest_sort")}:["number"].includes(e)?{ASCENDING:"0-9",DESCENDING:"9-0"}:{ASCENDING:h(no)("ascending"),DESCENDING:h(no)("descending")}}const AT=new Map([["ASCENDING","asc"],["DESCENDING","desc"]]);function RT(e){const t=AT.get(e);if(!t)throw new Error(`Invalid sort direction: ${e}`);return t}class FT extends ao{constructor(e=[]){[...e].forEach((([,e])=>{if(!function(e){return OT.includes(e)}(e))throw new Error(`Invalid sort direction: ${e}`)})),super(e)}recordsRequestParams(){const e=[...this].map((([e,t])=>({attnum:e,direction:RT(t)})));return e.length?{order:e}:{}}recordsRequestParamsIncludingGrouping(e){const t=new FT(e.entries.map((e=>[e.columnId,"ASCENDING"])));return t.withEntries(this).recordsRequestParams()}terse(){return[...this].map((([e,t])=>[e,t]))}static fromTerse(e){return new FT(e.map((([e,t])=>[e,t])))}}function PT(e){return{pagination:e?.pagination??new _T,sorting:e?.sorting??new FT,grouping:e?.grouping??new TT,filtering:e?.filtering??new IT}}function LT(e){return UM.encode(JSON.stringify(function(e){const t=PT(e);return[t.pagination.terse(),t.sorting.terse(),t.grouping.terse(),t.filtering.terse()]}(e)))}function HT(e){var t;if(e)try{return t=JSON.parse(UM.decode(e)),{pagination:_T.fromTerse(t[0]),sorting:FT.fromTerse(t[1]),grouping:TT.fromTerse(t[2]),filtering:IT.fromTerse(t[3])}}catch{return}}const zT=LT(PT());class VT{constructor(t){e(this,"pagination",void 0),e(this,"sorting",void 0),e(this,"grouping",void 0),e(this,"filtering",void 0),e(this,"searchFuzzy",void 0),e(this,"cellClientSideErrors",new lo),e(this,"rowsWithClientSideErrors",void 0),e(this,"cellModificationStatus",new lo),e(this,"rowDeletionStatus",new lo),e(this,"rowCreationStatus",new lo),e(this,"rowStatus",void 0),e(this,"sheetState",void 0),e(this,"serialization",void 0),e(this,"recordsRequestParamsData",void 0),e(this,"cleanupFunctions",[]);const n=PT(t);this.pagination=pt(n.pagination),this.sorting=pt(n.sorting),this.grouping=pt(n.grouping),this.filtering=pt(n.filtering),this.searchFuzzy=pt(new DT),this.rowsWithClientSideErrors=mt(this.cellClientSideErrors,(e=>new so([...e.keys()].map(uT)))),this.rowStatus=mt([this.cellClientSideErrors,this.cellModificationStatus,this.rowDeletionStatus,this.rowCreationStatus],(([e,t,n,r])=>function({cellClientSideErrors:e,cellModificationStatus:t,rowCreationStatus:n,rowDeletionStatus:r}){const o=[...e.entries()].reduce(((e,[t,n])=>{const r=uT(t),o=e.get(r)??[];return e.with(r,o.concat(n))}),new ao),s=new ao([...o.entries()].map((([e,t])=>[e,{errorsFromWholeRowAndCells:dT(t)}]))),a=[...t].reduce(((e,[t,n])=>"failure"===n.state?e.with(uT(t)):e),new so),i=fM.fromAnything(h(no)("row_contains_cell_with_error")),l=new ao([...a].map((e=>[e,{errorsFromWholeRowAndCells:[i]}]))),c=s.withEntries(l),u=n.withEntries(r).mapValues((e=>({wholeRowState:e.state,errorsFromWholeRowAndCells:"failure"===e.state?e.errors:[]})));return c.withEntries(u,(function(e,t){return{wholeRowState:e.wholeRowState??t.wholeRowState,errorsFromWholeRowAndCells:[...e.errorsFromWholeRowAndCells??[],...t.errorsFromWholeRowAndCells??[]]}})).mapValues((function(e){return{errorsFromWholeRowAndCells:[],...e}}))}({cellClientSideErrors:e,cellModificationStatus:t,rowDeletionStatus:n,rowCreationStatus:r}))),this.sheetState=mt([this.cellModificationStatus,this.rowDeletionStatus,this.rowCreationStatus],(([e,t,n])=>$T({cellModificationStatus:e,rowDeletionStatus:t,rowCreationStatus:n}))),this.serialization=mt([this.pagination,this.sorting,this.grouping,this.filtering],(([e,t,n,r])=>{const o=LT({pagination:e,sorting:t,grouping:n,filtering:r});return o===zT?"":o})),this.recordsRequestParamsData=mt([this.pagination,this.sorting,this.grouping,this.filtering,this.searchFuzzy],(([e,t,n,r,o])=>({pagination:e,sorting:t,grouping:n,filtering:r,searchFuzzy:o})));const{pagination:r}=this;function o(){r.update((e=>new _T({size:e.size,page:1})))}this.cleanupFunctions.push(this.filtering.subscribe(o),this.searchFuzzy.subscribe(o))}clearAllStatusesAndErrorsForRows(e){this.rowCreationStatus.delete(e),this.rowDeletionStatus.delete(e);const t=new Set(e);this.cellClientSideErrors.delete([...this.cellClientSideErrors.getKeys()].filter((e=>t.has(uT(e))))),this.cellModificationStatus.delete([...this.cellModificationStatus.getKeys()].filter((e=>t.has(uT(e)))))}clearAllStatusesAndErrors(){this.rowCreationStatus.clear(),this.rowDeletionStatus.clear(),this.cellClientSideErrors.clear(),this.cellModificationStatus.clear()}static fromSerialization(e){return new VT(HT(e))}destroy(){this.cleanupFunctions.forEach((e=>e()))}}function qT(e){return"fetchedFromDb"===e.rowOrigin||"newlyCreatedViaUi"===e.rowOrigin?e.rowNumber:"staticlyPresentInUi"===e.rowOrigin?0:So(e.rowOrigin)}class BT{constructor({meta:t,recordsData:n}){e(this,"scrollOffset",void 0),e(this,"horizontalScrollOffset",void 0),e(this,"displayRowDescriptors",void 0),e(this,"placeholderRowId",void 0),this.horizontalScrollOffset=pt(0),this.scrollOffset=pt(0);const r=pt("");this.placeholderRowId=r,this.displayRowDescriptors=mt([n.fetchedRecordRows,n.newRecords,n.totalCount,n.grouping,t.pagination],(([e,t,o,s,a])=>{let i=function({recordRows:e,grouping:t,pagination:n}){function r(e){return e+n.offset+1}if((t?.columnIds??[]).length>0&&t){const n=[];let o=0;return t.groups.forEach((s=>{const a={};t.columnIds.forEach((e=>{s.eqValue[e],a[e]=s.eqValue[e]})),n.push({row:new QI({group:s,groupValues:a}),rowOrigin:"staticlyPresentInUi"}),s.resultIndices.forEach((t=>{const s=e[t];s&&(n.push({row:s,rowOrigin:"fetchedFromDb",rowNumber:r(o)}),o+=1)}))})),n}return e.map(((e,t)=>({row:e,rowOrigin:"fetchedFromDb",rowNumber:r(t)})))}({recordRows:e,grouping:s,pagination:a});t.length>0&&(i=i.concat({row:new eT,rowOrigin:"staticlyPresentInUi"}).concat(t.map(((e,t)=>({row:e,rowNumber:a.offset+(o??0)+t+1,rowOrigin:"newlyCreatedViaUi"})))));const l=new JI({record:n.getEmptyApiRecord()});return r.set(l.identifier),i=i.concat({row:l,rowOrigin:"staticlyPresentInUi"}),i}))}}function jT(e){const{mimetype:t}=e;return"image"===(t?.split("/").at(0)??"unknown")?"image":"default"}function UT(e){const t=(()=>{if("object"==typeof e)return e;try{return JSON.parse(String(e))}catch{return}})();if("object"==typeof t&&null!==t&&vo(t,"mash")&&vo(t,"uri"))return t}async function WT(){return KS({title:h(no)("remove_file_prompt"),body:h(no)("remove_file_confirmation_body"),proceedButton:{label:h(no)("remove"),icon:Kx}})}class YT{constructor(t,n){e(this,"uri",void 0),e(this,"name",void 0),e(this,"mimetype",void 0),e(this,"thumbnail",void 0),e(this,"attachment",void 0),e(this,"direct",void 0),e(this,"showFileStorageInfo",void 0),this.uri=t.uri,this.name=t.name,this.mimetype=t.mimetype,this.thumbnail=t.thumbnail?yk(t.thumbnail,n):null,this.attachment=yk(t.attachment,n),this.direct=yk(t.direct,n);const r=dx();this.showFileStorageInfo=r.is_authenticated}thumbnailWithHeight(e){if(this.thumbnail)return yk(this.thumbnail,{height:e})}}var KT=(e=>(e.Up="up",e.Down="down",e.Left="left",e.Right="right",e))(KT||{});function GT(e){switch(e){case"left":return-1;case"right":return 1;default:return 0}}o=Symbol.iterator;class XT{constructor(t=[]){if(e(this,"values",void 0),e(this,"indexLookup",void 0),this.values=t,this.indexLookup=new ao(t.map(((e,t)=>[e,t]))),new Set(t).size!==t.length)throw new Error("Duplicate values are not allowed within a Series.")}getIndex(e){return this.indexLookup.get(e)}get length(){return this.values.length}range(e,t){const n=this.getIndex(e),r=this.getIndex(t);if(void 0===n||void 0===r)throw new Error("Id value not found within sequence.");const o=Math.min(n,r),s=Math.max(n,r);return this.values.slice(o,s+1)}at(e){return this.values[e]}get first(){return this.at(0)}get last(){return this.at(this.values.length-1)}has(e){return void 0!==this.getIndex(e)}best(e,t){const n=ic((e=>this.has(e)),e);return cc(t,(e=>this.getIndex(e)??0),n)}min(e){return this.best(e,mc)}max(e){return this.best(e,$c)}offset(e,t){if(0===t)return this.has(e)?e:void 0;const n=this.getIndex(e);return void 0!==n?this.values[n+t]:void 0}collapsedOffset(e,t){if(0===t)return;const n=t>0?this.max(e):this.min(e);return void 0!==n?this.offset(n,t):void 0}[o](){return this.values[Symbol.iterator]()}}function ZT(e){return{type:"dataCell",cellId:e}}function JT(e){return{type:"placeholderCell",cellId:e}}class QT{constructor(t=new XT,n=new XT,r){e(this,"rowIds",void 0),e(this,"columnIds",void 0),e(this,"placeholderRowId",void 0),this.rowIds=t,this.columnIds=n,this.placeholderRowId=r}normalizeFlexibleRowId(e){return e===this.placeholderRowId?this.rowIds.last:e}allDataCells(){return BI(this.rowIds,this.columnIds)}dataCellsInFlexibleRowRange(e,t){const n=this.normalizeFlexibleRowId(e);if(void 0===n)return[];const r=this.normalizeFlexibleRowId(t);return void 0===r?[]:BI(this.rowIds.range(n,r),this.columnIds)}dataCellsInColumnRange(e,t){return BI(this.rowIds,this.columnIds.range(e,t))}dataCellsInFlexibleCellRange(e,t){const n=qI(e),r=qI(t);return this.dataCellsInFlexibleRowColumnRange(n.rowId,r.rowId,n.columnId,r.columnId)}dataCellsInFlexibleRowColumnRange(e,t,n,r){const o=this.normalizeFlexibleRowId(e);if(void 0===o)return[];const s=this.normalizeFlexibleRowId(t);if(void 0===s)return[];return BI(this.rowIds.range(o,s),this.columnIds.range(n,r))}getAdjacentCell(e,t){const n=qI(e),r=GT(t),o=this.columnIds.offset(n.columnId,r);if(void 0===o)return{type:"none"};if(n.rowId===this.placeholderRowId){if(t===KT.Up){const e=this.rowIds.last;return void 0===e?{type:"none"}:ZT(VI(e,o))}return t===KT.Down?{type:"none"}:JT(VI(n.rowId,o))}const s=function(e){switch(e){case"up":return-1;case"down":return 1;default:return 0}}(t),a=this.rowIds.offset(n.rowId,s);if(void 0===a){if(t===KT.Down){if(void 0===this.placeholderRowId)return{type:"none"};return JT(VI(this.placeholderRowId,o))}return{type:"none"}}return ZT(VI(a,o))}get hasResultRows(){return this.rowIds.length>0}get hasPlaceholder(){return void 0!==this.placeholderRowId}}class eE{constructor(t,n){e(this,"value",void 0),e(this,"effects",[]),this.value=pt(t),this.effects=Object.entries(n).map((([e,t])=>({name:e,run:t})))}runEffects(e,t={}){this.effects.filter((({name:e})=>!t.prevent?.includes(e))).forEach((({run:t})=>t(e)))}subscribe(e){return this.value.subscribe(e)}update(e,t={}){this.value.update((n=>{const r=e(n);return this.runEffects(r,t),r}))}set(e){this.value.set(e)}}function tE(e,t,n){return n[e[t]](e)}function nE(e,t){return t[e]}function rE(e){const t=e.closest("[data-sheet-element]");if(!t)return;const n=t.getAttribute("data-sheet-element");if(n){if("data-cell"===n){const e=t.getAttribute("data-sheet-row-type"),n=t.getAttribute("data-cell-selection-id");if(!n)return;return{type:"placeholder"===e?"placeholder-data-cell":"data-cell",cellId:n}}if("column-header-cell"===n){const e=t.getAttribute("data-column-identifier");if(!e)return;return{type:"column-header-cell",columnId:e}}if("row-header-cell"===n){const e=t.getAttribute("data-sheet-row-type"),n=t.getAttribute("data-row-selection-id");if(!n)return;return{type:"placeholder"===e?"placeholder-row-header-cell":"row-header-cell",rowId:n}}}}function oE(e){return Math.max(0,e)}function sE(e,t,n){const r=n.min(e),o=n.max(e);if(void 0!==r&&void 0!==o)return[r,o];const s=Math.min(e.size,n.length),a=Co(t.min(e),(e=>t.getIndex(e)))??0,i=oE(a+s-1-n.length),l=oE(a-i);return[n.at(l),n.at(l+s-1)]}function aE(){return{activeCellId:void 0,cellIds:new so,columnIds:new so,rowIds:new so,pasteOperation:"none",getFullySelectedColumnIds:()=>new so,adaptToModifiedPlane:()=>aE()}}function iE(e){return{activeCellId:void 0,cellIds:new so,columnIds:new so(e),rowIds:new so,pasteOperation:"none",getFullySelectedColumnIds(){return this.columnIds},adaptToModifiedPlane({newPlane:e}){if(e.hasResultRows)return aE();const t=e.columnIds.min(this.columnIds),n=e.columnIds.max(this.columnIds);return iE(void 0===t||void 0===n?[]:e.columnIds.range(t,n))},collapsedAndMoved(e,t){const n=GT(e),r=t.columnIds.collapsedOffset(this.columnIds,n);return void 0===r?this:iE([r])}}}function lE(){return iE([])}function cE(e,t){const n=gc(qI,e),r=new so(e);return{activeCellId:void 0===t?uc(e):r.has(t)?t:uc(e),cellIds:r,columnIds:new so(gc((({columnId:e})=>e),n)),rowIds:new so(gc((({rowId:e})=>e),n)),pasteOperation:"update",getFullySelectedColumnIds(e){const t=this.rowIds.size,n=e.rowIds.length;if(t<n)return new so;const r=this.columnIds.size;if(this.cellIds.size/r===n)return this.columnIds;const o=new Map;for(const a of this.cellIds){const{columnId:e}=qI(a),t=o.get(e)??0;o.set(e,t+1)}const s=ac(o,ic((([,e])=>e===n)),gc((([e])=>e)));return new so(s)},adaptToModifiedPlane({oldPlane:e,newPlane:t}){if(!t.hasResultRows)return lE();const[n,r]=sE(this.rowIds,e.rowIds,t.rowIds),[o,s]=sE(this.columnIds,e.columnIds,t.columnIds);if(void 0===n||void 0===r||void 0===o||void 0===s)return aE();return cE(t.dataCellsInFlexibleRowColumnRange(n,r,o,s),this.activeCellId)}}}function uE(e){return cE([e],e)}function dE(e){return{activeCellId:e,cellIds:new so([e]),columnIds:new so([qI(e).columnId]),rowIds:new so,pasteOperation:"insert",getFullySelectedColumnIds:()=>new so,adaptToModifiedPlane({oldPlane:e,newPlane:t}){const n=uc(this.columnIds);if(void 0===n)return aE();return t.columnIds.has(n)&&t.placeholderRowId===e.placeholderRowId?dE(n):aE()}}}class $E{constructor(t=new QT,n=aE()){e(this,"plane",void 0),e(this,"basis",void 0),e(this,"fullySelectedColumnIds",void 0),this.plane=t,this.basis=n,this.fullySelectedColumnIds=this.basis.getFullySelectedColumnIds(this.plane)}get activeCellId(){return this.basis.activeCellId}get cellIds(){return this.basis.cellIds}get rowIds(){return this.basis.rowIds}get columnIds(){return this.basis.columnIds}get pasteOperation(){return this.basis.pasteOperation}withBasis(e){return new $E(this.plane,e)}ofAllDataCells(){return this.plane.hasResultRows?this.withBasis(cE(this.plane.allDataCells())):this.withBasis(lE())}ofFirstDataCell(){const e=uc(this.plane.allDataCells());return void 0===e?this.withBasis(lE()):this.withBasis(cE([e]))}ofNewRecordDataEntryCell(e=this.plane.columnIds.first){const t=this.plane.rowIds.last;if(!t)return this;const n=e?this.plane.columnIds.getIndex(e):0,r=this.plane.columnIds.at(n??0);return r?this.ofOneCell(VI(t,r)):this}ofRowRange(e,t){return this.withBasis(cE(this.plane.dataCellsInFlexibleRowRange(e,t),VI(e,this.plane.columnIds.first??"")))}ofColumnRange(e,t){const n=this.plane.rowIds.first?cE(this.plane.dataCellsInColumnRange(e,t),VI(this.plane.rowIds.first,e)):iE(this.plane.columnIds.range(e,t));return this.withBasis(n)}ofRowColumnIntersection(e,t){return this.withBasis(cE(BI(e,t)))}ofDataCellRange(e,t){return this.withBasis(cE(this.plane.dataCellsInFlexibleCellRange(e,t),e))}ofSheetCellRange(e,t){const n=()=>this.plane.rowIds.first??"",r=()=>this.plane.columnIds.first??"";return tE(e,"type",{"data-cell":({cellId:e})=>{const o=tE(t,"type",{"data-cell":e=>e.cellId,"column-header-cell":e=>VI(n(),e.columnId),"row-header-cell":e=>VI(e.rowId,r()),"placeholder-row-header-cell":e=>VI(e.rowId,r()),"placeholder-data-cell":e=>e.cellId});return this.ofDataCellRange(e,o)},"column-header-cell":({columnId:e})=>{const n=tE(t,"type",{"data-cell":e=>qI(e.cellId).columnId,"column-header-cell":e=>e.columnId,"row-header-cell":()=>r(),"placeholder-row-header-cell":()=>r(),"placeholder-data-cell":e=>qI(e.cellId).columnId});return this.ofColumnRange(e,n)},"row-header-cell":({rowId:e})=>{const r=tE(t,"type",{"data-cell":e=>qI(e.cellId).rowId,"column-header-cell":()=>n(),"row-header-cell":e=>e.rowId,"placeholder-row-header-cell":e=>e.rowId,"placeholder-data-cell":e=>qI(e.cellId).rowId});return this.ofRowRange(e,r)},"placeholder-row-header-cell":({rowId:e})=>this.ofRowRange(e,e),"placeholder-data-cell":({cellId:e})=>tE(t,"type",{"data-cell":()=>this.ofOneCell(e),"column-header-cell":()=>this.ofOneCell(e),"row-header-cell":()=>this.ofOneCell(e),"placeholder-row-header-cell":()=>this.ofOneCell(e),"placeholder-data-cell":({cellId:e})=>this.ofOneCell(e)})})}ofOneCell(e){const{rowId:t}=qI(e),{placeholderRowId:n}=this.plane,r=t===n?dE:uE;return this.withBasis(r(e))}ofOneRow(e){return this.ofRowRange(e,e)}ofOneColumn(e){return this.ofColumnRange(e,e)}forNewPlane(e){return new $E(e,this.basis.adaptToModifiedPlane({oldPlane:this.plane,newPlane:e}))}drawnToDataCell(e){return this.ofDataCellRange(this.activeCellId??e,e)}drawnToRow(e){const t=this.activeCellId?qI(this.activeCellId).rowId:e;return this.ofRowRange(t,e)}drawnToColumn(e){const t=this.activeCellId?qI(this.activeCellId).columnId:e;return this.ofColumnRange(t,e)}collapsedAndMoved(e){const t=this.basis.collapsedAndMoved?.(e,this.plane);if(t)return this.withBasis(t);if(void 0===this.activeCellId)return this.ofFirstDataCell();const n=this.plane.getAdjacentCell(this.activeCellId,e);return"none"===n.type?this:"dataCell"===n.type||"placeholderCell"===n.type?this.ofOneCell(n.cellId):So(n)}withActiveCellAdvanced(e="forward"){return console.log(e,"Active cell advancing is not yet implemented"),this}resized(e){return console.log(e,"Sheet selection resizing is not yet implemented"),this}}class pE extends oo{constructor(t){super(),e(this,"selection",void 0),e(this,"cleanupFunctions",[]),this.selection=new eE(new $E,{focus:()=>this.focus()}),this.cleanupFunctions.push(t.subscribe((e=>this.selection.update((t=>t.forNewPlane(e)),{prevent:["focus"]}))))}focus(){this.dispatch("focus")}subscribe(e){return this.selection.subscribe(e)}update(e){this.selection.update(e)}updateWithoutFocus(e){this.selection.update(e,{prevent:["focus"]})}set(e){this.selection.set(e)}setWithoutFocus(e){this.selection.update((()=>e),{prevent:["focus"]})}destroy(){super.destroy(),this.cleanupFunctions.forEach((e=>e()))}}class mE extends oo{constructor({database:t,table:n}){super(),e(this,"apiContext",void 0),e(this,"store",void 0),e(this,"promise",void 0),e(this,"uniqueColumns",void 0),this.apiContext={database_id:t.id,table_oid:n.oid},this.store=pt({state:pk.Loading,constraints:[]}),this.uniqueColumns=mt(this.store,(({constraints:e})=>new Set(e.filter((e=>"unique"===e.type&&1===e.columns.length)).map((e=>e.columns[0]))))),this.fetch()}set(e){this.store.set(e)}update(e){this.store.update(e)}subscribe(e){return this.store.subscribe(e)}get(){return h(this.store)}async fetch(){this.update((e=>({...e,state:pk.Loading})));try{this.promise?.cancel(),this.promise=PM.constraints.list(this.apiContext).run();const e=await this.promise,t={state:pk.Done,constraints:e};return this.set(t),t}catch(e){this.set({state:pk.Error,error:e instanceof Error?e.message:void 0,constraints:[]})}finally{this.promise=void 0}}async add(e){await PM.constraints.add({...this.apiContext,constraint_def_list:[e]}).run(),await this.dispatch("constraintAdded"),await this.fetch()}async remove(e){await PM.constraints.delete({...this.apiContext,constraint_oid:e}).run(),await this.dispatch("constraintRemoved"),await this.fetch()}async setUniquenessOfColumn(e,t){if(e.primary_key){if(!t)throw new Error(`Column "${e.name}" must remain unique because it is a primary key.`);return}if(t===h(this.uniqueColumns).has(e.id))return;if(t)return void(await this.add({type:"u",columns:[e.id]}));const{constraints:n}=h(this.store),r=function(e,t){return e.filter((function(e){return e.columns.length===t.length&&e.columns.every((e=>t.includes(e)))}))}(n,[e.id]).filter((e=>"unique"===e.type));await Promise.all(r.map((e=>PM.constraints.delete({...this.apiContext,constraint_oid:e.oid}).run()))),await this.fetch()}destroy(){this.promise?.cancel(),this.promise=void 0}}function fE(e){let t,n;const r=e[1].default,o=b(r,e,e[0],null);return{c(){t=q("span"),o&&o.c(),X(t,"class","postgres-keyword")},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&_(o,r,e,e[0],n?w(r,e[0],t,null):x(e[0]),null)},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function gE(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,r]}class hE extends ut{constructor(e){super(),ct(this,e,gE,fE,f,{})}}function yE(e){let t;return{c(){t=j("DEFAULT")},m(e,n){H(e,t,n)},d(e){e&&z(t)}}}function bE(e){let t,n;return t=new hE({props:{$$slots:{default:[yE]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}class vE extends ut{constructor(e){super(),ct(this,e,null,bE,f,{})}}function wE(e){let t;return{c(){t=j("NULL")},m(e,n){H(e,t,n)},d(e){e&&z(t)}}}function _E(e){let t,n;return t=new hE({props:{$$slots:{default:[wE]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}class xE extends ut{constructor(e){super(),ct(this,e,null,_E,f,{})}}function CE(e){let t;const n=e[3].default,r=b(n,e,e[2],null),o=r||function(e){let t;return{c(){t=j(e[0])},m(e,n){H(e,t,n)},p(e,n){1&n&&Q(t,e[0])},d(e){e&&z(t)}}}(e);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,s){r?r.p&&(!t||4&s)&&_(r,n,e,e[2],t?w(n,e[2],s,null):x(e[2]),null):o&&o.p&&(!t||1&s)&&o.p(e,t?s:-1)},i(e){t||(je(o,e),t=!0)},o(e){Ue(o,e),t=!1},d(e){o&&o.d(e)}}}function SE(e){let t,n;return t=new Av({props:{matchParts:e[1]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.matchParts=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function kE(e){let t,n;return t=new vE({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function ME(e){let t,n;return t=new xE({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function IE(e){let t,n,r,o;const s=[ME,kE,SE,CE],a=[];function i(e,t){return null===e[0]?0:void 0===e[0]?1:e[1]?2:3}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,[o]){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function TE(e,t,n){let{$$slots:r={},$$scope:o}=t,{value:s}=t,{matchParts:a}=t;return e.$$set=e=>{"value"in e&&n(0,s=e.value),"matchParts"in e&&n(1,a=e.matchParts),"$$scope"in e&&n(2,o=e.$$scope)},[s,a,o,r]}class EE extends ut{constructor(e){super(),ct(this,e,TE,IE,f,{value:0,matchParts:1})}}function DE(e){return e.length>1?e.replace(/s$/i,""):e}function OE(e){return(e[0]?.toLocaleUpperCase()??"")+e.slice(1)}function NE(e){if("number"==typeof e)return e;if(e instanceof Array)return e.length;if("size"in e)return e.size;if("object"==typeof e&&"function"==typeof e[Symbol.iterator]){let t=0;for(const n of e)t+=1;return t}return 0}function AE(e,t="en-US"){return function(e,t="en-US"){return"object"==typeof Intl&&"function"==typeof Intl.PluralRules?new Intl.PluralRules(t).select(e):0===e?"zero":1===e?"one":2===e?"two":"many"}(NE(e),t)}function RE(e,t){return{zero:t,one:e,two:t,few:t,many:t,other:t}}const FE={cells:RE("cell","cells"),columns:RE("column","columns"),explorations:RE("exploration","explorations"),filters:RE("filter","filters"),matches:RE("match","matches"),records:RE("record","records"),rows:RE("row","rows"),results:RE("result","results"),schemas:RE("schema","schemas"),tables:RE("table","tables"),times:RE("time","times"),values:RE("value","values")};function PE(e,t="lower"){switch(t){case"title":return function(e){return e.split(" ").map(OE).join(" ")}(e);case"sentence":return OE(e);default:return e}}function LE(e,t,{casing:n,countWhenZero:r="numeric",countWhenSingular:o="numeric"}={}){const s=NE(e),a=function(e,t,n){if(0===e){if("numeric"===t)return String(e);if("word"in t)return t.word;So(t)}if(1===e){if("numeric"===n)return String(e);if("hidden"===n)return"";if("word"in n)return n.word;So(n)}return String(e)}(s,r,o),i=function(e,t,n="lower"){return PE(FE[t][AE(e)],n)}(s,t,n);return[a,i].filter(Boolean).join(" ")}function HE(e){let t,n,r;return{c(){t=q("div"),X(t,"class",n=M(`cell-background ${e[2]}`)+" svelte-2cx0as"),X(t,"style",r=`background-color: ${e[1]};`)},m(e,n){H(e,t,n)},p(e,o){4&o&&n!==(n=M(`cell-background ${e[2]}`)+" svelte-2cx0as")&&X(t,"class",n),2&o&&r!==(r=`background-color: ${e[1]};`)&&X(t,"style",r)},d(e){e&&z(t)}}}function zE(e){let t,n=e[0]&&HE(e);return{c(){n&&n.c(),t=W()},m(e,r){n&&n.m(e,r),H(e,t,r)},p(e,[r]){e[0]?n?n.p(e,r):(n=HE(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:a,o:a,d(e){n&&n.d(e),e&&z(t)}}}function VE(e,t,n){let{when:r=!0}=t,{color:o}=t,{class:s=""}=t;return e.$$set=e=>{"when"in e&&n(0,r=e.when),"color"in e&&n(1,o=e.color),"class"in e&&n(2,s=e.class)},[r,o,s]}class qE extends ut{constructor(e){super(),ct(this,e,VE,zE,f,{when:0,color:1,class:2})}}function BE(e){let t,n;return t=new qE({props:{color:"var(--cell-background-color)",when:"noMatch"!==e[6]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.when="noMatch"!==e[6]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function jE(e){let t,n,r,o,s,a,i,c="edit"!==e[3]&&BE(e);const u=e[14].default,$=b(u,e,e[13],null);let p=[{class:"cell-wrapper"},{"data-active-cell":r=e[1]?"":void 0},{tabindex:o=-1},e[12]],m={};for(let d=0;d<p.length;d+=1)m=l(m,p[d]);return{c(){t=q("div"),c&&c.c(),n=U(),$&&$.c(),Z(t,m),se(t,"disabled",e[2]),se(t,"is-edit-mode","edit"===e[3]),se(t,"truncate",e[4]&&!e[7]),se(t,"h-align-right","right"===e[9]&&!e[7]),se(t,"has-padding",e[5]&&!e[7]),se(t,"exact-match","exactMatch"===e[6]),se(t,"substring-match","substringMatch"===e[6]),se(t,"no-match","noMatch"===e[6]),se(t,"is-tabular-number",e[8]),se(t,"svelte-181gwjf",!0)},m(r,o){H(r,t,o),c&&c.m(t,null),F(t,n),$&&$.m(t,null),e[21](t),s=!0,a||(i=[Y(t,"click",e[15]),Y(t,"dblclick",e[16]),Y(t,"mousedown",e[11]),Y(t,"mouseup",e[17]),Y(t,"mouseenter",e[18]),Y(t,"mouseleave",e[19]),Y(t,"keydown",e[20]),Y(t,"copy",e[10])],a=!0)},p(e,[o]){"edit"!==e[3]?c?(c.p(e,o),8&o&&je(c,1)):(c=BE(e),c.c(),je(c,1),c.m(t,n)):c&&(qe(),Ue(c,1,1,(()=>{c=null})),Be()),$&&$.p&&(!s||8192&o)&&_($,u,e,e[13],s?w(u,e[13],o,null):x(e[13]),null),Z(t,m=rt(p,[{class:"cell-wrapper"},(!s||2&o&&r!==(r=e[1]?"":void 0))&&{"data-active-cell":r},{tabindex:-1},4096&o&&e[12]])),se(t,"disabled",e[2]),se(t,"is-edit-mode","edit"===e[3]),se(t,"truncate",e[4]&&!e[7]),se(t,"h-align-right","right"===e[9]&&!e[7]),se(t,"has-padding",e[5]&&!e[7]),se(t,"exact-match","exactMatch"===e[6]),se(t,"substring-match","substringMatch"===e[6]),se(t,"no-match","noMatch"===e[6]),se(t,"is-tabular-number",e[8]),se(t,"svelte-181gwjf",!0)},i(e){s||(je(c),je($,e),s=!0)},o(e){Ue(c),Ue($,e),s=!1},d(n){n&&z(t),c&&c.d(),$&&$.d(n),e[21](null),a=!1,d(i)}}}function UE(e,t,n){const r=["element","isActive","disabled","mode","multiLineTruncate","hasPadding","valueComparisonOutcome","isIndependentOfSheet","useTabularNumbers","horizontalAlignment"];let o=S(t,r),{$$slots:s={},$$scope:a}=t;const i=ye();let{element:c}=t,{isActive:u=!1}=t,{disabled:d=!1}=t,{mode:$="default"}=t,{multiLineTruncate:p=!1}=t,{hasPadding:m=!0}=t,{valueComparisonOutcome:f}=t,{isIndependentOfSheet:g=!1}=t,{useTabularNumbers:h=!1}=t,{horizontalAlignment:y="left"}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(12,o=S(t,r)),"element"in e&&n(0,c=e.element),"isActive"in e&&n(1,u=e.isActive),"disabled"in e&&n(2,d=e.disabled),"mode"in e&&n(3,$=e.mode),"multiLineTruncate"in e&&n(4,p=e.multiLineTruncate),"hasPadding"in e&&n(5,m=e.hasPadding),"valueComparisonOutcome"in e&&n(6,f=e.valueComparisonOutcome),"isIndependentOfSheet"in e&&n(7,g=e.isIndependentOfSheet),"useTabularNumbers"in e&&n(8,h=e.useTabularNumbers),"horizontalAlignment"in e&&n(9,y=e.horizontalAlignment),"$$scope"in e&&n(13,a=e.$$scope)},e.$$.update=()=>{8&e.$$.dirty&&"default"===$&&c&&c.contains(document.activeElement)&&c.focus()},[c,u,d,$,p,m,f,g,h,y,function(e){e.target!==c&&e.stopPropagation()},function(e){"edit"===$&&e.stopPropagation(),i("mousedown",e)},o,a,s,function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(e){Ce[e?"unshift":"push"]((()=>{c=e,n(0,c)}))}]}class WE extends ut{constructor(e){super(),ct(this,e,UE,jE,f,{element:0,isActive:1,disabled:2,mode:3,multiLineTruncate:4,hasPadding:5,valueComparisonOutcome:6,isIndependentOfSheet:7,useTabularNumbers:8,horizontalAlignment:9})}}function YE(e,t,n){const r=e.slice();return r[8]=t[n],r}function KE(e){let t,n,r,o=e[3]&&GE(e),s=e[1],a=[];for(let l=0;l<s.length;l+=1)a[l]=QE(YE(e,s,l));const i=e=>Ue(a[e],1,1,(()=>{a[e]=null}));return{c(){o&&o.c(),t=U(),n=q("div");for(let e=0;e<a.length;e+=1)a[e].c();X(n,"class","values svelte-108yu68"),se(n,"display-all",e[0]||e[3]),se(n,"independent",e[3])},m(e,s){o&&o.m(e,s),H(e,t,s),H(e,n,s);for(let t=0;t<a.length;t+=1)a[t].m(n,null);r=!0},p(e,l){if(e[3]?o?o.p(e,l):(o=GE(e),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),18&l){let t;for(s=e[1],t=0;t<s.length;t+=1){const r=YE(e,s,t);a[t]?(a[t].p(r,l),je(a[t],1)):(a[t]=QE(r),a[t].c(),je(a[t],1),a[t].m(n,null))}for(qe(),t=s.length;t<a.length;t+=1)i(t);Be()}(!r||9&l)&&se(n,"display-all",e[0]||e[3]),(!r||8&l)&&se(n,"independent",e[3])},i(e){if(!r){for(let e=0;e<s.length;e+=1)je(a[e]);r=!0}},o(e){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)Ue(a[t]);r=!1},d(e){o&&o.d(e),e&&z(t),e&&z(n),V(a,e)}}}function GE(e){let t,n,r=LE(e[1],"values")+"";return{c(){t=q("div"),n=j(r),X(t,"class","count svelte-108yu68")},m(e,r){H(e,t,r),F(t,n)},p(e,t){2&t&&r!==(r=LE(e[1],"values")+"")&&Q(n,r)},d(e){e&&z(t)}}}function XE(e){let t,n;return t=new Ng({props:{$$slots:{default:[JE]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2066&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function ZE(e){let t,n;return t=new xE({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function JE(e){let t,n=e[4](e[8])+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){18&r&&n!==(n=e[4](e[8])+"")&&Q(t,n)},d(e){e&&z(t)}}}function QE(e){let t,n,r,o,s;const a=[ZE,XE],i=[];function l(e,t){return null===e[8]?0:1}return n=l(e),r=i[n]=a[n](e),{c(){t=q("span"),r.c(),o=U(),X(t,"class","token svelte-108yu68")},m(e,r){H(e,t,r),i[n].m(t,null),F(t,o),s=!0},p(e,s){let c=n;n=l(e),n===c?i[n].p(e,s):(qe(),Ue(i[c],1,1,(()=>{i[c]=null})),Be(),r=i[n],r?r.p(e,s):(r=i[n]=a[n](e),r.c()),je(r,1),r.m(t,o))},i(e){s||(je(r),s=!0)},o(e){Ue(r),s=!1},d(e){e&&z(t),i[n].d()}}}function eD(e){let t,n,r=_o(e[1]),o=r&&KE(e);return{c(){o&&o.c(),t=W()},m(e,r){o&&o.m(e,r),H(e,t,r),n=!0},p(e,n){2&n&&(r=_o(e[1])),r?o?(o.p(e,n),2&n&&je(o,1)):(o=KE(e),o.c(),je(o,1),o.m(t.parentNode,t)):o&&(qe(),Ue(o,1,1,(()=>{o=null})),Be())},i(e){n||(je(o),n=!0)},o(e){Ue(o),n=!1},d(e){o&&o.d(e),e&&z(t)}}}function tD(e){let t,n;return t=new EE({props:{value:e[1],$$slots:{default:[eD]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.value=e[1]),2075&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function nD(e){let t,n;return t=new WE({props:{isActive:e[0],disabled:e[2],isIndependentOfSheet:e[3],$$slots:{default:[tD]},$$scope:{ctx:e}}}),t.$on("mouseenter",e[6]),t.$on("keydown",e[5]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.isActive=e[0]),4&n&&(r.disabled=e[2]),8&n&&(r.isIndependentOfSheet=e[3]),2075&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function rD(e,t,n){const r=ye();let{isActive:o}=t,{value:s}=t,{disabled:a}=t,{isIndependentOfSheet:i}=t,{formatElementForDisplay:l}=t;return e.$$set=e=>{"isActive"in e&&n(0,o=e.isActive),"value"in e&&n(1,s=e.value),"disabled"in e&&n(2,a=e.disabled),"isIndependentOfSheet"in e&&n(3,i=e.isIndependentOfSheet),"formatElementForDisplay"in e&&n(4,l=e.formatElementForDisplay)},[o,s,a,i,l,function(e){switch(e.key){case"Tab":case"ArrowLeft":case"ArrowRight":case"ArrowDown":case"ArrowUp":r("movementKeyDown",{originalEvent:e,key:e.key})}},function(t){_e.call(this,e,t)}]}class oD extends ut{constructor(e){super(),ct(this,e,rD,nD,f,{isActive:0,value:1,disabled:2,isIndependentOfSheet:3,formatElementForDisplay:4})}}const sD={Boolean:"boolean",Date:"date",Time:"time",DateTime:"datetime",Duration:"duration",Email:"email",Money:"money",Number:"number",Text:"text",Uri:"uri",Uuid:"uuid",Json:"json",JsonArray:"jsonlist",JsonObject:"map",Array:"array",File:"file",Other:"other"},aD="_array",iD="bigint",lD="bit",cD="boolean",uD="bytea",dD='"char"',$D="character varying",pD="character",mD="cidr",fD="date",gD="daterange",hD="decimal",yD="double precision",bD="inet",vD="int4range",wD="int8range",_D="integer",xD="interval",CD="json",SD="jsonb",kD="macaddr",MD="money",ID="mathesar_types.email",TD="mathesar_types.mathesar_json_array",ED="mathesar_types.mathesar_json_object",DD="mathesar_types.mathesar_money",OD="mathesar_types.multicurrency_money",ND="mathesar_types.uri",AD="name",RD="numeric",FD="numrange",PD="oid",LD="real",HD="regclass",zD="smallint",VD="text",qD="time with time zone",BD="time without time zone",jD="timestamp with time zone",UD="timestamp without time zone",WD="tsrange",YD="tstzrange",KD="tsvector",GD="uuid",XD={variables:{displayAs:{type:"string",enum:["checkbox","dropdown"],default:"checkbox"},useCustomLabels:{type:"boolean",default:!1},trueLabel:{type:"string",default:"true",validation:{checks:["isEmpty"]}},falseLabel:{type:"string",default:"false",validation:{checks:["isEmpty"]}}},layout:{orientation:"vertical",elements:[{type:"input",variable:"displayAs",label:"Display as",options:{checkbox:{label:"Checkbox"},dropdown:{label:"Dropdown"}}},{type:"if",variable:"displayAs",condition:"eq",value:"dropdown",elements:[{type:"input",variable:"useCustomLabels",label:"Use Custom Labels"},{type:"if",variable:"useCustomLabels",condition:"eq",value:!0,elements:[{type:"input",variable:"trueLabel",label:"Label for TRUE"},{type:"input",variable:"falseLabel",label:"Label for FALSE"}]}]}]}};function ZD(e){const t={bool_input:e.displayAs};return"dropdown"===e.displayAs&&e.useCustomLabels&&(t.bool_true=e.trueLabel,t.bool_false=e.falseLabel),t}function JD(e){const t={metadata:e},n={displayAs:EM(t,"bool_input")};return(e?.bool_true||e?.bool_false)&&(n.useCustomLabels=!0,n.trueLabel=EM(t,"bool_true"),n.falseLabel=EM(t,"bool_false")),n}const QD={getIcon:()=>({...TS,label:"Boolean"}),cellInfo:{type:"boolean"},getDisplayConfig:()=>({form:XD,determineDisplayOptions:ZD,constructDisplayFormValuesFromDisplayOptions:JD})};function eO(e,t,n){const r=[];return e.forEach((e=>{t.forEach((t=>{r.push(n(e,t))}))})),r}const tO={none:new Date("1999-12-25T00:00").toLocaleDateString().replace("25","DD").replace("12","MM").replace("1999","YYYY"),us:"MM/DD/YYYY",eu:"DD/MM/YYYY",friendly:"D MMM YYYY",iso:"YYYY-MM-DD"},nO=new Map([["us",["M/D/YYYY","M/D/YY"]],["eu",["D/M/YYYY","D/M/YY"]],["friendly",["D MMM YY"]]]),rO={"24hr":"HH:mm","24hrLong":"HH:mm:ss","12hr":"hh:mm a","12hrLong":"hh:mm:ss a"},oO=["hh:mm:ss a","HH:mm:ss","hh:mm a","HH:mm"],sO=[...oO,...eO(oO,[" Z",".Z","Z"],((e,t)=>`${e}${t}`))];class aO{constructor(t){e(this,"type",void 0),e(this,"isTimeZoneType",void 0),e(this,"dateFormat",void 0),e(this,"timeFormat",void 0),this.type=t?.type??"timestamp",this.dateFormat=t?.dateFormat??"none",this.timeFormat=t?.timeFormat??"24hr",this.isTimeZoneType="timeWithTZ"===this.type||"timestampWithTZ"===this.type}getFormattingString(){switch(this.type){case"date":return tO[this.dateFormat];case"time":case"timeWithTZ":return rO[this.timeFormat];default:return`${tO[this.dateFormat]} ${rO[this.timeFormat]}`}}getCommonFormattingStrings(){const e=[tO[this.dateFormat],...nO.get(this.dateFormat)??[]];return"date"===this.type?nO.get(this.dateFormat)??[]:"time"===this.type?oO:"timeWithTZ"===this.type?sO:"timestamp"===this.type?eO(e,oO,((e,t)=>`${e} ${t}`)):"timestampWithTZ"===this.type?eO(e,sO,((e,t)=>`${e} ${t}`)):[]}getCanonicalFormattingStrings(){const e=["YYYY-MM-DD"],t=[...e,"YYYY-MM-DD [AD]","YYYY-MM-DD [BC]"],n=["HH:mm:ss"],r=["HH:mm:ss.Z","HH:mm:ss Z","HH:mm:ss.ZZ","HH:mm:ss ZZ"],o=eO(e,n,((e,t)=>`${e} ${t}`)),s=[...o,...eO(o,["[AD]","[BC]"],((e,t)=>`${e} ${t}`))],a=eO(e,r,((e,t)=>`${e}T${t}`)),i=[...a,...eO(a,["[AD]","[BC]"],((e,t)=>`${e}T${t}`))];switch(this.type){case"date":return t;case"time":return n;case"timeWithTZ":return r;case"timestamp":return s;case"timestampWithTZ":return i;default:return[]}}getCanonicalString(e){return"date"===this.type?$o(e).format("YYYY-MM-DD"):"time"===this.type?$o(e).format("HH:mm:ss"):"timeWithTZ"===this.type?$o(e).format("HH:mm:ss Z"):"timestamp"===this.type?$o(e).format("YYYY-MM-DD HH:mm:ss"):"timestampWithTZ"===this.type?$o(e).format("YYYY-MM-DD HH:mm:ss Z"):e.toISOString()}hasSecondsInTime(){return"date"!==this.type&&("12hrLong"===this.timeFormat||"24hrLong"===this.timeFormat)}isTime24Hr(){return"date"!==this.type&&("24hr"===this.timeFormat||"24hrLong"===this.timeFormat)}static getDateFormattingStringMap(){return tO}static getTimeFormattingStringMap(){return rO}}class iO{constructor(t){e(this,"specification",void 0),this.specification=t}parse(e){const t=function(e){switch(e.trim().toLowerCase()){case"now":return $o();case"today":return $o().startOf("day");case"tomorrow":return $o().startOf("day").add(1,"day");case"yesterday":return $o().startOf("day").subtract(1,"day");default:return}}(e)??function(e,t){const n=t.getCanonicalFormattingStrings(),r=[t.getFormattingString(),...t.getCommonFormattingStrings(),...n],o=$o(e,r,!0);if(o.isValid())return o;const s=$o(e,n);return s.isValid()?s:void 0}(e,this.specification),n=(()=>t?this.specification.getCanonicalString(t.toDate()):e)(),r=e;return{value:n.trim()?n:null,intermediateDisplay:r}}format(e){const t=$o(e,this.specification.getCanonicalFormattingStrings());return t.isValid()?t.format(this.specification.getFormattingString()):e}parseAndFormat(e){const{value:t}=this.parse(e);return _o(t)?this.format(t):e}}function lO(){const e=$o("2001-12-31"),t=aO.getDateFormattingStringMap();return{none:{label:`Infer from browser (${e.format(t.none)})`},us:{label:`US (${e.format(t.us)})`},eu:{label:`European (${e.format(t.eu)})`},friendly:{label:`Friendly (${e.format(t.friendly)})`},iso:{label:`Standard (${e.format(t.iso)})`}}}function cO(){const e=$o(),t=aO.getTimeFormattingStringMap();return{"24hr":{label:`Short time 24 hr (${e.format(t["24hr"])})`},"24hrLong":{label:`Long time 24 hr (${e.format(t["24hrLong"])})`},"12hr":{label:`Short time 12 hr (${e.format(t["12hr"])})`},"12hrLong":{label:`Long time 12 hr (${e.format(t["12hrLong"])})`}}}const uO={variables:{format:{type:"string",enum:["none","us","eu","friendly","iso"],default:"none"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"format",label:"Date Format",options:lO()}]}};function dO(e){return{date_format:e.format}}function $O(e){return{format:EM({metadata:e},"date_format")}}const pO={getIcon:()=>({...ES,label:"Date"}),cellInfo:{type:"date"},getDisplayConfig:()=>({form:uO,determineDisplayOptions:dO,constructDisplayFormValuesFromDisplayOptions:$O})};function mO(e){return{dbType:e.supportTimeZones?jD:UD,typeOptions:{}}}function fO(e){return{supportTimeZones:e===jD}}const gO={variables:{dateFormat:{type:"string",enum:["none","us","eu","friendly","iso"],default:"none"},timeFormat:{type:"string",enum:["24hr","24hrLong","12hr","12hrLong"],default:"24hr"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"dateFormat",label:"Date Format",options:lO()},{type:"input",variable:"timeFormat",label:"Time Format",options:cO()}]}};function hO(e){return{date_format:e.dateFormat,time_format:e.timeFormat}}function yO(e){const t={metadata:e};return{dateFormat:EM(t,"date_format"),timeFormat:EM(t,"time_format")}}const bO={getIcon:()=>({...DS,label:"Date & Time"}),defaultDbType:jD,cellInfo:{type:"datetime",conditionalConfig:{[jD]:{supportTimeZone:!0},[UD]:{supportTimeZone:!1}}},getDbConfig:()=>({form:{variables:{supportTimeZones:{type:"boolean",default:!1}},layout:{orientation:"vertical",elements:[{type:"input",variable:"supportTimeZones",label:h(no)("support_time_zones"),text:{help:h(no)("support_time_zone_helper")}}]}},determineDbTypeAndOptions:mO,constructDbFormValuesFromTypeOptions:fO}),getDisplayConfig:()=>({form:gO,determineDisplayOptions:hO,constructDisplayFormValuesFromDisplayOptions:yO})},vO={max:IM.duration_max,min:IM.duration_min},wO={d:"D",h:"HH",m:"mm",s:"ss",ms:"SSS"};class _O{constructor(t){e(this,"min",void 0),e(this,"max",void 0),this.min=t?.min??vO.min,this.max=t?.max??vO.max}getUnitsInRange(){return MM.slice(MM.indexOf(this.max),MM.indexOf(this.min)+1)}getHigherUnit(e){const t=MM[MM.indexOf(e)-1];return t?MM.indexOf(t)<MM.indexOf(this.max)?null:t:null}getFormattingString(){const e=this.getUnitsInRange().map((e=>wO[e]));return 1===e.length?e[0]:e[e.length-1]===wO.ms?[e.slice(0,e.length-1).join(":"),e[e.length-1]].join("."):e.join(":")}static getAllUnits(){return[...MM]}static getDefaults(){return vO}}const xO=/^((\.?\d+)|(\d+(\.\d+)?))$/;const CO={ms:{convert:e=>e.asMilliseconds(),unitName:"milliseconds",decimalCorrection:0},s:{convert:e=>e.asSeconds(),unitName:"seconds"},m:{convert:e=>e.asMinutes(),unitName:"minutes"},h:{convert:e=>e.asHours(),unitName:"hours"},d:{convert:e=>e.asDays(),unitName:"days"}};class SO{constructor(t){e(this,"specification",void 0),this.specification=t}parse(e){const t=function(e,t){let n=e.getUnitsInRange();"ms"===n[n.length-1]&&(n=n.slice(0,n.length-1));let r=t.trim();if(""===r)return null;":"===r[0]&&(r=`0${r}`);const o=r[r.length-1];if(":"!==o&&"."!==o||(r=`${r}0`),r.split(":").length>n.length)throw new Error("Duration exceeds specified unit range");const s=r.split(":").map((e=>{let t=e;t.length>1&&"."===t[t.length-1]&&(t=`${t}0`);const n=parseFloat(t);if(Number.isNaN(n)||!xO.test(t))throw new Error("Unable to parse duration");return n})).slice(-n.length),a=n.slice(-s.length),i={};return a.forEach(((e,t)=>{i[e]=s[t]??0})),$o.duration({years:0,months:0,days:i.d??0,hours:i.h??0,minutes:i.m??0,seconds:i.s??0}).toISOString()}(this.specification,e);return{value:t,intermediateDisplay:e}}format(e){return function(e,t){const n={},r=$o.duration(e),o=t.getUnitsInRange().reverse();if(0===o.length)throw new Error("Invalid duration specification");let s=CO[o[0]],a=s.convert(r);for(const i of o){const e=t.getHigherUnit(i);let r=0;if(e){const t=CO[e];r=Math.floor(t.convert($o.duration(a,s.unitName))),a-=s.convert($o.duration(r,t.unitName))}n[s.unitName]=parseFloat(a.toFixed(s.decimalCorrection??3)),e&&(a=r,s=CO[e])}return $o.duration(n).format(t.getFormattingString())}(e,this.specification)}}const kO=_O.getDefaults(),MO={variables:{durationConfig:{type:"custom",default:{duration_max:kO.max,duration_min:kO.min}}},layout:{orientation:"vertical",elements:[{type:"static",variable:"durationConfig",componentId:"duration-config-menu"}]}};function IO(e){const t=e.durationConfig;return{duration_max:t.max,duration_min:t.min}}function TO(e){const t={metadata:e};return{durationConfig:{max:EM(t,"duration_max"),min:EM(t,"duration_min")}}}const EO={getIcon:()=>({...OS,label:"Duration"}),cellInfo:{type:"duration"},getDisplayConfig:()=>({form:MO,determineDisplayOptions:IO,constructDisplayFormValuesFromDisplayOptions:TO})},DO={getIcon:()=>({...NS,label:"Email"}),defaultDbType:ID,cellInfo:{type:"string"}},OO={getIcon:()=>({...VS,label:"Unknown column type"}),cellInfo:{type:"string"}};function NO(e){let t,n,r,o,s;const a=e[2].default,i=b(a,e,e[1],null),c=[OC];let u={};for(let d=0;d<c.length;d+=1)u=l(u,c[d]);return r=new Jd({props:u}),{c(){t=q("a"),i&&i.c(),n=U(),at(r.$$.fragment),X(t,"href",o=hI(e[0])),X(t,"target","_blank")},m(e,o){H(e,t,o),i&&i.m(t,null),F(t,n),it(r,t,null),s=!0},p(e,[n]){i&&i.p&&(!s||2&n)&&_(i,a,e,e[1],s?w(a,e[1],n,null):x(e[1]),null);const l=0&n?rt(c,[ot(OC)]):{};r.$set(l),(!s||1&n&&o!==(o=hI(e[0])))&&X(t,"href",o)},i(e){s||(je(i,e),je(r.$$.fragment,e),s=!0)},o(e){Ue(i,e),Ue(r.$$.fragment,e),s=!1},d(e){e&&z(t),i&&i.d(e),lt(r)}}}function AO(e,t,n){let{$$slots:r={},$$scope:o}=t,{page:s}=t;return e.$$set=e=>{"page"in e&&n(0,s=e.page),"$$scope"in e&&n(1,o=e.$$scope)},[s,o,r]}class RO extends ut{constructor(e){super(),ct(this,e,AO,NO,f,{page:0})}}function FO(e){let t,n;return t=new RO({props:{page:"fileDataType",$$slots:{default:[PO]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};12&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function PO(e){let t,n=e[2]+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){4&r&&n!==(n=e[2]+"")&&Q(t,n)},d(e){e&&z(t)}}}function LO(e){let t,n,r="link"===e[1]&&FO(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"link"===e[1]?r?(r.p(e,n),2&n&&je(r,1)):(r=FO(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function HO(e){let t,n;return t=new Rx({props:{text:e[0]("setup_file_backend_help"),$$slots:{default:[LO,({slotName:e,translatedArg:t})=>({1:e,2:t}),({slotName:e,translatedArg:t})=>(e?2:0)|(t?4:0)]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.text=e[0]("setup_file_backend_help")),14&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function zO(e,t,n){let r;return y(e,no,(e=>n(0,r=e))),[r]}class VO extends ut{constructor(e){super(),ct(this,e,zO,HO,f,{})}}const qO={getIcon:()=>({...pS,label:"File"}),defaultDbType:SD,cellInfo:{type:"file"},getEnabledState:()=>px()?{enabled:!0}:{enabled:!1,cause:{component:VO,props:{}}}},BO={getIcon:()=>({...AS,label:"JSON"}),defaultDbType:SD,cellInfo:{type:"string",config:{multiLine:!0}}},jO={variables:{numberType:{type:"string",enum:["Integer","Decimal","Float"],default:"Decimal"},integerDataSize:{type:"string",enum:["default","bigInt","smallInt"],default:"default"},decimalPlaces:{type:"integer",default:null},maxDigits:{type:"integer",default:null},floatingPointType:{type:"string",enum:["real","doublePrecision"],default:"real"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"numberType",label:"Number Type"},{type:"switch",variable:"numberType",cases:{Integer:[{type:"input",variable:"integerDataSize",label:"Integer Data Size",interfaceType:"select",options:{default:{label:"Default (4 bytes)"},bigInt:{label:"Big Integer (8 bytes)"},smallInt:{label:"Small Integer (2 bytes)"}}}],Decimal:[{type:"layout",orientation:"horizontal",elements:[{type:"input",variable:"decimalPlaces",label:"Decimal Places"},{type:"input",variable:"maxDigits",label:"Max Digits"}]}],Float:[{type:"input",variable:"floatingPointType",label:"Floating Point Type",interfaceType:"select",options:{real:{label:"Real (6 digits)"},doublePrecision:{label:"Double Precision (15 digits)"}}}]}}]}};function UO(e,t){const n=function(e,t){switch(e.numberType){case"Integer":switch(e.integerDataSize){case"smallInt":return zD;case"bigInt":return iD;default:return _D}case"Float":return"real"===e.floatingPointType?LD:yD;default:return t===hD?hD:RD}}(e,t),r={};return n!==hD&&n!==RD||(null!==e.maxDigits&&(r.precision=Number(e.maxDigits)),null!==e.decimalPlaces&&(r.scale=Number(e.decimalPlaces))),{dbType:n,typeOptions:r}}function WO(e,t){switch(e){case zD:return{numberType:"Integer",integerDataSize:"smallInt"};case iD:return{numberType:"Integer",integerDataSize:"bigInt"};case LD:return{numberType:"Float",floatingPointType:"real"};case yD:return{numberType:"Float",floatingPointType:"doublePrecision"};case _D:return{numberType:"Integer",integerDataSize:"default"};default:return{numberType:"Decimal",maxDigits:t?.precision??null,decimalPlaces:t?.scale??null}}}const YO={variables:{decimalPlaces:{type:"integer",default:null},useGrouping:{type:"string",enum:["auto","always","never"],default:"auto"},numberFormat:{type:"string",enum:["none","english","german","french","hindi","swiss"],default:"none"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"decimalPlaces",label:"Decimal Places"},{type:"input",variable:"useGrouping",label:"Digit Grouping",options:{auto:{label:"Auto"},always:{label:"Always"},never:{label:"Never"}}},{type:"input",variable:"numberFormat",label:"Format",options:{none:{label:"Use browser locale"},english:{label:"1,234,567.89"},german:{label:"1.234.567,89"},french:{label:"1 234 567,89"},hindi:{label:"12,34,567.89"},swiss:{label:"1'234'567.89"}}}]}};function KO(e){const t=e.decimalPlaces;return{num_format:"none"===e.numberFormat?void 0:e.numberFormat,num_grouping:e.useGrouping??"auto",num_min_frac_digits:t??void 0,num_max_frac_digits:t??void 0}}function GO(e,t){return null===e&&null===t?null:null===e?t:null===t?e:Math.max(e,t)}function XO(e){const t={metadata:e},n=GO(e?.num_min_frac_digits??null,e?.num_max_frac_digits??null);return{numberFormat:EM(t,"num_format"),useGrouping:EM(t,"num_grouping"),decimalPlaces:n}}const ZO={getIcon:()=>({...LS,label:"Number"}),cellInfo:{type:"number",conditionalConfig:{[hD]:{floatAllowanceStrategy:"scale-based"},[RD]:{floatAllowanceStrategy:"scale-based"},[_D]:{floatAllowanceStrategy:"never"},[zD]:{floatAllowanceStrategy:"never"},[iD]:{floatAllowanceStrategy:"never"},[LD]:{floatAllowanceStrategy:"always"},[yD]:{floatAllowanceStrategy:"always"}}},defaultDbType:RD,getDbConfig:()=>({form:jO,determineDbTypeAndOptions:UO,constructDbFormValuesFromTypeOptions:WO}),getDisplayConfig:()=>({form:YO,determineDisplayOptions:KO,constructDisplayFormValuesFromDisplayOptions:XO})},JO={variables:{currencySymbol:{type:"string",default:"$"},currencySymbolLocation:{type:"string",enum:["after-minus","end-with-space"],default:"after-minus"},numberFormat:{type:"string",enum:["none","english","german","french","hindi","swiss"],default:"none"},decimalPlaces:{type:"integer",default:null},useGrouping:{type:"string",enum:["auto","always","never"],default:"auto"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"currencySymbol",label:"Currency Symbol"},{type:"input",variable:"currencySymbolLocation",label:"Currency Symbol Location",options:{"after-minus":{label:"Start"},"end-with-space":{label:"End"}}},{type:"input",variable:"decimalPlaces",label:"Decimal Places"},{type:"input",variable:"useGrouping",label:"Digit Grouping",options:{auto:{label:"Auto"},always:{label:"Always"},never:{label:"Never"}}},{type:"input",variable:"numberFormat",label:"Number Format",options:{none:{label:"Use browser locale"},english:{label:"1,234,567.89"},german:{label:"1.234.567,89"},french:{label:"1 234 567,89"},hindi:{label:"12,34,567.89"},swiss:{label:"1'234'567.89"}}}]}};function QO(e){const t=e;return{mon_currency_symbol:t.currencySymbol,mon_currency_location:t.currencySymbolLocation,num_format:"none"===t.numberFormat?null:t.numberFormat,num_grouping:t.useGrouping,num_min_frac_digits:t.decimalPlaces??void 0,num_max_frac_digits:t.decimalPlaces??void 0}}function eN(e){const t={metadata:e},n=GO(e?.num_min_frac_digits??null,e?.num_max_frac_digits??null);return{numberFormat:EM(t,"num_format")??"none",currencySymbol:EM(t,"mon_currency_symbol")??"",decimalPlaces:n,currencySymbolLocation:EM(t,"mon_currency_location"),useGrouping:EM(t,"num_grouping")}}const tN={getIcon:()=>PS,cellInfo:{type:"money"},defaultDbType:DD,getDisplayConfig:()=>({form:JO,determineDisplayOptions:QO,constructDisplayFormValuesFromDisplayOptions:eN})},nN={variables:{restrictFieldSize:{type:"boolean",default:!1},length:{type:"integer",default:255,validation:{checks:["isEmpty"]}}},layout:{orientation:"vertical",elements:[{type:"input",variable:"restrictFieldSize",label:"Set a maximum length"},{type:"if",variable:"restrictFieldSize",condition:"eq",value:!0,elements:[{type:"input",variable:"length",label:"Field Size Limit"}]}]}};function rN(e,t){const n=function(e,t){if(e.restrictFieldSize){const{length:n}=e;return("string"==typeof n||"number"==typeof n)&&("string"==typeof n?parseInt(n,10):n)>255?$D:t===pD?pD:$D}return VD}(e,t),r={};return n!==pD&&n!==$D||(r.length=Number(e.length)),{dbType:n,typeOptions:r}}function oN(e,t){switch(e){case pD:case $D:return{length:t?.length??null,restrictFieldSize:!0};default:return{restrictFieldSize:!1}}}const sN={getIcon:()=>({...HS,label:"Text"}),defaultDbType:$D,cellInfo:{type:"string",config:{multiLine:!0},conditionalConfig:{[pD]:{multiLine:!1}}},getDbConfig:()=>({form:nN,determineDbTypeAndOptions:rN,constructDbFormValuesFromTypeOptions:oN})},aN={variables:{supportTimeZones:{type:"boolean",default:!1}},layout:{orientation:"vertical",elements:[{type:"input",variable:"supportTimeZones",label:"Support Time Zones"}]}};function iN(e){return{dbType:e.supportTimeZones?qD:BD,typeOptions:{}}}function lN(e){return{supportTimeZones:e===qD}}const cN={variables:{format:{type:"string",enum:["24hr","24hrLong","12hr","12hrLong"],default:"24hr"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"format",label:"Time Format",options:cO()}]}};function uN(e){return{time_format:e.format}}function dN(e){return{format:EM({metadata:e},"time_format")}}const $N={getIcon:()=>({...zS,label:"Time"}),defaultDbType:BD,cellInfo:{type:"time",conditionalConfig:{[qD]:{supportTimeZone:!0},[BD]:{supportTimeZone:!1}}},getDbConfig:()=>({form:aN,determineDbTypeAndOptions:iN,constructDbFormValuesFromTypeOptions:lN}),getDisplayConfig:()=>({form:cN,determineDisplayOptions:uN,constructDisplayFormValuesFromDisplayOptions:dN})},pN={getIcon:()=>qS,defaultDbType:ND,cellInfo:{type:"uri"}},mN={getIcon:()=>({...jS,label:"UUID"}),defaultDbType:GD,cellInfo:{type:"string"}},fN={[iD]:[iD,cD,$D,pD,yD,_D,MD,DD,OD,RD,LD,zD,VD],[lD]:[$D,pD,VD],[cD]:[iD,cD,$D,pD,yD,_D,RD,LD,zD,VD],[uD]:[$D,pD,VD],[dD]:[$D,pD,VD],[$D]:[iD,cD,$D,pD,fD,yD,_D,xD,CD,SD,MD,ID,TD,ED,DD,OD,ND,RD,LD,zD,VD,qD,BD,jD,UD],[pD]:[iD,cD,$D,pD,fD,yD,_D,xD,CD,SD,MD,ID,TD,ED,DD,OD,ND,RD,LD,zD,VD,jD,UD],[mD]:[$D,pD,VD],[fD]:[$D,pD,fD,VD,UD],[gD]:[$D,pD,VD],[yD]:[iD,cD,$D,pD,yD,_D,MD,DD,OD,RD,LD,zD,VD],[bD]:[$D,pD,VD],[vD]:[$D,pD,VD],[wD]:[$D,pD,VD],[_D]:[iD,cD,$D,pD,yD,_D,MD,DD,OD,RD,LD,zD,VD],[xD]:[$D,pD,xD,VD],[CD]:[$D,pD,CD,SD,TD,ED,VD],[SD]:[$D,pD,CD,SD,TD,ED,VD],[kD]:[$D,pD,VD],[ID]:[$D,pD,ID,VD],[TD]:[$D,pD,CD,SD,TD,ED,VD],[ED]:[$D,pD,CD,SD,TD,ED,VD],[DD]:[iD,$D,pD,yD,_D,MD,DD,OD,RD,LD,zD,VD],[OD]:[$D,pD,OD,VD],[ND]:[$D,pD,ND,VD],[MD]:[iD,$D,pD,yD,_D,MD,DD,OD,RD,LD,zD,VD],[RD]:[iD,cD,$D,pD,yD,_D,MD,DD,OD,RD,LD,zD,VD],[FD]:[$D,pD,VD],[PD]:[$D,pD,VD],[LD]:[iD,cD,$D,pD,yD,_D,MD,DD,OD,RD,LD,zD,VD],[HD]:[$D,pD,VD],[zD]:[iD,cD,$D,pD,yD,_D,MD,DD,OD,RD,LD,zD,VD],[VD]:[iD,cD,$D,pD,fD,yD,_D,xD,CD,SD,MD,ID,TD,ED,DD,OD,ND,RD,LD,zD,VD,qD,BD,jD,UD],[qD]:[$D,pD,VD,qD,BD],[BD]:[$D,pD,VD,qD,BD],[jD]:[$D,pD,fD,VD,jD,UD],[UD]:[$D,pD,fD,VD,jD,UD],[WD]:[$D,pD,VD],[YD]:[$D,pD,VD],[KD]:[$D,pD,VD],[GD]:[$D,pD,VD]},gN={name:"Other",identifier:"other",...OO,dbTypes:new Set([])},hN={[sD.Text]:sN,[sD.Money]:tN,[sD.Email]:DO,[sD.Number]:ZO,[sD.Boolean]:QD,[sD.Uri]:pN,[sD.Duration]:EO,[sD.Date]:pO,[sD.Time]:$N,[sD.DateTime]:bO,[sD.Uuid]:mN,[sD.Json]:BO,[sD.File]:qO},yN={[sD.Array]:()=>({getIcon:e=>{const t={...BS,label:"Array"},n=e?.typeOptions?.item_type??void 0;if(!n)return t;const r=CN(n,e?.metadata??null).getIcon();return[t,...Array.isArray(r)?r:[r]]},cellInfo:{type:"array"}}),[sD.JsonArray]:()=>({getIcon:()=>RS,defaultDbType:"mathesar_types.mathesar_json_array",cellInfo:{type:"string"}}),[sD.JsonObject]:()=>({getIcon:()=>FS,defaultDbType:"mathesar_types.mathesar_json_object",cellInfo:{type:"string"}})};const bN=[{identifier:"boolean",name:"Boolean",db_types:[cD]},{identifier:"date",name:"Date",db_types:[fD]},{identifier:"time",name:"Time",db_types:[qD,BD]},{identifier:"datetime",name:"Date & Time",db_types:[jD,UD]},{identifier:"duration",name:"Duration",db_types:[xD]},{identifier:"email",name:"Email",db_types:[ID]},{identifier:"money",name:"Money",db_types:[MD,DD,OD]},{identifier:"number",name:"Number",db_types:[yD,LD,zD,iD,_D,RD]},{identifier:"text",name:"Text",db_types:[dD,$D,pD,AD,VD]},{identifier:"uri",name:"URI",db_types:[ND]},{identifier:"uuid",name:"UUID",db_types:[GD]},{identifier:"jsonlist",name:"JSON List",db_types:[TD]},{identifier:"map",name:"Map",db_types:[ED]},{identifier:"json",name:"JSON",db_types:[CD,SD]},{identifier:"array",name:"Array",db_types:[aD]}],vN={identifier:"file",name:"File",dbTypes:new Set([SD]),...qO},wN=function(e){const t=new Map,n=[];e.forEach((e=>{const r={identifier:e.identifier,name:e.name,dbTypes:new Set(e.db_types)},o=hN[e.identifier];if(o)return void t.set(e.identifier,{...r,...o});const s=yN[e.identifier];s?n.push({...r,factory:s}):t.set(e.identifier,{...r,...OO})}));const r=new Map(t);return n.forEach((e=>{r.set(e.identifier,{identifier:e.identifier,name:e.name,dbTypes:e.dbTypes,...e.factory()})})),r}(bN),_N=(()=>{const e=wN.get("text");if(!e)throw new Error("Text UI type not found. This should never happen");return e})();function xN(e,t){if(function(e,t){return t?.file_backend&&e===SD&&!!$x(t.file_backend)}(e,t))return vN;let n;for(const[,r]of wN)if(r.dbTypes.has(e)){n=r;break}return n}function CN(e,t){let n=xN(e,t);return n||(n=gN),n}function SN(e,t){const n=new Set,r=xN(e,t);r&&n.add(r);(fN[e]??[]).forEach((e=>{const t=function(e){const t=new Set;e===SD&&t.add(vN);for(const[,n]of wN)n.dbTypes.has(e)&&t.add(n);return t}(e);[...t].forEach((e=>n.add(e)))}));const o=[...n].sort(((e,t)=>e.name.localeCompare(t.name)));return r||o.push(gN),o}function kN(e){return!!e.getEnabledState&&!e.getEnabledState().enabled}const MN=[sD.Date,sD.Time,sD.DateTime],IN={[sD.DateTime]:[sD.DateTime],[sD.Date]:[sD.Date],[sD.Time]:[sD.Time],[sD.Duration]:[sD.Duration],[sD.Number]:[sD.Number],[sD.Money]:[sD.Money]};function TN(e,t){const n=new Map(e.map((e=>[e,t])));return Object.fromEntries(n)}function EN(e){const t=Object.values(sD),n=new Map(t.map((t=>[t,e(t)])));return Object.fromEntries(n)}const DN=[{id:"equal",name:"equals",aliases:TN(MN,"is same as"),uiTypeParameterMap:EN((e=>[e])),hasParams:!0},{id:"null",name:"is empty",uiTypeParameterMap:EN((()=>[])),hasParams:!1},{id:"not_null",name:"is not empty",uiTypeParameterMap:EN((()=>[])),hasParams:!1}],ON=[{id:"contains_case_insensitive",name:"contains",uiTypeParameterMap:{[sD.Text]:[sD.Text],[sD.Email]:[sD.Text],[sD.Uri]:[sD.Text]},hasParams:!0},{id:"starts_with_case_insensitive",name:"starts with",uiTypeParameterMap:{[sD.Text]:[sD.Text],[sD.Email]:[sD.Text],[sD.Uri]:[sD.Text]},hasParams:!0},...DN,{id:"uri_scheme_equals",name:"URI scheme is",uiTypeParameterMap:{[sD.Uri]:[sD.Text]},hasParams:!0},{id:"uri_authority_contains",name:"URI authority contains",uiTypeParameterMap:{[sD.Uri]:[sD.Text]},hasParams:!0},{id:"json_array_length_equals",name:"number of elements is",uiTypeParameterMap:{[sD.JsonArray]:[sD.Number]},hasParams:!0},{id:"json_array_length_greater_than",name:"number of elements >",uiTypeParameterMap:{[sD.JsonArray]:[sD.Number]},hasParams:!0},{id:"json_array_length_greater_or_equal",name:"number of elements >=",uiTypeParameterMap:{[sD.JsonArray]:[sD.Number]},hasParams:!0},{id:"json_array_length_less_than",name:"number of elements <",uiTypeParameterMap:{[sD.JsonArray]:[sD.Number]},hasParams:!0},{id:"json_array_length_less_or_equal",name:"number of elements <=",uiTypeParameterMap:{[sD.JsonArray]:[sD.Number]},hasParams:!0},{id:"json_array_not_empty",name:"array is not empty",uiTypeParameterMap:{[sD.JsonArray]:[]},hasParams:!1},{id:"json_array_contains",name:"array contains",uiTypeParameterMap:{[sD.JsonArray]:[sD.Text]},hasParams:!0},{id:"email_domain_equals",name:"email domain is",uiTypeParameterMap:{[sD.Email]:[sD.Text]},hasParams:!0},{id:"email_domain_contains",name:"email domain contains",uiTypeParameterMap:{[sD.Email]:[sD.Text]},hasParams:!0},{id:"lesser",name:"is lesser than",aliases:TN(MN,"is before"),uiTypeParameterMap:IN,hasParams:!0},{id:"greater",name:"is greater than",aliases:TN(MN,"is after"),uiTypeParameterMap:IN,hasParams:!0},{id:"lesser_or_equal",name:"is lesser or equal to",aliases:TN(MN,"is before or same as"),uiTypeParameterMap:IN,hasParams:!0},{id:"greater_or_equal",name:"is greater or equal to",aliases:TN(MN,"is after or same as"),uiTypeParameterMap:IN,hasParams:!0}];function NN(e){const t=Object.values(sD),n=new Map;return t.forEach((t=>{n.has(t)||n.set(t,[]);const r=n.get(t);e.forEach((e=>{e.uiTypeParameterMap[t]&&r?.push({id:e.id,name:e.aliases?.[t]??e.name,parameters:e.uiTypeParameterMap[t]??[]})}))})),n}const AN=NN(DN),RN=NN(ON);function FN(e){const t=new Map;return RN.get(e)?.forEach((e=>{t.set(e.id,e)})),t}const PN=[{id:"truncate_to_day",name:"Year, Month, Day",appliesTo:[sD.DateTime],returns:sD.Text},{id:"truncate_to_year",name:"Year",appliesTo:[sD.Date,sD.DateTime],returns:sD.Number},{id:"truncate_to_month",name:"Year, Month",appliesTo:[sD.Date,sD.DateTime],returns:sD.Text},{id:"uri_scheme",name:"URI scheme",appliesTo:[sD.Uri],returns:sD.Text},{id:"uri_authority",name:"URI Authority",appliesTo:[sD.Uri],returns:sD.Text},{id:"email_domain",name:"Domain",appliesTo:[sD.Email],returns:sD.Text}];const LN=function(){const e=Object.values(sD),t=new Map;return e.forEach((e=>{t.has(e)||t.set(e,[]);const n=t.get(e);PN.forEach((t=>{t.appliesTo.includes(e)&&n?.push({id:t.id,name:t.name,returns:t.returns,possibleReturnValues:t.possibleReturnValues})}))})),t}();function HN(e){return LN.get(e)??[]}function zN(e){return Object.fromEntries(Object.values(sD).map((t=>[t,e])))}function VN(){return Object.fromEntries(Object.values(sD).map((e=>[e,e])))}const qN={distinct_aggregate_to_array:{label:"List",inputOutputTypeMap:zN(sD.Array)},count:{label:"Count",inputOutputTypeMap:zN(sD.Number)},sum:{label:"Sum",inputOutputTypeMap:{[sD.Number]:sD.Number,[sD.Money]:sD.Money,[sD.Duration]:sD.Duration}},median:{label:"Median",inputOutputTypeMap:VN()},mode:{label:"Mode",inputOutputTypeMap:VN()},percentage_true:{label:"Percentage True",inputOutputTypeMap:{[sD.Boolean]:sD.Number}},max:{label:"Max",inputOutputTypeMap:VN()},min:{label:"Min",inputOutputTypeMap:VN()},mean:{label:"Mean",inputOutputTypeMap:{[sD.Number]:sD.Number,[sD.Money]:sD.Money,[sD.Duration]:sD.Duration}},peak_time:{label:"Peak time",inputOutputTypeMap:{[sD.DateTime]:sD.Time,[sD.Time]:sD.Time}},peak_month:{label:"Peak month",inputOutputTypeMap:{[sD.DateTime]:sD.Number,[sD.Date]:sD.Number}}};function BN(e){const t=[];for(const n of OM){const{label:r,inputOutputTypeMap:o}=qN[n],s=o[e];s&&t.push({id:n,label:r,inputType:e,outputType:s})}return t}function jN(e,t){return CN(e,t)?.cellInfo}function UN(e,t){return{...t?.config??{},...t?.conditionalConfig?.[e]??{}}}function WN(e,t){const n=t.type_options?.item_type??"string",r=jN(n,t.metadata),o=UN(n,r),s=e[r&&"array"!==r.type?r.type:"string"];return e=>_o(e)&&s.getDisplayFormatter?s.getDisplayFormatter({type:n,type_options:null,metadata:t.metadata},o)(e):String(e)}function YN(e){let t,n,r;function o(t){e[13](t)}let s={allowIndeterminate:!0,disabled:e[2]||e[3]};return void 0!==e[0]&&(s.checked=e[0]),t=new x$({props:s}),Ce.push((()=>st(t,"checked",o))),t.$on("change",e[7]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};12&r&&(o.disabled=e[2]||e[3]),!n&&1&r&&(n=!0,o.checked=e[0],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function KN(e){let t,n;return t=new vE({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function GN(e){let t,n,r,o;const s=[KN,YN],a=[];function i(e,t){return void 0===e[0]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function XN(e){let t,n,r;function o(t){e[14](t)}let s={isActive:e[1],disabled:e[2],isIndependentOfSheet:e[4],valueComparisonOutcome:e[6],$$slots:{default:[GN]},$$scope:{ctx:e}};return void 0!==e[5]&&(s.element=e[5]),t=new WE({props:s}),Ce.push((()=>st(t,"element",o))),t.$on("mouseenter",e[15]),t.$on("mouseleave",e[10]),t.$on("keydown",e[8]),t.$on("mousedown",e[9]),t.$on("mouseup",e[11]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.isActive=e[1]),4&r&&(o.disabled=e[2]),16&r&&(o.isIndependentOfSheet=e[4]),64&r&&(o.valueComparisonOutcome=e[6]),262157&r&&(o.$$scope={dirty:r,ctx:e}),!n&&32&r&&(n=!0,o.element=e[5],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function ZN(e,t,n){let r;const o=ye();let s,{isActive:a}=t,{value:i}=t,{disabled:l}=t,{searchValue:c}=t,{isProcessing:u}=t,{isIndependentOfSheet:d}=t,$=!1;function p(){o("update",{value:i})}return e.$$set=e=>{"isActive"in e&&n(1,a=e.isActive),"value"in e&&n(0,i=e.value),"disabled"in e&&n(2,l=e.disabled),"searchValue"in e&&n(12,c=e.searchValue),"isProcessing"in e&&n(3,u=e.isProcessing),"isIndependentOfSheet"in e&&n(4,d=e.isIndependentOfSheet)},e.$$.update=()=>{4097&e.$$.dirty&&n(6,r=xv(c,i))},[i,a,l,u,d,s,r,p,function(e){switch(e.key){case"Enter":a&&(n(0,i=!i),p());break;case"Tab":case"ArrowLeft":case"ArrowRight":case"ArrowDown":case"ArrowUp":o("movementKeyDown",{originalEvent:e,key:e.key})}},function(){$=a},function(){$=!1},function(){!l&&a&&$&&(n(0,i=!i),p())},c,function(e){i=e,n(0,i)},function(e){s=e,n(5,s)},function(t){_e.call(this,e,t)}]}class JN extends ut{constructor(e){super(),ct(this,e,ZN,XN,f,{isActive:1,value:0,disabled:2,searchValue:12,isProcessing:3,isIndependentOfSheet:4})}}function QN(e){let t,n=e[5](e[0]??void 0)+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){33&r&&n!==(n=e[5](e[0]??void 0)+"")&&Q(t,n)},d(e){e&&z(t)}}}function eA(e){let t,n,r;const o=[Cd];let s={};for(let a=0;a<o.length;a+=1)s=l(s,o[a]);return n=new Jd({props:s}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","icon svelte-icd89f")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r=0&t?rt(o,[ot(Cd)]):{};n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function tA(e){let t,n,r,o,s;r=new EE({props:{value:e[0],$$slots:{default:[QN]},$$scope:{ctx:e}}});let a=e[1]&&eA();return{c(){t=q("div"),n=q("div"),at(r.$$.fragment),o=U(),a&&a.c(),X(n,"class","value svelte-icd89f"),se(n,"active",e[1]),X(t,"class","cell svelte-icd89f")},m(e,i){H(e,t,i),F(t,n),it(r,n,null),F(t,o),a&&a.m(t,null),s=!0},p(e,o){const i={};1&o&&(i.value=e[0]),8388641&o&&(i.$$scope={dirty:o,ctx:e}),r.$set(i),(!s||2&o)&&se(n,"active",e[1]),e[1]?a?(a.p(e,o),2&o&&je(a,1)):(a=eA(),a.c(),je(a,1),a.m(t,null)):a&&(qe(),Ue(a,1,1,(()=>{a=null})),Be())},i(e){s||(je(r.$$.fragment,e),je(a),s=!0)},o(e){Ue(r.$$.fragment,e),Ue(a),s=!1},d(e){e&&z(t),lt(r),a&&a.d()}}}function nA(e){let t,n;return t=new Af({props:{id:e[7]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function rA(e){let t,n,r,o,s;function a(t){e[13](t)}let i={"aria-controls":e[7],"aria-haspopup":"listbox",isActive:e[1],disabled:e[2],isIndependentOfSheet:e[3],$$slots:{default:[tA]},$$scope:{ctx:e}};return void 0!==e[6]&&(i.element=e[6]),t=new WE({props:i}),Ce.push((()=>st(t,"element",a))),t.$on("mousedown",e[9]),t.$on("mouseenter",e[14]),t.$on("click",(function(){return e[15](e[21])})),t.$on("keydown",(function(...t){return e[16](e[21],e[22],...t)})),o=new wu({props:{trigger:e[6],isOpen:e[22],class:"single-select-cell-dropdown retain-active-cell",$$slots:{default:[nA]},$$scope:{ctx:e}}}),o.$on("close",(function(){return e[17](e[21])})),{c(){at(t.$$.fragment),r=U(),at(o.$$.fragment)},m(e,n){it(t,e,n),H(e,r,n),it(o,e,n),s=!0},p(r,s){e=r;const a={};2&s&&(a.isActive=e[1]),4&s&&(a.disabled=e[2]),8&s&&(a.isIndependentOfSheet=e[3]),8388643&s&&(a.$$scope={dirty:s,ctx:e}),!n&&64&s&&(n=!0,a.element=e[6],Oe((()=>n=!1))),t.$set(a);const i={};64&s&&(i.trigger=e[6]),4194304&s&&(i.isOpen=e[22]),8388608&s&&(i.$$scope={dirty:s,ctx:e}),o.$set(i)},i(e){s||(je(t.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),Ue(o.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(r),lt(o,e)}}}function oA(e){let t,n;return t=new Mf({props:{options:e[4],getLabel:e[5],disabled:e[2],selectionType:"single",value:_o(e[0])?[e[0]]:[],$$slots:{default:[rA,({api:e,isOpen:t})=>({21:e,22:t}),({api:e,isOpen:t})=>(e?2097152:0)|(t?4194304:0)]},$$scope:{ctx:e}}}),t.$on("change",e[18]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};16&n&&(r.options=e[4]),32&n&&(r.getLabel=e[5]),4&n&&(r.disabled=e[2]),1&n&&(r.value=_o(e[0])?[e[0]]:[]),14680175&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function sA(e,t,n){const r=ye(),o=ko();let s,{isActive:a}=t,{value:i}=t,{disabled:l}=t,{isIndependentOfSheet:c}=t,{options:u=[]}=t,{getLabel:d=(e=>To(e))}=t,$=!1;function p(e){a&&!$&&e.toggle(),$=!1}function m(e,t,n){if(["Tab","ArrowLeft","ArrowRight"].includes(e.key))return r("movementKeyDown",{originalEvent:e,key:e.key}),void t.close();if(n)t.handleKeyDown(e);else switch(e.key){case"Enter":l||t.handleKeyDown(e);break;case"ArrowDown":case"ArrowUp":r("movementKeyDown",{originalEvent:e,key:e.key})}}function f(e){n(0,[i]=e,i),r("update",{value:i})}function g(e){e.close(),s?.focus()}return e.$$set=e=>{"isActive"in e&&n(1,a=e.isActive),"value"in e&&n(0,i=e.value),"disabled"in e&&n(2,l=e.disabled),"isIndependentOfSheet"in e&&n(3,c=e.isIndependentOfSheet),"options"in e&&n(4,u=e.options),"getLabel"in e&&n(5,d=e.getLabel)},[i,a,l,c,u,d,s,o,p,function(){a||($=!0,r("activate"))},m,f,g,function(e){s=e,n(6,s)},function(t){_e.call(this,e,t)},e=>p(e),(e,t,n)=>m(n,e,t),e=>g(e),e=>f(e.detail)]}class aA extends ut{constructor(e){super(),ct(this,e,sA,oA,f,{isActive:1,value:0,disabled:2,isIndependentOfSheet:3,options:4,getLabel:5})}}function iA(e){return{true:EM(e,"bool_true"),false:EM(e,"bool_false")}}function lA(e,t){return _o(t)?t?e.true:e.false:""}function cA(e){const t=iA(e);return{options:[null,!0,!1],getLabel:e=>lA(t,e)}}const uA={initialInputValue:null,get:e=>{const t=e.metadata??void 0;return t&&"dropdown"===t.bool_input?{component:aA,props:cA(e)}:{component:JN,props:{}}},getInput:e=>({component:$y,props:cA(e)}),getDisplayFormatter(e){const t=iA(e);return e=>null==e||"boolean"==typeof e?lA(t,e):""}},dA=e=>({value:1&e,formatValue:16&e,matchParts:512&e}),$A=e=>({value:e[0],formatValue:e[4],matchParts:e[9],handleInputBlur:e[17],handleInputKeydown:e[16]}),pA=e=>({}),mA=e=>({handleInputBlur:e[17],handleInputKeydown:e[16]});function fA(e){let t,n,r;return n=new Ng({props:{lines:e[1]&&e[3]?2:1,passthrough:!e[7],$$slots:{default:[hA]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","content svelte-kb88kg"),se(t,"nowrap",!e[1]&&!e[6]),se(t,"truncate",e[1]&&e[3]&&!e[6])},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,o){const s={};10&o&&(s.lines=e[1]&&e[3]?2:1),128&o&&(s.passthrough=!e[7]),8397329&o&&(s.$$scope={dirty:o,ctx:e}),n.$set(s),(!r||66&o)&&se(t,"nowrap",!e[1]&&!e[6]),(!r||74&o)&&se(t,"truncate",e[1]&&e[3]&&!e[6])},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function gA(e){let t;const n=e[20].default,r=b(n,e,e[23],mA);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||8388608&o)&&_(r,n,e,e[23],t?w(n,e[23],o,pA):x(e[23]),mA)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function hA(e){let t;const n=e[20].content,r=b(n,e,e[23],$A),o=r||function(e){let t,n;return t=new EE({props:{value:e[13],matchParts:e[9]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8192&n&&(r.value=e[13]),512&n&&(r.matchParts=e[9]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}(e);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,s){r?r.p&&(!t||8389137&s)&&_(r,n,e,e[23],t?w(n,e[23],s,dA):x(e[23]),$A):o&&o.p&&(!t||8704&s)&&o.p(e,t?s:-1)},i(e){t||(je(o,e),t=!0)},o(e){Ue(o,e),t=!1},d(e){o&&o.d(e)}}}function yA(e){let t,n,r,o;const s=[gA,fA],a=[];function i(e,t){return e[11]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function bA(e){let t,n,r;function o(t){e[21](t)}let s={isActive:e[1],disabled:e[2],mode:e[11]?"edit":"default",useTabularNumbers:e[8],multiLineTruncate:e[3],horizontalAlignment:e[5],valueComparisonOutcome:e[12],isIndependentOfSheet:e[6],$$slots:{default:[yA]},$$scope:{ctx:e}};return void 0!==e[10]&&(s.element=e[10]),t=new WE({props:s}),Ce.push((()=>st(t,"element",o))),t.$on("dblclick",e[14]),t.$on("keydown",e[15]),t.$on("mouseenter",e[22]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.isActive=e[1]),4&r&&(o.disabled=e[2]),2048&r&&(o.mode=e[11]?"edit":"default"),256&r&&(o.useTabularNumbers=e[8]),8&r&&(o.multiLineTruncate=e[3]),32&r&&(o.horizontalAlignment=e[5]),4096&r&&(o.valueComparisonOutcome=e[12]),64&r&&(o.isIndependentOfSheet=e[6]),8399579&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1024&r&&(n=!0,o.element=e[10],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function vA(e,t,n){let r,o,s,{$$slots:a={},$$scope:i}=t;const l=ye();let c,u,{isActive:d}=t,{value:$}=t,{disabled:p}=t,{multiLineTruncate:m=!1}=t,{formatValue:f}=t,{horizontalAlignment:g}=t,{searchValue:h}=t,{isIndependentOfSheet:y=!1}=t,{showTruncationPopover:b=!1}=t,{highlightSubstringMatches:v=!0}=t,{useTabularNumbers:w=!1}=t,_=!1;function x(){p||n(11,_=!0)}function C(){n(11,_=!1)}function S(){n(0,$=u)}function k(){u=$}function M(){$!==u&&(k(),l("update",{value:$}))}return fe(k),e.$$set=e=>{"isActive"in e&&n(1,d=e.isActive),"value"in e&&n(0,$=e.value),"disabled"in e&&n(2,p=e.disabled),"multiLineTruncate"in e&&n(3,m=e.multiLineTruncate),"formatValue"in e&&n(4,f=e.formatValue),"horizontalAlignment"in e&&n(5,g=e.horizontalAlignment),"searchValue"in e&&n(18,h=e.searchValue),"isIndependentOfSheet"in e&&n(6,y=e.isIndependentOfSheet),"showTruncationPopover"in e&&n(7,b=e.showTruncationPopover),"highlightSubstringMatches"in e&&n(19,v=e.highlightSubstringMatches),"useTabularNumbers"in e&&n(8,w=e.useTabularNumbers),"$$scope"in e&&n(23,i=e.$$scope)},e.$$.update=()=>{17&e.$$.dirty&&n(13,r=f?.($)??$),786433&e.$$.dirty&&n(9,o=(()=>{if(v&&"string"==typeof $&&"string"==typeof h)return wv($,h)})()),262673&e.$$.dirty&&n(12,s=(()=>{if(o)return function(e){if(0!==e.length)return 1===e.length?_v(e[0].isMatch):"substringMatch"}(o);return xv(h,$,(e=>null==e?"":f?.(e)??""))})())},[$,d,p,m,f,g,y,b,w,o,c,_,s,r,x,function(e){switch(e.key){case"Enter":_?C():x(),e.preventDefault();break;case"Escape":S(),C();break;case"Tab":C(),l("movementKeyDown",{originalEvent:e,key:e.key});break;case"ArrowLeft":case"ArrowRight":case"ArrowDown":case"ArrowUp":_||l("movementKeyDown",{originalEvent:e,key:e.key})}},function(e){switch(e.key){case"Escape":S();break;case"Enter":case"Tab":M()}},function(){M(),C()},h,v,a,function(e){c=e,n(10,c)},function(t){_e.call(this,e,t)},i]}class wA extends ut{constructor(e){super(),ct(this,e,vA,bA,f,{isActive:1,value:0,disabled:2,multiLineTruncate:3,formatValue:4,horizontalAlignment:5,searchValue:18,isIndependentOfSheet:6,showTruncationPopover:7,highlightSubstringMatches:19,useTabularNumbers:8})}}function _A(e,t,n){const r=e.slice();return r[13]=t[n].keyword,r[14]=t[n].label,r}function xA(e){let t,n,r,o,s,a,i,l=e[5](e[13])+"",c=e[14]+"";return{c(){t=q("span"),n=j(l),r=U(),o=q("span"),s=j("("),a=j(c),i=j(")"),X(o,"class","tag-label absolute-date svelte-1i8udc4")},m(e,l){H(e,t,l),F(t,n),H(e,r,l),H(e,o,l),F(o,s),F(o,a),F(o,i)},p(e,t){4&t&&l!==(l=e[5](e[13])+"")&&Q(n,l),4&t&&c!==(c=e[14]+"")&&Q(a,c)},d(e){e&&z(t),e&&z(r),e&&z(o)}}}function CA(e){let t,n,r=e[14]+"";return{c(){t=q("span"),n=j(r),X(t,"class","tag-label")},m(e,r){H(e,t,r),F(t,n)},p(e,t){4&t&&r!==(r=e[14]+"")&&Q(n,r)},d(e){e&&z(t)}}}function SA(e){let t;function n(e,t){return e[1]?CA:xA}let r=n(e),o=r(e);return{c(){o.c(),t=U()},m(e,n){o.m(e,n),H(e,t,n)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&z(t)}}}function kA(e,t){let n,r,o;return r=new Hu({props:{appearance:t[0]?.trim()===t[13]?"primary":"plain",$$slots:{default:[SA]},$$scope:{ctx:t}}}),r.$on("click",(function(){return t[8](t[13])})),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};5&n&&(o.appearance=t[0]?.trim()===t[13]?"primary":"plain"),131078&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function MA(e){let t,n,r=[],o=new Map,s=e[2];const a=e=>e[13];for(let i=0;i<s.length;i+=1){let t=_A(e,s,i),n=a(t);o.set(n,r[i]=kA(n,t))}return{c(){t=q("div");for(let e=0;e<r.length;e+=1)r[e].c();X(t,"class","presets svelte-1i8udc4"),se(t,"is-relative",e[1])},m(e,o){H(e,t,o);for(let n=0;n<r.length;n+=1)r[n].m(t,null);n=!0},p(e,[i]){63&i&&(s=e[2],qe(),r=nt(r,i,a,1,e,s,o,t,et,kA,null,_A),Be()),(!n||2&i)&&se(t,"is-relative",e[1])},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ue(r[t]);n=!1},d(e){e&&z(t);for(let t=0;t<r.length;t+=1)r[t].d()}}}function IA(e,t,n){let r,o;y(e,no,(e=>n(9,o=e)));const s=ye();let{type:a}=t,{value:i}=t,{formatter:l}=t,{isRelative:c=!1}=t;const u={keyword:"now",label:o("now")},d={keyword:"today",label:o("today")},$={keyword:"yesterday",label:o("yesterday")};function p(e){return l.parse(e).value}return e.$$set=e=>{"type"in e&&n(6,a=e.type),"value"in e&&n(0,i=e.value),"formatter"in e&&n(7,l=e.formatter),"isRelative"in e&&n(1,c=e.isRelative)},e.$$.update=()=>{64&e.$$.dirty&&n(2,r="date"===a?[d,$]:"datetime"===a?[u,d]:"time"===a?[u]:So(a))},[i,c,r,s,p,function(e){return l.parseAndFormat(e)},a,l,e=>{n(0,i=p(e)),s("change",i)}]}class TA extends ut{constructor(e){super(),ct(this,e,IA,MA,f,{type:6,value:0,formatter:7,isRelative:1})}}function EA(e){let t,n,r,o,s;function a(t){e[24](t)}t=new hh({props:{type:e[1],value:e[9],format:e[2],timeShow24Hr:e[4],timeEnableSeconds:e[5]}}),t.$on("change",e[23]),t.$on("dateChange",e[11]);let i={isRelative:e[6],type:e[1],formatter:e[3]};return void 0!==e[0]&&(i.value=e[0]),r=new TA({props:i}),Ce.push((()=>st(r,"value",a))),r.$on("change",e[11]),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,o){it(t,e,o),H(e,n,o),it(r,e,o),s=!0},p(e,n){const s={};2&n&&(s.type=e[1]),512&n&&(s.value=e[9]),4&n&&(s.format=e[2]),16&n&&(s.timeShow24Hr=e[4]),32&n&&(s.timeEnableSeconds=e[5]),t.$set(s);const a={};64&n&&(a.isRelative=e[6]),2&n&&(a.type=e[1]),8&n&&(a.formatter=e[3]),!o&&1&n&&(o=!0,a.value=e[0],Oe((()=>o=!1))),r.$set(a)},i(e){s||(je(t.$$.fragment,e),je(r.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function DA(e){let t,n,r,o,s,a,i;const c=[e[16],{formatter:e[3]},{placeholder:e[2]}];function u(t){e[17](t)}function d(t){e[18](t)}let $={};for(let f=0;f<c.length;f+=1)$=l($,c[f]);function p(t){e[25](t)}void 0!==e[0]&&($.value=e[0]),void 0!==e[7]&&($.element=e[7]),t=new Fm({props:$}),Ce.push((()=>st(t,"value",u))),Ce.push((()=>st(t,"element",d))),t.$on("focus",e[10]),t.$on("focus",e[19]),t.$on("blur",e[12]),t.$on("keydown",e[13]),t.$on("keydown",e[20]),t.$on("artificialInput",e[21]),t.$on("artificialChange",e[22]);let m={class:"retain-active-cell no-max-height",trigger:e[7],$$slots:{default:[EA]},$$scope:{ctx:e}};return void 0!==e[8]&&(m.isOpen=e[8]),s=new wu({props:m}),Ce.push((()=>st(s,"isOpen",p))),s.$on("close",e[14]),{c(){at(t.$$.fragment),o=U(),at(s.$$.fragment)},m(e,n){it(t,e,n),H(e,o,n),it(s,e,n),i=!0},p(e,[o]){const i=65548&o?rt(c,[65536&o&&ot(e[16]),8&o&&{formatter:e[3]},4&o&&{placeholder:e[2]}]):{};!n&&1&o&&(n=!0,i.value=e[0],Oe((()=>n=!1))),!r&&128&o&&(r=!0,i.element=e[7],Oe((()=>r=!1))),t.$set(i);const l={};128&o&&(l.trigger=e[7]),268436095&o&&(l.$$scope={dirty:o,ctx:e}),!a&&256&o&&(a=!0,l.isOpen=e[8],Oe((()=>a=!1))),s.$set(l)},i(e){i||(je(t.$$.fragment,e),je(s.$$.fragment,e),i=!0)},o(e){Ue(t.$$.fragment,e),Ue(s.$$.fragment,e),i=!1},d(e){lt(t,e),e&&z(o),lt(s,e)}}}function OA(e,t,n){let r;const o=["type","formattingString","formatter","value","timeShow24Hr","timeEnableSeconds","allowRelativePresets"];let s=S(t,o);const a=ye();let i,{type:c}=t,{formattingString:u}=t,{formatter:d}=t,{value:$}=t,{timeShow24Hr:p=!0}=t,{timeEnableSeconds:m=!0}=t,{allowRelativePresets:f=!1}=t,g=!1;function h(){n(8,g=!1)}function y(e){n(0,$=d.parse(e).value),a("artificialInput",$),a("artificialChange",$)}return e.$$set=e=>{t=l(l({},t),C(e)),n(16,s=S(t,o)),"type"in e&&n(1,c=e.type),"formattingString"in e&&n(2,u=e.formattingString),"formatter"in e&&n(3,d=e.formatter),"value"in e&&n(0,$=e.value),"timeShow24Hr"in e&&n(4,p=e.timeShow24Hr),"timeEnableSeconds"in e&&n(5,m=e.timeEnableSeconds),"allowRelativePresets"in e&&n(6,f=e.allowRelativePresets)},e.$$.update=()=>{1&e.$$.dirty&&n(9,r=function(e){if(_o(e)){const t=d.parseAndFormat(e);if($o(t,u,!0).isValid())return t}}($))},[$,c,u,d,p,m,f,i,g,r,function(){n(8,g=!0)},h,function(){g||a("blur")},function(e){"Tab"===e.key&&h()},function(){a("blur")},y,s,function(e){$=e,n(0,$)},function(e){i=e,n(7,i)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},e=>y(e.detail),function(e){$=e,n(0,$)},function(e){g=e,n(8,g)}]}class NA extends ut{constructor(e){super(),ct(this,e,OA,DA,f,{type:1,formattingString:2,formatter:3,value:0,timeShow24Hr:4,timeEnableSeconds:5,allowRelativePresets:6})}}function AA(e){let t,n,r;function o(t){e[11](t)}let s={focusOnMount:!0,type:e[5],formattingString:e[6],formatter:e[7],timeShow24Hr:e[8],timeEnableSeconds:e[9]};return void 0!==e[0]&&(s.value=e[0]),t=new NA({props:s}),Ce.push((()=>st(t,"value",o))),t.$on("blur",(function(){$(e[16])&&e[16].apply(this,arguments)})),t.$on("keydown",(function(){$(e[17])&&e[17].apply(this,arguments)})),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(r,o){e=r;const s={};32&o&&(s.type=e[5]),64&o&&(s.formattingString=e[6]),128&o&&(s.formatter=e[7]),256&o&&(s.timeShow24Hr=e[8]),512&o&&(s.timeEnableSeconds=e[9]),!n&&1&o&&(n=!0,s.value=e[0],Oe((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function RA(e){let t,n,r;function o(t){e[12](t)}let s={isActive:e[1],disabled:e[2],highlightSubstringMatches:!1,isIndependentOfSheet:e[3],showTruncationPopover:e[4],useTabularNumbers:!0,formatValue:e[10],$$slots:{default:[AA,({handleInputBlur:e,handleInputKeydown:t})=>({16:e,17:t}),({handleInputBlur:e,handleInputKeydown:t})=>(e?65536:0)|(t?131072:0)]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.value=e[0]),t=new wA({props:s}),Ce.push((()=>st(t,"value",o))),t.$on("movementKeyDown",e[13]),t.$on("mouseenter",e[14]),t.$on("update",e[15]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.isActive=e[1]),4&r&&(o.disabled=e[2]),8&r&&(o.isIndependentOfSheet=e[3]),16&r&&(o.showTruncationPopover=e[4]),1024&r&&(o.formatValue=e[10]),459745&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.value=e[0],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function FA(e,t,n){let{isActive:r}=t,{value:o}=t,{disabled:s}=t,{isIndependentOfSheet:a}=t,{showTruncationPopover:i=!1}=t,{type:l}=t,{formattingString:c}=t,{formatter:u}=t,{timeShow24Hr:d=!0}=t,{timeEnableSeconds:$=!0}=t,{formatForDisplay:p}=t;return e.$$set=e=>{"isActive"in e&&n(1,r=e.isActive),"value"in e&&n(0,o=e.value),"disabled"in e&&n(2,s=e.disabled),"isIndependentOfSheet"in e&&n(3,a=e.isIndependentOfSheet),"showTruncationPopover"in e&&n(4,i=e.showTruncationPopover),"type"in e&&n(5,l=e.type),"formattingString"in e&&n(6,c=e.formattingString),"formatter"in e&&n(7,u=e.formatter),"timeShow24Hr"in e&&n(8,d=e.timeShow24Hr),"timeEnableSeconds"in e&&n(9,$=e.timeEnableSeconds),"formatForDisplay"in e&&n(10,p=e.formatForDisplay)},[o,r,s,a,i,l,c,u,d,$,p,function(e){o=e,n(0,o)},function(e){o=e,n(0,o)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)}]}class PA extends ut{constructor(e){super(),ct(this,e,FA,RA,f,{isActive:1,value:0,disabled:2,isIndependentOfSheet:3,showTruncationPopover:4,type:5,formattingString:6,formatter:7,timeShow24Hr:8,timeEnableSeconds:9,formatForDisplay:10})}}function LA(e){const t=EM(e,"date_format"),n=new aO({type:"date",dateFormat:t}),r=new iO(n);return{type:"date",formattingString:n.getFormattingString(),formatter:r,formatForDisplay:e=>_o(e)?r.parseAndFormat(e):e}}const HA={get:e=>({component:PA,props:LA(e)}),getInput:e=>({component:NA,props:{...LA(e),allowRelativePresets:!0}}),getDisplayFormatter:e=>t=>LA(e).formatForDisplay(String(t))};function zA(e,t){const n=EM(e,"date_format"),r=EM(e,"time_format"),o=new aO({type:t?"timestampWithTZ":"timestamp",dateFormat:n,timeFormat:r}),s=new iO(o);return{type:"datetime",formattingString:o.getFormattingString(),formatter:s,timeEnableSeconds:o.hasSecondsInTime(),timeShow24Hr:o.isTime24Hr(),formatForDisplay:e=>_o(e)?s.parseAndFormat(e):e}}const VA={get:(e,t)=>({component:PA,props:zA(e,t?.supportTimeZone??!1)}),getInput:(e,t)=>({component:NA,props:{...zA(e,t?.supportTimeZone??!1),allowRelativePresets:!0}}),getDisplayFormatter:(e,t)=>n=>zA(e,t?.supportTimeZone??!1).formatForDisplay(String(n))};function qA(e){let t,n,r;const o=[{focusOnMount:!0},e[8],{formatter:e[5]}];function s(t){e[9](t)}let a={};for(let i=0;i<o.length;i+=1)a=l(a,o[i]);return void 0!==e[0]&&(a.value=e[0]),t=new Fm({props:a}),Ce.push((()=>st(t,"value",s))),t.$on("blur",(function(){$(e[14])&&e[14].apply(this,arguments)})),t.$on("keydown",(function(){$(e[15])&&e[15].apply(this,arguments)})),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(r,s){e=r;const a=288&s?rt(o,[o[0],256&s&&ot(e[8]),32&s&&{formatter:e[5]}]):{};!n&&1&s&&(n=!0,a.value=e[0],Oe((()=>n=!1))),t.$set(a)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function BA(e){let t,n,r;function o(t){e[10](t)}let s={isActive:e[1],disabled:e[2],isIndependentOfSheet:e[3],showTruncationPopover:e[4],useTabularNumbers:e[7],horizontalAlignment:"right",formatValue:e[6],$$slots:{default:[qA,({handleInputBlur:e,handleInputKeydown:t})=>({14:e,15:t}),({handleInputBlur:e,handleInputKeydown:t})=>(e?16384:0)|(t?32768:0)]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.value=e[0]),t=new wA({props:s}),Ce.push((()=>st(t,"value",o))),t.$on("movementKeyDown",e[11]),t.$on("mouseenter",e[12]),t.$on("update",e[13]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.isActive=e[1]),4&r&&(o.disabled=e[2]),8&r&&(o.isIndependentOfSheet=e[3]),16&r&&(o.showTruncationPopover=e[4]),128&r&&(o.useTabularNumbers=e[7]),64&r&&(o.formatValue=e[6]),114977&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.value=e[0],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function jA(e,t,n){const r=["isActive","value","disabled","isIndependentOfSheet","showTruncationPopover","formatter","formatForDisplay","useTabularNumbers"];let o=S(t,r),{isActive:s}=t,{value:a}=t,{disabled:i}=t,{isIndependentOfSheet:c}=t,{showTruncationPopover:u=!1}=t,{formatter:d}=t,{formatForDisplay:$}=t,{useTabularNumbers:p}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(8,o=S(t,r)),"isActive"in e&&n(1,s=e.isActive),"value"in e&&n(0,a=e.value),"disabled"in e&&n(2,i=e.disabled),"isIndependentOfSheet"in e&&n(3,c=e.isIndependentOfSheet),"showTruncationPopover"in e&&n(4,u=e.showTruncationPopover),"formatter"in e&&n(5,d=e.formatter),"formatForDisplay"in e&&n(6,$=e.formatForDisplay),"useTabularNumbers"in e&&n(7,p=e.useTabularNumbers)},[a,s,i,c,u,d,$,p,o,function(e){a=e,n(0,a)},function(e){a=e,n(0,a)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)}]}class UA extends ut{constructor(e){super(),ct(this,e,jA,BA,f,{isActive:1,value:0,disabled:2,isIndependentOfSheet:3,showTruncationPopover:4,formatter:5,formatForDisplay:6,useTabularNumbers:7})}}function WA(e){const t=_O.getDefaults(),n=e.metadata?.duration_max??t.max,r=e.metadata?.duration_min??t.min,o=new _O({max:n,min:r}),s=new SO(o);return{useTabularNumbers:!0,formatter:s,placeholder:o.getFormattingString(),formatForDisplay:e=>_o(e)?s.format(e):e}}const YA={get:e=>({component:UA,props:WA(e)}),getInput:e=>({component:Fm,props:WA(e)}),getDisplayFormatter:e=>t=>WA(e).formatForDisplay(String(t))};function KA(e){let t,n,r,o,s,a,i;const l=e[2].default,c=b(l,e,e[1],null);return a=new t$({}),{c(){t=q("div"),c&&c.c(),n=U(),r=q("div"),o=q("div"),s=U(),at(a.$$.fragment),X(o,"class","overlay svelte-1w5ocrc"),X(r,"class","indicator svelte-1w5ocrc"),X(t,"class","content-loading-indicator svelte-1w5ocrc"),se(t,"loading",e[0])},m(e,l){H(e,t,l),c&&c.m(t,null),F(t,n),F(t,r),F(r,o),F(r,s),it(a,r,null),i=!0},p(e,[n]){c&&c.p&&(!i||2&n)&&_(c,l,e,e[1],i?w(l,e[1],n,null):x(e[1]),null),(!i||1&n)&&se(t,"loading",e[0])},i(e){i||(je(c,e),je(a.$$.fragment,e),i=!0)},o(e){Ue(c,e),Ue(a.$$.fragment,e),i=!1},d(e){e&&z(t),c&&c.d(e),lt(a)}}}function GA(e,t,n){let{$$slots:r={},$$scope:o}=t,{loading:s=!1}=t;return e.$$set=e=>{"loading"in e&&n(0,s=e.loading),"$$scope"in e&&n(1,o=e.$$scope)},[s,o,r]}class XA extends ut{constructor(e){super(),ct(this,e,GA,KA,f,{loading:0})}}function ZA(e){let t,n;const r=[e[0],e[1]];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const o=3&n?rt(r,[1&n&&ot(e[0]),2&n&&ot(e[1])]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function JA(e,t,n){let r;const o=["mimetype"];let s=S(t,o),{mimetype:a}=t;const i={"application/pdf":wS,"application/msword":CS,"application/vnd.openxmlformats-officedocument.wordprocessingml.document":CS,"application/vnd.ms-excel":bS,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":bS,"application/vnd.ms-powerpoint":_S,"application/vnd.openxmlformats-officedocument.presentationml.presentation":_S,"application/zip":fS,"application/x-7z-compressed":fS,"application/x-rar-compressed":fS,"application/x-tar":fS,"application/json":hS,"text/csv":yS,"text/x-csv":yS},c={image:vS,video:xS,audio:gS,text:hS};return e.$$set=e=>{t=l(l({},t),C(e)),n(1,s=S(t,o)),"mimetype"in e&&n(2,a=e.mimetype)},e.$$.update=()=>{4&e.$$.dirty&&n(0,r=function(e){if(!e)return mS;const t=i[e];if(t)return t;const n=e.split("/",1).at(0);return n?c[n]??mS:mS}(a))},[r,s,a]}class QA extends ut{constructor(e){super(),ct(this,e,JA,ZA,f,{mimetype:2})}}function eR(e){let t,n=So(e[2])+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){4&r&&n!==(n=So(e[2])+"")&&Q(t,n)},i:a,o:a,d(e){e&&z(t)}}}function tR(e){let t,n,r;function o(t){e[16](t)}let s={"aria-label":e[7],tooltip:e[4],appearance:"secondary",$$slots:{default:[rR]},$$scope:{ctx:e}};return void 0!==e[1]&&(s.element=e[1]),t=new Hu({props:s}),Ce.push((()=>st(t,"element",o))),t.$on("click",e[11]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};128&r&&(o["aria-label"]=e[7]),16&r&&(o.tooltip=e[4]),262208&r&&(o.$$scope={dirty:r,ctx:e}),!n&&2&r&&(n=!0,o.element=e[1],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function nR(e){let t,n;return t=new XA({props:{loading:e[10],$$slots:{default:[aR]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1024&n&&(r.loading=e[10]),262321&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function rR(e){let t,n;return t=new QA({props:{mimetype:e[6]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.mimetype=e[6]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function oR(e){let t;return{c(){t=j(e[4])},m(e,n){H(e,t,n)},p(e,n){16&n&&Q(t,e[4])},d(e){e&&z(t)}}}function sR(e){let t,n,r,o,s;return{c(){t=q("div"),n=q("img"),X(n,"alt",e[7]),m(n.src,r=e[5])||X(n,"src",r),X(n,"class","svelte-7tatbf"),X(t,"slot","trigger"),X(t,"class","image svelte-7tatbf")},m(r,a){H(r,t,a),F(t,n),e[15](n),o||(s=Y(n,"click",e[11]),o=!0)},p(e,t){128&t&&X(n,"alt",e[7]),32&t&&!m(n.src,r=e[5])&&X(n,"src",r)},d(n){n&&z(t),e[15](null),o=!1,s()}}}function aR(e){let t,n;return t=new Eu({props:{$$slots:{trigger:[sR],content:[oR]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};262321&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function iR(e){let t,n,r,o,s;const a=[nR,tR,eR],i=[];function l(e,t){return"image"===e[2]?0:"default"===e[2]?1:2}return r=l(e),o=i[r]=a[r](e),{c(){t=q("div"),n=q("div"),o.c(),X(n,"class","attached-file svelte-7tatbf"),se(n,"can-open",e[9]),X(t,"class","file-cell-content svelte-7tatbf")},m(e,o){H(e,t,o),F(t,n),i[r].m(n,null),s=!0},p(e,[t]){let c=r;r=l(e),r===c?i[r].p(e,t):(qe(),Ue(i[c],1,1,(()=>{i[c]=null})),Be(),o=i[r],o?o.p(e,t):(o=i[r]=a[r](e),o.c()),je(o,1),o.m(n,null)),(!s||512&t)&&se(n,"can-open",e[9])},i(e){s||(je(o),s=!0)},o(e){Ue(o),s=!1},d(e){e&&z(t),i[r].d()}}}function lR(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f=a,h=a;y(e,no,(e=>n(17,$=e))),e.$$.on_destroy.push((()=>f())),e.$$.on_destroy.push((()=>h()));let b,v,{fileViewerController:w}=t,{thumbnailResolutionHeightPx:_}=t;return e.$$set=e=>{"fileViewerController"in e&&n(12,w=e.fileViewerController),"thumbnailResolutionHeightPx"in e&&n(13,_=e.thumbnailResolutionHeightPx)},e.$$.update=()=>{4096&e.$$.dirty&&(n(8,({canOpenViewer:r,manifestWithRequestParams:o}=w),r,(n(14,o),n(12,w))),f(),f=g(r,(e=>n(9,p=e)))),16384&e.$$.dirty&&n(7,({uri:s,mimetype:i}=o),s,(n(6,i),n(14,o),n(12,w))),16384&e.$$.dirty&&n(2,l=jT(o)),24576&e.$$.dirty&&n(5,c=o.thumbnailWithHeight(_)),16384&e.$$.dirty&&n(4,u=o.name),4103&e.$$.dirty&&w.setTriggerRetriever((()=>"image"===l?b:v)),4096&e.$$.dirty&&(n(3,({isLoading:d}=w),d),h(),h=g(d,(e=>n(10,m=e))))},[b,v,l,d,u,c,i,s,r,p,m,async function(){try{await w.openFileViewer()}catch(e){console.error(e),WS.error($("failed_to_load_image"))}},w,_,o,function(e){Ce[e?"unshift":"push"]((()=>{b=e,n(0,b)}))},function(e){v=e,n(1,v)}]}class cR extends ut{constructor(e){super(),ct(this,e,lR,iR,f,{fileViewerController:12,thumbnailResolutionHeightPx:13})}}function uR(e){let t,n,r=e[2]&&$R(e);return{c(){t=q("div"),r&&r.c(),X(t,"class","add svelte-nv8spg")},m(e,o){H(e,t,o),r&&r.m(t,null),n=!0},p(e,n){e[2]?r?(r.p(e,n),4&n&&je(r,1)):(r=$R(e),r.c(),je(r,1),r.m(t,null)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){e&&z(t),r&&r.d()}}}function dR(e){let t,n,r,o;const s=[fR,mR],a=[];function i(e,t){return e[5]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function $R(e){let t,n;return t=new Hu({props:{disabled:!e[3],tabindex:"-1",$$slots:{default:[pR]},$$scope:{ctx:e}}}),t.$on("click",(function(){$(e[4])&&e[4].apply(this,arguments)})),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(n,r){e=n;const o={};8&r&&(o.disabled=!e[3]),128&r&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function pR(e){let t,n;const r=[jx];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[ot(jx)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function mR(e){let t,n;return{c(){t=q("div"),n=j(e[0]),X(t,"class","centered svelte-nv8spg")},m(e,r){H(e,t,r),F(t,n)},p(e,t){1&t&&Q(n,e[0])},i:a,o:a,d(e){e&&z(t)}}}function fR(e){let t,n;return t=new cR({props:{fileViewerController:e[5],thumbnailResolutionHeightPx:e[1]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.fileViewerController=e[5]),2&n&&(r.thumbnailResolutionHeightPx=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function gR(e){let t,n,r,o;const s=[dR,uR],a=[];function i(e,t){return e[6]?0:1}return n=i(e),r=a[n]=s[n](e),{c(){t=q("div"),r.c(),X(t,"class","file-cell-content svelte-nv8spg")},m(e,r){H(e,t,r),a[n].m(t,null),o=!0},p(e,[o]){let l=n;n=i(e),n===l?a[n].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),r=a[n],r?r.p(e,o):(r=a[n]=s[n](e),r.c()),je(r,1),r.m(t,null))},i(e){o||(je(r),o=!0)},o(e){Ue(r),o=!1},d(e){e&&z(t),a[n].d()}}}function hR(e,t,n){let r,{value:o}=t,{thumbnailResolutionHeightPx:s}=t,{showUploadButton:a=!0}=t,{canUpload:i}=t,{upload:l}=t,{fileViewerController:c}=t;return e.$$set=e=>{"value"in e&&n(0,o=e.value),"thumbnailResolutionHeightPx"in e&&n(1,s=e.thumbnailResolutionHeightPx),"showUploadButton"in e&&n(2,a=e.showUploadButton),"canUpload"in e&&n(3,i=e.canUpload),"upload"in e&&n(4,l=e.upload),"fileViewerController"in e&&n(5,c=e.fileViewerController)},e.$$.update=()=>{1&e.$$.dirty&&n(6,r=null!=o)},[o,s,a,i,l,c,r]}class yR extends ut{constructor(e){super(),ct(this,e,hR,gR,f,{value:0,thumbnailResolutionHeightPx:1,showUploadButton:2,canUpload:3,upload:4,fileViewerController:5})}}const bR=["click","pointerdown","pointerup","pointermove","pointercancel","touchstart","touchend","touchmove","wheel","keydown","keyup"];class vR{constructor(t){e(this,"rawManifest",void 0),e(this,"manifestWithRequestParams",void 0),e(this,"canOpenViewer",void 0),e(this,"isLoading",pt(!1)),e(this,"imageElement",void 0),e(this,"lightboxController",void 0),e(this,"fileDetailController",void 0),e(this,"getTrigger",(()=>{})),e(this,"removeFile",void 0),e(this,"onClose",void 0),this.rawManifest=t.rawManifest,this.canOpenViewer=pt(!_o(t.canOpen)||t.canOpen),this.removeFile=t.removeFile,this.lightboxController=t.lightboxController,this.fileDetailController=t.fileDetailController,this.manifestWithRequestParams=new YT(this.rawManifest,t.fileRequestParams),this.onClose=t.onClose}setTriggerRetriever(e){this.getTrigger=e}async openImageFileViewer(){if(!this.imageElement){let t=!1;if(function(e,t=bR){let n=!1;const r=()=>{n||(n=!0,t.forEach((e=>{window.removeEventListener(e,r,{capture:!0})})),e())};t.forEach((e=>{window.addEventListener(e,r,{capture:!0,passive:!0})}))}((()=>{t=!0}),["pointerdown","keydown"]),this.isLoading.set(!0),this.imageElement=await(e=this.manifestWithRequestParams.direct,new Promise((t=>{const n=new Image;n.onload=()=>t(n),n.onerror=()=>t(void 0),n.src=e}))),this.isLoading.set(!1),t)return}var e;if(!this.imageElement)throw new Error("Failed to load image");if(!this.lightboxController)return;const t=this.getTrigger();this.lightboxController.open({imageElement:this.imageElement,zoomOrigin:t?.getBoundingClientRect(),fileManifestWithRequestParams:this.manifestWithRequestParams,removeFile:()=>this.removeFile(),onClose:()=>this.onClose()})}openFileDetailDropdown(){if(!this.fileDetailController)return;const e=this.getTrigger();e&&this.fileDetailController.open({trigger:e,fileManifestWithRequestParams:this.manifestWithRequestParams,removeFile:()=>this.removeFile(),onClose:()=>this.onClose()})}async openFileViewer(){if(!h(this.canOpenViewer))return;const e=jT(this.manifestWithRequestParams);"image"===e?await this.openImageFileViewer():"default"===e?this.openFileDetailDropdown():So(e)}close(){this.lightboxController?.close(),this.fileDetailController?.close()}}class wR{constructor(){e(this,"props",pt(void 0))}open(e){this.props.set(e)}close(){if(void 0!==h(this.props)){const e=h(this.props)?.onClose;this.props.set(void 0),e?.()}}subscribe(e){return this.props.subscribe(e)}}const _R=ss(),xR=ss();function CR(e){let t,n,r,o,s,a=e[4]("storage_uri")+"";return{c(){t=q("tr"),n=q("th"),r=j(a),o=q("td"),s=j(e[2]),X(n,"class","svelte-m87z2s"),X(o,"class","svelte-m87z2s")},m(e,a){H(e,t,a),F(t,n),F(n,r),F(t,o),F(o,s)},p(e,t){16&t&&a!==(a=e[4]("storage_uri")+"")&&Q(r,a),4&t&&Q(s,e[2])},d(e){e&&z(t)}}}function SR(e){let t,n,r,o,s,i,l,c,u,d,$,p,m,f=e[4]("name")+"",g=e[4]("mime_type")+"",h=e[0]&&CR(e);return{c(){t=q("table"),n=q("tr"),r=q("th"),o=j(f),s=q("td"),i=j(e[3]),l=U(),h&&h.c(),c=U(),u=q("tr"),d=q("th"),$=j(g),p=q("td"),m=j(e[1]),X(r,"class","svelte-m87z2s"),X(s,"class","svelte-m87z2s"),X(d,"class","svelte-m87z2s"),X(p,"class","svelte-m87z2s"),X(t,"class","svelte-m87z2s")},m(e,a){H(e,t,a),F(t,n),F(n,r),F(r,o),F(n,s),F(s,i),F(t,l),h&&h.m(t,null),F(t,c),F(t,u),F(u,d),F(d,$),F(u,p),F(p,m)},p(e,[n]){16&n&&f!==(f=e[4]("name")+"")&&Q(o,f),8&n&&Q(i,e[3]),e[0]?h?h.p(e,n):(h=CR(e),h.c(),h.m(t,c)):h&&(h.d(1),h=null),16&n&&g!==(g=e[4]("mime_type")+"")&&Q($,g),2&n&&Q(m,e[1])},i:a,o:a,d(e){e&&z(t),h&&h.d()}}}function kR(e,t,n){let r,o,s,a,i;y(e,no,(e=>n(4,i=e)));let{fileManifestWithRequestParams:l}=t;return e.$$set=e=>{"fileManifestWithRequestParams"in e&&n(5,l=e.fileManifestWithRequestParams)},e.$$.update=()=>{32&e.$$.dirty&&n(3,({name:r,uri:o,mimetype:s,showFileStorageInfo:a}=l),r,(n(2,o),n(5,l)),(n(1,s),n(5,l)),(n(0,a),n(5,l)))},[a,s,o,r,i,l]}class MR extends ut{constructor(e){super(),ct(this,e,kR,SR,f,{fileManifestWithRequestParams:5})}}class IR{constructor(){e(this,"props",pt(void 0))}open(e){this.props.set(e)}close(){if(void 0!==h(this.props)){const e=h(this.props)?.onClose;this.props.set(void 0),e?.()}}subscribe(e){return this.props.subscribe(e)}}const TR=ss();function ER(e){let t,n;return t=new MR({props:{fileManifestWithRequestParams:e[5].manifestWithRequestParams}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.fileManifestWithRequestParams=e[5].manifestWithRequestParams),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function DR(e){let t,n,r,o,s;n=new yR({props:{value:e[0],fileViewerController:e[5],thumbnailResolutionHeightPx:e[6],showUploadButton:e[1],canUpload:!e[2],upload:e[7]}});let a=e[3]&&e[5]&&ER(e);return{c(){t=q("div"),at(n.$$.fragment),r=U(),a&&a.c(),X(t,"class","file-cell svelte-17sviax"),X(t,"style",o=e[3]?"":"height: 32px;"),se(t,"disabled",e[2]),se(t,"independent",e[3])},m(e,o){H(e,t,o),it(n,t,null),F(t,r),a&&a.m(t,null),s=!0},p(e,r){const i={};1&r&&(i.value=e[0]),32&r&&(i.fileViewerController=e[5]),2&r&&(i.showUploadButton=e[1]),4&r&&(i.canUpload=!e[2]),n.$set(i),e[3]&&e[5]?a?(a.p(e,r),40&r&&je(a,1)):(a=ER(e),a.c(),je(a,1),a.m(t,null)):a&&(qe(),Ue(a,1,1,(()=>{a=null})),Be()),(!s||8&r&&o!==(o=e[3]?"":"height: 32px;"))&&X(t,"style",o),(!s||4&r)&&se(t,"disabled",e[2]),(!s||8&r)&&se(t,"independent",e[3])},i(e){s||(je(n.$$.fragment,e),je(a),s=!0)},o(e){Ue(n.$$.fragment,e),Ue(a),s=!1},d(e){e&&z(t),lt(n),a&&a.d()}}}function OR(e){let t,n,r;function o(t){e[13](t)}let s={isActive:e[1],disabled:e[2],isIndependentOfSheet:e[3],hasPadding:!1,$$slots:{default:[DR]},$$scope:{ctx:e}};return void 0!==e[4]&&(s.element=e[4]),t=new WE({props:s}),Ce.push((()=>st(t,"element",o))),t.$on("mouseenter",e[14]),t.$on("keydown",e[9]),t.$on("dblclick",e[8]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.isActive=e[1]),4&r&&(o.disabled=e[2]),8&r&&(o.isIndependentOfSheet=e[3]),1048623&r&&(o.$$scope={dirty:r,ctx:e}),!n&&16&r&&(n=!0,o.element=e[4],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function NR(e,t,n){let r;const o=ye(),s=TR.get(),a=_R.get(),i=xR.get();let l,{fileManifest:c}=t,{isActive:u}=t,{value:d}=t,{disabled:$}=t,{isIndependentOfSheet:p}=t,{setFileManifest:m}=t,{fileRequestParams:f}=t;function g(e){n(0,d=e),o("update",{value:d})}async function h(){if($)return;if(!i)return;const e=await i.acquireFileAttachment();if(!e)return;const t=UT(e.result);t&&(g(e.result),m?.(t.mash,e.download_link))}async function y(){c?await(r?.openFileViewer()):await h()}return e.$$set=e=>{"fileManifest"in e&&n(10,c=e.fileManifest),"isActive"in e&&n(1,u=e.isActive),"value"in e&&n(0,d=e.value),"disabled"in e&&n(2,$=e.disabled),"isIndependentOfSheet"in e&&n(3,p=e.isIndependentOfSheet),"setFileManifest"in e&&n(11,m=e.setFileManifest),"fileRequestParams"in e&&n(12,f=e.fileRequestParams)},e.$$.update=()=>{5136&e.$$.dirty&&n(5,r=c?new vR({rawManifest:c,removeFile:()=>g(null),lightboxController:s,fileDetailController:a,fileRequestParams:f,onClose:async()=>{l?.focus()}}):void 0),34&e.$$.dirty&&r?.canOpenViewer.set(u)},[d,u,$,p,l,r,64,h,y,function(e){switch(e.key){case"Enter":y();break;case"Tab":case"ArrowLeft":case"ArrowRight":case"ArrowDown":case"ArrowUp":o("movementKeyDown",{originalEvent:e,key:e.key})}},c,m,f,function(e){l=e,n(4,l)},function(t){_e.call(this,e,t)}]}class AR extends ut{constructor(e){super(),ct(this,e,NR,OR,f,{fileManifest:10,isActive:1,value:0,disabled:2,isIndependentOfSheet:3,setFileManifest:11,fileRequestParams:12})}}function RR(e){let t,n,r,o,s,a,i,c,u,$,p,m;const f=[{disabled:e[3]},e[11]];function g(t){e[17](t)}let h={};for(let d=0;d<f.length;d+=1)h=l(h,f[d]);return void 0!==e[0]&&(h.id=e[0]),t=new v$({props:h}),Ce.push((()=>st(t,"id",g))),a=new yR({props:{value:e[1],fileViewerController:e[6],thumbnailResolutionHeightPx:FR,canUpload:!e[3],upload:e[8]}}),{c(){at(t.$$.fragment),r=U(),o=q("span"),s=q("div"),at(a.$$.fragment),X(s,"class","file-input-content svelte-1hgg10y"),se(s,"large",e[7]),X(o,"id",e[0]),X(o,"class",i="input-element file-input "+e[2]+" svelte-1hgg10y"),X(o,"tabindex",c=e[3]?void 0:0),X(o,"role","listbox"),X(o,"aria-labelledby",u=M$(e[0])),se(o,"has-value",e[5]),se(o,"disabled",e[3])},m(n,i){it(t,n,i),H(n,r,i),H(n,o,i),F(o,s),it(a,s,null),e[18](o),$=!0,p||(m=[Y(o,"focus",e[9]),Y(o,"focus",e[15]),Y(o,"blur",e[10]),Y(o,"blur",e[16])],p=!0)},p(e,[r]){const l=2056&r?rt(f,[8&r&&{disabled:e[3]},2048&r&&ot(e[11])]):{};!n&&1&r&&(n=!0,l.id=e[0],Oe((()=>n=!1))),t.$set(l);const d={};2&r&&(d.value=e[1]),64&r&&(d.fileViewerController=e[6]),8&r&&(d.canUpload=!e[3]),a.$set(d),(!$||128&r)&&se(s,"large",e[7]),(!$||1&r)&&X(o,"id",e[0]),(!$||4&r&&i!==(i="input-element file-input "+e[2]+" svelte-1hgg10y"))&&X(o,"class",i),(!$||8&r&&c!==(c=e[3]?void 0:0))&&X(o,"tabindex",c),(!$||1&r&&u!==(u=M$(e[0])))&&X(o,"aria-labelledby",u),(!$||36&r)&&se(o,"has-value",e[5]),(!$||12&r)&&se(o,"disabled",e[3])},i(e){$||(je(t.$$.fragment,e),je(a.$$.fragment,e),$=!0)},o(e){Ue(t.$$.fragment,e),Ue(a.$$.fragment,e),$=!1},d(n){lt(t,n),n&&z(r),n&&z(o),lt(a),e[18](null),p=!1,d(m)}}}const FR=400;function PR(e,t,n){let r,o,s;const a=["id","value","class","disabled","fileManifest","setFileManifest","fileRequestParams"];let i=S(t,a);const c=y$(),u=ye(),d=TR.get(),$=_R.get(),p=xR.get();let m,{id:f=ko()}=t,{value:g}=t,{class:h=""}=t,{disabled:y=!1}=t,{fileManifest:b}=t,{setFileManifest:v}=t,{fileRequestParams:w}=t;function _(e){n(1,g=e),u("artificialChange",g),u("artificialInput",g)}async function x(){if(y)return;if(!p)return;const e=await p.acquireFileAttachment(w);if(!e)return;const t=UT(e.result);t&&(_(e.result),v?.(t.mash,e.download_link))}function k(e){switch(e.key){case"Enter":e.target===m&&(b?s?.openFileViewer():x());break;case"Delete":case"Backspace":n(1,g=null),u("artificialChange",g),u("artificialInput",g),s?.close()}}return e.$$set=e=>{t=l(l({},t),C(e)),n(11,i=S(t,a)),"id"in e&&n(0,f=e.id),"value"in e&&n(1,g=e.value),"class"in e&&n(2,h=e.class),"disabled"in e&&n(3,y=e.disabled),"fileManifest"in e&&n(12,b=e.fileManifest),"setFileManifest"in e&&n(13,v=e.setFileManifest),"fileRequestParams"in e&&n(14,w=e.fileRequestParams)},e.$$.update=()=>{2&e.$$.dirty&&n(5,r=null!=g&&""!==g),1&e.$$.dirty&&c?.inputId.set(f),4128&e.$$.dirty&&n(7,o=r&&b&&"image"===jT(b)),20496&e.$$.dirty&&n(6,s=b?new vR({rawManifest:b,removeFile:()=>_(null),lightboxController:d,fileDetailController:$,fileRequestParams:w,onClose:()=>m.focus()}):void 0)},[f,g,h,y,m,r,s,o,x,function(){window.addEventListener("keydown",k)},function(){window.removeEventListener("keydown",k)},i,b,v,w,function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(e){f=e,n(0,f)},function(e){Ce[e?"unshift":"push"]((()=>{m=e,n(4,m)}))}]}class LR extends ut{constructor(e){super(),ct(this,e,PR,RR,f,{id:0,value:1,class:2,disabled:3,fileManifest:12,setFileManifest:13,fileRequestParams:14})}}const HR={initialInputValue:"",get:()=>({component:AR}),getInput:()=>({component:LR}),getSimpleInput:()=>({component:ym}),getDisplayFormatter:()=>String};function zR(e){let t,n;const r=[e[2],{value:e[1]}];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new $f({props:o}),t.$on("blur",e[3]),t.$on("focus",e[4]),t.$on("keydown",e[5]),t.$on("artificialInput",e[6]),t.$on("artificialInput",e[7]),t.$on("artificialChange",e[8]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const o=6&n?rt(r,[4&n&&ot(e[2]),2&n&&{value:e[1]}]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function VR(e,t,n){const r=["value"];let o=S(t,r),{value:s}=t,a=null;function i(e){n(1,a=function(e){return null==e?null:String(e)}(e))}return e.$$set=e=>{t=l(l({},t),C(e)),n(2,o=S(t,r)),"value"in e&&n(0,s=e.value)},e.$$.update=()=>{1&e.$$.dirty&&i(s)},[s,a,o,function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},({detail:e})=>{n(0,s=e)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)}]}class qR extends ut{constructor(e){super(),ct(this,e,VR,zR,f,{value:0})}}function BR(e){let t,n,r;const o=[{focusOnMount:!0},{disabled:e[2]},e[4]];function s(t){e[8](t)}let a={};for(let i=0;i<o.length;i+=1)a=l(a,o[i]);return void 0!==e[0]&&(a.value=e[0]),t=new qR({props:a}),Ce.push((()=>st(t,"value",s))),t.$on("blur",(function(){$(e[13])&&e[13].apply(this,arguments)})),t.$on("keydown",(function(){$(e[14])&&e[14].apply(this,arguments)})),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(r,s){e=r;const a=20&s?rt(o,[o[0],4&s&&{disabled:e[2]},16&s&&ot(e[4])]):{};!n&&1&s&&(n=!0,a.value=e[0],Oe((()=>n=!1))),t.$set(a)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function jR(e){let t,n,r;function o(t){e[9](t)}let s={isActive:e[1],disabled:e[2],searchValue:e[3],isIndependentOfSheet:e[6],showTruncationPopover:e[7],useTabularNumbers:!0,formatValue:e[5],horizontalAlignment:"right",$$slots:{default:[BR,({handleInputBlur:e,handleInputKeydown:t})=>({13:e,14:t}),({handleInputBlur:e,handleInputKeydown:t})=>(e?8192:0)|(t?16384:0)]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.value=e[0]),t=new wA({props:s}),Ce.push((()=>st(t,"value",o))),t.$on("movementKeyDown",e[10]),t.$on("mouseenter",e[11]),t.$on("update",e[12]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.isActive=e[1]),4&r&&(o.disabled=e[2]),8&r&&(o.searchValue=e[3]),64&r&&(o.isIndependentOfSheet=e[6]),128&r&&(o.showTruncationPopover=e[7]),32&r&&(o.formatValue=e[5]),57365&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.value=e[0],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function UR(e,t,n){let{isActive:r}=t,{value:o}=t,{disabled:s}=t,{searchValue:a}=t,{formatterOptions:i}=t,{formatForDisplay:l}=t,{isIndependentOfSheet:c}=t,{showTruncationPopover:u=!1}=t;return e.$$set=e=>{"isActive"in e&&n(1,r=e.isActive),"value"in e&&n(0,o=e.value),"disabled"in e&&n(2,s=e.disabled),"searchValue"in e&&n(3,a=e.searchValue),"formatterOptions"in e&&n(4,i=e.formatterOptions),"formatForDisplay"in e&&n(5,l=e.formatForDisplay),"isIndependentOfSheet"in e&&n(6,c=e.isIndependentOfSheet),"showTruncationPopover"in e&&n(7,u=e.showTruncationPopover)},[o,r,s,a,i,l,c,u,function(e){o=e,n(0,o)},function(e){o=e,n(0,o)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)}]}class WR extends ut{constructor(e){super(),ct(this,e,UR,jR,f,{isActive:1,value:0,disabled:2,searchValue:3,formatterOptions:4,formatForDisplay:5,isIndependentOfSheet:6,showTruncationPopover:7})}}function YR(e){let t,n;const r=[e[2],{value:e[1]}];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new $f({props:o}),t.$on("blur",e[3]),t.$on("focus",e[4]),t.$on("keydown",e[5]),t.$on("artificialInput",e[6]),t.$on("artificialInput",e[7]),t.$on("artificialChange",e[8]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const o=6&n?rt(r,[4&n&&ot(e[2]),2&n&&{value:e[1]}]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function KR(e,t,n){const r=["value"];let o=S(t,r),{value:s}=t,a=null;function i(e){n(1,a=function(e){return null==e?null:String(e)}(e))}return e.$$set=e=>{t=l(l({},t),C(e)),n(2,o=S(t,r)),"value"in e&&n(0,s=e.value)},e.$$.update=()=>{1&e.$$.dirty&&i(s)},[s,a,o,function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},({detail:e})=>{n(0,s=e)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)}]}class GR extends ut{constructor(e){super(),ct(this,e,KR,YR,f,{value:0})}}function XR(e){let t,n,r;const o=[{focusOnMount:!0},{disabled:e[2]},e[4]];function s(t){e[9](t)}let a={};for(let i=0;i<o.length;i+=1)a=l(a,o[i]);return void 0!==e[0]&&(a.value=e[0]),t=new GR({props:a}),Ce.push((()=>st(t,"value",s))),t.$on("blur",(function(){$(e[14])&&e[14].apply(this,arguments)})),t.$on("keydown",(function(){$(e[15])&&e[15].apply(this,arguments)})),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(r,s){e=r;const a=20&s?rt(o,[o[0],4&s&&{disabled:e[2]},16&s&&ot(e[4])]):{};!n&&1&s&&(n=!0,a.value=e[0],Oe((()=>n=!1))),t.$set(a)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function ZR(e){let t,n,r;function o(t){e[10](t)}let s={isActive:e[1],disabled:e[2],isIndependentOfSheet:e[6],showTruncationPopover:e[7],searchValue:e[3],useTabularNumbers:!0,formatValue:e[8],horizontalAlignment:e[5],$$slots:{default:[XR,({handleInputBlur:e,handleInputKeydown:t})=>({14:e,15:t}),({handleInputBlur:e,handleInputKeydown:t})=>(e?16384:0)|(t?32768:0)]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.value=e[0]),t=new wA({props:s}),Ce.push((()=>st(t,"value",o))),t.$on("movementKeyDown",e[11]),t.$on("mouseenter",e[12]),t.$on("update",e[13]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.isActive=e[1]),4&r&&(o.disabled=e[2]),64&r&&(o.isIndependentOfSheet=e[6]),128&r&&(o.showTruncationPopover=e[7]),8&r&&(o.searchValue=e[3]),256&r&&(o.formatValue=e[8]),32&r&&(o.horizontalAlignment=e[5]),114709&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.value=e[0],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function JR(e,t,n){let{isActive:r}=t,{value:o}=t,{disabled:s}=t,{searchValue:a}=t,{formatterOptions:i}=t,{horizontalAlignment:l="right"}=t,{isIndependentOfSheet:c}=t,{showTruncationPopover:u=!1}=t,{formatForDisplay:d}=t;return e.$$set=e=>{"isActive"in e&&n(1,r=e.isActive),"value"in e&&n(0,o=e.value),"disabled"in e&&n(2,s=e.disabled),"searchValue"in e&&n(3,a=e.searchValue),"formatterOptions"in e&&n(4,i=e.formatterOptions),"horizontalAlignment"in e&&n(5,l=e.horizontalAlignment),"isIndependentOfSheet"in e&&n(6,c=e.isIndependentOfSheet),"showTruncationPopover"in e&&n(7,u=e.showTruncationPopover),"formatForDisplay"in e&&n(8,d=e.formatForDisplay)},[o,r,s,a,i,l,c,u,d,function(e){o=e,n(0,o)},function(e){o=e,n(0,o)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)}]}class QR extends ut{constructor(e){super(),ct(this,e,JR,ZR,f,{isActive:1,value:0,disabled:2,searchValue:3,formatterOptions:4,horizontalAlignment:5,isIndependentOfSheet:6,showTruncationPopover:7,formatForDisplay:8})}}const eF=new Map([["english","en"],["german","de"],["french","fr"],["hindi","hi"],["swiss","de-CH"]]);function tF(e){const t=EM(e,"num_grouping");switch(t){case"always":return"always";case"auto":return"auto";case"never":return!1;default:return So(t)}}function nF(e,t){const n=e.metadata,r=n?.num_format??null,o=(r&&eF.get(r))??void 0,s=tF(e),a=function(e,t){return"scale-based"===t?0!==(e.type_options?.scale??1/0):"never"!==t}(e,t?.floatAllowanceStrategy);return{locale:o,allowFloat:a,allowNegative:!0,useGrouping:s,minimumFractionDigits:n?.num_min_frac_digits??void 0}}function rF(e,t){const n={...nF(e,t),maximumFractionDigits:e.metadata?.num_max_frac_digits??void 0},r=new of(n);return{formatterOptions:n,formatForDisplay:e=>_o(e)?r.format(String(e)):e}}const oF={get:(e,t)=>({component:QR,props:rF(e,t)}),getInput:(e,t)=>({component:GR,props:nF(e,t)}),getDisplayFormatter:(e,t)=>n=>rF(e,t).formatForDisplay(String(n))},sF=new Map([["english","en"],["german","de"],["french","fr"],["hindi","hi"],["swiss","de-CH"]]);function aF(e){return 0===(e.type_options?.scale??1/0)}function iF(e){const t=EM(e,"num_format");return{locale:(t&&sF.get(t))??void 0,useGrouping:tF(e),allowFloat:!aF(e),allowNegative:!0,minimumFractionDigits:EM(e,"num_min_frac_digits"),maximumFractionDigits:EM(e,"num_max_frac_digits"),currencySymbol:EM(e,"mon_currency_symbol"),currencySymbolLocation:EM(e,"mon_currency_location")}}function lF(e){const t=iF(e),n=new of(t),r=(()=>{switch(t.currencySymbolLocation){case"after-minus":return e=>e.replace(/^(-?)/,`$1${t.currencySymbol}`);case"end-with-space":return e=>`${e} ${t.currencySymbol}`;default:return e=>e}})();return{formatterOptions:t,formatForDisplay:e=>_o(e)?r(n.format(String(e))):e}}const cF={get:e=>({component:WR,props:lF(e)}),getInput:e=>({component:qR,props:{...iF(e),maximumFractionDigits:void 0}}),getDisplayFormatter:e=>t=>lF(e).formatForDisplay(String(t))};function uF(e){let t,n,r,o;const s=[e[2]];function a(t){e[3](t)}function i(t){e[4](t)}let c={};for(let u=0;u<s.length;u+=1)c=l(c,s[u]);return void 0!==e[0]&&(c.value=e[0]),void 0!==e[1]&&(c.element=e[1]),t=new Cg({props:c}),Ce.push((()=>st(t,"value",a))),Ce.push((()=>st(t,"element",i))),t.$on("input",e[5]),t.$on("change",e[6]),t.$on("focus",e[7]),t.$on("blur",e[8]),t.$on("keydown",e[9]),t.$on("processedKeyDown",e[10]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),o=!0},p(e,[o]){const a=4&o?rt(s,[ot(e[2])]):{};!n&&1&o&&(n=!0,a.value=e[0],Oe((()=>n=!1))),!r&&2&o&&(r=!0,a.element=e[1],Oe((()=>r=!1))),t.$set(a)},i(e){o||(je(t.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),o=!1},d(e){lt(t,e)}}}function dF(e,t,n){const r=["value"];let o,s=S(t,r),{value:a=""}=t,i="0px",c="0px";function u(){if(!o)return;const e=[`${Math.min(o.scrollHeight,400)}px`,i,c];n(1,o.style.height=`calc(${e.join(" + ")})`,o)}return e.$$set=e=>{t=l(l({},t),C(e)),n(2,s=S(t,r)),"value"in e&&n(0,a=e.value)},e.$$.update=()=>{2&e.$$.dirty&&function(){if(!o)return;n(1,o.style.height="1em",o);const e=getComputedStyle(o);i=e.borderTopWidth,c=e.borderBottomWidth,u()}(),1&e.$$.dirty&&u()},[a,o,s,function(e){a=e,n(0,a)},function(e){o=e,n(1,o)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)}]}class $F extends ut{constructor(e){super(),ct(this,e,dF,uF,f,{value:0})}}function pF(e){let t,n,r;function o(t){e[7](t)}let s={focusOnMount:!0,maxlength:xo(e[6]),disabled:e[2],addNewLineOnEnterKeyCombinations:!0};return void 0!==e[0]&&(s.value=e[0]),t=new Cg({props:s}),Ce.push((()=>st(t,"value",o))),t.$on("blur",(function(){$(e[13])&&e[13].apply(this,arguments)})),t.$on("processedKeyDown",(function(...t){return e[8](e[14],...t)})),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(r,o){e=r;const s={};64&o&&(s.maxlength=xo(e[6])),4&o&&(s.disabled=e[2]),!n&&1&o&&(n=!0,s.value=e[0],Oe((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function mF(e){let t,n,r;function o(t){e[9](t)}let s={isActive:e[1],disabled:e[2],searchValue:e[3],isIndependentOfSheet:e[4],showTruncationPopover:e[5],multiLineTruncate:!0,$$slots:{default:[pF,({handleInputBlur:e,handleInputKeydown:t})=>({13:e,14:t}),({handleInputBlur:e,handleInputKeydown:t})=>(e?8192:0)|(t?16384:0)]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.value=e[0]),t=new wA({props:s}),Ce.push((()=>st(t,"value",o))),t.$on("movementKeyDown",e[10]),t.$on("mouseenter",e[11]),t.$on("update",e[12]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.isActive=e[1]),4&r&&(o.disabled=e[2]),8&r&&(o.searchValue=e[3]),16&r&&(o.isIndependentOfSheet=e[4]),32&r&&(o.showTruncationPopover=e[5]),57413&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.value=e[0],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function fF(e,t,n){let{isActive:r}=t,{value:o}=t,{disabled:s}=t,{searchValue:a}=t,{isIndependentOfSheet:i}=t,{showTruncationPopover:l=!1}=t,{length:c}=t;return e.$$set=e=>{"isActive"in e&&n(1,r=e.isActive),"value"in e&&n(0,o=e.value),"disabled"in e&&n(2,s=e.disabled),"searchValue"in e&&n(3,a=e.searchValue),"isIndependentOfSheet"in e&&n(4,i=e.isIndependentOfSheet),"showTruncationPopover"in e&&n(5,l=e.showTruncationPopover),"length"in e&&n(6,c=e.length)},[o,r,s,a,i,l,c,function(e){o=e,n(0,o)},(e,t)=>function(e,t){const{type:n,originalEvent:r}=e;"newlineWithEnterKeyCombination"===n?r.stopPropagation():t(r)}(t.detail,e),function(e){o=e,n(0,o)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)}]}class gF extends ut{constructor(e){super(),ct(this,e,fF,mF,f,{isActive:1,value:0,disabled:2,searchValue:3,isIndependentOfSheet:4,showTruncationPopover:5,length:6})}}function hF(e){let t,n,r;function o(t){e[7](t)}let s={focusOnMount:!0,maxlength:xo(e[6]),disabled:e[2]};return void 0!==e[0]&&(s.value=e[0]),t=new ym({props:s}),Ce.push((()=>st(t,"value",o))),t.$on("blur",(function(){$(e[12])&&e[12].apply(this,arguments)})),t.$on("keydown",(function(){$(e[13])&&e[13].apply(this,arguments)})),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(r,o){e=r;const s={};64&o&&(s.maxlength=xo(e[6])),4&o&&(s.disabled=e[2]),!n&&1&o&&(n=!0,s.value=e[0],Oe((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function yF(e){let t,n,r;function o(t){e[8](t)}let s={isActive:e[1],disabled:e[2],searchValue:e[3],isIndependentOfSheet:e[4],showTruncationPopover:e[5],$$slots:{default:[hF,({handleInputBlur:e,handleInputKeydown:t})=>({12:e,13:t}),({handleInputBlur:e,handleInputKeydown:t})=>(e?4096:0)|(t?8192:0)]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.value=e[0]),t=new wA({props:s}),Ce.push((()=>st(t,"value",o))),t.$on("movementKeyDown",e[9]),t.$on("mouseenter",e[10]),t.$on("update",e[11]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.isActive=e[1]),4&r&&(o.disabled=e[2]),8&r&&(o.searchValue=e[3]),16&r&&(o.isIndependentOfSheet=e[4]),32&r&&(o.showTruncationPopover=e[5]),28741&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.value=e[0],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function bF(e,t,n){let{isActive:r}=t,{value:o}=t,{disabled:s}=t,{searchValue:a}=t,{isIndependentOfSheet:i}=t,{showTruncationPopover:l=!1}=t,{length:c}=t;return e.$$set=e=>{"isActive"in e&&n(1,r=e.isActive),"value"in e&&n(0,o=e.value),"disabled"in e&&n(2,s=e.disabled),"searchValue"in e&&n(3,a=e.searchValue),"isIndependentOfSheet"in e&&n(4,i=e.isIndependentOfSheet),"showTruncationPopover"in e&&n(5,l=e.showTruncationPopover),"length"in e&&n(6,c=e.length)},[o,r,s,a,i,l,c,function(e){o=e,n(0,o)},function(e){o=e,n(0,o)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)}]}class vF extends ut{constructor(e){super(),ct(this,e,bF,yF,f,{isActive:1,value:0,disabled:2,searchValue:3,isIndependentOfSheet:4,showTruncationPopover:5,length:6})}}const wF={initialInputValue:"",get:(e,t)=>{const n=e.type_options??{};return{component:t?.multiLine?gF:vF,props:n}},getInput:(e,t)=>({component:t?.multiLine?$F:ym,props:{maxlength:xo(e.type_options?.length)}}),getSimpleInput:e=>({component:ym,props:{maxlength:xo(e.type_options?.length)}}),getDisplayFormatter:()=>String};function _F(e,t){const n=EM(e,"time_format"),r=new aO({type:t?"timeWithTZ":"time",timeFormat:n}),o=new iO(r);return{type:"time",formattingString:r.getFormattingString(),formatter:o,timeEnableSeconds:r.hasSecondsInTime(),timeShow24Hr:r.isTime24Hr(),formatForDisplay:e=>_o(e)?o.parseAndFormat(e):e}}const xF={get:(e,t)=>({component:PA,props:_F(e,t?.supportTimeZone??!1)}),getInput:(e,t)=>({component:NA,props:{..._F(e,t?.supportTimeZone??!1),allowRelativePresets:!0}}),getDisplayFormatter(e,t){const n=t?.supportTimeZone??!1;return t=>_F(e,n).formatForDisplay(String(t))}};function CF(e){let t,n;const r=e[6].default,o=b(r,e,e[5],null);let s=[e[3]?e[2]:e[1]],a={};for(let i=0;i<s.length;i+=1)a=l(a,s[i]);return{c(){t=q("a"),o&&o.c(),Z(t,a),se(t,"link",e[0]&&e[3]),se(t,"external-uri",e[3]),te(t,"pointer-events",e[0]?"auto":"none",!1),se(t,"svelte-f9zrmr",!0)},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,[i]){o&&o.p&&(!n||32&i)&&_(o,r,e,e[5],n?w(r,e[5],i,null):x(e[5]),null),Z(t,a=rt(s,[14&i&&(e[3]?e[2]:e[1])])),se(t,"link",e[0]&&e[3]),se(t,"external-uri",e[3]),te(t,"pointer-events",e[0]?"auto":"none",!1),se(t,"svelte-f9zrmr",!0)},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function SF(e,t,n){let r,o,s,{$$slots:a={},$$scope:i}=t,{isActive:l=!1}=t,{value:c}=t;return e.$$set=e=>{"isActive"in e&&n(0,l=e.isActive),"value"in e&&n(4,c=e.value),"$$scope"in e&&n(5,i=e.$$scope)},e.$$.update=()=>{16&e.$$.dirty&&n(3,r=c?.toLowerCase().startsWith("http://")||c?.toLowerCase().startsWith("https://")),17&e.$$.dirty&&n(2,o=l&&c?{href:c,target:"_blank"}:{}),16&e.$$.dirty&&n(1,s=c?{href:null,target:"_blank"}:{})},[l,s,o,r,c,i,a]}class kF extends ut{constructor(e){super(),ct(this,e,SF,CF,f,{isActive:0,value:4})}}function MF(e){let t,n,r;function o(t){e[6](t)}let s={focusOnMount:!0,disabled:e[2]};return void 0!==e[0]&&(s.value=e[0]),t=new ym({props:s}),Ce.push((()=>st(t,"value",o))),t.$on("blur",(function(){$(e[11])&&e[11].apply(this,arguments)})),t.$on("keydown",(function(){$(e[12])&&e[12].apply(this,arguments)})),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(r,o){e=r;const s={};4&o&&(s.disabled=e[2]),!n&&1&o&&(n=!0,s.value=e[0],Oe((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function IF(e){let t;return{c(){t=j(e[0])},m(e,n){H(e,t,n)},p(e,n){1&n&&Q(t,e[0])},i:a,o:a,d(e){e&&z(t)}}}function TF(e){let t,n;return t=new Av({props:{matchParts:e[13]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8192&n&&(r.matchParts=e[13]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function EF(e){let t,n,r,o;const s=[TF,IF],a=[];function i(e,t){return e[13]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function DF(e){let t,n;return t=new kF({props:{value:e[0],isActive:e[1],$$slots:{default:[EF]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.value=e[0]),2&n&&(r.isActive=e[1]),24577&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function OF(e){let t,n,r;return n=new EE({props:{value:e[0],$$slots:{default:[DF]},$$scope:{ctx:e}}}),{c(){t=q("span"),at(n.$$.fragment),X(t,"slot","content")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};1&t&&(r.value=e[0]),24579&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function NF(e){let t,n,r;function o(t){e[7](t)}let s={isActive:e[1],disabled:e[2],searchValue:e[3],isIndependentOfSheet:e[4],showTruncationPopover:e[5],$$slots:{content:[OF,({matchParts:e,handleInputBlur:t,handleInputKeydown:n})=>({13:e,11:t,12:n}),({matchParts:e,handleInputBlur:t,handleInputKeydown:n})=>(e?8192:0)|(t?2048:0)|(n?4096:0)],default:[MF,({handleInputBlur:e,handleInputKeydown:t})=>({11:e,12:t}),({handleInputBlur:e,handleInputKeydown:t})=>(e?2048:0)|(t?4096:0)]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.value=e[0]),t=new wA({props:s}),Ce.push((()=>st(t,"value",o))),t.$on("movementKeyDown",e[8]),t.$on("mouseenter",e[9]),t.$on("update",e[10]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.isActive=e[1]),4&r&&(o.disabled=e[2]),8&r&&(o.searchValue=e[3]),16&r&&(o.isIndependentOfSheet=e[4]),32&r&&(o.showTruncationPopover=e[5]),30727&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.value=e[0],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function AF(e,t,n){let{isActive:r}=t,{value:o}=t,{disabled:s}=t,{searchValue:a}=t,{isIndependentOfSheet:i}=t,{showTruncationPopover:l=!1}=t;return e.$$set=e=>{"isActive"in e&&n(1,r=e.isActive),"value"in e&&n(0,o=e.value),"disabled"in e&&n(2,s=e.disabled),"searchValue"in e&&n(3,a=e.searchValue),"isIndependentOfSheet"in e&&n(4,i=e.isIndependentOfSheet),"showTruncationPopover"in e&&n(5,l=e.showTruncationPopover)},[o,r,s,a,i,l,function(e){o=e,n(0,o)},function(e){o=e,n(0,o)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)}]}class RF extends ut{constructor(e){super(),ct(this,e,AF,NF,f,{isActive:1,value:0,disabled:2,searchValue:3,isIndependentOfSheet:4,showTruncationPopover:5})}}const FF={string:wF,boolean:uA,number:oF,money:cF,uri:{initialInputValue:"",get:()=>({component:RF}),getInput:()=>({component:ym}),getDisplayFormatter:()=>String},duration:YA,date:HA,time:xF,datetime:VA,file:HR},PF={array:(LF=FF,{get:e=>({component:oD,props:{formatElementForDisplay:WN(LF,e)}}),getInput:()=>({component:ym}),getDisplayFormatter:e=>{const t=WN(LF,e);return e=>Array.isArray(e)?e.map(t).join(", "):t(e)}})};var LF;const HF={...FF,...PF};class zF{constructor({isLoading:t,settlement:n}){e(this,"settlement",void 0),e(this,"isLoading",void 0),this.isLoading=t,this.settlement=n}get isInitializing(){return this.isLoading&&void 0===this.settlement}get isReloading(){return this.isLoading&&void 0!==this.settlement}get isOk(){return!this.isLoading&&"resolved"===this.settlement?.state}get isStable(){return!this.isLoading&&"rejected"!==this.settlement?.state}get resolvedValue(){return"resolved"===this.settlement?.state?this.settlement.value:void 0}get error(){return"rejected"===this.settlement?.state?this.settlement.error:void 0}get isRejected(){return!this.isLoading&&"rejected"===this.settlement?.state}get hasSettled(){return void 0!==this.settlement}get isIdleAndUnsettled(){return!this.hasSettled&&!this.isLoading}}class VF{constructor(t,n){e(this,"runFn",void 0),e(this,"getError",void 0),e(this,"value",pt(new zF({isLoading:!1}))),e(this,"promise",void 0),this.runFn=t,this.getError=n?.getError??ck,bo(n,"initialValue")&&(this.value=pt(new zF({isLoading:!1,settlement:{state:"resolved",value:n.initialValue}})))}subscribe(e,t){return this.value.subscribe(e,t)}async run(e){this.beforeRun(),this.promise=this.runFn(e);try{return this.setResolvedValue(await this.promise),h(this.value)}catch(Ln){return this.setRejectedError(Ln),h(this.value)}}async runConservatively(e){const t=h(this.value);return t.isIdleAndUnsettled?this.run(e):t}cancel(){this.promise&&"cancel"in this.promise&&this.promise.cancel()}reset(){this.cancel(),this.value.set(new zF({isLoading:!1}))}updateResolvedValue(e){const t=h(this.value);if(t.isOk&&t.resolvedValue){const n=e(t.resolvedValue);this.setResolvedValue(n)}}getValueOnceResolved(){const e=h(this.value);return e.isLoading?new Promise((e=>{const t=this.subscribe((n=>{n.isLoading||(t(),e(n))}))})):Promise.resolve(e)}beforeRun(){this.cancel(),this.value.update((e=>new zF({...e,isLoading:!0})))}setResolvedValue(e){this.cancel(),this.value.set(new zF({isLoading:!1,settlement:{state:"resolved",value:e}}))}setRejectedError(e){this.cancel(),this.value.set(new zF({settlement:{state:"rejected",error:this.getError(e)},isLoading:!1}))}}class qF extends VF{constructor(t,n){const r=n?.postProcess??(e=>e),o={getError:e=>fM.fromAnything(e)};bo(n,"initialValue")&&(o.initialValue=n.initialValue);const s=n?.staticProps??void 0;super((e=>new ro(((n,o)=>{t(this.getProps(e)).run().then((e=>n(r(e))),(e=>o(e))).catch((e=>o(e)))}))),o),e(this,"apiRpcFn",void 0),e(this,"postProcess",void 0),e(this,"staticProps",void 0),this.apiRpcFn=t,this.postProcess=r,this.staticProps=s}getProps(e){return _o(this.staticProps)&&_o(e)?{...this.staticProps,...e}:_o(this.staticProps)?this.staticProps:e}batchRunner(e){return{send:this.apiRpcFn(this.getProps(e)),beforeRequest:()=>{this.beforeRun()},onResponse:e=>{"ok"===e.status?this.setResolvedValue(this.postProcess(e.value)):this.setRejectedError(e)},getValue:()=>h(this.value)}}static async runBatch(e){if(0===e.length)return;e.forEach((e=>e.beforeRequest()));const t=await wM(e.map((e=>e.send)));e.forEach(((e,n)=>e.onResponse(t[n])))}static async runBatchConservatively(e){const t=e.filter((e=>e.getValue().isIdleAndUnsettled));await qF.runBatch(t)}}class BF{get configuredRoleId(){return this._configuredRoleId}constructor(t){e(this,"id",void 0),e(this,"userId",void 0),e(this,"_configuredRoleId",void 0),e(this,"database",void 0),this.id=t.rawCollaborator.id,this.userId=t.rawCollaborator.user_id,this._configuredRoleId=pt(t.rawCollaborator.configured_role_id),this.database=t.database}setConfiguredRole(e){const t=PM.collaborators.set_role({collaborator_id:this.id,configured_role_id:e}).run();return new ro(((e,n)=>{t.then((t=>(this._configuredRoleId.set(t.configured_role_id),e(this))),n).catch(n)}),(()=>t.cancel()))}delete(){return PM.collaborators.delete({collaborator_id:this.id}).run()}}class jF{constructor(t){e(this,"id",void 0),e(this,"name",void 0),e(this,"database",void 0),this.id=t.rawConfiguredRole.id,this.name=t.rawConfiguredRole.name,this.database=t.database}setPassword(e){return PM.roles.configured.set_password({configured_role_id:this.id,password:e}).run()}delete(){return PM.roles.configured.delete({configured_role_id:this.id}).run()}}class UF{get members(){return this._members}constructor(t){var n;e(this,"oid",void 0),e(this,"name",void 0),e(this,"super",void 0),e(this,"inherits",void 0),e(this,"createRole",void 0),e(this,"createDb",void 0),e(this,"login",void 0),e(this,"description",void 0),e(this,"_members",void 0),e(this,"database",void 0),this.oid=t.rawRole.oid,this.name=t.rawRole.name,this.super=t.rawRole.super,this.inherits=t.rawRole.inherits,this.createRole=t.rawRole.create_role,this.createDb=t.rawRole.create_db,this.login=t.rawRole.login,this.description=t.rawRole.description,this._members=(n=t.rawRole.members,new lo((n??[]).map((e=>[e.oid,e])))),this.database=t.database}configure(e){const t=PM.roles.configured.add({server_id:this.database.server.id,name:this.name,password:e}).run();return new ro(((e,n)=>{t.then((t=>e(new jF({database:this.database,rawConfiguredRole:t}))),n).catch(n)}),(()=>t.cancel()))}setMembers(e){const t=PM.roles.set_members({database_id:this.database.id,parent_role_oid:this.oid,members:[...e]}).run();return new ro(((e,n)=>{t.then((t=>{const n=t.members??[];return this._members.reconstruct(n.map((e=>[e.oid,e]))),e(this)}),n).catch(n)}),(()=>t.cancel()))}delete(){return PM.roles.delete({database_id:this.database.id,role_oid:this.oid}).run()}}class WF{get ownerOid(){return this._ownerOid}get currentRolePrivileges(){return this._currentRolePrivileges}get currentRoleOwns(){return this._currentRoleOwns}constructor(t){e(this,"_ownerOid",void 0),e(this,"_currentRolePrivileges",void 0),e(this,"_currentRoleOwns",void 0),this._ownerOid=pt(t.owner_oid),this._currentRolePrivileges=pt(new Set(t.current_role_priv)),this._currentRoleOwns=pt(t.current_role_owns)}set(e){this._ownerOid.set(e.owner_oid),this._currentRolePrivileges.set(new Set(e.current_role_priv)),this._currentRoleOwns.set(e.current_role_owns)}}class YF{constructor(t){e(this,"oid",void 0),e(this,"currentAccess",void 0),e(this,"database",void 0),this.oid=t.rawUnderlyingDatabase.oid,this.currentAccess=new WF(t.rawUnderlyingDatabase),this.database=t.database}updateOwner(e){const t=PM.databases.privileges.transfer_ownership({database_id:this.database.id,new_owner_oid:e}).run();return new ro(((e,n)=>{t.then((t=>(this.currentAccess.set(t),e(this))),n).catch(n)}),(()=>t.cancel()))}}class KF{constructor(t){e(this,"id",void 0),e(this,"name",void 0),e(this,"nickname",void 0),e(this,"server",void 0),e(this,"needsUpgradeAttention",void 0),this.id=t.rawDatabase.id,this.name=t.rawDatabase.name,this.nickname=t.rawDatabase.nickname,this.server=t.server,this.needsUpgradeAttention=t.rawDatabase.needs_upgrade_attention}get displayName(){return this.nickname??this.name}get allNames(){return[this.name,...this.nickname?[this.nickname]:[]]}constructConfiguredRolesStore(){return new qF(PM.roles.configured.list,{staticProps:{server_id:this.server.id},postProcess:e=>new io((e=>[...e].sort((([,e],[,t])=>e.name.localeCompare(t.name)))),e.map((e=>[e.id,new jF({database:this,rawConfiguredRole:e})])))})}constructRolesStore(){return new qF(PM.roles.list,{staticProps:{database_id:this.id},postProcess:e=>new io((e=>[...e].sort((([,e],[,t])=>e.name.localeCompare(t.name)))),e.map((e=>[e.oid,new UF({database:this,rawRole:e})])))})}constructCollaboratorsStore(){return new qF(PM.collaborators.list,{staticProps:{database_id:this.id},postProcess:e=>new ao(e.map((e=>[e.id,new BF({database:this,rawCollaborator:e})])))})}constructDatabasePrivilegesStore(){return new qF(PM.databases.privileges.list_direct,{staticProps:{database_id:this.id},postProcess:e=>new ao(e.map((e=>[e.role_oid,e])))})}constructUnderlyingDatabaseStore(){return new qF(PM.databases.get,{staticProps:{database_id:this.id},postProcess:e=>new YF({database:this,rawUnderlyingDatabase:e})})}constructCurrentRoleStore(){return new qF(PM.roles.get_current_role,{staticProps:{database_id:this.id},postProcess:e=>({oid:e.current_role.oid,name:e.current_role.name,super:e.current_role.super,parentRoles:new Map(e.parent_roles.map((e=>[e.oid,{oid:e.oid,name:e.name}])))})})}addCollaborator(e,t){const n=PM.collaborators.add({database_id:this.id,user_id:e,configured_role_id:t}).run();return new ro(((e,t)=>{n.then((t=>e(new BF({database:this,rawCollaborator:t}))),t).catch(t)}),(()=>n.cancel()))}addRole(e,t,n){const r=PM.roles.add({database_id:this.id,rolename:e,login:t,password:n}).run();return new ro(((e,t)=>{r.then((t=>e(new UF({database:this,rawRole:t}))),t).catch(t)}),(()=>r.cancel()))}}class GF{constructor(t){e(this,"id",void 0),e(this,"host",void 0),e(this,"port",void 0),this.id=t.rawServer.id,this.host=t.rawServer.host,this.port=t.rawServer.port}getConnectionString(){return null==this.port?this.host:`${this.host}:${this.port}`}static dummy(e){return new GF({rawServer:{id:e,host:"unknown",port:0}})}}const XF=dx();function*ZF(e,t){const n=new Map(gc((e=>[e.id,new GF({rawServer:e})]),e));for(const r of t){const e=n.get(r.server_id)??GF.dummy(r.server_id),t=new KF({rawDatabase:r,server:e});yield[t.id,t]}}class JF{constructor(t,n){e(this,"unsortedDatabases",new lo),e(this,"databases",void 0),e(this,"currentDatabaseId",pt()),e(this,"currentDatabase",void 0),this.unsortedDatabases.reconstruct(t),this.databases=mt(this.unsortedDatabases,(e=>{return new ao((t=e.values(),[...t].sort(((e,t)=>e.name.localeCompare(t.name)))).map((e=>[e.id,e])));var t})),this.currentDatabaseId.set(n??void 0),this.currentDatabase=mt([this.databases,this.currentDatabaseId],(([e,t])=>Co(t,(t=>e.get(t)))))}addDatabase(e){this.unsortedDatabases.set(e.id,e)}async connectExistingDatabase(e){const{database:t,server:n}=await PM.databases.setup.connect_existing(e).run(),r=new KF({rawDatabase:t,server:new GF({rawServer:n})});return this.addDatabase(r),r}async createNewDatabase(e){const{database:t,server:n}=await PM.databases.setup.create_new(e).run(),r=new KF({rawDatabase:t,server:new GF({rawServer:n})});return this.addDatabase(r),r}async disconnectDatabase(e){await PM.databases.configured.disconnect({database_id:e.database.id,strict:!0,schemas_to_remove:e.schemas_to_remove,role_name:e.role?.name,password:e.role?.password,disconnect_db_server:e.disconnect_db_server}).run(),this.unsortedDatabases.delete(e.database.id)}async refresh(){const[e,t]=await _M([PM.servers.configured.list(),PM.databases.configured.list({})]),n=ZF(e,t);this.unsortedDatabases.reconstruct(n)}setCurrentDatabaseId(e){this.currentDatabaseId.set(e)}clearCurrentDatabaseId(){this.currentDatabaseId.set(void 0)}}const QF=(()=>{const e="anonymous"!==XF.routing_context,t=e?XF.servers:[],n=e?XF.databases:[],r=e?XF.current_database:null;return new JF(ZF(t,n),r)})();class eP{get token(){return this._token}get sharePreferences(){return this._sharePreferences}get structure(){return this._structure}constructor(t){e(this,"schema",void 0),e(this,"id",void 0),e(this,"baseTableOid",void 0),e(this,"_token",void 0),e(this,"_sharePreferences",void 0),e(this,"_structure",void 0),this.schema=t.schema,this.id=t.rawDataForm.id,this.baseTableOid=t.rawDataForm.base_table_oid,this._token=pt(t.rawDataForm.token),this._sharePreferences=pt({isPublishedPublicly:t.rawDataForm.publish_public}),this._structure=pt({name:t.rawDataForm.name,description:t.rawDataForm.description,associated_role_id:t.rawDataForm.associated_role_id,fields:t.rawDataForm.fields,submit_message:t.rawDataForm.submit_message,submit_redirect_url:t.rawDataForm.submit_redirect_url,submit_button_label:t.rawDataForm.submit_button_label})}updateStructure(e){const t=PM.forms.patch((n={...e,id:this.id},{update_form_def:{...n,version:1,header_title:{text:n.name},header_subtitle:n.description?{text:n.description}:null}})).run();var n;return new ro(((e,n)=>{t.then((t=>(this._structure.set({name:t.name,description:t.description,associated_role_id:t.associated_role_id,fields:t.fields,submit_message:t.submit_message,submit_redirect_url:t.submit_redirect_url,submit_button_label:t.submit_button_label}),e(this))),n).catch(n)}),(()=>t.cancel()))}updateNameAndDesc(e,t){const n=h(this.structure);return this.updateStructure({...n,name:e,description:t})}updateSharingPreferences(e){const t=PM.forms.set_publish_public({form_id:this.id,publish_public:e}).run();return new ro(((e,n)=>{t.then((t=>(this._sharePreferences.set({isPublishedPublicly:t}),e(this))),n).catch(n)}),(()=>t.cancel()))}regenerateToken(){const e=PM.forms.regenerate_token({form_id:this.id}).run();return new ro(((t,n)=>{e.then((e=>(this._token.set(e),t(this))),n).catch(n)}),(()=>e.cancel()))}delete(){return PM.forms.delete({form_id:this.id}).run()}toRawDataFormStore(){return mt([this.token,this.structure,this.sharePreferences],(([e,t,n])=>({id:this.id,token:e,version:1,database_id:this.schema.database.id,base_table_oid:this.baseTableOid,schema_oid:this.schema.oid,...t,publish_public:n.isPublishedPublicly})))}}class tP{get name(){return this._name}get description(){return this._description}get tableCount(){return this._tableCount}constructor(t){e(this,"oid",void 0),e(this,"_name",void 0),e(this,"_description",void 0),e(this,"_tableCount",void 0),e(this,"currentAccess",void 0),e(this,"isPublicSchema",void 0),e(this,"database",void 0),this.oid=t.rawSchema.oid,this._name=pt(t.rawSchema.name),this.isPublicSchema=mt(this._name,(e=>"public"===e)),this._description=pt(t.rawSchema.description),this._tableCount=pt(t.rawSchema.table_count),this.currentAccess=new WF(t.rawSchema),this.database=t.database}updateNameAndDescription(e){const t=PM.schemas.patch({database_id:this.database.id,schema_oid:this.oid,patch:e}).run();return new ro(((n,r)=>{t.then((()=>(this._name.set(e.name),this._description.set(e.description),n(this))),r).catch(r)}),(()=>t.cancel()))}updateOwner(e){const t=PM.schemas.privileges.transfer_ownership({database_id:this.database.id,schema_oid:this.oid,new_owner_oid:e}).run();return new ro(((e,n)=>{t.then((t=>(this.currentAccess.set(t),e(this))),n).catch(n)}),(()=>t.cancel()))}setTableCount(e){this._tableCount.set(e)}delete(){return PM.schemas.delete({database_id:this.database.id,schema_oids:[this.oid]}).run()}constructSchemaPrivilegesStore(){return new qF(PM.schemas.privileges.list_direct,{staticProps:{database_id:this.database.id,schema_oid:this.oid},postProcess:e=>new ao(e.map((e=>[e.role_oid,e])))})}constructDataFormsStore(){return new qF(PM.forms.list,{staticProps:{database_id:this.database.id,schema_oid:this.oid},postProcess:e=>new ao(e.map((e=>[e.id,new eP({schema:this,rawDataForm:e})])))})}addDataForm(e){const t=PM.forms.add(function(e){return{form_def:{...e,header_title:{text:e.name},header_subtitle:e.description?{text:e.description}:null}}}(e)).run();return new ro(((e,n)=>{t.then((t=>e(new eP({schema:this,rawDataForm:t}))),n).catch(n)}),(()=>t.cancel()))}}const nP=dx(),rP="anonymous"!==nP.routing_context,oP=pt((rP?nP.current_schema:null)??void 0);function sP(){return{requestStatus:{state:"success"},data:new Map}}const aP=pt(sP());let iP;function lP(e,t){const n=new Map;t.forEach((t=>{n.set(t.oid,new tP({database:e,rawSchema:t}))})),aP.set({databaseId:e.id,requestStatus:{state:"success"},data:n})}async function cP(){iP?.cancel();const e=h(QF.currentDatabase);if(e){aP.update((t=>t.databaseId===e.id?{...t,requestStatus:{state:"processing"}}:{databaseId:e.id,requestStatus:{state:"processing"},data:new Map}));try{iP=PM.schemas.list({database_id:e.id}).run();const t=await iP;lP(e,t)}catch(t){aP.update((n=>n.databaseId===e.id?{...n,requestStatus:{state:"failure",errors:[fM.fromAnything(t)]}}:{databaseId:e.id,requestStatus:{state:"failure",errors:[fM.fromAnything(t)]},data:new Map}))}}else aP.set(sP())}async function uP(e,t){const n=await PM.schemas.add({database_id:e.id,name:t.name,description:t.description}).run();!function(e,t){h(aP).databaseId===e.id&&aP.update((e=>(e.data?.set(t.oid,t),{...e,data:new Map(e.data)})))}(e,new tP({database:e,rawSchema:n}))}async function dP(e){await e.delete(),function(e,t){h(aP).databaseId===e.id&&aP.update((e=>(e.data?.delete(t.oid),{...e,data:new Map(e.data)})))}(e.database,e)}let $P=!0;const pP=Po(mt(QF.currentDatabase,(e=>{const t=h(aP);return t.databaseId!==e?.id?($P&&rP&&nP.current_database===e?.id?"success"===nP.schemas.state?lP(e,nP.schemas.data):aP.set({databaseId:e.id,requestStatus:{state:"failure",errors:[fM.fromAnything(nP.schemas.error)]},data:new Map}):cP(),$P=!1):"failure"===t.requestStatus.state&&cP(),aP})));const mP=Po(mt(pP,(e=>Lo([...e.data.values()].map((e=>e.name)))))),fP=mt([pP,mP],(([e])=>{const t=new Map((n=e.data.values(),[...n].sort(((e,t)=>h(e.name).localeCompare(h(t.name))))).map((e=>[e.oid,e])));var n;return{...e,data:t}})),gP=mt([oP,pP],(([e,t])=>e?t.data.get(e):void 0));function hP(e){return"invalid"===e.type}function yP(e){return{type:"invalid",errorMsg:e}}function bP(e,t){return n=>e(n)?{type:"valid"}:yP(t)}function vP(e,t){return n=>e(n)?yP(t):{type:"valid"}}function wP(e){return null!=e&&""!==e&&(!Array.isArray(e)||0!==e.length)}function _P(e,t=h(no)("value_already_exists")){return vP((t=>function(e,t){return Array.isArray(e)?e.includes(t):e.has(t)}(e,t)),t)}function xP(e,t){return bP((t=>!!t.match(e)),t)}const CP=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function SP(e=h(no)("email_address_invalid")){return bP((e=>!!e.toLowerCase().match(CP)),e)}function kP(e){return e.field.isRequired&&!wP(e.value)}function MP(e,t){return n=>{const r=e.map((e=>n.find((t=>t.field===e))??{field:e,value:h(e)}));if(r.map(kP).some((e=>e)))return{outcome:{type:"valid"},fields:e};const o=r.map((e=>e.value));return{outcome:t(o),fields:e}}}function IP(e,t,n){return MP(e,vP(t,n))}function TP(e){let t=e[0];for(const n of e){if(n!==t)return!1;t=n}return!0}function EP(e,t){return function(e,t,n){return MP(e,bP(t,n))}(e,TP,t)}function DP(e){let t,n,r;const o=[e[0]];let s={};for(let a=0;a<o.length;a+=1)s=l(s,o[a]);return n=new Jd({props:s}),{c(){t=q("span"),at(n.$$.fragment),X(t,"class","icon svelte-1gyacyo")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r=1&t?rt(o,[ot(e[0])]):{};n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function OP(e){let t,n;return{c(){t=q("h3"),n=j(e[3]),X(t,"class","title svelte-1gyacyo")},m(e,r){H(e,t,r),F(t,n)},p(e,t){8&t&&Q(n,e[3])},d(e){e&&z(t)}}}function NP(e){let t,n,r,o,s,a=e[0]&&DP(e),i=e[3]&&OP(e);const l=e[5].default,c=b(l,e,e[4],null);return{c(){t=q("div"),a&&a.c(),n=U(),r=q("div"),i&&i.c(),o=U(),c&&c.c(),X(r,"class","content trim-child-margins"),X(t,"class","message-box svelte-1gyacyo"),X(t,"style",e[1]),se(t,"has-icon",!!e[0]),se(t,"full-width",e[2])},m(e,l){H(e,t,l),a&&a.m(t,null),F(t,n),F(t,r),i&&i.m(r,null),F(r,o),c&&c.m(r,null),s=!0},p(e,[u]){e[0]?a?(a.p(e,u),1&u&&je(a,1)):(a=DP(e),a.c(),je(a,1),a.m(t,n)):a&&(qe(),Ue(a,1,1,(()=>{a=null})),Be()),e[3]?i?i.p(e,u):(i=OP(e),i.c(),i.m(r,o)):i&&(i.d(1),i=null),c&&c.p&&(!s||16&u)&&_(c,l,e,e[4],s?w(l,e[4],u,null):x(e[4]),null),(!s||2&u)&&X(t,"style",e[1]),(!s||1&u)&&se(t,"has-icon",!!e[0]),(!s||4&u)&&se(t,"full-width",e[2])},i(e){s||(je(a),je(c,e),s=!0)},o(e){Ue(a),Ue(c,e),s=!1},d(e){e&&z(t),a&&a.d(),i&&i.d(),c&&c.d(e)}}}function AP(e,t,n){let{$$slots:r={},$$scope:o}=t,{icon:s}=t,{style:a}=t,{fullWidth:i=!1}=t,{title:l}=t;return e.$$set=e=>{"icon"in e&&n(0,s=e.icon),"style"in e&&n(1,a=e.style),"fullWidth"in e&&n(2,i=e.fullWidth),"title"in e&&n(3,l=e.title),"$$scope"in e&&n(4,o=e.$$scope)},[s,a,i,l,o,r]}class RP extends ut{constructor(e){super(),ct(this,e,AP,NP,f,{icon:0,style:1,fullWidth:2,title:3})}}function FP(e){let t;const n=e[1].default,r=b(n,e,e[2],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||4&o)&&_(r,n,e,e[2],t?w(n,e[2],o,null):x(e[2]),null)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function PP(e){let t,n,r;const o=[{icon:Rd},e[0]];let s={$$slots:{default:[FP]},$$scope:{ctx:e}};for(let a=0;a<o.length;a+=1)s=l(s,o[a]);return n=new RP({props:s}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","error-box svelte-bp9kgs")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,[t]){const r=1&t?rt(o,[0&t&&{icon:Rd},1&t&&ot(e[0])]):{};4&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function LP(e,t,n){const r=[];let o=S(t,r),{$$slots:s={},$$scope:a}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(0,o=S(t,r)),"$$scope"in e&&n(2,a=e.$$scope)},[o,s,a]}class HP extends ut{constructor(e){super(),ct(this,e,LP,PP,f,{})}}function zP(e,t,n){const r=e.slice();return r[2]=t[n],r}function VP(e){let t,n=[],r=new Map,o=e[0];const s=e=>e[2];for(let a=0;a<o.length;a+=1){let t=zP(e,o,a),i=s(t);r.set(i,n[a]=BP(i,t))}return{c(){t=q("ul");for(let e=0;e<n.length;e+=1)n[e].c();X(t,"class","list svelte-h6g81w")},m(e,r){H(e,t,r);for(let o=0;o<n.length;o+=1)n[o].m(t,null)},p(e,a){1&a&&(o=e[0],n=nt(n,a,s,1,e,o,r,t,Qe,BP,null,zP))},d(e){e&&z(t);for(let t=0;t<n.length;t+=1)n[t].d()}}}function qP(e){let t,n,r=e[0][0]+"";return{c(){t=q("p"),n=j(r)},m(e,r){H(e,t,r),F(t,n)},p(e,t){1&t&&r!==(r=e[0][0]+"")&&Q(n,r)},d(e){e&&z(t)}}}function BP(e,t){let n,r,o=t[2]+"";return{key:e,first:null,c(){n=q("li"),r=j(o),this.first=n},m(e,t){H(e,n,t),F(n,r)},p(e,n){t=e,1&n&&o!==(o=t[2]+"")&&Q(r,o)},d(e){e&&z(n)}}}function jP(e){let t;function n(e,t){return 1===e[0].length?qP:VP}let r=n(e),o=r(e);return{c(){o.c(),t=W()},m(e,n){o.m(e,n),H(e,t,n)},p(e,[s]){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},i:a,o:a,d(e){o.d(e),e&&z(t)}}}function UP(e,t,n){let r,{errorStrings:o}=t;return e.$$set=e=>{"errorStrings"in e&&n(1,o=e.errorStrings)},e.$$.update=()=>{2&e.$$.dirty&&n(0,r=[...new Set(o)])},[r,o]}class WP extends ut{constructor(e){super(),ct(this,e,UP,jP,f,{errorStrings:1})}}function YP(e){let t,n;return t=new RO({props:{page:e[0],$$slots:{default:[KP]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.page=e[0]),24&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function KP(e){let t,n=e[3]+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8&r&&n!==(n=e[3]+"")&&Q(t,n)},d(e){e&&z(t)}}}function GP(e){let t,n,r="link"===e[2]&&YP(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"link"===e[2]?r?(r.p(e,n),4&n&&je(r,1)):(r=YP(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function XP(e){let t,n;return t=new Rx({props:{text:e[1]("see_docs_to_learn_more"),$$slots:{default:[GP,({slotName:e,translatedArg:t})=>({2:e,3:t}),({slotName:e,translatedArg:t})=>(e?4:0)|(t?8:0)]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.text=e[1]("see_docs_to_learn_more")),29&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function ZP(e,t,n){let r;y(e,no,(e=>n(1,r=e)));let{page:o}=t;return e.$$set=e=>{"page"in e&&n(0,o=e.page)},[o,r]}class JP extends ut{constructor(e){super(),ct(this,e,ZP,XP,f,{page:0})}}function QP(e){let t,n,r,o,s,a,i=e[0]("not_a_collaborator_help")+"";return s=new JP({props:{page:"collaborators"}}),{c(){t=q("p"),n=j(i),r=U(),o=q("p"),at(s.$$.fragment)},m(e,i){H(e,t,i),F(t,n),H(e,r,i),H(e,o,i),it(s,o,null),a=!0},p(e,[t]){(!a||1&t)&&i!==(i=e[0]("not_a_collaborator_help")+"")&&Q(n,i)},i(e){a||(je(s.$$.fragment,e),a=!0)},o(e){Ue(s.$$.fragment,e),a=!1},d(e){e&&z(t),e&&z(r),e&&z(o),lt(s)}}}function eL(e,t,n){let r;return y(e,no,(e=>n(0,r=e))),[r]}class tL extends ut{constructor(e){super(),ct(this,e,eL,QP,f,{})}}function nL(e){let t,n,r,o,s,i=e[1]("unable_to_connect_to_database")+"";return{c(){t=q("p"),n=j(i),r=U(),o=q("p"),s=j(e[0])},m(e,a){H(e,t,a),F(t,n),H(e,r,a),H(e,o,a),F(o,s)},p(e,[t]){2&t&&i!==(i=e[1]("unable_to_connect_to_database")+"")&&Q(n,i),1&t&&Q(s,e[0])},i:a,o:a,d(e){e&&z(t),e&&z(r),e&&z(o)}}}function rL(e,t,n){let r;y(e,no,(e=>n(1,r=e)));let{message:o}=t;return e.$$set=e=>{"message"in e&&n(0,o=e.message)},[o,r]}class oL extends ut{constructor(e){super(),ct(this,e,rL,nL,f,{message:0})}}class sL extends fM{static fromAnything(e){const t=super.fromAnything(e);return new sL(t)}}function aL(e){return"string"==typeof e?e:function({code:e,message:t}){switch(e){case-28030:return es(tL,{});case-30193:return es(oL,{message:t});default:return t}}(e)}function iL(e){if("string"==typeof e)return JSON.stringify({type:"string",error:e});const{code:t,message:n}=e;return JSON.stringify({type:"RpcError",code:t,message:n})}function lL(e,t,n){const r=e.slice();return r[6]=t[n],r}function cL(e){let t,n;return t=new op({props:{componentWithProps:e[6]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.componentWithProps=e[6]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function uL(e){let t,n;return t=new HP({props:{fullWidth:e[1],$$slots:{default:[cL]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.fullWidth=e[1]),520&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function dL(e){let t,n;return t=new HP({props:{fullWidth:e[1],$$slots:{default:[$L]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.fullWidth=e[1]),528&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function $L(e){let t,n;return t=new WP({props:{errorStrings:e[4]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.errorStrings=e[4]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function pL(e){let t,n;return t=new HP({props:{fullWidth:e[1],$$slots:{default:[mL]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.fullWidth=e[1]),544&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function mL(e){let t,n=e[5]("unknown_error")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){32&r&&n!==(n=e[5]("unknown_error")+"")&&Q(t,n)},d(e){e&&z(t)}}}function fL(e){let t,n,r,o,s=e[3],a=[];for(let u=0;u<s.length;u+=1)a[u]=uL(lL(e,s,u));const i=e=>Ue(a[e],1,1,(()=>{a[e]=null}));let l=e[4].length&&dL(e),c=!e[0].length&&e[2]&&pL(e);return{c(){t=q("div");for(let e=0;e<a.length;e+=1)a[e].c();n=U(),l&&l.c(),r=U(),c&&c.c(),X(t,"class","errors svelte-pv2mpf")},m(e,s){H(e,t,s);for(let n=0;n<a.length;n+=1)a[n].m(t,null);F(t,n),l&&l.m(t,null),F(t,r),c&&c.m(t,null),o=!0},p(e,[o]){if(10&o){let r;for(s=e[3],r=0;r<s.length;r+=1){const i=lL(e,s,r);a[r]?(a[r].p(i,o),je(a[r],1)):(a[r]=uL(i),a[r].c(),je(a[r],1),a[r].m(t,n))}for(qe(),r=s.length;r<a.length;r+=1)i(r);Be()}e[4].length?l?(l.p(e,o),16&o&&je(l,1)):(l=dL(e),l.c(),je(l,1),l.m(t,r)):l&&(qe(),Ue(l,1,1,(()=>{l=null})),Be()),!e[0].length&&e[2]?c?(c.p(e,o),5&o&&je(c,1)):(c=pL(e),c.c(),je(c,1),c.m(t,null)):c&&(qe(),Ue(c,1,1,(()=>{c=null})),Be())},i(e){if(!o){for(let e=0;e<s.length;e+=1)je(a[e]);je(l),je(c),o=!0}},o(e){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)Ue(a[t]);Ue(l),Ue(c),o=!1},d(e){e&&z(t),V(a,e),l&&l.d(),c&&c.d()}}}function gL(e,t,n){let r,o,s;y(e,no,(e=>n(5,s=e)));let{errors:a}=t,{fullWidth:i=!1}=t,{showFallbackError:l=!1}=t;return e.$$set=e=>{"errors"in e&&n(0,a=e.errors),"fullWidth"in e&&n(1,i=e.fullWidth),"showFallbackError"in e&&n(2,l=e.showFallbackError)},e.$$.update=()=>{1&e.$$.dirty&&n(4,({stringErrors:r,richErrors:o}=function(e){const t=[],n=[];for(const r of e){const e=aL(r);"string"==typeof e?t.push(e):n.push(e)}return{stringErrors:t,richErrors:n}}(function(e){return nc(iL,e)}(a))),r,(n(3,o),n(0,a)))},[a,i,l,o,r,s]}class hL extends ut{constructor(e){super(),ct(this,e,gL,fL,f,{errors:0,fullWidth:1,showFallbackError:2})}}function yL(e){let t,n,r;return n=new hL({props:{errors:e[4]}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","field-errors svelte-1upnxsj"),se(t,"has-margin",e[0])},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,o){const s={};16&o&&(s.errors=e[4]),n.$set(s),(!r||1&o)&&se(t,"has-margin",e[0])},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function bL(e){let t,n,r=e[3]&&yL(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,[n]){e[3]?r?(r.p(e,n),8&n&&je(r,1)):(r=yL(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function vL(e,t,n){let r,o,s,i,l=a,c=a;e.$$.on_destroy.push((()=>l())),e.$$.on_destroy.push((()=>c()));let{field:u}=t,{hasMargin:d=!0}=t;return e.$$set=e=>{"field"in e&&n(5,u=e.field),"hasMargin"in e&&n(0,d=e.hasMargin)},e.$$.update=()=>{32&e.$$.dirty&&(n(2,({errors:r,showsError:o}=u),r,(n(1,o),l(),l=g(o,(e=>n(3,s=e))),o)),c(),c=g(r,(e=>n(4,i=e))))},[d,o,r,s,i,u]}class wL extends ut{constructor(e){super(),ct(this,e,vL,bL,f,{field:5,hasMargin:0})}}function _L(e){let t,n;const r=e[1].default,o=b(r,e,e[0],null);return{c(){t=q("span"),o&&o.c(),X(t,"class","field-help svelte-414zql")},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&_(o,r,e,e[0],n?w(r,e[0],t,null):x(e[0]),null)},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function xL(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,r]}class CL extends ut{constructor(e){super(),ct(this,e,xL,_L,f,{})}}function SL(e){let t,n;const r=e[2].default,o=b(r,e,e[1],null);let s=[{class:"field"},e[0]],a={};for(let i=0;i<s.length;i+=1)a=l(a,s[i]);return{c(){t=q("span"),o&&o.c(),Z(t,a),se(t,"svelte-11cqsyc",!0)},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,[i]){o&&o.p&&(!n||2&i)&&_(o,r,e,e[1],n?w(r,e[1],i,null):x(e[1]),null),Z(t,a=rt(s,[{class:"field"},1&i&&e[0]])),se(t,"svelte-11cqsyc",!0)},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function kL(e,t,n){const r=[];let o=S(t,r),{$$slots:s={},$$scope:a}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(0,o=S(t,r)),"$$scope"in e&&n(1,a=e.$$scope)},[o,a,s]}class ML extends ut{constructor(e){super(),ct(this,e,kL,SL,f,{})}}const IL=e=>({}),TL=e=>({}),EL=e=>({}),DL=e=>({}),OL=e=>({}),NL=e=>({slot:"label"});function AL(e){let t,n,r,o;const s=[{hasError:e[10]},{disabled:e[11]},e[7]];function a(t){e[16](t)}var i=e[8];function c(e){let t={$$slots:{default:[FL]},$$scope:{ctx:e}};for(let n=0;n<s.length;n+=1)t=l(t,s[n]);return void 0!==e[9]&&(t.value=e[9]),{props:t}}return i&&(t=new i(c(e)),Ce.push((()=>st(t,"value",a)))),{c(){t&&at(t.$$.fragment),r=W()},m(e,n){t&&it(t,e,n),H(e,r,n),o=!0},p(e,o){const l=3200&o?rt(s,[1024&o&&{hasError:e[10]},2048&o&&{disabled:e[11]},128&o&&ot(e[7])]):{};if(131072&o&&(l.$$scope={dirty:o,ctx:e}),!n&&512&o&&(n=!0,l.value=e[9],Oe((()=>n=!1))),i!==(i=e[8])){if(t){qe();const e=t;Ue(e.$$.fragment,1,0,(()=>{lt(e,1)})),Be()}i?(t=new i(c(e)),Ce.push((()=>st(t,"value",a))),at(t.$$.fragment),je(t.$$.fragment,1),it(t,r.parentNode,r)):t=null}else i&&t.$set(l)},i(e){o||(t&&je(t.$$.fragment,e),o=!0)},o(e){t&&Ue(t.$$.fragment,e),o=!1},d(e){e&&z(r),t&&lt(t,e)}}}function RL(e){let t,n;return t=new J$({props:{layout:e[3],label:e[1],$$slots:{label:[zL],default:[HL]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.layout=e[3]),2&n&&(r.label=e[1]),139156&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function FL(e){let t;const n=e[14].default,r=b(n,e,e[17],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||131072&o)&&_(r,n,e,e[17],t?w(n,e[17],o,null):x(e[17]),null)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function PL(e){let t,n;return t=new CL({props:{$$slots:{default:[LL]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};131076&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function LL(e){let t;const n=e[14].help,r=b(n,e,e[17],DL),o=r||function(e){let t;return{c(){t=j(e[2])},m(e,n){H(e,t,n)},p(e,n){4&n&&Q(t,e[2])},d(e){e&&z(t)}}}(e);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,s){r?r.p&&(!t||131072&s)&&_(r,n,e,e[17],t?w(n,e[17],s,EL):x(e[17]),DL):o&&o.p&&(!t||4&s)&&o.p(e,t?s:-1)},i(e){t||(je(o,e),t=!0)},o(e){Ue(o,e),t=!1},d(e){o&&o.d(e)}}}function HL(e){let t,n,r,o,s;const a=[{hasError:e[10]},{disabled:e[11]},e[7]];function i(t){e[15](t)}var c=e[8];function u(e){let t={};for(let n=0;n<a.length;n+=1)t=l(t,a[n]);return void 0!==e[9]&&(t.value=e[9]),{props:t}}c&&(t=new c(u(e)),Ce.push((()=>st(t,"value",i))));let d=!e[4]&&(e[2]||e[12].help)&&PL(e);return{c(){t&&at(t.$$.fragment),r=U(),d&&d.c(),o=W()},m(e,n){t&&it(t,e,n),H(e,r,n),d&&d.m(e,n),H(e,o,n),s=!0},p(e,s){const l=3200&s?rt(a,[1024&s&&{hasError:e[10]},2048&s&&{disabled:e[11]},128&s&&ot(e[7])]):{};if(!n&&512&s&&(n=!0,l.value=e[9],Oe((()=>n=!1))),c!==(c=e[8])){if(t){qe();const e=t;Ue(e.$$.fragment,1,0,(()=>{lt(e,1)})),Be()}c?(t=new c(u(e)),Ce.push((()=>st(t,"value",i))),at(t.$$.fragment),je(t.$$.fragment,1),it(t,r.parentNode,r)):t=null}else c&&t.$set(l);e[4]||!e[2]&&!e[12].help?d&&(qe(),Ue(d,1,1,(()=>{d=null})),Be()):d?(d.p(e,s),4116&s&&je(d,1)):(d=PL(e),d.c(),je(d,1),d.m(o.parentNode,o))},i(e){s||(t&&je(t.$$.fragment,e),je(d),s=!0)},o(e){t&&Ue(t.$$.fragment,e),Ue(d),s=!1},d(e){t&&lt(t,e),e&&z(r),d&&d.d(e),e&&z(o)}}}function zL(e){let t;const n=e[14].label,r=b(n,e,e[17],NL);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||131072&o)&&_(r,n,e,e[17],t?w(n,e[17],o,OL):x(e[17]),NL)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function VL(e){let t,n;return t=new CL({props:{$$slots:{default:[qL]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};131076&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function qL(e){let t;const n=e[14].help,r=b(n,e,e[17],TL),o=r||function(e){let t;return{c(){t=j(e[2])},m(e,n){H(e,t,n)},p(e,n){4&n&&Q(t,e[2])},d(e){e&&z(t)}}}(e);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,s){r?r.p&&(!t||131072&s)&&_(r,n,e,e[17],t?w(n,e[17],s,IL):x(e[17]),TL):o&&o.p&&(!t||4&s)&&o.p(e,t?s:-1)},i(e){t||(je(o,e),t=!0)},o(e){Ue(o,e),t=!1},d(e){o&&o.d(e)}}}function BL(e){let t,n,r,o,s,a;const i=[RL,AL],l=[];function c(e,t){return e[1]||e[12].label?0:1}t=c(e),n=l[t]=i[t](e);let u=e[4]&&(e[2]||e[12].help)&&VL(e);return s=new wL({props:{field:e[0]}}),{c(){n.c(),r=U(),u&&u.c(),o=U(),at(s.$$.fragment)},m(e,n){l[t].m(e,n),H(e,r,n),u&&u.m(e,n),H(e,o,n),it(s,e,n),a=!0},p(e,a){let d=t;t=c(e),t===d?l[t].p(e,a):(qe(),Ue(l[d],1,1,(()=>{l[d]=null})),Be(),n=l[t],n?n.p(e,a):(n=l[t]=i[t](e),n.c()),je(n,1),n.m(r.parentNode,r)),e[4]&&(e[2]||e[12].help)?u?(u.p(e,a),4116&a&&je(u,1)):(u=VL(e),u.c(),je(u,1),u.m(o.parentNode,o)):u&&(qe(),Ue(u,1,1,(()=>{u=null})),Be());const $={};1&a&&($.field=e[0]),s.$set($)},i(e){a||(je(n),je(u),je(s.$$.fragment,e),a=!0)},o(e){Ue(n),Ue(u),Ue(s.$$.fragment,e),a=!1},d(e){l[t].d(e),e&&z(r),u&&u.d(e),e&&z(o),lt(s,e)}}}function jL(e){let t,n;return t=new ML({props:{$$slots:{default:[BL]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};139167&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function UL(e,t,n){let r,o,s,i,l,c,u,d,$=a,p=()=>($(),$=g(v,(e=>n(9,c=e))),v),m=a,f=a;e.$$.on_destroy.push((()=>$())),e.$$.on_destroy.push((()=>m())),e.$$.on_destroy.push((()=>f()));let{$$slots:h={},$$scope:y}=t;const b=k(h);let{field:v}=t;p();let{input:w}=t,{label:_}=t,{help:x}=t,{layout:C}=t;return e.$$set=e=>{"field"in e&&p(n(0,v=e.field)),"input"in e&&n(13,w=e.input),"label"in e&&n(1,_=e.label),"help"in e&&n(2,x=e.help),"layout"in e&&n(3,C=e.layout),"$$scope"in e&&n(17,y=e.$$scope)},e.$$.update=()=>{8192&e.$$.dirty&&n(8,r=w?.component??ym),8192&e.$$.dirty&&n(7,o=w?.props??{}),1&e.$$.dirty&&(n(6,({showsError:s,disabled:i}=v),s,(n(5,i),f(),f=g(i,(e=>n(11,d=e))),i)),m(),m=g(s,(e=>n(10,u=e)))),8&e.$$.dirty&&n(4,l="stacked"===C)},[v,_,x,C,l,i,s,o,r,c,u,d,b,w,h,function(e){c=e,v.set(c)},function(e){c=e,v.set(c)},y]}class WL extends ut{constructor(e){super(),ct(this,e,UL,jL,f,{field:0,input:13,label:1,help:2,layout:3})}}const YL=e=>({errors:32&e}),KL=e=>({errors:e[5]});function GL(e){let t,n;const r=[{onProceed:e[9]},{canProceed:e[1]&&e[6]},{onCancel:e[3]},e[10]];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new m$({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=1610&n?rt(r,[512&n&&{onProceed:e[9]},66&n&&{canProceed:e[1]&&e[6]},8&n&&{onCancel:e[3]},1024&n&&ot(e[10])]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function XL(e){let t,n;const r=e[16].errors,o=b(r,e,e[15],KL),s=o||function(e){let t,n;return t=new hL({props:{errors:e[5]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.errors=e[5]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}(e);return{c(){t=q("div"),s&&s.c(),X(t,"class","errors svelte-eylvex")},m(e,r){H(e,t,r),s&&s.m(t,null),n=!0},p(e,t){o?o.p&&(!n||32800&t)&&_(o,r,e,e[15],n?w(r,e[15],t,YL):x(e[15]),KL):s&&s.p&&(!n||32&t)&&s.p(e,n?t:-1)},i(e){n||(je(s,e),n=!0)},o(e){Ue(s,e),n=!1},d(e){e&&z(t),s&&s.d(e)}}}function ZL(e){let t,n,r,o=(!e[2]||e[7])&&GL(e),s=e[4]&&e[5].length>0&&XL(e);return{c(){t=q("div"),o&&o.c(),n=U(),s&&s.c(),X(t,"class","form-submit svelte-eylvex")},m(e,a){H(e,t,a),o&&o.m(t,null),F(t,n),s&&s.m(t,null),r=!0},p(e,[r]){!e[2]||e[7]?o?(o.p(e,r),132&r&&je(o,1)):(o=GL(e),o.c(),je(o,1),o.m(t,n)):o&&(qe(),Ue(o,1,1,(()=>{o=null})),Be()),e[4]&&e[5].length>0?s?(s.p(e,r),48&r&&je(s,1)):(s=XL(e),s.c(),je(s,1),s.m(t,null)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be())},i(e){r||(je(o),je(s),r=!0)},o(e){Ue(o),Ue(s),r=!1},d(e){e&&z(t),o&&o.d(),s&&s.d()}}}function JL(e,t,n){let r,o,s,i;const c=["form","canProceed","initiallyHidden","onProceed","onCancel","getErrorMessages","catchErrors"];let u,d,$=S(t,c),p=a,m=()=>(p(),p=g(b,(e=>n(13,u=e))),b),f=a;e.$$.on_destroy.push((()=>p())),e.$$.on_destroy.push((()=>f()));let{$$slots:h={},$$scope:y}=t,{form:b}=t;m();let{canProceed:v=!0}=t,{initiallyHidden:w=!1}=t,{onProceed:_=(()=>{})}=t,{onCancel:x=(()=>b.reset())}=t,{getErrorMessages:k=(e=>[ck(e)])}=t,{catchErrors:M=!1}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(10,$=S(t,c)),"form"in e&&m(n(0,b=e.form)),"canProceed"in e&&n(1,v=e.canProceed),"initiallyHidden"in e&&n(2,w=e.initiallyHidden),"onProceed"in e&&n(11,_=e.onProceed),"onCancel"in e&&n(3,x=e.onCancel),"getErrorMessages"in e&&n(12,k=e.getErrorMessages),"catchErrors"in e&&n(4,M=e.catchErrors),"$$scope"in e&&n(15,y=e.$$scope)},e.$$.update=()=>{1&e.$$.dirty&&(n(8,({requestStatus:r}=b),r),f(),f=g(r,(e=>n(14,d=e)))),8192&e.$$.dirty&&n(7,({hasChanges:o,canSubmit:s}=u),o,(n(6,s),n(13,u))),16384&e.$$.dirty&&n(5,i="failure"===d?.state?d.errors:[])},[b,v,w,x,M,i,s,o,r,async function(){b.clearServerErrors(),b.requestStatus.set({state:"processing"});const e=u.values;if(!M)return await _(e),void b.requestStatus.set(void 0);try{await _(e),b.requestStatus.set({state:"success"})}catch(t){b.requestStatus.set({state:"failure",errors:k(t)})}},$,_,k,u,d,y,h]}class QL extends ut{constructor(e){super(),ct(this,e,JL,ZL,f,{form:0,canProceed:1,initiallyHidden:2,onProceed:11,onCancel:3,getErrorMessages:12,catchErrors:4})}}const eH=Symbol("comboErrors"),tH=Symbol("disabled");function nH(e){const t=pt(e.initialValue),n=pt([]),r=mt(t,(t=>t!==e.initialValue)),o=mt(t,(t=>(n.set([]),function({value:e,isRequired:t,validators:n}){if(!wP(e))return t?[h(no)("value_cannot_be_empty")]:[];if(!n)return[];const r=e;return n.map((e=>e(r))).filter(hP).map((({errorMsg:e})=>e))}({...e,value:t})))),s=pt([]),a=pt(!1),i=mt(s,(e=>e)),l=mt([o,i,n],(e=>e.flat())),c=mt(l,(e=>0===e.length)),u=mt([o,i],(e=>0===e.flat().length)),d=mt([r,o,i,n],(([e,t,n,r])=>!(!n.length&&!r.length)||!!e&&t.length>0));return{isRequired:e.isRequired,initialValue:e.initialValue,hasChanges:r,fieldErrors:o,[eH]:s,[tH]:a,disabled:a,comboErrors:i,serverErrors:n,errors:l,isValid:c,canSubmit:u,showsError:d,subscribe:(e,n)=>t.subscribe(e,n),set(e){t.set(e)},update(e){t.update(e)},reset(){t.set(e.initialValue)}}}function rH(e,t=[]){return nH({initialValue:e,validators:t,isRequired:!1})}function oH(e,t=[]){return nH({initialValue:e,validators:t,isRequired:!0})}function sH(e,t){const n=new Map;t.forEach((t=>{const{outcome:r,fields:o}=t(e);o.forEach((e=>{const t=n.get(e)??[],o=function(e){return"valid"===e.type}(r)?[]:[r.errorMsg];n.set(e,[...t,...o])}))}));for(const[r,o]of n){const e=h(r[eH]);JSON.stringify(e)!==JSON.stringify(o)&&r[eH].set(o)}}function aH(e,t=[]){const n=Lo(Object.entries(e).map((([e,t])=>mt(t,(n=>({name:e,field:t,value:n})))))),r=mt(n,(e=>(sH(e,t),Object.fromEntries(e.map((({name:e,value:t})=>[e,t])))))),o=pt(void 0),s=mt(o,(e=>"processing"===e?.state)),a=mt(Lo(Object.values(e).map((e=>e.isValid))),(e=>e.every((e=>e)))),i=mt(Lo(Object.values(e).map((e=>e.canSubmit))),(e=>e.every((e=>e)))),l=mt(Lo(Object.values(e).map((e=>e.hasChanges))),(e=>e.some((e=>e))));function c(){o.update((e=>"failure"===e?.state?void 0:e)),Object.values(e).forEach((e=>{e.serverErrors.set([])}))}const u=function(e,t){let n=0,r=[];return{...e,subscribe:function(o){const s=e.subscribe(o);return n+=1,1===n&&(r=t.map((e=>e()))),()=>{s(),n-=1,0===n&&(r.forEach((e=>e())),r=[])}}}}(mt([r,a,i,l],(([e,t,n,r])=>({values:e,isValid:t,canSubmit:n,hasChanges:r}))),[()=>o.subscribe((t=>{Object.values(e).forEach((e=>{e[tH].set("processing"===t?.state)}))}))]);return{...u,fields:e,reset:function(){c(),Object.values(e).forEach((e=>{e.reset()}))},clearServerErrors:c,requestStatus:o,isSubmitting:s}}class iH{constructor(t){e(this,"oid",void 0),e(this,"name",void 0),e(this,"description",void 0),e(this,"metadata",void 0),e(this,"schema",void 0),e(this,"currentAccess",void 0),this.oid=t.rawTableWithMetadata.oid,this.name=t.rawTableWithMetadata.name,this.description=t.rawTableWithMetadata.description,this.metadata=t.rawTableWithMetadata.metadata,this.currentAccess=new WF(t.rawTableWithMetadata),this.schema=t.schema}updateOwner(e){const t=PM.tables.privileges.transfer_ownership({database_id:this.schema.database.id,table_oid:this.oid,new_owner_oid:e}).run();return new ro(((e,n)=>{t.then((t=>(this.currentAccess.set(t),e(this))),n).catch(n)}),(()=>t.cancel()))}constructTablePrivilegesStore(){return new qF(PM.tables.privileges.list_direct,{postProcess:e=>new ao(e.map((e=>[e.role_oid,e])))})}}const lH=dx(),cH="anonymous"!==lH.routing_context;function uH(){return{tablesMap:new Map,requestStatus:{state:"success"}}}const dH=pt(uH());function $H(e){return[...e].sort(((e,t)=>e.name.localeCompare(t.name)))}function pH(e,t){const n=t.map((t=>new iH({schema:e,rawTableWithMetadata:t}))),r=new Map;$H(n).forEach((e=>r.set(e.oid,e))),dH.set({databaseId:e.database.id,schemaOid:e.oid,tablesMap:r,requestStatus:{state:"success"}})}let mH;async function fH(){mH?.cancel();const e=h(gP);if(e)try{dH.update((t=>t.databaseId===e.database.id&&t.schemaOid===e.oid?{...t,requestStatus:{state:"processing"}}:{databaseId:e.database.id,schemaOid:e.oid,tablesMap:new Map,requestStatus:{state:"processing"}})),mH=PM.tables.list_with_metadata({database_id:e.database.id,schema_oid:e.oid}).run();const t=await mH;pH(e,t)}catch(t){dH.update((n=>n.databaseId===e.database.id&&n.schemaOid===e.oid?{...n,requestStatus:{state:"failure",errors:[ck(t)]}}:{databaseId:e.database.id,schemaOid:e.oid,tablesMap:new Map,requestStatus:{state:"failure",errors:[ck(t)]}}))}else dH.set(uH())}function gH(e,t){const n=PM.tables.delete({database_id:e.database.id,table_oid:t}).run();return new ro(((r,o)=>{n.then((()=>{e.setTableCount(h(e.tableCount)-1);const n=h(dH);return n.databaseId===e.database.id&&n.schemaOid===e.oid&&dH.update((e=>(e.tablesMap.delete(t),{...e,tablesMap:new Map(e.tablesMap)}))),r()}),o)}),(()=>{n.cancel()}))}function hH({schema:e,rawTableWithMetadata:t}){const n=new iH({schema:e,rawTableWithMetadata:t}),r=h(dH);return r.databaseId===e.database.id&&r.schemaOid===e.oid&&(dH.update((e=>{e.tablesMap.set(n.oid,n);const t=new Map($H(e.tablesMap.values()).map((e=>[e.oid,e])));return{...e,tablesMap:t}})),e.setTableCount(h(dH).tablesMap.size)),n}async function yH({schema:e,table:t,columnPatchSpecs:n,columnsToDelete:r}){const o=[];(t.name||t.description)&&o.push(PM.tables.patch({database_id:e.database.id,table_oid:t.oid,table_data_dict:{name:t.name,description:t.description}})),n&&o.push(PM.columns.patch({database_id:e.database.id,table_oid:t.oid,column_data_list:n})),t.metadata&&o.push(PM.tables.metadata.set({database_id:e.database.id,table_oid:t.oid,metadata:t.metadata})),r?.length&&o.push(PM.columns.delete({database_id:e.database.id,table_oid:t.oid,column_attnums:r})),await wM(o);return hH({schema:e,rawTableWithMetadata:await PM.tables.get_with_metadata({database_id:e.database.id,table_oid:t.oid}).run()})}async function bH(e){const{schema:t}=e,n=await PM.tables.import({database_id:t.database.id,schema_oid:t.oid,table_name:e.name,data_file_id:e.dataFile.id}).run();t.setTableCount(h(t.tableCount)+1);return{table:await yH({schema:t,table:{oid:n.oid,metadata:{import_verified:!1,data_file_id:e.dataFile.id}}}),renamedColumns:n.renamed_columns}}function vH({schema:e,tableOid:t,clearCache:n=!1}){const r=h(dH);if(r.databaseId===e.database.id&&r.schemaOid===e.oid&&!n){const e=r.tablesMap.get(t);if(e)return new ro((t=>{t(e)}))}const o=PM.tables.get_with_metadata({database_id:e.database.id,table_oid:t}).run();return new ro(((t,n)=>{o.then((n=>{const r=hH({schema:e,rawTableWithMetadata:n});return t(r)}),n)}),(()=>{o.cancel()}))}let wH=!0;const _H=Po(mt(gP,(e=>{const t=h(dH);return t.databaseId!==e?.database.id||t.schemaOid!==e?.oid?(wH&&cH&&lH.current_schema===e?.oid&&lH.current_database===e?.database.id?"success"===lH.tables.state?pH(e,lH.tables.data):dH.set({databaseId:e.database.id,schemaOid:e.oid,tablesMap:new Map,requestStatus:{state:"failure",errors:[ck(lH.tables.error)]}}):fH(),wH=!1):"failure"===t.requestStatus.state&&fH(),dH}))),xH=mt(_H,(e=>e.tablesMap)),CH=mt(_H,(e=>$H(e.tablesMap.values()))),SH=mt(_H,(e=>new Map([...e.tablesMap.values()].filter((e=>!vI(e))).map((e=>[e.oid,e]))))),kH=mt(_H,(e=>{const t=new Set([...e.tablesMap.values()].map((e=>e.name)));return vP((e=>t.has(e)),"A table with that name already exists.")})),MH=pt(void 0),IH=mt([MH,_H],(([e,t])=>void 0===e?void 0:t.tablesMap.get(e)));function TH(e){const t=mt(dH,(t=>new Set(ac(t.tablesMap.values(),ic((t=>t.oid!==e.oid)),gc((e=>e.name))))));return mt([t,no],(([e,t])=>function(n){return n.trim()?e.has(n)?[t("table_with_name_already_exists")]:[]:[t("table_name_cannot_be_empty")]}))}const EH=mt([QF.currentDatabase,gP,IH],(([e,t,n])=>function({databaseId:r,schemaId:o,tableId:s,recordId:a}){const i=r??e?.id,l=o??t?.oid,c=s??n?.oid,u=a??void 0;if(void 0!==i&&void 0!==l&&void 0!==c&&void 0!==u)return aI(i,l,c,u)})),DH=mt([QF.currentDatabase,gP,IH],(([e,t,n])=>function({databaseId:r,schemaId:o,tableId:s}){const a=r??e?.id,i=o??t?.oid,l=s??n?.oid;if(void 0!==a&&void 0!==i&&void 0!==l)return sI(a,i,l)}));class OH{constructor({table:t,recordPk:n}){e(this,"tableStructure",void 0),e(this,"fetchRequest",pt(void 0)),e(this,"fieldValues",new lo),e(this,"recordSummaries",new KI),e(this,"fileManifests",new KI),e(this,"summary",void 0),e(this,"table",void 0),e(this,"recordPk",void 0),e(this,"recordPageUrl",void 0);const{schema:r}=t;this.tableStructure=new Oz({schema:r,oid:t.oid}),this.table=t,this.recordPk=n,this.summary=pt(""),this.recordPageUrl=aI(t.schema.database.id,t.schema.oid,t.oid,n),this.fetch()}updateSelfWithApiResponseData(e){const t=e.results[0];this.fieldValues.reconstruct(Object.entries(t).map((([e,t])=>[parseInt(e,10),t]))),this.summary.set(e.record_summaries?.[this.recordPk]??""),e.linked_record_summaries&&this.recordSummaries.setFetchedValuesFromPrimitive(e.linked_record_summaries),e.download_links&&this.fileManifests.setFetchedValuesFromPrimitive(e.download_links)}async fetch(){this.fetchRequest.set({state:"processing"});const e=this.table.schema.database.id;try{const t=await PM.records.get({database_id:e,table_oid:this.table.oid,record_id:this.recordPk,return_record_summaries:!0}).run();this.updateSelfWithApiResponseData(t),this.fetchRequest.set({state:"success"})}catch(Ln){this.fetchRequest.set({state:"failure",errors:[ck(Ln)]})}}async patch(e){const t=this.table.schema.database.id,n=await PM.records.patch({database_id:t,table_oid:this.table.oid,record_id:this.recordPk,record_def:e,return_record_summaries:!0}).run();this.updateSelfWithApiResponseData(n)}}const NH=ss();function AH(e){let t,n,r,o;const s=e[7].default,a=b(s,e,e[6],null);let i=[{href:e[0]},{class:"record-hyperlink"},e[2]],c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return{c(){t=q("a"),a&&a.c(),Z(t,c),se(t,"svelte-m0zxm5",!0)},m(s,i){H(s,t,i),a&&a.m(t,null),n=!0,r||(o=[Y(t,"contextmenu",e[8]),Y(t,"click",e[1])],r=!0)},p(e,[r]){a&&a.p&&(!n||64&r)&&_(a,s,e,e[6],n?w(s,e[6],r,null):x(e[6]),null),Z(t,c=rt(i,[(!n||1&r)&&{href:e[0]},{class:"record-hyperlink"},4&r&&e[2]])),se(t,"svelte-m0zxm5",!0)},i(e){n||(je(a,e),n=!0)},o(e){Ue(a,e),n=!1},d(e){e&&z(t),a&&a.d(e),r=!1,d(o)}}}function RH(e,t,n){let r;const o=["tableId","recordId"];let s,a,i=S(t,o);y(e,xH,(e=>n(9,s=e))),y(e,EH,(e=>n(5,a=e)));let{$$slots:c={},$$scope:u}=t;const d=NH.get();let{tableId:$}=t,{recordId:p}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(2,i=S(t,o)),"tableId"in e&&n(3,$=e.tableId),"recordId"in e&&n(4,p=e.recordId),"$$scope"in e&&n(6,u=e.$$scope)},e.$$.update=()=>{56&e.$$.dirty&&n(0,r=a({tableId:$,recordId:p}))},[r,function(e){if(!d)return;if(void 0===p)return;const t=s.get($);if(!t)return;e.preventDefault(),e.stopPropagation();const n=new OH({table:t,recordPk:String(p)});d.open(n)},i,$,p,a,u,c,function(t){_e.call(this,e,t)}]}class FH extends ut{constructor(e){super(),ct(this,e,RH,AH,f,{tableId:3,recordId:4})}}function PH(e){let t,n;return{c(){t=q("span"),n=j(e[7]),X(t,"class","record-summary svelte-96vaq4")},m(e,r){H(e,t,r),F(t,n)},p(e,t){128&t&&Q(n,e[7])},i:a,o:a,d(e){e&&z(t)}}}function LH(e){let t,n,r;return n=new FH({props:{tableId:e[0],recordId:e[1],tabindex:"-1",$$slots:{default:[HH]},$$scope:{ctx:e}}}),{c(){t=q("span"),at(n.$$.fragment),X(t,"class","record-summary record-page-link svelte-96vaq4")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};1&t&&(r.tableId=e[0]),2&t&&(r.recordId=e[1]),32896&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function HH(e){let t;return{c(){t=j(e[7])},m(e,n){H(e,t,n)},p(e,n){128&n&&Q(t,e[7])},d(e){e&&z(t)}}}function zH(e){let t,n,r,o,s,a,i;const c=[Gx];let u={};for(let d=0;d<c.length;d+=1)u=l(u,c[d]);return n=new Jd({props:u}),{c(){t=q("span"),at(n.$$.fragment),X(t,"class","delete-button svelte-96vaq4"),X(t,"role","button"),X(t,"tabindex","-1"),X(t,"aria-label",r=e[8]("clear_value")),X(t,"title",o=e[8]("clear_value"))},m(r,o){H(r,t,o),it(n,t,null),s=!0,a||(i=[Y(t,"click",G(e[9])),Y(t,"mouseenter",e[12]),Y(t,"mouseleave",e[13])],a=!0)},p(e,a){const i=0&a?rt(c,[ot(Gx)]):{};n.$set(i),(!s||256&a&&r!==(r=e[8]("clear_value")))&&X(t,"aria-label",r),(!s||256&a&&o!==(o=e[8]("clear_value")))&&X(t,"title",o)},i(e){s||(je(n.$$.fragment,e),s=!0)},o(e){Ue(n.$$.fragment,e),s=!1},d(e){e&&z(t),lt(n),a=!1,d(i)}}}function VH(e){let t,n,r,o,s,a,i,l,c;const u=[LH,PH],d=[];function $(e,t){return e[5]&&e[0]?0:1}n=$(e),r=d[n]=u[n](e);let p=e[2]&&zH(e);return{c(){t=q("span"),r.c(),o=U(),p&&p.c(),s=U(),a=q("span"),X(a,"class","background svelte-96vaq4"),X(t,"class","linked-record svelte-96vaq4"),se(t,"is-hovering-delete",e[6]),se(t,"exact-match","exactMatch"===e[3]),se(t,"no-match","noMatch"===e[3]),se(t,"disabled",e[4])},m(r,u){H(r,t,u),d[n].m(t,null),F(t,o),p&&p.m(t,null),F(t,s),F(t,a),i=!0,l||(c=Y(t,"click",e[11]),l=!0)},p(e,[a]){let l=n;n=$(e),n===l?d[n].p(e,a):(qe(),Ue(d[l],1,1,(()=>{d[l]=null})),Be(),r=d[n],r?r.p(e,a):(r=d[n]=u[n](e),r.c()),je(r,1),r.m(t,o)),e[2]?p?(p.p(e,a),4&a&&je(p,1)):(p=zH(e),p.c(),je(p,1),p.m(t,s)):p&&(qe(),Ue(p,1,1,(()=>{p=null})),Be()),(!i||64&a)&&se(t,"is-hovering-delete",e[6]),(!i||8&a)&&se(t,"exact-match","exactMatch"===e[3]),(!i||8&a)&&se(t,"no-match","noMatch"===e[3]),(!i||16&a)&&se(t,"disabled",e[4])},i(e){i||(je(r),je(p),i=!0)},o(e){Ue(r),Ue(p),i=!1},d(e){e&&z(t),d[n].d(),p&&p.d(),l=!1,c()}}}function qH(e,t,n){let r,o;y(e,no,(e=>n(8,o=e)));const s=ye();let{tableId:a}=t,{recordId:i}=t,{recordSummary:l}=t,{hasDeleteButton:c=!1}=t,{valueComparisonOutcome:u}=t,{disabled:d=!1}=t,{allowsHyperlinks:$=!1}=t,p=!1;return e.$$set=e=>{"tableId"in e&&n(0,a=e.tableId),"recordId"in e&&n(1,i=e.recordId),"recordSummary"in e&&n(10,l=e.recordSummary),"hasDeleteButton"in e&&n(2,c=e.hasDeleteButton),"valueComparisonOutcome"in e&&n(3,u=e.valueComparisonOutcome),"disabled"in e&&n(4,d=e.disabled),"allowsHyperlinks"in e&&n(5,$=e.allowsHyperlinks)},e.$$.update=()=>{1026&e.$$.dirty&&n(7,r=l&&""!==l.trim()?l:void 0!==i?String(i):"?")},[a,i,c,u,d,$,p,r,o,function(){s("delete")},l,function(t){_e.call(this,e,t)},()=>{n(6,p=!0)},()=>{n(6,p=!1)}]}class BH extends ut{constructor(e){super(),ct(this,e,qH,VH,f,{tableId:0,recordId:1,recordSummary:10,hasDeleteButton:2,valueComparisonOutcome:3,disabled:4,allowsHyperlinks:5})}}class jH{constructor(t){e(this,"onOpen",void 0),e(this,"onClose",void 0),e(this,"nestingLevel",void 0),e(this,"purpose",pt("dataEntry")),e(this,"isOpen",pt(!1)),e(this,"submit",(()=>{})),e(this,"cancel",(()=>{})),e(this,"tableOid",pt(void 0)),e(this,"columnWithNestedSelectorOpen",pt(void 0)),this.onOpen=t.onOpen??(()=>{}),this.onClose=t.onClose??(()=>{}),this.nestingLevel=t.nestingLevel}open(){this.isOpen.set(!0),this.onOpen()}close(){this.submit=()=>{},this.cancel=()=>{},this.isOpen.set(!1),this.onClose()}acquireUserInput({tableOid:e}){return this.tableOid.set(e),this.purpose.set("dataEntry"),this.open(),new Promise(((e,t)=>{this.submit=t=>{e(t),this.close()},this.cancel=()=>{t(),this.close()}}))}navigateToRecordPage({tableOid:e}){this.tableOid.set(e),this.purpose.set("navigation"),this.open(),this.cancel=()=>{this.close()}}}const UH=ss();function WH(e){let t,n;return t=new xE({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function YH(e){let t,n;return t=new vE({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function KH(e){let t,n;return t=new BH({props:{recordId:e[0],recordSummary:e[2],valueComparisonOutcome:e[6]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.recordId=e[0]),4&n&&(r.recordSummary=e[2]),64&n&&(r.valueComparisonOutcome=e[6]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function GH(e){let t,n,r,o,s,a,i;const c=[Cd];let u={};for(let d=0;d<c.length;d+=1)u=l(u,c[d]);return n=new Jd({props:u}),{c(){t=q("button"),at(n.$$.fragment),X(t,"class","dropdown-button passthrough svelte-1ka5fca"),X(t,"aria-label",r=e[8]("pick_record")),X(t,"title",o=e[8]("pick_record"))},m(r,o){H(r,t,o),it(n,t,null),s=!0,a||(i=Y(t,"click",e[9]),a=!0)},p(e,a){const i=0&a?rt(c,[ot(Cd)]):{};n.$set(i),(!s||256&a&&r!==(r=e[8]("pick_record")))&&X(t,"aria-label",r),(!s||256&a&&o!==(o=e[8]("pick_record")))&&X(t,"title",o)},i(e){s||(je(n.$$.fragment,e),s=!0)},o(e){Ue(n.$$.fragment,e),s=!1},d(e){e&&z(t),lt(n),a=!1,i()}}}function XH(e){let t,n,r,o,s,a;const i=[KH,YH,WH],l=[];function c(e,t){return e[7]?0:void 0===e[0]?1:2}r=c(e),o=l[r]=i[r](e);let u=!e[3]&&GH(e);return{c(){t=q("div"),n=q("div"),o.c(),s=U(),u&&u.c(),X(n,"class","value svelte-1ka5fca"),X(t,"class","linked-record-cell svelte-1ka5fca"),se(t,"disabled",e[3])},m(e,o){H(e,t,o),F(t,n),l[r].m(n,null),F(t,s),u&&u.m(t,null),a=!0},p(e,s){let d=r;r=c(e),r===d?l[r].p(e,s):(qe(),Ue(l[d],1,1,(()=>{l[d]=null})),Be(),o=l[r],o?o.p(e,s):(o=l[r]=i[r](e),o.c()),je(o,1),o.m(n,null)),e[3]?u&&(qe(),Ue(u,1,1,(()=>{u=null})),Be()):u?(u.p(e,s),8&s&&je(u,1)):(u=GH(e),u.c(),je(u,1),u.m(t,null)),(!a||8&s)&&se(t,"disabled",e[3])},i(e){a||(je(o),je(u),a=!0)},o(e){Ue(o),Ue(u),a=!1},d(e){e&&z(t),l[r].d(),u&&u.d()}}}function ZH(e){let t,n,r;function o(t){e[17](t)}let s={isActive:e[1],disabled:e[3],isIndependentOfSheet:e[4],hasPadding:!1,$$slots:{default:[XH]},$$scope:{ctx:e}};return void 0!==e[5]&&(s.element=e[5]),t=new WE({props:s}),Ce.push((()=>st(t,"element",o))),t.$on("mouseenter",e[18]),t.$on("keydown",e[10]),t.$on("mousedown",e[11]),t.$on("click",e[12]),t.$on("dblclick",e[9]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.isActive=e[1]),8&r&&(o.disabled=e[3]),16&r&&(o.isIndependentOfSheet=e[4]),4194765&r&&(o.$$scope={dirty:r,ctx:e}),!n&&32&r&&(n=!0,o.element=e[5],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function JH(e,t,n){let r,o,s;y(e,no,(e=>n(8,s=e)));const a=ye(),i=UH.get();let l,{isActive:c}=t,{columnFabric:u}=t,{value:d}=t,{searchValue:$}=t,{recordSummary:p}=t,{setRecordSummary:m=(()=>{})}=t,{disabled:f}=t,{tableId:g}=t,{isIndependentOfSheet:h}=t,b=!1;async function v(e){if(i&&!f){e?.stopPropagation();try{const e=await i.acquireUserInput({tableOid:g});if(e){const t=u.linkFk?.referent_columns[0];n(0,d=t?e.record[t]:e.recordId),m(String(e.recordId),e.recordSummary)}else n(0,d=null);a("update",{value:d})}catch{}l?.focus()}}return e.$$set=e=>{"isActive"in e&&n(1,c=e.isActive),"columnFabric"in e&&n(13,u=e.columnFabric),"value"in e&&n(0,d=e.value),"searchValue"in e&&n(14,$=e.searchValue),"recordSummary"in e&&n(2,p=e.recordSummary),"setRecordSummary"in e&&n(15,m=e.setRecordSummary),"disabled"in e&&n(3,f=e.disabled),"tableId"in e&&n(16,g=e.tableId),"isIndependentOfSheet"in e&&n(4,h=e.isIndependentOfSheet)},e.$$.update=()=>{1&e.$$.dirty&&n(7,r=null!=d),16385&e.$$.dirty&&n(6,o=xv($,d))},[d,c,p,f,h,l,o,r,s,v,function(e){switch(e.key){case"Enter":c&&v();break;case"Tab":case"ArrowLeft":case"ArrowRight":case"ArrowDown":case"ArrowUp":a("movementKeyDown",{originalEvent:e,key:e.key})}},function(){b=c,a("activate")},function(){b&&v()},u,$,m,g,function(e){l=e,n(5,l)},function(t){_e.call(this,e,t)}]}class QH extends ut{constructor(e){super(),ct(this,e,JH,ZH,f,{isActive:1,columnFabric:13,value:0,searchValue:14,recordSummary:2,setRecordSummary:15,disabled:3,tableId:16,isIndependentOfSheet:4})}}function ez(e){let t,n;return{c(){t=q("span"),n=j(e[7]),X(t,"class","placeholder svelte-11odscm")},m(e,r){H(e,t,r),F(t,n)},p(e,t){128&t&&Q(n,e[7])},i:a,o:a,d(e){e&&z(t)}}}function tz(e){let t,n;return t=new BH({props:{recordId:e[1],recordSummary:e[2],hasDeleteButton:!e[6],disabled:e[6],tableId:e[3],allowsHyperlinks:e[5]}}),t.$on("delete",e[11]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.recordId=e[1]),4&n&&(r.recordSummary=e[2]),64&n&&(r.hasDeleteButton=!e[6]),64&n&&(r.disabled=e[6]),8&n&&(r.tableId=e[3]),32&n&&(r.allowsHyperlinks=e[5]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function nz(e){let t,n,r,o,s;const a=[Cd];let i={};for(let c=0;c<a.length;c+=1)i=l(i,a[c]);return n=new Jd({props:i}),{c(){t=q("span"),at(n.$$.fragment),X(t,"class","dropdown-button svelte-11odscm"),X(t,"role","button"),X(t,"tabindex","-1"),X(t,"aria-label",r=e[10]("pick_record")),X(t,"title",o=e[10]("pick_record"))},m(e,r){H(e,t,r),it(n,t,null),s=!0},p(e,i){const l=0&i?rt(a,[ot(Cd)]):{};n.$set(l),(!s||1024&i&&r!==(r=e[10]("pick_record")))&&X(t,"aria-label",r),(!s||1024&i&&o!==(o=e[10]("pick_record")))&&X(t,"title",o)},i(e){s||(je(n.$$.fragment,e),s=!0)},o(e){Ue(n.$$.fragment,e),s=!1},d(e){e&&z(t),lt(n)}}}function rz(e){let t,n,r,o,s,a,i,c,u,$,p,m,f,g;const h=[{disabled:e[6]},e[15]];function y(t){e[20](t)}let b={};for(let d=0;d<h.length;d+=1)b=l(b,h[d]);void 0!==e[0]&&(b.id=e[0]),t=new v$({props:b}),Ce.push((()=>st(t,"id",y)));const v=[tz,ez],w=[];function _(e,t){return e[9]?0:e[7]?1:-1}~(a=_(e))&&(i=w[a]=v[a](e));let x=!e[6]&&nz(e);return{c(){at(t.$$.fragment),r=U(),o=q("span"),s=q("span"),i&&i.c(),c=U(),x&&x.c(),X(s,"class","content svelte-11odscm"),X(o,"id",e[0]),X(o,"class",u="input-element linked-record-input "+e[4]+" svelte-11odscm"),X(o,"tabindex",$=e[6]?void 0:0),X(o,"role","listbox"),X(o,"aria-labelledby",p=M$(e[0])),se(o,"has-value",e[9]),se(o,"disabled",e[6])},m(n,i){it(t,n,i),H(n,r,i),H(n,o,i),F(o,s),~a&&w[a].m(s,null),F(o,c),x&&x.m(o,null),e[21](o),m=!0,f||(g=[Y(o,"click",e[12]),Y(o,"focus",e[13]),Y(o,"focus",e[18]),Y(o,"blur",e[14]),Y(o,"blur",e[19])],f=!0)},p(e,[r]){const l=32832&r?rt(h,[64&r&&{disabled:e[6]},32768&r&&ot(e[15])]):{};!n&&1&r&&(n=!0,l.id=e[0],Oe((()=>n=!1))),t.$set(l);let c=a;a=_(e),a===c?~a&&w[a].p(e,r):(i&&(qe(),Ue(w[c],1,1,(()=>{w[c]=null})),Be()),~a?(i=w[a],i?i.p(e,r):(i=w[a]=v[a](e),i.c()),je(i,1),i.m(s,null)):i=null),e[6]?x&&(qe(),Ue(x,1,1,(()=>{x=null})),Be()):x?(x.p(e,r),64&r&&je(x,1)):(x=nz(e),x.c(),je(x,1),x.m(o,null)),(!m||1&r)&&X(o,"id",e[0]),(!m||16&r&&u!==(u="input-element linked-record-input "+e[4]+" svelte-11odscm"))&&X(o,"class",u),(!m||64&r&&$!==($=e[6]?void 0:0))&&X(o,"tabindex",$),(!m||1&r&&p!==(p=M$(e[0])))&&X(o,"aria-labelledby",p),(!m||528&r)&&se(o,"has-value",e[9]),(!m||80&r)&&se(o,"disabled",e[6])},i(e){m||(je(t.$$.fragment,e),je(i),je(x),m=!0)},o(e){Ue(t.$$.fragment,e),Ue(i),Ue(x),m=!1},d(n){lt(t,n),n&&z(r),n&&z(o),~a&&w[a].d(),x&&x.d(),e[21](null),f=!1,d(g)}}}function oz(e,t,n){let r,o;const s=["id","value","recordSelectionOrchestratorFactory","recordSummary","setRecordSummary","targetTableId","class","allowsHyperlinks","disabled","placeholder"];let a,i=S(t,s);y(e,no,(e=>n(10,a=e)));const c=y$(),u=ve("dropdownAccompanyingElements"),d=ye();let $,{id:p=ko()}=t,{value:m}=t,{recordSelectionOrchestratorFactory:f}=t,{recordSummary:g}=t,{setRecordSummary:h=(()=>{})}=t,{targetTableId:b}=t,{class:v=""}=t,{allowsHyperlinks:w=!1}=t,{disabled:_=!1}=t,{placeholder:x}=t;async function k(){if(_)return;d("recordSelectorOpen");const e={summary:g??"",key:m??null},t=r.launch({triggerElement:$,previousValue:e});await Ee();const o=function(){if(!u)return()=>{};const e=document.querySelector(".modal-record-selector");return e?u.add(e):()=>{}}();try{const e=await t;o(),_o(e)?(n(1,m=e.key),h(String(e.key),e.summary)):n(1,m=null),d("recordSelectorSubmit"),d("artificialChange",m),d("artificialInput",m)}catch{o(),d("recordSelectorCancel")}await Ee(),$.focus()}function M(){n(1,m=null),d("artificialChange",m),d("artificialInput",m),r.isOpen()?(r.close(),k()):$.focus()}async function I(){await Ee(),r.isOpen()?r.close():await k()}function T(e){switch(e.key){case"Enter":e.target===$&&I();break;case"Delete":case"Backspace":M(),r.close()}}return fe((()=>{n(8,$.launchRecordSelector=k,$)})),e.$$set=e=>{t=l(l({},t),C(e)),n(15,i=S(t,s)),"id"in e&&n(0,p=e.id),"value"in e&&n(1,m=e.value),"recordSelectionOrchestratorFactory"in e&&n(16,f=e.recordSelectionOrchestratorFactory),"recordSummary"in e&&n(2,g=e.recordSummary),"setRecordSummary"in e&&n(17,h=e.setRecordSummary),"targetTableId"in e&&n(3,b=e.targetTableId),"class"in e&&n(4,v=e.class),"allowsHyperlinks"in e&&n(5,w=e.allowsHyperlinks),"disabled"in e&&n(6,_=e.disabled),"placeholder"in e&&n(7,x=e.placeholder)},e.$$.update=()=>{65536&e.$$.dirty&&(r=f()),2&e.$$.dirty&&n(9,o=null!=m),1&e.$$.dirty&&c?.inputId.set(p)},[p,m,g,b,v,w,_,x,$,o,a,M,I,function(){window.addEventListener("keydown",T)},function(){window.removeEventListener("keydown",T)},i,f,h,function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(e){p=e,n(0,p)},function(e){Ce[e?"unshift":"push"]((()=>{$=e,n(8,$)}))}]}class sz extends ut{constructor(e){super(),ct(this,e,oz,rz,f,{id:0,value:1,recordSelectionOrchestratorFactory:16,recordSummary:2,setRecordSummary:17,targetTableId:3,class:4,allowsHyperlinks:5,disabled:6,placeholder:7})}}function az(e){let t;return{c(){t=j(e[1])},m(e,n){H(e,t,n)},p(e,n){2&n&&Q(t,e[1])},i:a,o:a,d(e){e&&z(t)}}}function iz(e){let t,n;return t=new vE({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function lz(e){let t,n;return t=new FH({props:{tableId:e[3],recordId:e[1],$$slots:{default:[cz]},$$scope:{ctx:e}}}),t.$on("contextmenu",$z),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.tableId=e[3]),2&n&&(r.recordId=e[1]),512&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function cz(e){let t,n,r;const o=[$S];let s={};for(let a=0;a<o.length;a+=1)s=l(s,o[a]);return n=new Jd({props:s}),{c(){t=q("span"),at(n.$$.fragment),X(t,"class","link-icon svelte-uo4wic")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r=0&t?rt(o,[ot($S)]):{};n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function uz(e){let t,n,r,o,s,a;const i=[iz,az],l=[];function c(e,t){return void 0===e[1]?0:1}r=c(e),o=l[r]=i[r](e);let u=e[5]&&lz(e);return{c(){t=q("div"),n=q("span"),o.c(),s=U(),u&&u.c(),X(n,"class","value svelte-uo4wic"),X(t,"class","primary-key-cell svelte-uo4wic"),se(t,"is-independent-of-sheet",e[4])},m(e,o){H(e,t,o),F(t,n),l[r].m(n,null),F(t,s),u&&u.m(t,null),a=!0},p(e,s){let d=r;r=c(e),r===d?l[r].p(e,s):(qe(),Ue(l[d],1,1,(()=>{l[d]=null})),Be(),o=l[r],o?o.p(e,s):(o=l[r]=i[r](e),o.c()),je(o,1),o.m(n,null)),e[5]?u?(u.p(e,s),32&s&&je(u,1)):(u=lz(e),u.c(),je(u,1),u.m(t,null)):u&&(qe(),Ue(u,1,1,(()=>{u=null})),Be()),(!a||16&s)&&se(t,"is-independent-of-sheet",e[4])},i(e){a||(je(o),je(u),a=!0)},o(e){Ue(o),Ue(u),a=!1},d(e){e&&z(t),l[r].d(),u&&u.d()}}}function dz(e){let t,n;return t=new WE({props:{isActive:e[0],disabled:e[2],isIndependentOfSheet:e[4],hasPadding:!1,$$slots:{default:[uz]},$$scope:{ctx:e}}}),t.$on("mouseenter",e[7]),t.$on("keydown",e[6]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.isActive=e[0]),4&n&&(r.disabled=e[2]),16&n&&(r.isIndependentOfSheet=e[4]),570&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function $z(e){e.stopPropagation()}function pz(e,t,n){const r=ye();let{isActive:o}=t,{value:s}=t,{disabled:a}=t,{tableId:i}=t,{isIndependentOfSheet:l}=t,{canViewLinkedEntities:c}=t;return e.$$set=e=>{"isActive"in e&&n(0,o=e.isActive),"value"in e&&n(1,s=e.value),"disabled"in e&&n(2,a=e.disabled),"tableId"in e&&n(3,i=e.tableId),"isIndependentOfSheet"in e&&n(4,l=e.isIndependentOfSheet),"canViewLinkedEntities"in e&&n(5,c=e.canViewLinkedEntities)},[o,s,a,i,l,c,function(e){switch(e.key){case"Tab":case"ArrowLeft":case"ArrowRight":case"ArrowDown":case"ArrowUp":r("movementKeyDown",{originalEvent:e,key:e.key})}},function(t){_e.call(this,e,t)}]}class mz extends ut{constructor(e){super(),ct(this,e,pz,dz,f,{isActive:0,value:1,disabled:2,tableId:3,isIndependentOfSheet:4,canViewLinkedEntities:5})}}function fz({cellInfo:e,column:t,fkTargetTableId:n,pkTargetTableId:r}){if(n){return{component:QH,props:{tableId:n}}}if(r)return{component:mz,props:{tableId:r}};const o=UN(t.type,e);return HF[e?.type??"string"].get(t,o)}function gz(e,t){const n=t??jN(e.type,e.metadata),r=UN(e.type,n);return HF[n?.type??"string"].getInput(e,r)}function hz(e,t){const n=t??jN(e.type,e.metadata),r=HF[n?.type??"string"];if(!r.getSimpleInput)return;const o=UN(e.type,n);return r.getSimpleInput(e,o)}function yz(e){return{component:sz,props:e}}function bz(e,t,n){if(t)return;const r=n??jN(e.type,e.metadata);return HF[r?.type??"string"].initialInputValue}function vz(e,t){const n=jN(e.type,e.metadata),r=UN(e.type,n),o=HF[n?.type??"string"].getDisplayFormatter(e,r);return(e,n)=>{if(!n||void 0===t)return o(e);const r=n.get(String(t))?.get(String(e));return r||o(e)}}const wz="filter-input";function _z(e,t){if("hasParams"in e){if(!e.hasParams)return void 0===t}else if(0===e.parameters.length)return void 0===t;return _o(t)&&""!==String(t)}function xz(e,t){return void 0!==t?function(e){const t=new Map;return AN.get(e)?.forEach((e=>{t.set(e.id,e)})),t}(e):FN(e)}function Cz({tableOid:e}){return()=>function({tableOid:e,recordSelector:t}){return{launch:async()=>{const n=await t.acquireUserInput({tableOid:e});return{key:n.recordId,summary:n.recordSummary}},close:()=>t.cancel(),isOpen:()=>h(t.isOpen)}}({recordSelector:UH.getOrError(),tableOid:e})}function Sz(e){return"foreignkey"===e.type}class kz{constructor(t){e(this,"id",void 0),e(this,"column",void 0),e(this,"columnIndex",void 0),e(this,"tableOid",void 0),e(this,"relevantConstraints",void 0),e(this,"exclusiveConstraints",void 0),e(this,"sharedConstraints",void 0),e(this,"abstractType",void 0),e(this,"initialInputValue",void 0),e(this,"linkFk",void 0),e(this,"hasEnhancedPrimaryKeyCell",void 0),e(this,"cellComponentAndProps",void 0),e(this,"inputComponentAndProps",void 0),e(this,"simpleInputComponentAndProps",void 0),e(this,"allowedFiltersMap",void 0),e(this,"preprocFunctions",void 0),e(this,"formatCellValue",void 0),e(this,"currentRolePrivileges",void 0),e(this,"isEditable",void 0),this.id=t.column.id,this.column=t.column,this.columnIndex=t.columnIndex,this.tableOid=t.tableOid,this.hasEnhancedPrimaryKeyCell=t.hasEnhancedPrimaryKeyCell??!0,this.relevantConstraints=t.constraints.filter((e=>e.columns.includes(this.column.id))),this.exclusiveConstraints=this.relevantConstraints.filter((e=>1===e.columns.length)),this.sharedConstraints=this.relevantConstraints.filter((e=>1!==e.columns.length)),this.abstractType=CN(this.column.type,this.column.metadata),this.initialInputValue=bz(this.column,void 0,this.abstractType.cellInfo),[this.linkFk]=function(e,t){return e.filter(Sz).filter((e=>1===e.columns.length&&e.columns.includes(t)))}(this.exclusiveConstraints,this.column.id);const n=this.hasEnhancedPrimaryKeyCell&&this.column.primary_key,r=this.linkFk?this.linkFk.referent_table_oid:void 0;this.cellComponentAndProps=fz({cellInfo:this.abstractType.cellInfo,column:this.column,fkTargetTableId:r,pkTargetTableId:n?this.tableOid:void 0}),this.inputComponentAndProps=r?yz({recordSelectionOrchestratorFactory:Cz({tableOid:r}),targetTableId:r}):gz(this.column,this.abstractType.cellInfo),this.simpleInputComponentAndProps=hz(this.column,this.abstractType.cellInfo)??this.inputComponentAndProps,this.allowedFiltersMap=xz(this.abstractType.identifier,this.linkFk),this.preprocFunctions=HN(this.abstractType.identifier),this.formatCellValue=vz(this.column,this.column.id),this.currentRolePrivileges=new Set(this.column.current_role_priv),this.isEditable=(()=>{if(!this.currentRolePrivileges.has("UPDATE"))return!1;const e=!!this.column.default?.is_dynamic;return!!!this.column.primary_key||!this.hasEnhancedPrimaryKeyCell&&!e})()}withoutEnhancedPkCell(){return new kz({tableOid:this.tableOid,column:this.column,columnIndex:this.columnIndex,constraints:this.relevantConstraints,hasEnhancedPrimaryKeyCell:!1})}}function Mz(e){return ac(e,gc((e=>e.withoutEnhancedPkCell())),lc((e=>e.isEditable)))}class Iz{constructor(t){e(this,"database",void 0),e(this,"table",void 0),e(this,"meta",void 0),e(this,"columnsDataStore",void 0),e(this,"processedColumns",void 0),e(this,"constraintsDataStore",void 0),e(this,"recordsData",void 0),e(this,"display",void 0),e(this,"isLoading",void 0),e(this,"selection",void 0),e(this,"selectedCellData",void 0),e(this,"hasPrimaryKey",void 0),e(this,"canSelectRecords",void 0),e(this,"canInsertRecords",void 0),e(this,"canUpdateRecords",void 0),e(this,"canDeleteRecords",void 0),e(this,"canViewLinkedEntities",$t(!0)),this.database=t.database;const n=t.contextualFilters??new Map;this.table=t.table,this.meta=t.meta??new VT,this.columnsDataStore=new wT({database:t.database,table:this.table,hiddenColumns:n.keys()}),this.constraintsDataStore=new mE({database:t.database,table:t.table}),this.recordsData=new vT({database:t.database,table:t.table,meta:this.meta,columnsDataStore:this.columnsDataStore,contextualFilters:n,loadIntrinsicRecordSummaries:t.loadIntrinsicRecordSummaries}),this.display=new BT({meta:this.meta,recordsData:this.recordsData}),this.table=t.table,this.processedColumns=mt([this.columnsDataStore.columns,this.constraintsDataStore],(([e,n])=>wI(new Map(e.map(((e,r)=>[e.id,new kz({tableOid:this.table.oid,column:e,columnIndex:r,constraints:n.constraints,hasEnhancedPrimaryKeyCell:t.hasEnhancedPrimaryKeyCell})]))),this.table))),this.hasPrimaryKey=mt(this.processedColumns,(e=>[...e.values()].some((e=>e.column.primary_key)))),this.canSelectRecords=mt(this.table.currentAccess.currentRolePrivileges,(e=>e.has("SELECT"))),this.canInsertRecords=mt([this.hasPrimaryKey,this.table.currentAccess.currentRolePrivileges],(([e,t])=>e&&t.has("INSERT"))),this.canUpdateRecords=mt([this.hasPrimaryKey,this.table.currentAccess.currentRolePrivileges],(([e,t])=>e&&t.has("UPDATE"))),this.canDeleteRecords=mt([this.hasPrimaryKey,this.table.currentAccess.currentRolePrivileges],(([e,t])=>e&&t.has("DELETE")));const r=mt([this.recordsData.selectableRowsMap,this.processedColumns,this.display.placeholderRowId],(([e,t,n])=>{const r=new XT([...e.keys()]),o=[...t.values()],s=new XT(o.map((e=>String(e.id))));return new QT(r,s,n)}));this.selection=new pE(r),this.isLoading=mt([this.columnsDataStore.fetchStatus,this.constraintsDataStore,this.recordsData.state],(([e,t,n])=>"processing"===e?.state||t.state===pk.Loading||n===pk.Loading)),this.selectedCellData=mt([this.selection,this.recordsData.selectableRowsMap,this.processedColumns,this.recordsData.linkedRecordSummaries,this.recordsData.fileManifests],(e=>function(e,t,n,r,o){const{activeCellId:s}=e,a={cellCount:e.cellIds.size};if(void 0===s)return{selectionData:a};const{rowId:i,columnId:l}=qI(s),c=t.get(i)?.record[l],u=n.get(Number(l)),d=Co(c,(e=>r.get(l)?.get(String(e)))),$=(()=>{if(!u?.column.metadata?.file_backend)return;const e=UT(c);return e?o.get(String(u.id))?.get(e.mash):void 0})();return{activeCellData:u&&{column:u,value:c,recordSummary:d,fileManifest:$},selectionData:a}}(...e))),this.columnsDataStore.on("columnRenamed",(async()=>{await this.refresh()})),this.columnsDataStore.on("columnAdded",(async()=>{await this.recordsData.fetch()})),this.columnsDataStore.on("columnDeleted",(async e=>{this.meta.sorting.update((t=>t.without(e))),this.meta.grouping.update((t=>t.withoutColumns([e]))),this.meta.filtering.update((t=>t.withoutColumns([e]))),await this.constraintsDataStore.fetch()})),this.columnsDataStore.on("columnPatched",(async()=>{await this.recordsData.fetch()})),this.constraintsDataStore.on("constraintAdded",(async()=>{await this.recordsData.fetch()}))}refresh(){return Promise.all([this.columnsDataStore.fetch(),this.recordsData.fetch(),this.constraintsDataStore.fetch()])}refreshAfterColumnExtraction(e,t){return this.meta.sorting.update((n=>{const r=e.find((e=>n.has(e)));if(r&&t&&!n.has(t)){const o=n.get(r);return n.without(e).with(t,o??"ASCENDING")}return n.without(e)})),this.meta.filtering.update((t=>t.withoutColumns(e))),this.meta.grouping.update((n=>e.some((e=>n.hasColumn(e)))&&t&&!n.hasColumn(t)?n.withoutColumns(e).withEntry({columnId:t}):n.withoutColumns(e))),this.refresh()}getProcessedColumn(e){const t=parseInt(e,10);return h(this.processedColumns).get(t)}getRecordIdFromRowId(e){const t=h(this.recordsData.selectableRowsMap).get(e);if(!t)return;const n=h(this.columnsDataStore.pkColumn);return n?t.record[n.id]:void 0}destroy(){this.recordsData.destroy(),this.constraintsDataStore.destroy(),this.columnsDataStore.destroy(),this.selection.destroy(),this.meta.destroy()}}const Tz={};function Ez(e){const t=pt(e);return be(Tz,t),t}function Dz(){return ve(Tz)}class Oz{constructor(t){e(this,"oid",void 0),e(this,"processedColumns",void 0),e(this,"table",void 0),e(this,"constraints",void 0),e(this,"linksInTable",void 0),e(this,"linksToTable",void 0),e(this,"isLoading",void 0),e(this,"errors",void 0),e(this,"asyncStore",void 0),this.oid=t.oid,this.asyncStore=function(e){const t=e.schema.database.id,n=e.oid,r={database_id:t,table_oid:n};return new VF((()=>_M([PM.tables.get_with_metadata(r),PM.columns.list_with_metadata(r),PM.constraints.list(r),PM.tables.list_joinable({...r,max_depth:1})]).transformResolved((([t,r,o,s])=>{const a=wI(new Map(r.map(((e,t)=>[e.id,new kz({tableOid:n,column:e,columnIndex:t,constraints:o})]))),{metadata:t.metadata});return{table:new iH({schema:e.schema,rawTableWithMetadata:t}),processedColumns:a,constraints:o,linksInTable:Array.from(RM(s,new Map(r.map((e=>[e.id,e]))))),linksToTable:Array.from(FM(s))}}))))}(t),this.asyncStore.run(),this.processedColumns=mt(this.asyncStore,(e=>e.resolvedValue?.processedColumns??new Map)),this.isLoading=mt(this.asyncStore,(e=>e.isLoading)),this.table=mt(this.asyncStore,(e=>e.resolvedValue?.table)),this.constraints=mt(this.asyncStore,(e=>e.resolvedValue?.constraints??[])),this.linksInTable=mt(this.asyncStore,(e=>e.resolvedValue?.linksInTable??[])),this.linksToTable=mt(this.asyncStore,(e=>e.resolvedValue?.linksToTable??[])),this.errors=mt(this.asyncStore,(e=>e.error?[e.error]:[]))}async refetch(){return await this.asyncStore.run()}async getSubstanceOnceResolved(){return await this.asyncStore.getValueOnceResolved()}}function Nz(e,t=!1){return(e=e.slice(e.startsWith("/#")?2:0,e.endsWith("/*")?-2:void 0)).startsWith("/")||(e="/"+e),"/"===e&&(e=""),t&&!e.endsWith("/")&&(e+="/"),e}function Az(e,t){e=Nz(e,!0),t=Nz(t,!0);let n=[],r={},o=!0,s=e.split("/").map((e=>e.startsWith(":")?(n.push(e.slice(1)),"([^\\/]+)"):e)).join("\\/"),a=t.match(new RegExp(`^${s}$`));return a||(o=!1,a=t.match(new RegExp(`^${s}`))),a?(n.forEach(((e,t)=>r[e]=a[t+1])),{exact:o,params:r,part:a[0].slice(0,-1)}):null}function Rz(e,t,n){if(""===n)return e;if("/"===n[0])return n;let r=e=>e.split("/").filter((e=>""!==e)),o=r(e);return"/"+(t?r(t):[]).map(((e,t)=>o[t])).join("/")+"/"+n}function Fz(e,t,n,r){let o=[t,"data-"+t].reduce(((t,r)=>{let o=e.getAttribute(r);return n&&e.removeAttribute(r),null===o?t:o}),!1);return!r&&""===o||(o||r||!1)}function Pz(e){let t=e.split("&").map((e=>e.split("="))).reduce(((e,t)=>{let n=t[0];if(!n)return e;let r=!(t.length>1)||t[t.length-1];return"string"==typeof r&&r.includes(",")&&(r=r.split(",")),void 0===e[n]?e[n]=[r]:e[n].push(r),e}),{});return Object.entries(t).reduce(((e,t)=>(e[t[0]]=t[1].length>1?t[1]:t[1][0],e)),{})}function Lz(e,t){return e?t+e:""}function Hz(e){throw new Error("[Tinro] "+e)}var zz,Vz,qz,Bz={HISTORY:1,HASH:2,MEMORY:3,OFF:4,run(e,t,n,r){return e===this.HISTORY?t&&t():e===this.HASH?n&&n():r&&r()},getDefault(){return window&&"srcdoc"!==window.location.pathname?this.HISTORY:this.MEMORY}},jz="",Uz=function(){let e,t=Bz.getDefault(),n=n=>e&&e(Wz(t)),r=e=>{e&&(t=e),window.onhashchange=window.onpopstate=zz=null,t!==Bz.OFF&&Bz.run(t,(e=>window.onpopstate=n),(e=>window.onhashchange=n))&&n()},o=e=>{let n=Object.assign(Wz(t),e);return n.path+Lz(function(e){return Object.entries(e).map((([e,t])=>t?!0===t?e:`${e}=${Array.isArray(t)?t.join(","):t}`:null)).filter((e=>e)).join("&")}(n.query),"?")+Lz(n.hash,"#")};return{mode:r,get:e=>Wz(t),go(e,r){(function(e,t,n){!n&&(Vz=qz);let r=e=>history[(n?"replace":"push")+"State"]({},"",e);Bz.run(e,(e=>r(jz+t)),(e=>r(`#${t}`)),(e=>zz=t))})(t,e,r),n()},start(t){e=t,r()},stop(){e=null,r(Bz.OFF)},set(e){this.go(o(e),!e.path)},methods(){return function(e){let t=()=>e.get().query,n=t=>e.set({query:t}),r=e=>n(e(t())),o=t=>e.set({hash:t});return{hash:{get:()=>e.get().hash,set:o,clear:()=>o("")},query:{replace:n,clear:()=>n(""),get:e=>e?t()[e]:t(),set(e,t){r((n=>(n[e]=t,n)))},delete(e){r((t=>(t[e]&&delete t[e],t)))}}}}(this)},base:e=>jz=e}}();function Wz(e){let t=window.location,n=Bz.run(e,(e=>(jz?t.pathname.replace(jz,""):t.pathname)+t.search+t.hash),(e=>String(t.hash.slice(1)||"/")),(e=>zz||"/")),r=n.match(/^([^?#]+)(?:\?([^#]+))?(?:\#(.+))?$/);return qz=n,{url:n,from:Vz,path:r[1]||"",query:Pz(r[2]||""),hash:r[3]||""}}var Yz=function(){let{subscribe:e}=pt(Uz.get(),(e=>{Uz.start(e);let t=function(e){let t=t=>{let n=t.target.closest("a[href]"),r=n&&Fz(n,"target",!1,"_self"),o=n&&Fz(n,"tinro-ignore"),s=t.ctrlKey||t.metaKey||t.altKey||t.shiftKey;if("_self"==r&&!o&&!s&&n){let r=n.getAttribute("href").replace(/^\/#/,"");/^\/\/|^#|^[a-zA-Z]+:/.test(r)||(t.preventDefault(),e(r.startsWith("/")?r:n.href.replace(window.location.origin,"")))}};return addEventListener("click",t),()=>removeEventListener("click",t)}(Uz.go);return()=>{Uz.stop(),t()}}));return{subscribe:e,goto:Uz.go,params:Gz,meta:Jz,useHashNavigation:e=>Uz.mode(e?Bz.HASH:Bz.HISTORY),mode:{hash:()=>Uz.mode(Bz.HASH),history:()=>Uz.mode(Bz.HISTORY),memory:()=>Uz.mode(Bz.MEMORY)},base:Uz.base,location:Uz.methods()}}();function Kz(e){let t,n,r,o,s=()=>{t=Fz(e,"href").replace(/^\/#|[?#].*$|\/$/g,""),n=Fz(e,"exact",!0),r=Fz(e,"active-class",!0,"active")},a=()=>{let s=Az(t,o);s&&(s.exact&&n||!n)?e.classList.add(r):e.classList.remove(r)};return s(),{destroy:Yz.subscribe((e=>{o=e.path,a()})),update:()=>{s(),a()}}}function Gz(){return ve("tinro").meta.params}var Xz="tinro",Zz=Qz({pattern:"",matched:!0});function Jz(){return we(Xz)?ve(Xz).meta:Hz("meta() function must be run inside any `<Route>` child component only")}function Qz(e){let t={router:{},exact:!1,pattern:null,meta:null,parent:null,fallback:!1,redirect:!1,firstmatch:!1,breadcrumb:null,matched:!1,childs:new Set,activeChilds:new Set,fallbacks:new Set,async showFallbacks(){if(!this.fallback&&(await Ee(),this.childs.size>0&&0==this.activeChilds.size||0==this.childs.size&&this.fallbacks.size>0)){let e=this;for(;0==e.fallbacks.size;)if(e=e.parent,!e)return;e&&e.fallbacks.forEach((e=>{if(e.redirect){let t=Rz("/",e.parent.pattern,e.redirect);Yz.goto(t,!0)}else e.show()}))}},start(){this.router.un||(this.router.un=Yz.subscribe((e=>{this.router.location=e,null!==this.pattern&&this.match()})))},match(){this.showFallbacks()}};return Object.assign(t,e),t.start(),t}const eV=e=>({params:2&e,meta:4&e}),tV=e=>({params:e[1],meta:e[2]});function nV(e){let t;const n=e[9].default,r=b(n,e,e[8],tV);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||262&o)&&_(r,n,e,e[8],t?w(n,e[8],o,eV):x(e[8]),tV)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function rV(e){let t,n,r=e[0]&&nV(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,[n]){e[0]?r?(r.p(e,n),1&n&&je(r,1)):(r=nV(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function oV(e,t,n){let{$$slots:r={},$$scope:o}=t,{path:s="/*"}=t,{fallback:a=!1}=t,{redirect:i=!1}=t,{firstmatch:l=!1}=t,{breadcrumb:c=null}=t,u=!1,d={},$={};const p=function(e){let t=ve(Xz)||Zz;(t.exact||t.fallback)&&Hz(`${e.fallback?"<Route fallback>":`<Route path="${e.path}">`}  can't be inside ${t.fallback?"<Route fallback>":`<Route path="${t.path||"/"}"> with exact path`}`);let n=e.fallback?"fallbacks":"childs",r=pt({}),o=Qz({fallback:e.fallback,parent:t,update(e){o.exact=!e.path.endsWith("/*"),o.pattern=Nz(`${o.parent.pattern||""}${e.path}`),o.redirect=e.redirect,o.firstmatch=e.firstmatch,o.breadcrumb=e.breadcrumb,o.match()},register:()=>(o.parent[n].add(o),async()=>{o.parent[n].delete(o),o.parent.activeChilds.delete(o),o.router.un&&o.router.un(),o.parent.match()}),show:()=>{e.onShow(),!o.fallback&&o.parent.activeChilds.add(o)},hide:()=>{e.onHide(),o.parent.activeChilds.delete(o)},match:async()=>{o.matched=!1;let{path:t,url:n,from:s,query:a}=o.router.location,i=Az(o.pattern,t);if(!o.fallback&&i&&o.redirect&&(!o.exact||o.exact&&i.exact)){let e=Rz(t,o.parent.pattern,o.redirect);return Yz.goto(e,!0)}o.meta=i&&{from:s,url:n,query:a,match:i.part,pattern:o.pattern,breadcrumbs:o.parent.meta&&o.parent.meta.breadcrumbs.slice()||[],params:i.params,subscribe:r.subscribe},o.breadcrumb&&o.meta&&o.meta.breadcrumbs.push({name:o.breadcrumb,path:i.part}),r.set(o.meta),!i||o.fallback||!(!o.exact||o.exact&&i.exact)||o.parent.firstmatch&&o.parent.matched?o.hide():(e.onMeta(o.meta),o.parent.matched=!0,o.show()),i&&o.showFallbacks()}});return be(Xz,o),fe((()=>o.register())),o}({fallback:a,onShow(){n(0,u=!0)},onHide(){n(0,u=!1)},onMeta(e){n(2,$=e),n(1,d=$.params)}});return e.$$set=e=>{"path"in e&&n(3,s=e.path),"fallback"in e&&n(4,a=e.fallback),"redirect"in e&&n(5,i=e.redirect),"firstmatch"in e&&n(6,l=e.firstmatch),"breadcrumb"in e&&n(7,c=e.breadcrumb),"$$scope"in e&&n(8,o=e.$$scope)},e.$$.update=()=>{232&e.$$.dirty&&p.update({path:s,redirect:i,firstmatch:l,breadcrumb:c})},[u,d,$,s,a,i,l,c,o,r]}class sV extends ut{constructor(e){super(),ct(this,e,oV,rV,f,{path:3,fallback:4,redirect:5,firstmatch:6,breadcrumb:7})}}function aV(e){let t;const n=e[1].default,r=b(n,e,e[2],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||4&o)&&_(r,n,e,e[2],t?w(n,e[2],o,null):x(e[2]),null)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function iV(e){let t,n,r;const o=[e[0],{icon:Rd}];let s={$$slots:{default:[aV]},$$scope:{ctx:e}};for(let a=0;a<o.length;a+=1)s=l(s,o[a]);return n=new RP({props:s}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","warning-box svelte-ikukal")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,[t]){const r=1&t?rt(o,[1&t&&ot(e[0]),0&t&&{icon:Rd}]):{};4&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function lV(e,t,n){const r=[];let o=S(t,r),{$$slots:s={},$$scope:a}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(0,o=S(t,r)),"$$scope"in e&&n(2,a=e.$$scope)},[o,s,a]}class cV extends ut{constructor(e){super(),ct(this,e,lV,iV,f,{})}}function uV(e){let t,n=e[4]("go_to_page")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){16&r&&n!==(n=e[4]("go_to_page")+"")&&Q(t,n)},d(e){e&&z(t)}}}function dV(e){let t,n=e[4]("go")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){16&r&&n!==(n=e[4]("go")+"")&&Q(t,n)},d(e){e&&z(t)}}}function $V(e){let t,n,r,o,s,a;function i(t){e[9](t)}function l(t){e[10](t)}let c={labelController:e[5]};return void 0!==e[1]&&(c.value=e[1]),void 0!==e[2]&&(c.element=e[2]),t=new cf({props:c}),Ce.push((()=>st(t,"value",i))),Ce.push((()=>st(t,"element",l))),s=new Hu({props:{appearance:"primary",type:"submit",$$slots:{default:[dV]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment),o=U(),at(s.$$.fragment)},m(e,n){it(t,e,n),H(e,o,n),it(s,e,n),a=!0},p(e,o){const a={};!n&&2&o&&(n=!0,a.value=e[1],Oe((()=>n=!1))),!r&&4&o&&(r=!0,a.element=e[2],Oe((()=>r=!1))),t.$set(a);const i={};4112&o&&(i.$$scope={dirty:o,ctx:e}),s.$set(i)},i(e){a||(je(t.$$.fragment,e),je(s.$$.fragment,e),a=!0)},o(e){Ue(t.$$.fragment,e),Ue(s.$$.fragment,e),a=!1},d(e){lt(t,e),e&&z(o),lt(s,e)}}}function pV(e){let t,n,r,o,s,a,i,l,c,u,d,$,p,m=e[4]("total_pages")+"",f=e[6].format(e[3])+"";return n=new O$({props:{controller:e[5],$$slots:{default:[uV]},$$scope:{ctx:e}}}),s=new $m({props:{$$slots:{default:[$V]},$$scope:{ctx:e}}}),{c(){t=q("form"),at(n.$$.fragment),r=U(),o=q("div"),at(s.$$.fragment),a=U(),i=q("div"),l=j(m),c=j(": "),u=j(f),X(o,"class","input svelte-p1o06"),X(i,"class","help svelte-p1o06")},m(m,f){H(m,t,f),it(n,t,null),F(t,r),F(t,o),it(s,o,null),H(m,a,f),H(m,i,f),F(i,l),F(i,c),F(i,u),d=!0,$||(p=Y(t,"submit",e[11]),$=!0)},p(e,[t]){const r={};4112&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const o={};4118&t&&(o.$$scope={dirty:t,ctx:e}),s.$set(o),(!d||16&t)&&m!==(m=e[4]("total_pages")+"")&&Q(l,m),(!d||8&t)&&f!==(f=e[6].format(e[3])+"")&&Q(u,f)},i(e){d||(je(n.$$.fragment,e),je(s.$$.fragment,e),d=!0)},o(e){Ue(n.$$.fragment,e),Ue(s.$$.fragment,e),d=!1},d(e){e&&z(t),lt(n),lt(s),e&&z(a),e&&z(i),$=!1,p()}}}function mV(e,t,n){let r,o;y(e,no,(e=>n(4,o=e)));const s=new f$,a=new Intl.NumberFormat;let i,{pagination:l}=t,{recordCount:c}=t,{goToPage:u}=t,{page:d}=l;fe((()=>{i.focus(),i.select()}));return e.$$set=e=>{"pagination"in e&&n(7,l=e.pagination),"recordCount"in e&&n(8,c=e.recordCount),"goToPage"in e&&n(0,u=e.goToPage)},e.$$.update=()=>{384&e.$$.dirty&&n(3,r=l.getMaxPage(c))},[u,d,i,r,o,s,a,l,c,function(e){d=e,n(1,d)},function(e){i=e,n(2,i)},()=>u(d)]}class fV extends ut{constructor(e){super(),ct(this,e,mV,pV,f,{pagination:7,recordCount:8,goToPage:0})}}function gV(e){let t,n;return t=new Hu({props:{appearance:"ghost",class:"padding-zero",tooltip:e[6]("previous_page"),$$slots:{default:[hV]},$$scope:{ctx:e}}}),t.$on("click",e[8]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.tooltip=e[6]("previous_page")),32768&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function hV(e){let t,n,r;const o=[_d];let s={};for(let a=0;a<o.length;a+=1)s=l(s,o[a]);return n=new Jd({props:s}),{c(){t=q("span"),at(n.$$.fragment),X(t,"class","button svelte-ngmyzs")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r=0&t?rt(o,[ot(_d)]):{};n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function yV(e){let t,n,r=e[6]("page_number",{values:{pageNumber:e[3]}})+"";return{c(){t=q("span"),n=j(r),X(t,"slot","trigger"),X(t,"class","button svelte-ngmyzs")},m(e,r){H(e,t,r),F(t,n)},p(e,t){72&t&&r!==(r=e[6]("page_number",{values:{pageNumber:e[3]}})+"")&&Q(n,r)},d(e){e&&z(t)}}}function bV(e){let t,n,r;function o(...t){return e[11](e[14],...t)}return n=new fV({props:{pagination:e[0],recordCount:e[2],goToPage:o}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"slot","content"),X(t,"class","detail svelte-ngmyzs")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(t,r){e=t;const s={};1&r&&(s.pagination=e[0]),4&r&&(s.recordCount=e[2]),16384&r&&(s.goToPage=o),n.$set(s)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function vV(e){let t,n,r;const o=[wd];let s={};for(let a=0;a<o.length;a+=1)s=l(s,o[a]);return n=new Jd({props:s}),{c(){t=q("span"),at(n.$$.fragment),X(t,"class","button svelte-ngmyzs")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r=0&t?rt(o,[ot(wd)]):{};n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function wV(e){let t,n,r,o,s,a,i,l=e[5]&&gV(e);function c(t){e[12](t)}let u={showArrow:!1,triggerAppearance:"ghost",triggerClass:"padding-zero",placements:["bottom","bottom-end","bottom-start","left","top"],closeOnInnerClick:!1,$$slots:{content:[bV,({close:e})=>({14:e}),({close:e})=>e?16384:0],trigger:[yV]},$$scope:{ctx:e}};return void 0!==e[1]&&(u.isOpen=e[1]),r=new _f({props:u}),Ce.push((()=>st(r,"isOpen",c))),r.$on("open",_V),a=new Hu({props:{appearance:"ghost",class:"padding-zero",disabled:!e[4],tooltip:e[6]("next_page"),$$slots:{default:[vV]},$$scope:{ctx:e}}}),a.$on("click",e[9]),{c(){t=q("div"),l&&l.c(),n=U(),at(r.$$.fragment),s=U(),at(a.$$.fragment),X(t,"class","mini-pagination svelte-ngmyzs")},m(e,o){H(e,t,o),l&&l.m(t,null),F(t,n),it(r,t,null),F(t,s),it(a,t,null),i=!0},p(e,[s]){e[5]?l?(l.p(e,s),32&s&&je(l,1)):(l=gV(e),l.c(),je(l,1),l.m(t,n)):l&&(qe(),Ue(l,1,1,(()=>{l=null})),Be());const i={};49229&s&&(i.$$scope={dirty:s,ctx:e}),!o&&2&s&&(o=!0,i.isOpen=e[1],Oe((()=>o=!1))),r.$set(i);const c={};16&s&&(c.disabled=!e[4]),64&s&&(c.tooltip=e[6]("next_page")),32768&s&&(c.$$scope={dirty:s,ctx:e}),a.$set(c)},i(e){i||(je(l),je(r.$$.fragment,e),je(a.$$.fragment,e),i=!0)},o(e){Ue(l),Ue(r.$$.fragment,e),Ue(a.$$.fragment,e),i=!1},d(e){e&&z(t),l&&l.d(),lt(r),lt(a)}}}function _V(){}function xV(e,t,n){let r,o,s,a,i;y(e,no,(e=>n(6,i=e)));let{pagination:l}=t,{recordCount:c}=t,{pageJumperIsOpen:u=!1}=t;const d=ye();function $(e){const t=Math.max(Math.min(e,o),1);n(0,l=new _T({size:l.size,page:t})),d("change",l)}return e.$$set=e=>{"pagination"in e&&n(0,l=e.pagination),"recordCount"in e&&n(2,c=e.recordCount),"pageJumperIsOpen"in e&&n(1,u=e.pageJumperIsOpen)},e.$$.update=()=>{1&e.$$.dirty&&n(3,({page:r}=l),r),5&e.$$.dirty&&n(10,o=l.getMaxPage(c)),8&e.$$.dirty&&n(5,s=r>1),1032&e.$$.dirty&&n(4,a=r<o)},[l,u,c,r,a,s,i,$,function(){$(r-1)},function(){$(r+1)},o,(e,t)=>{$(t),e()},function(e){u=e,n(1,u)}]}class CV extends ut{constructor(e){super(),ct(this,e,xV,wV,f,{pagination:0,recordCount:2,pageJumperIsOpen:1})}}function SV(e,t){const{hasOverflowTop:n,hasOverflowLeft:r,hasOverflowBottom:o,hasOverflowRight:s}=t;function a(){const{scrollTop:t,scrollLeft:a,scrollHeight:i,scrollWidth:l,clientHeight:c,clientWidth:u}=e;n.set(t>0),r.set(a>0),o.set(Math.abs(i-c-t)>1),s.set(Math.abs(l-u-a)>1)}e.addEventListener("scroll",a);const i=new ResizeObserver(a);return i.observe(e),{destroy:()=>{e.removeEventListener("scroll",a),i.disconnect()}}}function kV(e){let t,n;const r=e[10].default,o=b(r,e,e[9],null);return{c(){t=q("div"),o&&o.c(),X(t,"class","td svelte-aeg8x2"),se(t,"column-header","columnHeaderRow"===e[0]),se(t,"row-header","rowHeaderColumn"===e[2]),se(t,"row-is-selected",e[1]),se(t,"table-overflow-top",e[6]),se(t,"table-overflow-left",e[7]),se(t,"show-above-overlay",e[3])},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,[s]){o&&o.p&&(!n||512&s)&&_(o,r,e,e[9],n?w(r,e[9],s,null):x(e[9]),null),(!n||1&s)&&se(t,"column-header","columnHeaderRow"===e[0]),(!n||4&s)&&se(t,"row-header","rowHeaderColumn"===e[2]),(!n||2&s)&&se(t,"row-is-selected",e[1]),(!n||64&s)&&se(t,"table-overflow-top",e[6]),(!n||128&s)&&se(t,"table-overflow-left",e[7]),(!n||8&s)&&se(t,"show-above-overlay",e[3])},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function MV(e,t,n){let r,o,s,i,l=a,c=a;e.$$.on_destroy.push((()=>l())),e.$$.on_destroy.push((()=>c()));let{$$slots:u={},$$scope:d}=t,{rowType:$}=t,{rowIsSelected:p=!1}=t,{columnType:m}=t,{overflowDetails:f}=t,{showAboveOverlay:h=!1}=t;return e.$$set=e=>{"rowType"in e&&n(0,$=e.rowType),"rowIsSelected"in e&&n(1,p=e.rowIsSelected),"columnType"in e&&n(2,m=e.columnType),"overflowDetails"in e&&n(8,f=e.overflowDetails),"showAboveOverlay"in e&&n(3,h=e.showAboveOverlay),"$$scope"in e&&n(9,d=e.$$scope)},e.$$.update=()=>{256&e.$$.dirty&&(n(5,r=Fo(f?.hasOverflowTop??!1)),l(),l=g(r,(e=>n(6,s=e)))),256&e.$$.dirty&&(n(4,o=Fo(f?.hasOverflowLeft??!1)),c(),c=g(o,(e=>n(7,i=e))))},[$,p,m,h,o,r,s,i,f,d,u]}class IV extends ut{constructor(e){super(),ct(this,e,MV,kV,f,{rowType:0,rowIsSelected:1,columnType:2,overflowDetails:8,showAboveOverlay:3})}}function TV(e){let t,n,r,o;const s=[e[3],e[2]];function a(t){e[4](t)}var i=e[1].component;function c(e){let t={};for(let n=0;n<s.length;n+=1)t=l(t,s[n]);return void 0!==e[0]&&(t.value=e[0]),{props:t}}return i&&(t=new i(c(e)),Ce.push((()=>st(t,"value",a))),t.$on("input",e[5]),t.$on("artificialInput",e[6]),t.$on("change",e[7]),t.$on("artificialChange",e[8]),t.$on("focus",e[9]),t.$on("blur",e[10]),t.$on("recordSelectorOpen",e[11]),t.$on("recordSelectorCancel",e[12]),t.$on("recordSelectorSubmit",e[13])),{c(){t&&at(t.$$.fragment),r=W()},m(e,n){t&&it(t,e,n),H(e,r,n),o=!0},p(e,[o]){const l=12&o?rt(s,[8&o&&ot(e[3]),4&o&&ot(e[2])]):{};if(!n&&1&o&&(n=!0,l.value=e[0],Oe((()=>n=!1))),i!==(i=e[1].component)){if(t){qe();const e=t;Ue(e.$$.fragment,1,0,(()=>{lt(e,1)})),Be()}i?(t=new i(c(e)),Ce.push((()=>st(t,"value",a))),t.$on("input",e[5]),t.$on("artificialInput",e[6]),t.$on("change",e[7]),t.$on("artificialChange",e[8]),t.$on("focus",e[9]),t.$on("blur",e[10]),t.$on("recordSelectorOpen",e[11]),t.$on("recordSelectorCancel",e[12]),t.$on("recordSelectorSubmit",e[13]),at(t.$$.fragment),je(t.$$.fragment,1),it(t,r.parentNode,r)):t=null}else i&&t.$set(l)},i(e){o||(t&&je(t.$$.fragment,e),o=!0)},o(e){t&&Ue(t.$$.fragment,e),o=!1},d(e){e&&z(r),t&&lt(t,e)}}}function EV(e,t,n){let r;const o=["value","componentAndProps"];let s=S(t,o),{value:a}=t,{componentAndProps:i}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(3,s=S(t,o)),"value"in e&&n(0,a=e.value),"componentAndProps"in e&&n(1,i=e.componentAndProps)},e.$$.update=()=>{2&e.$$.dirty&&n(2,r=i.props)},[a,i,r,s,function(e){a=e,n(0,a)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)}]}class DV extends ut{constructor(e){super(),ct(this,e,EV,TV,f,{value:0,componentAndProps:1})}}function OV(e,t){if(!t.has(e))return e;const[n,r]=function(e,t="_"){let n;const r=`${t}\\d{1,15}$`;return[e.replace(new RegExp(r),(e=>(n=parseInt(e.slice(1),10),""))),n]}(e);let o=(r??0)+1;function s(){return`${n}_${o}`}let a=s();for(;t.has(a);)o+=1,a=s();return a}function NV(e,t=[{name:"id"}]){const n=new Set(t.map((e=>e.name)));return e?OV(DE(e.name),n):""}function AV(e){return _P(e.map((e=>e.name)),"A column with that name already exists")}function RV(e,t){const n=t.get(e);return Array.from(new Set([...n?.exclusiveConstraints??[],...n?.sharedConstraints??[]].filter((e=>!!e)).map((e=>e.type))))}function FV(e){let t,n=e[0].name+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1&r&&n!==(n=e[0].name+"")&&Q(t,n)},d(e){e&&z(t)}}}function PV(e){let t,n;const r=[{icon:e[1]},e[2],{cssVariables:{"--icon-color":"var(--color-column)"}}];let o={$$slots:{default:[FV]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new OI({props:o}),t.$on("click",e[3]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const o=6&n?rt(r,[2&n&&{icon:e[1]},4&n&&ot(e[2]),r[2]]):{};17&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function LV(e,t,n){let r;const o=["column"];let s=S(t,o),{column:a}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(2,s=S(t,o)),"column"in e&&n(0,a=e.column)},e.$$.update=()=>{1&e.$$.dirty&&n(1,r=function(e){return e.constraintsType?.includes("primary")?MC:e.constraintsType?.includes("foreignkey")?YC:CN(e.type,e.metadata).getIcon({dbType:e.type,typeOptions:e.type_options,metadata:e.metadata})}(a))},[a,r,s,function(t){_e.call(this,e,t)}]}class HV extends ut{constructor(e){super(),ct(this,e,LV,PV,f,{column:0})}}function zV(e){let t,n;const r=[{column:e[0]},e[1]];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new HV({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const o=3&n?rt(r,[1&n&&{column:e[0]},2&n&&ot(e[1])]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function VV(e,t,n){let r;const o=["processedColumn"];let s=S(t,o),{processedColumn:a}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(1,s=S(t,o)),"processedColumn"in e&&n(2,a=e.processedColumn)},e.$$.update=()=>{var t;4&e.$$.dirty&&n(0,r={...(t=a).column,constraintsType:t.linkFk?[t.linkFk.type]:void 0})},[r,s,a]}class qV extends ut{constructor(e){super(),ct(this,e,VV,zV,f,{processedColumn:2})}}function BV(e){let t,n;return t=new qV({props:{processedColumn:e[0]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.processedColumn=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function jV(e){let t,n;return t=new DV({props:{class:"record-selector-input column-"+e[5].id,componentAndProps:e[0].simpleInputComponentAndProps,value:e[6],recordSummary:e[9],labelController:e[10],setRecordSummary:e[15],disabled:"file"===e[0].abstractType.identifier}}),t.$on("input",(function(...t){return e[16](e[27],...t)})),t.$on("artificialInput",(function(...t){return e[17](e[27],...t)})),t.$on("change",(function(...t){return e[18](e[27],...t)})),t.$on("artificialChange",(function(...t){return e[19](e[27],...t)})),t.$on("focus",e[20]),t.$on("blur",e[21]),t.$on("recordSelectorOpen",e[22]),t.$on("recordSelectorSubmit",e[23]),t.$on("recordSelectorCancel",e[24]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(n,r){e=n;const o={};32&r&&(o.class="record-selector-input column-"+e[5].id),1&r&&(o.componentAndProps=e[0].simpleInputComponentAndProps),64&r&&(o.value=e[6]),512&r&&(o.recordSummary=e[9]),36&r&&(o.setRecordSummary=e[15]),1&r&&(o.disabled="file"===e[0].abstractType.identifier),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function UV(e){let t;return{c(){t=q("div"),X(t,"class","overlay svelte-cmwuim")},m(e,n){H(e,t,n)},d(e){e&&z(t)}}}function WV(e){let t,n,r,o,s,a,i,l,c,u;n=new O$({props:{controller:e[10],$$slots:{default:[BV]},$$scope:{ctx:e}}}),l=new cm({props:{$$slots:{default:[jV,({handleNewValue:e})=>({27:e}),({handleNewValue:e})=>e?134217728:0]},$$scope:{ctx:e}}}),l.$on("artificialChange",e[11]);let d=e[3]&&UV();return{c(){t=q("div"),at(n.$$.fragment),r=U(),o=q("div"),s=q("div"),a=j(e[8]),i=U(),at(l.$$.fragment),c=U(),d&&d.c(),X(s,"class","search-value svelte-cmwuim"),X(o,"class","input-wrapper"),X(t,"class","column-header-cell svelte-cmwuim"),se(t,"has-nested-selector-open",e[3])},m($,p){H($,t,p),it(n,t,null),F(t,r),F(t,o),F(o,s),F(s,a),F(o,i),it(l,o,null),e[25](o),F(t,c),d&&d.m(t,null),u=!0},p(e,r){const o={};268435457&r&&(o.$$scope={dirty:r,ctx:e}),n.$set(o),(!u||256&r)&&Q(a,e[8]);const s={};402653797&r&&(s.$$scope={dirty:r,ctx:e}),l.$set(s),e[3]?d||(d=UV(),d.c(),d.m(t,null)):d&&(d.d(1),d=null),(!u||8&r)&&se(t,"has-nested-selector-open",e[3])},i(e){u||(je(n.$$.fragment,e),je(l.$$.fragment,e),u=!0)},o(e){Ue(n.$$.fragment,e),Ue(l.$$.fragment,e),u=!1},d(r){r&&z(t),lt(n),lt(l),e[25](null),d&&d.d()}}}function YV(e){let t,n;return t=new IV({props:{rowType:"columnHeaderRow",columnType:"dataColumn",overflowDetails:e[4],showAboveOverlay:e[3],$$slots:{default:[WV]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};16&n&&(r.overflowDetails=e[4]),8&n&&(r.showAboveOverlay=e[3]),268436461&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function KV(e,t,n){let r,o,s,i,l,c=a,u=()=>(c(),c=g(h,(e=>n(13,i=e))),h),d=a,$=()=>(d(),d=g(f,(e=>n(14,l=e))),f);e.$$.on_destroy.push((()=>c())),e.$$.on_destroy.push((()=>d()));const p=new f$;let{processedColumn:m}=t,{searchFuzzy:f}=t;$();let{recordSummaryStore:h}=t;u();let y,b,{hasNestedSelectorOpen:v}=t,{overflowDetails:w}=t,_="";async function x(){await Ee(),n(8,_=b?.value??"")}fe((()=>{b=y.querySelector("input[type=text], textarea")}));return e.$$set=e=>{"processedColumn"in e&&n(0,m=e.processedColumn),"searchFuzzy"in e&&$(n(1,f=e.searchFuzzy)),"recordSummaryStore"in e&&u(n(2,h=e.recordSummaryStore)),"hasNestedSelectorOpen"in e&&n(3,v=e.hasNestedSelectorOpen),"overflowDetails"in e&&n(4,w=e.overflowDetails)},e.$$.update=()=>{1&e.$$.dirty&&n(5,({column:r}=m),r),16416&e.$$.dirty&&n(6,o=l.get(r.id)),8288&e.$$.dirty&&n(9,s=i.get(String(r.id))?.get(String(o)))},[m,f,h,v,w,r,o,y,_,s,p,function(e){const t=e.detail;f.update((e=>e.with(r.id,t)))},x,i,l,(e,t)=>h.addBespokeValue({columnId:String(r.id),key:e,value:t}),(e,t)=>{x(),e({value:Uo(t),debounce:!0})},(e,t)=>{x(),e({value:Yo(t),debounce:!0})},(e,t)=>e({value:Uo(t),debounce:!1}),(e,t)=>e({value:Yo(t),debounce:!1}),function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(e){Ce[e?"unshift":"push"]((()=>{y=e,n(7,y)}))}]}class GV extends ut{constructor(e){super(),ct(this,e,KV,YV,f,{processedColumn:0,searchFuzzy:1,recordSummaryStore:2,hasNestedSelectorOpen:3,overflowDetails:4})}}function XV(e){let t,n,r,o,s,a,i;const c=[e[17],{columnFabric:e[1]},{isActive:e[7]},{disabled:e[8]},{isIndependentOfSheet:e[13]},{horizontalAlignment:e[10]},{recordSummary:e[2]},{setRecordSummary:e[6]},{fileManifest:e[3]},{setFileManifest:e[4]},{fileRequestParams:e[5]},{searchValue:e[11]},{isProcessing:e[12]},{showTruncationPopover:e[14]},{canViewLinkedEntities:e[15]}];function u(t){e[20](t)}var d=e[18];function $(e){let t={};for(let n=0;n<c.length;n+=1)t=l(t,c[n]);return void 0!==e[0]&&(t.value=e[0]),{props:t}}return d&&(n=new d($(e)),Ce.push((()=>st(n,"value",u))),n.$on("movementKeyDown",e[21]),n.$on("update",e[22])),{c(){t=q("div"),n&&at(n.$$.fragment),o=U(),s=q("div"),s.innerHTML='<div class="bg svelte-r0s91c"></div>',X(s,"class","loader svelte-r0s91c"),X(t,"class","cell-fabric svelte-r0s91c"),X(t,"data-column-identifier",a=e[1].id),se(t,"show-as-skeleton",e[9]),se(t,"is-independent",e[13]),se(t,"light-text",e[16])},m(e,r){H(e,t,r),n&&it(n,t,null),F(t,o),F(t,s),i=!0},p(e,[s]){const l=196094&s?rt(c,[131072&s&&ot(e[17]),2&s&&{columnFabric:e[1]},128&s&&{isActive:e[7]},256&s&&{disabled:e[8]},8192&s&&{isIndependentOfSheet:e[13]},1024&s&&{horizontalAlignment:e[10]},4&s&&{recordSummary:e[2]},64&s&&{setRecordSummary:e[6]},8&s&&{fileManifest:e[3]},16&s&&{setFileManifest:e[4]},32&s&&{fileRequestParams:e[5]},2048&s&&{searchValue:e[11]},4096&s&&{isProcessing:e[12]},16384&s&&{showTruncationPopover:e[14]},32768&s&&{canViewLinkedEntities:e[15]}]):{};if(!r&&1&s&&(r=!0,l.value=e[0],Oe((()=>r=!1))),d!==(d=e[18])){if(n){qe();const e=n;Ue(e.$$.fragment,1,0,(()=>{lt(e,1)})),Be()}d?(n=new d($(e)),Ce.push((()=>st(n,"value",u))),n.$on("movementKeyDown",e[21]),n.$on("update",e[22]),at(n.$$.fragment),je(n.$$.fragment,1),it(n,t,o)):n=null}else d&&n.$set(l);(!i||2&s&&a!==(a=e[1].id))&&X(t,"data-column-identifier",a),(!i||512&s)&&se(t,"show-as-skeleton",e[9]),(!i||8192&s)&&se(t,"is-independent",e[13]),(!i||65536&s)&&se(t,"light-text",e[16])},i(e){i||(n&&je(n.$$.fragment,e),i=!0)},o(e){n&&Ue(n.$$.fragment,e),i=!1},d(e){e&&z(t),n&&lt(n)}}}function ZV(e,t,n){let r,o,s,{columnFabric:a}=t,{value:i}=t,{recordSummary:l}=t,{fileManifest:c}=t,{setFileManifest:u}=t,{fileRequestParams:d}=t,{setRecordSummary:$}=t,{isActive:p=!1}=t,{disabled:m=!1}=t,{showAsSkeleton:f=!1}=t,{horizontalAlignment:g}=t,{searchValue:h}=t,{isProcessing:y=!1}=t,{isIndependentOfSheet:b=!1}=t,{showTruncationPopover:v=!1}=t,{canViewLinkedEntities:w=!0}=t,{lightText:_=!1}=t;return e.$$set=e=>{"columnFabric"in e&&n(1,a=e.columnFabric),"value"in e&&n(0,i=e.value),"recordSummary"in e&&n(2,l=e.recordSummary),"fileManifest"in e&&n(3,c=e.fileManifest),"setFileManifest"in e&&n(4,u=e.setFileManifest),"fileRequestParams"in e&&n(5,d=e.fileRequestParams),"setRecordSummary"in e&&n(6,$=e.setRecordSummary),"isActive"in e&&n(7,p=e.isActive),"disabled"in e&&n(8,m=e.disabled),"showAsSkeleton"in e&&n(9,f=e.showAsSkeleton),"horizontalAlignment"in e&&n(10,g=e.horizontalAlignment),"searchValue"in e&&n(11,h=e.searchValue),"isProcessing"in e&&n(12,y=e.isProcessing),"isIndependentOfSheet"in e&&n(13,b=e.isIndependentOfSheet),"showTruncationPopover"in e&&n(14,v=e.showTruncationPopover),"canViewLinkedEntities"in e&&n(15,w=e.canViewLinkedEntities),"lightText"in e&&n(16,_=e.lightText)},e.$$.update=()=>{2&e.$$.dirty&&n(19,({cellComponentAndProps:r}=a),r),524288&e.$$.dirty&&n(18,({component:o}=r),o),524288&e.$$.dirty&&n(17,s=r.props)},[i,a,l,c,u,d,$,p,m,f,g,h,y,b,v,w,_,s,o,r,function(e){i=e,n(0,i)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)}]}class JV extends ut{constructor(e){super(),ct(this,e,ZV,XV,f,{columnFabric:1,value:0,recordSummary:2,fileManifest:3,setFileManifest:4,fileRequestParams:5,setRecordSummary:6,isActive:7,disabled:8,showAsSkeleton:9,horizontalAlignment:10,searchValue:11,isProcessing:12,isIndependentOfSheet:13,showTruncationPopover:14,canViewLinkedEntities:15,lightText:16})}}function QV(e){let t,n;return t=new JV({props:{columnFabric:e[1],value:e[6],recordSummary:e[8],fileManifest:e[7],disabled:!0,showAsSkeleton:!tT(e[0])||e[5],searchValue:e[9],showTruncationPopover:!0}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.columnFabric=e[1]),64&n&&(r.value=e[6]),256&n&&(r.recordSummary=e[8]),128&n&&(r.fileManifest=e[7]),33&n&&(r.showAsSkeleton=!tT(e[0])||e[5]),512&n&&(r.searchValue=e[9]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function eq(e){let t,n;return t=new IV({props:{rowType:"dataRow",columnType:"dataColumn",$$slots:{default:[QV]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};17379&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function tq(e,t,n){let r,o,s,i,l,c,u,d,$=a,p=()=>($(),$=g(_,(e=>n(11,c=e))),_),m=a,f=()=>(m(),m=g(w,(e=>n(12,u=e))),w),h=a,y=()=>(h(),h=g(x,(e=>n(13,d=e))),x);e.$$.on_destroy.push((()=>$())),e.$$.on_destroy.push((()=>m())),e.$$.on_destroy.push((()=>h()));let{row:b}=t,{processedColumn:v}=t,{linkedRecordSummaries:w}=t;f();let{fileManifests:_}=t;p();let{searchFuzzy:x}=t;y();let{isLoading:C=!1}=t;return e.$$set=e=>{"row"in e&&n(0,b=e.row),"processedColumn"in e&&n(1,v=e.processedColumn),"linkedRecordSummaries"in e&&f(n(2,w=e.linkedRecordSummaries)),"fileManifests"in e&&p(n(3,_=e.fileManifests)),"searchFuzzy"in e&&y(n(4,x=e.searchFuzzy)),"isLoading"in e&&n(5,C=e.isLoading)},e.$$.update=()=>{2&e.$$.dirty&&n(10,({column:r}=v),r),9216&e.$$.dirty&&n(9,o=d.get(r.id)),1025&e.$$.dirty&&n(6,s=b?.record?.[r.id]),5184&e.$$.dirty&&n(8,i=u.get(String(r.id))?.get(String(s))),3136&e.$$.dirty&&n(7,l=(()=>{if(!r.metadata?.file_backend)return;const e=UT(s);return e?c.get(String(r.id))?.get(e.mash):void 0})())},[b,v,w,_,x,C,s,l,i,o,r,c,u,d]}class nq extends ut{constructor(e){super(),ct(this,e,tq,eq,f,{row:0,processedColumn:1,linkedRecordSummaries:2,fileManifests:3,searchFuzzy:4,isLoading:5})}}function rq(e){let t,n,r,o;const s=e[9].default,a=b(s,e,e[8],null);let i=[{class:"passthrough tr svelte-8q4rz6"},{href:e[0]},{tabindex:"-1"}],c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return{c(){t=q(e[2]),a&&a.c(),Z(t,c),se(t,"selected",e[1])},m(s,i){H(s,t,i),a&&a.m(t,null),n=!0,r||(o=[Y(t,"click",e[3]),Y(t,"mousemove",e[4])],r=!0)},p(e,r){a&&a.p&&(!n||256&r)&&_(a,s,e,e[8],n?w(s,e[8],r,null):x(e[8]),null),Z(t,c=rt(i,[{class:"passthrough tr svelte-8q4rz6"},(!n||1&r)&&{href:e[0]},{tabindex:"-1"}])),se(t,"selected",e[1])},i(e){n||(je(a,e),n=!0)},o(e){Ue(a,e),n=!1},d(e){e&&z(t),a&&a.d(e),r=!1,d(o)}}}function oq(e){let t,n,r=e[2],o=e[2]&&rq(e);return{c(){o&&o.c(),t=W()},m(e,r){o&&o.m(e,r),H(e,t,r),n=!0},p(e,[n]){e[2]?r?f(r,e[2])?(o.d(1),o=rq(e),o.c(),o.m(t.parentNode,t)):o.p(e,n):(o=rq(e),o.c(),o.m(t.parentNode,t)):r&&(o.d(1),o=null),r=e[2]},i(e){n||(je(o),n=!0)},o(e){Ue(o),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function sq(e,t,n){let r,o,{$$slots:s={},$$scope:a}=t;const i=ye();let{href:l}=t,{index:c}=t,{selectionIndex:u}=t,{setSelectionIndex:d}=t;return e.$$set=e=>{"href"in e&&n(0,l=e.href),"index"in e&&n(5,c=e.index),"selectionIndex"in e&&n(6,u=e.selectionIndex),"setSelectionIndex"in e&&n(7,d=e.setSelectionIndex),"$$scope"in e&&n(8,a=e.$$scope)},e.$$.update=()=>{1&e.$$.dirty&&n(2,r=l?"a":"div"),96&e.$$.dirty&&n(1,o=u===c)},[l,o,r,function(e){e.preventDefault(),i("click")},function(){void 0!==u&&d(c)},c,u,d,a,s]}class aq extends ut{constructor(e){super(),ct(this,e,sq,oq,f,{href:0,index:5,selectionIndex:6,setSelectionIndex:7})}}function iq(e){let t,n,r,o,s,a,i,c,u;const d=[e[3]];let $={};for(let f=0;f<d.length;f+=1)$=l($,d[f]);r=new Jd({props:$});let p=[{class:"submit passthrough svelte-1y8tbea"}],m={};for(let f=0;f<p.length;f+=1)m=l(m,p[f]);return{c(){t=q(e[1]),n=q("span"),at(r.$$.fragment),o=U(),s=q("span"),a=j(e[2]),X(n,"class","icon"),X(s,"class","label"),Z(t,m),se(t,"hover",e[0])},m(l,d){H(l,t,d),F(t,n),it(r,n,null),F(t,o),F(t,s),F(s,a),i=!0,c||(u=Y(t,"click",e[4]),c=!0)},p(e,n){const o=8&n?rt(d,[ot(e[3])]):{};r.$set(o),(!i||4&n)&&Q(a,e[2]),Z(t,m=rt(p,[{class:"submit passthrough svelte-1y8tbea"}])),se(t,"hover",e[0])},i(e){i||(je(r.$$.fragment,e),i=!0)},o(e){Ue(r.$$.fragment,e),i=!1},d(e){e&&z(t),lt(r),c=!1,u()}}}function lq(e){let t,n=e[1],r=e[1]&&iq(e);return{c(){r&&r.c(),t=W()},m(e,n){r&&r.m(e,n),H(e,t,n)},p(e,[o]){e[1]?n?f(n,e[1])?(r.d(1),r=iq(e),r.c(),r.m(t.parentNode,t)):r.p(e,o):(r=iq(e),r.c(),r.m(t.parentNode,t)):n&&(r.d(1),r=null),n=e[1]},i:a,o(e){Ue(r)},d(e){e&&z(t),r&&r.d(e)}}}function cq(e,t,n){let r,o,s,a;y(e,no,(e=>n(6,a=e)));const i=ye();let{purpose:l}=t,{isSelected:c}=t;return e.$$set=e=>{"purpose"in e&&n(5,l=e.purpose),"isSelected"in e&&n(0,c=e.isSelected)},e.$$.update=()=>{32&e.$$.dirty&&n(3,r="dataEntry"===l?sC:PC),96&e.$$.dirty&&n(2,o=a("dataEntry"===l?"pick":"open")),32&e.$$.dirty&&n(1,s="dataEntry"===l?"button":"div")},[c,s,o,r,function(){"dataEntry"===l&&i("click")},l,a]}class uq extends ut{constructor(e){super(),ct(this,e,cq,lq,f,{purpose:5,isSelected:0})}}function dq(e,t,n){const r=e.slice();return r[72]=t[n],r[74]=n,r}function $q(e,t,n){const r=e.slice();return r[75]=t[n][0],r[76]=t[n][1],r}function pq(e,t,n){const r=e.slice();r[75]=t[n][0],r[76]=t[n][1];const o=r[76];return r[79]=o.column,r}function mq(e,t){let n,r,o;return r=new GV({props:{hasNestedSelectorOpen:t[79]===t[23],overflowDetails:t[28],processedColumn:t[76],searchFuzzy:t[6],recordSummaryStore:t[11]}}),r.$on("focus",(function(){return t[48](t[79])})),r.$on("blur",t[49]),r.$on("recordSelectorOpen",(function(){return t[50](t[79])})),r.$on("recordSelectorSubmit",t[51]),r.$on("recordSelectorCancel",t[52]),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};12582912&n[0]&&(o.hasNestedSelectorOpen=t[79]===t[23]),4194304&n[0]&&(o.processedColumn=t[76]),64&n[0]&&(o.searchFuzzy=t[6]),2048&n[0]&&(o.recordSummaryStore=t[11]),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function fq(e){let t,n;return t=new uq({props:{purpose:e[17],isSelected:e[4]===e[74]}}),t.$on("click",(function(){return e[53](e[74])})),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(n,r){e=n;const o={};131072&r[0]&&(o.purpose=e[17]),16&r[0]&&(o.isSelected=e[4]===e[74]),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function gq(e,t){let n,r,o;return r=new nq({props:{row:t[72],processedColumn:t[76],linkedRecordSummaries:t[11],fileManifests:t[9],searchFuzzy:t[6],isLoading:t[2]}}),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};2&n[0]&&(o.row=t[72]),4194304&n[0]&&(o.processedColumn=t[76]),2048&n[0]&&(o.linkedRecordSummaries=t[11]),512&n[0]&&(o.fileManifests=t[9]),64&n[0]&&(o.searchFuzzy=t[6]),4&n[0]&&(o.isLoading=t[2]),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function hq(e){let t,n,r,o,s=[],a=new Map;t=new IV({props:{rowType:"dataRow",columnType:"rowHeaderColumn",rowIsSelected:e[4]===e[74],overflowDetails:e[28],$$slots:{default:[fq]},$$scope:{ctx:e}}});let i=[...e[22]];const l=e=>e[75];for(let c=0;c<i.length;c+=1){let t=$q(e,i,c),n=l(t);a.set(n,s[c]=gq(n,t))}return{c(){at(t.$$.fragment),n=U();for(let e=0;e<s.length;e+=1)s[e].c();r=U()},m(e,a){it(t,e,a),H(e,n,a);for(let t=0;t<s.length;t+=1)s[t].m(e,a);H(e,r,a),o=!0},p(e,n){const o={};16&n[0]&&(o.rowIsSelected=e[4]===e[74]),131088&n[0]|1048576&n[2]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o),4196934&n[0]&&(i=[...e[22]],qe(),s=nt(s,n,l,1,e,i,a,r.parentNode,et,gq,r,$q),Be())},i(e){if(!o){je(t.$$.fragment,e);for(let e=0;e<i.length;e+=1)je(s[e]);o=!0}},o(e){Ue(t.$$.fragment,e);for(let t=0;t<s.length;t+=1)Ue(s[t]);o=!1},d(e){lt(t,e),e&&z(n);for(let t=0;t<s.length;t+=1)s[t].d(e);e&&z(r)}}}function yq(e){let t,n;return t=new aq({props:{href:e[26](e[72]),index:e[74],selectionIndex:e[4],setSelectionIndex:e[54],$$slots:{default:[hq]},$$scope:{ctx:e}}}),t.$on("click",(function(){return e[55](e[74])})),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(n,r){e=n;const o={};2&r[0]&&(o.href=e[26](e[72])),16&r[0]&&(o.selectionIndex=e[4]),1&r[0]&&(o.setSelectionIndex=e[54]),4328022&r[0]|1048576&r[2]&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function bq(e){let t,n,r,o,s,a,i,l,c,u,d,$,p,m,f=[],g=new Map;a=new IV({props:{rowType:"columnHeaderRow",columnType:"rowHeaderColumn",overflowDetails:e[28]}});let h=[...e[22]];const y=e=>e[75];for(let _=0;_<h.length;_+=1){let t=pq(e,h,_),n=y(t);g.set(n,f[_]=mq(n,t))}let b=e[1],v=[];for(let _=0;_<b.length;_+=1)v[_]=yq(dq(e,b,_));const w=e=>Ue(v[e],1,1,(()=>{v[e]=null}));return{c(){t=q("div"),n=q("div"),r=q("div"),o=q("div"),s=q("div"),at(a.$$.fragment),i=U();for(let e=0;e<f.length;e+=1)f[e].c();l=U(),c=q("div");for(let e=0;e<v.length;e+=1)v[e].c();u=U(),d=q("div"),X(s,"class","tr inputs svelte-7pgsjd"),X(o,"class","thead svelte-7pgsjd"),X(c,"class","tbody svelte-7pgsjd"),X(r,"class","table svelte-7pgsjd"),X(n,"class","scroll-container svelte-7pgsjd"),X(d,"class","inset-shadow svelte-7pgsjd"),X(t,"class","inset-shadow-positioner svelte-7pgsjd"),se(t,"has-overflow-top",e[18]),se(t,"has-overflow-right",e[19]),se(t,"has-overflow-bottom",e[20]),se(t,"has-overflow-left",e[21])},m(g,h){H(g,t,h),F(t,n),F(n,r),F(r,o),F(o,s),it(a,s,null),F(s,i);for(let e=0;e<f.length;e+=1)f[e].m(s,null);F(r,l),F(r,c);for(let e=0;e<v.length;e+=1)v[e].m(c,null);F(t,u),F(t,d),e[56](t),$=!0,p||(m=T(SV.call(null,n,e[28])),p=!0)},p(e,n){if(331352128&n[0]&&(h=[...e[22]],qe(),f=nt(f,n,y,1,e,h,g,s,et,mq,null,pq),Be()),474090071&n[0]){let t;for(b=e[1],t=0;t<b.length;t+=1){const r=dq(e,b,t);v[t]?(v[t].p(r,n),je(v[t],1)):(v[t]=yq(r),v[t].c(),je(v[t],1),v[t].m(c,null))}for(qe(),t=b.length;t<v.length;t+=1)w(t);Be()}(!$||262144&n[0])&&se(t,"has-overflow-top",e[18]),(!$||524288&n[0])&&se(t,"has-overflow-right",e[19]),(!$||1048576&n[0])&&se(t,"has-overflow-bottom",e[20]),(!$||2097152&n[0])&&se(t,"has-overflow-left",e[21])},i(e){if(!$){je(a.$$.fragment,e);for(let e=0;e<h.length;e+=1)je(f[e]);for(let e=0;e<b.length;e+=1)je(v[e]);$=!0}},o(e){Ue(a.$$.fragment,e);for(let t=0;t<f.length;t+=1)Ue(f[t]);v=v.filter(Boolean);for(let t=0;t<v.length;t+=1)Ue(v[t]);$=!1},d(n){n&&z(t),lt(a);for(let e=0;e<f.length;e+=1)f[e].d();V(v,n),e[56](null),p=!1,m()}}}function vq(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,b,v,w,_,x,C,S,k,M,T,E,D,O,N,A,R,F,P,L,H,z,V,q,B,j=a,U=a,W=a,Y=a,K=a,G=a,X=a,Z=a,J=a;y(e,EH,(e=>n(63,N=e))),e.$$.on_destroy.push((()=>j())),e.$$.on_destroy.push((()=>U())),e.$$.on_destroy.push((()=>W())),e.$$.on_destroy.push((()=>Y())),e.$$.on_destroy.push((()=>K())),e.$$.on_destroy.push((()=>G())),e.$$.on_destroy.push((()=>X())),e.$$.on_destroy.push((()=>Z())),e.$$.on_destroy.push((()=>J()));let{controller:Q}=t,{tabularData:ee}=t,{nestedController:te}=t,{submitResult:ne}=t,{isHoveringCreate:re=!1}=t,{handleKeyboardNavigation:oe=!1}=t;const se=Ez(ee);let ae,ie,le;function ce(e){te.cancel(),n(39,ae=e)}function ue(){n(39,ae=void 0)}function de(e){if(void 0===ie)return;const t=ie+e;n(0,ie=Math.min(Math.max(t,0),k-1))}function $e(e){const{record:t}=e;if(t&&0!==Object.keys(t).length)return gT(t,E)}function pe(e){const t=S[e];if(!t)return;const{record:n}=t,r=$e(t);if(!n||void 0===r)return;const o=O.get(String(r))??"";ne({recordId:r,recordSummary:o,record:n})}function me(e){if(!oe)return;if(D)return;let t=!0;switch(e.key){case"ArrowUp":de(-1);break;case"ArrowDown":de(1);break;case"Enter":!M||e.shiftKey?void 0!==T&&pe(T):t=!1;break;default:t=!1}t&&(e.stopPropagation(),e.preventDefault())}fe((()=>(window.addEventListener("keydown",me,{capture:!0}),()=>{window.removeEventListener("keydown",me,{capture:!0})}))),fe((async function(){const e=E.find((e=>!1===e.primary_key))?.id??E[0].id;await Ee();const t=`.record-selector-input.column-${e}`,n=le.querySelector(t);n&&n.focus()}));const ge={hasOverflowTop:pt(!1),hasOverflowLeft:pt(!1),hasOverflowBottom:pt(!1),hasOverflowRight:pt(!1)},{hasOverflowTop:he,hasOverflowRight:ye,hasOverflowBottom:be,hasOverflowLeft:ve}=ge;y(e,he,(e=>n(18,L=e))),y(e,ye,(e=>n(19,H=e))),y(e,be,(e=>n(20,z=e))),y(e,ve,(e=>n(21,V=e)));return e.$$set=e=>{"controller"in e&&n(33,Q=e.controller),"tabularData"in e&&n(34,ee=e.tabularData),"nestedController"in e&&n(35,te=e.nestedController),"submitResult"in e&&n(36,ne=e.submitResult),"isHoveringCreate"in e&&n(37,re=e.isHoveringCreate),"handleKeyboardNavigation"in e&&n(38,oe=e.handleKeyboardNavigation)},e.$$.update=()=>{16&e.$$.dirty[1]&&UH.set(te),4&e.$$.dirty[1]&&(n(16,({columnWithNestedSelectorOpen:r,purpose:o}=Q),r,(n(15,o),Y(),Y=g(o,(e=>n(17,A=e))),o)),J(),J=g(r,(e=>n(23,B=e)))),8&e.$$.dirty[1]&&se.set(ee),8&e.$$.dirty[1]&&(n(14,({constraintsDataStore:s,meta:i,columnsDataStore:l,table:c,recordsData:u,processedColumns:d}=ee),s,(n(43,i),n(34,ee)),(n(44,l),n(34,ee)),(n(41,u),n(34,ee)),(n(13,d),Z(),Z=g(d,(e=>n(22,q=e))),d)),G(),G=g(s,(e=>n(46,F=e)))),1024&e.$$.dirty[1]&&(n(12,({recordSummaries:$,linkedRecordSummaries:p,state:m,fileManifests:f}=u),$,(n(11,p),n(41,u),n(34,ee)),(n(10,m),X(),X=g(m,(e=>n(47,P=e))),m),(n(9,f),n(41,u),n(34,ee))),W(),W=g($,(e=>n(62,O=e)))),65536&e.$$.dirty[1]&&n(2,h=P===pk.Loading),32768&e.$$.dirty[1]&&n(42,({constraints:b}=F),b),16&e.$$.dirty[1]&&(n(8,v=te.isOpen),U(),U=g(v,(e=>n(61,D=e)))),8192&e.$$.dirty[1]&&(n(7,({columns:w}=l),w),j(),j=g(w,(e=>n(60,E=e)))),4096&e.$$.dirty[1]&&n(6,({searchFuzzy:_}=i),_),2048&e.$$.dirty[1]&&n(40,x=new so(b.filter(Sz).filter((e=>1===e.columns.length)).map((e=>e.columns[0])))),1024&e.$$.dirty[1]&&(n(5,C=u.fetchedRecordRows),K(),K=g(C,(e=>n(45,R=e)))),16384&e.$$.dirty[1]&&n(1,S=R),2&e.$$.dirty[0]&&(k=S.length),768&e.$$.dirty[1]&&(M=(()=>{if(void 0!==ae)return x.has(ae.id)?ae:void 0})()),4&e.$$.dirty[0]&&n(0,ie=h?void 0:0),1&e.$$.dirty[0]|64&e.$$.dirty[1]&&n(4,T=re?void 0:ie)},[ie,S,h,le,T,C,_,w,v,f,m,p,$,d,s,o,r,A,L,H,z,V,q,B,ce,ue,function(e){if("dataEntry"===A)return;const t=$e(e);return t?N({tableId:c.oid,recordId:t}):void 0},pe,ge,he,ye,be,ve,Q,ee,te,ne,re,oe,ae,x,u,b,i,l,R,F,P,e=>ce(e),()=>ue(),e=>{I(r,B=e,B)},()=>{I(r,B=void 0,B)},()=>{I(r,B=void 0,B)},e=>pe(e),e=>{n(0,ie=e)},e=>pe(e),function(e){Ce[e?"unshift":"push"]((()=>{le=e,n(3,le)}))}]}class wq extends ut{constructor(e){super(),ct(this,e,vq,bq,f,{controller:33,tabularData:34,nestedController:35,submitResult:36,isHoveringCreate:37,handleKeyboardNavigation:38},null,[-1,-1,-1])}}function _q(e){let t,n,r=(e[11]||!e[5])&&xq();return{c(){t=q("div"),r&&r.c(),X(t,"class","content-loading svelte-1xl5vbd"),se(t,"prevent-user-entry",e[11])},m(e,o){H(e,t,o),r&&r.m(t,null),n=!0},p(e,o){e[11]||!e[5]?r?2080&o[0]&&je(r,1):(r=xq(),r.c(),je(r,1),r.m(t,null)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be()),(!n||2048&o[0])&&se(t,"prevent-user-entry",e[11])},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){e&&z(t),r&&r.d()}}}function xq(e){let t,n;return t=new t$({props:{size:"2em"}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Cq(e){let t,n;return t=new wq({props:{tabularData:e[2],controller:e[1],nestedController:e[3],submitResult:e[35],isHoveringCreate:e[12],handleKeyboardNavigation:!e[13]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4&n[0]&&(r.tabularData=e[2]),2&n[0]&&(r.controller=e[1]),8&n[0]&&(r.nestedController=e[3]),4096&n[0]&&(r.isHoveringCreate=e[12]),8192&n[0]&&(r.handleKeyboardNavigation=!e[13]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Sq(e){let t,n;return t=new cV({props:{fullWidth:!0,$$slots:{default:[Iq]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1152&n[0]|268435460&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function kq(e){let t,n=e[33]("no_privileges_view_table")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){4&r[1]&&n!==(n=e[33]("no_privileges_view_table")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Mq(e){let t,n=e[33]("record_sel_no_support_for_table_without_pk")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){4&r[1]&&n!==(n=e[33]("record_sel_no_support_for_table_without_pk")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Iq(e){let t;function n(e,t){return e[10]?e[7]?void 0:kq:Mq}let r=n(e),o=r&&r(e);return{c(){o&&o.c(),t=W()},m(e,n){o&&o.m(e,n),H(e,t,n)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o&&o.d(1),o=r&&r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o&&o.d(e),e&&z(t)}}}function Tq(e){let t,n,r,o;const s=[Dq,Eq],a=[];function i(e,t){return e[32]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function Eq(e){let t;function n(e,t){return e[6]?Nq:Oq}let r=n(e),o=r(e);return{c(){t=q("div"),o.c(),X(t,"class","no-results svelte-1xl5vbd")},m(e,n){H(e,t,n),o.m(t,null)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t,null)))},i:a,o:a,d(e){e&&z(t),o.d()}}}function Dq(e){let t,n,r;return n=new t$({props:{size:"2em"}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","results-loading svelte-1xl5vbd")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p:a,i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function Oq(e){let t,n=e[33]("no_existing_records")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){4&r[1]&&n!==(n=e[33]("no_existing_records")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Nq(e){let t,n=e[33]("no_matching_records")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){4&r[1]&&n!==(n=e[33]("no_matching_records")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Aq(e){let t;function n(e,t){return e[17]?Fq:Rq}let r=n(e),o=r(e);return{c(){t=q("div"),o.c(),X(t,"class","stats svelte-1xl5vbd")},m(e,n){H(e,t,n),o.m(t,null)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t,null)))},d(e){e&&z(t),o.d()}}}function Rq(e){let t,n=e[33]("count_records",{values:{count:e[8]}})+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){256&r[0]|4&r[1]&&n!==(n=e[33]("count_records",{values:{count:e[8]}})+"")&&Q(t,n)},d(e){e&&z(t)}}}function Fq(e){let t,n=e[33]("showing_n_to_m_of_total",{values:{leftBound:e[34].format(e[16]),rightBound:e[34].format(e[15]),totalCount:e[34].format(e[8])}})+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){98560&r[0]|4&r[1]&&n!==(n=e[33]("showing_n_to_m_of_total",{values:{leftBound:e[34].format(e[16]),rightBound:e[34].format(e[15]),totalCount:e[34].format(e[8])}})+"")&&Q(t,n)},d(e){e&&z(t)}}}function Pq(e){let t,n,r;return n=new Hu({props:{size:"small",appearance:"secondary",$$slots:{default:[Lq]},$$scope:{ctx:e}}}),n.$on("click",e[36]),n.$on("mouseenter",e[48]),n.$on("mouseleave",e[49]),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","add-button svelte-1xl5vbd")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};268435460&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function Lq(e){let t,n,r,o,s,a=e[33]("create_record_from_search")+"";const i=[jx];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return t=new Jd({props:c}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(a)},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),F(r,o),s=!0},p(e,n){const r=0&n?rt(i,[ot(jx)]):{};t.$set(r),(!s||4&n[1])&&a!==(a=e[33]("create_record_from_search")+"")&&Q(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function Hq(e){let t,n,r,o,s,a;function i(t){e[50](t)}function l(t){e[51](t)}let c={recordCount:e[8]??0};return void 0!==e[9]&&(c.pagination=e[9]),void 0!==e[13]&&(c.pageJumperIsOpen=e[13]),r=new CV({props:c}),Ce.push((()=>st(r,"pagination",i))),Ce.push((()=>st(r,"pageJumperIsOpen",l))),{c(){t=q("div"),n=q("div"),at(r.$$.fragment),X(n,"class","positioner svelte-1xl5vbd"),X(t,"class","pager svelte-1xl5vbd")},m(e,o){H(e,t,o),F(t,n),it(r,n,null),a=!0},p(e,t){const n={};256&t[0]&&(n.recordCount=e[8]??0),!o&&512&t[0]&&(o=!0,n.pagination=e[9],Oe((()=>o=!1))),!s&&8192&t[0]&&(s=!0,n.pageJumperIsOpen=e[13],Oe((()=>s=!1))),r.$set(n)},i(e){a||(je(r.$$.fragment,e),a=!0)},o(e){Ue(r.$$.fragment,e),a=!1},d(e){e&&z(t),lt(r)}}}function zq(e){let t,n,r,o,s,a,i,l,c,u,d,$=(e[32]||e[11])&&_q(e),p=e[5]&&e[27]&&Cq(e),m=e[5]&&!e[27]&&Sq(e),f=e[5]&&!e[19].length&&e[27]&&Tq(e),g=e[8]&&Aq(e),h=e[18]&&Pq(e),y=e[17]&&Hq(e);return{c(){t=q("div"),$&&$.c(),n=U(),p&&p.c(),r=U(),m&&m.c(),o=U(),f&&f.c(),s=U(),a=q("div"),g&&g.c(),i=U(),h&&h.c(),l=U(),y&&y.c(),X(a,"class","footer svelte-1xl5vbd"),De((()=>e[52].call(a))),se(a,"wrapping",e[14]),se(a,"has-add-button",e[18]),se(a,"has-pagination",e[17]),X(t,"class","record-selector-content svelte-1xl5vbd"),De((()=>e[53].call(t))),se(t,"loading",e[32])},m(b,v){H(b,t,v),$&&$.m(t,null),F(t,n),p&&p.m(t,null),F(t,r),m&&m.m(t,null),F(t,o),f&&f.m(t,null),F(t,s),F(t,a),g&&g.m(a,null),F(a,i),h&&h.m(a,null),F(a,l),y&&y.m(a,null),c=oe(a,e[52].bind(a)),u=oe(t,e[53].bind(t)),d=!0},p(e,c){e[32]||e[11]?$?($.p(e,c),2048&c[0]|2&c[1]&&je($,1)):($=_q(e),$.c(),je($,1),$.m(t,n)):$&&(qe(),Ue($,1,1,(()=>{$=null})),Be()),e[5]&&e[27]?p?(p.p(e,c),134217760&c[0]&&je(p,1)):(p=Cq(e),p.c(),je(p,1),p.m(t,r)):p&&(qe(),Ue(p,1,1,(()=>{p=null})),Be()),e[5]&&!e[27]?m?(m.p(e,c),134217760&c[0]&&je(m,1)):(m=Sq(e),m.c(),je(m,1),m.m(t,o)):m&&(qe(),Ue(m,1,1,(()=>{m=null})),Be()),e[5]&&!e[19].length&&e[27]?f?(f.p(e,c),134742048&c[0]&&je(f,1)):(f=Tq(e),f.c(),je(f,1),f.m(t,s)):f&&(qe(),Ue(f,1,1,(()=>{f=null})),Be()),e[8]?g?g.p(e,c):(g=Aq(e),g.c(),g.m(a,i)):g&&(g.d(1),g=null),e[18]?h?(h.p(e,c),262144&c[0]&&je(h,1)):(h=Pq(e),h.c(),je(h,1),h.m(a,l)):h&&(qe(),Ue(h,1,1,(()=>{h=null})),Be()),e[17]?y?(y.p(e,c),131072&c[0]&&je(y,1)):(y=Hq(e),y.c(),je(y,1),y.m(a,null)):y&&(qe(),Ue(y,1,1,(()=>{y=null})),Be()),(!d||16384&c[0])&&se(a,"wrapping",e[14]),(!d||262144&c[0])&&se(a,"has-add-button",e[18]),(!d||131072&c[0])&&se(a,"has-pagination",e[17]),(!d||2&c[1])&&se(t,"loading",e[32])},i(e){d||(je($),je(p),je(m),je(f),je(h),je(y),d=!0)},o(e){Ue($),Ue(p),Ue(m),Ue(f),Ue(h),Ue(y),d=!1},d(e){e&&z(t),$&&$.d(),p&&p.d(),m&&m.d(),f&&f.d(),g&&g.d(),h&&h.d(),y&&y.d(),c(),u()}}}function Vq(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,b,v,w,_,x,C,S,k,M,I,T,E,D,O,N,A,R,F,P,L,H,z,V,q,B,j,U,W,Y=a,K=a,G=a,X=a,Z=a,J=a,Q=a,ee=a,te=a,ne=a,re=a;y(e,EH,(e=>n(56,F=e))),y(e,no,(e=>n(33,W=e))),e.$$.on_destroy.push((()=>Y())),e.$$.on_destroy.push((()=>K())),e.$$.on_destroy.push((()=>G())),e.$$.on_destroy.push((()=>X())),e.$$.on_destroy.push((()=>Z())),e.$$.on_destroy.push((()=>J())),e.$$.on_destroy.push((()=>Q())),e.$$.on_destroy.push((()=>ee())),e.$$.on_destroy.push((()=>te())),e.$$.on_destroy.push((()=>ne())),e.$$.on_destroy.push((()=>re()));const oe=new Intl.NumberFormat;let se,{controller:ae}=t,{tabularData:ie}=t,{nestedController:le}=t,{height:ce=0}=t,ue=!1,de=!1,$e=!1;function pe(e){if("dataEntry"===P)ae.submit(e);else if("navigation"===P){const{recordId:t}=e,n=F({tableId:u.oid,recordId:t});n&&(Yz.goto(n),ae.cancel())}}function me(){const e=A.filter((e=>e.primary_key)).map((e=>e.id));return Object.fromEntries(R.without(e))}return e.$$set=e=>{"controller"in e&&n(1,ae=e.controller),"tabularData"in e&&n(2,ie=e.tabularData),"nestedController"in e&&n(3,le=e.nestedController),"height"in e&&n(0,ce=e.height)},e.$$.update=()=>{4&e.$$.dirty[0]&&(n(31,({database:r,constraintsDataStore:o,meta:s,isLoading:i,columnsDataStore:l,recordsData:c,table:u,hasPrimaryKey:d}=ie),o,(n(40,s),n(2,ie)),(n(30,i),re(),re=g(i,(e=>n(32,U=e))),i),(n(42,l),n(2,ie)),(n(39,c),n(2,ie)),(n(37,u),n(2,ie)),(n(29,d),ne(),ne=g(d,(e=>n(10,j=e))),d)),ee(),ee=g(o,(e=>n(46,q=e)))),64&e.$$.dirty[1]&&(n(28,({currentRolePrivileges:$}=u.currentAccess),$),te(),te=g($,(e=>n(47,B=e)))),65536&e.$$.dirty[1]&&n(7,p=B.has("SELECT")),1152&e.$$.dirty[0]&&n(27,m=j&&p),65536&e.$$.dirty[1]&&n(38,f=B.has("INSERT")),2&e.$$.dirty[0]&&(n(26,({purpose:h}=ae),h),G(),G=g(h,(e=>n(57,P=e)))),2048&e.$$.dirty[1]&&(n(25,({columns:b,fetchStatus:v}=l),b,(n(24,v),Q(),Q=g(v,(e=>n(45,V=e))),v)),Y(),Y=g(b,(e=>n(55,A=e)))),32768&e.$$.dirty[1]&&n(41,({state:w}=q),w),17408&e.$$.dirty[1]&&n(5,_="processing"!==V?.state&&w===pk.Done),512&e.$$.dirty[1]&&(n(23,({searchFuzzy:x,pagination:C}=s),x,(n(22,C),Z(),Z=g(C,(e=>n(9,H=e))),C)),K(),K=g(x,(e=>n(43,R=e)))),4096&e.$$.dirty[1]&&n(6,S=R.size>0),256&e.$$.dirty[1]&&(n(21,k=c.fetchedRecordRows),J(),J=g(k,(e=>n(44,z=e)))),256&e.$$.dirty[1]&&(n(20,M=c.totalCount),X(),X=g(M,(e=>n(8,L=e)))),8192&e.$$.dirty[1]&&n(19,I=z),64&e.$$.dirty[0]|128&e.$$.dirty[1]&&n(18,T=S&&f),800&e.$$.dirty[0]&&n(17,E=_&&(L??0)>H.size),512&e.$$.dirty[0]&&n(16,D=H.leftBound),768&e.$$.dirty[0]&&n(15,O=Math.min(H.rightBound,L??0)),16&e.$$.dirty[0]&&n(14,N=se>45)},[ce,ae,ie,le,se,_,S,p,L,H,j,ue,de,$e,N,O,D,E,T,I,M,k,C,x,v,b,h,m,$,d,i,o,U,W,oe,pe,async function(){try{n(11,ue=!0);const e=await PM.records.add({database_id:r.id,table_oid:u.oid,record_def:me(),return_record_summaries:!0}).run(),t=e.results[0],o=gT(t,A);pe({recordId:o,recordSummary:e.record_summaries?.[o]??"",record:t})}catch(e){WS.error(ck(e))}finally{n(11,ue=!1)}},u,f,c,s,w,l,R,z,V,q,B,()=>{n(12,de=!0)},()=>{n(12,de=!1)},function(e){H=e,C.set(H)},function(e){$e=e,n(13,$e)},function(){se=this.clientHeight,n(4,se)},function(){ce=this.clientHeight,n(0,ce)}]}class qq extends ut{constructor(e){super(),ct(this,e,Vq,zq,f,{controller:1,tabularData:2,nestedController:3,height:0},null,[-1,-1])}}const{window:Bq}=Je;function jq(e){let t,n,r;return n=new zb({props:{canScrollBody:!1,$$slots:{title:[Gq],default:[Wq]},$$scope:{ctx:e}}}),n.$on("close",e[18]),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","record-selector-window svelte-gjf3ag"),te(t,"margin-bottom",e[6])},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,o){const s={};2103615&o&&(s.$$scope={dirty:o,ctx:e}),n.$set(s),(!r||64&o)&&te(t,"margin-bottom",e[6])},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function Uq(e){let t,n,r,o,s,a,i,l;return o=new Jq({props:{windowPositionerElement:e[1],controller:e[3]}}),{c(){t=q("div"),n=U(),r=q("div"),at(o.$$.fragment),X(t,"class","overlay svelte-gjf3ag"),X(r,"class","nested-record-selector")},m(c,u){H(c,t,u),H(c,n,u),H(c,r,u),it(o,r,null),a=!0,i||(l=T(s=Mc.call(null,r,e[1])),i=!0)},p(e,t){const n={};2&t&&(n.windowPositionerElement=e[1]),8&t&&(n.controller=e[3]),o.$set(n),s&&$(s.update)&&2&t&&s.update.call(null,e[1])},i(e){a||(je(o.$$.fragment,e),a=!0)},o(e){Ue(o.$$.fragment,e),a=!1},d(e){e&&z(t),e&&z(n),e&&z(r),lt(o),i=!1,l()}}}function Wq(e){let t,n,r,o,s;function a(t){e[17](t)}let i={tabularData:e[8],controller:e[0],nestedController:e[3]};void 0!==e[2]&&(i.height=e[2]),t=new qq({props:i}),Ce.push((()=>st(t,"height",a)));let l=e[5]&&Uq(e);return{c(){at(t.$$.fragment),r=U(),l&&l.c(),o=W()},m(e,n){it(t,e,n),H(e,r,n),l&&l.m(e,n),H(e,o,n),s=!0},p(e,r){const s={};256&r&&(s.tabularData=e[8]),1&r&&(s.controller=e[0]),8&r&&(s.nestedController=e[3]),!n&&4&r&&(n=!0,s.height=e[2],Oe((()=>n=!1))),t.$set(s),e[5]?l?(l.p(e,r),32&r&&je(l,1)):(l=Uq(e),l.c(),je(l,1),l.m(o.parentNode,o)):l&&(qe(),Ue(l,1,1,(()=>{l=null})),Be())},i(e){s||(je(t.$$.fragment,e),je(l),s=!0)},o(e){Ue(t.$$.fragment,e),Ue(l),s=!1},d(e){lt(t,e),e&&z(r),l&&l.d(e),e&&z(o)}}}function Yq(e){let t,n;return t=new HI({props:{table:{name:e[4].name},truncate:!1}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.table={name:e[4].name}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Kq(e){let t,n,r="tableName"===e[20]&&e[4]&&Yq(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"tableName"===e[20]&&e[4]?r?(r.p(e,n),1048592&n&&je(r,1)):(r=Yq(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function Gq(e){let t,n,r;return n=new Rx({props:{text:"dataEntry"===e[11]?e[12]("pick_table_record"):e[12]("open_table_record"),$$slots:{default:[Kq,({slotName:e})=>({20:e}),({slotName:e})=>e?1048576:0]},$$scope:{ctx:e}}}),{c(){t=q("span"),at(n.$$.fragment),X(t,"slot","title")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};6144&t&&(r.text="dataEntry"===e[11]?e[12]("pick_table_record"):e[12]("open_table_record")),3145744&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function Xq(e){let t,n,r,o,s=e[8]&&jq(e);return{c(){s&&s.c(),t=W()},m(a,i){s&&s.m(a,i),H(a,t,i),n=!0,r||(o=[Y(Bq,"keydown",e[13]),Y(Bq,"click",e[14],!0)],r=!0)},p(e,[n]){e[8]?s?(s.p(e,n),256&n&&je(s,1)):(s=jq(e),s.c(),je(s,1),s.m(t.parentNode,t)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be())},i(e){n||(je(s),n=!0)},o(e){Ue(s),n=!1},d(e){s&&s.d(e),e&&z(t),r=!1,d(o)}}}function Zq(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h=a,b=a,v=a;y(e,xH,(e=>n(16,p=e))),y(e,no,(e=>n(12,f=e))),e.$$.on_destroy.push((()=>h())),e.$$.on_destroy.push((()=>b())),e.$$.on_destroy.push((()=>v()));let{controller:w}=t,{windowPositionerElement:_}=t,x=0,C=!1;fe((()=>{setTimeout((()=>{C=!0}),300)}));return e.$$set=e=>{"controller"in e&&n(0,w=e.controller),"windowPositionerElement"in e&&n(1,_=e.windowPositionerElement)},e.$$.update=()=>{1&e.$$.dirty&&n(3,r=new jH({nestingLevel:w.nestingLevel+1})),1&e.$$.dirty&&(n(10,({tableOid:o,purpose:s}=w),o,(n(9,s),v(),v=g(s,(e=>n(11,m=e))),s)),b(),b=g(o,(e=>n(15,$=e)))),98304&e.$$.dirty&&n(4,i=Co($,(e=>p.get(e)))),32784&e.$$.dirty&&n(8,l=$&&i?new Iz({database:i.schema.database,meta:new VT({pagination:new _T({size:100})}),hasEnhancedPrimaryKeyCell:!1,table:i,loadIntrinsicRecordSummaries:!0}):void 0),8&e.$$.dirty&&(n(7,c=r.isOpen),h(),h=g(c,(e=>n(5,d=e)))),36&e.$$.dirty&&n(6,u=d?`calc(2rem - ${x}px)`:"0")},[w,_,x,r,i,d,u,c,l,s,o,m,f,function(e){"Escape"!==e.key||d||w.cancel()},function(e){if(d)return;if(!C)return;const t=_.lastChild.firstChild?.firstChild,n=e.target;if(function(e,t){let n=e;for(;null!==n;){if(n===t)return!0;n=n.parentNode}return!1}(n,t))return;!!n?.closest("[data-attachable-dropdown]")||w.cancel()},$,p,function(e){x=e,n(2,x)},()=>w.cancel()]}class Jq extends ut{constructor(e){super(),ct(this,e,Zq,Xq,f,{controller:0,windowPositionerElement:1})}}function Qq(e){let t,n,r,o,s,a,i,l,c=e[2]&&eB(e);return s=new Jq({props:{windowPositionerElement:e[3],controller:e[0]}}),{c(){t=q("div"),c&&c.c(),n=U(),r=q("div"),o=q("div"),at(s.$$.fragment),X(o,"class","root-record-selector svelte-88o063"),X(r,"class","window-positioner svelte-88o063"),X(t,"class","modal-record-selector svelte-88o063")},m(u,d){H(u,t,d),c&&c.m(t,null),F(t,n),F(t,r),F(r,o),it(s,o,null),e[11](r),a=!0,i||(l=T(Mc.call(null,t)),i=!0)},p(e,r){e[2]?c?(c.p(e,r),4&r&&je(c,1)):(c=eB(e),c.c(),je(c,1),c.m(t,n)):c&&(qe(),Ue(c,1,1,(()=>{c=null})),Be());const o={};8&r&&(o.windowPositionerElement=e[3]),1&r&&(o.controller=e[0]),s.$set(o)},i(e){a||(je(c),je(s.$$.fragment,e),a=!0)},o(e){Ue(c),Ue(s.$$.fragment,e),a=!1},d(n){n&&z(t),c&&c.d(),lt(s),e[11](null),i=!1,l()}}}function eB(e){let t,n,r,o,s,i;return{c(){t=q("div"),X(t,"class","overlay svelte-88o063")},m(n,r){H(n,t,r),o=!0,s||(i=Y(t,"click",e[7]),s=!0)},p:a,i(e){o||(De((()=>{r&&r.end(1),n=Ye(t,gg,{duration:150}),n.start()})),o=!0)},o(e){n&&n.invalidate(),r=Ke(t,gg,{duration:150}),o=!1},d(e){e&&z(t),e&&r&&r.end(),s=!1,i()}}}function tB(e){let t,n,r=e[1]&&Qq(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,[n]){e[1]?r?(r.p(e,n),2&n&&je(r,1)):(r=Qq(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function nB(e,t,n){let r,o,s,i,l,c,u,d,$=a,p=a,m=a;e.$$.on_destroy.push((()=>$())),e.$$.on_destroy.push((()=>p())),e.$$.on_destroy.push((()=>m()));const f=ye();let h,{recordSelectorController:y}=t,{modalController:b}=t;return e.$$set=e=>{"recordSelectorController"in e&&n(0,y=e.recordSelectorController),"modalController"in e&&n(8,b=e.modalController)},e.$$.update=()=>{1&e.$$.dirty&&(n(6,({columnWithNestedSelectorOpen:r}=y),r),m(),m=g(r,(e=>n(10,d=e)))),1024&e.$$.dirty&&n(9,o=!!d),256&e.$$.dirty&&(n(5,({isOpen:s,isOnTop:i}=b),s,(n(4,i),p(),p=g(i,(e=>n(2,u=e))),i)),$(),$=g(s,(e=>n(1,c=e)))),516&e.$$.dirty&&(l=u&&!o),2&e.$$.dirty&&async function(e){await Ee(),f(e?"open":"close")}(c)},[y,c,u,h,i,s,r,function(){l&&(I(s,c=!1,c),y.cancel())},b,o,d,function(e){Ce[e?"unshift":"push"]((()=>{h=e,n(3,h)}))}]}class rB extends ut{constructor(e){super(),ct(this,e,nB,tB,f,{recordSelectorController:0,modalController:8})}}function oB(e){let t,n,r;return n=new sg({props:{tabindex:"-1",checked:e[1]}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","selection svelte-1fb8wu2")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};2&t&&(r.checked=e[1]),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function sB(e){let t,n;return t=new Pv({props:{text:e[3],substring:e[5]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.text=e[3]),32&n&&(r.substring=e[5]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function aB(e){let t,n,r,o,s=e[0]&&oB(e);return r=new Ng({props:{$$slots:{default:[sB]},$$scope:{ctx:e}}}),{c(){t=q("div"),s&&s.c(),n=U(),at(r.$$.fragment),X(t,"class","record svelte-1fb8wu2"),se(t,"in-focus",e[2]),se(t,"show-selection",e[0])},m(e,a){H(e,t,a),s&&s.m(t,null),F(t,n),it(r,t,null),o=!0},p(e,[a]){e[0]?s?(s.p(e,a),1&a&&je(s,1)):(s=oB(e),s.c(),je(s,1),s.m(t,n)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be());const i={};168&a&&(i.$$scope={dirty:a,ctx:e}),r.$set(i),(!o||4&a)&&se(t,"in-focus",e[2]),(!o||1&a)&&se(t,"show-selection",e[0])},i(e){o||(je(s),je(r.$$.fragment,e),o=!0)},o(e){Ue(s),Ue(r.$$.fragment,e),o=!1},d(e){e&&z(t),s&&s.d(),lt(r)}}}function iB(e,t,n){let r,o,s=a;e.$$.on_destroy.push((()=>s()));let{controller:i}=t,{showSelection:l=!1}=t,{isSelected:c}=t,{inFocus:u}=t,{summary:d}=t;return e.$$set=e=>{"controller"in e&&n(6,i=e.controller),"showSelection"in e&&n(0,l=e.showSelection),"isSelected"in e&&n(1,c=e.isSelected),"inFocus"in e&&n(2,u=e.inFocus),"summary"in e&&n(3,d=e.summary)},e.$$.update=()=>{64&e.$$.dirty&&(n(4,({searchValue:r}=i),r),s(),s=g(r,(e=>n(5,o=e))))},[l,c,u,d,r,o,i]}class lB extends ut{constructor(e){super(),ct(this,e,iB,aB,f,{controller:6,showSelection:0,isSelected:1,inFocus:2,summary:3})}}function cB(e){let t,n,r,o,s;return{c(){t=q("div"),n=q("input"),X(n,"class","search-bar svelte-1eee795"),X(n,"type","text"),X(n,"data-row-seeker-search-box",""),X(n,"placeholder",r=e[4]("search")),X(t,"class","search-box svelte-1eee795"),X(t,"data-row-seeker-search","")},m(r,a){H(r,t,a),F(t,n),e[6](n),ee(n,e[5]),o||(s=[Y(n,"input",e[7]),Y(n,"input",e[8]),Y(n,"keydown",(function(){$(e[1])&&e[1].apply(this,arguments)})),Y(t,"click",e[9])],o=!0)},p(t,[o]){e=t,16&o&&r!==(r=e[4]("search"))&&X(n,"placeholder",r),32&o&&n.value!==e[5]&&ee(n,e[5])},i:a,o:a,d(n){n&&z(t),e[6](null),o=!1,d(s)}}}function uB(e,t,n){let r,o,s,i=a;y(e,no,(e=>n(4,o=e))),e.$$.on_destroy.push((()=>i()));let l,{controller:c}=t,{onKeyDown:u}=t;return e.$$set=e=>{"controller"in e&&n(0,c=e.controller),"onKeyDown"in e&&n(1,u=e.onKeyDown)},e.$$.update=()=>{1&e.$$.dirty&&(n(3,({searchValue:r}=c),r),i(),i=g(r,(e=>n(5,s=e))))},[c,u,l,r,o,s,function(e){Ce[e?"unshift":"push"]((()=>{l=e,n(2,l)}))},function(){s=this.value,r.set(s)},()=>c.resetPaginationAndGetRecords(),()=>l.focus()]}class dB extends ut{constructor(e){super(),ct(this,e,uB,cB,f,{controller:0,onKeyDown:1})}}function $B(e){const t=e[26];e[29]=t}function pB(e){let t,n,r,o;const s=[hB,gB,fB],a=[];function i(e,t){return e[9]?0:e[5].error?1:2}return n=i(e),r=a[n]=s[n](e),{c(){t=q("div"),r.c(),X(t,"class","empty-states svelte-1esj3u7")},m(e,r){H(e,t,r),a[n].m(t,null),o=!0},p(e,o){let l=n;n=i(e),n===l?a[n].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),r=a[n],r?r.p(e,o):(r=a[n]=s[n](e),r.c()),je(r,1),r.m(t,null))},i(e){o||(je(r),o=!0)},o(e){Ue(r),o=!1},d(e){e&&z(t),a[n].d()}}}function mB(e){let t,n;return t=new Af({props:{class:"option-list-box",$$slots:{default:[bB,({option:e,isSelected:t,inFocus:n})=>({26:e,27:t,28:n}),({option:e,isSelected:t,inFocus:n})=>(e?67108864:0)|(t?134217728:0)|(n?268435456:0)]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1543503937&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function fB(e){let t,n,r=e[14]("no_records_found")+"";return{c(){t=q("div"),n=j(r),X(t,"class","no-results svelte-1esj3u7")},m(e,r){H(e,t,r),F(t,n)},p(e,t){16384&t&&r!==(r=e[14]("no_records_found")+"")&&Q(n,r)},i:a,o:a,d(e){e&&z(t)}}}function gB(e){let t,n;return t=new HP({props:{$$slots:{default:[yB]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1073741856&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function hB(e){let t,n,r;return n=new t$({}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","loading svelte-1esj3u7")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p:a,i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function yB(e){let t,n=fM.fromAnything(e[5].error).message+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){32&r&&n!==(n=fM.fromAnything(e[5].error).message+"")&&Q(t,n)},d(e){e&&z(t)}}}function bB(e){let t,n;return $B(e),t=new lB({props:{showSelection:e[6],controller:e[0],isSelected:e[27],inFocus:e[28],summary:e[29].summary}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){$B(e);const r={};64&n&&(r.showSelection=e[6]),1&n&&(r.controller=e[0]),134217728&n&&(r.isSelected=e[27]),268435456&n&&(r.inFocus=e[28]),67108864&n&&(r.summary=e[29].summary),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function vB(e){let t,n,r,o=e[10]&&wB(e),s=e[7]&&xB(e);return{c(){t=q("div"),o&&o.c(),n=U(),s&&s.c(),X(t,"class","footer svelte-1esj3u7")},m(e,a){H(e,t,a),o&&o.m(t,null),F(t,n),s&&s.m(t,null),r=!0},p(e,r){e[10]?o?(o.p(e,r),1024&r&&je(o,1)):(o=wB(e),o.c(),je(o,1),o.m(t,n)):o&&(qe(),Ue(o,1,1,(()=>{o=null})),Be()),e[7]?s?(s.p(e,r),128&r&&je(s,1)):(s=xB(e),s.c(),je(s,1),s.m(t,null)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be())},i(e){r||(je(o),je(s),r=!0)},o(e){Ue(o),Ue(s),r=!1},d(e){e&&z(t),o&&o.d(),s&&s.d()}}}function wB(e){let t,n,r;return n=new Hu({props:{appearance:"secondary",$$slots:{default:[_B]},$$scope:{ctx:e}}}),n.$on("click",e[20]),n.$on("keydown",(function(...t){return e[21](e[25],...t)})),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","add-record")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(t,r){e=t;const o={};1073758208&r&&(o.$$scope={dirty:r,ctx:e}),n.$set(o)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function _B(e){let t,n=e[14]("add_new_record")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){16384&r&&n!==(n=e[14]("add_new_record")+"")&&Q(t,n)},d(e){e&&z(t)}}}function xB(e){let t,n,r,o;function s(t){e[22](t)}let a={recordCount:e[3]};return void 0!==e[4]&&(a.pagination=e[4]),n=new CV({props:a}),Ce.push((()=>st(n,"pagination",s))),n.$on("change",e[23]),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","pagination svelte-1esj3u7")},m(e,r){H(e,t,r),it(n,t,null),o=!0},p(e,t){const o={};8&t&&(o.recordCount=e[3]),!r&&16&t&&(r=!0,o.pagination=e[4],Oe((()=>r=!1))),n.$set(o)},i(e){o||(je(n.$$.fragment,e),o=!0)},o(e){Ue(n.$$.fragment,e),o=!1},d(e){e&&z(t),lt(n)}}}function CB(e){let t,n,r,o,s,a,i,l,c;function u(...t){return e[19](e[25],...t)}n=new dB({props:{controller:e[0],onKeyDown:u}});const d=[mB,pB],$=[];function p(e,t){return e[8].length>0?0:1}s=p(e),a=$[s]=d[s](e);let m=(e[7]||e[10])&&vB(e);return{c(){t=q("div"),at(n.$$.fragment),r=U(),o=q("div"),a.c(),i=U(),m&&m.c(),l=W(),X(t,"data-row-seeker-controls",""),X(t,"class","svelte-1esj3u7"),X(o,"class","option-container svelte-1esj3u7")},m(e,a){H(e,t,a),it(n,t,null),H(e,r,a),H(e,o,a),$[s].m(o,null),H(e,i,a),m&&m.m(e,a),H(e,l,a),c=!0},p(t,r){e=t;const i={};1&r&&(i.controller=e[0]),33554432&r&&(i.onKeyDown=u),n.$set(i);let c=s;s=p(e),s===c?$[s].p(e,r):(qe(),Ue($[c],1,1,(()=>{$[c]=null})),Be(),a=$[s],a?a.p(e,r):(a=$[s]=d[s](e),a.c()),je(a,1),a.m(o,null)),e[7]||e[10]?m?(m.p(e,r),1152&r&&je(m,1)):(m=vB(e),m.c(),je(m,1),m.m(l.parentNode,l)):m&&(qe(),Ue(m,1,1,(()=>{m=null})),Be())},i(e){c||(je(n.$$.fragment,e),je(a),je(m),c=!0)},o(e){Ue(n.$$.fragment,e),Ue(a),Ue(m),c=!1},d(e){e&&z(t),lt(n),e&&z(r),e&&z(o),$[s].d(),e&&z(i),m&&m.d(e),e&&z(l)}}}function SB(e){let t,n,r;return n=new Mf({props:{selectionType:"single",mode:"static",value:e[2]?[e[2]]:void 0,options:e[8],checkEquality:kB,$$slots:{default:[CB,({api:e})=>({25:e}),({api:e})=>e?33554432:0]},$$scope:{ctx:e}}}),n.$on("change",e[24]),n.$on("pick",(function(){$(e[1])&&e[1].apply(this,arguments)})),{c(){t=q("div"),at(n.$$.fragment),X(t,"id",e[13]),X(t,"tabindex","0"),X(t,"data-row-seeker",""),X(t,"class","svelte-1esj3u7")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(o,[s]){e=o;const a={};4&s&&(a.value=e[2]?[e[2]]:void 0),256&s&&(a.options=e[8]),1107314681&s&&(a.$$scope={dirty:s,ctx:e}),n.$set(a),(!r||8192&s)&&X(t,"id",e[13])},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}const kB=(e,t)=>e?.key===t?.key;function MB(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,b,v=a,w=a;y(e,no,(e=>n(14,b=e))),e.$$.on_destroy.push((()=>v())),e.$$.on_destroy.push((()=>w()));let{controller:_}=t,{close:x=(()=>{})}=t;function C(e){const t=e.at(0);t&&_.select(t)}function S(e,t){if("Escape"===t.key)return _.cancel(),void x();e.handleKeyDown(t)}async function k(e,t){if("Escape"===t.key)return _.cancel(),void x();"Enter"!==t.key&&(await _.focusSearch(),e.handleKeyDown(t))}return e.$$set=e=>{"controller"in e&&n(0,_=e.controller),"close"in e&&n(1,x=e.close)},e.$$.update=()=>{1&e.$$.dirty&&n(13,({elementId:r,records:o,pagination:s,previousValue:i,canAddNewRecord:l}=_),r,(n(12,o),w(),w=g(o,(e=>n(5,h=e))),o),(n(11,s),v(),v=g(s,(e=>n(4,f=e))),s),(n(2,i),n(0,_)),(n(10,l),n(0,_))),32&e.$$.dirty&&n(9,c=h.isLoading),32&e.$$.dirty&&n(18,u=h.resolvedValue),262144&e.$$.dirty&&n(8,d=u?.results??[]),262144&e.$$.dirty&&n(3,$=u?.count??0),24&e.$$.dirty&&n(7,p=$>f.size),4&e.$$.dirty&&n(6,m=(()=>{if(!i)return!1;const{key:e}=i;return void 0!==e&&null!==e})())},[_,x,i,$,f,h,m,p,d,c,l,s,o,r,b,C,S,k,u,(e,t)=>S(e,t),()=>_.addNewRecord(),(e,t)=>k(e,t),function(e){f=e,s.set(f)},()=>_.getRecords(),e=>C(e.detail)]}class IB extends ut{constructor(e){super(),ct(this,e,MB,SB,f,{controller:0,close:1})}}function TB(e){let t,n;return t=new wu({props:{trigger:e[4],isOpen:!0,autoReposition:!0,$$slots:{default:[EB]},$$scope:{ctx:e}}}),t.$on("close",e[6]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.trigger=e[4]),137&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function EB(e){let t,n;return t=new IB({props:{controller:e[3],close:e[5]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.controller=e[3]),1&n&&(r.close=e[5]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function DB(e){let t,n,r=e[3]&&TB(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,[n]){e[3]?r?(r.p(e,n),8&n&&je(r,1)):(r=TB(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function OB(e,t,n){let r,o,s,i,l=a,c=a;e.$$.on_destroy.push((()=>l())),e.$$.on_destroy.push((()=>c()));let{controller:u}=t;return e.$$set=e=>{"controller"in e&&n(0,u=e.controller)},e.$$.update=()=>{1&e.$$.dirty&&(n(2,({triggerElement:r,rowSeeker:o}=u),r,(n(1,o),l(),l=g(o,(e=>n(3,s=e))),o)),c(),c=g(r,(e=>n(4,i=e))))},[u,o,r,s,i,()=>u.close(),()=>u.close()]}class NB extends ut{constructor(e){super(),ct(this,e,OB,DB,f,{controller:0})}}class AB{constructor(t){e(this,"elementId",ko()),e(this,"previousValue",void 0),e(this,"records",void 0),e(this,"searchValue",pt("")),e(this,"pagination",pt(new _T({size:200}))),e(this,"select",(()=>{})),e(this,"cancel",(()=>{})),e(this,"canAddNewRecord",void 0),e(this,"addRecordOptions",void 0),e(this,"onSelect",void 0),this.records=t.constructRecordStore(),this.addRecordOptions=t.addRecordOptions,this.onSelect=t.onSelect,this.previousValue=t.previousValue,this.canAddNewRecord=!!t.addRecordOptions}async focusSearch(){await Ee();const e=document.getElementById(this.elementId)?.querySelector("[data-row-seeker-search] input[type='text'][data-row-seeker-search-box]");e?.focus?.()}async getRecords(){const e=h(this.pagination);await this.records.run({...e.recordsRequestParams(),search:h(this.searchValue)||null}),await this.focusSearch()}async resetPaginationAndGetRecords(){this.pagination.set(new _T({size:200,page:1})),await this.getRecords()}async getReady(){await this.focusSearch(),await this.getRecords()}clearRecords(){this.records.reset(),this.searchValue.set("")}async addNewRecord(){if(this.addRecordOptions){const e=await this.addRecordOptions.create(h(this.searchValue));this.select(e)}}async acquireUserSelection(){return new Promise(((e,t)=>{this.select=t=>{e(t),this.onSelect?.(t)},this.cancel=()=>{t()}}))}}class RB{constructor(){e(this,"triggerElement",pt(void 0)),e(this,"rowSeeker",pt(void 0))}async acquireUserSelection(e){this.triggerElement.set(e.triggerElement);const t=new AB(e);this.rowSeeker.set(t),await t.getReady();const n=await t.acquireUserSelection();return this.close(),n}close(){this.rowSeeker.set(void 0)}}const FB=ss();function PB(e){let t,n,r,o,s,a=e[4]("remove")+"";const i=[Kx];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return t=new Jd({props:c}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(a),X(r,"class","button-label")},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),F(r,o),s=!0},p(e,n){const r=0&n?rt(i,[ot(Kx)]):{};t.$set(r),(!s||16&n)&&a!==(a=e[4]("remove")+"")&&Q(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function LB(e){let t,n,r,o,s,a,i,c,u,d,$,p,m,f,g=e[4]("download")+"";n=new MR({props:{fileManifestWithRequestParams:e[1]}}),s=new Hu({props:{"aria-label":e[4]("remove"),$$slots:{default:[PB]},$$scope:{ctx:e}}}),s.$on("click",e[5]);const h=[CC];let y={};for(let b=0;b<h.length;b+=1)y=l(y,h[b]);return c=new Jd({props:y}),{c(){t=q("div"),at(n.$$.fragment),r=U(),o=q("div"),at(s.$$.fragment),a=U(),i=q("a"),at(c.$$.fragment),u=U(),d=q("span"),$=j(g),X(d,"class","button-label"),X(i,"class","btn btn-default"),X(i,"href",e[3]),X(o,"class","actions svelte-7szjkt"),X(t,"class","file-actions svelte-7szjkt")},m(e,l){H(e,t,l),it(n,t,null),F(t,r),F(t,o),it(s,o,null),F(o,a),F(o,i),it(c,i,null),F(i,u),F(i,d),F(d,$),p=!0,m||(f=T(Oc.call(null,t)),m=!0)},p(e,t){const r={};2&t&&(r.fileManifestWithRequestParams=e[1]),n.$set(r);const o={};16&t&&(o["aria-label"]=e[4]("remove")),272&t&&(o.$$scope={dirty:t,ctx:e}),s.$set(o);const a=0&t?rt(h,[ot(CC)]):{};c.$set(a),(!p||16&t)&&g!==(g=e[4]("download")+"")&&Q($,g),(!p||8&t)&&X(i,"href",e[3])},i(e){p||(je(n.$$.fragment,e),je(s.$$.fragment,e),je(c.$$.fragment,e),p=!0)},o(e){Ue(n.$$.fragment,e),Ue(s.$$.fragment,e),Ue(c.$$.fragment,e),p=!1},d(e){e&&z(t),lt(n),lt(s),lt(c),m=!1,f()}}}function HB(e){let t,n;return t=new wu({props:{isOpen:!0,trigger:e[0],placements:["bottom","top"],$$slots:{default:[LB]},$$scope:{ctx:e}}}),t.$on("close",(function(){$(e[2])&&e[2].apply(this,arguments)})),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(n,[r]){e=n;const o={};1&r&&(o.trigger=e[0]),282&r&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function zB(e,t,n){let r,o;y(e,no,(e=>n(4,o=e)));let{trigger:s}=t,{fileManifestWithRequestParams:a}=t,{close:i=(()=>{})}=t,{removeFile:l=(()=>{})}=t;function c(e){if("Escape"===e.key)i()}return fe((()=>(window.addEventListener("keydown",c),()=>{window.removeEventListener("keydown",c)}))),e.$$set=e=>{"trigger"in e&&n(0,s=e.trigger),"fileManifestWithRequestParams"in e&&n(1,a=e.fileManifestWithRequestParams),"close"in e&&n(2,i=e.close),"removeFile"in e&&n(6,l=e.removeFile)},e.$$.update=()=>{2&e.$$.dirty&&n(3,({attachment:r}=a),r)},[s,a,i,r,o,async function(){await WT()&&(l(),i())},l]}class VB extends ut{constructor(e){super(),ct(this,e,zB,HB,f,{trigger:0,fileManifestWithRequestParams:1,close:2,removeFile:6})}}function qB(e){let t,n;const r=[{close:e[3]},e[1]];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new VB({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=3&n?rt(r,[1&n&&{close:e[3]},2&n&&ot(e[1])]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function BB(e){let t,n,r=e[1]&&qB(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,[n]){e[1]?r?(r.p(e,n),2&n&&je(r,1)):(r=qB(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function jB(e,t,n){let r,o,s=a,i=()=>(s(),s=g(l,(e=>n(2,o=e))),l);e.$$.on_destroy.push((()=>s()));let{controller:l}=t;i();return e.$$set=e=>{"controller"in e&&i(n(0,l=e.controller))},e.$$.update=()=>{4&e.$$.dirty&&n(1,r=o)},[l,r,o,()=>l.close()]}class UB extends ut{constructor(e){super(),ct(this,e,jB,BB,f,{controller:0})}}class WB{get requestParams(){return this._requestParams}constructor(){e(this,"resolve",void 0),e(this,"_isOpen",pt(!1)),e(this,"isOpen",void 0),e(this,"_requestParams",pt(void 0)),this.isOpen=this._isOpen}async acquireFileAttachment(e){return this._isOpen.set(!0),this._requestParams.set(e),new Promise((e=>{this.resolve=e}))}submitResult(e){this.resolve?.(e),this._isOpen.set(!1),this._requestParams.set(void 0)}cancel(){this.submitResult(void 0)}}function YB(e){let t,n,r;return t=new HP({props:{$$slots:{default:[KB]},$$scope:{ctx:e}}}),{c(){n=q("div"),at(t.$$.fragment),te(n,"display","contents"),te(n,"--MessageBox__margin","1rem 0 0 0")},m(e,o){H(e,n,o),it(t,n,null),r=!0},p(e,n){const r={};262150&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){e&&z(n),lt(t,e)}}}function KB(e){let t,n,r,o,s,a,i=e[1]("error_uploading_file")+"";return{c(){t=q("p"),n=q("strong"),r=j(i),o=U(),s=q("p"),a=j(e[2])},m(e,i){H(e,t,i),F(t,n),F(n,r),H(e,o,i),H(e,s,i),F(s,a)},p(e,t){2&t&&i!==(i=e[1]("error_uploading_file")+"")&&Q(r,i),4&t&&Q(a,e[2])},d(e){e&&z(t),e&&z(o),e&&z(s)}}}function GB(e){let t,n,r,o,s;function a(t){e[14](t)}let i={fileProgress:e[4]};void 0!==e[0]&&(i.fileUploads=e[0]),t=new Ry({props:i}),Ce.push((()=>st(t,"fileUploads",a))),t.$on("add",e[9]);let l=e[2]&&YB(e);return{c(){at(t.$$.fragment),r=U(),l&&l.c(),o=W()},m(e,n){it(t,e,n),H(e,r,n),l&&l.m(e,n),H(e,o,n),s=!0},p(e,r){const s={};16&r&&(s.fileProgress=e[4]),!n&&1&r&&(n=!0,s.fileUploads=e[0],Oe((()=>n=!1))),t.$set(s),e[2]?l?(l.p(e,r),4&r&&je(l,1)):(l=YB(e),l.c(),je(l,1),l.m(o.parentNode,o)):l&&(qe(),Ue(l,1,1,(()=>{l=null})),Be())},i(e){s||(je(t.$$.fragment,e),je(l),s=!0)},o(e){Ue(t.$$.fragment,e),Ue(l),s=!1},d(e){lt(t,e),e&&z(r),l&&l.d(e),e&&z(o)}}}function XB(e){let t,n;return t=new Qb({props:{isOpen:e[7],title:e[3],$$slots:{default:[GB]},$$scope:{ctx:e}}}),t.$on("close",e[8]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};128&n&&(r.isOpen=e[7]),8&n&&(r.title=e[3]),262167&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function ZB(e,t,n){let r,o,s,i,l,c,u,d,$=a,p=a;y(e,no,(e=>n(1,u=e))),e.$$.on_destroy.push((()=>$())),e.$$.on_destroy.push((()=>p()));let m,f,{controller:h}=t,b=!1,v=0,w="";function _(){h.cancel(),n(0,m=void 0),n(12,v=0),f?.cancel(),f=void 0}function x(e){n(12,v=e.percentCompleted)}return e.$$set=e=>{"controller"in e&&n(10,h=e.controller)},e.$$.update=()=>{1024&e.$$.dirty&&(n(6,({isOpen:r,requestParams:o}=h),r,(n(5,o),$(),$=g(o,(e=>n(16,c=e))),o)),p(),p=g(r,(e=>n(7,d=e)))),1&e.$$.dirty&&n(13,s=m?.[0]),14336&e.$$.dirty&&n(4,i=(()=>{if(!s)return{};const e=b?Math.min(v,98):100;return{[s.fileId]:e}})()),2&e.$$.dirty&&n(3,l=u("upload_file"))},[m,u,w,l,i,o,r,d,_,async function(e){try{n(2,w=""),n(11,b=!0);const r=e.detail.added.at(0)?.file;if(!r)return;f=function(e,t,n){const r=new FormData;return r.append("file",e),wk(yk("/files/",t),r,n)}(r,c,x);try{const e=await f;h.submitResult(e)}catch(t){n(2,w=ck(t)),_()}}catch(r){WS.fromError(r),_()}finally{n(11,b=!1),f=void 0}},h,b,v,s,function(e){m=e,n(0,m)}]}class JB extends ut{constructor(e){super(),ct(this,e,ZB,XB,f,{controller:10})}}function QB(e){let t,n;const r=[xd];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[ot(xd)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function ej(e){let t,n,r,o,s,a=e[9]("remove")+"";const i=[Kx];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return t=new Jd({props:c}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(a),X(r,"class","button-label svelte-lcym4c")},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),F(r,o),s=!0},p(e,n){const r=0&n?rt(i,[ot(Kx)]):{};t.$set(r),(!s||512&n)&&a!==(a=e[9]("remove")+"")&&Q(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function tj(e){let t,n,r,o,s,a=e[9]("info")+"";const i=[Nd];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return t=new Jd({props:c}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(a),X(r,"class","button-label svelte-lcym4c")},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),F(r,o),s=!0},p(e,n){const r=0&n?rt(i,[ot(Nd)]):{};t.$set(r),(!s||512&n)&&a!==(a=e[9]("info")+"")&&Q(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function nj(e){let t,n,r;return n=new MR({props:{fileManifestWithRequestParams:e[0]}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","info svelte-lcym4c"),X(t,"slot","content")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};1&t&&(r.fileManifestWithRequestParams=e[0]),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function rj(e){let t,n;const r=[{slot:"trigger"},{showArrow:!1},e[12],{ariaLabel:e[9]("filter")},{placements:["bottom","top"]},{contentClass:"info-dropdown-content"}];let o={$$slots:{content:[nj],trigger:[tj]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new _f({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=4608&n?rt(r,[r[0],r[1],4096&n&&ot(e[12]),512&n&&{ariaLabel:e[9]("filter")},r[4],r[5]]):{};524801&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function oj(e){let t,n,r=e[9]("info")+"";return{c(){t=q("div"),n=j(r),X(t,"slot","content")},m(e,r){H(e,t,r),F(t,n)},p(e,t){512&t&&r!==(r=e[9]("info")+"")&&Q(n,r)},d(e){e&&z(t)}}}function sj(e){let t,n,r,o,s,a,i=e[9]("download")+"";const c=[CC];let u={};for(let d=0;d<c.length;d+=1)u=l(u,c[d]);return n=new Jd({props:u}),{c(){t=q("a"),at(n.$$.fragment),r=U(),o=q("span"),s=j(i),X(o,"class","button-label svelte-lcym4c"),X(t,"slot","trigger"),X(t,"class","btn btn-default"),X(t,"href",e[8])},m(e,i){H(e,t,i),it(n,t,null),F(t,r),F(t,o),F(o,s),a=!0},p(e,r){const o=0&r?rt(c,[ot(CC)]):{};n.$set(o),(!a||512&r)&&i!==(i=e[9]("download")+"")&&Q(s,i),(!a||256&r)&&X(t,"href",e[8])},i(e){a||(je(n.$$.fragment,e),a=!0)},o(e){Ue(n.$$.fragment,e),a=!1},d(e){e&&z(t),lt(n)}}}function aj(e){let t,n,r=e[9]("download")+"";return{c(){t=q("div"),n=j(r),X(t,"slot","content")},m(e,r){H(e,t,r),F(t,n)},p(e,t){512&t&&r!==(r=e[9]("download")+"")&&Q(n,r)},d(e){e&&z(t)}}}function ij(e){let t,n,r,o,s,a,i,l,c,u,p,m,f,g,h,y,b,v,w,_,x,C,S;return l=new Hu({props:{$$slots:{default:[QB]},$$scope:{ctx:e}}}),l.$on("click",(function(){$(e[1])&&e[1].apply(this,arguments)})),f=new Hu({props:{"aria-label":e[9]("remove"),tooltip:e[6]?void 0:e[9]("remove"),$$slots:{default:[ej]},$$scope:{ctx:e}}}),f.$on("click",e[11]),h=new Eu({props:{enabled:!e[6],$$slots:{content:[oj],trigger:[rj]},$$scope:{ctx:e}}}),b=new Eu({props:{enabled:!e[6],$$slots:{content:[aj],trigger:[sj]},$$scope:{ctx:e}}}),{c(){t=q("div"),n=q("div"),o=U(),s=q("div"),a=q("div"),i=q("div"),at(l.$$.fragment),c=U(),u=q("div"),p=U(),m=q("div"),at(f.$$.fragment),g=U(),at(h.$$.fragment),y=U(),at(b.$$.fragment),X(n,"class","overlay svelte-lcym4c"),X(i,"class","top svelte-lcym4c"),X(u,"class","img-holder svelte-lcym4c"),se(u,"rounded",e[5]),X(m,"class","bottom svelte-lcym4c"),X(a,"class","img-area svelte-lcym4c"),De((()=>e[17].call(a))),se(a,"show-button-labels",e[6]),X(s,"class","img-viewport-boundary svelte-lcym4c"),X(t,"class","lightbox svelte-lcym4c"),X(t,"style",_=Jo({"--img-natural-height-raw":`${e[7]}`,"--img-natural-width-raw":`${e[3]}`,"--img-natural-height-px":`${e[7]}px`,"--img-natural-width-px":`${e[3]}px`}))},m(r,d){H(r,t,d),F(t,n),F(t,o),F(t,s),F(s,a),F(a,i),it(l,i,null),F(a,c),F(a,u),e[16](u),F(a,p),F(a,m),it(f,m,null),F(m,g),it(h,m,null),F(m,y),it(b,m,null),v=oe(a,e[17].bind(a)),x=!0,C||(S=[T(Mc.call(null,t)),T(Oc.call(null,t))],C=!0)},p(n,[r]){e=n;const o={};524288&r&&(o.$$scope={dirty:r,ctx:e}),l.$set(o),(!x||32&r)&&se(u,"rounded",e[5]);const s={};512&r&&(s["aria-label"]=e[9]("remove")),576&r&&(s.tooltip=e[6]?void 0:e[9]("remove")),524800&r&&(s.$$scope={dirty:r,ctx:e}),f.$set(s);const i={};64&r&&(i.enabled=!e[6]),528897&r&&(i.$$scope={dirty:r,ctx:e}),h.$set(i);const c={};64&r&&(c.enabled=!e[6]),525056&r&&(c.$$scope={dirty:r,ctx:e}),b.$set(c),(!x||64&r)&&se(a,"show-button-labels",e[6]),(!x||136&r&&_!==(_=Jo({"--img-natural-height-raw":`${e[7]}`,"--img-natural-width-raw":`${e[3]}`,"--img-natural-height-px":`${e[7]}px`,"--img-natural-width-px":`${e[3]}px`})))&&X(t,"style",_)},i(t){x||(t&&De((()=>{r||(r=Ge(n,gg,{duration:200},!0)),r.run(1)})),je(l.$$.fragment,t),je(f.$$.fragment,t),je(h.$$.fragment,t),je(b.$$.fragment,t),t&&De((()=>{w||(w=Ge(a,e[10],{},!0)),w.run(1)})),x=!0)},o(t){t&&(r||(r=Ge(n,gg,{duration:200},!1)),r.run(0)),Ue(l.$$.fragment,t),Ue(f.$$.fragment,t),Ue(h.$$.fragment,t),Ue(b.$$.fragment,t),t&&(w||(w=Ge(a,e[10],{},!1)),w.run(0)),x=!1},d(n){n&&z(t),n&&r&&r.end(),lt(l),e[16](null),lt(f),lt(h),lt(b),v(),n&&w&&w.end(),C=!1,d(S)}}}function lj(e,t,n){let r,o,s,a,i;const c=["imageElement","zoomOrigin","fileManifestWithRequestParams","close","removeFile"];let u,d=S(t,c);y(e,no,(e=>n(9,u=e)));let $,p,{imageElement:m}=t,{zoomOrigin:f}=t,{fileManifestWithRequestParams:g}=t,{close:h=(()=>{})}=t,{removeFile:b=(()=>{})}=t;function v(e){if("Escape"===e.key)h()}return fe((()=>($.replaceChildren(m),window.addEventListener("keydown",v),()=>{window.removeEventListener("keydown",v)}))),e.$$set=e=>{t=l(l({},t),C(e)),n(12,d=S(t,c)),"imageElement"in e&&n(13,m=e.imageElement),"zoomOrigin"in e&&n(14,f=e.zoomOrigin),"fileManifestWithRequestParams"in e&&n(0,g=e.fileManifestWithRequestParams),"close"in e&&n(1,h=e.close),"removeFile"in e&&n(15,b=e.removeFile)},e.$$.update=()=>{1&e.$$.dirty&&n(8,({attachment:r}=g),r),8192&e.$$.dirty&&n(7,({naturalHeight:o,naturalWidth:s}=m),o,(n(3,s),n(13,m))),4&e.$$.dirty&&n(6,a=p>500),8&e.$$.dirty&&n(5,i=s>100)},[g,h,p,s,$,i,a,o,r,u,function(e,t){if(!f)return{};const n=e.getBoundingClientRect();function r(e){return{x:e.left+e.width/2,y:e.top+e.height/2}}const o=r(n),s=r(f);function a(e,t,n){return r=>`${e+(t-e)*r}${n??""}`}const i=a(f.width/n.width,1),l=a(s.x-o.x,0,"px"),c=a(s.y-o.y,0,"px");return{duration:t?.duration??300,easing:Eo,css:e=>function(e){const t=Object.entries(e).map((([e,t])=>`${e}(${t})`)).join(" ");return`transform: ${t};`}({translateX:l(e),translateY:c(e),scale:i(e)})}},async function(){await WT()&&(b(),h())},d,m,f,b,function(e){Ce[e?"unshift":"push"]((()=>{$=e,n(4,$)}))},function(){p=this.clientWidth,n(2,p)}]}class cj extends ut{constructor(e){super(),ct(this,e,lj,ij,f,{imageElement:13,zoomOrigin:14,fileManifestWithRequestParams:0,close:1,removeFile:15})}}function uj(e){let t,n;const r=[{close:e[3]},e[1]];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new cj({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=3&n?rt(r,[1&n&&{close:e[3]},2&n&&ot(e[1])]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function dj(e){let t,n,r=e[1]&&uj(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,[n]){e[1]?r?(r.p(e,n),2&n&&je(r,1)):(r=uj(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function $j(e,t,n){let r,o,s=a,i=()=>(s(),s=g(l,(e=>n(2,o=e))),l);e.$$.on_destroy.push((()=>s()));let{controller:l}=t;i();return e.$$set=e=>{"controller"in e&&i(n(0,l=e.controller))},e.$$.update=()=>{4&e.$$.dirty&&n(1,r=o)},[l,r,o,()=>l.close()]}class pj extends ut{constructor(e){super(),ct(this,e,$j,dj,f,{controller:0})}}const mj=ss();function fj(e){let t,n,r,o,s,a,i,l,c,u,$,p,m,f,g,h,y,v,C,S;n=new l_({props:{entries:WS.entries}}),o=new yv({props:{controller:GS}}),a=new rB({props:{recordSelectorController:e[1],modalController:e[0]}}),l=new NB({props:{controller:e[2]}}),u=new pj({props:{controller:e[3]}}),p=new UB({props:{controller:e[4]}}),f=new JB({props:{controller:e[5]}}),h=new qw({props:{controller:e[6]}});const k=e[13].default,M=b(k,e,e[12],null);return{c(){t=U(),at(n.$$.fragment),r=U(),at(o.$$.fragment),s=U(),at(a.$$.fragment),i=U(),at(l.$$.fragment),c=U(),at(u.$$.fragment),$=U(),at(p.$$.fragment),m=U(),at(f.$$.fragment),g=U(),at(h.$$.fragment),y=U(),M&&M.c()},m(d,b){H(d,t,b),it(n,d,b),H(d,r,b),it(o,d,b),H(d,s,b),it(a,d,b),H(d,i,b),it(l,d,b),H(d,c,b),it(u,d,b),H(d,$,b),it(p,d,b),H(d,m,b),it(f,d,b),H(d,g,b),it(h,d,b),H(d,y,b),M&&M.m(d,b),v=!0,C||(S=[Y(document.body,"copy",e[8]),Y(document.body,"paste",e[9])],C=!0)},p(e,[t]){M&&M.p&&(!v||4096&t)&&_(M,k,e,e[12],v?w(k,e[12],t,null):x(e[12]),null)},i(e){v||(je(n.$$.fragment,e),je(o.$$.fragment,e),je(a.$$.fragment,e),je(l.$$.fragment,e),je(u.$$.fragment,e),je(p.$$.fragment,e),je(f.$$.fragment,e),je(h.$$.fragment,e),je(M,e),v=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),Ue(a.$$.fragment,e),Ue(l.$$.fragment,e),Ue(u.$$.fragment,e),Ue(p.$$.fragment,e),Ue(f.$$.fragment,e),Ue(h.$$.fragment,e),Ue(M,e),v=!1},d(e){e&&z(t),lt(n,e),e&&z(r),lt(o,e),e&&z(s),lt(a,e),e&&z(i),lt(l,e),e&&z(c),lt(u,e),e&&z($),lt(p,e),e&&z(m),lt(f,e),e&&z(g),lt(h,e),e&&z(y),M&&M.d(e),C=!1,d(S)}}}function gj(e,t,n){let r,o,{$$slots:s={},$$scope:a}=t,{commonData:i}=t;function l(){const e=function(e){if(ve(BM))throw Error("User profile store context has already been set");const t=pt(e instanceof LM?e:new LM(e));return be(BM,t),t}("anonymous"===i.routing_context?new HM:i.user),t=h(e);i.is_authenticated&&t.isMathesarAdmin&&function(e){if(void 0!==mM())throw Error("ReleaseDataStore context has already been set");be(pM,$M(e))}(i.current_release_tag_name)}be(mx,pt([]));const c=US.spawnModalController(),u=new jH({onOpen:()=>c.open(),onClose:()=>c.close(),nestingLevel:0});UH.set(u);const d=new RB;FB.set(d);const $=new IR;TR.set($);const p=new wR;_R.set(p);const m=new WB;xR.set(m);const f=new Bw;mj.set(f);const g=function(){const e=pt(void 0);return be(gx,e),e}();return y(e,g,(e=>n(11,o=e))),e.$$set=e=>{"commonData"in e&&n(10,i=e.commonData),"$$scope"in e&&n(12,a=e.$$scope)},e.$$.update=()=>{1024&e.$$.dirty&&l(),2048&e.$$.dirty&&(r=o)},[c,u,d,$,p,m,f,g,function(e){r&&r.shouldHandleCopy(e)&&(r.handleCopy(e),e.preventDefault())},function(e){r&&r.shouldHandlePaste(e)&&(r.handlePaste(e),e.preventDefault())},i,o,a,s]}class hj extends ut{constructor(e){super(),ct(this,e,gj,fj,f,{commonData:10})}}const yj=function(e,t,n){return e()},bj={en:()=>yj((()=>n.import("./en-legacy.7bbe3a25.js"))),ja:()=>yj((()=>n.import("./ja-legacy.52d9546b.js")))};async function vj(e){return{default:(await bj[e]()).default.dictionary}}function wj(e){lk.set("display_language",e)}function _j(e,t,n){let{meta:r}=t,{onLoad:o=(()=>{})}=t,{onUnload:s=(()=>{})}=t;return fe((()=>{const e=r.subscribe((e=>{e&&o(e)}));return()=>{e(),s()}})),e.$$set=e=>{"meta"in e&&n(0,r=e.meta),"onLoad"in e&&n(1,o=e.onLoad),"onUnload"in e&&n(2,s=e.onUnload)},[r,o,s]}class xj extends ut{constructor(e){super(),ct(this,e,_j,null,f,{meta:0,onLoad:1,onUnload:2})}}function Cj(e){let t,n=e[4]("feedback")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){16&r&&n!==(n=e[4]("feedback")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Sj(e){let t,n,r,o;const s=[NC,{size:"0.8em"}];let a={};for(let c=0;c<s.length;c+=1)a=l(a,s[c]);n=new Jd({props:a});let i=!e[0]&&Cj(e);return{c(){t=q("div"),at(n.$$.fragment),r=U(),i&&i.c(),X(t,"class","trigger svelte-slmuqi"),X(t,"slot","trigger")},m(e,s){H(e,t,s),it(n,t,null),F(t,r),i&&i.m(t,null),o=!0},p(e,r){const o=0&r?rt(s,[ot(NC),s[1]]):{};n.$set(o),e[0]?i&&(i.d(1),i=null):i?i.p(e,r):(i=Cj(e),i.c(),i.m(t,null))},i(e){o||(je(n.$$.fragment,e),o=!0)},o(e){Ue(n.$$.fragment,e),o=!1},d(e){e&&z(t),lt(n),i&&i.d()}}}function kj(e){let t,n,r,o,s,a,i,l,c,u,d=e[4]("thanks_for_feedback")+"",$=e[4]("take_survey_understand_use_case")+"";return c=new Rc({props:{appearance:"primary",size:"small",href:bI("survey"),target:"_blank",$$slots:{default:[Ij]},$$scope:{ctx:e}}}),{c(){t=q("div"),n=q("div"),r=j(d),o=U(),s=q("div"),a=j($),i=U(),l=q("div"),at(c.$$.fragment),X(n,"class","title svelte-slmuqi"),X(t,"class","follow-up svelte-slmuqi")},m(e,d){H(e,t,d),F(t,n),F(n,r),F(t,o),F(t,s),F(s,a),F(t,i),F(t,l),it(c,l,null),u=!0},p(e,t){(!u||16&t)&&d!==(d=e[4]("thanks_for_feedback")+"")&&Q(r,d),(!u||16&t)&&$!==($=e[4]("take_survey_understand_use_case")+"")&&Q(a,$);const n={};2064&t&&(n.$$scope={dirty:t,ctx:e}),c.$set(n)},i(e){u||(je(c.$$.fragment,e),u=!0)},o(e){Ue(c.$$.fragment,e),u=!1},d(e){e&&z(t),lt(c)}}}function Mj(e){let t,n,r,o,s,a,i,l,c,u=e[4]("feedback_form_help")+"",d=e[0]&&Tj(e);return a=new WL({props:{field:e[5],input:{component:Cg,props:{focusOnMount:!0}}}}),l=new QL({props:{form:e[1],catchErrors:!0,onProceed:e[6],size:"small",cancelButton:{label:e[4]("clear")},proceedButton:{icon:dC,label:e[4]("send_feedback")}}}),{c(){t=q("div"),d&&d.c(),n=U(),r=q("div"),o=j(u),s=U(),at(a.$$.fragment),i=U(),at(l.$$.fragment),X(r,"class","help svelte-slmuqi"),X(t,"class","feedback-form svelte-slmuqi")},m(e,u){H(e,t,u),d&&d.m(t,null),F(t,n),F(t,r),F(r,o),F(t,s),it(a,t,null),F(t,i),it(l,t,null),c=!0},p(e,r){e[0]?d?d.p(e,r):(d=Tj(e),d.c(),d.m(t,n)):d&&(d.d(1),d=null),(!c||16&r)&&u!==(u=e[4]("feedback_form_help")+"")&&Q(o,u);const s={};2&r&&(s.form=e[1]),16&r&&(s.cancelButton={label:e[4]("clear")}),16&r&&(s.proceedButton={icon:dC,label:e[4]("send_feedback")}),l.$set(s)},i(e){c||(je(a.$$.fragment,e),je(l.$$.fragment,e),c=!0)},o(e){Ue(a.$$.fragment,e),Ue(l.$$.fragment,e),c=!1},d(e){e&&z(t),d&&d.d(),lt(a),lt(l)}}}function Ij(e){let t,n,r,o,s,a=e[4]("go_to_survey")+"";const i=[OC];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return o=new Jd({props:c}),{c(){t=q("span"),n=j(a),r=U(),at(o.$$.fragment)},m(e,a){H(e,t,a),F(t,n),H(e,r,a),it(o,e,a),s=!0},p(e,t){(!s||16&t)&&a!==(a=e[4]("go_to_survey")+"")&&Q(n,a);const r=0&t?rt(i,[ot(OC)]):{};o.$set(r)},i(e){s||(je(o.$$.fragment,e),s=!0)},o(e){Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),e&&z(r),lt(o,e)}}}function Tj(e){let t,n,r=e[4]("feedback")+"";return{c(){t=q("div"),n=j(r),X(t,"class","title svelte-slmuqi")},m(e,r){H(e,t,r),F(t,n)},p(e,t){16&t&&r!==(r=e[4]("feedback")+"")&&Q(n,r)},d(e){e&&z(t)}}}function Ej(e){let t,n,r,o;const s=[Mj,kj],a=[];function i(e,t){return e[2]?1:0}return n=i(e),r=a[n]=s[n](e),{c(){t=q("div"),r.c(),X(t,"class","feedback-content svelte-slmuqi"),X(t,"slot","content")},m(e,r){H(e,t,r),a[n].m(t,null),o=!0},p(e,o){let l=n;n=i(e),n===l?a[n].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),r=a[n],r?r.p(e,o):(r=a[n]=s[n](e),r.c()),je(r,1),r.m(t,null))},i(e){o||(je(r),o=!0)},o(e){Ue(r),o=!1},d(e){e&&z(t),a[n].d()}}}function Dj(e){let t,n,r;return n=new _f({props:{triggerAppearance:"custom",triggerClass:"feedback-button",closeOnInnerClick:!1,showArrow:!1,$$slots:{content:[Ej],trigger:[Sj]},$$scope:{ctx:e}}}),n.$on("close",e[7]),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","feedback-section svelte-slmuqi")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,[t]){const r={};2071&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function Oj(e,t,n){let r,o,s,i,l,c=a;y(e,no,(e=>n(4,l=e))),e.$$.on_destroy.push((()=>c()));const u=oH("");y(e,u,(e=>n(9,i=e)));let{compactLayout:d=!1}=t,$=aH({feedback:u});return e.$$set=e=>{"compactLayout"in e&&n(0,d=e.compactLayout)},e.$$.update=()=>{2&e.$$.dirty&&(n(3,r=$.requestStatus),c(),c=g(r,(e=>n(8,s=e)))),256&e.$$.dirty&&n(2,o="success"===s?.state)},[d,$,o,r,l,u,async function(){await PM.analytics.upload_feedback({message:i}).run()},function(){!function(){const e=s?.state;"success"!==e&&"failure"!==e||(u.reset(),n(1,$=aH({feedback:u})))}()},s]}class Nj extends ut{constructor(e){super(),ct(this,e,Oj,Dj,f,{compactLayout:0})}}function Aj(e){let t,n,r;return{c(){t=B("svg"),n=B("path"),r=B("path"),X(n,"class","outer svelte-1o6c8w3"),X(n,"d","m18.35 0.09207c-1.152 7.807e-4 -2.635 0.3131-3.622 0.9921-0.9901 0.6812-0.5287 2.056 0.2266 2.585-1.007-0.2522-2.018-0.4122-2.988-0.4354-0.9699-0.02324-1.955 0.09245-2.821 0.4453-0.9198 0.3747-1.584 0.9451-1.962 1.716-0.3939 0.8021-0.4815 1.588-0.5129 2.392-0.8075 0.3468-2.145 0.8722-3.33 1.642-1.223 0.7943-2.502 1.987-2.871 3.777-0.2947 1.431-0.2396 3.742-0.03579 5.901 0.2055 2.176 0.6011 4.429 0.8927 5.336 0.298 0.9275 0.7092 1.372 1.443 1.392 1.074 0.02812 3.09-0.0077 3.575-0.01988 0.6369-0.01594 1.171-0.3577 1.431-0.7137 0.1977-0.2703 0.2631-0.5034 0.2883-0.9563 0.03325-0.599 0.2443-1.166 0.4016-1.718 0.4652 0.1986 1.167 0.1588 1.594-0.06362 0.03306 0.2464 0.08158 0.4963 0.1133 0.7436 0.1104 0.8597 0.3894 1.596 0.8112 2.235 0.1707 0.2586 0.6014 0.5661 1.187 0.5626v4e-3c2.139 0 4.277-3.08e-4 5.402 0 1.125 3.08e-4 1.283 9.62e-4 1.439-0.01391 0.9502-0.1075 1.289-0.5873 1.408-1.227 0.04104-0.2213-0.02173-0.6675-0.08748-0.8668-0.6462-1.671-1.305-3.309-1.441-5.09 0.4409-0.6919 0.8857-1.357 1.362-1.952 0.9547-1.193 1.948-2.208 2.505-3.002 0.3073-0.4385 0.1635-0.9533 0.1014-1.143 0.3457-0.2108 0.6778-0.4329 0.9364-0.7296 1.418-1.626 2.166-3.836 1.869-5.813-0.2771-1.846-1.04-3.11-2.326-4.193-1.611-1.357-3.126-1.787-4.988-1.785zm-0.4473 3.223c0.3671-6.552e-4 0.7317 0.04784 1.064 0.1471 0.4283 0.1281 0.7191 0.3172 0.8867 0.5109 0.1472 0.1702 0.2445 0.3894 0.2227 0.7316-1e-3 0.01566-0.0044 0.04149-0.01591 0.07754l-0.02982 0.09344-0.0676 0.09145c-0.02096 0.02825-0.04497 0.05756-0.07357 0.08549l-0.1233 0.1193-0.163 0.05169c-0.07692 0.0237-0.1726 0.03753-0.2883 0.02982h-2e-3c-0.1386-0.00996-0.3246-0.05301-0.5586-0.171h-2e-3c-0.9602-0.4858-2.021-0.9094-3.104-1.229 0.1707-0.00439 0.3584-0.0453 0.5527-0.1491h2e-3c0.4721-0.2529 1.088-0.3886 1.7-0.3897z"),X(r,"class","inner svelte-1o6c8w3"),X(r,"d","m18.16 1.303c-0.97 0.03351-1.92 0.2781-2.71 0.7774-0.1753 0.1107 0.08091 0.6012 0.1829 0.5467 2.117-1.134 5.836-0.4821 5.668 2.155-0.0078 0.122-0.03177 0.2472-0.07157 0.3718 0.1697 0.03181 0.3368 0.06151 0.4931 0.05964 0.3673-0.0044 0.3792 0.5654-0.01198 0.5587-0.2708-0.00467-0.5129-0.03452-0.7595-0.07754-0.05986 0.0807-0.1288 0.1582-0.2028 0.2306 0.2214 0.06347 0.4212 0.1466 0.5964 0.2207 0.4015 0.1698 0.1072 0.7515-0.2485 0.6064-0.3522-0.1437-0.7434-0.2657-1.127-0.3618-0.2215 0.06824-0.4682 0.09971-0.7336 0.08151-0.3168-0.02215-0.6613-0.115-1.028-0.3002-1.934-0.9788-4.268-1.67-6.247-1.718-0.8814-0.021-1.687 0.08674-2.348 0.3559-1.355 0.552-1.648 1.574-1.722 2.827 0.1192 2.325 0.7394 3.941 1.596 4.986 0.6159 0.7511 1.356 1.207 2.117 1.422 0.7604 0.214 1.544 0.1881 2.249-0.02386 0.7359-0.2217 1.364-0.6598 1.819-1.211 0.3022-0.3661 0.8429 0.0763 0.5607 0.4354-0.533 0.6782-1.299 1.19-2.173 1.453-0.8265 0.249-1.749 0.2779-2.644 0.02585-0.894-0.2516-1.759-0.7823-2.475-1.656-0.8527-1.04-1.491-2.17-1.702-4.193-1.727 0.7486-5.022 1.93-5.567 4.577-0.51 2.476 0.1425 8.616 0.9702 11.05 0.02791 0.08224 0.1255 0.1104 0.2127 0.1113l3.437-0.01988c0.0566 7e-3 0.5772-0.0935 0.5467-0.3797-0.06438-0.6058 0.774-3.644 1.264-3.525 0.2822 0.06861 0.5672 0.8384 1.36 0.5984 0.8521-0.2582 0.9309-1.268 1.37-1.529 0.2796-0.1663 0.2146 0.1532 0.2604 0.6799 0.07441 0.86 0.3329 4.275 1.084 4.247h3.408c0.1622-4.07e-4 0.3114-0.05755 0.4274-0.1551 0.1151-0.0971 0.197-0.2353 0.2247-0.3956 0.2825-1.624 0.759-4.55 1.435-5.752l0.1272-0.2207c0.89-1.515 2.067-2.865 3.455-4.459 0.126-0.1445 0.3013-0.3629 0.4255-0.5189 0.08432-0.106 0.03431-0.2439-0.08151-0.2843-0.4965-0.1731-0.9139-0.3079-1.159-0.5189-0.02616-0.02219-0.03608-0.05598-0.02783-0.08947 0.0085-0.03318 0.03202-0.05629 0.06561-0.06363 2.26-0.4751 3.081-1.652 3.674-3.298 0.3251-0.9019 0.4278-1.814 0.3082-2.694-0.1189-0.8752-0.457-1.724-1.012-2.505-0.2803-0.3944-0.5855-0.7282-0.9086-1.008-1.088-0.9415-2.763-1.475-4.38-1.42zm-0.07953 6.09c0.2647-0.00889 0.5301 0.1034 0.7098 0.3261 0.3024 0.3746-0.4219 0.2323-0.7952 0.5328-0.373 0.3004-0.2544 0.9296-0.5567 0.5547-0.3025-0.3749-0.2437-0.9222 0.1292-1.223 0.1516-0.122 0.3319-0.1848 0.5129-0.1909zm-0.2843 12.33c-0.3926 0.8752-0.5883 3.463-0.7793 4.561-0.02677 0.1549-0.06552 0.2731-0.1372 0.4036h1.722c0.4474 0.0027 0.7397-0.0078 0.5766-0.503-0.3803-1.154-1.199-3.049-1.382-4.461z"),X(t,"width","1em"),X(t,"height","1em"),X(t,"viewBox","0 0 26 26")},m(e,o){H(e,t,o),F(t,n),F(t,r)},p:a,i:a,o:a,d(e){e&&z(t)}}}function Rj(e){return[]}class Fj extends ut{constructor(e){super(),ct(this,e,Rj,Aj,f,{})}}const Pj="LOGIN",Lj=":",Hj="Mathesar";function zj(e){let t,n,r=e[2]&&function(e){let t,n,r;return n=new qd({props:{path:e[2]}}),{c(){t=B("svg"),at(n.$$.fragment),X(t,"class","mathesar-name svelte-1aeru0w"),X(t,"version","1.1"),X(t,"viewBox","0 0 "+e[0]+" "+e[1]),X(t,"height","0.77em"),X(t,"role","img"),X(t,"aria-label",Hj)},m(e,o){H(e,t,o),it(n,t,null),r=!0},p:a,i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,[t]){e[2]&&r.p(e,t)},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function Vj(e){const[t,n,,,r]=dS.icon;return[t,n,(Array.isArray(r)?r:[r]).at(0)]}class qj extends ut{constructor(e){super(),ct(this,e,Vj,zj,f,{})}}function Bj(e){let t,n,r,o,s,a;n=new Fj({}),s=new qj({});let i=[e[2],{href:e[0]},{class:"home-link"}],c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return{c(){t=q("a"),at(n.$$.fragment),r=U(),o=q("div"),at(s.$$.fragment),X(o,"class","mathesar svelte-1kgfxji"),Z(t,c),se(t,"compact",e[1]),se(t,"svelte-1kgfxji",!0)},m(e,i){H(e,t,i),it(n,t,null),F(t,r),F(t,o),it(s,o,null),a=!0},p(e,[n]){Z(t,c=rt(i,[4&n&&e[2],(!a||1&n)&&{href:e[0]},{class:"home-link"}])),se(t,"compact",e[1]),se(t,"svelte-1kgfxji",!0)},i(e){a||(je(n.$$.fragment,e),je(s.$$.fragment,e),a=!0)},o(e){Ue(n.$$.fragment,e),Ue(s.$$.fragment,e),a=!1},d(e){e&&z(t),lt(n),lt(s)}}}function jj(e,t,n){const r=["href","compactLayout"];let o=S(t,r),{href:s}=t,{compactLayout:a=!1}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(2,o=S(t,r)),"href"in e&&n(0,s=e.href),"compactLayout"in e&&n(1,a=e.compactLayout)},[s,a,o]}class Uj extends ut{constructor(e){super(),ct(this,e,jj,Bj,f,{href:0,compactLayout:1})}}const Wj=e=>({databaseDisplayName:1&e}),Yj=e=>({databaseDisplayName:e[0].displayName});function Kj(e){let t;const n=e[2].default,r=b(n,e,e[3],Yj),o=r||function(e){let t,n=e[0].displayName+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1&r&&n!==(n=e[0].displayName+"")&&Q(t,n)},d(e){e&&z(t)}}}(e);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,s){r?r.p&&(!t||9&s)&&_(r,n,e,e[3],t?w(n,e[3],s,Wj):x(e[3]),Yj):o&&o.p&&(!t||1&s)&&o.p(e,t?s:-1)},i(e){t||(je(o,e),t=!0)},o(e){Ue(o,e),t=!1},d(e){o&&o.d(e)}}}function Gj(e){let t,n;return t=new OI({props:{icon:IC,iconHasBox:e[1],cssVariables:{"--icon-color":"var(--color-database)"},$$slots:{default:[Kj]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.iconHasBox=e[1]),9&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Xj(e,t,n){let{$$slots:r={},$$scope:o}=t,{database:s}=t,{iconHasBox:a=!1}=t;return e.$$set=e=>{"database"in e&&n(0,s=e.database),"iconHasBox"in e&&n(1,a=e.iconHasBox),"$$scope"in e&&n(3,o=e.$$scope)},[s,a,r,o]}class Zj extends ut{constructor(e){super(),ct(this,e,Xj,Gj,f,{database:0,iconHasBox:1})}}const Jj=e=>({dataFormName:2&e}),Qj=e=>({dataFormName:e[1]});function eU(e){let t;const n=e[6].default,r=b(n,e,e[7],Qj),o=r||function(e){let t;return{c(){t=j(e[1])},m(e,n){H(e,t,n)},p(e,n){2&n&&Q(t,e[1])},d(e){e&&z(t)}}}(e);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,s){r?r.p&&(!t||130&s)&&_(r,n,e,e[7],t?w(n,e[7],s,Jj):x(e[7]),Qj):o&&o.p&&(!t||2&s)&&o.p(e,t?s:-1)},i(e){t||(je(o,e),t=!0)},o(e){Ue(o,e),t=!1},d(e){o&&o.d(e)}}}function tU(e){let t,n;const r=[{icon:RC},e[3],{cssVariables:{...e[0],"--icon-color":"var(--color-data-form)"}},{bold:!0}];let o={$$slots:{default:[eU]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new OI({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const o=9&n?rt(r,[0&n&&{icon:RC},8&n&&ot(e[3]),1&n&&{cssVariables:{...e[0],"--icon-color":"var(--color-data-form)"}},r[3]]):{};130&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function nU(e,t,n){let r,o;const s=["dataForm","cssVariables"];let i,c=S(t,s),u=a;e.$$.on_destroy.push((()=>u()));let{$$slots:d={},$$scope:$}=t,{dataForm:p}=t,{cssVariables:m}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(3,c=S(t,s)),"dataForm"in e&&n(4,p=e.dataForm),"cssVariables"in e&&n(0,m=e.cssVariables),"$$scope"in e&&n(7,$=e.$$scope)},e.$$.update=()=>{16&e.$$.dirty&&(n(2,({structure:r}=p),r),u(),u=g(r,(e=>n(5,i=e)))),32&e.$$.dirty&&n(1,({name:o}=i),o)},[m,o,r,c,p,i,d,$]}class rU extends ut{constructor(e){super(),ct(this,e,nU,tU,f,{dataForm:4,cssVariables:0})}}const oU=e=>({queryName:1&e}),sU=e=>({queryName:e[0]});function aU(e){let t;const n=e[2].default,r=b(n,e,e[3],sU),o=r||function(e){let t;return{c(){t=j(e[0])},m(e,n){H(e,t,n)},p(e,n){1&n&&Q(t,e[0])},d(e){e&&z(t)}}}(e);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,s){r?r.p&&(!t||9&s)&&_(r,n,e,e[3],t?w(n,e[3],s,oU):x(e[3]),sU):o&&o.p&&(!t||1&s)&&o.p(e,t?s:-1)},i(e){t||(je(o,e),t=!0)},o(e){Ue(o,e),t=!1},d(e){o&&o.d(e)}}}function iU(e){let t,n;return t=new OI({props:{icon:DC,cssVariables:{"--icon-color":"var(--color-exploration)"},$$slots:{default:[aU]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};9&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function lU(e,t,n){let r,{$$slots:o={},$$scope:s}=t,{query:a}=t;return e.$$set=e=>{"query"in e&&n(1,a=e.query),"$$scope"in e&&n(3,s=e.$$scope)},e.$$.update=()=>{2&e.$$.dirty&&n(0,({name:r}=a),r)},[r,a,o,s]}class cU extends ut{constructor(e){super(),ct(this,e,lU,iU,f,{query:1})}}const uU=e=>({schemaName:2&e}),dU=e=>({schemaName:e[1]});function $U(e){let t;const n=e[3].default,r=b(n,e,e[4],dU),o=r||function(e){let t;return{c(){t=j(e[1])},m(e,n){H(e,t,n)},p(e,n){2&n&&Q(t,e[1])},d(e){e&&z(t)}}}(e);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,s){r?r.p&&(!t||18&s)&&_(r,n,e,e[4],t?w(n,e[4],s,uU):x(e[4]),dU):o&&o.p&&(!t||2&s)&&o.p(e,t?s:-1)},i(e){t||(je(o,e),t=!0)},o(e){Ue(o,e),t=!1},d(e){o&&o.d(e)}}}function pU(e){let t,n;return t=new OI({props:{icon:VC,cssVariables:{"--icon-color":"var(--color-schema)"},$$slots:{default:[$U]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};18&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function mU(e,t,n){let r,o,s=a;e.$$.on_destroy.push((()=>s()));let{$$slots:i={},$$scope:l}=t,{schema:c}=t;return e.$$set=e=>{"schema"in e&&n(2,c=e.schema),"$$scope"in e&&n(4,l=e.$$scope)},e.$$.update=()=>{4&e.$$.dirty&&(n(0,({name:r}=c),r),s(),s=g(r,(e=>n(1,o=e))))},[r,o,c,i,l]}class fU extends ut{constructor(e){super(),ct(this,e,mU,pU,f,{schema:2})}}function gU(e){let t,n,r;const o=e[2].default,s=b(o,e,e[1],null);return{c(){t=q("span"),n=q("a"),s&&s.c(),X(n,"href",e[0]),X(n,"class","svelte-k6ptr7"),X(t,"class","breadcrumb-link svelte-k6ptr7")},m(e,o){H(e,t,o),F(t,n),s&&s.m(n,null),r=!0},p(e,[t]){s&&s.p&&(!r||2&t)&&_(s,o,e,e[1],r?w(o,e[1],t,null):x(e[1]),null),(!r||1&t)&&X(n,"href",e[0])},i(e){r||(je(s,e),r=!0)},o(e){Ue(s,e),r=!1},d(e){e&&z(t),s&&s.d(e)}}}function hU(e,t,n){let{$$slots:r={},$$scope:o}=t,{href:s}=t;return e.$$set=e=>{"href"in e&&n(0,s=e.href),"$$scope"in e&&n(1,o=e.$$scope)},[s,o,r]}class yU extends ut{constructor(e){super(),ct(this,e,hU,gU,f,{href:0})}}function bU(e){let t,n,r;const o=[nS];let s={};for(let a=0;a<o.length;a+=1)s=l(s,o[a]);return n=new Jd({props:s}),{c(){t=q("span"),at(n.$$.fragment),X(t,"class","page-separator svelte-a9qoyn")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,[t]){const r=0&t?rt(o,[ot(nS)]):{};n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}class vU extends ut{constructor(e){super(),ct(this,e,null,bU,f,{})}}function wU(e){let t,n,r,o,s,a;const i=[Md];let c={};for(let $=0;$<i.length;$+=1)c=l(c,i[$]);r=new Jd({props:c});const u=[Jx,{class:"expand-right-icon"}];let d={};for(let $=0;$<u.length;$+=1)d=l(d,u[$]);return s=new Jd({props:d}),{c(){t=q("span"),n=q("span"),at(r.$$.fragment),o=U(),at(s.$$.fragment),X(n,"class","icon svelte-ft5uj6"),X(t,"class","trigger svelte-ft5uj6")},m(e,i){H(e,t,i),F(t,n),it(r,n,null),F(t,o),it(s,t,null),a=!0},p(e,t){const n=0&t?rt(i,[ot(Md)]):{};r.$set(n);const o=0&t?rt(u,[ot(Jx),u[1]]):{};s.$set(o)},i(e){a||(je(r.$$.fragment,e),je(s.$$.fragment,e),a=!0)},o(e){Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),a=!1},d(e){e&&z(t),lt(r),lt(s)}}}function _U(e){let t,n;return t=new Hu({props:{appearance:"ghost",class:"padding-zero",$$slots:{default:[wU]},$$scope:{ctx:e}}}),t.$on("click",e[0]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};8&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function xU(e,t,n){const r=UH.get();let{table:o}=t;return e.$$set=e=>{"table"in e&&n(1,o=e.table)},[function(){r?.navigateToRecordPage({tableOid:o.oid})},o]}class CU extends ut{constructor(e){super(),ct(this,e,xU,_U,f,{table:1})}}function SU(e,t){let n=ve(e);return void 0!==n?(n.set(t),n):(n=pt(t),be(e,n),n)}function kU(e){const t=ve(e);if(void 0===t)throw new Error("Route context has not been set");return t}const MU=Symbol("schema route store");class IU{constructor(t){e(this,"schema",void 0),e(this,"dataFormsFetch",void 0),e(this,"dataForms",void 0),this.schema=t,this.dataFormsFetch=t.constructDataFormsStore();const n=mt(this.dataFormsFetch,(e=>[...e.resolvedValue?.values()??[]])),r=Ho(n,(({structure:e})=>e),((e,t)=>e.name.localeCompare(t.name)));this.dataForms=mt(r,(e=>new ao(e.map((e=>[e.id,e])))))}async insertDataForm(e){const t=await this.schema.addDataForm(e);return this.dataFormsFetch.updateResolvedValue((e=>e.with(t.id,t))),t}async removeDataForm(e){await e.delete(),this.dataFormsFetch.updateResolvedValue((t=>t.without(e.id)))}static construct(e){return SU(MU,new IU(e))}static get(){return kU(MU)}static getSafe(){return function(e){return Fo(ve(e))}(MU)}}const TU=dx(),EU="anonymous"!==TU.routing_context;function DU(){return{data:new Map,requestStatus:{state:"success"}}}const OU=pt(DU());function NU(e,t){const n=new Map;(function(e){return[...e].sort(((e,t)=>e.name?.localeCompare(t.name)))})(t).forEach((e=>{n.set(e.id,e)})),OU.set({databaseId:e.database.id,schemaOid:e.oid,data:n,requestStatus:{state:"success"}})}let AU;async function RU(){AU?.cancel();const e=h(gP);if(e)try{OU.update((t=>t.databaseId===e.database.id&&t.schemaOid===e.oid?{...t,requestStatus:{state:"processing"}}:{databaseId:e.database.id,schemaOid:e.oid,data:new Map,requestStatus:{state:"processing"}})),AU=PM.explorations.list({database_id:e.database.id,schema_oid:e.oid}).run();const t=await AU;NU(e,t)}catch(t){OU.update((n=>n.databaseId===e.database.id&&n.schemaOid===e.oid?{...n,requestStatus:{state:"failure",errors:[ck(t)]}}:{databaseId:e.database.id,schemaOid:e.oid,data:new Map,requestStatus:{state:"failure",errors:[ck(t)]}}))}else OU.set(DU())}function FU(e){const t=h(gP);if(t&&e.database_id===t.database.id&&e.schema_oid===t.oid){NU(t,[...h(OU).data.set(e.id,e).values()])}}function PU(e){const t=PM.explorations.replace({new_exploration:e}).run();return t.then((e=>(FU(e),e))),t}function LU(e){const t=PM.explorations.delete({exploration_id:e}).run(),n=h(OU),r=h(gP);return n.databaseId===r?.database.id&&n.schemaOid===r?.oid&&(n.data.delete(e),OU.update((e=>({...e,data:new Map(n.data)})))),t}let HU=!0;const zU=Po(mt(gP,(e=>{const t=h(OU);return t.databaseId!==e?.database.id||t.schemaOid!==e?.oid?(HU&&EU&&TU.current_schema===e?.oid&&TU.current_database===e?.database.id?NU(e,TU.queries):RU(),HU=!1):"failure"===t.requestStatus.state&&RU(),OU})));function VU(e){let t,n=e[0]("custom_database_nickname_label_help")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1&r&&n!==(n=e[0]("custom_database_nickname_label_help")+"")&&Q(t,n)},d(e){e&&z(t)}}}function qU(e){let t,n,r,o,s,a=e[0]("use_a_custom_nickname_instead")+"";return o=new H$({props:{$$slots:{default:[VU]},$$scope:{ctx:e}}}),{c(){t=q("span"),n=j(a),r=U(),at(o.$$.fragment)},m(e,a){H(e,t,a),F(t,n),F(t,r),it(o,t,null),s=!0},p(e,[t]){(!s||1&t)&&a!==(a=e[0]("use_a_custom_nickname_instead")+"")&&Q(n,a);const r={};3&t&&(r.$$scope={dirty:t,ctx:e}),o.$set(r)},i(e){s||(je(o.$$.fragment,e),s=!0)},o(e){Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(o)}}}function BU(e,t,n){let r;return y(e,no,(e=>n(0,r=e))),[r]}class jU extends ut{constructor(e){super(),ct(this,e,BU,qU,f,{})}}function UU(e){let t,n;return t=new fg({props:{options:e[2],getRadioLabel:e[3],isInline:!0,value:void 0!==e[0]?"useNickname":"useName"}}),t.$on("change",e[4]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.value=void 0!==e[0]?"useNickname":"useName"),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function WU(e){let t,n;return t=new ML({props:{$$slots:{default:[KU]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};131&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function YU(e){let t,n,r;function o(t){e[5](t)}let s={};return void 0!==e[0]&&(s.value=e[0]),t=new ym({props:s}),Ce.push((()=>st(t,"value",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};!n&&1&r&&(n=!0,o.value=e[0],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function KU(e){let t,n;return t=new J$({props:{layout:"stacked",label:e[1]("nickname"),$$slots:{default:[YU]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.label=e[1]("nickname")),129&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function GU(e){let t,n,r,o;t=new ML({props:{$$slots:{default:[UU]},$$scope:{ctx:e}}});let s=void 0!==e[0]&&WU(e);return{c(){at(t.$$.fragment),n=U(),s&&s.c(),r=W()},m(e,a){it(t,e,a),H(e,n,a),s&&s.m(e,a),H(e,r,a),o=!0},p(e,n){const o={};129&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o),void 0!==e[0]?s?(s.p(e,n),1&n&&je(s,1)):(s=WU(e),s.c(),je(s,1),s.m(r.parentNode,r)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be())},i(e){o||(je(t.$$.fragment,e),je(s),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(s),o=!1},d(e){lt(t,e),e&&z(n),s&&s.d(e),e&&z(r)}}}function XU(e){let t,n;return t=new _p({props:{label:e[1]("display_name"),boxed:!0,$$slots:{default:[GU]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.label=e[1]("display_name")),131&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function ZU(e,t,n){let r;y(e,no,(e=>n(1,r=e)));const o={useName:r("use_the_database_name"),useNickname:{component:jU}},s=Object.keys(o);let{value:a}=t;return e.$$set=e=>{"value"in e&&n(0,a=e.value)},[a,r,s,function(e){return o[e]},({detail:{value:e}})=>{n(0,a="useName"===e?void 0:"")},function(e){a=e,n(0,a)}]}class JU extends ut{constructor(e){super(),ct(this,e,ZU,XU,f,{value:0})}}function QU(e){return DM.filter((t=>e.includes(t)))}function eW(e){let t,n,r,o;function s(t){e[8](t)}let a={boxed:!0,label:e[1]("schemas_to_install"),ariaLabel:e[1]("schemas_to_install"),options:e[3],getCheckboxLabel:e[6],getCheckboxHelp:e[7],getCheckboxDisabled:tW};return void 0!==e[2]&&(a.values=e[2]),n=new Up({props:a}),Ce.push((()=>st(n,"values",s))),{c(){t=q("div"),at(n.$$.fragment)},m(e,r){H(e,t,r),it(n,t,null),o=!0},p(e,[t]){const o={};2&t&&(o.label=e[1]("schemas_to_install")),2&t&&(o.ariaLabel=e[1]("schemas_to_install")),!r&&4&t&&(r=!0,o.values=e[2],Oe((()=>r=!1))),n.$set(o)},i(e){o||(je(n.$$.fragment,e),o=!0)},o(e){Ue(n.$$.fragment,e),o=!1},d(e){e&&z(t),lt(n)}}}const tW=e=>"internal"===e;function nW(e,t,n){let r,o,s=a,i=()=>(s(),s=g(d,(e=>n(2,o=e))),d);y(e,no,(e=>n(1,r=e))),e.$$.on_destroy.push((()=>s()));const l=["internal",...DM],c={internal:"mathesar_types, __msar, msar",bike_shop:"Bike Shop",hardware_store:"Hardware Store",ice_cream_employees:"Ice  Cream Employee Management",library_makerspace:"Library Makerspace",movie_rentals:"Movie Rentals",museum_exhibits:"Museum Exhibits",nonprofit_grants:"Nonprofit Grant Tracking"},u={internal:r("internal_schema_help"),bike_shop:r("sample_data_bike_shop_help"),hardware_store:r("sample_data_hardware_store_help"),ice_cream_employees:r("sample_data_ice_cream_employees_help"),library_makerspace:r("sample_data_library_makerspace_help"),movie_rentals:r("sample_data_movie_rentals_help"),museum_exhibits:r("sample_data_museum_exhibits_help"),nonprofit_grants:r("sample_data_nonprofit_grants_help")};let{installationSchemas:d}=t;i();return e.$$set=e=>{"installationSchemas"in e&&i(n(0,d=e.installationSchemas))},[d,r,o,l,c,u,e=>c[e],e=>u[e],function(e){o=e,d.set(o)}]}class rW extends ut{constructor(e){super(),ct(this,e,nW,eW,f,{installationSchemas:0})}}function oW(e){let t,n;return t=new RO({props:{page:"internalSchemas",$$slots:{default:[aW]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};3145728&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function sW(e){let t,n,r=e[20]+"";return{c(){t=q("em"),n=j(r)},m(e,r){H(e,t,r),F(t,n)},p(e,t){1048576&t&&r!==(r=e[20]+"")&&Q(n,r)},i:a,o:a,d(e){e&&z(t)}}}function aW(e){let t,n=e[20]+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1048576&r&&n!==(n=e[20]+"")&&Q(t,n)},d(e){e&&z(t)}}}function iW(e){let t,n,r,o;const s=[sW,oW],a=[];function i(e,t){return"italic"===e[19]?0:"docsLink"===e[19]?1:-1}return~(t=i(e))&&(n=a[t]=s[t](e)),{c(){n&&n.c(),r=W()},m(e,n){~t&&a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?~t&&a[t].p(e,o):(n&&(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be()),~t?(n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){~t&&a[t].d(e),e&&z(r)}}}function lW(e){let t,n,r,o,s,a,i=e[1]("role_needs_create_connect_privileges_detail_1")+"";return s=new Rx({props:{text:e[1]("role_needs_create_connect_privileges_detail_2"),$$slots:{default:[iW,({slotName:e,translatedArg:t})=>({19:e,20:t}),({slotName:e,translatedArg:t})=>(e?524288:0)|(t?1048576:0)]},$$scope:{ctx:e}}}),{c(){t=q("p"),n=j(i),r=U(),o=q("p"),at(s.$$.fragment)},m(e,i){H(e,t,i),F(t,n),H(e,r,i),H(e,o,i),it(s,o,null),a=!0},p(e,t){(!a||2&t)&&i!==(i=e[1]("role_needs_create_connect_privileges_detail_1")+"")&&Q(n,i);const r={};2&t&&(r.text=e[1]("role_needs_create_connect_privileges_detail_2")),3670016&t&&(r.$$scope={dirty:t,ctx:e}),s.$set(r)},i(e){a||(je(s.$$.fragment,e),a=!0)},o(e){Ue(s.$$.fragment,e),a=!1},d(e){e&&z(t),e&&z(r),e&&z(o),lt(s)}}}function cW(e){let t,n,r,o,s=e[1]("role_needs_create_connect_privileges")+"";return r=new H$({props:{$$slots:{default:[lW]},$$scope:{ctx:e}}}),{c(){t=j(s),n=U(),at(r.$$.fragment)},m(e,s){H(e,t,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){(!o||2&n)&&s!==(s=e[1]("role_needs_create_connect_privileges")+"")&&Q(t,s);const a={};2097154&n&&(a.$$scope={dirty:n,ctx:e}),r.$set(a)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(t),e&&z(n),lt(r,e)}}}function uW(e){let t,n;return t=new RO({props:{page:"storedRoles",$$slots:{default:[dW]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};3145728&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function dW(e){let t,n=e[20]+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1048576&r&&n!==(n=e[20]+"")&&Q(t,n)},d(e){e&&z(t)}}}function $W(e){let t,n,r="docsLink"===e[19]&&uW(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"docsLink"===e[19]?r?(r.p(e,n),524288&n&&je(r,1)):(r=uW(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function pW(e){let t,n,r,o,s=e[1]("password_help")+"";return r=new Rx({props:{text:e[1]("connect_db_password_help"),$$slots:{default:[$W,({slotName:e,translatedArg:t})=>({19:e,20:t}),({slotName:e,translatedArg:t})=>(e?524288:0)|(t?1048576:0)]},$$scope:{ctx:e}}}),{c(){t=j(s),n=U(),at(r.$$.fragment)},m(e,s){H(e,t,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){(!o||2&n)&&s!==(s=e[1]("password_help")+"")&&Q(t,s);const a={};2&n&&(a.text=e[1]("connect_db_password_help")),3670016&n&&(a.$$scope={dirty:n,ctx:e}),r.$set(a)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(t),e&&z(n),lt(r,e)}}}function mW(e){let t,n;return t=new rW({props:{installationSchemas:e[8]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function fW(e){let t,n,r,o,s,a,i,l,c,u,d,$,p,m,f,g,h,y,b,v,w,_,x;return o=new WL({props:{label:e[1]("host"),layout:"stacked",field:e[4]}}),i=new WL({props:{label:e[1]("port"),layout:"stacked",field:e[5],input:{component:cf}}}),c=new WL({props:{label:e[1]("database_name"),layout:"stacked",field:e[2],help:e[1]("make_sure_database_exists")}}),d=new WL({props:{label:e[1]("role_name"),layout:"stacked",field:e[6],$$slots:{help:[cW]},$$scope:{ctx:e}}}),p=new WL({props:{label:e[1]("password"),layout:"stacked",field:e[7],input:{component:Qf,props:{autocomplete:"new-password"}},$$slots:{help:[pW]},$$scope:{ctx:e}}}),f=new WL({props:{field:e[3],input:{component:JU}}}),h=new ML({props:{$$slots:{default:[mW]},$$scope:{ctx:e}}}),v=new QL({props:{form:e[9],catchErrors:!0,onCancel:e[0],onProceed:e[10],proceedButton:{label:e[1]("connect_database")},cancelButton:{label:e[1]("cancel")}}}),{c(){t=q("div"),n=q("div"),r=q("div"),at(o.$$.fragment),s=U(),a=q("div"),at(i.$$.fragment),l=U(),at(c.$$.fragment),u=U(),at(d.$$.fragment),$=U(),at(p.$$.fragment),m=U(),at(f.$$.fragment),g=U(),at(h.$$.fragment),y=U(),b=q("div"),at(v.$$.fragment),X(n,"class","field-group-horizontal svelte-1rps6rr"),X(b,"class","footer"),X(t,"class","connect-db-form")},m(e,C){H(e,t,C),F(t,n),F(n,r),it(o,r,null),F(n,s),F(n,a),it(i,a,null),F(t,l),it(c,t,null),F(t,u),it(d,t,null),F(t,$),it(p,t,null),F(t,m),it(f,t,null),F(t,g),it(h,t,null),F(t,y),F(t,b),it(v,b,null),w=!0,_||(x=T(ux.call(null,b)),_=!0)},p(e,[t]){const n={};2&t&&(n.label=e[1]("host")),o.$set(n);const r={};2&t&&(r.label=e[1]("port")),i.$set(r);const s={};2&t&&(s.label=e[1]("database_name")),2&t&&(s.help=e[1]("make_sure_database_exists")),c.$set(s);const a={};2&t&&(a.label=e[1]("role_name")),2097154&t&&(a.$$scope={dirty:t,ctx:e}),d.$set(a);const l={};2&t&&(l.label=e[1]("password")),2097154&t&&(l.$$scope={dirty:t,ctx:e}),p.$set(l);const u={};2097152&t&&(u.$$scope={dirty:t,ctx:e}),h.$set(u);const $={};1&t&&($.onCancel=e[0]),2&t&&($.proceedButton={label:e[1]("connect_database")}),2&t&&($.cancelButton={label:e[1]("cancel")}),v.$set($)},i(e){w||(je(o.$$.fragment,e),je(i.$$.fragment,e),je(c.$$.fragment,e),je(d.$$.fragment,e),je(p.$$.fragment,e),je(f.$$.fragment,e),je(h.$$.fragment,e),je(v.$$.fragment,e),w=!0)},o(e){Ue(o.$$.fragment,e),Ue(i.$$.fragment,e),Ue(c.$$.fragment,e),Ue(d.$$.fragment,e),Ue(p.$$.fragment,e),Ue(f.$$.fragment,e),Ue(h.$$.fragment,e),Ue(v.$$.fragment,e),w=!1},d(e){e&&z(t),lt(o),lt(i),lt(c),lt(d),lt(p),lt(f),lt(h),lt(v),_=!1,x()}}}function gW(e,t,n){let r,o,s,a,i,l,c,u;y(e,no,(e=>n(1,u=e)));let{onCancel:d}=t,{onSuccess:$}=t;const p=oH("");y(e,p,(e=>n(14,s=e)));const m=rH(void 0);y(e,m,(e=>n(13,o=e)));const f=oH("localhost");y(e,f,(e=>n(18,c=e)));const g=rH(5432);y(e,g,(e=>n(17,l=e)));const h=oH("");y(e,h,(e=>n(16,i=e)));const b=rH("");y(e,b,(e=>n(15,a=e)));const v=oH(["internal"]);y(e,v,(e=>n(12,r=e)));const w=aH({databaseName:p,nickname:m,host:f,port:g,role:h,password:b,installationSchemas:v});return e.$$set=e=>{"onCancel"in e&&n(0,d=e.onCancel),"onSuccess"in e&&n(11,$=e.onSuccess)},[d,u,p,m,f,g,h,b,v,w,async function(){const e=await QF.connectExistingDatabase({host:c,port:l,role:i,password:a,database:s,nickname:o??null,sample_data:QU(r)});$(e)},$]}class hW extends ut{constructor(e){super(),ct(this,e,gW,fW,f,{onCancel:0,onSuccess:11})}}function yW(e){let t,n,r,o,s,a,i,c,u,d,$;const p=[e[1],{size:"2rem"}];let m={};for(let f=0;f<p.length;f+=1)m=l(m,p[f]);return r=new Jd({props:m}),{c(){t=q("div"),n=q("div"),at(r.$$.fragment),o=U(),s=q("div"),a=q("div"),i=j(e[2]),c=U(),u=q("div"),d=j(e[3]),X(n,"class","icon-circle svelte-aa035t"),X(a,"class","header svelte-aa035t"),X(u,"class","description svelte-aa035t"),X(t,"class","content svelte-aa035t")},m(e,l){H(e,t,l),F(t,n),it(r,n,null),F(t,o),F(t,s),F(s,a),F(a,i),F(s,c),F(s,u),F(u,d),$=!0},p(e,t){const n=2&t?rt(p,[ot(e[1]),p[1]]):{};r.$set(n),(!$||4&t)&&Q(i,e[2]),(!$||8&t)&&Q(d,e[3])},i(e){$||(je(r.$$.fragment,e),$=!0)},o(e){Ue(r.$$.fragment,e),$=!1},d(e){e&&z(t),lt(r)}}}function bW(e){let t,n,r;return n=new Hu({props:{appearance:"custom",$$slots:{default:[yW]},$$scope:{ctx:e}}}),n.$on("click",(function(){$(e[0])&&e[0].apply(this,arguments)})),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","connect-option svelte-aa035t")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(t,[r]){e=t;const o={};30&r&&(o.$$scope={dirty:r,ctx:e}),n.$set(o)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function vW(e,t,n){let{changeView:r}=t,{icon:o}=t,{header:s}=t,{description:a}=t;return e.$$set=e=>{"changeView"in e&&n(0,r=e.changeView),"icon"in e&&n(1,o=e.icon),"header"in e&&n(2,s=e.header),"description"in e&&n(3,a=e.description)},[r,o,s,a]}class wW extends ut{constructor(e){super(),ct(this,e,vW,bW,f,{changeView:0,icon:1,header:2,description:3})}}function _W(e){let t,n;return t=new rW({props:{installationSchemas:e[4]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function xW(e){let t,n,r,o,s,a,i,l,c,u,d,$;return n=new WL({props:{label:e[1]("database_name"),layout:"stacked",field:e[2]}}),o=new WL({props:{field:e[3],input:{component:JU}}}),a=new ML({props:{$$slots:{default:[_W]},$$scope:{ctx:e}}}),c=new QL({props:{form:e[5],catchErrors:!0,onCancel:e[0],onProceed:e[6],proceedButton:{label:e[1]("create_database")},cancelButton:{label:e[1]("cancel")}}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),at(o.$$.fragment),s=U(),at(a.$$.fragment),i=U(),l=q("div"),at(c.$$.fragment),X(l,"class","footer"),X(t,"class","create-db-form")},m(e,p){H(e,t,p),it(n,t,null),F(t,r),it(o,t,null),F(t,s),it(a,t,null),F(t,i),F(t,l),it(c,l,null),u=!0,d||($=T(ux.call(null,l)),d=!0)},p(e,[t]){const r={};2&t&&(r.label=e[1]("database_name")),n.$set(r);const o={};2048&t&&(o.$$scope={dirty:t,ctx:e}),a.$set(o);const s={};1&t&&(s.onCancel=e[0]),2&t&&(s.proceedButton={label:e[1]("create_database")}),2&t&&(s.cancelButton={label:e[1]("cancel")}),c.$set(s)},i(e){u||(je(n.$$.fragment,e),je(o.$$.fragment,e),je(a.$$.fragment,e),je(c.$$.fragment,e),u=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),Ue(a.$$.fragment,e),Ue(c.$$.fragment,e),u=!1},d(e){e&&z(t),lt(n),lt(o),lt(a),lt(c),d=!1,$()}}}function CW(e,t,n){let r,o,s,a;y(e,no,(e=>n(1,a=e)));let{onCancel:i}=t,{onSuccess:l}=t;const c=oH("");y(e,c,(e=>n(10,s=e)));const u=rH(void 0);y(e,u,(e=>n(9,o=e)));const d=oH(["internal"]);y(e,d,(e=>n(8,r=e)));const $=aH({databaseName:c,nickname:u,installationSchemas:d});return e.$$set=e=>{"onCancel"in e&&n(0,i=e.onCancel),"onSuccess"in e&&n(7,l=e.onSuccess)},[i,a,c,u,d,$,async function(){const e=await QF.createNewDatabase({database:s,nickname:o??null,sample_data:QU(r)});l(e)},l]}class SW extends ut{constructor(e){super(),ct(this,e,CW,xW,f,{onCancel:0,onSuccess:7})}}function kW(e){let t,n;return t=new hW({props:{onCancel:e[5],onSuccess:e[6]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function MW(e){let t,n;return t=new SW({props:{onCancel:e[5],onSuccess:e[6]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function IW(e){let t,n,r,o,s;return n=new wW({props:{icon:jx,header:e[2]("create_new_database"),description:e[2]("create_database_mathesar_internal_server"),changeView:e[7]}}),o=new wW({props:{icon:kC,header:e[2]("connect_existing_database"),description:e[2]("provide_details_connect_existing_database"),changeView:e[8]}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),at(o.$$.fragment),X(t,"class","connect-db-options svelte-1wckypc")},m(e,a){H(e,t,a),it(n,t,null),F(t,r),it(o,t,null),s=!0},p(e,t){const r={};4&t&&(r.header=e[2]("create_new_database")),4&t&&(r.description=e[2]("create_database_mathesar_internal_server")),n.$set(r);const s={};4&t&&(s.header=e[2]("connect_existing_database")),4&t&&(s.description=e[2]("provide_details_connect_existing_database")),o.$set(s)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(n),lt(o)}}}function TW(e){let t,n,r,o;const s=[IW,MW,kW],a=[];function i(e,t){return"base"===e[1]?0:"create"===e[1]?1:2}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function EW(e){let t,n;return t=new dv({props:{controller:e[0],size:"medium",title:e[3],$$slots:{default:[TW]},$$scope:{ctx:e}}}),t.$on("close",e[9]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.controller=e[0]),8&n&&(r.title=e[3]),1030&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function DW(e,t,n){let r,o;y(e,no,(e=>n(2,o=e)));let{controller:s}=t,a="base";function i(e){n(1,a=e)}return e.$$set=e=>{"controller"in e&&n(0,s=e.controller)},e.$$.update=()=>{6&e.$$.dirty&&n(3,r=(()=>{switch(a){case"create":return o("create_new_database");case"connect":return o("connect_existing_database");default:return o("how_would_you_like_to_connect_db")}})())},[s,a,o,r,i,function(){s.close()},function(){s.close()},()=>i("create"),()=>i("connect"),()=>i("base")]}class OW extends ut{constructor(e){super(),ct(this,e,DW,EW,f,{controller:0})}}function NW(e){let t,n,r,o,s;const a=[cC];let i={};for(let c=0;c<a.length;c+=1)i=l(i,a[c]);return n=new Jd({props:i}),{c(){t=q("button"),at(n.$$.fragment),X(t,"class","record-selector-navigation-button passthrough svelte-1ovgnzp"),X(t,"aria-label",e[0]),X(t,"title",e[0])},m(a,i){H(a,t,i),it(n,t,null),r=!0,o||(s=Y(t,"click",e[1]),o=!0)},p(e,[o]){const s=0&o?rt(a,[ot(cC)]):{};n.$set(s),(!r||1&o)&&X(t,"aria-label",e[0]),(!r||1&o)&&X(t,"title",e[0])},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n),o=!1,s()}}}function AW(e,t,n){let r,o,s,a;y(e,no,(e=>n(4,a=e)));const i=UH.get(),l=ye();let{table:c}=t;return e.$$set=e=>{"table"in e&&n(2,c=e.table)},e.$$.update=()=>{4&e.$$.dirty&&n(3,({oid:r,name:o}=c),o),24&e.$$.dirty&&n(0,s=o?a("navigate_to_table_record",{values:{tableName:o}}):a("navigate_to_record"))},[s,function(){i?.navigateToRecordPage({tableOid:r}),l("click")},c,o,a]}class RW extends ut{constructor(e){super(),ct(this,e,AW,NW,f,{table:2})}}function FW(e){let t,n;return t=new OI({props:{icon:e[0].icon,$$slots:{default:[qW]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.icon=e[0].icon),259&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function PW(e){let t,n;return t=new rU({props:{dataForm:e[0].dataForm,$$slots:{default:[BW,({dataFormName:e})=>({7:e}),({dataFormName:e})=>e?128:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.dataForm=e[0].dataForm),386&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function LW(e){let t,n;return t=new fU({props:{schema:e[0].schema,$$slots:{default:[jW,({schemaName:e})=>({6:e}),({schemaName:e})=>e?64:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.schema=e[0].schema),322&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function HW(e){let t,n;return t=new Zj({props:{database:e[0].database,$$slots:{default:[UW,({databaseDisplayName:e})=>({5:e}),({databaseDisplayName:e})=>e?32:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.database=e[0].database),290&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function zW(e){let t,n;return t=new cU({props:{query:e[0].exploration,$$slots:{default:[WW,({queryName:e})=>({4:e}),({queryName:e})=>e?16:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.query=e[0].exploration),274&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function VW(e){let t,n;return t=new HI({props:{table:e[0].table,$$slots:{default:[YW,({tableName:e})=>({3:e}),({tableName:e})=>e?8:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.table=e[0].table),266&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function qW(e){let t,n;return t=new Pv({props:{text:e[0].label,substring:e[1]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.text=e[0].label),2&n&&(r.substring=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function BW(e){let t,n;return t=new Pv({props:{text:e[7],substring:e[1]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};128&n&&(r.text=e[7]),2&n&&(r.substring=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function jW(e){let t,n;return t=new Pv({props:{text:e[6],substring:e[1]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.text=e[6]),2&n&&(r.substring=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function UW(e){let t,n;return t=new Pv({props:{text:e[5],substring:e[1]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.text=e[5]),2&n&&(r.substring=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function WW(e){let t,n;return t=new Pv({props:{text:e[4],substring:e[1]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.text=e[4]),2&n&&(r.substring=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function YW(e){let t,n;return t=new Pv({props:{text:e[3],substring:e[1]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.text=e[3]),2&n&&(r.substring=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function KW(e){let t,n,r;return n=new RW({props:{table:e[0].table}}),n.$on("click",(function(){$(e[2])&&e[2].apply(this,arguments)})),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","record-selector svelte-1ez13l6")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(t,r){e=t;const o={};1&r&&(o.table=e[0].table),n.$set(o)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function GW(e){let t,n,r,o,s,a,i,l,c,u,d;const p=[VW,zW,HW,LW,PW,FW],m=[];function f(e,t){return"table"===e[0].type?0:"exploration"===e[0].type?1:"database"===e[0].type?2:"schema"===e[0].type?3:"dataForm"===e[0].type?4:5}s=f(e),a=m[s]=p[s](e);let g="table"===e[0].type&&KW(e);return{c(){t=q("li"),n=q("div"),r=U(),o=q("a"),a.c(),l=U(),g&&g.c(),X(n,"class","hover-indicator svelte-1ez13l6"),X(o,"href",i=e[0].href),X(o,"class","svelte-1ez13l6"),X(t,"class","breadcrumb-selector-row svelte-1ez13l6"),se(t,"active",e[0].isActive())},m(a,i){H(a,t,i),F(t,n),F(t,r),F(t,o),m[s].m(o,null),F(t,l),g&&g.m(t,null),c=!0,u||(d=Y(o,"click",(function(){$(e[2])&&e[2].apply(this,arguments)})),u=!0)},p(n,[r]){let l=s;s=f(e=n),s===l?m[s].p(e,r):(qe(),Ue(m[l],1,1,(()=>{m[l]=null})),Be(),a=m[s],a?a.p(e,r):(a=m[s]=p[s](e),a.c()),je(a,1),a.m(o,null)),(!c||1&r&&i!==(i=e[0].href))&&X(o,"href",i),"table"===e[0].type?g?(g.p(e,r),1&r&&je(g,1)):(g=KW(e),g.c(),je(g,1),g.m(t,null)):g&&(qe(),Ue(g,1,1,(()=>{g=null})),Be()),(!c||1&r)&&se(t,"active",e[0].isActive())},i(e){c||(je(a),je(g),c=!0)},o(e){Ue(a),Ue(g),c=!1},d(e){e&&z(t),m[s].d(),g&&g.d(),u=!1,d()}}}function XW(e,t,n){let{entry:r}=t,{filterString:o=""}=t,{closeSelector:s}=t;return e.$$set=e=>{"entry"in e&&n(0,r=e.entry),"filterString"in e&&n(1,o=e.filterString),"closeSelector"in e&&n(2,s=e.closeSelector)},[r,o,s]}class ZW extends ut{constructor(e){super(),ct(this,e,XW,GW,f,{entry:0,filterString:1,closeSelector:2})}}function JW(e,t,n){const r=e.slice();return r[8]=t[n],r}function QW(e){let t;return{c(){t=j(e[3])},m(e,n){H(e,t,n)},p(e,n){8&n&&Q(t,e[3])},i:a,o:a,d(e){e&&z(t)}}}function eY(e){let t,n;return t=new Rx({props:{text:e[5]("no_matches"),$$slots:{default:[rY,({slotName:e})=>({11:e}),({slotName:e})=>e?2048:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.text=e[5]("no_matches")),6145&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function tY(e){let t,n;return t=new Rx({props:{text:e[5]("number_of_matches",{values:{count:e[2].length}}),$$slots:{default:[sY,({slotName:e})=>({11:e}),({slotName:e})=>e?2048:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};36&n&&(r.text=e[5]("number_of_matches",{values:{count:e[2].length}})),6145&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function nY(e){let t,n;return{c(){t=q("b"),n=j(e[0])},m(e,r){H(e,t,r),F(t,n)},p(e,t){1&t&&Q(n,e[0])},d(e){e&&z(t)}}}function rY(e){let t,n="searchValue"===e[11]&&nY(e);return{c(){n&&n.c(),t=W()},m(e,r){n&&n.m(e,r),H(e,t,r)},p(e,r){"searchValue"===e[11]?n?n.p(e,r):(n=nY(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&z(t)}}}function oY(e){let t,n;return{c(){t=q("b"),n=j(e[0])},m(e,r){H(e,t,r),F(t,n)},p(e,t){1&t&&Q(n,e[0])},d(e){e&&z(t)}}}function sY(e){let t,n="searchValue"===e[11]&&oY(e);return{c(){n&&n.c(),t=W()},m(e,r){n&&n.m(e,r),H(e,t,r)},p(e,r){"searchValue"===e[11]?n?n.p(e,r):(n=oY(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&z(t)}}}function aY(e,t){let n,r,o;return r=new ZW({props:{entry:t[8],filterString:t[0],closeSelector:t[1]}}),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};4&n&&(o.entry=t[8]),1&n&&(o.filterString=t[0]),2&n&&(o.closeSelector=t[1]),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function iY(e){let t,n,r,o,s,a,i,l,c,u,d,$=[],p=new Map;const m=[tY,eY,QW],f=[];function g(e,t){return e[0]&&e[2].length?0:e[0]&&!e[2].length?1:e[2].length?-1:2}~(i=g(e))&&(l=f[i]=m[i](e));let h=e[2];const y=e=>e[8].href;for(let b=0;b<h.length;b+=1){let t=JW(e,h,b),n=y(t);p.set(n,$[b]=aY(n,t))}return{c(){t=q("div"),n=q("div"),r=j(e[4]),o=U(),s=q("div"),a=q("div"),l&&l.c(),c=U(),u=q("ul");for(let e=0;e<$.length;e+=1)$[e].c();X(n,"class","label"),X(a,"class","detail svelte-xzu1zw"),X(u,"class","items svelte-xzu1zw"),X(s,"class","content svelte-xzu1zw"),X(t,"class","breadcrumb-selector-section svelte-xzu1zw")},m(e,l){H(e,t,l),F(t,n),F(n,r),F(t,o),F(t,s),F(s,a),~i&&f[i].m(a,null),F(s,c),F(s,u);for(let t=0;t<$.length;t+=1)$[t].m(u,null);d=!0},p(e,[t]){(!d||16&t)&&Q(r,e[4]);let n=i;i=g(e),i===n?~i&&f[i].p(e,t):(l&&(qe(),Ue(f[n],1,1,(()=>{f[n]=null})),Be()),~i?(l=f[i],l?l.p(e,t):(l=f[i]=m[i](e),l.c()),je(l,1),l.m(a,null)):l=null),7&t&&(h=e[2],qe(),$=nt($,t,y,1,e,h,p,u,et,aY,null,JW),Be())},i(e){if(!d){je(l);for(let e=0;e<h.length;e+=1)je($[e]);d=!0}},o(e){Ue(l);for(let t=0;t<$.length;t+=1)Ue($[t]);d=!1},d(e){e&&z(t),~i&&f[i].d();for(let t=0;t<$.length;t+=1)$[t].d()}}}function lY(e,t,n){let r,o,s,a,i;y(e,no,(e=>n(5,i=e)));let{section:l}=t,{filterString:c}=t,{closeSelector:u}=t;return e.$$set=e=>{"section"in e&&n(6,l=e.section),"filterString"in e&&n(0,c=e.filterString),"closeSelector"in e&&n(1,u=e.closeSelector)},e.$$.update=()=>{64&e.$$.dirty&&n(4,({label:r,entries:o,emptyMessage:s}=l),r,(n(7,o),n(6,l)),(n(3,s),n(6,l))),129&e.$$.dirty&&n(2,a=[...Xo(o,c,(e=>e.getFilterableText()))])},[c,u,a,s,r,i,l,o]}class cY extends ut{constructor(e){super(),ct(this,e,lY,iY,f,{section:6,filterString:0,closeSelector:1})}}function uY(e,t,n){const r=e.slice();return r[15]=t[n],r}function dY(e,t,n){const r=e.slice();return r[18]=t[n],r}function $Y(e){let t,n,r;const o=[Jx];let s={};for(let a=0;a<o.length;a+=1)s=l(s,o[a]);return n=new Jd({props:s}),{c(){t=q("span"),at(n.$$.fragment),X(t,"class","trigger svelte-ja244h")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r=0&t?rt(o,[ot(Jx)]):{};n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function pY(e,t){let n,r,o;return r=new cY({props:{section:t[18],filterString:t[6],closeSelector:t[12]}}),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};1&n&&(o.section=t[18]),64&n&&(o.filterString=t[6]),8&n&&(o.closeSelector=t[12]),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function mY(e){let t,n,r=[],o=new Map,s=e[2];const a=e=>e[15].href;for(let i=0;i<s.length;i+=1){let t=uY(e,s,i),n=a(t);o.set(n,r[i]=fY(n,t))}return{c(){t=q("ul");for(let e=0;e<r.length;e+=1)r[e].c();X(t,"class","actions svelte-ja244h")},m(e,o){H(e,t,o);for(let n=0;n<r.length;n+=1)r[n].m(t,null);n=!0},p(e,n){12&n&&(s=e[2],qe(),r=nt(r,n,a,1,e,s,o,t,et,fY,null,uY),Be())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ue(r[t]);n=!1},d(e){e&&z(t);for(let t=0;t<r.length;t+=1)r[t].d()}}}function fY(e,t){let n,r,o;return r=new ZW({props:{entry:t[15],closeSelector:t[13]}}),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};4&n&&(o.entry=t[15]),8&n&&(o.closeSelector=t[13]),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function gY(e){let t,n,r,o,s,a,i,l,c,u=[],d=new Map;function $(t){e[10](t)}function p(t){e[11](t)}let m={prefixIcon:Md};void 0!==e[6]&&(m.value=e[6]),void 0!==e[4]&&(m.element=e[4]),r=new Mg({props:m}),Ce.push((()=>st(r,"value",$))),Ce.push((()=>st(r,"element",p)));let f=e[0];const g=e=>e[18].label;for(let y=0;y<f.length;y+=1){let t=dY(e,f,y),n=g(t);d.set(n,u[y]=pY(n,t))}let h=e[2].length&&mY(e);return{c(){t=q("div"),n=q("div"),at(r.$$.fragment),a=U(),i=q("div");for(let e=0;e<u.length;e+=1)u[e].c();l=U(),h&&h.c(),X(n,"class","search"),X(i,"class","sections svelte-ja244h"),X(t,"class","entity-switcher-content svelte-ja244h")},m(e,o){H(e,t,o),F(t,n),it(r,n,null),F(t,a),F(t,i);for(let t=0;t<u.length;t+=1)u[t].m(i,null);F(t,l),h&&h.m(t,null),c=!0},p(e,n){const a={};!o&&64&n&&(o=!0,a.value=e[6],Oe((()=>o=!1))),!s&&16&n&&(s=!0,a.element=e[4],Oe((()=>s=!1))),r.$set(a),73&n&&(f=e[0],qe(),u=nt(u,n,g,1,e,f,d,i,et,pY,null,dY),Be()),e[2].length?h?(h.p(e,n),4&n&&je(h,1)):(h=mY(e),h.c(),je(h,1),h.m(t,null)):h&&(qe(),Ue(h,1,1,(()=>{h=null})),Be())},i(e){if(!c){je(r.$$.fragment,e);for(let e=0;e<f.length;e+=1)je(u[e]);je(h),c=!0}},o(e){Ue(r.$$.fragment,e);for(let t=0;t<u.length;t+=1)Ue(u[t]);Ue(h),c=!1},d(e){e&&z(t),lt(r);for(let t=0;t<u.length;t+=1)u[t].d();h&&h.d()}}}function hY(e){let t,n,r,o,s,a,i,l,c;function u(t){e[8](t)}let d={"aria-label":e[1],title:e[1],appearance:"ghost",class:"padding-zero",$$slots:{default:[$Y]},$$scope:{ctx:e}};function $(t){e[14](t)}void 0!==e[5]&&(d.element=e[5]),n=new Hu({props:d}),Ce.push((()=>st(n,"element",u))),n.$on("click",e[9]);let p={trigger:e[5],class:"breadcrumb-selector-dropdown",$$slots:{default:[gY]},$$scope:{ctx:e}};return void 0!==e[3]&&(p.isOpen=e[3]),s=new wu({props:p}),Ce.push((()=>st(s,"isOpen",$))),l=new OW({props:{controller:e[7]}}),{c(){t=q("div"),at(n.$$.fragment),o=U(),at(s.$$.fragment),i=U(),at(l.$$.fragment),X(t,"class","entity-switcher svelte-ja244h"),se(t,"is-open",e[3])},m(e,r){H(e,t,r),it(n,t,null),F(t,o),it(s,t,null),H(e,i,r),it(l,e,r),c=!0},p(e,[o]){const i={};2&o&&(i["aria-label"]=e[1]),2&o&&(i.title=e[1]),2097152&o&&(i.$$scope={dirty:o,ctx:e}),!r&&32&o&&(r=!0,i.element=e[5],Oe((()=>r=!1))),n.$set(i);const l={};32&o&&(l.trigger=e[5]),2097245&o&&(l.$$scope={dirty:o,ctx:e}),!a&&8&o&&(a=!0,l.isOpen=e[3],Oe((()=>a=!1))),s.$set(l),(!c||8&o)&&se(t,"is-open",e[3])},i(e){c||(je(n.$$.fragment,e),je(s.$$.fragment,e),je(l.$$.fragment,e),c=!0)},o(e){Ue(n.$$.fragment,e),Ue(s.$$.fragment,e),Ue(l.$$.fragment,e),c=!1},d(e){e&&z(t),lt(n),lt(s),e&&z(i),lt(l,e)}}}function yY(e,t,n){const r=US.spawnModalController();let o,s,a,{sections:i}=t,{triggerLabel:l}=t,{persistentLinks:c=[]}=t,u=!1;return e.$$set=e=>{"sections"in e&&n(0,i=e.sections),"triggerLabel"in e&&n(1,l=e.triggerLabel),"persistentLinks"in e&&n(2,c=e.persistentLinks)},e.$$.update=()=>{24&e.$$.dirty&&(u?a?.focus():n(6,s=""))},[i,l,c,u,a,o,s,r,function(e){o=e,n(5,o)},()=>{n(3,u=!u)},function(e){s=e,n(6,s),n(3,u),n(4,a)},function(e){a=e,n(4,a)},()=>{n(3,u=!1)},()=>{n(3,u=!1)},function(e){u=e,n(3,u)}]}class bY extends ut{constructor(e){super(),ct(this,e,yY,hY,f,{sections:0,triggerLabel:1,persistentLinks:2})}}function vY(e){let t,n;return t=new bY({props:{sections:[{label:e[3]("tables"),entries:e[4].map(e[6]),emptyMessage:e[3]("no_tables")},{label:e[3]("explorations"),entries:e[0].map(e[8]),emptyMessage:e[3]("no_explorations")},{label:e[3]("forms"),entries:e[1].map(e[9]),emptyMessage:e[3]("no_forms")}],triggerLabel:e[3]("choose_table_or_exploration")}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};27&n&&(r.sections=[{label:e[3]("tables"),entries:e[4].map(e[6]),emptyMessage:e[3]("no_tables")},{label:e[3]("explorations"),entries:e[0].map(e[8]),emptyMessage:e[3]("no_explorations")},{label:e[3]("forms"),entries:e[1].map(e[9]),emptyMessage:e[3]("no_forms")}]),8&n&&(r.triggerLabel=e[3]("choose_table_or_exploration")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function wY(e,t,n){let r,o,s,i,l,c,u,d,$,p,m=a;y(e,zU,(e=>n(12,l=e))),y(e,MH,(e=>n(16,c=e))),y(e,no,(e=>n(3,$=e))),y(e,CH,(e=>n(4,p=e))),e.$$.on_destroy.push((()=>m()));let{database:f}=t,{schema:b}=t;const v=IU.getSafe();y(e,v,(e=>n(14,d=e)));const w=Jz();return y(e,w,(e=>n(15,i=e))),e.$$set=e=>{"database"in e&&n(10,f=e.database),"schema"in e&&n(11,b=e.schema)},e.$$.update=()=>{16384&e.$$.dirty&&(n(2,r=Fo(d?.dataForms)),m(),m=g(r,(e=>n(13,u=e)))),8192&e.$$.dirty&&n(1,o=[...u?.values()??[]]),4096&e.$$.dirty&&n(0,s=[...l.data.values()])},[s,o,r,$,p,v,function(e){return{type:"table",table:e,getFilterableText:()=>e.name,href:_I(f.id,b.oid,e),isActive:()=>e.oid===c}},w,function(e){return{type:"exploration",exploration:e,getFilterableText:()=>e.name,href:oI(f.id,b.oid,e.id),isActive(){const t=oI(f.id,b.oid,e.id);return i.url.startsWith(t)}}},function(e){return{type:"dataForm",dataForm:e,getFilterableText:()=>h(e.structure).name,href:iI(f.id,b.oid,e.id),isActive(){const t=iI(f.id,b.oid,e.id);return i.url.startsWith(t)}}},f,b,l,u,d]}class _Y extends ut{constructor(e){super(),ct(this,e,wY,vY,f,{database:10,schema:11})}}function xY(e){let t,n;return t=new bY({props:{sections:[{label:e[1]("schemas"),entries:e[0].map(e[2]),emptyMessage:e[1]("no_schemas_found")}],triggerLabel:e[1]("choose_schema")}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};3&n&&(r.sections=[{label:e[1]("schemas"),entries:e[0].map(e[2]),emptyMessage:e[1]("no_schemas_found")}]),2&n&&(r.triggerLabel=e[1]("choose_schema")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function CY(e,t,n){let r,o,s,a;y(e,fP,(e=>n(4,o=e))),y(e,oP,(e=>n(5,s=e))),y(e,no,(e=>n(1,a=e)));let{database:i}=t;return e.$$set=e=>{"database"in e&&n(3,i=e.database)},e.$$.update=()=>{16&e.$$.dirty&&n(0,r=[...o.data.values()])},[r,a,function(e){return{type:"schema",schema:e,getFilterableText:()=>h(e.name),href:JM(i.id,e.oid),isActive:()=>e.oid===s}},i,o]}class SY extends ut{constructor(e){super(),ct(this,e,CY,xY,f,{database:3})}}function kY(e){let t,n,r,o,s=e[0].prependSeparator&&NY();return r=new yU({props:{href:e[0].href,$$slots:{default:[PY]},$$scope:{ctx:e}}}),{c(){s&&s.c(),t=U(),n=q("div"),at(r.$$.fragment),X(n,"class","breadcrumb-item truncate svelte-tnc8v2")},m(e,a){s&&s.m(e,a),H(e,t,a),H(e,n,a),it(r,n,null),o=!0},p(e,n){e[0].prependSeparator?s?1&n&&je(s,1):(s=NY(),s.c(),je(s,1),s.m(t.parentNode,t)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be());const o={};1&n&&(o.href=e[0].href),3&n&&(o.$$scope={dirty:n,ctx:e}),r.$set(o)},i(e){o||(je(s),je(r.$$.fragment,e),o=!0)},o(e){Ue(s),Ue(r.$$.fragment,e),o=!1},d(e){s&&s.d(e),e&&z(t),e&&z(n),lt(r)}}}function MY(e){let t,n,r;return n=new yU({props:{href:iI(e[0].dataForm.schema.database.id,e[0].dataForm.schema.oid,e[0].dataForm.id),$$slots:{default:[LY]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","breadcrumb-item truncate svelte-tnc8v2")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};1&t&&(r.href=iI(e[0].dataForm.schema.database.id,e[0].dataForm.schema.oid,e[0].dataForm.id)),3&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function IY(e){let t,n,r;return n=new yU({props:{href:oI(e[0].database.id,e[0].schema.oid,e[0].query.id),$$slots:{default:[HY]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","breadcrumb-item truncate svelte-tnc8v2")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};1&t&&(r.href=oI(e[0].database.id,e[0].schema.oid,e[0].query.id)),3&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function TY(e){let t,n,r;return n=new yU({props:{href:aI(e[0].database.id,e[0].schema.oid,e[0].table.oid,e[0].record.pk),$$slots:{default:[VY]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","breadcrumb-item truncate svelte-tnc8v2")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};1&t&&(r.href=aI(e[0].database.id,e[0].schema.oid,e[0].table.oid,e[0].record.pk)),3&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function EY(e){let t,n,r,o,s;return n=new yU({props:{href:_I(e[0].database.id,e[0].schema.oid,e[0].table),$$slots:{default:[qY]},$$scope:{ctx:e}}}),o=new CU({props:{table:e[0].table}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),at(o.$$.fragment),X(t,"class","breadcrumb-item truncate svelte-tnc8v2")},m(e,a){H(e,t,a),it(n,t,null),H(e,r,a),it(o,e,a),s=!0},p(e,t){const r={};1&t&&(r.href=_I(e[0].database.id,e[0].schema.oid,e[0].table)),3&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};1&t&&(s.table=e[0].table),o.$set(s)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(n),e&&z(r),lt(o,e)}}}function DY(e){let t,n,r,o,s;return n=new yU({props:{href:JM(e[0].database.id,e[0].schema.oid),$$slots:{default:[BY]},$$scope:{ctx:e}}}),o=new _Y({props:{database:e[0].database,schema:e[0].schema}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),at(o.$$.fragment),X(t,"class","breadcrumb-item truncate svelte-tnc8v2")},m(e,a){H(e,t,a),it(n,t,null),H(e,r,a),it(o,e,a),s=!0},p(e,t){const r={};1&t&&(r.href=JM(e[0].database.id,e[0].schema.oid)),3&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};1&t&&(s.database=e[0].database),1&t&&(s.schema=e[0].schema),o.$set(s)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(n),e&&z(r),lt(o,e)}}}function OY(e){let t,n,r,o,s;return n=new yU({props:{href:WM(e[0].database.id),$$slots:{default:[jY]},$$scope:{ctx:e}}}),o=new SY({props:{database:e[0].database}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),at(o.$$.fragment),X(t,"class","breadcrumb-item truncate svelte-tnc8v2")},m(e,a){H(e,t,a),it(n,t,null),H(e,r,a),it(o,e,a),s=!0},p(e,t){const r={};1&t&&(r.href=WM(e[0].database.id)),3&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};1&t&&(s.database=e[0].database),o.$set(s)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(n),e&&z(r),lt(o,e)}}}function NY(e){let t,n;return t=new vU({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function AY(e){let t,n;return t=new $u({props:{arg:e[0].label}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.arg=e[0].label),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function RY(e){let t,n;return t=new OI({props:{icon:e[0].icon,$$slots:{default:[FY]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.icon=e[0].icon),3&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function FY(e){let t,n;return t=new $u({props:{arg:e[0].label}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.arg=e[0].label),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function PY(e){let t,n,r,o;const s=[RY,AY],a=[];function i(e,t){return e[0].icon?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function LY(e){let t,n;return t=new rU({props:{dataForm:e[0].dataForm}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.dataForm=e[0].dataForm),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function HY(e){let t,n;return t=new cU({props:{query:e[0].query}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.query=e[0].query),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function zY(e){let t,n=e[0].record.summary+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1&r&&n!==(n=e[0].record.summary+"")&&Q(t,n)},d(e){e&&z(t)}}}function VY(e){let t,n;return t=new OI({props:{icon:zC,cssVariables:{"--icon-color":"var(--color-record)"},$$slots:{default:[zY]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};3&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function qY(e){let t,n;return t=new HI({props:{table:e[0].table}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.table=e[0].table),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function BY(e){let t,n;return t=new fU({props:{schema:e[0].schema}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.schema=e[0].schema),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function jY(e){let t,n;return t=new Zj({props:{database:e[0].database}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.database=e[0].database),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function UY(e){let t,n,r,o;const s=[OY,DY,EY,TY,IY,MY,kY],a=[];function i(e,t){return"database"===e[0].type?0:"schema"===e[0].type?1:"table"===e[0].type?2:"record"===e[0].type?3:"exploration"===e[0].type?4:"dataForm"===e[0].type?5:"simple"===e[0].type?6:-1}return~(t=i(e))&&(n=a[t]=s[t](e)),{c(){n&&n.c(),r=W()},m(e,n){~t&&a[t].m(e,n),H(e,r,n),o=!0},p(e,[o]){let l=t;t=i(e),t===l?~t&&a[t].p(e,o):(n&&(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be()),~t?(n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){~t&&a[t].d(e),e&&z(r)}}}function WY(e,t,n){let{item:r}=t;return e.$$set=e=>{"item"in e&&n(0,r=e.item)},[r]}class YY extends ut{constructor(e){super(),ct(this,e,WY,UY,f,{item:0})}}function KY(e){let t,n;return t=new bY({props:{sections:[{label:e[1]("databases"),entries:e[0],emptyMessage:e[1]("no_databases_connected")}],triggerLabel:e[1]("choose_database")}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};3&n&&(r.sections=[{label:e[1]("databases"),entries:e[0],emptyMessage:e[1]("no_databases_connected")}]),2&n&&(r.triggerLabel=e[1]("choose_database")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function GY(e,t,n){let r,o,s,a;y(e,no,(e=>n(1,a=e)));const{databases:i,currentDatabase:l}=QF;function c(e){return{type:"database",database:e,getFilterableText:()=>e.displayName,href:WM(e.id),isActive:()=>e.id===s?.id}}return y(e,i,(e=>n(4,o=e))),y(e,l,(e=>n(5,s=e))),e.$$.update=()=>{16&e.$$.dirty&&n(0,r=[...o.values()].map(c))},[r,a,i,l,o]}class XY extends ut{constructor(e){super(),ct(this,e,GY,KY,f,{})}}function ZY(e,t,n){const r=e.slice();return r[2]=t[n],r}function JY(e){let t,n;return t=new YY({props:{item:e[2]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.item=e[2]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function QY(e){let t,n,r,o,s,a;n=new Uj({props:{href:"/",compactLayout:e[1]}}),o=new XY({});let i=e[0],l=[];for(let u=0;u<i.length;u+=1)l[u]=JY(ZY(e,i,u));const c=e=>Ue(l[e],1,1,(()=>{l[e]=null}));return{c(){t=q("div"),at(n.$$.fragment),r=U(),at(o.$$.fragment),s=U();for(let e=0;e<l.length;e+=1)l[e].c();X(t,"class","breadcrumb svelte-59691l")},m(e,i){H(e,t,i),it(n,t,null),F(t,r),it(o,t,null),F(t,s);for(let n=0;n<l.length;n+=1)l[n].m(t,null);a=!0},p(e,[r]){const o={};if(2&r&&(o.compactLayout=e[1]),n.$set(o),1&r){let n;for(i=e[0],n=0;n<i.length;n+=1){const o=ZY(e,i,n);l[n]?(l[n].p(o,r),je(l[n],1)):(l[n]=JY(o),l[n].c(),je(l[n],1),l[n].m(t,null))}for(qe(),n=i.length;n<l.length;n+=1)c(n);Be()}},i(e){if(!a){je(n.$$.fragment,e),je(o.$$.fragment,e);for(let e=0;e<i.length;e+=1)je(l[e]);a=!0}},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)Ue(l[t]);a=!1},d(e){e&&z(t),lt(n),lt(o),V(l,e)}}}function eK(e,t,n){let{items:r}=t,{compactLayout:o=!1}=t;return e.$$set=e=>{"items"in e&&n(0,r=e.items),"compactLayout"in e&&n(1,o=e.compactLayout)},[r,o]}class tK extends ut{constructor(e){super(),ct(this,e,eK,QY,f,{items:0,compactLayout:1})}}function nK(e){let t,n;return t=new $y({props:{value:e[1],options:e[0],triggerAppearance:"secondary"}}),t.$on("change",e[2]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function rK(e,t,n){let r,o;y(e,sM,(e=>n(3,r=e))),y(e,no,(e=>n(4,o=e)));const s=[{id:1,value:"light",label:o("theme_light")},{id:2,value:"dark",label:o("theme_dark")},{id:3,value:"system",label:o("theme_system")}],a=s.find((e=>e.value===r));return[s,a,function(e){e.detail&&sM.set(e.detail.value)}]}class oK extends ut{constructor(e){super(),ct(this,e,rK,nK,f,{})}}function sK(e){let t,n,r,o;n=new Nj({props:{compactLayout:e[2]}});let s=e[6]&&aK(e);return{c(){t=q("div"),at(n.$$.fragment),r=U(),s&&s.c(),X(t,"class","right svelte-1364ilo")},m(e,a){H(e,t,a),it(n,t,null),F(t,r),s&&s.m(t,null),o=!0},p(e,r){const o={};4&r&&(o.compactLayout=e[2]),n.$set(o),e[6]?s?(s.p(e,r),64&r&&je(s,1)):(s=aK(e),s.c(),je(s,1),s.m(t,null)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be())},i(e){o||(je(n.$$.fragment,e),je(s),o=!0)},o(e){Ue(n.$$.fragment,e),Ue(s),o=!1},d(e){e&&z(t),lt(n),s&&s.d()}}}function aK(e){let t,n;return t=new zh({props:{triggerAppearance:"secondary",triggerClass:"padding-compact",size:"small",closeOnInnerClick:!1,$$slots:{trigger:[wK],default:[vK]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};65776&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function iK(e){let t,n,r,o,s,a;return t=new jv({props:{$$slots:{default:[lK]},$$scope:{ctx:e}}}),r=new iw({props:{icon:IC,href:WM(e[5].id),$$slots:{default:[cK]},$$scope:{ctx:e}}}),s=new zv({}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),at(s.$$.fragment)},m(e,i){it(t,e,i),H(e,n,i),it(r,e,i),H(e,o,i),it(s,e,i),a=!0},p(e,n){const o={};65664&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};32&n&&(s.href=WM(e[5].id)),65568&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){a||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),a=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),a=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),lt(s,e)}}}function lK(e){let t,n=e[7]("database")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){128&r&&n!==(n=e[7]("database")+"")&&Q(t,n)},d(e){e&&z(t)}}}function cK(e){let t,n=e[5].displayName+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){32&r&&n!==(n=e[5].displayName+"")&&Q(t,n)},d(e){e&&z(t)}}}function uK(e){let t,n=e[7]("signed_in_as")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){128&r&&n!==(n=e[7]("signed_in_as")+"")&&Q(t,n)},d(e){e&&z(t)}}}function dK(e){let t,n=e[6].getDisplayName()+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){64&r&&n!==(n=e[6].getDisplayName()+"")&&Q(t,n)},d(e){e&&z(t)}}}function $K(e){let t,n;return t=new iw({props:{icon:qC,href:uI,hasNotificationDot:e[4],$$slots:{default:[pK]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.hasNotificationDot=e[4]),65664&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function pK(e){let t,n=e[7]("administration")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){128&r&&n!==(n=e[7]("administration")+"")&&Q(t,n)},d(e){e&&z(t)}}}function mK(e){let t,n=e[7]("theme")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){128&r&&n!==(n=e[7]("theme")+"")&&Q(t,n)},d(e){e&&z(t)}}}function fK(e){let t,n=e[7]("resources")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){128&r&&n!==(n=e[7]("resources")+"")&&Q(t,n)},d(e){e&&z(t)}}}function gK(e){let t,n=e[7]("user_guide")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){128&r&&n!==(n=e[7]("user_guide")+"")&&Q(t,n)},d(e){e&&z(t)}}}function hK(e){let t,n=e[7]("community")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){128&r&&n!==(n=e[7]("community")+"")&&Q(t,n)},d(e){e&&z(t)}}}function yK(e){let t,n=e[7]("donate_to_mathesar")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){128&r&&n!==(n=e[7]("donate_to_mathesar")+"")&&Q(t,n)},d(e){e&&z(t)}}}function bK(e){let t,n=e[7]("log_out")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){128&r&&n!==(n=e[7]("log_out")+"")&&Q(t,n)},d(e){e&&z(t)}}}function vK(e){let t,n,r,o,s,a,i,l,c,u,d,$,p,m,f,g,h,y,b,v,w,_,x,C,S,k,M,I,T=e[5]&&iK(e);n=new jv({props:{$$slots:{default:[uK]},$$scope:{ctx:e}}}),o=new iw({props:{icon:ZC,href:cI,$$slots:{default:[dK]},$$scope:{ctx:e}}});let E=e[6].isMathesarAdmin&&$K(e);return i=new zv({}),c=new jv({props:{$$slots:{default:[mK]},$$scope:{ctx:e}}}),$=new oK({}),m=new zv({}),g=new jv({props:{$$slots:{default:[fK]},$$scope:{ctx:e}}}),y=new iw({props:{icon:TC,href:hI("userGuide"),"tinro-ignore":!0,target:"_blank",$$slots:{default:[gK]},$$scope:{ctx:e}}}),v=new iw({props:{icon:SC,href:bI("community"),"tinro-ignore":!0,target:"_blank",$$slots:{default:[hK]},$$scope:{ctx:e}}}),_=new iw({props:{icon:EC,href:bI("donate"),"tinro-ignore":!0,target:"_blank",$$slots:{default:[yK]},$$scope:{ctx:e}}}),S=new zv({}),M=new iw({props:{icon:gC,href:"/auth/logout/","tinro-ignore":!0,$$slots:{default:[bK]},$$scope:{ctx:e}}}),{c(){T&&T.c(),t=U(),at(n.$$.fragment),r=U(),at(o.$$.fragment),s=U(),E&&E.c(),a=U(),at(i.$$.fragment),l=U(),at(c.$$.fragment),u=U(),d=q("div"),at($.$$.fragment),p=U(),at(m.$$.fragment),f=U(),at(g.$$.fragment),h=U(),at(y.$$.fragment),b=U(),at(v.$$.fragment),w=U(),x=q("div"),at(_.$$.fragment),C=U(),at(S.$$.fragment),k=U(),at(M.$$.fragment),X(d,"class","theme-switcher svelte-1364ilo"),te(x,"display","contents"),te(x,"--icon-fill-color","var(--color-brand)")},m(e,D){T&&T.m(e,D),H(e,t,D),it(n,e,D),H(e,r,D),it(o,e,D),H(e,s,D),E&&E.m(e,D),H(e,a,D),it(i,e,D),H(e,l,D),it(c,e,D),H(e,u,D),H(e,d,D),it($,d,null),H(e,p,D),it(m,e,D),H(e,f,D),it(g,e,D),H(e,h,D),it(y,e,D),H(e,b,D),it(v,e,D),H(e,w,D),H(e,x,D),it(_,x,null),H(e,C,D),it(S,e,D),H(e,k,D),it(M,e,D),I=!0},p(e,r){e[5]?T?(T.p(e,r),32&r&&je(T,1)):(T=iK(e),T.c(),je(T,1),T.m(t.parentNode,t)):T&&(qe(),Ue(T,1,1,(()=>{T=null})),Be());const s={};65664&r&&(s.$$scope={dirty:r,ctx:e}),n.$set(s);const i={};65600&r&&(i.$$scope={dirty:r,ctx:e}),o.$set(i),e[6].isMathesarAdmin?E?(E.p(e,r),64&r&&je(E,1)):(E=$K(e),E.c(),je(E,1),E.m(a.parentNode,a)):E&&(qe(),Ue(E,1,1,(()=>{E=null})),Be());const l={};65664&r&&(l.$$scope={dirty:r,ctx:e}),c.$set(l);const u={};65664&r&&(u.$$scope={dirty:r,ctx:e}),g.$set(u);const d={};65664&r&&(d.$$scope={dirty:r,ctx:e}),y.$set(d);const $={};65664&r&&($.$$scope={dirty:r,ctx:e}),v.$set($);const p={};65664&r&&(p.$$scope={dirty:r,ctx:e}),_.$set(p);const m={};65664&r&&(m.$$scope={dirty:r,ctx:e}),M.$set(m)},i(e){I||(je(T),je(n.$$.fragment,e),je(o.$$.fragment,e),je(E),je(i.$$.fragment,e),je(c.$$.fragment,e),je($.$$.fragment,e),je(m.$$.fragment,e),je(g.$$.fragment,e),je(y.$$.fragment,e),je(v.$$.fragment,e),je(_.$$.fragment,e),je(S.$$.fragment,e),je(M.$$.fragment,e),I=!0)},o(e){Ue(T),Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),Ue(E),Ue(i.$$.fragment,e),Ue(c.$$.fragment,e),Ue($.$$.fragment,e),Ue(m.$$.fragment,e),Ue(g.$$.fragment,e),Ue(y.$$.fragment,e),Ue(v.$$.fragment,e),Ue(_.$$.fragment,e),Ue(S.$$.fragment,e),Ue(M.$$.fragment,e),I=!1},d(e){T&&T.d(e),e&&z(t),lt(n,e),e&&z(r),lt(o,e),e&&z(s),E&&E.d(e),e&&z(a),lt(i,e),e&&z(l),lt(c,e),e&&z(u),e&&z(d),lt($),e&&z(p),lt(m,e),e&&z(f),lt(g,e),e&&z(h),lt(y,e),e&&z(b),lt(v,e),e&&z(w),e&&z(x),lt(_,e),e&&z(C),lt(S,e),e&&z(k),lt(M,e)}}}function wK(e){let t,n,r;const o=[qC,{hasNotificationDot:e[4]},{size:"1.2rem"}];let s={};for(let a=0;a<o.length;a+=1)s=l(s,o[a]);return n=new Jd({props:s}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","user-switcher svelte-1364ilo"),X(t,"slot","trigger")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r=16&t?rt(o,[0&t&&ot(qC),16&t&&{hasNotificationDot:e[4]},o[2]]):{};n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function _K(e){let t,n,r,o,s,a;r=new tK({props:{items:e[1],compactLayout:e[2]}});let i=e[3]&&sK(e);return{c(){t=q("header"),n=q("div"),at(r.$$.fragment),o=U(),i&&i.c(),X(n,"class","left svelte-1364ilo"),X(t,"class","app-header svelte-1364ilo"),De((()=>e[14].call(t)))},m(l,c){H(l,t,c),F(t,n),it(r,n,null),F(t,o),i&&i.m(t,null),s=oe(t,e[14].bind(t)),a=!0},p(e,[n]){const o={};2&n&&(o.items=e[1]),4&n&&(o.compactLayout=e[2]),r.$set(o),e[3]?i?(i.p(e,n),8&n&&je(i,1)):(i=sK(e),i.c(),je(i,1),i.m(t,null)):i&&(qe(),Ue(i,1,1,(()=>{i=null})),Be())},i(e){a||(je(r.$$.fragment,e),je(i),a=!0)},o(e){Ue(r.$$.fragment,e),Ue(i),a=!1},d(e){e&&z(t),lt(r),i&&i.d(),s()}}}function xK(e,t,n){let r,o,s,a,i,l,c,u,d;y(e,no,(e=>n(7,d=e)));const $=dx(),p=jM();y(e,p,(e=>n(6,u=e)));const m=mM();y(e,m,(e=>n(12,l=e)));const f=fx();y(e,f,(e=>n(1,i=e)));const{currentDatabase:g}=QF;y(e,g,(e=>n(13,c=e)));let h=0;return e.$$.update=()=>{8192&e.$$.dirty&&n(5,r=c),4096&e.$$.dirty&&n(4,o="upgradable"===l?.value?.upgradeStatus),3&e.$$.dirty&&n(2,a=h<function(e){switch(e){case 0:return 350;case 1:return 500;case 2:return 700;case 3:return 800;default:return 900}}(i.length))},n(3,s="normal"===$.routing_context),[h,i,a,s,o,r,u,d,p,m,f,g,l,c,function(){h=this.clientWidth,n(0,h)}]}class CK extends ut{constructor(e){super(),ct(this,e,xK,_K,f,{})}}const SK=e=>({}),kK=e=>({});function MK(e){let t,n,r,o,s=e[3]&&function(e){let t,n,r,o;n=new CK({});const s=e[6]["secondary-header"],a=b(s,e,e[5],kK);return{c(){t=q("div"),at(n.$$.fragment),r=U(),a&&a.c(),X(t,"class","app-layout-header svelte-10ytjnb")},m(e,s){H(e,t,s),it(n,t,null),H(e,r,s),a&&a.m(e,s),o=!0},p(e,t){a&&a.p&&(!o||32&t)&&_(a,s,e,e[5],o?w(s,e[5],t,SK):x(e[5]),kK)},i(e){o||(je(n.$$.fragment,e),je(a,e),o=!0)},o(e){Ue(n.$$.fragment,e),Ue(a,e),o=!1},d(e){e&&z(t),lt(n),e&&z(r),a&&a.d(e)}}}(e);const a=e[6].default,i=b(a,e,e[5],null);return{c(){t=q("div"),s&&s.c(),n=U(),r=q("main"),i&&i.c(),X(r,"class","app-layout-content svelte-10ytjnb"),se(r,"restrict-width",e[1]),X(t,"class","app-layout svelte-10ytjnb"),X(t,"style",e[2]),se(t,"fit-viewport",e[0])},m(e,a){H(e,t,a),s&&s.m(t,null),F(t,n),F(t,r),i&&i.m(r,null),o=!0},p(e,[n]){e[3]&&s.p(e,n),i&&i.p&&(!o||32&n)&&_(i,a,e,e[5],o?w(a,e[5],n,null):x(e[5]),null),(!o||2&n)&&se(r,"restrict-width",e[1]),(!o||4&n)&&X(t,"style",e[2]),(!o||1&n)&&se(t,"fit-viewport",e[0])},i(e){o||(je(s),je(i,e),o=!0)},o(e){Ue(s),Ue(i,e),o=!1},d(e){e&&z(t),s&&s.d(),i&&i.d(e)}}}function IK(e,t,n){let r,{$$slots:o={},$$scope:s}=t;const a="anonymous"!==dx().routing_context;let{fitViewport:i=!1}=t,{restrictWidth:l=!1}=t,{cssVariables:c}=t;return e.$$set=e=>{"fitViewport"in e&&n(0,i=e.fitViewport),"restrictWidth"in e&&n(1,l=e.restrictWidth),"cssVariables"in e&&n(4,c=e.cssVariables),"$$scope"in e&&n(5,s=e.$$scope)},e.$$.update=()=>{16&e.$$.dirty&&n(2,r=c?Jo(c):void 0)},[i,l,r,a,c,s,o]}class TK extends ut{constructor(e){super(),ct(this,e,IK,MK,f,{fitViewport:0,restrictWidth:1,cssVariables:4})}}function EK(e){let t,n;return t=new Rc({props:{appearance:"primary",href:"/",$$slots:{default:[DK]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};10&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function DK(e){let t,n=e[1]("go_to_homepage")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){2&r&&n!==(n=e[1]("go_to_homepage")+"")&&Q(t,n)},d(e){e&&z(t)}}}function OK(e){let t,n,r,o,s,a,i,l=e[1]("error")+"";const c=e[2].default,u=b(c,e,e[3],null);let d=e[0]&&EK(e);return{c(){t=q("div"),n=q("h1"),r=j(l),o=U(),s=q("div"),u&&u.c(),a=U(),d&&d.c(),X(t,"class","error-page-container svelte-1kovh05")},m(e,l){H(e,t,l),F(t,n),F(n,r),F(t,o),F(t,s),u&&u.m(s,null),F(t,a),d&&d.m(t,null),i=!0},p(e,n){(!i||2&n)&&l!==(l=e[1]("error")+"")&&Q(r,l),u&&u.p&&(!i||8&n)&&_(u,c,e,e[3],i?w(c,e[3],n,null):x(e[3]),null),e[0]?d?(d.p(e,n),1&n&&je(d,1)):(d=EK(e),d.c(),je(d,1),d.m(t,null)):d&&(qe(),Ue(d,1,1,(()=>{d=null})),Be())},i(e){i||(je(u,e),je(d),i=!0)},o(e){Ue(u,e),Ue(d),i=!1},d(e){e&&z(t),u&&u.d(e),d&&d.d()}}}function NK(e){let t,n;return t=new TK({props:{$$slots:{default:[OK]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};11&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function AK(e,t,n){let r;y(e,no,(e=>n(1,r=e)));let{$$slots:o={},$$scope:s}=t,{showGoToRoot:a=!0}=t;return e.$$set=e=>{"showGoToRoot"in e&&n(0,a=e.showGoToRoot),"$$scope"in e&&n(3,s=e.$$scope)},[a,r,o,s]}class RK extends ut{constructor(e){super(),ct(this,e,AK,NK,f,{showGoToRoot:0})}}function FK(e){let t,n,r,o,s;n=new t$({});const a=e[0].default,i=b(a,e,e[1],null);return{c(){t=q("div"),at(n.$$.fragment),r=U(),o=q("div"),i&&i.c(),X(t,"class","loading-page-container svelte-6hq345")},m(e,a){H(e,t,a),it(n,t,null),F(t,r),F(t,o),i&&i.m(o,null),s=!0},p(e,t){i&&i.p&&(!s||2&t)&&_(i,a,e,e[1],s?w(a,e[1],t,null):x(e[1]),null)},i(e){s||(je(n.$$.fragment,e),je(i,e),s=!0)},o(e){Ue(n.$$.fragment,e),Ue(i,e),s=!1},d(e){e&&z(t),lt(n),i&&i.d(e)}}}function PK(e){let t,n;return t=new TK({props:{$$slots:{default:[FK]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function LK(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(1,o=e.$$scope)},[r,o]}class HK extends ut{constructor(e){super(),ct(this,e,LK,PK,f,{})}}function zK(e){return function(e){const t=[...e];return t.push(Hj),t.join(" | ")}([e])}class VK{get index(){return this._index}get label(){return this._label}get help(){return this._help}get styling(){return this._styling}constructor(t,n,r){e(this,"container",void 0),e(this,"key",void 0),e(this,"structureCtx",void 0),e(this,"_index",void 0),e(this,"_label",void 0),e(this,"_help",void 0),e(this,"_styling",void 0),e(this,"canDelete",!0),this.container=t,this.structureCtx=r,this.key=n.key,this._index=pt(n.index),this._label=pt(n.label),this._help=pt(n.help),this._styling=pt(n.styling)}setLabel(e){this._label.set(e),this.triggerChangeEvent("label")}setHelpText(e){this._help.set(e),this.triggerChangeEvent("help")}updateIndex(e){this._index.update(e),this.triggerChangeEvent("index")}updateStyling(e){this._styling.update((t=>null===e?e:{...t||{},...e})),this.triggerChangeEvent("styling")}getBaseFieldRawJson(){return{key:this.key,index:h(this.index),label:h(this.label),help:h(this.help),styling:h(this.styling)}}}const qK=-31025,BK=e=>new sL({message:h(no)("form_field_column_not_found"),code:qK,data:e});class jK extends VK{constructor(t,n,r){super(t,n,r),e(this,"kind","error"),e(this,"originalField",void 0),e(this,"error",void 0),this.error=sL.fromAnything(n.error),this.originalField=n.originalField}triggerChangeEvent(){}checkAndSetDefaultLabel(){this.setLabel(this.originalField.label??"")}toRawEphemeralField(){return this.originalField}}class UK{constructor(t){e(this,"tableOid",void 0),e(this,"column",void 0),e(this,"abstractType",void 0),e(this,"foreignKeyLink",void 0),this.tableOid=t.tableOid,this.column=t.column,this.foreignKeyLink=t.foreignKeyLink,this.abstractType=CN(this.column.type,this.column.metadata)}static fromProcessedColumn(e){return new UK({tableOid:e.tableOid,column:e.column,foreignKeyLink:e.linkFk?{relatedTableOid:e.linkFk.referent_table_oid}:null})}}function WK(e){return()=>{const t=FB.getOrError();return function(e){const{rowSeeker:t,...n}=e;return{launch:({previousValue:e,triggerElement:r})=>t.acquireUserSelection({...n,previousValue:e,triggerElement:r??document.body}),close:()=>t.close(),isOpen:()=>!!h(t.rowSeeker)}}({...e,rowSeeker:t})}}class YK{constructor(t,n){e(this,"isRequired",void 0),e(this,"key",void 0),e(this,"inputFieldStore",void 0),e(this,"includeFieldStoreInForm",void 0),this.key=t,this.isRequired=n,this.inputFieldStore=mt(this.isRequired,(e=>e?oH(void 0):rH(void 0))),this.includeFieldStoreInForm=$t(!0)}}class KK extends YK{constructor(t,n,r){super(t,n),e(this,"_userAction",void 0),e(this,"fkInteractionRule",void 0),e(this,"inputFieldStore",void 0),e(this,"includeFieldStoreInForm",void 0),this.fkInteractionRule=r;const o=h(this.fkInteractionRule);this._userAction=pt("must_create"===o?"create":"pick"),this.includeFieldStoreInForm=mt(this.userAction,(e=>"pick"===e)),this.inputFieldStore=mt([this.isRequired,this.userAction],(([e,t])=>e&&"pick"===t?oH(void 0):rH(void 0)))}get userAction(){return mt([this.fkInteractionRule,this._userAction],(([e,t])=>"must_pick"===e?"pick":"must_create"===e?"create":t))}setUserAction(e){this._userAction.set(e),"create"===e&&h(this.inputFieldStore).reset()}}class GK extends VK{get isRequired(){return this._isRequired}constructor(t,n,r){super(t,n,r),e(this,"fieldColumn",void 0),e(this,"fieldValueHolder",void 0),e(this,"_isRequired",void 0),e(this,"canDelete",void 0),this.fieldColumn=n.fieldColumn,this._isRequired=pt(!this.fieldColumn.column.nullable||n.isRequired),this.fieldValueHolder=new YK(this.key,this.isRequired),this.canDelete=!!this.fieldColumn.column.nullable}setIsRequired(e){if(!this.fieldColumn.column.nullable)throw new Error("Cannot modify isRequired since this field is not nullable on the DB");this._isRequired.set(e),this.triggerChangeEvent("isRequired")}hasColumn(e){return this.fieldColumn.tableOid===e.tableOid&&this.fieldColumn.column.id===e.column.id}checkAndSetDefaultLabel(){const e=h(this.label);e&&""!==e.trim()||this.setLabel(this.fieldColumn.column.name)}getBaseFieldRawJson(){return{...super.getBaseFieldRawJson(),column_attnum:this.fieldColumn.column.id,is_required:h(this.isRequired)}}}class XK extends GK{get interactionRule(){return this._interactionRule}constructor(t,n,r){super(t,n,r),e(this,"kind","foreign_key"),e(this,"fieldValueHolder",void 0),e(this,"relatedTableOid",void 0),e(this,"nestedFields",void 0),e(this,"cachedNestedFieldsBeforeMustPick",void 0),e(this,"inputComponentAndProps",void 0),e(this,"_interactionRule",void 0),this.relatedTableOid=n.relatedTableOid,this.nestedFields=n.createFields(this,this.structureCtx);const o=this.fieldColumn.foreignKeyLink;if(!o)throw Error("The passed column is not a foreign key. This should never occur");this._interactionRule=pt(n.interactionRule),this.fieldValueHolder=new KK(this.key,this.isRequired,this.interactionRule),this.inputComponentAndProps=mt(this.interactionRule,(e=>yz({recordSelectionOrchestratorFactory:WK({constructRecordStore:r.rowSeekerRecordStoreConstructor({key:this.key,tableOid:this.fieldColumn.tableOid,columnAttnum:this.fieldColumn.column.id,relatedTableOid:o.relatedTableOid}),onSelect:e=>{_o(e)&&this.fieldValueHolder.setUserAction("pick")},addRecordOptions:"must_pick"===e?void 0:{create:async()=>(this.fieldValueHolder.setUserAction("create"),null)}})})))}async setInteractionRule(e,t){const n=h(this._interactionRule);if(e!==n)if(this._interactionRule.set(e),this.triggerChangeEvent("interactionRule"),"must_pick"!==n&&(this.cachedNestedFieldsBeforeMustPick=h(this.nestedFields)),"must_pick"!==e){if("must_pick"===n){if(void 0===this.cachedNestedFieldsBeforeMustPick){const e=await t();return void this.nestedFields.reconstruct(e)}this.nestedFields.reconstructWithFields(this.cachedNestedFieldsBeforeMustPick)}}else this.nestedFields.reconstruct([])}triggerChangeEvent(e){this.structureCtx.changeEventHandler?.trigger({type:"fk-field/prop",target:this,prop:e})}toRawEphemeralField(e){return{...this.getBaseFieldRawJson(),kind:"foreign_key",related_table_oid:this.relatedTableOid,fk_interaction_rule:h(this.interactionRule),child_fields:this.nestedFields.toRawFields(e)}}}function*ZK(e){for(const t of h(e))yield t,"nestedFields"in t&&(yield*ZK(t.nestedFields))}class JK{constructor(t,n,r){e(this,"parent",void 0),e(this,"fieldSet",void 0),e(this,"sortedFields",void 0),e(this,"structureCtx",void 0),e(this,"fieldValueStores",void 0),this.parent=t,this.structureCtx=r;const o=[...n].map((e=>e(this,this.structureCtx)));this.fieldSet=new co(o),this.sortedFields=Ho(this.fieldSet.derivedValues(),(e=>e.index),((e,t)=>e-t)),this.fieldValueStores=zo(this.fieldSet,(e=>{const t=[...e].filter((e=>"foreign_key"===e.kind));return t.flatMap((e=>[e.nestedFields.fieldValueStores,e.fieldValueHolder.userAction]))}),((e,t)=>ac([...e],fc((e=>{const n="fieldValueHolder"in e?[e.fieldValueHolder]:[];return"foreign_key"===e.kind&&"create"===t(e.fieldValueHolder.userAction)&&n.push(...t(e.nestedFields.fieldValueStores)),n})),vc)),[])}subscribe(e){return this.sortedFields.subscribe(e)}hasColumn(e){return mt(this.fieldSet,(t=>ac(t.values(),hc((t=>"hasColumn"in t&&t.hasColumn(e))))))}getTableOid(){return"relatedTableOid"in this.parent?this.parent.relatedTableOid:this.parent.baseTableOid}reconstructWithFields(e){if(e.some((e=>e.container!==this||e.structureCtx!==this.structureCtx)))throw new Error("The provided form fields do not reference this container. This should never occur.");this.fieldSet.reconstruct(e),this.structureCtx.changeEventHandler?.trigger({type:"fields/reconstruct",target:this.parent})}reconstruct(e){this.fieldSet.reconstruct([...e].map((e=>e(this,this.structureCtx)))),this.structureCtx.changeEventHandler?.trigger({type:"fields/reconstruct",target:this.parent})}rearrange(e){for(const[t,n]of rc(e))h(n.index)!==t&&n.updateIndex((()=>t))}add(e){const t=e(this,this.structureCtx);if(!("fieldColumn"in t)||!h(this.hasColumn(t.fieldColumn))){const e=h(t.index);for(const t of h(this.fieldSet))h(t.index)>=e&&t.updateIndex((e=>e+1));this.fieldSet.add(t),this.structureCtx.changeEventHandler?.trigger({type:"fields/add",target:this.parent,field:t})}}delete(e){if(e.canDelete){const t=h(e.index);for(const e of h(this.fieldSet))h(e.index)>t&&e.updateIndex((e=>e-1));this.fieldSet.delete(e),this.structureCtx.changeEventHandler?.trigger({type:"fields/delete",target:this.parent,field:e})}}toRawFields(e){const t=h(this),n=e?.withoutErrorFields?function(e){return e.filter((e=>!(e instanceof jK)))}(t):t;return n.map((t=>t.toRawEphemeralField(e)))}}class QK extends GK{constructor(t,n,r){super(t,n,r),e(this,"kind","scalar_column"),e(this,"inputComponentAndProps",void 0),this.inputComponentAndProps=mt(this.styling,(e=>{let{cellInfo:t}=this.fieldColumn.abstractType;return"string"===t.type&&(t={type:"string",config:{multiLine:"large"===e?.size}}),gz(this.fieldColumn.column,t)}))}triggerChangeEvent(e){this.structureCtx.changeEventHandler?.trigger({type:"scalar-field/prop",target:this,prop:e})}toRawEphemeralField(){return{...this.getBaseFieldRawJson(),kind:"scalar_column"}}}function eG({originalField:e,error:t}){return(n,r)=>new jK(n,{key:e.key,label:e.label??"Error",help:e.help,index:e.index,styling:e.styling,error:t,originalField:e},r)}function tG({rawField:e,fieldColumn:t}){if(e.column_attnum!==t.column.id)throw new Error("Incorrect fieldColumn passed. This should never happen.");return{key:e.key,label:e.label,help:e.help,index:e.index,isRequired:e.is_required,styling:e.styling,fieldColumn:t}}const nG=({rawField:e,fieldColumn:t})=>{const n=tG({rawField:e,fieldColumn:t});return(e,t)=>new QK(e,{...n,kind:"scalar_column"},t)},rG=({rawField:e,fieldColumn:t,createChildFields:n})=>{const r=tG({rawField:e,fieldColumn:t});if(e.related_table_oid!==t.foreignKeyLink?.relatedTableOid)throw new Error("Incorrect fk config in fieldColumn. This should never happen.");return(t,o)=>new XK(t,{...r,kind:"foreign_key",relatedTableOid:e.related_table_oid,interactionRule:e.fk_interaction_rule,createFields:n},o)};function oG({fieldColumn:e,index:t}){const n=function({fieldColumn:e,index:t}){const n={key:ko(),label:e.column.name,help:null,index:t,is_required:!e.column.nullable,styling:{},column_attnum:e.column.id};return _o(e.foreignKeyLink)?{...n,kind:"foreign_key",related_table_oid:e.foreignKeyLink.relatedTableOid,fk_interaction_rule:"must_pick",child_fields:[]}:{...n,kind:"scalar_column"}}({fieldColumn:e,index:t});try{const{kind:t}=n;return"scalar_column"===t?nG({rawField:n,fieldColumn:e}):rG({rawField:n,fieldColumn:e,createChildFields:(e,t)=>new JK(e,[],t)})}catch(r){return eG({originalField:n,error:sL.fromAnything(r)})}}function sG(e){return(t,n)=>new JK(t,e.rawDataFormFields.map((t=>function({parentTableOid:e,rawField:t,formSource:n}){try{const r=n.getColumnInfo(e,t.column_attnum),o="related_table_oid"in t&&_o(t.related_table_oid)?{relatedTableOid:t.related_table_oid}:null,s=new UK({tableOid:e,column:r,foreignKeyLink:o}),{kind:a}=t;return"scalar_column"===a?nG({rawField:t,fieldColumn:s}):rG({rawField:t,fieldColumn:s,createChildFields:sG({parentTableOid:t.related_table_oid,rawDataFormFields:t.child_fields??[],formSource:n})})}catch(r){return eG({originalField:t,error:sL.fromAnything(r)})}}({parentTableOid:e.parentTableOid,rawField:t,formSource:e.formSource}))),n)}class aG{get name(){return this._name}get description(){return this._description}get associatedRoleId(){return this._associatedRoleId}get submitMessage(){return this._submitMessage}get submitRedirectUrl(){return this._submitRedirectUrl}get submitButtonLabel(){return this._submitButtonLabel}constructor(t,n){e(this,"baseTableOid",void 0),e(this,"schemaOid",void 0),e(this,"databaseId",void 0),e(this,"_name",void 0),e(this,"_description",void 0),e(this,"_associatedRoleId",void 0),e(this,"_submitMessage",void 0),e(this,"_submitRedirectUrl",void 0),e(this,"_submitButtonLabel",void 0),e(this,"fields",void 0),e(this,"structureCtx",void 0),e(this,"formHolder",void 0),this.baseTableOid=t.baseTableOid,this.schemaOid=t.schemaOid,this.databaseId=t.databaseId,this._name=pt(t.name),this._description=pt(t.description),this._associatedRoleId=pt(t.associatedRoleId),this._submitMessage=pt(t.submitMessage),this._submitRedirectUrl=pt(t.submitRedirectUrl),this._submitButtonLabel=pt(t.submitButtonLabel),this.structureCtx=n,this.fields=t.createFields(this,this.structureCtx),this.formHolder=zo(this.fields.fieldValueStores,(e=>e.flatMap((e=>[e.inputFieldStore,e.includeFieldStoreInForm]))),((e,t)=>aH(e.reduce(((e,n)=>(t(n.includeFieldStoreInForm)&&(e[n.key]=t(n.inputFieldStore)),e)),{}))),aH({}))}triggerChangeEvent(e){this.structureCtx.changeEventHandler?.trigger({type:"form/prop",target:this,prop:e})}setName(e){this._name.set(e),this.triggerChangeEvent("name")}setDescription(e){this._description.set(e),this.triggerChangeEvent("description")}setAssociatedRoleId(e){this._associatedRoleId.set(e),this.triggerChangeEvent("associatedRoleId")}setSubmissionMessage(e){this._submitMessage.set(e?{text:e}:null),this.triggerChangeEvent("submitMessage")}setSubmissionRedirectUrl(e){this._submitRedirectUrl.set(e),this.triggerChangeEvent("submitRedirectUrl")}setSubmissionButtonLabel(e){this._submitButtonLabel.set(e),this.triggerChangeEvent("submitButtonLabel")}getFormSubmitRequest(){let e={...h(Po(this.formHolder)).values};return h(this.fields.fieldValueStores).filter((e=>"userAction"in e)).forEach((t=>{const n=h(t.userAction),r=e[t.key];e={...e,[t.key]:"create"===n?{type:n}:{type:n,value:r??null}}})),e}hasErrorFields(){for(const e of ZK(this.fields))if(e instanceof jK)return!0;return!1}toRawStructure(e){const t=h(this.name);return{associated_role_id:h(this.associatedRoleId),name:t.trim()||h(no)("untitled"),description:h(this.description),fields:this.fields.toRawFields(e),submit_message:h(this.submitMessage),submit_redirect_url:h(this.submitRedirectUrl),submit_button_label:h(this.submitButtonLabel)}}static factoryFromRawInfo(e,t){return n=>new aG({baseTableOid:e.base_table_oid,schemaOid:e.schema_oid,databaseId:e.database_id,name:e.name,description:e.description,associatedRoleId:e.associated_role_id,submitMessage:e.submit_message,submitRedirectUrl:e.submit_redirect_url,submitButtonLabel:e.submit_button_label,createFields:sG({parentTableOid:e.base_table_oid,rawDataFormFields:e.fields,formSource:t})},n)}}function iG(e){return h(no)("form_for_table",{values:{tableName:e.name}})}class lG{constructor(t){e(this,"callbacks",void 0),this.callbacks=t}trigger(e){switch(this.callbacks?.allChanges?.(),e.type){case"fields/add":this.callbacks?.fieldAdded?.(e.field);break;case"fields/delete":this.callbacks?.fieldDeleted?.(e.field)}}}class cG{get isSuccessfullySubmitted(){return this._isSuccessfullySubmitted}constructor(t){e(this,"token",void 0),e(this,"dataFormStructure",void 0),e(this,"_isSuccessfullySubmitted",pt(!1)),this.token=t.token,this.dataFormStructure=t.buildDataFormStructure({rowSeekerRecordStoreConstructor:e=>()=>new qF(PM.forms.list_related_records,{staticProps:{form_token:h(this.token),field_key:e.key}})})}submitAnother(){this._isSuccessfullySubmitted.set(!1)}async submit(){await PM.forms.submit({form_token:h(this.token),values:this.dataFormStructure.getFormSubmitRequest()}).run(),this._isSuccessfullySubmitted.set(!0)}}class uG{get selectedElement(){return this._selectedElement}get hasChanges(){return this._hasChanges}constructor(t){e(this,"dataFormStructure",void 0),e(this,"_selectedElement",pt()),e(this,"schema",void 0),e(this,"tableStructureCache",void 0),e(this,"_hasChanges",pt(!1)),e(this,"deleteDataForm",void 0),this.dataFormStructure=t.buildDataFormStructure({changeEventHandler:new lG({fieldAdded:e=>this.selectField(e),fieldDeleted:e=>{this.isFieldSelected(e)&&this.selectParentOfSelectedElement()},allChanges:()=>this._hasChanges.set(!0)}),rowSeekerRecordStoreConstructor:e=>()=>new qF(PM.records.list_summaries,{staticProps:{database_id:this.schema.database.id,table_oid:e.relatedTableOid}})}),this.schema=t.schema,this.tableStructureCache=t.tableStructureCache,this.deleteDataForm=t.deleteDataForm}selectElement(e){this._selectedElement.set(e)}selectField(e){this.selectElement({type:"field",field:e})}isFieldSelected(e){const t=h(this.selectedElement);return"field"===t?.type&&t.field===e}selectParentOfSelectedElement(){const e=h(this.selectedElement);if("field"===e?.type){const{parent:t}=e.field.container;if("kind"in t)return void this.selectElement({type:"field",field:t})}this.resetSelectedElement()}resetSelectedElement(){this._selectedElement.set(void 0)}getTableStructure(e){const t={oid:e,schema:this.schema};return this.tableStructureCache.getOrCreate(t.oid,(()=>new Oz(t)))}async checkAndSetDefaultFormName(){if(""===h(this.dataFormStructure.name).trim()){const e=this.getTableStructure(this.dataFormStructure.baseTableOid),t=await e.getSubstanceOnceResolved();t.resolvedValue&&""===h(this.dataFormStructure.name).trim()&&this.dataFormStructure.setName(iG(t.resolvedValue.table))}}}function dG(e){let t,n,r,o,s;n=new Fj({}),o=new qj({});let a=[e[1],{href:"https://mathesar.org"},{target:"_blank"}],i={};for(let c=0;c<a.length;c+=1)i=l(i,a[c]);return{c(){t=q("a"),at(n.$$.fragment),r=U(),at(o.$$.fragment),Z(t,i),se(t,"svelte-133ewug",!0)},m(e,a){H(e,t,a),it(n,t,null),F(t,r),it(o,t,null),s=!0},p(e,n){Z(t,i=rt(a,[2&n&&e[1],{href:"https://mathesar.org"},{target:"_blank"}])),se(t,"svelte-133ewug",!0)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(n),lt(o)}}}function $G(e){let t,n,r="mathesarLogo"===e[2]&&dG(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"mathesarLogo"===e[2]?r?(r.p(e,n),4&n&&je(r,1)):(r=dG(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function pG(e){let t,n,r;return n=new Rx({props:{text:e[0]("form_created_with_mathesar"),$$slots:{default:[$G,({slotName:e})=>({2:e}),({slotName:e})=>e?4:0]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","form-branding svelte-133ewug")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,[t]){const r={};1&t&&(r.text=e[0]("form_created_with_mathesar")),14&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function mG(e,t,n){const r=[];let o,s=S(t,r);return y(e,no,(e=>n(0,o=e))),e.$$set=e=>{t=l(l({},t),C(e)),n(1,s=S(t,r))},[o,s]}class fG extends ut{constructor(e){super(),ct(this,e,mG,pG,f,{})}}const gG="data-sortable-container",hG="data-sortable-item",yG="is-dragging",bG="is-sorting";function*vG(e){for(const t of e.children)t instanceof HTMLElement&&(t.hasAttribute(gG)||(t.hasAttribute(hG)?yield t:yield*vG(t)))}function wG(e){e.preventDefault()}function _G(e){return e.top+e.height/2}function xG(e,t){0===t?e.style.removeProperty("transform"):e.style.setProperty("transform",`translateY(${t}px)`)}function CG(e,t,n,r=0){const o=t+r;if(-1===r||0===r){if(e<n[o])return CG(e,o,n,-1)}if(1===r||0===r){if(e>(n[o+1]??1/0))return CG(e,o,n,1)}return o}function SG(e,t,n){const{draggingItemIndex:r,draggingItemHeight:o,draggingItemMarginBottom:s,draggingItemMarginTop:a}=t;return e>=n&&e<r?o+a:e<=n&&e>r?-1*(o+s):0}function kG(e,t){e.setAttribute(gG,"");return e.sortableController={isSorting:!1,getItems:t.getItems,onSort:t.onSort},{}}function MG(e){return e.setAttribute(hG,""),{}}function IG(e){let t,n,r,o,s;function a(e){const t=e.clientY-r,a=(i=t,l=s.minDelta,c=s.maxDelta,Math.min(Math.max(i,l),c));var i,l,c;xG(n,a);const u=CG(a,o,s.destinationsLowerBounds);u!==o&&(o=u,function(){for(const[e,t]of s.items.entries())e!==s.draggingItemIndex&&xG(t,SG(e,s,o))}())}function i(r){e.removeEventListener("pointermove",a),e.removeEventListener("pointerup",i),e.removeEventListener("pointercancel",i),window.removeEventListener("selectstart",wG),e.releasePointerCapture(r.pointerId),t.classList.remove(bG),n.classList.remove(yG);const l=t.sortableController;l.isSorting=!1;for(const e of s.items)xG(e,0);if(s.draggingItemIndex!==o){const e=[...l.getItems()],t=e.splice(s.draggingItemIndex,1)[0];e.splice(o,0,t),l.onSort(e)}}function l(l){const c=function(e){return e.hasAttribute(hG)?e:e.closest(`[${hG}]`)??void 0}(e);if(!c)return;n=c;const u=function(e){return e.closest(`[${gG}]`)??void 0}(e);if(!u)return;t=u,t.classList.add(bG);const d=t.sortableController;d.isSorting||(d.isSorting=!0,n.classList.add(yG),s=function(e,t){const n=e.getBoundingClientRect(),r=[...vG(e)],o=[...Array(r.length).keys()],s=r.map((e=>e.getBoundingClientRect())),a=r.indexOf(t),i=s[a];return{items:r,draggingItemIndex:a,draggingItemHeight:i.height,draggingItemMarginTop:s[a-1]?i.top-s[a-1].bottom:0,draggingItemMarginBottom:s[a+1]?s[a+1].top-i.bottom:0,minDelta:n.top-i.top,maxDelta:n.bottom-i.bottom,destinationsLowerBounds:o.map((e=>0===e?-1/0:e<=a?_G(s[e-1])-i.top:_G(s[e])-i.bottom))}}(t,n),o=s.draggingItemIndex,r=l.clientY,e.setPointerCapture(l.pointerId),e.addEventListener("pointermove",a),e.addEventListener("pointerup",i),e.addEventListener("pointercancel",i),window.addEventListener("selectstart",wG))}return e.setAttribute("data-sortable-trigger",""),e.addEventListener("pointerdown",l),e.addEventListener("contextmenu",wG),{destroy(){e.removeEventListener("pointerdown",l)}}}function TG(e){let t,n,r;return n=new Eu({props:{placements:["right","left"],$$slots:{content:[NG],trigger:[EG]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","tooltip svelte-1es6n2z")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};588&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function EG(e){let t,n;const r=[{slot:"trigger"},e[3]?Pd:Ad];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=8&n?rt(r,[r[0],ot(e[3]?Pd:Ad)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function DG(e){let t,n=e[6]("cannot_add_field_column_value_is_dynamic_pk")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){64&r&&n!==(n=e[6]("cannot_add_field_column_value_is_dynamic_pk")+"")&&Q(t,n)},d(e){e&&z(t)}}}function OG(e){let t,n=e[6]("cannot_add_field_column_is_already_added")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){64&r&&n!==(n=e[6]("cannot_add_field_column_is_already_added")+"")&&Q(t,n)},d(e){e&&z(t)}}}function NG(e){let t;function n(e,t){return e[3]?OG:e[2]?void 0:DG}let r=n(e),o=r&&r(e);return{c(){t=q("div"),o&&o.c(),X(t,"slot","content")},m(e,n){H(e,t,n),o&&o.m(t,null)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o&&o.d(1),o=r&&r(e),o&&(o.c(),o.m(t,null)))},d(e){e&&z(t),o&&o.d()}}}function AG(e){let t,n,r,o,s;r=new HV({props:{column:{...e[4],constraintsType:e[0].foreignKeyLink?["foreignkey"]:[]},truncate:!1}});let a=e[5]&&TG(e);return{c(){t=q("div"),n=q("div"),at(r.$$.fragment),o=U(),a&&a.c(),X(n,"class","name svelte-1es6n2z"),X(t,"class","item svelte-1es6n2z")},m(e,i){H(e,t,i),F(t,n),it(r,n,null),F(t,o),a&&a.m(t,null),s=!0},p(e,n){const o={};17&n&&(o.column={...e[4],constraintsType:e[0].foreignKeyLink?["foreignkey"]:[]}),r.$set(o),e[5]?a?(a.p(e,n),32&n&&je(a,1)):(a=TG(e),a.c(),je(a,1),a.m(t,null)):a&&(qe(),Ue(a,1,1,(()=>{a=null})),Be())},i(e){s||(je(r.$$.fragment,e),je(a),s=!0)},o(e){Ue(r.$$.fragment,e),Ue(a),s=!1},d(e){e&&z(t),lt(r),a&&a.d()}}}function RG(e){let t,n;return t=new nw({props:{disabled:e[5],$$slots:{default:[AG]},$$scope:{ctx:e}}}),t.$on("click",e[8]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};32&n&&(r.disabled=e[5]),637&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function FG(e,t,n){let r,o,s,i,l,c,u=a,d=()=>(u(),u=g(p,(e=>n(7,l=e))),p);y(e,no,(e=>n(6,c=e))),e.$$.on_destroy.push((()=>u()));let{fieldColumn:$}=t,{parentHasColumn:p}=t;return d(),e.$$set=e=>{"fieldColumn"in e&&n(0,$=e.fieldColumn),"parentHasColumn"in e&&d(n(1,p=e.parentHasColumn))},e.$$.update=()=>{1&e.$$.dirty&&n(4,({column:r}=$),r),16&e.$$.dirty&&n(2,o=TM(r)),128&e.$$.dirty&&n(3,s=l),12&e.$$.dirty&&n(5,i=s||!o)},[$,p,o,s,r,i,c,l,function(t){_e.call(this,e,t)}]}class PG extends ut{constructor(e){super(),ct(this,e,FG,RG,f,{fieldColumn:0,parentHasColumn:1})}}function LG(e,t,n){const r=e.slice();return r[17]=t[n],r}function HG(e){let t,n,r,o,s,a,i=[],l=new Map,c=e[8]&&VG(e);r=new zv({});let u=e[3];const d=e=>e[17].column.id;for(let $=0;$<u.length;$+=1){let t=LG(e,u,$),n=d(t);l.set(n,i[$]=qG(n,t))}return{c(){t=q("div"),c&&c.c(),n=U(),at(r.$$.fragment),o=U();for(let e=0;e<i.length;e+=1)i[e].c();s=W(),X(t,"class","add-field-table svelte-6ofmn5")},m(e,l){H(e,t,l),c&&c.m(t,null),H(e,n,l),it(r,e,l),H(e,o,l);for(let t=0;t<i.length;t+=1)i[t].m(e,l);H(e,s,l),a=!0},p(e,n){e[8]?c?(c.p(e,n),256&n&&je(c,1)):(c=VG(e),c.c(),je(c,1),c.m(t,null)):c&&(qe(),Ue(c,1,1,(()=>{c=null})),Be()),66057&n&&(u=e[3],qe(),i=nt(i,n,d,1,e,u,l,s.parentNode,et,qG,s,LG),Be())},i(e){if(!a){je(c),je(r.$$.fragment,e);for(let e=0;e<u.length;e+=1)je(i[e]);a=!0}},o(e){Ue(c),Ue(r.$$.fragment,e);for(let t=0;t<i.length;t+=1)Ue(i[t]);a=!1},d(e){e&&z(t),c&&c.d(),e&&z(n),lt(r,e),e&&z(o);for(let t=0;t<i.length;t+=1)i[t].d(e);e&&z(s)}}}function zG(e){let t,n;return t=new t$({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function VG(e){let t,n;return t=new HI({props:{table:e[8],truncate:!1}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};256&n&&(r.table=e[8]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function qG(e,t){let n,r,o;return r=new PG({props:{fieldColumn:t[17],parentHasColumn:t[0].hasColumn(t[17])}}),r.$on("click",(function(){return t[15](t[17],t[16])})),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};8&n&&(o.fieldColumn=t[17]),9&n&&(o.parentHasColumn=t[0].hasColumn(t[17])),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function BG(e){let t,n,r,o;const s=[zG,HG],a=[];function i(e,t){return e[7]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function jG(e){let t,n,r;return n=new zh({props:{showArrow:!1,triggerAppearance:"tiny"===e[1]?"custom":"secondary",triggerClass:"add-field-button",icon:jx,label:"full"===e[1]?e[6]("add_fields"):"",preferredPlacement:"bottom-end",closeOnInnerClick:!1,$$slots:{default:[BG,({close:e})=>({16:e}),({close:e})=>e?65536:0]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","add-field svelte-6ofmn5")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,[t]){const r={};2&t&&(r.triggerAppearance="tiny"===e[1]?"custom":"secondary"),66&t&&(r.label="full"===e[1]?e[6]("add_fields"):""),1114505&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function UG(e,t,n){let r,o,s,i,l,c,u,d,$,p,m=a,f=a,h=a;y(e,no,(e=>n(6,d=e))),e.$$.on_destroy.push((()=>m())),e.$$.on_destroy.push((()=>f())),e.$$.on_destroy.push((()=>h()));let{dataFormManager:b}=t,{fieldHolder:v}=t,{insertionIndex:w}=t,{display:_="tiny"}=t;async function x(e,t){v.add(oG({fieldColumn:e,index:w})),t()}return e.$$set=e=>{"dataFormManager"in e&&n(10,b=e.dataFormManager),"fieldHolder"in e&&n(0,v=e.fieldHolder),"insertionIndex"in e&&n(11,w=e.insertionIndex),"display"in e&&n(1,_=e.display)},e.$$.update=()=>{1&e.$$.dirty&&n(13,r=v.getTableOid()),9216&e.$$.dirty&&n(12,o=b.getTableStructure(r)),4096&e.$$.dirty&&(n(5,({processedColumns:s,isLoading:i}=o),s,(n(4,i),f(),f=g(i,(e=>n(7,$=e))),i)),m(),m=g(s,(e=>n(14,u=e)))),16384&e.$$.dirty&&n(3,l=[...u.values()].map((e=>UK.fromProcessedColumn(e)))),4096&e.$$.dirty&&(n(2,({table:c}=o),c),h(),h=g(c,(e=>n(8,p=e))))},[v,_,c,l,i,s,d,$,p,x,b,w,o,r,u,(e,t)=>x(e,t)]}class WG extends ut{constructor(e){super(),ct(this,e,UG,jG,f,{dataFormManager:10,fieldHolder:0,insertionIndex:11,display:1})}}function YG(e){let t,n,r;const o=[Kx];let s={};for(let a=0;a<o.length;a+=1)s=l(s,o[a]);return n=new Jd({props:s}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","icon")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r=0&t?rt(o,[ot(Kx)]):{};n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function KG(e){let t,n;return t=new Hu({props:{slot:"trigger",appearance:"secondary",disabled:!e[0].canDelete,$$slots:{default:[YG]},$$scope:{ctx:e}}}),t.$on("click",e[3]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.disabled=!e[0].canDelete),16&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function GG(e){let t,n,r=e[1]("field_cannot_be_removed_required_in_db")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","content")},m(e,r){H(e,t,r),F(t,n)},p(e,t){2&t&&r!==(r=e[1]("field_cannot_be_removed_required_in_db")+"")&&Q(n,r)},d(e){e&&z(t)}}}function XG(e){let t,n,r,o;const s=e[2].default,a=b(s,e,e[4],null);return r=new Eu({props:{enabled:!e[0].canDelete,$$slots:{content:[GG],trigger:[KG]},$$scope:{ctx:e}}}),{c(){t=q("div"),a&&a.c(),n=U(),at(r.$$.fragment),X(t,"class","controls svelte-1hrfmtg")},m(e,s){H(e,t,s),a&&a.m(t,null),F(t,n),it(r,t,null),o=!0},p(e,[t]){a&&a.p&&(!o||16&t)&&_(a,s,e,e[4],o?w(s,e[4],t,null):x(e[4]),null);const n={};1&t&&(n.enabled=!e[0].canDelete),19&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i(e){o||(je(a,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(a,e),Ue(r.$$.fragment,e),o=!1},d(e){e&&z(t),a&&a.d(e),lt(r)}}}function ZG(e,t,n){let r;y(e,no,(e=>n(1,r=e)));let{$$slots:o={},$$scope:s}=t,{dataFormField:a}=t;return e.$$set=e=>{"dataFormField"in e&&n(0,a=e.dataFormField),"$$scope"in e&&n(4,s=e.$$scope)},[a,r,o,()=>a.container.delete(a),s]}class JG extends ut{constructor(e){super(),ct(this,e,ZG,XG,f,{dataFormField:0})}}function QG(e){let t;return{c(){t=q("span"),t.textContent="*",X(t,"class","req-indicator svelte-wwr8eu")},m(e,n){H(e,t,n)},d(e){e&&z(t)}}}function eX(e){let t,n;return t=new O$({props:{controller:e[2],$$slots:{default:[nX]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.controller=e[2]),66048&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function tX(e){let t,n,r;return{c(){t=q("input"),X(t,"type","text"),t.readOnly=e[4],t.value=e[9],X(t,"class","svelte-wwr8eu"),se(t,"disabled",e[4])},m(o,s){H(o,t,s),n||(r=[Y(t,"input",e[12]),Y(t,"blur",e[15])],n=!0)},p(e,n){16&n&&(t.readOnly=e[4]),512&n&&t.value!==e[9]&&(t.value=e[9]),16&n&&se(t,"disabled",e[4])},i:a,o:a,d(e){e&&z(t),n=!1,d(r)}}}function nX(e){let t;return{c(){t=j(e[9])},m(e,n){H(e,t,n)},p(e,n){512&n&&Q(t,e[9])},d(e){e&&z(t)}}}function rX(e){let t,n,r;return n=new JG({props:{dataFormField:e[1],$$slots:{default:[oX]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","control-panel svelte-wwr8eu")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};2&t&&(r.dataFormField=e[1]),65536&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function oX(e){let t;const n=e[14].default,r=b(n,e,e[16],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||65536&o)&&_(r,n,e,e[16],t?w(n,e[16],o,null):x(e[16]),null)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function sX(e){let t,n;function r(e,n){return 1024&n&&(t=null),e[0]instanceof uG?iX:(null==t&&(t=!!e[10].trim().length),t?aX:void 0)}let o=r(e,-1),s=o&&o(e);return{c(){s&&s.c(),n=W()},m(e,t){s&&s.m(e,t),H(e,n,t)},p(e,t){o===(o=r(e,t))&&s?s.p(e,t):(s&&s.d(1),s=o&&o(e),s&&(s.c(),s.m(n.parentNode,n)))},d(e){s&&s.d(e),e&&z(n)}}}function aX(e){let t,n,r;return{c(){t=q("div"),n=q("span"),r=j(e[10]),X(t,"class","help svelte-wwr8eu")},m(e,o){H(e,t,o),F(t,n),F(n,r)},p(e,t){1024&t&&Q(r,e[10])},d(e){e&&z(t)}}}function iX(e){let t,n,r,o,s;return{c(){t=q("div"),n=q("input"),X(n,"type","text"),n.readOnly=e[4],n.value=e[10],X(n,"placeholder",r=e[11]("field_add_help_text")),X(n,"class","svelte-wwr8eu"),se(n,"disabled",e[4]),X(t,"class","help svelte-wwr8eu")},m(r,a){H(r,t,a),F(t,n),o||(s=Y(n,"input",e[13]),o=!0)},p(e,t){16&t&&(n.readOnly=e[4]),1024&t&&n.value!==e[10]&&(n.value=e[10]),2048&t&&r!==(r=e[11]("field_add_help_text"))&&X(n,"placeholder",r),16&t&&se(n,"disabled",e[4])},d(e){e&&z(t),o=!1,s()}}}function lX(e){let t,n,r,o,s,a,i,l,c,u=_o(e[10]),d=e[8]&&QG();const $=[tX,eX],p=[];function m(e,t){return e[0]instanceof uG?0:1}s=m(e),a=p[s]=$[s](e);let f=e[3]&&e[0]instanceof uG&&rX(e),g=u&&sX(e);return{c(){t=q("div"),n=q("div"),r=q("div"),d&&d.c(),o=U(),a.c(),i=U(),f&&f.c(),l=U(),g&&g.c(),X(r,"class","label"),X(n,"class","header svelte-wwr8eu"),X(t,"class","label-container svelte-wwr8eu"),se(t,"selected",e[3])},m(e,a){H(e,t,a),F(t,n),F(n,r),d&&d.m(r,null),F(r,o),p[s].m(r,null),F(n,i),f&&f.m(n,null),F(t,l),g&&g.m(t,null),c=!0},p(e,[i]){e[8]?d||(d=QG(),d.c(),d.m(r,o)):d&&(d.d(1),d=null);let l=s;s=m(e),s===l?p[s].p(e,i):(qe(),Ue(p[l],1,1,(()=>{p[l]=null})),Be(),a=p[s],a?a.p(e,i):(a=p[s]=$[s](e),a.c()),je(a,1),a.m(r,null)),e[3]&&e[0]instanceof uG?f?(f.p(e,i),9&i&&je(f,1)):(f=rX(e),f.c(),je(f,1),f.m(n,null)):f&&(qe(),Ue(f,1,1,(()=>{f=null})),Be()),1024&i&&(u=_o(e[10])),u?g?g.p(e,i):(g=sX(e),g.c(),g.m(t,null)):g&&(g.d(1),g=null),(!c||8&i)&&se(t,"selected",e[3])},i(e){c||(je(a),je(f),c=!0)},o(e){Ue(a),Ue(f),c=!1},d(e){e&&z(t),d&&d.d(),p[s].d(),f&&f.d(),g&&g.d()}}}function cX(e,t,n){let r,o,s,i,l,c,u,d=a,$=a,p=a;y(e,no,(e=>n(11,u=e))),e.$$.on_destroy.push((()=>d())),e.$$.on_destroy.push((()=>$())),e.$$.on_destroy.push((()=>p()));let{$$slots:m={},$$scope:f}=t,{dataFormManager:h}=t,{dataFormField:b}=t,{labelController:v}=t,{isSelected:w}=t,{disabled:_=!1}=t;return e.$$set=e=>{"dataFormManager"in e&&n(0,h=e.dataFormManager),"dataFormField"in e&&n(1,b=e.dataFormField),"labelController"in e&&n(2,v=e.labelController),"isSelected"in e&&n(3,w=e.isSelected),"disabled"in e&&n(4,_=e.disabled),"$$scope"in e&&n(16,f=e.$$scope)},e.$$.update=()=>{2&e.$$.dirty&&(n(7,({label:r,help:o}=b),r,(n(6,o),p(),p=g(o,(e=>n(10,c=e))),o)),$(),$=g(r,(e=>n(9,l=e)))),2&e.$$.dirty&&(n(5,s="isRequired"in b?b.isRequired:Fo(!1)),d(),d=g(s,(e=>n(8,i=e))))},[h,b,v,w,_,s,o,r,i,l,c,u,function(e){b.setLabel(Wo(e))},function(e){b.setHelpText(Wo(e))},m,()=>b.checkAndSetDefaultLabel(),f]}class uX extends ut{constructor(e){super(),ct(this,e,cX,lX,f,{dataFormManager:0,dataFormField:1,labelController:2,isSelected:3,disabled:4})}}function dX(e){let t,n,r=e[4]("form_has_errors_contact_admin")+"";return{c(){t=q("div"),n=j(r)},m(e,r){H(e,t,r),F(t,n)},p(e,t){16&t&&r!==(r=e[4]("form_has_errors_contact_admin")+"")&&Q(n,r)},d(e){e&&z(t)}}}function $X(e){let t,n,r;return n=new Hu({props:{appearance:"default",$$slots:{default:[pX]},$$scope:{ctx:e}}}),n.$on("click",e[7]),{c(){t=q("div"),at(n.$$.fragment)},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};272&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function pX(e){let t,n,r,o,s,a=e[4]("remove_field")+"";const i=[Kx];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return t=new Jd({props:c}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(a)},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),F(r,o),s=!0},p(e,n){const r=0&n?rt(i,[ot(Kx)]):{};t.$set(r),(!s||16&n)&&a!==(a=e[4]("remove_field")+"")&&Q(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function mX(e){let t,n,r,o,s,a,i=e[1]instanceof cG&&dX(e),l=e[1]instanceof uG&&$X(e);return{c(){t=q("div"),i&&i.c(),n=U(),r=q("div"),o=j(e[5]),s=U(),l&&l.c(),X(t,"class","error-message svelte-xwvx8")},m(e,c){H(e,t,c),i&&i.m(t,null),F(t,n),F(t,r),F(r,o),F(t,s),l&&l.m(t,null),a=!0},p(e,r){e[1]instanceof cG?i?i.p(e,r):(i=dX(e),i.c(),i.m(t,n)):i&&(i.d(1),i=null),(!a||32&r)&&Q(o,e[5]),e[1]instanceof uG?l?(l.p(e,r),2&r&&je(l,1)):(l=$X(e),l.c(),je(l,1),l.m(t,null)):l&&(qe(),Ue(l,1,1,(()=>{l=null})),Be())},i(e){a||(je(l),a=!0)},o(e){Ue(l),a=!1},d(e){e&&z(t),i&&i.d(),l&&l.d()}}}function fX(e){let t,n,r,o,s,a;return n=new uX({props:{disabled:!0,dataFormManager:e[1],dataFormField:e[2],isSelected:e[0],labelController:e[3]}}),s=new HP({props:{fullWidth:!0,$$slots:{default:[mX]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),o=q("div"),at(s.$$.fragment),X(t,"class","error-field svelte-xwvx8")},m(e,i){H(e,t,i),it(n,t,null),F(t,r),F(t,o),it(s,o,null),a=!0},p(e,[t]){const r={};2&t&&(r.dataFormManager=e[1]),4&t&&(r.dataFormField=e[2]),1&t&&(r.isSelected=e[0]),8&t&&(r.labelController=e[3]),n.$set(r);const o={};310&t&&(o.$$scope={dirty:t,ctx:e}),s.$set(o)},i(e){a||(je(n.$$.fragment,e),je(s.$$.fragment,e),a=!0)},o(e){Ue(n.$$.fragment,e),Ue(s.$$.fragment,e),a=!1},d(e){e&&z(t),lt(n),lt(s)}}}function gX(e,t,n){let r,o,s;y(e,no,(e=>n(4,s=e)));let{isSelected:a}=t,{dataFormManager:i}=t,{dataFormField:l}=t,{labelController:c}=t;return e.$$set=e=>{"isSelected"in e&&n(0,a=e.isSelected),"dataFormManager"in e&&n(1,i=e.dataFormManager),"dataFormField"in e&&n(2,l=e.dataFormField),"labelController"in e&&n(3,c=e.labelController)},e.$$.update=()=>{8&e.$$.dirty&&c.disabled.set(!0),4&e.$$.dirty&&n(6,({error:r}=l),r),82&e.$$.dirty&&n(5,o=i instanceof cG?`${s("error")}: ${r.message}`:r.message)},[a,i,l,c,s,o,r,()=>l.container.delete(l)]}class hX extends ut{constructor(e){super(),ct(this,e,gX,fX,f,{isSelected:0,dataFormManager:1,dataFormField:2,labelController:3})}}function yX(e){let t,n,r,o;const s=[vX,bX],a=[];function i(e,t){return e[6]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function bX(e){let t,n,r,o=e[20]("anonymous_file_uploads_disabled_public")+"",s=!e[21]&&wX(e);return{c(){t=q("div"),n=j(o),r=U(),s&&s.c(),X(t,"class","disabled-file-input-help svelte-q8w0cg")},m(e,o){H(e,t,o),F(t,n),F(t,r),s&&s.m(t,null)},p(e,r){1048576&r[0]&&o!==(o=e[20]("anonymous_file_uploads_disabled_public")+"")&&Q(n,o),e[21]?s&&(s.d(1),s=null):s?s.p(e,r):(s=wX(e),s.c(),s.m(t,null))},i:a,o:a,d(e){e&&z(t),s&&s.d()}}}function vX(e){let t,n;return t=new cV({props:{$$slots:{default:[_X]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1048576&n[0]|256&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function wX(e){let t,n=e[20]("can_submit_without_uploading_file")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1048576&r[0]&&n!==(n=e[20]("can_submit_without_uploading_file")+"")&&Q(t,n)},d(e){e&&z(t)}}}function _X(e){let t,n=e[20]("anonymous_file_uploads_disabled")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1048576&r[0]&&n!==(n=e[20]("anonymous_file_uploads_disabled")+"")&&Q(t,n)},d(e){e&&z(t)}}}function xX(e){let t,n;return t=new wL({props:{field:e[7]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};128&n[0]&&(r.field=e[7]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function CX(e){let t,n,r,o,s,a,i=e[5]&&!e[4]&&yX(e);function l(t){e[38](t)}let c={labelController:e[1],id:e[0].key,componentAndProps:e[22],hasError:e[14],disabled:e[9],recordSummary:e[23],setRecordSummary:e[36],fileManifest:e[24],setFileManifest:e[37],fileRequestParams:e[10],placeholder:e[3]};void 0!==e[8]&&(c.value=e[8]),r=new DV({props:c}),Ce.push((()=>st(r,"value",l)));let u=e[14]&&xX(e);return{c(){t=q("div"),i&&i.c(),n=U(),at(r.$$.fragment),s=U(),u&&u.c(),X(t,"class","data-form-input svelte-q8w0cg"),se(t,"selected",e[2])},m(e,o){H(e,t,o),i&&i.m(t,null),F(t,n),it(r,t,null),F(t,s),u&&u.m(t,null),a=!0},p(e,s){e[5]&&!e[4]?i?(i.p(e,s),48&s[0]&&je(i,1)):(i=yX(e),i.c(),je(i,1),i.m(t,n)):i&&(qe(),Ue(i,1,1,(()=>{i=null})),Be());const l={};2&s[0]&&(l.labelController=e[1]),1&s[0]&&(l.id=e[0].key),4194304&s[0]&&(l.componentAndProps=e[22]),16384&s[0]&&(l.hasError=e[14]),512&s[0]&&(l.disabled=e[9]),8388608&s[0]&&(l.recordSummary=e[23]),16777216&s[0]&&(l.fileManifest=e[24]),1024&s[0]&&(l.fileRequestParams=e[10]),8&s[0]&&(l.placeholder=e[3]),!o&&256&s[0]&&(o=!0,l.value=e[8],Oe((()=>o=!1))),r.$set(l),e[14]?u?(u.p(e,s),16384&s[0]&&je(u,1)):(u=xX(e),u.c(),je(u,1),u.m(t,null)):u&&(qe(),Ue(u,1,1,(()=>{u=null})),Be()),(!a||4&s[0])&&se(t,"selected",e[2])},i(e){a||(je(i),je(r.$$.fragment,e),je(u),a=!0)},o(e){Ue(i),Ue(r.$$.fragment,e),Ue(u),a=!1},d(e){e&&z(t),i&&i.d(),lt(r),u&&u.d()}}}function SX(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,b,v,w,_,x,C,S,k,M,I,T,E,D,O,N,A,R=a,F=a,P=a,L=a,H=a,z=a,V=a,q=a,B=a;y(e,no,(e=>n(20,E=e))),e.$$.on_destroy.push((()=>R())),e.$$.on_destroy.push((()=>F())),e.$$.on_destroy.push((()=>P())),e.$$.on_destroy.push((()=>L())),e.$$.on_destroy.push((()=>H())),e.$$.on_destroy.push((()=>z())),e.$$.on_destroy.push((()=>V())),e.$$.on_destroy.push((()=>q())),e.$$.on_destroy.push((()=>B()));const j=new lo,U=new lo;let{dataFormManager:W}=t,{dataFormField:Y}=t,{labelController:K}=t,{isSelected:G}=t,{placeholder:X}=t;return e.$$set=e=>{"dataFormManager"in e&&n(27,W=e.dataFormManager),"dataFormField"in e&&n(0,Y=e.dataFormField),"labelController"in e&&n(1,K=e.labelController),"isSelected"in e&&n(2,G=e.isSelected),"placeholder"in e&&n(3,X=e.placeholder)},e.$$.update=()=>{134217728&e.$$.dirty[0]&&n(6,r=W instanceof uG?W:void 0),134217728&e.$$.dirty[0]&&n(29,o=W instanceof cG?W:void 0),1&e.$$.dirty[0]&&n(31,({fieldValueHolder:s,inputComponentAndProps:i,fieldColumn:l,isRequired:c}=Y),s,(n(19,i),V(),V=g(i,(e=>n(22,O=e))),i),(n(28,l),n(0,Y)),(n(18,c),z(),z=g(c,(e=>n(21,D=e))),c)),1&e.$$.dirty[1]&&(n(17,({inputFieldStore:u}=s),u),H(),H=g(u,(e=>n(35,T=e)))),16&e.$$.dirty[1]&&(n(7,d=T),P(),P=g(d,(e=>n(8,M=e)))),128&e.$$.dirty[0]&&(n(16,({showsError:$,disabled:p}=d),$,(n(15,p),R(),R=g(p,(e=>n(32,S=e))),p)),L(),L=g($,(e=>n(34,I=e)))),64&e.$$.dirty[0]|8&e.$$.dirty[1]&&n(14,m=!r&&I),256&e.$$.dirty[0]&&(n(13,f=j.derivedValue(String(M))),q(),q=g(f,(e=>n(23,N=e)))),256&e.$$.dirty[0]&&n(30,h=(()=>{try{const e="object"==typeof M?M:JSON.parse(String(M));return vo(e,"mash")?e.mash:String(M)}catch{return String(M)}})()),1073741824&e.$$.dirty[0]&&(n(12,b=U.derivedValue(h)),B(),B=g(b,(e=>n(24,A=e)))),536870912&e.$$.dirty[0]&&(n(11,v=Fo(o?.token)),F(),F=g(v,(e=>n(33,k=e)))),1&e.$$.dirty[0]|4&e.$$.dirty[1]&&n(10,w=k?{form_token:k,form_field_key:Y.key}:void 0),268435456&e.$$.dirty[0]&&n(5,_="file"===l.abstractType.identifier),268435456&e.$$.dirty[0]&&n(4,x=(()=>{const e=l.column.metadata?.file_backend;if(!e)return!1;const t=$x(e);return!!t&&t.anonymous_access})()),48&e.$$.dirty[0]|2&e.$$.dirty[1]&&n(9,C=S||_&&!x)},[Y,K,G,X,x,_,r,d,M,C,w,v,b,f,m,p,$,u,c,i,E,D,O,N,A,j,U,W,l,o,h,s,S,k,I,T,(e,t)=>j.set(e,t),(e,t)=>U.set(e,t),function(e){M=e,d.set(M)}]}class kX extends ut{constructor(e){super(),ct(this,e,SX,CX,f,{dataFormManager:27,dataFormField:0,labelController:1,isSelected:2,placeholder:3},null,[-1,-1])}}function MX(e){let t,n,r,o;const s=[TX,IX],a=[];function i(e,t){return e[3]?0:e[4]?1:-1}return~(n=i(e))&&(r=a[n]=s[n](e)),{c(){t=q("span"),r&&r.c(),X(t,"class","svelte-1ckvy87")},m(e,r){H(e,t,r),~n&&a[n].m(t,null),o=!0},p(e,o){let l=n;n=i(e),n===l?~n&&a[n].p(e,o):(r&&(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be()),~n?(r=a[n],r?r.p(e,o):(r=a[n]=s[n](e),r.c()),je(r,1),r.m(t,null)):r=null)},i(e){o||(je(r),o=!0)},o(e){Ue(r),o=!1},d(e){e&&z(t),~n&&a[n].d()}}}function IX(e){let t,n;return t=new HI({props:{table:e[4]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.table=e[4]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function TX(e){let t,n;return t=new t$({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function EX(e){let t,n,r="tableName"===e[9]&&MX(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"tableName"===e[9]?r?(r.p(e,n),512&n&&je(r,1)):(r=MX(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function DX(e){let t,n,r;return n=new Rx({props:{text:e[2]("form_fk_sub_form_help"),$$slots:{default:[EX,({slotName:e})=>({9:e}),({slotName:e})=>e?512:0]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","sub-form-help svelte-1ckvy87")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,[t]){const r={};4&t&&(r.text=e[2]("form_fk_sub_form_help")),1560&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function OX(e,t,n){let r,o,s,i,l,c,u,d=a,$=a;y(e,no,(e=>n(2,l=e))),e.$$.on_destroy.push((()=>d())),e.$$.on_destroy.push((()=>$()));let{dataFormManager:p}=t,{dataFormField:m}=t;return e.$$set=e=>{"dataFormManager"in e&&n(5,p=e.dataFormManager),"dataFormField"in e&&n(6,m=e.dataFormField)},e.$$.update=()=>{64&e.$$.dirty&&n(8,({relatedTableOid:r}=m),r),288&e.$$.dirty&&n(7,o=p.getTableStructure(r)),128&e.$$.dirty&&(n(1,({isLoading:s,table:i}=o),s,(n(0,i),$(),$=g(i,(e=>n(4,u=e))),i)),d(),d=g(s,(e=>n(3,c=e))))},[i,s,l,c,u,p,m,o,r]}class NX extends ut{constructor(e){super(),ct(this,e,OX,DX,f,{dataFormManager:5,dataFormField:6})}}function AX(e){let t,n,r,o,s,a,i=(e[11]?e[4][e[11]].short:"")+"",l=(e[11]?e[4][e[11]].help:"")+"";return{c(){t=q("div"),n=q("div"),r=j(i),o=U(),s=q("div"),a=j(l),X(s,"class","option-help svelte-1p0wpsi")},m(e,i){H(e,t,i),F(t,n),F(n,r),F(t,o),F(t,s),F(s,a)},p(e,t){2048&t&&i!==(i=(e[11]?e[4][e[11]].short:"")+"")&&Q(r,i),2048&t&&l!==(l=(e[11]?e[4][e[11]].help:"")+"")&&Q(a,l)},d(e){e&&z(t)}}}function RX(e){let t,n=(e[12]?e[4][e[12]].short:"")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){4096&r&&n!==(n=(e[12]?e[4][e[12]].short:"")+"")&&Q(t,n)},d(e){e&&z(t)}}}function FX(e){let t,n;return t=new $y({props:{triggerAppearance:e[1],options:AM,value:e[3],$$slots:{trigger:[RX,({option:e})=>({12:e}),({option:e})=>e?4096:0],default:[AX,({option:e})=>({11:e}),({option:e})=>e?2048:0]},$$scope:{ctx:e}}}),t.$on("change",e[8]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.triggerAppearance=e[1]),8&n&&(r.value=e[3]),14336&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function PX(e,t,n){let r,o,s,i,l,c=a;y(e,no,(e=>n(10,i=e))),e.$$.on_destroy.push((()=>c()));let{dataFormManager:u}=t,{dataFormField:d}=t,{appearance:$="secondary"}=t;const p={must_create:{short:i("form_fk_must_create_label"),help:i("form_fk_must_create_help")},can_pick_or_create:{short:i("form_fk_select_or_create_label"),help:i("form_fk_select_or_create_help")},must_pick:{short:i("form_fk_only_select_label"),help:i("form_fk_only_select_help")}};async function m(){const e=await s.getSubstanceOnceResolved();if(e.resolvedValue){const t=e.resolvedValue,{processedColumns:n}=t;return[...n.values()].filter((e=>!e.column.default?.is_dynamic)).map(((e,t)=>oG({fieldColumn:UK.fromProcessedColumn(e),index:t})))}return[]}return e.$$set=e=>{"dataFormManager"in e&&n(6,u=e.dataFormManager),"dataFormField"in e&&n(0,d=e.dataFormField),"appearance"in e&&n(1,$=e.appearance)},e.$$.update=()=>{1&e.$$.dirty&&(n(2,({interactionRule:r,relatedTableOid:o}=d),r,(n(7,o),n(0,d))),c(),c=g(r,(e=>n(3,l=e)))),192&e.$$.dirty&&(s=u.getTableStructure(o))},[d,$,r,l,p,m,u,o,e=>d.setInteractionRule(e.detail??"must_pick",m)]}class LX extends ut{constructor(e){super(),ct(this,e,PX,FX,f,{dataFormManager:6,dataFormField:0,appearance:1})}}function HX(e){let t,n;return t=new LX({props:{dataFormManager:e[2],dataFormField:e[1]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.dataFormManager=e[2]),2&n&&(r.dataFormField=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function zX(e){let t,n,r=e[2]&&HX(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){e[2]?r?(r.p(e,n),4&n&&je(r,1)):(r=HX(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function VX(e){let t,n,r;const o=[e[5],{placeholder:"create"===e[3]?e[10]("adding_new_record"):void 0}];let s={};for(let a=0;a<o.length;a+=1)s=l(s,o[a]);return n=new kX({props:s}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","fk-input svelte-xldfrg"),se(t,"has-margin",e[6])},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,s){const a=1064&s?rt(o,[32&s&&ot(e[5]),1032&s&&{placeholder:"create"===e[3]?e[10]("adding_new_record"):void 0}]):{};n.$set(a),(!r||64&s)&&se(t,"has-margin",e[6])},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function qX(e){let t,n;return t=new NX({props:{dataFormField:e[1],dataFormManager:e[2]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.dataFormField=e[1]),4&n&&(r.dataFormManager=e[2]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function BX(e){let t,n;return t=new WZ({props:{fields:e[8],dataFormManager:e[0]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};256&n&&(r.fields=e[8]),1&n&&(r.dataFormManager=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function jX(e){let t,n,r,o,s,a,i;const c=[e[5]];let u={$$slots:{default:[zX]},$$scope:{ctx:e}};for(let m=0;m<c.length;m+=1)u=l(u,c[m]);r=new uX({props:u});let d="must_create"!==e[4]&&VX(e),$="can_pick_or_create"===e[4]&&e[2]&&qX(e),p="must_pick"!==e[4]&&(e[2]||"create"===e[3])&&BX(e);return{c(){t=q("div"),n=q("div"),at(r.$$.fragment),o=U(),d&&d.c(),s=U(),$&&$.c(),a=U(),p&&p.c(),X(n,"class","label-controls-container svelte-xldfrg"),X(t,"class","fk-field svelte-xldfrg")},m(e,l){H(e,t,l),F(t,n),it(r,n,null),F(t,o),d&&d.m(t,null),F(t,s),$&&$.m(t,null),F(t,a),p&&p.m(t,null),i=!0},p(e,[n]){const o=32&n?rt(c,[ot(e[5])]):{};16390&n&&(o.$$scope={dirty:n,ctx:e}),r.$set(o),"must_create"!==e[4]?d?(d.p(e,n),16&n&&je(d,1)):(d=VX(e),d.c(),je(d,1),d.m(t,s)):d&&(qe(),Ue(d,1,1,(()=>{d=null})),Be()),"can_pick_or_create"===e[4]&&e[2]?$?($.p(e,n),20&n&&je($,1)):($=qX(e),$.c(),je($,1),$.m(t,a)):$&&(qe(),Ue($,1,1,(()=>{$=null})),Be()),"must_pick"===e[4]||!e[2]&&"create"!==e[3]?p&&(qe(),Ue(p,1,1,(()=>{p=null})),Be()):p?(p.p(e,n),28&n&&je(p,1)):(p=BX(e),p.c(),je(p,1),p.m(t,null))},i(e){i||(je(r.$$.fragment,e),je(d),je($),je(p),i=!0)},o(e){Ue(r.$$.fragment,e),Ue(d),Ue($),Ue(p),i=!1},d(e){e&&z(t),lt(r),d&&d.d(),$&&$.d(),p&&p.d()}}}function UX(e,t,n){let r,o,s,i,l,c,u,d,$,p,m=a,f=a;y(e,no,(e=>n(10,p=e))),e.$$.on_destroy.push((()=>m())),e.$$.on_destroy.push((()=>f()));let{isSelected:h}=t,{dataFormManager:b}=t,{dataFormField:v}=t,{labelController:w}=t;return e.$$set=e=>{"isSelected"in e&&n(11,h=e.isSelected),"dataFormManager"in e&&n(0,b=e.dataFormManager),"dataFormField"in e&&n(1,v=e.dataFormField),"labelController"in e&&n(12,w=e.labelController)},e.$$.update=()=>{1&e.$$.dirty&&n(2,r=b instanceof uG?b:void 0),2&e.$$.dirty&&(n(9,({interactionRule:o,nestedFields:s,fieldValueHolder:i}=v),o,(n(8,s),n(1,v)),(n(13,i),n(1,v))),f(),f=g(o,(e=>n(4,$=e)))),8192&e.$$.dirty&&(n(7,({userAction:l}=i),l),m(),m=g(l,(e=>n(3,d=e)))),28&e.$$.dirty&&n(6,c=r?"must_pick"!==$:"create"===d),6147&e.$$.dirty&&n(5,u={dataFormManager:b,dataFormField:v,isSelected:h,labelController:w})},[b,v,r,d,$,u,c,l,s,o,p,h,w,i]}class WX extends ut{constructor(e){super(),ct(this,e,UX,jX,f,{isSelected:11,dataFormManager:0,dataFormField:1,labelController:12})}}function YX(e){let t,n,r,o,s;const a=[{table:e[0]},e[3]];let i={};for(let d=0;d<a.length;d+=1)i=l(i,a[d]);n=new HI({props:i});const c=[Od];let u={};for(let d=0;d<c.length;d+=1)u=l(u,c[d]);return o=new Jd({props:u}),{c(){t=q("a"),at(n.$$.fragment),r=U(),at(o.$$.fragment),X(t,"class","table-link svelte-n3cjkh"),X(t,"href",e[2]),se(t,"boxed",e[1])},m(e,a){H(e,t,a),it(n,t,null),F(t,r),it(o,t,null),s=!0},p(e,[r]){const i=9&r?rt(a,[1&r&&{table:e[0]},8&r&&ot(e[3])]):{};n.$set(i);const l=0&r?rt(c,[ot(Od)]):{};o.$set(l),(!s||4&r)&&X(t,"href",e[2]),(!s||2&r)&&se(t,"boxed",e[1])},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(n),lt(o)}}}function KX(e,t,n){let r;const o=["table","boxed"];let s=S(t,o),{table:a}=t,{boxed:i=!1}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(3,s=S(t,o)),"table"in e&&n(0,a=e.table),"boxed"in e&&n(1,i=e.boxed)},e.$$.update=()=>{1&e.$$.dirty&&n(2,r=sI(a.schema.database.id,a.schema.oid,a.oid))},[a,i,r,s]}class GX extends ut{constructor(e){super(),ct(this,e,KX,YX,f,{table:0,boxed:1})}}function XX(e){let t,n,r,o;const s=[JX,ZX],a=[];function i(e,t){return e[1]?0:1}return n=i(e),r=a[n]=s[n](e),{c(){t=q("div"),r.c(),X(t,"class","tag svelte-h5yugs")},m(e,r){H(e,t,r),a[n].m(t,null),o=!0},p(e,o){let l=n;n=i(e),n===l?a[n].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),r=a[n],r?r.p(e,o):(r=a[n]=s[n](e),r.c()),je(r,1),r.m(t,null))},i(e){o||(je(r),o=!0)},o(e){Ue(r),o=!1},d(e){e&&z(t),a[n].d()}}}function ZX(e){let t,n;return t=new HI({props:{table:e[4],alwaysShowTooltip:!0}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.table=e[4]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function JX(e){let t,n;return t=new GX({props:{table:e[4],alwaysShowTooltip:!0}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.table=e[4]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function QX(e){let t,n,r,o,s=e[2]&&eZ();return r=new HV({props:{column:{...e[0].fieldColumn.column,constraintsType:"foreign_key"===e[0].kind?["foreignkey"]:[]},alwaysShowTooltip:!0}}),{c(){s&&s.c(),t=U(),n=q("div"),at(r.$$.fragment),X(n,"class","tag svelte-h5yugs")},m(e,a){s&&s.m(e,a),H(e,t,a),H(e,n,a),it(r,n,null),o=!0},p(e,n){e[2]?s||(s=eZ(),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null);const o={};1&n&&(o.column={...e[0].fieldColumn.column,constraintsType:"foreign_key"===e[0].kind?["foreignkey"]:[]}),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){s&&s.d(e),e&&z(t),e&&z(n),lt(r)}}}function eZ(e){let t;return{c(){t=q("span"),t.textContent=".",X(t,"class","separator svelte-h5yugs")},m(e,n){H(e,t,n)},d(e){e&&z(t)}}}function tZ(e){let t,n,r,o=e[4]&&XX(e),s="fieldColumn"in e[0]&&QX(e);return{c(){t=q("div"),o&&o.c(),n=U(),s&&s.c(),X(t,"class","field-source svelte-h5yugs"),se(t,"separator",e[2])},m(e,a){H(e,t,a),o&&o.m(t,null),F(t,n),s&&s.m(t,null),r=!0},p(e,[a]){e[4]?o?(o.p(e,a),16&a&&je(o,1)):(o=XX(e),o.c(),je(o,1),o.m(t,n)):o&&(qe(),Ue(o,1,1,(()=>{o=null})),Be()),"fieldColumn"in e[0]?s?(s.p(e,a),1&a&&je(s,1)):(s=QX(e),s.c(),je(s,1),s.m(t,null)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be()),(!r||4&a)&&se(t,"separator",e[2])},i(e){r||(je(o),je(s),r=!0)},o(e){Ue(o),Ue(s),r=!1},d(e){e&&z(t),o&&o.d(),s&&s.d()}}}function nZ(e,t,n){let r,o,s,i,l=a;e.$$.on_destroy.push((()=>l()));let{dataFormManager:c}=t,{dataFormField:u}=t,{link:d=!1}=t,{separator:$=!1}=t;return e.$$set=e=>{"dataFormManager"in e&&n(5,c=e.dataFormManager),"dataFormField"in e&&n(0,u=e.dataFormField),"link"in e&&n(1,d=e.link),"separator"in e&&n(2,$=e.separator)},e.$$.update=()=>{1&e.$$.dirty&&n(7,r=u.container.getTableOid()),160&e.$$.dirty&&n(6,o=c.getTableStructure(r)),64&e.$$.dirty&&(n(3,({table:s}=o),s),l(),l=g(s,(e=>n(4,i=e))))},[u,d,$,s,i,c,o,r]}class rZ extends ut{constructor(e){super(),ct(this,e,nZ,tZ,f,{dataFormManager:5,dataFormField:0,link:1,separator:2})}}const oZ=e=>({isSelected:8&e}),sZ=e=>({isSelected:e[3]}),aZ=e=>({isSelected:8&e}),iZ=e=>({isSelected:e[3]}),lZ=e=>({isSelected:8&e}),cZ=e=>({isSelected:e[3]}),uZ=e=>({isSelected:8&e}),dZ=e=>({isSelected:e[3]});function $Z(e){let t,n;const r=e[12].header,o=b(r,e,e[11],dZ);return{c(){t=q("div"),o&&o.c(),X(t,"class","header svelte-ie7r4h")},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||2056&t)&&_(o,r,e,e[11],n?w(r,e[11],t,uZ):x(e[11]),dZ)},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function pZ(e){let t,n;const r=e[12].footer,o=b(r,e,e[11],iZ);return{c(){t=q("div"),o&&o.c(),X(t,"class","footer svelte-ie7r4h")},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||2056&t)&&_(o,r,e,e[11],n?w(r,e[11],t,aZ):x(e[11]),iZ)},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function mZ(e){let t,n;const r=e[12].left,o=b(r,e,e[11],sZ);return{c(){t=q("div"),o&&o.c(),X(t,"class","left svelte-ie7r4h")},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||2056&t)&&_(o,r,e,e[11],n?w(r,e[11],t,oZ):x(e[11]),sZ)},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function fZ(e){let t,n,r,o,s,a,i,l,c=e[3]&&e[6].header&&$Z(e);const u=e[12].default,$=b(u,e,e[11],cZ);let p=e[3]&&e[6].footer&&pZ(e),m=e[3]&&e[6].left&&mZ(e);return{c(){t=q("div"),c&&c.c(),n=U(),r=q("div"),$&&$.c(),o=U(),p&&p.c(),s=U(),m&&m.c(),X(r,"class","content svelte-ie7r4h"),X(t,"data-form-selectable",""),X(t,"class","svelte-ie7r4h"),se(t,"can-select",!!e[0]),se(t,"selected",e[3]),se(t,"immediate-child-selected",e[2]),se(t,"some-child-selected",e[1])},m(u,d){H(u,t,d),c&&c.m(t,null),F(t,n),F(t,r),$&&$.m(r,null),F(t,o),p&&p.m(t,null),F(t,s),m&&m.m(t,null),a=!0,i||(l=[Y(t,"click",e[5]),Y(t,"focus",e[5]),Y(t,"focusin",e[5]),T(MG.call(null,t))],i=!0)},p(e,[r]){e[3]&&e[6].header?c?(c.p(e,r),72&r&&je(c,1)):(c=$Z(e),c.c(),je(c,1),c.m(t,n)):c&&(qe(),Ue(c,1,1,(()=>{c=null})),Be()),$&&$.p&&(!a||2056&r)&&_($,u,e,e[11],a?w(u,e[11],r,lZ):x(e[11]),cZ),e[3]&&e[6].footer?p?(p.p(e,r),72&r&&je(p,1)):(p=pZ(e),p.c(),je(p,1),p.m(t,s)):p&&(qe(),Ue(p,1,1,(()=>{p=null})),Be()),e[3]&&e[6].left?m?(m.p(e,r),72&r&&je(m,1)):(m=mZ(e),m.c(),je(m,1),m.m(t,null)):m&&(qe(),Ue(m,1,1,(()=>{m=null})),Be()),(!a||1&r)&&se(t,"can-select",!!e[0]),(!a||8&r)&&se(t,"selected",e[3]),(!a||4&r)&&se(t,"immediate-child-selected",e[2]),(!a||2&r)&&se(t,"some-child-selected",e[1])},i(e){a||(je(c),je($,e),je(p),je(m),a=!0)},o(e){Ue(c),Ue($,e),Ue(p),Ue(m),a=!1},d(e){e&&z(t),c&&c.d(),$&&$.d(e),p&&p.d(),m&&m.d(),i=!1,d(l)}}}function gZ(e,t,n){let r,o,s,i,l,c,u,d=a;e.$$.on_destroy.push((()=>d()));let{$$slots:$={},$$scope:p}=t;const m=k($);let{dataFormManager:f}=t,{element:h}=t;return e.$$set=e=>{"dataFormManager"in e&&n(7,f=e.dataFormManager),"element"in e&&n(8,h=e.element),"$$scope"in e&&n(11,p=e.$$scope)},e.$$.update=()=>{128&e.$$.dirty&&n(0,r=f instanceof uG?f:void 0),1&e.$$.dirty&&(n(4,o=Fo(r?r.selectedElement:void 0)),d(),d=g(o,(e=>n(10,u=e)))),1280&e.$$.dirty&&n(9,s=(()=>{if("field"===u?.type&&"field"===h.type){const e=u.field.container.parent===h.field,t=(()=>{let e=u.field.container.parent;for(;"container"in e;){if(e===h.field)return!0;e=e.container.parent}return!1})();return{isSelected:u.field===h.field,isImmediateChildSelected:e,isAnyChildSelected:t}}return{isSelected:u?.type===h.type,isImmediateChildSelected:!1,isAnyChildSelected:!1}})()),512&e.$$.dirty&&n(3,({isSelected:i,isImmediateChildSelected:l,isAnyChildSelected:c}=s),i,(n(2,l),n(9,s),n(10,u),n(8,h)),(n(1,c),n(9,s),n(10,u),n(8,h)))},[r,c,l,i,o,function(e){r&&(e.stopPropagation(),r.selectElement(h))},m,f,h,s,u,p,$]}class hZ extends ut{constructor(e){super(),ct(this,e,gZ,fZ,f,{dataFormManager:7,element:8})}}const yZ=e=>({fieldElementProps:136&e}),bZ=e=>({fieldElementProps:{isSelected:e[7],labelController:e[3]}});function vZ(e){let t;const n=e[5].default,r=b(n,e,e[6],bZ);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||200&o)&&_(r,n,e,e[6],t?w(n,e[6],o,yZ):x(e[6]),bZ)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function wZ(e){let t,n,r;return n=new rZ({props:{dataFormManager:e[0],dataFormField:e[1]}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","source-info svelte-yjgulb")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};1&t&&(r.dataFormManager=e[0]),2&t&&(r.dataFormField=e[1]),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function _Z(e){let t,n,r=e[0]instanceof uG&&wZ(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){e[0]instanceof uG?r?(r.p(e,n),1&n&&je(r,1)):(r=wZ(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function xZ(e){let t,n;return t=new WG({props:{dataFormManager:e[0],fieldHolder:e[1].container,insertionIndex:e[4]+1}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.dataFormManager=e[0]),2&n&&(r.fieldHolder=e[1].container),16&n&&(r.insertionIndex=e[4]+1),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function CZ(e){let t,n,r=e[0]instanceof uG&&xZ(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){e[0]instanceof uG?r?(r.p(e,n),1&n&&je(r,1)):(r=xZ(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function SZ(e){let t,n,r,o,s;const a=[wC];let i={};for(let c=0;c<a.length;c+=1)i=l(i,a[c]);return n=new Jd({props:i}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","grip svelte-yjgulb")},m(e,a){H(e,t,a),it(n,t,null),r=!0,o||(s=T(IG.call(null,t)),o=!0)},p(e,t){const r=0&t?rt(a,[ot(wC)]):{};n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n),o=!1,s()}}}function kZ(e){let t,n,r=e[0]instanceof uG&&SZ();return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){e[0]instanceof uG?r?(r.p(e,n),1&n&&je(r,1)):(r=SZ(),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function MZ(e){let t,n;return t=new hZ({props:{element:{type:"field",field:e[1]},dataFormManager:e[0],$$slots:{left:[kZ,({isSelected:e})=>({7:e}),({isSelected:e})=>e?128:0],footer:[CZ,({isSelected:e})=>({7:e}),({isSelected:e})=>e?128:0],header:[_Z,({isSelected:e})=>({7:e}),({isSelected:e})=>e?128:0],default:[vZ,({isSelected:e})=>({7:e}),({isSelected:e})=>e?128:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.element={type:"field",field:e[1]}),1&n&&(r.dataFormManager=e[0]),219&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function IZ(e,t,n){let r,o,s,i=a;e.$$.on_destroy.push((()=>i()));let{$$slots:l={},$$scope:c}=t,{dataFormManager:u}=t,{dataFormField:d}=t;return e.$$set=e=>{"dataFormManager"in e&&n(0,u=e.dataFormManager),"dataFormField"in e&&n(1,d=e.dataFormField),"$$scope"in e&&n(6,c=e.$$scope)},e.$$.update=()=>{2&e.$$.dirty&&n(3,r=new f$(d.key)),2&e.$$.dirty&&(n(2,({index:o}=d),o),i(),i=g(o,(e=>n(4,s=e))))},[u,d,o,r,s,l,c]}class TZ extends ut{constructor(e){super(),ct(this,e,IZ,MZ,f,{dataFormManager:0,dataFormField:1})}}function EZ(e){let t,n,r,o,s;const a=[e[0]];let i={};for(let d=0;d<a.length;d+=1)i=l(i,a[d]);n=new uX({props:i});const c=[e[0]];let u={};for(let d=0;d<c.length;d+=1)u=l(u,c[d]);return o=new kX({props:u}),{c(){t=q("div"),at(n.$$.fragment),r=U(),at(o.$$.fragment),X(t,"class","scalar-field svelte-1h7my7y")},m(e,a){H(e,t,a),it(n,t,null),F(t,r),it(o,t,null),s=!0},p(e,[t]){const r=1&t?rt(a,[ot(e[0])]):{};n.$set(r);const s=1&t?rt(c,[ot(e[0])]):{};o.$set(s)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(n),lt(o)}}}function DZ(e,t,n){let r,{isSelected:o}=t,{dataFormManager:s}=t,{dataFormField:a}=t,{labelController:i}=t;return e.$$set=e=>{"isSelected"in e&&n(1,o=e.isSelected),"dataFormManager"in e&&n(2,s=e.dataFormManager),"dataFormField"in e&&n(3,a=e.dataFormField),"labelController"in e&&n(4,i=e.labelController)},e.$$.update=()=>{30&e.$$.dirty&&n(0,r={dataFormManager:s,dataFormField:a,labelController:i,isSelected:o})},[r,o,s,a,i]}class OZ extends ut{constructor(e){super(),ct(this,e,DZ,EZ,f,{isSelected:1,dataFormManager:2,dataFormField:3,labelController:4})}}function NZ(e){let t,n;const r=[e[2],{dataFormManager:e[0]},{dataFormField:e[1]}];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new hX({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=7&n?rt(r,[4&n&&ot(e[2]),1&n&&{dataFormManager:e[0]},2&n&&{dataFormField:e[1]}]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function AZ(e){let t,n;const r=[e[2],{dataFormManager:e[0]},{dataFormField:e[1]}];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new WX({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=7&n?rt(r,[4&n&&ot(e[2]),1&n&&{dataFormManager:e[0]},2&n&&{dataFormField:e[1]}]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function RZ(e){let t,n;const r=[e[2],{dataFormManager:e[0]},{dataFormField:e[1]}];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new OZ({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=7&n?rt(r,[4&n&&ot(e[2]),1&n&&{dataFormManager:e[0]},2&n&&{dataFormField:e[1]}]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function FZ(e){let t,n,r,o;const s=[RZ,AZ,NZ],a=[];function i(e,t){return"scalar_column"===e[1].kind?0:"foreign_key"===e[1].kind?1:2}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function PZ(e){let t,n;return t=new TZ({props:{dataFormManager:e[0],dataFormField:e[1],$$slots:{default:[FZ,({fieldElementProps:e})=>({2:e}),({fieldElementProps:e})=>e?4:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.dataFormManager=e[0]),2&n&&(r.dataFormField=e[1]),15&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function LZ(e,t,n){let{dataFormManager:r}=t,{dataFormField:o}=t;return e.$$set=e=>{"dataFormManager"in e&&n(0,r=e.dataFormManager),"dataFormField"in e&&n(1,o=e.dataFormField)},[r,o]}class HZ extends ut{constructor(e){super(),ct(this,e,LZ,PZ,f,{dataFormManager:0,dataFormField:1})}}function zZ(e,t,n){const r=e.slice();return r[5]=t[n],r}function VZ(e){let t,n,r=e[0]instanceof uG&&qZ(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){e[0]instanceof uG?r?(r.p(e,n),1&n&&je(r,1)):(r=qZ(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function qZ(e){let t,n,r,o;return n=new WG({props:{display:"full",dataFormManager:e[0],fieldHolder:e[1],insertionIndex:e[2].length}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),X(t,"class","empty-fields-state svelte-cw9er2")},m(e,s){H(e,t,s),it(n,t,null),F(t,r),o=!0},p(e,t){const r={};1&t&&(r.dataFormManager=e[0]),2&t&&(r.fieldHolder=e[1]),4&t&&(r.insertionIndex=e[2].length),n.$set(r)},i(e){o||(je(n.$$.fragment,e),o=!0)},o(e){Ue(n.$$.fragment,e),o=!1},d(e){e&&z(t),lt(n)}}}function BZ(e,t){let n,r,o;return r=new HZ({props:{dataFormManager:t[0],dataFormField:t[5]}}),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};1&n&&(o.dataFormManager=t[0]),4&n&&(o.dataFormField=t[5]),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function jZ(e){let t,n,r,o,s,a=[],i=new Map,l=e[2];const c=e=>e[5].key;for(let d=0;d<l.length;d+=1){let t=zZ(e,l,d),n=c(t);i.set(n,a[d]=BZ(n,t))}let u=null;return l.length||(u=VZ(e)),{c(){t=q("div");for(let e=0;e<a.length;e+=1)a[e].c();u&&u.c(),X(t,"class","fields-container svelte-cw9er2")},m(i,l){H(i,t,l);for(let e=0;e<a.length;e+=1)a[e].m(t,null);u&&u.m(t,null),r=!0,o||(s=T(n=kG.call(null,t,{getItems:e[3],onSort:e[4]})),o=!0)},p(e,[r]){7&r&&(l=e[2],qe(),a=nt(a,r,c,1,e,l,i,t,et,BZ,null,zZ),Be(),!l.length&&u?u.p(e,r):l.length?u&&(qe(),Ue(u,1,1,(()=>{u=null})),Be()):(u=VZ(e),u.c(),je(u,1),u.m(t,null))),n&&$(n.update)&&2&r&&n.update.call(null,{getItems:e[3],onSort:e[4]})},i(e){if(!r){for(let e=0;e<l.length;e+=1)je(a[e]);r=!0}},o(e){for(let t=0;t<a.length;t+=1)Ue(a[t]);r=!1},d(e){e&&z(t);for(let t=0;t<a.length;t+=1)a[t].d();u&&u.d(),o=!1,s()}}}function UZ(e,t,n){let r,o=a,s=()=>(o(),o=g(l,(e=>n(2,r=e))),l);e.$$.on_destroy.push((()=>o()));let{dataFormManager:i}=t,{fields:l}=t;s();return e.$$set=e=>{"dataFormManager"in e&&n(0,i=e.dataFormManager),"fields"in e&&s(n(1,l=e.fields))},[i,l,r,()=>[...h(l)],e=>l.rearrange(e)]}class WZ extends ut{constructor(e){super(),ct(this,e,UZ,jZ,f,{dataFormManager:0,fields:1})}}function YZ(e){let t,n,r=e[0]("view_details")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","header")},m(e,r){H(e,t,r),F(t,n)},p(e,t){1&t&&r!==(r=e[0]("view_details")+"")&&Q(n,r)},d(e){e&&z(t)}}}function KZ(e){let t,n,r;return n=new WP({props:{errorStrings:e[9]}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"slot","content")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};512&t&&(r.errorStrings=e[9]),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function GZ(e){let t,n,r,o,s,a,i=e[0]("error_submitting_form")+"";return s=new om({props:{triggerAppearance:"ghost",$$slots:{content:[KZ],header:[YZ]},$$scope:{ctx:e}}}),{c(){t=q("div"),n=j(i),r=U(),o=q("div"),at(s.$$.fragment),X(o,"class","error-detail svelte-12uitre")},m(e,i){H(e,t,i),F(t,n),H(e,r,i),H(e,o,i),it(s,o,null),a=!0},p(e,t){(!a||1&t)&&i!==(i=e[0]("error_submitting_form")+"")&&Q(n,i);const r={};1537&t&&(r.$$scope={dirty:t,ctx:e}),s.$set(r)},i(e){a||(je(s.$$.fragment,e),a=!0)},o(e){Ue(s.$$.fragment,e),a=!1},d(e){e&&z(t),e&&z(r),e&&z(o),lt(s)}}}function XZ(e){let t,n,r;return n=new HP({props:{fullWidth:!0,$$slots:{default:[GZ]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","error-container"),X(t,"slot","errors")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};1537&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function ZZ(e){let t,n,r;return n=new QL({props:{form:e[1],catchErrors:!0,onProceed:e[5],proceedButton:{label:e[2],icon:void 0,type:"submit"},cancelButton:{label:e[0]("clear_form")},$$slots:{errors:[XZ,({errors:e})=>({9:e}),({errors:e})=>e?512:0]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","submit-buttons svelte-12uitre")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,[t]){const r={};2&t&&(r.form=e[1]),4&t&&(r.proceedButton={label:e[2],icon:void 0,type:"submit"}),1&t&&(r.cancelButton={label:e[0]("clear_form")}),1537&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function JZ(e,t,n){let r,o,s,i,l,c,u,d=a,$=a;y(e,no,(e=>n(0,c=e))),e.$$.on_destroy.push((()=>d())),e.$$.on_destroy.push((()=>$()));let{dataFormManager:p}=t;return e.$$set=e=>{"dataFormManager"in e&&n(6,p=e.dataFormManager)},e.$$.update=()=>{64&e.$$.dirty&&(n(4,({submitButtonLabel:r,formHolder:o}=p.dataFormStructure),r,(n(3,o),d(),d=g(o,(e=>n(7,l=e))),o)),$(),$=g(r,(e=>n(8,u=e)))),257&e.$$.dirty&&n(2,s=u?.trim()||c("submit")),128&e.$$.dirty&&n(1,i=l)},[c,i,s,o,r,async function(){p instanceof cG&&await p.submit()},p,l,u]}class QZ extends ut{constructor(e){super(),ct(this,e,JZ,ZZ,f,{dataFormManager:6})}}function eJ(e){let t,n,r;return n=new hZ({props:{element:{type:"name"},dataFormManager:e[0],$$slots:{default:[rJ]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","title-container svelte-1rnvkhv")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};1&t&&(r.dataFormManager=e[0]),8458&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function tJ(e){let t,n;return{c(){t=q("h1"),n=j(e[3]),X(t,"class","form-title svelte-1rnvkhv")},m(e,r){H(e,t,r),F(t,n)},p(e,t){8&t&&Q(n,e[3])},d(e){e&&z(t)}}}function nJ(e){let t,n,r,o;return{c(){t=q("input"),X(t,"class","form-title svelte-1rnvkhv"),X(t,"type","text"),X(t,"placeholder",n=e[8]("name")),t.value=e[3]},m(n,s){H(n,t,s),r||(o=[Y(t,"input",e[9]),Y(t,"blur",e[11])],r=!0)},p(e,r){256&r&&n!==(n=e[8]("name"))&&X(t,"placeholder",n),8&r&&t.value!==e[3]&&(t.value=e[3])},d(e){e&&z(t),r=!1,d(o)}}}function rJ(e){let t,n;function r(e,n){return 8&n&&(t=null),e[1]?nJ:(null==t&&(t=!!e[3].trim()),t?tJ:void 0)}let o=r(e,-1),s=o&&o(e);return{c(){s&&s.c(),n=W()},m(e,t){s&&s.m(e,t),H(e,n,t)},p(e,t){o===(o=r(e,t))&&s?s.p(e,t):(s&&s.d(1),s=o&&o(e),s&&(s.c(),s.m(n.parentNode,n)))},d(e){s&&s.d(e),e&&z(n)}}}function oJ(e){let t,n,r;return n=new hZ({props:{element:{type:"description"},dataFormManager:e[0],$$slots:{default:[iJ]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","desc-container svelte-1rnvkhv")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};1&t&&(r.dataFormManager=e[0]),8454&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function sJ(e){let t,n;return{c(){t=q("div"),n=j(e[2]),X(t,"class","form-description-static svelte-1rnvkhv")},m(e,r){H(e,t,r),F(t,n)},p(e,t){4&t&&Q(n,e[2])},i:a,o:a,d(e){e&&z(t)}}}function aJ(e){let t,n,r;return n=new $F({props:{placeholder:e[8]("description"),type:"text",value:e[2]??""}}),n.$on("input",e[10]),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","form-description svelte-1rnvkhv")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};256&t&&(r.placeholder=e[8]("description")),4&t&&(r.value=e[2]??""),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function iJ(e){let t,n,r,o,s;const a=[aJ,sJ],i=[];function l(e,n){return 4&n&&(t=null),e[1]?0:(null==t&&(t=!!e[2]?.trim()),t?1:-1)}return~(n=l(e,-1))&&(r=i[n]=a[n](e)),{c(){r&&r.c(),o=W()},m(e,t){~n&&i[n].m(e,t),H(e,o,t),s=!0},p(e,t){let s=n;n=l(e,t),n===s?~n&&i[n].p(e,t):(r&&(qe(),Ue(i[s],1,1,(()=>{i[s]=null})),Be()),~n?(r=i[n],r?r.p(e,t):(r=i[n]=a[n](e),r.c()),je(r,1),r.m(o.parentNode,o)):r=null)},i(e){s||(je(r),s=!0)},o(e){Ue(r),s=!1},d(e){~n&&i[n].d(e),e&&z(o)}}}function lJ(e){let t,n,r,o=e[5]&&eJ(e),s=e[4]&&oJ(e);return{c(){t=q("div"),o&&o.c(),n=U(),s&&s.c(),X(t,"class","header svelte-1rnvkhv")},m(e,a){H(e,t,a),o&&o.m(t,null),F(t,n),s&&s.m(t,null),r=!0},p(e,[r]){e[5]?o?(o.p(e,r),32&r&&je(o,1)):(o=eJ(e),o.c(),je(o,1),o.m(t,n)):o&&(qe(),Ue(o,1,1,(()=>{o=null})),Be()),e[4]?s?(s.p(e,r),16&r&&je(s,1)):(s=oJ(e),s.c(),je(s,1),s.m(t,null)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be())},i(e){r||(je(o),je(s),r=!0)},o(e){Ue(o),Ue(s),r=!1},d(e){e&&z(t),o&&o.d(),s&&s.d()}}}function cJ(e,t,n){let r,o,s,i,l,c,u,d,$,p=a,m=a;y(e,no,(e=>n(8,$=e))),e.$$.on_destroy.push((()=>p())),e.$$.on_destroy.push((()=>m()));let{dataFormManager:f}=t;return e.$$set=e=>{"dataFormManager"in e&&n(0,f=e.dataFormManager)},e.$$.update=()=>{1&e.$$.dirty&&n(12,({dataFormStructure:r}=f),r),4096&e.$$.dirty&&(n(7,({name:o,description:s}=r),o,(n(6,s),p(),p=g(s,(e=>n(2,u=e))),s)),m(),m=g(o,(e=>n(3,d=e)))),1&e.$$.dirty&&n(1,i=f instanceof uG?f:void 0),10&e.$$.dirty&&n(5,l=!!i||d.trim()),6&e.$$.dirty&&n(4,c=!!i||u?.trim())},[f,i,u,d,c,l,s,o,$,function(e){if(i){const t=Wo(e);r.setName(t)}},function(e){if(i){const t=Wo(e);r.setDescription(t)}},async function(){i&&await i.checkAndSetDefaultFormName()},r]}class uJ extends ut{constructor(e){super(),ct(this,e,cJ,lJ,f,{dataFormManager:0})}}function dJ(e){let t,n;return t=new Hu({props:{$$slots:{default:[pJ]},$$scope:{ctx:e}}}),t.$on("click",e[8]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1026&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function $J(e){let t,n,r,o,s,a,i=e[1]("click_on_link_if_not_redirected")+"";return n=new Rx({props:{text:e[1]("you_will_be_redirected_to_link"),$$slots:{default:[fJ,({slotName:e})=>({9:e}),({slotName:e})=>e?512:0]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),o=q("div"),s=j(i),X(o,"class","link-help svelte-1uera56")},m(e,i){H(e,t,i),it(n,t,null),H(e,r,i),H(e,o,i),F(o,s),a=!0},p(e,t){const r={};2&t&&(r.text=e[1]("you_will_be_redirected_to_link")),1540&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r),(!a||2&t)&&i!==(i=e[1]("click_on_link_if_not_redirected")+"")&&Q(s,i)},i(e){a||(je(n.$$.fragment,e),a=!0)},o(e){Ue(n.$$.fragment,e),a=!1},d(e){e&&z(t),lt(n),e&&z(r),e&&z(o)}}}function pJ(e){let t,n=e[1]("submit_another_response")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){2&r&&n!==(n=e[1]("submit_another_response")+"")&&Q(t,n)},d(e){e&&z(t)}}}function mJ(e){let t,n;return{c(){t=q("a"),n=j(e[2]),X(t,"href",e[2])},m(e,r){H(e,t,r),F(t,n)},p(e,r){4&r&&Q(n,e[2]),4&r&&X(t,"href",e[2])},d(e){e&&z(t)}}}function fJ(e){let t,n="redirectUrl"===e[9]&&mJ(e);return{c(){n&&n.c(),t=W()},m(e,r){n&&n.m(e,r),H(e,t,r)},p(e,r){"redirectUrl"===e[9]?n?n.p(e,r):(n=mJ(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&z(t)}}}function gJ(e){let t,n,r,o,s,a,i,l;const c=[$J,dJ],u=[];function d(e,t){return e[2]?0:1}return a=d(e),i=u[a]=c[a](e),{c(){t=q("div"),n=q("div"),r=j(e[3]),o=U(),s=q("div"),i.c(),X(n,"class","message svelte-1uera56"),X(s,"class","actions svelte-1uera56"),X(t,"class","post-submit svelte-1uera56")},m(e,i){H(e,t,i),F(t,n),F(n,r),F(t,o),F(t,s),u[a].m(s,null),l=!0},p(e,[t]){(!l||8&t)&&Q(r,e[3]);let n=a;a=d(e),a===n?u[a].p(e,t):(qe(),Ue(u[n],1,1,(()=>{u[n]=null})),Be(),i=u[a],i?i.p(e,t):(i=u[a]=c[a](e),i.c()),je(i,1),i.m(s,null))},i(e){l||(je(i),l=!0)},o(e){Ue(i),l=!1},d(e){e&&z(t),u[a].d()}}}function hJ(e,t,n){let r,o,s,i,l,c,u,d=a,$=a;y(e,no,(e=>n(1,c=e))),e.$$.on_destroy.push((()=>d())),e.$$.on_destroy.push((()=>$()));let{dataFormManager:p}=t;fe((()=>{const e=setTimeout((()=>{i&&(window.location.href=i)}),3e3);return()=>clearTimeout(e)}));return e.$$set=e=>{"dataFormManager"in e&&n(0,p=e.dataFormManager)},e.$$.update=()=>{1&e.$$.dirty&&(n(5,({submitMessage:r,submitRedirectUrl:o}=p.dataFormStructure),r,(n(4,o),d(),d=g(o,(e=>n(6,l=e))),o)),$(),$=g(r,(e=>n(7,u=e)))),130&e.$$.dirty&&n(3,s=u?.text.trim()??c("thank_you_for_submitting_form")),64&e.$$.dirty&&n(2,i=(()=>{let e=l?.trim();return e?(e.startsWith("http://")||e.startsWith("https://")||(e=`http://${e}`),e):null})())},[p,c,i,s,o,r,l,u,()=>p.submitAnother()]}class yJ extends ut{constructor(e){super(),ct(this,e,hJ,gJ,f,{dataFormManager:0})}}function bJ(e){let t,n,r,o,s,a;return t=new uJ({props:{dataFormManager:e[0]}}),r=new WZ({props:{fields:e[4],dataFormManager:e[0]}}),s=new QZ({props:{dataFormManager:e[0]}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),at(s.$$.fragment)},m(e,i){it(t,e,i),H(e,n,i),it(r,e,i),H(e,o,i),it(s,e,i),a=!0},p(e,n){const o={};1&n&&(o.dataFormManager=e[0]),t.$set(o);const a={};16&n&&(a.fields=e[4]),1&n&&(a.dataFormManager=e[0]),r.$set(a);const i={};1&n&&(i.dataFormManager=e[0]),s.$set(i)},i(e){a||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),a=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),a=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),lt(s,e)}}}function vJ(e){let t,n;return t=new yJ({props:{dataFormManager:e[2]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.dataFormManager=e[2]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function wJ(e){let t,n,r;return n=new fG({}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","branding svelte-o3xw76")},m(e,o){H(e,t,o),it(n,t,null),r=!0},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function _J(e){let t,n,r,o,s,a,i;const c=[vJ,bJ],u=[];function d(e,t){return e[2]&&e[5]?0:1}n=d(e),r=u[n]=c[n](e);let $=e[1]&&wJ(),p=[{class:"data-form svelte-o3xw76"}],m={};for(let f=0;f<p.length;f+=1)m=l(m,p[f]);return{c(){t=q(e[2]?"form":"div"),r.c(),o=U(),$&&$.c(),Z(t,m)},m(r,l){H(r,t,l),u[n].m(t,null),F(t,o),$&&$.m(t,null),s=!0,a||(i=Y(t,"submit",K(e[6])),a=!0)},p(e,s){let a=n;n=d(e),n===a?u[n].p(e,s):(qe(),Ue(u[a],1,1,(()=>{u[a]=null})),Be(),r=u[n],r?r.p(e,s):(r=u[n]=c[n](e),r.c()),je(r,1),r.m(t,o)),e[1]?$?2&s&&je($,1):($=wJ(),$.c(),je($,1),$.m(t,null)):$&&(qe(),Ue($,1,1,(()=>{$=null})),Be()),Z(t,m=rt(p,[{class:"data-form svelte-o3xw76"}]))},i(e){s||(je(r),je($),s=!0)},o(e){Ue(r),Ue($),s=!1},d(e){e&&z(t),u[n].d(),$&&$.d(),a=!1,i()}}}function xJ(e){let t,n=e[2]?"form":"div",r=(e[2]?"form":"div")&&_J(e);return{c(){r&&r.c(),t=W()},m(e,n){r&&r.m(e,n),H(e,t,n)},p(e,[o]){e[2]||"div"?n?f(n,e[2]?"form":"div")?(r.d(1),r=_J(e),r.c(),r.m(t.parentNode,t)):r.p(e,o):(r=_J(e),r.c(),r.m(t.parentNode,t)):n&&(r.d(1),r=null),n=e[2]?"form":"div"},i:a,o(e){Ue(r)},d(e){e&&z(t),r&&r.d(e)}}}function CJ(e,t,n){let r,o,s,i,l=a;e.$$.on_destroy.push((()=>l()));let{dataFormManager:c}=t,{showBranding:u=!0}=t;return e.$$set=e=>{"dataFormManager"in e&&n(0,c=e.dataFormManager),"showBranding"in e&&n(1,u=e.showBranding)},e.$$.update=()=>{1&e.$$.dirty&&n(4,({fields:r}=c.dataFormStructure),r),1&e.$$.dirty&&n(2,o=c instanceof cG?c:void 0),4&e.$$.dirty&&(n(3,s=Fo(o?.isSuccessfullySubmitted)),l(),l=g(s,(e=>n(5,i=e))))},[c,u,o,s,r,i,function(t){_e.call(this,e,t)}]}class SJ extends ut{constructor(e){super(),ct(this,e,CJ,xJ,f,{dataFormManager:0,showBranding:1})}}const kJ=e=>({}),MJ=e=>({});function IJ(e){let t,n;return t=new Eu({props:{"aria-label":e[3]("help"),class:"help-trigger",allowHover:!0,$$slots:{content:[EJ],trigger:[TJ]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8&n&&(r["aria-label"]=e[3]("help")),72&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function TJ(e){let t,n;const r=[{slot:"trigger"},IC];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[r[0],ot(IC)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function EJ(e){let t,n,r=e[3]("section_affects_postgresql_config")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","content")},m(e,r){H(e,t,r),F(t,n)},p(e,t){8&t&&r!==(r=e[3]("section_affects_postgresql_config")+"")&&Q(n,r)},d(e){e&&z(t)}}}function DJ(e){let t,n,r,o;const s=e[4].title,a=b(s,e,e[6],MJ),i=a||function(e){let t;return{c(){t=j(e[1])},m(e,n){H(e,t,n)},p(e,n){2&n&&Q(t,e[1])},d(e){e&&z(t)}}}(e);let l=e[2]&&IJ(e);return{c(){t=q("div"),n=q("div"),i&&i.c(),r=U(),l&&l.c(),X(t,"slot","header"),X(t,"class","header svelte-z7q63k")},m(e,s){H(e,t,s),F(t,n),i&&i.m(n,null),F(t,r),l&&l.m(t,null),o=!0},p(e,n){a?a.p&&(!o||64&n)&&_(a,s,e,e[6],o?w(s,e[6],n,kJ):x(e[6]),MJ):i&&i.p&&(!o||2&n)&&i.p(e,o?n:-1),e[2]?l?(l.p(e,n),4&n&&je(l,1)):(l=IJ(e),l.c(),je(l,1),l.m(t,null)):l&&(qe(),Ue(l,1,1,(()=>{l=null})),Be())},i(e){o||(je(i,e),je(l),o=!0)},o(e){Ue(i,e),Ue(l),o=!1},d(e){e&&z(t),i&&i.d(e),l&&l.d()}}}function OJ(e){let t,n;const r=e[4].default,o=b(r,e,e[6],null);return{c(){t=q("div"),o&&o.c(),X(t,"slot","content"),X(t,"class","content svelte-z7q63k")},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||64&t)&&_(o,r,e,e[6],n?w(r,e[6],t,null):x(e[6]),null)},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function NJ(e){let t,n,r,o;function s(t){e[5](t)}let a={triggerAppearance:"default",$$slots:{content:[OJ],header:[DJ]},$$scope:{ctx:e}};return void 0!==e[0]&&(a.isOpen=e[0]),n=new om({props:a}),Ce.push((()=>st(n,"isOpen",s))),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","inspector-section")},m(e,r){H(e,t,r),it(n,t,null),o=!0},p(e,[t]){const o={};78&t&&(o.$$scope={dirty:t,ctx:e}),!r&&1&t&&(r=!0,o.isOpen=e[0],Oe((()=>r=!1))),n.$set(o)},i(e){o||(je(n.$$.fragment,e),o=!0)},o(e){Ue(n.$$.fragment,e),o=!1},d(e){e&&z(t),lt(n)}}}function AJ(e,t,n){let r;y(e,no,(e=>n(3,r=e)));let{$$slots:o={},$$scope:s}=t,{title:a}=t,{isDbLevelConfiguration:i=!1}=t,{isOpen:l=!0}=t;return e.$$set=e=>{"title"in e&&n(1,a=e.title),"isDbLevelConfiguration"in e&&n(2,i=e.isDbLevelConfiguration),"isOpen"in e&&n(0,l=e.isOpen),"$$scope"in e&&n(6,s=e.$$scope)},[l,a,i,r,o,function(e){l=e,n(0,l)},s]}class RJ extends ut{constructor(e){super(),ct(this,e,AJ,NJ,f,{title:1,isDbLevelConfiguration:2,isOpen:0})}}function FJ(e){let t,n;const r=e[1].default,o=b(r,e,e[0],null);return{c(){t=q("div"),o&&o.c(),X(t,"class","inspector-tab-content svelte-1dinxed")},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&_(o,r,e,e[0],n?w(r,e[0],t,null):x(e[0]),null)},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function PJ(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,r]}class LJ extends ut{constructor(e){super(),ct(this,e,PJ,FJ,f,{})}}function HJ(e){let t,n;return t=new J$({props:{layout:"stacked",label:e[6]("size"),$$slots:{default:[zJ]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.label=e[6]("size")),65603&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function zJ(e){let t,n;return t=new $y({props:{value:e[1],options:e[8],getLabel:e[12]}}),t.$on("change",e[13]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.value=e[1]),64&n&&(r.getLabel=e[12]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function VJ(e){let t,n;return t=new x$({props:{checked:_o(e[7]),disabled:e[5]}}),t.$on("change",e[14]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};128&n&&(r.checked=_o(e[7])),32&n&&(r.disabled=e[5]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function qJ(e){let t,n;return t=new ym({props:{value:e[7],disabled:e[5],placeholder:e[6]("field_add_help_text")}}),t.$on("input",e[15]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};128&n&&(r.value=e[7]),32&n&&(r.disabled=e[5]),64&n&&(r.placeholder=e[6]("field_add_help_text")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function BJ(e){let t,n,r,o,s,a=_o(e[7]),i=e[2]&&HJ(e);r=new J$({props:{layout:"inline-input-first",label:e[6]("field_provide_help_text"),$$slots:{default:[VJ]},$$scope:{ctx:e}}});let l=a&&qJ(e);return{c(){t=q("section"),i&&i.c(),n=U(),at(r.$$.fragment),o=U(),l&&l.c(),X(t,"class","appearance svelte-168lqp1")},m(e,a){H(e,t,a),i&&i.m(t,null),F(t,n),it(r,t,null),F(t,o),l&&l.m(t,null),s=!0},p(e,o){e[2]?i?(i.p(e,o),4&o&&je(i,1)):(i=HJ(e),i.c(),je(i,1),i.m(t,n)):i&&(qe(),Ue(i,1,1,(()=>{i=null})),Be());const s={};64&o&&(s.label=e[6]("field_provide_help_text")),65697&o&&(s.$$scope={dirty:o,ctx:e}),r.$set(s),128&o&&(a=_o(e[7])),a?l?(l.p(e,o),128&o&&je(l,1)):(l=qJ(e),l.c(),je(l,1),l.m(t,null)):l&&(qe(),Ue(l,1,1,(()=>{l=null})),Be())},i(e){s||(je(i),je(r.$$.fragment,e),je(l),s=!0)},o(e){Ue(i),Ue(r.$$.fragment,e),Ue(l),s=!1},d(e){e&&z(t),i&&i.d(),lt(r),l&&l.d()}}}function jJ(e){let t,n;return t=new RJ({props:{title:e[6]("presentation"),$$slots:{default:[BJ]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};64&n&&(r.title=e[6]("presentation")),65767&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function UJ(e,t,n){let r,o,s,i,l,c,u,d,$,p,m=a,f=a;y(e,no,(e=>n(6,$=e))),e.$$.on_destroy.push((()=>m())),e.$$.on_destroy.push((()=>f()));let{field:h}=t;return e.$$set=e=>{"field"in e&&n(0,h=e.field)},e.$$.update=()=>{1&e.$$.dirty&&n(5,r=h instanceof jK),1&e.$$.dirty&&(n(4,({styling:o,kind:s,help:i}=h),o,(n(10,s),n(0,h)),(n(3,i),f(),f=g(i,(e=>n(7,p=e))),i)),m(),m=g(o,(e=>n(11,d=e)))),1&e.$$.dirty&&n(9,l="fieldColumn"in h?h:void 0),1536&e.$$.dirty&&n(2,c="scalar_column"===s&&"string"===l?.fieldColumn.abstractType.cellInfo.type),2048&e.$$.dirty&&n(1,u=d?.size??"regular")},[h,u,c,i,o,r,$,p,["regular","large"],l,s,d,e=>_o(e)?$("regular"===e?"regular":"large"):"",e=>h.updateStyling({size:e.detail}),e=>h.setHelpText(e.detail?"":null),e=>{h.setHelpText(Wo(e))}]}class WJ extends ut{constructor(e){super(),ct(this,e,UJ,jJ,f,{field:0})}}function YJ(e){let t,n;return t=new x$({props:{checked:e[2],disabled:e[1]}}),t.$on("change",e[7]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.checked=e[2]),2&n&&(r.disabled=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function KJ(e){let t,n;return t=new H$({props:{$$slots:{default:[GJ]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};272&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function GJ(e){let t,n=e[4]("field_marked_required_column_disallows_null")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){16&r&&n!==(n=e[4]("field_marked_required_column_disallows_null")+"")&&Q(t,n)},d(e){e&&z(t)}}}function XJ(e){let t,n,r,o,s=e[4]("field_validation_mark_as_required")+"",a=e[1]&&KJ(e);return{c(){t=q("span"),n=j(s),r=U(),a&&a.c(),X(t,"slot","label")},m(e,s){H(e,t,s),F(t,n),F(t,r),a&&a.m(t,null),o=!0},p(e,r){(!o||16&r)&&s!==(s=e[4]("field_validation_mark_as_required")+"")&&Q(n,s),e[1]?a?(a.p(e,r),2&r&&je(a,1)):(a=KJ(e),a.c(),je(a,1),a.m(t,null)):a&&(qe(),Ue(a,1,1,(()=>{a=null})),Be())},i(e){o||(je(a),o=!0)},o(e){Ue(a),o=!1},d(e){e&&z(t),a&&a.d()}}}function ZJ(e){let t,n;return t=new J$({props:{layout:"inline-input-first",$$slots:{label:[XJ],default:[YJ]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};279&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function JJ(e,t,n){let r,o,s,i,l,c,u=a;y(e,no,(e=>n(4,c=e))),e.$$.on_destroy.push((()=>u()));let{field:d}=t;return e.$$set=e=>{"field"in e&&n(0,d=e.field)},e.$$.update=()=>{1&e.$$.dirty&&n(5,({fieldColumn:r,isRequired:o}=d),r,(n(3,o),u(),u=g(o,(e=>n(6,l=e))),o)),32&e.$$.dirty&&n(1,s=!r.column.nullable),66&e.$$.dirty&&n(2,i=s||l)},[d,s,i,o,c,r,l,e=>d.setIsRequired(e.detail)]}class QJ extends ut{constructor(e){super(),ct(this,e,JJ,ZJ,f,{field:0})}}function eQ(e){let t;const n=e[1].default,r=b(n,e,e[2],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||4&o)&&_(r,n,e,e[2],t?w(n,e[2],o,null):x(e[2]),null)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function tQ(e){let t,n,r;const o=[{icon:Nd},e[0],{fullWidth:!0}];let s={$$slots:{default:[eQ]},$$scope:{ctx:e}};for(let a=0;a<o.length;a+=1)s=l(s,o[a]);return n=new RP({props:s}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","info-box svelte-1hy4bpx")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,[t]){const r=1&t?rt(o,[0&t&&{icon:Nd},1&t&&ot(e[0]),o[2]]):{};4&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function nQ(e,t,n){const r=[];let o=S(t,r),{$$slots:s={},$$scope:a}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(0,o=S(t,r)),"$$scope"in e&&n(2,a=e.$$scope)},[o,s,a]}class rQ extends ut{constructor(e){super(),ct(this,e,nQ,tQ,f,{})}}function oQ(e){let t,n;return t=new hL({props:{errors:[e[1].error??e[3]("unknown_error")]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};10&n&&(r.errors=[e[1].error??e[3]("unknown_error")]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function sQ(e){let t,n;return t=new BH({props:{recordSummary:e[2]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.recordSummary=e[2]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function aQ(e){let t,n;return t=new t$({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function iQ(e){let t,n;return t=new bx({props:{$$slots:{default:[lQ]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};257&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function lQ(e){let t,n=e[0].name+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1&r&&n!==(n=e[0].name+"")&&Q(t,n)},d(e){e&&z(t)}}}function cQ(e){let t,n,r="tableName"===e[7]&&iQ(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"tableName"===e[7]?r?(r.p(e,n),128&n&&je(r,1)):(r=iQ(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function uQ(e){let t,n,r,o,s,a;const i=[aQ,sQ,oQ],l=[];function c(e,t){return e[1].isLoading?0:void 0!==e[2]?1:2}return t=c(e),n=l[t]=i[t](e),s=new Rx({props:{text:e[3]("record_summary_preview_help"),$$slots:{default:[cQ,({slotName:e})=>({7:e}),({slotName:e})=>e?128:0]},$$scope:{ctx:e}}}),{c(){n.c(),r=U(),o=q("div"),at(s.$$.fragment),X(o,"class","help svelte-1lle12y")},m(e,n){l[t].m(e,n),H(e,r,n),H(e,o,n),it(s,o,null),a=!0},p(e,o){let a=t;t=c(e),t===a?l[t].p(e,o):(qe(),Ue(l[a],1,1,(()=>{l[a]=null})),Be(),n=l[t],n?n.p(e,o):(n=l[t]=i[t](e),n.c()),je(n,1),n.m(r.parentNode,r));const u={};8&o&&(u.text=e[3]("record_summary_preview_help")),385&o&&(u.$$scope={dirty:o,ctx:e}),s.$set(u)},i(e){a||(je(n),je(s.$$.fragment,e),a=!0)},o(e){Ue(n),Ue(s.$$.fragment,e),a=!1},d(e){l[t].d(e),e&&z(r),e&&z(o),lt(s)}}}function dQ(e){let t,n;return t=new _p({props:{label:e[3]("preview"),boxed:!0,$$slots:{default:[uQ]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};8&n&&(r.label=e[3]("preview")),271&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function $Q(e,t,n){let r,o,s;y(e,no,(e=>n(3,s=e)));const a=new qF(PM.records.get);y(e,a,(e=>n(1,o=e)));let{template:i}=t,{table:l}=t,{recordId:c}=t;return e.$$set=e=>{"template"in e&&n(5,i=e.template),"table"in e&&n(0,l=e.table),"recordId"in e&&n(6,c=e.recordId)},e.$$.update=()=>{97&e.$$.dirty&&a.run({database_id:l.schema.database.id,table_oid:l.oid,return_record_summaries:!0,record_id:c,table_record_summary_templates:{[l.oid]:i}}),66&e.$$.dirty&&n(2,r=o.resolvedValue?.record_summaries?.[String(c)])},[l,o,r,s,a,i,c]}class pQ extends ut{constructor(e){super(),ct(this,e,$Q,dQ,f,{template:5,table:0,recordId:6})}}function mQ(e){let t,n,r;const o=[aS];let s={};for(let a=0;a<o.length;a+=1)s=l(s,o[a]);return n=new Jd({props:s}),{c(){t=q("span"),at(n.$$.fragment),X(t,"class","field-delimiter svelte-1nx6tn9")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,[t]){const r=0&t?rt(o,[ot(aS)]):{};n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}class fQ extends ut{constructor(e){super(),ct(this,e,null,mQ,f,{})}}const gQ=e=>({}),hQ=e=>({});function yQ(e){let t,n;const r=e[5].empty,o=b(r,e,e[8],hQ);return{c(){t=q("div"),o&&o.c(),X(t,"class","empty svelte-1n6eca3")},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||256&t)&&_(o,r,e,e[8],n?w(r,e[8],t,gQ):x(e[8]),hQ)},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function bQ(e){let t,n;return t=new qV({props:{processedColumn:e[9]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};512&n&&(r.processedColumn=e[9]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function vQ(e){let t,n,r,o;const s=[bQ,yQ],a=[];function i(e,t){return e[9]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function wQ(e){let t,n,r;const o=[{options:[...e[3]?[void 0]:[],...e[1]]},{labelKey:"name"},{valuesAreEqual:_Q},e[4]];function s(t){e[6](t)}let a={$$slots:{default:[vQ,({option:e})=>({9:e}),({option:e})=>e?512:0]},$$scope:{ctx:e}};for(let i=0;i<o.length;i+=1)a=l(a,o[i]);return void 0!==e[0]&&(a.value=e[0]),t=new $y({props:a}),Ce.push((()=>st(t,"value",s))),t.$on("change",e[7]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,[r]){const s=26&r?rt(o,[10&r&&{options:[...e[3]?[void 0]:[],...e[1]]},o[1],o[2],16&r&&ot(e[4])]):{};768&r&&(s.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,s.value=e[0],Oe((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}const _Q=(e,t)=>e?.id===t?.id;function xQ(e,t,n){const r=["columns","value","onUpdate","allowEmpty"];let o=S(t,r),{$$slots:s={},$$scope:a}=t,{columns:i}=t,{value:c}=t,{onUpdate:u}=t,{allowEmpty:d=!1}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(4,o=S(t,r)),"columns"in e&&n(1,i=e.columns),"value"in e&&n(0,c=e.value),"onUpdate"in e&&n(2,u=e.onUpdate),"allowEmpty"in e&&n(3,d=e.allowEmpty),"$$scope"in e&&n(8,a=e.$$scope)},[c,i,u,d,o,s,function(e){c=e,n(0,c)},({detail:e})=>u?.(e),a]}class CQ extends ut{constructor(e){super(),ct(this,e,xQ,wQ,f,{columns:1,value:0,onUpdate:2,allowEmpty:3})}}function SQ(e){let t,n;return t=new FQ({props:{schema:e[0],columnIds:e[1],columns:e[6],onUpdate:e[2]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.schema=e[0]),2&n&&(r.columnIds=e[1]),64&n&&(r.columns=e[6]),4&n&&(r.onUpdate=e[2]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function kQ(e){let t,n,r;return n=new t$({}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","loading svelte-gdtm7d")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p:a,i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function MQ(e){let t,n,r,o;const s=[kQ,SQ],a=[];function i(e,t){return e[5]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,[o]){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function IQ(e,t,n){let r,o,s,i,l=a,c=a;e.$$.on_destroy.push((()=>l())),e.$$.on_destroy.push((()=>c()));let{schema:u}=t,{columnIds:d}=t,{referentTable:$}=t,{onUpdate:p}=t;return e.$$set=e=>{"schema"in e&&n(0,u=e.schema),"columnIds"in e&&n(1,d=e.columnIds),"referentTable"in e&&n(7,$=e.referentTable),"onUpdate"in e&&n(2,p=e.onUpdate)},e.$$.update=()=>{128&e.$$.dirty&&(n(4,({isLoading:r,processedColumns:o}=$),r,(n(3,o),c(),c=g(o,(e=>n(6,i=e))),o)),l(),l=g(r,(e=>n(5,s=e))))},[u,d,p,o,r,s,i,$]}class TQ extends ut{constructor(e){super(),ct(this,e,IQ,MQ,f,{schema:0,columnIds:1,referentTable:7,onUpdate:2})}}function EQ(e){let t,n,r,o;n=new CQ({props:{columns:[...e[2].values()],value:e[4],onUpdate:e[7],allowEmpty:!0}});let s=e[5]&&OQ();return{c(){t=q("div"),at(n.$$.fragment),r=U(),s&&s.c(),X(t,"class","column-select svelte-181jtx5")},m(e,a){H(e,t,a),it(n,t,null),F(t,r),s&&s.m(t,null),o=!0},p(e,r){const o={};4&r&&(o.columns=[...e[2].values()]),16&r&&(o.value=e[4]),8&r&&(o.onUpdate=e[7]),n.$set(o),e[5]?s?32&r&&je(s,1):(s=OQ(),s.c(),je(s,1),s.m(t,null)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be())},i(e){o||(je(n.$$.fragment,e),je(s),o=!0)},o(e){Ue(n.$$.fragment,e),Ue(s),o=!1},d(e){e&&z(t),lt(n),s&&s.d()}}}function DQ(e){let t,n,r=e[6]("deleted_column")+"";return{c(){t=q("div"),n=j(r),X(t,"class","deleted-column svelte-181jtx5")},m(e,r){H(e,t,r),F(t,n)},p(e,t){64&t&&r!==(r=e[6]("deleted_column")+"")&&Q(n,r)},i:a,o:a,d(e){e&&z(t)}}}function OQ(e){let t,n,r;return n=new fQ({}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","delimiter svelte-181jtx5")},m(e,o){H(e,t,o),it(n,t,null),r=!0},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function NQ(e){let t,n;return t=new TQ({props:{schema:e[0],columnIds:e[1].slice(1),referentTable:e[5],onUpdate:e[8]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.schema=e[0]),2&n&&(r.columnIds=e[1].slice(1)),32&n&&(r.referentTable=e[5]),24&n&&(r.onUpdate=e[8]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function AQ(e){let t,n,r,o,s;const a=[DQ,EQ],i=[];function l(e,t){return void 0!==e[1][0]&&void 0===e[4]?0:1}t=l(e),n=i[t]=a[t](e);let c=e[5]&&NQ(e);return{c(){n.c(),r=U(),c&&c.c(),o=W()},m(e,n){i[t].m(e,n),H(e,r,n),c&&c.m(e,n),H(e,o,n),s=!0},p(e,[s]){let u=t;t=l(e),t===u?i[t].p(e,s):(qe(),Ue(i[u],1,1,(()=>{i[u]=null})),Be(),n=i[t],n?n.p(e,s):(n=i[t]=a[t](e),n.c()),je(n,1),n.m(r.parentNode,r)),e[5]?c?(c.p(e,s),32&s&&je(c,1)):(c=NQ(e),c.c(),je(c,1),c.m(o.parentNode,o)):c&&(qe(),Ue(c,1,1,(()=>{c=null})),Be())},i(e){s||(je(n),je(c),s=!0)},o(e){Ue(n),Ue(c),s=!1},d(e){i[t].d(e),e&&z(r),c&&c.d(e),e&&z(o)}}}function RQ(e,t,n){let r,o,s;y(e,no,(e=>n(6,s=e)));let{schema:a}=t,{columnIds:i}=t,{columns:l}=t,{onUpdate:c}=t;return e.$$set=e=>{"schema"in e&&n(0,a=e.schema),"columnIds"in e&&n(1,i=e.columnIds),"columns"in e&&n(2,l=e.columns),"onUpdate"in e&&n(3,c=e.onUpdate)},e.$$.update=()=>{6&e.$$.dirty&&n(4,r=Co(i[0],(e=>l.get(e)))),17&e.$$.dirty&&n(5,o=Co(r?.linkFk?.referent_table_oid,(e=>new Oz({schema:a,oid:e}))))},[a,i,l,c,r,o,s,e=>c(e?[e.id]:[]),e=>c([...Co(r,(e=>[e.id]))??[],...e])]}class FQ extends ut{constructor(e){super(),ct(this,e,RQ,AQ,f,{schema:0,columnIds:1,columns:2,onUpdate:3})}}function PQ(e){let t,n;const r=[Kx];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[ot(Kx)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function LQ(e){let t,n,r,o,s,a,i,c,u,p,m,f,g,h,y=(e[0]??"")+"";const v=[wC];let C={};for(let d=0;d<v.length;d+=1)C=l(C,v[d]);r=new Jd({props:C});const S=e[2].default,k=b(S,e,e[3],null);return m=new Hu({props:{size:"small",appearance:"ghost",$$slots:{default:[PQ]},$$scope:{ctx:e}}}),m.$on("click",(function(){$(e[1])&&e[1].apply(this,arguments)})),{c(){t=q("div"),n=q("div"),at(r.$$.fragment),o=U(),s=q("div"),a=j(y),i=U(),c=q("div"),k&&k.c(),u=U(),p=q("div"),at(m.$$.fragment),X(n,"class","grip svelte-1box8hr"),X(s,"class","label svelte-1box8hr"),X(c,"class","editor"),X(p,"class","delete svelte-1box8hr"),X(t,"class","part svelte-1box8hr")},m(e,l){H(e,t,l),F(t,n),it(r,n,null),F(t,o),F(t,s),F(s,a),F(t,i),F(t,c),k&&k.m(c,null),F(t,u),F(t,p),it(m,p,null),f=!0,g||(h=[T(IG.call(null,n)),T(MG.call(null,t))],g=!0)},p(t,[n]){e=t;const o=0&n?rt(v,[ot(wC)]):{};r.$set(o),(!f||1&n)&&y!==(y=(e[0]??"")+"")&&Q(a,y),k&&k.p&&(!f||8&n)&&_(k,S,e,e[3],f?w(S,e[3],n,null):x(e[3]),null);const s={};8&n&&(s.$$scope={dirty:n,ctx:e}),m.$set(s)},i(e){f||(je(r.$$.fragment,e),je(k,e),je(m.$$.fragment,e),f=!0)},o(e){Ue(r.$$.fragment,e),Ue(k,e),Ue(m.$$.fragment,e),f=!1},d(e){e&&z(t),lt(r),k&&k.d(e),lt(m),g=!1,d(h)}}}function HQ(e,t,n){let{$$slots:r={},$$scope:o}=t,{label:s}=t,{onDelete:a}=t;return e.$$set=e=>{"label"in e&&n(0,s=e.label),"onDelete"in e&&n(1,a=e.onDelete),"$$scope"in e&&n(3,o=e.$$scope)},[s,a,r,o]}class zQ extends ut{constructor(e){super(),ct(this,e,HQ,LQ,f,{label:0,onDelete:1})}}function VQ(e){let t,n,r;return n=new FQ({props:{columns:e[2],columnIds:e[1],schema:e[0].schema,onUpdate:e[4]}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","chain svelte-11n4rc3")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};4&t&&(r.columns=e[2]),2&t&&(r.columnIds=e[1]),1&t&&(r.schema=e[0].schema),16&t&&(r.onUpdate=e[4]),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function qQ(e){let t,n;return t=new zQ({props:{onDelete:e[3],$$slots:{default:[VQ]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};8&n&&(r.onDelete=e[3]),55&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function BQ(e,t,n){let{table:r}=t,{columnIds:o}=t,{columns:s}=t,{onDelete:a}=t,{onUpdate:i}=t;return e.$$set=e=>{"table"in e&&n(0,r=e.table),"columnIds"in e&&n(1,o=e.columnIds),"columns"in e&&n(2,s=e.columns),"onDelete"in e&&n(3,a=e.onDelete),"onUpdate"in e&&n(4,i=e.onUpdate)},[r,o,s,a,i]}class jQ extends ut{constructor(e){super(),ct(this,e,BQ,qQ,f,{table:0,columnIds:1,columns:2,onDelete:3,onUpdate:4})}}function UQ(e){return Array.isArray(e)}s=Symbol.iterator;class WQ{constructor(t){e(this,"parts",void 0),this.parts=new ao(t)}getNextKey(){return Math.max(...this.parts.keys(),0)+1}static fromTemplate(e){return new WQ(e.map(((e,t)=>[t,e])))}static newCustom(e){const t=ic((e=>"text"===e.abstractType.identifier),e.values()),n=uc(t);if(n)return WQ.fromTemplate([[n.id]]);const r=uc(e.values());return WQ.fromTemplate([[r.id]])}get template(){return[...this.parts.values()]}withPartAppended(e){return new WQ(this.parts.with(this.getNextKey(),e))}withPartReplaced(e,t){return new WQ(this.parts.with(e,t))}withoutPart(e){return new WQ(this.parts.without(e))}get hasAnyColumnParts(){return hc(UQ,this.parts.values())}[s](){return this.parts[Symbol.iterator]()}}function YQ(e){let t,n;return t=new ym({props:{value:e[0]}}),t.$on("input",e[3]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.value=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function KQ(e){let t,n;return t=new zQ({props:{label:e[2]("text"),onDelete:e[1],$$slots:{default:[YQ]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};4&n&&(r.label=e[2]("text")),2&n&&(r.onDelete=e[1]),33&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function GQ(e,t,n){let r;y(e,no,(e=>n(2,r=e)));let{text:o}=t,{onDelete:s}=t,{onUpdate:a}=t;return e.$$set=e=>{"text"in e&&n(0,o=e.text),"onDelete"in e&&n(1,s=e.onDelete),"onUpdate"in e&&n(4,a=e.onUpdate)},[o,s,r,function(e){const t=e.target;a(t.value)},a]}class XQ extends ut{constructor(e){super(),ct(this,e,GQ,KQ,f,{text:0,onDelete:1,onUpdate:4})}}function ZQ(e,t,n){const r=e.slice();return r[15]=t[n],r}function JQ(e,t,n){const r=e.slice();return r[18]=t[n][0],r[19]=t[n][1],r}function QQ(e){let t,n,r=e[4]("no_fields_added_yet")+"";return{c(){t=q("div"),n=j(r),X(t,"class","no-fields svelte-76mpss")},m(e,r){H(e,t,r),F(t,n)},p(e,t){16&t&&r!==(r=e[4]("no_fields_added_yet")+"")&&Q(n,r)},d(e){e&&z(t)}}}function e1(e){let t,n;function r(){return e[11](e[18])}function o(...t){return e[12](e[18],...t)}return t=new jQ({props:{columnIds:e[19],columns:e[2],table:e[1],onDelete:r,onUpdate:o}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(n,s){e=n;const a={};1&s&&(a.columnIds=e[19]),4&s&&(a.columns=e[2]),2&s&&(a.table=e[1]),1&s&&(a.onDelete=r),1&s&&(a.onUpdate=o),t.$set(a)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function t1(e){let t,n;function r(...t){return e[9](e[18],...t)}function o(){return e[10](e[18])}return t=new XQ({props:{text:e[19],onUpdate:r,onDelete:o}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(n,s){e=n;const a={};1&s&&(a.text=e[19]),1&s&&(a.onUpdate=r),1&s&&(a.onDelete=o),t.$set(a)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function n1(e,t){let n,r,o,s,a;const i=[t1,e1],l=[];function c(e,t){return"string"==typeof e[19]?0:1}return r=c(t),o=l[r]=i[r](t),{key:e,first:null,c(){n=W(),o.c(),s=W(),this.first=n},m(e,t){H(e,n,t),l[r].m(e,t),H(e,s,t),a=!0},p(e,n){let a=r;r=c(t=e),r===a?l[r].p(t,n):(qe(),Ue(l[a],1,1,(()=>{l[a]=null})),Be(),o=l[r],o?o.p(t,n):(o=l[r]=i[r](t),o.c()),je(o,1),o.m(s.parentNode,s))},i(e){a||(je(o),a=!0)},o(e){Ue(o),a=!1},d(e){e&&z(n),l[r].d(e),e&&z(s)}}}function r1(e){let t,n,r,o;return t=new nw({props:{label:e[4]("column"),icon:sS}}),t.$on("click",e[8]),r=new nw({props:{label:e[4]("text"),icon:oS}}),r.$on("click",e[7]),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,s){it(t,e,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){const o={};16&n&&(o.label=e[4]("column")),t.$set(o);const s={};16&n&&(s.label=e[4]("text")),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function o1(e){let t,n,r;return n=new HP({props:{$$slots:{default:[a1]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","errors svelte-76mpss")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};4194312&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function s1(e){let t,n,r=e[15]+"";return{c(){t=q("p"),n=j(r)},m(e,r){H(e,t,r),F(t,n)},p(e,t){8&t&&r!==(r=e[15]+"")&&Q(n,r)},d(e){e&&z(t)}}}function a1(e){let t,n=e[3],r=[];for(let o=0;o<n.length;o+=1)r[o]=s1(ZQ(e,n,o));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=W()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);H(e,t,n)},p(e,o){if(8&o){let s;for(n=e[3],s=0;s<n.length;s+=1){const a=ZQ(e,n,s);r[s]?r[s].p(a,o):(r[s]=s1(a),r[s].c(),r[s].m(t.parentNode,t))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(e){V(r,e),e&&z(t)}}}function i1(e){let t,n,r,o,s,a,i,l,c,u,d=[],p=new Map,m=[...e[0]];const f=e=>e[18];for(let $=0;$<m.length;$+=1){let t=JQ(e,m,$),n=f(t);p.set(n,d[$]=n1(n,t))}let g=null;m.length||(g=QQ(e)),s=new zh({props:{label:e[4]("add_field"),icon:jx,size:"small",$$slots:{default:[r1]},$$scope:{ctx:e}}});let h=e[3].length>0&&o1(e);return{c(){t=q("div");for(let e=0;e<d.length;e+=1)d[e].c();g&&g.c(),r=U(),o=q("div"),at(s.$$.fragment),a=U(),h&&h.c(),i=W(),X(t,"class","parts svelte-76mpss"),X(o,"class","add svelte-76mpss")},m($,p){H($,t,p);for(let e=0;e<d.length;e+=1)d[e].m(t,null);g&&g.m(t,null),H($,r,p),H($,o,p),it(s,o,null),H($,a,p),h&&h.m($,p),H($,i,p),l=!0,c||(u=T(n=kG.call(null,t,{getItems:e[13],onSort:e[14]})),c=!0)},p(e,r){119&r&&(m=[...e[0]],qe(),d=nt(d,r,f,1,e,m,p,t,et,n1,null,JQ),Be(),!m.length&&g?g.p(e,r):m.length?g&&(g.d(1),g=null):(g=QQ(e),g.c(),g.m(t,null))),n&&$(n.update)&&1&r&&n.update.call(null,{getItems:e[13],onSort:e[14]});const o={};16&r&&(o.label=e[4]("add_field")),4194320&r&&(o.$$scope={dirty:r,ctx:e}),s.$set(o),e[3].length>0?h?(h.p(e,r),8&r&&je(h,1)):(h=o1(e),h.c(),je(h,1),h.m(i.parentNode,i)):h&&(qe(),Ue(h,1,1,(()=>{h=null})),Be())},i(e){if(!l){for(let e=0;e<m.length;e+=1)je(d[e]);je(s.$$.fragment,e),je(h),l=!0}},o(e){for(let t=0;t<d.length;t+=1)Ue(d[t]);Ue(s.$$.fragment,e),Ue(h),l=!1},d(e){e&&z(t);for(let t=0;t<d.length;t+=1)d[t].d();g&&g.d(),e&&z(r),e&&z(o),lt(s),e&&z(a),h&&h.d(e),e&&z(i),c=!1,u()}}}function l1(e){let t,n;return t=new _p({props:{label:e[4]("custom_fields"),boxed:!0,$$slots:{default:[i1]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};16&n&&(r.label=e[4]("custom_fields")),4194335&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function c1(e,t,n){let r;y(e,no,(e=>n(4,r=e)));let{table:o}=t,{templateConfig:s}=t,{columns:a}=t,{errorsDisplayed:i=[]}=t;function l(e){n(0,s=s.withoutPart(e))}function c(e,t){n(0,s=s.withPartReplaced(e,t))}return e.$$set=e=>{"table"in e&&n(1,o=e.table),"templateConfig"in e&&n(0,s=e.templateConfig),"columns"in e&&n(2,a=e.columns),"errorsDisplayed"in e&&n(3,i=e.errorsDisplayed)},[s,o,a,i,r,l,c,function(){n(0,s=s.withPartAppended(""))},function(){const e=uc(a.values());n(0,s=s.withPartAppended([e.id]))},(e,t)=>c(e,t),e=>l(e),e=>l(e),(e,t)=>c(e,t),()=>[...s],e=>{n(0,s=new WQ(e))}]}class u1 extends ut{constructor(e){super(),ct(this,e,c1,l1,f,{table:1,templateConfig:0,columns:2,errorsDisplayed:3})}}function d1(e){let t,n,r,o;function s(t){e[7](t)}let a={columns:e[2],table:e[1],errorsDisplayed:e[3]};return void 0!==e[0]&&(a.templateConfig=e[0]),n=new u1({props:a}),Ce.push((()=>st(n,"templateConfig",s))),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","custom-template svelte-1iyztyd")},m(e,r){H(e,t,r),it(n,t,null),o=!0},p(e,t){const o={};4&t&&(o.columns=e[2]),2&t&&(o.table=e[1]),8&t&&(o.errorsDisplayed=e[3]),!r&&1&t&&(r=!0,o.templateConfig=e[0],Oe((()=>r=!1))),n.$set(o)},i(e){o||(je(n.$$.fragment,e),o=!0)},o(e){Ue(n.$$.fragment,e),o=!1},d(e){e&&z(t),lt(n)}}}function $1(e){let t,n,r,o;t=new fg({props:{label:e[4]("customization"),options:[!1,!0],getRadioLabel:e[5],isInline:!0,value:void 0!==e[0],boxed:!0}}),t.$on("change",e[6]);let s=e[0]&&d1(e);return{c(){at(t.$$.fragment),n=U(),s&&s.c(),r=W()},m(e,a){it(t,e,a),H(e,n,a),s&&s.m(e,a),H(e,r,a),o=!0},p(e,[n]){const o={};16&n&&(o.label=e[4]("customization")),16&n&&(o.getRadioLabel=e[5]),1&n&&(o.value=void 0!==e[0]),t.$set(o),e[0]?s?(s.p(e,n),1&n&&je(s,1)):(s=d1(e),s.c(),je(s,1),s.m(r.parentNode,r)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be())},i(e){o||(je(t.$$.fragment,e),je(s),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(s),o=!1},d(e){lt(t,e),e&&z(n),s&&s.d(e),e&&z(r)}}}function p1(e,t,n){let r;y(e,no,(e=>n(4,r=e)));let{table:o}=t,{templateConfig:s}=t,{columns:a}=t,{errorsDisplayed:i=[]}=t;return e.$$set=e=>{"table"in e&&n(1,o=e.table),"templateConfig"in e&&n(0,s=e.templateConfig),"columns"in e&&n(2,a=e.columns),"errorsDisplayed"in e&&n(3,i=e.errorsDisplayed)},[s,o,a,i,r,e=>r(e?"customize_fields":"use_default"),({detail:{value:e}})=>{n(0,s=e?WQ.newCustom(a):void 0)},function(e){s=e,n(0,s)}]}class m1 extends ut{constructor(e){super(),ct(this,e,p1,$1,f,{table:1,templateConfig:0,columns:2,errorsDisplayed:3})}}function f1(e){let t,n,r,o,s,a,i,l,c;function u(t){e[15](t)}n=new rQ({props:{$$slots:{default:[S1]},$$scope:{ctx:e}}});let d={columns:e[1],table:e[0],errorsDisplayed:e[10].hasChanges?e[11]:[]};void 0!==e[9]&&(d.templateConfig=e[9]),o=new m1({props:d}),Ce.push((()=>st(o,"templateConfig",u)));let $=void 0!==e[3]&&k1(e);return l=new QL({props:{form:e[8],onProceed:e[12],onCancel:e[8].reset,proceedButton:{label:e[5]("save")},cancelButton:{label:e[5]("reset"),icon:mC},initiallyHidden:!0,size:"small"}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),at(o.$$.fragment),a=U(),$&&$.c(),i=U(),at(l.$$.fragment),X(t,"class","help svelte-1e85mnr")},m(e,s){H(e,t,s),it(n,t,null),H(e,r,s),it(o,e,s),H(e,a,s),$&&$.m(e,s),H(e,i,s),it(l,e,s),c=!0},p(e,t){const r={};131105&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const a={};2&t&&(a.columns=e[1]),1&t&&(a.table=e[0]),3072&t&&(a.errorsDisplayed=e[10].hasChanges?e[11]:[]),!s&&512&t&&(s=!0,a.templateConfig=e[9],Oe((()=>s=!1))),o.$set(a),void 0!==e[3]?$?($.p(e,t),8&t&&je($,1)):($=k1(e),$.c(),je($,1),$.m(i.parentNode,i)):$&&(qe(),Ue($,1,1,(()=>{$=null})),Be());const c={};256&t&&(c.form=e[8]),256&t&&(c.onCancel=e[8].reset),32&t&&(c.proceedButton={label:e[5]("save")}),32&t&&(c.cancelButton={label:e[5]("reset"),icon:mC}),l.$set(c)},i(e){c||(je(n.$$.fragment,e),je(o.$$.fragment,e),je($),je(l.$$.fragment,e),c=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),Ue($),Ue(l.$$.fragment,e),c=!1},d(e){e&&z(t),lt(n),e&&z(r),lt(o,e),e&&z(a),$&&$.d(e),e&&z(i),lt(l,e)}}}function g1(e){let t,n;return t=new HP({props:{$$slots:{default:[E1]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};131105&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function h1(e){let t,n;return t=new t$({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function y1(e){let t,n;return t=new bx({props:{$$slots:{default:[b1]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};131073&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function b1(e){let t,n=e[0].name+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1&r&&n!==(n=e[0].name+"")&&Q(t,n)},d(e){e&&z(t)}}}function v1(e){let t,n,r="tableName"===e[16]&&y1(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"tableName"===e[16]?r?(r.p(e,n),65536&n&&je(r,1)):(r=y1(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function w1(e){let t,n;return t=new bx({props:{$$slots:{default:[_1]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};131073&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function _1(e){let t,n=e[0].name+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1&r&&n!==(n=e[0].name+"")&&Q(t,n)},d(e){e&&z(t)}}}function x1(e){let t,n,r="tableName"===e[16]&&w1(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"tableName"===e[16]?r?(r.p(e,n),65536&n&&je(r,1)):(r=w1(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function C1(e){let t,n,r,o,s,a,i=e[5]("record_summary_detail_help_1")+"";return s=new Rx({props:{text:e[5]("record_summary_detail_help_2"),$$slots:{default:[x1,({slotName:e})=>({16:e}),({slotName:e})=>e?65536:0]},$$scope:{ctx:e}}}),{c(){t=q("p"),n=j(i),r=U(),o=q("p"),at(s.$$.fragment)},m(e,i){H(e,t,i),F(t,n),H(e,r,i),H(e,o,i),it(s,o,null),a=!0},p(e,t){(!a||32&t)&&i!==(i=e[5]("record_summary_detail_help_1")+"")&&Q(n,i);const r={};32&t&&(r.text=e[5]("record_summary_detail_help_2")),196609&t&&(r.$$scope={dirty:t,ctx:e}),s.$set(r)},i(e){a||(je(s.$$.fragment,e),a=!0)},o(e){Ue(s.$$.fragment,e),a=!1},d(e){e&&z(t),e&&z(r),e&&z(o),lt(s)}}}function S1(e){let t,n,r,o;return t=new Rx({props:{text:e[5]("record_summary_config_help"),$$slots:{default:[v1,({slotName:e})=>({16:e}),({slotName:e})=>e?65536:0]},$$scope:{ctx:e}}}),r=new H$({props:{$$slots:{default:[C1]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,s){it(t,e,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){const o={};32&n&&(o.text=e[5]("record_summary_config_help")),196609&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};131105&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function k1(e){let t,n;return t=new pQ({props:{table:e[0],recordId:e[3],template:e[9]?.template??null}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.table=e[0]),8&n&&(r.recordId=e[3]),512&n&&(r.template=e[9]?.template??null),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function M1(e){let t,n;return t=new bx({props:{$$slots:{default:[I1]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};131073&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function I1(e){let t,n=e[0].name+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1&r&&n!==(n=e[0].name+"")&&Q(t,n)},d(e){e&&z(t)}}}function T1(e){let t,n,r="tableName"===e[16]&&M1(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"tableName"===e[16]?r?(r.p(e,n),65536&n&&je(r,1)):(r=M1(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function E1(e){let t,n;return t=new Rx({props:{text:e[5]("record_summary_no_pk_error"),$$slots:{default:[T1,({slotName:e})=>({16:e}),({slotName:e})=>e?65536:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.text=e[5]("record_summary_no_pk_error")),196609&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function D1(e){let t,n,r,o;const s=[h1,g1,f1],a=[];function i(e,t){return e[2]?0:e[6]?2:1}return n=i(e),r=a[n]=s[n](e),{c(){t=q("div"),r.c(),X(t,"class","record-summary-config svelte-1e85mnr")},m(e,r){H(e,t,r),a[n].m(t,null),o=!0},p(e,[o]){let l=n;n=i(e),n===l?a[n].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),r=a[n],r?r.p(e,o):(r=a[n]=s[n](e),r.c()),je(r,1),r.m(t,null))},i(e){o||(je(r),o=!0)},o(e){Ue(r),o=!1},d(e){e&&z(t),a[n].d()}}}function O1(e,t,n){let r,o,s,i,l,c,u,d,$,p=a,m=a,f=a;y(e,no,(e=>n(5,c=e))),e.$$.on_destroy.push((()=>p())),e.$$.on_destroy.push((()=>m())),e.$$.on_destroy.push((()=>f()));let{table:h}=t,{processedColumns:b}=t,{isLoading:v}=t,{previewRecordId:w}=t,{onSave:_}=t;return e.$$set=e=>{"table"in e&&n(0,h=e.table),"processedColumns"in e&&n(1,b=e.processedColumns),"isLoading"in e&&n(2,v=e.isLoading),"previewRecordId"in e&&n(3,w=e.previewRecordId),"onSave"in e&&n(13,_=e.onSave)},e.$$.update=()=>{1&e.$$.dirty&&n(14,r=h?.metadata?.record_summary_template??void 0),16416&e.$$.dirty&&(n(4,o=rH(Co(r,(e=>WQ.fromTemplate(e))),[bP((e=>!!e?.hasAnyColumnParts),c("static_record_summary_template_error"))])),p(),p=g(o,(e=>n(9,u=e)))),16&e.$$.dirty&&(n(8,s=aH({templateConfig:o})),m(),m=g(s,(e=>n(10,d=e)))),16&e.$$.dirty&&(n(7,i=o.fieldErrors),f(),f=g(i,(e=>n(11,$=e)))),2&e.$$.dirty&&n(6,l=[...b].some((([,e])=>e.column.primary_key)))},[h,b,v,w,o,c,l,i,s,u,d,$,async function(){try{await yH({schema:h.schema,table:{oid:h.oid,metadata:{record_summary_template:u?.template??null}}}),_?.()}catch(e){WS.error(`${c("unable_to_save_changes")} ${ck(e)}`)}},_,r,function(e){u=e,o.set(u)}]}class N1 extends ut{constructor(e){super(),ct(this,e,O1,D1,f,{table:0,processedColumns:1,isLoading:2,previewRecordId:3,onSave:13})}}function A1(e){let t,n;return t=new RJ({props:{title:e[6]("linked_record_summary"),isOpen:!1,$$slots:{default:[P1]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.title=e[6]("linked_record_summary")),9089&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function R1(e){let t,n;return t=new N1({props:{table:e[8],processedColumns:e[9],isLoading:e[7],onSave:e[12]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};256&n&&(r.table=e[8]),512&n&&(r.processedColumns=e[9]),128&n&&(r.isLoading=e[7]),1&n&&(r.onSave=e[12]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function F1(e){let t,n;return t=new t$({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function P1(e){let t,n,r,o;const s=[F1,R1],a=[];function i(e,t){return e[7]?0:e[8]?1:-1}return~(t=i(e))&&(n=a[t]=s[t](e)),{c(){n&&n.c(),r=W()},m(e,n){~t&&a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?~t&&a[t].p(e,o):(n&&(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be()),~t?(n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){~t&&a[t].d(e),e&&z(r)}}}function L1(e){let t,n,r="must_create"!==e[5]&&A1(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,[n]){"must_create"!==e[5]?r?(r.p(e,n),32&n&&je(r,1)):(r=A1(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function H1(e,t,n){let r,o,s,i,l,c,u,d,$,p,m=a,f=a,h=a,b=a;y(e,no,(e=>n(6,u=e))),e.$$.on_destroy.push((()=>m())),e.$$.on_destroy.push((()=>f())),e.$$.on_destroy.push((()=>h())),e.$$.on_destroy.push((()=>b()));let{dataFormManager:v}=t,{field:w}=t;return e.$$set=e=>{"dataFormManager"in e&&n(10,v=e.dataFormManager),"field"in e&&n(11,w=e.field)},e.$$.update=()=>{2048&e.$$.dirty&&(n(4,({interactionRule:r}=w),r),m(),m=g(r,(e=>n(5,c=e)))),3072&e.$$.dirty&&n(0,o=v.getTableStructure(w.relatedTableOid)),1&e.$$.dirty&&(n(3,({table:s,processedColumns:i,isLoading:l}=o),s,(n(2,i),b(),b=g(i,(e=>n(9,p=e))),i),(n(1,l),f(),f=g(l,(e=>n(7,d=e))),l)),h(),h=g(s,(e=>n(8,$=e))))},[o,l,i,s,r,c,u,d,$,p,v,w,()=>o.refetch()]}class z1 extends ut{constructor(e){super(),ct(this,e,H1,L1,f,{dataFormManager:10,field:11})}}function V1(e){let t,n;return t=new ym({props:{value:e[5],disabled:e[2]}}),t.$on("input",e[6]),t.$on("blur",e[7]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.value=e[5]),4&n&&(r.disabled=e[2]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function q1(e){let t,n,r,o,s,a,i,l=e[4]("column")+"";return a=new rZ({props:{dataFormManager:e[0],dataFormField:e[1],link:!0,separator:!0}}),{c(){t=q("div"),n=q("span"),r=j(l),o=j(":"),s=U(),at(a.$$.fragment),X(t,"class","source-info")},m(e,l){H(e,t,l),F(t,n),F(n,r),F(n,o),F(t,s),it(a,t,null),i=!0},p(e,t){(!i||16&t)&&l!==(l=e[4]("column")+"")&&Q(r,l);const n={};1&t&&(n.dataFormManager=e[0]),2&t&&(n.dataFormField=e[1]),a.$set(n)},i(e){i||(je(a.$$.fragment,e),i=!0)},o(e){Ue(a.$$.fragment,e),i=!1},d(e){e&&z(t),lt(a)}}}function B1(e){let t,n,r,o;t=new J$({props:{layout:"stacked",label:e[4]("field_label"),$$slots:{default:[V1]},$$scope:{ctx:e}}});let s="fieldColumn"in e[1]&&q1(e);return{c(){at(t.$$.fragment),n=U(),s&&s.c(),r=W()},m(e,a){it(t,e,a),H(e,n,a),s&&s.m(e,a),H(e,r,a),o=!0},p(e,n){const o={};16&n&&(o.label=e[4]("field_label")),550&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o),"fieldColumn"in e[1]?s?(s.p(e,n),2&n&&je(s,1)):(s=q1(e),s.c(),je(s,1),s.m(r.parentNode,r)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be())},i(e){o||(je(t.$$.fragment,e),je(s),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(s),o=!1},d(e){lt(t,e),e&&z(n),s&&s.d(e),e&&z(r)}}}function j1(e){let t,n;return t=new RJ({props:{title:e[4]("rules"),$$slots:{default:[Y1]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.title=e[4]("rules")),531&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function U1(e){let t,n;return t=new J$({props:{layout:"stacked",label:e[4]("field_fk_rule_label"),$$slots:{default:[W1]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.label=e[4]("field_fk_rule_label")),515&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function W1(e){let t,n;return t=new LX({props:{appearance:"default",dataFormManager:e[0],dataFormField:e[1]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.dataFormManager=e[0]),2&n&&(r.dataFormField=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Y1(e){let t,n,r,o;n=new QJ({props:{field:e[1]}});let s="foreign_key"===e[1].kind&&U1(e);return{c(){t=q("section"),at(n.$$.fragment),r=U(),s&&s.c(),X(t,"class","rules svelte-16atyu1")},m(e,a){H(e,t,a),it(n,t,null),F(t,r),s&&s.m(t,null),o=!0},p(e,r){const o={};2&r&&(o.field=e[1]),n.$set(o),"foreign_key"===e[1].kind?s?(s.p(e,r),2&r&&je(s,1)):(s=U1(e),s.c(),je(s,1),s.m(t,null)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be())},i(e){o||(je(n.$$.fragment,e),je(s),o=!0)},o(e){Ue(n.$$.fragment,e),Ue(s),o=!1},d(e){e&&z(t),lt(n),s&&s.d()}}}function K1(e){let t,n;return t=new z1({props:{dataFormManager:e[0],field:e[1]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.dataFormManager=e[0]),2&n&&(r.field=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function G1(e){let t,n,r,o,s,a=e[4]("remove_field")+"";const i=[Kx];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return t=new Jd({props:c}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(a)},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),F(r,o),s=!0},p(e,n){const r=0&n?rt(i,[ot(Kx)]):{};t.$set(r),(!s||16&n)&&a!==(a=e[4]("remove_field")+"")&&Q(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function X1(e){let t,n,r;return n=new Hu({props:{disabled:!e[1].canDelete,appearance:"action",$$slots:{default:[G1]},$$scope:{ctx:e}}}),n.$on("click",e[8]),{c(){t=q("div"),at(n.$$.fragment),X(t,"slot","trigger"),X(t,"class","remove-button svelte-16atyu1")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};2&t&&(r.disabled=!e[1].canDelete),528&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function Z1(e){let t,n,r=e[4]("field_cannot_be_removed_required_in_db")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","content")},m(e,r){H(e,t,r),F(t,n)},p(e,t){16&t&&r!==(r=e[4]("field_cannot_be_removed_required_in_db")+"")&&Q(n,r)},d(e){e&&z(t)}}}function J1(e){let t,n;return t=new Eu({props:{enabled:!e[1].canDelete,$$slots:{content:[Z1],trigger:[X1]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.enabled=!e[1].canDelete),530&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Q1(e){let t,n,r,o,s,a,i,l;t=new RJ({props:{title:e[4]("field_properties"),$$slots:{default:[B1]},$$scope:{ctx:e}}});let c="fieldColumn"in e[1]&&j1(e);o=new WJ({props:{field:e[1]}});let u="foreign_key"===e[1].kind&&K1(e);return i=new RJ({props:{title:e[4]("actions"),$$slots:{default:[J1]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment),n=U(),c&&c.c(),r=U(),at(o.$$.fragment),s=U(),u&&u.c(),a=U(),at(i.$$.fragment)},m(e,d){it(t,e,d),H(e,n,d),c&&c.m(e,d),H(e,r,d),it(o,e,d),H(e,s,d),u&&u.m(e,d),H(e,a,d),it(i,e,d),l=!0},p(e,n){const s={};16&n&&(s.title=e[4]("field_properties")),567&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s),"fieldColumn"in e[1]?c?(c.p(e,n),2&n&&je(c,1)):(c=j1(e),c.c(),je(c,1),c.m(r.parentNode,r)):c&&(qe(),Ue(c,1,1,(()=>{c=null})),Be());const l={};2&n&&(l.field=e[1]),o.$set(l),"foreign_key"===e[1].kind?u?(u.p(e,n),2&n&&je(u,1)):(u=K1(e),u.c(),je(u,1),u.m(a.parentNode,a)):u&&(qe(),Ue(u,1,1,(()=>{u=null})),Be());const d={};16&n&&(d.title=e[4]("actions")),530&n&&(d.$$scope={dirty:n,ctx:e}),i.$set(d)},i(e){l||(je(t.$$.fragment,e),je(c),je(o.$$.fragment,e),je(u),je(i.$$.fragment,e),l=!0)},o(e){Ue(t.$$.fragment,e),Ue(c),Ue(o.$$.fragment,e),Ue(u),Ue(i.$$.fragment,e),l=!1},d(e){lt(t,e),e&&z(n),c&&c.d(e),e&&z(r),lt(o,e),e&&z(s),u&&u.d(e),e&&z(a),lt(i,e)}}}function e0(e){let t,n;return t=new LJ({props:{$$slots:{default:[Q1]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};567&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function t0(e,t,n){let r,o,s,i,l=a;y(e,no,(e=>n(4,s=e))),e.$$.on_destroy.push((()=>l()));let{dataFormManager:c}=t,{field:u}=t;return e.$$set=e=>{"dataFormManager"in e&&n(0,c=e.dataFormManager),"field"in e&&n(1,u=e.field)},e.$$.update=()=>{2&e.$$.dirty&&(n(3,({label:r}=u),r),l(),l=g(r,(e=>n(5,i=e)))),2&e.$$.dirty&&n(2,o=u instanceof jK)},[c,u,o,r,s,i,e=>u.setLabel(Wo(e)),()=>u.checkAndSetDefaultLabel(),()=>u.container.delete(u)]}class n0 extends ut{constructor(e){super(),ct(this,e,t0,e0,f,{dataFormManager:0,field:1})}}function r0(e){let t,n;return t=new Hu({props:{appearance:"ghost",$$slots:{default:[s0]},$$scope:{ctx:e}}}),t.$on("click",e[10]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2060&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function o0(e){let t,n;return t=new Hu({props:{appearance:"ghost",style:"overflow:hidden;",$$slots:{default:[c0]},$$scope:{ctx:e}}}),t.$on("click",e[7]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2074&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function s0(e){let t,n,r=e[2]("form")+"";return{c(){t=q("div"),n=j(r),X(t,"class","nav-element svelte-1ckzucp"),se(t,"selected",e[3])},m(e,r){H(e,t,r),F(t,n)},p(e,o){4&o&&r!==(r=e[2]("form")+"")&&Q(n,r),8&o&&se(t,"selected",e[3])},d(e){e&&z(t)}}}function a0(e){let t,n;return{c(){t=q("span"),n=j(e[4])},m(e,r){H(e,t,r),F(t,n)},p(e,t){16&t&&Q(n,e[4])},i:a,o:a,d(e){e&&z(t)}}}function i0(e){let t,n,r;return n=new OI({props:{name:e[4],icon:Rd}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","error svelte-1ckzucp")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};16&t&&(r.name=e[4]),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function l0(e){let t,n;return t=new HV({props:{column:{...e[1].fieldColumn.column,constraintsType:e[1].fieldColumn.foreignKeyLink?["foreignkey"]:[]}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.column={...e[1].fieldColumn.column,constraintsType:e[1].fieldColumn.foreignKeyLink?["foreignkey"]:[]}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function c0(e){let t,n,r,o;const s=[l0,i0,a0],a=[];function i(e,t){return"fieldColumn"in e[1]?0:"error"in e[1]?1:2}return n=i(e),r=a[n]=s[n](e),{c(){t=q("div"),r.c(),X(t,"class","nav-element svelte-1ckzucp"),se(t,"selected",e[3])},m(e,r){H(e,t,r),a[n].m(t,null),o=!0},p(e,l){let c=n;n=i(e),n===c?a[n].p(e,l):(qe(),Ue(a[c],1,1,(()=>{a[c]=null})),Be(),r=a[n],r?r.p(e,l):(r=a[n]=s[n](e),r.c()),je(r,1),r.m(t,null)),(!o||8&l)&&se(t,"selected",e[3])},i(e){o||(je(r),o=!0)},o(e){Ue(r),o=!1},d(e){e&&z(t),a[n].d()}}}function u0(e){let t,n,r,o;const s=[o0,r0],a=[];function i(e,t){return e[1]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,[o]){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function d0(e,t,n){let r,o,s,i,l,c,u,d=a,$=a;y(e,no,(e=>n(2,c=e))),e.$$.on_destroy.push((()=>d())),e.$$.on_destroy.push((()=>$()));let{dataFormManager:p}=t,{field:m}=t;return e.$$set=e=>{"dataFormManager"in e&&n(0,p=e.dataFormManager),"field"in e&&n(1,m=e.field)},e.$$.update=()=>{1&e.$$.dirty&&(n(6,({selectedElement:r}=p),r),d(),d=g(r,(e=>n(8,l=e)))),2&e.$$.dirty&&(n(5,o=m?m.label:Fo(null)),$(),$=g(o,(e=>n(9,u=e)))),516&e.$$.dirty&&n(4,s=u??c("field")),258&e.$$.dirty&&n(3,i="field"===l?.type?l.field===m:!m)},[p,m,c,i,s,o,r,function(){m&&p.selectElement({type:"field",field:m})},l,u,()=>p.resetSelectedElement()]}class $0 extends ut{constructor(e){super(),ct(this,e,d0,u0,f,{dataFormManager:0,field:1})}}function p0(e){let t,n,r,o,s,a,i;const c=[Jx];let u={};for(let p=0;p<c.length;p+=1)u=l(u,c[p]);n=new Jd({props:u});let d=e[3]&&m0(e),$=e[2]&&g0(e);return a=new $0({props:{dataFormManager:e[0],field:e[1]}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),d&&d.c(),o=U(),$&&$.c(),s=U(),at(a.$$.fragment),X(t,"class","icon-holder svelte-9d62j1")},m(e,l){H(e,t,l),it(n,t,null),H(e,r,l),d&&d.m(e,l),H(e,o,l),$&&$.m(e,l),H(e,s,l),it(a,e,l),i=!0},p(e,t){const r=0&t?rt(c,[ot(Jx)]):{};n.$set(r),e[3]?d?(d.p(e,t),8&t&&je(d,1)):(d=m0(e),d.c(),je(d,1),d.m(o.parentNode,o)):d&&(qe(),Ue(d,1,1,(()=>{d=null})),Be()),e[2]?$?($.p(e,t),4&t&&je($,1)):($=g0(e),$.c(),je($,1),$.m(s.parentNode,s)):$&&(qe(),Ue($,1,1,(()=>{$=null})),Be());const i={};1&t&&(i.dataFormManager=e[0]),2&t&&(i.field=e[1]),a.$set(i)},i(e){i||(je(n.$$.fragment,e),je(d),je($),je(a.$$.fragment,e),i=!0)},o(e){Ue(n.$$.fragment,e),Ue(d),Ue($),Ue(a.$$.fragment,e),i=!1},d(e){e&&z(t),lt(n),e&&z(r),d&&d.d(e),e&&z(o),$&&$.d(e),e&&z(s),lt(a,e)}}}function m0(e){let t,n,r,o,s;t=new Hu({props:{appearance:"ghost",$$slots:{default:[f0]},$$scope:{ctx:e}}}),t.$on("click",e[4]);const a=[Jx];let i={};for(let c=0;c<a.length;c+=1)i=l(i,a[c]);return o=new Jd({props:i}),{c(){at(t.$$.fragment),n=U(),r=q("div"),at(o.$$.fragment),X(r,"class","icon-holder svelte-9d62j1")},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),it(o,r,null),s=!0},p(e,n){const r={};128&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r);const s=0&n?rt(a,[ot(Jx)]):{};o.$set(s)},i(e){s||(je(t.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),Ue(o.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r),lt(o)}}}function f0(e){let t,n;const r=[Id];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[ot(Id)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function g0(e){let t,n,r,o,s;t=new $0({props:{dataFormManager:e[0],field:e[2]}});const a=[Jx];let i={};for(let c=0;c<a.length;c+=1)i=l(i,a[c]);return o=new Jd({props:i}),{c(){at(t.$$.fragment),n=U(),r=q("div"),at(o.$$.fragment),X(r,"class","icon-holder svelte-9d62j1")},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),it(o,r,null),s=!0},p(e,n){const r={};1&n&&(r.dataFormManager=e[0]),4&n&&(r.field=e[2]),t.$set(r);const s=0&n?rt(a,[ot(Jx)]):{};o.$set(s)},i(e){s||(je(t.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),Ue(o.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r),lt(o)}}}function h0(e){let t,n,r,o;n=new $0({props:{dataFormManager:e[0]}});let s=e[1]&&p0(e);return{c(){t=q("div"),at(n.$$.fragment),r=U(),s&&s.c(),X(t,"class","form-nav svelte-9d62j1")},m(e,a){H(e,t,a),it(n,t,null),F(t,r),s&&s.m(t,null),o=!0},p(e,[r]){const o={};1&r&&(o.dataFormManager=e[0]),n.$set(o),e[1]?s?(s.p(e,r),2&r&&je(s,1)):(s=p0(e),s.c(),je(s,1),s.m(t,null)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be())},i(e){o||(je(n.$$.fragment,e),je(s),o=!0)},o(e){Ue(n.$$.fragment,e),Ue(s),o=!1},d(e){e&&z(t),lt(n),s&&s.d()}}}function y0(e,t,n){let r,o,s,a,{dataFormManager:i}=t,{field:l}=t;return e.$$set=e=>{"dataFormManager"in e&&n(0,i=e.dataFormManager),"field"in e&&n(1,l=e.field)},e.$$.update=()=>{2&e.$$.dirty&&n(6,r=l?.container.parent),64&e.$$.dirty&&n(2,o=r instanceof aG?void 0:r),4&e.$$.dirty&&n(5,s=o?.container.parent),32&e.$$.dirty&&n(3,a=s instanceof aG?void 0:s)},[i,l,o,a,function(){a?i.selectElement({type:"field",field:a}):i.resetSelectedElement()},s,r]}class b0 extends ut{constructor(e){super(),ct(this,e,y0,h0,f,{dataFormManager:0,field:1})}}function v0(e){let t,n,r;return n=new $y({props:{value:e[9],options:[...e[2]],getLabel:e[16],isOptionDisabled:e[17],$$slots:{default:[k0,({option:e,label:t})=>({19:e,20:t}),({option:e,label:t})=>(e?524288:0)|(t?1048576:0)]},$$scope:{ctx:e}}}),n.$on("change",e[18]),{c(){t=q("div"),at(n.$$.fragment)},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};512&t&&(r.value=e[9]),4&t&&(r.options=[...e[2]]),2&t&&(r.getLabel=e[16]),64&t&&(r.isOptionDisabled=e[17]),3671104&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function w0(e){let t,n;return t=new hL({props:{errors:e[7],fullWidth:!0}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};128&n&&(r.errors=e[7]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function _0(e){let t,n;return t=new t$({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function x0(e){let t,n;return t=new Eu({props:{$$slots:{content:[S0],trigger:[C0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2098176&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function C0(e){let t,n;const r=[{slot:"trigger"},Ad];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[r[0],ot(Ad)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function S0(e){let t,n,r=e[10]("you_do_not_have_access_to_role")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","content")},m(e,r){H(e,t,r),F(t,n)},p(e,t){1024&t&&r!==(r=e[10]("you_do_not_have_access_to_role")+"")&&Q(n,r)},d(e){e&&z(t)}}}function k0(e){let t,n,r,o,s=e[20]+"",a=!e[6].has(e[19]),i=a&&x0(e);return{c(){t=q("div"),n=j(s),r=U(),i&&i.c()},m(e,s){H(e,t,s),F(t,n),F(t,r),i&&i.m(t,null),o=!0},p(e,r){(!o||1048576&r)&&s!==(s=e[20]+"")&&Q(n,s),524352&r&&(a=!e[6].has(e[19])),a?i?(i.p(e,r),524352&r&&je(i,1)):(i=x0(e),i.c(),je(i,1),i.m(t,null)):i&&(qe(),Ue(i,1,1,(()=>{i=null})),Be())},i(e){o||(je(i),o=!0)},o(e){Ue(i),o=!1},d(e){e&&z(t),i&&i.d()}}}function M0(e){let t,n,r,o;const s=[_0,w0,v0],a=[];function i(e,t){return e[8]?0:e[7].length?1:2}return n=i(e),r=a[n]=s[n](e),{c(){t=q("div"),r.c()},m(e,r){H(e,t,r),a[n].m(t,null),o=!0},p(e,[o]){let l=n;n=i(e),n===l?a[n].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),r=a[n],r?r.p(e,o):(r=a[n]=s[n](e),r.c()),je(r,1),r.m(t,null))},i(e){o||(je(r),o=!0)},o(e){Ue(r),o=!1},d(e){e&&z(t),a[n].d()}}}function I0(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,b,v=a,w=a,_=a;y(e,no,(e=>n(10,b=e))),e.$$.on_destroy.push((()=>v())),e.$$.on_destroy.push((()=>w())),e.$$.on_destroy.push((()=>_()));const x=jM();y(e,x,(e=>n(14,m=e)));let{dataFormManager:C}=t;return e.$$set=e=>{"dataFormManager"in e&&n(0,C=e.dataFormManager)},e.$$.update=()=>{1&e.$$.dirty&&n(12,({schema:r}=C),r),4096&e.$$.dirty&&(n(3,o=r.database.constructCurrentRoleStore()),v(),v=g(o,(e=>n(13,p=e)))),4096&e.$$.dirty&&(n(4,s=r.database.constructConfiguredRolesStore()),w(),w=g(s,(e=>n(15,f=e)))),24&e.$$.dirty&&qF.runBatchConservatively([s.batchRunner(),o.batchRunner()]),40960&e.$$.dirty&&n(8,i=f.isLoading||p.isLoading),40960&e.$$.dirty&&n(7,l=[f.error,p.error].filter(_o)),32768&e.$$.dirty&&n(1,c=new ao(f.resolvedValue)),2&e.$$.dirty&&n(2,u=new Set([...c.values()].map((e=>e.id)))),24582&e.$$.dirty&&n(6,d=(()=>{if(m.isMathesarAdmin||p.resolvedValue?.super)return u;if(!p.resolvedValue)return new Set;const e=new Set([p.resolvedValue.name,...[...p.resolvedValue.parentRoles.values()].map((e=>e.name))]);return new Set([...c.values()].filter((t=>e.has(t.name))).map((e=>e.id)))})()),1&e.$$.dirty&&(n(5,({associatedRoleId:$}=C.dataFormStructure),$),_(),_=g($,(e=>n(9,h=e))))},[C,c,u,o,s,$,d,l,i,h,b,x,r,p,m,f,e=>_o(e)?c.get(e)?.name??"":"",e=>!d.has(e),e=>C.dataFormStructure.setAssociatedRoleId(e.detail??null)]}class T0 extends ut{constructor(e){super(),ct(this,e,I0,M0,f,{dataFormManager:0})}}function E0(e){let t,n;return t=new ym({props:{placeholder:e[4]("submit"),value:e[5]}}),t.$on("input",e[9]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.placeholder=e[4]("submit")),32&n&&(r.value=e[5]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function D0(e){let t,n,r;return n=new J$({props:{layout:"stacked",label:e[4]("button_label"),$$slots:{default:[E0]},$$scope:{ctx:e}}}),{c(){t=q("section"),at(n.$$.fragment),X(t,"class","svelte-14dkbe9")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};16&t&&(r.label=e[4]("button_label")),8241&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function O0(e){let t,n,r=e[4]("appearance")+"";return{c(){t=q("span"),n=j(r),X(t,"class","header svelte-14dkbe9"),X(t,"slot","label")},m(e,r){H(e,t,r),F(t,n)},p(e,t){16&t&&r!==(r=e[4]("appearance")+"")&&Q(n,r)},d(e){e&&z(t)}}}function N0(e){let t,n;return t=new Cg({props:{placeholder:e[4]("thank_you_for_submitting_form"),value:e[6]?.text}}),t.$on("input",e[10]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.placeholder=e[4]("thank_you_for_submitting_form")),64&n&&(r.value=e[6]?.text),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function A0(e){let t,n;return t=new x$({props:{checked:_o(e[7])}}),t.$on("change",e[11]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};128&n&&(r.checked=_o(e[7])),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function R0(e){let t,n;return t=new ym({props:{value:e[7]}}),t.$on("input",e[12]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};128&n&&(r.value=e[7]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function F0(e){let t,n,r,o,s,a,i=_o(e[7]);n=new J$({props:{layout:"stacked",label:e[4]("confirmation_message"),$$slots:{default:[N0]},$$scope:{ctx:e}}}),o=new J$({props:{layout:"inline-input-first",label:e[4]("redirect_to_url"),$$slots:{default:[A0]},$$scope:{ctx:e}}});let l=i&&R0(e);return{c(){t=q("section"),at(n.$$.fragment),r=U(),at(o.$$.fragment),s=U(),l&&l.c(),X(t,"class","svelte-14dkbe9")},m(e,i){H(e,t,i),it(n,t,null),F(t,r),it(o,t,null),F(t,s),l&&l.m(t,null),a=!0},p(e,r){const s={};16&r&&(s.label=e[4]("confirmation_message")),8273&r&&(s.$$scope={dirty:r,ctx:e}),n.$set(s);const a={};16&r&&(a.label=e[4]("redirect_to_url")),8321&r&&(a.$$scope={dirty:r,ctx:e}),o.$set(a),128&r&&(i=_o(e[7])),i?l?(l.p(e,r),128&r&&je(l,1)):(l=R0(e),l.c(),je(l,1),l.m(t,null)):l&&(qe(),Ue(l,1,1,(()=>{l=null})),Be())},i(e){a||(je(n.$$.fragment,e),je(o.$$.fragment,e),je(l),a=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),Ue(l),a=!1},d(e){e&&z(t),lt(n),lt(o),l&&l.d()}}}function P0(e){let t,n,r=e[4]("after_submission")+"";return{c(){t=q("span"),n=j(r),X(t,"class","header svelte-14dkbe9"),X(t,"slot","label")},m(e,r){H(e,t,r),F(t,n)},p(e,t){16&t&&r!==(r=e[4]("after_submission")+"")&&Q(n,r)},d(e){e&&z(t)}}}function L0(e){let t,n,r,o;return t=new _p({props:{boxed:!0,$$slots:{label:[O0],default:[D0]},$$scope:{ctx:e}}}),r=new _p({props:{boxed:!0,$$slots:{label:[P0],default:[F0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,s){it(t,e,s),H(e,n,s),it(r,e,s),o=!0},p(e,[n]){const o={};8241&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};8401&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function H0(e,t,n){let r,o,s,i,l,c,u,d,$=a,p=a,m=a;y(e,no,(e=>n(4,l=e))),e.$$.on_destroy.push((()=>$())),e.$$.on_destroy.push((()=>p())),e.$$.on_destroy.push((()=>m()));let{dataFormManager:f}=t;return e.$$set=e=>{"dataFormManager"in e&&n(8,f=e.dataFormManager)},e.$$.update=()=>{256&e.$$.dirty&&n(0,({dataFormStructure:r}=f),r),1&e.$$.dirty&&(n(3,({submitMessage:o,submitRedirectUrl:s,submitButtonLabel:i}=r),o,(n(2,s),m(),m=g(s,(e=>n(7,d=e))),s),(n(1,i),$(),$=g(i,(e=>n(5,c=e))),i)),p(),p=g(o,(e=>n(6,u=e))))},[r,i,s,o,l,c,u,d,f,e=>r.setSubmissionButtonLabel(Wo(e)),e=>r.setSubmissionMessage(Wo(e)),e=>r.setSubmissionRedirectUrl(e.detail?"":null),e=>{r.setSubmissionRedirectUrl(Wo(e))}]}class z0 extends ut{constructor(e){super(),ct(this,e,H0,L0,f,{dataFormManager:8})}}function V0(e){let t,n;return t=new ym({props:{value:e[5]}}),t.$on("input",e[12]),t.$on("blur",e[13]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.value=e[5]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function q0(e){let t,n;return t=new Cg({props:{value:e[7]}}),t.$on("input",e[14]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};128&n&&(r.value=e[7]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function B0(e){let t,n,r,o,s,a,i,l=e[6]("base_table")+"";return a=new GX({props:{table:e[8],boxed:!0}}),{c(){t=q("div"),n=q("span"),r=j(l),o=j(":"),s=U(),at(a.$$.fragment),X(t,"class","source-info svelte-yyk2og")},m(e,l){H(e,t,l),F(t,n),F(n,r),F(n,o),F(t,s),it(a,t,null),i=!0},p(e,t){(!i||64&t)&&l!==(l=e[6]("base_table")+"")&&Q(r,l);const n={};256&t&&(n.table=e[8]),a.$set(n)},i(e){i||(je(a.$$.fragment,e),i=!0)},o(e){Ue(a.$$.fragment,e),i=!1},d(e){e&&z(t),lt(a)}}}function j0(e){let t,n,r,o,s,a;t=new J$({props:{layout:"stacked",label:e[6]("name"),$$slots:{default:[V0]},$$scope:{ctx:e}}}),r=new J$({props:{layout:"stacked",label:e[6]("description"),$$slots:{default:[q0]},$$scope:{ctx:e}}});let i=e[8]&&B0(e);return{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),i&&i.c(),s=W()},m(e,l){it(t,e,l),H(e,n,l),it(r,e,l),H(e,o,l),i&&i.m(e,l),H(e,s,l),a=!0},p(e,n){const o={};64&n&&(o.label=e[6]("name")),65571&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const a={};64&n&&(a.label=e[6]("description")),65666&n&&(a.$$scope={dirty:n,ctx:e}),r.$set(a),e[8]?i?(i.p(e,n),256&n&&je(i,1)):(i=B0(e),i.c(),je(i,1),i.m(s.parentNode,s)):i&&(qe(),Ue(i,1,1,(()=>{i=null})),Be())},i(e){a||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(i),a=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(i),a=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),i&&i.d(e),e&&z(s)}}}function U0(e){let t,n;return t=new T0({props:{dataFormManager:e[0]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.dataFormManager=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function W0(e){let t,n=e[6]("associated_role_help")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){64&r&&n!==(n=e[6]("associated_role_help")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Y0(e){let t,n,r,o,s,a=e[6]("associated_role")+"";return o=new H$({props:{$$slots:{default:[W0]},$$scope:{ctx:e}}}),{c(){t=q("div"),n=j(a),r=U(),at(o.$$.fragment),X(t,"slot","title")},m(e,a){H(e,t,a),F(t,n),F(t,r),it(o,t,null),s=!0},p(e,t){(!s||64&t)&&a!==(a=e[6]("associated_role")+"")&&Q(n,a);const r={};65600&t&&(r.$$scope={dirty:t,ctx:e}),o.$set(r)},i(e){s||(je(o.$$.fragment,e),s=!0)},o(e){Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(o)}}}function K0(e){let t,n;return t=new z0({props:{dataFormManager:e[0]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.dataFormManager=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function G0(e){let t,n,r,o,s,a=e[6]("delete_form")+"";const i=[Kx];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return t=new Jd({props:c}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(a)},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),F(r,o),s=!0},p(e,n){const r=0&n?rt(i,[ot(Kx)]):{};t.$set(r),(!s||64&n)&&a!==(a=e[6]("delete_form")+"")&&Q(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function X0(e){let t,n;return t=new Hu({props:{appearance:"danger",$$slots:{default:[G0]},$$scope:{ctx:e}}}),t.$on("click",e[9]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};65600&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Z0(e){let t,n,r,o,s,a,i,l;return t=new RJ({props:{title:e[6]("properties"),$$slots:{default:[j0]},$$scope:{ctx:e}}}),r=new RJ({props:{$$slots:{title:[Y0],default:[U0]},$$scope:{ctx:e}}}),s=new RJ({props:{title:e[6]("submission_settings"),$$slots:{default:[K0]},$$scope:{ctx:e}}}),i=new RJ({props:{title:e[6]("actions"),$$slots:{default:[X0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),at(s.$$.fragment),a=U(),at(i.$$.fragment)},m(e,c){it(t,e,c),H(e,n,c),it(r,e,c),H(e,o,c),it(s,e,c),H(e,a,c),it(i,e,c),l=!0},p(e,n){const o={};64&n&&(o.title=e[6]("properties")),66019&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const a={};65601&n&&(a.$$scope={dirty:n,ctx:e}),r.$set(a);const l={};64&n&&(l.title=e[6]("submission_settings")),65537&n&&(l.$$scope={dirty:n,ctx:e}),s.$set(l);const c={};64&n&&(c.title=e[6]("actions")),65600&n&&(c.$$scope={dirty:n,ctx:e}),i.$set(c)},i(e){l||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),je(i.$$.fragment,e),l=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),Ue(i.$$.fragment,e),l=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),lt(s,e),e&&z(a),lt(i,e)}}}function J0(e){let t,n;return t=new LJ({props:{$$slots:{default:[Z0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};66019&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Q0(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f=a,h=a,b=a;y(e,no,(e=>n(6,$=e))),e.$$.on_destroy.push((()=>f())),e.$$.on_destroy.push((()=>h())),e.$$.on_destroy.push((()=>b()));let{dataFormManager:v}=t;return e.$$set=e=>{"dataFormManager"in e&&n(0,v=e.dataFormManager)},e.$$.update=()=>{1&e.$$.dirty&&n(1,({dataFormStructure:r,deleteDataForm:o}=v),r),2&e.$$.dirty&&(n(4,({name:s,description:i,baseTableOid:l}=r),s,(n(3,i),h(),h=g(i,(e=>n(7,p=e))),i),(n(11,l),n(1,r),n(0,v))),f(),f=g(s,(e=>n(5,d=e)))),2049&e.$$.dirty&&n(10,c=v.getTableStructure(l)),1024&e.$$.dirty&&(n(2,({table:u}=c),u),b(),b=g(u,(e=>n(8,m=e))))},[v,r,u,i,s,d,$,p,m,function(){XS({identifierType:$("form"),identifierName:d,onProceed:async()=>{await o()}})},c,l,e=>r.setName(Wo(e)),()=>v.checkAndSetDefaultFormName(),e=>r.setDescription(Wo(e))]}class e2 extends ut{constructor(e){super(),ct(this,e,Q0,J0,f,{dataFormManager:0})}}function t2(e){let t,n;return t=new e2({props:{dataFormManager:e[0]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.dataFormManager=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function n2(e){let t,n;return t=new n0({props:{dataFormManager:e[0],field:e[2].field}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.dataFormManager=e[0]),4&n&&(r.field=e[2].field),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function r2(e){let t,n,r,o,s,a,i,l;r=new b0({props:{field:e[2]&&"field"in e[2]?e[2].field:void 0,dataFormManager:e[0]}});const c=[n2,t2],u=[];function d(e,t){return"field"===e[2]?.type?0:1}return a=d(e),i=u[a]=c[a](e),{c(){t=q("div"),n=q("div"),at(r.$$.fragment),o=U(),s=q("div"),i.c(),X(n,"class","nav"),X(s,"class","content svelte-1pvha77"),X(t,"class","data-form-inspector svelte-1pvha77")},m(e,i){H(e,t,i),F(t,n),it(r,n,null),F(t,o),F(t,s),u[a].m(s,null),l=!0},p(e,[t]){const n={};4&t&&(n.field=e[2]&&"field"in e[2]?e[2].field:void 0),1&t&&(n.dataFormManager=e[0]),r.$set(n);let o=a;a=d(e),a===o?u[a].p(e,t):(qe(),Ue(u[o],1,1,(()=>{u[o]=null})),Be(),i=u[a],i?i.p(e,t):(i=u[a]=c[a](e),i.c()),je(i,1),i.m(s,null))},i(e){l||(je(r.$$.fragment,e),je(i),l=!0)},o(e){Ue(r.$$.fragment,e),Ue(i),l=!1},d(e){e&&z(t),lt(r),u[a].d()}}}function o2(e,t,n){let r,o,s=a;e.$$.on_destroy.push((()=>s()));let{dataFormManager:i}=t;return e.$$set=e=>{"dataFormManager"in e&&n(0,i=e.dataFormManager)},e.$$.update=()=>{1&e.$$.dirty&&(n(1,({selectedElement:r}=i),r),s(),s=g(r,(e=>n(2,o=e))))},[i,r,o]}class s2 extends ut{constructor(e){super(),ct(this,e,o2,r2,f,{dataFormManager:0})}}function a2(e){let t,n,r,o,s,a;return r=new SJ({props:{dataFormManager:e[0],showBranding:!1}}),{c(){t=q("div"),n=q("div"),at(r.$$.fragment),X(n,"class","form-holder svelte-h6s6ne"),X(t,"class","workarea svelte-h6s6ne")},m(i,l){H(i,t,l),F(t,n),it(r,n,null),o=!0,s||(a=Y(n,"click",e[4]),s=!0)},p(e,t){const n={};1&t&&(n.dataFormManager=e[0]),r.$set(n)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(t),lt(r),s=!1,a()}}}function i2(e){let t,n;return t=new s2({props:{dataFormManager:e[1]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.dataFormManager=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function l2(e){let t,n,r=e[1]&&i2(e);return{c(){t=q("div"),r&&r.c(),X(t,"class","data-form-inspector-panel svelte-h6s6ne"),X(t,"slot","panel")},m(e,o){H(e,t,o),r&&r.m(t,null),n=!0},p(e,n){e[1]?r?(r.p(e,n),2&n&&je(r,1)):(r=i2(e),r.c(),je(r,1),r.m(t,null)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){e&&z(t),r&&r.d()}}}function c2(e){let t,n,r,o;function s(t){e[6](t)}let a={minSizePx:200,maxSizePx:600,showPanel:e[2],$$slots:{panel:[l2],default:[a2]},$$scope:{ctx:e}};return void 0!==e[3]&&(a.sizePx=e[3]),n=new Hg({props:a}),Ce.push((()=>st(n,"sizePx",s))),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","data-form-canvas svelte-h6s6ne")},m(e,r){H(e,t,r),it(n,t,null),o=!0},p(e,[t]){const o={};4&t&&(o.showPanel=e[2]),131&t&&(o.$$scope={dirty:t,ctx:e}),!r&&8&t&&(r=!0,o.sizePx=e[3],Oe((()=>r=!1))),n.$set(o)},i(e){o||(je(n.$$.fragment,e),o=!0)},o(e){Ue(n.$$.fragment,e),o=!1},d(e){e&&z(t),lt(n)}}}function u2(e,t,n){let r,o,s,a;y(e,lM,(e=>n(5,s=e))),y(e,cM,(e=>n(3,a=e)));let{dataFormManager:i}=t;return e.$$set=e=>{"dataFormManager"in e&&n(0,i=e.dataFormManager)},e.$$.update=()=>{1&e.$$.dirty&&n(1,r=i instanceof uG?i:void 0),34&e.$$.dirty&&n(2,o=!!r&&s)},[i,r,o,a,function(e){if(r){const{target:t}=e;t instanceof HTMLElement&&(t.closest("[data-form-selectable]")||r.resetSelectedElement())}},s,function(e){a=e,cM.set(a)}]}class d2 extends ut{constructor(e){super(),ct(this,e,u2,c2,f,{dataFormManager:0})}}class $2{constructor(t){e(this,"rawSource",void 0),this.rawSource=t}getColumnInfo(e,t){const n=this.rawSource[e]?.columns?.[t];if(!n)throw BK({tableOid:e,columnAttnum:t});if("error"in n){if(n.error.code===qK)throw BK({tableOid:e,columnAttnum:t});throw sL.fromAnything(n.error)}return n}}function p2(e){let t,n,r,o,s;return document.title=t=zK(e[1]),o=new SJ({props:{dataFormManager:e[0]}}),{c(){n=U(),r=q("div"),at(o.$$.fragment),X(r,"class","data-form-filler svelte-1bibi53")},m(e,t){H(e,n,t),H(e,r,t),it(o,r,null),s=!0},p(e,[n]){(!s||2&n)&&t!==(t=zK(e[1]))&&(document.title=t);const r={};1&n&&(r.dataFormManager=e[0]),o.$set(r)},i(e){s||(je(o.$$.fragment,e),s=!0)},o(e){Ue(o.$$.fragment,e),s=!1},d(e){e&&z(n),e&&z(r),lt(o)}}}function m2(e,t,n){let r,o,{rawDataForm:s}=t,{formSource:a}=t;return e.$$set=e=>{"rawDataForm"in e&&n(2,s=e.rawDataForm),"formSource"in e&&n(3,a=e.formSource)},e.$$.update=()=>{4&e.$$.dirty&&n(1,r=s.name.trim()),12&e.$$.dirty&&n(0,o=new cG({buildDataFormStructure:aG.factoryFromRawInfo(s,new $2(a)),token:$t(s.token)}))},[o,r,s,a]}class f2 extends ut{constructor(e){super(),ct(this,e,m2,p2,f,{rawDataForm:2,formSource:3})}}function g2(e){let t,n;return t=new RK({props:{showGoToRoot:!1,$$slots:{default:[b2]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};260&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function h2(e){let t,n,r,o;const s=[w2,v2],a=[];function i(e,t){return e[1].resolvedValue.publish_public?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function y2(e){let t,n;return t=new HK({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function b2(e){let t,n;return t=new hL({props:{errors:e[2],showFallbackError:!0}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.errors=e[2]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function v2(e){let t,n;return t=new RK({props:{showGoToRoot:!1,$$slots:{default:[_2]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};272&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function w2(e){let t,n;return t=new f2({props:{rawDataForm:e[1].resolvedValue,formSource:e[0].resolvedValue}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.rawDataForm=e[1].resolvedValue),1&n&&(r.formSource=e[0].resolvedValue),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function _2(e){let t,n=e[4]("this_form_is_not_publicly_shared")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){16&r&&n!==(n=e[4]("this_form_is_not_publicly_shared")+"")&&Q(t,n)},d(e){e&&z(t)}}}function x2(e){let t,n,r,o;const s=[y2,h2,g2],a=[];function i(e,t){return e[3]?0:e[1].resolvedValue&&e[0].resolvedValue?1:2}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,[o]){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function C2(e,t,n){let r,o,s,a,i;y(e,no,(e=>n(4,i=e)));let{formToken:l}=t;const c=new qF(PM.forms.get);y(e,c,(e=>n(1,a=e)));const u=new qF(PM.forms.get_source_info);return y(e,u,(e=>n(0,s=e))),e.$$set=e=>{"formToken"in e&&n(7,l=e.formToken)},e.$$.update=()=>{128&e.$$.dirty&&qF.runBatchConservatively([c.batchRunner({form_token:l}),u.batchRunner({form_token:l})]),3&e.$$.dirty&&n(3,r=a.isLoading||s.isLoading),3&e.$$.dirty&&n(2,o=[a.error,s.error].filter((e=>_o(e))))},[s,a,o,r,i,c,u,l]}class S2 extends ut{constructor(e){super(),ct(this,e,C2,x2,f,{formToken:7})}}function k2(e){let t,n;return t=new S2({props:{formToken:e[0].params.token}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.formToken=e[0].params.token),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function M2(e){let t,n;return t=new sV({props:{path:"/forms/:token/*",$$slots:{default:[k2,({meta:e})=>({0:e}),({meta:e})=>e?1:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};3&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}class I2 extends ut{constructor(e){super(),ct(this,e,null,M2,f,{})}}const T2=e=>({}),E2=e=>({}),D2=e=>({}),O2=e=>({}),N2=e=>({}),A2=e=>({});function R2(e){let t,n,r,o,s,a=e[0]&&F2(e);return{c(){t=q("div"),a&&a.c(),n=U(),r=q("span"),o=j(e[2]),X(r,"class","entity-type-name svelte-12scu0z"),X(t,"class","entity-type-container svelte-12scu0z")},m(e,i){H(e,t,i),a&&a.m(t,null),F(t,n),F(t,r),F(r,o),s=!0},p(e,r){e[0]?a?(a.p(e,r),1&r&&je(a,1)):(a=F2(e),a.c(),je(a,1),a.m(t,n)):a&&(qe(),Ue(a,1,1,(()=>{a=null})),Be()),(!s||4&r)&&Q(o,e[2])},i(e){s||(je(a),s=!0)},o(e){Ue(a),s=!1},d(e){e&&z(t),a&&a.d()}}}function F2(e){let t,n,r;const o=[e[0],{size:"1.2em"}];let s={};for(let a=0;a<o.length;a+=1)s=l(s,o[a]);return n=new Jd({props:s}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","entity-icon svelte-12scu0z")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r=1&t?rt(o,[ot(e[0]),o[1]]):{};n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function P2(e){let t,n,r,o,s,a,i,l,c,u,d,$,p=e[2]&&R2(e);const m=e[4].subText,f=b(m,e,e[3],A2),g=e[4].action,h=b(g,e,e[3],O2),y=e[4].bottom,v=b(y,e,e[3],E2);return{c(){t=q("div"),n=q("div"),r=q("div"),o=q("div"),p&&p.c(),s=U(),a=q("span"),i=j(e[1]),l=U(),f&&f.c(),c=U(),u=q("div"),h&&h.c(),d=U(),v&&v.c(),X(a,"class","entity-name svelte-12scu0z"),X(o,"class","left-meta-container svelte-12scu0z"),X(r,"class","entity-container svelte-12scu0z"),X(u,"class","action svelte-12scu0z"),X(n,"class","top svelte-12scu0z"),X(t,"class","page-title-and-meta svelte-12scu0z")},m(e,m){H(e,t,m),F(t,n),F(n,r),F(r,o),p&&p.m(o,null),F(o,s),F(o,a),F(a,i),F(o,l),f&&f.m(o,null),F(n,c),F(n,u),h&&h.m(u,null),F(t,d),v&&v.m(t,null),$=!0},p(e,[t]){e[2]?p?(p.p(e,t),4&t&&je(p,1)):(p=R2(e),p.c(),je(p,1),p.m(o,s)):p&&(qe(),Ue(p,1,1,(()=>{p=null})),Be()),(!$||2&t)&&Q(i,e[1]),f&&f.p&&(!$||8&t)&&_(f,m,e,e[3],$?w(m,e[3],t,N2):x(e[3]),A2),h&&h.p&&(!$||8&t)&&_(h,g,e,e[3],$?w(g,e[3],t,D2):x(e[3]),O2),v&&v.p&&(!$||8&t)&&_(v,y,e,e[3],$?w(y,e[3],t,T2):x(e[3]),E2)},i(e){$||(je(p),je(f,e),je(h,e),je(v,e),$=!0)},o(e){Ue(p),Ue(f,e),Ue(h,e),Ue(v,e),$=!1},d(e){e&&z(t),p&&p.d(),f&&f.d(e),h&&h.d(e),v&&v.d(e)}}}function L2(e,t,n){let{$$slots:r={},$$scope:o}=t,{icon:s}=t,{name:a}=t,{entityTypeName:i}=t;return e.$$set=e=>{"icon"in e&&n(0,s=e.icon),"name"in e&&n(1,a=e.name),"entityTypeName"in e&&n(2,i=e.entityTypeName),"$$scope"in e&&n(3,o=e.$$scope)},[s,a,i,o,r]}class H2 extends ut{constructor(e){super(),ct(this,e,L2,P2,f,{icon:0,name:1,entityTypeName:2})}}const z2=e=>({}),V2=e=>({slot:"action"}),q2=e=>({}),B2=e=>({slot:"bottom"}),j2=e=>({}),U2=e=>({slot:"subText"});function W2(e){let t;const n=e[6].action,r=b(n,e,e[7],V2);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||128&o)&&_(r,n,e,e[7],t?w(n,e[7],o,z2):x(e[7]),V2)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function Y2(e){let t;const n=e[6].bottom,r=b(n,e,e[7],B2);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||128&o)&&_(r,n,e,e[7],t?w(n,e[7],o,q2):x(e[7]),B2)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function K2(e){let t;const n=e[6].subText,r=b(n,e,e[7],U2);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||128&o)&&_(r,n,e,e[7],t?w(n,e[7],o,j2):x(e[7]),U2)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function G2(e){let t,n,r,o;const s=[{icon:e[0]},{name:e[1]},e[4]];let a={$$slots:{subText:[K2],bottom:[Y2],action:[W2]},$$scope:{ctx:e}};for(let i=0;i<s.length;i+=1)a=l(a,s[i]);return r=new H2({props:a}),{c(){t=q("div"),n=q("div"),at(r.$$.fragment),X(n,"class","content svelte-1ohtb61"),se(n,"restrict-width",e[2]),X(t,"class","app-secondary-header svelte-1ohtb61"),X(t,"style",e[3])},m(e,s){H(e,t,s),F(t,n),it(r,n,null),o=!0},p(e,[a]){const i=19&a?rt(s,[1&a&&{icon:e[0]},2&a&&{name:e[1]},16&a&&ot(e[4])]):{};128&a&&(i.$$scope={dirty:a,ctx:e}),r.$set(i),(!o||4&a)&&se(n,"restrict-width",e[2]),(!o||8&a)&&X(t,"style",e[3])},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(t),lt(r)}}}function X2(e,t,n){let r;const o=["icon","name","restrictWidth","cssVariables"];let s=S(t,o),{$$slots:a={},$$scope:i}=t,{icon:c}=t,{name:u}=t,{restrictWidth:d=!0}=t,{cssVariables:$}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(4,s=S(t,o)),"icon"in e&&n(0,c=e.icon),"name"in e&&n(1,u=e.name),"restrictWidth"in e&&n(2,d=e.restrictWidth),"cssVariables"in e&&n(5,$=e.cssVariables),"$$scope"in e&&n(7,i=e.$$scope)},e.$$.update=()=>{32&e.$$.dirty&&n(3,r=$?Jo($):void 0)},[c,u,d,r,s,$,a,i]}class Z2 extends ut{constructor(e){super(),ct(this,e,X2,G2,f,{icon:0,name:1,restrictWidth:2,cssVariables:5})}}const J2=e=>({}),Q2=e=>({}),e3=e=>({}),t3=e=>({});function n3(e){let t,n,r,o,s,a,i,c,u,d,$,p;const m=[e[1],{size:"0.7em"},{class:"resource-icon"}];let f={};for(let b=0;b<m.length;b+=1)f=l(f,m[b]);s=new Jd({props:f});const g=e[3].title,h=b(g,e,e[2],t3),y=[OC,{size:"0.7em"}];let v={};for(let b=0;b<y.length;b+=1)v=l(v,y[b]);u=new Jd({props:v});const C=e[3].description,S=b(C,e,e[2],Q2);return{c(){t=q("div"),n=q("span"),r=q("a"),o=q("span"),at(s.$$.fragment),a=U(),h&&h.c(),i=U(),c=q("span"),at(u.$$.fragment),d=U(),$=q("div"),S&&S.c(),X(o,"class","icon-wrapper svelte-1c6jvxs"),X(c,"class","external-link-wrapper svelte-1c6jvxs"),X(r,"class","title svelte-1c6jvxs"),X(r,"href",e[0]),X(r,"target","_blank"),X($,"class","description svelte-1c6jvxs"),X(t,"class","resource-card svelte-1c6jvxs")},m(e,l){H(e,t,l),F(t,n),F(n,r),F(r,o),it(s,o,null),F(r,a),h&&h.m(r,null),F(r,i),F(r,c),it(u,c,null),F(t,d),F(t,$),S&&S.m($,null),p=!0},p(e,[t]){const n=2&t?rt(m,[ot(e[1]),m[1],m[2]]):{};s.$set(n),h&&h.p&&(!p||4&t)&&_(h,g,e,e[2],p?w(g,e[2],t,e3):x(e[2]),t3);const o=0&t?rt(y,[ot(OC),y[1]]):{};u.$set(o),(!p||1&t)&&X(r,"href",e[0]),S&&S.p&&(!p||4&t)&&_(S,C,e,e[2],p?w(C,e[2],t,J2):x(e[2]),Q2)},i(e){p||(je(s.$$.fragment,e),je(h,e),je(u.$$.fragment,e),je(S,e),p=!0)},o(e){Ue(s.$$.fragment,e),Ue(h,e),Ue(u.$$.fragment,e),Ue(S,e),p=!1},d(e){e&&z(t),lt(s),h&&h.d(e),lt(u),S&&S.d(e)}}}function r3(e,t,n){let{$$slots:r={},$$scope:o}=t,{href:s}=t,{icon:a}=t;return e.$$set=e=>{"href"in e&&n(0,s=e.href),"icon"in e&&n(1,a=e.icon),"$$scope"in e&&n(2,o=e.$$scope)},[s,a,o,r]}class o3 extends ut{constructor(e){super(),ct(this,e,r3,n3,f,{href:0,icon:1})}}function s3(e){let t,n,r=e[0]("documentation")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","title")},m(e,r){H(e,t,r),F(t,n)},p(e,t){1&t&&r!==(r=e[0]("documentation")+"")&&Q(n,r)},d(e){e&&z(t)}}}function a3(e){let t,n,r=e[0]("user_guide_description")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","description")},m(e,r){H(e,t,r),F(t,n)},p(e,t){1&t&&r!==(r=e[0]("user_guide_description")+"")&&Q(n,r)},d(e){e&&z(t)}}}function i3(e){let t,n;return t=new o3({props:{icon:TC,href:hI("userGuide"),$$slots:{description:[a3],title:[s3]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};3&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function l3(e,t,n){let r;return y(e,no,(e=>n(0,r=e))),[r]}class c3 extends ut{constructor(e){super(),ct(this,e,l3,i3,f,{})}}function u3(e){let t,n,r=e[0]("chat_with_community")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","title")},m(e,r){H(e,t,r),F(t,n)},p(e,t){1&t&&r!==(r=e[0]("chat_with_community")+"")&&Q(n,r)},d(e){e&&z(t)}}}function d3(e){let t,n,r=e[0]("connect_with_community_help")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","description")},m(e,r){H(e,t,r),F(t,n)},p(e,t){1&t&&r!==(r=e[0]("connect_with_community_help")+"")&&Q(n,r)},d(e){e&&z(t)}}}function $3(e){let t,n;return t=new o3({props:{icon:SC,href:bI("community"),$$slots:{description:[d3],title:[u3]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};3&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function p3(e,t,n){let r;return y(e,no,(e=>n(0,r=e))),[r]}class m3 extends ut{constructor(e){super(),ct(this,e,p3,$3,f,{})}}function f3(e){let t,n,r=e[0]("support_our_mission")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","title")},m(e,r){H(e,t,r),F(t,n)},p(e,t){1&t&&r!==(r=e[0]("support_our_mission")+"")&&Q(n,r)},d(e){e&&z(t)}}}function g3(e){let t,n,r=e[0]("donate_blurb")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","description")},m(e,r){H(e,t,r),F(t,n)},p(e,t){1&t&&r!==(r=e[0]("donate_blurb")+"")&&Q(n,r)},d(e){e&&z(t)}}}function h3(e){let t,n,r;return t=new o3({props:{icon:EC,href:bI("donate"),$$slots:{description:[g3],title:[f3]},$$scope:{ctx:e}}}),{c(){n=q("div"),at(t.$$.fragment),te(n,"display","contents"),te(n,"--icon-fill-color","var(--color-brand)"),te(n,"--icon-bg-color","var(--color-brand-10)")},m(e,o){H(e,n,o),it(t,n,null),r=!0},p(e,[n]){const r={};3&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){e&&z(n),lt(t,e)}}}function y3(e,t,n){let r;return y(e,no,(e=>n(0,r=e))),[r]}class b3 extends ut{constructor(e){super(),ct(this,e,y3,h3,f,{})}}function v3(e){let t,n,r=e[0]("stay_informed")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","title")},m(e,r){H(e,t,r),F(t,n)},p(e,t){1&t&&r!==(r=e[0]("stay_informed")+"")&&Q(n,r)},d(e){e&&z(t)}}}function w3(e){let t,n,r=e[0]("join_mailing_list_help")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","description")},m(e,r){H(e,t,r),F(t,n)},p(e,t){1&t&&r!==(r=e[0]("join_mailing_list_help")+"")&&Q(n,r)},d(e){e&&z(t)}}}function _3(e){let t,n;return t=new o3({props:{icon:LC,href:bI("mailingList"),$$slots:{description:[w3],title:[v3]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};3&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function x3(e,t,n){let r;return y(e,no,(e=>n(0,r=e))),[r]}class C3 extends ut{constructor(e){super(),ct(this,e,x3,_3,f,{})}}const S3=e=>({}),k3=e=>({}),M3=e=>({}),I3=e=>({});function T3(e){let t,n,r,o;const s=e[4].resultInfo,a=b(s,e,e[6],k3);return r=new Hu({props:{appearance:"secondary",$$slots:{default:[E3]},$$scope:{ctx:e}}}),r.$on("click",e[3]),{c(){t=q("div"),a&&a.c(),n=U(),at(r.$$.fragment),X(t,"class","search-results-info svelte-13vmmh3")},m(e,s){H(e,t,s),a&&a.m(t,null),F(t,n),it(r,t,null),o=!0},p(e,t){a&&a.p&&(!o||64&t)&&_(a,s,e,e[6],o?w(s,e[6],t,S3):x(e[6]),k3);const n={};68&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i(e){o||(je(a,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(a,e),Ue(r.$$.fragment,e),o=!1},d(e){e&&z(t),a&&a.d(e),lt(r)}}}function E3(e){let t,n=e[2]("clear")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){4&r&&n!==(n=e[2]("clear")+"")&&Q(t,n)},d(e){e&&z(t)}}}function D3(e){let t,n,r,o,s,a,i,l;function c(t){e[5](t)}let u={placeholder:e[1],prefixIcon:Md};void 0!==e[0]&&(u.value=e[0]),o=new Mg({props:u}),Ce.push((()=>st(o,"value",c)));const d=e[4].action,$=b(d,e,e[6],I3);let p=e[0]&&T3(e);return{c(){t=q("div"),n=q("div"),r=q("div"),at(o.$$.fragment),a=U(),$&&$.c(),i=U(),p&&p.c(),X(r,"class","search-container svelte-13vmmh3"),X(n,"class","actions-container svelte-13vmmh3"),X(t,"class","container svelte-13vmmh3")},m(e,s){H(e,t,s),F(t,n),F(n,r),it(o,r,null),F(n,a),$&&$.m(n,null),F(t,i),p&&p.m(t,null),l=!0},p(e,[n]){const r={};2&n&&(r.placeholder=e[1]),!s&&1&n&&(s=!0,r.value=e[0],Oe((()=>s=!1))),o.$set(r),$&&$.p&&(!l||64&n)&&_($,d,e,e[6],l?w(d,e[6],n,M3):x(e[6]),I3),e[0]?p?(p.p(e,n),1&n&&je(p,1)):(p=T3(e),p.c(),je(p,1),p.m(t,null)):p&&(qe(),Ue(p,1,1,(()=>{p=null})),Be())},i(e){l||(je(o.$$.fragment,e),je($,e),je(p),l=!0)},o(e){Ue(o.$$.fragment,e),Ue($,e),Ue(p),l=!1},d(e){e&&z(t),lt(o),$&&$.d(e),p&&p.d()}}}function O3(e,t,n){let r;y(e,no,(e=>n(2,r=e)));let{$$slots:o={},$$scope:s}=t;const a=ye();let{searchQuery:i}=t,{placeholder:l}=t;return e.$$set=e=>{"searchQuery"in e&&n(0,i=e.searchQuery),"placeholder"in e&&n(1,l=e.placeholder),"$$scope"in e&&n(6,s=e.$$scope)},[i,l,r,function(){a("clear")},o,function(e){i=e,n(0,i)},s]}class N3 extends ut{constructor(e){super(),ct(this,e,O3,D3,f,{searchQuery:0,placeholder:1})}}const A3=e=>({}),R3=e=>({}),F3=e=>({}),P3=e=>({slot:"action"}),L3=e=>({}),H3=e=>({slot:"resultInfo"});function z3(e){let t;const n=e[2].action,r=b(n,e,e[5],P3);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||32&o)&&_(r,n,e,e[5],t?w(n,e[5],o,F3):x(e[5]),P3)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function V3(e){let t;const n=e[2].resultInfo,r=b(n,e,e[5],H3);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||32&o)&&_(r,n,e,e[5],t?w(n,e[5],o,L3):x(e[5]),H3)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function q3(e){let t,n,r,o,s;function a(t){e[3](t)}let i={placeholder:e[1],$$slots:{resultInfo:[V3],action:[z3]},$$scope:{ctx:e}};void 0!==e[0]&&(i.searchQuery=e[0]),n=new N3({props:i}),Ce.push((()=>st(n,"searchQuery",a))),n.$on("clear",e[4]);const l=e[2].content,c=b(l,e,e[5],R3);return{c(){t=q("div"),at(n.$$.fragment),o=U(),c&&c.c(),X(t,"class","container svelte-1nk3mrm")},m(e,r){H(e,t,r),it(n,t,null),F(t,o),c&&c.m(t,null),s=!0},p(e,[t]){const o={};2&t&&(o.placeholder=e[1]),32&t&&(o.$$scope={dirty:t,ctx:e}),!r&&1&t&&(r=!0,o.searchQuery=e[0],Oe((()=>r=!1))),n.$set(o),c&&c.p&&(!s||32&t)&&_(c,l,e,e[5],s?w(l,e[5],t,A3):x(e[5]),R3)},i(e){s||(je(n.$$.fragment,e),je(c,e),s=!0)},o(e){Ue(n.$$.fragment,e),Ue(c,e),s=!1},d(e){e&&z(t),lt(n),c&&c.d(e)}}}function B3(e,t,n){let{$$slots:r={},$$scope:o}=t,{searchPlaceholder:s}=t,{searchQuery:a}=t;return e.$$set=e=>{"searchPlaceholder"in e&&n(1,s=e.searchPlaceholder),"searchQuery"in e&&n(0,a=e.searchQuery),"$$scope"in e&&n(5,o=e.$$scope)},[a,s,r,function(e){a=e,n(0,a)},function(t){_e.call(this,e,t)},o]}class j3 extends ut{constructor(e){super(),ct(this,e,B3,q3,f,{searchPlaceholder:1,searchQuery:0})}}function U3(e,t){const n=new MutationObserver((()=>{e.isConnected||(t(),n.disconnect())}));n.observe(document.body,{childList:!0,subtree:!0})}function W3(e){const t=e.parentElement;if(t)return function(e){const t=window.getComputedStyle(e),{overflowY:n}=t;return("auto"===n||"scroll"===n)&&e.scrollHeight>e.clientHeight}(t)?t:W3(t)}function Y3(e,t){const n=document.createElement("div");n.classList.add("new-item-highlighter__hint",t),n.style.setProperty("transition","opacity 3000ms 10000ms");const r=document.createElement("div");return r.textContent=e,r.className="message",n.appendChild(function(){const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("viewBox","0 0 400 400");const t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d","m 358,179.5 c 3.8,-8.8 2,-19 -4.6,-26 L 217.4,9.5 C 212.9,4.7 206.6,2 200,2 193.4,2 187.1,4.7 182.6,9.5 l -136,144 c -6.6,7 -8.4,17.2 -4.6,26 3.8,8.8 12.4,14.5 22,14.5 h 72 V 400 H 264 V 194 h 72 c 9.6,0 18.2,-5.7 22,-14.5 z"),e.appendChild(t),e}()),n.appendChild(r),n}function K3(e){const t=function(){const e=document.createElement("div");e.className="effect";const t=document.createElement("div");return t.className="new-item-highlighter",t.appendChild(e),t}();function n(){t.remove()}t.style.setProperty("--duration","2000ms"),document.body.appendChild(t),function n(){if(!e.isConnected)return;const r=e.getBoundingClientRect();Object.assign(t.style,function(e){return{top:`${e.top}px`,left:`${e.left}px`,width:`${e.width}px`,height:`${e.height}px`}}(r)),requestAnimationFrame(n)}(),U3(e,n),setTimeout(n,2e3)}function G3(e,t){let n;const r=new IntersectionObserver((r=>{const s=r[0];s.isIntersecting&&s.intersectionRatio>=.5?(K3(e),o()):t.scrollHint&&!n&&(n=function(e,t){const n=W3(e);if(!n)return()=>{};const r=n.getBoundingClientRect().top,o=e.getBoundingClientRect().top>r?"down":"up",s=Y3(t,o);document.body.appendChild(s);const a=s.getBoundingClientRect(),i=new ResizeObserver((function(){if(!n)return;const e=n.getBoundingClientRect(),t="up"===o?e.top:e.bottom-a.height,r=e.left+(e.width-a.width)/2;s.style.top=`${t}px`,s.style.left=`${r}px`}));function l(){s.remove(),i.disconnect(),document.body.removeEventListener("click",l)}return i.observe(n),i.observe(document.body),s.addEventListener("click",(function(){if(!n)return;const t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),s="up"===o?r.top-t.top:r.bottom-t.bottom;n.scrollTo({top:s,behavior:"smooth"})})),U3(e,l),U3(n,l),setTimeout((()=>document.body.addEventListener("click",l)),50),l}(e,t.scrollHint))}),{threshold:[.5]});function o(){r.disconnect(),n?.()}return r.observe(e),U3(e,o),setTimeout(o,13e3),o}function X3(e,t={}){const n=t.wait??2e3,r=[];let o=t.enabled??!0;function s(){const n=new MutationObserver((n=>{if(o&&!(e.children.length<2))for(const e of function*(e){for(const t of e)if("childList"===t.type&&t.addedNodes.length>0)for(const e of t.addedNodes)e.nodeType===Node.ELEMENT_NODE&&e instanceof HTMLElement&&(yield e)}(n))r.push(G3(e,t))}));r.push((()=>n.disconnect())),n.observe(e,{childList:!0})}return n?setTimeout(s,n):s(),{update(e){o=e.enabled??!0},destroy(){r.forEach((e=>e()))}}}function Z3(e){let t,n,r;const o=[kC,{size:"var(--lg5)"}];let s={};for(let a=0;a<o.length;a+=1)s=l(s,o[a]);return n=new Jd({props:s}),{c(){t=q("div"),at(n.$$.fragment),X(t,"slot","icon"),X(t,"data-identifier","connection-icon"),X(t,"class","svelte-l2gebs")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r=0&t?rt(o,[ot(kC),o[1]]):{};n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function J3(e){let t,n,r=e[1]("no_databases_connected")+"";return{c(){t=q("div"),n=j(r),X(t,"slot","title")},m(e,r){H(e,t,r),F(t,n)},p(e,t){2&t&&r!==(r=e[1]("no_databases_connected")+"")&&Q(n,r)},d(e){e&&z(t)}}}function Q3(e){let t,n,r,o=e[1]("setup_connections_help")+"";return{c(){t=q("div"),n=q("div"),r=j(o),X(n,"data-identifier","no-connections-help"),X(n,"class","svelte-l2gebs"),X(t,"slot","body")},m(e,o){H(e,t,o),F(t,n),F(n,r)},p(e,t){2&t&&o!==(o=e[1]("setup_connections_help")+"")&&Q(r,o)},d(e){e&&z(t)}}}function e4(e){let t,n;return t=new Hu({props:{appearance:"primary",$$slots:{default:[t4]},$$scope:{ctx:e}}}),t.$on("click",e[5]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};66&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function t4(e){let t,n,r,o,s,a=e[1]("connect_database")+"";const i=[jx];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return t=new Jd({props:c}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(a)},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),F(r,o),s=!0},p(e,n){const r=0&n?rt(i,[ot(jx)]):{};t.$set(r),(!s||2&n)&&a!==(a=e[1]("connect_database")+"")&&Q(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function n4(e){let t,n,r=e[0]&&e4(e);return{c(){t=q("div"),r&&r.c(),X(t,"slot","footer")},m(e,o){H(e,t,o),r&&r.m(t,null),n=!0},p(e,n){e[0]?r?(r.p(e,n),1&n&&je(r,1)):(r=e4(e),r.c(),je(r,1),r.m(t,null)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){e&&z(t),r&&r.d()}}}function r4(e){let t,n,r,o,s;return n=new ou({props:{$$slots:{footer:[n4],body:[Q3],title:[J3],icon:[Z3]},$$scope:{ctx:e}}}),o=new OW({props:{controller:e[3]}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),at(o.$$.fragment),X(t,"class","content svelte-l2gebs"),X(t,"data-identifier","connection-empty-text")},m(e,a){H(e,t,a),it(n,t,null),H(e,r,a),it(o,e,a),s=!0},p(e,[t]){const r={};67&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(n),e&&z(r),lt(o,e)}}}function o4(e,t,n){let r,o,s;y(e,no,(e=>n(1,s=e)));const a=jM();y(e,a,(e=>n(4,o=e)));const i=US.spawnModalController();return e.$$.update=()=>{16&e.$$.dirty&&n(0,({isMathesarAdmin:r}=o),r)},[r,s,a,i,o,()=>i.open()]}class s4 extends ut{constructor(e){super(),ct(this,e,o4,r4,f,{})}}class a4 extends Error{constructor(t,n){super(n),e(this,"database",void 0),this.database=t}}function i4(e,t,n){const r=e.slice();return r[7]=t[n],r}function l4(e){let t,n,r=e[7].displayName+"";return{c(){t=q("li"),n=j(r)},m(e,r){H(e,t,r),F(t,n)},p(e,t){1&t&&r!==(r=e[7].displayName+"")&&Q(n,r)},d(e){e&&z(t)}}}function c4(e){let t,n,r,o,s,a,i,l,c,u,d,$,p,m=e[2]("bulk_upgrade_database_form_info")+"",f=e[2]("the_following_databases_will_be_upgraded")+"",g=e[0],h=[];for(let y=0;y<g.length;y+=1)h[y]=l4(i4(e,g,y));return u=new m$({props:{onProceed:e[3],onCancel:e[1],proceedButton:{label:e[2]("upgrade_databases")},cancelButton:{label:e[2]("cancel")}}}),{c(){t=q("p"),n=j(m),r=U(),o=q("p"),s=j(f),a=U(),i=q("ul");for(let e=0;e<h.length;e+=1)h[e].c();l=U(),c=q("div"),at(u.$$.fragment)},m(e,m){H(e,t,m),F(t,n),H(e,r,m),H(e,o,m),F(o,s),H(e,a,m),H(e,i,m);for(let t=0;t<h.length;t+=1)h[t].m(i,null);H(e,l,m),H(e,c,m),it(u,c,null),d=!0,$||(p=T(ux.call(null,c)),$=!0)},p(e,[t]){if((!d||4&t)&&m!==(m=e[2]("bulk_upgrade_database_form_info")+"")&&Q(n,m),(!d||4&t)&&f!==(f=e[2]("the_following_databases_will_be_upgraded")+"")&&Q(s,f),1&t){let n;for(g=e[0],n=0;n<g.length;n+=1){const r=i4(e,g,n);h[n]?h[n].p(r,t):(h[n]=l4(r),h[n].c(),h[n].m(i,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=g.length}const r={};2&t&&(r.onCancel=e[1]),4&t&&(r.proceedButton={label:e[2]("upgrade_databases")}),4&t&&(r.cancelButton={label:e[2]("cancel")}),u.$set(r)},i(e){d||(je(u.$$.fragment,e),d=!0)},o(e){Ue(u.$$.fragment,e),d=!1},d(e){e&&z(t),e&&z(r),e&&z(o),e&&z(a),e&&z(i),V(h,e),e&&z(l),e&&z(c),lt(u),$=!1,p()}}}function u4(e,t,n){let r;y(e,no,(e=>n(2,r=e)));let{databases:o}=t,{refreshDatabaseList:s}=t,{onCancel:a}=t,{onFinish:i}=t;function*l(e){for(const[t,n]of wc(o,e))"error"===n.status&&(yield new a4(t,n.message))}return e.$$set=e=>{"databases"in e&&n(0,o=e.databases),"refreshDatabaseList"in e&&n(4,s=e.refreshDatabaseList),"onCancel"in e&&n(1,a=e.onCancel),"onFinish"in e&&n(5,i=e.onFinish)},[o,a,r,async function(){const e=await wM(o.map((e=>PM.databases.upgrade_sql({database_id:e.id}))));i([...l(e)]);try{await s()}catch(t){}},s,i]}class d4 extends ut{constructor(e){super(),ct(this,e,u4,c4,f,{databases:0,refreshDatabaseList:4,onCancel:1,onFinish:5})}}function $4(e,t,n){const r=e.slice();return r[7]=t[n],r}function p4(e){let t,n;return t=new d4({props:{databases:e[10],refreshDatabaseList:e[1],onCancel:e[4],onFinish:e[5]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1024&n&&(r.databases=e[10]),2&n&&(r.refreshDatabaseList=e[1]),1&n&&(r.onCancel=e[4]),1&n&&(r.onFinish=e[5]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function m4(e){let t,n,r=e[2]("upgrade_multiple_databases")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","title")},m(e,r){H(e,t,r),F(t,n)},p(e,t){4&t&&r!==(r=e[2]("upgrade_multiple_databases")+"")&&Q(n,r)},d(e){e&&z(t)}}}function f4(e){let t,n=e[7].message+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){64&r&&n!==(n=e[7].message+"")&&Q(t,n)},d(e){e&&z(t)}}}function g4(e){let t,n,r,o,s,a,i,l,c=e[7].database.displayName+"";return a=new HP({props:{$$slots:{default:[f4]},$$scope:{ctx:e}}}),{c(){t=q("li"),n=q("p"),r=q("b"),o=j(c),s=U(),at(a.$$.fragment),i=U()},m(e,c){H(e,t,c),F(t,n),F(n,r),F(r,o),F(t,s),it(a,t,null),F(t,i),l=!0},p(e,t){(!l||64&t)&&c!==(c=e[7].database.displayName+"")&&Q(o,c);const n={};2112&t&&(n.$$scope={dirty:t,ctx:e}),a.$set(n)},i(e){l||(je(a.$$.fragment,e),l=!0)},o(e){Ue(a.$$.fragment,e),l=!1},d(e){e&&z(t),lt(a)}}}function h4(e){let t,n,r,o,s,a,i,l,c=e[2]("the_errors_are_shown_below_for_each_database")+"",u=e[2]("bulk_upgrade_error_troubleshooting_advice")+"",d=e[6],$=[];for(let m=0;m<d.length;m+=1)$[m]=g4($4(e,d,m));const p=e=>Ue($[e],1,1,(()=>{$[e]=null}));return{c(){t=q("p"),n=j(c),r=U(),o=q("ul");for(let e=0;e<$.length;e+=1)$[e].c();s=U(),a=q("p"),i=j(u)},m(e,c){H(e,t,c),F(t,n),H(e,r,c),H(e,o,c);for(let t=0;t<$.length;t+=1)$[t].m(o,null);H(e,s,c),H(e,a,c),F(a,i),l=!0},p(e,t){if((!l||4&t)&&c!==(c=e[2]("the_errors_are_shown_below_for_each_database")+"")&&Q(n,c),64&t){let n;for(d=e[6],n=0;n<d.length;n+=1){const r=$4(e,d,n);$[n]?($[n].p(r,t),je($[n],1)):($[n]=g4(r),$[n].c(),je($[n],1),$[n].m(o,null))}for(qe(),n=d.length;n<$.length;n+=1)p(n);Be()}(!l||4&t)&&u!==(u=e[2]("bulk_upgrade_error_troubleshooting_advice")+"")&&Q(i,u)},i(e){if(!l){for(let e=0;e<d.length;e+=1)je($[e]);l=!0}},o(e){$=$.filter(Boolean);for(let t=0;t<$.length;t+=1)Ue($[t]);l=!1},d(e){e&&z(t),e&&z(r),e&&z(o),V($,e),e&&z(s),e&&z(a)}}}function y4(e){let t,n,r=e[2]("some_errors_were_encountered")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","title")},m(e,r){H(e,t,r),F(t,n)},p(e,t){4&t&&r!==(r=e[2]("some_errors_were_encountered")+"")&&Q(n,r)},d(e){e&&z(t)}}}function b4(e){let t,n,r,o;return t=new dv({props:{controller:e[0],$$slots:{title:[m4,({options:e})=>({10:e}),({options:e})=>e?1024:0],default:[p4,({options:e})=>({10:e}),({options:e})=>e?1024:0]},$$scope:{ctx:e}}}),r=new dv({props:{controller:e[3],$$slots:{title:[y4,({options:e})=>({6:e}),({options:e})=>e?64:0],default:[h4,({options:e})=>({6:e}),({options:e})=>e?64:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,s){it(t,e,s),H(e,n,s),it(r,e,s),o=!0},p(e,[n]){const o={};1&n&&(o.controller=e[0]),3079&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};2116&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function v4(e,t,n){let r;y(e,no,(e=>n(2,r=e)));const o=US.spawnModalController();let{controller:s}=t,{refreshDatabaseList:a}=t;return e.$$set=e=>{"controller"in e&&n(0,s=e.controller),"refreshDatabaseList"in e&&n(1,a=e.refreshDatabaseList)},[s,a,r,o,()=>s.close(),e=>{s.close(),e.length>0&&o.open(e)}]}class w4 extends ut{constructor(e){super(),ct(this,e,v4,b4,f,{controller:0,refreshDatabaseList:1})}}function _4(e){let t,n=e[4]("upgrade_database_form_info")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){16&r&&n!==(n=e[4]("upgrade_database_form_info")+"")&&Q(t,n)},d(e){e&&z(t)}}}function x4(e){let t,n=e[4]("reinstall_database_form_info")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){16&r&&n!==(n=e[4]("reinstall_database_form_info")+"")&&Q(t,n)},d(e){e&&z(t)}}}function C4(e){let t;function n(e,t){return e[1]?x4:_4}let r=n(e),o=r(e);return{c(){o.c(),t=W()},m(e,n){o.m(e,n),H(e,t,n)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&z(t)}}}function S4(e){let t,n,r;function o(t){e[11](t)}let s={};return void 0!==e[2]&&(s.checked=e[2]),t=new x$({props:s}),Ce.push((()=>st(t,"checked",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};!n&&4&r&&(n=!0,o.checked=e[2],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function k4(e){let t,n=e[4]("upgrade_specify_a_role_help")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){16&r&&n!==(n=e[4]("upgrade_specify_a_role_help")+"")&&Q(t,n)},d(e){e&&z(t)}}}function M4(e){let t,n,r,o,s,a=e[4]("specify_a_role")+"";return o=new H$({props:{$$slots:{default:[k4]},$$scope:{ctx:e}}}),{c(){t=q("div"),n=j(a),r=U(),at(o.$$.fragment),X(t,"slot","label")},m(e,a){H(e,t,a),F(t,n),F(t,r),it(o,t,null),s=!0},p(e,t){(!s||16&t)&&a!==(a=e[4]("specify_a_role")+"")&&Q(n,a);const r={};32784&t&&(r.$$scope={dirty:t,ctx:e}),o.$set(r)},i(e){s||(je(o.$$.fragment,e),s=!0)},o(e){Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(o)}}}function I4(e){let t,n;return t=new J$({props:{layout:"inline-input-first",$$slots:{label:[M4],default:[S4]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};32788&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function T4(e){let t,n,r,o;return t=new WL({props:{label:e[4]("role_name"),layout:"stacked",field:e[6]}}),r=new WL({props:{label:e[4]("role_password"),layout:"stacked",field:e[7],input:{component:Qf,props:{autocomplete:"off"}}}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,s){it(t,e,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){const o={};16&n&&(o.label=e[4]("role_name")),t.$set(o);const s={};16&n&&(s.label=e[4]("role_password")),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function E4(e){let t,n,r,o,s,a,i,l,c,u,d;n=new ML({props:{$$slots:{default:[C4]},$$scope:{ctx:e}}}),o=new ML({props:{$$slots:{default:[I4]},$$scope:{ctx:e}}});let $=e[2]&&T4(e);return l=new QL({props:{form:e[3],catchErrors:!0,onCancel:e[12],onProceed:e[8],proceedButton:{label:e[1]?e[4]("reinstall"):e[4]("upgrade_database")},cancelButton:{label:e[4]("cancel")}}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),at(o.$$.fragment),s=U(),$&&$.c(),a=U(),i=q("div"),at(l.$$.fragment)},m(e,p){H(e,t,p),it(n,t,null),F(t,r),it(o,t,null),F(t,s),$&&$.m(t,null),H(e,a,p),H(e,i,p),it(l,i,null),c=!0,u||(d=T(ux.call(null,i)),u=!0)},p(e,[r]){const s={};32786&r&&(s.$$scope={dirty:r,ctx:e}),n.$set(s);const a={};32788&r&&(a.$$scope={dirty:r,ctx:e}),o.$set(a),e[2]?$?($.p(e,r),4&r&&je($,1)):($=T4(e),$.c(),je($,1),$.m(t,null)):$&&(qe(),Ue($,1,1,(()=>{$=null})),Be());const i={};8&r&&(i.form=e[3]),9&r&&(i.onCancel=e[12]),18&r&&(i.proceedButton={label:e[1]?e[4]("reinstall"):e[4]("upgrade_database")}),16&r&&(i.cancelButton={label:e[4]("cancel")}),l.$set(i)},i(e){c||(je(n.$$.fragment,e),je(o.$$.fragment,e),je($),je(l.$$.fragment,e),c=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),Ue($),Ue(l.$$.fragment,e),c=!1},d(e){e&&z(t),lt(n),lt(o),$&&$.d(),e&&z(a),e&&z(i),lt(l),u=!1,d()}}}function D4(e,t,n){let r,o,s,a,i;y(e,no,(e=>n(4,i=e)));let{database:l}=t,{refreshDatabaseList:c}=t,{close:u}=t,{isReinstall:d=!1}=t;const $=oH(!1);y(e,$,(e=>n(2,a=e)));const p=oH("");y(e,p,(e=>n(14,s=e)));const m=oH("");y(e,m,(e=>n(13,o=e)));return e.$$set=e=>{"database"in e&&n(9,l=e.database),"refreshDatabaseList"in e&&n(10,c=e.refreshDatabaseList),"close"in e&&n(0,u=e.close),"isReinstall"in e&&n(1,d=e.isReinstall)},e.$$.update=()=>{4&e.$$.dirty&&n(3,r=aH(a?{roleName:p,rolePassword:m}:{}))},[u,d,a,r,i,$,p,m,async function(){await PM.databases.upgrade_sql({database_id:l.id,...a?{username:s,password:o}:{}}).run(),await c(),u()},l,c,function(e){a=e,$.set(a)},()=>{r.reset(),u()}]}class O4 extends ut{constructor(e){super(),ct(this,e,D4,E4,f,{database:9,refreshDatabaseList:10,close:0,isReinstall:1})}}function N4(e){let t,n;return t=new O4({props:{database:e[5],refreshDatabaseList:e[1],close:e[4],isReinstall:e[2]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.database=e[5]),2&n&&(r.refreshDatabaseList=e[1]),1&n&&(r.close=e[4]),4&n&&(r.isReinstall=e[2]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function A4(e){let t,n;return t=new Rx({props:{text:e[3]("upgrade_database_with_name"),$$slots:{default:[L4,({slotName:e})=>({6:e}),({slotName:e})=>e?64:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.text=e[3]("upgrade_database_with_name")),224&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function R4(e){let t,n;return t=new Rx({props:{text:e[3]("reinstall_mathesar_schemas_on_db"),$$slots:{default:[V4,({slotName:e})=>({6:e}),({slotName:e})=>e?64:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.text=e[3]("reinstall_mathesar_schemas_on_db")),224&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function F4(e){let t,n;return t=new bx({props:{$$slots:{default:[P4]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};160&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function P4(e){let t,n=e[5].displayName+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){32&r&&n!==(n=e[5].displayName+"")&&Q(t,n)},d(e){e&&z(t)}}}function L4(e){let t,n,r="name"===e[6]&&F4(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"name"===e[6]?r?(r.p(e,n),64&n&&je(r,1)):(r=F4(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function H4(e){let t,n;return t=new bx({props:{$$slots:{default:[z4]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};160&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function z4(e){let t,n=e[5].displayName+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){32&r&&n!==(n=e[5].displayName+"")&&Q(t,n)},d(e){e&&z(t)}}}function V4(e){let t,n,r="name"===e[6]&&H4(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"name"===e[6]?r?(r.p(e,n),64&n&&je(r,1)):(r=H4(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function q4(e){let t,n,r,o;const s=[R4,A4],a=[];function i(e,t){return e[2]?0:1}return n=i(e),r=a[n]=s[n](e),{c(){t=q("span"),r.c(),X(t,"slot","title")},m(e,r){H(e,t,r),a[n].m(t,null),o=!0},p(e,o){let l=n;n=i(e),n===l?a[n].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),r=a[n],r?r.p(e,o):(r=a[n]=s[n](e),r.c()),je(r,1),r.m(t,null))},i(e){o||(je(r),o=!0)},o(e){Ue(r),o=!1},d(e){e&&z(t),a[n].d()}}}function B4(e){let t,n;return t=new dv({props:{controller:e[0],$$slots:{title:[q4,({options:e})=>({5:e}),({options:e})=>e?32:0],default:[N4,({options:e})=>({5:e}),({options:e})=>e?32:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.controller=e[0]),175&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function j4(e,t,n){let r;y(e,no,(e=>n(3,r=e)));let{controller:o}=t,{refreshDatabaseList:s=(async()=>{})}=t,{isReinstall:a=!1}=t;return e.$$set=e=>{"controller"in e&&n(0,o=e.controller),"refreshDatabaseList"in e&&n(1,s=e.refreshDatabaseList),"isReinstall"in e&&n(2,a=e.isReinstall)},[o,s,a,r,()=>o.close()]}class U4 extends ut{constructor(e){super(),ct(this,e,j4,B4,f,{controller:0,refreshDatabaseList:1,isReinstall:2})}}function W4(e){let t,n,r,o,s=e[0].name+"";return{c(){t=q("span"),n=j("("),r=j(s),o=j(")"),X(t,"class","db-name svelte-f5mg01")},m(e,s){H(e,t,s),F(t,n),F(t,r),F(t,o)},p(e,t){1&t&&s!==(s=e[0].name+"")&&Q(r,s)},d(e){e&&z(t)}}}function Y4(e){let t,n,r;const o=[Jx,{size:"1rem"}];let s={};for(let a=0;a<o.length;a+=1)s=l(s,o[a]);return n=new Jd({props:s}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","caret-container svelte-f5mg01")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r=0&t?rt(o,[ot(Jx),o[1]]):{};n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function K4(e){let t,n,r,o,s,a,i,c,u,d,$,p,m,f,g=e[0].displayName+"";const h=[IC,{size:"1.25rem"},{class:"database-icon"}];let y={};for(let w=0;w<h.length;w+=1)y=l(y,h[w]);r=new Jd({props:y});let b=e[3]&&W4(e),v=!e[1]&&Y4();return{c(){t=q("div"),n=q("div"),at(r.$$.fragment),o=U(),s=q("div"),a=q("div"),i=j(g),c=U(),b&&b.c(),u=U(),d=q("div"),$=q("span"),p=j(e[2]),m=U(),v&&v.c(),X(n,"class","icon-container svelte-f5mg01"),X(a,"class","display-name svelte-f5mg01"),X(d,"class","detail svelte-f5mg01"),X(s,"class","content svelte-f5mg01"),X(t,"class","db-card-content svelte-f5mg01"),se(t,"upgrade-required",e[1])},m(e,l){H(e,t,l),F(t,n),it(r,n,null),F(t,o),F(t,s),F(s,a),F(a,i),F(a,c),b&&b.m(a,null),F(s,u),F(s,d),F(d,$),F($,p),F(t,m),v&&v.m(t,null),f=!0},p(e,[n]){const o=0&n?rt(h,[ot(IC),h[1],h[2]]):{};r.$set(o),(!f||1&n)&&g!==(g=e[0].displayName+"")&&Q(i,g),e[3]?b?b.p(e,n):(b=W4(e),b.c(),b.m(a,null)):b&&(b.d(1),b=null),(!f||4&n)&&Q(p,e[2]),e[1]?v&&(qe(),Ue(v,1,1,(()=>{v=null})),Be()):v?(v.p(e,n),2&n&&je(v,1)):(v=Y4(),v.c(),je(v,1),v.m(t,null)),(!f||2&n)&&se(t,"upgrade-required",e[1])},i(e){f||(je(r.$$.fragment,e),je(v),f=!0)},o(e){Ue(r.$$.fragment,e),Ue(v),f=!1},d(e){e&&z(t),lt(r),b&&b.d(),v&&v.d()}}}function G4(e,t,n){let r,o,{database:s}=t,{upgradeRequired:a=!1}=t;return e.$$set=e=>{"database"in e&&n(0,s=e.database),"upgradeRequired"in e&&n(1,a=e.upgradeRequired)},e.$$.update=()=>{1&e.$$.dirty&&n(3,r=s.name!==s.displayName),1&e.$$.dirty&&n(2,o=s.server.getConnectionString())},[s,a,o,r]}class X4 extends ut{constructor(e){super(),ct(this,e,G4,K4,f,{database:0,upgradeRequired:1})}}function Z4(e){let t,n=e[2]("upgrade")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){4&r&&n!==(n=e[2]("upgrade")+"")&&Q(t,n)},d(e){e&&z(t)}}}function J4(e){let t,n,r,o,s,a,i,c,u,d,$,p,m=e[2]("upgrade_required")+"";r=new X4({props:{database:e[0],upgradeRequired:!0}});const f=[kS];let g={};for(let h=0;h<f.length;h+=1)g=l(g,f[h]);return i=new Jd({props:g}),$=new Hu({props:{$$slots:{default:[Z4]},$$scope:{ctx:e}}}),$.$on("click",e[3]),{c(){t=q("div"),n=q("div"),at(r.$$.fragment),o=U(),s=q("div"),a=q("div"),at(i.$$.fragment),c=U(),u=j(m),d=U(),at($.$$.fragment),X(n,"class","content svelte-12ks95w"),X(a,"class","indicator svelte-12ks95w"),X(s,"class","action svelte-12ks95w"),X(t,"class","db-card-needs-update svelte-12ks95w")},m(e,l){H(e,t,l),F(t,n),it(r,n,null),F(t,o),F(t,s),F(s,a),it(i,a,null),F(a,c),F(a,u),F(s,d),it($,s,null),p=!0},p(e,[t]){const n={};1&t&&(n.database=e[0]),r.$set(n);const o=0&t?rt(f,[ot(kS)]):{};i.$set(o),(!p||4&t)&&m!==(m=e[2]("upgrade_required")+"")&&Q(u,m);const s={};20&t&&(s.$$scope={dirty:t,ctx:e}),$.$set(s)},i(e){p||(je(r.$$.fragment,e),je(i.$$.fragment,e),je($.$$.fragment,e),p=!0)},o(e){Ue(r.$$.fragment,e),Ue(i.$$.fragment,e),Ue($.$$.fragment,e),p=!1},d(e){e&&z(t),lt(r),lt(i),lt($)}}}function Q4(e,t,n){let r;y(e,no,(e=>n(2,r=e)));let{database:o}=t,{onTriggerUpgrade:s}=t;return e.$$set=e=>{"database"in e&&n(0,o=e.database),"onTriggerUpgrade"in e&&n(1,s=e.onTriggerUpgrade)},[o,s,r,()=>s(o)]}class e6 extends ut{constructor(e){super(),ct(this,e,Q4,J4,f,{database:0,onTriggerUpgrade:1})}}function t6(e){let t,n,r;return n=new X4({props:{database:e[0]}}),{c(){t=q("a"),at(n.$$.fragment),X(t,"class","db-card-link passthrough"),X(t,"href",e[2])},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,o){const s={};1&o&&(s.database=e[0]),n.$set(s),(!r||4&o)&&X(t,"href",e[2])},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function n6(e){let t,n;return t=new e6({props:{database:e[0],onTriggerUpgrade:e[1]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.database=e[0]),2&n&&(r.onTriggerUpgrade=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function r6(e){let t,n,r,o;const s=[n6,t6],a=[];function i(e,t){return e[0].needsUpgradeAttention?0:1}return n=i(e),r=a[n]=s[n](e),{c(){t=q("div"),r.c(),X(t,"class","db-card svelte-1e9dvpq"),se(t,"hoverable",!e[3])},m(e,r){H(e,t,r),a[n].m(t,null),o=!0},p(e,[l]){let c=n;n=i(e),n===c?a[n].p(e,l):(qe(),Ue(a[c],1,1,(()=>{a[c]=null})),Be(),r=a[n],r?r.p(e,l):(r=a[n]=s[n](e),r.c()),je(r,1),r.m(t,null)),(!o||8&l)&&se(t,"hoverable",!e[3])},i(e){o||(je(r),o=!0)},o(e){Ue(r),o=!1},d(e){e&&z(t),a[n].d()}}}function o6(e,t,n){let r,o,{database:s}=t,{onTriggerUpgrade:a}=t;return e.$$set=e=>{"database"in e&&n(0,s=e.database),"onTriggerUpgrade"in e&&n(1,a=e.onTriggerUpgrade)},e.$$.update=()=>{1&e.$$.dirty&&n(3,r=s.needsUpgradeAttention),1&e.$$.dirty&&n(2,o=WM(s.id))},[s,a,o,r]}class s6 extends ut{constructor(e){super(),ct(this,e,o6,r6,f,{database:0,onTriggerUpgrade:1})}}function a6(e,t,n){const r=e.slice();return r[24]=t[n],r}function i6(e){let t,n;return t=new RO({props:{page:"databases",$$slots:{default:[l6]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};805306368&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function l6(e){let t,n=e[28]+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){268435456&r&&n!==(n=e[28]+"")&&Q(t,n)},d(e){e&&z(t)}}}function c6(e){let t,n,r="docsLink"===e[27]&&i6(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"docsLink"===e[27]?r?(r.p(e,n),134217728&n&&je(r,1)):(r=i6(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function u6(e){let t,n;return t=new Rx({props:{text:e[8]("databases_list_help"),$$slots:{default:[c6,({slotName:e,translatedArg:t})=>({27:e,28:t}),({slotName:e,translatedArg:t})=>(e?134217728:0)|(t?268435456:0)]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};256&n&&(r.text=e[8]("databases_list_help")),939524096&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function d6(e){let t,n;return t=new s4({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function $6(e){let t,n,r;function o(t){e[20](t)}let s={searchPlaceholder:e[8]("search_databases"),$$slots:{content:[E6],resultInfo:[y6],action:[f6]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.searchQuery=e[0]),t=new j3({props:s}),Ce.push((()=>st(t,"searchQuery",o))),t.$on("clear",e[13]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};256&r&&(o.searchPlaceholder=e[8]("search_databases")),536871357&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.searchQuery=e[0],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function p6(e){let t,n;return t=new Hu({props:{appearance:"primary",$$slots:{default:[m6]},$$scope:{ctx:e}}}),t.$on("click",e[19]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};536871168&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function m6(e){let t,n,r,o,s,a=e[8]("connect_database")+"";const i=[kC];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return t=new Jd({props:c}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(a)},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),F(r,o),s=!0},p(e,n){const r=0&n?rt(i,[ot(kC)]):{};t.$set(r),(!s||256&n)&&a!==(a=e[8]("connect_database")+"")&&Q(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function f6(e){let t,n,r=e[7]&&p6(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){e[7]?r?(r.p(e,n),128&n&&je(r,1)):(r=p6(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function g6(e){let t,n;return{c(){t=q("strong"),n=j(e[0])},m(e,r){H(e,t,r),F(t,n)},p(e,t){1&t&&Q(n,e[0])},d(e){e&&z(t)}}}function h6(e){let t,n="searchValue"===e[27]&&g6(e);return{c(){n&&n.c(),t=W()},m(e,r){n&&n.m(e,r),H(e,t,r)},p(e,r){"searchValue"===e[27]?n?n.p(e,r):(n=g6(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&z(t)}}}function y6(e){let t,n,r;return n=new Rx({props:{text:e[8]("databases_matching_search",{values:{count:e[5].length}}),$$slots:{default:[h6,({slotName:e})=>({27:e}),({slotName:e})=>e?134217728:0]},$$scope:{ctx:e}}}),{c(){t=q("span"),at(n.$$.fragment),X(t,"slot","resultInfo")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};288&t&&(r.text=e[8]("databases_matching_search",{values:{count:e[5].length}})),671088641&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function b6(e){let t,n;return t=new cV({props:{$$slots:{default:[M6]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};536871188&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function v6(e){let t,n=So(e[4])+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){16&r&&n!==(n=So(e[4])+"")&&Q(t,n)},d(e){e&&z(t)}}}function w6(e){let t,n=e[8]("upgrade_some_databases_notice")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){256&r&&n!==(n=e[8]("upgrade_some_databases_notice")+"")&&Q(t,n)},d(e){e&&z(t)}}}function _6(e){let t,n=e[8]("upgrade_all_databases_notice")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){256&r&&n!==(n=e[8]("upgrade_all_databases_notice")+"")&&Q(t,n)},d(e){e&&z(t)}}}function x6(e){let t,n=So(e[4])+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){16&r&&n!==(n=So(e[4])+"")&&Q(t,n)},d(e){e&&z(t)}}}function C6(e){let t,n=e[8]("upgrade_remaining_databases")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){256&r&&n!==(n=e[8]("upgrade_remaining_databases")+"")&&Q(t,n)},d(e){e&&z(t)}}}function S6(e){let t,n=e[8]("upgrade_all_databases")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){256&r&&n!==(n=e[8]("upgrade_all_databases")+"")&&Q(t,n)},d(e){e&&z(t)}}}function k6(e){let t;function n(e,t){return"all"===e[4]?S6:"some"===e[4]?C6:x6}let r=n(e),o=r(e);return{c(){o.c(),t=W()},m(e,n){o.m(e,n),H(e,t,n)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&z(t)}}}function M6(e){let t,n,r,o,s,a,i,l,c,u,d=e[8]("service_upgraded_notice")+"";function $(e,t){return"all"===e[4]?_6:"some"===e[4]?w6:v6}let p=$(e),m=p(e);return c=new Hu({props:{$$slots:{default:[k6]},$$scope:{ctx:e}}}),c.$on("click",e[17]),{c(){t=q("div"),n=q("div"),r=q("p"),o=j(d),s=U(),a=q("p"),m.c(),i=U(),l=q("div"),at(c.$$.fragment),X(n,"class","text trim-child-margins svelte-o1t1aa"),X(l,"class","button svelte-o1t1aa"),X(t,"class","bulk-upgrade-message svelte-o1t1aa")},m(e,d){H(e,t,d),F(t,n),F(n,r),F(r,o),F(n,s),F(n,a),m.m(a,null),F(t,i),F(t,l),it(c,l,null),u=!0},p(e,t){(!u||256&t)&&d!==(d=e[8]("service_upgraded_notice")+"")&&Q(o,d),p===(p=$(e))&&m?m.p(e,t):(m.d(1),m=p(e),m&&(m.c(),m.m(a,null)));const n={};536871184&t&&(n.$$scope={dirty:t,ctx:e}),c.$set(n)},i(e){u||(je(c.$$.fragment,e),u=!0)},o(e){Ue(c.$$.fragment,e),u=!1},d(e){e&&z(t),m.d(),lt(c)}}}function I6(e){let t,n,r,o,s,a=[],i=new Map,l=e[5];const c=e=>e[24].id;for(let u=0;u<l.length;u+=1){let t=a6(e,l,u),n=c(t);i.set(n,a[u]=T6(n,t))}return{c(){t=q("div");for(let e=0;e<a.length;e+=1)a[e].c();X(t,"class","databases-list-grid svelte-o1t1aa")},m(i,l){H(i,t,l);for(let e=0;e<a.length;e+=1)a[e].m(t,null);r=!0,o||(s=T(n=X3.call(null,t,{scrollHint:e[8]("database_new_items_scroll_hint"),enabled:e[3]})),o=!0)},p(e,r){1056&r&&(l=e[5],qe(),a=nt(a,r,c,1,e,l,i,t,et,T6,null,a6),Be()),n&&$(n.update)&&264&r&&n.update.call(null,{scrollHint:e[8]("database_new_items_scroll_hint"),enabled:e[3]})},i(e){if(!r){for(let e=0;e<l.length;e+=1)je(a[e]);r=!0}},o(e){for(let t=0;t<a.length;t+=1)Ue(a[t]);r=!1},d(e){e&&z(t);for(let t=0;t<a.length;t+=1)a[t].d();o=!1,s()}}}function T6(e,t){let n,r,o;return r=new s6({props:{database:t[24],onTriggerUpgrade:t[18]}}),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};32&n&&(o.database=t[24]),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function E6(e){let t,n,r,o,s="none"!==e[4]&&b6(e),a=e[5].length&&I6(e);return{c(){t=q("div"),n=q("div"),s&&s.c(),r=U(),a&&a.c(),X(n,"class","message-area svelte-o1t1aa"),X(t,"class","content"),X(t,"slot","content")},m(e,i){H(e,t,i),F(t,n),s&&s.m(n,null),F(t,r),a&&a.m(t,null),o=!0},p(e,r){"none"!==e[4]?s?(s.p(e,r),16&r&&je(s,1)):(s=b6(e),s.c(),je(s,1),s.m(n,null)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be()),e[5].length?a?(a.p(e,r),32&r&&je(a,1)):(a=I6(e),a.c(),je(a,1),a.m(t,null)):a&&(qe(),Ue(a,1,1,(()=>{a=null})),Be())},i(e){o||(je(s),je(a),o=!0)},o(e){Ue(s),Ue(a),o=!1},d(e){e&&z(t),s&&s.d(),a&&a.d()}}}function D6(e){let t,n,r,o,s,a,i,l,c,u,d,$,p,m,f,g,h=e[8]("databases")+"";s=new H$({props:{$$slots:{default:[u6]},$$scope:{ctx:e}}});const y=[$6,d6],b=[];function v(e,t){return e[1]?0:1}return l=v(e),c=b[l]=y[l](e),d=new OW({props:{controller:e[9]}}),p=new w4({props:{controller:e[11],refreshDatabaseList:e[21]}}),f=new U4({props:{controller:e[10],refreshDatabaseList:e[22]}}),{c(){t=q("div"),n=q("h2"),r=j(h),o=U(),at(s.$$.fragment),a=U(),i=q("section"),c.c(),u=U(),at(d.$$.fragment),$=U(),at(p.$$.fragment),m=U(),at(f.$$.fragment),X(n,"class","page-header svelte-o1t1aa"),X(i,"class","databases-container svelte-o1t1aa"),X(t,"class","databases-list svelte-o1t1aa")},m(e,c){H(e,t,c),F(t,n),F(n,r),F(n,o),it(s,n,null),F(t,a),F(t,i),b[l].m(i,null),H(e,u,c),it(d,e,c),H(e,$,c),it(p,e,c),H(e,m,c),it(f,e,c),g=!0},p(e,[t]){(!g||256&t)&&h!==(h=e[8]("databases")+"")&&Q(r,h);const n={};536871168&t&&(n.$$scope={dirty:t,ctx:e}),s.$set(n);let o=l;l=v(e),l===o?b[l].p(e,t):(qe(),Ue(b[o],1,1,(()=>{b[o]=null})),Be(),c=b[l],c?c.p(e,t):(c=b[l]=y[l](e),c.c()),je(c,1),c.m(i,null))},i(e){g||(je(s.$$.fragment,e),je(c),je(d.$$.fragment,e),je(p.$$.fragment,e),je(f.$$.fragment,e),g=!0)},o(e){Ue(s.$$.fragment,e),Ue(c),Ue(d.$$.fragment,e),Ue(p.$$.fragment,e),Ue(f.$$.fragment,e),g=!1},d(e){e&&z(t),lt(s),b[l].d(),e&&z(u),lt(d,e),e&&z($),lt(p,e),e&&z(m),lt(f,e)}}}function O6(e,t,n){let r,o,s,i,l,c,u,d,$,p,m=a;y(e,no,(e=>n(8,p=e))),e.$$.on_destroy.push((()=>m()));const f=US.spawnModalController(),h=US.spawnModalController(),b=US.spawnModalController(),v=jM();y(e,v,(e=>n(16,$=e)));let w="",_=!0;return e.$$.update=()=>{65536&e.$$.dirty&&n(7,({isMathesarAdmin:r}=$),r),32769&e.$$.dirty&&n(5,s=[...Xo(d.values(),w,(e=>e.allNames))]),32768&e.$$.dirty&&n(2,i=[...ic((e=>e.needsUpgradeAttention),d.values())]),32768&e.$$.dirty&&n(1,l=d.size),4&e.$$.dirty&&n(14,c=i.length),16386&e.$$.dirty&&n(4,u=0===c?"none":c===l?"all":"some"),1&e.$$.dirty&&async function(){n(3,_=!1),await Ee(),n(3,_=!0)}()},n(6,({databases:o}=QF),o),m(),m=g(o,(e=>n(15,d=e))),[w,l,i,_,u,s,o,r,p,f,h,b,v,function(){n(0,w="")},c,d,$,()=>b.open(i),e=>h.open(e),()=>f.open(),function(e){w=e,n(0,w)},()=>QF.refresh(),()=>QF.refresh()]}class N6 extends ut{constructor(e){super(),ct(this,e,O6,D6,f,{})}}function A6(e){let t,n,r,o,s,a,i,l,c,u,d,$,p,m,f,g,h,y=e[0]("resources")+"";return r=new N6({}),u=new c3({}),$=new m3({}),m=new C3({}),g=new b3({}),{c(){t=q("div"),n=q("div"),at(r.$$.fragment),o=U(),s=q("div"),a=q("h2"),i=j(y),l=U(),c=q("div"),at(u.$$.fragment),d=U(),at($.$$.fragment),p=U(),at(m.$$.fragment),f=U(),at(g.$$.fragment),X(n,"class","databases-section svelte-1sesesw"),X(c,"class","cards svelte-1sesesw"),X(s,"class","resources-sidebar svelte-1sesesw"),X(t,"class","content svelte-1sesesw")},m(e,y){H(e,t,y),F(t,n),it(r,n,null),F(t,o),F(t,s),F(s,a),F(a,i),F(s,l),F(s,c),it(u,c,null),F(c,d),it($,c,null),F(c,p),it(m,c,null),F(c,f),it(g,c,null),h=!0},p(e,t){(!h||1&t)&&y!==(y=e[0]("resources")+"")&&Q(i,y)},i(e){h||(je(r.$$.fragment,e),je(u.$$.fragment,e),je($.$$.fragment,e),je(m.$$.fragment,e),je(g.$$.fragment,e),h=!0)},o(e){Ue(r.$$.fragment,e),Ue(u.$$.fragment,e),Ue($.$$.fragment,e),Ue(m.$$.fragment,e),Ue(g.$$.fragment,e),h=!1},d(e){e&&z(t),lt(r),lt(u),lt($),lt(m),lt(g)}}}function R6(e){let t,n,r;return n=new Z2({props:{name:e[0](e[1])}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","home-page-header svelte-1sesesw"),X(t,"slot","secondary-header")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};3&t&&(r.name=e[0](e[1])),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function F6(e){let t,n,r,o;return document.title=t=zK(e[0]("databases")),r=new TK({props:{restrictWidth:!0,cssVariables:{"--max-layout-width":"var(--max-layout-width-console-pages)"},$$slots:{"secondary-header":[R6],default:[A6]},$$scope:{ctx:e}}}),{c(){n=U(),at(r.$$.fragment)},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,[n]){(!o||1&n)&&t!==(t=zK(e[0]("databases")))&&(document.title=t);const s={};19&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function P6(e,t,n){let r,o,s;y(e,no,(e=>n(0,s=e)));const a=jM();return y(e,a,(e=>n(3,o=e))),e.$$.update=()=>{9&e.$$.dirty&&n(1,r=s("welcome_to_mathesar_user",{values:{user:o?.getDisplayName()}}))},[s,r,a,o]}class L6 extends ut{constructor(e){super(),ct(this,e,P6,F6,f,{})}}function H6(e,t,n){let r,{item:o}=t;const s=fx();let a;function i(e){I(s,r=r.filter((e=>e!==a)),r),I(s,r=[...r,e],r),a=o}return y(e,s,(e=>n(3,r=e))),he((function(){I(s,r=r.filter((e=>e!==o)),r)})),e.$$set=e=>{"item"in e&&n(1,o=e.item)},e.$$.update=()=>{2&e.$$.dirty&&i(o)},[s,o]}class z6 extends ut{constructor(e){super(),ct(this,e,H6,null,f,{item:1})}}const V6=e=>({}),q6=e=>({});function B6(e){let t,n,r,o,s;const a=e[3].sidebar,i=b(a,e,e[2],q6),l=e[3].default,c=b(l,e,e[2],null);return{c(){t=q("div"),n=q("aside"),i&&i.c(),r=U(),o=q("main"),c&&c.c(),X(n,"class","svelte-1fppupu"),X(o,"class","svelte-1fppupu"),X(t,"class","page-sidebar-layout svelte-1fppupu"),X(t,"style",e[0])},m(e,a){H(e,t,a),F(t,n),i&&i.m(n,null),F(t,r),F(t,o),c&&c.m(o,null),s=!0},p(e,[n]){i&&i.p&&(!s||4&n)&&_(i,a,e,e[2],s?w(a,e[2],n,V6):x(e[2]),q6),c&&c.p&&(!s||4&n)&&_(c,l,e,e[2],s?w(l,e[2],n,null):x(e[2]),null),(!s||1&n)&&X(t,"style",e[0])},i(e){s||(je(i,e),je(c,e),s=!0)},o(e){Ue(i,e),Ue(c,e),s=!1},d(e){e&&z(t),i&&i.d(e),c&&c.d(e)}}}function j6(e,t,n){let r,{$$slots:o={},$$scope:s}=t,{cssVariables:a}=t;return e.$$set=e=>{"cssVariables"in e&&n(1,a=e.cssVariables),"$$scope"in e&&n(2,s=e.$$scope)},e.$$.update=()=>{2&e.$$.dirty&&n(0,r=a?Jo(a):void 0)},[r,a,s,o]}class U6 extends ut{constructor(e){super(),ct(this,e,j6,B6,f,{cssVariables:1})}}function W6(e){let t,n;return t=new x$({props:{checked:e[0].resolvedValue?.enabled}}),t.$on("change",e[6]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.checked=e[0].resolvedValue?.enabled),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Y6(e){let t,n;return t=new t$({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function K6(e){let t,n,r,o;const s=[Y6,W6],a=[];function i(e,t){return e[1]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function G6(e){let t,n,r=e[2]("enable_anonymous_usage_data_collection")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","label")},m(e,r){H(e,t,r),F(t,n)},p(e,t){4&t&&r!==(r=e[2]("enable_anonymous_usage_data_collection")+"")&&Q(n,r)},d(e){e&&z(t)}}}function X6(e){let t,n;return t=new RO({props:{page:"usageDataCollection",$$slots:{default:[Z6]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};768&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Z6(e){let t,n=e[8]+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){256&r&&n!==(n=e[8]+"")&&Q(t,n)},d(e){e&&z(t)}}}function J6(e){let t,n,r,o,s,a=e[8]+"";const i=[OC];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return o=new Jd({props:c}),{c(){t=q("a"),n=j(a),r=U(),at(o.$$.fragment),X(t,"href",bI("privacy")),X(t,"tinro-ignore",""),X(t,"target","_blank")},m(e,a){H(e,t,a),F(t,n),F(t,r),it(o,t,null),s=!0},p(e,t){(!s||256&t)&&a!==(a=e[8]+"")&&Q(n,a);const r=0&t?rt(i,[ot(OC)]):{};o.$set(r)},i(e){s||(je(o.$$.fragment,e),s=!0)},o(e){Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(o)}}}function Q6(e){let t,n,r,o="docsLink"===e[7]&&X6(e),s="privacyPolicyLink"===e[7]&&J6(e);return{c(){o&&o.c(),t=U(),s&&s.c(),n=W()},m(e,a){o&&o.m(e,a),H(e,t,a),s&&s.m(e,a),H(e,n,a),r=!0},p(e,r){"docsLink"===e[7]?o?(o.p(e,r),128&r&&je(o,1)):(o=X6(e),o.c(),je(o,1),o.m(t.parentNode,t)):o&&(qe(),Ue(o,1,1,(()=>{o=null})),Be()),"privacyPolicyLink"===e[7]?s?(s.p(e,r),128&r&&je(s,1)):(s=J6(e),s.c(),je(s,1),s.m(n.parentNode,n)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be())},i(e){r||(je(o),je(s),r=!0)},o(e){Ue(o),Ue(s),r=!1},d(e){o&&o.d(e),e&&z(t),s&&s.d(e),e&&z(n)}}}function e8(e){let t,n,r;return n=new Rx({props:{text:e[2]("anonymous_usage_data_collection_help"),$$slots:{default:[Q6,({slotName:e,translatedArg:t})=>({7:e,8:t}),({slotName:e,translatedArg:t})=>(e?128:0)|(t?256:0)]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"slot","help")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};4&t&&(r.text=e[2]("anonymous_usage_data_collection_help")),896&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function t8(e){let t,n,r,o,s,a,i,l,c,u,d,$,p=e[2]("settings")+"",m=e[2]("usage_data_collection")+"";return document.title=t=zK(e[2]("settings")),d=new J$({props:{layout:"inline-input-first",$$slots:{help:[e8],label:[G6],default:[K6]},$$scope:{ctx:e}}}),{c(){n=U(),r=q("h2"),o=j(p),s=U(),a=q("div"),i=q("h3"),l=j(m),c=U(),u=q("div"),at(d.$$.fragment)},m(e,t){H(e,n,t),H(e,r,t),F(r,o),H(e,s,t),H(e,a,t),F(a,i),F(i,l),F(a,c),F(a,u),it(d,u,null),$=!0},p(e,[n]){(!$||4&n)&&t!==(t=zK(e[2]("settings")))&&(document.title=t),(!$||4&n)&&p!==(p=e[2]("settings")+"")&&Q(o,p),(!$||4&n)&&m!==(m=e[2]("usage_data_collection")+"")&&Q(l,m);const r={};519&n&&(r.$$scope={dirty:n,ctx:e}),d.$set(r)},i(e){$||(je(d.$$.fragment,e),$=!0)},o(e){Ue(d.$$.fragment,e),$=!1},d(e){e&&z(n),e&&z(r),e&&z(s),e&&z(a),lt(d)}}}function n8(e,t,n){let r,o,s;y(e,no,(e=>n(2,o=e)));const a=new qF(PM.analytics.get_state);y(e,a,(e=>n(0,s=e)));let i=!1;async function l(e){if(!i){n(5,i=!0);try{e?(await PM.analytics.initialize().run(),WS.success(o("analytics_enabled_successfully"))):(await PM.analytics.disable().run(),WS.success(o("analytics_disabled_successfully")))}catch(t){WS.error(ck(t))}n(5,i=!1),a.run()}}fe((()=>a.run()));return e.$$.update=()=>{33&e.$$.dirty&&n(1,r=s.isLoading||i)},[s,r,o,a,l,i,e=>l(e.detail)]}class r8 extends ut{constructor(e){super(),ct(this,e,n8,t8,f,{})}}function o8(e){let t,n=So(e[0])+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1&r&&n!==(n=So(e[0])+"")&&Q(t,n)},i:a,o:a,d(e){e&&z(t)}}}function s8(e){let t,n=e[4]("latest_available_version_not_installed")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){16&r&&n!==(n=e[4]("latest_available_version_not_installed")+"")&&Q(t,n)},i:a,o:a,d(e){e&&z(t)}}}function a8(e){let t,n,r,o,s=e[4]("currently_installed")+"";const a=[XC];let i={};for(let c=0;c<a.length;c+=1)i=l(i,a[c]);return t=new Jd({props:i}),{c(){at(t.$$.fragment),n=U(),r=j(s)},m(e,s){it(t,e,s),H(e,n,s),H(e,r,s),o=!0},p(e,n){const i=0&n?rt(a,[ot(XC)]):{};t.$set(i),(!o||16&n)&&s!==(s=e[4]("currently_installed")+"")&&Q(r,s)},i(e){o||(je(t.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function i8(e){let t,n,r,o,s=e[4]("running_latest_version")+"";const a=[XC];let i={};for(let c=0;c<a.length;c+=1)i=l(i,a[c]);return t=new Jd({props:i}),{c(){at(t.$$.fragment),n=U(),r=j(s)},m(e,s){it(t,e,s),H(e,n,s),H(e,r,s),o=!0},p(e,n){const i=0&n?rt(a,[ot(XC)]):{};t.$set(i),(!o||16&n)&&s!==(s=e[4]("running_latest_version")+"")&&Q(r,s)},i(e){o||(je(t.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function l8(e){let t,n,r,o,s=e[4]("new_version_available")+"";const a=[GC];let i={};for(let c=0;c<a.length;c+=1)i=l(i,a[c]);return t=new Jd({props:i}),{c(){at(t.$$.fragment),n=U(),r=j(s)},m(e,s){it(t,e,s),H(e,n,s),H(e,r,s),o=!0},p(e,n){const i=0&n?rt(a,[ot(GC)]):{};t.$set(i),(!o||16&n)&&s!==(s=e[4]("new_version_available")+"")&&Q(r,s)},i(e){o||(je(t.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function c8(e){let t,n=e[4]("release_notes")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){16&r&&n!==(n=e[4]("release_notes")+"")&&Q(t,n)},d(e){e&&z(t)}}}function u8(e){let t,n=e[4]("release_notes_and_upgrade_instructions")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){16&r&&n!==(n=e[4]("release_notes_and_upgrade_instructions")+"")&&Q(t,n)},d(e){e&&z(t)}}}function d8(e){let t,n,r,o,s,a,i,c,u,d,$,p,m,f,g,h,y,b,v,w,_,x,C,S,k=e[1].tagName+"",M=e[4]("released_date",{values:{date:e[3]}})+"";const I=[l8,i8,a8,s8,o8],T=[];function E(e,t){return"available-upgrade"===e[0]?0:"currently-installed-and-latest"===e[0]?1:"current"===e[0]?2:"latest"===e[0]?3:4}function D(e,t){return"available-upgrade"===e[0]?u8:c8}r=E(e),o=T[r]=I[r](e),u=new Fj({}),p=new qj({});let O=D(e),N=O(e);const A=[OC];let R={};for(let F=0;F<A.length;F+=1)R=l(R,A[F]);return C=new Jd({props:R}),{c(){t=q("div"),n=q("div"),o.c(),s=U(),a=q("div"),i=q("div"),c=q("div"),at(u.$$.fragment),d=U(),$=q("div"),at(p.$$.fragment),m=U(),f=q("div"),g=j(k),h=U(),y=q("div"),b=q("div"),v=j(M),w=U(),_=q("a"),N.c(),x=U(),at(C.$$.fragment),X(n,"class","type svelte-x7wosc"),X(c,"class","logo svelte-x7wosc"),X($,"class","name svelte-x7wosc"),X(f,"class","version svelte-x7wosc"),X(i,"class","left svelte-x7wosc"),X(b,"class","date"),X(_,"href",e[2]),X(_,"class","notes btn btn-link"),X(_,"target","_blank"),X(y,"class","right svelte-x7wosc"),X(a,"class","details svelte-x7wosc"),X(t,"class","release svelte-x7wosc"),se(t,"available-upgrade","available-upgrade"===e[0]),se(t,"currently-installed-and-latest","currently-installed-and-latest"===e[0])},m(e,o){H(e,t,o),F(t,n),T[r].m(n,null),F(t,s),F(t,a),F(a,i),F(i,c),it(u,c,null),F(i,d),F(i,$),it(p,$,null),F(i,m),F(i,f),F(f,g),F(a,h),F(a,y),F(y,b),F(b,v),F(y,w),F(y,_),N.m(_,null),F(_,x),it(C,_,null),S=!0},p(e,[s]){let a=r;r=E(e),r===a?T[r].p(e,s):(qe(),Ue(T[a],1,1,(()=>{T[a]=null})),Be(),o=T[r],o?o.p(e,s):(o=T[r]=I[r](e),o.c()),je(o,1),o.m(n,null)),(!S||2&s)&&k!==(k=e[1].tagName+"")&&Q(g,k),(!S||24&s)&&M!==(M=e[4]("released_date",{values:{date:e[3]}})+"")&&Q(v,M),O===(O=D(e))&&N?N.p(e,s):(N.d(1),N=O(e),N&&(N.c(),N.m(_,x)));const i=0&s?rt(A,[ot(OC)]):{};C.$set(i),(!S||4&s)&&X(_,"href",e[2]),(!S||1&s)&&se(t,"available-upgrade","available-upgrade"===e[0]),(!S||1&s)&&se(t,"currently-installed-and-latest","currently-installed-and-latest"===e[0])},i(e){S||(je(o),je(u.$$.fragment,e),je(p.$$.fragment,e),je(C.$$.fragment,e),S=!0)},o(e){Ue(o),Ue(u.$$.fragment,e),Ue(p.$$.fragment,e),Ue(C.$$.fragment,e),S=!1},d(e){e&&z(t),T[r].d(),lt(u),lt(p),N.d(),lt(C)}}}function $8(e,t,n){let r,o,s,a;y(e,no,(e=>n(4,a=e)));let{type:i}=t,{release:l}=t;return e.$$set=e=>{"type"in e&&n(0,i=e.type),"release"in e&&n(1,l=e.release)},e.$$.update=()=>{2&e.$$.dirty&&n(5,r=new Date(l.date)),32&e.$$.dirty&&n(3,o=r.toLocaleDateString()),2&e.$$.dirty&&n(2,s=`https://docs.mathesar.org/releases/${l.tagName}/`)},[i,l,s,o,a,r]}class p8 extends ut{constructor(e){super(),ct(this,e,$8,d8,f,{type:0,release:1})}}function m8(e){let t,n,r,o,s,a,i=e[6]("loading_release_data")+"";return s=new t$({}),{c(){t=q("div"),n=j(i),r=U(),o=q("div"),at(s.$$.fragment)},m(e,i){H(e,t,i),F(t,n),H(e,r,i),H(e,o,i),it(s,o,null),a=!0},p(e,t){(!a||64&t)&&i!==(i=e[6]("loading_release_data")+"")&&Q(n,i)},i(e){a||(je(s.$$.fragment,e),a=!0)},o(e){Ue(s.$$.fragment,e),a=!1},d(e){e&&z(t),e&&z(r),e&&z(o),lt(s)}}}function f8(e){let t,n,r,o;const s=[_8,w8,v8,b8,y8,h8,g8],a=[];function i(e,t){return e[5]?0:e[11]?"up-to-date"===e[3]?2:e[12]?"upgradable"===e[3]?4:void 0===e[3]?5:6:3:1}return n=i(e),r=a[n]=s[n](e),{c(){t=q("div"),r.c(),X(t,"class","releases svelte-c8y0dx")},m(e,r){H(e,t,r),a[n].m(t,null),o=!0},p(e,o){let l=n;n=i(e),n===l?a[n].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),r=a[n],r?r.p(e,o):(r=a[n]=s[n](e),r.c()),je(r,1),r.m(t,null))},i(e){o||(je(r),o=!0)},o(e){Ue(r),o=!1},d(e){e&&z(t),a[n].d()}}}function g8(e){let t,n=So(e[3])+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8&r&&n!==(n=So(e[3])+"")&&Q(t,n)},i:a,o:a,d(e){e&&z(t)}}}function h8(e){let t,n,r,o;return t=new p8({props:{release:e[11],type:"current"}}),r=new p8({props:{release:e[12],type:"latest"}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,s){it(t,e,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){const o={};2&n&&(o.release=e[11]),t.$set(o);const s={};2&n&&(s.release=e[12]),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function y8(e){let t,n,r,o;return t=new p8({props:{release:e[12],type:"available-upgrade"}}),r=new p8({props:{release:e[11],type:"current"}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,s){it(t,e,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){const o={};2&n&&(o.release=e[12]),t.$set(o);const s={};2&n&&(s.release=e[11]),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function b8(e){let t,n,r,o;return t=new p8({props:{release:e[11],type:"current"}}),r=new HP({props:{$$slots:{default:[x8]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,s){it(t,e,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){const o={};2&n&&(o.release=e[11]),t.$set(o);const s={};16448&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function v8(e){let t,n;return t=new p8({props:{release:e[11],type:"currently-installed-and-latest"}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.release=e[11]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function w8(e){let t,n,r,o;t=new HP({props:{$$slots:{default:[k8]},$$scope:{ctx:e}}});let s=e[12]&&M8(e);return{c(){at(t.$$.fragment),n=U(),s&&s.c(),r=W()},m(e,a){it(t,e,a),H(e,n,a),s&&s.m(e,a),H(e,r,a),o=!0},p(e,n){const o={};16450&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o),e[12]?s?(s.p(e,n),2&n&&je(s,1)):(s=M8(e),s.c(),je(s,1),s.m(r.parentNode,r)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be())},i(e){o||(je(t.$$.fragment,e),je(s),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(s),o=!1},d(e){lt(t,e),e&&z(n),s&&s.d(e),e&&z(r)}}}function _8(e){let t,n,r,o,s,a,i=e[6]("loading_release_data")+"";return s=new t$({}),{c(){t=q("div"),n=j(i),r=U(),o=q("div"),at(s.$$.fragment)},m(e,i){H(e,t,i),F(t,n),H(e,r,i),H(e,o,i),it(s,o,null),a=!0},p(e,t){(!a||64&t)&&i!==(i=e[6]("loading_release_data")+"")&&Q(n,i)},i(e){a||(je(s.$$.fragment,e),a=!0)},o(e){Ue(s.$$.fragment,e),a=!1},d(e){e&&z(t),e&&z(r),e&&z(o),lt(s)}}}function x8(e){let t,n=e[6]("unable_to_load_data_latest_release")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){64&r&&n!==(n=e[6]("unable_to_load_data_latest_release")+"")&&Q(t,n)},d(e){e&&z(t)}}}function C8(e){let t,n,r=e[1].inputHash+"";return{c(){t=q("strong"),n=j(r)},m(e,r){H(e,t,r),F(t,n)},p(e,t){2&t&&r!==(r=e[1].inputHash+"")&&Q(n,r)},d(e){e&&z(t)}}}function S8(e){let t,n="version"===e[13]&&C8(e);return{c(){n&&n.c(),t=W()},m(e,r){n&&n.m(e,r),H(e,t,r)},p(e,r){"version"===e[13]?n?n.p(e,r):(n=C8(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&z(t)}}}function k8(e){let t,n;return t=new Rx({props:{text:e[6]("unable_to_load_release_data"),$$slots:{default:[S8,({slotName:e})=>({13:e}),({slotName:e})=>e?8192:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.text=e[6]("unable_to_load_release_data")),24578&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function M8(e){let t,n;return t=new p8({props:{release:e[12],type:"latest"}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.release=e[12]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function I8(e){let t,n,r,o=e[6]("last_checked")+"";return{c(){t=j(o),n=j(": "),r=j(e[2])},m(e,o){H(e,t,o),H(e,n,o),H(e,r,o)},p(e,n){64&n&&o!==(o=e[6]("last_checked")+"")&&Q(t,o),4&n&&Q(r,e[2])},d(e){e&&z(t),e&&z(n),e&&z(r)}}}function T8(e){let t,n,r,o,s,a,i,l,c,u,d;const $=[f8,m8],p=[];function m(e,t){return e[1]?0:1}function f(e,t){return 0===t?function(e){const t=e.slice(),n=t[1];t[10]=n.value;const r=t[10];return t[11]=r.current,t[12]=r.latest,t}(e):e}t=m(e),n=p[t]=$[t](f(e,t)),a=new l$({props:{label:e[6]("check_for_updates"),appearance:"link",icon:aC,onClick:e[7]}});let g=e[2]&&I8(e);return u=new b3({}),{c(){n.c(),r=U(),o=q("div"),s=q("div"),at(a.$$.fragment),i=U(),g&&g.c(),l=U(),c=q("div"),at(u.$$.fragment),X(s,"class","check-button svelte-c8y0dx"),X(o,"class","store-status svelte-c8y0dx"),X(c,"class","donate svelte-c8y0dx")},m(e,n){p[t].m(e,n),H(e,r,n),H(e,o,n),F(o,s),it(a,s,null),F(o,i),g&&g.m(o,null),H(e,l,n),H(e,c,n),it(u,c,null),d=!0},p(e,[s]){let i=t;t=m(e),t===i?p[t].p(f(e,t),s):(qe(),Ue(p[i],1,1,(()=>{p[i]=null})),Be(),n=p[t],n?n.p(f(e,t),s):(n=p[t]=$[t](f(e,t)),n.c()),je(n,1),n.m(r.parentNode,r));const l={};64&s&&(l.label=e[6]("check_for_updates")),a.$set(l),e[2]?g?g.p(e,s):(g=I8(e),g.c(),g.m(o,null)):g&&(g.d(1),g=null)},i(e){d||(je(n),je(a.$$.fragment,e),je(u.$$.fragment,e),d=!0)},o(e){Ue(n),Ue(a.$$.fragment,e),Ue(u.$$.fragment,e),d=!1},d(e){p[t].d(e),e&&z(r),e&&z(o),lt(a),g&&g.d(),e&&z(l),e&&z(c),lt(u)}}}function E8(e,t,n){let r,o,s,i,l,c,u,d,$=a,p=()=>($(),$=g(f,(e=>n(9,c=e))),f),m=a;y(e,no,(e=>n(6,d=e))),e.$$.on_destroy.push((()=>$())),e.$$.on_destroy.push((()=>m()));let{releaseDataStore:f}=t;return p(),e.$$set=e=>{"releaseDataStore"in e&&p(n(0,f=e.releaseDataStore))},e.$$.update=()=>{512&e.$$.dirty&&n(1,r=c),1&e.$$.dirty&&(n(4,({loading:o}=f),o),m(),m=g(o,(e=>n(5,u=e)))),512&e.$$.dirty&&n(8,s=c?.value),256&e.$$.dirty&&n(3,i=s?.upgradeStatus),2&e.$$.dirty&&n(2,l=(()=>{if(r)return new Date(r.timestamp).toLocaleString()})())},[f,r,l,i,o,u,d,async function(){try{await f.forceFetch()}catch(e){WS.fromError(e)}},s,c]}class D8 extends ut{constructor(e){super(),ct(this,e,E8,T8,f,{releaseDataStore:0})}}function O8(e){let t,n;return t=new HP({props:{$$slots:{default:[A8]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};5&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function N8(e){let t,n;return t=new D8({props:{releaseDataStore:e[1]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function A8(e){let t,n=e[0]("release_data_store_not_found")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1&r&&n!==(n=e[0]("release_data_store_not_found")+"")&&Q(t,n)},d(e){e&&z(t)}}}function R8(e){let t,n,r,o,s,a,i,l,c,u=e[0]("software_update")+"";document.title=t=zK(e[0]("software_update"));const d=[N8,O8],$=[];return a=function(e,t){return e[1]?0:1}(e),i=$[a]=d[a](e),{c(){n=U(),r=q("h2"),o=j(u),s=U(),i.c(),l=W()},m(e,t){H(e,n,t),H(e,r,t),F(r,o),H(e,s,t),$[a].m(e,t),H(e,l,t),c=!0},p(e,[n]){(!c||1&n)&&t!==(t=zK(e[0]("software_update")))&&(document.title=t),(!c||1&n)&&u!==(u=e[0]("software_update")+"")&&Q(o,u),i.p(e,n)},i(e){c||(je(i),c=!0)},o(e){Ue(i),c=!1},d(e){e&&z(n),e&&z(r),e&&z(s),$[a].d(e),e&&z(l)}}}function F8(e,t,n){let r;y(e,no,(e=>n(0,r=e)));const o=mM();return[r,o]}class P8 extends ut{constructor(e){super(),ct(this,e,F8,R8,f,{})}}function L8(e){let t,n=e[1]("update")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){2&r&&n!==(n=e[1]("update")+"")&&Q(t,n)},d(e){e&&z(t)}}}function H8(e){let t,n=e[1]("users")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){2&r&&n!==(n=e[1]("users")+"")&&Q(t,n)},d(e){e&&z(t)}}}function z8(e){let t,n=e[1]("settings")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){2&r&&n!==(n=e[1]("settings")+"")&&Q(t,n)},d(e){e&&z(t)}}}function V8(e){let t,n,r,o,s,a,i,l,c,u,$;return n=new Zv({props:{icon:qC,hasNotificationDot:e[0],$$slots:{default:[L8]},$$scope:{ctx:e}}}),s=new Zv({props:{icon:JC,$$slots:{default:[H8]},$$scope:{ctx:e}}}),l=new Zv({props:{icon:BC,$$slots:{default:[z8]},$$scope:{ctx:e}}}),{c(){t=q("a"),at(n.$$.fragment),r=U(),o=q("a"),at(s.$$.fragment),a=U(),i=q("a"),at(l.$$.fragment),X(t,"role","menuitem"),X(t,"href",dI),X(t,"class","menu-item menu-item-link"),X(o,"role","menuitem"),X(o,"href",$I),X(o,"class","menu-item menu-item-link"),X(i,"role","menuitem"),X(i,"href",mI),X(i,"class","menu-item menu-item-link")},m(e,d){H(e,t,d),it(n,t,null),H(e,r,d),H(e,o,d),it(s,o,null),H(e,a,d),H(e,i,d),it(l,i,null),c=!0,u||($=[T(Kz.call(null,t)),T(Kz.call(null,o)),T(Kz.call(null,i))],u=!0)},p(e,t){const r={};1&t&&(r.hasNotificationDot=e[0]),18&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const o={};18&t&&(o.$$scope={dirty:t,ctx:e}),s.$set(o);const a={};18&t&&(a.$$scope={dirty:t,ctx:e}),l.$set(a)},i(e){c||(je(n.$$.fragment,e),je(s.$$.fragment,e),je(l.$$.fragment,e),c=!0)},o(e){Ue(n.$$.fragment,e),Ue(s.$$.fragment,e),Ue(l.$$.fragment,e),c=!1},d(e){e&&z(t),lt(n),e&&z(r),e&&z(o),lt(s),e&&z(a),e&&z(i),lt(l),u=!1,d($)}}}function q8(e){let t,n,r;return n=new Ih({props:{$$slots:{default:[V8]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","admin-navigation svelte-n65oos")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,[t]){const r={};19&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function B8(e,t,n){let r,o,s;y(e,no,(e=>n(1,s=e)));const a=mM();return y(e,a,(e=>n(3,o=e))),e.$$.update=()=>{8&e.$$.dirty&&n(0,r="upgradable"===o?.value?.upgradeStatus)},[r,s,a,o]}class j8 extends ut{constructor(e){super(),ct(this,e,B8,q8,f,{})}}function U8(e){let t,n;const r=e[1].default,o=b(r,e,e[0],null);return{c(){t=q("div"),o&&o.c(),X(t,"class","form-box svelte-7o64am")},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&_(o,r,e,e[0],n?w(r,e[0],t,null):x(e[0]),null)},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function W8(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,r]}class Y8 extends ut{constructor(e){super(),ct(this,e,W8,U8,f,{})}}function K8(e){let t,n,r;const o=e[3].default,s=b(o,e,e[2],null);return{c(){t=q("div"),s&&s.c(),X(t,"class","grid-form svelte-zx1fio"),De((()=>e[4].call(t))),se(t,"grid",e[1]>e[0])},m(o,a){H(o,t,a),s&&s.m(t,null),n=oe(t,e[4].bind(t)),r=!0},p(e,[n]){s&&s.p&&(!r||4&n)&&_(s,o,e,e[2],r?w(o,e[2],n,null):x(e[2]),null),(!r||3&n)&&se(t,"grid",e[1]>e[0])},i(e){r||(je(s,e),r=!0)},o(e){Ue(s,e),r=!1},d(e){e&&z(t),s&&s.d(e),n()}}}function G8(e,t,n){let r,{$$slots:o={},$$scope:s}=t,{breakpointPx:a=400}=t;return e.$$set=e=>{"breakpointPx"in e&&n(0,a=e.breakpointPx),"$$scope"in e&&n(2,s=e.$$scope)},[a,r,s,o,function(){r=this.clientWidth,n(1,r)}]}class X8 extends ut{constructor(e){super(),ct(this,e,G8,K8,f,{breakpointPx:0})}}function Z8(e){let t;return{c(){t=j(e[0])},m(e,n){H(e,t,n)},p(e,n){1&n&&Q(t,e[0])},d(e){e&&z(t)}}}function J8(e){let t,n,r,o,s;n=new O$({props:{controller:e[1],$$slots:{default:[Z8]},$$scope:{ctx:e}}});const a=e[2].default,i=b(a,e,e[3],null);return{c(){t=q("div"),at(n.$$.fragment),r=U(),o=q("div"),i&&i.c(),X(t,"class","label-cell svelte-h4bao7"),X(o,"class","input-cell")},m(e,a){H(e,t,a),it(n,t,null),H(e,r,a),H(e,o,a),i&&i.m(o,null),s=!0},p(e,[t]){const r={};9&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r),i&&i.p&&(!s||8&t)&&_(i,a,e,e[3],s?w(a,e[3],t,null):x(e[3]),null)},i(e){s||(je(n.$$.fragment,e),je(i,e),s=!0)},o(e){Ue(n.$$.fragment,e),Ue(i,e),s=!1},d(e){e&&z(t),lt(n),e&&z(r),e&&z(o),i&&i.d(e)}}}function Q8(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=new f$;h$(s);let{label:a}=t;return e.$$set=e=>{"label"in e&&n(0,a=e.label),"$$scope"in e&&n(3,o=e.$$scope)},[a,s,r,o]}class e5 extends ut{constructor(e){super(),ct(this,e,Q8,J8,f,{label:0})}}function t5(e){let t,n,r;const o=[e[3],{options:e[1]},{getLabel:e[2]}];function s(t){e[4](t)}let a={};for(let i=0;i<o.length;i+=1)a=l(a,o[i]);return void 0!==e[0]&&(a.value=e[0]),t=new $y({props:a}),Ce.push((()=>st(t,"value",s))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,[r]){const s=14&r?rt(o,[8&r&&ot(e[3]),2&r&&{options:e[1]},4&r&&{getLabel:e[2]}]):{};!n&&1&r&&(n=!0,s.value=e[0],Oe((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function n5(e,t,n){const r=["value"];let o=S(t,r);const s=dx().supported_languages??{},a=Object.keys(s);let{value:i}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(3,o=S(t,r)),"value"in e&&n(0,i=e.value)},[i,a,function(e){return void 0===e?"":`${s[e]} (${e})`},o,function(e){i=e,n(0,i)}]}class r5 extends ut{constructor(e){super(),ct(this,e,n5,t5,f,{value:0})}}function o5(e){let t,n;return t=new WL({props:{field:e[6]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.field=e[6]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function s5(e){let t,n;return t=new WL({props:{field:e[4]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.field=e[4]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function a5(e){let t,n;return t=new WL({props:{field:e[5],input:{component:ym,props:{autocomplete:e[1]?"new-username":"on"}}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.field=e[5]),2&n&&(r.input={component:ym,props:{autocomplete:e[1]?"new-username":"on"}}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function i5(e){let t,n;return t=new e5({props:{label:`${e[7]("password")} *`,$$slots:{default:[l5]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};128&n&&(r.label=`${e[7]("password")} *`),524290&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function l5(e){let t,n;return t=new WL({props:{field:e[11],input:{component:Qf,props:{autocomplete:e[1]?"new-password":"on"}}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.input={component:Qf,props:{autocomplete:e[1]?"new-password":"on"}}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function c5(e){let t,n;return t=new WL({props:{field:e[2],input:{component:r5}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.field=e[2]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function u5(e){let t,n,r,o,s,a,i=e[7]("admin_user_checkbox_help")+"";return s=new JP({props:{page:"userAdmin"}}),{c(){t=q("p"),n=j(i),r=U(),o=q("p"),at(s.$$.fragment)},m(e,i){H(e,t,i),F(t,n),H(e,r,i),H(e,o,i),it(s,o,null),a=!0},p(e,t){(!a||128&t)&&i!==(i=e[7]("admin_user_checkbox_help")+"")&&Q(n,i)},i(e){a||(je(s.$$.fragment,e),a=!0)},o(e){Ue(s.$$.fragment,e),a=!1},d(e){e&&z(t),e&&z(r),e&&z(o),lt(s)}}}function d5(e){let t,n,r,o,s;return n=new WL({props:{field:e[3],input:{component:k$,props:{disabled:e[9]}}}}),o=new H$({props:{$$slots:{default:[u5]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),at(o.$$.fragment),X(t,"class","admin-checkbox svelte-1jfahz4")},m(e,a){H(e,t,a),it(n,t,null),F(t,r),it(o,t,null),s=!0},p(e,t){const r={};8&t&&(r.field=e[3]),512&t&&(r.input={component:k$,props:{disabled:e[9]}}),n.$set(r);const s={};524416&t&&(s.$$scope={dirty:t,ctx:e}),o.$set(s)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(n),lt(o)}}}function $5(e){let t,n,r,o,s,a,i,l,c,u,d;t=new e5({props:{label:e[7]("display_name"),$$slots:{default:[o5]},$$scope:{ctx:e}}}),r=new e5({props:{label:e[7]("email"),$$slots:{default:[s5]},$$scope:{ctx:e}}}),s=new e5({props:{label:`${e[7]("username")} *`,$$slots:{default:[a5]},$$scope:{ctx:e}}});let $=e[1]&&i5(e);return l=new e5({props:{label:`${e[7]("display_language")} *`,$$slots:{default:[c5]},$$scope:{ctx:e}}}),u=new e5({props:{label:e[7]("admin"),$$slots:{default:[d5]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),at(s.$$.fragment),a=U(),$&&$.c(),i=U(),at(l.$$.fragment),c=U(),at(u.$$.fragment)},m(e,p){it(t,e,p),H(e,n,p),it(r,e,p),H(e,o,p),it(s,e,p),H(e,a,p),$&&$.m(e,p),H(e,i,p),it(l,e,p),H(e,c,p),it(u,e,p),d=!0},p(e,n){const o={};128&n&&(o.label=e[7]("display_name")),524352&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const a={};128&n&&(a.label=e[7]("email")),524304&n&&(a.$$scope={dirty:n,ctx:e}),r.$set(a);const c={};128&n&&(c.label=`${e[7]("username")} *`),524322&n&&(c.$$scope={dirty:n,ctx:e}),s.$set(c),e[1]?$?($.p(e,n),2&n&&je($,1)):($=i5(e),$.c(),je($,1),$.m(i.parentNode,i)):$&&(qe(),Ue($,1,1,(()=>{$=null})),Be());const d={};128&n&&(d.label=`${e[7]("display_language")} *`),524292&n&&(d.$$scope={dirty:n,ctx:e}),l.$set(d);const p={};128&n&&(p.label=e[7]("admin")),524936&n&&(p.$$scope={dirty:n,ctx:e}),u.$set(p)},i(e){d||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),je($),je(l.$$.fragment,e),je(u.$$.fragment,e),d=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),Ue($),Ue(l.$$.fragment,e),Ue(u.$$.fragment,e),d=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),lt(s,e),e&&z(a),$&&$.d(e),e&&z(i),lt(l,e),e&&z(c),lt(u,e)}}}function p5(e){let t,n,r,o,s;return t=new X8({props:{$$slots:{default:[$5]},$$scope:{ctx:e}}}),o=new QL({props:{form:e[8],catchErrors:!0,onProceed:e[12],proceedButton:{label:e[7]("save"),icon:lC},cancelButton:{label:e[7]("discard_changes"),icon:mC},getErrorMessages:e[13],initiallyHidden:!!e[0],hasCancelButton:!!e[0]}}),{c(){at(t.$$.fragment),n=U(),r=q("div"),at(o.$$.fragment),X(r,"class","submit-section svelte-1jfahz4")},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),it(o,r,null),s=!0},p(e,[n]){const r={};525054&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r);const s={};256&n&&(s.form=e[8]),128&n&&(s.proceedButton={label:e[7]("save"),icon:lC}),128&n&&(s.cancelButton={label:e[7]("discard_changes"),icon:mC}),1&n&&(s.initiallyHidden=!!e[0]),1&n&&(s.hasCancelButton=!!e[0]),o.$set(s)},i(e){s||(je(t.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),Ue(o.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r),lt(o)}}}function m5(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,b,v=a;y(e,no,(e=>n(7,m=e))),e.$$.on_destroy.push((()=>v()));const w=ye(),_=jM();y(e,_,(e=>n(16,b=e)));let{user:x}=t;const C=oH("");return e.$$set=e=>{"user"in e&&n(0,x=e.user)},e.$$.update=()=>{var t,a;65536&e.$$.dirty&&n(15,r=b),32769&e.$$.dirty&&n(9,o=r&&r.id===x?.id),1&e.$$.dirty&&n(1,s=void 0===x),1&e.$$.dirty&&n(6,i=rH(x?.full_name??"")),129&e.$$.dirty&&n(5,l=oH(x?.username??"",[(t=150,a=m("username_max_length_error",{values:{maxLength:150}}),bP((e=>e.length<=t),a??h(no)("value_maxlength_error",{values:{limit:t}}))),xP(/^[A-Za-z0-9_@.+-]*$/,m("username_restrict_chars_error"))])),1&e.$$.dirty&&n(4,c=rH(x?.email??"",[SP()])),1&e.$$.dirty&&n(2,u=oH(x?.display_language??"en")),1&e.$$.dirty&&n(3,d=oH(x?.is_superuser??!1)),1&e.$$.dirty&&C.reset(),126&e.$$.dirty&&n(14,$=(()=>{const e={fullName:i,username:l,email:c,isAdmin:d,displayLanguage:u};return s?{...e,password:C}:e})()),16384&e.$$.dirty&&(n(8,p=aH($)),v(),v=g(p,(e=>n(17,f=e))))},[x,s,u,d,c,l,i,m,p,o,_,C,async function(){const e=f.values,t={full_name:e.fullName,username:e.username,email:e.email,display_language:e.displayLanguage};if(s&&bo(e,"password")){const n=await PM.users.add({user_def:{...t,password:e.password,is_superuser:e.isAdmin}}).run();w("create",n)}else{if(!x)throw new Error(m("unable_to_update_user"));if(o&&_){await PM.users.patch_self(t).run(),_.update((e=>e.with(t)));const n=e.displayLanguage;await async function(e){await Pr.set(e),wj(e)}(n)}else await PM.users.patch_other({...t,user_id:x.id,is_superuser:e.isAdmin}).run();w("update")}},function(e){const{commonErrors:t,fieldSpecificErrors:n}=function(e,t){if(e instanceof $k||e instanceof dk){const{commonErrors:n,fieldSpecificErrors:r}=e.getSegregatedErrors();return t?{commonErrors:n,fieldSpecificErrors:new ao([...r.entries()].map((([e,n])=>[t[e]??e,n])))}:{commonErrors:n,fieldSpecificErrors:r}}return{commonErrors:[ck(e)],fieldSpecificErrors:new ao}}(e,{user_name:"username",is_superuser:"isAdmin"});for(const[r,o]of n){const e=p.fields[r];e?e.serverErrors.set(o):t.push(...o)}return t},$,r,b]}class f5 extends ut{constructor(e){super(),ct(this,e,m5,p5,f,{user:0})}}function g5(e){let t,n;const r=e[2].default,o=b(r,e,e[1],null);return{c(){t=q("div"),o&&o.c(),X(t,"class","input-row svelte-fi34hj"),te(t,"display","contents")},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||2&t)&&_(o,r,e,e[1],n?w(r,e[1],t,null):x(e[1]),null)},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function h5(e){let t;const n=e[2].default,r=b(n,e,e[1],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||2&o)&&_(r,n,e,e[1],t?w(n,e[1],o,null):x(e[1]),null)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function y5(e){let t,n,r,o;const s=[h5,g5],a=[];function i(e,t){return e[0]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,[o]){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function b5(e,t,n){let{$$slots:r={},$$scope:o}=t,{bypass:s=!1}=t;return e.$$set=e=>{"bypass"in e&&n(0,s=e.bypass),"$$scope"in e&&n(1,o=e.$$scope)},[s,o,r]}class v5 extends ut{constructor(e){super(),ct(this,e,b5,y5,f,{bypass:0})}}const w5=e=>({}),_5=e=>({});function x5(e){let t;return{c(){t=j(e[0])},m(e,n){H(e,t,n)},p(e,n){1&n&&Q(t,e[0])},d(e){e&&z(t)}}}function C5(e){let t,n,r,o=e[6].help&&S5(e),s=e[1]&&k5(e);return{c(){t=q("div"),o&&o.c(),n=U(),s&&s.c(),X(t,"class","help svelte-1gch864")},m(e,a){H(e,t,a),o&&o.m(t,null),F(t,n),s&&s.m(t,null),r=!0},p(e,r){e[6].help?o?(o.p(e,r),64&r&&je(o,1)):(o=S5(e),o.c(),je(o,1),o.m(t,n)):o&&(qe(),Ue(o,1,1,(()=>{o=null})),Be()),e[1]?s?s.p(e,r):(s=k5(e),s.c(),s.m(t,null)):s&&(s.d(1),s=null)},i(e){r||(je(o),r=!0)},o(e){Ue(o),r=!1},d(e){e&&z(t),o&&o.d(),s&&s.d()}}}function S5(e){let t;const n=e[7].help,r=b(n,e,e[8],_5);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||256&o)&&_(r,n,e,e[8],t?w(n,e[8],o,w5):x(e[8]),_5)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function k5(e){let t;return{c(){t=j(e[1])},m(e,n){H(e,t,n)},p(e,n){2&n&&Q(t,e[1])},d(e){e&&z(t)}}}function M5(e){let t,n,r,o,s,a,i,l;n=new O$({props:{controller:e[5],$$slots:{default:[x5]},$$scope:{ctx:e}}}),a=new WL({props:{field:e[2],input:e[3]}});let c=(e[6].help||e[1])&&C5(e);return{c(){t=q("div"),at(n.$$.fragment),r=U(),o=q("div"),s=q("div"),at(a.$$.fragment),i=U(),c&&c.c(),X(t,"class","left cell svelte-1gch864"),X(s,"class","input"),X(o,"class","right cell")},m(e,u){H(e,t,u),it(n,t,null),H(e,r,u),H(e,o,u),F(o,s),it(a,s,null),F(o,i),c&&c.m(o,null),l=!0},p(e,t){const r={};257&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};4&t&&(s.field=e[2]),8&t&&(s.input=e[3]),a.$set(s),e[6].help||e[1]?c?(c.p(e,t),66&t&&je(c,1)):(c=C5(e),c.c(),je(c,1),c.m(o,null)):c&&(qe(),Ue(c,1,1,(()=>{c=null})),Be())},i(e){l||(je(n.$$.fragment,e),je(a.$$.fragment,e),je(c),l=!0)},o(e){Ue(n.$$.fragment,e),Ue(a.$$.fragment,e),Ue(c),l=!1},d(e){e&&z(t),lt(n),e&&z(r),e&&z(o),lt(a),c&&c.d()}}}function I5(e){let t,n;return t=new v5({props:{bypass:e[4],$$slots:{default:[M5]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};16&n&&(r.bypass=e[4]),335&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function T5(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=k(r),a=new f$;let{label:i}=t,{help:l}=t,{field:c}=t,{input:u}=t,{bypassRow:d=!1}=t;return e.$$set=e=>{"label"in e&&n(0,i=e.label),"help"in e&&n(1,l=e.help),"field"in e&&n(2,c=e.field),"input"in e&&n(3,u=e.input),"bypassRow"in e&&n(4,d=e.bypassRow),"$$scope"in e&&n(8,o=e.$$scope)},h$(a),[i,l,c,u,d,a,s,r,o]}class E5 extends ut{constructor(e){super(),ct(this,e,T5,I5,f,{label:0,help:1,field:2,input:3,bypassRow:4})}}function D5(e){let t,n,r;return n=new cV({props:{fullWidth:!0,$$slots:{default:[A5]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","password-change-warning svelte-1a1qdag")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};131077&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function O5(e){let t,n=e[2]("prompt_new_password_next_login")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){4&r&&n!==(n=e[2]("prompt_new_password_next_login")+"")&&Q(t,n)},d(e){e&&z(t)}}}function N5(e){let t,n=e[2]("redirected_login_page_password_change")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){4&r&&n!==(n=e[2]("redirected_login_page_password_change")+"")&&Q(t,n)},d(e){e&&z(t)}}}function A5(e){let t;function n(e,t){return e[0]?N5:O5}let r=n(e),o=r(e);return{c(){o.c(),t=W()},m(e,n){o.m(e,n),H(e,t,n)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&z(t)}}}function R5(e){let t,n;return t=new v5({props:{$$slots:{default:[L5]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};131084&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function F5(e){let t,n,r,o=e[0]&&H5(e);return n=new v5({props:{$$slots:{default:[V5]},$$scope:{ctx:e}}}),{c(){o&&o.c(),t=U(),at(n.$$.fragment)},m(e,s){o&&o.m(e,s),H(e,t,s),it(n,e,s),r=!0},p(e,r){e[0]?o?(o.p(e,r),1&r&&je(o,1)):(o=H5(e),o.c(),je(o,1),o.m(t.parentNode,t)):o&&(qe(),Ue(o,1,1,(()=>{o=null})),Be());const s={};131076&r&&(s.$$scope={dirty:r,ctx:e}),n.$set(s)},i(e){r||(je(o),je(n.$$.fragment,e),r=!0)},o(e){Ue(o),Ue(n.$$.fragment,e),r=!1},d(e){o&&o.d(e),e&&z(t),lt(n,e)}}}function P5(e){let t,n=e[2]("change_password")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){4&r&&n!==(n=e[2]("change_password")+"")&&Q(t,n)},d(e){e&&z(t)}}}function L5(e){let t,n,r,o,s;return t=new E5({props:{label:e[2]("password"),field:e[8],input:{component:Qf,props:{disabled:!0}},bypassRow:!0}}),o=new Hu({props:{appearance:"secondary",$$slots:{default:[P5]},$$scope:{ctx:e}}}),o.$on("click",e[14]),{c(){at(t.$$.fragment),n=U(),r=q("div"),at(o.$$.fragment),X(r,"class","change-password-button cell svelte-1a1qdag")},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),it(o,r,null),s=!0},p(e,n){const r={};4&n&&(r.label=e[2]("password")),t.$set(r);const s={};131076&n&&(s.$$scope={dirty:n,ctx:e}),o.$set(s)},i(e){s||(je(t.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),Ue(o.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r),lt(o)}}}function H5(e){let t,n;return t=new v5({props:{$$slots:{default:[z5]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};131076&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function z5(e){let t,n,r,o,s,a;return t=new E5({props:{label:`${e[2]("old_password")} *`,field:e[5],input:{component:Qf},bypassRow:!0}}),{c(){at(t.$$.fragment),n=U(),r=q("div"),o=U(),s=q("div")},m(e,i){it(t,e,i),H(e,n,i),H(e,r,i),H(e,o,i),H(e,s,i),a=!0},p(e,n){const r={};4&n&&(r.label=`${e[2]("old_password")} *`),t.$set(r)},i(e){a||(je(t.$$.fragment,e),a=!0)},o(e){Ue(t.$$.fragment,e),a=!1},d(e){lt(t,e),e&&z(n),e&&z(r),e&&z(o),e&&z(s)}}}function V5(e){let t,n,r,o;return t=new E5({props:{label:`${e[2]("new_password")} *`,field:e[6],input:{component:Qf,props:{autocomplete:"new-password"}},bypassRow:!0}}),r=new E5({props:{label:`${e[2]("confirm_password")} *`,field:e[7],input:{component:Qf,props:{autocomplete:"new-password"}},bypassRow:!0}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,s){it(t,e,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){const o={};4&n&&(o.label=`${e[2]("new_password")} *`),t.$set(o);const s={};4&n&&(s.label=`${e[2]("confirm_password")} *`),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function q5(e){let t,n,r;return n=new QL({props:{form:e[1],catchErrors:!0,onProceed:e[9],onCancel:e[15],proceedButton:{label:e[2]("save"),icon:lC},cancelButton:{label:e[2]("cancel")}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","submit-section svelte-1a1qdag")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};2&t&&(r.form=e[1]),8&t&&(r.onCancel=e[15]),4&t&&(r.proceedButton={label:e[2]("save"),icon:lC}),4&t&&(r.cancelButton={label:e[2]("cancel")}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function B5(e){let t,n,r,o,s,a,i,l=e[3]&&D5(e);const c=[F5,R5],u=[];function d(e,t){return e[3]?0:1}o=d(e),s=u[o]=c[o](e);let $=e[3]&&q5(e);return{c(){t=q("div"),l&&l.c(),n=U(),r=q("div"),s.c(),a=U(),$&&$.c(),X(r,"class","password-inputs svelte-1a1qdag"),X(t,"class","password-change-form svelte-1a1qdag")},m(e,s){H(e,t,s),l&&l.m(t,null),F(t,n),F(t,r),u[o].m(r,null),F(t,a),$&&$.m(t,null),i=!0},p(e,[a]){e[3]?l?(l.p(e,a),8&a&&je(l,1)):(l=D5(e),l.c(),je(l,1),l.m(t,n)):l&&(qe(),Ue(l,1,1,(()=>{l=null})),Be());let i=o;o=d(e),o===i?u[o].p(e,a):(qe(),Ue(u[i],1,1,(()=>{u[i]=null})),Be(),s=u[o],s?s.p(e,a):(s=u[o]=c[o](e),s.c()),je(s,1),s.m(r,null)),e[3]?$?($.p(e,a),8&a&&je($,1)):($=q5(e),$.c(),je($,1),$.m(t,null)):$&&(qe(),Ue($,1,1,(()=>{$=null})),Be())},i(e){i||(je(l),je(s),je($),i=!0)},o(e){Ue(l),Ue(s),Ue($),i=!1},d(e){e&&z(t),l&&l.d(),u[o].d(),$&&$.d()}}}function j5(e,t,n){let r,o,s,i,l,c,u,d=a;y(e,no,(e=>n(2,c=e))),e.$$.on_destroy.push((()=>d()));const $=jM();y(e,$,(e=>n(13,u=e)));let{userId:p}=t;const m=oH(""),f=oH(""),h=oH(""),b=rH("***************");let v=!1;return e.$$set=e=>{"userId"in e&&n(10,p=e.userId)},e.$$.update=()=>{8192&e.$$.dirty&&n(12,r=u),5120&e.$$.dirty&&n(0,o=r?.id===p),1&e.$$.dirty&&n(11,s=(()=>{const e={password:f,confirmPassword:h};return o?{...e,oldPassword:m}:e})()),2052&e.$$.dirty&&(n(1,i=aH(s,[EP([f,h],c("passwords_do_not_match"))])),d(),d=g(i,(e=>n(16,l=e)))),1026&e.$$.dirty&&(n(3,v=!1),i.reset())},[o,i,c,v,$,m,f,h,b,async function(){const e=l.values;o&&bo(e,"oldPassword")?(await PM.users.password.replace_own({old_password:e.oldPassword,new_password:e.password}).run(),window.location.reload()):(await PM.users.password.revoke({user_id:p,new_password:e.password}).run(),n(3,v=!1))},p,s,r,u,()=>{n(3,v=!0)},()=>{n(3,v=!1)}]}class U5 extends ut{constructor(e){super(),ct(this,e,j5,B5,f,{userId:10})}}function W5(e){const t=e.isMathesarAdmin?"admin":"standard",n=function(e){switch(e){case"admin":return"Admin";case"standard":return"Standard";default:return So(e)}}(t);return{icon:e.isMathesarAdmin?QC:{...ZC,size:"1rem"},type:t,displayName:n}}function Y5(e){return{c:a,m:a,p:a,i:a,o:a,d:a}}function K5(e){let t,n,r,o;const s=[X5,G5],a=[];function i(e,t){return void 0===e[13]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function G5(e){let t,n,r,o,s,a,i,c,u,d,$,p,m,f,g,h,y=e[4]("edit_user")+"",b=e[13].username+"";t=new z6({props:{item:{type:"simple",href:fI(e[0]),label:e[13].username,icon:Zx,prependSeparator:!0}}});const v=[Zx];let w={};for(let x=0;x<v.length;x+=1)w=l(w,v[x]);o=new Jd({props:w}),$=new Y8({props:{$$slots:{default:[Z5]},$$scope:{ctx:e}}}),m=new Y8({props:{$$slots:{default:[J5]},$$scope:{ctx:e}}});let _=!e[2]&&Q5(e);return{c(){at(t.$$.fragment),n=U(),r=q("h2"),at(o.$$.fragment),s=U(),a=j(y),i=j(": "),c=q("strong"),u=j(b),d=U(),at($.$$.fragment),p=U(),at(m.$$.fragment),f=U(),_&&_.c(),g=W()},m(e,l){it(t,e,l),H(e,n,l),H(e,r,l),it(o,r,null),F(r,s),F(r,a),F(r,i),F(r,c),F(c,u),H(e,d,l),it($,e,l),H(e,p,l),it(m,e,l),H(e,f,l),_&&_.m(e,l),H(e,g,l),h=!0},p(e,n){const r={};3&n&&(r.item={type:"simple",href:fI(e[0]),label:e[13].username,icon:Zx,prependSeparator:!0}),t.$set(r);const s=0&n?rt(v,[ot(Zx)]):{};o.$set(s),(!h||16&n)&&y!==(y=e[4]("edit_user")+"")&&Q(a,y),(!h||2&n)&&b!==(b=e[13].username+"")&&Q(u,b);const i={};16386&n&&(i.$$scope={dirty:n,ctx:e}),$.$set(i);const l={};16385&n&&(l.$$scope={dirty:n,ctx:e}),m.$set(l),e[2]?_&&(qe(),Ue(_,1,1,(()=>{_=null})),Be()):_?(_.p(e,n),4&n&&je(_,1)):(_=Q5(e),_.c(),je(_,1),_.m(g.parentNode,g))},i(e){h||(je(t.$$.fragment,e),je(o.$$.fragment,e),je($.$$.fragment,e),je(m.$$.fragment,e),je(_),h=!0)},o(e){Ue(t.$$.fragment,e),Ue(o.$$.fragment,e),Ue($.$$.fragment,e),Ue(m.$$.fragment,e),Ue(_),h=!1},d(e){lt(t,e),e&&z(n),e&&z(r),lt(o),e&&z(d),lt($,e),e&&z(p),lt(m,e),e&&z(f),_&&_.d(e),e&&z(g)}}}function X5(e){let t,n,r,o;const s=[n7,t7],a=[];function i(e,t){return"failure"===e[5]?.state?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function Z5(e){let t,n;return t=new f5({props:{user:e[13].getUser()}}),t.$on("update",e[7]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.user=e[13].getUser()),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function J5(e){let t,n;return t=new U5({props:{userId:e[0]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.userId=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Q5(e){let t,n;return t=new Y8({props:{$$slots:{default:[e7]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16402&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function e7(e){let t,n;function r(){return e[10](e[13])}function o(){return e[11](e[13])}return t=new l$({props:{confirm:r,onClick:o,icon:Kx,label:e[4]("delete_user"),appearance:"danger"}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(n,s){e=n;const a={};18&s&&(a.confirm=r),2&s&&(a.onClick=o),16&s&&(a.label=e[4]("delete_user")),t.$set(a)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function t7(e){let t,n;return t=new HP({props:{$$slots:{default:[r7]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16400&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function n7(e){let t,n=e[5].errors+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){32&r&&n!==(n=e[5].errors+"")&&Q(t,n)},i:a,o:a,d(e){e&&z(t)}}}function r7(e){let t,n=e[4]("user_not_found")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){16&r&&n!==(n=e[4]("user_not_found")+"")&&Q(t,n)},d(e){e&&z(t)}}}function o7(e){let t,n=e[4]("fetching_user_details")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){16&r&&n!==(n=e[4]("fetching_user_details")+"")&&Q(t,n)},i:a,o:a,d(e){e&&z(t)}}}function s7(e){let t,n,r,o={ctx:e,current:null,token:null,hasCatch:!1,pending:o7,then:K5,catch:Y5,value:13,blocks:[,,,]};return Xe(n=e[1],o),{c(){t=W(),o.block.c()},m(e,n){H(e,t,n),o.block.m(e,o.anchor=n),o.mount=()=>t.parentNode,o.anchor=t,r=!0},p(t,[r]){e=t,o.ctx=e,2&r&&n!==(n=e[1])&&Xe(n,o)||Ze(o,e,r)},i(e){r||(je(o.block),r=!0)},o(e){for(let t=0;t<3;t+=1){Ue(o.blocks[t])}r=!1},d(e){e&&z(t),o.block.d(e),o.token=null,o=null}}}function a7(e,t,n){let r,o,s,i,l,c,u=a;y(e,no,(e=>n(4,l=e))),e.$$.on_destroy.push((()=>u()));const d=jM();y(e,d,(e=>n(9,i=e)));const $=qM();let{userId:p}=t;async function m(e){if($)try{await $.delete(e.id),Yz.goto($I)}catch(t){WS.fromError(t)}}return e.$$set=e=>{"userId"in e&&n(0,p=e.userId)},e.$$.update=()=>{1&e.$$.dirty&&n(1,o=$?.getUserDetails(p)),513&e.$$.dirty&&n(2,s=i?.id===p)},n(3,r=$?.requestStatus),u(),u=g(r,(e=>n(5,c=e))),[p,o,s,r,l,c,d,async function(){await($?.fetchUsers()),n(1,o=$?.getUserDetails(p))},m,i,e=>XS({identifierName:e.username,identifierType:l("user")}),e=>m(e)]}class i7 extends ut{constructor(e){super(),ct(this,e,a7,s7,f,{userId:0})}}function l7(e){let t,n;return t=new f5({}),t.$on("create",e[2]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function c7(e){let t,n,r,o,s,a,i,c,u,d=e[0]("new_user")+"";t=new z6({props:{item:{type:"simple",href:pI,label:e[0]("new_user"),icon:Ux,prependSeparator:!0}}});const $=[Ux];let p={};for(let m=0;m<$.length;m+=1)p=l(p,$[m]);return o=new Jd({props:p}),c=new Y8({props:{$$slots:{default:[l7]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment),n=U(),r=q("h1"),at(o.$$.fragment),s=U(),a=j(d),i=U(),at(c.$$.fragment)},m(e,l){it(t,e,l),H(e,n,l),H(e,r,l),it(o,r,null),F(r,s),F(r,a),H(e,i,l),it(c,e,l),u=!0},p(e,[n]){const r={};1&n&&(r.item={type:"simple",href:pI,label:e[0]("new_user"),icon:Ux,prependSeparator:!0}),t.$set(r);const s=0&n?rt($,[ot(Ux)]):{};o.$set(s),(!u||1&n)&&d!==(d=e[0]("new_user")+"")&&Q(a,d);const i={};16&n&&(i.$$scope={dirty:n,ctx:e}),c.$set(i)},i(e){u||(je(t.$$.fragment,e),je(o.$$.fragment,e),je(c.$$.fragment,e),u=!0)},o(e){Ue(t.$$.fragment,e),Ue(o.$$.fragment,e),Ue(c.$$.fragment,e),u=!1},d(e){lt(t,e),e&&z(n),e&&z(r),lt(o),e&&z(i),lt(c,e)}}}function u7(e,t,n){let r;y(e,no,(e=>n(0,r=e)));const o=qM();function s(e){o?.fetchUsers(),Yz.goto(fI(e.id),!0)}return[r,s,e=>s(e.detail)]}class d7 extends ut{constructor(e){super(),ct(this,e,u7,c7,f,{})}}const $7=e=>({}),p7=e=>({}),m7=e=>({}),f7=e=>({}),g7=e=>({}),h7=e=>({});function y7(e){let t,n;return t=new Eu({props:{$$slots:{content:[v7],trigger:[b7]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1032&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function b7(e){let t,n,r;const o=[uS];let s={};for(let a=0;a<o.length;a+=1)s=l(s,o[a]);return n=new Jd({props:s}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","description-icon svelte-17gs0on"),X(t,"slot","trigger")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r=0&t?rt(o,[ot(uS)]):{};n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function v7(e){let t,n;return{c(){t=q("div"),n=j(e[3]),X(t,"slot","content")},m(e,r){H(e,t,r),F(t,n)},p(e,t){8&t&&Q(n,e[3])},d(e){e&&z(t)}}}function w7(e){let t,n;return{c(){t=q("div"),n=j(e[4]),X(t,"class","pending-message svelte-17gs0on")},m(e,r){H(e,t,r),F(t,n)},p(e,t){16&t&&Q(n,e[4])},d(e){e&&z(t)}}}function _7(e){let t,n,r;return n=new Ng({props:{$$slots:{default:[x7]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","description svelte-17gs0on")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};1032&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function x7(e){let t;return{c(){t=j(e[3])},m(e,n){H(e,t,n)},p(e,n){8&n&&Q(t,e[3])},d(e){e&&z(t)}}}function C7(e){let t,n;const r=e[9].detail,o=b(r,e,e[10],h7);return{c(){t=q("div"),o&&o.c(),X(t,"class","detail svelte-17gs0on")},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||1024&t)&&_(o,r,e,e[10],n?w(r,e[10],t,g7):x(e[10]),h7)},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function S7(e){let t,n,r;const o=e[9]["action-buttons"],s=b(o,e,e[10],f7);let a=e[7].menu&&k7(e);return{c(){t=q("div"),s&&s.c(),n=U(),a&&a.c(),X(t,"class","actions svelte-17gs0on")},m(e,o){H(e,t,o),s&&s.m(t,null),F(t,n),a&&a.m(t,null),r=!0},p(e,n){s&&s.p&&(!r||1024&n)&&_(s,o,e,e[10],r?w(o,e[10],n,m7):x(e[10]),f7),e[7].menu?a?(a.p(e,n),128&n&&je(a,1)):(a=k7(e),a.c(),je(a,1),a.m(t,null)):a&&(qe(),Ue(a,1,1,(()=>{a=null})),Be())},i(e){r||(je(s,e),je(a),r=!0)},o(e){Ue(s,e),Ue(a),r=!1},d(e){e&&z(t),s&&s.d(e),a&&a.d()}}}function k7(e){let t,n,r;return n=new zh({props:{showArrow:!1,triggerAppearance:"plain",triggerClass:"dropdown-menu-button",closeOnInnerClick:!0,placements:["bottom-end","right-start","left-start"],label:"",icon:nC,size:"small",$$slots:{default:[M7]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","menu-container svelte-17gs0on")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};1024&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function M7(e){let t;const n=e[9].menu,r=b(n,e,e[10],p7);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||1024&o)&&_(r,n,e,e[10],t?w(n,e[10],o,$7):x(e[10]),p7)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function I7(e){let t,n,r,o,s,a,i,c,u,d,$,p,m,f,g;const h=[e[1]];let y={};for(let C=0;C<h.length;C+=1)y=l(y,h[C]);a=new Jd({props:y});let b=e[3]&&!e[5]&&y7(e),v=e[4]&&w7(e),w=e[3]&&e[5]&&_7(e),_=e[7].detail&&C7(e),x=(e[7]["action-buttons"]||e[7].menu)&&S7(e);return{c(){t=q("div"),n=q("a"),r=q("div"),o=q("div"),s=q("span"),at(a.$$.fragment),i=U(),c=q("span"),u=j(e[2]),d=U(),b&&b.c(),$=U(),v&&v.c(),p=U(),w&&w.c(),m=U(),_&&_.c(),f=U(),x&&x.c(),X(s,"class","icon svelte-17gs0on"),X(o,"class","name svelte-17gs0on"),X(r,"class","top svelte-17gs0on"),X(n,"class","link passthrough svelte-17gs0on"),X(n,"href",e[0]),X(n,"aria-label",e[2]),X(t,"class","entity-list-item svelte-17gs0on"),X(t,"style",e[6]),se(t,"pending",!!e[4]),se(t,"primary",e[5])},m(e,l){H(e,t,l),F(t,n),F(n,r),F(r,o),F(o,s),it(a,s,null),F(o,i),F(o,c),F(c,u),F(r,d),b&&b.m(r,null),F(r,$),v&&v.m(r,null),F(n,p),w&&w.m(n,null),F(n,m),_&&_.m(n,null),F(t,f),x&&x.m(t,null),g=!0},p(e,[o]){const s=2&o?rt(h,[ot(e[1])]):{};a.$set(s),(!g||4&o)&&Q(u,e[2]),e[3]&&!e[5]?b?(b.p(e,o),40&o&&je(b,1)):(b=y7(e),b.c(),je(b,1),b.m(r,$)):b&&(qe(),Ue(b,1,1,(()=>{b=null})),Be()),e[4]?v?v.p(e,o):(v=w7(e),v.c(),v.m(r,null)):v&&(v.d(1),v=null),e[3]&&e[5]?w?(w.p(e,o),40&o&&je(w,1)):(w=_7(e),w.c(),je(w,1),w.m(n,m)):w&&(qe(),Ue(w,1,1,(()=>{w=null})),Be()),e[7].detail?_?(_.p(e,o),128&o&&je(_,1)):(_=C7(e),_.c(),je(_,1),_.m(n,null)):_&&(qe(),Ue(_,1,1,(()=>{_=null})),Be()),(!g||1&o)&&X(n,"href",e[0]),(!g||4&o)&&X(n,"aria-label",e[2]),e[7]["action-buttons"]||e[7].menu?x?(x.p(e,o),128&o&&je(x,1)):(x=S7(e),x.c(),je(x,1),x.m(t,null)):x&&(qe(),Ue(x,1,1,(()=>{x=null})),Be()),(!g||64&o)&&X(t,"style",e[6]),(!g||16&o)&&se(t,"pending",!!e[4]),(!g||32&o)&&se(t,"primary",e[5])},i(e){g||(je(a.$$.fragment,e),je(b),je(w),je(_),je(x),g=!0)},o(e){Ue(a.$$.fragment,e),Ue(b),Ue(w),Ue(_),Ue(x),g=!1},d(e){e&&z(t),lt(a),b&&b.d(),v&&v.d(),w&&w.d(),_&&_.d(),x&&x.d()}}}function T7(e,t,n){let r,{$$slots:o={},$$scope:s}=t;const a=k(o);let{href:i}=t,{icon:l}=t,{name:c}=t,{description:u}=t,{pendingMessage:d}=t,{primary:$=!1}=t,{cssVariables:p}=t;return e.$$set=e=>{"href"in e&&n(0,i=e.href),"icon"in e&&n(1,l=e.icon),"name"in e&&n(2,c=e.name),"description"in e&&n(3,u=e.description),"pendingMessage"in e&&n(4,d=e.pendingMessage),"primary"in e&&n(5,$=e.primary),"cssVariables"in e&&n(8,p=e.cssVariables),"$$scope"in e&&n(10,s=e.$$scope)},e.$$.update=()=>{256&e.$$.dirty&&n(6,r=p?Jo(p):void 0)},[i,l,c,u,d,$,r,a,p,o,s]}class E7 extends ut{constructor(e){super(),ct(this,e,T7,I7,f,{href:0,icon:1,name:2,description:3,pendingMessage:4,primary:5,cssVariables:8})}}function D7(e){let t,n,r,o,s=e[0].fullName+"";return{c(){t=q("span"),n=j(s),r=U(),o=q("span"),X(o,"class","divider svelte-1snhwgn")},m(e,s){H(e,t,s),F(t,n),H(e,r,s),H(e,o,s)},p(e,t){1&t&&s!==(s=e[0].fullName+"")&&Q(n,s)},d(e){e&&z(t),e&&z(r),e&&z(o)}}}function O7(e){let t,n,r,o,s=e[0].email+"";return{c(){t=q("span"),n=j(s),r=U(),o=q("span"),X(o,"class","divider svelte-1snhwgn")},m(e,s){H(e,t,s),F(t,n),H(e,r,s),H(e,o,s)},p(e,t){1&t&&s!==(s=e[0].email+"")&&Q(n,s)},d(e){e&&z(t),e&&z(r),e&&z(o)}}}function N7(e){let t,n,r,o,s,a=e[1].displayName+"",i=e[0].fullName&&D7(e),l=e[0].email&&O7(e);return{c(){t=q("div"),i&&i.c(),n=U(),l&&l.c(),r=U(),o=q("span"),s=j(a),X(t,"class","user-detailed-info svelte-1snhwgn")},m(e,a){H(e,t,a),i&&i.m(t,null),F(t,n),l&&l.m(t,null),F(t,r),F(t,o),F(o,s)},p(e,o){e[0].fullName?i?i.p(e,o):(i=D7(e),i.c(),i.m(t,n)):i&&(i.d(1),i=null),e[0].email?l?l.p(e,o):(l=O7(e),l.c(),l.m(t,r)):l&&(l.d(1),l=null),2&o&&a!==(a=e[1].displayName+"")&&Q(s,a)},d(e){e&&z(t),i&&i.d(),l&&l.d()}}}function A7(e){let t,n;return t=new E7({props:{href:fI(e[0].id),primary:!0,name:e[0].username,icon:e[1].icon,$$slots:{detail:[N7]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.href=fI(e[0].id)),1&n&&(r.name=e[0].username),2&n&&(r.icon=e[1].icon),7&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function R7(e,t,n){let r,{user:o}=t;return e.$$set=e=>{"user"in e&&n(0,o=e.user)},e.$$.update=()=>{1&e.$$.dirty&&n(1,r=W5(o))},[o,r]}class F7 extends ut{constructor(e){super(),ct(this,e,R7,A7,f,{user:0})}}function P7(e){let t,n,r;return n=new wg({props:{loading:!0}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","user-skeleton-container svelte-1ko2nwt")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p:a,i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}class L7 extends ut{constructor(e){super(),ct(this,e,null,P7,f,{})}}function H7(e,t,n){const r=e.slice();return r[11]=t[n],r}function z7(e){let t,n;return t=new hL({props:{errors:e[6].errors}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.errors=e[6].errors),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function V7(e){let t,n,r;function o(t){e[9](t)}let s={searchPlaceholder:e[5]("search_users"),$$slots:{content:[Z7],resultInfo:[Y7],action:[j7]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.searchQuery=e[0]),t=new j3({props:s}),Ce.push((()=>st(t,"searchQuery",o))),t.$on("clear",e[7]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};32&r&&(o.searchPlaceholder=e[5]("search_users")),32803&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.searchQuery=e[0],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function q7(e){let t,n;return t=new L7({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function B7(e){let t,n,r,o,s,a=e[5]("add_user")+"";const i=[jx];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return t=new Jd({props:c}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(a)},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),F(r,o),s=!0},p(e,n){const r=0&n?rt(i,[ot(jx)]):{};t.$set(r),(!s||32&n)&&a!==(a=e[5]("add_user")+"")&&Q(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function j7(e){let t,n;return t=new Rc({props:{appearance:"primary",href:pI,$$slots:{default:[B7]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};32800&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function U7(e){let t,n;return{c(){t=q("strong"),n=j(e[0])},m(e,r){H(e,t,r),F(t,n)},p(e,t){1&t&&Q(n,e[0])},d(e){e&&z(t)}}}function W7(e){let t,n="searchValue"===e[14]&&U7(e);return{c(){n&&n.c(),t=W()},m(e,r){n&&n.m(e,r),H(e,t,r)},p(e,r){"searchValue"===e[14]?n?n.p(e,r):(n=U7(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&z(t)}}}function Y7(e){let t,n,r;return n=new Rx({props:{text:e[5]("users_matching_search",{values:{count:e[1].length}}),$$slots:{default:[W7,({slotName:e})=>({14:e}),({slotName:e})=>e?16384:0]},$$scope:{ctx:e}}}),{c(){t=q("p"),at(n.$$.fragment)},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};34&t&&(r.text=e[5]("users_matching_search",{values:{count:e[1].length}})),49153&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function K7(e){let t,n,r=e[5]("no_users_found")+"";return{c(){t=q("p"),n=j(r),X(t,"class","no-users-found-text svelte-17nfs6u")},m(e,r){H(e,t,r),F(t,n)},p(e,t){32&t&&r!==(r=e[5]("no_users_found")+"")&&Q(n,r)},i:a,o:a,d(e){e&&z(t)}}}function G7(e){let t,n,r=[],o=new Map,s=e[1];const a=e=>e[11].id;for(let i=0;i<s.length;i+=1){let t=H7(e,s,i),n=a(t);o.set(n,r[i]=X7(n,t))}return{c(){t=q("div");for(let e=0;e<r.length;e+=1)r[e].c();X(t,"class","users-list")},m(e,o){H(e,t,o);for(let n=0;n<r.length;n+=1)r[n].m(t,null);n=!0},p(e,n){2&n&&(s=e[1],qe(),r=nt(r,n,a,1,e,s,o,t,et,X7,null,H7),Be())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ue(r[t]);n=!1},d(e){e&&z(t);for(let t=0;t<r.length;t+=1)r[t].d()}}}function X7(e,t){let n,r,o;return r=new F7({props:{user:t[11]}}),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};2&n&&(o.user=t[11]),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function Z7(e){let t,n,r,o;const s=[G7,K7],a=[];function i(e,t){return e[1].length?0:0===e[1].length?1:-1}return~(t=i(e))&&(n=a[t]=s[t](e)),{c(){n&&n.c(),r=W()},m(e,n){~t&&a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?~t&&a[t].p(e,o):(n&&(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be()),~t?(n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){~t&&a[t].d(e),e&&z(r)}}}function J7(e){let t,n,r,o,s,a,i,l,c,u,d,$=e[5]("users")+"";document.title=t=zK(e[5]("users"));const p=[q7,V7,z7],m=[];function f(e,t){return"processing"===e[6]?.state?0:"success"===e[6]?.state?1:"failure"===e[6]?.state?2:-1}return~(c=f(e))&&(u=m[c]=p[c](e)),{c(){n=U(),r=q("h2"),o=j($),s=U(),a=j(e[2]),i=U(),l=q("section"),u&&u.c(),X(l,"class","users-list-container svelte-17nfs6u")},m(e,t){H(e,n,t),H(e,r,t),F(r,o),F(r,s),F(r,a),H(e,i,t),H(e,l,t),~c&&m[c].m(l,null),d=!0},p(e,[n]){(!d||32&n)&&t!==(t=zK(e[5]("users")))&&(document.title=t),(!d||32&n)&&$!==($=e[5]("users")+"")&&Q(o,$),(!d||4&n)&&Q(a,e[2]);let r=c;c=f(e),c===r?~c&&m[c].p(e,n):(u&&(qe(),Ue(m[r],1,1,(()=>{m[r]=null})),Be()),~c?(u=m[c],u?u.p(e,n):(u=m[c]=p[c](e),u.c()),je(u,1),u.m(l,null)):u=null)},i(e){d||(je(u),d=!0)},o(e){Ue(u),d=!1},d(e){e&&z(n),e&&z(r),e&&z(i),e&&z(l),~c&&m[c].d()}}}function Q7(e,t,n){let r,o,s,i,l,c,u,d=a,$=a;y(e,no,(e=>n(5,c=e))),e.$$.on_destroy.push((()=>d())),e.$$.on_destroy.push((()=>$()));let p="";const m=qM();return e.$$.update=()=>{var t;257&e.$$.dirty&&n(1,(t=p,s=(l??[])?.filter((e=>!t||((e,t)=>e.username.toLowerCase().includes(t)||e.fullName?.toLowerCase().includes(t)||e.email?.toLowerCase().includes(t))(e,t.trim().toLowerCase()))))),2&e.$$.dirty&&n(2,i=s.length?`(${s.length})`:"")},n(4,r=m?.requestStatus),$(),$=g(r,(e=>n(6,u=e))),n(3,o=m?.users),d(),d=g(o,(e=>n(8,l=e))),[p,s,i,o,r,c,u,function(){n(0,p="")},l,function(e){p=e,n(0,p)}]}class e9 extends ut{constructor(e){super(),ct(this,e,Q7,J7,f,{})}}function t9(e){let t,n;return t=new e9({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function n9(e){let t,n;return t=new d7({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function r9(e){let t,n;return t=new i7({props:{userId:parseInt(e[1].params.userId,10)}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.userId=parseInt(e[1].params.userId,10)),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function o9(e){let t,n,r,o,s,a,i,l;return t=new z6({props:{item:{type:"simple",href:$I,label:e[0]("users"),icon:JC,prependSeparator:!0}}}),r=new sV({props:{path:"/",$$slots:{default:[t9]},$$scope:{ctx:e}}}),s=new sV({props:{path:"/new",$$slots:{default:[n9]},$$scope:{ctx:e}}}),i=new sV({props:{path:"/:userId",$$slots:{default:[r9,({meta:e})=>({1:e}),({meta:e})=>e?2:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),at(s.$$.fragment),a=U(),at(i.$$.fragment)},m(e,c){it(t,e,c),H(e,n,c),it(r,e,c),H(e,o,c),it(s,e,c),H(e,a,c),it(i,e,c),l=!0},p(e,[n]){const o={};1&n&&(o.item={type:"simple",href:$I,label:e[0]("users"),icon:JC,prependSeparator:!0}),t.$set(o);const a={};4&n&&(a.$$scope={dirty:n,ctx:e}),r.$set(a);const l={};4&n&&(l.$$scope={dirty:n,ctx:e}),s.$set(l);const c={};6&n&&(c.$$scope={dirty:n,ctx:e}),i.$set(c)},i(e){l||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),je(i.$$.fragment,e),l=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),Ue(i.$$.fragment,e),l=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),lt(s,e),e&&z(a),lt(i,e)}}}function s9(e,t,n){let r;return y(e,no,(e=>n(0,r=e))),function(){if(void 0!==qM())throw Error("UsersStore context has already been set");const e=new VM;be(zM,e)}(),[r]}class a9 extends ut{constructor(e){super(),ct(this,e,s9,o9,f,{})}}function i9(e){let t,n,r,o;return t=new z6({props:{item:{type:"simple",href:dI,label:e[0]("software_update"),prependSeparator:!0}}}),r=new P8({}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,s){it(t,e,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){const r={};1&n&&(r.item={type:"simple",href:dI,label:e[0]("software_update"),prependSeparator:!0}),t.$set(r)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function l9(e){let t,n;return t=new a9({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function c9(e){let t,n,r,o;return t=new z6({props:{item:{type:"simple",href:mI,label:e[0]("settings"),icon:BC,prependSeparator:!0}}}),r=new r8({}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,s){it(t,e,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){const r={};1&n&&(r.item={type:"simple",href:mI,label:e[0]("settings"),icon:BC,prependSeparator:!0}),t.$set(r)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function u9(e){let t,n,r,o,s,a;return t=new sV({props:{path:"/update",$$slots:{default:[i9]},$$scope:{ctx:e}}}),r=new sV({props:{path:"/users/*",firstmatch:!0,$$slots:{default:[l9]},$$scope:{ctx:e}}}),s=new sV({props:{path:"/settings",firstmatch:!0,$$slots:{default:[c9]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),at(s.$$.fragment)},m(e,i){it(t,e,i),H(e,n,i),it(r,e,i),H(e,o,i),it(s,e,i),a=!0},p(e,n){const o={};3&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const a={};2&n&&(a.$$scope={dirty:n,ctx:e}),r.$set(a);const i={};3&n&&(i.$$scope={dirty:n,ctx:e}),s.$set(i)},i(e){a||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),a=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),a=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),lt(s,e)}}}function d9(e){let t,n;return t=new j8({props:{slot:"sidebar"}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function $9(e){let t,n;return t=new U6({props:{$$slots:{sidebar:[d9],default:[u9]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};3&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function p9(e){let t,n,r;return n=new Z2({props:{name:e[0]("administration"),icon:qC}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"slot","secondary-header"),X(t,"class","admin-page-header svelte-12g9t7j")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};1&t&&(r.name=e[0]("administration")),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function m9(e){let t,n,r,o,s,a;return t=new z6({props:{item:{type:"simple",href:uI,label:e[0]("administration"),icon:qC}}}),r=new sV({props:{path:"/",redirect:dI}}),s=new TK({props:{cssVariables:{"--max-layout-width":"var(--max-layout-width-console-pages)","--page-padding":"0 var(--page-padding-x)"},restrictWidth:!0,$$slots:{"secondary-header":[p9],default:[$9]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),at(s.$$.fragment)},m(e,i){it(t,e,i),H(e,n,i),it(r,e,i),H(e,o,i),it(s,e,i),a=!0},p(e,[n]){const r={};1&n&&(r.item={type:"simple",href:uI,label:e[0]("administration"),icon:qC}),t.$set(r);const o={};3&n&&(o.$$scope={dirty:n,ctx:e}),s.$set(o)},i(e){a||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),a=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),a=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),lt(s,e)}}}function f9(e,t,n){let r;return y(e,no,(e=>n(0,r=e))),[r]}class g9 extends ut{constructor(e){super(),ct(this,e,f9,m9,f,{})}}const h9=e=>({meta:64&e}),y9=e=>({meta:e[6]});function b9(e){let t,n,r;t=new xj({props:{meta:e[6],onLoad:e[2],onUnload:e[3]}});const o=e[4].default,s=b(o,e,e[5],y9);return{c(){at(t.$$.fragment),n=U(),s&&s.c()},m(e,o){it(t,e,o),H(e,n,o),s&&s.m(e,o),r=!0},p(e,n){const a={};64&n&&(a.meta=e[6]),4&n&&(a.onLoad=e[2]),8&n&&(a.onUnload=e[3]),t.$set(a),s&&s.p&&(!r||96&n)&&_(s,o,e,e[5],r?w(o,e[5],n,h9):x(e[5]),y9)},i(e){r||(je(t.$$.fragment,e),je(s,e),r=!0)},o(e){Ue(t.$$.fragment,e),Ue(s,e),r=!1},d(e){lt(t,e),e&&z(n),s&&s.d(e)}}}function v9(e){let t,n;return t=new sV({props:{path:e[0],firstmatch:e[1],$$slots:{default:[b9,({meta:e})=>({6:e}),({meta:e})=>e?64:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.path=e[0]),2&n&&(r.firstmatch=e[1]),108&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function w9(e,t,n){let{$$slots:r={},$$scope:o}=t,{path:s}=t,{firstmatch:a=!1}=t,{onLoad:i=(()=>{})}=t,{onUnload:l=(()=>{})}=t;return e.$$set=e=>{"path"in e&&n(0,s=e.path),"firstmatch"in e&&n(1,a=e.firstmatch),"onLoad"in e&&n(2,i=e.onLoad),"onUnload"in e&&n(3,l=e.onUnload),"$$scope"in e&&n(5,o=e.$$scope)},[s,a,i,l,r,o]}class _9 extends ut{constructor(e){super(),ct(this,e,w9,v9,f,{path:0,firstmatch:1,onLoad:2,onUnload:3})}}const x9=Symbol("database route store");class C9{constructor(t){e(this,"database",void 0),e(this,"roles",void 0),e(this,"underlyingDatabase",void 0),e(this,"currentRole",void 0),this.database=t,this.roles=t.constructRolesStore(),this.underlyingDatabase=t.constructUnderlyingDatabaseStore(),this.currentRole=t.constructCurrentRoleStore()}async addRole(e){const t=await this.database.addRole(e.roleName,e.login,e.password);this.roles.updateResolvedValue((e=>e.with(t.oid,t)))}async deleteRole(e){await e.delete(),this.roles.updateResolvedValue((t=>t.without(e.oid)))}static construct(e){return SU(x9,new C9(e))}static get(){return kU(x9)}}function S9(e,t,n){const r=e.slice();return r[23]=t[n],r}function k9(e){let t,n;return t=new ML({props:{$$slots:{default:[O9]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};268437505&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function M9(e){let t,n,r=e[27]+"";return{c(){t=q("em"),n=j(r)},m(e,r){H(e,t,r),F(t,n)},p(e,t){134217728&t&&r!==(r=e[27]+"")&&Q(n,r)},d(e){e&&z(t)}}}function I9(e){let t,n="italic"===e[26]&&M9(e);return{c(){n&&n.c(),t=W()},m(e,r){n&&n.m(e,r),H(e,t,r)},p(e,r){"italic"===e[26]?n?n.p(e,r):(n=M9(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&z(t)}}}function T9(e){let t,n=e[23].displayName+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1&r&&n!==(n=e[23].displayName+"")&&Q(t,n)},d(e){e&&z(t)}}}function E9(e){let t,n,r;return n=new bx({props:{$$slots:{default:[T9]},$$scope:{ctx:e}}}),{c(){t=q("li"),at(n.$$.fragment)},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};268435457&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function D9(e){let t,n,r,o,s,a,i,l,c,u,d,$=e[11]("postgres_server_changes_warning_2")+"",p=e[11]("postgres_server_changes_warning_3")+"";n=new Rx({props:{text:e[11]("postgres_server_changes_warning_1"),$$slots:{default:[I9,({slotName:e,translatedArg:t})=>({26:e,27:t}),({slotName:e,translatedArg:t})=>(e?67108864:0)|(t?134217728:0)]},$$scope:{ctx:e}}});let m=e[0],f=[];for(let h=0;h<m.length;h+=1)f[h]=E9(S9(e,m,h));const g=e=>Ue(f[e],1,1,(()=>{f[e]=null}));return{c(){t=q("p"),at(n.$$.fragment),r=U(),o=q("ul");for(let e=0;e<f.length;e+=1)f[e].c();s=U(),a=q("p"),i=j($),l=U(),c=q("p"),u=j(p)},m(e,$){H(e,t,$),it(n,t,null),H(e,r,$),H(e,o,$);for(let t=0;t<f.length;t+=1)f[t].m(o,null);H(e,s,$),H(e,a,$),F(a,i),H(e,l,$),H(e,c,$),F(c,u),d=!0},p(e,t){const r={};if(2048&t&&(r.text=e[11]("postgres_server_changes_warning_1")),469762048&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r),1&t){let n;for(m=e[0],n=0;n<m.length;n+=1){const r=S9(e,m,n);f[n]?(f[n].p(r,t),je(f[n],1)):(f[n]=E9(r),f[n].c(),je(f[n],1),f[n].m(o,null))}for(qe(),n=m.length;n<f.length;n+=1)g(n);Be()}(!d||2048&t)&&$!==($=e[11]("postgres_server_changes_warning_2")+"")&&Q(i,$),(!d||2048&t)&&p!==(p=e[11]("postgres_server_changes_warning_3")+"")&&Q(u,p)},i(e){if(!d){je(n.$$.fragment,e);for(let e=0;e<m.length;e+=1)je(f[e]);d=!0}},o(e){Ue(n.$$.fragment,e),f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)Ue(f[t]);d=!1},d(e){e&&z(t),lt(n),e&&z(r),e&&z(o),V(f,e),e&&z(s),e&&z(a),e&&z(l),e&&z(c)}}}function O9(e){let t,n;return t=new cV({props:{fullWidth:!0,$$slots:{default:[D9]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};268437505&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function N9(e){let t,n,r,o,s,a,i,l,c;r=new WL({props:{label:e[11]("host"),layout:"stacked",field:e[2]}}),a=new WL({props:{label:e[11]("port"),layout:"stacked",field:e[1],input:{component:cf}}});let u=e[5]&&e[6]&&k9(e);return{c(){t=q("div"),n=q("div"),at(r.$$.fragment),o=U(),s=q("div"),at(a.$$.fragment),i=U(),u&&u.c(),l=W(),X(t,"class","field-group-horizontal svelte-1rps6rr")},m(e,d){H(e,t,d),F(t,n),it(r,n,null),F(t,o),F(t,s),it(a,s,null),H(e,i,d),u&&u.m(e,d),H(e,l,d),c=!0},p(e,t){const n={};2048&t&&(n.label=e[11]("host")),4&t&&(n.field=e[2]),r.$set(n);const o={};2048&t&&(o.label=e[11]("port")),2&t&&(o.field=e[1]),a.$set(o),e[5]&&e[6]?u?(u.p(e,t),96&t&&je(u,1)):(u=k9(e),u.c(),je(u,1),u.m(l.parentNode,l)):u&&(qe(),Ue(u,1,1,(()=>{u=null})),Be())},i(e){c||(je(r.$$.fragment,e),je(a.$$.fragment,e),je(u),c=!0)},o(e){Ue(r.$$.fragment,e),Ue(a.$$.fragment,e),Ue(u),c=!1},d(e){e&&z(t),lt(r),lt(a),e&&z(i),u&&u.d(e),e&&z(l)}}}function A9(e){let t,n;return t=new _p({props:{label:e[11]("postgresql_server"),boxed:!0,$$slots:{default:[N9]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2048&n&&(r.label=e[11]("postgresql_server")),268437607&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function R9(e){let t,n,r,o,s,a,i,l,c,u,d;return t=new WL({props:{label:e[11]("database_name"),layout:"stacked",field:e[4]}}),r=new WL({props:{field:e[3],input:{component:JU}}}),s=new ML({props:{$$slots:{default:[A9]},$$scope:{ctx:e}}}),l=new QL({props:{form:e[10],catchErrors:!0,onCancel:e[18],onProceed:e[12],proceedButton:{label:e[11]("save")},cancelButton:{label:e[11]("reset"),icon:mC}}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),at(s.$$.fragment),a=U(),i=q("div"),at(l.$$.fragment)},m(e,$){it(t,e,$),H(e,n,$),it(r,e,$),H(e,o,$),it(s,e,$),H(e,a,$),H(e,i,$),it(l,i,null),c=!0,u||(d=T(ux.call(null,i)),u=!0)},p(e,[n]){const o={};2048&n&&(o.label=e[11]("database_name")),16&n&&(o.field=e[4]),t.$set(o);const a={};8&n&&(a.field=e[3]),r.$set(a);const i={};268437607&n&&(i.$$scope={dirty:n,ctx:e}),s.$set(i);const c={};1024&n&&(c.form=e[10]),1024&n&&(c.onCancel=e[18]),2048&n&&(c.proceedButton={label:e[11]("save")}),2048&n&&(c.cancelButton={label:e[11]("reset"),icon:mC}),l.$set(c)},i(e){c||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),je(l.$$.fragment,e),c=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),Ue(l.$$.fragment,e),c=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),lt(s,e),e&&z(a),e&&z(i),lt(l),u=!1,d()}}}function F9(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,b,v,w,_,x,C,S=a,k=a,M=a,I=a,T=a,E=a,D=a;y(e,no,(e=>n(11,C=e))),e.$$.on_destroy.push((()=>S())),e.$$.on_destroy.push((()=>k())),e.$$.on_destroy.push((()=>M())),e.$$.on_destroy.push((()=>I())),e.$$.on_destroy.push((()=>T())),e.$$.on_destroy.push((()=>E())),e.$$.on_destroy.push((()=>D()));let{database:O}=t,{close:N}=t;return e.$$set=e=>{"database"in e&&n(13,O=e.database),"close"in e&&n(14,N=e.close)},e.$$.update=()=>{8192&e.$$.dirty&&(n(4,r=oH(O.name)),I(),I=g(r,(e=>n(22,v=e)))),8192&e.$$.dirty&&(n(3,o=rH(O.nickname??void 0)),M(),M=g(o,(e=>n(21,b=e)))),8192&e.$$.dirty&&(n(2,s=oH(O.server.host)),k(),k=g(s,(e=>n(20,h=e)))),8192&e.$$.dirty&&(n(1,i=rH(O.server.port)),S(),S=g(i,(e=>n(19,f=e)))),30&e.$$.dirty&&n(10,l=aH({name:r,nickname:o,host:s,port:i})),4&e.$$.dirty&&(n(9,c=s.hasChanges),D(),D=g(c,(e=>n(17,x=e)))),2&e.$$.dirty&&(n(8,u=i.hasChanges),E(),E=g(u,(e=>n(16,_=e)))),196608&e.$$.dirty&&n(5,d=x||_),40960&e.$$.dirty&&n(0,p=[...w.values()].filter((e=>e.server.id===O.server.id&&e.id!==O.id))),1&e.$$.dirty&&n(6,m=p.length>0)},n(7,({databases:$}=QF),$),T(),T=g($,(e=>n(15,w=e))),[p,i,s,o,r,d,m,$,u,c,l,C,async function(){await PM.databases.configured.patch({database_id:O.id,patch:{name:v,nickname:b??null}}).run(),d&&await PM.servers.configured.patch({server_id:O.server.id,patch:{host:h,port:f}}).run(),await QF.refresh(),N()},O,N,w,_,x,()=>l.reset()]}class P9 extends ut{constructor(e){super(),ct(this,e,F9,R9,f,{database:13,close:14})}}function L9(e){let t,n;return t=new P9({props:{database:e[1],close:e[3]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.database=e[1]),1&n&&(r.close=e[3]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function H9(e){let t,n;return t=new bx({props:{$$slots:{default:[z9]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};34&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function z9(e){let t,n=e[1].displayName+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){2&r&&n!==(n=e[1].displayName+"")&&Q(t,n)},d(e){e&&z(t)}}}function V9(e){let t,n,r="name"===e[4]&&H9(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"name"===e[4]?r?(r.p(e,n),16&n&&je(r,1)):(r=H9(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function q9(e){let t,n,r;return n=new Rx({props:{text:e[2]("edit_named_database_connection"),$$slots:{default:[V9,({slotName:e})=>({4:e}),({slotName:e})=>e?16:0]},$$scope:{ctx:e}}}),{c(){t=q("span"),at(n.$$.fragment),X(t,"slot","title")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};4&t&&(r.text=e[2]("edit_named_database_connection")),50&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function B9(e){let t,n;return t=new dv({props:{controller:e[0],size:"medium",$$slots:{title:[q9],default:[L9]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.controller=e[0]),39&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function j9(e,t,n){let r;y(e,no,(e=>n(2,r=e)));let{controller:o}=t,{database:s}=t;return e.$$set=e=>{"controller"in e&&n(0,o=e.controller),"database"in e&&n(1,s=e.database)},[o,s,r,()=>o.close()]}class U9 extends ut{constructor(e){super(),ct(this,e,j9,B9,f,{controller:0,database:1})}}function W9(e){let t,n=e[9]("database_disconnect_form_into")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){512&r[0]&&n!==(n=e[9]("database_disconnect_form_into")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Y9(e){let t,n;return t=new ML({props:{$$slots:{default:[oee]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};768&n[0]|16&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function K9(e){let t,n,r;function o(t){e[23](t)}let s={};return void 0!==e[8]&&(s.checked=e[8]),t=new x$({props:s}),Ce.push((()=>st(t,"checked",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};!n&&256&r[0]&&(n=!0,o.checked=e[8],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function G9(e){let t,n,r=e[34]+"";return{c(){t=q("b"),n=j(r)},m(e,r){H(e,t,r),F(t,n)},p(e,t){8&t[1]&&r!==(r=e[34]+"")&&Q(n,r)},d(e){e&&z(t)}}}function X9(e){let t,n="bold"===e[33]&&G9(e);return{c(){n&&n.c(),t=W()},m(e,r){n&&n.m(e,r),H(e,t,r)},p(e,r){"bold"===e[33]?n?n.p(e,r):(n=G9(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&z(t)}}}function Z9(e){let t,n,r=e[34]+"";return{c(){t=q("b"),n=j(r)},m(e,r){H(e,t,r),F(t,n)},p(e,t){8&t[1]&&r!==(r=e[34]+"")&&Q(n,r)},d(e){e&&z(t)}}}function J9(e){let t,n="bold"===e[33]&&Z9(e);return{c(){n&&n.c(),t=W()},m(e,r){n&&n.m(e,r),H(e,t,r)},p(e,r){"bold"===e[33]?n?n.p(e,r):(n=Z9(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&z(t)}}}function Q9(e){let t,n;return t=new RO({props:{page:"storedRoles",$$slots:{default:[eee]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};24&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function eee(e){let t,n=e[34]+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8&r[1]&&n!==(n=e[34]+"")&&Q(t,n)},d(e){e&&z(t)}}}function tee(e){let t,n,r="docsLink"===e[33]&&Q9(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"docsLink"===e[33]?r?(r.p(e,n),4&n[1]&&je(r,1)):(r=Q9(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function nee(e){let t,n,r,o,s,a,i,l,c,u,d,$,p,m,f,g=e[9]("remove_stored_role_passwords_help_1")+"";return i=new Rx({props:{text:e[9]("remove_stored_role_passwords_help_checked"),$$slots:{default:[X9,({slotName:e,translatedArg:t})=>({33:e,34:t}),({slotName:e,translatedArg:t})=>[0,(e?4:0)|(t?8:0)]]},$$scope:{ctx:e}}}),d=new Rx({props:{text:e[9]("remove_stored_role_passwords_help_unchecked"),$$slots:{default:[J9,({slotName:e,translatedArg:t})=>({33:e,34:t}),({slotName:e,translatedArg:t})=>[0,(e?4:0)|(t?8:0)]]},$$scope:{ctx:e}}}),m=new Rx({props:{text:e[9]("see_docs_for_stored_role_password_help"),$$slots:{default:[tee,({slotName:e,translatedArg:t})=>({33:e,34:t}),({slotName:e,translatedArg:t})=>[0,(e?4:0)|(t?8:0)]]},$$scope:{ctx:e}}}),{c(){t=q("p"),n=j(g),r=U(),o=q("ul"),s=q("li"),a=q("p"),at(i.$$.fragment),l=U(),c=q("li"),u=q("p"),at(d.$$.fragment),$=U(),p=q("p"),at(m.$$.fragment)},m(e,g){H(e,t,g),F(t,n),H(e,r,g),H(e,o,g),F(o,s),F(s,a),it(i,a,null),F(o,l),F(o,c),F(c,u),it(d,u,null),H(e,$,g),H(e,p,g),it(m,p,null),f=!0},p(e,t){(!f||512&t[0])&&g!==(g=e[9]("remove_stored_role_passwords_help_1")+"")&&Q(n,g);const r={};512&t[0]&&(r.text=e[9]("remove_stored_role_passwords_help_checked")),28&t[1]&&(r.$$scope={dirty:t,ctx:e}),i.$set(r);const o={};512&t[0]&&(o.text=e[9]("remove_stored_role_passwords_help_unchecked")),28&t[1]&&(o.$$scope={dirty:t,ctx:e}),d.$set(o);const s={};512&t[0]&&(s.text=e[9]("see_docs_for_stored_role_password_help")),28&t[1]&&(s.$$scope={dirty:t,ctx:e}),m.$set(s)},i(e){f||(je(i.$$.fragment,e),je(d.$$.fragment,e),je(m.$$.fragment,e),f=!0)},o(e){Ue(i.$$.fragment,e),Ue(d.$$.fragment,e),Ue(m.$$.fragment,e),f=!1},d(e){e&&z(t),e&&z(r),e&&z(o),lt(i),lt(d),e&&z($),e&&z(p),lt(m)}}}function ree(e){let t,n,r,o,s,a=e[9]("remove_stored_role_passwords")+"";return o=new H$({props:{$$slots:{default:[nee]},$$scope:{ctx:e}}}),{c(){t=q("div"),n=j(a),r=U(),at(o.$$.fragment),X(t,"slot","label")},m(e,a){H(e,t,a),F(t,n),F(t,r),it(o,t,null),s=!0},p(e,t){(!s||512&t[0])&&a!==(a=e[9]("remove_stored_role_passwords")+"")&&Q(n,a);const r={};512&t[0]|16&t[1]&&(r.$$scope={dirty:t,ctx:e}),o.$set(r)},i(e){s||(je(o.$$.fragment,e),s=!0)},o(e){Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(o)}}}function oee(e){let t,n;return t=new J$({props:{layout:"inline-input-first",$$slots:{label:[ree],default:[K9]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};768&n[0]|16&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function see(e){let t,n;return t=new x$({props:{checked:!0,disabled:!0}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function aee(e){let t,n,r=e[9]("remove_metadata")+"";return{c(){t=q("div"),n=j(r),X(t,"slot","label")},m(e,r){H(e,t,r),F(t,n)},p(e,t){512&t[0]&&r!==(r=e[9]("remove_metadata")+"")&&Q(n,r)},d(e){e&&z(t)}}}function iee(e){let t,n;return t=new J$({props:{layout:"inline-input-first",$$slots:{label:[aee],default:[see]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};512&n[0]|16&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function lee(e){let t,n;return t=new RO({props:{page:"metadata",$$slots:{default:[cee]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};24&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function cee(e){let t,n=e[34]+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8&r[1]&&n!==(n=e[34]+"")&&Q(t,n)},d(e){e&&z(t)}}}function uee(e){let t,n;return t=new RO({props:{page:"metadata",$$slots:{default:[dee]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};24&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function dee(e){let t,n=e[34]+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8&r[1]&&n!==(n=e[34]+"")&&Q(t,n)},d(e){e&&z(t)}}}function $ee(e){let t,n,r,o="explorationsLink"===e[33]&&lee(e),s="metadataLink"===e[33]&&uee(e);return{c(){o&&o.c(),t=U(),s&&s.c(),n=W()},m(e,a){o&&o.m(e,a),H(e,t,a),s&&s.m(e,a),H(e,n,a),r=!0},p(e,r){"explorationsLink"===e[33]?o?(o.p(e,r),4&r[1]&&je(o,1)):(o=lee(e),o.c(),je(o,1),o.m(t.parentNode,t)):o&&(qe(),Ue(o,1,1,(()=>{o=null})),Be()),"metadataLink"===e[33]?s?(s.p(e,r),4&r[1]&&je(s,1)):(s=uee(e),s.c(),je(s,1),s.m(n.parentNode,n)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be())},i(e){r||(je(o),je(s),r=!0)},o(e){Ue(o),Ue(s),r=!1},d(e){o&&o.d(e),e&&z(t),s&&s.d(e),e&&z(n)}}}function pee(e){let t,n,r,o,s,a,i=e[9]("this_behavior_is_not_configurable")+"";return n=new Rx({props:{text:e[9]("remove_metadata_field_help"),$$slots:{default:[$ee,({slotName:e,translatedArg:t})=>({33:e,34:t}),({slotName:e,translatedArg:t})=>[0,(e?4:0)|(t?8:0)]]},$$scope:{ctx:e}}}),{c(){t=q("p"),at(n.$$.fragment),r=U(),o=q("p"),s=j(i)},m(e,i){H(e,t,i),it(n,t,null),H(e,r,i),H(e,o,i),F(o,s),a=!0},p(e,t){const r={};512&t[0]&&(r.text=e[9]("remove_metadata_field_help")),28&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r),(!a||512&t[0])&&i!==(i=e[9]("this_behavior_is_not_configurable")+"")&&Q(s,i)},i(e){a||(je(n.$$.fragment,e),a=!0)},o(e){Ue(n.$$.fragment,e),a=!1},d(e){e&&z(t),lt(n),e&&z(r),e&&z(o)}}}function mee(e){let t,n;return t=new Eu({props:{allowHover:!0,placements:["left","bottom","top"],$$slots:{content:[pee],trigger:[iee]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};512&n[0]|16&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function fee(e){let t,n,r,o=e[1]&&Y9(e);return n=new ML({props:{$$slots:{default:[mee]},$$scope:{ctx:e}}}),{c(){o&&o.c(),t=U(),at(n.$$.fragment)},m(e,s){o&&o.m(e,s),H(e,t,s),it(n,e,s),r=!0},p(e,r){e[1]?o?(o.p(e,r),2&r[0]&&je(o,1)):(o=Y9(e),o.c(),je(o,1),o.m(t.parentNode,t)):o&&(qe(),Ue(o,1,1,(()=>{o=null})),Be());const s={};512&r[0]|16&r[1]&&(s.$$scope={dirty:r,ctx:e}),n.$set(s)},i(e){r||(je(o),je(n.$$.fragment,e),r=!0)},o(e){Ue(o),Ue(n.$$.fragment,e),r=!1},d(e){o&&o.d(e),e&&z(t),lt(n,e)}}}function gee(e){let t,n;return t=new _p({props:{label:e[9]("in_mathesar"),boxed:!0,$$slots:{default:[fee]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};512&n[0]&&(r.label=e[9]("in_mathesar")),770&n[0]|16&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function hee(e){let t,n,r;function o(t){e[24](t)}let s={options:e[11],getRadioLabel:e[12],isInline:!0};return void 0!==e[10]&&(s.value=e[10]),t=new fg({props:s}),Ce.push((()=>st(t,"value",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};!n&&1024&r[0]&&(n=!0,o.value=e[10],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function yee(e){let t,n=So(e[10])+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1024&r[0]&&n!==(n=So(e[10])+"")&&Q(t,n)},i:a,o:a,d(e){e&&z(t)}}}function bee(e){let t,n,r,o;t=new ML({props:{$$slots:{default:[Mee]},$$scope:{ctx:e}}});let s=e[4]&&Iee(e);return{c(){at(t.$$.fragment),n=U(),s&&s.c(),r=W()},m(e,a){it(t,e,a),H(e,n,a),s&&s.m(e,a),H(e,r,a),o=!0},p(e,n){const o={};528&n[0]|16&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o),e[4]?s?(s.p(e,n),16&n[0]&&je(s,1)):(s=Iee(e),s.c(),je(s,1),s.m(r.parentNode,r)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be())},i(e){o||(je(t.$$.fragment,e),je(s),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(s),o=!1},d(e){lt(t,e),e&&z(n),s&&s.d(e),e&&z(r)}}}function vee(e){let t,n;return t=new ML({props:{$$slots:{default:[jee]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};512&n[0]|16&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function wee(e){let t,n,r;function o(t){e[25](t)}let s={};return void 0!==e[4]&&(s.checked=e[4]),t=new x$({props:s}),Ce.push((()=>st(t,"checked",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};!n&&16&r[0]&&(n=!0,o.checked=e[4],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function _ee(e){let t,n;return t=new RO({props:{page:"internalSchemas",$$slots:{default:[xee]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};24&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function xee(e){let t,n=e[34]+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8&r[1]&&n!==(n=e[34]+"")&&Q(t,n)},d(e){e&&z(t)}}}function Cee(e){let t,n,r="link"===e[33]&&_ee(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"link"===e[33]?r?(r.p(e,n),4&n[1]&&je(r,1)):(r=_ee(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function See(e){let t,n,r,o,s,a,i,l,c,u=e[9]("remove_internal_schemas_help_1")+"",d=e[9]("remove_internal_schemas_help_2")+"";return l=new Rx({props:{text:e[9]("remove_internal_schemas_help_3"),$$slots:{default:[Cee,({slotName:e,translatedArg:t})=>({33:e,34:t}),({slotName:e,translatedArg:t})=>[0,(e?4:0)|(t?8:0)]]},$$scope:{ctx:e}}}),{c(){t=q("p"),n=j(u),r=U(),o=q("p"),s=j(d),a=U(),i=q("p"),at(l.$$.fragment)},m(e,u){H(e,t,u),F(t,n),H(e,r,u),H(e,o,u),F(o,s),H(e,a,u),H(e,i,u),it(l,i,null),c=!0},p(e,t){(!c||512&t[0])&&u!==(u=e[9]("remove_internal_schemas_help_1")+"")&&Q(n,u),(!c||512&t[0])&&d!==(d=e[9]("remove_internal_schemas_help_2")+"")&&Q(s,d);const r={};512&t[0]&&(r.text=e[9]("remove_internal_schemas_help_3")),28&t[1]&&(r.$$scope={dirty:t,ctx:e}),l.$set(r)},i(e){c||(je(l.$$.fragment,e),c=!0)},o(e){Ue(l.$$.fragment,e),c=!1},d(e){e&&z(t),e&&z(r),e&&z(o),e&&z(a),e&&z(i),lt(l)}}}function kee(e){let t,n,r,o,s,a=e[9]("remove_internal_schemas")+"";return o=new H$({props:{$$slots:{default:[See]},$$scope:{ctx:e}}}),{c(){t=q("div"),n=j(a),r=U(),at(o.$$.fragment),X(t,"slot","label")},m(e,a){H(e,t,a),F(t,n),F(t,r),it(o,t,null),s=!0},p(e,t){(!s||512&t[0])&&a!==(a=e[9]("remove_internal_schemas")+"")&&Q(n,a);const r={};512&t[0]|16&t[1]&&(r.$$scope={dirty:t,ctx:e}),o.$set(r)},i(e){s||(je(o.$$.fragment,e),s=!0)},o(e){Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(o)}}}function Mee(e){let t,n;return t=new J$({props:{layout:"inline-input-first",$$slots:{label:[kee],default:[wee]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};528&n[0]|16&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Iee(e){let t,n,r,o,s,a;n=new ML({props:{$$slots:{default:[Ree]},$$scope:{ctx:e}}}),o=new ML({props:{$$slots:{default:[Hee]},$$scope:{ctx:e}}});let i=e[2]&&zee(e);return{c(){t=q("div"),at(n.$$.fragment),r=U(),at(o.$$.fragment),s=U(),i&&i.c(),X(t,"class","indent svelte-8nxwqq")},m(e,l){H(e,t,l),it(n,t,null),F(t,r),it(o,t,null),F(t,s),i&&i.m(t,null),a=!0},p(e,r){const s={};520&r[0]|16&r[1]&&(s.$$scope={dirty:r,ctx:e}),n.$set(s);const a={};516&r[0]|16&r[1]&&(a.$$scope={dirty:r,ctx:e}),o.$set(a),e[2]?i?(i.p(e,r),4&r[0]&&je(i,1)):(i=zee(e),i.c(),je(i,1),i.m(t,null)):i&&(qe(),Ue(i,1,1,(()=>{i=null})),Be())},i(e){a||(je(n.$$.fragment,e),je(o.$$.fragment,e),je(i),a=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),Ue(i),a=!1},d(e){e&&z(t),lt(n),lt(o),i&&i.d()}}}function Tee(e){let t,n,r;function o(t){e[26](t)}let s={};return void 0!==e[3]&&(s.checked=e[3]),t=new x$({props:s}),Ce.push((()=>st(t,"checked",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};!n&&8&r[0]&&(n=!0,o.checked=e[3],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function Eee(e){let t,n;return t=new RO({props:{page:"dataTypes",$$slots:{default:[Dee]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};24&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Dee(e){let t,n=e[34]+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8&r[1]&&n!==(n=e[34]+"")&&Q(t,n)},d(e){e&&z(t)}}}function Oee(e){let t,n,r="link"===e[33]&&Eee(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"link"===e[33]?r?(r.p(e,n),4&n[1]&&je(r,1)):(r=Eee(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function Nee(e){let t,n,r,o,s,a,i,l,c,u,d,$,p,m,f,g=e[9]("remove_types_schema_help_1")+"",h=e[9]("remove_types_schema_help_2")+"",y=e[9]("remove_types_schema_help_3")+"",b=e[9]("remove_types_schema_help_4")+"";return m=new Rx({props:{text:e[9]("remove_types_schema_help_5"),$$slots:{default:[Oee,({slotName:e,translatedArg:t})=>({33:e,34:t}),({slotName:e,translatedArg:t})=>[0,(e?4:0)|(t?8:0)]]},$$scope:{ctx:e}}}),{c(){t=q("p"),n=j(g),r=U(),o=q("p"),s=j(h),a=U(),i=q("p"),l=j(y),c=U(),u=q("p"),d=j(b),$=U(),p=q("p"),at(m.$$.fragment)},m(e,g){H(e,t,g),F(t,n),H(e,r,g),H(e,o,g),F(o,s),H(e,a,g),H(e,i,g),F(i,l),H(e,c,g),H(e,u,g),F(u,d),H(e,$,g),H(e,p,g),it(m,p,null),f=!0},p(e,t){(!f||512&t[0])&&g!==(g=e[9]("remove_types_schema_help_1")+"")&&Q(n,g),(!f||512&t[0])&&h!==(h=e[9]("remove_types_schema_help_2")+"")&&Q(s,h),(!f||512&t[0])&&y!==(y=e[9]("remove_types_schema_help_3")+"")&&Q(l,y),(!f||512&t[0])&&b!==(b=e[9]("remove_types_schema_help_4")+"")&&Q(d,b);const r={};512&t[0]&&(r.text=e[9]("remove_types_schema_help_5")),28&t[1]&&(r.$$scope={dirty:t,ctx:e}),m.$set(r)},i(e){f||(je(m.$$.fragment,e),f=!0)},o(e){Ue(m.$$.fragment,e),f=!1},d(e){e&&z(t),e&&z(r),e&&z(o),e&&z(a),e&&z(i),e&&z(c),e&&z(u),e&&z($),e&&z(p),lt(m)}}}function Aee(e){let t,n,r,o,s,a=e[9]("remove_types_schema")+"";return o=new H$({props:{$$slots:{default:[Nee]},$$scope:{ctx:e}}}),{c(){t=q("div"),n=j(a),r=U(),at(o.$$.fragment),X(t,"slot","label")},m(e,a){H(e,t,a),F(t,n),F(t,r),it(o,t,null),s=!0},p(e,t){(!s||512&t[0])&&a!==(a=e[9]("remove_types_schema")+"")&&Q(n,a);const r={};512&t[0]|16&t[1]&&(r.$$scope={dirty:t,ctx:e}),o.$set(r)},i(e){s||(je(o.$$.fragment,e),s=!0)},o(e){Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(o)}}}function Ree(e){let t,n;return t=new J$({props:{layout:"inline-input-first",$$slots:{label:[Aee],default:[Tee]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};520&n[0]|16&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Fee(e){let t,n,r;function o(t){e[27](t)}let s={};return void 0!==e[2]&&(s.checked=e[2]),t=new x$({props:s}),Ce.push((()=>st(t,"checked",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};!n&&4&r[0]&&(n=!0,o.checked=e[2],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function Pee(e){let t,n=e[9]("use_role_to_remove_schemas_help")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){512&r[0]&&n!==(n=e[9]("use_role_to_remove_schemas_help")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Lee(e){let t,n,r,o,s,a=e[9]("use_role_to_remove_schemas")+"";return o=new H$({props:{$$slots:{default:[Pee]},$$scope:{ctx:e}}}),{c(){t=q("div"),n=j(a),r=U(),at(o.$$.fragment),X(t,"slot","label")},m(e,a){H(e,t,a),F(t,n),F(t,r),it(o,t,null),s=!0},p(e,t){(!s||512&t[0])&&a!==(a=e[9]("use_role_to_remove_schemas")+"")&&Q(n,a);const r={};512&t[0]|16&t[1]&&(r.$$scope={dirty:t,ctx:e}),o.$set(r)},i(e){s||(je(o.$$.fragment,e),s=!0)},o(e){Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(o)}}}function Hee(e){let t,n;return t=new J$({props:{layout:"inline-input-first",$$slots:{label:[Lee],default:[Fee]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};516&n[0]|16&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function zee(e){let t,n,r,o,s;return n=new WL({props:{label:e[9]("role_name"),layout:"stacked",field:e[17]}}),o=new WL({props:{label:e[9]("role_password"),help:e[9]("password_help"),layout:"stacked",field:e[18],input:{component:Qf,props:{autocomplete:"off"}}}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),at(o.$$.fragment),X(t,"class","indent svelte-8nxwqq")},m(e,a){H(e,t,a),it(n,t,null),F(t,r),it(o,t,null),s=!0},p(e,t){const r={};512&t[0]&&(r.label=e[9]("role_name")),n.$set(r);const s={};512&t[0]&&(s.label=e[9]("role_password")),512&t[0]&&(s.help=e[9]("password_help")),o.$set(s)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(n),lt(o)}}}function Vee(e){let t,n,r=e[34]+"";return{c(){t=q("a"),n=j(r),X(t,"href","https://github.com/mathesar-foundation/mathesar/issues/3862")},m(e,r){H(e,t,r),F(t,n)},p(e,t){8&t[1]&&r!==(r=e[34]+"")&&Q(n,r)},d(e){e&&z(t)}}}function qee(e){let t,n="link"===e[33]&&Vee(e);return{c(){n&&n.c(),t=W()},m(e,r){n&&n.m(e,r),H(e,t,r)},p(e,r){"link"===e[33]?n?n.p(e,r):(n=Vee(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&z(t)}}}function Bee(e){let t,n;return t=new Rx({props:{text:e[9]("drop_not_yet_implemented"),$$slots:{default:[qee,({slotName:e,translatedArg:t})=>({33:e,34:t}),({slotName:e,translatedArg:t})=>[0,(e?4:0)|(t?8:0)]]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};512&n[0]&&(r.text=e[9]("drop_not_yet_implemented")),28&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function jee(e){let t,n;return t=new cV({props:{$$slots:{default:[Bee]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};512&n[0]|16&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Uee(e){let t,n,r,o,s,a;t=new ML({props:{$$slots:{default:[hee]},$$scope:{ctx:e}}});const i=[vee,bee,yee],l=[];function c(e,t){return"drop"===e[10]?0:"keep"===e[10]?1:2}return r=c(e),o=l[r]=i[r](e),{c(){at(t.$$.fragment),n=U(),o.c(),s=W()},m(e,o){it(t,e,o),H(e,n,o),l[r].m(e,o),H(e,s,o),a=!0},p(e,n){const a={};1024&n[0]|16&n[1]&&(a.$$scope={dirty:n,ctx:e}),t.$set(a);let u=r;r=c(e),r===u?l[r].p(e,n):(qe(),Ue(l[u],1,1,(()=>{l[u]=null})),Be(),o=l[r],o?o.p(e,n):(o=l[r]=i[r](e),o.c()),je(o,1),o.m(s.parentNode,s))},i(e){a||(je(t.$$.fragment,e),je(o),a=!0)},o(e){Ue(t.$$.fragment,e),Ue(o),a=!1},d(e){lt(t,e),e&&z(n),l[r].d(e),e&&z(s)}}}function Wee(e){let t,n;return t=new _p({props:{label:e[9]("in_postgres"),boxed:!0,$$slots:{default:[Uee]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};512&n[0]&&(r.label=e[9]("in_postgres")),1564&n[0]|16&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Yee(e){let t,n,r,o,s,a,i,l,c,u,d,$;return n=new ML({props:{$$slots:{default:[W9]},$$scope:{ctx:e}}}),o=new ML({props:{$$slots:{default:[gee]},$$scope:{ctx:e}}}),a=new ML({props:{$$slots:{default:[Wee]},$$scope:{ctx:e}}}),c=new QL({props:{form:e[5],catchErrors:!0,onCancel:e[28],canProceed:"keep"===e[10],onProceed:e[19],proceedButton:{label:e[9]("disconnect")},cancelButton:{label:e[9]("cancel")}}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),at(o.$$.fragment),s=U(),at(a.$$.fragment),i=U(),l=q("div"),at(c.$$.fragment)},m(e,p){H(e,t,p),it(n,t,null),F(t,r),it(o,t,null),F(t,s),it(a,t,null),H(e,i,p),H(e,l,p),it(c,l,null),u=!0,d||($=T(ux.call(null,l)),d=!0)},p(e,t){const r={};512&t[0]|16&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};770&t[0]|16&t[1]&&(s.$$scope={dirty:t,ctx:e}),o.$set(s);const i={};1564&t[0]|16&t[1]&&(i.$$scope={dirty:t,ctx:e}),a.$set(i);const l={};32&t[0]&&(l.form=e[5]),33&t[0]&&(l.onCancel=e[28]),1024&t[0]&&(l.canProceed="keep"===e[10]),512&t[0]&&(l.proceedButton={label:e[9]("disconnect")}),512&t[0]&&(l.cancelButton={label:e[9]("cancel")}),c.$set(l)},i(e){u||(je(n.$$.fragment,e),je(o.$$.fragment,e),je(a.$$.fragment,e),je(c.$$.fragment,e),u=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),Ue(a.$$.fragment,e),Ue(c.$$.fragment,e),u=!1},d(e){e&&z(t),lt(n),lt(o),lt(a),e&&z(i),e&&z(l),lt(c),d=!1,$()}}}function Kee(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,b,v=a,w=a;y(e,no,(e=>n(9,h=e))),e.$$.on_destroy.push((()=>v())),e.$$.on_destroy.push((()=>w()));let{database:_}=t,{disconnect:x}=t,{cancel:C}=t;const S={keep:h("keep_the_database"),drop:h("drop_the_database")},k=Object.keys(S);const M=oH("keep");y(e,M,(e=>n(10,b=e)));const I=oH(!1);y(e,I,(e=>n(4,m=e)));const T=oH(!1);y(e,T,(e=>n(3,p=e)));const E=oH(!1);y(e,E,(e=>n(2,$=e)));const D=oH("");y(e,D,(e=>n(31,d=e)));const O=rH("");y(e,O,(e=>n(30,u=e)));return e.$$set=e=>{"database"in e&&n(20,_=e.database),"disconnect"in e&&n(21,x=e.disconnect),"cancel"in e&&n(0,C=e.cancel)},e.$$.update=()=>{5242880&e.$$.dirty[0]&&n(1,o=!hc((e=>e.id!==_.id&&e.server.id===_.server.id),f.values())),2&e.$$.dirty[0]&&(n(6,s=oH(o)),v(),v=g(s,(e=>n(8,c=e)))),20&e.$$.dirty[0]&&n(5,i=aH(m&&$?{roleName:D,rolePassword:O}:{})),24&e.$$.dirty[0]&&(l=(()=>{const e=[];return m&&(e.push("msar"),e.push("__msar"),p&&e.push("mathesar_types")),e})())},n(7,({databases:r}=QF),r),w(),w=g(r,(e=>n(22,f=e))),[C,o,$,p,m,i,s,r,c,h,b,k,function(e){return S[e]},M,I,T,E,D,O,async function(){await x({database:_,schemas_to_remove:l,role:$?{name:d,password:u}:void 0,disconnect_db_server:o&&c})},_,x,f,function(e){c=e,s.set(c)},function(e){b=e,M.set(b)},function(e){m=e,I.set(m)},function(e){p=e,T.set(p)},function(e){$=e,E.set($)},()=>{i.reset(),C()}]}class Gee extends ut{constructor(e){super(),ct(this,e,Kee,Yee,f,{database:20,disconnect:21,cancel:0},null,[-1,-1])}}function Xee(e){let t,n;return t=new Gee({props:{database:e[4],disconnect:e[1],cancel:e[3]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.database=e[4]),2&n&&(r.disconnect=e[1]),1&n&&(r.cancel=e[3]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Zee(e){let t,n;return t=new bx({props:{$$slots:{default:[Jee]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};80&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Jee(e){let t,n=e[4].displayName+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){16&r&&n!==(n=e[4].displayName+"")&&Q(t,n)},d(e){e&&z(t)}}}function Qee(e){let t,n,r="databaseName"===e[5]&&Zee(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"databaseName"===e[5]?r?(r.p(e,n),32&n&&je(r,1)):(r=Zee(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function ete(e){let t,n,r;return n=new Rx({props:{text:e[2]("disconnect_named_database"),$$slots:{default:[Qee,({slotName:e})=>({5:e}),({slotName:e})=>e?32:0]},$$scope:{ctx:e}}}),{c(){t=q("span"),at(n.$$.fragment),X(t,"slot","title")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};4&t&&(r.text=e[2]("disconnect_named_database")),112&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function tte(e){let t,n;return t=new dv({props:{controller:e[0],$$slots:{title:[ete,({options:e})=>({4:e}),({options:e})=>e?16:0],default:[Xee,({options:e})=>({4:e}),({options:e})=>e?16:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.controller=e[0]),87&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function nte(e,t,n){let r;y(e,no,(e=>n(2,r=e)));let{controller:o}=t,{disconnect:s}=t;return e.$$set=e=>{"controller"in e&&n(0,o=e.controller),"disconnect"in e&&n(1,s=e.disconnect)},[o,s,r,()=>o.close()]}class rte extends ut{constructor(e){super(),ct(this,e,nte,tte,f,{controller:0,disconnect:1})}}const ote=e=>({storeValues:8&e}),ste=e=>({storeValues:e[3]}),ate=e=>({storeValues:8&e}),ite=e=>({storeValues:e[3]});function lte(e){let t,n;return t=new hL({props:{errors:e[4],fullWidth:!0}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.errors=e[4]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function cte(e){let t,n,r;return n=new Sb({props:{tabs:e[1],uniformTabWidth:!1,tabStyle:"compact",hideTabsInCaseOfSingleTab:!0,$$slots:{default:[pte,({activeTab:e})=>({25:e}),({activeTab:e})=>e?33554432:0]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","tabs svelte-1mria07"),se(t,"tabs-displayed",e[1].length>1)},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,o){const s={};2&o&&(s.tabs=e[1]),37748744&o&&(s.$$scope={dirty:o,ctx:e}),n.$set(s),(!r||2&o)&&se(t,"tabs-displayed",e[1].length>1)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function ute(e){let t,n;return t=new t$({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function dte(e){let t;const n=e[21]["transfer-ownership"],r=b(n,e,e[22],ste);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||4194312&o)&&_(r,n,e,e[22],t?w(n,e[22],o,ote):x(e[22]),ste)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function $te(e){let t;const n=e[21].share,r=b(n,e,e[22],ite);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||4194312&o)&&_(r,n,e,e[22],t?w(n,e[22],o,ate):x(e[22]),ite)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function pte(e){let t,n,r,o;const s=[$te,dte],a=[];function i(e,t){return"share"===e[25]?.id?0:"transfer_ownership"===e[25]?.id?1:-1}return~(n=i(e))&&(r=a[n]=s[n](e)),{c(){t=q("div"),r&&r.c(),X(t,"class","tab-content svelte-1mria07")},m(e,r){H(e,t,r),~n&&a[n].m(t,null),o=!0},p(e,o){let l=n;n=i(e),n===l?~n&&a[n].p(e,o):(r&&(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be()),~n?(r=a[n],r?r.p(e,o):(r=a[n]=s[n](e),r.c()),je(r,1),r.m(t,null)):r=null)},i(e){o||(je(r),o=!0)},o(e){Ue(r),o=!1},d(e){e&&z(t),~n&&a[n].d()}}}function mte(e){let t,n,r,o;const s=[ute,cte,lte],a=[];function i(e,t){return e[5]?0:e[0]&&e[3]?1:2}return n=i(e),r=a[n]=s[n](e),{c(){t=q("div"),r.c(),X(t,"class","content")},m(e,r){H(e,t,r),a[n].m(t,null),o=!0},p(e,[o]){let l=n;n=i(e),n===l?a[n].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),r=a[n],r?r.p(e,o):(r=a[n]=s[n](e),r.c()),je(r,1),r.m(t,null))},i(e){o||(je(r),o=!0)},o(e){Ue(r),o=!1},d(e){e&&z(t),a[n].d()}}}function fte(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,b,v,w,_,x,C,S,k,M=a,I=a,T=a,E=a,D=a;y(e,no,(e=>n(23,x=e))),e.$$.on_destroy.push((()=>M())),e.$$.on_destroy.push((()=>I())),e.$$.on_destroy.push((()=>T())),e.$$.on_destroy.push((()=>E())),e.$$.on_destroy.push((()=>D()));let{$$slots:O={},$$scope:N}=t,{getAsyncStores:A}=t;const R=[{id:"share",label:x("share"),for:"all"},{id:"transfer_ownership",label:x("transfer_ownership"),for:"owner"}];return e.$$set=e=>{"getAsyncStores"in e&&n(10,A=e.getAsyncStores),"$$scope"in e&&n(22,N=e.$$scope)},e.$$.update=()=>{1024&e.$$.dirty&&n(15,r=A()),32768&e.$$.dirty&&(n(9,({roles:o,privilegesForRoles:s,permissionsMetaData:i,currentRole:l}=r),o,(n(8,s),E(),E=g(s,(e=>n(19,S=e))),s),(n(7,i),I(),I=g(i,(e=>n(17,_=e))),i),(n(6,l),T(),T=g(l,(e=>n(18,C=e))),l)),D(),D=g(o,(e=>n(20,k=e)))),1966080&e.$$.dirty&&n(5,c=k.isLoading||S.isLoading||_.isLoading||C.isLoading),1966080&e.$$.dirty&&n(0,u=k.isOk&&S.isOk&&_.isOk&&C.isOk),1966080&e.$$.dirty&&n(4,d=[k.error,S.error,_.error,C.error].filter(_o)),1048576&e.$$.dirty&&n(14,$=new ao(k.resolvedValue)),131072&e.$$.dirty&&n(13,p=_.resolvedValue),524288&e.$$.dirty&&n(12,m=new ao(S.resolvedValue)),262144&e.$$.dirty&&n(11,f=C.resolvedValue),30721&e.$$.dirty&&n(3,h=u&&p&&f?{roles:$,permissionsMetaData:p,privilegesForRoles:m,currentRole:f}:void 0),131072&e.$$.dirty&&(n(2,b=_.resolvedValue?.currentAccess.currentRoleOwns),M(),M=g(b,(e=>n(16,w=e)))),65536&e.$$.dirty&&n(1,v=w?R:R.filter((e=>"all"===e.for)))},[u,v,b,h,d,c,l,i,s,o,A,f,m,p,$,r,w,_,C,S,k,O,N]}class gte extends ut{constructor(e){super(),ct(this,e,fte,mte,f,{getAsyncStores:10})}}const hte=e=>({storeValues:64&e}),yte=e=>({storeValues:e[6]}),bte=e=>({storeValues:64&e}),vte=e=>({storeValues:e[6]}),wte=e=>({}),_te=e=>({slot:"title"});function xte(e){let t;const n=e[3].share,r=b(n,e,e[5],yte);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||96&o)&&_(r,n,e,e[5],t?w(n,e[5],o,hte):x(e[5]),yte)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function Cte(e){let t;const n=e[3]["transfer-ownership"],r=b(n,e,e[5],vte);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||96&o)&&_(r,n,e,e[5],t?w(n,e[5],o,bte):x(e[5]),vte)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function Ste(e){let t,n;return t=new gte({props:{getAsyncStores:e[1],$$slots:{"transfer-ownership":[Cte,({storeValues:e})=>({6:e}),({storeValues:e})=>e?64:0],share:[xte,({storeValues:e})=>({6:e}),({storeValues:e})=>e?64:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.getAsyncStores=e[1]),96&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function kte(e){let t;const n=e[3].title,r=b(n,e,e[5],_te);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||32&o)&&_(r,n,e,e[5],t?w(n,e[5],o,wte):x(e[5]),_te)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function Mte(e){let t,n;return t=new dv({props:{controller:e[0],$$slots:{title:[kte],default:[Ste]},$$scope:{ctx:e}}}),t.$on("close",e[4]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.controller=e[0]),34&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Ite(e,t,n){let{$$slots:r={},$$scope:o}=t,{controller:s}=t,{getAsyncStores:a}=t,{onClose:i=(()=>{})}=t;return e.$$set=e=>{"controller"in e&&n(0,s=e.controller),"getAsyncStores"in e&&n(1,a=e.getAsyncStores),"onClose"in e&&n(2,i=e.onClose),"$$scope"in e&&n(5,o=e.$$scope)},[s,a,i,r,()=>i(),o]}class Tte extends ut{constructor(e){super(),ct(this,e,Ite,Mte,f,{controller:0,getAsyncStores:1,onClose:2})}}const Ete="custom";class Dte{constructor(t){if(e(this,"roleOid",void 0),e(this,"accessLevelConfig",void 0),e(this,"accessLevel",void 0),e(this,"privileges",void 0),e(this,"savedPrivileges",void 0),this.accessLevelConfig=t.accessLevelConfig,this.roleOid=t.roleOid,this.savedPrivileges=t.savedPrivileges,"privileges"in t&&"accessLevel"in t&&t.accessLevel===Ete)this.accessLevel=Ete,this.privileges=new so(t.privileges);else if("privileges"in t)this.privileges=new so(t.privileges),this.accessLevel=function(e,t){const n=e.find((e=>t.equals(e.privileges)));return n?n.id:Ete}(this.accessLevelConfig,this.privileges);else{this.accessLevel=t.accessLevel;const e=this.accessLevelConfig.find((e=>e.id===this.accessLevel));if(!e)throw new Error("Access level not found in configuration. This should never occur.");this.privileges=new so(e.privileges)}}getCommonProps(){return{roleOid:this.roleOid,accessLevelConfig:this.accessLevelConfig,savedPrivileges:this.savedPrivileges}}withAccess(e){return new Dte({...this.getCommonProps(),accessLevel:e})}withCustomAccess(e){const t=e??this.savedPrivileges??this.privileges.valuesArray();return new Dte({...this.getCommonProps(),accessLevel:Ete,privileges:t})}}function Ote(e,t,n){const r=e.slice();return r[7]=t[n],r}function Nte(e){let t,n,r,o=e[5]("child_roles_count",{values:{count:e[3].length}})+"";return{c(){t=q("span"),n=j("+ "),r=j(o),X(t,"class","member-count svelte-1l5tj01")},m(e,o){H(e,t,o),F(t,n),F(t,r)},p(e,t){40&t&&o!==(o=e[5]("child_roles_count",{values:{count:e[3].length}})+"")&&Q(r,o)},d(e){e&&z(t)}}}function Ate(e,t){let n,r,o,s,a,i,c,u=(t[0].get(t[7].oid)?.name??t[7].oid)+"";const d=[KC,{size:"0.75em"}];let $={};for(let p=0;p<d.length;p+=1)$=l($,d[p]);return r=new Jd({props:$}),{key:e,first:null,c(){n=q("div"),at(r.$$.fragment),o=U(),s=q("span"),a=j(u),i=U(),X(n,"class","member svelte-1l5tj01"),this.first=n},m(e,t){H(e,n,t),it(r,n,null),F(n,o),F(n,s),F(s,a),F(n,i),c=!0},p(e,n){t=e;const o=0&n?rt(d,[ot(KC),d[1]]):{};r.$set(o),(!c||9&n)&&u!==(u=(t[0].get(t[7].oid)?.name??t[7].oid)+"")&&Q(a,u)},i(e){c||(je(r.$$.fragment,e),c=!0)},o(e){Ue(r.$$.fragment,e),c=!1},d(e){e&&z(n),lt(r)}}}function Rte(e){let t,n,r,o,s,a,i,l,c=(e[2]?.name??e[1])+"",u=[],d=new Map,$=e[3].length&&Nte(e),p=e[3];const m=e=>e[7].oid;for(let f=0;f<p.length;f+=1){let t=Ote(e,p,f),n=m(t);d.set(n,u[f]=Ate(n,t))}return{c(){t=q("div"),n=q("div"),r=q("span"),o=j(c),s=U(),$&&$.c(),a=U(),i=q("div");for(let e=0;e<u.length;e+=1)u[e].c();X(r,"class","name svelte-1l5tj01"),X(n,"class","name-and-size"),X(i,"class","members"),X(t,"class","role-with-children svelte-1l5tj01")},m(e,c){H(e,t,c),F(t,n),F(n,r),F(r,o),F(n,s),$&&$.m(n,null),F(t,a),F(t,i);for(let t=0;t<u.length;t+=1)u[t].m(i,null);l=!0},p(e,[t]){(!l||6&t)&&c!==(c=(e[2]?.name??e[1])+"")&&Q(o,c),e[3].length?$?$.p(e,t):($=Nte(e),$.c(),$.m(n,null)):$&&($.d(1),$=null),9&t&&(p=e[3],qe(),u=nt(u,t,m,1,e,p,d,i,et,Ate,null,Ote),Be())},i(e){if(!l){for(let e=0;e<p.length;e+=1)je(u[e]);l=!0}},o(e){for(let t=0;t<u.length;t+=1)Ue(u[t]);l=!1},d(e){e&&z(t),$&&$.d();for(let t=0;t<u.length;t+=1)u[t].d()}}}function Fte(e,t,n){let r,o,s,i,l,c=a;y(e,no,(e=>n(5,l=e))),e.$$.on_destroy.push((()=>c()));let{rolesMap:u}=t,{roleOid:d}=t;return e.$$set=e=>{"rolesMap"in e&&n(0,u=e.rolesMap),"roleOid"in e&&n(1,d=e.roleOid)},e.$$.update=()=>{3&e.$$.dirty&&n(2,r=u.get(d)),4&e.$$.dirty&&(n(4,o=r?.members),c(),c=g(o,(e=>n(6,i=e)))),65&e.$$.dirty&&n(3,s=[...i?.values()??[]].filter((e=>u.get(e.oid)?.inherits)))},[u,d,r,s,o,l,i]}class Pte extends ut{constructor(e){super(),ct(this,e,Fte,Rte,f,{rolesMap:0,roleOid:1})}}function Lte(e){let t,n,r=(e[1].get(e[3].accessLevel)?.name??"")+"";return{c(){t=q("div"),n=j(r),X(t,"class","access-level-static svelte-b02w2l")},m(e,r){H(e,t,r),F(t,n)},p(e,t){10&t&&r!==(r=(e[1].get(e[3].accessLevel)?.name??"")+"")&&Q(n,r)},i:a,o:a,d(e){e&&z(t)}}}function Hte(e){let t,n;return t=new $y({props:{options:[...e[1].keys()],value:e[3].accessLevel,$$slots:{trigger:[qte,({option:e})=>({19:e}),({option:e})=>e?524288:0],default:[Vte,({option:e})=>({19:e}),({option:e})=>e?524288:0]},$$scope:{ctx:e}}}),t.$on("change",e[13]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.options=[...e[1].keys()]),8&n&&(r.value=e[3].accessLevel),1572866&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function zte(e){let t,n,r,o,s,a,i=(e[1].get(e[19])?.name??"")+"",l=(e[1].get(e[19])?.help??"")+"";return{c(){t=q("div"),n=q("div"),r=j(i),o=U(),s=q("div"),a=j(l),X(n,"class","name svelte-b02w2l"),X(s,"class","help svelte-b02w2l"),X(t,"class","access-selection-option svelte-b02w2l")},m(e,i){H(e,t,i),F(t,n),F(n,r),F(t,o),F(t,s),F(s,a)},p(e,t){524290&t&&i!==(i=(e[1].get(e[19])?.name??"")+"")&&Q(r,i),524290&t&&l!==(l=(e[1].get(e[19])?.help??"")+"")&&Q(a,l)},d(e){e&&z(t)}}}function Vte(e){let t,n=e[19]&&zte(e);return{c(){n&&n.c(),t=W()},m(e,r){n&&n.m(e,r),H(e,t,r)},p(e,r){e[19]?n?n.p(e,r):(n=zte(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&z(t)}}}function qte(e){let t,n,r=(e[1].get(e[19])?.name??"")+"";return{c(){t=q("div"),n=j(r),X(t,"slot","trigger")},m(e,r){H(e,t,r),F(t,n)},p(e,t){524290&t&&r!==(r=(e[1].get(e[19])?.name??"")+"")&&Q(n,r)},d(e){e&&z(t)}}}function Bte(e){let t,n,r;return n=new Hu({props:{appearance:"secondary",$$slots:{default:[jte]},$$scope:{ctx:e}}}),n.$on("click",e[14]),{c(){t=q("div"),at(n.$$.fragment)},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};1048576&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function jte(e){let t,n;const r=[Gx];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[ot(Gx)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Ute(e){let t,n,r,o;function s(t){e[18](t)}let a={triggerAppearance:"plain",$$slots:{content:[Yte],header:[Wte]},$$scope:{ctx:e}};return void 0!==e[5]&&(a.isOpen=e[5]),n=new om({props:a}),Ce.push((()=>st(n,"isOpen",s))),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","role-permissions svelte-b02w2l")},m(e,r){H(e,t,r),it(n,t,null),o=!0},p(e,t){const o={};1048972&t&&(o.$$scope={dirty:t,ctx:e}),!r&&32&t&&(r=!0,o.isOpen=e[5],Oe((()=>r=!1))),n.$set(o)},i(e){o||(je(n.$$.fragment,e),o=!0)},o(e){Ue(n.$$.fragment,e),o=!1},d(e){e&&z(t),lt(n)}}}function Wte(e){let t,n,r=e[8]("role_privileges")+"";return{c(){t=q("div"),n=j(r),X(t,"slot","header")},m(e,r){H(e,t,r),F(t,n)},p(e,t){256&t&&r!==(r=e[8]("role_privileges")+"")&&Q(n,r)},d(e){e&&z(t)}}}function Yte(e){let t,n,r;return n=new Up({props:{values:e[3].privileges.valuesArray(),options:[...e[2].keys()],getCheckboxLabel:e[15],getCheckboxHelp:e[16],disabled:!e[7]}}),n.$on("artificialChange",e[17]),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","content svelte-b02w2l"),X(t,"slot","content")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};8&t&&(r.values=e[3].privileges.valuesArray()),4&t&&(r.options=[...e[2].keys()]),4&t&&(r.getCheckboxHelp=e[16]),128&t&&(r.disabled=!e[7]),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function Kte(e){let t,n,r,o,s,a,i,l,c,u;n=new Pte({props:{rolesMap:e[0],roleOid:e[3].roleOid}});const d=[Hte,Lte],$=[];function p(e,t){return e[7]?0:1}s=p(e),a=$[s]=d[s](e);let m=e[7]&&Bte(e),f=e[3].accessLevel===Ete&&Ute(e);return{c(){t=q("div"),at(n.$$.fragment),r=U(),o=q("div"),a.c(),i=U(),m&&m.c(),l=U(),f&&f.c(),c=W(),X(t,"class","access-selection svelte-b02w2l")},m(e,a){H(e,t,a),it(n,t,null),F(t,r),F(t,o),$[s].m(o,null),F(t,i),m&&m.m(t,null),H(e,l,a),f&&f.m(e,a),H(e,c,a),u=!0},p(e,[r]){const i={};1&r&&(i.rolesMap=e[0]),8&r&&(i.roleOid=e[3].roleOid),n.$set(i);let l=s;s=p(e),s===l?$[s].p(e,r):(qe(),Ue($[l],1,1,(()=>{$[l]=null})),Be(),a=$[s],a?a.p(e,r):(a=$[s]=d[s](e),a.c()),je(a,1),a.m(o,null)),e[7]?m?(m.p(e,r),128&r&&je(m,1)):(m=Bte(e),m.c(),je(m,1),m.m(t,null)):m&&(qe(),Ue(m,1,1,(()=>{m=null})),Be()),e[3].accessLevel===Ete?f?(f.p(e,r),8&r&&je(f,1)):(f=Ute(e),f.c(),je(f,1),f.m(c.parentNode,c)):f&&(qe(),Ue(f,1,1,(()=>{f=null})),Be())},i(e){u||(je(n.$$.fragment,e),je(a),je(m),je(f),u=!0)},o(e){Ue(n.$$.fragment,e),Ue(a),Ue(m),Ue(f),u=!1},d(e){e&&z(t),lt(n),$[s].d(),m&&m.d(),e&&z(l),f&&f.d(e),e&&z(c)}}}function Gte(e,t,n){let r,o,s,i=a;y(e,no,(e=>n(8,s=e))),e.$$.on_destroy.push((()=>i()));let{rolesMap:l}=t,{permissionsMetaData:c}=t,{accessLevelsInfoMap:u}=t,{privilegeInfoMap:d}=t,{roleAccess:$}=t,{setAccess:p}=t,{removeAccess:m}=t,f=!1;function h(e){p($.roleOid,$.withCustomAccess(e))}function b(e){e&&(e===Ete?(p($.roleOid,$.withCustomAccess()),n(5,f=!0)):p($.roleOid,$.withAccess(e)))}return e.$$set=e=>{"rolesMap"in e&&n(0,l=e.rolesMap),"permissionsMetaData"in e&&n(11,c=e.permissionsMetaData),"accessLevelsInfoMap"in e&&n(1,u=e.accessLevelsInfoMap),"privilegeInfoMap"in e&&n(2,d=e.privilegeInfoMap),"roleAccess"in e&&n(3,$=e.roleAccess),"setAccess"in e&&n(12,p=e.setAccess),"removeAccess"in e&&n(4,m=e.removeAccess)},e.$$.update=()=>{2048&e.$$.dirty&&(n(6,r=c.currentAccess.currentRoleOwns),i(),i=g(r,(e=>n(7,o=e))))},[l,u,d,$,m,f,r,o,s,h,b,c,p,e=>b(e.detail),()=>m($.roleOid),e=>String(e),e=>d.get(e)?.help??"",e=>h(e.detail),function(e){f=e,n(5,f)}]}class Xte extends ut{constructor(e){super(),ct(this,e,Gte,Kte,f,{rolesMap:0,permissionsMetaData:11,accessLevelsInfoMap:1,privilegeInfoMap:2,roleAccess:3,setAccess:12,removeAccess:4})}}const Zte=e=>({}),Jte=e=>({});function Qte(e){let t,n;const r=e[3].actions,o=b(r,e,e[2],Jte);return{c(){t=q("div"),o&&o.c(),X(t,"class","actions svelte-1idtag3")},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||4&t)&&_(o,r,e,e[2],n?w(r,e[2],t,Zte):x(e[2]),Jte)},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function ene(e){let t,n,r,o,s,a,i,l,c=e[1].actions&&Qte(e);const u=e[3].default,d=b(u,e,e[2],null);return{c(){t=q("div"),n=q("div"),r=q("span"),o=j(e[0]),s=U(),c&&c.c(),a=U(),i=q("div"),d&&d.c(),X(r,"class","title svelte-1idtag3"),X(n,"class","header svelte-1idtag3"),X(i,"class","content svelte-1idtag3"),X(t,"class","section svelte-1idtag3")},m(e,u){H(e,t,u),F(t,n),F(n,r),F(r,o),F(n,s),c&&c.m(n,null),F(t,a),F(t,i),d&&d.m(i,null),l=!0},p(e,[t]){(!l||1&t)&&Q(o,e[0]),e[1].actions?c?(c.p(e,t),2&t&&je(c,1)):(c=Qte(e),c.c(),je(c,1),c.m(n,null)):c&&(qe(),Ue(c,1,1,(()=>{c=null})),Be()),d&&d.p&&(!l||4&t)&&_(d,u,e,e[2],l?w(u,e[2],t,null):x(e[2]),null)},i(e){l||(je(c),je(d,e),l=!0)},o(e){Ue(c),Ue(d,e),l=!1},d(e){e&&z(t),c&&c.d(),d&&d.d(e)}}}function tne(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=k(r);let{title:a}=t;return e.$$set=e=>{"title"in e&&n(0,a=e.title),"$$scope"in e&&n(2,o=e.$$scope)},[a,s,o,r]}class nne extends ut{constructor(e){super(),ct(this,e,tne,ene,f,{title:0})}}const{Map:rne}=Je;function one(e,t,n){const r=e.slice();return r[28]=t[n],r}function sne(e,t,n){const r=e.slice();return r[25]=t[n],r}function ane(e){let t,n,r,o;return n=new cV({props:{fullWidth:!0,$$slots:{default:[ine]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),X(t,"class","no-access")},m(e,s){H(e,t,s),it(n,t,null),F(t,r),o=!0},p(e,t){const r={};16&t[0]|1&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){o||(je(n.$$.fragment,e),o=!0)},o(e){Ue(n.$$.fragment,e),o=!1},d(e){e&&z(t),lt(n)}}}function ine(e){let t,n=e[4]("access_not_granted_for_any_role")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){16&r[0]&&n!==(n=e[4]("access_not_granted_for_any_role")+"")&&Q(t,n)},d(e){e&&z(t)}}}function lne(e,t){let n,r,o,s;return r=new Xte({props:{rolesMap:t[1],permissionsMetaData:t[2],accessLevelsInfoMap:t[7],privilegeInfoMap:t[6],roleAccess:t[28],setAccess:t[15],removeAccess:t[16]}}),{key:e,first:null,c(){n=q("div"),at(r.$$.fragment),o=U(),X(n,"class","access-control-row svelte-x52w2g"),this.first=n},m(e,t){H(e,n,t),it(r,n,null),F(n,o),s=!0},p(e,n){t=e;const o={};2&n[0]&&(o.rolesMap=t[1]),4&n[0]&&(o.permissionsMetaData=t[2]),128&n[0]&&(o.accessLevelsInfoMap=t[7]),64&n[0]&&(o.privilegeInfoMap=t[6]),2048&n[0]&&(o.roleAccess=t[28]),r.$set(o)},i(e){s||(je(r.$$.fragment,e),s=!0)},o(e){Ue(r.$$.fragment,e),s=!1},d(e){e&&z(n),lt(r)}}}function cne(e){let t,n,r,o,s,a=[],i=new rne,l=[...e[11].values()];const c=e=>e[28].roleOid;for(let d=0;d<l.length;d+=1){let t=one(e,l,d),n=c(t);i.set(n,a[d]=lne(n,t))}let u=null;return l.length||(u=ane(e)),{c(){t=q("div");for(let e=0;e<a.length;e+=1)a[e].c();u&&u.c(),X(t,"class","access-control-rows svelte-x52w2g"),se(t,"empty",0===e[11].size)},m(i,l){H(i,t,l);for(let e=0;e<a.length;e+=1)a[e].m(t,null);u&&u.m(t,null),r=!0,o||(s=T(n=X3.call(null,t,{scrollHint:e[4]("privileges_new_items_scroll_hint")})),o=!0)},p(e,o){100566&o[0]&&(l=[...e[11].values()],qe(),a=nt(a,o,c,1,e,l,i,t,et,lne,null,one),Be(),!l.length&&u?u.p(e,o):l.length?u&&(qe(),Ue(u,1,1,(()=>{u=null})),Be()):(u=ane(e),u.c(),je(u,1),u.m(t,null))),n&&$(n.update)&&16&o[0]&&n.update.call(null,{scrollHint:e[4]("privileges_new_items_scroll_hint")}),(!r||2048&o[0])&&se(t,"empty",0===e[11].size)},i(e){if(!r){for(let e=0;e<l.length;e+=1)je(a[e]);r=!0}},o(e){for(let t=0;t<a.length;t+=1)Ue(a[t]);r=!1},d(e){e&&z(t);for(let t=0;t<a.length;t+=1)a[t].d();u&&u.d(),o=!1,s()}}}function une(e){let t,n;return t=new zh({props:{label:e[4]("add_roles"),triggerAppearance:"secondary",icon:jx,triggerClass:"padding-compact",$$slots:{default:[pne]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n[0]&&(r.label=e[4]("add_roles")),2082&n[0]|1&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function dne(e){let t,n,r=e[25].name+"";return{c(){t=j(r),n=U()},m(e,r){H(e,t,r),H(e,n,r)},p(e,n){2&n[0]&&r!==(r=e[25].name+"")&&Q(t,r)},d(e){e&&z(t),e&&z(n)}}}function $ne(e,t){let n,r,o;return r=new nw({props:{disabled:t[11].has(t[25].oid)||t[25].oid===t[5],$$slots:{default:[dne]},$$scope:{ctx:t}}}),r.$on("click",(function(){return t[23](t[25])})),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};2082&n[0]&&(o.disabled=t[11].has(t[25].oid)||t[25].oid===t[5]),2&n[0]|1&n[1]&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function pne(e){let t,n,r=[],o=new rne,s=[...e[1].values()];const a=e=>e[25].oid;for(let i=0;i<s.length;i+=1){let t=sne(e,s,i),n=a(t);o.set(n,r[i]=$ne(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=W()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);H(e,t,o),n=!0},p(e,n){18466&n[0]&&(s=[...e[1].values()],qe(),r=nt(r,n,a,1,e,s,o,t.parentNode,et,$ne,t,sne),Be())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ue(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&z(t)}}}function mne(e){let t,n,r=e[12]&&une(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){e[12]?r?(r.p(e,n),4096&n[0]&&je(r,1)):(r=une(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function fne(e){let t,n,r,o,s;return n=new QL({props:{form:e[8],canProceed:e[13].hasChanges,catchErrors:!0,onCancel:e[24],onProceed:e[17],proceedButton:{label:e[4]("save")},cancelButton:{label:e[4]("cancel")}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","footer")},m(e,a){H(e,t,a),it(n,t,null),r=!0,o||(s=T(ux.call(null,t)),o=!0)},p(e,t){const r={};256&t[0]&&(r.form=e[8]),8192&t[0]&&(r.canProceed=e[13].hasChanges),1&t[0]&&(r.onCancel=e[24]),16&t[0]&&(r.proceedButton={label:e[4]("save")}),16&t[0]&&(r.cancelButton={label:e[4]("cancel")}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n),o=!1,s()}}}function gne(e){let t,n,r,o;t=new nne({props:{title:e[4]("granted_privileges"),$$slots:{actions:[mne],default:[cne]},$$scope:{ctx:e}}});let s=e[12]&&fne(e);return{c(){at(t.$$.fragment),n=U(),s&&s.c(),r=W()},m(e,a){it(t,e,a),H(e,n,a),s&&s.m(e,a),H(e,r,a),o=!0},p(e,n){const o={};16&n[0]&&(o.title=e[4]("granted_privileges")),6390&n[0]|1&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o),e[12]?s?(s.p(e,n),4096&n[0]&&je(s,1)):(s=fne(e),s.c(),je(s,1),s.m(r.parentNode,r)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be())},i(e){o||(je(t.$$.fragment,e),je(s),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(s),o=!1},d(e){lt(t,e),e&&z(n),s&&s.d(e),e&&z(r)}}}function hne(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,b=a,v=a,w=a,_=a;y(e,no,(e=>n(4,p=e))),e.$$.on_destroy.push((()=>b())),e.$$.on_destroy.push((()=>v())),e.$$.on_destroy.push((()=>w())),e.$$.on_destroy.push((()=>_()));let{controller:x}=t,{config:C}=t,{roles:S}=t,{privilegesForRoles:k}=t,{permissionsMetaData:M}=t,{savePrivilegesForRoles:I}=t;function T(e){const t=new Dte({roleOid:e,accessLevelConfig:C.access.levels,accessLevel:C.access.default});i.update((n=>n.with(e,t,((e,t)=>e??t))))}return e.$$set=e=>{"controller"in e&&n(0,x=e.controller),"config"in e&&n(18,C=e.config),"roles"in e&&n(1,S=e.roles),"privilegesForRoles"in e&&n(19,k=e.privilegesForRoles),"permissionsMetaData"in e&&n(2,M=e.permissionsMetaData),"savePrivilegesForRoles"in e&&n(20,I=e.savePrivilegesForRoles)},e.$$.update=()=>{var t;4&e.$$.dirty[0]&&(n(10,({ownerOid:r,currentRoleOwns:o}=M.currentAccess),r,(n(9,o),w(),w=g(o,(e=>n(12,f=e))),o)),v(),v=g(r,(e=>n(5,m=e)))),524320&e.$$.dirty[0]&&n(21,s=k.filterValues((e=>e.role_oid!==m))),2359296&e.$$.dirty[0]&&(n(3,i=oH((t=C.access.levels,s.mapValues((e=>new Dte({roleOid:e.role_oid,accessLevelConfig:t,privileges:[...e.direct],savedPrivileges:[...e.direct]})))))),b(),b=g(i,(e=>n(11,$=e)))),8&e.$$.dirty[0]&&(n(8,l=aH({roleAccessField:i})),_(),_=g(l,(e=>n(13,h=e)))),262160&e.$$.dirty[0]&&n(22,c=[...C.access.levels.map((e=>({id:e.id,name:e.name,help:e.help}))),{id:Ete,name:p("custom"),help:p("access_custom_help")}]),4194304&e.$$.dirty[0]&&n(7,u=new Map(c.map((e=>[e.id,e])))),262144&e.$$.dirty[0]&&n(6,d=new Map(C.allPrivileges.map((e=>[e.id,e]))))},[x,S,M,i,p,m,d,u,l,o,r,$,f,h,T,function(e,t){i.update((n=>n.with(e,t)))},function(e){i.update((t=>t.without(e)))},async function(){const e=[...s.keys()].filter((e=>!$.has(e))).map((e=>({role_oid:e,direct:[]}))),t=[...$.values()].map((e=>({role_oid:e.roleOid,direct:e.privileges.valuesArray()})));await I([...e,...t]),x.close()},C,k,I,s,c,e=>T(e.oid),()=>{x.close()}]}class yne extends ut{constructor(e){super(),ct(this,e,hne,gne,f,{controller:0,config:18,roles:1,privilegesForRoles:19,permissionsMetaData:2,savePrivilegesForRoles:20},null,[-1,-1])}}function bne(e){let t,n;return t=new Pte({props:{rolesMap:e[0],roleOid:e[3]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.rolesMap=e[0]),8&n&&(r.roleOid=e[3]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function vne(e){let t,n;return t=new nne({props:{title:e[2]("owner"),$$slots:{default:[bne]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};4&n&&(r.title=e[2]("owner")),41&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function wne(e,t,n){let r,o,s,i=a;y(e,no,(e=>n(2,o=e))),e.$$.on_destroy.push((()=>i()));let{roles:l}=t,{permissionsMetaData:c}=t;return e.$$set=e=>{"roles"in e&&n(0,l=e.roles),"permissionsMetaData"in e&&n(4,c=e.permissionsMetaData)},e.$$.update=()=>{16&e.$$.dirty&&(n(1,r=c.currentAccess.ownerOid),i(),i=g(r,(e=>n(3,s=e))))},[l,r,o,s,c]}class _ne extends ut{constructor(e){super(),ct(this,e,wne,vne,f,{roles:0,permissionsMetaData:4})}}function xne(e){let t,n,r,o,s;return n=new _ne({props:{roles:e[5],permissionsMetaData:e[3]}}),o=new yne({props:{controller:e[0],config:e[1],roles:e[5],privilegesForRoles:e[4],permissionsMetaData:e[3],savePrivilegesForRoles:e[2]}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),at(o.$$.fragment),X(t,"class","permissions-overview")},m(e,a){H(e,t,a),it(n,t,null),F(t,r),it(o,t,null),s=!0},p(e,[t]){const r={};32&t&&(r.roles=e[5]),8&t&&(r.permissionsMetaData=e[3]),n.$set(r);const s={};1&t&&(s.controller=e[0]),2&t&&(s.config=e[1]),32&t&&(s.roles=e[5]),16&t&&(s.privilegesForRoles=e[4]),8&t&&(s.permissionsMetaData=e[3]),4&t&&(s.savePrivilegesForRoles=e[2]),o.$set(s)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(n),lt(o)}}}function Cne(e,t,n){let r,o,s,{controller:a}=t,{accessControlConfig:i}=t,{savePrivilegesForRoles:l}=t,{storeValues:c}=t;return e.$$set=e=>{"controller"in e&&n(0,a=e.controller),"accessControlConfig"in e&&n(1,i=e.accessControlConfig),"savePrivilegesForRoles"in e&&n(2,l=e.savePrivilegesForRoles),"storeValues"in e&&n(6,c=e.storeValues)},e.$$.update=()=>{64&e.$$.dirty&&n(5,({roles:r,privilegesForRoles:o,permissionsMetaData:s}=c),r,(n(4,o),n(6,c)),(n(3,s),n(6,c)))},[a,i,l,s,o,r,c]}class Sne extends ut{constructor(e){super(),ct(this,e,Cne,xne,f,{controller:0,accessControlConfig:1,savePrivilegesForRoles:2,storeValues:6})}}function kne(e){let t,n,r,o,s,a,i,l;return n=new WL({props:{label:e[5]("new_owner"),layout:"stacked",field:e[8],input:{component:e[7],props:{options:e[1],getLabel:e[18],autoSelect:"none",isOptionDisabled:e[19]}}}}),s=new QL({props:{form:e[9],canProceed:e[6].hasChanges,catchErrors:!0,onCancel:e[20],onProceed:e[10],proceedButton:{label:e[5]("transfer_ownership")},cancelButton:{label:e[5]("cancel")}}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),o=q("div"),at(s.$$.fragment),X(o,"class","footer")},m(e,c){H(e,t,c),it(n,t,null),H(e,r,c),H(e,o,c),it(s,o,null),a=!0,i||(l=T(ux.call(null,o)),i=!0)},p(e,[t]){const r={};32&t&&(r.label=e[5]("new_owner")),46&t&&(r.input={component:e[7],props:{options:e[1],getLabel:e[18],autoSelect:"none",isOptionDisabled:e[19]}}),n.$set(r);const o={};64&t&&(o.canProceed=e[6].hasChanges),1&t&&(o.onCancel=e[20]),32&t&&(o.proceedButton={label:e[5]("transfer_ownership")}),32&t&&(o.cancelButton={label:e[5]("cancel")}),s.$set(o)},i(e){a||(je(n.$$.fragment,e),je(s.$$.fragment,e),a=!0)},o(e){Ue(n.$$.fragment,e),Ue(s.$$.fragment,e),a=!1},d(e){e&&z(t),lt(n),e&&z(r),e&&z(o),lt(s),i=!1,l()}}}function Mne(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h=a;y(e,no,(e=>n(5,m=e))),e.$$.on_destroy.push((()=>h()));let{controller:b}=t,{transferOwnership:v}=t,{storeValues:w}=t;const _=$y,x=oH(void 0);y(e,x,(e=>n(21,$=e)));const C=aH({newOwner:x});y(e,C,(e=>n(6,f=e)));return e.$$set=e=>{"controller"in e&&n(0,b=e.controller),"transferOwnership"in e&&n(11,v=e.transferOwnership),"storeValues"in e&&n(12,w=e.storeValues)},e.$$.update=()=>{4096&e.$$.dirty&&n(2,({roles:r,permissionsMetaData:o,currentRole:s}=w),r,(n(16,o),n(12,w)),(n(14,s),n(12,w))),4&e.$$.dirty&&n(1,i=[...r.values()].map((e=>e.oid))),65536&e.$$.dirty&&(n(4,l=o.currentAccess.ownerOid),h(),h=g(l,(e=>n(17,p=e)))),16388&e.$$.dirty&&n(15,c=r.get(s.oid)),49154&e.$$.dirty&&n(13,u=c?.super?i:[...s.parentRoles.keys(),s.oid]),139264&e.$$.dirty&&n(3,d=new Set(u.filter((e=>e!==p))))},[b,i,r,d,l,m,f,_,x,C,async function(){$&&await v($),b.close()},v,w,u,s,c,o,p,e=>e?r.get(e)?.name??String(e):m("select_role"),e=>void 0!==e&&!d.has(e),()=>{b.close()}]}class Ine extends ut{constructor(e){super(),ct(this,e,Mne,kne,f,{controller:0,transferOwnership:11,storeValues:12})}}function Tne(e){let t,n;return t=new bx({props:{$$slots:{default:[Ene]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};131074&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Ene(e){let t,n=e[1].displayName+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){2&r&&n!==(n=e[1].displayName+"")&&Q(t,n)},d(e){e&&z(t)}}}function Dne(e){let t,n,r="databaseName"===e[16]&&Tne(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"databaseName"===e[16]?r?(r.p(e,n),65536&n&&je(r,1)):(r=Tne(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function One(e){let t,n=e[4]("database_settings")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){16&r&&n!==(n=e[4]("database_settings")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Nne(e){let t,n="databaseSettings"===e[16]&&One(e);return{c(){n&&n.c(),t=W()},m(e,r){n&&n.m(e,r),H(e,t,r)},p(e,r){"databaseSettings"===e[16]?n?n.p(e,r):(n=One(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&z(t)}}}function Ane(e){let t,n,r,o,s,a,i,l,c,u,d,$,p=e[4]("database_permissions_help_1")+"",m=e[4]("database_permissions_help_2")+"";return l=new JP({props:{page:"databasePermissions"}}),d=new Rx({props:{text:e[4]("database_permissions_help_3"),$$slots:{default:[Nne,({slotName:e})=>({16:e}),({slotName:e})=>e?65536:0]},$$scope:{ctx:e}}}),{c(){t=q("p"),n=j(p),r=U(),o=q("p"),s=j(m),a=U(),i=q("p"),at(l.$$.fragment),c=U(),u=q("p"),at(d.$$.fragment)},m(e,p){H(e,t,p),F(t,n),H(e,r,p),H(e,o,p),F(o,s),H(e,a,p),H(e,i,p),it(l,i,null),H(e,c,p),H(e,u,p),it(d,u,null),$=!0},p(e,t){(!$||16&t)&&p!==(p=e[4]("database_permissions_help_1")+"")&&Q(n,p),(!$||16&t)&&m!==(m=e[4]("database_permissions_help_2")+"")&&Q(s,m);const r={};16&t&&(r.text=e[4]("database_permissions_help_3")),196624&t&&(r.$$scope={dirty:t,ctx:e}),d.$set(r)},i(e){$||(je(l.$$.fragment,e),je(d.$$.fragment,e),$=!0)},o(e){Ue(l.$$.fragment,e),Ue(d.$$.fragment,e),$=!1},d(e){e&&z(t),e&&z(r),e&&z(o),e&&z(a),e&&z(i),lt(l),e&&z(c),e&&z(u),lt(d)}}}function Rne(e){let t,n,r,o,s;return n=new Rx({props:{text:e[4]("permissions_for_named_database"),$$slots:{default:[Dne,({slotName:e})=>({16:e}),({slotName:e})=>e?65536:0]},$$scope:{ctx:e}}}),o=new H$({props:{$$slots:{default:[Ane]},$$scope:{ctx:e}}}),{c(){t=q("span"),at(n.$$.fragment),r=U(),at(o.$$.fragment),X(t,"slot","title")},m(e,a){H(e,t,a),it(n,t,null),F(t,r),it(o,t,null),s=!0},p(e,t){const r={};16&t&&(r.text=e[4]("permissions_for_named_database")),196610&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};131088&t&&(s.$$scope={dirty:t,ctx:e}),o.$set(s)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(n),lt(o)}}}function Fne(e){let t,n;return t=new Sne({props:{slot:"share",controller:e[0],accessControlConfig:e[6],storeValues:e[15],savePrivilegesForRoles:e[8]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.controller=e[0]),32768&n&&(r.storeValues=e[15]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Pne(e){let t,n;return t=new Ine({props:{slot:"transfer-ownership",controller:e[0],transferOwnership:e[9],storeValues:e[15]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.controller=e[0]),32768&n&&(r.storeValues=e[15]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Lne(e){let t,n;return t=new Tte({props:{controller:e[0],getAsyncStores:e[7],onClose:e[11],$$slots:{"transfer-ownership":[Pne,({storeValues:e})=>({15:e}),({storeValues:e})=>e?32768:0],share:[Fne,({storeValues:e})=>({15:e}),({storeValues:e})=>e?32768:0],title:[Rne]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.controller=e[0]),4&n&&(r.onClose=e[11]),163859&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Hne(e,t,n){let r,o,s,i,l,c,u,d,$=a;y(e,no,(e=>n(4,c=e))),e.$$.on_destroy.push((()=>$()));let{controller:p}=t;const m=C9.get();y(e,m,(e=>n(10,d=e)));const f={allPrivileges:[{id:"CONNECT",help:c("database_privilege_connect_help")},{id:"CREATE",help:c("database_privilege_create_help")},{id:"TEMPORARY",help:c("database_privilege_temporary_help")}],access:{levels:[{id:"connect",privileges:new Set(["CONNECT"]),name:c("connect"),help:c("database_access_connect_help")},{id:"connect_and_create",privileges:new Set(["CONNECT","CREATE"]),name:c("connect_and_create"),help:c("database_access_create_help")}],default:"connect"}};return e.$$set=e=>{"controller"in e&&n(0,p=e.controller)},e.$$.update=()=>{1024&e.$$.dirty&&n(1,({database:r,roles:o,underlyingDatabase:s,currentRole:i}=d),r,(n(3,s),$(),$=g(s,(e=>n(14,u=e))),s)),2&e.$$.dirty&&n(2,l=r.constructDatabasePrivilegesStore())},[p,r,l,s,c,m,f,function(){return qF.runBatchConservatively([l.batchRunner(),o.batchRunner(),s.batchRunner(),i.batchRunner()]),{roles:o,privilegesForRoles:l,permissionsMetaData:s,currentRole:i}},async function(e){const t=await PM.databases.privileges.replace_for_roles({database_id:r.id,privileges:e}).run();l.updateResolvedValue((()=>new ao(t.map((e=>[e.role_oid,e]))))),WS.success(c("access_for_roles_saved_successfully"))},async function(e){if(!u.resolvedValue)throw new Error("Database has not been stored");await u.resolvedValue.updateOwner(e),WS.success(c("database_ownership_updated_successfully"))},d,()=>l.reset()]}class zne extends ut{constructor(e){super(),ct(this,e,Hne,Lne,f,{controller:0})}}const Vne=e=>({}),qne=e=>({setSection:e[0]});function Bne(e){let t,n;const r=e[16].default,o=b(r,e,e[22],qne);return{c(){t=q("div"),o&&o.c(),X(t,"class","tab-container svelte-1aan5yf")},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||4194304&t)&&_(o,r,e,e[22],n?w(r,e[22],t,Vne):x(e[22]),qne)},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function jne(e){let t,n=e[23].label+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8388608&r&&n!==(n=e[23].label+"")&&Q(t,n)},i:a,o:a,d(e){e&&z(t)}}}function Une(e){let t,n,r,o,s=e[23].label+"";return r=new H$({props:{placements:["top-start","bottom-start"],$$slots:{default:[Wne]},$$scope:{ctx:e}}}),{c(){t=j(s),n=U(),at(r.$$.fragment)},m(e,s){H(e,t,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){(!o||8388608&n)&&s!==(s=e[23].label+"")&&Q(t,s);const a={};4194312&n&&(a.$$scope={dirty:n,ctx:e}),r.$set(a)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(t),e&&z(n),lt(r,e)}}}function Wne(e){let t,n,r,o,s,a,i=e[3]("schemas_list_help")+"";return s=new JP({props:{page:"schemas"}}),{c(){t=q("p"),n=j(i),r=U(),o=q("p"),at(s.$$.fragment)},m(e,i){H(e,t,i),F(t,n),H(e,r,i),H(e,o,i),it(s,o,null),a=!0},p(e,t){(!a||8&t)&&i!==(i=e[3]("schemas_list_help")+"")&&Q(n,i)},i(e){a||(je(s.$$.fragment,e),a=!0)},o(e){Ue(s.$$.fragment,e),a=!1},d(e){e&&z(t),e&&z(r),e&&z(o),lt(s)}}}function Yne(e){let t,n,r,o;const s=[Une,jne],a=[];function i(e,t){return"schemas"===e[23].id?0:1}return n=i(e),r=a[n]=s[n](e),{c(){t=q("div"),r.c(),X(t,"slot","tab")},m(e,r){H(e,t,r),a[n].m(t,null),o=!0},p(e,o){let l=n;n=i(e),n===l?a[n].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),r=a[n],r?r.p(e,o):(r=a[n]=s[n](e),r.c()),je(r,1),r.m(t,null))},i(e){o||(je(r),o=!0)},o(e){Ue(r),o=!1},d(e){e&&z(t),a[n].d()}}}function Kne(e){let t,n;return t=new Sb({props:{activeTab:e[4],tabs:e[1],uniformTabWidth:!1,$$slots:{tab:[Yne,({tab:e})=>({23:e}),({tab:e})=>e?8388608:0],default:[Bne]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.activeTab=e[4]),2&n&&(r.tabs=e[1]),12582920&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Gne(e){let t,n,r,o,s,a,i,l,c,u,d,$=e[3]("postgres_database")+"",p=Lj+"",m=e[2].name+"",f=e[2].server.getConnectionString()+"";return{c(){t=q("div"),n=q("div"),r=q("div"),o=q("span"),s=j($),a=j(p),i=U(),l=q("code"),c=j(m),u=j(" @ "),d=j(f),X(o,"class","label svelte-1aan5yf"),X(n,"class","connection-details svelte-1aan5yf"),X(t,"slot","subText"),X(t,"class","database-info svelte-1aan5yf")},m(e,$){H(e,t,$),F(t,n),F(n,r),F(r,o),F(o,s),F(o,a),F(r,i),F(r,l),F(l,c),F(l,u),F(l,d)},p(e,t){8&t&&$!==($=e[3]("postgres_database")+"")&&Q(s,$),4&t&&m!==(m=e[2].name+"")&&Q(c,m),4&t&&f!==(f=e[2].server.getConnectionString()+"")&&Q(d,f)},d(e){e&&z(t)}}}function Xne(e){let t,n,r,o,s,a=e[3]("database_permissions")+"";const i=[iS];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return t=new Jd({props:c}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(a)},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),F(r,o),s=!0},p(e,n){const r=0&n?rt(i,[ot(iS)]):{};t.$set(r),(!s||8&n)&&a!==(a=e[3]("database_permissions")+"")&&Q(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function Zne(e){let t,n,r;return n=new zh({props:{showArrow:!1,triggerAppearance:"secondary",closeOnInnerClick:!1,icon:nC,preferredPlacement:"bottom-end",$$slots:{default:[tre]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","dropdown-container svelte-1aan5yf")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};4194316&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function Jne(e){let t,n=e[3]("disconnect_database")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8&r&&n!==(n=e[3]("disconnect_database")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Qne(e){let t,n=e[3]("edit_connection")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8&r&&n!==(n=e[3]("edit_connection")+"")&&Q(t,n)},d(e){e&&z(t)}}}function ere(e){let t,n=e[3]("reinstall_mathesar_schemas")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8&r&&n!==(n=e[3]("reinstall_mathesar_schemas")+"")&&Q(t,n)},d(e){e&&z(t)}}}function tre(e){let t,n,r,o,s,a;return t=new nw({props:{icon:Kx,$$slots:{default:[Jne]},$$scope:{ctx:e}}}),t.$on("click",e[18]),r=new nw({props:{icon:Xx,$$slots:{default:[Qne]},$$scope:{ctx:e}}}),r.$on("click",e[19]),s=new nw({props:{icon:_C,$$slots:{default:[ere]},$$scope:{ctx:e}}}),s.$on("click",e[20]),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),at(s.$$.fragment)},m(e,i){it(t,e,i),H(e,n,i),it(r,e,i),H(e,o,i),it(s,e,i),a=!0},p(e,n){const o={};4194312&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const a={};4194312&n&&(a.$$scope={dirty:n,ctx:e}),r.$set(a);const i={};4194312&n&&(i.$$scope={dirty:n,ctx:e}),s.$set(i)},i(e){a||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),a=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),a=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),lt(s,e)}}}function nre(e){let t,n,r,o,s;r=new Hu({props:{appearance:"secondary",$$slots:{default:[Xne]},$$scope:{ctx:e}}}),r.$on("click",e[17]);let a=e[5]&&Zne(e);return{c(){t=q("div"),n=q("div"),at(r.$$.fragment),o=U(),a&&a.c(),X(n,"class","actions-container svelte-1aan5yf"),X(t,"slot","action")},m(e,i){H(e,t,i),F(t,n),it(r,n,null),F(n,o),a&&a.m(n,null),s=!0},p(e,t){const o={};4194312&t&&(o.$$scope={dirty:t,ctx:e}),r.$set(o),e[5]?a?(a.p(e,t),32&t&&je(a,1)):(a=Zne(e),a.c(),je(a,1),a.m(n,null)):a&&(qe(),Ue(a,1,1,(()=>{a=null})),Be())},i(e){s||(je(r.$$.fragment,e),je(a),s=!0)},o(e){Ue(r.$$.fragment,e),Ue(a),s=!1},d(e){e&&z(t),lt(r),a&&a.d()}}}function rre(e){let t,n,r;return n=new Z2({props:{icon:IC,name:e[2].displayName,entityTypeName:e[3]("database"),$$slots:{action:[nre],subText:[Gne]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","database-page-header svelte-1aan5yf"),X(t,"slot","secondary-header")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};4&t&&(r.name=e[2].displayName),8&t&&(r.entityTypeName=e[3]("database")),4194348&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function ore(e){let t,n,r,o,s,a,i,l,c,u,d,$;return document.title=t=zK(e[2].displayName),r=new TK({props:{restrictWidth:!0,cssVariables:{"--page-padding":"0 var(--page-padding-x)","--max-layout-width":"var(--max-layout-width-console-pages)"},$$slots:{"secondary-header":[rre],default:[Kne]},$$scope:{ctx:e}}}),s=new U9({props:{controller:e[10],database:e[2]}}),i=new zne({props:{controller:e[7]}}),c=new U4({props:{controller:e[9],isReinstall:!0}}),d=new rte({props:{controller:e[8],disconnect:e[21]}}),{c(){n=U(),at(r.$$.fragment),o=U(),at(s.$$.fragment),a=U(),at(i.$$.fragment),l=U(),at(c.$$.fragment),u=U(),at(d.$$.fragment)},m(e,t){H(e,n,t),it(r,e,t),H(e,o,t),it(s,e,t),H(e,a,t),it(i,e,t),H(e,l,t),it(c,e,t),H(e,u,t),it(d,e,t),$=!0},p(e,[n]){(!$||4&n)&&t!==(t=zK(e[2].displayName))&&(document.title=t);const o={};4194366&n&&(o.$$scope={dirty:n,ctx:e}),r.$set(o);const a={};4&n&&(a.database=e[2]),s.$set(a)},i(e){$||(je(r.$$.fragment,e),je(s.$$.fragment,e),je(i.$$.fragment,e),je(c.$$.fragment,e),je(d.$$.fragment,e),$=!0)},o(e){Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),Ue(i.$$.fragment,e),Ue(c.$$.fragment,e),Ue(d.$$.fragment,e),$=!1},d(e){e&&z(n),lt(r,e),e&&z(o),lt(s,e),e&&z(a),lt(i,e),e&&z(l),lt(c,e),e&&z(u),lt(d,e)}}}function sre(e,t,n){let r,o,s,a,i,l,c,u;y(e,no,(e=>n(3,l=e)));let{$$slots:d={},$$scope:$}=t;const p=C9.get();y(e,p,(e=>n(15,u=e)));const m=US.spawnModalController(),f=US.spawnModalController(),g=US.spawnModalController(),h=US.spawnModalController(),b=jM();y(e,b,(e=>n(14,c=e)));let v="schemas";return e.$$set=e=>{"$$scope"in e&&n(22,$=e.$$scope)},e.$$.update=()=>{32768&e.$$.dirty&&n(2,({database:r,underlyingDatabase:o}=u),r,(n(13,o),n(15,u))),8192&e.$$.dirty&&o.runConservatively(),16384&e.$$.dirty&&n(5,({isMathesarAdmin:s}=c),s),12&e.$$.dirty&&n(1,a=[{id:"schemas",label:l("schemas"),href:YM(r.id)},{id:"settings",label:l("database_settings"),href:KM(r.id)}]),4098&e.$$.dirty&&n(4,i=a.find((e=>e.id===v)))},[function(e){n(12,v=e)},a,r,l,i,s,p,m,f,g,h,b,v,o,c,u,d,()=>m.open(),()=>f.open(r),()=>h.open(),()=>g.open(r),async e=>{await QF.disconnectDatabase(e),Yz.goto("/")},$]}class are extends ut{constructor(e){super(),ct(this,e,sre,ore,f,{setSection:0})}get setSection(){return this.$$.ctx[0]}}const ire=e=>({}),lre=e=>({}),cre=e=>({initialName:512&e}),ure=e=>({slot:"title",initialName:e[9]});function dre(e){let t,n,r=e[6].join(" ")+"";return{c(){t=q("p"),n=j(r),X(t,"class","error svelte-xqbcuv")},m(e,r){H(e,t,r),F(t,n)},p(e,t){64&t&&r!==(r=e[6].join(" ")+"")&&Q(n,r)},d(e){e&&z(t)}}}function $re(e){let t,n,r,o,s,a;function i(t){e[22](t)}function l(t){e[23](t)}let c={"aria-label":e[13]("name"),disabled:e[7]||e[4],placeholder:e[2],id:"name"};void 0!==e[5]&&(c.value=e[5]),void 0!==e[8]&&(c.element=e[8]),t=new ym({props:c}),Ce.push((()=>st(t,"value",i))),Ce.push((()=>st(t,"element",l))),t.$on("input",e[24]);let u=e[11]&&e[6].length&&dre(e);return{c(){at(t.$$.fragment),o=U(),u&&u.c(),s=W()},m(e,n){it(t,e,n),H(e,o,n),u&&u.m(e,n),H(e,s,n),a=!0},p(e,o){const a={};8192&o&&(a["aria-label"]=e[13]("name")),144&o&&(a.disabled=e[7]||e[4]),4&o&&(a.placeholder=e[2]),!n&&32&o&&(n=!0,a.value=e[5],Oe((()=>n=!1))),!r&&256&o&&(r=!0,a.element=e[8],Oe((()=>r=!1))),t.$set(a),e[11]&&e[6].length?u?u.p(e,o):(u=dre(e),u.c(),u.m(s.parentNode,s)):u&&(u.d(1),u=null)},i(e){a||(je(t.$$.fragment,e),a=!0)},o(e){Ue(t.$$.fragment,e),a=!1},d(e){lt(t,e),e&&z(o),u&&u.d(e),e&&z(s)}}}function pre(e){let t,n,r;function o(t){e[25](t)}let s={"aria-label":e[13]("description"),disabled:e[7]||e[4],placeholder:e[3]};return void 0!==e[10]&&(s.value=e[10]),t=new Cg({props:s}),Ce.push((()=>st(t,"value",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};8192&r&&(o["aria-label"]=e[13]("description")),144&r&&(o.disabled=e[7]||e[4]),8&r&&(o.placeholder=e[3]),!n&&1024&r&&(n=!0,o.value=e[10],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function mre(e){let t,n,r,o,s,a,i,l;const c=e[20].helpText,u=b(c,e,e[26],lre);return o=new J$({props:{label:e[13]("name"),layout:"stacked",$$slots:{default:[$re]},$$scope:{ctx:e}}}),i=new J$({props:{label:e[13]("description"),layout:"stacked",$$slots:{default:[pre]},$$scope:{ctx:e}}}),{c(){t=q("div"),u&&u.c(),n=U(),r=q("div"),at(o.$$.fragment),s=U(),a=q("div"),at(i.$$.fragment),X(r,"class","input-container svelte-xqbcuv"),X(a,"class","input-container svelte-xqbcuv"),X(t,"class","form-container svelte-xqbcuv")},m(e,c){H(e,t,c),u&&u.m(t,null),F(t,n),F(t,r),it(o,r,null),F(t,s),F(t,a),it(i,a,null),l=!0},p(e,t){u&&u.p&&(!l||67108864&t)&&_(u,c,e,e[26],l?w(c,e[26],t,ire):x(e[26]),lre);const n={};8192&t&&(n.label=e[13]("name")),67119604&t&&(n.$$scope={dirty:t,ctx:e}),o.$set(n);const r={};8192&t&&(r.label=e[13]("description")),67118232&t&&(r.$$scope={dirty:t,ctx:e}),i.$set(r)},i(e){l||(je(u,e),je(o.$$.fragment,e),je(i.$$.fragment,e),l=!0)},o(e){Ue(u,e),Ue(o.$$.fragment,e),Ue(i.$$.fragment,e),l=!1},d(e){e&&z(t),u&&u.d(e),lt(o),lt(i)}}}function fre(e){let t;const n=e[20].title,r=b(n,e,e[26],ure);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||67109376&o)&&_(r,n,e,e[26],t?w(n,e[26],o,cre):x(e[26]),ure)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function gre(e){let t,n;return t=new m$({props:{proceedButton:{label:e[0]},onCancel:e[21],onProceed:e[15],canProceed:e[12],slot:"footer"}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.proceedButton={label:e[0]}),2&n&&(r.onCancel=e[21]),4096&n&&(r.canProceed=e[12]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function hre(e){let t,n;return t=new dv({props:{controller:e[1],allowClose:!e[7],closeOn:["button","esc","overlay"],$$slots:{footer:[gre],title:[fre],default:[mre]},$$scope:{ctx:e}}}),t.$on("open",e[14]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.controller=e[1]),128&n&&(r.allowClose=!e[7]),67125247&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function yre(e,t,n){let r,o,s;y(e,no,(e=>n(13,s=e)));let a,{$$slots:i={},$$scope:l}=t,{saveButtonLabel:c=s("save")}=t,{controller:u}=t,{getNameValidationErrors:d}=t,{getInitialName:$=(()=>"")}=t,{getInitialDescription:p=(()=>"")}=t,{save:m}=t,{namePlaceholder:f=s("name")}=t,{descriptionPlaceholder:g=s("description")}=t,{disabled:h=!1}=t,b=!1,v="",w="",_="",x=!1;return e.$$set=e=>{"saveButtonLabel"in e&&n(0,c=e.saveButtonLabel),"controller"in e&&n(1,u=e.controller),"getNameValidationErrors"in e&&n(16,d=e.getNameValidationErrors),"getInitialName"in e&&n(17,$=e.getInitialName),"getInitialDescription"in e&&n(18,p=e.getInitialDescription),"save"in e&&n(19,m=e.save),"namePlaceholder"in e&&n(2,f=e.namePlaceholder),"descriptionPlaceholder"in e&&n(3,g=e.descriptionPlaceholder),"disabled"in e&&n(4,h=e.disabled),"$$scope"in e&&n(26,l=e.$$scope)},e.$$.update=()=>{65568&e.$$.dirty&&n(6,r=d(w)),80&e.$$.dirty&&n(12,o=!r.length&&!h)},[c,u,f,g,h,w,r,b,a,v,_,x,o,s,async function(){n(9,v=$()),n(5,w=v),n(10,_=p()),n(11,x=!1),a&&(await Ee(),a.focus(),a.setSelectionRange(0,a.value.length))},async function(){try{n(7,b=!0),await m(w,_),u.close()}catch(Ln){WS.fromError(Ln)}finally{n(7,b=!1)}},d,$,p,m,i,()=>{u.close()},function(e){w=e,n(5,w)},function(e){a=e,n(8,a)},()=>{n(11,x=!0)},function(e){_=e,n(10,_)},l]}class bre extends ut{constructor(e){super(),ct(this,e,yre,hre,f,{saveButtonLabel:0,controller:1,getNameValidationErrors:16,getInitialName:17,getInitialDescription:18,save:19,namePlaceholder:2,descriptionPlaceholder:3,disabled:4})}}function vre(e){let t,n=e[6]("create_schema")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){64&r&&n!==(n=e[6]("create_schema")+"")&&Q(t,n)},i:a,o:a,d(e){e&&z(t)}}}function wre(e){let t,n;return t=new Rx({props:{text:e[6]("rename_schema_with_name"),$$slots:{default:[Cre,({slotName:e})=>({18:e}),({slotName:e})=>e?262144:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.text=e[6]("rename_schema_with_name")),917504&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function _re(e){let t,n;return t=new bx({props:{$$slots:{default:[xre]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};655360&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function xre(e){let t,n=e[17]+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){131072&r&&n!==(n=e[17]+"")&&Q(t,n)},d(e){e&&z(t)}}}function Cre(e){let t,n,r="schemaName"===e[18]&&_re(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"schemaName"===e[18]?r?(r.p(e,n),262144&n&&je(r,1)):(r=_re(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function Sre(e){let t,n,r,o;const s=[wre,vre],a=[];function i(e,t){return e[1]?0:1}return n=i(e),r=a[n]=s[n](e),{c(){t=q("span"),r.c(),X(t,"slot","title")},m(e,r){H(e,t,r),a[n].m(t,null),o=!0},p(e,o){let l=n;n=i(e),n===l?a[n].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),r=a[n],r?r.p(e,o):(r=a[n]=s[n](e),r.c()),je(r,1),r.m(t,null))},i(e){o||(je(r),o=!0)},o(e){Ue(r),o=!1},d(e){e&&z(t),a[n].d()}}}function kre(e){let t,n;return t=new bre({props:{controller:e[0],save:e[11],getNameValidationErrors:e[10],getInitialName:e[13],getInitialDescription:e[14],saveButtonLabel:e[1]?e[6]("save"):e[6]("create_new_schema"),namePlaceholder:e[6]("schema_name_placeholder"),disabled:e[5]&&!e[9],$$slots:{title:[Sre,({initialName:e})=>({17:e}),({initialName:e})=>e?131072:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.controller=e[0]),128&n&&(r.getInitialName=e[13]),256&n&&(r.getInitialDescription=e[14]),66&n&&(r.saveButtonLabel=e[1]?e[6]("save"):e[6]("create_new_schema")),64&n&&(r.namePlaceholder=e[6]("schema_name_placeholder")),544&n&&(r.disabled=e[5]&&!e[9]),655426&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Mre(e,t,n){let r,o,s,i,l,c,u,d,$,p=a,m=a,f=a;y(e,no,(e=>n(6,l=e))),y(e,pP,(e=>n(15,c=e))),e.$$.on_destroy.push((()=>p())),e.$$.on_destroy.push((()=>m())),e.$$.on_destroy.push((()=>f()));let{database:b}=t,{controller:v}=t,{schema:w}=t;return e.$$set=e=>{"database"in e&&n(12,b=e.database),"controller"in e&&n(0,v=e.controller),"schema"in e&&n(1,w=e.schema)},e.$$.update=()=>{2&e.$$.dirty&&n(5,r=void 0!==w),2&e.$$.dirty&&(n(4,o=w?.name??$t("")),p(),p=g(o,(e=>n(7,u=e)))),2&e.$$.dirty&&(n(3,s=w?.description??$t("")),m(),m=g(s,(e=>n(8,d=e)))),2&e.$$.dirty&&(n(2,i=w?.currentAccess?.currentRoleOwns),f(),f=g(i,(e=>n(9,$=e))))},[v,w,i,s,o,r,l,u,d,$,function(e){return e.trim()?function(e){return(!w||e.trim()!==u)&&Array.from(c?.data||[]).some((([,t])=>h(t.name).toLowerCase().trim()===e?.trim()))}(e)?[l("schema_name_already_exists")]:[]:[l("schema_name_cannot_be_empty")]},async function(e,t){try{w?await w.updateNameAndDescription({name:e,description:t}):await uP(b,{name:e,description:t})}catch(n){WS.fromError(n)}},b,()=>u??"",()=>d??""]}class Ire extends ut{constructor(e){super(),ct(this,e,Mre,kre,f,{database:12,controller:0,schema:1})}}function Tre(e,t,n){const r=e.slice();return r[2]=t[n],r}function Ere(e,t){let n,r,o,s;return r=new wg({props:{loading:!0}}),{key:e,first:null,c(){n=q("div"),at(r.$$.fragment),o=U(),X(n,"class","schema-skeleton svelte-188e21j"),this.first=n},m(e,t){H(e,n,t),it(r,n,null),F(n,o),s=!0},p(e,t){},i(e){s||(je(r.$$.fragment,e),s=!0)},o(e){Ue(r.$$.fragment,e),s=!1},d(e){e&&z(n),lt(r)}}}function Dre(e){let t,n,r=[],o=new Map,s=e[0];const a=e=>e[2];for(let i=0;i<s.length;i+=1){let t=Tre(e,s,i),n=a(t);o.set(n,r[i]=Ere(n))}return{c(){t=q("div");for(let e=0;e<r.length;e+=1)r[e].c();X(t,"class","schema-skeleton-container svelte-188e21j")},m(e,o){H(e,t,o);for(let n=0;n<r.length;n+=1)r[n].m(t,null);n=!0},p(e,[n]){1&n&&(s=e[0],qe(),r=nt(r,n,a,1,e,s,o,t,et,Ere,null,Tre),Be())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ue(r[t]);n=!1},d(e){e&&z(t);for(let t=0;t<r.length;t+=1)r[t].d()}}}function Ore(e,t,n){let r,{numTables:o=4}=t;return e.$$set=e=>{"numTables"in e&&n(1,o=e.numTables)},e.$$.update=()=>{2&e.$$.dirty&&n(0,r=Array.from({length:o},((e,t)=>t)))},[r,o]}class Nre extends ut{constructor(e){super(),ct(this,e,Ore,Dre,f,{numTables:1})}}function Are(e){let t,n,r,o=e[1]("count_tables",{values:{count:e[2]}})+"";return{c(){t=q("div"),n=q("p"),r=j(o),X(n,"class","table-count svelte-17s7wcv"),X(t,"class","container svelte-17s7wcv")},m(e,o){H(e,t,o),F(t,n),F(n,r)},p(e,[t]){6&t&&o!==(o=e[1]("count_tables",{values:{count:e[2]}})+"")&&Q(r,o)},i:a,o:a,d(e){e&&z(t)}}}function Rre(e,t,n){let r,o,s,i=a;y(e,no,(e=>n(1,o=e))),e.$$.on_destroy.push((()=>i()));let{schema:l}=t;return e.$$set=e=>{"schema"in e&&n(3,l=e.schema)},e.$$.update=()=>{8&e.$$.dirty&&(n(0,({tableCount:r}=l),r),i(),i=g(r,(e=>n(2,s=e))))},[r,o,s,l]}class Fre extends ut{constructor(e){super(),ct(this,e,Rre,Are,f,{schema:3})}}function Pre(e){let t,n=e[9]("rename_schema")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){512&r&&n!==(n=e[9]("rename_schema")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Lre(e){let t,n=e[9]("delete_schema")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){512&r&&n!==(n=e[9]("delete_schema")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Hre(e){let t,n,r,o;return t=new nw({props:{icon:Xx,disabled:!e[8],$$slots:{default:[Pre]},$$scope:{ctx:e}}}),t.$on("click",e[14]),r=new nw({props:{danger:!0,icon:Kx,disabled:!e[8],$$slots:{default:[Lre]},$$scope:{ctx:e}}}),r.$on("click",e[15]),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,s){it(t,e,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){const o={};256&n&&(o.disabled=!e[8]),1049088&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};256&n&&(s.disabled=!e[8]),1049088&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function zre(e){let t;return{c(){t=q("div"),X(t,"class","description-placeholder svelte-haqudo")},m(e,n){H(e,t,n)},p:a,d(e){e&&z(t)}}}function Vre(e){let t,n;return{c(){t=q("p"),n=j(e[10]),X(t,"class","description svelte-haqudo"),X(t,"title",e[10])},m(e,r){H(e,t,r),F(t,n)},p(e,r){1024&r&&Q(n,e[10]),1024&r&&X(t,"title",e[10])},d(e){e&&z(t)}}}function qre(e){let t,n,r,o,s,a,i,c,u,$,p,m,f,g,h,y,b,v,w,_,x,C;const S=[VC,{size:"1rem"}];let k={};for(let d=0;d<S.length;d+=1)k=l(k,S[d]);s=new Jd({props:k});const M=[UC,{size:"1rem"}];let I={};for(let d=0;d<M.length;d+=1)I=l(I,M[d]);function T(e,t){return e[10]?Vre:zre}p=new Jd({props:I}),f=new Fre({props:{schema:e[0]}}),y=new zh({props:{showArrow:!1,triggerAppearance:"plain",preferredPlacement:"bottom-end",icon:nC,$$slots:{default:[Hre]},$$scope:{ctx:e}}});let E=T(e),D=E(e);return{c(){t=q("div"),n=q("div"),r=q("div"),o=q("div"),at(s.$$.fragment),a=U(),i=q("div"),c=j(e[7]),u=U(),$=q("div"),at(p.$$.fragment),m=U(),at(f.$$.fragment),g=U(),h=q("div"),at(y.$$.fragment),b=U(),D.c(),v=U(),w=q("a"),X(o,"class","icon-container svelte-haqudo"),X(i,"class","name svelte-haqudo"),X($,"class","table-count svelte-haqudo"),X(h,"class","menu-trigger svelte-haqudo"),X(r,"class","content-header svelte-haqudo"),X(n,"class","content svelte-haqudo"),X(w,"href",e[3]),X(w,"class","hyperlink-overlay svelte-haqudo"),X(w,"aria-label",e[7]),X(t,"class","schema-row svelte-haqudo"),se(t,"hover",e[1]),se(t,"focus",e[2])},m(l,d){H(l,t,d),F(t,n),F(n,r),F(r,o),it(s,o,null),F(r,a),F(r,i),F(i,c),F(r,u),F(r,$),it(p,$,null),F($,m),it(f,$,null),F(r,g),F(r,h),it(y,h,null),F(n,b),D.m(n,null),F(t,v),F(t,w),_=!0,x||(C=[Y(w,"mouseenter",e[16]),Y(w,"mouseleave",e[17]),Y(w,"focusin",e[18]),Y(w,"focusout",e[19])],x=!0)},p(e,[r]){const o=0&r?rt(S,[ot(VC),S[1]]):{};s.$set(o),(!_||128&r)&&Q(c,e[7]);const a=0&r?rt(M,[ot(UC),M[1]]):{};p.$set(a);const i={};1&r&&(i.schema=e[0]),f.$set(i);const l={};1049344&r&&(l.$$scope={dirty:r,ctx:e}),y.$set(l),E===(E=T(e))&&D?D.p(e,r):(D.d(1),D=E(e),D&&(D.c(),D.m(n,null))),(!_||8&r)&&X(w,"href",e[3]),(!_||128&r)&&X(w,"aria-label",e[7]),(!_||2&r)&&se(t,"hover",e[1]),(!_||4&r)&&se(t,"focus",e[2])},i(e){_||(je(s.$$.fragment,e),je(p.$$.fragment,e),je(f.$$.fragment,e),je(y.$$.fragment,e),_=!0)},o(e){Ue(s.$$.fragment,e),Ue(p.$$.fragment,e),Ue(f.$$.fragment,e),Ue(y.$$.fragment,e),_=!1},d(e){e&&z(t),lt(s),lt(p),lt(f),lt(y),D.d(),x=!1,d(C)}}}function Bre(e,t,n){let r,o,s,i,l,c,u,d,$,p=a,m=a,f=a;y(e,no,(e=>n(9,d=e))),e.$$.on_destroy.push((()=>p())),e.$$.on_destroy.push((()=>m())),e.$$.on_destroy.push((()=>f()));const h=ye();let{database:b}=t,{schema:v}=t,w=!1,_=!1;return e.$$set=e=>{"database"in e&&n(12,b=e.database),"schema"in e&&n(0,v=e.schema)},e.$$.update=()=>{1&e.$$.dirty&&(n(6,({name:r,description:o,currentAccess:s}=v),r,(n(5,o),f(),f=g(o,(e=>n(10,$=e))),o),(n(13,s),n(0,v))),p(),p=g(r,(e=>n(7,c=e)))),8192&e.$$.dirty&&(n(4,({currentRoleOwns:i}=s),i),m(),m=g(i,(e=>n(8,u=e)))),4097&e.$$.dirty&&n(3,l=JM(b.id,v.oid))},[v,w,_,l,i,o,r,c,u,d,$,h,b,s,()=>h("edit"),()=>h("delete"),()=>{n(1,w=!0)},()=>{n(1,w=!1)},()=>{n(2,_=!0)},()=>{n(2,_=!1)}]}class jre extends ut{constructor(e){super(),ct(this,e,Bre,qre,f,{database:12,schema:0})}}function Ure(e,t,n){const r=e.slice();return r[25]=t[n],r}function Wre(e){let t,n,r,o,s,a=e[10]("create_schema")+"";const i=[jx];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return t=new Jd({props:c}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(a)},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),F(r,o),s=!0},p(e,n){const r=0&n?rt(i,[ot(jx)]):{};t.$set(r),(!s||1024&n)&&a!==(a=e[10]("create_schema")+"")&&Q(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function Yre(e){let t,n;return t=new Hu({props:{appearance:"primary",disabled:!e[11]?.has("CREATE"),$$slots:{default:[Wre]},$$scope:{ctx:e}}}),t.$on("click",e[14]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2048&n&&(r.disabled=!e[11]?.has("CREATE")),536871936&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Kre(e){let t,n;return{c(){t=q("strong"),n=j(e[0])},m(e,r){H(e,t,r),F(t,n)},p(e,t){1&t&&Q(n,e[0])},d(e){e&&z(t)}}}function Gre(e){let t,n="searchValue"===e[28]&&Kre(e);return{c(){n&&n.c(),t=W()},m(e,r){n&&n.m(e,r),H(e,t,r)},p(e,r){"searchValue"===e[28]?n?n.p(e,r):(n=Kre(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&z(t)}}}function Xre(e){let t,n,r;return n=new Rx({props:{text:e[10]("schemas_matching_search",{values:{count:e[6].length}}),$$slots:{default:[Gre,({slotName:e})=>({28:e}),({slotName:e})=>e?268435456:0]},$$scope:{ctx:e}}}),{c(){t=q("p"),at(n.$$.fragment),X(t,"slot","resultInfo")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};1088&t&&(r.text=e[10]("schemas_matching_search",{values:{count:e[6].length}})),805306369&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function Zre(e){let t,n;return t=new hL({props:{fullWidth:!0,errors:[...e[1].errors,e[3].error].filter(_o)}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};10&n&&(r.errors=[...e[1].errors,e[3].error].filter(_o)),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Jre(e){let t,n;return t=new Nre({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Qre(e){let t,n,r=[],o=new Map,s=e[6];const a=e=>e[25].oid;for(let i=0;i<s.length;i+=1){let t=Ure(e,s,i),n=a(t);o.set(n,r[i]=eoe(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=W()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);H(e,t,o),n=!0},p(e,n){98880&n&&(s=e[6],qe(),r=nt(r,n,a,1,e,s,o,t.parentNode,et,eoe,t,Ure),Be())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ue(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&z(t)}}}function eoe(e,t){let n,r,o,s;return r=new jre({props:{database:t[9],schema:t[25]}}),r.$on("edit",(function(){return t[21](t[25])})),r.$on("delete",(function(){return t[22](t[25])})),{key:e,first:null,c(){n=q("li"),at(r.$$.fragment),o=U(),X(n,"class","schema-list-item"),this.first=n},m(e,t){H(e,n,t),it(r,n,null),F(n,o),s=!0},p(e,n){t=e;const o={};512&n&&(o.database=t[9]),64&n&&(o.schema=t[25]),r.$set(o)},i(e){s||(je(r.$$.fragment,e),s=!0)},o(e){Ue(r.$$.fragment,e),s=!1},d(e){e&&z(n),lt(r)}}}function toe(e){let t,n,r,o,s,a,i;const l=[Qre,Jre,Zre],c=[];function u(e,t){return"success"===e[1].state?0:"processing"===e[1].state||e[8]?1:"failure"===e[1].state||e[3].error?2:-1}return~(n=u(e))&&(r=c[n]=l[n](e)),{c(){t=q("ul"),r&&r.c(),X(t,"class","schema-list svelte-176a20q")},m(r,l){H(r,t,l),~n&&c[n].m(t,null),s=!0,a||(i=T(o=X3.call(null,t,{scrollHint:e[10]("schema_new_items_scroll_hint"),enabled:e[5]})),a=!0)},p(e,s){let a=n;n=u(e),n===a?~n&&c[n].p(e,s):(r&&(qe(),Ue(c[a],1,1,(()=>{c[a]=null})),Be()),~n?(r=c[n],r?r.p(e,s):(r=c[n]=l[n](e),r.c()),je(r,1),r.m(t,null)):r=null),o&&$(o.update)&&1056&s&&o.update.call(null,{scrollHint:e[10]("schema_new_items_scroll_hint"),enabled:e[5]})},i(e){s||(je(r),s=!0)},o(e){Ue(r),s=!1},d(e){e&&z(t),~n&&c[n].d(),a=!1,i()}}}function noe(e){let t,n,r=e[9].id,o=toe(e);return{c(){t=q("div"),o.c(),X(t,"slot","content")},m(e,r){H(e,t,r),o.m(t,null),n=!0},p(e,n){512&n&&f(r,r=e[9].id)?(qe(),Ue(o,1,1,a),Be(),o=toe(e),o.c(),je(o,1),o.m(t,null)):o.p(e,n)},i(e){n||(je(o),n=!0)},o(e){Ue(o),n=!1},d(e){e&&z(t),o.d(e)}}}function roe(e){let t,n,r,o,s,a;function i(t){e[23](t)}let l={searchPlaceholder:e[10]("search_schemas"),$$slots:{content:[noe],resultInfo:[Xre],action:[Yre]},$$scope:{ctx:e}};return void 0!==e[0]&&(l.searchQuery=e[0]),n=new j3({props:l}),Ce.push((()=>st(n,"searchQuery",i))),n.$on("clear",e[17]),s=new Ire({props:{controller:e[12],database:e[9],schema:e[4]}}),{c(){t=q("div"),at(n.$$.fragment),o=U(),at(s.$$.fragment),X(t,"class","schema-list-wrapper svelte-176a20q")},m(e,r){H(e,t,r),it(n,t,null),H(e,o,r),it(s,e,r),a=!0},p(e,[t]){const o={};1024&t&&(o.searchPlaceholder=e[10]("search_schemas")),536874859&t&&(o.$$scope={dirty:t,ctx:e}),!r&&1&t&&(r=!0,o.searchQuery=e[0],Oe((()=>r=!1))),n.$set(o);const a={};512&t&&(a.database=e[9]),16&t&&(a.schema=e[4]),s.$set(a)},i(e){a||(je(n.$$.fragment,e),je(s.$$.fragment,e),a=!0)},o(e){Ue(n.$$.fragment,e),Ue(s.$$.fragment,e),a=!1},d(e){e&&z(t),lt(n),e&&z(o),lt(s,e)}}}function ooe(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,b=a,v=a;y(e,no,(e=>n(10,d=e))),y(e,fP,(e=>n(19,p=e))),e.$$.on_destroy.push((()=>b())),e.$$.on_destroy.push((()=>v()));const w=US.spawnModalController(),_=C9.get();y(e,_,(e=>n(20,m=e)));let x,C="",S=!0;function k(e){n(4,x=e),w.open()}function M(e){XS({identifierType:d("schema"),identifierName:h(e.name),body:[d("schema_delete_warning"),d("are_you_sure_to_proceed")],onProceed:async()=>{await dP(e)}})}return e.$$.update=()=>{1048576&e.$$.dirty&&n(9,({database:r,underlyingDatabase:o}=m),r,(n(2,o),b(),b=g(o,(e=>n(3,$=e))),o)),4&e.$$.dirty&&o.runConservatively(),524288&e.$$.dirty&&n(18,s=p.data),524288&e.$$.dirty&&n(1,i=p.requestStatus),10&e.$$.dirty&&n(8,l=$.isLoading||"processing"===i.state),8&e.$$.dirty&&(n(7,c=$.resolvedValue?.currentAccess.currentRolePrivileges),v(),v=g(c,(e=>n(11,f=e)))),262145&e.$$.dirty&&n(6,u=[...Xo(s.values(),C,(e=>h(e.name)))]),1&e.$$.dirty&&async function(){n(5,S=!1),await Ee(),n(5,S=!0)}()},[C,i,o,$,x,S,u,c,l,r,d,f,w,_,function(){n(4,x=void 0),w.open()},k,M,function(){n(0,C="")},s,p,m,e=>k(e),e=>M(e),function(e){C=e,n(0,C)}]}class soe extends ut{constructor(e){super(),ct(this,e,ooe,roe,f,{})}}const aoe=Symbol("database settings route store"),ioe=()=>{const e=PM.users.list().run();return new ro(((t,n)=>{e.then((e=>t(new ao(e.map((e=>[e.id,e]))))),(e=>n(e))).catch((e=>n(e)))}),(()=>e.cancel()))};class loe{constructor(t){e(this,"databaseRouteContext",void 0),e(this,"database",void 0),e(this,"configuredRoles",void 0),e(this,"combinedLoginRoles",void 0),e(this,"collaborators",void 0),e(this,"users",void 0),this.databaseRouteContext=t,this.database=this.databaseRouteContext.database,this.configuredRoles=this.database.constructConfiguredRolesStore(),this.combinedLoginRoles=mt([this.databaseRouteContext.roles,this.configuredRoles],(([e,t])=>{if(t.isLoading||e.isLoading)return[];const n=t.isStable&&e.isStable,r=e.resolvedValue?.filterValues((e=>e.login)),o=t.resolvedValue?.mapKeys((e=>e.name));if(n&&r&&o){const e=[...r.values()].map((e=>({name:e.name,role:e,configuredRole:o.get(e.name)}))),t=new Set(e.map((e=>e.name))),n=[...o.values()].filter((e=>!t.has(e.name))).map((e=>({name:e.name,configuredRole:e})));return[...e,...n]}return t.isStable&&o?[...o.values()].map((e=>({name:e.name,configuredRole:e}))):[]})),this.collaborators=this.database.constructCollaboratorsStore(),this.users=new VF(ioe)}async configureRole(e,t){if(e.configuredRole)return e.configuredRole.setPassword(t);if(e.role){const n=await e.role.configure(t);this.configuredRoles.updateResolvedValue((e=>e.with(n.id,n)))}}async removeConfiguredRole(e){await e.delete(),this.configuredRoles.updateResolvedValue((t=>t.without(e.id))),this.collaborators.reset()}async addCollaborator(e,t){const n=await this.database.addCollaborator(e,t);return this.collaborators.updateResolvedValue((e=>e.with(n.id,n))),n}async deleteCollaborator(e){await e.delete(),this.collaborators.updateResolvedValue((t=>t.without(e.id)))}static construct(e){return SU(aoe,new loe(e))}static get(){return kU(aoe)}}function coe(e){let t,n;const r=e[2].default,o=b(r,e,e[1],null);let s=[{class:"grid-table"},e[0]],a={};for(let i=0;i<s.length;i+=1)a=l(a,s[i]);return{c(){t=q("div"),o&&o.c(),Z(t,a),se(t,"svelte-8yrnx8",!0)},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,[i]){o&&o.p&&(!n||2&i)&&_(o,r,e,e[1],n?w(r,e[1],i,null):x(e[1]),null),Z(t,a=rt(s,[{class:"grid-table"},1&i&&e[0]])),se(t,"svelte-8yrnx8",!0)},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function uoe(e,t,n){const r=[];let o=S(t,r),{$$slots:s={},$$scope:a}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(0,o=S(t,r)),"$$scope"in e&&n(1,a=e.$$scope)},[o,a,s]}class doe extends ut{constructor(e){super(),ct(this,e,uoe,coe,f,{})}}function $oe(e){let t,n;const r=e[3].default,o=b(r,e,e[2],null);let s=[{class:"gt-cell"},e[1]],a={};for(let i=0;i<s.length;i+=1)a=l(a,s[i]);return{c(){t=q("div"),o&&o.c(),Z(t,a),se(t,"gt-header",e[0]),se(t,"svelte-kqiicq",!0)},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,[i]){o&&o.p&&(!n||4&i)&&_(o,r,e,e[2],n?w(r,e[2],i,null):x(e[2]),null),Z(t,a=rt(s,[{class:"gt-cell"},2&i&&e[1]])),se(t,"gt-header",e[0]),se(t,"svelte-kqiicq",!0)},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function poe(e,t,n){const r=["header"];let o=S(t,r),{$$slots:s={},$$scope:a}=t,{header:i=!1}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(1,o=S(t,r)),"header"in e&&n(0,i=e.header),"$$scope"in e&&n(2,a=e.$$scope)},[i,o,a,s]}class moe extends ut{constructor(e){super(),ct(this,e,poe,$oe,f,{header:0})}}const foe=e=>({}),goe=e=>({}),hoe=e=>({}),yoe=e=>({});function boe(e){let t,n,r,o,s,a,i,l;const c=e[1].title,u=b(c,e,e[0],yoe),d=e[1].actions,$=b(d,e,e[0],goe),p=e[1].default,m=b(p,e,e[0],null);return{c(){t=q("div"),n=q("header"),r=q("div"),u&&u.c(),o=U(),s=q("div"),$&&$.c(),a=U(),i=q("div"),m&&m.c(),X(r,"class","title svelte-4ey3hv"),X(s,"class","actions svelte-4ey3hv"),X(n,"class","svelte-4ey3hv"),X(i,"class","content svelte-4ey3hv"),X(t,"class","settings-content svelte-4ey3hv")},m(e,c){H(e,t,c),F(t,n),F(n,r),u&&u.m(r,null),F(n,o),F(n,s),$&&$.m(s,null),F(t,a),F(t,i),m&&m.m(i,null),l=!0},p(e,[t]){u&&u.p&&(!l||1&t)&&_(u,c,e,e[0],l?w(c,e[0],t,hoe):x(e[0]),yoe),$&&$.p&&(!l||1&t)&&_($,d,e,e[0],l?w(d,e[0],t,foe):x(e[0]),goe),m&&m.p&&(!l||1&t)&&_(m,p,e,e[0],l?w(p,e[0],t,null):x(e[0]),null)},i(e){l||(je(u,e),je($,e),je(m,e),l=!0)},o(e){Ue(u,e),Ue($,e),Ue(m,e),l=!1},d(e){e&&z(t),u&&u.d(e),$&&$.d(e),m&&m.d(e)}}}function voe(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,r]}class woe extends ut{constructor(e){super(),ct(this,e,voe,boe,f,{})}}function _oe(e){let t,n;return t=new WL({props:{label:e[2]("role"),layout:"stacked",field:e[0],input:{component:e[3],props:{options:[...e[1].values()].map(xoe),getLabel:e[4],autoSelect:"none"}},help:e[2]("collaborator_role_help")}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};4&n&&(r.label=e[2]("role")),1&n&&(r.field=e[0]),6&n&&(r.input={component:e[3],props:{options:[...e[1].values()].map(xoe),getLabel:e[4],autoSelect:"none"}}),4&n&&(r.help=e[2]("collaborator_role_help")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}const xoe=e=>e.id;function Coe(e,t,n){let r;y(e,no,(e=>n(2,r=e)));const o=$y;let{configuredRoleId:s}=t,{configuredRolesMap:a}=t;return e.$$set=e=>{"configuredRoleId"in e&&n(0,s=e.configuredRoleId),"configuredRolesMap"in e&&n(1,a=e.configuredRolesMap)},[s,a,r,o,e=>e?a.get(e)?.name??String(e):r("select_role")]}class Soe extends ut{constructor(e){super(),ct(this,e,Coe,_oe,f,{configuredRoleId:0,configuredRolesMap:1})}}function koe(e){let t,n,r,o,s,a,i,l,c,u;return n=new WL({props:{label:e[4]("mathesar_user"),layout:"stacked",field:e[6],input:{component:e[9],props:{options:[...e[2].values()].map(Toe),getLabel:e[13],autoSelect:"none",isOptionDisabled:e[14]}}}}),o=new Soe({props:{configuredRoleId:e[7],configuredRolesMap:e[1]}}),i=new QL({props:{form:e[8],catchErrors:!0,onCancel:e[15],onProceed:e[10],proceedButton:{label:e[4]("add_collaborator")},cancelButton:{label:e[4]("cancel")}}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),at(o.$$.fragment),s=U(),a=q("div"),at(i.$$.fragment),X(a,"class","footer")},m(e,d){H(e,t,d),it(n,t,null),F(t,r),it(o,t,null),H(e,s,d),H(e,a,d),it(i,a,null),l=!0,c||(u=T(ux.call(null,a)),c=!0)},p(e,t){const r={};16&t&&(r.label=e[4]("mathesar_user")),28&t&&(r.input={component:e[9],props:{options:[...e[2].values()].map(Toe),getLabel:e[13],autoSelect:"none",isOptionDisabled:e[14]}}),n.$set(r);const s={};2&t&&(s.configuredRolesMap=e[1]),o.$set(s);const a={};1&t&&(a.onCancel=e[15]),16&t&&(a.proceedButton={label:e[4]("add_collaborator")}),16&t&&(a.cancelButton={label:e[4]("cancel")}),i.$set(a)},i(e){l||(je(n.$$.fragment,e),je(o.$$.fragment,e),je(i.$$.fragment,e),l=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),Ue(i.$$.fragment,e),l=!1},d(e){e&&z(t),lt(n),lt(o),e&&z(s),e&&z(a),lt(i),c=!1,u()}}}function Moe(e){let t,n,r=e[4]("add_collaborator")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","title")},m(e,r){H(e,t,r),F(t,n)},p(e,t){16&t&&r!==(r=e[4]("add_collaborator")+"")&&Q(n,r)},d(e){e&&z(t)}}}function Ioe(e){let t,n;return t=new dv({props:{controller:e[0],$$slots:{title:[Moe],default:[koe]},$$scope:{ctx:e}}}),t.$on("close",e[16]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.controller=e[0]),1048607&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}const Toe=e=>e.id;function Eoe(e,t,n){let r,o,s,a,i;y(e,no,(e=>n(4,o=e)));const l=loe.get();y(e,l,(e=>n(19,i=e)));let{controller:c}=t,{configuredRolesMap:u}=t,{usersMap:d}=t,{collaboratorsMap:$}=t,{onAdd:p}=t;const m=oH(void 0);y(e,m,(e=>n(18,a=e)));const f=oH(void 0);y(e,f,(e=>n(17,s=e)));const g=aH({userId:m,configuredRoleId:f}),h=$y;return e.$$set=e=>{"controller"in e&&n(0,c=e.controller),"configuredRolesMap"in e&&n(1,u=e.configuredRolesMap),"usersMap"in e&&n(2,d=e.usersMap),"collaboratorsMap"in e&&n(11,$=e.collaboratorsMap),"onAdd"in e&&n(12,p=e.onAdd)},e.$$.update=()=>{2048&e.$$.dirty&&n(3,r=new Set([...$.values()].map((e=>e.userId))))},[c,u,d,r,o,l,m,f,g,h,async function(){if(a&&s){const e=await i.addCollaborator(a,s);p(e),c.close(),WS.success(o("collaborator_added_successfully")),g.reset()}},$,p,e=>e?d.get(e)?.username??String(e):o("select_user"),e=>void 0!==e&&r.has(e),()=>{g.reset(),c.close()},()=>g.reset()]}class Doe extends ut{constructor(e){super(),ct(this,e,Eoe,Ioe,f,{controller:0,configuredRolesMap:1,usersMap:2,collaboratorsMap:11,onAdd:12})}}function Ooe(e){let t,n;return t=new bx({props:{$$slots:{default:[Aoe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};34&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Noe(e){let t,n;return t=new bx({props:{$$slots:{default:[Roe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};33&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Aoe(e){let t;return{c(){t=j(e[1])},m(e,n){H(e,t,n)},p(e,n){2&n&&Q(t,e[1])},d(e){e&&z(t)}}}function Roe(e){let t;return{c(){t=j(e[0])},m(e,n){H(e,t,n)},p(e,n){1&n&&Q(t,e[0])},d(e){e&&z(t)}}}function Foe(e){let t,n,r,o;const s=[Noe,Ooe],a=[];function i(e,t){return"userName"===e[4]?0:"databaseName"===e[4]?1:-1}return~(t=i(e))&&(n=a[t]=s[t](e)),{c(){n&&n.c(),r=W()},m(e,n){~t&&a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?~t&&a[t].p(e,o):(n&&(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be()),~t?(n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){~t&&a[t].d(e),e&&z(r)}}}function Poe(e){let t,n;return t=new bx({props:{$$slots:{default:[Loe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};33&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Loe(e){let t;return{c(){t=j(e[0])},m(e,n){H(e,t,n)},p(e,n){1&n&&Q(t,e[0])},d(e){e&&z(t)}}}function Hoe(e){let t,n,r="userName"===e[4]&&Poe(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"userName"===e[4]?r?(r.p(e,n),16&n&&je(r,1)):(r=Poe(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function zoe(e){let t,n;return t=new bx({props:{$$slots:{default:[Voe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};36&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Voe(e){let t;return{c(){t=j(e[2])},m(e,n){H(e,t,n)},p(e,n){4&n&&Q(t,e[2])},d(e){e&&z(t)}}}function qoe(e){let t,n,r="roleName"===e[4]&&zoe(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"roleName"===e[4]?r?(r.p(e,n),16&n&&je(r,1)):(r=zoe(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function Boe(e){let t,n,r,o,s,a,i,l,c,u;return r=new Rx({props:{text:e[3]("remove_collaborator_body_1"),$$slots:{default:[Foe,({slotName:e})=>({4:e}),({slotName:e})=>e?16:0]},$$scope:{ctx:e}}}),a=new Rx({props:{text:e[3]("remove_collaborator_body_2"),$$slots:{default:[Hoe,({slotName:e})=>({4:e}),({slotName:e})=>e?16:0]},$$scope:{ctx:e}}}),c=new Rx({props:{text:e[3]("remove_collaborator_body_3"),$$slots:{default:[qoe,({slotName:e})=>({4:e}),({slotName:e})=>e?16:0]},$$scope:{ctx:e}}}),{c(){t=q("ul"),n=q("li"),at(r.$$.fragment),o=U(),s=q("li"),at(a.$$.fragment),i=U(),l=q("li"),at(c.$$.fragment)},m(e,d){H(e,t,d),F(t,n),it(r,n,null),F(t,o),F(t,s),it(a,s,null),F(t,i),F(t,l),it(c,l,null),u=!0},p(e,[t]){const n={};8&t&&(n.text=e[3]("remove_collaborator_body_1")),51&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n);const o={};8&t&&(o.text=e[3]("remove_collaborator_body_2")),49&t&&(o.$$scope={dirty:t,ctx:e}),a.$set(o);const s={};8&t&&(s.text=e[3]("remove_collaborator_body_3")),52&t&&(s.$$scope={dirty:t,ctx:e}),c.$set(s)},i(e){u||(je(r.$$.fragment,e),je(a.$$.fragment,e),je(c.$$.fragment,e),u=!0)},o(e){Ue(r.$$.fragment,e),Ue(a.$$.fragment,e),Ue(c.$$.fragment,e),u=!1},d(e){e&&z(t),lt(r),lt(a),lt(c)}}}function joe(e,t,n){let r;y(e,no,(e=>n(3,r=e)));let{userName:o}=t,{databaseName:s}=t,{roleName:a}=t;return e.$$set=e=>{"userName"in e&&n(0,o=e.userName),"databaseName"in e&&n(1,s=e.databaseName),"roleName"in e&&n(2,a=e.roleName)},[o,s,a,r]}class Uoe extends ut{constructor(e){super(),ct(this,e,joe,Boe,f,{userName:0,databaseName:1,roleName:2})}}function Woe(e){let t,n;return t=new bx({props:{$$slots:{default:[Koe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};18&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Yoe(e){let t,n;return t=new bx({props:{$$slots:{default:[Goe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};17&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Koe(e){let t;return{c(){t=j(e[1])},m(e,n){H(e,t,n)},p(e,n){2&n&&Q(t,e[1])},d(e){e&&z(t)}}}function Goe(e){let t;return{c(){t=j(e[0])},m(e,n){H(e,t,n)},p(e,n){1&n&&Q(t,e[0])},d(e){e&&z(t)}}}function Xoe(e){let t,n,r,o;const s=[Yoe,Woe],a=[];function i(e,t){return"userName"===e[3]?0:"databaseName"===e[3]?1:-1}return~(t=i(e))&&(n=a[t]=s[t](e)),{c(){n&&n.c(),r=W()},m(e,n){~t&&a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?~t&&a[t].p(e,o):(n&&(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be()),~t?(n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){~t&&a[t].d(e),e&&z(r)}}}function Zoe(e){let t,n;return t=new Rx({props:{text:e[2]("remove_collaborator_name_from_database_question"),$$slots:{default:[Xoe,({slotName:e})=>({3:e}),({slotName:e})=>e?8:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};4&n&&(r.text=e[2]("remove_collaborator_name_from_database_question")),27&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Joe(e,t,n){let r;y(e,no,(e=>n(2,r=e)));let{userName:o}=t,{databaseName:s}=t;return e.$$set=e=>{"userName"in e&&n(0,o=e.userName),"databaseName"in e&&n(1,s=e.databaseName)},[o,s,r]}class Qoe extends ut{constructor(e){super(),ct(this,e,Joe,Zoe,f,{userName:0,databaseName:1})}}function ese(e){let t,n=e[0].userId+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1&r&&n!==(n=e[0].userId+"")&&Q(t,n)},d(e){e&&z(t)}}}function tse(e){let t,n,r,o,s,a=(e[3].email??"")+"";return{c(){t=q("div"),n=j(e[5]),r=U(),o=q("div"),s=j(a)},m(e,a){H(e,t,a),F(t,n),H(e,r,a),H(e,o,a),F(o,s)},p(e,t){32&t&&Q(n,e[5]),8&t&&a!==(a=(e[3].email??"")+"")&&Q(s,a)},d(e){e&&z(t),e&&z(r),e&&z(o)}}}function nse(e){let t;function n(e,t){return e[3]?tse:ese}let r=n(e),o=r(e);return{c(){t=q("div"),o.c()},m(e,n){H(e,t,n),o.m(t,null)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t,null)))},d(e){e&&z(t),o.d()}}}function rse(e){let t;return{c(){t=j(e[4])},m(e,n){H(e,t,n)},p(e,n){16&n&&Q(t,e[4])},d(e){e&&z(t)}}}function ose(e){let t,n=e[6].name+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){64&r&&n!==(n=e[6].name+"")&&Q(t,n)},d(e){e&&z(t)}}}function sse(e){let t,n;const r=[Xx,{size:"0.8em"}];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[ot(Xx),r[1]]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function ase(e){let t,n,r,o,s,a;function i(e,t){return e[6]?ose:rse}let l=i(e),c=l(e);return s=new Hu({props:{appearance:"secondary",disabled:!e[8],tooltip:e[11]("change_role"),$$slots:{default:[sse]},$$scope:{ctx:e}}}),s.$on("click",e[20]),{c(){t=q("div"),n=q("div"),c.c(),r=U(),o=q("div"),at(s.$$.fragment),X(o,"class","actions svelte-1397f3n"),X(t,"class","role-info svelte-1397f3n")},m(e,i){H(e,t,i),F(t,n),c.m(n,null),F(t,r),F(t,o),it(s,o,null),a=!0},p(e,t){l===(l=i(e))&&c?c.p(e,t):(c.d(1),c=l(e),c&&(c.c(),c.m(n,null)));const r={};256&t&&(r.disabled=!e[8]),2048&t&&(r.tooltip=e[11]("change_role")),4194304&t&&(r.$$scope={dirty:t,ctx:e}),s.$set(r)},i(e){a||(je(s.$$.fragment,e),a=!0)},o(e){Ue(s.$$.fragment,e),a=!1},d(e){e&&z(t),c.d(),lt(s)}}}function ise(e){let t,n;return t=new l$({props:{appearance:"danger",confirm:e[21],onClick:e[14],icon:Kx,label:"",tooltip:e[11]("remove_collaborator"),disabled:!e[8]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2146&n&&(r.confirm=e[21]),2048&n&&(r.tooltip=e[11]("remove_collaborator")),256&n&&(r.disabled=!e[8]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function lse(e){let t,n,r,o,s,a;return t=new moe({props:{$$slots:{default:[nse]},$$scope:{ctx:e}}}),r=new moe({props:{$$slots:{default:[ase]},$$scope:{ctx:e}}}),s=new moe({props:{$$slots:{default:[ise]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),at(s.$$.fragment)},m(e,i){it(t,e,i),H(e,n,i),it(r,e,i),H(e,o,i),it(s,e,i),a=!0},p(e,[n]){const o={};4194345&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const a={};4196693&n&&(a.$$scope={dirty:n,ctx:e}),r.$set(a);const i={};4196706&n&&(i.$$scope={dirty:n,ctx:e}),s.$set(i)},i(e){a||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),a=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),a=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),lt(s,e)}}}function cse(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,b=a,v=a,w=a;y(e,no,(e=>n(11,d=e))),e.$$.on_destroy.push((()=>b())),e.$$.on_destroy.push((()=>v())),e.$$.on_destroy.push((()=>w()));let{collaborator:_}=t,{database:x}=t,{onClickEditRole:C}=t,{onDelete:S}=t;const k=loe.get();y(e,k,(e=>n(16,$=e)));const M=jM();y(e,M,(e=>n(19,h=e)));return e.$$set=e=>{"collaborator"in e&&n(0,_=e.collaborator),"database"in e&&n(1,x=e.database),"onClickEditRole"in e&&n(2,C=e.onClickEditRole),"onDelete"in e&&n(15,S=e.onDelete)},e.$$.update=()=>{65536&e.$$.dirty&&(n(10,({configuredRoles:r,users:o}=$),r,(n(9,o),w(),w=g(o,(e=>n(18,f=e))),o)),v(),v=g(r,(e=>n(17,m=e)))),524288&e.$$.dirty&&n(8,({isMathesarAdmin:s}=h),s),262145&e.$$.dirty&&n(3,i=f.resolvedValue?.get(_.userId)),1&e.$$.dirty&&(n(7,l=_.configuredRoleId),b(),b=g(l,(e=>n(4,p=e)))),131088&e.$$.dirty&&n(6,c=m.resolvedValue?.get(p)),8&e.$$.dirty&&n(5,u=i?i.full_name||i.username:"")},[_,x,C,i,p,u,c,l,s,o,r,d,k,M,async function(){await $.deleteCollaborator(_),S(_),WS.success(d("collaborator_removed_successfully"))},S,$,m,f,h,()=>C(_),()=>KS({title:{component:Qoe,props:{userName:u,databaseName:x.displayName}},body:{component:Uoe,props:{userName:u,databaseName:x.displayName,roleName:c?.name}},proceedButton:{label:d("remove_collaborator")}})]}class use extends ut{constructor(e){super(),ct(this,e,cse,lse,f,{collaborator:0,database:1,onClickEditRole:2,onDelete:15})}}function dse(e){let t,n,r,o,s,a,i,l;return n=new Soe({props:{configuredRoleId:e[2],configuredRolesMap:e[1]}}),s=new QL({props:{form:e[4],catchErrors:!0,onCancel:e[12],onProceed:e[7],proceedButton:{label:e[6]("save")},cancelButton:{label:e[6]("cancel")}}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),o=q("div"),at(s.$$.fragment),X(o,"class","footer")},m(e,c){H(e,t,c),it(n,t,null),H(e,r,c),H(e,o,c),it(s,o,null),a=!0,i||(l=T(ux.call(null,o)),i=!0)},p(e,t){const r={};4&t&&(r.configuredRoleId=e[2]),2&t&&(r.configuredRolesMap=e[1]),n.$set(r);const o={};16&t&&(o.form=e[4]),1&t&&(o.onCancel=e[12]),64&t&&(o.proceedButton={label:e[6]("save")}),64&t&&(o.cancelButton={label:e[6]("cancel")}),s.$set(o)},i(e){a||(je(n.$$.fragment,e),je(s.$$.fragment,e),a=!0)},o(e){Ue(n.$$.fragment,e),Ue(s.$$.fragment,e),a=!1},d(e){e&&z(t),lt(n),e&&z(r),e&&z(o),lt(s),i=!1,l()}}}function $se(e){let t,n;return t=new bx({props:{$$slots:{default:[pse]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};65544&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function pse(e){let t;return{c(){t=j(e[3])},m(e,n){H(e,t,n)},p(e,n){8&n&&Q(t,e[3])},d(e){e&&z(t)}}}function mse(e){let t,n,r="userName"===e[15]&&$se(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"userName"===e[15]?r?(r.p(e,n),32768&n&&je(r,1)):(r=$se(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function fse(e){let t,n,r;return n=new Rx({props:{text:e[6]("edit_role_for_collaborator_value"),$$slots:{default:[mse,({slotName:e})=>({15:e}),({slotName:e})=>e?32768:0]},$$scope:{ctx:e}}}),{c(){t=q("span"),at(n.$$.fragment),X(t,"slot","title")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};64&t&&(r.text=e[6]("edit_role_for_collaborator_value")),98312&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function gse(e){let t,n;return t=new dv({props:{controller:e[0],$$slots:{title:[fse],default:[dse]},$$scope:{ctx:e}}}),t.$on("close",e[13]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.controller=e[0]),65631&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function hse(e,t,n){let r,o,s,i,l,c,u,d=a,$=a;y(e,no,(e=>n(6,l=e))),e.$$.on_destroy.push((()=>d())),e.$$.on_destroy.push((()=>$()));let{controller:p}=t,{collaborator:m}=t,{configuredRolesMap:f}=t,{usersMap:h}=t,{onUpdateRole:b}=t;return e.$$set=e=>{"controller"in e&&n(0,p=e.controller),"collaborator"in e&&n(8,m=e.collaborator),"configuredRolesMap"in e&&n(1,f=e.configuredRolesMap),"usersMap"in e&&n(9,h=e.usersMap),"onUpdateRole"in e&&n(10,b=e.onUpdateRole)},e.$$.update=()=>{256&e.$$.dirty&&(n(5,r=m.configuredRoleId),$(),$=g(r,(e=>n(11,u=e)))),2048&e.$$.dirty&&(n(2,o=oH(u)),d(),d=g(o,(e=>n(14,c=e)))),4&e.$$.dirty&&n(4,s=aH({configuredRoleId:o})),768&e.$$.dirty&&n(3,i=h.get(m.userId)?.username??String(m.userId))},[p,f,o,i,s,r,l,async function(){await m.setConfiguredRole(c),b(m),p.close(),WS.success(l("collaborator_role_updated_successfully"))},m,h,b,u,()=>{p.close()},()=>s.reset()]}class yse extends ut{constructor(e){super(),ct(this,e,hse,gse,f,{controller:0,collaborator:8,configuredRolesMap:1,usersMap:9,onUpdateRole:10})}}function bse(e,t,n){const r=e.slice();return r[24]=t[n],r}function vse(e){let t,n;return t=new hL({props:{errors:e[8]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};256&n&&(r.errors=e[8]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function wse(e){let t,n,r,o;const s=[Cse,xse],a=[];function i(e,t){return e[7].length>0?0:1}return n=i(e),r=a[n]=s[n](e),{c(){t=q("div"),r.c(),X(t,"class","collaborators-table svelte-1b9w8s")},m(e,r){H(e,t,r),a[n].m(t,null),o=!0},p(e,o){let l=n;n=i(e),n===l?a[n].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),r=a[n],r?r.p(e,o):(r=a[n]=s[n](e),r.c()),je(r,1),r.m(t,null))},i(e){o||(je(r),o=!0)},o(e){Ue(r),o=!1},d(e){e&&z(t),a[n].d()}}}function _se(e){let t,n;return t=new t$({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function xse(e){let t,n;return t=new cV({props:{fullWidth:!0,$$slots:{default:[Sse]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};134225920&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Cse(e){let t,n;return t=new doe({props:{$$slots:{default:[Ese]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};134228096&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Sse(e){let t,n=e[13]("no_collaborators_added")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8192&r&&n!==(n=e[13]("no_collaborators_added")+"")&&Q(t,n)},d(e){e&&z(t)}}}function kse(e){let t,n=e[13]("mathesar_user")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8192&r&&n!==(n=e[13]("mathesar_user")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Mse(e){let t,n=e[13]("role")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8192&r&&n!==(n=e[13]("role")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Ise(e){let t,n=e[13]("actions")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8192&r&&n!==(n=e[13]("actions")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Tse(e,t){let n,r,o;return r=new use({props:{database:t[11],collaborator:t[24],onClickEditRole:t[18],onDelete:t[19]}}),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};2048&n&&(o.database=t[11]),128&n&&(o.collaborator=t[24]),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function Ese(e){let t,n,r,o,s,a,i,l,c=[],u=new Map;t=new moe({props:{header:!0,$$slots:{default:[kse]},$$scope:{ctx:e}}}),r=new moe({props:{header:!0,$$slots:{default:[Mse]},$$scope:{ctx:e}}}),s=new moe({props:{header:!0,$$slots:{default:[Ise]},$$scope:{ctx:e}}});let d=e[7];const $=e=>e[24].id;for(let p=0;p<d.length;p+=1){let t=bse(e,d,p),n=$(t);u.set(n,c[p]=Tse(n,t))}return{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),at(s.$$.fragment),a=U();for(let e=0;e<c.length;e+=1)c[e].c();i=W()},m(e,u){it(t,e,u),H(e,n,u),it(r,e,u),H(e,o,u),it(s,e,u),H(e,a,u);for(let t=0;t<c.length;t+=1)c[t].m(e,u);H(e,i,u),l=!0},p(e,n){const o={};134225920&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const a={};134225920&n&&(a.$$scope={dirty:n,ctx:e}),r.$set(a);const l={};134225920&n&&(l.$$scope={dirty:n,ctx:e}),s.$set(l),788608&n&&(d=e[7],qe(),c=nt(c,n,$,1,e,d,u,i.parentNode,et,Tse,i,bse),Be())},i(e){if(!l){je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e);for(let e=0;e<d.length;e+=1)je(c[e]);l=!0}},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(s.$$.fragment,e);for(let t=0;t<c.length;t+=1)Ue(c[t]);l=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),lt(s,e),e&&z(a);for(let t=0;t<c.length;t+=1)c[t].d(e);e&&z(i)}}}function Dse(e){let t,n,r,o;const s=[_se,wse,vse],a=[];function i(e,t){return e[10]?0:e[9]?1:2}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function Ose(e){let t,n,r,o,s=e[13]("collaborators_help")+"";return r=new JP({props:{page:"collaborators"}}),{c(){t=j(s),n=U(),at(r.$$.fragment)},m(e,s){H(e,t,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){(!o||8192&n)&&s!==(s=e[13]("collaborators_help")+"")&&Q(t,s)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(t),e&&z(n),lt(r,e)}}}function Nse(e){let t,n,r,o,s=e[13]("collaborators")+"";return r=new H$({props:{$$slots:{default:[Ose]},$$scope:{ctx:e}}}),{c(){t=j(s),n=U(),at(r.$$.fragment)},m(e,s){H(e,t,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){(!o||8192&n)&&s!==(s=e[13]("collaborators")+"")&&Q(t,s);const a={};134225920&n&&(a.$$scope={dirty:n,ctx:e}),r.$set(a)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(t),e&&z(n),lt(r,e)}}}function Ase(e){let t,n;return t=new Hu({props:{appearance:"primary",disabled:!e[12],$$slots:{default:[Rse]},$$scope:{ctx:e}}}),t.$on("click",e[22]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4096&n&&(r.disabled=!e[12]),134225920&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Rse(e){let t,n,r,o,s,a=e[13]("add_collaborator")+"";const i=[jx];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return t=new Jd({props:c}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(a)},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),F(r,o),s=!0},p(e,n){const r=0&n?rt(i,[ot(jx)]):{};t.$set(r),(!s||8192&n)&&a!==(a=e[13]("add_collaborator")+"")&&Q(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function Fse(e){let t,n,r=e[9]&&Ase(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){e[9]?r?(r.p(e,n),512&n&&je(r,1)):(r=Ase(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function Pse(e){let t,n;return t=new Doe({props:{controller:e[15],usersMap:e[4].resolvedValue,configuredRolesMap:e[5].resolvedValue,collaboratorsMap:e[3].resolvedValue,onAdd:e[19]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.usersMap=e[4].resolvedValue),32&n&&(r.configuredRolesMap=e[5].resolvedValue),8&n&&(r.collaboratorsMap=e[3].resolvedValue),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Lse(e){let t,n;return t=new yse({props:{collaborator:e[6],usersMap:e[4].resolvedValue,controller:e[16],configuredRolesMap:e[5].resolvedValue,onUpdateRole:e[19]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.collaborator=e[6]),16&n&&(r.usersMap=e[4].resolvedValue),32&n&&(r.configuredRolesMap=e[5].resolvedValue),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Hse(e){let t,n,r,o,s;t=new woe({props:{$$slots:{actions:[Fse],title:[Nse],default:[Dse]},$$scope:{ctx:e}}});let a=e[4].resolvedValue&&e[5].resolvedValue&&e[3].resolvedValue&&Pse(e),i=e[5].resolvedValue&&e[4].resolvedValue&&e[6]&&Lse(e);return{c(){at(t.$$.fragment),n=U(),a&&a.c(),r=U(),i&&i.c(),o=W()},m(e,l){it(t,e,l),H(e,n,l),a&&a.m(e,l),H(e,r,l),i&&i.m(e,l),H(e,o,l),s=!0},p(e,[n]){const s={};134233984&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s),e[4].resolvedValue&&e[5].resolvedValue&&e[3].resolvedValue?a?(a.p(e,n),56&n&&je(a,1)):(a=Pse(e),a.c(),je(a,1),a.m(r.parentNode,r)):a&&(qe(),Ue(a,1,1,(()=>{a=null})),Be()),e[5].resolvedValue&&e[4].resolvedValue&&e[6]?i?(i.p(e,n),112&n&&je(i,1)):(i=Lse(e),i.c(),je(i,1),i.m(o.parentNode,o)):i&&(qe(),Ue(i,1,1,(()=>{i=null})),Be())},i(e){s||(je(t.$$.fragment,e),je(a),je(i),s=!0)},o(e){Ue(t.$$.fragment,e),Ue(a),Ue(i),s=!1},d(e){lt(t,e),e&&z(n),a&&a.d(e),e&&z(r),i&&i.d(e),e&&z(o)}}}function zse(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,b,v,w,_=a,x=a,C=a;y(e,no,(e=>n(13,w=e))),e.$$.on_destroy.push((()=>_())),e.$$.on_destroy.push((()=>x())),e.$$.on_destroy.push((()=>C()));const S=loe.get();y(e,S,(e=>n(21,v=e)));const k=US.spawnModalController(),M=US.spawnModalController(),I=jM();let T;y(e,I,(e=>n(20,m=e)));return e.$$.update=()=>{1048576&e.$$.dirty&&n(12,({isMathesarAdmin:r}=m),r),2097152&e.$$.dirty&&n(11,({database:o,configuredRoles:s,collaborators:i,users:l,databaseRouteContext:c}=v),o,(n(1,s),C(),C=g(s,(e=>n(5,b=e))),s),(n(2,i),_(),_=g(i,(e=>n(3,f=e))),i),(n(0,l),x(),x=g(l,(e=>n(4,h=e))),l)),6&e.$$.dirty&&qF.runBatchConservatively([i.batchRunner(),s.batchRunner()]),1&e.$$.dirty&&l.runConservatively(),56&e.$$.dirty&&n(10,u=f.isLoading||b.isLoading||h.isLoading),56&e.$$.dirty&&n(9,d=f.isOk&&b.isOk&&h.isOk),56&e.$$.dirty&&n(8,$=[f.error,b.error,h.error].filter((e=>_o(e)))),8&e.$$.dirty&&n(7,p=[...f.resolvedValue?.values()??[]])},[l,s,i,f,h,b,T,p,$,d,u,o,r,w,S,k,M,I,function(e){n(6,T=e),M.open()},function(e){e.userId===m.id&&(qF.runBatch([c.underlyingDatabase.batchRunner(),c.roles.batchRunner()]),cP())},m,v,()=>k.open()]}class Vse extends ut{constructor(e){super(),ct(this,e,zse,Hse,f,{})}}function qse(e){let t,n,r;const o=[SS,{label:e[0]("yes")}];let s={};for(let a=0;a<o.length;a+=1)s=l(s,o[a]);return n=new Jd({props:s}),{c(){t=q("span"),at(n.$$.fragment),X(t,"class","yes svelte-1ukgwul")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,[t]){const r=1&t?rt(o,[0&t&&ot(SS),1&t&&{label:e[0]("yes")}]):{};n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function Bse(e,t,n){let r;return y(e,no,(e=>n(0,r=e))),[r]}class jse extends ut{constructor(e){super(),ct(this,e,Bse,qse,f,{})}}function Use(e){let t,n=e[3]("role_configured_all_databases_in_server",{values:{server:e[2].server.getConnectionString()}})+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){12&r&&n!==(n=e[3]("role_configured_all_databases_in_server",{values:{server:e[2].server.getConnectionString()}})+"")&&Q(t,n)},d(e){e&&z(t)}}}function Wse(e){let t,n;return t=new rQ({props:{$$slots:{default:[Use]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8204&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Yse(e){let t,n,r,o,s,a,i,l,c,u;return n=new WL({props:{label:e[3]("password"),help:e[3]("password_help"),layout:"stacked",field:e[5],input:{component:Qf,props:{autocomplete:"off"}}}}),o=new ML({props:{$$slots:{default:[Wse]},$$scope:{ctx:e}}}),i=new QL({props:{form:e[6],catchErrors:!0,onCancel:e[9],onProceed:e[7],proceedButton:{label:e[3]("save_role")},cancelButton:{label:e[3]("cancel")}}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),at(o.$$.fragment),s=U(),a=q("div"),at(i.$$.fragment),X(a,"class","footer")},m(e,d){H(e,t,d),it(n,t,null),F(t,r),it(o,t,null),H(e,s,d),H(e,a,d),it(i,a,null),l=!0,c||(u=T(ux.call(null,a)),c=!0)},p(e,t){const r={};8&t&&(r.label=e[3]("password")),8&t&&(r.help=e[3]("password_help")),n.$set(r);const s={};8204&t&&(s.$$scope={dirty:t,ctx:e}),o.$set(s);const a={};1&t&&(a.onCancel=e[9]),8&t&&(a.proceedButton={label:e[3]("save_role")}),8&t&&(a.cancelButton={label:e[3]("cancel")}),i.$set(a)},i(e){l||(je(n.$$.fragment,e),je(o.$$.fragment,e),je(i.$$.fragment,e),l=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),Ue(i.$$.fragment,e),l=!1},d(e){e&&z(t),lt(n),lt(o),e&&z(s),e&&z(a),lt(i),c=!1,u()}}}function Kse(e){let t,n;return t=new bx({props:{$$slots:{default:[Gse]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8194&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Gse(e){let t,n=e[1].name+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){2&r&&n!==(n=e[1].name+"")&&Q(t,n)},d(e){e&&z(t)}}}function Xse(e){let t,n,r="role"===e[12]&&Kse(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"role"===e[12]?r?(r.p(e,n),4096&n&&je(r,1)):(r=Kse(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function Zse(e){let t,n,r;return n=new Rx({props:{text:e[3]("update_stored_password_for_role"),$$slots:{default:[Xse,({slotName:e})=>({12:e}),({slotName:e})=>e?4096:0]},$$scope:{ctx:e}}}),{c(){t=q("span"),at(n.$$.fragment),X(t,"slot","title")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};8&t&&(r.text=e[3]("update_stored_password_for_role")),12290&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function Jse(e){let t,n;return t=new dv({props:{controller:e[0],$$slots:{title:[Zse],default:[Yse]},$$scope:{ctx:e}}}),t.$on("close",e[10]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.controller=e[0]),8207&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Qse(e,t,n){let r,o,s,a;y(e,no,(e=>n(3,o=e)));const i=loe.get();y(e,i,(e=>n(8,a=e)));let{controller:l}=t,{combinedLoginRole:c}=t;const u=rH("");y(e,u,(e=>n(11,s=e)));const d=aH({password:u});return e.$$set=e=>{"controller"in e&&n(0,l=e.controller),"combinedLoginRole"in e&&n(1,c=e.combinedLoginRole)},e.$$.update=()=>{256&e.$$.dirty&&n(2,({database:r}=a),r)},[l,c,r,o,i,u,d,async function(){await a.configureRole(c,s),l.close(),c.configuredRole?WS.success(o("role_configured_successfully_new_password")):WS.success(o("role_configured_successfully"))},a,()=>{l.close()},()=>d.reset()]}class eae extends ut{constructor(e){super(),ct(this,e,Qse,Jse,f,{controller:0,combinedLoginRole:1})}}function tae(e,t,n){const r=e.slice();return r[23]=t[n],r}function nae(e){let t,n,r,o=e[8].length>0&&oae(e),s=e[3].length&&gae(e);return{c(){o&&o.c(),t=U(),s&&s.c(),n=W()},m(e,a){o&&o.m(e,a),H(e,t,a),s&&s.m(e,a),H(e,n,a),r=!0},p(e,r){e[8].length>0?o?(o.p(e,r),256&r&&je(o,1)):(o=oae(e),o.c(),je(o,1),o.m(t.parentNode,t)):o&&(qe(),Ue(o,1,1,(()=>{o=null})),Be()),e[3].length?s?(s.p(e,r),8&r&&je(s,1)):(s=gae(e),s.c(),je(s,1),s.m(n.parentNode,n)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be())},i(e){r||(je(o),je(s),r=!0)},o(e){Ue(o),Ue(s),r=!1},d(e){o&&o.d(e),e&&z(t),s&&s.d(e),e&&z(n)}}}function rae(e){let t,n;return t=new t$({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function oae(e){let t,n,r;return n=new doe({props:{$$slots:{default:[fae]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","role-configuration-table svelte-1dzpq7j")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};67109312&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function sae(e){let t,n=e[7]("role")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){128&r&&n!==(n=e[7]("role")+"")&&Q(t,n)},d(e){e&&z(t)}}}function aae(e){let t,n=e[7]("stored_password")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){128&r&&n!==(n=e[7]("stored_password")+"")&&Q(t,n)},d(e){e&&z(t)}}}function iae(e){let t,n,r=e[23].name+"";return{c(){t=q("span"),n=j(r),X(t,"class","role-name")},m(e,r){H(e,t,r),F(t,n)},p(e,t){256&t&&r!==(r=e[23].name+"")&&Q(n,r)},d(e){e&&z(t)}}}function lae(e){let t,n;return t=new jse({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function cae(e){let t,n;return t=new Hu({props:{appearance:"secondary",disabled:!e[6],tooltip:e[7]("store_a_password"),$$slots:{default:[dae]},$$scope:{ctx:e}}}),t.$on("click",(function(){return e[22](e[23])})),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(n,r){e=n;const o={};64&r&&(o.disabled=!e[6]),128&r&&(o.tooltip=e[7]("store_a_password")),67108864&r&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function uae(e){let t,n,r,o;function s(){return e[20](e[23])}function a(){return e[21](e[23])}return t=new Hu({props:{appearance:"secondary",disabled:!e[6],tooltip:e[7]("update_stored_password"),$$slots:{default:[$ae]},$$scope:{ctx:e}}}),t.$on("click",(function(){return e[19](e[23])})),r=new l$({props:{appearance:"danger",disabled:!e[6],confirm:s,label:"",tooltip:e[7]("remove_stored_password"),icon:Kx,onClick:a}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,s){it(t,e,s),H(e,n,s),it(r,e,s),o=!0},p(n,o){e=n;const i={};64&o&&(i.disabled=!e[6]),128&o&&(i.tooltip=e[7]("update_stored_password")),67108864&o&&(i.$$scope={dirty:o,ctx:e}),t.$set(i);const l={};64&o&&(l.disabled=!e[6]),384&o&&(l.confirm=s),128&o&&(l.tooltip=e[7]("remove_stored_password")),256&o&&(l.onClick=a),r.$set(l)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function dae(e){let t,n;const r=[jx,{size:"0.8em"}];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[ot(jx),r[1]]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function $ae(e){let t,n;const r=[Xx,{size:"0.8em"}];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[ot(Xx),r[1]]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function pae(e){let t,n,r,o,s,a,i,l,c=e[23].configuredRole&&lae();const u=[uae,cae],d=[];function $(e,t){return e[23].configuredRole?0:e[23].role?1:-1}return~(s=$(e))&&(a=d[s]=u[s](e)),{c(){t=q("div"),n=q("div"),c&&c.c(),r=U(),o=q("div"),a&&a.c(),i=U(),X(n,"class","svelte-1dzpq7j"),X(o,"class","svelte-1dzpq7j"),X(t,"class","password-saved-cell svelte-1dzpq7j")},m(e,a){H(e,t,a),F(t,n),c&&c.m(n,null),F(t,r),F(t,o),~s&&d[s].m(o,null),H(e,i,a),l=!0},p(e,t){e[23].configuredRole?c?256&t&&je(c,1):(c=lae(),c.c(),je(c,1),c.m(n,null)):c&&(qe(),Ue(c,1,1,(()=>{c=null})),Be());let r=s;s=$(e),s===r?~s&&d[s].p(e,t):(a&&(qe(),Ue(d[r],1,1,(()=>{d[r]=null})),Be()),~s?(a=d[s],a?a.p(e,t):(a=d[s]=u[s](e),a.c()),je(a,1),a.m(o,null)):a=null)},i(e){l||(je(c),je(a),l=!0)},o(e){Ue(c),Ue(a),l=!1},d(e){e&&z(t),c&&c.d(),~s&&d[s].d(),e&&z(i)}}}function mae(e,t){let n,r,o,s,a;return r=new moe({props:{$$slots:{default:[iae]},$$scope:{ctx:t}}}),s=new moe({props:{$$slots:{default:[pae]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=W(),at(r.$$.fragment),o=U(),at(s.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),H(e,o,t),it(s,e,t),a=!0},p(e,n){t=e;const o={};67109120&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o);const a={};67109312&n&&(a.$$scope={dirty:n,ctx:t}),s.$set(a)},i(e){a||(je(r.$$.fragment,e),je(s.$$.fragment,e),a=!0)},o(e){Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),a=!1},d(e){e&&z(n),lt(r,e),e&&z(o),lt(s,e)}}}function fae(e){let t,n,r,o,s,a,i=[],l=new Map;t=new moe({props:{header:!0,$$slots:{default:[sae]},$$scope:{ctx:e}}}),r=new moe({props:{header:!0,$$slots:{default:[aae]},$$scope:{ctx:e}}});let c=e[8];const u=e=>e[23].name;for(let d=0;d<c.length;d+=1){let t=tae(e,c,d),n=u(t);l.set(n,i[d]=mae(n,t))}return{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U();for(let e=0;e<i.length;e+=1)i[e].c();s=W()},m(e,l){it(t,e,l),H(e,n,l),it(r,e,l),H(e,o,l);for(let t=0;t<i.length;t+=1)i[t].m(e,l);H(e,s,l),a=!0},p(e,n){const o={};67108992&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const a={};67108992&n&&(a.$$scope={dirty:n,ctx:e}),r.$set(a),12736&n&&(c=e[8],qe(),i=nt(i,n,u,1,e,c,l,s.parentNode,et,mae,s,tae),Be())},i(e){if(!a){je(t.$$.fragment,e),je(r.$$.fragment,e);for(let e=0;e<c.length;e+=1)je(i[e]);a=!0}},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e);for(let t=0;t<i.length;t+=1)Ue(i[t]);a=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o);for(let t=0;t<i.length;t+=1)i[t].d(e);e&&z(s)}}}function gae(e){let t,n;return t=new hL({props:{fullWidth:!0,errors:e[3]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.errors=e[3]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function hae(e){let t,n,r,o;const s=[rae,nae],a=[];function i(e,t){return e[4]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function yae(e){let t,n,r,o,s=e[7]("stored_role_passwords_help")+"";return r=new JP({props:{page:"storedRoles"}}),{c(){t=j(s),n=U(),at(r.$$.fragment)},m(e,s){H(e,t,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){(!o||128&n)&&s!==(s=e[7]("stored_role_passwords_help")+"")&&Q(t,s)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(t),e&&z(n),lt(r,e)}}}function bae(e){let t,n,r,o,s=e[7]("stored_role_passwords")+"";return r=new H$({props:{$$slots:{default:[yae]},$$scope:{ctx:e}}}),{c(){t=j(s),n=U(),at(r.$$.fragment)},m(e,s){H(e,t,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){(!o||128&n)&&s!==(s=e[7]("stored_role_passwords")+"")&&Q(t,s);const a={};67108992&n&&(a.$$scope={dirty:n,ctx:e}),r.$set(a)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(t),e&&z(n),lt(r,e)}}}function vae(e){let t,n;return t=new eae({props:{controller:e[10],combinedLoginRole:e[2]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.combinedLoginRole=e[2]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function wae(e){let t,n,r,o;t=new woe({props:{$$slots:{title:[bae],default:[hae]},$$scope:{ctx:e}}});let s=e[2]&&vae(e);return{c(){at(t.$$.fragment),n=U(),s&&s.c(),r=W()},m(e,a){it(t,e,a),H(e,n,a),s&&s.m(e,a),H(e,r,a),o=!0},p(e,[n]){const o={};67109336&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o),e[2]?s?(s.p(e,n),4&n&&je(s,1)):(s=vae(e),s.c(),je(s,1),s.m(r.parentNode,r)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be())},i(e){o||(je(t.$$.fragment,e),je(s),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(s),o=!1},d(e){lt(t,e),e&&z(n),s&&s.d(e),e&&z(r)}}}function _ae(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,b=a,v=a,w=a;y(e,no,(e=>n(7,d=e))),e.$$.on_destroy.push((()=>b())),e.$$.on_destroy.push((()=>v())),e.$$.on_destroy.push((()=>w()));const _=loe.get();y(e,_,(e=>n(15,$=e)));const x=US.spawnModalController(),C=jM();let S;function k(e){n(2,S=e),x.open()}async function M(e){if(e.configuredRole)try{await $.removeConfiguredRole(e.configuredRole),WS.success(d("stored_password_removed"))}catch(t){WS.error(ck(t))}}y(e,C,(e=>n(18,f=e)));return e.$$.update=()=>{262144&e.$$.dirty&&n(6,({isMathesarAdmin:r}=f),r),32768&e.$$.dirty&&n(14,({databaseRouteContext:o,configuredRoles:s,combinedLoginRoles:i}=$),o,(n(1,s),v(),v=g(s,(e=>n(17,m=e))),s),(n(5,i),w(),w=g(i,(e=>n(8,h=e))),i)),16384&e.$$.dirty&&(n(0,({roles:l}=o),l),b(),b=g(l,(e=>n(16,p=e)))),3&e.$$.dirty&&qF.runBatchConservatively([s.batchRunner(),l.batchRunner()]),196608&e.$$.dirty&&n(4,c=m.isLoading||p.isLoading),196608&e.$$.dirty&&n(3,u=[m.error,p.error].filter(_o))},[l,s,S,u,c,i,r,d,h,_,x,C,k,M,o,$,p,m,f,e=>k(e),e=>KS({title:{component:Vx,props:{identifier:e.name,wrappingString:d("remove_stored_password_for_identifier")}},body:d("remove_stored_password_help",{values:{server:e.configuredRole?.database.server.getConnectionString()}}),proceedButton:{label:d("remove_stored_password"),icon:Kx}}),e=>M(e),e=>k(e)]}class xae extends ut{constructor(e){super(),ct(this,e,_ae,wae,f,{})}}function Cae(e){let t,n,r;function o(t){e[10](t)}let s={};return void 0!==e[1]&&(s.checked=e[1]),t=new x$({props:s}),Ce.push((()=>st(t,"checked",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};!n&&2&r&&(n=!0,o.checked=e[1],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function Sae(e){let t,n,r,o,s=e[2]("roles_login_help")+"";return r=new JP({props:{page:"rolesLogin"}}),{c(){t=j(s),n=U(),at(r.$$.fragment)},m(e,s){H(e,t,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){(!o||4&n)&&s!==(s=e[2]("roles_login_help")+"")&&Q(t,s)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(t),e&&z(n),lt(r,e)}}}function kae(e){let t,n,r,o,s,a=Pj+"";return o=new H$({props:{$$slots:{default:[Sae]},$$scope:{ctx:e}}}),{c(){t=q("div"),n=j(a),r=U(),at(o.$$.fragment),X(t,"slot","label")},m(e,a){H(e,t,a),F(t,n),F(t,r),it(o,t,null),s=!0},p(e,t){const n={};65540&t&&(n.$$scope={dirty:t,ctx:e}),o.$set(n)},i(e){s||(je(o.$$.fragment,e),s=!0)},o(e){Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(o)}}}function Mae(e){let t,n;return t=new J$({props:{layout:"inline-input-first",$$slots:{label:[kae],default:[Cae]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};65542&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Iae(e){let t,n,r,o,s,a;return t=new WL({props:{label:e[2]("password"),layout:"stacked",field:e[6],input:{component:Qf,props:{autocomplete:"new-password"}}}}),r=new WL({props:{label:e[2]("confirm_password"),layout:"stacked",field:e[7],input:{component:Qf,props:{autocomplete:"new-password"}}}}),s=new ML({props:{$$slots:{default:[Eae]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),at(s.$$.fragment)},m(e,i){it(t,e,i),H(e,n,i),it(r,e,i),H(e,o,i),it(s,e,i),a=!0},p(e,n){const o={};4&n&&(o.label=e[2]("password")),t.$set(o);const a={};4&n&&(a.label=e[2]("confirm_password")),r.$set(a);const i={};65540&n&&(i.$$scope={dirty:n,ctx:e}),s.$set(i)},i(e){a||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),a=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),a=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),lt(s,e)}}}function Tae(e){let t,n=e[2]("new_login_role_info_box")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){4&r&&n!==(n=e[2]("new_login_role_info_box")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Eae(e){let t,n;return t=new rQ({props:{$$slots:{default:[Tae]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};65540&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Dae(e){let t,n,r,o,s,a,i,l,c,u,d;n=new WL({props:{label:e[2]("role_name"),layout:"stacked",field:e[5]}}),o=new ML({props:{$$slots:{default:[Mae]},$$scope:{ctx:e}}});let $=e[1]&&Iae(e);return l=new QL({props:{form:e[3],catchErrors:!0,onCancel:e[11],onProceed:e[8],proceedButton:{label:e[2]("create_role")},cancelButton:{label:e[2]("cancel")}}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),at(o.$$.fragment),s=U(),$&&$.c(),a=U(),i=q("div"),at(l.$$.fragment),X(i,"class","footer")},m(e,p){H(e,t,p),it(n,t,null),F(t,r),it(o,t,null),F(t,s),$&&$.m(t,null),H(e,a,p),H(e,i,p),it(l,i,null),c=!0,u||(d=T(ux.call(null,i)),u=!0)},p(e,r){const s={};4&r&&(s.label=e[2]("role_name")),n.$set(s);const a={};65542&r&&(a.$$scope={dirty:r,ctx:e}),o.$set(a),e[1]?$?($.p(e,r),2&r&&je($,1)):($=Iae(e),$.c(),je($,1),$.m(t,null)):$&&(qe(),Ue($,1,1,(()=>{$=null})),Be());const i={};8&r&&(i.form=e[3]),9&r&&(i.onCancel=e[11]),4&r&&(i.proceedButton={label:e[2]("create_role")}),4&r&&(i.cancelButton={label:e[2]("cancel")}),l.$set(i)},i(e){c||(je(n.$$.fragment,e),je(o.$$.fragment,e),je($),je(l.$$.fragment,e),c=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),Ue($),Ue(l.$$.fragment,e),c=!1},d(e){e&&z(t),lt(n),lt(o),$&&$.d(),e&&z(a),e&&z(i),lt(l),u=!1,d()}}}function Oae(e){let t,n,r=e[2]("create_role")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","title")},m(e,r){H(e,t,r),F(t,n)},p(e,t){4&t&&r!==(r=e[2]("create_role")+"")&&Q(n,r)},d(e){e&&z(t)}}}function Nae(e){let t,n;return t=new dv({props:{controller:e[0],$$slots:{title:[Oae],default:[Dae]},$$scope:{ctx:e}}}),t.$on("close",e[12]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.controller=e[0]),65551&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Aae(e,t,n){let r,o,s,a,i,l;y(e,no,(e=>n(2,s=e)));const c=loe.get();y(e,c,(e=>n(14,i=e)));let{controller:u}=t;const d=oH("");y(e,d,(e=>n(13,a=e)));const $=oH("");y(e,$,(e=>n(15,l=e)));const p=oH("");let m=!0;return e.$$set=e=>{"controller"in e&&n(0,u=e.controller)},e.$$.update=()=>{2&e.$$.dirty&&n(9,r=(()=>{const e={roleName:d};return m?{...e,password:$,confirmPassword:p}:e})()),516&e.$$.dirty&&n(3,o=aH(r,[EP([$,p],s("passwords_do_not_match"))])),2&e.$$.dirty&&($.reset(),p.reset())},[u,m,s,o,c,d,$,p,async function(){m?await i.databaseRouteContext.addRole({roleName:a,login:!0,password:l}):await i.databaseRouteContext.addRole({roleName:a,login:!1}),WS.success(s("role_created_successfully")),u.close()},r,function(e){m=e,n(1,m)},()=>{o.reset(),u.close()},()=>o.reset()]}class Rae extends ut{constructor(e){super(),ct(this,e,Aae,Nae,f,{controller:0})}}function Fae(e,t,n){const r=e.slice();return r[22]=t[n],r}function Pae(e,t,n){const r=e.slice();return r[25]=t[n],r}function Lae(e){let t,n,r=e[25].name+"";return{c(){t=j(r),n=U()},m(e,r){H(e,t,r),H(e,n,r)},p(e,n){16&n&&r!==(r=e[25].name+"")&&Q(t,r)},d(e){e&&z(t),e&&z(n)}}}function Hae(e,t){let n,r,o;return r=new nw({props:{disabled:t[9].has(t[25].oid),$$slots:{default:[Lae]},$$scope:{ctx:t}}}),r.$on("click",(function(){return t[17](t[25])})),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};528&n&&(o.disabled=t[9].has(t[25].oid)),268435472&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function zae(e){let t,n,r=[],o=new Map,s=e[4];const a=e=>e[25].oid;for(let i=0;i<s.length;i+=1){let t=Pae(e,s,i),n=a(t);o.set(n,r[i]=Hae(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=W()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);H(e,t,o),n=!0},p(e,n){1552&n&&(s=e[4],qe(),r=nt(r,n,a,1,e,s,o,t.parentNode,et,Hae,t,Pae),Be())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ue(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&z(t)}}}function Vae(e){let t,n,r;return n=new cV({props:{$$slots:{default:[qae]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","changes-warning svelte-1tc14qm")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};268435712&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function qae(e){let t,n=e[8]("click_save_button_to_save_changes")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){256&r&&n!==(n=e[8]("click_save_button_to_save_changes")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Bae(e){let t,n;return t=new rQ({props:{fullWidth:!0,$$slots:{default:[Uae]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};268435712&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function jae(e){let t,n,r=[],o=new Map,s=[...e[9]];const a=e=>e[22];for(let i=0;i<s.length;i+=1){let t=Fae(e,s,i),n=a(t);o.set(n,r[i]=Yae(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=W()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);H(e,t,o),n=!0},p(e,n){2564&n&&(s=[...e[9]],qe(),r=nt(r,n,a,1,e,s,o,t.parentNode,et,Yae,t,Fae),Be())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ue(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&z(t)}}}function Uae(e){let t,n=e[8]("role_has_no_child_roles")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){256&r&&n!==(n=e[8]("role_has_no_child_roles")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Wae(e){let t,n;const r=[Kx,{size:"0.8em"}];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[ot(Kx),r[1]]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Yae(e,t){let n,r,o,s,a,i,l,c,u=(t[2].get(t[22])?.name??t[22])+"";return i=new Hu({props:{appearance:"secondary",$$slots:{default:[Wae]},$$scope:{ctx:t}}}),i.$on("click",(function(){return t[18](t[22])})),{key:e,first:null,c(){n=q("div"),r=q("span"),o=j(u),s=U(),a=q("span"),at(i.$$.fragment),l=U(),X(a,"class","remove svelte-1tc14qm"),X(n,"class","member svelte-1tc14qm"),this.first=n},m(e,t){H(e,n,t),F(n,r),F(r,o),F(n,s),F(n,a),it(i,a,null),F(n,l),c=!0},p(e,n){t=e,(!c||516&n)&&u!==(u=(t[2].get(t[22])?.name??t[22])+"")&&Q(o,u);const r={};268435456&n&&(r.$$scope={dirty:n,ctx:t}),i.$set(r)},i(e){c||(je(i.$$.fragment,e),c=!0)},o(e){Ue(i.$$.fragment,e),c=!1},d(e){e&&z(n),lt(i)}}}function Kae(e){let t,n,r,o,s,a,i,l,c,u,p,m,f,g,h;r=new zh({props:{label:e[8]("add_child_roles"),triggerAppearance:"secondary",$$slots:{default:[zae]},$$scope:{ctx:e}}});let y=e[5]&&Vae(e);const b=[jae,Bae],v=[];function w(e,t){return e[9].size>0?0:1}return i=w(e),l=v[i]=b[i](e),m=new QL({props:{form:e[6],catchErrors:!0,canProceed:e[5],onCancel:e[19],onProceed:e[12],proceedButton:{label:e[8]("save")},cancelButton:{label:e[8]("cancel")}}}),{c(){t=q("div"),n=q("div"),at(r.$$.fragment),o=U(),y&&y.c(),s=U(),a=q("div"),l.c(),u=U(),p=q("div"),at(m.$$.fragment),X(n,"class","menu-section svelte-1tc14qm"),X(a,"class","member-list svelte-1tc14qm"),X(p,"class","footer")},m(l,d){H(l,t,d),F(t,n),it(r,n,null),F(n,o),y&&y.m(n,null),F(t,s),F(t,a),v[i].m(a,null),H(l,u,d),H(l,p,d),it(m,p,null),f=!0,g||(h=[T(c=X3.call(null,a,{scrollHint:e[8]("child_role_new_items_scroll_hint")})),T(ux.call(null,p))],g=!0)},p(e,t){const o={};256&t&&(o.label=e[8]("add_child_roles")),268435984&t&&(o.$$scope={dirty:t,ctx:e}),r.$set(o),e[5]?y?(y.p(e,t),32&t&&je(y,1)):(y=Vae(e),y.c(),je(y,1),y.m(n,null)):y&&(qe(),Ue(y,1,1,(()=>{y=null})),Be());let s=i;i=w(e),i===s?v[i].p(e,t):(qe(),Ue(v[s],1,1,(()=>{v[s]=null})),Be(),l=v[i],l?l.p(e,t):(l=v[i]=b[i](e),l.c()),je(l,1),l.m(a,null)),c&&$(c.update)&&256&t&&c.update.call(null,{scrollHint:e[8]("child_role_new_items_scroll_hint")});const u={};64&t&&(u.form=e[6]),32&t&&(u.canProceed=e[5]),65&t&&(u.onCancel=e[19]),256&t&&(u.proceedButton={label:e[8]("save")}),256&t&&(u.cancelButton={label:e[8]("cancel")}),m.$set(u)},i(e){f||(je(r.$$.fragment,e),je(y),je(l),je(m.$$.fragment,e),f=!0)},o(e){Ue(r.$$.fragment,e),Ue(y),Ue(l),Ue(m.$$.fragment,e),f=!1},d(e){e&&z(t),lt(r),y&&y.d(),v[i].d(),e&&z(u),e&&z(p),lt(m),g=!1,d(h)}}}function Gae(e){let t,n;return t=new bx({props:{$$slots:{default:[Xae]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};268435458&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Xae(e){let t,n=e[1].name+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){2&r&&n!==(n=e[1].name+"")&&Q(t,n)},d(e){e&&z(t)}}}function Zae(e){let t,n,r="parent"===e[21]&&Gae(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"parent"===e[21]?r?(r.p(e,n),2097152&n&&je(r,1)):(r=Gae(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function Jae(e){let t,n,r;return n=new Rx({props:{text:e[8]("edit_child_roles_for_parent"),$$slots:{default:[Zae,({slotName:e})=>({21:e}),({slotName:e})=>e?2097152:0]},$$scope:{ctx:e}}}),{c(){t=q("span"),at(n.$$.fragment),X(t,"slot","title")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};256&t&&(r.text=e[8]("edit_child_roles_for_parent")),270532610&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function Qae(e){let t,n;return t=new dv({props:{controller:e[0],$$slots:{title:[Jae],default:[Kae]},$$scope:{ctx:e}}}),t.$on("close",e[20]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.controller=e[0]),268436343&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function eie(e,t,n){let r,o,s,i,l,c,u,d,$,p,m=a,f=a,h=a;y(e,no,(e=>n(8,u=e))),e.$$.on_destroy.push((()=>m())),e.$$.on_destroy.push((()=>f())),e.$$.on_destroy.push((()=>h()));let{controller:b}=t,{parentRole:v}=t,{rolesMap:w}=t,{onSave:_}=t;function x(e){s.update((t=>t.with(e)))}function C(e){s.update((t=>t.without(e)))}return e.$$set=e=>{"controller"in e&&n(0,b=e.controller),"parentRole"in e&&n(1,v=e.parentRole),"rolesMap"in e&&n(2,w=e.rolesMap),"onSave"in e&&n(13,_=e.onSave)},e.$$.update=()=>{2&e.$$.dirty&&(n(7,r=v.members),h(),h=g(r,(e=>n(16,p=e)))),65536&e.$$.dirty&&n(14,o=new Set([...p.keys()])),16384&e.$$.dirty&&(n(3,s=oH(new so(o))),m(),m=g(s,(e=>n(9,d=e)))),8&e.$$.dirty&&(n(6,i=aH({memberOids:s})),f(),f=g(i,(e=>n(15,$=e)))),32768&e.$$.dirty&&n(5,({hasChanges:l}=$),l),6&e.$$.dirty&&n(4,c=[...w.values()].filter((e=>e.oid!==v.oid)))},[b,v,w,s,c,l,i,r,u,d,x,C,async function(){await v.setMembers(new Set(d)),_({parentRole:v}),b.close(),WS.success(u("child_roles_saved_successfully"))},_,o,$,p,e=>x(e.oid),e=>C(e),()=>{i.reset(),b.close()},()=>i.reset()]}class tie extends ut{constructor(e){super(),ct(this,e,eie,Qae,f,{controller:0,parentRole:1,rolesMap:2,onSave:13})}}function nie(e,t,n){const r=e.slice();return r[15]=t[n],r}function rie(e){let t,n=e[0].name+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1&r&&n!==(n=e[0].name+"")&&Q(t,n)},d(e){e&&z(t)}}}function oie(e){let t,n;return t=new jse({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function sie(e){let t,n,r=e[0].login&&oie();return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){e[0].login?r?1&n&&je(r,1):(r=oie(),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function aie(e,t){let n,r,o=t[15]+"";return{key:e,first:null,c(){n=q("li"),r=j(o),this.first=n},m(e,t){H(e,n,t),F(n,r)},p(e,n){t=e,4&n&&o!==(o=t[15]+"")&&Q(r,o)},d(e){e&&z(n)}}}function iie(e){let t,n;const r=[Xx,{size:"0.8em"}];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[ot(Xx),r[1]]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function lie(e){let t,n,r=e[0].name+"";return{c(){t=q("b"),n=j(r)},m(e,r){H(e,t,r),F(t,n)},p(e,t){1&t&&r!==(r=e[0].name+"")&&Q(n,r)},d(e){e&&z(t)}}}function cie(e){let t,n="parent"===e[14]&&lie(e);return{c(){n&&n.c(),t=W()},m(e,r){n&&n.m(e,r),H(e,t,r)},p(e,r){"parent"===e[14]?n?n.p(e,r):(n=lie(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&z(t)}}}function uie(e){let t,n,r;return n=new Rx({props:{text:e[4]("edit_child_roles_for_parent"),$$slots:{default:[cie,({slotName:e})=>({14:e}),({slotName:e})=>e?16384:0]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"slot","tooltip")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};16&t&&(r.text=e[4]("edit_child_roles_for_parent")),278529&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function die(e){let t,n,r,o,s,a,i=[],l=new Map,c=e[2];const u=e=>e[15];for(let d=0;d<c.length;d+=1){let t=nie(e,c,d),n=u(t);l.set(n,i[d]=aie(n,t))}return s=new Hu({props:{appearance:"secondary",$$slots:{tooltip:[uie],default:[iie]},$$scope:{ctx:e}}}),s.$on("click",e[11]),{c(){t=q("div"),n=q("ul");for(let e=0;e<i.length;e+=1)i[e].c();r=U(),o=q("div"),at(s.$$.fragment),X(n,"class","role-list svelte-yi816e"),X(o,"class","actions svelte-yi816e"),X(t,"class","child-roles svelte-yi816e")},m(e,l){H(e,t,l),F(t,n);for(let t=0;t<i.length;t+=1)i[t].m(n,null);F(t,r),F(t,o),it(s,o,null),a=!0},p(e,t){4&t&&(c=e[2],i=nt(i,t,u,1,e,c,l,n,Qe,aie,null,nie));const r={};262161&t&&(r.$$scope={dirty:t,ctx:e}),s.$set(r)},i(e){a||(je(s.$$.fragment,e),a=!0)},o(e){Ue(s.$$.fragment,e),a=!1},d(e){e&&z(t);for(let t=0;t<i.length;t+=1)i[t].d();lt(s)}}}function $ie(e){let t,n;return t=new l$({props:{appearance:"danger",confirm:e[12],label:"",tooltip:e[4]("drop_role"),icon:Kx,onClick:e[6]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};17&n&&(r.confirm=e[12]),16&n&&(r.tooltip=e[4]("drop_role")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function pie(e){let t,n,r,o,s,a,i,l;return t=new moe({props:{$$slots:{default:[rie]},$$scope:{ctx:e}}}),r=new moe({props:{$$slots:{default:[sie]},$$scope:{ctx:e}}}),s=new moe({props:{$$slots:{default:[die]},$$scope:{ctx:e}}}),i=new moe({props:{$$slots:{default:[$ie]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),at(s.$$.fragment),a=U(),at(i.$$.fragment)},m(e,c){it(t,e,c),H(e,n,c),it(r,e,c),H(e,o,c),it(s,e,c),H(e,a,c),it(i,e,c),l=!0},p(e,[n]){const o={};262145&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const a={};262145&n&&(a.$$scope={dirty:n,ctx:e}),r.$set(a);const l={};262167&n&&(l.$$scope={dirty:n,ctx:e}),s.$set(l);const c={};262161&n&&(c.$$scope={dirty:n,ctx:e}),i.$set(c)},i(e){l||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),je(i.$$.fragment,e),l=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),Ue(i.$$.fragment,e),l=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),lt(s,e),e&&z(a),lt(i,e)}}}function mie(e,t,n){let r,o,s,i,l,c,u=a;y(e,no,(e=>n(4,i=e))),e.$$.on_destroy.push((()=>u()));const d=loe.get();y(e,d,(e=>n(13,l=e)));let{role:$}=t,{rolesMap:p}=t,{onClickEditMembers:m}=t,{onDrop:f}=t;return e.$$set=e=>{"role"in e&&n(0,$=e.role),"rolesMap"in e&&n(7,p=e.rolesMap),"onClickEditMembers"in e&&n(1,m=e.onClickEditMembers),"onDrop"in e&&n(8,f=e.onDrop)},e.$$.update=()=>{1&e.$$.dirty&&(n(3,r=$.members),u(),u=g(r,(e=>n(10,c=e)))),1024&e.$$.dirty&&n(9,o=[...c.keys()]),640&e.$$.dirty&&n(2,s=o.map((e=>p.get(e)?.name)).filter(_o).sort())},[$,m,s,r,i,d,async function(){try{await l.databaseRouteContext.deleteRole($),f($),WS.success(i("role_dropped_successfully"))}catch(e){WS.error(ck(e))}},p,f,o,c,()=>m($),()=>KS({title:{component:Vx,props:{identifierKey:"name",identifier:$.name,wrappingString:i("drop_role_name_question")}},body:[i("action_cannot_be_undone"),i("drop_role_warning"),i("are_you_sure_to_proceed")],proceedButton:{label:i("drop_role"),icon:Kx}})]}class fie extends ut{constructor(e){super(),ct(this,e,mie,pie,f,{role:0,rolesMap:7,onClickEditMembers:1,onDrop:8})}}function gie(e,t,n){const r=e.slice();return r[18]=t[n],r}function hie(e){let t,n;return t=new hL({props:{fullWidth:!0,errors:[e[1].error??e[4]("unknown_error")]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};18&n&&(r.errors=[e[1].error??e[4]("unknown_error")]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function yie(e){let t,n,r;return n=new doe({props:{$$slots:{default:[Mie]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","roles-table svelte-1paxo3q")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};2097178&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function bie(e){let t,n;return t=new t$({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function vie(e){let t,n=e[4]("role")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){16&r&&n!==(n=e[4]("role")+"")&&Q(t,n)},d(e){e&&z(t)}}}function wie(e){let t,n,r,o,s=e[4]("roles_login_help")+"";return r=new JP({props:{page:"rolesLogin"}}),{c(){t=j(s),n=U(),at(r.$$.fragment)},m(e,s){H(e,t,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){(!o||16&n)&&s!==(s=e[4]("roles_login_help")+"")&&Q(t,s)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(t),e&&z(n),lt(r,e)}}}function _ie(e){let t,n,r,o,s,a=Pj+"";return o=new H$({props:{$$slots:{default:[wie]},$$scope:{ctx:e}}}),{c(){t=q("div"),n=j(a),r=U(),at(o.$$.fragment)},m(e,a){H(e,t,a),F(t,n),F(t,r),it(o,t,null),s=!0},p(e,t){const n={};2097168&t&&(n.$$scope={dirty:t,ctx:e}),o.$set(n)},i(e){s||(je(o.$$.fragment,e),s=!0)},o(e){Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(o)}}}function xie(e){let t,n,r,o,s=e[4]("role_inheritance_help")+"";return r=new JP({props:{page:"rolesInheritance"}}),{c(){t=j(s),n=U(),at(r.$$.fragment)},m(e,s){H(e,t,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){(!o||16&n)&&s!==(s=e[4]("role_inheritance_help")+"")&&Q(t,s)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(t),e&&z(n),lt(r,e)}}}function Cie(e){let t,n,r,o,s,a=e[4]("child_roles")+"";return o=new H$({props:{$$slots:{default:[xie]},$$scope:{ctx:e}}}),{c(){t=q("div"),n=j(a),r=U(),at(o.$$.fragment)},m(e,a){H(e,t,a),F(t,n),F(t,r),it(o,t,null),s=!0},p(e,t){(!s||16&t)&&a!==(a=e[4]("child_roles")+"")&&Q(n,a);const r={};2097168&t&&(r.$$scope={dirty:t,ctx:e}),o.$set(r)},i(e){s||(je(o.$$.fragment,e),s=!0)},o(e){Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(o)}}}function Sie(e){let t,n=e[4]("actions")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){16&r&&n!==(n=e[4]("actions")+"")&&Q(t,n)},d(e){e&&z(t)}}}function kie(e,t){let n,r,o;return r=new fie({props:{role:t[18],rolesMap:t[1].resolvedValue,onClickEditMembers:t[8],onDrop:t[9]}}),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};8&n&&(o.role=t[18]),2&n&&(o.rolesMap=t[1].resolvedValue),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function Mie(e){let t,n,r,o,s,a,i,l,c,u,d=[],$=new Map;t=new moe({props:{header:!0,$$slots:{default:[vie]},$$scope:{ctx:e}}}),r=new moe({props:{header:!0,$$slots:{default:[_ie]},$$scope:{ctx:e}}}),s=new moe({props:{header:!0,$$slots:{default:[Cie]},$$scope:{ctx:e}}}),i=new moe({props:{header:!0,$$slots:{default:[Sie]},$$scope:{ctx:e}}});let p=e[3];const m=e=>e[18].oid;for(let f=0;f<p.length;f+=1){let t=gie(e,p,f),n=m(t);$.set(n,d[f]=kie(n,t))}return{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),at(s.$$.fragment),a=U(),at(i.$$.fragment),l=U();for(let e=0;e<d.length;e+=1)d[e].c();c=W()},m(e,$){it(t,e,$),H(e,n,$),it(r,e,$),H(e,o,$),it(s,e,$),H(e,a,$),it(i,e,$),H(e,l,$);for(let t=0;t<d.length;t+=1)d[t].m(e,$);H(e,c,$),u=!0},p(e,n){const o={};2097168&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const a={};2097168&n&&(a.$$scope={dirty:n,ctx:e}),r.$set(a);const l={};2097168&n&&(l.$$scope={dirty:n,ctx:e}),s.$set(l);const u={};2097168&n&&(u.$$scope={dirty:n,ctx:e}),i.$set(u),778&n&&(p=e[3],qe(),d=nt(d,n,m,1,e,p,$,c.parentNode,et,kie,c,gie),Be())},i(e){if(!u){je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),je(i.$$.fragment,e);for(let e=0;e<p.length;e+=1)je(d[e]);u=!0}},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),Ue(i.$$.fragment,e);for(let t=0;t<d.length;t+=1)Ue(d[t]);u=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),lt(s,e),e&&z(a),lt(i,e),e&&z(l);for(let t=0;t<d.length;t+=1)d[t].d(e);e&&z(c)}}}function Iie(e){let t,n,r,o;const s=[bie,yie,hie],a=[];function i(e,t){return e[1].isLoading?0:e[1].isOk&&e[1].resolvedValue?1:2}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function Tie(e){let t,n,r,o,s=e[4]("roles_help")+"";return r=new JP({props:{page:"roles"}}),{c(){t=j(s),n=U(),at(r.$$.fragment)},m(e,s){H(e,t,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){(!o||16&n)&&s!==(s=e[4]("roles_help")+"")&&Q(t,s)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(t),e&&z(n),lt(r,e)}}}function Eie(e){let t,n,r,o,s=e[4]("roles")+"";return r=new H$({props:{$$slots:{default:[Tie]},$$scope:{ctx:e}}}),{c(){t=j(s),n=U(),at(r.$$.fragment)},m(e,s){H(e,t,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){(!o||16&n)&&s!==(s=e[4]("roles")+"")&&Q(t,s);const a={};2097168&n&&(a.$$scope={dirty:n,ctx:e}),r.$set(a)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(t),e&&z(n),lt(r,e)}}}function Die(e){let t,n;return t=new Hu({props:{appearance:"primary",$$slots:{default:[Oie]},$$scope:{ctx:e}}}),t.$on("click",e[12]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2097168&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Oie(e){let t,n,r,o,s,a=e[4]("create_role")+"";const i=[jx];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return t=new Jd({props:c}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(a)},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),F(r,o),s=!0},p(e,n){const r=0&n?rt(i,[ot(jx)]):{};t.$set(r),(!s||16&n)&&a!==(a=e[4]("create_role")+"")&&Q(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function Nie(e){let t,n,r=!e[1].isLoading&&Die(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){e[1].isLoading?r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be()):r?(r.p(e,n),2&n&&je(r,1)):(r=Die(e),r.c(),je(r,1),r.m(t.parentNode,t))},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function Aie(e){let t,n;return t=new tie({props:{parentRole:e[2],rolesMap:e[1].resolvedValue,controller:e[7],onSave:e[13]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.parentRole=e[2]),2&n&&(r.rolesMap=e[1].resolvedValue),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Rie(e){let t,n,r,o,s,a;t=new woe({props:{$$slots:{actions:[Nie],title:[Eie],default:[Iie]},$$scope:{ctx:e}}}),r=new Rae({props:{controller:e[6]}});let i=e[1].resolvedValue&&e[2]&&Aie(e);return{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),i&&i.c(),s=W()},m(e,l){it(t,e,l),H(e,n,l),it(r,e,l),H(e,o,l),i&&i.m(e,l),H(e,s,l),a=!0},p(e,[n]){const r={};2097178&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r),e[1].resolvedValue&&e[2]?i?(i.p(e,n),6&n&&je(i,1)):(i=Aie(e),i.c(),je(i,1),i.m(s.parentNode,s)):i&&(qe(),Ue(i,1,1,(()=>{i=null})),Be())},i(e){a||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(i),a=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(i),a=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),i&&i.d(e),e&&z(s)}}}function Fie(e,t,n){let r,o,s,i,l,c,u,d,$,p,m=a;y(e,no,(e=>n(4,p=e))),e.$$.on_destroy.push((()=>m()));const f=loe.get();y(e,f,(e=>n(11,$=e)));const b=US.spawnModalController(),v=US.spawnModalController();let w;function _(e){o.reset(),s.reset();const t=h(c).resolvedValue;Boolean(t?.oid===e.oid||t?.parentRoles.has(e.oid))&&(qF.runBatch([c.batchRunner(),l.batchRunner()]),cP())}return e.$$.update=()=>{2048&e.$$.dirty&&n(10,({databaseRouteContext:r,configuredRoles:o,collaborators:s}=$),r),1024&e.$$.dirty&&(n(0,({roles:i,underlyingDatabase:l,currentRole:c}=r),i),m(),m=g(i,(e=>n(1,d=e)))),1&e.$$.dirty&&i.runConservatively(),2&e.$$.dirty&&n(3,u=[...d.resolvedValue?.values()??[]])},[i,d,w,u,p,f,b,v,function(e){n(2,w=e),v.open()},_,r,$,()=>b.open(),({parentRole:e})=>_(e)]}class Pie extends ut{constructor(e){super(),ct(this,e,Fie,Rie,f,{})}}const Lie=e=>({}),Hie=e=>({setSection:e[0]});function zie(e){let t,n;const r=e[6].default,o=b(r,e,e[7],Hie);return{c(){t=q("div"),o&&o.c()},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||128&t)&&_(o,r,e,e[7],n?w(r,e[7],t,Lie):x(e[7]),Hie)},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function Vie(e){let t,n,r=e[3]("in_postgresql")+"";return{c(){t=q("div"),n=j(r),X(t,"class","heading")},m(e,r){H(e,t,r),F(t,n)},p(e,t){8&t&&r!==(r=e[3]("in_postgresql")+"")&&Q(n,r)},d(e){e&&z(t)}}}function qie(e){let t,n=e[3]("roles")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8&r&&n!==(n=e[3]("roles")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Bie(e){let t,n,r=e[3]("in_mathesar")+"";return{c(){t=q("div"),n=j(r),X(t,"class","heading")},m(e,r){H(e,t,r),F(t,n)},p(e,t){8&t&&r!==(r=e[3]("in_mathesar")+"")&&Q(n,r)},d(e){e&&z(t)}}}function jie(e){let t,n=e[3]("stored_role_passwords")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8&r&&n!==(n=e[3]("stored_role_passwords")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Uie(e){let t,n=e[3]("collaborators")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8&r&&n!==(n=e[3]("collaborators")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Wie(e){let t,n,r,o,s,a,i,l,c,u,d,$;return t=new jv({props:{$$slots:{default:[Vie]},$$scope:{ctx:e}}}),r=new iw({props:{href:ZM(e[2].id),active:"roles"===e[1],$$slots:{default:[qie]},$$scope:{ctx:e}}}),i=new jv({props:{$$slots:{default:[Bie]},$$scope:{ctx:e}}}),c=new iw({props:{href:GM(e[2].id),active:"roleConfiguration"===e[1],$$slots:{default:[jie]},$$scope:{ctx:e}}}),d=new iw({props:{href:XM(e[2].id),active:"collaborators"===e[1],$$slots:{default:[Uie]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),s=q("div"),a=U(),at(i.$$.fragment),l=U(),at(c.$$.fragment),u=U(),at(d.$$.fragment),X(s,"class","menu-divider")},m(e,p){it(t,e,p),H(e,n,p),it(r,e,p),H(e,o,p),H(e,s,p),H(e,a,p),it(i,e,p),H(e,l,p),it(c,e,p),H(e,u,p),it(d,e,p),$=!0},p(e,n){const o={};136&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};4&n&&(s.href=ZM(e[2].id)),2&n&&(s.active="roles"===e[1]),136&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s);const a={};136&n&&(a.$$scope={dirty:n,ctx:e}),i.$set(a);const l={};4&n&&(l.href=GM(e[2].id)),2&n&&(l.active="roleConfiguration"===e[1]),136&n&&(l.$$scope={dirty:n,ctx:e}),c.$set(l);const u={};4&n&&(u.href=XM(e[2].id)),2&n&&(u.active="collaborators"===e[1]),136&n&&(u.$$scope={dirty:n,ctx:e}),d.$set(u)},i(e){$||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(i.$$.fragment,e),je(c.$$.fragment,e),je(d.$$.fragment,e),$=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(i.$$.fragment,e),Ue(c.$$.fragment,e),Ue(d.$$.fragment,e),$=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),e&&z(s),e&&z(a),lt(i,e),e&&z(l),lt(c,e),e&&z(u),lt(d,e)}}}function Yie(e){let t,n,r;return n=new Ih({props:{$$slots:{default:[Wie]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","navigation svelte-gd1qhr"),X(t,"slot","sidebar")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};142&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function Kie(e){let t,n;return t=new U6({props:{$$slots:{sidebar:[Yie],default:[zie]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};142&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Gie(e,t,n){let r,o,s;y(e,no,(e=>n(3,s=e)));let{$$slots:a={},$$scope:i}=t;const l=loe.get();y(e,l,(e=>n(5,o=e)));let c="roles";return e.$$set=e=>{"$$scope"in e&&n(7,i=e.$$scope)},e.$$.update=()=>{32&e.$$.dirty&&n(2,({database:r}=o),r)},[function(e){n(1,c=e)},c,r,s,l,o,a,i]}class Xie extends ut{constructor(e){super(),ct(this,e,Gie,Kie,f,{setSection:0})}get setSection(){return this.$$.ctx[0]}}function Zie(e){let t,n;return t=new xae({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Jie(e){let t,n;return t=new Vse({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Qie(e){let t,n;return t=new Pie({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function ele(e){let t,n,r,o,s,a,i,l;function c(){return e[2](e[5])}function u(){return e[3](e[5])}function d(){return e[4](e[5])}return t=new sV({props:{path:"/",redirect:"roles/"}}),r=new _9({props:{path:"/role-configuration",onLoad:c,$$slots:{default:[Zie]},$$scope:{ctx:e}}}),s=new _9({props:{path:"/collaborators",onLoad:u,$$slots:{default:[Jie]},$$scope:{ctx:e}}}),i=new _9({props:{path:"/roles",onLoad:d,$$slots:{default:[Qie]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),at(s.$$.fragment),a=U(),at(i.$$.fragment)},m(e,c){it(t,e,c),H(e,n,c),it(r,e,c),H(e,o,c),it(s,e,c),H(e,a,c),it(i,e,c),l=!0},p(t,n){e=t;const o={};32&n&&(o.onLoad=c),64&n&&(o.$$scope={dirty:n,ctx:e}),r.$set(o);const a={};32&n&&(a.onLoad=u),64&n&&(a.$$scope={dirty:n,ctx:e}),s.$set(a);const l={};32&n&&(l.onLoad=d),64&n&&(l.$$scope={dirty:n,ctx:e}),i.$set(l)},i(e){l||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),je(i.$$.fragment,e),l=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),Ue(i.$$.fragment,e),l=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),lt(s,e),e&&z(a),lt(i,e)}}}function tle(e){let t,n;return t=new Xie({props:{$$slots:{default:[ele,({setSection:e})=>({5:e}),({setSection:e})=>e?32:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};96&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function nle(e,t,n){let r;const o=C9.get();y(e,o,(e=>n(1,r=e)));return e.$$.update=()=>{2&e.$$.dirty&&loe.construct(r)},[o,r,e=>e("roleConfiguration"),e=>e("collaborators"),e=>e("roles")]}class rle extends ut{constructor(e){super(),ct(this,e,nle,tle,f,{})}}const ole=e=>({meta:2&e,path:2&e}),sle=e=>({meta:e[1].meta,path:e[1].routePath.name});function ale(e,t,n){const r=e.slice();return r[8]=t[n],r}function ile(e,t){let n,r,o;function s(...e){return t[6](t[8],...e)}function a(){return t[7](t[8])}return r=new _9({props:{path:t[8].path,onLoad:s,onUnload:a,firstmatch:!0}}),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};1&n&&(o.path=t[8].path),1&n&&(o.onLoad=s),1&n&&(o.onUnload=a),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function lle(e){let t;const n=e[5].default,r=b(n,e,e[4],sle);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||18&o)&&_(r,n,e,e[4],t?w(n,e[4],o,ole):x(e[4]),sle)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function cle(e){let t,n,r,o=[],s=new Map,a=e[0];const i=e=>e[8].name;for(let c=0;c<a.length;c+=1){let t=ale(e,a,c),n=i(t);s.set(n,o[c]=ile(n,t))}let l=e[1]&&lle(e);return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=U(),l&&l.c(),n=W()},m(e,s){for(let t=0;t<o.length;t+=1)o[t].m(e,s);H(e,t,s),l&&l.m(e,s),H(e,n,s),r=!0},p(e,[r]){13&r&&(a=e[0],qe(),o=nt(o,r,i,1,e,a,s,t.parentNode,et,ile,t,ale),Be()),e[1]?l?(l.p(e,r),2&r&&je(l,1)):(l=lle(e),l.c(),je(l,1),l.m(n.parentNode,n)):l&&(qe(),Ue(l,1,1,(()=>{l=null})),Be())},i(e){if(!r){for(let e=0;e<a.length;e+=1)je(o[e]);je(l),r=!0}},o(e){for(let t=0;t<o.length;t+=1)Ue(o[t]);Ue(l),r=!1},d(e){for(let t=0;t<o.length;t+=1)o[t].d(e);e&&z(t),l&&l.d(e),e&&z(n)}}}function ule(e,t,n){let r,{$$slots:o={},$$scope:s}=t,{paths:a}=t;function i(e,t){n(1,r={routePath:e,meta:t})}async function l(e){await Ee(),r?.routePath===e&&n(1,r=void 0)}return e.$$set=e=>{"paths"in e&&n(0,a=e.paths),"$$scope"in e&&n(4,s=e.$$scope)},[a,r,i,l,s,o,(e,t)=>i(e,t),e=>l(e)]}class dle extends ut{constructor(e){super(),ct(this,e,ule,cle,f,{paths:0})}}const $le=e=>({}),ple=e=>({});function mle(e){let t,n;const r=e[2].label,o=b(r,e,e[4],ple);return{c(){t=q("div"),o&&o.c(),X(t,"slot","header"),X(t,"class","collapsible-fieldset-label svelte-1gajphp")},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||16&t)&&_(o,r,e,e[4],n?w(r,e[4],t,$le):x(e[4]),ple)},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function fle(e){let t,n;const r=e[2].default,o=b(r,e,e[4],null);return{c(){t=q("div"),o&&o.c(),X(t,"slot","content"),X(t,"class","collapsible-fieldset-content svelte-1gajphp")},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||16&t)&&_(o,r,e,e[4],n?w(r,e[4],t,null):x(e[4]),null)},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function gle(e){let t,n,r,o;const s=[e[1]];function a(t){e[3](t)}let i={$$slots:{content:[fle],header:[mle]},$$scope:{ctx:e}};for(let c=0;c<s.length;c+=1)i=l(i,s[c]);return void 0!==e[0]&&(i.isOpen=e[0]),n=new om({props:i}),Ce.push((()=>st(n,"isOpen",a))),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","collapsible-fieldset svelte-1gajphp"),se(t,"open",e[0])},m(e,r){H(e,t,r),it(n,t,null),o=!0},p(e,[a]){const i=2&a?rt(s,[ot(e[1])]):{};16&a&&(i.$$scope={dirty:a,ctx:e}),!r&&1&a&&(r=!0,i.isOpen=e[0],Oe((()=>r=!1))),n.$set(i),(!o||1&a)&&se(t,"open",e[0])},i(e){o||(je(n.$$.fragment,e),o=!0)},o(e){Ue(n.$$.fragment,e),o=!1},d(e){e&&z(t),lt(n)}}}function hle(e,t,n){const r=["isOpen"];let o=S(t,r),{$$slots:s={},$$scope:a}=t,{isOpen:i=!1}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(1,o=S(t,r)),"isOpen"in e&&n(0,i=e.isOpen),"$$scope"in e&&n(4,a=e.$$scope)},[i,o,s,function(e){i=e,n(0,i)},a]}class yle extends ut{constructor(e){super(),ct(this,e,hle,gle,f,{isOpen:0})}}const ble=e=>({}),vle=e=>({}),wle=e=>({}),_le=e=>({});function xle(e){let t,n,r,o,s,a,i,l,c,u,d,$=e[0]("default_value")+"";const p=e[2].type,m=b(p,e,e[1],_le),f=e[2].defaultValue,g=b(f,e,e[1],vle);return{c(){t=q("div"),n=q("div"),r=q("span"),m&&m.c(),o=U(),s=q("div"),a=q("span"),i=j($),l=j(":"),c=U(),u=q("span"),g&&g.c(),X(r,"class","value"),X(n,"class","type"),X(a,"class","label svelte-bojohv"),X(u,"class","value"),X(s,"class","default-value svelte-bojohv"),X(t,"class","new-pk-column-type-option svelte-bojohv")},m(e,$){H(e,t,$),F(t,n),F(n,r),m&&m.m(r,null),F(t,o),F(t,s),F(s,a),F(a,i),F(a,l),F(s,c),F(s,u),g&&g.m(u,null),d=!0},p(e,[t]){m&&m.p&&(!d||2&t)&&_(m,p,e,e[1],d?w(p,e[1],t,wle):x(e[1]),_le),(!d||1&t)&&$!==($=e[0]("default_value")+"")&&Q(i,$),g&&g.p&&(!d||2&t)&&_(g,f,e,e[1],d?w(f,e[1],t,ble):x(e[1]),vle)},i(e){d||(je(m,e),je(g,e),d=!0)},o(e){Ue(m,e),Ue(g,e),d=!1},d(e){e&&z(t),m&&m.d(e),g&&g.d(e)}}}function Cle(e,t,n){let r;y(e,no,(e=>n(0,r=e)));let{$$slots:o={},$$scope:s}=t;return e.$$set=e=>{"$$scope"in e&&n(1,s=e.$$scope)},[r,s,o]}class Sle extends ut{constructor(e){super(),ct(this,e,Cle,xle,f,{})}}function kle(e){let t,n,r=e[0]("integer")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","type")},m(e,r){H(e,t,r),F(t,n)},p(e,t){1&t&&r!==(r=e[0]("integer")+"")&&Q(n,r)},d(e){e&&z(t)}}}function Mle(e){let t,n,r=e[0]("auto_incrementing_identity")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","defaultValue")},m(e,r){H(e,t,r),F(t,n)},p(e,t){1&t&&r!==(r=e[0]("auto_incrementing_identity")+"")&&Q(n,r)},d(e){e&&z(t)}}}function Ile(e){let t,n;return t=new Sle({props:{$$slots:{defaultValue:[Mle],type:[kle]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};3&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Tle(e,t,n){let r;return y(e,no,(e=>n(0,r=e))),[r]}function Ele(e){let t,n,r=e[0]("uuid")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","type")},m(e,r){H(e,t,r),F(t,n)},p(e,t){1&t&&r!==(r=e[0]("uuid")+"")&&Q(n,r)},d(e){e&&z(t)}}}function Dle(e){let t,n,r=e[0]("random_uuidv4")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","defaultValue")},m(e,r){H(e,t,r),F(t,n)},p(e,t){1&t&&r!==(r=e[0]("random_uuidv4")+"")&&Q(n,r)},d(e){e&&z(t)}}}function Ole(e){let t,n;return t=new Sle({props:{$$slots:{defaultValue:[Dle],type:[Ele]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};3&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Nle(e,t,n){let r;return y(e,no,(e=>n(0,r=e))),[r]}const Ale={IDENTITY:{label:{component:class extends ut{constructor(e){super(),ct(this,e,Tle,Ile,f,{})}}}},UUIDv4:{label:{component:class extends ut{constructor(e){super(),ct(this,e,Nle,Ole,f,{})}}}}};function Rle(e){let t,n,r;function o(t){e[3](t)}let s={options:e[1],getLabel:e[2]};return void 0!==e[0]&&(s.value=e[0]),t=new $y({props:s}),Ce.push((()=>st(t,"value",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,[r]){const o={};!n&&1&r&&(n=!0,o.value=e[0],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function Fle(e,t,n){let{value:r}=t;const o=Object.keys(Ale);return e.$$set=e=>{"value"in e&&n(0,r=e.value)},[r,o,e=>Co(e,(e=>Ale[e].label))??"",function(e){r=e,n(0,r)}]}class Ple extends ut{constructor(e){super(),ct(this,e,Fle,Rle,f,{value:0})}}function Lle(e){let t,n,r,o;return t=new WL({props:{field:e[2],label:e[5]("column_name"),layout:"stacked"}}),r=new WL({props:{field:e[1],layout:"stacked",label:e[5]("column_type"),input:{component:Ple}}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,s){it(t,e,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){const o={};4&n&&(o.field=e[2]),32&n&&(o.label=e[5]("column_name")),t.$set(o);const s={};2&n&&(s.field=e[1]),32&n&&(s.label=e[5]("column_type")),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function Hle(e){let t,n,r=e[5]("primary_key_column")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","label")},m(e,r){H(e,t,r),F(t,n)},p(e,t){32&t&&r!==(r=e[5]("primary_key_column")+"")&&Q(n,r)},d(e){e&&z(t)}}}function zle(e){let t,n;return t=new yle({props:{$$slots:{label:[Hle],default:[Lle]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2086&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Vle(e){let t,n,r,o,s,a,i,l,c,u,d;return t=new WL({props:{field:e[4],label:e[5]("name"),layout:"stacked"}}),r=new WL({props:{field:e[3],label:e[5]("description"),layout:"stacked"}}),s=new ML({props:{$$slots:{default:[zle]},$$scope:{ctx:e}}}),l=new QL({props:{form:e[6],onProceed:e[7],onCancel:e[0]}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),at(s.$$.fragment),a=U(),i=q("div"),at(l.$$.fragment)},m(e,$){it(t,e,$),H(e,n,$),it(r,e,$),H(e,o,$),it(s,e,$),H(e,a,$),H(e,i,$),it(l,i,null),c=!0,u||(d=T(ux.call(null,i)),u=!0)},p(e,[n]){const o={};16&n&&(o.field=e[4]),32&n&&(o.label=e[5]("name")),t.$set(o);const a={};8&n&&(a.field=e[3]),32&n&&(a.label=e[5]("description")),r.$set(a);const i={};2086&n&&(i.$$scope={dirty:n,ctx:e}),s.$set(i);const c={};64&n&&(c.form=e[6]),1&n&&(c.onCancel=e[0]),l.$set(c)},i(e){c||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),je(l.$$.fragment,e),c=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),Ue(l.$$.fragment,e),c=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),lt(s,e),e&&z(a),e&&z(i),lt(l),u=!1,d()}}}function qle(e,t,n){let r,o,s,a,i,l;y(e,no,(e=>n(5,l=e)));let{close:c}=t,{schema:u}=t,{existingTableNames:d}=t;return e.$$set=e=>{"close"in e&&n(0,c=e.close),"schema"in e&&n(8,u=e.schema),"existingTableNames"in e&&n(9,d=e.existingTableNames)},e.$$.update=()=>{544&e.$$.dirty&&n(4,r=oH(function e(t){const n=`${l("table")} ${t}`;return d.has(n)?e(t+1):n}(1),[_P(d,l("table_name_already_exists"))])),30&e.$$.dirty&&n(6,i=aH({name:r,description:o,pkColumnName:s,pkColumnType:a}))},n(3,o=rH("")),n(2,s=oH("id")),n(1,a=oH("IDENTITY")),[c,a,s,o,r,l,i,async function(e){await async function({schema:e,name:t,description:n,pkColumn:r}){const o=await PM.tables.add({database_id:e.database.id,schema_oid:e.oid,table_name:t,comment:n,pkey_column_info:r}).run(),s=await PM.tables.get_with_metadata({database_id:e.database.id,table_oid:o.oid}).run();return e.setTableCount(h(e.tableCount)+1),hH({schema:e,rawTableWithMetadata:s})}({schema:u,name:e.name,description:e.description,pkColumn:{name:e.pkColumnName,type:e.pkColumnType}}),c()},u,d]}class Ble extends ut{constructor(e){super(),ct(this,e,qle,Vle,f,{close:0,schema:8,existingTableNames:9})}}function jle(e){let t,n;return t=new Ble({props:{schema:e[1],existingTableNames:e[2],close:e[4]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.schema=e[1]),4&n&&(r.existingTableNames=e[2]),1&n&&(r.close=e[4]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Ule(e){let t,n,r=e[3]("create_new_table")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","title")},m(e,r){H(e,t,r),F(t,n)},p(e,t){8&t&&r!==(r=e[3]("create_new_table")+"")&&Q(n,r)},d(e){e&&z(t)}}}function Wle(e){let t,n;return t=new dv({props:{controller:e[0],$$slots:{title:[Ule],default:[jle]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.controller=e[0]),47&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Yle(e,t,n){let r;y(e,no,(e=>n(3,r=e)));let{controller:o}=t,{schema:s}=t,{existingTableNames:a}=t;return e.$$set=e=>{"controller"in e&&n(0,o=e.controller),"schema"in e&&n(1,s=e.schema),"existingTableNames"in e&&n(2,a=e.existingTableNames)},[o,s,a,r,()=>o.close()]}class Kle extends ut{constructor(e){super(),ct(this,e,Yle,Wle,f,{controller:0,schema:1,existingTableNames:2})}}function Gle(e){let t,n=e[4]("from_scratch")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){16&r&&n!==(n=e[4]("from_scratch")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Xle(e){let t,n=e[4]("from_data_import")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){16&r&&n!==(n=e[4]("from_data_import")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Zle(e){let t,n,r,o;return t=new nw({props:{$$slots:{default:[Gle]},$$scope:{ctx:e}}}),t.$on("click",(function(){$(e[2])&&e[2].apply(this,arguments)})),r=new iw({props:{href:QM(e[0].id,e[1].oid),$$slots:{default:[Xle]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,s){it(t,e,s),H(e,n,s),it(r,e,s),o=!0},p(n,o){e=n;const s={};80&o&&(s.$$scope={dirty:o,ctx:e}),t.$set(s);const a={};3&o&&(a.href=QM(e[0].id,e[1].oid)),80&o&&(a.$$scope={dirty:o,ctx:e}),r.$set(a)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function Jle(e){let t,n,r,o,s,a=e[4]("new_table")+"";const i=[jx];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return n=new Jd({props:c}),{c(){t=q("div"),at(n.$$.fragment),r=U(),o=j(a),X(t,"slot","trigger")},m(e,a){H(e,t,a),it(n,t,null),F(t,r),F(t,o),s=!0},p(e,t){const r=0&t?rt(i,[ot(jx)]):{};n.$set(r),(!s||16&t)&&a!==(a=e[4]("new_table")+"")&&Q(o,a)},i(e){s||(je(n.$$.fragment,e),s=!0)},o(e){Ue(n.$$.fragment,e),s=!1},d(e){e&&z(t),lt(n)}}}function Qle(e){let t,n;return t=new zh({props:{showArrow:!0,triggerAppearance:"primary",closeOnInnerClick:!0,label:e[4]("new_table"),disabled:!e[5].has("CREATE"),$$slots:{trigger:[Jle],default:[Zle]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};16&n&&(r.label=e[4]("new_table")),32&n&&(r.disabled=!e[5].has("CREATE")),87&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function ece(e,t,n){let r,o,s,i=a;y(e,no,(e=>n(4,o=e))),e.$$.on_destroy.push((()=>i()));let{database:l}=t,{schema:c}=t,{onCreateEmptyTable:u}=t;return e.$$set=e=>{"database"in e&&n(0,l=e.database),"schema"in e&&n(1,c=e.schema),"onCreateEmptyTable"in e&&n(2,u=e.onCreateEmptyTable)},e.$$.update=()=>{2&e.$$.dirty&&(n(3,({currentRolePrivileges:r}=c.currentAccess),r),i(),i=g(r,(e=>n(5,s=e))))},[l,c,u,r,o,s]}class tce extends ut{constructor(e){super(),ct(this,e,ece,Qle,f,{database:0,schema:1,onCreateEmptyTable:2})}}function nce(e){let t,n,r=e[3]("add_tables_to_new_schema")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","title")},m(e,r){H(e,t,r),F(t,n)},p(e,t){8&t&&r!==(r=e[3]("add_tables_to_new_schema")+"")&&Q(n,r)},d(e){e&&z(t)}}}function rce(e){let t,n,r=e[3]("what_is_a_table")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","body")},m(e,r){H(e,t,r),F(t,n)},p(e,t){8&t&&r!==(r=e[3]("what_is_a_table")+"")&&Q(n,r)},d(e){e&&z(t)}}}function oce(e){let t,n=e[3]("from_scratch")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8&r&&n!==(n=e[3]("from_scratch")+"")&&Q(t,n)},d(e){e&&z(t)}}}function sce(e){let t,n=e[3]("import_from_file")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8&r&&n!==(n=e[3]("import_from_file")+"")&&Q(t,n)},d(e){e&&z(t)}}}function ace(e){let t,n,r,o,s,a,i,l,c,u=e[3]("how_do_you_want_to_create_table")+"";return a=new Hu({props:{appearance:"tip",$$slots:{default:[oce]},$$scope:{ctx:e}}}),a.$on("click",(function(){$(e[2])&&e[2].apply(this,arguments)})),l=new Rc({props:{href:QM(e[0].id,e[1].oid),appearance:"tip",$$slots:{default:[sce]},$$scope:{ctx:e}}}),{c(){t=q("div"),n=q("span"),r=j(u),o=U(),s=q("div"),at(a.$$.fragment),i=U(),at(l.$$.fragment),X(n,"class","svelte-doup50"),X(s,"class","new-table-tutorial-actions svelte-doup50"),X(t,"class","new-table-tutorial-footer svelte-doup50"),X(t,"slot","footer")},m(e,u){H(e,t,u),F(t,n),F(n,r),F(t,o),F(t,s),it(a,s,null),F(s,i),it(l,s,null),c=!0},p(t,n){e=t,(!c||8&n)&&u!==(u=e[3]("how_do_you_want_to_create_table")+"")&&Q(r,u);const o={};24&n&&(o.$$scope={dirty:n,ctx:e}),a.$set(o);const s={};3&n&&(s.href=QM(e[0].id,e[1].oid)),24&n&&(s.$$scope={dirty:n,ctx:e}),l.$set(s)},i(e){c||(je(a.$$.fragment,e),je(l.$$.fragment,e),c=!0)},o(e){Ue(a.$$.fragment,e),Ue(l.$$.fragment,e),c=!1},d(e){e&&z(t),lt(a),lt(l)}}}function ice(e){let t,n;return t=new ou({props:{$$slots:{footer:[ace],body:[rce],title:[nce]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};31&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function lce(e,t,n){let r;y(e,no,(e=>n(3,r=e)));let{database:o}=t,{schema:s}=t,{onCreateEmptyTable:a}=t;return e.$$set=e=>{"database"in e&&n(0,o=e.database),"schema"in e&&n(1,s=e.schema),"onCreateEmptyTable"in e&&n(2,a=e.onCreateEmptyTable)},[o,s,a,r]}class cce extends ut{constructor(e){super(),ct(this,e,lce,ice,f,{database:0,schema:1,onCreateEmptyTable:2})}}function uce(e){let t,n;return t=new bx({props:{$$slots:{default:[dce]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};640&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function dce(e){let t,n=e[7]+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){128&r&&n!==(n=e[7]+"")&&Q(t,n)},d(e){e&&z(t)}}}function $ce(e){let t,n,r="explorationName"===e[8]&&uce(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"explorationName"===e[8]?r?(r.p(e,n),256&n&&je(r,1)):(r=uce(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function pce(e){let t,n,r;return n=new Rx({props:{text:e[2]("rename_exploration_with_name"),$$slots:{default:[$ce,({slotName:e})=>({8:e}),({slotName:e})=>e?256:0]},$$scope:{ctx:e}}}),{c(){t=q("span"),at(n.$$.fragment),X(t,"slot","title")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};4&t&&(r.text=e[2]("rename_exploration_with_name")),896&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function mce(e){let t,n;return t=new bre({props:{controller:e[1],save:e[4],getNameValidationErrors:e[3],getInitialName:e[5],getInitialDescription:e[6],$$slots:{title:[pce,({initialName:e})=>({7:e}),({initialName:e})=>e?128:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.controller=e[1]),1&n&&(r.getInitialName=e[5]),1&n&&(r.getInitialDescription=e[6]),644&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function fce(e,t,n){let r;y(e,no,(e=>n(2,r=e)));let{exploration:o}=t,{controller:s}=t;return e.$$set=e=>{"exploration"in e&&n(0,o=e.exploration),"controller"in e&&n(1,s=e.controller)},[o,s,r,()=>[],async function(e,t){await PU({...o,name:e,description:t})},()=>o.name,()=>o.description??""]}class gce extends ut{constructor(e){super(),ct(this,e,fce,mce,f,{exploration:0,controller:1})}}function hce(e){let t,n;return t=new Rx({props:{text:e[4]("based_on_base"),$$slots:{default:[bce,({slotName:e})=>({10:e}),({slotName:e})=>e?1024:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.text=e[4]("based_on_base")),3080&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function yce(e){let t,n;return t=new HI({props:{table:e[3],truncate:!1}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.table=e[3]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function bce(e){let t,n,r="base"===e[10]&&yce(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"base"===e[10]?r?(r.p(e,n),1024&n&&je(r,1)):(r=yce(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function vce(e){let t,n,r=e[3]&&hce(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){e[3]?r?(r.p(e,n),8&n&&je(r,1)):(r=hce(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function wce(e){let t,n=e[4]("rename_exploration")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){16&r&&n!==(n=e[4]("rename_exploration")+"")&&Q(t,n)},d(e){e&&z(t)}}}function _ce(e){let t,n=e[4]("delete_exploration")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){16&r&&n!==(n=e[4]("delete_exploration")+"")&&Q(t,n)},d(e){e&&z(t)}}}function xce(e){let t,n,r,o;return t=new nw({props:{icon:Xx,$$slots:{default:[wce]},$$scope:{ctx:e}}}),t.$on("click",e[9]),r=new nw({props:{danger:!0,icon:Kx,$$slots:{default:[_ce]},$$scope:{ctx:e}}}),r.$on("click",e[5]),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,s){it(t,e,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){const o={};2064&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};2064&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function Cce(e){let t,n;return t=new E7({props:{href:e[2],name:e[0].name,description:e[0].description??void 0,icon:DC,cssVariables:{"--EntityListItem__accent-color":"var(--color-exploration-80)"},$$slots:{menu:[xce],detail:[vce]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};4&n&&(r.href=e[2]),1&n&&(r.name=e[0].name),1&n&&(r.description=e[0].description??void 0),2075&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Sce(e,t,n){let r,o,s,a;y(e,_H,(e=>n(8,s=e))),y(e,no,(e=>n(4,a=e)));let{exploration:i}=t,{database:l}=t,{schema:c}=t,{openEditExplorationModal:u}=t;return e.$$set=e=>{"exploration"in e&&n(0,i=e.exploration),"database"in e&&n(6,l=e.database),"schema"in e&&n(7,c=e.schema),"openEditExplorationModal"in e&&n(1,u=e.openEditExplorationModal)},e.$$.update=()=>{257&e.$$.dirty&&n(3,r=s.tablesMap.get(i.base_table_oid)),193&e.$$.dirty&&n(2,o=oI(l.id,c.oid,i.id))},[i,u,o,r,a,function(){XS({identifierType:"Exploration",identifierName:i.name,onProceed:()=>LU(i.id)})},l,c,s,()=>u(i)]}class kce extends ut{constructor(e){super(),ct(this,e,Sce,Cce,f,{exploration:0,database:6,schema:7,openEditExplorationModal:1})}}function Mce(e,t,n){const r=e.slice();return r[6]=t[n],r}function Ice(e,t){let n,r,o;return r=new kce({props:{exploration:t[6],database:t[1],schema:t[2],openEditExplorationModal:t[5]}}),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};1&n&&(o.exploration=t[6]),2&n&&(o.database=t[1]),4&n&&(o.schema=t[2]),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function Tce(e){let t,n;return t=new gce({props:{controller:e[4],exploration:e[3]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.exploration=e[3]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Ece(e){let t,n,r,o,s=[],a=new Map,i=e[0];const l=e=>e[6].id;for(let u=0;u<i.length;u+=1){let t=Mce(e,i,u),n=l(t);a.set(n,s[u]=Ice(n,t))}let c=e[3]&&Tce(e);return{c(){t=q("div");for(let e=0;e<s.length;e+=1)s[e].c();n=U(),c&&c.c(),r=W(),X(t,"class","exploration-list")},m(e,a){H(e,t,a);for(let n=0;n<s.length;n+=1)s[n].m(t,null);H(e,n,a),c&&c.m(e,a),H(e,r,a),o=!0},p(e,[n]){39&n&&(i=e[0],qe(),s=nt(s,n,l,1,e,i,a,t,et,Ice,null,Mce),Be()),e[3]?c?(c.p(e,n),8&n&&je(c,1)):(c=Tce(e),c.c(),je(c,1),c.m(r.parentNode,r)):c&&(qe(),Ue(c,1,1,(()=>{c=null})),Be())},i(e){if(!o){for(let e=0;e<i.length;e+=1)je(s[e]);je(c),o=!0}},o(e){for(let t=0;t<s.length;t+=1)Ue(s[t]);Ue(c),o=!1},d(e){e&&z(t);for(let t=0;t<s.length;t+=1)s[t].d();e&&z(n),c&&c.d(e),e&&z(r)}}}function Dce(e,t,n){const r=US.spawnModalController();let o,{explorations:s}=t,{database:a}=t,{schema:i}=t;return e.$$set=e=>{"explorations"in e&&n(0,s=e.explorations),"database"in e&&n(1,a=e.database),"schema"in e&&n(2,i=e.schema)},[s,a,i,o,r,function(e){n(3,o=e),r.open()}]}class Oce extends ut{constructor(e){super(),ct(this,e,Dce,Ece,f,{explorations:0,database:1,schema:2})}}function Nce(e){let t,n=e[1]("open_data_explorer")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){2&r&&n!==(n=e[1]("open_data_explorer")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Ace(e){let t,n,r,o,s,a,i,l,c,u,d=e[1]("explore_your_data")+"",$=e[1]("what_is_an_exploration_mini")+"";return c=new Rc({props:{href:e[0],size:"small",$$slots:{default:[Nce]},$$scope:{ctx:e}}}),{c(){t=q("div"),n=q("h3"),r=j(d),o=U(),s=q("p"),a=j($),i=U(),l=q("div"),at(c.$$.fragment),X(n,"class","explore-title svelte-i9ubrt"),X(s,"class","explore-description svelte-i9ubrt"),X(l,"class","svelte-i9ubrt"),X(t,"class","explore-your-data svelte-i9ubrt")},m(e,d){H(e,t,d),F(t,n),F(n,r),F(t,o),F(t,s),F(s,a),F(t,i),F(t,l),it(c,l,null),u=!0},p(e,[t]){(!u||2&t)&&d!==(d=e[1]("explore_your_data")+"")&&Q(r,d),(!u||2&t)&&$!==($=e[1]("what_is_an_exploration_mini")+"")&&Q(a,$);const n={};1&t&&(n.href=e[0]),6&t&&(n.$$scope={dirty:t,ctx:e}),c.$set(n)},i(e){u||(je(c.$$.fragment,e),u=!0)},o(e){Ue(c.$$.fragment,e),u=!1},d(e){e&&z(t),lt(c)}}}function Rce(e,t,n){let r;y(e,no,(e=>n(1,r=e)));let{href:o}=t;return e.$$set=e=>{"href"in e&&n(0,o=e.href)},[o,r]}class Fce extends ut{constructor(e){super(),ct(this,e,Rce,Ace,f,{href:0})}}function Pce(e){let t,n,r;return n=new HI({props:{table:{name:e[5]("select_table")}}}),{c(){t=q("span"),at(n.$$.fragment),X(t,"class","placeholder svelte-1iyxxlk")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};32&t&&(r.table={name:e[5]("select_table")}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function Lce(e){let t,n;return t=new HI({props:{table:e[9]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};512&n&&(r.table=e[9]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Hce(e){let t,n,r,o;const s=[Lce,Pce],a=[];function i(e,t){return e[9]?0:e[1]?-1:1}return~(t=i(e))&&(n=a[t]=s[t](e)),{c(){n&&n.c(),r=W()},m(e,n){~t&&a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?~t&&a[t].p(e,o):(n&&(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be()),~t?(n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){~t&&a[t].d(e),e&&z(r)}}}function zce(e){let t,n,r;function o(t){e[7](t)}let s={options:e[4],valuesAreEqual:Vce,autoSelect:e[2],disabled:e[3],$$slots:{default:[Hce,({option:e})=>({9:e}),({option:e})=>e?512:0]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.value=e[0]),t=new $y({props:s}),Ce.push((()=>st(t,"value",o))),t.$on("change",e[8]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,[r]){const o={};16&r&&(o.options=e[4]),4&r&&(o.autoSelect=e[2]),8&r&&(o.disabled=e[3]),1570&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.value=e[0],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}const Vce=(e,t)=>e?.oid===t?.oid;function qce(e,t,n){let r,o;y(e,no,(e=>n(5,o=e)));let{tables:s}=t,{value:a}=t,{prependBlank:i=!1}=t,{autoSelect:l="first"}=t,{disabled:c=!1}=t;return e.$$set=e=>{"tables"in e&&n(6,s=e.tables),"value"in e&&n(0,a=e.value),"prependBlank"in e&&n(1,i=e.prependBlank),"autoSelect"in e&&n(2,l=e.autoSelect),"disabled"in e&&n(3,c=e.disabled)},e.$$.update=()=>{66&e.$$.dirty&&n(4,r=i?[void 0,...s]:s)},[a,i,l,c,r,o,s,function(e){a=e,n(0,a)},function(t){_e.call(this,e,t)}]}class Bce extends ut{constructor(e){super(),ct(this,e,qce,zce,f,{tables:6,value:0,prependBlank:1,autoSelect:2,disabled:3})}}function jce(e){let t,n,r;function o(t){e[6](t)}let s={tables:e[4],prependBlank:e[1],autoSelect:e[2],disabled:e[3]};return void 0!==e[0]&&(s.value=e[0]),t=new Bce({props:s}),Ce.push((()=>st(t,"value",o))),t.$on("change",e[7]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,[r]){const o={};16&r&&(o.tables=e[4]),2&r&&(o.prependBlank=e[1]),4&r&&(o.autoSelect=e[2]),8&r&&(o.disabled=e[3]),!n&&1&r&&(n=!0,o.value=e[0],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function Uce(e,t,n){let r,o;y(e,SH,(e=>n(5,o=e)));let{value:s}=t,{prependBlank:a=!1}=t,{autoSelect:i="first"}=t,{disabled:l=!1}=t;return e.$$set=e=>{"value"in e&&n(0,s=e.value),"prependBlank"in e&&n(1,a=e.prependBlank),"autoSelect"in e&&n(2,i=e.autoSelect),"disabled"in e&&n(3,l=e.disabled)},e.$$.update=()=>{32&e.$$.dirty&&n(4,r=[...o.values()])},[s,a,i,l,r,o,function(e){s=e,n(0,s)},function(t){_e.call(this,e,t)}]}class Wce extends ut{constructor(e){super(),ct(this,e,Uce,jce,f,{value:0,prependBlank:1,autoSelect:2,disabled:3})}}function Yce(e){let t,n,r;function o(t){e[18](t)}let s={disabled:!!e[1],autoSelect:"none"};return void 0!==e[6]&&(s.value=e[6]),t=new Wce({props:s}),Ce.push((()=>st(t,"value",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};2&r&&(o.disabled=!!e[1]),!n&&64&r&&(n=!0,o.value=e[6],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function Kce(e){let t,n,r=e[7]("base_table")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","label")},m(e,r){H(e,t,r),F(t,n)},p(e,t){128&t&&r!==(r=e[7]("base_table")+"")&&Q(n,r)},d(e){e&&z(t)}}}function Gce(e){let t,n;return t=new J$({props:{layout:"stacked",$$slots:{label:[Kce],default:[Yce]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4194498&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Xce(e){let t,n,r,o,s,a;return t=new ML({props:{$$slots:{default:[Gce]},$$scope:{ctx:e}}}),r=new WL({props:{field:e[5],input:{component:ym,props:{placeholder:e[9]}},label:e[7]("name"),layout:"stacked"}}),s=new WL({props:{field:e[4],label:e[7]("description"),layout:"stacked"}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),at(s.$$.fragment)},m(e,i){it(t,e,i),H(e,n,i),it(r,e,i),H(e,o,i),it(s,e,i),a=!0},p(e,n){const o={};4194498&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const a={};32&n&&(a.field=e[5]),512&n&&(a.input={component:ym,props:{placeholder:e[9]}}),128&n&&(a.label=e[7]("name")),r.$set(a);const i={};16&n&&(i.field=e[4]),128&n&&(i.label=e[7]("description")),s.$set(i)},i(e){a||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),a=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),a=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),lt(s,e)}}}function Zce(e){let t,n;return t=new bx({props:{$$slots:{default:[Jce]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4194560&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Jce(e){let t,n=e[8]?.name+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){256&r&&n!==(n=e[8]?.name+"")&&Q(t,n)},d(e){e&&z(t)}}}function Qce(e){let t,n,r="formName"===e[21]&&Zce(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"formName"===e[21]?r?(r.p(e,n),2097152&n&&je(r,1)):(r=Zce(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function eue(e){let t,n,r;return n=new Rx({props:{text:e[10],$$slots:{default:[Qce,({slotName:e})=>({21:e}),({slotName:e})=>e?2097152:0]},$$scope:{ctx:e}}}),{c(){t=q("span"),at(n.$$.fragment),X(t,"slot","title")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};1024&t&&(r.text=e[10]),6291712&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function tue(e){let t,n,r;return n=new QL({props:{form:e[11],proceedButton:{label:e[7]("save")},onProceed:e[14],onCancel:e[17]}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"slot","footer")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};2048&t&&(r.form=e[11]),128&t&&(r.proceedButton={label:e[7]("save")}),1&t&&(r.onCancel=e[17]),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function nue(e){let t,n;return t=new dv({props:{controller:e[0],$$slots:{footer:[tue],title:[eue],default:[Xce]},$$scope:{ctx:e}}}),t.$on("close",e[19]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.controller=e[0]),4198387&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function rue(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,b=a,v=a;y(e,no,(e=>n(7,m=e))),y(e,SH,(e=>n(16,h=e))),e.$$.on_destroy.push((()=>b())),e.$$.on_destroy.push((()=>v()));const w=IU.get();y(e,w,(e=>n(20,$=e)));let{controller:_}=t,{dataForm:x}=t,{onClose:C}=t;return e.$$set=e=>{"controller"in e&&n(0,_=e.controller),"dataForm"in e&&n(1,x=e.dataForm),"onClose"in e&&n(2,C=e.onClose)},e.$$.update=()=>{2&e.$$.dirty&&(n(12,r=Fo(x?.structure)),v(),v=g(r,(e=>n(8,f=e)))),65538&e.$$.dirty&&n(15,o=x?h.get(x.baseTableOid):void 0),256&e.$$.dirty&&n(5,s=rH(f?.name??"")),256&e.$$.dirty&&n(4,i=rH(f?.description??"")),32768&e.$$.dirty&&(n(3,l=oH(o)),b(),b=g(l,(e=>n(6,p=e)))),56&e.$$.dirty&&n(11,c=aH({name:s,description:i,baseTable:l})),130&e.$$.dirty&&n(10,u=m(x?"rename_form_with_name":"create_new_form")),64&e.$$.dirty&&n(9,d=p?iG(p):"")},[_,x,C,l,i,s,p,m,f,d,u,c,r,w,async function(e){if(x)await x.updateNameAndDesc(e.name,e.description);else{const t=new Oz(e.baseTable),n=await t.getSubstanceOnceResolved(),r=n.resolvedValue;if(r){const t={name:e.name.trim()||iG(r.table),description:e.description,base_table_oid:r.table.oid,schema_oid:r.table.schema.oid,database_id:r.table.schema.database.id,version:1,associated_role_id:null,submit_message:null,submit_redirect_url:null,submit_button_label:null,fields:[...r.processedColumns.values()].filter((e=>!e.column.default?.is_dynamic)).map(((e,t)=>function(e,t){const n={key:ko(),label:e.column.name,help:null,index:t,is_required:!1,column_attnum:e.column.id,styling:{}};if(e.linkFk){const t=e.linkFk.referent_table_oid;return{...n,kind:"foreign_key",related_table_oid:t,fk_interaction_rule:"must_pick",child_fields:[]}}return{...n,kind:"scalar_column"}}(e,t)))};await $.insertDataForm(t)}else n.error&&WS.error(n.error.message)}_.close()},o,h,()=>_.close(),function(e){p=e,l.set(p)},()=>{c.reset(),C?.()}]}class oue extends ut{constructor(e){super(),ct(this,e,rue,nue,f,{controller:0,dataForm:1,onClose:2})}}function sue(e){let t,n,r,o,s,a,i;const c=[e[0]];let u={};for(let d=0;d<c.length;d+=1)u=l(u,c[d]);return r=new Jd({props:u}),{c(){t=q("div"),n=q("div"),at(r.$$.fragment),o=U(),s=q("span"),a=j(e[1]),X(n,"class","content svelte-1f2axcj"),X(t,"class","empty-entity-list svelte-1f2axcj")},m(e,l){H(e,t,l),F(t,n),it(r,n,null),F(n,o),F(n,s),F(s,a),i=!0},p(e,[t]){const n=1&t?rt(c,[ot(e[0])]):{};r.$set(n),(!i||2&t)&&Q(a,e[1])},i(e){i||(je(r.$$.fragment,e),i=!0)},o(e){Ue(r.$$.fragment,e),i=!1},d(e){e&&z(t),lt(r)}}}function aue(e,t,n){let{icon:r}=t,{text:o}=t;return e.$$set=e=>{"icon"in e&&n(0,r=e.icon),"text"in e&&n(1,o=e.text)},[r,o]}class iue extends ut{constructor(e){super(),ct(this,e,aue,sue,f,{icon:0,text:1})}}function lue(e){let t,n;return t=new Rx({props:{text:e[7]("for_named_table"),$$slots:{default:[uue,({slotName:e})=>({17:e}),({slotName:e})=>e?131072:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};128&n&&(r.text=e[7]("for_named_table")),393220&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function cue(e){let t,n;return t=new HI({props:{table:e[2],truncate:!1}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.table=e[2]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function uue(e){let t,n,r="tableName"===e[17]&&cue(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"tableName"===e[17]?r?(r.p(e,n),131072&n&&je(r,1)):(r=cue(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function due(e){let t,n,r=e[2]&&lue(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){e[2]?r?(r.p(e,n),4&n&&je(r,1)):(r=lue(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function $ue(e){let t,n;return t=new Eu({props:{$$slots:{content:[fue],trigger:[mue]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};262784&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function pue(e){let t,n;const r=[IS,{size:"0.9rem"}];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[ot(IS),r[1]]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function mue(e){let t,n;return t=new Rc({props:{slot:"trigger",appearance:"plain",href:`${window.location.origin}${lI(e[9])}`,$$slots:{default:[pue]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};512&n&&(r.href=`${window.location.origin}${lI(e[9])}`),262144&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function fue(e){let t,n,r=e[7]("form_is_shared_publicly")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","content")},m(e,r){H(e,t,r),F(t,n)},p(e,t){128&t&&r!==(r=e[7]("form_is_shared_publicly")+"")&&Q(n,r)},d(e){e&&z(t)}}}function gue(e){let t,n,r=e[8].isPublishedPublicly&&$ue(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){e[8].isPublishedPublicly?r?(r.p(e,n),256&n&&je(r,1)):(r=$ue(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function hue(e){let t,n=e[7]("rename_form")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){128&r&&n!==(n=e[7]("rename_form")+"")&&Q(t,n)},d(e){e&&z(t)}}}function yue(e){let t,n=e[7]("delete_form")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){128&r&&n!==(n=e[7]("delete_form")+"")&&Q(t,n)},d(e){e&&z(t)}}}function bue(e){let t,n,r,o;return t=new nw({props:{icon:Xx,$$slots:{default:[hue]},$$scope:{ctx:e}}}),t.$on("click",(function(){$(e[0])&&e[0].apply(this,arguments)})),r=new nw({props:{danger:!0,icon:Kx,$$slots:{default:[yue]},$$scope:{ctx:e}}}),r.$on("click",e[10]),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,s){it(t,e,s),H(e,n,s),it(r,e,s),o=!0},p(n,o){e=n;const s={};262272&o&&(s.$$scope={dirty:o,ctx:e}),t.$set(s);const a={};262272&o&&(a.$$scope={dirty:o,ctx:e}),r.$set(a)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function vue(e){let t,n;return t=new E7({props:{href:e[1],name:e[6].name,description:e[6].description??void 0,icon:RC,cssVariables:{"--EntityListItem__accent-color":"var(--color-data-form-80)"},$$slots:{menu:[bue],"action-buttons":[gue],detail:[due]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.href=e[1]),64&n&&(r.name=e[6].name),64&n&&(r.description=e[6].description??void 0),263045&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function wue(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,b=a,v=a,w=a;y(e,no,(e=>n(7,p=e))),y(e,_H,(e=>n(16,m=e))),e.$$.on_destroy.push((()=>b())),e.$$.on_destroy.push((()=>v())),e.$$.on_destroy.push((()=>w()));let{dataForm:_}=t,{editDataForm:x}=t,{deleteDataForm:C}=t;return e.$$set=e=>{"dataForm"in e&&n(11,_=e.dataForm),"editDataForm"in e&&n(0,x=e.editDataForm),"deleteDataForm"in e&&n(12,C=e.deleteDataForm)},e.$$.update=()=>{2048&e.$$.dirty&&n(13,({id:r,structure:o,schema:s,baseTableOid:i,sharePreferences:l,token:c}=_),r,(n(5,o),b(),b=g(o,(e=>n(6,$=e))),o),(n(14,s),n(11,_)),(n(15,i),n(11,_)),(n(4,l),v(),v=g(l,(e=>n(8,f=e))),l),(n(3,c),w(),w=g(c,(e=>n(9,h=e))),c)),98304&e.$$.dirty&&n(2,u=m.tablesMap.get(i)),24576&e.$$.dirty&&n(1,d=iI(s.database.id,s.oid,r))},[x,d,u,c,l,o,$,p,f,h,function(){XS({identifierType:p("form"),identifierName:$.name,onProceed:async()=>{C()}})},_,C,r,s,i,m]}class _ue extends ut{constructor(e){super(),ct(this,e,wue,vue,f,{dataForm:11,editDataForm:0,deleteDataForm:12})}}function xue(e){let t,n,r;return n=new wg({props:{loading:!0}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","overview-item-skeleton-container svelte-10ey73h")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p:a,i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}class Cue extends ut{constructor(e){super(),ct(this,e,null,xue,f,{})}}const Sue=e=>({}),kue=e=>({}),Mue=e=>({}),Iue=e=>({}),Tue=e=>({}),Eue=e=>({}),Due=e=>({}),Oue=e=>({});function Nue(e){let t;const n=e[2].content,r=b(n,e,e[3],kue);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||8&o)&&_(r,n,e,e[3],t?w(n,e[3],o,Sue):x(e[3]),kue)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function Aue(e){let t,n;return t=new HP({props:{$$slots:{default:[Fue]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Rue(e){let t,n;return t=new Cue({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Fue(e){let t;const n=e[2].errors,r=b(n,e,e[3],Iue);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||8&o)&&_(r,n,e,e[3],t?w(n,e[3],o,Mue):x(e[3]),Iue)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function Pue(e){let t,n,r,o,s,a,i,l,c;const u=e[2].header,d=b(u,e,e[3],Oue),$=e[2].actions,p=b($,e,e[3],Eue),m=[Rue,Aue,Nue],f=[];function g(e,t){return e[0]?0:e[1]?1:2}return i=g(e),l=f[i]=m[i](e),{c(){t=q("section"),n=q("header"),r=q("h2"),d&&d.c(),o=U(),s=q("div"),p&&p.c(),a=U(),l.c(),X(r,"class","svelte-hdnh67"),X(n,"class","svelte-hdnh67")},m(e,l){H(e,t,l),F(t,n),F(n,r),d&&d.m(r,null),F(n,o),F(n,s),p&&p.m(s,null),F(t,a),f[i].m(t,null),c=!0},p(e,[n]){d&&d.p&&(!c||8&n)&&_(d,u,e,e[3],c?w(u,e[3],n,Due):x(e[3]),Oue),p&&p.p&&(!c||8&n)&&_(p,$,e,e[3],c?w($,e[3],n,Tue):x(e[3]),Eue);let r=i;i=g(e),i===r?f[i].p(e,n):(qe(),Ue(f[r],1,1,(()=>{f[r]=null})),Be(),l=f[i],l?l.p(e,n):(l=f[i]=m[i](e),l.c()),je(l,1),l.m(t,null))},i(e){c||(je(d,e),je(p,e),je(l),c=!0)},o(e){Ue(d,e),Ue(p,e),Ue(l),c=!1},d(e){e&&z(t),d&&d.d(e),p&&p.d(e),f[i].d()}}}function Lue(e,t,n){let{$$slots:r={},$$scope:o}=t,{isLoading:s}=t,{hasError:a}=t;return e.$$set=e=>{"isLoading"in e&&n(0,s=e.isLoading),"hasError"in e&&n(1,a=e.hasError),"$$scope"in e&&n(3,o=e.$$scope)},[s,a,r,o]}class Hue extends ut{constructor(e){super(),ct(this,e,Lue,Pue,f,{isLoading:0,hasError:1})}}function zue(e,t,n){const r=e.slice();return r[14]=t[n],r}function Vue(e){let t,n=e[5]("forms")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){32&r&&n!==(n=e[5]("forms")+"")&&Q(t,n)},d(e){e&&z(t)}}}function que(e){let t,n,r,o,s,a=e[5]("new_form")+"";const i=[jx];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return t=new Jd({props:c}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(a)},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),F(r,o),s=!0},p(e,n){const r=0&n?rt(i,[ot(jx)]):{};t.$set(r),(!s||32&n)&&a!==(a=e[5]("new_form")+"")&&Q(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function Bue(e){let t,n;return t=new Hu({props:{appearance:"secondary",$$slots:{default:[que]},$$scope:{ctx:e}}}),t.$on("click",e[12]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};131104&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function jue(e){let t,n,r,o,s,a,i,l,c,u=e[4].error.message+"";return s=new l$({props:{onClick:e[11],label:e[5]("retry"),icon:aC}}),l=new Hu({props:{$$slots:{default:[Uue]},$$scope:{ctx:e}}}),{c(){t=q("p"),n=j(u),r=U(),o=q("div"),at(s.$$.fragment),a=U(),i=q("a"),at(l.$$.fragment),X(i,"href","../")},m(e,u){H(e,t,u),F(t,n),H(e,r,u),H(e,o,u),it(s,o,null),F(o,a),F(o,i),it(l,i,null),c=!0},p(e,t){(!c||16&t)&&u!==(u=e[4].error.message+"")&&Q(n,u);const r={};4&t&&(r.onClick=e[11]),32&t&&(r.label=e[5]("retry")),s.$set(r);const o={};131104&t&&(o.$$scope={dirty:t,ctx:e}),l.$set(o)},i(e){c||(je(s.$$.fragment,e),je(l.$$.fragment,e),c=!0)},o(e){Ue(s.$$.fragment,e),Ue(l.$$.fragment,e),c=!1},d(e){e&&z(t),e&&z(r),e&&z(o),lt(s),lt(l)}}}function Uue(e){let t,n,r=e[5]("go_to_database")+"";return{c(){t=q("span"),n=j(r)},m(e,r){H(e,t,r),F(t,n)},p(e,t){32&t&&r!==(r=e[5]("go_to_database")+"")&&Q(n,r)},d(e){e&&z(t)}}}function Wue(e){let t,n,r=e[4].error&&jue(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){e[4].error?r?(r.p(e,n),16&n&&je(r,1)):(r=jue(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function Yue(e){let t,n,r,o,s,a=[],i=new Map,l=[...e[6].values()];const c=e=>e[14].id;for(let d=0;d<l.length;d+=1){let t=zue(e,l,d),n=c(t);i.set(n,a[d]=Gue(n,t))}let u=null;return l.length||(u=Kue(e)),{c(){t=q("div");for(let e=0;e<a.length;e+=1)a[e].c();u&&u.c(),X(t,"class","forms-list")},m(i,l){H(i,t,l);for(let e=0;e<a.length;e+=1)a[e].m(t,null);u&&u.m(t,null),r=!0,o||(s=T(n=X3.call(null,t,{scrollHint:e[5]("schema_new_items_scroll_hint")})),o=!0)},p(e,r){227&r&&(l=[...e[6].values()],qe(),a=nt(a,r,c,1,e,l,i,t,et,Gue,null,zue),Be(),!l.length&&u?u.p(e,r):l.length?u&&(qe(),Ue(u,1,1,(()=>{u=null})),Be()):(u=Kue(e),u.c(),je(u,1),u.m(t,null))),n&&$(n.update)&&32&r&&n.update.call(null,{scrollHint:e[5]("schema_new_items_scroll_hint")})},i(e){if(!r){for(let e=0;e<l.length;e+=1)je(a[e]);r=!0}},o(e){for(let t=0;t<a.length;t+=1)Ue(a[t]);r=!1},d(e){e&&z(t);for(let t=0;t<a.length;t+=1)a[t].d();u&&u.d(),o=!1,s()}}}function Kue(e){let t,n;return t=new iue({props:{icon:RC,text:e[5]("no_forms")}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.text=e[5]("no_forms")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Gue(e,t){let n,r,o;function s(){return t[9](t[14])}function a(){return t[10](t[14])}return r=new _ue({props:{dataForm:t[14],deleteDataForm:s,editDataForm:a}}),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};64&n&&(o.dataForm=t[14]),65&n&&(o.deleteDataForm=s),66&n&&(o.editDataForm=a),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function Xue(e){let t,n,r=e[4].resolvedValue&&Yue(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){e[4].resolvedValue?r?(r.p(e,n),16&n&&je(r,1)):(r=Yue(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function Zue(e){let t,n,r,o;return t=new Hue({props:{isLoading:e[4].isLoading,hasError:!!e[4].error,$$slots:{content:[Xue],errors:[Wue],actions:[Bue],header:[Vue]},$$scope:{ctx:e}}}),r=new oue({props:{controller:e[7],dataForm:e[1],onClose:e[13]}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,s){it(t,e,s),H(e,n,s),it(r,e,s),o=!0},p(e,[n]){const o={};16&n&&(o.isLoading=e[4].isLoading),16&n&&(o.hasError=!!e[4].error),131191&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};2&n&&(s.dataForm=e[1]),2&n&&(s.onClose=e[13]),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function Jue(e,t,n){let r,o,s,i,l,c,u=a,d=a;y(e,no,(e=>n(5,l=e))),e.$$.on_destroy.push((()=>u())),e.$$.on_destroy.push((()=>d()));const $=US.spawnModalController(),p=IU.get();let m;y(e,p,(e=>n(0,s=e)));return e.$$.update=()=>{1&e.$$.dirty&&(n(3,({dataForms:r,dataFormsFetch:o}=s),r,(n(2,o),u(),u=g(o,(e=>n(4,i=e))),o)),d(),d=g(r,(e=>n(6,c=e))))},[s,m,o,r,i,l,c,$,p,e=>s.removeDataForm(e),e=>{n(1,m=e),$.open()},async()=>{await o.run()},()=>$.open(),()=>{n(1,m=void 0)}]}class Que extends ut{constructor(e){super(),ct(this,e,Jue,Zue,f,{})}}function ede(e,t,n){const r=e.slice();return r[2]=t[n],r}function tde(e,t){let n,r,o,s;return r=new wg({props:{loading:!0}}),{key:e,first:null,c(){n=q("div"),at(r.$$.fragment),o=U(),X(n,"class","table-skeleton svelte-urq83"),this.first=n},m(e,t){H(e,n,t),it(r,n,null),F(n,o),s=!0},p(e,t){},i(e){s||(je(r.$$.fragment,e),s=!0)},o(e){Ue(r.$$.fragment,e),s=!1},d(e){e&&z(n),lt(r)}}}function nde(e){let t,n,r=[],o=new Map,s=e[0];const a=e=>e[2];for(let i=0;i<s.length;i+=1){let t=ede(e,s,i),n=a(t);o.set(n,r[i]=tde(n))}return{c(){t=q("div");for(let e=0;e<r.length;e+=1)r[e].c();X(t,"class","table-skeleton-container svelte-urq83")},m(e,o){H(e,t,o);for(let n=0;n<r.length;n+=1)r[n].m(t,null);n=!0},p(e,[n]){1&n&&(s=e[0],qe(),r=nt(r,n,a,1,e,s,o,t,et,tde,null,ede),Be())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ue(r[t]);n=!1},d(e){e&&z(t);for(let t=0;t<r.length;t+=1)r[t].d()}}}function rde(e,t,n){let r,{numTables:o=9}=t;return e.$$set=e=>{"numTables"in e&&n(1,o=e.numTables)},e.$$.update=()=>{2&e.$$.dirty&&n(0,r=Array.from({length:o},((e,t)=>t)))},[r,o]}class ode extends ut{constructor(e){super(),ct(this,e,rde,nde,f,{numTables:1})}}function sde(e){let t,n;return t=new bx({props:{$$slots:{default:[ade]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};32770&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function ade(e){let t,n=e[1].name+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){2&r&&n!==(n=e[1].name+"")&&Q(t,n)},d(e){e&&z(t)}}}function ide(e){let t,n,r="tableName"===e[14]&&sde(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"tableName"===e[14]?r?(r.p(e,n),16384&n&&je(r,1)):(r=sde(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function lde(e){let t,n,r,o,s,a,i=e[3]("table_permissions_help")+"";return s=new JP({props:{page:"tablePermissions"}}),{c(){t=q("p"),n=j(i),r=U(),o=q("p"),at(s.$$.fragment)},m(e,i){H(e,t,i),F(t,n),H(e,r,i),H(e,o,i),it(s,o,null),a=!0},p(e,t){(!a||8&t)&&i!==(i=e[3]("table_permissions_help")+"")&&Q(n,i)},i(e){a||(je(s.$$.fragment,e),a=!0)},o(e){Ue(s.$$.fragment,e),a=!1},d(e){e&&z(t),e&&z(r),e&&z(o),lt(s)}}}function cde(e){let t,n,r,o,s;return n=new Rx({props:{text:e[3]("permissions_for_named_table"),$$slots:{default:[ide,({slotName:e})=>({14:e}),({slotName:e})=>e?16384:0]},$$scope:{ctx:e}}}),o=new H$({props:{$$slots:{default:[lde]},$$scope:{ctx:e}}}),{c(){t=q("span"),at(n.$$.fragment),r=U(),at(o.$$.fragment),X(t,"slot","title")},m(e,a){H(e,t,a),it(n,t,null),F(t,r),it(o,t,null),s=!0},p(e,t){const r={};8&t&&(r.text=e[3]("permissions_for_named_table")),49154&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};32776&t&&(s.$$scope={dirty:t,ctx:e}),o.$set(s)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(n),lt(o)}}}function ude(e){let t,n;return t=new Sne({props:{slot:"share",controller:e[0],accessControlConfig:e[5],storeValues:e[13],savePrivilegesForRoles:e[7]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.controller=e[0]),8192&n&&(r.storeValues=e[13]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function dde(e){let t,n;return t=new Ine({props:{slot:"transfer-ownership",controller:e[0],transferOwnership:e[8],storeValues:e[13]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.controller=e[0]),8192&n&&(r.storeValues=e[13]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function $de(e){let t,n;return t=new Tte({props:{controller:e[0],getAsyncStores:e[6],onClose:e[10],$$slots:{"transfer-ownership":[dde,({storeValues:e})=>({13:e}),({storeValues:e})=>e?8192:0],share:[ude,({storeValues:e})=>({13:e}),({storeValues:e})=>e?8192:0],title:[cde]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.controller=e[0]),4&n&&(r.onClose=e[10]),40971&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function pde(e,t,n){let r,o,s,a,i;y(e,no,(e=>n(3,a=e)));let{controller:l}=t,{table:c}=t;const u=C9.get();y(e,u,(e=>n(9,i=e)));const d={allPrivileges:[{id:"SELECT",help:a("table_privilege_select_help")},{id:"INSERT",help:a("table_privilege_insert_help")},{id:"UPDATE",help:a("table_privilege_update_help")},{id:"DELETE",help:a("table_privilege_delete_help")},{id:"TRUNCATE",help:a("table_privilege_truncate_help")},{id:"REFERENCES",help:a("table_privilege_references_help")},{id:"TRIGGER",help:a("table_privilege_trigger_help")}],access:{levels:[{id:"read",privileges:new Set(["SELECT"]),name:a("read"),help:a("table_access_read_help")},{id:"write",privileges:new Set(["SELECT","INSERT","UPDATE","DELETE"]),name:a("write"),help:a("table_access_write_help")}],default:"read"}};return e.$$set=e=>{"controller"in e&&n(0,l=e.controller),"table"in e&&n(1,c=e.table)},e.$$.update=()=>{2&e.$$.dirty&&n(2,r=c.constructTablePrivilegesStore()),512&e.$$.dirty&&({roles:o,currentRole:s}=i)},[l,c,r,a,u,d,function(){return qF.runBatchConservatively([r.batchRunner({database_id:c.schema.database.id,table_oid:c.oid}),o.batchRunner(),s.batchRunner()]),{roles:o,privilegesForRoles:r,permissionsMetaData:$t(new zF({isLoading:!1,settlement:{state:"resolved",value:c}})),currentRole:s}},async function(e){const t=await PM.tables.privileges.replace_for_roles({database_id:c.schema.database.id,table_oid:c.oid,privileges:e}).run();r.updateResolvedValue((()=>new ao(t.map((e=>[e.role_oid,e]))))),WS.success(a("access_for_roles_saved_successfully"))},async function(e){await c.updateOwner(e),WS.success(a("table_ownership_updated_successfully"))},i,()=>r.reset()]}class mde extends ut{constructor(e){super(),ct(this,e,pde,$de,f,{controller:0,table:1})}}function fde(e){let t,n;return t=new bx({props:{$$slots:{default:[gde]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1280&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function gde(e){let t,n=e[8]+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){256&r&&n!==(n=e[8]+"")&&Q(t,n)},d(e){e&&z(t)}}}function hde(e){let t,n,r="tableName"===e[9]&&fde(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"tableName"===e[9]?r?(r.p(e,n),512&n&&je(r,1)):(r=fde(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function yde(e){let t,n,r;return n=new Rx({props:{text:e[4]("rename_table_with_name"),$$slots:{default:[hde,({slotName:e})=>({9:e}),({slotName:e})=>e?512:0]},$$scope:{ctx:e}}}),{c(){t=q("span"),at(n.$$.fragment),X(t,"slot","title")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};16&t&&(r.text=e[4]("rename_table_with_name")),1792&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function bde(e){let t,n;return t=new bre({props:{controller:e[1],save:e[5],getNameValidationErrors:e[3],getInitialName:e[6],getInitialDescription:e[7],$$slots:{title:[yde,({initialName:e})=>({8:e}),({initialName:e})=>e?256:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.controller=e[1]),8&n&&(r.getNameValidationErrors=e[3]),1&n&&(r.getInitialName=e[6]),1&n&&(r.getInitialDescription=e[7]),1296&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function vde(e,t,n){let r,o,s,i=a;y(e,no,(e=>n(4,s=e))),e.$$.on_destroy.push((()=>i()));let{table:l}=t,{controller:c}=t;return e.$$set=e=>{"table"in e&&n(0,l=e.table),"controller"in e&&n(1,c=e.controller)},e.$$.update=()=>{1&e.$$.dirty&&(n(2,r=TH(l)),i(),i=g(r,(e=>n(3,o=e))))},[l,c,r,o,s,async function(e,t){await yH({schema:l.schema,table:{oid:l.oid,name:e,description:t}})},()=>l.name,()=>l.description??""]}class wde extends ut{constructor(e){super(),ct(this,e,vde,bde,f,{table:0,controller:1})}}const _de=e=>({}),xde=e=>({});function Cde(e){let t,n,r,o,s,a,i,c,u;const d=[e[0].icon,{class:"block"}];let $={};for(let m=0;m<d.length;m+=1)$=l($,d[m]);r=new Jd({props:$}),i=new Ng({props:{$$slots:{default:[Sde]},$$scope:{ctx:e}}});let p=e[0].description&&kde(e);return{c(){t=q("div"),n=q("div"),at(r.$$.fragment),o=U(),s=q("div"),a=q("h1"),at(i.$$.fragment),c=U(),p&&p.c(),X(n,"class","icon svelte-or00k7"),X(a,"class","name svelte-or00k7"),X(s,"class","text svelte-or00k7"),X(t,"class","heading svelte-or00k7")},m(e,l){H(e,t,l),F(t,n),it(r,n,null),F(t,o),F(t,s),F(s,a),it(i,a,null),F(s,c),p&&p.m(s,null),u=!0},p(e,t){const n=1&t?rt(d,[ot(e[0].icon),d[1]]):{};r.$set(n);const o={};33&t&&(o.$$scope={dirty:t,ctx:e}),i.$set(o),e[0].description?p?(p.p(e,t),1&t&&je(p,1)):(p=kde(e),p.c(),je(p,1),p.m(s,null)):p&&(qe(),Ue(p,1,1,(()=>{p=null})),Be())},i(e){u||(je(r.$$.fragment,e),je(i.$$.fragment,e),je(p),u=!0)},o(e){Ue(r.$$.fragment,e),Ue(i.$$.fragment,e),Ue(p),u=!1},d(e){e&&z(t),lt(r),lt(i),p&&p.d()}}}function Sde(e){let t,n=e[0].name+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1&r&&n!==(n=e[0].name+"")&&Q(t,n)},d(e){e&&z(t)}}}function kde(e){let t,n,r;return n=new Ng({props:{$$slots:{default:[Mde]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","description svelte-or00k7")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};33&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function Mde(e){let t,n=e[0].description+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1&r&&n!==(n=e[0].description+"")&&Q(t,n)},d(e){e&&z(t)}}}function Ide(e){let t,n;const r=e[4].default,o=b(r,e,e[5],null);return{c(){t=q("div"),o&&o.c(),X(t,"class","actions-left svelte-or00k7")},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||32&t)&&_(o,r,e,e[5],n?w(r,e[5],t,null):x(e[5]),null)},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function Tde(e){let t,n;const r=e[4]["actions-right"],o=b(r,e,e[5],xde);return{c(){t=q("div"),o&&o.c(),X(t,"class","actions-right svelte-or00k7")},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||32&t)&&_(o,r,e,e[5],n?w(r,e[5],t,_de):x(e[5]),xde)},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function Ede(e){let t,n,r,o,s,a=e[0]&&Cde(e),i=e[2].default&&Ide(e),l=e[2]["actions-right"]&&Tde(e);return{c(){t=q("div"),a&&a.c(),n=U(),r=q("div"),i&&i.c(),o=U(),l&&l.c(),X(r,"class","actions svelte-or00k7"),se(r,"has-right-actions",e[2]["actions-right"]),X(t,"class","entity-page-header svelte-or00k7"),X(t,"style",e[1])},m(e,c){H(e,t,c),a&&a.m(t,null),F(t,n),F(t,r),i&&i.m(r,null),F(r,o),l&&l.m(r,null),s=!0},p(e,[c]){e[0]?a?(a.p(e,c),1&c&&je(a,1)):(a=Cde(e),a.c(),je(a,1),a.m(t,n)):a&&(qe(),Ue(a,1,1,(()=>{a=null})),Be()),e[2].default?i?(i.p(e,c),4&c&&je(i,1)):(i=Ide(e),i.c(),je(i,1),i.m(r,o)):i&&(qe(),Ue(i,1,1,(()=>{i=null})),Be()),e[2]["actions-right"]?l?(l.p(e,c),4&c&&je(l,1)):(l=Tde(e),l.c(),je(l,1),l.m(r,null)):l&&(qe(),Ue(l,1,1,(()=>{l=null})),Be()),(!s||4&c)&&se(r,"has-right-actions",e[2]["actions-right"]),(!s||2&c)&&X(t,"style",e[1])},i(e){s||(je(a),je(i),je(l),s=!0)},o(e){Ue(a),Ue(i),Ue(l),s=!1},d(e){e&&z(t),a&&a.d(),i&&i.d(),l&&l.d()}}}function Dde(e,t,n){let r,{$$slots:o={},$$scope:s}=t;const a=k(o);let{title:i}=t,{cssVariables:l}=t;return e.$$set=e=>{"title"in e&&n(0,i=e.title),"cssVariables"in e&&n(3,l=e.cssVariables),"$$scope"in e&&n(5,s=e.$$scope)},e.$$.update=()=>{8&e.$$.dirty&&n(1,r=l?Jo(l):void 0)},[i,r,a,l,o,s]}class Ode extends ut{constructor(e){super(),ct(this,e,Dde,Ede,f,{title:0,cssVariables:3})}}function Nde(e){let t,n,r,o,s,a=e[3]("inspector")+"";const i=[WC];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return t=new Jd({props:c}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(a),X(r,"class","responsive-button-label")},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),F(r,o),s=!0},p(e,n){const r=0&n?rt(i,[ot(WC)]):{};t.$set(r),(!s||8&n)&&a!==(a=e[3]("inspector")+"")&&Q(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function Ade(e){let t,n,r;return n=new Hu({props:{appearance:"custom",size:"medium",active:e[0],disabled:e[2],"aria-label":e[3]("inspector"),$$slots:{default:[Nde]},$$scope:{ctx:e}}}),n.$on("click",e[4]),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","inspector-button svelte-8i0yg1")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,[t]){const r={};1&t&&(r.active=e[0]),4&t&&(r.disabled=e[2]),8&t&&(r["aria-label"]=e[3]("inspector")),40&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function Rde(e,t,n){let r;y(e,no,(e=>n(3,r=e)));let{active:o}=t,{toggle:s}=t,{disabled:a=!1}=t;return e.$$set=e=>{"active"in e&&n(0,o=e.active),"toggle"in e&&n(1,s=e.toggle),"disabled"in e&&n(2,a=e.disabled)},[o,s,a,r,()=>s()]}class Fde extends ut{constructor(e){super(),ct(this,e,Rde,Ade,f,{active:0,toggle:1,disabled:2})}}function Pde(e){let t;return{c(){t=q("div"),X(t,"class","dot svelte-lz6sq0")},m(e,n){H(e,t,n)},d(e){e&&z(t)}}}function Lde(e){let t,n,r,o;n=new l$({props:{icon:lC,label:e[3]("save"),disabled:!e[0],onClick:e[1],appearance:"secondary"}});let s=e[0]&&Pde();return{c(){t=q("div"),at(n.$$.fragment),r=U(),s&&s.c(),X(t,"slot","trigger"),X(t,"class","save-button svelte-lz6sq0")},m(e,a){H(e,t,a),it(n,t,null),F(t,r),s&&s.m(t,null),o=!0},p(e,r){const o={};8&r&&(o.label=e[3]("save")),1&r&&(o.disabled=!e[0]),2&r&&(o.onClick=e[1]),n.$set(o),e[0]?s||(s=Pde(),s.c(),s.m(t,null)):s&&(s.d(1),s=null)},i(e){o||(je(n.$$.fragment,e),o=!0)},o(e){Ue(n.$$.fragment,e),o=!1},d(e){e&&z(t),lt(n),s&&s.d()}}}function Hde(e){let t,n;return{c(){t=q("span"),n=j(e[2]),X(t,"slot","content")},m(e,r){H(e,t,r),F(t,n)},p(e,t){4&t&&Q(n,e[2])},d(e){e&&z(t)}}}function zde(e){let t,n;return t=new Eu({props:{enabled:e[0],$$slots:{content:[Hde],trigger:[Lde]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.enabled=e[0]),31&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Vde(e,t,n){let r;y(e,no,(e=>n(3,r=e)));let{canSave:o}=t,{onSave:s}=t,{unsavedChangesText:a=r("click_to_save")}=t;return e.$$set=e=>{"canSave"in e&&n(0,o=e.canSave),"onSave"in e&&n(1,s=e.onSave),"unsavedChangesText"in e&&n(2,a=e.unsavedChangesText)},[o,s,a,r]}class qde extends ut{constructor(e){super(),ct(this,e,Vde,zde,f,{canSave:0,onSave:1,unsavedChangesText:2})}}function Bde(e){let t,n,r;return n=new Wce({props:{autoSelect:"none",value:e[6]}}),n.$on("change",e[22]),{c(){t=q("span"),at(n.$$.fragment),X(t,"class","select-table svelte-1pjy1pw")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};64&t&&(r.value=e[6]),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function jde(e){let t,n;return t=new HI({props:{table:e[6]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.table=e[6]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Ude(e){let t,n=e[10]("base_table_exploration_help")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1024&r&&n!==(n=e[10]("base_table_exploration_help")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Wde(e){let t,n;return t=new Hu({props:{appearance:"secondary",$$slots:{default:[Yde]},$$scope:{ctx:e}}}),t.$on("click",e[23]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};268436480&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Yde(e){let t,n=e[10]("start_over")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1024&r&&n!==(n=e[10]("start_over")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Kde(e){let t,n,r,o,s,a,i,l,c,u,d,$=(e[5]?e[10]("based_on"):e[10]("exploring_from"))+"";const p=[jde,Bde],m=[];function f(e,t){return e[6]?0:1}a=f(e),i=m[a]=p[a](e),c=new H$({props:{$$slots:{default:[Ude]},$$scope:{ctx:e}}});let g=!e[5]&&e[6]&&Wde(e);return{c(){t=q("div"),n=q("div"),r=j($),o=U(),s=q("div"),i.c(),l=U(),at(c.$$.fragment),u=U(),g&&g.c(),X(n,"class","detail svelte-1pjy1pw"),X(s,"class","base-table-holder svelte-1pjy1pw"),se(s,"table-selected",e[6]),X(t,"class","detail-wrapper svelte-1pjy1pw")},m(e,i){H(e,t,i),F(t,n),F(n,r),F(t,o),F(t,s),m[a].m(s,null),F(s,l),it(c,s,null),F(t,u),g&&g.m(t,null),d=!0},p(e,n){(!d||1056&n)&&$!==($=(e[5]?e[10]("based_on"):e[10]("exploring_from"))+"")&&Q(r,$);let o=a;a=f(e),a===o?m[a].p(e,n):(qe(),Ue(m[o],1,1,(()=>{m[o]=null})),Be(),i=m[a],i?i.p(e,n):(i=m[a]=p[a](e),i.c()),je(i,1),i.m(s,l));const u={};268436480&n&&(u.$$scope={dirty:n,ctx:e}),c.$set(u),(!d||64&n)&&se(s,"table-selected",e[6]),!e[5]&&e[6]?g?(g.p(e,n),96&n&&je(g,1)):(g=Wde(e),g.c(),je(g,1),g.m(t,null)):g&&(qe(),Ue(g,1,1,(()=>{g=null})),Be())},i(e){d||(je(i),je(c.$$.fragment,e),je(g),d=!0)},o(e){Ue(i),Ue(c.$$.fragment,e),Ue(g),d=!1},d(e){e&&z(t),m[a].d(),lt(c),g&&g.d()}}}function Gde(e){let t,n,r,o,s,a,i;t=new qde({props:{canSave:e[4],unsavedChangesText:e[10]("exploration_has_unsaved_changes"),onSave:e[16]}});const l=[Zde,Xde],c=[];function u(e,t){return e[1]&&!e[4]?0:1}return r=u(e),o=c[r]=l[r](e),a=new Fde({props:{disabled:!e[1],active:e[0],toggle:e[21]}}),{c(){at(t.$$.fragment),n=U(),o.c(),s=U(),at(a.$$.fragment)},m(e,o){it(t,e,o),H(e,n,o),c[r].m(e,o),H(e,s,o),it(a,e,o),i=!0},p(e,n){const i={};16&n&&(i.canSave=e[4]),1024&n&&(i.unsavedChangesText=e[10]("exploration_has_unsaved_changes")),t.$set(i);let d=r;r=u(e),r===d?c[r].p(e,n):(qe(),Ue(c[d],1,1,(()=>{c[d]=null})),Be(),o=c[r],o?o.p(e,n):(o=c[r]=l[r](e),o.c()),je(o,1),o.m(s.parentNode,s));const $={};2&n&&($.disabled=!e[1]),1&n&&($.active=e[0]),1&n&&($.toggle=e[21]),a.$set($)},i(e){i||(je(t.$$.fragment,e),je(o),je(a.$$.fragment,e),i=!0)},o(e){Ue(t.$$.fragment,e),Ue(o),Ue(a.$$.fragment,e),i=!1},d(e){lt(t,e),e&&z(n),c[r].d(e),e&&z(s),lt(a,e)}}}function Xde(e){let t,n;return t=new Eu({props:{enabled:e[1],$$slots:{content:[e$e],trigger:[Qde]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.enabled=e[1]),268436480&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Zde(e){let t,n;return t=new Eu({props:{allowHover:!0,$$slots:{content:[o$e],trigger:[n$e]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};268438540&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Jde(e){let t,n,r,o,s,a=e[10]("export")+"";const i=[Qx];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return t=new Jd({props:c}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(a),X(r,"class","responsive-button-label")},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),F(r,o),s=!0},p(e,n){const r=0&n?rt(i,[ot(Qx)]):{};t.$set(r),(!s||1024&n)&&a!==(a=e[10]("export")+"")&&Q(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function Qde(e){let t,n;return t=new Hu({props:{slot:"trigger",appearance:"secondary",size:"medium","aria-label":e[10]("export"),disabled:"true",$$slots:{default:[Jde]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1024&n&&(r["aria-label"]=e[10]("export")),268436480&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function e$e(e){let t,n,r=e[10]("export_exploration_save_help")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","content")},m(e,r){H(e,t,r),F(t,n)},p(e,t){1024&t&&r!==(r=e[10]("export_exploration_save_help")+"")&&Q(n,r)},d(e){e&&z(t)}}}function t$e(e){let t,n,r,o,s,a=e[10]("export")+"";const i=[Qx];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return t=new Jd({props:c}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(a),X(r,"class","responsive-button-label")},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),F(r,o),s=!0},p(e,n){const r=0&n?rt(i,[ot(Qx)]):{};t.$set(r),(!s||1024&n)&&a!==(a=e[10]("export")+"")&&Q(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function n$e(e){let t,n;return t=new Rc({props:{slot:"trigger",href:"/api/export/v0/explorations/?"+e[3],"data-tinro-ignore":!0,appearance:"secondary",size:"medium","aria-label":e[10]("export"),download:e[2].name+".csv",$$slots:{default:[t$e]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.href="/api/export/v0/explorations/?"+e[3]),1024&n&&(r["aria-label"]=e[10]("export")),4&n&&(r.download=e[2].name+".csv"),268436480&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function r$e(e){let t,n=e[10]("export_exploration_50K_limit")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1024&r&&n!==(n=e[10]("export_exploration_50K_limit")+"")&&Q(t,n)},d(e){e&&z(t)}}}function o$e(e){let t,n,r,o=e[10]("export_exploration_as_csv_help",{values:{explorationName:e[2].name}})+"",s=e[11].totalCount>5e4&&r$e(e);return{c(){t=q("span"),n=j(o),r=U(),s&&s.c(),X(t,"slot","content")},m(e,o){H(e,t,o),F(t,n),F(t,r),s&&s.m(t,null)},p(e,r){1028&r&&o!==(o=e[10]("export_exploration_as_csv_help",{values:{explorationName:e[2].name}})+"")&&Q(n,o),e[11].totalCount>5e4?s?s.p(e,r):(s=r$e(e),s.c(),s.m(t,null)):s&&(s.d(1),s=null)},d(e){e&&z(t),s&&s.d()}}}function s$e(e){let t,n,r=e[6]&&Gde(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){e[6]?r?(r.p(e,n),64&n&&je(r,1)):(r=Gde(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function a$e(e){let t,n,r=e[10]("save_exploration")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","title")},m(e,r){H(e,t,r),F(t,n)},p(e,t){1024&t&&r!==(r=e[10]("save_exploration")+"")&&Q(n,r)},d(e){e&&z(t)}}}function i$e(e){let t,n,r,o,s,a;return n=new Ode({props:{title:e[5]?{name:e[2].name??"",description:e[2].description,icon:DC}:void 0,$$slots:{"actions-right":[s$e],default:[Kde]},$$scope:{ctx:e}}}),s=new bre({props:{controller:e[12],save:e[15],getNameValidationErrors:e[14],getInitialName:e[24],getInitialDescription:e[25],$$slots:{title:[a$e]},$$scope:{ctx:e}}}),{c(){t=q("div"),r=q("div"),at(n.$$.fragment),o=U(),at(s.$$.fragment),te(r,"display","contents"),te(r,"--icon-fill-color","linear-gradient(135deg, var(--color-exploration), var(--color-exploration-40))"),te(r,"--icon-stroke-color","var(--color-fg-inverted)"),X(t,"class","actions-pane")},m(e,i){H(e,t,i),F(t,r),it(n,r,null),H(e,o,i),it(s,e,i),a=!0},p(e,[t]){const r={};36&t&&(r.title=e[5]?{name:e[2].name??"",description:e[2].description,icon:DC}:void 0),268438655&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const o={};4&t&&(o.getInitialName=e[24]),4&t&&(o.getInitialDescription=e[25]),268436480&t&&(o.$$scope={dirty:t,ctx:e}),s.$set(o)},i(e){a||(je(n.$$.fragment,e),je(s.$$.fragment,e),a=!0)},o(e){Ue(n.$$.fragment,e),Ue(s.$$.fragment,e),a=!1},d(e){e&&z(t),lt(n),e&&z(o),lt(s,e)}}}function l$e(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,b,v=a,w=a,_=a;y(e,no,(e=>n(10,p=e))),y(e,zU,(e=>n(26,m=e))),y(e,_H,(e=>n(20,h=e))),e.$$.on_destroy.push((()=>v())),e.$$.on_destroy.push((()=>w())),e.$$.on_destroy.push((()=>_()));const x=US.spawnModalController();let{queryManager:C}=t,{linkCollapsibleOpenState:S={}}=t,{isInspectorOpen:k}=t;function M(e){C.update((t=>t.withBaseTable(e?e.oid:void 0))),n(17,S={})}async function I(){try{return await C.save(),{success:!0}}catch(e){return WS.fromError(e),{success:!1}}}return e.$$set=e=>{"queryManager"in e&&n(18,C=e.queryManager),"linkCollapsibleOpenState"in e&&n(17,S=e.linkCollapsibleOpenState),"isInspectorOpen"in e&&n(0,k=e.isInspectorOpen)},e.$$.update=()=>{262144&e.$$.dirty&&(n(9,({rowsData:r,query:o,queryHasUnsavedChanges:s}=C),r,(n(8,o),v(),v=g(o,(e=>n(2,$=e))),o),(n(7,s),w(),w=g(s,(e=>n(19,f=e))),s)),_(),_=g(r,(e=>n(11,b=e)))),1048580&e.$$.dirty&&n(6,i=$.base_table_oid?h.tablesMap.get($.base_table_oid):void 0),4&e.$$.dirty&&n(5,l=$.isSaved()),4&e.$$.dirty&&n(1,c=$.initial_columns.length>0),524294&e.$$.dirty&&n(4,u=!!$.base_table_oid&&c&&f),4&e.$$.dirty&&n(3,d=hk({database_id:$.database_id,exploration_id:$.id}))},[k,c,$,d,u,l,i,s,o,r,p,b,x,M,function(e){const t=e.trim();return t?Array.from(m.data??[]).some((([,e])=>e.name.toLowerCase().trim()===t))?[p("exploration_with_name_already_exists")]:[]:[p("exploration_name_cannot_be_empty")]},async function(e,t){try{await C.update((n=>n.withName(e).model.withDescription(t))),await I()}catch(n){WS.fromError(n)}},async function(){$.isSaved()?await I():x.open()},S,C,f,h,()=>{n(0,k=!k)},e=>M(e.detail),()=>M(void 0),()=>$.name??"",()=>$.description??""]}class c$e extends ut{constructor(e){super(),ct(this,e,l$e,i$e,f,{queryManager:18,linkCollapsibleOpenState:17,isInspectorOpen:0})}}function u$e(e){let t,n,r=e[1]("select_cell_view_properties")+"";return{c(){t=q("div"),n=j(r),X(t,"class","no-cell-selected svelte-1ihxnzl")},m(e,r){H(e,t,r),F(t,n)},p(e,t){2&t&&r!==(r=e[1]("select_cell_view_properties")+"")&&Q(n,r)},i:a,o:a,d(e){e&&z(t)}}}function d$e(e){let t,n,r,o,s,a,i=e[1]("content")+"",l=e[3]&&$$e(e);return{c(){t=q("section"),n=q("header"),r=j(i),o=U(),s=q("div"),l&&l.c(),X(n,"class","header svelte-1ihxnzl"),X(s,"class","content svelte-1ihxnzl"),X(t,"class","active-cell")},m(e,i){H(e,t,i),F(t,n),F(n,r),F(t,o),F(t,s),l&&l.m(s,null),a=!0},p(e,t){(!a||2&t)&&i!==(i=e[1]("content")+"")&&Q(r,i),e[3]?l?(l.p(e,t),1&t&&je(l,1)):(l=$$e(e),l.c(),je(l,1),l.m(s,null)):l&&(qe(),Ue(l,1,1,(()=>{l=null})),Be())},i(e){a||(je(l),a=!0)},o(e){Ue(l),a=!1},d(e){e&&z(t),l&&l.d()}}}function $$e(e){let t,n;return t=new JV({props:{isIndependentOfSheet:!0,disabled:!0,columnFabric:e[3],value:e[4],recordSummary:e[5],fileManifest:e[6]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.columnFabric=e[3]),1&n&&(r.value=e[4]),1&n&&(r.recordSummary=e[5]),1&n&&(r.fileManifest=e[6]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function p$e(e){let t,n,r,o;const s=[d$e,u$e],a=[];function i(e,t){return e[0]?0:1}function l(e,t){return 0===t?function(e){const t=e.slice(),n=t[0];return t[3]=n.column,t[4]=n.value,t[5]=n.recordSummary,t[6]=n.fileManifest,t}(e):e}return n=i(e),r=a[n]=s[n](l(e,n)),{c(){t=q("div"),r.c(),X(t,"class","cell-inspector svelte-1ihxnzl")},m(e,r){H(e,t,r),a[n].m(t,null),o=!0},p(e,[o]){let c=n;n=i(e),n===c?a[n].p(l(e,n),o):(qe(),Ue(a[c],1,1,(()=>{a[c]=null})),Be(),r=a[n],r?r.p(l(e,n),o):(r=a[n]=s[n](l(e,n)),r.c()),je(r,1),r.m(t,null))},i(e){o||(je(r),o=!0)},o(e){Ue(r),o=!1},d(e){e&&z(t),a[n].d()}}}function m$e(e,t,n){let r,o;y(e,no,(e=>n(1,o=e)));let{selectedCellData:s}=t;return e.$$set=e=>{"selectedCellData"in e&&n(2,s=e.selectedCellData)},e.$$.update=()=>{4&e.$$.dirty&&n(0,({activeCellData:r}=s),r)},[r,o,s]}class f$e extends ut{constructor(e){super(),ct(this,e,m$e,p$e,f,{selectedCellData:2})}}function g$e([e,{label:t}]){return{id:e,label:t}}function h$e(e){return Object.entries(e).map(g$e)}class y$e{constructor(t){e(this,"tabs",void 0),e(this,"activeTabId",void 0),e(this,"activeTab",void 0);const n={exploration:{label:h(no)("exploration")},column:{label:h(no)("column")},cell:{label:h(no)("cell")}};this.tabs=mt(t,(e=>{if(e.isSaved())return h$e(n);const{exploration:t,...r}=n;return h$e(r)}));const r=h(this.tabs)[0].id;this.activeTabId=pt(r),this.activeTab=mt(this.activeTabId,(e=>g$e([e,n[e]])))}activate(e){this.activeTabId.set(e)}}const b$e=(e,t)=>e[1].linksTo&&!t[1].linksTo?1:!e[1].linksTo&&t[1].linksTo?-1:0;function v$e(e,t,n,r=""){const o=e.joinable_tables.filter((e=>e.depth===n&&!1===e.fkey_path[n-1][1]&&e.join_path[n-1][0][1]===t&&0===e.join_path.join(",").indexOf(r)));if(0===o.length)return;if(o.length>1)throw new Error(`Multiple links present for the same column: ${t}`);const s=o[0],a=e.target_table_info[s.target],i={id:s.target,name:a.name},l=s.join_path[n-1][1][1],c={id:l,name:a.columns[l].name},u=Object.entries(a.columns).map((([t,r])=>{const o=parseInt(t,10);return[o,{id:o,name:r.name,tableName:a.name,type:r.type,linksTo:v$e(e,o,n+1,s.join_path.join(",")),jpPath:s.join_path,producesMultipleResults:s.multiple_results,metadata:null}]}));return{...i,linkedToColumn:c,columns:new Map(u.sort(b$e))}}function w$e({joinableTables:e,baseTable:t,columns:n}){const r=new Map;n.forEach((e=>{r.set(e.id,{id:e.id,name:e.name,type:e.type,tableId:t.oid,tableName:t.name})}));for(const[o,s]of Object.entries(e.target_table_info)){const e=parseInt(o,10);for(const[t,n]of Object.entries(s.columns)){const o=parseInt(t,10);r.set(o,{id:o,name:n.name,type:n.type,tableId:e,tableName:s.name})}}return r}function _$e({joinableTables:e,baseTable:t,columns:n}){const r=n.map((({id:n,name:r,type:o,metadata:s})=>[n,{id:n,name:r,type:o,metadata:s,tableName:t.name,linksTo:v$e(e,n,1),producesMultipleResults:!1}]));return new Map(r.sort(b$e))}function x$e({joinableTables:e,baseTable:t,columns:n}){const r=e.joinable_tables.filter((e=>1===e.depth&&!0===e.fkey_path[0][1])),o=[];for(const s of r){const r=s.join_path[0][0][1],a=s.join_path[0][1][1],i=n.find((e=>e.id===r));if(!i)continue;const l=s.target,c=e.target_table_info[l],u=c.columns[a],d=Object.entries(c.columns).filter((([e])=>e!==String(a))).map((([n,r])=>{const o=parseInt(n,10),a=s.join_path.join(",");return[o,{id:o,name:r.name,type:r.type,tableName:t.name,linksTo:v$e(e,o,2,a),jpPath:s.join_path,producesMultipleResults:s.multiple_results,metadata:null}]}));o.push({id:l,name:c.name,referencedViaColumn:{id:a,name:u.name,type:u.type},linkedToColumn:i,columns:new Map(d.sort(b$e))})}return o}function C$e(e){const t={alias:e.alias,display_name:e.display_name??e.alias,type:e.type??"unknown",type_options:e.type_options??null,metadata:e.metadata??null},n=CN(t.type,t.metadata),r=e.is_initial_column?{is_initial_column:!0,input_column_name:e.input_column_name,input_table_name:e.input_table_name,input_table_id:e.input_table_id}:{is_initial_column:!1,input_alias:e.input_alias};return{id:t.alias,column:t,abstractType:n,cellComponentAndProps:fz({cellInfo:n.cellInfo,column:t}),simpleInputComponentAndProps:hz(t,n.cellInfo)??gz(t,n.cellInfo),initialInputValue:bz(t,void 0,n.cellInfo),allowedFiltersMap:FN(n.identifier),preprocFunctions:HN(n.identifier),summarizationFunctions:BN(n.identifier),source:r,formatCellValue:vz(t)}}function S$e(e,t){return new ao(e.map(((e,n)=>[e,{...t.get(e)??C$e({alias:e,is_initial_column:!0}),columnIndex:n}])))}function k$e(e){return String(e.rowIndex)}function M$e(e){let t,n;return t=new f$e({props:{selectedCellData:e[0]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.selectedCellData=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function I$e(e,t,n){let r,o,s,i,l,c,u,d=a,$=a,p=a;e.$$.on_destroy.push((()=>d())),e.$$.on_destroy.push((()=>$())),e.$$.on_destroy.push((()=>p()));let{queryHandler:m}=t;return e.$$set=e=>{"queryHandler"in e&&n(4,m=e.queryHandler)},e.$$.update=()=>{16&e.$$.dirty&&(n(3,({selection:r,processedColumns:o,rowsData:s}=m),r,(n(2,o),d(),d=g(o,(e=>n(5,l=e))),o),(n(1,s),$(),$=g(s,(e=>n(6,c=e))),s)),p(),p=g(r,(e=>n(7,u=e)))),224&e.$$.dirty&&n(0,i=function(e,t,n){const{activeCellId:r}=e,o={cellCount:e.cellIds.size},s={selectionData:o};if(!r)return s;const{rowId:a,columnId:i}=qI(r),l=t.find((e=>k$e(e)===a));if(!l)return s;const c=l.record[i],u=n.get(i);return{activeCellData:u&&{column:u,value:c},selectionData:o}}(u,c.rows,l))},[i,s,o,r,m,l,c,u]}class T$e extends ut{constructor(e){super(),ct(this,e,I$e,M$e,f,{queryHandler:4})}}class E$e{constructor(t,n){e(this,"maxEntries",5),e(this,"cache",void 0),this.maxEntries=t,this.cache=new Map(n??[])}set(e,t){this.cache.delete(e),this.cache.set(e,t),this.cache.size>this.maxEntries&&this.cache.delete([...this.cache.keys()][0])}get(e){return this.cache.get(e)}getOrCreate(e,t){let n=this.cache.get(e);return void 0===n&&(n=t(),this.set(e,n)),n}}class D$e{constructor(t){e(this,"map",void 0);const n=new Map;for(const e of t)n.set(e,(n.get(e)??0)+1);this.map=n}get(e){return this.map.get(e)??0}isSubsetOf(e){return oc((t=>e.includes(t)),this.map.keys())}get distinctValues(){return this.map.size}}function O$e(e,t){return e.name===t.name&&e.item_type===t.item_type}function N$e(e,t){return{name:e.alias,index:t,type:{name:e.type,item_type:e.type_options?.item_type??void 0}}}function*A$e(e){const t=e.columnDisplayOptions??{};for(const{column:n,displayOptions:r}of Object.values(t)){const e=r.display_width??void 0;e&&(yield[n.name,e])}}function R$e(e,t){const n=[...e].map((e=>function(e,t){const n=e.column,r=t.at(n.index);if(n.name===r?.name)return O$e(n.type,r.type)?{outcome:"unchanged",entry:e}:{outcome:"new-type",entry:{...e,column:r}};const o=t.find((e=>e.name===n.name));if(o&&O$e(n.type,o.type))return{outcome:"new-index",entry:{...e,column:o}};if(n.type===r?.type)return{outcome:"new-name",entry:{...e,column:r}};return{outcome:"removed",entry:e}}(e,t))),r=new D$e(gc((e=>e.outcome),n));return r.isSubsetOf(["unchanged"])?{hasChanged:!1}:r.isSubsetOf(["unchanged","removed","new-index"])||r.isSubsetOf(["unchanged","new-name"])||r.isSubsetOf(["unchanged","new-type"])?{hasChanged:!0,newValue:Object.fromEntries(n.filter((e=>"removed"!==e.outcome)).map((({entry:e})=>[e.column.index,e])))}:{hasChanged:!0,newValue:Object.fromEntries(n.filter((e=>"unchanged"===e.outcome)).map((({entry:e})=>[e.column.index,e])))}}function F$e(e){const t=e[3].get(e[47]);e[48]=t}function P$e(e){let t,n;const r=e[31].default,o=b(r,e,e[39],null);return{c(){t=q("div"),o&&o.c(),X(t,"class","prefix svelte-1wl4ksg")},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||256&t[1])&&_(o,r,e,e[39],n?w(r,e[39],t,null):x(e[39]),null)},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function L$e(e){let t,n;return F$e(e),t=new HV({props:{column:{name:e[15](e[47]),type:e[48]?.column.type??"unknown",type_options:e[48]?.column.type_options??null,constraintsType:e[16](e[47]),metadata:e[48]?.column.metadata??null}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){F$e(e);const r={};8&n[0]|65536&n[1]&&(r.column={name:e[15](e[47]),type:e[48]?.column.type??"unknown",type_options:e[48]?.column.type_options??null,constraintsType:e[16](e[47]),metadata:e[48]?.column.metadata??null}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function H$e(e){let t,n,r;function o(t){e[33](t)}let s={options:e[12],getLabel:e[17],triggerClass:"filter-condition"};return void 0!==e[1]&&(s.value=e[1]),t=new $y({props:s}),Ce.push((()=>st(t,"value",o))),t.$on("change",e[34]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};4096&r[0]&&(o.options=e[12]),!n&&2&r[0]&&(n=!0,o.value=e[1],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function z$e(e){let t,n,r;function o(t){e[35](t)}let s={componentAndProps:e[10],class:wz,hasError:e[7]&&!e[11],recordSummary:e[8].get(String(e[0]))?.get(String(e[2])),setRecordSummary:e[21]};return void 0!==e[2]&&(s.value=e[2]),t=new DV({props:s}),Ce.push((()=>st(t,"value",o))),t.$on("input",e[36]),t.$on("blur",e[37]),t.$on("change",e[18]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};1024&r[0]&&(o.componentAndProps=e[10]),2176&r[0]&&(o.hasError=e[7]&&!e[11]),261&r[0]&&(o.recordSummary=e[8].get(String(e[0]))?.get(String(e[2]))),!n&&4&r[0]&&(n=!0,o.value=e[2],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function V$e(e){let t,n,r=e[10]&&z$e(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){e[10]?r?(r.p(e,n),1024&n[0]&&je(r,1)):(r=z$e(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function q$e(e){let t,n;return t=new Hu({props:{size:"small",class:"filter-remove",appearance:"secondary",$$slots:{default:[B$e]},$$scope:{ctx:e}}}),t.$on("click",e[38]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};256&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function B$e(e){let t,n;const r=[Kx];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[ot(Kx)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function j$e(e){let t,n,r,o,s,i,l,c=e[0],u=`${e[0]}${e[1]}`;function d(t){e[32](t)}let $={options:e[13],getLabel:e[15],triggerClass:"filter-column-id",disabled:e[5],$$slots:{default:[L$e,({option:e})=>({47:e}),({option:e})=>[0,e?65536:0]]},$$scope:{ctx:e}};void 0!==e[0]&&($.value=e[0]),t=new $y({props:$}),Ce.push((()=>st(t,"value",d))),t.$on("change",e[19]);let p=H$e(e),m=V$e(e),g=e[6]&&q$e(e);return{c(){at(t.$$.fragment),r=U(),p.c(),o=U(),m.c(),s=U(),g&&g.c(),i=W()},m(e,n){it(t,e,n),H(e,r,n),p.m(e,n),H(e,o,n),m.m(e,n),H(e,s,n),g&&g.m(e,n),H(e,i,n),l=!0},p(e,r){const l={};8192&r[0]&&(l.options=e[13]),32&r[0]&&(l.disabled=e[5]),8&r[0]|65792&r[1]&&(l.$$scope={dirty:r,ctx:e}),!n&&1&r[0]&&(n=!0,l.value=e[0],Oe((()=>n=!1))),t.$set(l),1&r[0]&&f(c,c=e[0])?(qe(),Ue(p,1,1,a),Be(),p=H$e(e),p.c(),je(p,1),p.m(o.parentNode,o)):p.p(e,r),3&r[0]&&f(u,u=`${e[0]}${e[1]}`)?(qe(),Ue(m,1,1,a),Be(),m=V$e(e),m.c(),je(m,1),m.m(s.parentNode,s)):m.p(e,r),e[6]?g?(g.p(e,r),64&r[0]&&je(g,1)):(g=q$e(e),g.c(),je(g,1),g.m(i.parentNode,i)):g&&(qe(),Ue(g,1,1,(()=>{g=null})),Be())},i(e){l||(je(t.$$.fragment,e),je(p),je(m),je(g),l=!0)},o(e){Ue(t.$$.fragment,e),Ue(p),Ue(m),Ue(g),l=!1},d(e){lt(t,e),e&&z(r),p.d(e),e&&z(o),m.d(e),e&&z(s),g&&g.d(e),e&&z(i)}}}function U$e(e){let t,n,r,o,s,a=e[22].default&&P$e(e);return r=new $m({props:{class:e[4],$$slots:{default:[j$e]},$$scope:{ctx:e}}}),{c(){t=q("div"),a&&a.c(),n=U(),at(r.$$.fragment),X(t,"class",o="filter-entry "+e[4]+" svelte-1wl4ksg")},m(e,o){H(e,t,o),a&&a.m(t,null),F(t,n),it(r,t,null),s=!0},p(e,i){e[22].default?a?(a.p(e,i),4194304&i[0]&&je(a,1)):(a=P$e(e),a.c(),je(a,1),a.m(t,n)):a&&(qe(),Ue(a,1,1,(()=>{a=null})),Be());const l={};16&i[0]&&(l.class=e[4]),15855&i[0]|256&i[1]&&(l.$$scope={dirty:i,ctx:e}),r.$set(l),(!s||16&i[0]&&o!==(o="filter-entry "+e[4]+" svelte-1wl4ksg"))&&X(t,"class",o)},i(e){s||(je(a),je(r.$$.fragment,e),s=!0)},o(e){Ue(a),Ue(r.$$.fragment,e),s=!1},d(e){e&&z(t),a&&a.d(),lt(r)}}}function W$e(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f=a;e.$$.on_destroy.push((()=>f()));let{$$slots:h={},$$scope:y}=t;const b=k(h),v=ye();let{columns:w}=t,{getColumnLabel:_}=t,{getColumnConstraintType:x=(()=>{})}=t,{columnIdentifier:C}=t,{conditionIdentifier:S}=t,{value:M}=t,{layout:I="horizontal"}=t,{disableColumnChange:T=!1}=t,{allowDelete:E=!0}=t,{numberOfFilters:D=0}=t,{recordSummaryStore:O}=t;const N=D;let A,R=!1,F=M;function P(e){F!==e&&(F=e,v("update"))}function L(e){if(!e)return;const t=s.get(e);t&&(void 0===t?.parameters[0]&&(F=void 0,n(2,M=void 0)),v("update"))}he((()=>{window.clearTimeout(A)}));return e.$$set=e=>{"columns"in e&&n(3,w=e.columns),"getColumnLabel"in e&&n(23,_=e.getColumnLabel),"getColumnConstraintType"in e&&n(24,x=e.getColumnConstraintType),"columnIdentifier"in e&&n(0,C=e.columnIdentifier),"conditionIdentifier"in e&&n(1,S=e.conditionIdentifier),"value"in e&&n(2,M=e.value),"layout"in e&&n(4,I=e.layout),"disableColumnChange"in e&&n(5,T=e.disableColumnChange),"allowDelete"in e&&n(6,E=e.allowDelete),"numberOfFilters"in e&&n(25,D=e.numberOfFilters),"recordSummaryStore"in e&&n(26,O=e.recordSummaryStore),"$$scope"in e&&n(39,y=e.$$scope)},e.$$.update=()=>{var t;8&e.$$.dirty[0]&&n(13,r=[...w.values()].map((e=>e.id))),9&e.$$.dirty[0]&&n(28,o=C?w.get(C):void 0),268435456&e.$$.dirty[0]&&n(27,s=o?.allowedFiltersMap??new Map),134217728&e.$$.dirty[0]&&n(12,i=[...s].map((([e])=>e))),134217730&e.$$.dirty[0]&&n(29,l=S?s.get(S):void 0),268435456&e.$$.dirty[0]&&(c=o?.simpleInputComponentAndProps),536870916&e.$$.dirty[0]&&n(11,u=!!l&&_z(l,M)),33554432&e.$$.dirty[0]&&D!==N&&n(7,R=!0),4&e.$$.dirty[0]&&(t=M,clearTimeout(A),A=window.setTimeout((()=>{P(t)}),500)),805306368&e.$$.dirty[0]&&n(10,d=function(e,t){const n=e?.parameters[0];if(void 0===n)return;const r=t?.abstractType.identifier;if(r===n&&c)return c;const o={type:n,type_options:{},metadata:{}};return hz(o)??gz(o)}(l,o)),67108864&e.$$.dirty[0]&&(n(9,$=O??$t(new ao)),f(),f=g($,(e=>n(30,m=e)))),1073741824&e.$$.dirty[0]&&n(8,p=m)},[C,S,M,w,I,T,E,R,p,$,d,u,i,r,v,function(e){if(e){const t=w.get(e);if(t)return _(t)}return""},function(e){if(e){const t=w.get(e);if(t)return x(t)}},function(e){return e?s.get(e)?.name??"":""},function(){clearTimeout(A),P(M)},function(){F=void 0,n(2,M=void 0),v("update")},L,function(e,t){O&&O.addBespokeValue({columnId:String(C),key:e,value:t})},b,_,x,D,O,s,o,l,m,h,function(e){C=e,n(0,C)},function(e){S=e,n(1,S)},e=>L(e.detail),function(e){M=e,n(2,M)},()=>{n(7,R=!0)},()=>{n(7,R=!0)},()=>v("removeFilter"),y]}class Y$e extends ut{constructor(e){super(),ct(this,e,W$e,U$e,f,{columns:3,getColumnLabel:23,getColumnConstraintType:24,columnIdentifier:0,conditionIdentifier:1,value:2,layout:4,disableColumnChange:5,allowDelete:6,numberOfFilters:25,recordSummaryStore:26},null,[-1,-1])}}class K$e{constructor(t){if(e(this,"type","filter"),e(this,"name",h(no)("filter")),e(this,"columnIdentifier",void 0),e(this,"conditionIdentifier",void 0),e(this,"value",void 0),"columnIdentifier"in t)this.columnIdentifier=t.columnIdentifier,this.conditionIdentifier=t.conditionIdentifier,this.value=t.value;else{[this.conditionIdentifier]=Object.keys(t.spec);const e=t.spec[this.conditionIdentifier];if(!e)throw new Error("Invalid QueryInstanceFilterTransformation");[this.columnIdentifier]=e[0].column_name,this.value=e[1]?.literal[0]}}isValid(){const e=function(e){const t=ON.find((t=>t.id===e));if(t)return{id:t.id,name:t.name,hasAliases:!!t.aliases,hasParams:t.hasParams}}(this.conditionIdentifier);return!!e&&_z(e,this.value)}toJson(){return{type:"filter",spec:{[this.conditionIdentifier]:[{column_name:[this.columnIdentifier]},...void 0!==this.value?[{literal:[this.value]}]:[]]}}}isColumnUsedInTransformation(e){return this.columnIdentifier===e}}class G$e{constructor(t){e(this,"type","hide"),e(this,"name",h(no)("hide_columns")),e(this,"columnAliases",void 0),this.columnAliases="columnAliases"in t?t.columnAliases:t.spec}isValid(){return this.columnAliases.length>0}toJson(){return{type:this.type,spec:this.columnAliases}}isColumnUsedInTransformation(e){return this.columnAliases.includes(e)}}class X$e{constructor(t){e(this,"type","order"),e(this,"name",h(no)("sort")),e(this,"columnIdentifier",void 0),e(this,"sortDirection",void 0),e(this,"isValid",(()=>!0)),"columnIdentifier"in t?(this.columnIdentifier=t.columnIdentifier,this.sortDirection=t.sortDirection):(this.columnIdentifier=t.spec[0].field,this.sortDirection="desc"===t.spec[0].direction?"DESCENDING":"ASCENDING")}toJson(){return{type:this.type,spec:[{field:this.columnIdentifier,direction:"DESCENDING"===this.sortDirection?"desc":"asc"}]}}isColumnUsedInTransformation(e){return this.columnIdentifier===e}}class Z$e{constructor(t){if(e(this,"type","summarize"),e(this,"name",h(no)("summarization")),e(this,"columnIdentifier",void 0),e(this,"preprocFunctionIdentifier",void 0),e(this,"groups",void 0),e(this,"aggregations",void 0),e(this,"isValid",(()=>!0)),"columnIdentifier"in t)this.columnIdentifier=t.columnIdentifier,this.preprocFunctionIdentifier=t.preprocFunctionIdentifier,this.aggregations=t.aggregations,this.groups=t.groups;else{const e=t.spec.base_grouping_column,n=t.spec.aggregation_expressions??[],r=t.spec.grouping_expressions??[];this.columnIdentifier=e,this.aggregations=new ao(n.map((e=>[e.input_alias,{inputAlias:e.input_alias,outputAlias:e.output_alias,function:e.function}])));let o=new ao(r.map((e=>[e.input_alias,{inputAlias:e.input_alias,outputAlias:e.output_alias,preprocFunction:e.preproc}])));const s=o.get(e);s&&(this.preprocFunctionIdentifier=s.preprocFunction,o=o.without(e)),this.groups=o}}getBaseColumnOutputAlias(){return`${this.columnIdentifier}_grouped`}getOutputColumnAliases(){return[this.getBaseColumnOutputAlias(),...[...this.groups.values()].map((e=>e.outputAlias)),...[...this.aggregations.values()].map((e=>e.outputAlias))]}toJson(){const e=[...this.aggregations.entries()],t=[...this.groups.entries()];return{type:"summarize",spec:{base_grouping_column:this.columnIdentifier,grouping_expressions:[{input_alias:this.columnIdentifier,output_alias:this.getBaseColumnOutputAlias(),preproc:this.preprocFunctionIdentifier},...t.map((([e,t])=>({input_alias:e,output_alias:t.outputAlias,preproc:t.preprocFunction})))],aggregation_expressions:e.map((([e,t])=>({input_alias:e,output_alias:t.outputAlias,function:t.function})))}}}isColumnUsedInTransformation(e){return this.getOutputColumnAliases().includes(e)}}function J$e(e){switch(e.type){case"filter":return new K$e(e);case"summarize":return new Z$e(e);case"hide":return new G$e(e);case"order":return new X$e(e);default:return So(e)}}class Q$e{constructor(t){let n;e(this,"database_id",void 0),e(this,"schema_oid",void 0),e(this,"base_table_oid",void 0),e(this,"id",void 0),e(this,"name",void 0),e(this,"description",void 0),e(this,"initial_columns",void 0),e(this,"transformationModels",void 0),e(this,"display_names",void 0),e(this,"display_options",void 0),e(this,"isValid",void 0),e(this,"isRunnable",void 0),this.database_id=t.database_id,this.schema_oid=t.schema_oid,this.base_table_oid=t.base_table_oid,this.id=t.id,this.name=t.name,this.description=t.description,this.initial_columns=t.initial_columns??[],n=t&&"transformationModels"in t?[...t.transformationModels]:t.transformations?.map(J$e)??[],this.transformationModels=n,this.display_names=t.display_names??{},this.display_options=t.display_options||{columnDisplayOptions:{}};const r=void 0===(o={base_table_oid:t.base_table_oid,transformationModels:n}).base_table_oid?{isValid:!1,isRunnable:!1}:{isValid:o.transformationModels.every((e=>e.isValid())),isRunnable:!0};var o;this.isValid=r.isValid,this.isRunnable=r.isRunnable}withBaseTable(e){return{model:new Q$e({database_id:this.database_id,schema_oid:this.schema_oid,base_table_oid:e,id:this.id,name:this.name}),type:"baseTable"}}withId(e){return{model:new Q$e({...this,id:e}),type:"id"}}withName(e){return{model:new Q$e({...this,name:e}),type:"name"}}withDescription(e){return{model:new Q$e({...this,description:e}),type:"name"}}withInitialColumn(e){const t=[...this.initial_columns,e];return{model:new Q$e({...this,initial_columns:t,display_names:{...this.display_names,[e.alias]:e.alias}}),type:"initialColumnsArray"}}withoutInitialColumns(e){const t=this.initial_columns.filter((t=>!e.includes(t.alias)));return{model:new Q$e({...this,initial_columns:t}),type:"initialColumnsArray"}}withoutInitialColumn(e){return this.withoutInitialColumns([e])}withDisplayNameForColumn(e,t){const n={...this.display_names,[e]:t};return{model:new Q$e({...this,display_names:n}),type:"initialColumnName"}}withColumnDisplayOptionsEntry(e){const t={...this.display_options,columnDisplayOptions:{...this.display_options.columnDisplayOptions??{},[e.column.index]:{column:e.column,displayOptions:e.displayOptions}}};return{model:new Q$e({...this,display_options:t}),type:"displayOptions"}}withAllDisplayOptionsReplaced(e){return{model:new Q$e({...this,display_options:e}),type:"displayOptions"}}addTransform(e){return{model:new Q$e({...this,transformationModels:[...this.transformationModels,e]}),type:"transformations"}}addFilterTransform(e){return this.addTransform(e)}addSummarizationTransform(e){if(this.hasSummarizationTransform())throw new Error("QueryModel currently allows only a single summarization transformation");return this.addTransform(e)}addHideTransform(e){return this.addTransform(e)}addSortTransform(e){return this.addTransform(e)}removeLastTransform(){return{model:new Q$e({...this,transformationModels:this.transformationModels.slice(0,-1)}),type:"transformations"}}updateTransform(e,t){const n=[...this.transformationModels];n[e]=t;return{model:new Q$e({...this,transformationModels:n}),type:"transformations"}}getInitialColumnsAndTransformsUtilizingThemByColumnIds(e){const t=this.initial_columns.filter((t=>e.includes(t.attnum))),n=t.map((e=>e.alias)),r=[];let o=!1;return this.transformationModels.forEach(((e,t)=>{if(!o)return"summarize"===e.type?(o=!0,void r.push({index:t,transform:e})):void(n.some((t=>e.isColumnUsedInTransformation(t)))&&r.push({index:t,transform:e}));r.push({index:t,transform:e})})),{initialColumnsUsingColumnIds:t,transformsUsingColumnIds:r}}withoutColumnsById(e){const t=this.initial_columns.filter((t=>!e.includes(t.attnum)));let n=this.transformationModels;const r=this.transformationModels.findIndex((e=>"summarize"===e.type));r>-1&&(n=n.slice(0,r));const o=this.initial_columns.filter((t=>e.includes(t.attnum))).map((e=>e.alias)),s=n.filter((e=>!o.some((t=>e.isColumnUsedInTransformation(t)))));return{model:new Q$e({...this,initial_columns:t,transformationModels:s}),type:"initialColumnsAndTransformations"}}getColumn(e){return this.initial_columns.find((t=>t.alias===e))}getSummarizationTransforms(){return this.transformationModels.filter((e=>"summarize"===e.type))}isColumnUsedInTransformations(e){return this.transformationModels.some((t=>t.isColumnUsedInTransformation(e)))}areColumnsUsedInTransformations(e){return e.some((e=>this.isColumnUsedInTransformations(e)))}getOutputColumnAliases(){const e=this.getSummarizationTransforms();return e.length>0?e[e.length-1].getOutputColumnAliases():this.initial_columns.map((e=>e.alias))}getAllSortedColumns(){return this.transformationModels.filter((e=>"order"===e.type)).map((e=>e.columnIdentifier))}getAllSortableColumns(){const e=new Set(this.getAllSortedColumns());return this.getOutputColumnAliases().filter((t=>!e.has(t)))}toAnonymousExploration(){if(void 0===this.base_table_oid)throw new Error("Cannot formulate run request since base_table is undefined");const e=this.isValid?this.transformationModels:this.transformationModels.filter((e=>e.isValid()));return{database_id:this.database_id,schema_oid:this.schema_oid,base_table_oid:this.base_table_oid,initial_columns:this.initial_columns,transformations:e.map((e=>e.toJson())),display_names:this.display_names,display_options:this.display_options}}getColumnCount(e){const t=JSON.stringify(e.jpPath);return this.initial_columns.filter((n=>{const r=JSON.stringify(n.join_path);return n.attnum===e.id&&r===t})).length}toMaybeSavedExploration(){return{...this.toAnonymousExploration(),id:this.id,name:this.name,description:this.description}}isSaved(){return!!this.id}hasSummarizationTransform(){return this.transformationModels.some((e=>"summarize"===e.type))}}class epe extends class{constructor({query:t,runMode:n}){e(this,"query",void 0),e(this,"runState",pt()),e(this,"pagination",pt(new _T({size:100}))),e(this,"rowsData",pt({totalCount:0,rows:[]})),e(this,"columnsMetaData",pt(new ao)),e(this,"processedColumns",pt(new ao)),e(this,"selectableRowsMap",void 0),e(this,"selection",void 0),e(this,"inspector",void 0),e(this,"runPromise",void 0),e(this,"runMode",void 0),this.runMode=n??"queryObject",this.query=pt(t),this.speculateProcessedColumns(),this.run(),this.selectableRowsMap=mt(this.rowsData,(({rows:e})=>new Map(e.map((e=>[k$e(e),e])))));const r=mt([this.rowsData,this.processedColumns],(([{rows:e},t])=>{const n=new XT(e.map(k$e)),r=[...t.values()],o=new XT(r.map((e=>String(e.id))));return new QT(n,o)}));this.selection=new pE(r),this.inspector=new y$e(this.query)}speculateProcessedColumns(e){const t=function({currentProcessedColumnsMetaData:e,inputColumnInformationMap:t,queryModel:n}){const r=n.initial_columns,o=n.getSummarizationTransforms(),s=r.filter((t=>!e.has(t.alias))),a=o.filter((t=>t.getOutputColumnAliases().some((t=>!e.has(t))))),i=Object.entries(n.display_names).filter((([t,n])=>e.has(t)&&e.get(t)?.column.display_name!==n));let l=e,c=s.length>0||a.length>0;return s.length>0&&s.forEach((e=>{const n=t.get(e.attnum);l=l.with(e.alias,C$e({alias:e.alias,type:n?.type,is_initial_column:!0,input_column_name:n?.name,input_table_name:n?.tableName,input_table_id:n?.tableId}))})),a.length>0&&a.forEach((e=>{[...e.groups.values()].forEach((e=>{if(!l.has(e.outputAlias)){const t=l.get(e.inputAlias)?.column;l=l.with(e.outputAlias,C$e({alias:e.outputAlias,display_name:null,type:t?.type??"unknown",type_options:t?.type_options??null,is_initial_column:!1,input_alias:e.inputAlias}))}})),[...e.aggregations.values()].forEach((e=>{l.has(e.outputAlias)||(l=l.with(e.outputAlias,C$e({alias:e.outputAlias,type:"distinct_aggregate_to_array"===e.function?"_array":"integer",type_options:"distinct_aggregate_to_array"===e.function?{item_type:l.get(e.inputAlias)?.column.type??"unknown"}:null,is_initial_column:!1,input_alias:e.inputAlias})))}))})),i.length>0&&i.forEach((([e,t])=>{const n=l.get(e);n&&(l=l.with(e,{...n,column:{...n.column,display_name:t}}),c=!0)})),c?new ao(l):e}({currentProcessedColumnsMetaData:h(this.columnsMetaData),inputColumnInformationMap:e??new Map,queryModel:this.getQueryModel()});this.columnsMetaData.set(t),this.processedColumns.set(S$e(this.getQueryModel().getOutputColumnAliases(),t))}async run(){this.runPromise?.cancel();const e=this.getQueryModel();if(void 0===e.base_table_oid){const e={totalCount:0,rows:[]};return this.columnsMetaData.set(new ao),this.processedColumns.set(new ao),this.rowsData.set(e),void this.runState.set({state:"success"})}let t;try{const r=h(this.pagination).recordsRequestParams();if(this.runState.set({state:"processing"}),"queryObject"===this.runMode){const n=PM.explorations.run({exploration_def:e.toAnonymousExploration(),...r}).run();this.runPromise=n;t=await n}else{if(!e.id)return void this.runState.set({state:"failure",errors:["Query does not contain an id"]});this.runPromise=function(e,t){return PM.explorations.run_saved({exploration_id:e,limit:t.limit,offset:t.offset}).run()}(e.id,{...r}),t=await this.runPromise}const o=(n=t.column_metadata,new ao(Object.entries(n).map((([e,t])=>[e,C$e(t)]))));return this.columnsMetaData.set(o),this.processedColumns.set(new ao(S$e(t.output_columns,o))),this.rowsData.set({totalCount:t.records.count,rows:(t.records.results??[]).map(((e,t)=>({record:e,rowIndex:t})))}),this.runState.set({state:"success"}),await this.afterRun(t),t}catch(r){if(r instanceof $k)this.runState.set({state:"failure",errors:r});else{const e=r instanceof Error?r.message:"Unable to run query due to an unknown reason";this.runState.set({state:"failure",errors:[e]})}}var n}async afterRun(e){}async setPagination(e){this.pagination.set(e),await this.run()}resetPagination(){this.pagination.update((e=>new _T({...e,page:1})))}resetResults(){this.runPromise?.cancel(),this.resetPagination(),this.rowsData.set({totalCount:0,rows:[]}),this.processedColumns.set(new ao),this.runState.set(void 0)}async resetPaginationAndRun(){this.resetPagination(),await this.run()}selectColumn(e){const t=h(this.processedColumns).get(e);t&&(this.selection.update((e=>e.ofOneColumn(t.id))),this.inspector.activate("column"))}getQueryModel(){return h(this.query)}destroy(){this.runPromise?.cancel(),this.selection.destroy()}}{constructor({query:t,onSave:n}){super({query:t}),e(this,"cacheManagers",{inputColumns:new E$e(5)}),e(this,"state",pt({})),e(this,"inputColumns",pt({baseTableColumns:new Map,tablesThatReferenceBaseTable:[],inputColumnInformationMap:new Map})),e(this,"confirmationNeededForMultipleResults",pt(!0)),e(this,"queryHasUnsavedChanges",pt(!1)),e(this,"tableStructurePromise",void 0),e(this,"querySavePromise",void 0),e(this,"onSaveCallback",void 0),this.onSaveCallback=n??(()=>{}),this.calculateInputColumnTree()}async calculateInputColumnTree(){const e=h(this.query).base_table_oid;if(!e)return this.inputColumns.set({baseTableColumns:new Map,tablesThatReferenceBaseTable:[],inputColumnInformationMap:new Map}),void this.state.update((e=>({...e,inputColumnsFetchState:{state:"success"}})));const t=this.cacheManagers.inputColumns.get(e);if(t)return this.inputColumns.set({...t}),this.state.update((e=>({...e,inputColumnsFetchState:{state:"success"}}))),void this.speculateColumns();try{const t=h(QF.currentDatabase);if(!t)throw new Error("Current database not set");this.state.update((e=>({...e,inputColumnsFetchState:{state:"processing"}}))),this.tableStructurePromise?.cancel(),this.tableStructurePromise=function(e){const t={database_id:e.database.id,table_oid:e.baseTableId};return _M([PM.tables.list_joinable(t),PM.tables.get(t),PM.columns.list_with_metadata(t)]).transformResolved((([e,t,n])=>({joinableTables:e,baseTable:t,columns:n})))}({database:t,baseTableId:e});const r={baseTableColumns:_$e(n=await this.tableStructurePromise),tablesThatReferenceBaseTable:x$e(n),inputColumnInformationMap:w$e(n)};this.cacheManagers.inputColumns.set(e,r),this.inputColumns.set(r),this.speculateColumns(),this.state.update((e=>({...e,inputColumnsFetchState:{state:"success"}})))}catch(r){const e=r instanceof Error?r.message:h(no)("error_fetching_joinable_links");this.state.update((t=>({...t,inputColumnsFetchState:{state:"failure",errors:[e]}})))}var n}speculateColumns(){super.speculateProcessedColumns(h(this.inputColumns).inputColumnInformationMap)}async updateQuery(e){return this.query.set(e),this.queryHasUnsavedChanges.set(!0),"success"!==h(this.state).inputColumnsFetchState?.state&&await this.calculateInputColumnTree(),{isValid:e.isValid,isRunnable:e.isRunnable}}reconcileQueryWithServerResponse(e){const{transformations:t}=e.query;if(!t)return;const n=t.map(J$e),r=this.getQueryModel();let o=r,s=!1;r.transformationModels.forEach(((e,t)=>{const r=n[t];if("summarize"===e.type&&r&&"summarize"===r.type){const n=r.groups.get(r.columnIdentifier);n&&(r.groups=r.groups.without(r.columnIdentifier),r.preprocFunctionIdentifier=n.preprocFunction),r.aggregations.size===e.aggregations.size&&r.groups.size===e.groups.size||(s=!0,o=o.updateTransform(t,r).model)}})),s&&this.query.set(o)}async reconcileDisplayOptions(e){const t=function(e,t){const{columnDisplayOptions:n}=e;if(!n)return{hasChanged:!1};const r=t.output_columns.map(((e,n)=>N$e(t.column_metadata[e],n))),o=R$e(Object.values(n),r);return o.hasChanged?{hasChanged:!0,newValue:{...e,columnDisplayOptions:o.newValue}}:{hasChanged:!1}}(this.getQueryModel().display_options,e);if(!t.hasChanged)return;const n=t.newValue,r=!h(this.queryHasUnsavedChanges);await this.update((e=>e.withAllDisplayOptionsReplaced(n))),r&&await this.save()}async afterRun(e){this.reconcileQueryWithServerResponse(e),await this.reconcileDisplayOptions(e)}async update(e){this.state.update((e=>({...e,saveState:void 0})));const{model:t,type:n}=e(this.getQueryModel()),{isRunnable:r}=await this.updateQuery(t);if(r)switch(n){case"baseTable":this.resetResults(),this.confirmationNeededForMultipleResults.set(!0),this.queryHasUnsavedChanges.set(!1),await this.calculateInputColumnTree();break;case"initialColumnName":this.speculateColumns();break;case"initialColumnsArray":t.initial_columns?.length?(this.speculateColumns(),await this.run()):this.resetResults();break;case"transformations":case"initialColumnsAndTransformations":await this.resetPaginationAndRun()}}async save(){const e=this.getQueryModel().toMaybeSavedExploration();this.state.update((e=>({...e,saveState:{state:"processing"}})));try{if(this.querySavePromise?.cancel(),NM(t=e)&&"id"in t&&void 0!==t.id)this.querySavePromise=PU(e);else{if(!NM(e))throw new Error(h(no)("error_saving_query"));this.querySavePromise=function(e){const t=PM.explorations.add({exploration_def:e}).run();return t.then((e=>(FU(e),e))),t}(e)}const n=await this.querySavePromise;return this.query.update((e=>e.withId(n.id).model)),await this.onSaveCallback(n),this.state.update((e=>({...e,saveState:{state:"success"}}))),this.queryHasUnsavedChanges.set(!1),this.getQueryModel()}catch(n){const e=n instanceof Error?[n.message]:[h(no)("error_saving_query")];throw this.state.update((t=>({...t,saveState:{state:"failure",errors:e}}))),n}var t}async setColumnDisplayOptions(e,t){const n=[...h(this.processedColumns).values()][e];n&&await this.update((r=>r.withColumnDisplayOptionsEntry({column:N$e(n.column,e),displayOptions:t})))}getAutoSummarizationTransformModel(){const{baseTableColumns:e}=h(this.inputColumns),t=this.getQueryModel().initial_columns.find((t=>e.has(t.attnum)));if(t)return new Z$e({type:"summarize",spec:{base_grouping_column:t.alias}})}destroy(){super.destroy(),this.tableStructurePromise?.cancel(),this.querySavePromise?.cancel()}}function tpe(e){let t,n,r,o,s,a,i,l,c=e[2]("aggregated_from")+"";return i=new HV({props:{isLoading:!e[0].name,column:{...e[0],name:e[0].name??""}}}),{c(){t=q("div"),n=q("div"),r=j(c),o=U(),s=q("div"),a=q("span"),at(i.$$.fragment),X(n,"class","label svelte-sofjsa"),X(a,"class","tag svelte-sofjsa"),X(s,"class","column-info svelte-sofjsa"),X(t,"data-identifier","aggregation-source"),X(t,"class","svelte-sofjsa")},m(e,c){H(e,t,c),F(t,n),F(n,r),F(t,o),F(t,s),F(s,a),it(i,a,null),l=!0},p(e,t){(!l||4&t)&&c!==(c=e[2]("aggregated_from")+"")&&Q(r,c);const n={};1&t&&(n.isLoading=!e[0].name),1&t&&(n.column={...e[0],name:e[0].name??""}),i.$set(n)},i(e){l||(je(i.$$.fragment,e),l=!0)},o(e){Ue(i.$$.fragment,e),l=!1},d(e){e&&z(t),lt(i)}}}function npe(e){let t,n,r,o,s,a,i,l=e[2]("source_column")+"";return a=new Rx({props:{text:e[2]("column_from_table"),$$slots:{default:[ape,({slotName:e,translatedArg:t})=>({5:e,6:t}),({slotName:e,translatedArg:t})=>(e?32:0)|(t?64:0)]},$$scope:{ctx:e}}}),{c(){t=q("div"),n=q("div"),r=j(l),o=U(),s=q("div"),at(a.$$.fragment),X(n,"class","label svelte-sofjsa"),X(s,"class","column-info svelte-sofjsa"),X(t,"data-identifier","column-source"),X(t,"class","svelte-sofjsa")},m(e,l){H(e,t,l),F(t,n),F(n,r),F(t,o),F(t,s),it(a,s,null),i=!0},p(e,t){(!i||4&t)&&l!==(l=e[2]("source_column")+"")&&Q(r,l);const n={};4&t&&(n.text=e[2]("column_from_table")),226&t&&(n.$$scope={dirty:t,ctx:e}),a.$set(n)},i(e){i||(je(a.$$.fragment,e),i=!0)},o(e){Ue(a.$$.fragment,e),i=!1},d(e){e&&z(t),lt(a)}}}function rpe(e){let t,n,r;return n=new HI({props:{isLoading:!e[1].table.name,table:{name:e[1].table.name??""}}}),{c(){t=q("span"),at(n.$$.fragment),X(t,"class","tag svelte-sofjsa")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};2&t&&(r.isLoading=!e[1].table.name),2&t&&(r.table={name:e[1].table.name??""}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function ope(e){let t,n,r=e[6]+"";return{c(){t=q("span"),n=j(r),X(t,"class","from svelte-sofjsa")},m(e,r){H(e,t,r),F(t,n)},p(e,t){64&t&&r!==(r=e[6]+"")&&Q(n,r)},i:a,o:a,d(e){e&&z(t)}}}function spe(e){let t,n,r;return n=new HV({props:{isLoading:!e[1].column.name,column:{...e[1].column,name:e[1].column.name??""}}}),{c(){t=q("span"),at(n.$$.fragment),X(t,"class","tag svelte-sofjsa")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};2&t&&(r.isLoading=!e[1].column.name),2&t&&(r.column={...e[1].column,name:e[1].column.name??""}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function ape(e){let t,n,r,o;const s=[spe,ope,rpe],a=[];function i(e,t){return"columnName"===e[5]?0:"fromSlot"===e[5]&&e[6]?1:"tableName"===e[5]?2:-1}return~(t=i(e))&&(n=a[t]=s[t](e)),{c(){n&&n.c(),r=W()},m(e,n){~t&&a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?~t&&a[t].p(e,o):(n&&(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be()),~t?(n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){~t&&a[t].d(e),e&&z(r)}}}function ipe(e){let t,n,r,o=e[0]&&tpe(e),s=e[1]&&npe(e);return{c(){o&&o.c(),t=U(),s&&s.c(),n=W()},m(e,a){o&&o.m(e,a),H(e,t,a),s&&s.m(e,a),H(e,n,a),r=!0},p(e,[r]){e[0]?o?(o.p(e,r),1&r&&je(o,1)):(o=tpe(e),o.c(),je(o,1),o.m(t.parentNode,t)):o&&(qe(),Ue(o,1,1,(()=>{o=null})),Be()),e[1]?s?(s.p(e,r),2&r&&je(s,1)):(s=npe(e),s.c(),je(s,1),s.m(n.parentNode,n)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be())},i(e){r||(je(o),je(s),r=!0)},o(e){Ue(o),Ue(s),r=!1},d(e){o&&o.d(e),e&&z(t),s&&s.d(e),e&&z(n)}}}function lpe(e,t){if(e.source.is_initial_column)return{column:{...e.column,name:e.source.input_column_name},table:{name:e.source.input_table_name}};const n=e.source.input_alias,r=t.get(n);return r?lpe(r,t):void 0}function cpe(e,t,n){let r,o,s;y(e,no,(e=>n(2,s=e)));let{columnInformation:a}=t,{columnsMetaData:i}=t;return e.$$set=e=>{"columnInformation"in e&&n(3,a=e.columnInformation),"columnsMetaData"in e&&n(4,i=e.columnsMetaData)},e.$$.update=()=>{24&e.$$.dirty&&n(1,r=lpe(a,i)),24&e.$$.dirty&&n(0,o=(()=>{if(!a.source.is_initial_column){const e=a.source.input_alias,t=i.get(e);if(t)return{...t.column,name:t.column.display_name}}})())},[o,r,s,a,i]}class upe extends ut{constructor(e){super(),ct(this,e,cpe,ipe,f,{columnInformation:3,columnsMetaData:4})}}function dpe(e){let t,n,r,o,s,a=e[5]("remove_columns_from_query",{values:{count:e[0].length}})+"";const i=[Kx];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return t=new Jd({props:c}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(a)},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),F(r,o),s=!0},p(e,n){const r=0&n?rt(i,[ot(Kx)]):{};t.$set(r),(!s||33&n)&&a!==(a=e[5]("remove_columns_from_query",{values:{count:e[0].length}})+"")&&Q(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function $pe(e){let t,n;return t=new Hu({props:{slot:"trigger",appearance:"action",disabled:e[2],$$slots:{default:[dpe]},$$scope:{ctx:e}}}),t.$on("click",e[6]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.disabled=e[2]),4129&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function ppe(e){let t,n=e[5]("multiple_column_delete_error_used_in_transformations")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){32&r&&n!==(n=e[5]("multiple_column_delete_error_used_in_transformations")+"")&&Q(t,n)},d(e){e&&z(t)}}}function mpe(e){let t,n=e[5]("multiple_column_delete_error_last_base_column")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){32&r&&n!==(n=e[5]("multiple_column_delete_error_last_base_column")+"")&&Q(t,n)},d(e){e&&z(t)}}}function fpe(e){let t;function n(e,t){return e[1]?hpe:gpe}let r=n(e),o=r(e);return{c(){o.c(),t=W()},m(e,n){o.m(e,n),H(e,t,n)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&z(t)}}}function gpe(e){let t,n=e[5]("single_column_delete_error_used_in_transformations")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){32&r&&n!==(n=e[5]("single_column_delete_error_used_in_transformations")+"")&&Q(t,n)},d(e){e&&z(t)}}}function hpe(e){let t,n=e[5]("single_column_delete_error_last_base_column")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){32&r&&n!==(n=e[5]("single_column_delete_error_last_base_column")+"")&&Q(t,n)},d(e){e&&z(t)}}}function ype(e){let t;function n(e,t){return 1===e[0].length?fpe:e[1]?mpe:ppe}let r=n(e),o=r(e);return{c(){t=q("div"),o.c(),X(t,"slot","content")},m(e,n){H(e,t,n),o.m(t,null)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t,null)))},d(e){e&&z(t),o.d()}}}function bpe(e){let t,n,r;return n=new Eu({props:{enabled:e[2],$$slots:{content:[ype],trigger:[$pe]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","delete-column svelte-1ighsr7")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,[t]){const r={};4&t&&(r.enabled=e[2]),4135&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function vpe(e,t,n){let r,o,s,i,l,c,u,d,$,p=a,m=a;y(e,no,(e=>n(5,$=e))),e.$$.on_destroy.push((()=>p())),e.$$.on_destroy.push((()=>m()));let{selectedColumns:f}=t,{queryManager:h}=t;return e.$$set=e=>{"selectedColumns"in e&&n(7,f=e.selectedColumns),"queryManager"in e&&n(8,h=e.queryManager)},e.$$.update=()=>{256&e.$$.dirty&&(n(4,({query:r,columnsMetaData:o}=h),r,(n(3,o),m(),m=g(o,(e=>n(11,d=e))),o)),p(),p=g(r,(e=>n(10,u=e)))),128&e.$$.dirty&&n(0,s=f.map((e=>e.column.alias))),3073&e.$$.dirty&&n(1,i=(()=>{if(u.hasSummarizationTransform())return!1;const e=u.initial_columns.filter((e=>!s.includes(e.alias)));if(0===e.length)return!1;return!e.some((e=>{const t=d.get(e.alias)?.source;return t?.is_initial_column&&t.input_table_id===u.base_table_oid}))})()),1025&e.$$.dirty&&n(9,l=u.areColumnsUsedInTransformations(s)),514&e.$$.dirty&&n(2,c=i||l)},[s,i,c,o,r,$,function(){h.update((e=>e.withoutInitialColumns(s)))},f,h,l,u,d]}class wpe extends ut{constructor(e){super(),ct(this,e,vpe,bpe,f,{selectedColumns:7,queryManager:8})}}function _pe(e){let t,n;return t=new RJ({props:{title:e[9]("properties"),$$slots:{default:[kpe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};512&n&&(r.title=e[9]("properties")),262685&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function xpe(e){let t,n,r=e[9]("multiple_columns_selected",{values:{count:e[1].length}})+"";return{c(){t=q("div"),n=j(r),X(t,"class","section-content")},m(e,r){H(e,t,r),F(t,n)},p(e,t){514&t&&r!==(r=e[9]("multiple_columns_selected",{values:{count:e[1].length}})+"")&&Q(n,r)},i:a,o:a,d(e){e&&z(t)}}}function Cpe(e){let t,n;return t=new ym({props:{value:e[0].column.display_name,disabled:!e[3]}}),t.$on("input",e[11]),t.$on("change",e[10]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.value=e[0].column.display_name),8&n&&(r.disabled=!e[3]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Spe(e){let t,n;return t=new upe({props:{columnInformation:e[4],columnsMetaData:e[2]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.columnInformation=e[4]),4&n&&(r.columnsMetaData=e[2]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function kpe(e){let t,n,r,o;t=new J$({props:{label:e[9]("name"),layout:"stacked",$$slots:{default:[Cpe]},$$scope:{ctx:e}}});let s=e[4]&&Spe(e);return{c(){at(t.$$.fragment),n=U(),s&&s.c(),r=W()},m(e,a){it(t,e,a),H(e,n,a),s&&s.m(e,a),H(e,r,a),o=!0},p(e,n){const o={};512&n&&(o.label=e[9]("name")),262153&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o),e[4]?s?(s.p(e,n),16&n&&je(s,1)):(s=Spe(e),s.c(),je(s,1),s.m(r.parentNode,r)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be())},i(e){o||(je(t.$$.fragment,e),je(s),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(s),o=!1},d(e){lt(t,e),e&&z(n),s&&s.d(e),e&&z(r)}}}function Mpe(e){let t,n;return t=new RJ({props:{title:e[9]("actions"),$$slots:{default:[Ipe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};512&n&&(r.title=e[9]("actions")),262154&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Ipe(e){let t,n;return t=new wpe({props:{selectedColumns:e[1],queryManager:e[3]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.selectedColumns=e[1]),8&n&&(r.queryManager=e[3]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Tpe(e){let t,n,r=e[9]("select_columns_view_properties")+"";return{c(){t=q("div"),n=j(r),X(t,"class","section-content no-column-selected svelte-5vr5vb")},m(e,r){H(e,t,r),F(t,n)},p(e,t){512&t&&r!==(r=e[9]("select_columns_view_properties")+"")&&Q(n,r)},d(e){e&&z(t)}}}function Epe(e){let t,n,r,o,s,a;const i=[xpe,_pe],l=[];function c(e,t){return e[5]?0:e[0]?1:-1}~(t=c(e))&&(n=l[t]=i[t](e));let u=e[1].length>0&&e[3]&&Mpe(e),d=!e[0]&&Tpe(e);return{c(){n&&n.c(),r=U(),u&&u.c(),o=U(),d&&d.c(),s=W()},m(e,n){~t&&l[t].m(e,n),H(e,r,n),u&&u.m(e,n),H(e,o,n),d&&d.m(e,n),H(e,s,n),a=!0},p(e,[a]){let $=t;t=c(e),t===$?~t&&l[t].p(e,a):(n&&(qe(),Ue(l[$],1,1,(()=>{l[$]=null})),Be()),~t?(n=l[t],n?n.p(e,a):(n=l[t]=i[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null),e[1].length>0&&e[3]?u?(u.p(e,a),10&a&&je(u,1)):(u=Mpe(e),u.c(),je(u,1),u.m(o.parentNode,o)):u&&(qe(),Ue(u,1,1,(()=>{u=null})),Be()),e[0]?d&&(d.d(1),d=null):d?d.p(e,a):(d=Tpe(e),d.c(),d.m(s.parentNode,s))},i(e){a||(je(n),je(u),a=!0)},o(e){Ue(n),Ue(u),a=!1},d(e){~t&&l[t].d(e),e&&z(r),u&&u.d(e),e&&z(o),d&&d.d(e),e&&z(s)}}}function Dpe(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,b=a,v=a,w=a;y(e,no,(e=>n(9,h=e))),e.$$.on_destroy.push((()=>b())),e.$$.on_destroy.push((()=>v())),e.$$.on_destroy.push((()=>w()));let _,{queryHandler:x}=t;function C(e){if(window.clearTimeout(_),r&&d&&e!==d.column.display_name){const{alias:t}=d.column;r.update((n=>n.withDisplayNameForColumn(t,e)))}}return he((()=>{window.clearTimeout(_)})),e.$$set=e=>{"queryHandler"in e&&n(12,x=e.queryHandler)},e.$$.update=()=>{4096&e.$$.dirty&&n(3,r=x instanceof epe?x:void 0),4096&e.$$.dirty&&(n(8,({selection:o,columnsMetaData:s,processedColumns:i}=x),o,(n(7,s),b(),b=g(s,(e=>n(2,p=e))),s),(n(6,i),v(),v=g(i,(e=>n(14,m=e))),i)),w(),w=g(o,(e=>n(15,f=e)))),32768&e.$$.dirty&&n(13,({columnIds:l}=f),l),24576&e.$$.dirty&&n(1,c=Array.from(ac(l,gc((e=>m.get(e))),ic(_o)))),2&e.$$.dirty&&n(5,u=c.length>1),2&e.$$.dirty&&n(0,d=c.length>0?c[0]:void 0),5&e.$$.dirty&&n(4,$=d?p.get(d.column.alias):void 0)},[d,c,p,r,$,u,i,s,o,h,function(e){C(e.target.value)},function(e){window.clearTimeout(_);const t=e.target;_=window.setTimeout((()=>{C(t.value)}),500)},x,l,m,f]}class Ope extends ut{constructor(e){super(),ct(this,e,Dpe,Epe,f,{queryHandler:12})}}function Npe(e){let t,n;const r=e[1].default,o=b(r,e,e[0],null);return{c(){t=q("div"),o&&o.c(),X(t,"class","form svelte-1enxz59")},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&_(o,r,e,e[0],n?w(r,e[0],t,null):x(e[0]),null)},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function Ape(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,r]}class Rpe extends ut{constructor(e){super(),ct(this,e,Ape,Npe,f,{})}}function Fpe(e,t,n){const r=e.slice();return r[3]=t[n],r}function Ppe(e){let t;function n(e,t){return 1===e[0].length?Hpe:Lpe}let r=n(e),o=r(e);return{c(){t=q("div"),o.c(),X(t,"class","errors svelte-179vraj")},m(e,n){H(e,t,n),o.m(t,null)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t,null)))},d(e){e&&z(t),o.d()}}}function Lpe(e){let t,n=e[0],r=[];for(let o=0;o<n.length;o+=1)r[o]=zpe(Fpe(e,n,o));return{c(){t=q("ul");for(let e=0;e<r.length;e+=1)r[e].c();X(t,"class","svelte-179vraj")},m(e,n){H(e,t,n);for(let o=0;o<r.length;o+=1)r[o].m(t,null)},p(e,o){if(1&o){let s;for(n=e[0],s=0;s<n.length;s+=1){const a=Fpe(e,n,s);r[s]?r[s].p(a,o):(r[s]=zpe(a),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(e){e&&z(t),V(r,e)}}}function Hpe(e){let t,n=e[0][0]+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1&r&&n!==(n=e[0][0]+"")&&Q(t,n)},d(e){e&&z(t)}}}function zpe(e){let t,n,r=e[3]+"";return{c(){t=q("li"),n=j(r)},m(e,r){H(e,t,r),F(t,n)},p(e,t){1&t&&r!==(r=e[3]+"")&&Q(n,r)},d(e){e&&z(t)}}}function Vpe(e){let t,n,r;const o=e[2].default,s=b(o,e,e[1],null);let a=e[0].length&&Ppe(e);return{c(){t=q("div"),s&&s.c(),n=U(),a&&a.c(),X(t,"class","form-field")},m(e,o){H(e,t,o),s&&s.m(t,null),F(t,n),a&&a.m(t,null),r=!0},p(e,[n]){s&&s.p&&(!r||2&n)&&_(s,o,e,e[1],r?w(o,e[1],n,null):x(e[1]),null),e[0].length?a?a.p(e,n):(a=Ppe(e),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},i(e){r||(je(s,e),r=!0)},o(e){Ue(s,e),r=!1},d(e){e&&z(t),s&&s.d(e),a&&a.d()}}}function qpe(e,t,n){let{$$slots:r={},$$scope:o}=t,{errors:s=[]}=t;return e.$$set=e=>{"errors"in e&&n(0,s=e.errors),"$$scope"in e&&n(1,o=e.$$scope)},[s,o,r]}class Bpe extends ut{constructor(e){super(),ct(this,e,qpe,Vpe,f,{errors:0})}}function jpe(e){let t,n;return t=new ym({props:{value:e[0],"aria-label":e[5]("name")}}),t.$on("change",e[7]),t.$on("input",e[6]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.value=e[0]),32&n&&(r["aria-label"]=e[5]("name")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Upe(e){let t,n;return t=new J$({props:{label:e[5]("name"),layout:"stacked",$$slots:{default:[jpe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.label=e[5]("name")),65569&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Wpe(e){let t,n;return t=new Cg({props:{value:e[1],"aria-label":e[5]("description")}}),t.$on("change",e[8]),t.$on("input",e[6]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.value=e[1]),32&n&&(r["aria-label"]=e[5]("description")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Ype(e){let t,n;return t=new J$({props:{label:e[5]("description"),layout:"stacked",$$slots:{default:[Wpe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.label=e[5]("description")),65570&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Kpe(e){let t,n;return t=new Bpe({props:{$$slots:{default:[Gpe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};65568&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Gpe(e){let t,n;return t=new m$({props:{cancelButton:{icon:void 0},proceedButton:{icon:void 0,label:e[5]("save")},onCancel:e[9],onProceed:e[10]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.proceedButton={icon:void 0,label:e[5]("save")}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Xpe(e){let t,n,r,o,s,a;t=new Bpe({props:{$$slots:{default:[Upe]},$$scope:{ctx:e}}}),r=new Bpe({props:{$$slots:{default:[Ype]},$$scope:{ctx:e}}});let i=!e[4]&&e[2]&&Kpe(e);return{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),i&&i.c(),s=W()},m(e,l){it(t,e,l),H(e,n,l),it(r,e,l),H(e,o,l),i&&i.m(e,l),H(e,s,l),a=!0},p(e,n){const o={};65569&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const a={};65570&n&&(a.$$scope={dirty:n,ctx:e}),r.$set(a),!e[4]&&e[2]?i?(i.p(e,n),20&n&&je(i,1)):(i=Kpe(e),i.c(),je(i,1),i.m(s.parentNode,s)):i&&(qe(),Ue(i,1,1,(()=>{i=null})),Be())},i(e){a||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(i),a=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(i),a=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),i&&i.d(e),e&&z(s)}}}function Zpe(e){let t,n;return t=new Rpe({props:{$$slots:{default:[Xpe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};65591&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Jpe(e){let t,n,r,o,s,a=e[5]("delete_exploration")+"";const i=[Kx];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return t=new Jd({props:c}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(a)},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),F(r,o),s=!0},p(e,n){const r=0&n?rt(i,[ot(Kx)]):{};t.$set(r),(!s||32&n)&&a!==(a=e[5]("delete_exploration")+"")&&Q(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function Qpe(e){let t,n;return t=new Hu({props:{appearance:"danger",$$slots:{default:[Jpe]},$$scope:{ctx:e}}}),t.$on("click",e[11]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};65568&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function eme(e){let t,n,r,o;return t=new RJ({props:{title:e[5]("properties"),$$slots:{default:[Zpe]},$$scope:{ctx:e}}}),r=new RJ({props:{title:e[5]("actions"),$$slots:{default:[Qpe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,s){it(t,e,s),H(e,n,s),it(r,e,s),o=!0},p(e,[n]){const o={};32&n&&(o.title=e[5]("properties")),65591&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};32&n&&(s.title=e[5]("actions")),65568&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function tme(e,t,n){let r,o,s,i,l,c=a;y(e,no,(e=>n(5,s=e))),y(e,zU,(e=>n(14,l=e))),e.$$.on_destroy.push((()=>c()));const u=ye();let{queryHandler:d}=t,{name:$}=t,{description:p}=t,m=!1;return e.$$set=e=>{"queryHandler"in e&&n(12,d=e.queryHandler),"name"in e&&n(0,$=e.name),"description"in e&&n(1,p=e.description)},e.$$.update=()=>{4096&e.$$.dirty&&(n(3,({query:r}=d),r),c(),c=g(r,(e=>n(13,i=e)))),4096&e.$$.dirty&&n(4,o=d instanceof epe)},[$,p,m,r,o,s,function(){n(2,m=!0)},function(e){const t=e.target;""===t.value.trim()&&(t.value=i.name??OV("New_Exploration",new Set([...l.data.values()].map((e=>e.name))))),n(0,$=t.value),"update"in d&&d.update((e=>e.withName(t.value)))},function(e){const t=e.target;n(1,p=t.value.trim()),"update"in d&&d.update((e=>e.withDescription(p??"")))},function(){n(0,$=i.name),n(1,p=i.description),n(2,m=!1)},async function(){try{const e=i.withName($).model.withDescription(p).model;await PU(e.toMaybeSavedExploration()),r.set(e)}catch(e){const t=e instanceof Error?e.message:s("unable_to_save_exploration");WS.error(t)}},function(){if(void 0!==i.id){const e=i.id;XS({identifierType:s("exploration"),onProceed:async()=>{await LU(e),u("delete")}})}},d]}class nme extends ut{constructor(e){super(),ct(this,e,tme,eme,f,{queryHandler:12,name:0,description:1})}}function rme(e){let t,n;return t=new T$e({props:{queryHandler:e[0]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.queryHandler=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function ome(e){let t,n;return t=new Ope({props:{queryHandler:e[0]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.queryHandler=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function sme(e){let t,n;return t=new nme({props:{queryHandler:e[0],name:e[6].name,description:e[6].description}}),t.$on("delete",e[9]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.queryHandler=e[0]),64&n&&(r.name=e[6].name),64&n&&(r.description=e[6].description),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function ame(e){let t,n,r,o;const s=[sme,ome,rme],a=[];function i(e,t){return"exploration"===e[5].id?0:"column"===e[5].id?1:"cell"===e[5].id?2:-1}return~(t=i(e))&&(n=a[t]=s[t](e)),{c(){n&&n.c(),r=W()},m(e,n){~t&&a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?~t&&a[t].p(e,o):(n&&(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be()),~t?(n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){~t&&a[t].d(e),e&&z(r)}}}function ime(e){let t,n;return t=new LJ({props:{$$slots:{default:[ame]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1121&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function lme(e){let t,n,r;return n=new Sb({props:{tabStyle:"compact",tabs:e[4],activeTab:e[5],fillTabWidth:!0,fillContainerHeight:!0,$$slots:{default:[ime]},$$scope:{ctx:e}}}),n.$on("tabSelected",e[7]),{c(){t=q("aside"),at(n.$$.fragment),X(t,"class","exploration-inspector svelte-ab7vdf")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,[t]){const r={};16&t&&(r.tabs=e[4]),32&t&&(r.activeTab=e[5]),1121&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function cme(e,t,n){let r,o,s,i,l,c,u,d=a,$=a,p=a;e.$$.on_destroy.push((()=>d())),e.$$.on_destroy.push((()=>$())),e.$$.on_destroy.push((()=>p()));let{queryHandler:m}=t;return e.$$set=e=>{"queryHandler"in e&&n(0,m=e.queryHandler)},e.$$.update=()=>{1&e.$$.dirty&&n(8,({inspector:r,query:o}=m),r,(n(3,o),p(),p=g(o,(e=>n(6,u=e))),o)),256&e.$$.dirty&&(n(2,({tabs:s,activeTab:i}=r),s,(n(1,i),$(),$=g(i,(e=>n(5,c=e))),i)),d(),d=g(s,(e=>n(4,l=e))))},[m,i,s,o,l,c,u,function(e){const t=e.detail.tab;r.activate(t.id)},r,function(t){_e.call(this,e,t)}]}class ume extends ut{constructor(e){super(),ct(this,e,cme,lme,f,{queryHandler:0})}}function dme(e){let t;const n=e[3].default,r=b(n,e,e[6],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||64&o)&&_(r,n,e,e[6],t?w(n,e[6],o,null):x(e[6]),null)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function $me(e){let t,n;return t=new ume({props:{slot:"panel",queryHandler:e[1]}}),t.$on("delete",e[4]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.queryHandler=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function pme(e){let t,n,r;function o(t){e[5](t)}let s={showPanel:e[0],minSizePx:250,maxSizePx:600,$$slots:{panel:[$me],default:[dme]},$$scope:{ctx:e}};return void 0!==e[2]&&(s.sizePx=e[2]),t=new Hg({props:s}),Ce.push((()=>st(t,"sizePx",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,[r]){const o={};1&r&&(o.showPanel=e[0]),66&r&&(o.$$scope={dirty:r,ctx:e}),!n&&4&r&&(n=!0,o.sizePx=e[2],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function mme(e,t,n){let r;y(e,iM,(e=>n(2,r=e)));let{$$slots:o={},$$scope:s}=t,{isInspectorOpen:a}=t,{queryHandler:i}=t;return e.$$set=e=>{"isInspectorOpen"in e&&n(0,a=e.isInspectorOpen),"queryHandler"in e&&n(1,i=e.queryHandler),"$$scope"in e&&n(6,s=e.$$scope)},[a,i,r,o,function(t){_e.call(this,e,t)},function(e){r=e,iM.set(r)},s]}class fme extends ut{constructor(e){super(),ct(this,e,mme,pme,f,{isInspectorOpen:0,queryHandler:1})}}function gme(e){let t,n;return t=new Eu({props:{$$slots:{content:[bme],trigger:[yme]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};38&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function hme(e){let t;return{c(){t=j(e[1])},m(e,n){H(e,t,n)},p(e,n){2&n&&Q(t,e[1])},d(e){e&&z(t)}}}function yme(e){let t,n;return t=new Lc({props:{slot:"trigger",$$slots:{default:[hme]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};34&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function bme(e){let t,n=e[2]("column_added_number_of_times",{values:{count:e[1]}})+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){6&r&&n!==(n=e[2]("column_added_number_of_times",{values:{count:e[1]}})+"")&&Q(t,n)},d(e){e&&z(t)}}}function vme(e){let t,n,r,o,s,a,i,l,c,u,d=e[2]("add")+"";n=new HV({props:{column:{...e[0],type:e[0].producesMultipleResults?"_array":e[0].type,type_options:e[0].producesMultipleResults?{item_type:e[0].type}:null,metadata:e[0].metadata}}});let $=e[1]>0&&gme(e);return{c(){t=q("div"),at(n.$$.fragment),r=U(),o=q("span"),s=q("span"),a=j(d),i=U(),$&&$.c(),l=U(),c=q("span"),c.textContent="+",X(t,"class","name svelte-rwrinx"),X(s,"class","text svelte-rwrinx"),X(o,"class","add svelte-rwrinx")},m(e,d){H(e,t,d),it(n,t,null),H(e,r,d),H(e,o,d),F(o,s),F(s,a),F(o,i),$&&$.m(o,null),F(o,l),F(o,c),u=!0},p(e,t){const r={};1&t&&(r.column={...e[0],type:e[0].producesMultipleResults?"_array":e[0].type,type_options:e[0].producesMultipleResults?{item_type:e[0].type}:null,metadata:e[0].metadata}),n.$set(r),(!u||4&t)&&d!==(d=e[2]("add")+"")&&Q(a,d),e[1]>0?$?($.p(e,t),2&t&&je($,1)):($=gme(e),$.c(),je($,1),$.m(o,l)):$&&(qe(),Ue($,1,1,(()=>{$=null})),Be())},i(e){u||(je(n.$$.fragment,e),je($),u=!0)},o(e){Ue(n.$$.fragment,e),Ue($),u=!1},d(e){e&&z(t),lt(n),e&&z(r),e&&z(o),$&&$.d()}}}function wme(e){let t,n,r;return n=new Hu({props:{$$slots:{default:[vme]},$$scope:{ctx:e}}}),n.$on("click",e[4]),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","selectable-column svelte-rwrinx")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,[t]){const r={};39&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function _me(e,t,n){let r;y(e,no,(e=>n(2,r=e)));const o=ye();let{column:s}=t,{usageCount:a=0}=t;return e.$$set=e=>{"column"in e&&n(0,s=e.column),"usageCount"in e&&n(1,a=e.usageCount)},[s,a,r,o,()=>o("add",s)]}class xme extends ut{constructor(e){super(),ct(this,e,_me,wme,f,{column:0,usageCount:1})}}function Cme(e){let t,n=e[3]("via_column",{values:{columnName:e[1].name}})+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){10&r&&n!==(n=e[3]("via_column",{values:{columnName:e[1].name}})+"")&&Q(t,n)},d(e){e&&z(t)}}}function Sme(e){let t,n,r,o,s,a,i,c,u;const d=[Cd,{size:"0.7rem"},{rotate:e[8]?void 0:270}];let $={};for(let p=0;p<d.length;p+=1)$=l($,d[p]);return n=new Jd({props:$}),s=new HI({props:{table:{name:e[2]}}}),c=new Ng({props:{$$slots:{default:[Cme]},$$scope:{ctx:e}}}),{c(){t=q("span"),at(n.$$.fragment),r=U(),o=q("span"),at(s.$$.fragment),a=U(),i=q("span"),at(c.$$.fragment),X(o,"class","svelte-12ebftz"),X(t,"class","table-name svelte-12ebftz"),X(i,"class","fk-column svelte-12ebftz")},m(e,l){H(e,t,l),it(n,t,null),F(t,r),F(t,o),it(s,o,null),H(e,a,l),H(e,i,l),it(c,i,null),u=!0},p(e,t){const r=256&t?rt(d,[0&t&&ot(Cd),d[1],256&t&&{rotate:e[8]?void 0:270}]):{};n.$set(r);const o={};4&t&&(o.table={name:e[2]}),s.$set(o);const a={};74&t&&(a.$$scope={dirty:t,ctx:e}),c.$set(a)},i(e){u||(je(n.$$.fragment,e),je(s.$$.fragment,e),je(c.$$.fragment,e),u=!0)},o(e){Ue(n.$$.fragment,e),Ue(s.$$.fragment,e),Ue(c.$$.fragment,e),u=!1},d(e){e&&z(t),lt(n),lt(s),e&&z(a),e&&z(i),lt(c)}}}function kme(e){let t,n;return t=new Hu({props:{appearance:"plain",class:"column-name",$$slots:{default:[Sme]},$$scope:{ctx:e}}}),t.$on("click",(function(){$(e[7])&&e[7].apply(this,arguments)})),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(n,r){e=n;const o={};334&r&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Mme(e){let t,n,r,o;const s=e[4].default,a=b(s,e,e[6],null);return{c(){t=q("div"),a&&a.c(),n=U(),r=q("div"),X(r,"class","line-down svelte-12ebftz"),X(t,"class","column-list svelte-12ebftz"),X(t,"slot","content")},m(e,s){H(e,t,s),a&&a.m(t,null),F(t,n),F(t,r),o=!0},p(e,t){a&&a.p&&(!o||64&t)&&_(a,s,e,e[6],o?w(s,e[6],t,null):x(e[6]),null)},i(e){o||(je(a,e),o=!0)},o(e){Ue(a,e),o=!1},d(e){e&&z(t),a&&a.d(e)}}}function Ime(e){let t,n,r,o;function s(t){e[5](t)}let a={$$slots:{content:[Mme],trigger:[kme,({toggle:e,isOpen:t})=>({7:e,8:t}),({toggle:e,isOpen:t})=>(e?128:0)|(t?256:0)]},$$scope:{ctx:e}};return void 0!==e[0][e[1].id]&&(a.isOpen=e[0][e[1].id]),n=new om({props:a}),Ce.push((()=>st(n,"isOpen",s))),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","table-group svelte-12ebftz")},m(e,r){H(e,t,r),it(n,t,null),o=!0},p(e,[t]){const o={};462&t&&(o.$$scope={dirty:t,ctx:e}),!r&&3&t&&(r=!0,o.isOpen=e[0][e[1].id],Oe((()=>r=!1))),n.$set(o)},i(e){o||(je(n.$$.fragment,e),o=!0)},o(e){Ue(n.$$.fragment,e),o=!1},d(e){e&&z(t),lt(n)}}}function Tme(e,t,n){let r;y(e,no,(e=>n(3,r=e)));let{$$slots:o={},$$scope:s}=t,{linkCollapsibleOpenState:a={}}=t,{column:i}=t,{tableName:l}=t;return e.$$set=e=>{"linkCollapsibleOpenState"in e&&n(0,a=e.linkCollapsibleOpenState),"column"in e&&n(1,i=e.column),"tableName"in e&&n(2,l=e.tableName),"$$scope"in e&&n(6,s=e.$$scope)},[a,i,l,r,o,function(t){e.$$.not_equal(a[i.id],t)&&(a[i.id]=t,n(0,a))},s]}class Eme extends ut{constructor(e){super(),ct(this,e,Tme,Ime,f,{linkCollapsibleOpenState:0,column:1,tableName:2})}}function Dme(e,t,n){const r=e.slice();return r[6]=t[n][0],r[7]=t[n][1],r}function Ome(e){let t,n;return t=new xme({props:{column:e[7],usageCount:e[3].getColumnCount(e[7])}}),t.$on("add",e[5]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.column=e[7]),12&n&&(r.usageCount=e[3].getColumnCount(e[7])),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Nme(e){let t,n;return t=new Eme({props:{tableName:e[7].linksTo.name,column:e[7],linkCollapsibleOpenState:e[1],$$slots:{default:[Ame]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.tableName=e[7].linksTo.name),4&n&&(r.column=e[7]),2&n&&(r.linkCollapsibleOpenState=e[1]),1031&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Ame(e){let t,n,r;return t=new Lme({props:{linkCollapsibleOpenState:e[1],columnsWithLinks:e[7].linksTo.columns,query:e[0]}}),t.$on("add",e[4]),{c(){at(t.$$.fragment),n=U()},m(e,o){it(t,e,o),H(e,n,o),r=!0},p(e,n){const r={};2&n&&(r.linkCollapsibleOpenState=e[1]),4&n&&(r.columnsWithLinks=e[7].linksTo.columns),1&n&&(r.query=e[0]),t.$set(r)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e),e&&z(n)}}}function Rme(e,t){let n,r,o,s,a;const i=[Nme,Ome],l=[];function c(e,t){return e[7].linksTo?0:1}return r=c(t),o=l[r]=i[r](t),{key:e,first:null,c(){n=W(),o.c(),s=W(),this.first=n},m(e,t){H(e,n,t),l[r].m(e,t),H(e,s,t),a=!0},p(e,n){let a=r;r=c(t=e),r===a?l[r].p(t,n):(qe(),Ue(l[a],1,1,(()=>{l[a]=null})),Be(),o=l[r],o?o.p(t,n):(o=l[r]=i[r](t),o.c()),je(o,1),o.m(s.parentNode,s))},i(e){a||(je(o),a=!0)},o(e){Ue(o),a=!1},d(e){e&&z(n),l[r].d(e),e&&z(s)}}}function Fme(e){let t,n,r=[],o=new Map,s=[...e[2]];const a=e=>e[6];for(let i=0;i<s.length;i+=1){let t=Dme(e,s,i),n=a(t);o.set(n,r[i]=Rme(n,t))}return{c(){t=q("div");for(let e=0;e<r.length;e+=1)r[e].c();X(t,"class","selectable-column-tree")},m(e,o){H(e,t,o);for(let n=0;n<r.length;n+=1)r[n].m(t,null);n=!0},p(e,[n]){15&n&&(s=[...e[2]],qe(),r=nt(r,n,a,1,e,s,o,t,et,Rme,null,Dme),Be())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ue(r[t]);n=!1},d(e){e&&z(t);for(let t=0;t<r.length;t+=1)r[t].d()}}}function Pme(e,t,n){let r,o=a,s=()=>(o(),o=g(i,(e=>n(3,r=e))),i);e.$$.on_destroy.push((()=>o()));let{query:i}=t;s();let{linkCollapsibleOpenState:l={}}=t,{columnsWithLinks:c}=t;return e.$$set=e=>{"query"in e&&s(n(0,i=e.query)),"linkCollapsibleOpenState"in e&&n(1,l=e.linkCollapsibleOpenState),"columnsWithLinks"in e&&n(2,c=e.columnsWithLinks)},[i,l,c,r,function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)}]}class Lme extends ut{constructor(e){super(),ct(this,e,Pme,Fme,f,{query:0,linkCollapsibleOpenState:1,columnsWithLinks:2})}}const{Map:Hme}=Je;function zme(e,t,n){const r=e.slice();return r[16]=t[n],r}function Vme(e,t,n){const r=e.slice();return r[19]=t[n][0],r[20]=t[n][1],r}function qme(e,t){let n,r,o;return r=new xme({props:{column:t[20],usageCount:t[4].getColumnCount(t[20])}}),r.$on("add",t[13]),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};8&n&&(o.column=t[20]),24&n&&(o.usageCount=t[4].getColumnCount(t[20])),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function Bme(e){let t,n,r,o=e[6]&&Ume(e),s=e[5]&&Wme(e);return{c(){o&&o.c(),t=U(),s&&s.c(),n=W()},m(e,a){o&&o.m(e,a),H(e,t,a),s&&s.m(e,a),H(e,n,a),r=!0},p(e,r){e[6]?o?(o.p(e,r),64&r&&je(o,1)):(o=Ume(e),o.c(),je(o,1),o.m(t.parentNode,t)):o&&(qe(),Ue(o,1,1,(()=>{o=null})),Be()),e[5]?s?(s.p(e,r),32&r&&je(s,1)):(s=Wme(e),s.c(),je(s,1),s.m(n.parentNode,n)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be())},i(e){r||(je(o),je(s),r=!0)},o(e){Ue(o),Ue(s),r=!1},d(e){o&&o.d(e),e&&z(t),s&&s.d(e),e&&z(n)}}}function jme(e){let t,n,r,o,s,i,l,c=e[10]("from_related_tables")+"",u=e[10]("one_column_from_base_is_required")+"";return{c(){t=q("section"),n=q("header"),r=j(c),o=U(),s=q("div"),i=q("div"),l=j(u),X(n,"class","svelte-1m55vpd"),X(i,"class","help-text svelte-1m55vpd"),X(s,"class","content svelte-1m55vpd")},m(e,a){H(e,t,a),F(t,n),F(n,r),F(t,o),F(t,s),F(s,i),F(i,l)},p(e,t){1024&t&&c!==(c=e[10]("from_related_tables")+"")&&Q(r,c),1024&t&&u!==(u=e[10]("one_column_from_base_is_required")+"")&&Q(l,u)},i:a,o:a,d(e){e&&z(t)}}}function Ume(e){let t,n,r,o,s,a,i,l=e[10]("references_from_base_table")+"";return a=new Lme({props:{columnsWithLinks:e[2],linkCollapsibleOpenState:e[0],query:e[8]}}),a.$on("add",e[14]),{c(){t=q("section"),n=q("header"),r=j(l),o=U(),s=q("div"),at(a.$$.fragment),X(n,"class","svelte-1m55vpd"),X(s,"class","content svelte-1m55vpd")},m(e,l){H(e,t,l),F(t,n),F(n,r),F(t,o),F(t,s),it(a,s,null),i=!0},p(e,t){(!i||1024&t)&&l!==(l=e[10]("references_from_base_table")+"")&&Q(r,l);const n={};4&t&&(n.columnsWithLinks=e[2]),1&t&&(n.linkCollapsibleOpenState=e[0]),256&t&&(n.query=e[8]),a.$set(n)},i(e){i||(je(a.$$.fragment,e),i=!0)},o(e){Ue(a.$$.fragment,e),i=!1},d(e){e&&z(t),lt(a)}}}function Wme(e){let t,n,r,o,s,a,i=e[10]("references_to_base_table")+"",l=e[7]&&Yme(e);return{c(){t=q("section"),n=q("header"),r=j(i),o=U(),s=q("div"),l&&l.c(),X(n,"class","svelte-1m55vpd"),X(s,"class","content svelte-1m55vpd"),X(s,"data-identifier","referenced-by-tables")},m(e,i){H(e,t,i),F(t,n),F(n,r),F(t,o),F(t,s),l&&l.m(s,null),a=!0},p(e,t){(!a||1024&t)&&i!==(i=e[10]("references_to_base_table")+"")&&Q(r,i),e[7]?l?(l.p(e,t),128&t&&je(l,1)):(l=Yme(e),l.c(),je(l,1),l.m(s,null)):l&&(qe(),Ue(l,1,1,(()=>{l=null})),Be())},i(e){a||(je(l),a=!0)},o(e){Ue(l),a=!1},d(e){e&&z(t),l&&l.d()}}}function Yme(e){let t,n,r=[],o=new Hme,s=e[1];const a=e=>e[16];for(let i=0;i<s.length;i+=1){let t=zme(e,s,i),n=a(t);o.set(n,r[i]=Gme(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=W()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);H(e,t,o),n=!0},p(e,n){259&n&&(s=e[1],qe(),r=nt(r,n,a,1,e,s,o,t.parentNode,et,Gme,t,zme),Be())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ue(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&z(t)}}}function Kme(e){let t,n,r;return t=new Lme({props:{linkCollapsibleOpenState:e[0],columnsWithLinks:e[16].columns,query:e[8]}}),t.$on("add",e[15]),{c(){at(t.$$.fragment),n=U()},m(e,o){it(t,e,o),H(e,n,o),r=!0},p(e,n){const r={};1&n&&(r.linkCollapsibleOpenState=e[0]),2&n&&(r.columnsWithLinks=e[16].columns),256&n&&(r.query=e[8]),t.$set(r)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e),e&&z(n)}}}function Gme(e,t){let n,r,o;return r=new Eme({props:{tableName:t[16].name,column:t[16].referencedViaColumn,linkCollapsibleOpenState:t[0],$$slots:{default:[Kme]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};2&n&&(o.tableName=t[16].name),2&n&&(o.column=t[16].referencedViaColumn),1&n&&(o.linkCollapsibleOpenState=t[0]),8388867&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function Xme(e){let t,n,r,o,s,a,i,l,c,u,d=e[10]("from_base_table")+"",$=[],p=new Hme,m=[...e[3]];const f=e=>e[19];for(let b=0;b<m.length;b+=1){let t=Vme(e,m,b),n=f(t);p.set(n,$[b]=qme(n,t))}const g=[jme,Bme],h=[];function y(e,t){return e[7]||!e[6]&&!e[5]?1:0}return l=y(e),c=h[l]=g[l](e),{c(){t=q("div"),n=q("section"),r=q("header"),o=j(d),s=U(),a=q("div");for(let e=0;e<$.length;e+=1)$[e].c();i=U(),c.c(),X(r,"class","svelte-1m55vpd"),X(a,"class","content svelte-1m55vpd"),X(t,"data-identifier","column-selection-list"),X(t,"class","svelte-1m55vpd")},m(e,c){H(e,t,c),F(t,n),F(n,r),F(r,o),F(n,s),F(n,a);for(let t=0;t<$.length;t+=1)$[t].m(a,null);F(t,i),h[l].m(t,null),u=!0},p(e,[n]){(!u||1024&n)&&d!==(d=e[10]("from_base_table")+"")&&Q(o,d),24&n&&(m=[...e[3]],qe(),$=nt($,n,f,1,e,m,p,a,et,qme,null,Vme),Be());let r=l;l=y(e),l===r?h[l].p(e,n):(qe(),Ue(h[r],1,1,(()=>{h[r]=null})),Be(),c=h[l],c?c.p(e,n):(c=h[l]=g[l](e),c.c()),je(c,1),c.m(t,null))},i(e){if(!u){for(let e=0;e<m.length;e+=1)je($[e]);je(c),u=!0}},o(e){for(let t=0;t<$.length;t+=1)Ue($[t]);Ue(c),u=!1},d(e){e&&z(t);for(let t=0;t<$.length;t+=1)$[t].d();h[l].d()}}}function Zme(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f=a,h=a;y(e,no,(e=>n(10,m=e))),e.$$.on_destroy.push((()=>f())),e.$$.on_destroy.push((()=>h()));let{queryManager:b}=t,{linkCollapsibleOpenState:v={}}=t;return e.$$set=e=>{"queryManager"in e&&n(11,b=e.queryManager),"linkCollapsibleOpenState"in e&&n(0,v=e.linkCollapsibleOpenState)},e.$$.update=()=>{2048&e.$$.dirty&&(n(9,({inputColumns:r,query:o}=b),r,(n(8,o),f(),f=g(o,(e=>n(4,$=e))),o)),h(),h=g(r,(e=>n(12,p=e)))),4096&e.$$.dirty&&n(3,({baseTableColumns:s,tablesThatReferenceBaseTable:i}=p),s,(n(1,i),n(12,p))),16&e.$$.dirty&&n(7,l=$.initial_columns.length>0),8&e.$$.dirty&&n(2,c=new Map([...s].filter((([,e])=>void 0!==e.linksTo)))),4&e.$$.dirty&&n(6,u=c.size>0),2&e.$$.dirty&&n(5,d=i.length>0)},[v,i,c,s,$,d,u,l,o,r,m,b,p,function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)}]}class Jme extends ut{constructor(e){super(),ct(this,e,Zme,Xme,f,{queryManager:11,linkCollapsibleOpenState:0})}}function Qme(e){let t,n,r,o,s;function a(t){e[6](t)}function i(t){e[7](t)}function l(t){e[8](t)}let c={allowDelete:!1,columns:e[1],getColumnLabel:e[5],disableColumnChange:e[3],layout:"vertical",numberOfFilters:e[2]};return void 0!==e[0].columnIdentifier&&(c.columnIdentifier=e[0].columnIdentifier),void 0!==e[0].conditionIdentifier&&(c.conditionIdentifier=e[0].conditionIdentifier),void 0!==e[0].value&&(c.value=e[0].value),t=new Y$e({props:c}),Ce.push((()=>st(t,"columnIdentifier",a))),Ce.push((()=>st(t,"conditionIdentifier",i))),Ce.push((()=>st(t,"value",l))),t.$on("update",e[4]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),s=!0},p(e,[s]){const a={};2&s&&(a.columns=e[1]),2&s&&(a.getColumnLabel=e[5]),8&s&&(a.disableColumnChange=e[3]),4&s&&(a.numberOfFilters=e[2]),!n&&1&s&&(n=!0,a.columnIdentifier=e[0].columnIdentifier,Oe((()=>n=!1))),!r&&1&s&&(r=!0,a.conditionIdentifier=e[0].conditionIdentifier,Oe((()=>r=!1))),!o&&1&s&&(o=!0,a.value=e[0].value,Oe((()=>o=!1))),t.$set(a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e)}}}function efe(e,t,n){const r=ye();let{columns:o}=t,{model:s}=t,{totalTransformations:a}=t,{limitEditing:i=!1}=t;return e.$$set=e=>{"columns"in e&&n(1,o=e.columns),"model"in e&&n(0,s=e.model),"totalTransformations"in e&&n(2,a=e.totalTransformations),"limitEditing"in e&&n(3,i=e.limitEditing)},[s,o,a,i,function(){r("update")},e=>o.get(e.id)?.column.display_name??"",function(t){e.$$.not_equal(s.columnIdentifier,t)&&(s.columnIdentifier=t,n(0,s))},function(t){e.$$.not_equal(s.conditionIdentifier,t)&&(s.conditionIdentifier=t,n(0,s))},function(t){e.$$.not_equal(s.value,t)&&(s.value=t,n(0,s))}]}class tfe extends ut{constructor(e){super(),ct(this,e,efe,Qme,f,{columns:1,model:0,totalTransformations:2,limitEditing:3})}}function nfe(e){const t=e[1].get(e[7])?.column;e[8]=t}function rfe(e){let t,n;return nfe(e),t=new HV({props:{column:{name:e[8]?.display_name??"",type:e[8]?.type??"unknown",type_options:e[8]?.type_options??null,metadata:e[8]?.metadata??null}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){nfe(e);const r={};130&n&&(r.column={name:e[8]?.display_name??"",type:e[8]?.type??"unknown",type_options:e[8]?.type_options??null,metadata:e[8]?.metadata??null}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function ofe(e){let t,n;return t=new Xf({props:{values:e[0].columnAliases,options:[...e[1].values()].map(afe),autoClearInvalidValues:!1,disabled:e[2],$$slots:{default:[rfe,({option:e})=>({7:e}),({option:e})=>e?128:0]},$$scope:{ctx:e}}}),t.$on("change",e[5]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.values=e[0].columnAliases),2&n&&(r.options=[...e[1].values()].map(afe)),4&n&&(r.disabled=e[2]),642&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function sfe(e){let t,n;return t=new J$({props:{label:e[3]("select_columns_to_hide"),layout:"stacked",$$slots:{default:[ofe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};8&n&&(r.label=e[3]("select_columns_to_hide")),519&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}const afe=e=>e.column.alias;function ife(e,t,n){let r;y(e,no,(e=>n(3,r=e)));const o=ye();let{columns:s}=t,{model:a}=t,{limitEditing:i=!1}=t;function l(e){n(0,a.columnAliases=e,a),o("update",a)}return e.$$set=e=>{"columns"in e&&n(1,s=e.columns),"model"in e&&n(0,a=e.model),"limitEditing"in e&&n(2,i=e.limitEditing)},[a,s,i,r,l,e=>l(e.detail)]}class lfe extends ut{constructor(e){super(),ct(this,e,ife,sfe,f,{columns:1,model:0,limitEditing:2})}}function cfe(e){const t=e[2].get(e[19]);e[20]=t}function ufe(e){let t,n;return cfe(e),t=new HV({props:{column:{name:e[3](e[20]),type:e[20]?.column.type??"unknown",type_options:e[20]?.column.type_options??null,constraintsType:e[8](e[19]),metadata:e[20]?.column.metadata??null}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){cfe(e);const r={};524300&n&&(r.column={name:e[3](e[20]),type:e[20]?.column.type??"unknown",type_options:e[20]?.column.type_options??null,constraintsType:e[8](e[19]),metadata:e[20]?.column.metadata??null}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function dfe(e){let t,n,r,o,s,a;function i(t){e[15](t)}let l={options:e[7],autoSelect:"none",disabled:e[4],getLabel:e[14],$$slots:{default:[ufe,({option:e})=>({19:e}),({option:e})=>e?524288:0]},$$scope:{ctx:e}};function c(t){e[16](t)}void 0!==e[0]&&(l.value=e[0]),t=new $y({props:l}),Ce.push((()=>st(t,"value",i))),t.$on("change",e[10]);let u={options:OT,getLabel:e[6]};return void 0!==e[1]&&(u.value=e[1]),o=new $y({props:u}),Ce.push((()=>st(o,"value",c))),o.$on("change",e[10]),{c(){at(t.$$.fragment),r=U(),at(o.$$.fragment)},m(e,n){it(t,e,n),H(e,r,n),it(o,e,n),a=!0},p(e,r){const a={};128&r&&(a.options=e[7]),16&r&&(a.disabled=e[4]),12&r&&(a.getLabel=e[14]),2621452&r&&(a.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,a.value=e[0],Oe((()=>n=!1))),t.$set(a);const i={};64&r&&(i.getLabel=e[6]),!s&&2&r&&(s=!0,i.value=e[1],Oe((()=>s=!1))),o.$set(i)},i(e){a||(je(t.$$.fragment,e),je(o.$$.fragment,e),a=!0)},o(e){Ue(t.$$.fragment,e),Ue(o.$$.fragment,e),a=!1},d(e){lt(t,e),e&&z(r),lt(o,e)}}}function $fe(e){let t,n;return t=new Hu({props:{size:"small",appearance:"ghost",$$slots:{default:[pfe]},$$scope:{ctx:e}}}),t.$on("click",e[9]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2097152&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function pfe(e){let t,n;const r=[Kx];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[ot(Kx)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function mfe(e){let t,n,r,o;n=new $m({props:{$$slots:{default:[dfe]},$$scope:{ctx:e}}});let s=e[5]&&$fe(e);return{c(){t=q("div"),at(n.$$.fragment),r=U(),s&&s.c(),X(t,"class","sort-entry svelte-110y5m4")},m(e,a){H(e,t,a),it(n,t,null),F(t,r),s&&s.m(t,null),o=!0},p(e,[r]){const o={};2097375&r&&(o.$$scope={dirty:r,ctx:e}),n.$set(o),e[5]?s?(s.p(e,r),32&r&&je(s,1)):(s=$fe(e),s.c(),je(s,1),s.m(t,null)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be())},i(e){o||(je(n.$$.fragment,e),je(s),o=!0)},o(e){Ue(n.$$.fragment,e),Ue(s),o=!1},d(e){e&&z(t),lt(n),s&&s.d()}}}function ffe(e,t,n){let r,o,s;y(e,no,(e=>n(17,s=e)));const a=ye();let{columns:i}=t,{getColumnLabel:l}=t,{getColumnConstraintType:c=(()=>{})}=t,{columnsAllowedForSelection:u}=t,{columnIdentifier:d}=t,{sortDirection:$="ASCENDING"}=t,{disableColumnChange:p=!1}=t,{allowDelete:m=!0}=t,{getSortDirectionLabel:f=(e=>{const t=i.get(d);if(t&&e){return NT(t.abstractType.cellInfo.type)[e]}return s("DESCENDING"===$?"descending":"ascending")})}=t;return e.$$set=e=>{"columns"in e&&n(2,i=e.columns),"getColumnLabel"in e&&n(3,l=e.getColumnLabel),"getColumnConstraintType"in e&&n(11,c=e.getColumnConstraintType),"columnsAllowedForSelection"in e&&n(12,u=e.columnsAllowedForSelection),"columnIdentifier"in e&&n(0,d=e.columnIdentifier),"sortDirection"in e&&n(1,$=e.sortDirection),"disableColumnChange"in e&&n(4,p=e.disableColumnChange),"allowDelete"in e&&n(5,m=e.allowDelete),"getSortDirectionLabel"in e&&n(6,f=e.getSortDirectionLabel)},e.$$.update=()=>{4&e.$$.dirty&&n(13,r=[...i.values()].map((e=>e.id))),12289&e.$$.dirty&&n(7,o=(()=>{if(u){const e=[d,...u];return r.filter((t=>e.includes(t)))}return r})())},[d,$,i,l,p,m,f,o,function(e){if(e){const t=i.get(e);if(t)return c(t)}},function(){a("remove")},function(){a("update",{columnIdentifier:d,sortDirection:$})},c,u,r,e=>e?l(i.get(e)):"",function(e){d=e,n(0,d)},function(e){$=e,n(1,$)}]}class gfe extends ut{constructor(e){super(),ct(this,e,ffe,mfe,f,{columns:2,getColumnLabel:3,getColumnConstraintType:11,columnsAllowedForSelection:12,columnIdentifier:0,sortDirection:1,disableColumnChange:4,allowDelete:5,getSortDirectionLabel:6})}}function hfe(e){let t,n,r,o;function s(t){e[5](t)}function a(t){e[6](t)}let i={allowDelete:!1,columns:e[1],columnsAllowedForSelection:e[2],getColumnLabel:e[4],disableColumnChange:e[3]};return void 0!==e[0].columnIdentifier&&(i.columnIdentifier=e[0].columnIdentifier),void 0!==e[0].sortDirection&&(i.sortDirection=e[0].sortDirection),t=new gfe({props:i}),Ce.push((()=>st(t,"columnIdentifier",s))),Ce.push((()=>st(t,"sortDirection",a))),t.$on("update",e[7]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),o=!0},p(e,[o]){const s={};2&o&&(s.columns=e[1]),4&o&&(s.columnsAllowedForSelection=e[2]),2&o&&(s.getColumnLabel=e[4]),8&o&&(s.disableColumnChange=e[3]),!n&&1&o&&(n=!0,s.columnIdentifier=e[0].columnIdentifier,Oe((()=>n=!1))),!r&&1&o&&(r=!0,s.sortDirection=e[0].sortDirection,Oe((()=>r=!1))),t.$set(s)},i(e){o||(je(t.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),o=!1},d(e){lt(t,e)}}}function yfe(e,t,n){let{columns:r}=t,{model:o}=t,{columnsAllowedForSelection:s}=t,{limitEditing:a=!1}=t;return e.$$set=e=>{"columns"in e&&n(1,r=e.columns),"model"in e&&n(0,o=e.model),"columnsAllowedForSelection"in e&&n(2,s=e.columnsAllowedForSelection),"limitEditing"in e&&n(3,a=e.limitEditing)},[o,r,s,a,e=>(e&&r.get(e.id)?.column.display_name)??"",function(t){e.$$.not_equal(o.columnIdentifier,t)&&(o.columnIdentifier=t,n(0,o))},function(t){e.$$.not_equal(o.sortDirection,t)&&(o.sortDirection=t,n(0,o))},function(t){_e.call(this,e,t)}]}class bfe extends ut{constructor(e){super(),ct(this,e,yfe,hfe,f,{columns:1,model:0,columnsAllowedForSelection:2,limitEditing:3})}}function vfe(e){const t=e[2].get(e[23]);e[24]=t}function wfe(e){let t,n;return vfe(e),t=new HV({props:{column:{name:e[3](e[24]),type:e[24]?.column.type??"unknown",type_options:e[24]?.column.type_options??null,constraintsType:e[11](e[23]),metadata:e[24]?.column.metadata??null}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){vfe(e);const r={};8388620&n&&(r.column={name:e[3](e[24]),type:e[24]?.column.type??"unknown",type_options:e[24]?.column.type_options??null,constraintsType:e[11](e[23]),metadata:e[24]?.column.metadata??null}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function _fe(e){let t,n,r;function o(t){e[20](t)}let s={options:e[7],autoSelect:"none",getLabel:e[19]};return void 0!==e[1]&&(s.value=e[1]),t=new $y({props:s}),Ce.push((()=>st(t,"value",o))),t.$on("change",e[12]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};128&r&&(o.options=e[7]),576&r&&(o.getLabel=e[19]),!n&&2&r&&(n=!0,o.value=e[1],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function xfe(e){let t,n;return t=new Hu({props:{appearance:"secondary",$$slots:{default:[Cfe]},$$scope:{ctx:e}}}),t.$on("click",e[21]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};33554432&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Cfe(e){let t,n;const r=[{size:"0.8rem"},Kx];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[r[0],ot(Kx)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Sfe(e){let t,n,r,o,s,a;function i(t){e[18](t)}let l={options:e[8],autoSelect:"none",disabled:e[4],getLabel:e[17],$$slots:{default:[wfe,({option:e})=>({23:e}),({option:e})=>e?8388608:0]},$$scope:{ctx:e}};void 0!==e[0]&&(l.value=e[0]),t=new $y({props:l}),Ce.push((()=>st(t,"value",i))),t.$on("change",e[13]);let c=e[7].length>1&&_fe(e),u=e[5]&&xfe(e);return{c(){at(t.$$.fragment),r=U(),c&&c.c(),o=U(),u&&u.c(),s=W()},m(e,n){it(t,e,n),H(e,r,n),c&&c.m(e,n),H(e,o,n),u&&u.m(e,n),H(e,s,n),a=!0},p(e,r){const a={};256&r&&(a.options=e[8]),16&r&&(a.disabled=e[4]),12&r&&(a.getLabel=e[17]),41943052&r&&(a.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,a.value=e[0],Oe((()=>n=!1))),t.$set(a),e[7].length>1?c?(c.p(e,r),128&r&&je(c,1)):(c=_fe(e),c.c(),je(c,1),c.m(o.parentNode,o)):c&&(qe(),Ue(c,1,1,(()=>{c=null})),Be()),e[5]?u?(u.p(e,r),32&r&&je(u,1)):(u=xfe(e),u.c(),je(u,1),u.m(s.parentNode,s)):u&&(qe(),Ue(u,1,1,(()=>{u=null})),Be())},i(e){a||(je(t.$$.fragment,e),je(c),je(u),a=!0)},o(e){Ue(t.$$.fragment,e),Ue(c),Ue(u),a=!1},d(e){lt(t,e),e&&z(r),c&&c.d(e),e&&z(o),u&&u.d(e),e&&z(s)}}}function kfe(e){let t,n;return t=new $m({props:{$$slots:{default:[Sfe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};33555455&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Mfe(e,t,n){let r,o,s,a,i;y(e,no,(e=>n(9,i=e)));const l=ye();let{columns:c}=t,{getColumnLabel:u}=t,{getColumnConstraintType:d=(()=>{})}=t,{columnsAllowedForSelection:$}=t,{columnIdentifier:p}=t,{preprocFunctionIdentifier:m}=t,{disableColumnChange:f=!1}=t,{allowDelete:g=!0}=t;async function h(){await Ee(),l("update",{columnIdentifier:p,preprocFunctionIdentifier:m})}return e.$$set=e=>{"columns"in e&&n(2,c=e.columns),"getColumnLabel"in e&&n(3,u=e.getColumnLabel),"getColumnConstraintType"in e&&n(14,d=e.getColumnConstraintType),"columnsAllowedForSelection"in e&&n(15,$=e.columnsAllowedForSelection),"columnIdentifier"in e&&n(0,p=e.columnIdentifier),"preprocFunctionIdentifier"in e&&n(1,m=e.preprocFunctionIdentifier),"disableColumnChange"in e&&n(4,f=e.disableColumnChange),"allowDelete"in e&&n(5,g=e.allowDelete)},e.$$.update=()=>{var t,l;4&e.$$.dirty&&n(16,r=[...c.values()].map((e=>e.id))),98305&e.$$.dirty&&n(8,o=function(e,t,n){let r=n??e;return r?.some((e=>e===t))||(r=[t,...r]),r}(r,p,$)),5&e.$$.dirty&&n(7,s=[void 0,...c.get(p)?.preprocFunctions.map((e=>e.id))??[]]??[void 0]),5&e.$$.dirty&&n(6,(t=c,l=p,a=e=>void 0===e?i("value"):t.get(l)?.preprocFunctions.find((t=>t.id===e))?.name??e))},[p,m,c,u,f,g,a,s,o,i,l,function(e){if(e){const t=c.get(e);if(t)return d(t)}},h,async function(){n(1,m=void 0),await h()},d,$,r,e=>e?u(c.get(e)):"",function(e){p=e,n(0,p)},e=>void 0===e?i("value"):a(e),function(e){m=e,n(1,m)},()=>l("removeGroup")]}class Ife extends ut{constructor(e){super(),ct(this,e,Mfe,kfe,f,{columns:2,getColumnLabel:3,getColumnConstraintType:14,columnsAllowedForSelection:15,columnIdentifier:0,preprocFunctionIdentifier:1,disableColumnChange:4,allowDelete:5})}}function Tfe(e){let t,n,r;function o(t){e[8](t)}let s={options:e[4],disabled:e[2],getLabel:e[7]};return void 0!==e[0].function&&(s.value=e[0].function),t=new $y({props:s}),Ce.push((()=>st(t,"value",o))),t.$on("change",e[9]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};16&r&&(o.options=e[4]),4&r&&(o.disabled=e[2]),8&r&&(o.getLabel=e[7]),!n&&1&r&&(n=!0,o.value=e[0].function,Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function Efe(e){let t,n,r,o;const s=[Ofe,Dfe],a=[];function i(e,t){return e[1]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function Dfe(e){let t,n,r=e[0].inputAlias+"";return{c(){t=q("div"),n=j(r)},m(e,r){H(e,t,r),F(t,n)},p(e,t){1&t&&r!==(r=e[0].inputAlias+"")&&Q(n,r)},i:a,o:a,d(e){e&&z(t)}}}function Ofe(e){let t,n;return t=new HV({props:{column:{...e[1].column,name:e[1].column.display_name??e[1].column.alias}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.column={...e[1].column,name:e[1].column.display_name??e[1].column.alias}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Nfe(e){let t,n,r,o;const s=[Efe,Tfe],a=[];function i(e,t){return"column"===e[11]?0:"function"===e[11]?1:-1}return~(t=i(e))&&(n=a[t]=s[t](e)),{c(){n&&n.c(),r=W()},m(e,n){~t&&a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?~t&&a[t].p(e,o):(n&&(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be()),~t?(n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){~t&&a[t].d(e),e&&z(r)}}}function Afe(e){let t,n;const r=[xd,{size:"0.8rem"}];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[ot(xd),r[1]]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Rfe(e){let t,n,r,o,s;return n=new Rx({props:{text:e[5]("aggregate_column_as_function"),$$slots:{default:[Nfe,({slotName:e})=>({11:e}),({slotName:e})=>e?2048:0]},$$scope:{ctx:e}}}),o=new Hu({props:{disabled:e[2],appearance:"plain",$$slots:{default:[Afe]},$$scope:{ctx:e}}}),o.$on("click",e[10]),{c(){t=q("div"),at(n.$$.fragment),r=U(),at(o.$$.fragment),X(t,"class","aggregation svelte-56xg2q")},m(e,a){H(e,t,a),it(n,t,null),F(t,r),it(o,t,null),s=!0},p(e,[t]){const r={};32&t&&(r.text=e[5]("aggregate_column_as_function")),6175&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};4&t&&(s.disabled=e[2]),4096&t&&(s.$$scope={dirty:t,ctx:e}),o.$set(s)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(n),lt(o)}}}function Ffe(e,t,n){let r,o,s;y(e,no,(e=>n(5,s=e)));const a=ye();let{processedColumn:i}=t,{aggregation:l}=t,{limitEditing:c=!1}=t;return e.$$set=e=>{"processedColumn"in e&&n(1,i=e.processedColumn),"aggregation"in e&&n(0,l=e.aggregation),"limitEditing"in e&&n(2,c=e.limitEditing)},e.$$.update=()=>{2&e.$$.dirty&&n(3,r=i?.summarizationFunctions??[]),8&e.$$.dirty&&n(4,o=r.map((e=>e.id)))},[l,i,c,r,o,s,a,e=>r.find((t=>t.id===e))?.label??"",function(t){e.$$.not_equal(l.function,t)&&(l.function=t,n(0,l))},()=>a("update"),()=>a("remove")]}class Pfe extends ut{constructor(e){super(),ct(this,e,Ffe,Rfe,f,{processedColumn:1,aggregation:0,limitEditing:2})}}function Lfe(e,t,n){const r=e.slice();return r[15]=t[n],r}function Hfe(e){const t=e[1].get(e[18])?.column;e[19]=t}function zfe(e){let t,n,r;return n=new J$({props:{label:e[5]("not_aggregated"),layout:"stacked",$$slots:{default:[qfe]},$$scope:{ctx:e}}}),{c(){t=q("section"),at(n.$$.fragment),X(t,"class","svelte-1a5pfoa")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};32&t&&(r.label=e[5]("not_aggregated")),1048599&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function Vfe(e){let t,n;return Hfe(e),t=new HV({props:{column:{name:e[19]?.display_name??"",type:e[19]?.type??"unknown",type_options:e[19]?.type_options??null,metadata:e[19]?.metadata??null}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){Hfe(e);const r={};262146&n&&(r.column={name:e[19]?.display_name??"",type:e[19]?.type??"unknown",type_options:e[19]?.type_options??null,metadata:e[19]?.metadata??null}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function qfe(e){let t,n;return t=new Xf({props:{values:[...e[4].values()].map(Wfe),options:[...e[1].without(e[0].columnIdentifier).values()].map(Yfe),autoClearInvalidValues:!1,disabled:e[2],$$slots:{default:[Vfe,({option:e})=>({18:e}),({option:e})=>e?262144:0]},$$scope:{ctx:e}}}),t.$on("change",e[11]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.values=[...e[4].values()].map(Wfe)),3&n&&(r.options=[...e[1].without(e[0].columnIdentifier).values()].map(Yfe)),4&n&&(r.disabled=e[2]),1310722&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Bfe(e){let t,n,r,o,s,a=e[5]("aggregate")+"",i=[],l=new Map,c=[...e[3].values()];const u=e=>e[15].inputAlias;for(let d=0;d<c.length;d+=1){let t=Lfe(e,c,d),n=u(t);l.set(n,i[d]=jfe(n,t))}return{c(){t=q("section"),n=q("header"),r=j(a),o=U();for(let e=0;e<i.length;e+=1)i[e].c();X(t,"class","svelte-1a5pfoa")},m(e,a){H(e,t,a),F(t,n),F(n,r),F(t,o);for(let n=0;n<i.length;n+=1)i[n].m(t,null);s=!0},p(e,n){(!s||32&n)&&a!==(a=e[5]("aggregate")+"")&&Q(r,a),270&n&&(c=[...e[3].values()],qe(),i=nt(i,n,u,1,e,c,l,t,et,jfe,null,Lfe),Be())},i(e){if(!s){for(let e=0;e<c.length;e+=1)je(i[e]);s=!0}},o(e){for(let t=0;t<i.length;t+=1)Ue(i[t]);s=!1},d(e){e&&z(t);for(let t=0;t<i.length;t+=1)i[t].d()}}}function jfe(e,t){let n,r,o;return r=new Pfe({props:{processedColumn:t[1].get(t[15].inputAlias),aggregation:t[15],limitEditing:t[2]}}),r.$on("update",t[12]),r.$on("remove",(function(){return t[13](t[15])})),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};10&n&&(o.processedColumn=t[1].get(t[15].inputAlias)),8&n&&(o.aggregation=t[15]),4&n&&(o.limitEditing=t[2]),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function Ufe(e){let t,n,r,o,s;n=new Ife({props:{allowDelete:!1,columns:e[1],getColumnLabel:e[9],disableColumnChange:e[2],columnIdentifier:e[0].columnIdentifier,preprocFunctionIdentifier:e[0].preprocFunctionIdentifier}}),n.$on("update",e[10]);let a=e[4].size>0&&zfe(e),i=e[3].size>0&&Bfe(e);return{c(){t=q("div"),at(n.$$.fragment),r=U(),a&&a.c(),o=U(),i&&i.c(),X(t,"class","summarization svelte-1a5pfoa")},m(e,l){H(e,t,l),it(n,t,null),F(t,r),a&&a.m(t,null),F(t,o),i&&i.m(t,null),s=!0},p(e,[r]){const s={};2&r&&(s.columns=e[1]),2&r&&(s.getColumnLabel=e[9]),4&r&&(s.disableColumnChange=e[2]),1&r&&(s.columnIdentifier=e[0].columnIdentifier),1&r&&(s.preprocFunctionIdentifier=e[0].preprocFunctionIdentifier),n.$set(s),e[4].size>0?a?(a.p(e,r),16&r&&je(a,1)):(a=zfe(e),a.c(),je(a,1),a.m(t,o)):a&&(qe(),Ue(a,1,1,(()=>{a=null})),Be()),e[3].size>0?i?(i.p(e,r),8&r&&je(i,1)):(i=Bfe(e),i.c(),je(i,1),i.m(t,null)):i&&(qe(),Ue(i,1,1,(()=>{i=null})),Be())},i(e){s||(je(n.$$.fragment,e),je(a),je(i),s=!0)},o(e){Ue(n.$$.fragment,e),Ue(a),Ue(i),s=!1},d(e){e&&z(t),lt(n),a&&a.d(),i&&i.d()}}}const Wfe=e=>e.inputAlias,Yfe=e=>e.column.alias;function Kfe(e,t,n){let r,o,s;y(e,no,(e=>n(5,s=e)));const a=ye();let{columns:i}=t,{model:l}=t,{limitEditing:c=!1}=t;function u(e){const{columnIdentifier:t,preprocFunctionIdentifier:s}=e;t!==l.columnIdentifier&&(n(4,o=new ao),n(3,r=new ao),n(0,l.aggregations=r,l),n(0,l.groups=o,l)),n(0,l.columnIdentifier=t,l),n(0,l.preprocFunctionIdentifier=s,l),a("update",l)}function d(e){let t=r;const s=new Set(e);[...i.values()].forEach((e=>{const n=e.column.alias;s.has(n)||l.columnIdentifier===n||(t=t.with(n,{inputAlias:n,outputAlias:`${n}_agged`,function:"distinct_aggregate_to_array"}))})),n(3,r=t),n(4,o=new ao(e.map((e=>[e,{inputAlias:e,outputAlias:`${e}_group`}])))),n(0,l.aggregations=r,l),n(0,l.groups=o,l),a("update",l)}function $(e){n(4,o=o.with(e.inputAlias,{inputAlias:e.inputAlias,outputAlias:`${e.inputAlias}_group`})),n(3,r=r.without(e.inputAlias)),n(0,l.groups=o,l),n(0,l.aggregations=r,l),a("update",l)}return e.$$set=e=>{"columns"in e&&n(1,i=e.columns),"model"in e&&n(0,l=e.model),"limitEditing"in e&&n(2,c=e.limitEditing)},e.$$.update=()=>{1&e.$$.dirty&&n(3,({aggregations:r,groups:o}=l),r,(n(4,o),n(0,l)))},[l,i,c,r,o,s,u,d,$,e=>(e&&i.get(e.id)?.column.display_name)??"",e=>u(e.detail),e=>d(e.detail),function(t){_e.call(this,e,t)},e=>$(e)]}class Gfe extends ut{constructor(e){super(),ct(this,e,Kfe,Ufe,f,{columns:1,model:0,limitEditing:2})}}function Xfe(e,t,n){const r=e.slice();return r[24]=t[n],r[26]=n,r}function Zfe(e){const t=0===e[3][e[26]].size;e[27]=t}function Jfe(e){let t,n,r=[],o=new Map,s=e[0];const a=e=>e[24];for(let i=0;i<s.length;i+=1){let t=Xfe(e,s,i),n=a(t);o.set(n,r[i]=ige(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=W()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);H(e,t,o),n=!0},p(e,n){24587&n&&(s=e[0],qe(),r=nt(r,n,a,1,e,s,o,t.parentNode,et,ige,t,Xfe),Be())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ue(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&z(t)}}}function Qfe(e){let t,n;return t=new Hu({props:{appearance:"plain",class:"padding-zero",$$slots:{default:[ege]},$$scope:{ctx:e}}}),t.$on("click",e[23]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};268435456&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function ege(e){let t,n;const r=[Kx,{size:"0.8rem"}];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[ot(Kx),r[1]]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function tge(e){let t,n,r,o,s,a,i,l,c,u=e[26]+1+"",d=e[24].name+"",$=e[26]===e[0].length-1&&Qfe(e);return{c(){t=q("span"),n=q("span"),r=j(u),o=U(),s=q("span"),a=j(d),i=U(),$&&$.c(),l=U(),X(n,"class","number svelte-1uq6biu"),X(s,"class","title svelte-1uq6biu"),X(t,"slot","header"),X(t,"class","header svelte-1uq6biu")},m(e,u){H(e,t,u),F(t,n),F(n,r),F(t,o),F(t,s),F(s,a),F(t,i),$&&$.m(t,null),F(t,l),c=!0},p(e,n){(!c||1&n)&&u!==(u=e[26]+1+"")&&Q(r,u),(!c||1&n)&&d!==(d=e[24].name+"")&&Q(a,d),e[26]===e[0].length-1?$?($.p(e,n),1&n&&je($,1)):($=Qfe(e),$.c(),je($,1),$.m(t,l)):$&&(qe(),Ue($,1,1,(()=>{$=null})),Be())},i(e){c||(je($),c=!0)},o(e){Ue($),c=!1},d(e){e&&z(t),$&&$.d()}}}function nge(e){let t,n;return t=new bfe({props:{columns:e[3][e[26]],columnsAllowedForSelection:[...e[3][e[26]].without(e[1].getAllSortedColumns()).values()].map(mge),model:e[24],limitEditing:e[27]}}),t.$on("update",(function(){return e[22](e[26],e[24])})),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(n,r){e=n;const o={};9&r&&(o.columns=e[3][e[26]]),11&r&&(o.columnsAllowedForSelection=[...e[3][e[26]].without(e[1].getAllSortedColumns()).values()].map(mge)),1&r&&(o.model=e[24]),9&r&&(o.limitEditing=e[27]),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function rge(e){let t,n;return t=new lfe({props:{columns:e[3][e[26]],model:e[24],limitEditing:e[27]}}),t.$on("update",(function(){return e[21](e[26],e[24])})),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(n,r){e=n;const o={};9&r&&(o.columns=e[3][e[26]]),1&r&&(o.model=e[24]),9&r&&(o.limitEditing=e[27]),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function oge(e){let t,n;return t=new Gfe({props:{columns:e[3][e[26]],model:e[24],limitEditing:e[27]||e[26]<e[0].length-1}}),t.$on("update",(function(){return e[20](e[26],e[24])})),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(n,r){e=n;const o={};9&r&&(o.columns=e[3][e[26]]),1&r&&(o.model=e[24]),9&r&&(o.limitEditing=e[27]||e[26]<e[0].length-1),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function sge(e){let t,n;return t=new tfe({props:{columns:e[3][e[26]],model:e[24],limitEditing:e[27],totalTransformations:e[0].length}}),t.$on("update",(function(){return e[19](e[26],e[24])})),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(n,r){e=n;const o={};9&r&&(o.columns=e[3][e[26]]),1&r&&(o.model=e[24]),9&r&&(o.limitEditing=e[27]),1&r&&(o.totalTransformations=e[0].length),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function age(e){let t,n,r,o,s;Zfe(e);const a=[sge,oge,rge,nge],i=[];function l(e,t){return"filter"===e[24].type?0:"summarize"===e[24].type?1:"hide"===e[24].type?2:"order"===e[24].type?3:-1}return~(n=l(e))&&(r=i[n]=a[n](e)),{c(){t=q("div"),r&&r.c(),o=U(),X(t,"slot","content"),X(t,"class","content svelte-1uq6biu")},m(e,r){H(e,t,r),~n&&i[n].m(t,null),F(t,o),s=!0},p(e,s){Zfe(e);let c=n;n=l(e),n===c?~n&&i[n].p(e,s):(r&&(qe(),Ue(i[c],1,1,(()=>{i[c]=null})),Be()),~n?(r=i[n],r?r.p(e,s):(r=i[n]=a[n](e),r.c()),je(r,1),r.m(t,o)):r=null)},i(e){s||(je(r),s=!0)},o(e){Ue(r),s=!1},d(e){e&&z(t),~n&&i[n].d()}}}function ige(e,t){let n,r,o;return r=new om({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[age],header:[tge]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};268435467&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function lge(e){let t,n=e[8]("filter")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){256&r&&n!==(n=e[8]("filter")+"")&&Q(t,n)},d(e){e&&z(t)}}}function cge(e){let t,n=e[8]("sort")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){256&r&&n!==(n=e[8]("sort")+"")&&Q(t,n)},d(e){e&&z(t)}}}function uge(e){let t,n=e[8]("summarize")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){256&r&&n!==(n=e[8]("summarize")+"")&&Q(t,n)},d(e){e&&z(t)}}}function dge(e){let t,n=e[8]("hide_columns")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){256&r&&n!==(n=e[8]("hide_columns")+"")&&Q(t,n)},d(e){e&&z(t)}}}function $ge(e){let t,n,r,o,s,a,i,l;return t=new nw({props:{$$slots:{default:[lge]},$$scope:{ctx:e}}}),t.$on("click",e[9]),r=new nw({props:{disabled:!e[2],$$slots:{default:[cge]},$$scope:{ctx:e}}}),r.$on("click",e[12]),s=new nw({props:{disabled:e[1].hasSummarizationTransform(),$$slots:{default:[uge]},$$scope:{ctx:e}}}),s.$on("click",e[10]),i=new nw({props:{$$slots:{default:[dge]},$$scope:{ctx:e}}}),i.$on("click",e[11]),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),at(s.$$.fragment),a=U(),at(i.$$.fragment)},m(e,c){it(t,e,c),H(e,n,c),it(r,e,c),H(e,o,c),it(s,e,c),H(e,a,c),it(i,e,c),l=!0},p(e,n){const o={};268435712&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const a={};4&n&&(a.disabled=!e[2]),268435712&n&&(a.$$scope={dirty:n,ctx:e}),r.$set(a);const l={};2&n&&(l.disabled=e[1].hasSummarizationTransform()),268435712&n&&(l.$$scope={dirty:n,ctx:e}),s.$set(l);const c={};268435712&n&&(c.$$scope={dirty:n,ctx:e}),i.$set(c)},i(e){l||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),je(i.$$.fragment,e),l=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),Ue(i.$$.fragment,e),l=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),lt(s,e),e&&z(a),lt(i,e)}}}function pge(e){let t,n,r,o,s,a=e[0]&&e[3].length===e[0].length&&Jfe(e);return o=new zh({props:{label:e[8]("add_transformation_step"),icon:jx,disabled:0===e[7].size,triggerAppearance:"secondary",$$slots:{default:[$ge]},$$scope:{ctx:e}}}),{c(){t=q("div"),a&&a.c(),n=U(),r=q("div"),at(o.$$.fragment),X(r,"class","add-transform-control svelte-1uq6biu"),X(t,"class","transformations svelte-1uq6biu")},m(e,i){H(e,t,i),a&&a.m(t,null),F(t,n),F(t,r),it(o,r,null),s=!0},p(e,[r]){e[0]&&e[3].length===e[0].length?a?(a.p(e,r),9&r&&je(a,1)):(a=Jfe(e),a.c(),je(a,1),a.m(t,n)):a&&(qe(),Ue(a,1,1,(()=>{a=null})),Be());const s={};256&r&&(s.label=e[8]("add_transformation_step")),128&r&&(s.disabled=0===e[7].size),268435718&r&&(s.$$scope={dirty:r,ctx:e}),o.$set(s)},i(e){s||(je(a),je(o.$$.fragment,e),s=!0)},o(e){Ue(a),Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),a&&a.d(),lt(o)}}}const mge=e=>e.column.alias;function fge(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h=a,b=a,v=a;y(e,no,(e=>n(8,f=e))),e.$$.on_destroy.push((()=>h())),e.$$.on_destroy.push((()=>b())),e.$$.on_destroy.push((()=>v()));let{queryManager:w}=t;async function _(){await w.update((e=>e.removeLastTransform()))}async function x(e,t){await w.update((n=>n.updateTransform(e,t)))}return e.$$set=e=>{"queryManager"in e&&n(15,w=e.queryManager)},e.$$.update=()=>{32768&e.$$.dirty&&(n(6,({query:r,processedColumns:o,columnsMetaData:s}=w),r,(n(5,o),h(),h=g(o,(e=>n(7,$=e))),o),(n(4,s),v(),v=g(s,(e=>n(18,m=e))),s)),b(),b=g(r,(e=>n(1,p=e)))),2&e.$$.dirty&&n(17,({initial_columns:i,transformationModels:l}=p),i,(n(0,l),n(1,p))),393217&e.$$.dirty&&n(3,c=function(e,t,n){const r=[];let o=S$e(e.map((e=>e.alias)),n);r.push(o);for(let s=1;s<t.length;s+=1){const e=t[s-1];"summarize"===e.type&&(o=S$e(e.getOutputColumnAliases(),n)),r.push(o)}return r}(i,l,m)),2&e.$$.dirty&&n(16,u=p.getAllSortableColumns()),65536&e.$$.dirty&&n(2,d=u.length>0)},[l,p,d,c,s,o,r,$,f,async function(){const e=[...$.values()][0];if(!e)return;const t=[...e.allowedFiltersMap.values()][0];if(!t)return;const n=new K$e({columnIdentifier:e.column.alias,conditionIdentifier:t.id,value:e.initialInputValue});await w.update((e=>e.addFilterTransform(n)))},async function(){const e=[...$.values()][0];if(!e)return;const t=new Z$e({columnIdentifier:e.column.alias,groups:new ao,aggregations:new ao});await w.update((e=>e.addSummarizationTransform(t)))},async function(){const e=new G$e({columnAliases:[]});await w.update((t=>t.addHideTransform(e)))},async function(){const e=u[0];if(!e)return;const t=new X$e({columnIdentifier:e,sortDirection:"ASCENDING"});await w.update((e=>e.addSortTransform(t)))},_,x,w,u,i,m,(e,t)=>x(e,t),(e,t)=>x(e,t),(e,t)=>x(e,t),(e,t)=>x(e,t),()=>_()]}class gge extends ut{constructor(e){super(),ct(this,e,fge,pge,f,{queryManager:15})}}function hge(e){let t,n;return t=new HP({props:{$$slots:{default:[vge]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};32904&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function yge(e){let t,n,r,o;const s=[_ge,wge],a=[];function i(e,t){return"column-selection"===e[2]?.id?0:"transform-results"===e[2]?.id?1:-1}return~(t=i(e))&&(n=a[t]=s[t](e)),{c(){n&&n.c(),r=W()},m(e,n){~t&&a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?~t&&a[t].p(e,o):(n&&(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be()),~t?(n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){~t&&a[t].d(e),e&&z(r)}}}function bge(e){let t,n,r;return n=new t$({}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","loading-state svelte-rg65k3")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p:a,i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function vge(e){let t,n,r,o=e[7]("failed_to_fetch_column_information")+"",s=e[3]?.errors.join(";")+"";return{c(){t=j(o),n=U(),r=j(s)},m(e,o){H(e,t,o),H(e,n,o),H(e,r,o)},p(e,n){128&n&&o!==(o=e[7]("failed_to_fetch_column_information")+"")&&Q(t,o),8&n&&s!==(s=e[3]?.errors.join(";")+"")&&Q(r,s)},d(e){e&&z(t),e&&z(n),e&&z(r)}}}function wge(e){let t,n,r,o,s,a=e[7]("transform_results_help")+"";return o=new gge({props:{queryManager:e[0]}}),{c(){t=q("div"),n=j(a),r=U(),at(o.$$.fragment),X(t,"class","help-text svelte-rg65k3")},m(e,a){H(e,t,a),F(t,n),H(e,r,a),it(o,e,a),s=!0},p(e,t){(!s||128&t)&&a!==(a=e[7]("transform_results_help")+"")&&Q(n,a);const r={};1&t&&(r.queryManager=e[0]),o.$set(r)},i(e){s||(je(o.$$.fragment,e),s=!0)},o(e){Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),e&&z(r),lt(o,e)}}}function _ge(e){let t,n,r,o,s,a=e[7]("select_columns_for_exploration_help")+"";return o=new Jme({props:{queryManager:e[0],linkCollapsibleOpenState:e[1]}}),o.$on("add",e[11]),{c(){t=q("div"),n=j(a),r=U(),at(o.$$.fragment),X(t,"class","help-text svelte-rg65k3")},m(e,a){H(e,t,a),F(t,n),H(e,r,a),it(o,e,a),s=!0},p(e,t){(!s||128&t)&&a!==(a=e[7]("select_columns_for_exploration_help")+"")&&Q(n,a);const r={};1&t&&(r.queryManager=e[0]),2&t&&(r.linkCollapsibleOpenState=e[1]),o.$set(r)},i(e){s||(je(o.$$.fragment,e),s=!0)},o(e){Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),e&&z(r),lt(o,e)}}}function xge(e){let t,n,r,o;const s=[bge,yge,hge],a=[];function i(e,t){return"processing"===e[3]?.state?0:"success"===e[3]?.state?1:"failure"===e[3]?.state?2:-1}return~(t=i(e))&&(n=a[t]=s[t](e)),{c(){n&&n.c(),r=W()},m(e,n){~t&&a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?~t&&a[t].p(e,o):(n&&(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be()),~t?(n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){~t&&a[t].d(e),e&&z(r)}}}function Cge(e){let t,n,r,o,s;function a(t){e[12](t)}let i={tabs:e[8],tabStyle:"compact",fillTabWidth:!0,fillContainerHeight:!0,$$slots:{default:[xge]},$$scope:{ctx:e}};return void 0!==e[2]&&(i.activeTab=e[2]),r=new Sb({props:i}),Ce.push((()=>st(r,"activeTab",a))),{c(){t=q("aside"),n=q("section"),at(r.$$.fragment),X(n,"class","input-pane svelte-rg65k3"),X(t,"class","input-sidebar svelte-rg65k3")},m(e,o){H(e,t,o),F(t,n),it(r,n,null),s=!0},p(e,[t]){const n={};32911&t&&(n.$$scope={dirty:t,ctx:e}),!o&&4&t&&(o=!0,n.activeTab=e[2],Oe((()=>o=!1))),r.$set(n)},i(e){s||(je(r.$$.fragment,e),s=!0)},o(e){Ue(r.$$.fragment,e),s=!1},d(e){e&&z(t),lt(r)}}}function Sge(e,t,n){let r,o,s,i,l,c,u,d,$=a,p=a,m=a;y(e,no,(e=>n(7,l=e))),e.$$.on_destroy.push((()=>$())),e.$$.on_destroy.push((()=>p())),e.$$.on_destroy.push((()=>m()));let{queryManager:f}=t,{linkCollapsibleOpenState:h={}}=t;const b=[{id:"column-selection",label:l("select_columns")},{id:"transform-results",label:l("transform_results")}];let v=b[0];async function w(e){const t=OV(`${e.tableName}_${e.name}`,new Set(u.initial_columns.map((e=>e.alias)))),r=!u.hasSummarizationTransform();let o=!1;e.producesMultipleResults&&c&&r&&(o=await KS({title:{component:Vx,props:{identifier:e.name,wrappingString:l("summarize_column_with_identifier")}},body:[l("summarize_column_recommendation"),l("summarize_column_configure")],proceedButton:{label:l("yes_summarize_as_list"),icon:void 0},cancelButton:{label:l("no_continue_without_summarization"),icon:void 0}})),await f.update((n=>{const r=n.withInitialColumn({alias:t,attnum:e.id,join_path:e.jpPath});if(o){const e=f.getAutoSummarizationTransformModel();if(e)return r.model.addSummarizationTransform(e)}return r})),r&&f.selectColumn(t),o&&n(2,[,v]=b,v)}return e.$$set=e=>{"queryManager"in e&&n(0,f=e.queryManager),"linkCollapsibleOpenState"in e&&n(1,h=e.linkCollapsibleOpenState)},e.$$.update=()=>{1&e.$$.dirty&&(n(6,({query:r,state:o,confirmationNeededForMultipleResults:s}=f),r,(n(5,o),m(),m=g(o,(e=>n(10,d=e))),o),(n(4,s),$(),$=g(s,(e=>n(13,c=e))),s)),p(),p=g(r,(e=>n(14,u=e)))),1024&e.$$.dirty&&n(3,({inputColumnsFetchState:i}=d),i)},[f,h,v,i,s,o,r,l,b,w,d,e=>w(e.detail),function(e){v=e,n(2,v)}]}class kge extends ut{constructor(e){super(),ct(this,e,Sge,Cge,f,{queryManager:0,linkCollapsibleOpenState:1})}}function Mge(e){let t;const n=e[3].default,r=b(n,e,e[5],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||32&o)&&_(r,n,e,e[5],t?w(n,e[5],o,null):x(e[5]),null)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function Ige(e){let t,n;return t=new kge({props:{slot:"panel",queryManager:e[0],linkCollapsibleOpenState:e[1]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.queryManager=e[0]),2&n&&(r.linkCollapsibleOpenState=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Tge(e){let t,n,r;function o(t){e[4](t)}let s={placement:"left",minSizePx:250,maxSizePx:700,$$slots:{panel:[Ige],default:[Mge]},$$scope:{ctx:e}};return void 0!==e[2]&&(s.sizePx=e[2]),t=new Hg({props:s}),Ce.push((()=>st(t,"sizePx",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,[r]){const o={};35&r&&(o.$$scope={dirty:r,ctx:e}),!n&&4&r&&(n=!0,o.sizePx=e[2],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function Ege(e,t,n){let r;y(e,aM,(e=>n(2,r=e)));let{$$slots:o={},$$scope:s}=t,{queryManager:a}=t,{linkCollapsibleOpenState:i={}}=t;return e.$$set=e=>{"queryManager"in e&&n(0,a=e.queryManager),"linkCollapsibleOpenState"in e&&n(1,i=e.linkCollapsibleOpenState),"$$scope"in e&&n(5,s=e.$$scope)},[a,i,r,o,function(e){r=e,aM.set(r)},s]}class Dge extends ut{constructor(e){super(),ct(this,e,Ege,Tge,f,{queryManager:0,linkCollapsibleOpenState:1})}}const Oge={};function Nge(e){return e?Math.max(SM,Math.min(kM,e)):160}function Age(){return ve(Oge)}function Rge(e){e?.querySelector("[data-active-cell]")?.focus()}function Fge(e){let t;const n=e[25].default,r=b(n,e,e[24],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||16777216&o)&&_(r,n,e,e[24],t?w(n,e[24],o,null):x(e[24]),null)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function Pge(e){let t,n,r,o,s=e[1].length&&Fge(e);return{c(){t=q("div"),s&&s.c(),X(t,"class","sheet svelte-x9ehg2"),X(t,"style",e[6]),se(t,"has-border",e[4]),se(t,"uses-virtual-list",e[2]),se(t,"set-to-row-width",e[3]),se(t,"selection-in-progress",e[7])},m(a,i){H(a,t,i),s&&s.m(t,null),e[26](t),n=!0,r||(o=[Y(t,"mousedown",e[11]),Y(t,"contextmenu",e[12]),Y(t,"focusin",e[9]),Y(t,"focusout",e[10])],r=!0)},p(e,[r]){e[1].length?s?(s.p(e,r),2&r&&je(s,1)):(s=Fge(e),s.c(),je(s,1),s.m(t,null)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be()),(!n||64&r)&&X(t,"style",e[6]),(!n||16&r)&&se(t,"has-border",e[4]),(!n||4&r)&&se(t,"uses-virtual-list",e[2]),(!n||8&r)&&se(t,"set-to-row-width",e[3]),(!n||128&r)&&se(t,"selection-in-progress",e[7])},i(e){n||(je(s),n=!0)},o(e){Ue(s),n=!1},d(n){n&&z(t),s&&s.d(),e[26](null),r=!1,d(o)}}}function Lge(e,t,n){let r,o,s,i,l,c=a,u=()=>(c(),c=g(_,(e=>n(27,i=e))),_);e.$$.on_destroy.push((()=>c()));let{$$slots:d={},$$scope:$}=t;const p=ve(gx);let{columns:m}=t,{usesVirtualList:f=!1}=t,{restrictWidthToRowWidth:h=!1}=t,{hasBorder:b=!1}=t,{hasPaddingRight:v=!1}=t,{clipboardHandler:w}=t,{selection:_}=t;u();let{onCellSelectionStart:x=(()=>{})}=t,{getColumnIdentifier:C}=t,{scrollOffset:S=0}=t,{horizontalScrollOffset:k=0}=t,{paddingRight:M=(v?100:0)}=t,{columnWidths:I=new ao}=t,{sheetElement:T}=t,{onCellContextMenu:E}=t;const D=pt(!1);y(e,D,(e=>n(7,l=e)));const O={columnStyleMap:pt(r),rowWidth:pt(o),horizontalScrollOffset:pt(k),scrollOffset:pt(S),paddingRight:pt(M),selectionInProgress:D};var N;function A(){p?.set(void 0)}return N={stores:O,api:{getColumnWidth:e=>Nge(I.get(e)),setColumnWidth:(e,t)=>{n(15,I=I.with(e,t))},resetColumnWidth:e=>{n(15,I=I.without(e))},setHorizontalScrollOffset:e=>{n(14,k=e)},setScrollOffset:e=>{n(13,S=e)}}},be(Oge,N),fe((()=>(_?.on("focus",(async()=>{T&&(await Ee(),Rge(T))})),()=>{A()}))),e.$$set=e=>{"columns"in e&&n(1,m=e.columns),"usesVirtualList"in e&&n(2,f=e.usesVirtualList),"restrictWidthToRowWidth"in e&&n(3,h=e.restrictWidthToRowWidth),"hasBorder"in e&&n(4,b=e.hasBorder),"hasPaddingRight"in e&&n(16,v=e.hasPaddingRight),"clipboardHandler"in e&&n(17,w=e.clipboardHandler),"selection"in e&&u(n(5,_=e.selection)),"onCellSelectionStart"in e&&n(18,x=e.onCellSelectionStart),"getColumnIdentifier"in e&&n(19,C=e.getColumnIdentifier),"scrollOffset"in e&&n(13,S=e.scrollOffset),"horizontalScrollOffset"in e&&n(14,k=e.horizontalScrollOffset),"paddingRight"in e&&n(20,M=e.paddingRight),"columnWidths"in e&&n(15,I=e.columnWidths),"sheetElement"in e&&n(0,T=e.sheetElement),"onCellContextMenu"in e&&n(21,E=e.onCellContextMenu),"$$scope"in e&&n(24,$=e.$$scope)},e.$$.update=()=>{1605634&e.$$.dirty&&n(23,({columnStyleMap:r,rowWidth:o}=function(e,t,n,r){let o=0;const s=new Map;return e.forEach((e=>{const r=t(e),a=Nge(n.get(r));s.set(r,{left:o,width:a,styleString:`width: ${a}px; left: ${o}px;`}),o+=a})),{columnStyleMap:s,rowWidth:o+r}}(m,C,I,M)),r,(n(22,o),n(1,m),n(19,C),n(15,I),n(20,M))),4194304&e.$$.dirty&&O.rowWidth.set(o),8388608&e.$$.dirty&&O.columnStyleMap.set(r),16384&e.$$.dirty&&O.horizontalScrollOffset.set(k),8192&e.$$.dirty&&O.scrollOffset.set(S),1048576&e.$$.dirty&&O.paddingRight.set(M),4194312&e.$$.dirty&&n(6,s=h?`width:${o}px;`:void 0)},[T,m,f,h,b,_,s,l,D,function(){p?.set(w)},A,function(e){if(0!==e.button)return;if(!_)return;if(!T)return;const t=rE(e.target);if(!t)return;const n=(()=>{const n=function(e){return[...e.altKey?["Alt"]:[],...e.ctrlKey?["Ctrl"]:[],...e.metaKey?["Meta"]:[],...e.shiftKey?["Shift"]:[]].join("+")}(e);if(""===n)return t;if("Shift"===n){if(!i)return;const{activeCellId:e}=i;if(!e)return;return{type:"data-cell",cellId:e}}})();n&&(e.preventDefault(),function({selection:e,sheetElement:t,startingCell:n,targetCell:r,selectionInProgress:o}){function s(t){e.update((e=>e.ofSheetCellRange(n,t)))}function a(e){const t=e.target;if(void 0===t)return;const n=rE(t);n&&s(n)}o.set(!0),s(r),t.addEventListener("mousemove",a),window.addEventListener("mouseup",(function e(){t.removeEventListener("mousemove",a),window.removeEventListener("mouseup",e),o.set(!1)}))}({selection:_,sheetElement:T,startingCell:n,targetCell:t,selectionInProgress:D}),n===t&&x(t))},function(e){if(!E)return;const t=rE(e.target);if(!t)return;"opened"===E({targetCell:t,position:e})&&e.preventDefault()},S,k,I,v,w,x,C,M,E,o,r,$,d,function(e){Ce[e?"unshift":"push"]((()=>{T=e,n(0,T)}))}]}class Hge extends ut{constructor(e){super(),ct(this,e,Lge,Pge,f,{columns:1,usesVirtualList:2,restrictWidthToRowWidth:3,hasBorder:4,hasPaddingRight:16,clipboardHandler:17,selection:5,onCellSelectionStart:18,getColumnIdentifier:19,scrollOffset:13,horizontalScrollOffset:14,paddingRight:20,columnWidths:15,sheetElement:0,onCellContextMenu:21})}}function zge(e){let t,n,r,o=`${e[2]}px`;const s=e[7].default,a=b(s,e,e[6],null);return{c(){t=q("div"),n=q("div"),a&&a.c(),X(n,"class","svelte-1xjjkh9"),te(n,"width",o,!1),X(t,"data-sheet-element","header-row"),X(t,"class","svelte-1xjjkh9"),se(t,"inherit-font-style",e[0])},m(o,s){H(o,t,s),F(t,n),a&&a.m(n,null),e[8](t),r=!0},p(e,[i]){a&&a.p&&(!r||64&i)&&_(a,s,e,e[6],r?w(s,e[6],i,null):x(e[6]),null),4&i&&o!==(o=`${e[2]}px`)&&te(n,"width",o,!1),(!r||1&i)&&se(t,"inherit-font-style",e[0])},i(e){r||(je(a,e),r=!0)},o(e){Ue(a,e),r=!1},d(n){n&&z(t),a&&a.d(n),e[8](null)}}}function Vge(e,t,n){let r,o,{$$slots:s={},$$scope:a}=t;const{stores:i,api:l}=Age(),{horizontalScrollOffset:c}=i;y(e,c,(e=>n(5,r=e)));const{rowWidth:u}=i;y(e,u,(e=>n(2,o=e)));let d,{inheritFontStyle:$=!1}=t;function p(e){d&&n(1,d.scrollLeft=e,d)}return fe((()=>{p(r);const e=e=>{const{scrollLeft:t}=e.target;!function(e){r!==e&&l.setHorizontalScrollOffset(e)}(t)};return d.addEventListener("scroll",e),()=>{d.removeEventListener("scroll",e)}})),e.$$set=e=>{"inheritFontStyle"in e&&n(0,$=e.inheritFontStyle),"$$scope"in e&&n(6,a=e.$$scope)},e.$$.update=()=>{32&e.$$.dirty&&p(r)},[$,d,o,c,u,r,a,s,function(e){Ce[e?"unshift":"push"]((()=>{d=e,n(1,d)}))}]}class qge extends ut{constructor(e){super(),ct(this,e,Vge,zge,f,{inheritFontStyle:0})}}function Bge(e){let t,n,r,o;return{c(){t=q("div"),t.innerHTML='<div class="indicator svelte-15a62t4"></div>',X(t,"class","column-resizer svelte-15a62t4"),se(t,"selection-in-progress",e[7]),se(t,"is-resizing",!!e[5])},m(s,a){H(s,t,a),r||(o=[T(n=Dc.call(null,t,{getStartingValue:e[9],onMove:e[10],onStart:e[11],onStop:e[12],min:e[0],max:e[1]})),Y(t,"dblclick",e[13])],r=!0)},p(e,[r]){n&&$(n.update)&&47&r&&n.update.call(null,{getStartingValue:e[9],onMove:e[10],onStart:e[11],onStop:e[12],min:e[0],max:e[1]}),128&r&&se(t,"selection-in-progress",e[7]),32&r&&se(t,"is-resizing",!!e[5])},i:a,o:a,d(e){e&&z(t),r=!1,d(o)}}}function jge(e,t,n){let r,o,s=a;e.$$.on_destroy.push((()=>s()));const{api:i,stores:l}=Age();let c,{minColumnWidth:u=SM}=t,{maxColumnWidth:d=kM}=t,{columnIdentifierKey:$}=t,{afterResize:p=(()=>{})}=t,{onReset:m=(()=>{})}=t;return e.$$set=e=>{"minColumnWidth"in e&&n(0,u=e.minColumnWidth),"maxColumnWidth"in e&&n(1,d=e.maxColumnWidth),"columnIdentifierKey"in e&&n(2,$=e.columnIdentifierKey),"afterResize"in e&&n(3,p=e.afterResize),"onReset"in e&&n(4,m=e.onReset)},n(6,({selectionInProgress:r}=l),r),s(),s=g(r,(e=>n(7,o=e))),[u,d,$,p,m,c,r,o,i,()=>i.getColumnWidth($)??0,e=>i.setColumnWidth($,e),e=>{n(5,c=e)},e=>{e!==c&&p(e),n(5,c=void 0)},()=>{i.resetColumnWidth($),m()}]}class Uge extends ut{constructor(e){super(),ct(this,e,jge,Bge,f,{minColumnWidth:0,maxColumnWidth:1,columnIdentifierKey:2,afterResize:3,onReset:4})}}function Wge(e){const t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,o=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,o.style.width=n.offsetWidth+1+"px",o.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight}function Yge(){const e=function(){const e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)};return t=>e(t)}(),t=function(){const e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return t=>e(t)}();function n(n){const r=n.target;if(r.className?.indexOf?.("contract-trigger")<0&&r.className?.indexOf?.("expand-trigger")<0)return;const o=this;Wge(this),this.__resizeRAF__&&t(this.__resizeRAF__),this.__resizeRAF__=e((()=>{(function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height})(o)&&(o.__resizeLast__.width=o.offsetWidth,o.__resizeLast__.height=o.offsetHeight,o.__resizeListeners__.forEach((e=>{e.call(o,n)})))}))}let r=!1,o="",s="animationstart",a="";const i="Webkit Moz O ms".split(" "),l="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),c=document.createElement("fakeelement");if(void 0!==c.style.animationName&&(r=!0),!1===r)for(let p=0;p<i.length;p+=1)if(void 0!==c.style[i[p]+"AnimationName"]){a=i[p],o="-"+a.toLowerCase()+"-",s=l[p],r=!0;break}const u="resizeanim",d="@"+o+"keyframes "+"resizeanim { from { opacity: 0; } to { opacity: 0; } } ",$=o+"animation: 1ms "+"resizeanim; ";return{addResizeListener:function(e,t){if(!e.__resizeTriggers__){const t=e.ownerDocument,r=window.getComputedStyle(e);r&&"static"===r.position&&(e.style.position="relative"),function(e){if(!e.getElementById("detectElementResize")){const t=(d??"")+".resize-triggers { "+($??"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; }.resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',n=e.head||e.getElementsByTagName("head")[0],r=e.createElement("style");r.id="detectElementResize",r.type="text/css",r.styleSheet?r.styleSheet.cssText=t:r.appendChild(e.createTextNode(t)),n.appendChild(r)}}(t),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=t.createElement("div")).className="resize-triggers";const o=t.createElement("div");o.className="expand-trigger",o.appendChild(t.createElement("div"));const a=t.createElement("div");a.className="contract-trigger",e.__resizeTriggers__.appendChild(o),e.__resizeTriggers__.appendChild(a),e.appendChild(e.__resizeTriggers__),Wge(e),e.addEventListener("scroll",n,!0),s&&(e.__resizeTriggers__.__animationListener__=function(t){t.animationName===u&&Wge(e)},e.__resizeTriggers__.addEventListener(s,e.__resizeTriggers__.__animationListener__))}e.__resizeListeners__.push(t)},removeResizeListener:function(e,t){if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",n,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(s,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(r){}}}}}const Kge=e=>({height:1&e}),Gge=e=>({height:e[0]});function Xge(e){let t;const n=e[6].default,r=b(n,e,e[5],Gge);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||33&o)&&_(r,n,e,e[5],t?w(n,e[5],o,Kge):x(e[5]),Gge)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function Zge(e){let t,n,r=!e[2]&&Xge(e);return{c(){t=q("div"),r&&r.c(),X(t,"class",e[3])},m(o,s){H(o,t,s),r&&r.m(t,null),e[7](t),n=!0},p(e,[o]){e[2]?r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be()):r?(r.p(e,o),4&o&&je(r,1)):(r=Xge(e),r.c(),je(r,1),r.m(t,null)),(!n||8&o)&&X(t,"class",e[3])},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(n){n&&z(t),r&&r.d(),e[7](null)}}}function Jge(e,t,n){let r,o,s,{$$slots:a={},$$scope:i}=t,{class:l="default"}=t,c=!1,u=0;function d(){if(s){const e=s.offsetHeight||0,t=window.getComputedStyle(s)||{},r=parseInt(t.paddingTop,10)||0,o=parseInt(t.paddingBottom,10)||0;u!==e-r-o&&n(0,u=e-r-o)}}return fe((()=>{let e;return o?.parentNode&&(s=o.parentNode,e=Yge(),e.addResizeListener(s,d),d()),()=>{e&&s&&e.removeResizeListener(s,d)}})),e.$$set=e=>{"class"in e&&n(4,l=e.class),"$$scope"in e&&n(5,i=e.$$scope)},e.$$.update=()=>{16&e.$$.dirty&&n(3,r=["virtual-list","resizer",l].join(" ")),1&e.$$.dirty&&n(2,c=0===u)},[u,o,c,r,l,i,a,function(e){Ce[e?"unshift":"push"]((()=>{o=e,n(1,o)}))}]}class Qge extends ut{constructor(e){super(),ct(this,e,Jge,Zge,f,{class:4})}}
/*!
             * perfect-scrollbar v1.5.3
             * Copyright 2021 Hyunje Jun, MDBootstrap and Contributors
             * Licensed under MIT
             */function ehe(e){return getComputedStyle(e)}function the(e,t){for(var n in t){var r=t[n];"number"==typeof r&&(r+="px"),e.style[n]=r}return e}function nhe(e){var t=document.createElement("div");return t.className=e,t}var rhe="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function ohe(e,t){if(!rhe)throw new Error("No element matching method supported");return rhe.call(e,t)}function she(e){e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)}function ahe(e,t){return Array.prototype.filter.call(e.children,(function(e){return ohe(e,t)}))}var ihe="ps",lhe="ps__rtl",che={thumb:function(e){return"ps__thumb-"+e},rail:function(e){return"ps__rail-"+e},consuming:"ps__child--consume"},uhe={focus:"ps--focus",clicking:"ps--clicking",active:function(e){return"ps--active-"+e},scrolling:function(e){return"ps--scrolling-"+e}},dhe={x:null,y:null};function $he(e,t){var n=e.element.classList,r=uhe.scrolling(t);n.contains(r)?clearTimeout(dhe[t]):n.add(r)}function phe(e,t){dhe[t]=setTimeout((function(){return e.isAlive&&e.element.classList.remove(uhe.scrolling(t))}),e.settings.scrollingThreshold)}var mhe=function(e){this.element=e,this.handlers={}},fhe={isEmpty:{configurable:!0}};mhe.prototype.bind=function(e,t){void 0===this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t),this.element.addEventListener(e,t,!1)},mhe.prototype.unbind=function(e,t){var n=this;this.handlers[e]=this.handlers[e].filter((function(r){return!(!t||r===t)||(n.element.removeEventListener(e,r,!1),!1)}))},mhe.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)},fhe.isEmpty.get=function(){var e=this;return Object.keys(this.handlers).every((function(t){return 0===e.handlers[t].length}))},Object.defineProperties(mhe.prototype,fhe);var ghe=function(){this.eventElements=[]};function hhe(e){if("function"==typeof window.CustomEvent)return new CustomEvent(e);var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,void 0),t}function yhe(e,t,n,r,o){var s;if(void 0===r&&(r=!0),void 0===o&&(o=!1),"top"===t)s=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==t)throw new Error("A proper axis should be provided");s=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(e,t,n,r,o){var s=n[0],a=n[1],i=n[2],l=n[3],c=n[4],u=n[5];void 0===r&&(r=!0);void 0===o&&(o=!1);var d=e.element;e.reach[l]=null,d[i]<1&&(e.reach[l]="start");d[i]>e[s]-e[a]-1&&(e.reach[l]="end");t&&(d.dispatchEvent(hhe("ps-scroll-"+l)),t<0?d.dispatchEvent(hhe("ps-scroll-"+c)):t>0&&d.dispatchEvent(hhe("ps-scroll-"+u)),r&&function(e,t){$he(e,t),phe(e,t)}(e,l));e.reach[l]&&(t||o)&&d.dispatchEvent(hhe("ps-"+l+"-reach-"+e.reach[l]))}(e,n,s,r,o)}function bhe(e){return parseInt(e,10)||0}ghe.prototype.eventElement=function(e){var t=this.eventElements.filter((function(t){return t.element===e}))[0];return t||(t=new mhe(e),this.eventElements.push(t)),t},ghe.prototype.bind=function(e,t,n){this.eventElement(e).bind(t,n)},ghe.prototype.unbind=function(e,t,n){var r=this.eventElement(e);r.unbind(t,n),r.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(r),1)},ghe.prototype.unbindAll=function(){this.eventElements.forEach((function(e){return e.unbindAll()})),this.eventElements=[]},ghe.prototype.once=function(e,t,n){var r=this.eventElement(e),o=function(e){r.unbind(t,o),n(e)};r.bind(t,o)};var vhe={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function whe(e){var t=e.element,n=Math.floor(t.scrollTop),r=t.getBoundingClientRect();e.containerWidth=Math.round(r.width),e.containerHeight=Math.round(r.height),e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight,t.contains(e.scrollbarXRail)||(ahe(t,che.rail("x")).forEach((function(e){return she(e)})),t.appendChild(e.scrollbarXRail)),t.contains(e.scrollbarYRail)||(ahe(t,che.rail("y")).forEach((function(e){return she(e)})),t.appendChild(e.scrollbarYRail)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=_he(e,bhe(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=bhe((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=_he(e,bhe(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=bhe(n*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),function(e,t){var n={width:t.railXWidth},r=Math.floor(e.scrollTop);t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:n.left=e.scrollLeft;t.isScrollbarXUsingBottom?n.bottom=t.scrollbarXBottom-r:n.top=t.scrollbarXTop+r;the(t.scrollbarXRail,n);var o={top:r,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?o.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth-9:o.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?o.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:o.left=t.scrollbarYLeft+e.scrollLeft;the(t.scrollbarYRail,o),the(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),the(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}(t,e),e.scrollbarXActive?t.classList.add(uhe.active("x")):(t.classList.remove(uhe.active("x")),e.scrollbarXWidth=0,e.scrollbarXLeft=0,t.scrollLeft=!0===e.isRtl?e.contentWidth:0),e.scrollbarYActive?t.classList.add(uhe.active("y")):(t.classList.remove(uhe.active("y")),e.scrollbarYHeight=0,e.scrollbarYTop=0,t.scrollTop=0)}function _he(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function xhe(e,t){var n=t[0],r=t[1],o=t[2],s=t[3],a=t[4],i=t[5],l=t[6],c=t[7],u=t[8],d=e.element,$=null,p=null,m=null;function f(t){t.touches&&t.touches[0]&&(t[o]=t.touches[0].pageY),d[l]=$+m*(t[o]-p),$he(e,c),whe(e),t.stopPropagation(),t.type.startsWith("touch")&&t.changedTouches.length>1&&t.preventDefault()}function g(){phe(e,c),e[u].classList.remove(uhe.clicking),e.event.unbind(e.ownerDocument,"mousemove",f)}function h(t,a){$=d[l],a&&t.touches&&(t[o]=t.touches[0].pageY),p=t[o],m=(e[r]-e[n])/(e[s]-e[i]),a?e.event.bind(e.ownerDocument,"touchmove",f):(e.event.bind(e.ownerDocument,"mousemove",f),e.event.once(e.ownerDocument,"mouseup",g),t.preventDefault()),e[u].classList.add(uhe.clicking),t.stopPropagation()}e.event.bind(e[a],"mousedown",(function(e){h(e)})),e.event.bind(e[a],"touchstart",(function(e){h(e,!0)}))}var Che={"click-rail":function(e){e.element,e.event.bind(e.scrollbarY,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarYRail,"mousedown",(function(t){var n=t.pageY-window.pageYOffset-e.scrollbarYRail.getBoundingClientRect().top>e.scrollbarYTop?1:-1;e.element.scrollTop+=n*e.containerHeight,whe(e),t.stopPropagation()})),e.event.bind(e.scrollbarX,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarXRail,"mousedown",(function(t){var n=t.pageX-window.pageXOffset-e.scrollbarXRail.getBoundingClientRect().left>e.scrollbarXLeft?1:-1;e.element.scrollLeft+=n*e.containerWidth,whe(e),t.stopPropagation()}))},"drag-thumb":function(e){xhe(e,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),xhe(e,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(e){var t=e.element;e.event.bind(e.ownerDocument,"keydown",(function(n){if(!(n.isDefaultPrevented&&n.isDefaultPrevented()||n.defaultPrevented)&&(ohe(t,":hover")||ohe(e.scrollbarX,":focus")||ohe(e.scrollbarY,":focus"))){var r,o=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(o){if("IFRAME"===o.tagName)o=o.contentDocument.activeElement;else for(;o.shadowRoot;)o=o.shadowRoot.activeElement;if(ohe(r=o,"input,[contenteditable]")||ohe(r,"select,[contenteditable]")||ohe(r,"textarea,[contenteditable]")||ohe(r,"button,[contenteditable]"))return}var s=0,a=0;switch(n.which){case 37:s=n.metaKey?-e.contentWidth:n.altKey?-e.containerWidth:-30;break;case 38:a=n.metaKey?e.contentHeight:n.altKey?e.containerHeight:30;break;case 39:s=n.metaKey?e.contentWidth:n.altKey?e.containerWidth:30;break;case 40:a=n.metaKey?-e.contentHeight:n.altKey?-e.containerHeight:-30;break;case 32:a=n.shiftKey?e.containerHeight:-e.containerHeight;break;case 33:a=e.containerHeight;break;case 34:a=-e.containerHeight;break;case 36:a=e.contentHeight;break;case 35:a=-e.contentHeight;break;default:return}e.settings.suppressScrollX&&0!==s||e.settings.suppressScrollY&&0!==a||(t.scrollTop-=a,t.scrollLeft+=s,whe(e),function(n,r){var o=Math.floor(t.scrollTop);if(0===n){if(!e.scrollbarYActive)return!1;if(0===o&&r>0||o>=e.contentHeight-e.containerHeight&&r<0)return!e.settings.wheelPropagation}var s=t.scrollLeft;if(0===r){if(!e.scrollbarXActive)return!1;if(0===s&&n<0||s>=e.contentWidth-e.containerWidth&&n>0)return!e.settings.wheelPropagation}return!0}(s,a)&&n.preventDefault())}}))},wheel:function(e){var t=e.element;function n(n){var r=function(e){var t=e.deltaX,n=-1*e.deltaY;return void 0!==t&&void 0!==n||(t=-1*e.wheelDeltaX/6,n=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,n*=10),t!=t&&n!=n&&(t=0,n=e.wheelDelta),e.shiftKey?[-n,-t]:[t,n]}(n),o=r[0],s=r[1];if(!function(e,n,r){if(!vhe.isWebKit&&t.querySelector("select:focus"))return!0;if(!t.contains(e))return!1;for(var o=e;o&&o!==t;){if(o.classList.contains(che.consuming))return!0;var s=ehe(o);if(r&&s.overflowY.match(/(scroll|auto)/)){var a=o.scrollHeight-o.clientHeight;if(a>0&&(o.scrollTop>0&&r<0||o.scrollTop<a&&r>0))return!0}if(n&&s.overflowX.match(/(scroll|auto)/)){var i=o.scrollWidth-o.clientWidth;if(i>0&&(o.scrollLeft>0&&n<0||o.scrollLeft<i&&n>0))return!0}o=o.parentNode}return!1}(n.target,o,s)){var a=!1;e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(s?t.scrollTop-=s*e.settings.wheelSpeed:t.scrollTop+=o*e.settings.wheelSpeed,a=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(o?t.scrollLeft+=o*e.settings.wheelSpeed:t.scrollLeft-=s*e.settings.wheelSpeed,a=!0):(t.scrollTop-=s*e.settings.wheelSpeed,t.scrollLeft+=o*e.settings.wheelSpeed),whe(e),a=a||function(n,r){var o=Math.floor(t.scrollTop),s=0===t.scrollTop,a=o+t.offsetHeight===t.scrollHeight,i=0===t.scrollLeft,l=t.scrollLeft+t.offsetWidth===t.scrollWidth;return!(Math.abs(r)>Math.abs(n)?s||a:i||l)||!e.settings.wheelPropagation}(o,s),a&&!n.ctrlKey&&(n.stopPropagation(),n.preventDefault())}}void 0!==window.onwheel?e.event.bind(t,"wheel",n):void 0!==window.onmousewheel&&e.event.bind(t,"mousewheel",n)},touch:function(e){if(vhe.supportsTouch||vhe.supportsIePointer){var t=e.element,n={},r=0,o={},s=null;vhe.supportsTouch?(e.event.bind(t,"touchstart",c),e.event.bind(t,"touchmove",u),e.event.bind(t,"touchend",d)):vhe.supportsIePointer&&(window.PointerEvent?(e.event.bind(t,"pointerdown",c),e.event.bind(t,"pointermove",u),e.event.bind(t,"pointerup",d)):window.MSPointerEvent&&(e.event.bind(t,"MSPointerDown",c),e.event.bind(t,"MSPointerMove",u),e.event.bind(t,"MSPointerUp",d)))}function a(n,r){t.scrollTop-=r,t.scrollLeft-=n,whe(e)}function i(e){return e.targetTouches?e.targetTouches[0]:e}function l(e){return(!e.pointerType||"pen"!==e.pointerType||0!==e.buttons)&&(!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))}function c(e){if(l(e)){var t=i(e);n.pageX=t.pageX,n.pageY=t.pageY,r=(new Date).getTime(),null!==s&&clearInterval(s)}}function u(s){if(l(s)){var c=i(s),u={pageX:c.pageX,pageY:c.pageY},d=u.pageX-n.pageX,$=u.pageY-n.pageY;if(function(e,n,r){if(!t.contains(e))return!1;for(var o=e;o&&o!==t;){if(o.classList.contains(che.consuming))return!0;var s=ehe(o);if(r&&s.overflowY.match(/(scroll|auto)/)){var a=o.scrollHeight-o.clientHeight;if(a>0&&(o.scrollTop>0&&r<0||o.scrollTop<a&&r>0))return!0}if(n&&s.overflowX.match(/(scroll|auto)/)){var i=o.scrollWidth-o.clientWidth;if(i>0&&(o.scrollLeft>0&&n<0||o.scrollLeft<i&&n>0))return!0}o=o.parentNode}return!1}(s.target,d,$))return;a(d,$),n=u;var p=(new Date).getTime(),m=p-r;m>0&&(o.x=d/m,o.y=$/m,r=p),function(n,r){var o=Math.floor(t.scrollTop),s=t.scrollLeft,a=Math.abs(n),i=Math.abs(r);if(i>a){if(r<0&&o===e.contentHeight-e.containerHeight||r>0&&0===o)return 0===window.scrollY&&r>0&&vhe.isChrome}else if(a>i&&(n<0&&s===e.contentWidth-e.containerWidth||n>0&&0===s))return!0;return!0}(d,$)&&s.preventDefault()}}function d(){e.settings.swipeEasing&&(clearInterval(s),s=setInterval((function(){e.isInitialized?clearInterval(s):o.x||o.y?Math.abs(o.x)<.01&&Math.abs(o.y)<.01?clearInterval(s):e.element?(a(30*o.x,30*o.y),o.x*=.8,o.y*=.8):clearInterval(s):clearInterval(s)}),10))}}},She=function(e,t){var n=this;if(void 0===t&&(t={}),"string"==typeof e&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var r in this.element=e,e.classList.add(ihe),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},t)this.settings[r]=t[r];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var o,s,a=function(){return e.classList.add(uhe.focus)},i=function(){return e.classList.remove(uhe.focus)};this.isRtl="rtl"===ehe(e).direction,!0===this.isRtl&&e.classList.add(lhe),this.isNegativeScroll=(s=e.scrollLeft,e.scrollLeft=-1,o=e.scrollLeft<0,e.scrollLeft=s,o),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new ghe,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=nhe(che.rail("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=nhe(che.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",a),this.event.bind(this.scrollbarX,"blur",i),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var l=ehe(this.scrollbarXRail);this.scrollbarXBottom=parseInt(l.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=bhe(l.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=bhe(l.borderLeftWidth)+bhe(l.borderRightWidth),the(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=bhe(l.marginLeft)+bhe(l.marginRight),the(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=nhe(che.rail("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=nhe(che.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",a),this.event.bind(this.scrollbarY,"blur",i),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var c=ehe(this.scrollbarYRail);this.scrollbarYRight=parseInt(c.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=bhe(c.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(e){var t=ehe(e);return bhe(t.width)+bhe(t.paddingLeft)+bhe(t.paddingRight)+bhe(t.borderLeftWidth)+bhe(t.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=bhe(c.borderTopWidth)+bhe(c.borderBottomWidth),the(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=bhe(c.marginTop)+bhe(c.marginBottom),the(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(e){return Che[e](n)})),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",(function(e){return n.onScroll(e)})),whe(this)};She.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,the(this.scrollbarXRail,{display:"block"}),the(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=bhe(ehe(this.scrollbarXRail).marginLeft)+bhe(ehe(this.scrollbarXRail).marginRight),this.railYMarginHeight=bhe(ehe(this.scrollbarYRail).marginTop)+bhe(ehe(this.scrollbarYRail).marginBottom),the(this.scrollbarXRail,{display:"none"}),the(this.scrollbarYRail,{display:"none"}),whe(this),yhe(this,"top",0,!1,!0),yhe(this,"left",0,!1,!0),the(this.scrollbarXRail,{display:""}),the(this.scrollbarYRail,{display:""}))},She.prototype.onScroll=function(e){this.isAlive&&(whe(this),yhe(this,"top",this.element.scrollTop-this.lastScrollTop),yhe(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},She.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),she(this.scrollbarX),she(this.scrollbarY),she(this.scrollbarXRail),she(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},She.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(e){return!e.match(/^ps([-_].+|)$/)})).join(" ")};function khe(e,t){const{itemSize:n,instanceProps:r}=e,{itemMetadataMap:o,lastMeasuredIndex:s}=r;if(t>s){let e=0;if(s>=0){const t=o[s];e=t.offset+t.size}for(let r=s+1;r<=t;r+=1){const t=n(r);o[r]={offset:e,size:t},e+=t}r.lastMeasuredIndex=t}return o[t]}function Mhe(e,t,n){const{scrollOffset:r}=e;let o=t,s=n;for(;s<=o;){const t=s+Math.floor((o-s)/2),n=khe(e,t).offset;if(n===r)return t;n<r?s=t+1:n>r&&(o=t-1)}return s>0?s-1:0}function Ihe(e){const{instanceProps:t,scrollOffset:n}=e,{itemMetadataMap:r,lastMeasuredIndex:o}=t;return(o>0?r[o].offset:0)>=n?Mhe(e,o,0):function(e,t){const{itemCount:n,scrollOffset:r}=e;let o=1,s=t;for(;s<n&&khe(e,s).offset<r;)s+=o,o*=2;return Mhe(e,Math.min(s,n-1),Math.floor(s/2))}(e,Math.max(0,o))}function The(e){const{isScrolling:t,scrollDirection:n,itemCount:r,overscanCount:o}=e;if(0===r)return[0,0,0,0];const s=Ihe(e),a=function(e,t){const{height:n,itemCount:r,scrollOffset:o}=e,s=khe(e,t),a=o+n;let i=s.offset+s.size,l=t;for(;l<r-1&&i<a;)l+=1,i+=khe(e,l).size;return l}(e,s),i=t&&"backward"!==n?1:Math.max(1,o),l=t&&"forward"!==n?1:Math.max(1,o);return[Math.max(0,s-i),Math.max(0,Math.min(r-1,a+l)),s,a]}function Ehe(e,t){const{instanceProps:n}=e,{styleCache:r}=n;let o;if(Object.prototype.hasOwnProperty.call(r,t))o=r[t];else{const{offset:s}=khe(e,t),{size:a}=n.itemMetadataMap[t];o={position:"absolute",left:0,top:s,height:a,width:"100%"},r[t]=o}return o}const Dhe={defaultItemKey:e=>e,getItemsInfo:function(e){const{itemKey:t,itemCount:n,isScrolling:r}=e,[o,s]=The(e),a=[];if(n>0)for(let i=o;i<=s;i+=1)a.push({key:t(i),index:i,isScrolling:r,style:Ehe(e,i)});return{items:a,startIndex:o,stopIndex:s}},getEstimatedTotalSize:function(e){const{instanceProps:t,itemCount:n,estimatedItemSize:r}=e,{lastMeasuredIndex:o,itemMetadataMap:s}=t;let a=o,i=0;if(a>=n&&(a=n-1),a>=0){const e=s[a];i=e.offset+e.size}return i+(n-a-1)*r}},Ohe="object"==typeof performance&&"function"==typeof performance.now?()=>performance.now():()=>Date.now();function Nhe(e){void 0!==e.id&&cancelAnimationFrame(e.id)}const Ahe=e=>({items:2&e[0]}),Rhe=e=>({items:e[1],api:e[5]});function Fhe(e){let t,n,r;const o=e[25].default,s=b(o,e,e[24],Rhe);return{c(){t=q("div"),n=q("div"),s&&s.c(),X(n,"style",e[3]),X(t,"class",e[4]),te(t,"height",e[0]+"px"),te(t,"width","100%"),te(t,"direction","ltr"),X(t,"data-sheet-body-element","list")},m(o,a){H(o,t,a),F(t,n),s&&s.m(n,null),e[26](t),r=!0},p(e,a){s&&s.p&&(!r||16777218&a[0])&&_(s,o,e,e[24],r?w(o,e[24],a,Ahe):x(e[24]),Rhe),(!r||8&a[0])&&X(n,"style",e[3]),(!r||16&a[0])&&X(t,"class",e[4]),(!r||1&a[0])&&te(t,"height",e[0]+"px")},i(e){r||(je(s,e),r=!0)},o(e){Ue(s,e),r=!1},d(n){n&&z(t),s&&s.d(n),e[26](null)}}}const Phe=30;function Lhe(e,t,n){let r,o,{$$slots:s={},$$scope:a}=t;const i=ye();let l,c,u,d,$,{class:p="default"}=t,{estimatedItemSize:m=Phe}=t,{height:f}=t,{scrollOffset:g=0}=t,{itemCount:h}=t,{overscanCount:y=5}=t,{itemSize:b=(()=>m)}=t,{paddingBottom:v=0}=t,{horizontalScrollOffset:w=0}=t,{itemKey:_=Dhe.defaultItemKey}=t,{width:x}=t,C={lastMeasuredIndex:-1,itemMetadataMap:{},styleCache:{}},S=!1,k="forward",M=f,I=[],T=!1,E=!1;function D(e){c&&"number"==typeof e&&c.scrollLeft!==e&&n(2,c.scrollLeft=e,c)}fe((()=>{"number"==typeof g&&n(2,c.scrollTop=g,c),D(w),d=new She(c,{minScrollbarLength:40,wheelPropagation:!1});const e=e=>{!function(e){const{clientHeight:t,scrollHeight:r,scrollTop:o,scrollLeft:s}=e.target;if(T=!0,w!==s&&(n(7,w=s),i("h-scroll",w)),g!==o){const e=Math.max(0,Math.min(o,r-t));n(21,S=!0),n(22,k=g<e?"forward":"backward"),n(6,g=e),i("scroll",g)}}(e)},t=e=>{!function(e){const{scrollLeft:t}=e.target;w!==t&&(n(7,w=t),i("h-scroll",w))}(e)};return i("refetch",$),c.addEventListener("ps-scroll-y",e),c.addEventListener("ps-scroll-x",t),()=>{c.removeEventListener("ps-scroll-y",e),c.removeEventListener("ps-scroll-x",t),d?.destroy()}}));const O=()=>{u=void 0,n(21,S=!1),E=!0,i("refetch",$)};function N(){void 0!==u&&Nhe(u),u=function(e,t){const n=Ohe(),r={id:void 0};return r.id=requestAnimationFrame((function o(){Ohe()-n>=t?e.call(void 0):r.id=requestAnimationFrame(o)})),r}(O,150)}function A(e){n(20,C={...C,lastMeasuredIndex:Math.min(C.lastMeasuredIndex,(e??0)-1),styleCache:{}})}function R(e,t){if(c&&d){const r=Math.max(e,0),o=Math.max(t,0);let s=!1;g!==r&&(n(2,c.scrollTop=r,c),s=!0),w!==o&&(n(2,c.scrollLeft=o,c),s=!0),s&&d.update()}}function F(){c&&d&&(n(2,c.scrollTop=c.scrollHeight,c),d.update())}function P(){c&&d&&(n(2,c.scrollTop=0,c),d.update())}ge((()=>{T&&(T=!1,N()),E&&(E=!1,n(20,C.styleCache={},C)),d&&d.update()})),he((()=>{void 0!==u&&Nhe(u)}));const L={scrollToTop:P,scrollToBottom:F,scrollToPosition:R,recalculateHeightsAfterIndex:A};return e.$$set=e=>{"class"in e&&n(8,p=e.class),"estimatedItemSize"in e&&n(9,m=e.estimatedItemSize),"height"in e&&n(0,f=e.height),"scrollOffset"in e&&n(6,g=e.scrollOffset),"itemCount"in e&&n(10,h=e.itemCount),"overscanCount"in e&&n(11,y=e.overscanCount),"itemSize"in e&&n(12,b=e.itemSize),"paddingBottom"in e&&n(13,v=e.paddingBottom),"horizontalScrollOffset"in e&&n(7,w=e.horizontalScrollOffset),"itemKey"in e&&n(14,_=e.itemKey),"width"in e&&n(15,x=e.width),"$$scope"in e&&n(24,a=e.$$scope)},e.$$.update=()=>{var t;256&e.$$.dirty[0]&&n(4,r=["virtual-list","outerElement",p].join(" ")),7364161&e.$$.dirty[0]&&(t={itemSize:b,instanceProps:C,isScrolling:S,scrollDirection:k,itemCount:h,overscanCount:y,scrollOffset:g,height:f,itemKey:_,estimatedItemSize:m},$=Dhe.getItemsInfo(t),n(1,I=$.items),n(23,l=Dhe.getEstimatedTotalSize(t)),M!==f&&(M=f,i("refetch",$))),10526720&e.$$.dirty[0]&&n(3,o=`height:${l+v}px;width:${x?`${x}px`:"100%"};`+(S?"pointer-events:none;":"")),128&e.$$.dirty[0]&&D(w)},[f,I,c,o,r,L,g,w,p,m,h,y,b,v,_,x,A,R,F,P,C,S,k,l,a,s,function(e){Ce[e?"unshift":"push"]((()=>{c=e,n(2,c)}))}]}class Hhe extends ut{constructor(e){super(),ct(this,e,Lhe,Fhe,f,{class:8,estimatedItemSize:9,height:0,scrollOffset:6,itemCount:10,overscanCount:11,itemSize:12,paddingBottom:13,horizontalScrollOffset:7,itemKey:14,width:15,recalculateHeightsAfterIndex:16,scrollToPosition:17,scrollToBottom:18,scrollToTop:19},null,[-1,-1])}get recalculateHeightsAfterIndex(){return this.$$.ctx[16]}get scrollToPosition(){return this.$$.ctx[17]}get scrollToBottom(){return this.$$.ctx[18]}get scrollToTop(){return this.$$.ctx[19]}}const zhe=e=>({items:131072&e,api:262144&e}),Vhe=e=>({items:e[17],api:e[18]});function qhe(e){let t;const n=e[11].default,r=b(n,e,e[14],Vhe);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||409600&o)&&_(r,n,e,e[14],t?w(n,e[14],o,zhe):x(e[14]),Vhe)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function Bhe(e){let t,n;return t=new Hhe({props:{horizontalScrollOffset:e[4],scrollOffset:e[5],height:e[16],width:e[6],itemCount:e[0],paddingBottom:e[2],itemSize:e[1],estimatedItemSize:CM,itemKey:e[3],$$slots:{default:[qhe,({items:e,api:t})=>({17:e,18:t}),({items:e,api:t})=>(e?131072:0)|(t?262144:0)]},$$scope:{ctx:e}}}),t.$on("scroll",e[12]),t.$on("h-scroll",e[13]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.horizontalScrollOffset=e[4]),32&n&&(r.scrollOffset=e[5]),65536&n&&(r.height=e[16]),64&n&&(r.width=e[6]),1&n&&(r.itemCount=e[0]),4&n&&(r.paddingBottom=e[2]),2&n&&(r.itemSize=e[1]),8&n&&(r.itemKey=e[3]),409600&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function jhe(e){let t,n,r;return n=new Qge({props:{$$slots:{default:[Bhe,({height:e})=>({16:e}),({height:e})=>e?65536:0]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"data-sheet-element","body"),X(t,"tabindex","-1"),X(t,"class","svelte-1sm73pn")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,[t]){const r={};82047&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function Uhe(e,t,n){let r,o,s,{$$slots:a={},$$scope:i}=t;const{stores:l,api:c}=Age(),{rowWidth:u,horizontalScrollOffset:d,scrollOffset:$}=l;y(e,u,(e=>n(6,s=e))),y(e,d,(e=>n(4,r=e))),y(e,$,(e=>n(5,o=e)));let{itemCount:p}=t,{itemSize:m}=t,{paddingBottom:f=0}=t,{itemKey:g}=t;return e.$$set=e=>{"itemCount"in e&&n(0,p=e.itemCount),"itemSize"in e&&n(1,m=e.itemSize),"paddingBottom"in e&&n(2,f=e.paddingBottom),"itemKey"in e&&n(3,g=e.itemKey),"$$scope"in e&&n(14,i=e.$$scope)},[p,m,f,g,r,o,s,c,u,d,$,a,e=>{c.setScrollOffset(e.detail)},e=>{c.setHorizontalScrollOffset(e.detail)},i]}class Whe extends ut{constructor(e){super(),ct(this,e,Uhe,jhe,f,{itemCount:0,itemSize:1,paddingBottom:2,itemKey:3})}}const Yhe=e=>({styleString:1&e}),Khe=e=>({htmlAttributes:e[2],styleString:e[0]});function Ghe(e){let t;const n=e[6].default,r=b(n,e,e[5],Khe);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,[o]){r&&r.p&&(!t||33&o)&&_(r,n,e,e[5],t?w(n,e[5],o,Yhe):x(e[5]),Khe)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function Xhe(e,t,n){let r,o,{$$slots:s={},$$scope:a}=t;const{stores:i}=Age(),{rowWidth:l}=i;y(e,l,(e=>n(4,o=e)));let{style:c}=t;return e.$$set=e=>{"style"in e&&n(3,c=e.style),"$$scope"in e&&n(5,a=e.$$scope)},e.$$.update=()=>{var t,s;24&e.$$.dirty&&n(0,(s=o,r=`position:${(t=c).position};left:${t.left}px;top:${t.top}px;height:${t.height}px;width:${s}px`))},[r,l,{"data-sheet-element":"data-row"},c,o,a,s]}class Zhe extends ut{constructor(e){super(),ct(this,e,Xhe,Ghe,f,{style:3})}}function Jhe(e){const t=e?.parentElement,n=document.querySelector('[data-sheet-body-element="list"]');if(n&&t){if(t.offsetTop+t.clientHeight+40>n.scrollTop+n.clientHeight){const e=n.getBoundingClientRect().bottom-t.getBoundingClientRect().bottom-40;n.scrollTop-=e}else t.offsetTop-30<n.scrollTop&&(n.scrollTop=t.offsetTop-30);if(e.offsetLeft+t.clientWidth+30>n.scrollLeft+n.clientWidth){const t=n.getBoundingClientRect().right-e.getBoundingClientRect().right-30;n.scrollLeft-=t}else e.offsetLeft-30<n.scrollLeft&&(n.scrollLeft=e.offsetLeft-30)}}async function Qhe(){await Ee(),Jhe(document.querySelector("[data-cell-active]"))}function eye(e){const{stores:t}=Age(),{columnStyleMap:n}=t;return mt(n,(t=>t.get(e)?.styleString))}function tye(e){let t,n;const r=e[4].default,o=b(r,e,e[3],null);return{c(){t=q("div"),o&&o.c(),X(t,"data-sheet-element","column-header-cell"),X(t,"data-column-identifier",e[0]),X(t,"style",e[1]),X(t,"class","svelte-1lcr882")},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,[s]){o&&o.p&&(!n||8&s)&&_(o,r,e,e[3],n?w(r,e[3],s,null):x(e[3]),null),(!n||1&s)&&X(t,"data-column-identifier",e[0]),(!n||2&s)&&X(t,"style",e[1])},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function nye(e,t,n){let r,{$$slots:o={},$$scope:s}=t,{columnIdentifierKey:a}=t;const i=eye(a);return y(e,i,(e=>n(1,r=e))),e.$$set=e=>{"columnIdentifierKey"in e&&n(0,a=e.columnIdentifierKey),"$$scope"in e&&n(3,s=e.$$scope)},[a,r,i,s,o]}class rye extends ut{constructor(e){super(),ct(this,e,nye,tye,f,{columnIdentifierKey:0})}}const oye=e=>({isActive:16&e,isSelected:8&e}),sye=e=>({isActive:e[4],isSelected:e[3]});function aye(e){let t,n;return t=new qE({props:{color:"var(--color-selection-subtle-2)",when:e[3]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.when=e[3]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function iye(e){let t,n,r,o,s,a,i=e[2]&&aye(e);const l=e[10].default,c=b(l,e,e[9],sye);return{c(){t=q("div"),i&&i.c(),n=U(),c&&c.c(),X(t,"data-sheet-element","data-cell"),X(t,"data-sheet-row-type",r=e[1]?"placeholder":"data"),X(t,"data-cell-selection-id",e[0]),X(t,"data-cell-active",o=e[4]?"":void 0),X(t,"data-cell-selected",s=e[3]?"":void 0),X(t,"style",e[6]),X(t,"class","svelte-4fmkf")},m(e,r){H(e,t,r),i&&i.m(t,null),F(t,n),c&&c.m(t,null),a=!0},p(e,[u]){e[2]?i?(i.p(e,u),4&u&&je(i,1)):(i=aye(e),i.c(),je(i,1),i.m(t,n)):i&&(qe(),Ue(i,1,1,(()=>{i=null})),Be()),c&&c.p&&(!a||536&u)&&_(c,l,e,e[9],a?w(l,e[9],u,oye):x(e[9]),sye),(!a||2&u&&r!==(r=e[1]?"placeholder":"data"))&&X(t,"data-sheet-row-type",r),(!a||1&u)&&X(t,"data-cell-selection-id",e[0]),(!a||16&u&&o!==(o=e[4]?"":void 0))&&X(t,"data-cell-active",o),(!a||8&u&&s!==(s=e[3]?"":void 0))&&X(t,"data-cell-selected",s),(!a||64&u)&&X(t,"style",e[6])},i(e){a||(je(i),je(c,e),a=!0)},o(e){Ue(i),Ue(c,e),a=!1},d(e){e&&z(t),i&&i.d(),c&&c.d(e)}}}function lye(e,t,n){let r,o,s,i,l,c=a;e.$$.on_destroy.push((()=>c()));let{$$slots:u={},$$scope:d}=t,{columnIdentifierKey:$}=t,{cellSelectionId:p}=t,{selection:m}=t,{isWithinPlaceholderRow:f=!1}=t;return e.$$set=e=>{"columnIdentifierKey"in e&&n(7,$=e.columnIdentifierKey),"cellSelectionId"in e&&n(0,p=e.cellSelectionId),"selection"in e&&n(8,m=e.selection),"isWithinPlaceholderRow"in e&&n(1,f=e.isWithinPlaceholderRow),"$$scope"in e&&n(9,d=e.$$scope)},e.$$.update=()=>{128&e.$$.dirty&&(n(5,r=eye($)),c(),c=g(r,(e=>n(6,l=e)))),257&e.$$.dirty&&n(4,({isActive:o,isSelected:s,hasSelectionBackground:i}=(()=>{if(!m||!p)return{isActive:!1,isSelected:!1,hasSelectionBackground:!1};const e=m.cellIds.has(p);return{isActive:m.activeCellId===p,isSelected:e,hasSelectionBackground:e&&m.cellIds.size>1}})()),o,(n(3,s),n(8,m),n(0,p)),(n(2,i),n(8,m),n(0,p)))},[p,f,i,s,o,r,l,$,m,d,u]}class cye extends ut{constructor(e){super(),ct(this,e,lye,iye,f,{columnIdentifierKey:7,cellSelectionId:0,selection:8,isWithinPlaceholderRow:1})}}function uye(e){let t,n;const r=e[4].default,o=b(r,e,e[3],null);return{c(){t=q("div"),o&&o.c(),X(t,"data-sheet-element","new-column-cell"),X(t,"style",e[1]),X(t,"class","svelte-192yzps")},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,[s]){o&&o.p&&(!n||8&s)&&_(o,r,e,e[3],n?w(r,e[3],s,null):x(e[3]),null),(!n||2&s)&&X(t,"style",e[1])},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function dye(e,t,n){let r,o,s=a;e.$$.on_destroy.push((()=>s()));let{$$slots:i={},$$scope:l}=t,{columnIdentifierKey:c}=t;return e.$$set=e=>{"columnIdentifierKey"in e&&n(2,c=e.columnIdentifierKey),"$$scope"in e&&n(3,l=e.$$scope)},e.$$.update=()=>{4&e.$$.dirty&&(n(0,r=eye(c)),s(),s=g(r,(e=>n(1,o=e))))},[r,o,c,l,i]}class $ye extends ut{constructor(e){super(),ct(this,e,dye,uye,f,{columnIdentifierKey:2})}}function pye(e){let t,n;const r=e[4].default,o=b(r,e,e[3],null);return{c(){t=q("div"),o&&o.c(),X(t,"data-sheet-element","origin-cell"),X(t,"style",e[1]),X(t,"class","svelte-1vnctx4")},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,[s]){o&&o.p&&(!n||8&s)&&_(o,r,e,e[3],n?w(r,e[3],s,null):x(e[3]),null),(!n||2&s)&&X(t,"style",e[1])},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function mye(e,t,n){let r,o,s=a;e.$$.on_destroy.push((()=>s()));let{$$slots:i={},$$scope:l}=t,{columnIdentifierKey:c}=t;return e.$$set=e=>{"columnIdentifierKey"in e&&n(2,c=e.columnIdentifierKey),"$$scope"in e&&n(3,l=e.$$scope)},e.$$.update=()=>{4&e.$$.dirty&&(n(0,r=eye(c)),s(),s=g(r,(e=>n(1,o=e))))},[r,o,c,l,i]}class fye extends ut{constructor(e){super(),ct(this,e,mye,pye,f,{columnIdentifierKey:2})}}function gye(e){let t,n;const r=e[6].default,o=b(r,e,e[5],null);return{c(){t=q("div"),o&&o.c(),X(t,"data-sheet-element","positionable-cell"),X(t,"style",e[0]),X(t,"class","svelte-pwze94")},m(e,r){H(e,t,r),o&&o.m(t,null),n=!0},p(e,[s]){o&&o.p&&(!n||32&s)&&_(o,r,e,e[5],n?w(r,e[5],s,null):x(e[5]),null),(!n||1&s)&&X(t,"style",e[0])},i(e){n||(je(o,e),n=!0)},o(e){Ue(o,e),n=!1},d(e){e&&z(t),o&&o.d(e)}}}function hye(e,t,n){let r,o,{$$slots:s={},$$scope:a}=t;const{stores:i}=Age(),{columnStyleMap:l}=i;y(e,l,(e=>n(4,o=e)));let{index:c}=t,{columnSpan:u=1}=t;return e.$$set=e=>{"index"in e&&n(2,c=e.index),"columnSpan"in e&&n(3,u=e.columnSpan),"$$scope"in e&&n(5,a=e.$$scope)},e.$$.update=()=>{28&e.$$.dirty&&n(0,r=function(e,t,n){const r=[...e.values()],o=r[c]?c:0,s=r[o]?.left??0;let a=r[o+n-1];return a=a??r[r.length-1],`left: ${s}px; width: ${a?a.left+a.width-s:0}px`}(o,0,u))},[r,l,c,u,o,a,s]}class yye extends ut{constructor(e){super(),ct(this,e,hye,gye,f,{index:2,columnSpan:3})}}function bye(e){let t,n,r,o,s;const a=e[7].default,i=b(a,e,e[6],null);return{c(){t=q("div"),i&&i.c(),X(t,"data-sheet-element","row-header-cell"),X(t,"data-sheet-row-type",n=e[1]?"placeholder":"data"),X(t,"data-row-selection-id",e[0]),X(t,"style",e[4]),X(t,"class","svelte-7uof2d")},m(n,a){H(n,t,a),i&&i.m(t,null),r=!0,o||(s=Y(t,"mousedown",(function(){$(e[2])&&e[2].apply(this,arguments)})),o=!0)},p(o,[s]){e=o,i&&i.p&&(!r||64&s)&&_(i,a,e,e[6],r?w(a,e[6],s,null):x(e[6]),null),(!r||2&s&&n!==(n=e[1]?"placeholder":"data"))&&X(t,"data-sheet-row-type",n),(!r||1&s)&&X(t,"data-row-selection-id",e[0]),(!r||16&s)&&X(t,"style",e[4])},i(e){r||(je(i,e),r=!0)},o(e){Ue(i,e),r=!1},d(e){e&&z(t),i&&i.d(e),o=!1,s()}}}function vye(e,t,n){let r,o,s=a;e.$$.on_destroy.push((()=>s()));let{$$slots:i={},$$scope:l}=t,{rowSelectionId:c}=t,{columnIdentifierKey:u}=t,{isWithinPlaceholderRow:d=!1}=t,{onMouseDown:$}=t;return e.$$set=e=>{"rowSelectionId"in e&&n(0,c=e.rowSelectionId),"columnIdentifierKey"in e&&n(5,u=e.columnIdentifierKey),"isWithinPlaceholderRow"in e&&n(1,d=e.isWithinPlaceholderRow),"onMouseDown"in e&&n(2,$=e.onMouseDown),"$$scope"in e&&n(6,l=e.$$scope)},e.$$.update=()=>{32&e.$$.dirty&&(n(3,r=eye(u)),s(),s=g(r,(e=>n(4,o=e))))},[c,d,$,r,o,u,l,i]}class wye extends ut{constructor(e){super(),ct(this,e,vye,bye,f,{rowSelectionId:0,columnIdentifierKey:5,isWithinPlaceholderRow:1,onMouseDown:2})}}const _ye="text/plain",xye="application/x-vnd.mathesar-sheet-clipboard";var Cye={exports:{}};
/* @license
            Papa Parse
            v5.4.1
            https://github.com/mholt/PapaParse
            License: MIT
            */function Sye(e){const t=e.trim();return function(e){const t=Math.max(...e.map((e=>e.length)));return e.map((e=>{return[...e,...(n=t-e.length,Array(n).fill(""))];var n}))}(Cye.exports.parse(t,{delimiter:"\t",skipEmptyLines:!1}).data)}function kye(e,t,n,r){if(null==e)return"";const o=t.get(n);if(!o)return String(e);const s=o.formatCellValue(e,r);return null==s?"":s}function Mye(e){if("object"!=typeof e)throw new Error("StructuredCell must be an object.");if(null===e)throw new Error("StructuredCell must be an object.");if(!("type"in e))throw new Error("StructuredCell must have a `type` property.");if("string"!=typeof e.type)throw new Error("StructuredCell `type` property must be a string.");if(!("raw"in e))throw new Error("StructuredCell must have a `raw` property.");if(!("formatted"in e))throw new Error("StructuredCell must have a `formatted` property.");if("string"!=typeof e.formatted)throw new Error("StructuredCell `formatted` property must be a string.");return e}function Iye(e){if(!Array.isArray(e))throw new Error("StructuredCells must be an array.");return e.map(Mye)}function Tye(e,t){if(e.length!==t.length)throw new Error("StructuredCell rows must have the same length.");for(const[n,r]of rc(e))if(r.type!==t[n].type)throw new Error("StructuredCell rows must have the same types.")}function*Eye(e){if(!Array.isArray(e))throw new Error("StructuredCellRows must be an array.");const t=e[Symbol.iterator](),n=t.next();if(n.done)return;const r=Iye(n.value);for(yield r;;){const e=t.next();if(e.done)return;const n=Iye(e.value);Tye(r,n),yield n}}function Dye(e){const t=e.getData(xye);if(t){const e=[...Eye(JSON.parse(t))];if(0===e.length)throw new Error(h(no)("paste_error_empty"));return e.map((e=>e.map((e=>({type:"mathesar",value:e})))))}const n=e.getData(_ye);if(n){const e=Sye(n);if(0===e.length)throw new Error(h(no)("paste_error_empty"));return e.map((e=>e.map((e=>({type:"tsv",value:e})))))}throw new Error(h(no)("paste_error_unsupported_mime_type"))}function Oye(e,t){return"tsv"===t.type?""===t.value&&e.nullable?null:t.value:"mathesar"===t.type?null===t.value.raw?null:"text"===e.type?t.value.formatted:t.value.raw:So(t)}function Nye([e,t]){return{columnId:String(t.id),value:Oye(t,e)}}async function Aye({payload:e,selectionStore:t,context:n,confirm:r}){const o=h(t),s=Math.max(o.rowIds.size,e.length),a=[...yc(s,tc(e))],i=uc(a);if(!i)throw new Error(h(no)("paste_error_no_rows"));const l=i.length,c=n.getSheetColumns(),u=ac(n.getRecordRows(),(e=>function*(e,t){let n=!1;for(const r of e)(n||t(r))&&(n=!0,yield r)}(e,(e=>o.rowIds.has(mT(e))))),yc(a.length),Ql),d=a.slice(0,u.length),$=a.slice(u.length),p=function(e,t,n){if(t.size>e)throw new Error(h(no)("paste_error_too_many_destination_columns"));const r=n.findIndex((e=>t.has(String(e.id))));if(-1===r)throw new Error(h(no)("paste_error_no_columns_selected"));const o=r+e-1;if(o>=n.length)throw new Error(h(no)("paste_error_too_few_destination_columns"));return n.slice(r,o+1)}(l,o.columnIds,c),m=ac(wc(d,u),gc((([e,t])=>({row:t,cells:[...gc(Nye,wc(e,p))]}))),Ql),f=ac($,gc((e=>({cells:[...gc(Nye,wc(e,p))]}))),Ql),g=Math.max(a.length,u.length)*p.length;if(r){if(!(await n.confirm(h(no)("paste_confirmation",{values:{count:g}}))))return}const{rowIds:y,columnIds:b}=await n.bulkDml(m,f);t.update((e=>e.ofRowColumnIntersection(y,b)))}function Rye(){return document.activeElement?.hasAttribute("data-active-cell")??!1}!function(e,t){e.exports=function e(){var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},n=!t.document&&!!t.postMessage,r=t.IS_PAPA_WORKER||!1,o={},s=0,a={parse:function(n,r){var i=(r=r||{}).dynamicTyping||!1;if(w(i)&&(r.dynamicTypingFunction=i,i={}),r.dynamicTyping=i,r.transform=!!w(r.transform)&&r.transform,r.worker&&a.WORKERS_SUPPORTED){var l=function(){if(!a.WORKERS_SUPPORTED)return!1;var n,r,i=(n=t.URL||t.webkitURL||null,r=e.toString(),a.BLOB_URL||(a.BLOB_URL=n.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",r,")();"],{type:"text/javascript"})))),l=new t.Worker(i);return l.onmessage=g,l.id=s++,o[l.id]=l}();return l.userStep=r.step,l.userChunk=r.chunk,l.userComplete=r.complete,l.userError=r.error,r.step=w(r.step),r.chunk=w(r.chunk),r.complete=w(r.complete),r.error=w(r.error),delete r.worker,void l.postMessage({input:n,config:r,workerId:l.id})}var p=null;return a.NODE_STREAM_INPUT,"string"==typeof n?(n=function(e){return 65279===e.charCodeAt(0)?e.slice(1):e}(n),p=r.download?new c(r):new d(r)):!0===n.readable&&w(n.read)&&w(n.on)?p=new $(r):(t.File&&n instanceof File||n instanceof Object)&&(p=new u(r)),p.stream(n)},unparse:function(e,t){var n=!1,r=!0,o=",",s="\r\n",i='"',l=i+i,c=!1,u=null,d=!1;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||a.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(o=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(s=t.newline),"string"==typeof t.quoteChar&&(i=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");u=t.columns}void 0!==t.escapeChar&&(l=t.escapeChar+i),("boolean"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(d=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var $=new RegExp(m(i),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return p(null,e,c);if("object"==typeof e[0])return p(u||Object.keys(e[0]),e,c)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||u),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),p(e.fields||[],e.data||[],c);throw new Error("Unable to serialize unrecognized input");function p(e,t,n){var a="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var i=Array.isArray(e)&&0<e.length,l=!Array.isArray(t[0]);if(i&&r){for(var c=0;c<e.length;c++)0<c&&(a+=o),a+=f(e[c],c);0<t.length&&(a+=s)}for(var u=0;u<t.length;u++){var d=i?e.length:t[u].length,$=!1,p=i?0===Object.keys(t[u]).length:0===t[u].length;if(n&&!i&&($="greedy"===n?""===t[u].join("").trim():1===t[u].length&&0===t[u][0].length),"greedy"===n&&i){for(var m=[],g=0;g<d;g++){var h=l?e[g]:g;m.push(t[u][h])}$=""===m.join("").trim()}if(!$){for(var y=0;y<d;y++){0<y&&!p&&(a+=o);var b=i&&l?e[y]:y;a+=f(t[u][b],y)}u<t.length-1&&(!n||0<d&&!p)&&(a+=s)}}return a}function f(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var r=!1;d&&"string"==typeof e&&d.test(e)&&(e="'"+e,r=!0);var s=e.toString().replace($,l);return(r=r||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(s,a.BAD_DELIMITERS)||-1<s.indexOf(o)||" "===s.charAt(0)||" "===s.charAt(s.length-1))?i+s+i:s}}};if(a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\ufeff",a.BAD_DELIMITERS=["\r","\n",'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!n&&!!t.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=f,a.ParserHandle=p,a.NetworkStreamer=c,a.FileStreamer=u,a.StringStreamer=d,a.ReadableStreamStreamer=$,t.jQuery){var i=t.jQuery;i.fn.parse=function(e){var n=e.config||{},r=[];return this.each((function(e){if("INPUT"!==i(this).prop("tagName").toUpperCase()||"file"!==i(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var o=0;o<this.files.length;o++)r.push({file:this.files[o],inputElem:this,instanceConfig:i.extend({},n)})})),o(),this;function o(){if(0!==r.length){var t,n,o,l,c=r[0];if(w(e.before)){var u=e.before(c.file,c.inputElem);if("object"==typeof u){if("abort"===u.action)return t="AbortError",n=c.file,o=c.inputElem,l=u.reason,void(w(e.error)&&e.error({name:t},n,o,l));if("skip"===u.action)return void s();"object"==typeof u.config&&(c.instanceConfig=i.extend(c.instanceConfig,u.config))}else if("skip"===u)return void s()}var d=c.instanceConfig.complete;c.instanceConfig.complete=function(e){w(d)&&d(e,c.file,c.inputElem),s()},a.parse(c.file,c.instanceConfig)}else w(e.complete)&&e.complete()}function s(){r.splice(0,1),o()}}}function l(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=b(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new p(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,n){if(this.isFirstChunk&&w(this._config.beforeFirstChunk)){var o=this._config.beforeFirstChunk(e);void 0!==o&&(e=o)}this.isFirstChunk=!1,this._halted=!1;var s=this._partialLine+e;this._partialLine="";var i=this._handle.parse(s,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var l=i.meta.cursor;this._finished||(this._partialLine=s.substring(l-this._baseIndex),this._baseIndex=l),i&&i.data&&(this._rowCount+=i.data.length);var c=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)t.postMessage({results:i,workerId:a.WORKER_ID,finished:c});else if(w(this._config.chunk)&&!n){if(this._config.chunk(i,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);i=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(i.data),this._completeResults.errors=this._completeResults.errors.concat(i.errors),this._completeResults.meta=i.meta),this._completed||!c||!w(this._config.complete)||i&&i.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),c||i&&i.meta.paused||this._nextChunk(),i}this._halted=!0},this._sendError=function(e){w(this._config.error)?this._config.error(e):r&&this._config.error&&t.postMessage({workerId:a.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=a.RemoteChunkSize),l.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),n||(t.onload=v(this._chunkLoaded,this),t.onerror=v(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var r in e)t.setRequestHeader(r,e[r])}if(this._config.chunkSize){var o=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+o)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substring(t.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(new Error(n))}}function u(e){var t,n;(e=e||{}).chunkSize||(e.chunkSize=a.LocalChunkSize),l.call(this,e);var r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=v(this._chunkLoaded,this),t.onerror=v(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var o=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,o)}var s=t.readAsText(e,this._config.encoding);r||this._chunkLoaded({target:{result:s}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function d(e){var t;l.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,n=this._config.chunkSize;return n?(e=t.substring(0,n),t=t.substring(n)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function $(e){l.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=v((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=v((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=v((function(){this._streamCleanUp(),r=!0,this._streamData("")}),this),this._streamCleanUp=v((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function p(e){var t,n,r,o=Math.pow(2,53),s=-o,i=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,l=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,c=this,u=0,d=0,$=!1,p=!1,g=[],h={data:[],errors:[],meta:{}};if(w(e.step)){var y=e.step;e.step=function(t){if(h=t,x())_();else{if(_(),0===h.data.length)return;u+=t.data.length,e.preview&&u>e.preview?n.abort():(h.data=h.data[0],y(h,c))}}}function v(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function _(){return h&&r&&(S("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines&&(h.data=h.data.filter((function(e){return!v(e)}))),x()&&function(){if(h)if(Array.isArray(h.data[0])){for(var t=0;x()&&t<h.data.length;t++)h.data[t].forEach(n);h.data.splice(0,1)}else h.data.forEach(n);function n(t,n){w(e.transformHeader)&&(t=e.transformHeader(t,n)),g.push(t)}}(),function(){if(!h||!e.header&&!e.dynamicTyping&&!e.transform)return h;function t(t,n){var r,o=e.header?{}:[];for(r=0;r<t.length;r++){var s=r,a=t[r];e.header&&(s=r>=g.length?"__parsed_extra":g[r]),e.transform&&(a=e.transform(a,s)),a=C(s,a),"__parsed_extra"===s?(o[s]=o[s]||[],o[s].push(a)):o[s]=a}return e.header&&(r>g.length?S("FieldMismatch","TooManyFields","Too many fields: expected "+g.length+" fields but parsed "+r,d+n):r<g.length&&S("FieldMismatch","TooFewFields","Too few fields: expected "+g.length+" fields but parsed "+r,d+n)),o}var n=1;return!h.data.length||Array.isArray(h.data[0])?(h.data=h.data.map(t),n=h.data.length):h.data=t(h.data,0),e.header&&h.meta&&(h.meta.fields=g),d+=n,h}()}function x(){return e.header&&0===g.length}function C(t,n){return r=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[r]&&(e.dynamicTyping[r]=e.dynamicTypingFunction(r)),!0===(e.dynamicTyping[r]||e.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(e){if(i.test(e)){var t=parseFloat(e);if(s<t&&t<o)return!0}return!1}(n)?parseFloat(n):l.test(n)?new Date(n):""===n?null:n):n;var r}function S(e,t,n,r){var o={type:e,code:t,message:n};void 0!==r&&(o.row=r),h.errors.push(o)}this.parse=function(o,s,i){var l=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var n=new RegExp(m(t)+"([^]*?)"+m(t),"gm"),r=(e=e.replace(n,"")).split("\r"),o=e.split("\n"),s=1<o.length&&o[0].length<r[0].length;if(1===r.length||s)return"\n";for(var a=0,i=0;i<r.length;i++)"\n"===r[i][0]&&a++;return a>=r.length/2?"\r\n":"\r"}(o,l)),r=!1,e.delimiter)w(e.delimiter)&&(e.delimiter=e.delimiter(o),h.meta.delimiter=e.delimiter);else{var c=function(t,n,r,o,s){var i,l,c,u;s=s||[",","\t","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var d=0;d<s.length;d++){var $=s[d],p=0,m=0,g=0;c=void 0;for(var h=new f({comments:o,delimiter:$,newline:n,preview:10}).parse(t),y=0;y<h.data.length;y++)if(r&&v(h.data[y]))g++;else{var b=h.data[y].length;m+=b,void 0!==c?0<b&&(p+=Math.abs(b-c),c=b):c=b}0<h.data.length&&(m/=h.data.length-g),(void 0===l||p<=l)&&(void 0===u||u<m)&&1.99<m&&(l=p,i=$,u=m)}return{successful:!!(e.delimiter=i),bestDelimiter:i}}(o,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);c.successful?e.delimiter=c.bestDelimiter:(r=!0,e.delimiter=a.DefaultDelimiter),h.meta.delimiter=e.delimiter}var u=b(e);return e.preview&&e.header&&u.preview++,t=o,n=new f(u),h=n.parse(t,s,i),_(),$?{meta:{paused:!0}}:h||{meta:{paused:!1}}},this.paused=function(){return $},this.pause=function(){$=!0,n.abort(),t=w(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){c.streamer._halted?($=!1,c.streamer.parseChunk(t,!0)):setTimeout(c.resume,3)},this.aborted=function(){return p},this.abort=function(){p=!0,n.abort(),h.meta.aborted=!0,w(e.complete)&&e.complete(h),t=""}}function m(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function f(e){var t,n=(e=e||{}).delimiter,r=e.newline,o=e.comments,s=e.step,i=e.preview,l=e.fastMode,c=t=void 0===e.quoteChar||null===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(c=e.escapeChar),("string"!=typeof n||-1<a.BAD_DELIMITERS.indexOf(n))&&(n=","),o===n)throw new Error("Comment character same as delimiter");!0===o?o="#":("string"!=typeof o||-1<a.BAD_DELIMITERS.indexOf(o))&&(o=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var u=0,d=!1;this.parse=function(a,$,p){if("string"!=typeof a)throw new Error("Input must be a string");var f=a.length,g=n.length,h=r.length,y=o.length,b=w(s),v=[],_=[],x=[],C=u=0;if(!a)return W();if(e.header&&!$){var S=a.split(r)[0].split(n),k=[],M={},I=!1;for(var T in S){var E=S[T];w(e.transformHeader)&&(E=e.transformHeader(E,T));var D=E,O=M[E]||0;for(0<O&&(I=!0,D=E+"_"+O),M[E]=O+1;k.includes(D);)D=D+"_"+O;k.push(D)}if(I){var N=a.split(r);N[0]=k.join(n),a=N.join(r)}}if(l||!1!==l&&-1===a.indexOf(t)){for(var A=a.split(r),R=0;R<A.length;R++){if(x=A[R],u+=x.length,R!==A.length-1)u+=r.length;else if(p)return W();if(!o||x.substring(0,y)!==o){if(b){if(v=[],q(x.split(n)),Y(),d)return W()}else q(x.split(n));if(i&&i<=R)return v=v.slice(0,i),W(!0)}}return W()}for(var F=a.indexOf(n,u),P=a.indexOf(r,u),L=new RegExp(m(c)+m(t),"g"),H=a.indexOf(t,u);;)if(a[u]!==t)if(o&&0===x.length&&a.substring(u,u+y)===o){if(-1===P)return W();u=P+h,P=a.indexOf(r,u),F=a.indexOf(n,u)}else if(-1!==F&&(F<P||-1===P))x.push(a.substring(u,F)),u=F+g,F=a.indexOf(n,u);else{if(-1===P)break;if(x.push(a.substring(u,P)),U(P+h),b&&(Y(),d))return W();if(i&&v.length>=i)return W(!0)}else for(H=u,u++;;){if(-1===(H=a.indexOf(t,H+1)))return p||_.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:v.length,index:u}),j();if(H===f-1)return j(a.substring(u,H).replace(L,t));if(t!==c||a[H+1]!==c){if(t===c||0===H||a[H-1]!==c){-1!==F&&F<H+1&&(F=a.indexOf(n,H+1)),-1!==P&&P<H+1&&(P=a.indexOf(r,H+1));var z=B(-1===P?F:Math.min(F,P));if(a.substr(H+1+z,g)===n){x.push(a.substring(u,H).replace(L,t)),a[u=H+1+z+g]!==t&&(H=a.indexOf(t,u)),F=a.indexOf(n,u),P=a.indexOf(r,u);break}var V=B(P);if(a.substring(H+1+V,H+1+V+h)===r){if(x.push(a.substring(u,H).replace(L,t)),U(H+1+V+h),F=a.indexOf(n,u),H=a.indexOf(t,u),b&&(Y(),d))return W();if(i&&v.length>=i)return W(!0);break}_.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:v.length,index:u}),H++}}else H++}return j();function q(e){v.push(e),C=u}function B(e){var t=0;if(-1!==e){var n=a.substring(H+1,e);n&&""===n.trim()&&(t=n.length)}return t}function j(e){return p||(void 0===e&&(e=a.substring(u)),x.push(e),u=f,q(x),b&&Y()),W()}function U(e){u=e,q(x),x=[],P=a.indexOf(r,u)}function W(e){return{data:v,errors:_,meta:{delimiter:n,linebreak:r,aborted:d,truncated:!!e,cursor:C+($||0)}}}function Y(){s(W()),v=[],_=[]}},this.abort=function(){d=!0},this.getCharIndex=function(){return u}}function g(e){var t=e.data,n=o[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var s={abort:function(){r=!0,h(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(w(n.userStep)){for(var a=0;a<t.results.data.length&&(n.userStep({data:t.results.data[a],errors:t.results.errors,meta:t.results.meta},s),!r);a++);delete t.results}else w(n.userChunk)&&(n.userChunk(t.results,s,t.file),delete t.results)}t.finished&&!r&&h(t.workerId,t.results)}function h(e,t){var n=o[e];w(n.userComplete)&&n.userComplete(t),n.terminate(),delete o[e]}function y(){throw new Error("Not implemented.")}function b(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=b(e[n]);return t}function v(e,t){return function(){e.apply(t,arguments)}}function w(e){return"function"==typeof e}return r&&(t.onmessage=function(e){var n=e.data;if(void 0===a.WORKER_ID&&n&&(a.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:a.WORKER_ID,results:a.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var r=a.parse(n.input,n.config);r&&t.postMessage({workerId:a.WORKER_ID,results:r,finished:!0})}}),(c.prototype=Object.create(l.prototype)).constructor=c,(u.prototype=Object.create(l.prototype)).constructor=u,(d.prototype=Object.create(d.prototype)).constructor=d,($.prototype=Object.create(l.prototype)).constructor=$,a}()}(Cye);class Fye{constructor(t){e(this,"deps",void 0),this.deps=t}shouldHandleCopy(){return Rye()}shouldHandlePaste(){return Rye()}handleCopy(e){if(null!=e.clipboardData)try{const t=function(e,t){const n=[],r=[];for(const s of e.rowIds){const o=[],a=[],i=t.getRows().get(s);if(!i)throw new Error("Row not found");const l=t.getColumns(),c=t.getRecordSummaries();for(const t of e.columnIds){const e=l.get(t);if(!e)throw new Error("Column not found");const n=i[t],r=kye(n,l,t,c),s=e.abstractType.identifier;a.push({type:s,raw:n,formatted:r}),o.push(r)}n.push(o),r.push(a)}return{structured:JSON.stringify(r),tsv:(o=n,Cye.exports.unparse(o,{delimiter:"\t",escapeFormulae:/^=|^\+|^@|^\t|^\r|^-(?!\d+(\.\d+)?$)/})),cellCount:e.rowIds.size*e.columnIds.size};var o}(h(this.deps.selection),this.deps.copyingContext);this.deps.showToastInfo(h(no)("copied_cells",{values:{count:t.cellCount}})),e.clipboardData.setData(_ye,t.tsv),e.clipboardData.setData(xye,t.structured)}catch(t){this.deps.showToastError(ck(t))}}async handlePaste({clipboardData:e}){const t=this.deps.pastingContext;if(t&&e)try{await async function(e,t,n){const r=Dye(e),o=h(t).pasteOperation;"none"!==o&&("insert"!==o?"update"!==o?So(o):await Aye({payload:r,selectionStore:t,context:n,confirm:!0}):await Aye({payload:r,selectionStore:t,context:n,confirm:!1}))}(e,this.deps.selection,t)}catch(n){this.deps.showToastError(ck(n))}}}function Pye(e,t,n){const r=e.slice();return r[24]=t[n],r}function Lye(e,t,n){const r=e.slice();return r[11]=t[n],r}function Hye(e,t,n){const r=e.slice();return r[18]=t[n],r}function zye(e,t,n){const r=e.slice();return r[21]=t[n],r}function Vye(e){let t,n=e[0],r=[];for(let o=0;o<n.length;o+=1)r[o]=Bye(Pye(e,n,o));return{c(){t=q("ul");for(let e=0;e<r.length;e+=1)r[e].c();X(t,"class","svelte-ka6voq")},m(e,n){H(e,t,n);for(let o=0;o<r.length;o+=1)r[o].m(t,null)},p(e,o){if(1&o){let s;for(n=e[0],s=0;s<n.length;s+=1){const a=Pye(e,n,s);r[s]?r[s].p(a,o):(r[s]=Bye(a),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},i:a,o:a,d(e){e&&z(t),V(r,e)}}}function qye(e){let t,n,r=e[0].errors,o=[];for(let a=0;a<r.length;a+=1)o[a]=Qye(Lye(e,r,a));const s=e=>Ue(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=W()},m(e,r){for(let t=0;t<o.length;t+=1)o[t].m(e,r);H(e,t,r),n=!0},p(e,n){if(379&n){let a;for(r=e[0].errors,a=0;a<r.length;a+=1){const s=Lye(e,r,a);o[a]?(o[a].p(s,n),je(o[a],1)):(o[a]=Qye(s),o[a].c(),je(o[a],1),o[a].m(t.parentNode,t))}for(qe(),a=r.length;a<o.length;a+=1)s(a);Be()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)je(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)Ue(o[t]);n=!1},d(e){V(o,e),e&&z(t)}}}function Bye(e){let t,n,r=e[24]+"";return{c(){t=q("li"),n=j(r),X(t,"class","error")},m(e,r){H(e,t,r),F(t,n)},p(e,t){1&t&&r!==(r=e[24]+"")&&Q(n,r)},d(e){e&&z(t)}}}function jye(e){let t,n,r=e[11].message+"";return{c(){t=q("li"),n=j(r),X(t,"class","error")},m(e,r){H(e,t,r),F(t,n)},p(e,t){1&t&&r!==(r=e[11].message+"")&&Q(n,r)},i:a,o:a,d(e){e&&z(t)}}}function Uye(e){let t,n,r,o,s,a,i,l=e[3]("some_columns_in_query_missing")+"";const c=[Yye,Wye],u=[];function d(e,t){return e[1]?0:e[5]&&e[6]&&e[4].id?1:-1}function $(e,t){return 0===t?function(e){const t=e.slice(),n=t[4].getInitialColumnsAndTransformsUtilizingThemByColumnIds([t[14]]);t[15]=n;const r=t[15].initialColumnsUsingColumnIds;t[16]=r;const o=t[15].transformsUsingColumnIds;return t[17]=o,t}(e):e}return~(s=d(e))&&(a=u[s]=c[s]($(e,s))),{c(){t=q("li"),n=q("p"),r=j(l),o=U(),a&&a.c(),X(n,"class","strong svelte-ka6voq"),X(t,"class","error")},m(e,a){H(e,t,a),F(t,n),F(n,r),F(t,o),~s&&u[s].m(t,null),i=!0},p(e,n){(!i||8&n)&&l!==(l=e[3]("some_columns_in_query_missing")+"")&&Q(r,l);let o=s;s=d(e),s===o?~s&&u[s].p($(e,s),n):(a&&(qe(),Ue(u[o],1,1,(()=>{u[o]=null})),Be()),~s?(a=u[s],a?a.p($(e,s),n):(a=u[s]=c[s]($(e,s)),a.c()),je(a,1),a.m(t,null)):a=null)},i(e){i||(je(a),i=!0)},o(e){Ue(a),i=!1},d(e){e&&z(t),~s&&u[s].d()}}}function Wye(e){let t,n,r,o,s,i,l,c=e[3]("edit_exploration_attempt_recovery")+"",u=e[3]("edit_in_data_explorer")+"";return{c(){t=q("p"),n=j(c),r=U(),o=q("p"),s=q("a"),i=j(u),X(t,"class","svelte-ka6voq"),X(s,"class","btn btn-secondary"),X(s,"href",l=oI(e[5].id,e[6].oid,e[4].id)),X(o,"class","svelte-ka6voq")},m(e,a){H(e,t,a),F(t,n),H(e,r,a),H(e,o,a),F(o,s),F(s,i)},p(e,t){8&t&&c!==(c=e[3]("edit_exploration_attempt_recovery")+"")&&Q(n,c),8&t&&u!==(u=e[3]("edit_in_data_explorer")+"")&&Q(i,u),112&t&&l!==(l=oI(e[5].id,e[6].oid,e[4].id))&&X(s,"href",l)},i:a,o:a,d(e){e&&z(t),e&&z(r),e&&z(o)}}}function Yye(e){let t,n,r,o,s,a,i,l,c=e[3]("recover_query_click_button")+"",u=e[16].length>0&&Kye(e),d=e[17].length>0&&Xye(e);return i=new Hu({props:{appearance:"secondary",$$slots:{default:[Jye]},$$scope:{ctx:e}}}),i.$on("click",(function(){return e[10](e[14])})),{c(){t=q("p"),n=j(c),r=U(),u&&u.c(),o=U(),d&&d.c(),s=U(),a=q("p"),at(i.$$.fragment),X(t,"class","svelte-ka6voq"),X(a,"class","svelte-ka6voq")},m(e,c){H(e,t,c),F(t,n),H(e,r,c),u&&u.m(e,c),H(e,o,c),d&&d.m(e,c),H(e,s,c),H(e,a,c),it(i,a,null),l=!0},p(t,r){e=t,(!l||8&r)&&c!==(c=e[3]("recover_query_click_button")+"")&&Q(n,c),e[16].length>0?u?u.p(e,r):(u=Kye(e),u.c(),u.m(o.parentNode,o)):u&&(u.d(1),u=null),e[17].length>0?d?d.p(e,r):(d=Xye(e),d.c(),d.m(s.parentNode,s)):d&&(d.d(1),d=null);const a={};134217736&r&&(a.$$scope={dirty:r,ctx:e}),i.$set(a)},i(e){l||(je(i.$$.fragment,e),l=!0)},o(e){Ue(i.$$.fragment,e),l=!1},d(e){e&&z(t),e&&z(r),u&&u.d(e),e&&z(o),d&&d.d(e),e&&z(s),e&&z(a),lt(i)}}}function Kye(e){let t,n,r,o,s=e[3]("this_will_remove_following_columns")+"",a=[],i=new Map,l=e[16];const c=e=>e[21].alias;for(let u=0;u<l.length;u+=1){let t=zye(e,l,u),n=c(t);i.set(n,a[u]=Gye(n,t))}return{c(){t=q("p"),n=j(s),r=U(),o=q("ul");for(let e=0;e<a.length;e+=1)a[e].c();X(t,"class","svelte-ka6voq"),X(o,"class","removal-list svelte-ka6voq")},m(e,s){H(e,t,s),F(t,n),H(e,r,s),H(e,o,s);for(let t=0;t<a.length;t+=1)a[t].m(o,null)},p(e,t){8&t&&s!==(s=e[3]("this_will_remove_following_columns")+"")&&Q(n,s),17&t&&(l=e[16],a=nt(a,t,c,1,e,l,i,o,Qe,Gye,null,zye))},d(e){e&&z(t),e&&z(r),e&&z(o);for(let t=0;t<a.length;t+=1)a[t].d()}}}function Gye(e,t){let n,r,o,s=(t[4].display_names[t[21].alias]??t[21].alias)+"";return{key:e,first:null,c(){n=q("li"),r=j(s),o=U(),this.first=n},m(e,t){H(e,n,t),F(n,r),F(n,o)},p(e,n){t=e,17&n&&s!==(s=(t[4].display_names[t[21].alias]??t[21].alias)+"")&&Q(r,s)},d(e){e&&z(n)}}}function Xye(e){let t,n,r,o,s=e[3]("this_will_remove_following_transformations")+"",a=[],i=new Map,l=e[17];const c=e=>e[18];for(let u=0;u<l.length;u+=1){let t=Hye(e,l,u),n=c(t);i.set(n,a[u]=Zye(n,t))}return{c(){t=q("p"),n=j(s),r=U(),o=q("ul");for(let e=0;e<a.length;e+=1)a[e].c();X(t,"class","svelte-ka6voq"),X(o,"class","removal-list svelte-ka6voq")},m(e,s){H(e,t,s),F(t,n),H(e,r,s),H(e,o,s);for(let t=0;t<a.length;t+=1)a[t].m(o,null)},p(e,t){8&t&&s!==(s=e[3]("this_will_remove_following_transformations")+"")&&Q(n,s),17&t&&(l=e[17],a=nt(a,t,c,1,e,l,i,o,Qe,Zye,null,Hye))},d(e){e&&z(t),e&&z(r),e&&z(o);for(let t=0;t<a.length;t+=1)a[t].d()}}}function Zye(e,t){let n,r,o,s,a,i=t[18].index+1+"",l=t[18].transform.name+"";return{key:e,first:null,c(){n=q("li"),r=j(i),o=j(": "),s=j(l),a=U(),this.first=n},m(e,t){H(e,n,t),F(n,r),F(n,o),F(n,s),F(n,a)},p(e,n){t=e,17&n&&i!==(i=t[18].index+1+"")&&Q(r,i),17&n&&l!==(l=t[18].transform.name+"")&&Q(s,l)},d(e){e&&z(n)}}}function Jye(e){let t,n=e[3]("attempt_exploration_recovery")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8&r&&n!==(n=e[3]("attempt_exploration_recovery")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Qye(e){let t,n,r,o,s,a;const i=[Uye,jye],l=[];function c(e,t){return 1&t&&(n=null),null==n&&(n=!(4418!==e[11].code||!bo(e[11].detail,"column_id"))),n?0:1}function u(e,t){return 0===t?function(e){const t=e.slice(),n=Number(t[11].detail.column_id);return t[14]=n,t}(e):e}return r=c(e,-1),o=l[r]=i[r](u(e,r)),{c(){t=q("ul"),o.c(),s=U(),X(t,"class","svelte-ka6voq")},m(e,n){H(e,t,n),l[r].m(t,null),F(t,s),a=!0},p(e,n){let a=r;r=c(e,n),r===a?l[r].p(u(e,r),n):(qe(),Ue(l[a],1,1,(()=>{l[a]=null})),Be(),o=l[r],o?o.p(u(e,r),n):(o=l[r]=i[r](u(e,r)),o.c()),je(o,1),o.m(t,s))},i(e){a||(je(o),a=!0)},o(e){Ue(o),a=!1},d(e){e&&z(t),l[r].d()}}}function ebe(e){let t,n,r,o,s,a,i,l=e[3]("result_could_not_be_displayed")+"";const c=[qye,Vye],u=[];function d(e,t){return e[0]instanceof $k?0:1}return o=d(e),s=u[o]=c[o](e),{c(){t=q("p"),n=j(l),r=U(),s.c(),a=W(),X(t,"class","error-header svelte-ka6voq")},m(e,s){H(e,t,s),F(t,n),H(e,r,s),u[o].m(e,s),H(e,a,s),i=!0},p(e,t){(!i||8&t)&&l!==(l=e[3]("result_could_not_be_displayed")+"")&&Q(n,l);let r=o;o=d(e),o===r?u[o].p(e,t):(qe(),Ue(u[r],1,1,(()=>{u[r]=null})),Be(),s=u[o],s?s.p(e,t):(s=u[o]=c[o](e),s.c()),je(s,1),s.m(a.parentNode,a))},i(e){i||(je(s),i=!0)},o(e){Ue(s),i=!1},d(e){e&&z(t),e&&z(r),u[o].d(e),e&&z(a)}}}function tbe(e){let t,n,r;return n=new HP({props:{fullWidth:!0,$$slots:{default:[ebe]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","query-run-errors svelte-ka6voq")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,[t]){const r={};134217851&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function nbe(e,t,n){let r,o,s,i,l,c,u=a;y(e,no,(e=>n(3,s=e))),y(e,gP,(e=>n(6,c=e))),e.$$.on_destroy.push((()=>u()));const{currentDatabase:d}=QF;y(e,d,(e=>n(5,l=e)));let{queryHandler:$}=t,{errors:p}=t;function m(e){r&&r.update((t=>t.withoutColumnsById([e])))}return e.$$set=e=>{"queryHandler"in e&&n(9,$=e.queryHandler),"errors"in e&&n(0,p=e.errors)},e.$$.update=()=>{512&e.$$.dirty&&n(1,r=$ instanceof epe?$:void 0),512&e.$$.dirty&&(n(2,({query:o}=$),o),u(),u=g(o,(e=>n(4,i=e))))},[p,r,o,s,i,l,c,d,m,$,e=>m(e)]}class rbe extends ut{constructor(e){super(),ct(this,e,nbe,tbe,f,{queryHandler:9,errors:0})}}function obe(e){let t,n;return t=new HV({props:{isLoading:"processing"===e[3]&&"unknown"===e[0].column.type,column:{...e[0].column,name:e[0].column.display_name??e[0].column.alias}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};9&n&&(r.isLoading="processing"===e[3]&&"unknown"===e[0].column.type),1&n&&(r.column={...e[0].column,name:e[0].column.display_name??e[0].column.alias}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function sbe(e){let t,n,r,o;return t=new Hu({props:{appearance:"plain",class:"column-name-wrapper "+(e[1]?"selected":""),$$slots:{default:[obe]},$$scope:{ctx:e}}}),r=new Uge({props:{columnIdentifierKey:e[0].id,afterResize:e[7],onReset:e[8]}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,s){it(t,e,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){const o={};2&n&&(o.class="column-name-wrapper "+(e[1]?"selected":"")),521&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};1&n&&(s.columnIdentifierKey=e[0].id),4&n&&(s.afterResize=e[7]),4&n&&(s.onReset=e[8]),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function abe(e){let t,n;return t=new rye({props:{columnIdentifierKey:e[0].id,$$slots:{default:[sbe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.columnIdentifierKey=e[0].id),527&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function ibe(e,t,n){let r,o,s,i=a;e.$$.on_destroy.push((()=>i()));let{queryRunner:l}=t,{processedQueryColumn:c}=t,{isSelected:u}=t,{setColumnWidth:d}=t;return e.$$set=e=>{"queryRunner"in e&&n(5,l=e.queryRunner),"processedQueryColumn"in e&&n(0,c=e.processedQueryColumn),"isSelected"in e&&n(1,u=e.isSelected),"setColumnWidth"in e&&n(2,d=e.setColumnWidth)},e.$$.update=()=>{32&e.$$.dirty&&(n(4,({runState:r}=l),r),i(),i=g(r,(e=>n(6,s=e)))),64&e.$$.dirty&&n(3,o=s?.state)},[c,u,d,o,r,l,s,e=>d(e),()=>d(null)]}class lbe extends ut{constructor(e){super(),ct(this,e,ibe,abe,f,{queryRunner:5,processedQueryColumn:0,isSelected:1,setColumnWidth:2})}}class cbe{constructor(t){e(this,"ctrl",void 0),e(this,"shift",void 0),e(this,"alt",void 0),e(this,"meta",void 0),e(this,"key",void 0),this.ctrl=t.ctrl,this.shift=t.shift,this.alt=t.alt,this.meta=t.meta,this.key=t.key}static fromKey(e,t=[]){return new cbe({ctrl:t.includes("Ctrl"),shift:t.includes("Shift"),alt:t.includes("Alt"),meta:t.includes("Meta"),key:e})}static fromKeyboardEvent(e){return new cbe({ctrl:e.ctrlKey,shift:e.shiftKey,alt:e.altKey,meta:e.metaKey,key:e.key})}toString(){return[...this.ctrl?["Ctrl"]:[],...this.shift?["Shift"]:[],...this.alt?["Alt"]:[],...this.meta?["Meta"]:[],this.key].join("+")}}function ube(e,t){e.update((e=>e.collapsedAndMoved(t))),Qhe()}function dbe(e,t){e.update((e=>e.resized(t))),Qhe()}function $be(...e){return cbe.fromKey(...e).toString()}const pbe=[[$be("ArrowUp"),e=>ube(e,KT.Up)],[$be("ArrowDown"),e=>ube(e,KT.Down)],[$be("ArrowLeft"),e=>ube(e,KT.Left)],[$be("ArrowRight"),e=>ube(e,KT.Right)],[$be("Tab"),e=>ube(e,KT.Right)],[$be("Tab",["Shift"]),e=>ube(e,KT.Left)],[$be("ArrowUp",["Shift"]),e=>dbe(e,KT.Up)],[$be("ArrowDown",["Shift"]),e=>dbe(e,KT.Down)],[$be("ArrowLeft",["Shift"]),e=>dbe(e,KT.Left)],[$be("ArrowRight",["Shift"]),e=>dbe(e,KT.Right)]],mbe=new Map(pbe);function fbe(e,t){const n=cbe.fromKeyboardEvent(e),r=mbe.get(n.toString());r&&(e.preventDefault(),r(t))}function gbe(e){let t,n;return t=new JV({props:{isActive:e[8],columnFabric:e[0],value:e[1]?.record[e[0].id],showAsSkeleton:"processing"===e[2],disabled:!0}}),t.$on("movementKeyDown",e[7]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};256&n&&(r.isActive=e[8]),1&n&&(r.columnFabric=e[0]),3&n&&(r.value=e[1]?.record[e[0].id]),4&n&&(r.showAsSkeleton="processing"===e[2]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function hbe(e){let t,n,r=(e[1]||"processing"===e[2])&&gbe(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){e[1]||"processing"===e[2]?r?(r.p(e,n),6&n&&je(r,1)):(r=gbe(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function ybe(e){let t,n;return t=new cye({props:{columnIdentifierKey:e[0].id,cellSelectionId:e[4],selection:e[5],$$slots:{default:[hbe,({isActive:e})=>({8:e}),({isActive:e})=>e?256:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.columnIdentifierKey=e[0].id),16&n&&(r.cellSelectionId=e[4]),32&n&&(r.selection=e[5]),783&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function bbe(e,t,n){let r,o,s=a,i=()=>(s(),s=g($,(e=>n(5,o=e))),$);e.$$.on_destroy.push((()=>s()));let{column:l}=t,{row:c}=t,{rowSelectionId:u}=t,{recordRunState:d}=t,{selection:$}=t;i();return e.$$set=e=>{"column"in e&&n(0,l=e.column),"row"in e&&n(1,c=e.row),"rowSelectionId"in e&&n(6,u=e.rowSelectionId),"recordRunState"in e&&n(2,d=e.recordRunState),"selection"in e&&i(n(3,$=e.selection))},e.$$.update=()=>{67&e.$$.dirty&&n(4,r=c&&VI(u,l.id))},[l,c,d,$,r,o,u,({detail:e})=>fbe(e.originalEvent,$)]}class vbe extends ut{constructor(e){super(),ct(this,e,bbe,ybe,f,{column:0,row:1,rowSelectionId:6,recordRunState:2,selection:3})}}const{Map:wbe}=Je;function _be(e,t,n){const r=e.slice();r[33]=t[n];const o=function(e,t){return e[t]}(r[1],r[33].index);r[34]=o;const s=(r[34]&&k$e(r[34]))??"";r[35]=s;const a=r[7].rowIds.has(r[35]);return r[36]=a,r}function xbe(e,t,n){const r=e.slice();return r[41]=t[n],r}function Cbe(e,t,n){const r=e.slice();return r[41]=t[n],r[45]=n,r}function Sbe(e){let t,n;return t=new Hge({props:{columns:e[9],getColumnIdentifier:Hbe,columnWidths:e[13],clipboardHandler:e[12],usesVirtualList:!0,selection:e[5],onCellSelectionStart:e[31],$$slots:{default:[Fbe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};512&n[0]&&(r.columns=e[9]),8192&n[0]&&(r.columnWidths=e[13]),4096&n[0]&&(r.clipboardHandler=e[12]),32&n[0]&&(r.selection=e[5]),32768&n[0]&&(r.onCellSelectionStart=e[31]),2099647&n[0]|32768&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function kbe(e){let t,n,r;return n=new rbe({props:{errors:e[10],queryHandler:e[0]}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","empty-state svelte-1l81930")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};1024&t[0]&&(r.errors=e[10]),1&t[0]&&(r.queryHandler=e[0]),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function Mbe(e){let t,n,r=e[20]("add_columns_to_exploration_empty_message")+"";return{c(){t=q("div"),n=j(r),X(t,"class","empty-state svelte-1l81930")},m(e,r){H(e,t,r),F(t,n)},p(e,t){1048576&t[0]&&r!==(r=e[20]("add_columns_to_exploration_empty_message")+"")&&Q(n,r)},i:a,o:a,d(e){e&&z(t)}}}function Ibe(e,t){let n,r,o;function s(...e){return t[29](t[45],...e)}return r=new lbe({props:{processedQueryColumn:t[41],queryRunner:t[0],isSelected:t[11].has(t[41].id),setColumnWidth:s}}),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};16&n[0]&&(o.processedQueryColumn=t[41]),1&n[0]&&(o.queryRunner=t[0]),2064&n[0]&&(o.isSelected=t[11].has(t[41].id)),16&n[0]&&(o.setColumnWidth=s),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function Tbe(e){let t,n,r,o,s=[],a=new wbe;t=new fye({props:{columnIdentifierKey:Lbe}});let i=e[4];const l=e=>e[41].id;for(let c=0;c<i.length;c+=1){let t=Cbe(e,i,c),n=l(t);a.set(n,s[c]=Ibe(n,t))}return{c(){at(t.$$.fragment),n=U();for(let e=0;e<s.length;e+=1)s[e].c();r=W()},m(e,a){it(t,e,a),H(e,n,a);for(let t=0;t<s.length;t+=1)s[t].m(e,a);H(e,r,a),o=!0},p(e,t){4196369&t[0]&&(i=e[4],qe(),s=nt(s,t,l,1,e,i,a,r.parentNode,et,Ibe,r,Cbe),Be())},i(e){if(!o){je(t.$$.fragment,e);for(let e=0;e<i.length;e+=1)je(s[e]);o=!0}},o(e){Ue(t.$$.fragment,e);for(let t=0;t<s.length;t+=1)Ue(s[t]);o=!1},d(e){lt(t,e),e&&z(n);for(let t=0;t<s.length;t+=1)s[t].d(e);e&&z(r)}}}function Ebe(e){let t,n;return t=new Zhe({props:{style:e[33].style,$$slots:{default:[Nbe,({htmlAttributes:e,styleString:t})=>({39:e,40:t}),({htmlAttributes:e,styleString:t})=>[0,(e?256:0)|(t?512:0)]]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n[1]&&(r.style=e[33].style),2097338&n[0]|33538&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Dbe(e){let t,n,r,o,s,a,i=e[21].offset+e[33].index+1+"";return t=new qE({props:{color:"var(--cell-bg-color-header)"}}),r=new qE({props:{when:e[36],color:"var(--cell-bg-color-row-selected)"}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),s=j(i)},m(e,i){it(t,e,i),H(e,n,i),it(r,e,i),H(e,o,i),H(e,s,i),a=!0},p(e,t){const n={};130&t[0]|2&t[1]&&(n.when=e[36]),r.$set(n),(!a||2097152&t[0]|2&t[1])&&i!==(i=e[21].offset+e[33].index+1+"")&&Q(s,i)},i(e){a||(je(t.$$.fragment,e),je(r.$$.fragment,e),a=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),a=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),e&&z(s)}}}function Obe(e,t){let n,r,o;return r=new vbe({props:{row:t[34],rowSelectionId:t[35],column:t[41],recordRunState:t[3],selection:t[5]}}),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};2&n[0]|2&n[1]&&(o.row=t[34]),2&n[0]|2&n[1]&&(o.rowSelectionId=t[35]),16&n[0]&&(o.column=t[41]),8&n[0]&&(o.recordRunState=t[3]),32&n[0]&&(o.selection=t[5]),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function Nbe(e){let t,n,r,o,s,a,i=[],c=new wbe;n=new wye({props:{rowSelectionId:e[35],columnIdentifierKey:Lbe,$$slots:{default:[Dbe]},$$scope:{ctx:e}}});let u=e[4];const d=e=>e[41].id;for(let l=0;l<u.length;l+=1){let t=xbe(e,u,l),n=d(t);c.set(n,i[l]=Obe(n,t))}let $=[e[39],{style:o="--cell-height:31px;"+e[40]}],p={};for(let m=0;m<$.length;m+=1)p=l(p,$[m]);return{c(){t=q("div"),at(n.$$.fragment),r=U();for(let e=0;e<i.length;e+=1)i[e].c();s=U(),Z(t,p),se(t,"svelte-1l81930",!0)},m(e,o){H(e,t,o),it(n,t,null),F(t,r);for(let n=0;n<i.length;n+=1)i[n].m(t,null);H(e,s,o),a=!0},p(e,r){const s={};2&r[0]|2&r[1]&&(s.rowSelectionId=e[35]),2097282&r[0]|32770&r[1]&&(s.$$scope={dirty:r,ctx:e}),n.$set(s),58&r[0]|2&r[1]&&(u=e[4],qe(),i=nt(i,r,d,1,e,u,c,t,et,Obe,null,xbe),Be()),Z(t,p=rt($,[256&r[1]&&e[39],(!a||512&r[1]&&o!==(o="--cell-height:31px;"+e[40]))&&{style:o}])),se(t,"svelte-1l81930",!0)},i(e){if(!a){je(n.$$.fragment,e);for(let e=0;e<u.length;e+=1)je(i[e]);a=!0}},o(e){Ue(n.$$.fragment,e);for(let t=0;t<i.length;t+=1)Ue(i[t]);a=!1},d(e){e&&z(t),lt(n);for(let t=0;t<i.length;t+=1)i[t].d();e&&z(s)}}}function Abe(e,t){let n,r,o,s=(t[34]||t[2])&&Ebe(t);return{key:e,first:null,c(){n=W(),s&&s.c(),r=W(),this.first=n},m(e,t){H(e,n,t),s&&s.m(e,t),H(e,r,t),o=!0},p(e,n){(t=e)[34]||t[2]?s?(s.p(t,n),6&n[0]|2&n[1]&&je(s,1)):(s=Ebe(t),s.c(),je(s,1),s.m(r.parentNode,r)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be())},i(e){o||(je(s),o=!0)},o(e){Ue(s),o=!1},d(e){e&&z(n),s&&s.d(e),e&&z(r)}}}function Rbe(e){let t,n,r=[],o=new wbe,s=e[32];const a=e=>e[33].key;for(let i=0;i<s.length;i+=1){let t=_be(e,s,i),n=a(t);o.set(n,r[i]=Abe(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=W()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);H(e,t,o),n=!0},p(e,n){2097342&n[0]|770&n[1]&&(s=e[32],qe(),r=nt(r,n,a,1,e,s,o,t.parentNode,et,Abe,t,_be),Be())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ue(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&z(t)}}}function Fbe(e){let t,n,r,o;return t=new qge({props:{$$slots:{default:[Tbe]},$$scope:{ctx:e}}}),r=new Whe({props:{itemCount:e[8],paddingBottom:30,itemSize:e[30],$$slots:{default:[Rbe,({items:e})=>({32:e}),({items:e})=>[0,e?2:0]]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,s){it(t,e,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){const o={};2065&n[0]|32768&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};256&n[0]&&(s.itemCount=e[8]),2097342&n[0]|32770&n[1]&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function Pbe(e){let t,n,r,o;const s=[Mbe,kbe,Sbe],a=[];function i(e,t){return e[14].length?e[10]?1:2:0}return n=i(e),r=a[n]=s[n](e),{c(){t=q("div"),r.c(),X(t,"data-identifier","query-run-result"),X(t,"class","svelte-1l81930")},m(e,r){H(e,t,r),a[n].m(t,null),o=!0},p(e,o){let l=n;n=i(e),n===l?a[n].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),r=a[n],r?r.p(e,o):(r=a[n]=s[n](e),r.c()),je(r,1),r.m(t,null))},i(e){o||(je(r),o=!0)},o(e){Ue(r),o=!1},d(e){e&&z(t),a[n].d()}}}const Lbe="row-control",Hbe=e=>e.id;function zbe(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,b,v,w,_,x,C,S,k,M,I,T,E,D,O,N,A=a,R=a,F=a,P=a,L=a,H=a;y(e,no,(e=>n(20,O=e))),e.$$.on_destroy.push((()=>A())),e.$$.on_destroy.push((()=>R())),e.$$.on_destroy.push((()=>F())),e.$$.on_destroy.push((()=>P())),e.$$.on_destroy.push((()=>L())),e.$$.on_destroy.push((()=>H()));let{queryHandler:z}=t;function V(e,t){z instanceof epe&&z.setColumnDisplayOptions(e,{display_width:t})}return e.$$set=e=>{"queryHandler"in e&&n(0,z=e.queryHandler)},e.$$.update=()=>{1&e.$$.dirty[0]&&(n(19,({query:r,processedColumns:o,rowsData:s,selectableRowsMap:i,pagination:l,runState:c,selection:u,inspector:d}=z),r,(n(6,o),R(),R=g(o,(e=>n(26,I=e))),o),(n(18,s),A(),A=g(s,(e=>n(25,M=e))),s),(n(23,i),n(0,z)),(n(17,l),H(),H=g(l,(e=>n(21,N=e))),l),(n(16,c),F(),F=g(c,(e=>n(27,T=e))),c),(n(5,u),P(),P=g(u,(e=>n(7,E=e))),u),(n(15,d),n(0,z))),L(),L=g(r,(e=>n(28,D=e)))),268435456&e.$$.dirty[0]&&n(14,({initial_columns:$,display_options:p}=D),$,(n(24,p),n(28,D))),16777216&e.$$.dirty[0]&&n(13,m=new ao([[Lbe,50],...A$e(p)])),8388704&e.$$.dirty[0]&&n(12,f=new Fye({copyingContext:{getRows:()=>new Map(gc((([e,t])=>[e,t.record]),h(i))),getColumns:()=>h(o),getRecordSummaries:()=>new ao},selection:u,showToastInfo:WS.info,showToastError:WS.error})),128&e.$$.dirty[0]&&n(11,({columnIds:b}=E),b),134217728&e.$$.dirty[0]&&n(3,v=T?.state),134217728&e.$$.dirty[0]&&n(10,w="failure"===T?.state?T.errors:void 0),67108864&e.$$.dirty[0]&&n(4,_=[...I.values()]),16&e.$$.dirty[0]&&n(9,x=_.length?[{id:Lbe},..._]:[]),33554432&e.$$.dirty[0]&&n(1,C=M.rows),10&e.$$.dirty[0]&&n(2,S=("success"===v||"processing"===v)&&!C.length),6&e.$$.dirty[0]&&n(8,k=S?1:C.length)},[z,C,S,v,_,u,o,E,k,x,w,b,f,m,$,d,c,l,s,r,O,N,V,i,p,M,I,T,D,(e,t)=>V(e,t),()=>CM,e=>{"column-header-cell"===e.type&&d.activate("column")}]}class Vbe extends ut{constructor(e){super(),ct(this,e,zbe,Pbe,f,{queryHandler:0},null,[-1,-1])}}function qbe(e){let t,n,r,o;n=new Qy({props:{total:e[0],pageSize:e[2],currentPage:e[4]}}),n.$on("change",e[5]);let s=e[1].length&&Bbe(e);return{c(){t=q("div"),at(n.$$.fragment),r=U(),s&&s.c(),X(t,"class","pagination-group svelte-1e0lu03")},m(e,a){H(e,t,a),it(n,t,null),F(t,r),s&&s.m(t,null),o=!0},p(e,r){const o={};1&r&&(o.total=e[0]),4&r&&(o.pageSize=e[2]),16&r&&(o.currentPage=e[4]),n.$set(o),e[1].length?s?(s.p(e,r),2&r&&je(s,1)):(s=Bbe(e),s.c(),je(s,1),s.m(t,null)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be())},i(e){o||(je(n.$$.fragment,e),je(s),o=!0)},o(e){Ue(n.$$.fragment,e),Ue(s),o=!1},d(e){e&&z(t),lt(n),s&&s.d()}}}function Bbe(e){let t,n;return t=new $y({props:{triggerAppearance:"secondary",options:e[1],value:e[2]}}),t.$on("change",e[6]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.options=e[1]),4&n&&(r.value=e[2]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function jbe(e){let t,n,r=e[0]&&!e[3]&&qbe(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,[n]){e[0]&&!e[3]?r?(r.p(e,n),9&n&&je(r,1)):(r=qbe(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function Ube(e,t,n){let r,o,s,a;const i=ye();let{pagination:l}=t,{totalCount:c}=t,{pageSizeOptions:u=[100,200,500]}=t,{hiddenWhenPossible:d=!1}=t;return e.$$set=e=>{"pagination"in e&&n(7,l=e.pagination),"totalCount"in e&&n(0,c=e.totalCount),"pageSizeOptions"in e&&n(1,u=e.pageSizeOptions),"hiddenWhenPossible"in e&&n(8,d=e.hiddenWhenPossible)},e.$$.update=()=>{128&e.$$.dirty&&n(2,({size:r,page:o}=l),r,(n(4,o),n(7,l))),5&e.$$.dirty&&n(9,s=r>=c),768&e.$$.dirty&&n(3,a=s&&d)},[c,u,r,a,o,function(e){n(7,l=new _T({...l,page:e.detail.currentPage})),i("change",l)},function(e){const t=e.detail;void 0!==t&&r!==t&&(n(7,l=new _T({page:1,size:t})),i("change",l))},l,d,s]}class Wbe extends ut{constructor(e){super(),ct(this,e,Ube,jbe,f,{pagination:7,totalCount:0,pageSizeOptions:1,hiddenWhenPossible:8})}}function Ybe(e){let t,n=e[2]("refresh")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){4&r&&n!==(n=e[2]("refresh")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Kbe(e){let t,n=e[2]("retry")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){4&r&&n!==(n=e[2]("retry")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Gbe(e){let t,n=e[2]("loading")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){4&r&&n!==(n=e[2]("loading")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Xbe(e){let t,n,r,o;const s=[e[0]&&!e[1]?Rd:aC,{spin:e[1]}];let a={};for(let d=0;d<s.length;d+=1)a=l(a,s[d]);function i(e,t){return e[1]?Gbe:e[0]?Kbe:Ybe}t=new Jd({props:a});let c=i(e),u=c(e);return{c(){at(t.$$.fragment),n=U(),r=q("span"),u.c()},m(e,s){it(t,e,s),H(e,n,s),H(e,r,s),u.m(r,null),o=!0},p(e,n){const o=3&n?rt(s,[ot(e[0]&&!e[1]?Rd:aC),2&n&&{spin:e[1]}]):{};t.$set(o),c===(c=i(e))&&u?u.p(e,n):(u.d(1),u=c(e),u&&(u.c(),u.m(r,null)))},i(e){o||(je(t.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),e&&z(r),u.d()}}}function Zbe(e){let t,n,r;return n=new Hu({props:{size:"medium",disabled:e[1],$$slots:{default:[Xbe]},$$scope:{ctx:e}}}),n.$on("click",e[4]),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","refresh-button")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,[t]){const r={};2&t&&(r.disabled=e[1]),39&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function Jbe(e,t,n){let r,o,s;y(e,no,(e=>n(2,s=e)));let{state:a}=t;return e.$$set=e=>{"state"in e&&n(3,a=e.state)},e.$$.update=()=>{8&e.$$.dirty&&n(1,r="loading"===a),8&e.$$.dirty&&n(0,o="error"===a)},[o,r,s,a,function(t){_e.call(this,e,t)}]}class Qbe extends ut{constructor(e){super(),ct(this,e,Jbe,Zbe,f,{state:3})}}function eve(e){let t,n;return t=new Qbe({props:{state:e[1]}}),t.$on("click",e[4]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.state=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function tve(e,t,n){let r,o,s,i=a;e.$$.on_destroy.push((()=>i()));let{queryRunner:l}=t;return e.$$set=e=>{"queryRunner"in e&&n(0,l=e.queryRunner)},e.$$.update=()=>{1&e.$$.dirty&&(n(2,({runState:r}=l),r),i(),i=g(r,(e=>n(3,s=e)))),8&e.$$.dirty&&n(1,o=(()=>{let e;const t=s?.state;return"processing"===t&&(e="loading"),"failure"===t&&(e="error"),e})())},[l,o,r,s,()=>l.run()]}class nve extends ut{constructor(e){super(),ct(this,e,tve,eve,f,{queryRunner:0})}}function rve(e){let t,n=e[6]("no_results_found")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){64&r&&n!==(n=e[6]("no_results_found")+"")&&Q(t,n)},d(e){e&&z(t)}}}function ove(e){let t,n,r=e[6]("showing_n_to_m_of_total",{values:{leftBound:e[7].leftBound,rightBound:Math.min(e[1],e[7].rightBound),totalCount:e[1]}})+"";return{c(){t=q("div"),n=j(r)},m(e,r){H(e,t,r),F(t,n)},p(e,t){194&t&&r!==(r=e[6]("showing_n_to_m_of_total",{values:{leftBound:e[7].leftBound,rightBound:Math.min(e[1],e[7].rightBound),totalCount:e[1]}})+"")&&Q(n,r)},d(e){e&&z(t)}}}function sve(e){let t,n,r,o,s,a,i,l;function c(e,t){return e[1]?ove:"success"===e[2]?rve:void 0}let u=c(e),d=u&&u(e);return o=new Wbe({props:{pagination:e[7],totalCount:e[1]}}),o.$on("change",e[10]),i=new nve({props:{queryRunner:e[0]}}),{c(){t=q("div"),d&&d.c(),n=U(),r=q("div"),at(o.$$.fragment),s=U(),a=q("div"),at(i.$$.fragment),X(a,"class","refresh svelte-qqusvc"),X(r,"class","pagination-controls svelte-qqusvc"),X(t,"data-identifier","status-bar"),X(t,"class","svelte-qqusvc")},m(e,c){H(e,t,c),d&&d.m(t,null),F(t,n),F(t,r),it(o,r,null),F(r,s),F(r,a),it(i,a,null),l=!0},p(e,[r]){u===(u=c(e))&&d?d.p(e,r):(d&&d.d(1),d=u&&u(e),d&&(d.c(),d.m(t,n)));const s={};128&r&&(s.pagination=e[7]),2&r&&(s.totalCount=e[1]),o.$set(s);const a={};1&r&&(a.queryRunner=e[0]),i.$set(a)},i(e){l||(je(o.$$.fragment,e),je(i.$$.fragment,e),l=!0)},o(e){Ue(o.$$.fragment,e),Ue(i.$$.fragment,e),l=!1},d(e){e&&z(t),d&&d.d(),lt(o),lt(i)}}}function ave(e,t,n){let r,o,s,i,l,c,u,d,$,p=a,m=a,f=a;y(e,no,(e=>n(6,d=e))),e.$$.on_destroy.push((()=>p())),e.$$.on_destroy.push((()=>m())),e.$$.on_destroy.push((()=>f()));let{queryHandler:h}=t;return e.$$set=e=>{"queryHandler"in e&&n(0,h=e.queryHandler)},e.$$.update=()=>{1&e.$$.dirty&&(n(5,({rowsData:r,pagination:o,runState:s}=h),r,(n(4,o),f(),f=g(o,(e=>n(7,$=e))),o),(n(3,s),m(),m=g(s,(e=>n(9,u=e))),s)),p(),p=g(r,(e=>n(8,c=e)))),512&e.$$.dirty&&n(2,i=u?.state),256&e.$$.dirty&&n(1,l=c.totalCount)},[h,l,i,s,o,r,d,$,c,u,e=>{h.setPagination(e.detail)}]}class ive extends ut{constructor(e){super(),ct(this,e,ave,sve,f,{queryHandler:0})}}function lve(e){let t,n,r,o;n=new Dge({props:{queryManager:e[1],linkCollapsibleOpenState:e[0],$$slots:{default:[pve]},$$scope:{ctx:e}}});let s=e[4]&&mve(e);return{c(){t=q("div"),at(n.$$.fragment),r=U(),s&&s.c(),X(t,"class","content-pane svelte-1np6c6v")},m(e,a){H(e,t,a),it(n,t,null),F(t,r),s&&s.m(t,null),o=!0},p(e,r){const o={};2&r&&(o.queryManager=e[1]),1&r&&(o.linkCollapsibleOpenState=e[0]),2202&r&&(o.$$scope={dirty:r,ctx:e}),n.$set(o),e[4]?s?(s.p(e,r),16&r&&je(s,1)):(s=mve(e),s.c(),je(s,1),s.m(t,null)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be())},i(e){o||(je(n.$$.fragment,e),je(s),o=!0)},o(e){Ue(n.$$.fragment,e),Ue(s),o=!1},d(e){e&&z(t),lt(n),s&&s.d()}}}function cve(e){let t,n,r,o,s,a=e[7]("get_started_by_adding_table_and_columns")+"",i="success"===e[6].requestStatus.state&&0===e[6].data.size&&fve(e);return{c(){t=q("div"),i&&i.c(),n=U(),r=q("div"),o=j(a),X(r,"class","help-text svelte-1np6c6v"),X(t,"class","initial-content svelte-1np6c6v")},m(e,a){H(e,t,a),i&&i.m(t,null),F(t,n),F(t,r),F(r,o),s=!0},p(e,r){"success"===e[6].requestStatus.state&&0===e[6].data.size?i?(i.p(e,r),64&r&&je(i,1)):(i=fve(e),i.c(),je(i,1),i.m(t,n)):i&&(qe(),Ue(i,1,1,(()=>{i=null})),Be()),(!s||128&r)&&a!==(a=e[7]("get_started_by_adding_table_and_columns")+"")&&Q(o,a)},i(e){s||(je(i),s=!0)},o(e){Ue(i),s=!1},d(e){e&&z(t),i&&i.d()}}}function uve(e){let t,n,r;return n=new fme({props:{isInspectorOpen:e[3],queryHandler:e[1],$$slots:{default:[$ve]},$$scope:{ctx:e}}}),n.$on("delete",e[10]),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","results-wrapper svelte-1np6c6v")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};8&t&&(r.isInspectorOpen=e[3]),2&t&&(r.queryHandler=e[1]),2050&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function dve(e){let t,n,r=e[7]("get_started_by_adding_columns_from_left")+"";return{c(){t=q("div"),n=j(r),X(t,"class","help-text svelte-1np6c6v")},m(e,r){H(e,t,r),F(t,n)},p(e,t){128&t&&r!==(r=e[7]("get_started_by_adding_columns_from_left")+"")&&Q(n,r)},i:a,o:a,d(e){e&&z(t)}}}function $ve(e){let t,n;return t=new Vbe({props:{queryHandler:e[1]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.queryHandler=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function pve(e){let t,n,r,o;const s=[dve,uve],a=[];function i(e,t){return e[4]?1:0}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function mve(e){let t,n;return t=new ive({props:{queryHandler:e[1]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.queryHandler=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function fve(e){let t,n,r;return n=new ou({props:{$$slots:{body:[hve],title:[gve]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","tutorial-holder svelte-1np6c6v")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};2176&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function gve(e){let t,n,r=e[7]("create_share_explorations_of_your_data")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","title")},m(e,r){H(e,t,r),F(t,n)},p(e,t){128&t&&r!==(r=e[7]("create_share_explorations_of_your_data")+"")&&Q(n,r)},d(e){e&&z(t)}}}function hve(e){let t,n,r=e[7]("create_exploration_empty_state_help")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","body")},m(e,r){H(e,t,r),F(t,n)},p(e,t){128&t&&r!==(r=e[7]("create_exploration_empty_state_help")+"")&&Q(n,r)},d(e){e&&z(t)}}}function yve(e){let t,n,r,o,s,a,i,l;function c(t){e[8](t)}function u(t){e[9](t)}let d={queryManager:e[1]};void 0!==e[0]&&(d.linkCollapsibleOpenState=e[0]),void 0!==e[3]&&(d.isInspectorOpen=e[3]),n=new c$e({props:d}),Ce.push((()=>st(n,"linkCollapsibleOpenState",c))),Ce.push((()=>st(n,"isInspectorOpen",u)));const $=[cve,lve],p=[];function m(e,t){return e[2].base_table_oid?1:0}return a=m(e),i=p[a]=$[a](e),{c(){t=q("div"),at(n.$$.fragment),s=U(),i.c(),X(t,"class","data-explorer svelte-1np6c6v"),se(t,"inspector-open",e[3])},m(e,r){H(e,t,r),it(n,t,null),F(t,s),p[a].m(t,null),l=!0},p(e,[s]){const c={};2&s&&(c.queryManager=e[1]),!r&&1&s&&(r=!0,c.linkCollapsibleOpenState=e[0],Oe((()=>r=!1))),!o&&8&s&&(o=!0,c.isInspectorOpen=e[3],Oe((()=>o=!1))),n.$set(c);let u=a;a=m(e),a===u?p[a].p(e,s):(qe(),Ue(p[u],1,1,(()=>{p[u]=null})),Be(),i=p[a],i?i.p(e,s):(i=p[a]=$[a](e),i.c()),je(i,1),i.m(t,null)),(!l||8&s)&&se(t,"inspector-open",e[3])},i(e){l||(je(n.$$.fragment,e),je(i),l=!0)},o(e){Ue(n.$$.fragment,e),Ue(i),l=!1},d(e){e&&z(t),lt(n),p[a].d()}}}function bve(e,t,n){let r,o,s,i,l,c=a;y(e,zU,(e=>n(6,i=e))),y(e,no,(e=>n(7,l=e))),e.$$.on_destroy.push((()=>c()));let{queryManager:u}=t,{linkCollapsibleOpenState:d={}}=t,$=!0;return e.$$set=e=>{"queryManager"in e&&n(1,u=e.queryManager),"linkCollapsibleOpenState"in e&&n(0,d=e.linkCollapsibleOpenState)},e.$$.update=()=>{2&e.$$.dirty&&(n(5,({query:r}=u),r),c(),c=g(r,(e=>n(2,s=e)))),4&e.$$.dirty&&n(4,o=!!s.initial_columns.length)},[d,u,s,$,o,r,i,l,function(e){d=e,n(0,d)},function(e){$=e,n(3,$)},function(t){_e.call(this,e,t)}]}class vve extends ut{constructor(e){super(),ct(this,e,bve,yve,f,{queryManager:1,linkCollapsibleOpenState:0})}}class wve{static baseTable(e){return{oid:e.oid,name:e.name}}static terseSummarizedColumn(e){return{id:e.id,name:e.name}}static terseSummarization(e){return{databaseId:e.databaseId,schemaOid:e.schemaOid,baseTable:wve.baseTable(e.baseTable),columns:e.columns.map((e=>wve.terseSummarizedColumn(e))),terseGrouping:e.terseGrouping}}}function _ve(e){return UM.encode(JSON.stringify(wve.terseSummarization(e)))}function xve(e,t,n){return`${rI(e,t)}#${_ve({databaseId:e,schemaOid:t,baseTable:n,columns:[],terseGrouping:[]})}`}function Cve(e){let t,n;return{c(){t=q("strong"),n=j(e[0])},m(e,r){H(e,t,r),F(t,n)},p(e,t){1&t&&Q(n,e[0])},d(e){e&&z(t)}}}function Sve(e){let t,n="tableName"===e[6]&&Cve(e);return{c(){n&&n.c(),t=W()},m(e,r){n&&n.m(e,r),H(e,t,r)},p(e,r){"tableName"===e[6]?n?n.p(e,r):(n=Cve(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&z(t)}}}function kve(e){let t,n=e[2]("table_delete_permanent_warning")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){4&r&&n!==(n=e[2]("table_delete_permanent_warning")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Mve(e){let t,n,r,o,s,a,i,l,c;function u(t){e[4](t)}r=new Rx({props:{text:e[2]("confirm_delete_table"),$$slots:{default:[Sve,({slotName:e})=>({6:e}),({slotName:e})=>e?64:0]},$$scope:{ctx:e}}});let d={autofocus:!0};return void 0!==e[1]&&(d.value=e[1]),s=new ym({props:d}),Ce.push((()=>st(s,"value",u))),l=new cV({props:{$$slots:{default:[kve]},$$scope:{ctx:e}}}),{c(){t=q("div"),n=q("p"),at(r.$$.fragment),o=U(),at(s.$$.fragment),i=U(),at(l.$$.fragment),X(n,"class","svelte-lbyl48"),X(t,"class","table-delete-confirmation-body svelte-lbyl48")},m(e,a){H(e,t,a),F(t,n),it(r,n,null),F(t,o),it(s,t,null),F(t,i),it(l,t,null),c=!0},p(e,[t]){const n={};4&t&&(n.text=e[2]("confirm_delete_table")),193&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n);const o={};!a&&2&t&&(a=!0,o.value=e[1],Oe((()=>a=!1))),s.$set(o);const i={};132&t&&(i.$$scope={dirty:t,ctx:e}),l.$set(i)},i(e){c||(je(r.$$.fragment,e),je(s.$$.fragment,e),je(l.$$.fragment,e),c=!0)},o(e){Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),Ue(l.$$.fragment,e),c=!1},d(e){e&&z(t),lt(r),lt(s),lt(l)}}}function Ive(e,t,n){let r,o;y(e,no,(e=>n(2,o=e)));let{tableName:s}=t,a="";const{canProceed:i}=GS;return y(e,i,(e=>n(5,r=e))),e.$$set=e=>{"tableName"in e&&n(0,s=e.tableName)},e.$$.update=()=>{3&e.$$.dirty&&I(i,r=a.trim().toLowerCase()===s.toLowerCase(),r)},[s,a,o,i,function(e){a=e,n(1,a)}]}class Tve extends ut{constructor(e){super(),ct(this,e,Ive,Mve,f,{tableName:0})}}function Eve(e){let t,n;return t=new Eu({props:{enabled:e[3],$$slots:{content:[Ave],trigger:[Nve]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.enabled=e[3]),1050664&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Dve(e){let t,n,r=e[5]("find_record")+"";return{c(){t=q("span"),n=j(r)},m(e,r){H(e,t,r),F(t,n)},p(e,t){32&t&&r!==(r=e[5]("find_record")+"")&&Q(n,r)},d(e){e&&z(t)}}}function Ove(e){let t,n,r,o;const s=[cC];let a={};for(let c=0;c<s.length;c+=1)a=l(a,s[c]);t=new Jd({props:a});let i=!e[3]&&Dve(e);return{c(){at(t.$$.fragment),n=U(),i&&i.c(),r=W()},m(e,s){it(t,e,s),H(e,n,s),i&&i.m(e,s),H(e,r,s),o=!0},p(e,n){const o=0&n?rt(s,[ot(cC)]):{};t.$set(o),e[3]?i&&(i.d(1),i=null):i?i.p(e,n):(i=Dve(e),i.c(),i.m(r.parentNode,r))},i(e){o||(je(t.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),i&&i.d(e),e&&z(r)}}}function Nve(e){let t,n;return t=new Hu({props:{slot:"trigger",appearance:"secondary",size:"small",disabled:!e[11].has("SELECT"),class:"action-button",$$slots:{default:[Ove]},$$scope:{ctx:e}}}),t.$on("click",e[14]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2048&n&&(r.disabled=!e[11].has("SELECT")),1048616&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Ave(e){let t,n,r=e[5]("find_record")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","content")},m(e,r){H(e,t,r),F(t,n)},p(e,t){32&t&&r!==(r=e[5]("find_record")+"")&&Q(n,r)},d(e){e&&z(t)}}}function Rve(e){let t,n,r=!e[4]&&Eve(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){e[4]?r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be()):r?(r.p(e,n),16&n&&je(r,1)):(r=Eve(e),r.c(),je(r,1),r.m(t.parentNode,t))},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function Fve(e){let t,n,r,o,s,a;return t=new iw({props:{href:e[7],icon:DC,disabled:!e[11].has("SELECT"),$$slots:{default:[Pve]},$$scope:{ctx:e}}}),r=new nw({props:{icon:Xx,disabled:!e[12],$$slots:{default:[Lve]},$$scope:{ctx:e}}}),r.$on("click",e[17]),s=new nw({props:{icon:iS,$$slots:{default:[Hve]},$$scope:{ctx:e}}}),s.$on("click",e[18]),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),at(s.$$.fragment)},m(e,i){it(t,e,i),H(e,n,i),it(r,e,i),H(e,o,i),it(s,e,i),a=!0},p(e,n){const o={};128&n&&(o.href=e[7]),2048&n&&(o.disabled=!e[11].has("SELECT")),1048608&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const a={};4096&n&&(a.disabled=!e[12]),1048608&n&&(a.$$scope={dirty:n,ctx:e}),r.$set(a);const i={};1048608&n&&(i.$$scope={dirty:n,ctx:e}),s.$set(i)},i(e){a||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),a=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),a=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),lt(s,e)}}}function Pve(e){let t,n=e[5]("explore_table")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){32&r&&n!==(n=e[5]("explore_table")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Lve(e){let t,n=e[5]("rename_table")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){32&r&&n!==(n=e[5]("rename_table")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Hve(e){let t,n=e[5]("table_permissions")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){32&r&&n!==(n=e[5]("table_permissions")+"")&&Q(t,n)},d(e){e&&z(t)}}}function zve(e){let t,n=e[5]("delete_table")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){32&r&&n!==(n=e[5]("delete_table")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Vve(e){let t,n,r,o=!e[4]&&Fve(e);return n=new nw({props:{danger:!0,icon:Kx,disabled:!e[12],$$slots:{default:[zve]},$$scope:{ctx:e}}}),n.$on("click",e[13]),{c(){o&&o.c(),t=U(),at(n.$$.fragment)},m(e,s){o&&o.m(e,s),H(e,t,s),it(n,e,s),r=!0},p(e,r){e[4]?o&&(qe(),Ue(o,1,1,(()=>{o=null})),Be()):o?(o.p(e,r),16&r&&je(o,1)):(o=Fve(e),o.c(),je(o,1),o.m(t.parentNode,t));const s={};4096&r&&(s.disabled=!e[12]),1048608&r&&(s.$$scope={dirty:r,ctx:e}),n.$set(s)},i(e){r||(je(o),je(n.$$.fragment,e),r=!0)},o(e){Ue(o),Ue(n.$$.fragment,e),r=!1},d(e){o&&o.d(e),e&&z(t),lt(n,e)}}}function qve(e){let t,n;return t=new E7({props:{href:e[8],name:e[0].name,description:e[0].description??void 0,icon:UC,pendingMessage:e[6],primary:!0,cssVariables:{"--EntityListItem__accent-color":"var(--color-table-80)"},$$slots:{menu:[Vve],"action-buttons":[Rve]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};256&n&&(r.href=e[8]),1&n&&(r.name=e[0].name),1&n&&(r.description=e[0].description??void 0),64&n&&(r.pendingMessage=e[6]),1054911&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Bve(e,t,n){let r,o,s,i,l,c,u,d,$,p=a,m=a;y(e,no,(e=>n(5,u=e))),e.$$.on_destroy.push((()=>p())),e.$$.on_destroy.push((()=>m()));const f=UH.get();let{table:h}=t,{database:b}=t,{schema:v}=t,{openEditTableModal:w}=t,{openTablePermissionsModal:_}=t,{condensed:x=!1}=t;return e.$$set=e=>{"table"in e&&n(0,h=e.table),"database"in e&&n(15,b=e.database),"schema"in e&&n(16,v=e.schema),"openEditTableModal"in e&&n(1,w=e.openEditTableModal),"openTablePermissionsModal"in e&&n(2,_=e.openTablePermissionsModal),"condensed"in e&&n(3,x=e.condensed)},e.$$.update=()=>{1&e.$$.dirty&&(n(10,({currentRoleOwns:r,currentRolePrivileges:o}=h.currentAccess),r,(n(9,o),p(),p=g(o,(e=>n(11,d=e))),o)),m(),m=g(r,(e=>n(12,$=e)))),1&e.$$.dirty&&n(4,s=vI(h)),98321&e.$$.dirty&&n(8,i=s?nI(b.id,v.oid,h.oid,{useColumnTypeInference:!0}):sI(b.id,v.oid,h.oid)),98305&e.$$.dirty&&n(7,l=xve(b.id,v.oid,h)),48&e.$$.dirty&&n(6,c=s?u("needs_import_confirmation"):void 0)},[h,w,_,x,s,u,c,l,i,o,r,d,$,function(){XS({identifierType:u("table"),body:{component:Tve,props:{tableName:h.name}},onProceed:async()=>{await gH(v,h.oid)}})},function(){f?.navigateToRecordPage({tableOid:h.oid})},b,v,()=>w(h),()=>_(h)]}class jve extends ut{constructor(e){super(),ct(this,e,Bve,qve,f,{table:0,database:15,schema:16,openEditTableModal:1,openTablePermissionsModal:2,condensed:3})}}function Uve(e,t,n){const r=e.slice();return r[12]=t[n],r}function Wve(e){let t,n;return t=new iue({props:{icon:UC,text:e[6]("no_tables")}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.text=e[6]("no_tables")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Yve(e){let t,n,r,o,s,a=[],i=new Map,l=e[0];const c=e=>e[12].oid;for(let u=0;u<l.length;u+=1){let t=Uve(e,l,u),n=c(t);i.set(n,a[u]=Kve(n,t))}return{c(){t=q("div");for(let e=0;e<a.length;e+=1)a[e].c()},m(i,l){H(i,t,l);for(let e=0;e<a.length;e+=1)a[e].m(t,null);r=!0,o||(s=T(n=X3.call(null,t,{scrollHint:e[6]("table_new_items_scroll_hint")})),o=!0)},p(e,r){1575&r&&(l=e[0],qe(),a=nt(a,r,c,1,e,l,i,t,et,Kve,null,Uve),Be()),n&&$(n.update)&&64&r&&n.update.call(null,{scrollHint:e[6]("table_new_items_scroll_hint")})},i(e){if(!r){for(let e=0;e<l.length;e+=1)je(a[e]);r=!0}},o(e){for(let t=0;t<a.length;t+=1)Ue(a[t]);r=!1},d(e){e&&z(t);for(let t=0;t<a.length;t+=1)a[t].d();o=!1,s()}}}function Kve(e,t){let n,r,o;return r=new jve({props:{table:t[12],database:t[1],schema:t[2],openEditTableModal:t[9],openTablePermissionsModal:t[10],condensed:t[5]<400}}),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};1&n&&(o.table=t[12]),2&n&&(o.database=t[1]),4&n&&(o.schema=t[2]),32&n&&(o.condensed=t[5]<400),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function Gve(e){let t,n;return t=new wde({props:{controller:e[7],table:e[3]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.table=e[3]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Xve(e){let t,n;return t=new mde({props:{controller:e[8],table:e[4]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.table=e[4]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Zve(e){let t,n,r,o,s,a,i,l;const c=[Yve,Wve],u=[];function d(e,t){return e[0].length>0?0:1}n=d(e),r=u[n]=c[n](e);let $=e[3]&&Gve(e),p=e[4]&&Xve(e);return{c(){t=q("div"),r.c(),s=U(),$&&$.c(),a=U(),p&&p.c(),i=W(),X(t,"class","tables-list"),De((()=>e[11].call(t)))},m(r,c){H(r,t,c),u[n].m(t,null),o=oe(t,e[11].bind(t)),H(r,s,c),$&&$.m(r,c),H(r,a,c),p&&p.m(r,c),H(r,i,c),l=!0},p(e,[o]){let s=n;n=d(e),n===s?u[n].p(e,o):(qe(),Ue(u[s],1,1,(()=>{u[s]=null})),Be(),r=u[n],r?r.p(e,o):(r=u[n]=c[n](e),r.c()),je(r,1),r.m(t,null)),e[3]?$?($.p(e,o),8&o&&je($,1)):($=Gve(e),$.c(),je($,1),$.m(a.parentNode,a)):$&&(qe(),Ue($,1,1,(()=>{$=null})),Be()),e[4]?p?(p.p(e,o),16&o&&je(p,1)):(p=Xve(e),p.c(),je(p,1),p.m(i.parentNode,i)):p&&(qe(),Ue(p,1,1,(()=>{p=null})),Be())},i(e){l||(je(r),je($),je(p),l=!0)},o(e){Ue(r),Ue($),Ue(p),l=!1},d(e){e&&z(t),u[n].d(),o(),e&&z(s),$&&$.d(e),e&&z(a),p&&p.d(e),e&&z(i)}}}function Jve(e,t,n){let r;y(e,no,(e=>n(6,r=e)));const o=US.spawnModalController(),s=US.spawnModalController();let a,i,l,{tables:c}=t,{database:u}=t,{schema:d}=t;return e.$$set=e=>{"tables"in e&&n(0,c=e.tables),"database"in e&&n(1,u=e.database),"schema"in e&&n(2,d=e.schema)},[c,u,d,a,i,l,r,o,s,function(e){n(3,a=e),o.open()},function(e){n(4,i=e),s.open()},function(){l=this.clientWidth,n(5,l)}]}class Qve extends ut{constructor(e){super(),ct(this,e,Jve,Zve,f,{tables:0,database:1,schema:2})}}function ewe(e){let t,n;return t=new Qve({props:{tables:[...e[0].values()],schema:e[5],database:e[5].database}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.tables=[...e[0].values()]),32&n&&(r.schema=e[5]),32&n&&(r.database=e[5].database),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function twe(e){let t,n;return t=new cce({props:{database:e[5].database,schema:e[5],onCreateEmptyTable:e[4]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.database=e[5].database),32&n&&(r.schema=e[5]),16&n&&(r.onCreateEmptyTable=e[4]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function nwe(e){let t,n;return t=new HP({props:{$$slots:{default:[owe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2105348&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function rwe(e){let t,n;return t=new ode({props:{numTables:e[14]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16384&n&&(r.numTables=e[14]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function owe(e){let t,n,r,o,s,a,i,l,c,u=e[2].errors[0]+"",d=e[13]("go_to_database")+"";return s=new l$({props:{onClick:e[19],label:e[13]("retry"),icon:aC}}),{c(){t=q("p"),n=j(u),r=U(),o=q("div"),at(s.$$.fragment),a=U(),i=q("a"),l=j(d),X(i,"class","btn"),X(i,"href","../")},m(e,u){H(e,t,u),F(t,n),H(e,r,u),H(e,o,u),it(s,o,null),F(o,a),F(o,i),F(i,l),c=!0},p(e,t){(!c||4&t)&&u!==(u=e[2].errors[0]+"")&&Q(n,u);const r={};8192&t&&(r.label=e[13]("retry")),s.$set(r),(!c||8192&t)&&d!==(d=e[13]("go_to_database")+"")&&Q(l,d)},i(e){c||(je(s.$$.fragment,e),c=!0)},o(e){Ue(s.$$.fragment,e),c=!1},d(e){e&&z(t),e&&z(r),e&&z(o),lt(s)}}}function swe(e){let t,n=e[13]("what_is_an_exploration")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8192&r&&n!==(n=e[13]("what_is_an_exploration")+"")&&Q(t,n)},d(e){e&&z(t)}}}function awe(e){let t,n,r,o,s=e[13]("explorations")+"";return r=new H$({props:{$$slots:{default:[swe]},$$scope:{ctx:e}}}),{c(){t=j(s),n=U(),at(r.$$.fragment)},m(e,s){H(e,t,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){(!o||8192&n)&&s!==(s=e[13]("explorations")+"")&&Q(t,s);const a={};2105344&n&&(a.$$scope={dirty:n,ctx:e}),r.$set(a)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(t),e&&z(n),lt(r,e)}}}function iwe(e){let t,n,r,o,s,a=e[13]("new_exploration")+"";const i=[jx];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return t=new Jd({props:c}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(a)},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),F(r,o),s=!0},p(e,n){const r=0&n?rt(i,[ot(jx)]):{};t.$set(r),(!s||8192&n)&&a!==(a=e[13]("new_exploration")+"")&&Q(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function lwe(e){let t,n;return t=new Rc({props:{href:e[7],appearance:"secondary",$$slots:{default:[iwe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};128&n&&(r.href=e[7]),2105344&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function cwe(e){let t,n,r,o,s,a,i,l,c,u=e[3].errors[0]+"";return s=new l$({props:{onClick:e[20],label:e[13]("retry"),icon:aC}}),l=new Hu({props:{$$slots:{default:[uwe]},$$scope:{ctx:e}}}),{c(){t=q("p"),n=j(u),r=U(),o=q("div"),at(s.$$.fragment),a=U(),i=q("a"),at(l.$$.fragment),X(i,"href","../")},m(e,u){H(e,t,u),F(t,n),H(e,r,u),H(e,o,u),it(s,o,null),F(o,a),F(o,i),it(l,i,null),c=!0},p(e,t){(!c||8&t)&&u!==(u=e[3].errors[0]+"")&&Q(n,u);const r={};8192&t&&(r.label=e[13]("retry")),s.$set(r);const o={};2105344&t&&(o.$$scope={dirty:t,ctx:e}),l.$set(o)},i(e){c||(je(s.$$.fragment,e),je(l.$$.fragment,e),c=!0)},o(e){Ue(s.$$.fragment,e),Ue(l.$$.fragment,e),c=!1},d(e){e&&z(t),e&&z(r),e&&z(o),lt(s),lt(l)}}}function uwe(e){let t,n,r=e[13]("go_to_database")+"";return{c(){t=q("span"),n=j(r)},m(e,r){H(e,t,r),F(t,n)},p(e,t){8192&t&&r!==(r=e[13]("go_to_database")+"")&&Q(n,r)},d(e){e&&z(t)}}}function dwe(e){let t,n,r="failure"===e[3].state&&cwe(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"failure"===e[3].state?r?(r.p(e,n),8&n&&je(r,1)):(r=cwe(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function $we(e){let t,n,r;return n=new Oce({props:{explorations:[...e[1].values()],database:e[5].database,schema:e[5]}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","explorations-list svelte-158qyxg")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};2&t&&(r.explorations=[...e[1].values()]),32&t&&(r.database=e[5].database),32&t&&(r.schema=e[5]),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function pwe(e){let t,n;return t=new ou({props:{$$slots:{footer:[ywe],body:[gwe],title:[fwe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2105472&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function mwe(e){let t,n;return t=new Fce({props:{href:e[7]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};128&n&&(r.href=e[7]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function fwe(e){let t,n,r=e[13]("time_to_create_exploration")+"";return{c(){t=q("div"),n=j(r),X(t,"slot","title")},m(e,r){H(e,t,r),F(t,n)},p(e,t){8192&t&&r!==(r=e[13]("time_to_create_exploration")+"")&&Q(n,r)},d(e){e&&z(t)}}}function gwe(e){let t,n,r=e[13]("what_is_an_exploration")+"";return{c(){t=q("div"),n=j(r),X(t,"slot","body")},m(e,r){H(e,t,r),F(t,n)},p(e,t){8192&t&&r!==(r=e[13]("what_is_an_exploration")+"")&&Q(n,r)},d(e){e&&z(t)}}}function hwe(e){let t,n=e[13]("open_data_explorer")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8192&r&&n!==(n=e[13]("open_data_explorer")+"")&&Q(t,n)},d(e){e&&z(t)}}}function ywe(e){let t,n,r;return n=new Rc({props:{href:e[7],size:"small",appearance:"tip",$$slots:{default:[hwe]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"slot","footer")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};128&t&&(r.href=e[7]),2105344&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function bwe(e){let t,n,r,o,s,a=e[12]&&$we(e);const i=[mwe,pwe],l=[];function c(e,t){return e[12]?0:1}return n=c(e),r=l[n]=i[n](e),{c(){a&&a.c(),t=U(),r.c(),o=W()},m(e,r){a&&a.m(e,r),H(e,t,r),l[n].m(e,r),H(e,o,r),s=!0},p(e,s){e[12]?a?(a.p(e,s),4096&s&&je(a,1)):(a=$we(e),a.c(),je(a,1),a.m(t.parentNode,t)):a&&(qe(),Ue(a,1,1,(()=>{a=null})),Be());let u=n;n=c(e),n===u?l[n].p(e,s):(qe(),Ue(l[u],1,1,(()=>{l[u]=null})),Be(),r=l[n],r?r.p(e,s):(r=l[n]=i[n](e),r.c()),je(r,1),r.m(o.parentNode,o))},i(e){s||(je(a),je(r),s=!0)},o(e){Ue(a),Ue(r),s=!1},d(e){a&&a.d(e),e&&z(t),l[n].d(e),e&&z(o)}}}function vwe(e){let t,n,r,o,s,a,i,l,c,u,d,$,p,m,f,g,h,y=e[13]("tables")+"";l=new tce({props:{database:e[5].database,schema:e[5],onCreateEmptyTable:e[4]}});const b=[rwe,nwe,twe,ewe],v=[];function w(e,t){return"processing"===e[2].state?0:"failure"===e[2].state?1:e[10]?2:3}return u=w(e),d=v[u]=b[u](e),m=new Hue({props:{isLoading:e[9],hasError:"failure"===e[3].state,$$slots:{content:[bwe],errors:[dwe],actions:[lwe],header:[awe]},$$scope:{ctx:e}}}),g=new Que({}),{c(){t=q("div"),n=q("div"),r=q("header"),o=q("h2"),s=j(y),a=U(),i=q("div"),at(l.$$.fragment),c=U(),d.c(),$=U(),p=q("div"),at(m.$$.fragment),f=U(),at(g.$$.fragment),X(o,"class","svelte-158qyxg"),X(r,"class","svelte-158qyxg"),X(n,"class","tables"),X(p,"class","sidebar svelte-158qyxg"),X(t,"class","schema-overview svelte-158qyxg"),se(t,"has-tables",e[6])},m(e,d){H(e,t,d),F(t,n),F(n,r),F(r,o),F(o,s),F(r,a),F(r,i),it(l,i,null),F(n,c),v[u].m(n,null),F(t,$),F(t,p),it(m,p,null),F(p,f),it(g,p,null),h=!0},p(e,[r]){(!h||8192&r)&&y!==(y=e[13]("tables")+"")&&Q(s,y);const o={};32&r&&(o.database=e[5].database),32&r&&(o.schema=e[5]),16&r&&(o.onCreateEmptyTable=e[4]),l.$set(o);let a=u;u=w(e),u===a?v[u].p(e,r):(qe(),Ue(v[a],1,1,(()=>{v[a]=null})),Be(),d=v[u],d?d.p(e,r):(d=v[u]=b[u](e),d.c()),je(d,1),d.m(n,null));const i={};512&r&&(i.isLoading=e[9]),8&r&&(i.hasError="failure"===e[3].state),2109610&r&&(i.$$scope={dirty:r,ctx:e}),m.$set(i),(!h||64&r)&&se(t,"has-tables",e[6])},i(e){h||(je(l.$$.fragment,e),je(d),je(m.$$.fragment,e),je(g.$$.fragment,e),h=!0)},o(e){Ue(l.$$.fragment,e),Ue(d),Ue(m.$$.fragment,e),Ue(g.$$.fragment,e),h=!1},d(e){e&&z(t),lt(l),v[u].d(),lt(m),lt(g)}}}function wwe(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,b=a,v=a;y(e,no,(e=>n(13,f=e))),e.$$.on_destroy.push((()=>b())),e.$$.on_destroy.push((()=>v()));const w=IU.get();y(e,w,(e=>n(18,m=e)));let{tablesMap:_}=t,{explorationsMap:x}=t,{tablesRequestStatus:C}=t,{explorationsRequestStatus:S}=t,{onCreateEmptyTable:k}=t;return e.$$set=e=>{"tablesMap"in e&&n(0,_=e.tablesMap),"explorationsMap"in e&&n(1,x=e.explorationsMap),"tablesRequestStatus"in e&&n(2,C=e.tablesRequestStatus),"explorationsRequestStatus"in e&&n(3,S=e.explorationsRequestStatus),"onCreateEmptyTable"in e&&n(4,k=e.onCreateEmptyTable)},e.$$.update=()=>{262144&e.$$.dirty&&n(5,({schema:r,dataFormsFetch:o}=m),r,(n(16,o),n(18,m))),65536&e.$$.dirty&&o.runConservatively(),1&e.$$.dirty&&n(6,s=_.size>0),2&e.$$.dirty&&n(12,i=x.size>0),32&e.$$.dirty&&(n(11,({currentRolePrivileges:l}=r.currentAccess),l),b(),b=g(l,(e=>n(17,p=e)))),131136&e.$$.dirty&&n(10,c=!s&&p.has("CREATE")),8&e.$$.dirty&&n(9,u="processing"===S.state),32&e.$$.dirty&&(n(8,({tableCount:d}=r),d),v(),v=g(d,(e=>n(14,h=e)))),32&e.$$.dirty&&n(7,$=rI(r.database.id,r.oid))},[_,x,C,S,k,r,s,$,d,u,c,l,i,f,h,w,o,p,m,()=>fH(),async()=>{await RU()}]}class _we extends ut{constructor(e){super(),ct(this,e,wwe,vwe,f,{tablesMap:0,explorationsMap:1,tablesRequestStatus:2,explorationsRequestStatus:3,onCreateEmptyTable:4})}}function xwe(e){let t,n;return t=new bx({props:{$$slots:{default:[Cwe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};131088&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Cwe(e){let t;return{c(){t=j(e[4])},m(e,n){H(e,t,n)},p(e,n){16&n&&Q(t,e[4])},d(e){e&&z(t)}}}function Swe(e){let t,n,r="schemaName"===e[16]&&xwe(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"schemaName"===e[16]?r?(r.p(e,n),65536&n&&je(r,1)):(r=xwe(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function kwe(e){let t,n,r,o,s,a,i,l,c,u=e[3]("schema_permissions_help_1")+"",d=e[3]("schema_permissions_help_2")+"";return l=new JP({props:{page:"schemaPermissions"}}),{c(){t=q("p"),n=j(u),r=U(),o=q("p"),s=j(d),a=U(),i=q("p"),at(l.$$.fragment)},m(e,u){H(e,t,u),F(t,n),H(e,r,u),H(e,o,u),F(o,s),H(e,a,u),H(e,i,u),it(l,i,null),c=!0},p(e,t){(!c||8&t)&&u!==(u=e[3]("schema_permissions_help_1")+"")&&Q(n,u),(!c||8&t)&&d!==(d=e[3]("schema_permissions_help_2")+"")&&Q(s,d)},i(e){c||(je(l.$$.fragment,e),c=!0)},o(e){Ue(l.$$.fragment,e),c=!1},d(e){e&&z(t),e&&z(r),e&&z(o),e&&z(a),e&&z(i),lt(l)}}}function Mwe(e){let t,n,r,o,s;return n=new Rx({props:{text:e[3]("permissions_for_named_schema"),$$slots:{default:[Swe,({slotName:e})=>({16:e}),({slotName:e})=>e?65536:0]},$$scope:{ctx:e}}}),o=new H$({props:{$$slots:{default:[kwe]},$$scope:{ctx:e}}}),{c(){t=q("span"),at(n.$$.fragment),r=U(),at(o.$$.fragment),X(t,"slot","title")},m(e,a){H(e,t,a),it(n,t,null),F(t,r),it(o,t,null),s=!0},p(e,t){const r={};8&t&&(r.text=e[3]("permissions_for_named_schema")),196624&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};131080&t&&(s.$$scope={dirty:t,ctx:e}),o.$set(s)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(n),lt(o)}}}function Iwe(e){let t,n;return t=new Sne({props:{slot:"share",controller:e[0],accessControlConfig:e[6],storeValues:e[15],savePrivilegesForRoles:e[8]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.controller=e[0]),32768&n&&(r.storeValues=e[15]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Twe(e){let t,n;return t=new Ine({props:{slot:"transfer-ownership",controller:e[0],transferOwnership:e[9],storeValues:e[15]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.controller=e[0]),32768&n&&(r.storeValues=e[15]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Ewe(e){let t,n;return t=new Tte({props:{controller:e[0],getAsyncStores:e[7],onClose:e[12],$$slots:{"transfer-ownership":[Twe,({storeValues:e})=>({15:e}),({storeValues:e})=>e?32768:0],share:[Iwe,({storeValues:e})=>({15:e}),({storeValues:e})=>e?32768:0],title:[Mwe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.controller=e[0]),2&n&&(r.onClose=e[12]),163865&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Dwe(e,t,n){let r,o,s,i,l,c,u,d=a;y(e,no,(e=>n(3,l=e))),e.$$.on_destroy.push((()=>d()));let{controller:$}=t,{schema:p}=t;const m=C9.get();y(e,m,(e=>n(11,c=e)));const f={allPrivileges:[{id:"USAGE",help:l("schema_privilege_usage_help")},{id:"CREATE",help:l("schema_privilege_create_help")}],access:{levels:[{id:"read",privileges:new Set(["USAGE"]),name:l("read"),help:l("schema_access_read_help")},{id:"read_and_create",privileges:new Set(["USAGE","CREATE"]),name:l("read_and_create"),help:l("schema_access_create_help")}],default:"read"}};return e.$$set=e=>{"controller"in e&&n(0,$=e.controller),"schema"in e&&n(10,p=e.schema)},e.$$.update=()=>{1024&e.$$.dirty&&n(1,r=p.constructSchemaPrivilegesStore()),1024&e.$$.dirty&&(n(2,o=p.name),d(),d=g(o,(e=>n(4,u=e)))),2048&e.$$.dirty&&({roles:s,currentRole:i}=c)},[$,r,o,l,u,m,f,function(){return qF.runBatchConservatively([r.batchRunner(),s.batchRunner(),i.batchRunner()]),{roles:s,privilegesForRoles:r,permissionsMetaData:$t(new zF({isLoading:!1,settlement:{state:"resolved",value:p}})),currentRole:i}},async function(e){const t=await PM.schemas.privileges.replace_for_roles({database_id:p.database.id,schema_oid:p.oid,privileges:e}).run();r.updateResolvedValue((()=>new ao(t.map((e=>[e.role_oid,e]))))),WS.success(l("access_for_roles_saved_successfully"))},async function(e){await p.updateOwner(e),WS.success(l("schema_ownership_updated_successfully"))},p,c,()=>r.reset()]}class Owe extends ut{constructor(e){super(),ct(this,e,Dwe,Ewe,f,{controller:0,schema:10})}}function Nwe(e){let t,n;return t=new _we({props:{tablesRequestStatus:e[5],tablesMap:e[7],explorationsMap:e[6],explorationsRequestStatus:e[4],onCreateEmptyTable:e[22]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.tablesRequestStatus=e[5]),128&n&&(r.tablesMap=e[7]),64&n&&(r.explorationsMap=e[6]),16&n&&(r.explorationsRequestStatus=e[4]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Awe(e){let t,n,r,o,s,a=e[9]("rename_schema")+"";const i=[Xx];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return t=new Jd({props:c}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(a)},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),F(r,o),s=!0},p(e,n){const r=0&n?rt(i,[ot(Xx)]):{};t.$set(r),(!s||512&n)&&a!==(a=e[9]("rename_schema")+"")&&Q(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function Rwe(e){let t,n,r,o,s,a=e[9]("schema_permissions")+"";const i=[iS];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return t=new Jd({props:c}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(a)},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),F(r,o),s=!0},p(e,n){const r=0&n?rt(i,[ot(iS)]):{};t.$set(r),(!s||512&n)&&a!==(a=e[9]("schema_permissions")+"")&&Q(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function Fwe(e){let t,n,r,o,s;return n=new Hu({props:{appearance:"secondary",disabled:!e[11],$$slots:{default:[Awe]},$$scope:{ctx:e}}}),n.$on("click",e[16]),o=new Hu({props:{appearance:"secondary",$$slots:{default:[Rwe]},$$scope:{ctx:e}}}),o.$on("click",e[21]),{c(){t=q("div"),at(n.$$.fragment),r=U(),at(o.$$.fragment),X(t,"slot","action"),X(t,"class","action-buttons svelte-1ukm8hi")},m(e,a){H(e,t,a),it(n,t,null),F(t,r),it(o,t,null),s=!0},p(e,t){const r={};2048&t&&(r.disabled=!e[11]),8389120&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};8389120&t&&(s.$$scope={dirty:t,ctx:e}),o.$set(s)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(n),lt(o)}}}function Pwe(e){let t,n;return{c(){t=q("span"),n=j(e[10]),X(t,"class","description svelte-1ukm8hi")},m(e,r){H(e,t,r),F(t,n)},p(e,t){1024&t&&Q(n,e[10])},d(e){e&&z(t)}}}function Lwe(e){let t,n=e[10]&&Pwe(e);return{c(){n&&n.c(),t=W()},m(e,r){n&&n.m(e,r),H(e,t,r)},p(e,r){e[10]?n?n.p(e,r):(n=Pwe(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&z(t)}}}function Hwe(e){let t,n,r;return n=new Z2({props:{name:e[8],icon:VC,entityTypeName:e[9]("schema"),$$slots:{bottom:[Lwe],action:[Fwe]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"slot","secondary-header"),X(t,"class","schema-page-header svelte-1ukm8hi")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};256&t&&(r.name=e[8]),512&t&&(r.entityTypeName=e[9]("schema")),8392192&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function zwe(e){let t,n,r,o,s,a,i,l,c,u;return document.title=t=zK(e[8]),r=new TK({props:{restrictWidth:!0,cssVariables:{"--max-layout-width":"var(--max-layout-width-console-pages)"},$$slots:{"secondary-header":[Hwe],default:[Nwe]},$$scope:{ctx:e}}}),s=new Ire({props:{controller:e[13],database:e[0].database,schema:e[0]}}),i=new Kle({props:{controller:e[14],schema:e[0],existingTableNames:new Set(gc(Vwe,e[7].values()))}}),c=new Owe({props:{controller:e[15],schema:e[0]}}),{c(){n=U(),at(r.$$.fragment),o=U(),at(s.$$.fragment),a=U(),at(i.$$.fragment),l=U(),at(c.$$.fragment)},m(e,t){H(e,n,t),it(r,e,t),H(e,o,t),it(s,e,t),H(e,a,t),it(i,e,t),H(e,l,t),it(c,e,t),u=!0},p(e,[n]){(!u||256&n)&&t!==(t=zK(e[8]))&&(document.title=t);const o={};8392688&n&&(o.$$scope={dirty:n,ctx:e}),r.$set(o);const a={};1&n&&(a.database=e[0].database),1&n&&(a.schema=e[0]),s.$set(a);const l={};1&n&&(l.schema=e[0]),128&n&&(l.existingTableNames=new Set(gc(Vwe,e[7].values()))),i.$set(l);const d={};1&n&&(d.schema=e[0]),c.$set(d)},i(e){u||(je(r.$$.fragment,e),je(s.$$.fragment,e),je(i.$$.fragment,e),je(c.$$.fragment,e),u=!0)},o(e){Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),Ue(i.$$.fragment,e),Ue(c.$$.fragment,e),u=!1},d(e){e&&z(n),lt(r,e),e&&z(o),lt(s,e),e&&z(a),lt(i,e),e&&z(l),lt(c,e)}}}const Vwe=e=>e.name;function qwe(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,b,v,w,_=a,x=a,C=a;y(e,zU,(e=>n(18,p=e))),y(e,_H,(e=>n(19,m=e))),y(e,no,(e=>n(9,b=e))),e.$$.on_destroy.push((()=>_())),e.$$.on_destroy.push((()=>x())),e.$$.on_destroy.push((()=>C()));const S=IU.get();y(e,S,(e=>n(20,f=e)));const k=US.spawnModalController(),M=US.spawnModalController(),I=US.spawnModalController();return e.$$.update=()=>{1048576&e.$$.dirty&&n(0,({schema:r}=f),r),524288&e.$$.dirty&&n(7,o=m.tablesMap),262144&e.$$.dirty&&n(6,s=p.data),524288&e.$$.dirty&&n(5,i=m.requestStatus),262144&e.$$.dirty&&n(4,l=p.requestStatus),1&e.$$.dirty&&(n(3,({name:c,description:u,currentAccess:d}=r),c,(n(2,u),x(),x=g(u,(e=>n(10,v=e))),u),(n(17,d),n(0,r),n(20,f))),_(),_=g(c,(e=>n(8,h=e)))),131072&e.$$.dirty&&(n(1,({currentRoleOwns:$}=d),$),C(),C=g($,(e=>n(11,w=e))))},[r,$,u,c,l,i,s,o,h,b,v,w,S,k,M,I,function(){k.open()},d,p,m,f,()=>I.open(),()=>M.open()]}class Bwe extends ut{constructor(e){super(),ct(this,e,qwe,zwe,f,{})}}function jwe(e,t,n){let{database:r}=t,{schema:o}=t,{query:s}=t;return fe((()=>{Yz.goto(oI(r.id,o.oid,s.id))})),e.$$set=e=>{"database"in e&&n(0,r=e.database),"schema"in e&&n(1,o=e.schema),"query"in e&&n(2,s=e.query)},[r,o,s]}class Uwe extends ut{constructor(e){super(),ct(this,e,jwe,null,f,{database:0,schema:1,query:2})}}function Wwe(e){let t,n;return t=new vve({props:{queryManager:e[0]}}),t.$on("delete",e[4]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.queryManager=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Ywe(e){let t,n,r,o;return document.title=t=zK(e[2].name??e[3]("data_explorer")),r=new TK({props:{fitViewport:!0,$$slots:{default:[Wwe]},$$scope:{ctx:e}}}),{c(){n=U(),at(r.$$.fragment)},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,[n]){(!o||12&n)&&t!==(t=zK(e[2].name??e[3]("data_explorer")))&&(document.title=t);const s={};129&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function Kwe(e,t,n){let r,o,s,i=a;y(e,no,(e=>n(3,s=e))),e.$$.on_destroy.push((()=>i()));let{database:l}=t,{schema:c}=t,{queryManager:u}=t;return e.$$set=e=>{"database"in e&&n(5,l=e.database),"schema"in e&&n(6,c=e.schema),"queryManager"in e&&n(0,u=e.queryManager)},e.$$.update=()=>{1&e.$$.dirty&&(n(1,({query:r}=u),r),i(),i=g(r,(e=>n(2,o=e))))},[u,r,o,s,function(){Yz.goto(JM(l.id,c.oid))},l,c]}class Gwe extends ut{constructor(e){super(),ct(this,e,Kwe,Ywe,f,{database:5,schema:6,queryManager:0})}}function Xwe(e){let t,n;return t=new z6({props:{item:{type:"simple",href:rI(e[0].id,e[1].oid),label:e[6]("data_explorer"),icon:DC}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};67&n&&(r.item={type:"simple",href:rI(e[0].id,e[1].oid),label:e[6]("data_explorer"),icon:DC}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Zwe(e){let t,n,r,o;const s=[Qwe,Jwe],a=[];function i(e,t){return e[5].name?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function Jwe(e){let t,n;return t=new z6({props:{item:{type:"simple",href:oI(e[0].id,e[1].oid,e[5].id),label:e[6]("data_explorer"),icon:DC}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};99&n&&(r.item={type:"simple",href:oI(e[0].id,e[1].oid,e[5].id),label:e[6]("data_explorer"),icon:DC}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Qwe(e){let t,n;return t=new z6({props:{item:{type:"exploration",database:e[0],schema:e[1],query:{id:e[5].id,name:e[5].name}}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};35&n&&(r.item={type:"exploration",database:e[0],schema:e[1],query:{id:e[5].id,name:e[5].name}}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function e_e(e){let t,n;return t=new RK({props:{$$slots:{default:[n_e]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};32832&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function t_e(e){let t,n;return t=new Gwe({props:{queryManager:e[3],database:e[0],schema:e[1]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.queryManager=e[3]),1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function n_e(e){let t,n=e[6]("exploration_not_found")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){64&r&&n!==(n=e[6]("exploration_not_found")+"")&&Q(t,n)},d(e){e&&z(t)}}}function r_e(e){let t,n,r,o,s,a,i;const l=[Zwe,Xwe],c=[];function u(e,t){return e[5]?.id?0:1}t=u(e),n=c[t]=l[t](e);const d=[t_e,e_e],$=[];function p(e,t){return e[3]?0:e[2]?1:-1}return~(o=p(e))&&(s=$[o]=d[o](e)),{c(){n.c(),r=U(),s&&s.c(),a=W()},m(e,n){c[t].m(e,n),H(e,r,n),~o&&$[o].m(e,n),H(e,a,n),i=!0},p(e,[i]){let m=t;t=u(e),t===m?c[t].p(e,i):(qe(),Ue(c[m],1,1,(()=>{c[m]=null})),Be(),n=c[t],n?n.p(e,i):(n=c[t]=l[t](e),n.c()),je(n,1),n.m(r.parentNode,r));let f=o;o=p(e),o===f?~o&&$[o].p(e,i):(s&&(qe(),Ue($[f],1,1,(()=>{$[f]=null})),Be()),~o?(s=$[o],s?s.p(e,i):(s=$[o]=d[o](e),s.c()),je(s,1),s.m(a.parentNode,a)):s=null)},i(e){i||(je(n),je(s),i=!0)},o(e){Ue(n),Ue(s),i=!1},d(e){c[t].d(e),e&&z(r),~o&&$[o].d(e),e&&z(a)}}}function o_e(e,t,n){let r,o,s,i=a,l=()=>(i(),i=g(f,(e=>n(5,o=e))),f);y(e,Yz,(e=>n(9,r=e))),y(e,no,(e=>n(6,s=e))),e.$$.on_destroy.push((()=>i()));let c,u,{database:d}=t,{schema:$}=t,{queryId:p}=t,m=!1,f=$t(void 0);function h(e){c?.destroy(),n(3,c=new epe({query:new Q$e(e),onSave:async e=>{try{const t=oI(d.id,$.oid,e.id);Yz.goto(t,!0)}catch(t){console.error("There was an error when updating the URL",t)}}})),l(n(4,f=c.query)),n(2,m=!1)}function b(){c?.destroy(),n(2,m=!0),l(n(4,f=$t(void 0))),n(3,c=void 0)}function v(){if(c&&void 0===c.getQueryModel().id)return;const{hash:e}=r;if(e)try{const t=function(e){const t=JSON.parse(UM.decode(e));if(!t.databaseId)return;if(!t.baseTable)return;if(!t.schemaOid)return;const{baseTable:n,databaseId:r,schemaOid:o}=t;let s=[],a=[];if(!t.terseGrouping?.length||!t.columns)return{database_id:r,schema_oid:o,base_table_oid:n.oid};const i=new Map(t.columns.map((e=>[e.id,e]))),l=t.terseGrouping.filter((e=>i.has(e[0]))),c=l.map((e=>i.get(e[0]))).filter((e=>void 0!==e));if(0===c.length)return{database_id:r,schema_oid:o,base_table_oid:n.oid};const u=c[0],d=l[0][1],$=t.columns.find((e=>!c.includes(e))),p=$?[$]:[];s=[...c,...p].map((e=>({alias:e.name,attnum:e.id})));const m=c.map(((e,t)=>({input_alias:e.name,output_alias:`${e.name}_grouped`,preproc:0===t?d:void 0}))),f=p.map((e=>({input_alias:e.name,output_alias:`${n.name}_agged`,function:"count"})));a=[{type:"summarize",spec:{base_grouping_column:u.name,grouping_expressions:m,aggregation_expressions:f}}];const g=m.reduce(((e,t)=>({...e,[t.output_alias]:`${t.input_alias} group`})),{}),h=f.reduce(((e,t)=>({...e,[t.output_alias]:`${n.name} count`})),g);return{database_id:r,schema_oid:o,base_table_oid:n.oid,initial_columns:s,transformations:a,display_names:h}}(e);return Yz.location.hash.clear(),void h({database_id:d.id,schema_oid:$.oid,...t??{}})}catch{console.error("Unable to create query model from hash",e)}h({database_id:d.id,schema_oid:$.oid})}async function w(e){if(Number.isNaN(e))b();else if(!c||c.getQueryModel().id!==e){u?.cancel(),u=function(e){return PM.explorations.get({exploration_id:e}).run()}(e);try{h(await u)}catch{b()}}}return l(),e.$$set=e=>{"database"in e&&n(0,d=e.database),"schema"in e&&n(1,$=e.schema),"queryId"in e&&n(7,p=e.queryId)},e.$$.update=()=>{var t;128&e.$$.dirty&&((t=p)?w(t):v())},[d,$,m,c,f,o,s,p]}class s_e extends ut{constructor(e){super(),ct(this,e,o_e,r_e,f,{database:0,schema:1,queryId:7})}}const a_e=Symbol("dataform route store");class i_e{constructor(t,n){e(this,"schemaRouteContext",void 0),e(this,"dataForm",void 0),e(this,"rawDataFormWithSource",void 0),this.schemaRouteContext=t,this.dataForm=n,this.rawDataFormWithSource=new VF((e=>PM.forms.get_source_info({form_token:e.token}).run().transformResolved((t=>({rawDataForm:e,rawFormSource:t})))))}static construct(e,t){return SU(a_e,new i_e(e,t))}static get(){return kU(a_e)}}function l_e(e){let t,n=e[5]("share_form_help")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){32&r&&n!==(n=e[5]("share_form_help")+"")&&Q(t,n)},d(e){e&&z(t)}}}function c_e(e){let t,n=e[5]("form_is_shared_publicly")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){32&r&&n!==(n=e[5]("form_is_shared_publicly")+"")&&Q(t,n)},d(e){e&&z(t)}}}function u_e(e){let t,n;return t=new cV({props:{$$slots:{default:[d_e]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};262176&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function d_e(e){let t,n,r,o=e[5]("form_has_unsaved_changes")+"",s=e[5]("save_form_changes_to_modify_sharing_settings")+"";return{c(){t=j(o),n=U(),r=j(s)},m(e,o){H(e,t,o),H(e,n,o),H(e,r,o)},p(e,n){32&n&&o!==(o=e[5]("form_has_unsaved_changes")+"")&&Q(t,o),32&n&&s!==(s=e[5]("save_form_changes_to_modify_sharing_settings")+"")&&Q(r,s)},d(e){e&&z(t),e&&z(n),e&&z(r)}}}function $_e(e){let t,n,r;return n=new l$({props:{disabled:e[7],appearance:"default",onClick:e[9],label:e[5]("create_public_link")}}),{c(){t=q("div"),at(n.$$.fragment)},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};128&t&&(r.disabled=e[7]),32&t&&(r.label=e[5]("create_public_link")),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function p_e(e){let t,n,r,o;t=new $m({props:{$$slots:{default:[f_e]},$$scope:{ctx:e}}});let s=!e[7]&&g_e(e);return{c(){at(t.$$.fragment),n=U(),s&&s.c(),r=W()},m(e,a){it(t,e,a),H(e,n,a),s&&s.m(e,a),H(e,r,a),o=!0},p(e,n){const o={};262147&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o),e[7]?s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be()):s?(s.p(e,n),128&n&&je(s,1)):(s=g_e(e),s.c(),je(s,1),s.m(r.parentNode,r))},i(e){o||(je(t.$$.fragment,e),je(s),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(s),o=!1},d(e){lt(t,e),e&&z(n),s&&s.d(e),e&&z(r)}}}function m_e(e){let t,n;const r=[Yx];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[ot(Yx)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function f_e(e){let t,n,r,o,s,a,i,c;function u(t){e[15](t)}let d={readonly:!0,value:e[1]};void 0!==e[0]&&(d.element=e[0]),t=new ym({props:d}),Ce.push((()=>st(t,"element",u))),o=new Hu({props:{appearance:"secondary",$$slots:{default:[m_e]},$$scope:{ctx:e}}}),o.$on("click",e[8]);const $=[vC];let p={};for(let m=0;m<$.length;m+=1)p=l(p,$[m]);return i=new Jd({props:p}),{c(){at(t.$$.fragment),r=U(),at(o.$$.fragment),s=U(),a=q("a"),at(i.$$.fragment),X(a,"class","btn btn-secondary"),X(a,"target","_blank"),X(a,"href",e[1])},m(e,n){it(t,e,n),H(e,r,n),it(o,e,n),H(e,s,n),H(e,a,n),it(i,a,null),c=!0},p(e,r){const s={};2&r&&(s.value=e[1]),!n&&1&r&&(n=!0,s.element=e[0],Oe((()=>n=!1))),t.$set(s);const l={};262144&r&&(l.$$scope={dirty:r,ctx:e}),o.$set(l);const u=0&r?rt($,[ot(vC)]):{};i.$set(u),(!c||2&r)&&X(a,"href",e[1])},i(e){c||(je(t.$$.fragment,e),je(o.$$.fragment,e),je(i.$$.fragment,e),c=!0)},o(e){Ue(t.$$.fragment,e),Ue(o.$$.fragment,e),Ue(i.$$.fragment,e),c=!1},d(e){lt(t,e),e&&z(r),lt(o,e),e&&z(s),e&&z(a),lt(i)}}}function g_e(e){let t,n,r,o,s;return n=new l$({props:{appearance:"secondary",onClick:e[10],label:e[5]("regenerate_link")}}),o=new l$({props:{appearance:"secondary",onClick:e[11],label:e[5]("disable_link")}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),at(o.$$.fragment),X(t,"class","share-control-options svelte-1l21m79")},m(e,a){H(e,t,a),it(n,t,null),F(t,r),it(o,t,null),s=!0},p(e,t){const r={};32&t&&(r.label=e[5]("regenerate_link")),n.$set(r);const s={};32&t&&(s.label=e[5]("disable_link")),o.$set(s)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(n),lt(o)}}}function h_e(e){let t,n,r,o,s,a,i,l;function c(e,t){return e[6].isPublishedPublicly?c_e:l_e}let u=c(e),d=u(e),$=e[7]&&u_e(e);const p=[p_e,$_e],m=[];function f(e,t){return e[6].isPublishedPublicly?0:1}return a=f(e),i=m[a]=p[a](e),{c(){t=q("div"),n=q("div"),d.c(),r=U(),o=q("div"),$&&$.c(),s=U(),i.c(),X(n,"class","description svelte-1l21m79"),X(o,"class","content svelte-1l21m79"),X(t,"class","share-container svelte-1l21m79")},m(e,i){H(e,t,i),F(t,n),d.m(n,null),F(t,r),F(t,o),$&&$.m(o,null),F(o,s),m[a].m(o,null),l=!0},p(e,[t]){u===(u=c(e))&&d?d.p(e,t):(d.d(1),d=u(e),d&&(d.c(),d.m(n,null))),e[7]?$?($.p(e,t),128&t&&je($,1)):($=u_e(e),$.c(),je($,1),$.m(o,s)):$&&(qe(),Ue($,1,1,(()=>{$=null})),Be());let r=a;a=f(e),a===r?m[a].p(e,t):(qe(),Ue(m[r],1,1,(()=>{m[r]=null})),Be(),i=m[a],i?i.p(e,t):(i=m[a]=p[a](e),i.c()),je(i,1),i.m(o,null))},i(e){l||(je($),je(i),l=!0)},o(e){Ue($),Ue(i),l=!1},d(e){e&&z(t),d.d(),$&&$.d(),m[a].d()}}}function y_e(e,t,n){let r,o,s,i,l,c,u,d,$=a,p=a,m=a;y(e,no,(e=>n(5,l=e))),e.$$.on_destroy.push((()=>$())),e.$$.on_destroy.push((()=>p())),e.$$.on_destroy.push((()=>m()));const f=ve("dropdownAccompanyingElements");let h,{dataForm:b}=t,{dataFormManager:v}=t;function w(){const e=document.querySelector(`[data-modal-id='${GS.modal.modalId}']`);return f&&e?f.add(e):()=>{}}return e.$$set=e=>{"dataForm"in e&&n(12,b=e.dataForm),"dataFormManager"in e&&n(13,v=e.dataFormManager)},e.$$.update=()=>{4096&e.$$.dirty&&(n(4,({sharePreferences:r,token:o}=b),r,(n(3,o),$(),$=g(o,(e=>n(14,c=e))),o)),p(),p=g(r,(e=>n(6,u=e)))),8192&e.$$.dirty&&(n(2,({hasChanges:s}=v),s),m(),m=g(s,(e=>n(7,d=e)))),16384&e.$$.dirty&&n(1,i=`${window.location.origin}${lI(c)}`)},[h,i,s,o,r,l,u,d,async function(){if(h&&i){h.select();try{await navigator.clipboard.writeText(i)}catch{document.execCommand("copy")}WS.info(l("link_copied"))}},async function(){try{await b.updateSharingPreferences(!0)}catch(e){WS.error(fM.fromAnything(e))}},async function(){const e=KS({title:l("remove_old_link_create_new"),body:[l("new_link_wont_work_once_regenerated"),l("are_you_sure_to_proceed")],proceedButton:{label:l("regenerate_link"),icon:void 0}});await Ee();const t=w(),n=await e;if(t(),n)try{await b.regenerateToken(),WS.success(l("link_successfully_regenerated"))}catch(r){WS.error(fM.fromAnything(r))}},async function(){const e=KS({title:l("disable_link_question"),body:l("are_you_sure_to_proceed"),proceedButton:{label:l("disable_link"),icon:void 0}});await Ee();const t=w(),n=await e;if(t(),n)try{await b.updateSharingPreferences(!1)}catch(r){WS.error(fM.fromAnything(r))}},b,v,c,function(e){h=e,n(0,h)}]}class b_e extends ut{constructor(e){super(),ct(this,e,y_e,h_e,f,{dataForm:12,dataFormManager:13})}}function v_e(e){let t,n,r,o,s,a=e[5]("share")+"";const i=[bC];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return t=new Jd({props:c}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(a),X(r,"class","responsive-button-label")},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),F(r,o),s=!0},p(e,n){const r=0&n?rt(i,[ot(bC)]):{};t.$set(r),(!s||32&n)&&a!==(a=e[5]("share")+"")&&Q(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function w_e(e){let t,n,r,o,s,a=e[5]("shared_publicly")+"";const i=[IS];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return t=new Jd({props:c}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(a),X(r,"class","responsive-button-label")},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),F(r,o),s=!0},p(e,n){const r=0&n?rt(i,[ot(IS)]):{};t.$set(r),(!s||32&n)&&a!==(a=e[5]("shared_publicly")+"")&&Q(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function __e(e){let t,n,r,o;const s=[w_e,v_e],a=[];function i(e,t){return e[8].isPublishedPublicly?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function x_e(e){let t,n;return t=new b_e({props:{dataForm:e[1],dataFormManager:e[0]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.dataForm=e[1]),1&n&&(r.dataFormManager=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function C_e(e){let t,n,r,o,s,a;return t=new qde({props:{onSave:e[11],canSave:e[7]}}),r=new _f({props:{showArrow:!1,triggerAppearance:"secondary",ariaLabel:e[5]("share"),$$slots:{content:[x_e],trigger:[__e]},$$scope:{ctx:e}}}),s=new Fde({props:{active:e[9],toggle:e[12]}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),at(s.$$.fragment)},m(e,i){it(t,e,i),H(e,n,i),it(r,e,i),H(e,o,i),it(s,e,i),a=!0},p(e,n){const o={};128&n&&(o.canSave=e[7]),t.$set(o);const a={};32&n&&(a.ariaLabel=e[5]("share")),33059&n&&(a.$$scope={dirty:n,ctx:e}),r.$set(a);const i={};512&n&&(i.active=e[9]),s.$set(i)},i(e){a||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),a=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),a=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),lt(s,e)}}}function S_e(e){let t,n;return t=new Ode({props:{title:{name:e[6].name||e[5]("untitled"),icon:RC},cssVariables:{"--icon-fill-color":"linear-gradient(135deg, var(--color-data-form), var(--color-data-form-60))","--icon-stroke-color":"var(--color-fg-inverted)"},$$slots:{"actions-right":[C_e]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};96&n&&(r.title={name:e[6].name||e[5]("untitled"),icon:RC}),33699&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function k_e(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f=a,h=a,b=a;y(e,no,(e=>n(5,c=e))),y(e,lM,(e=>n(9,m=e))),e.$$.on_destroy.push((()=>f())),e.$$.on_destroy.push((()=>h())),e.$$.on_destroy.push((()=>b()));const v=i_e.get();y(e,v,(e=>n(13,u=e)));let{dataFormManager:w}=t;return e.$$set=e=>{"dataFormManager"in e&&n(0,w=e.dataFormManager)},e.$$.update=()=>{8192&e.$$.dirty&&n(1,({dataForm:r}=u),r),1&e.$$.dirty&&(n(4,({hasChanges:o,dataFormStructure:s}=w),o),h(),h=g(o,(e=>n(7,$=e)))),2&e.$$.dirty&&(n(3,({structure:i,sharePreferences:l}=r),i,(n(2,l),b(),b=g(l,(e=>n(8,p=e))),l)),f(),f=g(i,(e=>n(6,d=e))))},[w,r,l,i,o,c,d,$,p,m,v,async function(){let e=Promise.resolve(!0);if(s.hasErrorFields()&&(e=KS({title:c("saving_will_remove_fields_with_errors"),body:[c("form_contains_fields_with_errors"),c("are_you_sure_to_proceed")],proceedButton:{label:c("save"),icon:void 0}})),await e)try{await r.updateStructure(w.dataFormStructure.toRawStructure({withoutErrorFields:!0}))}catch(t){WS.error(fM.fromAnything(t).message)}},function(){lM.update((e=>!e))},u]}class M_e extends ut{constructor(e){super(),ct(this,e,k_e,S_e,f,{dataFormManager:0})}}function I_e(e){let t,n;return t=new hL({props:{errors:e[1].error?[e[1].error]:[],showFallbackError:!0}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.errors=e[1].error?[e[1].error]:[]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function T_e(e){let t,n,r;return n=new t$({}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","loader svelte-fwmufz")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p:a,i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function E_e(e){let t,n,r,o,s;return n=new M_e({props:{dataFormManager:e[3]}}),o=new d2({props:{dataFormManager:e[3]}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),at(o.$$.fragment),X(t,"class","actions-pane")},m(e,a){H(e,t,a),it(n,t,null),H(e,r,a),it(o,e,a),s=!0},p(e,t){const r={};8&t&&(r.dataFormManager=e[3]),n.$set(r);const s={};8&t&&(s.dataFormManager=e[3]),o.$set(s)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(n),e&&z(r),lt(o,e)}}}function D_e(e){let t,n,r,o;const s=[E_e,T_e,I_e],a=[];function i(e,t){return e[3]?0:e[1].isLoading?1:2}return n=i(e),r=a[n]=s[n](e),{c(){t=q("div"),r.c(),X(t,"class","data-form-editor svelte-fwmufz")},m(e,r){H(e,t,r),a[n].m(t,null),o=!0},p(e,o){let l=n;n=i(e),n===l?a[n].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),r=a[n],r?r.p(e,o):(r=a[n]=s[n](e),r.c()),je(r,1),r.m(t,null))},i(e){o||(je(r),o=!0)},o(e){Ue(r),o=!1},d(e){e&&z(t),a[n].d()}}}function O_e(e){let t,n,r,o;return document.title=t=zK(e[2].name),r=new TK({props:{fitViewport:!0,$$slots:{default:[D_e]},$$scope:{ctx:e}}}),{c(){n=U(),at(r.$$.fragment)},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,[n]){(!o||4&n)&&t!==(t=zK(e[2].name))&&(document.title=t);const s={};2058&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function N_e(e,t,n){let r,o,s,i,l,c,u,d,$,p=a,m=a;e.$$.on_destroy.push((()=>p())),e.$$.on_destroy.push((()=>m()));const f=i_e.get();y(e,f,(e=>n(9,$=e)));const h=new E$e(10);return e.$$.update=()=>{512&e.$$.dirty&&n(6,({dataForm:r,rawDataFormWithSource:o,schemaRouteContext:s}=$),r,(n(0,o),p(),p=g(o,(e=>n(1,u=e))),o),(n(7,s),n(9,$))),64&e.$$.dirty&&(n(4,i=r.toRawDataFormStore()),m(),m=g(i,(e=>n(2,d=e)))),5&e.$$.dirty&&o.run(d),2&e.$$.dirty&&n(8,l=u.resolvedValue),448&e.$$.dirty&&n(3,c=l?new uG({buildDataFormStructure:aG.factoryFromRawInfo(l.rawDataForm,new $2(l.rawFormSource)),schema:r.schema,tableStructureCache:h,deleteDataForm:async()=>{const{schema:e}=r;await s.removeDataForm(r),Yz.goto(JM(e.database.id,e.oid))}}):void 0)},[o,u,d,c,i,f,r,s,l,$]}class A_e extends ut{constructor(e){super(),ct(this,e,N_e,O_e,f,{})}}function R_e(e){let t,n;return t=new HK({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function F_e(e){let t,n;return t=new RK({props:{$$slots:{default:[P_e]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2080&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function P_e(e){let t,n=e[5]("page_doesnt_exist")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){32&r&&n!==(n=e[5]("page_doesnt_exist")+"")&&Q(t,n)},d(e){e&&z(t)}}}function L_e(e){let t,n,r,o;return t=new z6({props:{item:{type:"dataForm",dataForm:e[0]}}}),r=new sV({props:{path:"/",$$slots:{default:[H_e]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,s){it(t,e,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){const o={};1&n&&(o.item={type:"dataForm",dataForm:e[0]}),t.$set(o);const s={};2048&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function H_e(e){let t,n;return t=new A_e({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function z_e(e){let t,n,r,o,s=e[4].isLoading&&R_e(),a=!e[0]&&e[4].hasSettled&&F_e(e),i=e[6]&&e[0]&&L_e(e);return{c(){s&&s.c(),t=U(),a&&a.c(),n=U(),i&&i.c(),r=W()},m(e,l){s&&s.m(e,l),H(e,t,l),a&&a.m(e,l),H(e,n,l),i&&i.m(e,l),H(e,r,l),o=!0},p(e,[o]){e[4].isLoading?s?16&o&&je(s,1):(s=R_e(),s.c(),je(s,1),s.m(t.parentNode,t)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be()),!e[0]&&e[4].hasSettled?a?(a.p(e,o),17&o&&je(a,1)):(a=F_e(e),a.c(),je(a,1),a.m(n.parentNode,n)):a&&(qe(),Ue(a,1,1,(()=>{a=null})),Be()),e[6]&&e[0]?i?(i.p(e,o),65&o&&je(i,1)):(i=L_e(e),i.c(),je(i,1),i.m(r.parentNode,r)):i&&(qe(),Ue(i,1,1,(()=>{i=null})),Be())},i(e){o||(je(s),je(a),je(i),o=!0)},o(e){Ue(s),Ue(a),Ue(i),o=!1},d(e){s&&s.d(e),e&&z(t),a&&a.d(e),e&&z(n),i&&i.d(e),e&&z(r)}}}function V_e(e,t,n){let r,o,s,i,l,c,u,d,$,p=a,m=a,f=a;y(e,no,(e=>n(5,d=e))),e.$$.on_destroy.push((()=>p())),e.$$.on_destroy.push((()=>m())),e.$$.on_destroy.push((()=>f()));let{formId:h}=t;const b=IU.get();return y(e,b,(e=>n(9,l=e))),e.$$set=e=>{"formId"in e&&n(8,h=e.formId)},e.$$.update=()=>{512&e.$$.dirty&&(n(3,({dataForms:r,dataFormsFetch:o}=l),r,(n(1,o),m(),m=g(o,(e=>n(4,u=e))),o)),p(),p=g(r,(e=>n(10,c=e)))),2&e.$$.dirty&&o.runConservatively(),1280&e.$$.dirty&&n(0,s=c.get(h)),513&e.$$.dirty&&(n(2,i=s?i_e.construct(l,s):Fo(void 0)),f(),f=g(i,(e=>n(6,$=e))))},[s,o,i,r,u,d,$,b,h,l,c]}class q_e extends ut{constructor(e){super(),ct(this,e,V_e,z_e,f,{formId:8})}}const B_e="/api/db/v0/data_files/";function j_e(e){return vk("POST",B_e,e)}const U_e={addViaUrlToFile:e=>j_e({url:e}),addViaText:e=>j_e({paste:e}),addViaUpload:function(e,t){return wk(B_e,e,t)},get:function(e){return vk("GET",`${B_e}${e}/`)},update:function(e,t){return vk("PATCH",`${B_e}${e}/`,t)}};function W_e(e){let t,n=e[0]("keep_first_row_as_data")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1&r&&n!==(n=e[0]("keep_first_row_as_data")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Y_e(e){let t,n;return t=new OI({props:{icon:yC,truncate:!1,$$slots:{default:[W_e]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};3&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function K_e(e,t,n){let r;return y(e,no,(e=>n(0,r=e))),[r]}class G_e extends ut{constructor(e){super(),ct(this,e,K_e,Y_e,f,{})}}function X_e(e){let t,n=e[0]("take_first_row_as_column_names")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1&r&&n!==(n=e[0]("take_first_row_as_column_names")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Z_e(e){let t,n;return t=new OI({props:{icon:hC,truncate:!1,$$slots:{default:[X_e]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};3&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function J_e(e,t,n){let r;return y(e,no,(e=>n(0,r=e))),[r]}class Q_e extends ut{constructor(e){super(),ct(this,e,J_e,Z_e,f,{})}}function exe(e){let t,n,r;const o=[{boxed:!0},{options:[!0,!1]},{label:e[1]("column_names")},{getRadioLabel:e[3]},e[2]];function s(t){e[4](t)}let a={};for(let i=0;i<o.length;i+=1)a=l(a,o[i]);return void 0!==e[0]&&(a.value=e[0]),t=new fg({props:a}),Ce.push((()=>st(t,"value",s))),t.$on("change",e[5]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,[r]){const s=6&r?rt(o,[o[0],o[1],2&r&&{label:e[1]("column_names")},0&r&&{getRadioLabel:e[3]},4&r&&ot(e[2])]):{};!n&&1&r&&(n=!0,s.value=e[0],Oe((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function txe(e,t,n){const r=["value"];let o,s=S(t,r);y(e,no,(e=>n(1,o=e)));let{value:a=!0}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(2,s=S(t,r)),"value"in e&&n(0,a=e.value)},[a,o,s,e=>e?{component:Q_e}:{component:G_e},function(e){a=e,n(0,a)},function(t){_e.call(this,e,t)}]}class nxe extends ut{constructor(e){super(),ct(this,e,txe,exe,f,{value:0})}}function rxe(e){let t,n,r,o,s,a,i=e[0]("use_text_for_all_columns")+"",l=e[0]("faster_for_large_imports")+"";return{c(){t=j(i),n=U(),r=q("em"),o=j("("),s=j(l),a=j(")")},m(e,i){H(e,t,i),H(e,n,i),H(e,r,i),F(r,o),F(r,s),F(r,a)},p(e,n){1&n&&i!==(i=e[0]("use_text_for_all_columns")+"")&&Q(t,i),1&n&&l!==(l=e[0]("faster_for_large_imports")+"")&&Q(s,l)},d(e){e&&z(t),e&&z(n),e&&z(r)}}}function oxe(e){let t,n;return t=new OI({props:{icon:HS,truncate:!1,$$slots:{default:[rxe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};3&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function sxe(e,t,n){let r;return y(e,no,(e=>n(0,r=e))),[r]}class axe extends ut{constructor(e){super(),ct(this,e,sxe,oxe,f,{})}}function ixe(e){let t,n,r,o,s,a,i=e[0]("pick_best_data_type_column")+"",l=e[0]("slower_for_large_imports")+"";return{c(){t=j(i),n=U(),r=q("em"),o=j("("),s=j(l),a=j(")")},m(e,i){H(e,t,i),H(e,n,i),H(e,r,i),F(r,o),F(r,s),F(r,a)},p(e,n){1&n&&i!==(i=e[0]("pick_best_data_type_column")+"")&&Q(t,i),1&n&&l!==(l=e[0]("slower_for_large_imports")+"")&&Q(s,l)},d(e){e&&z(t),e&&z(n),e&&z(r)}}}function lxe(e){let t,n;return t=new OI({props:{icon:tC,truncate:!1,$$slots:{default:[ixe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};3&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function cxe(e,t,n){let r;return y(e,no,(e=>n(0,r=e))),[r]}class uxe extends ut{constructor(e){super(),ct(this,e,cxe,lxe,f,{})}}function dxe(e){let t,n,r;const o=[{boxed:!0},{options:[!0,!1]},{label:e[1]("column_data_types")},{getRadioLabel:e[3]},e[2]];function s(t){e[4](t)}let a={};for(let i=0;i<o.length;i+=1)a=l(a,o[i]);return void 0!==e[0]&&(a.value=e[0]),t=new fg({props:a}),Ce.push((()=>st(t,"value",s))),t.$on("change",e[5]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,[r]){const s=6&r?rt(o,[o[0],o[1],2&r&&{label:e[1]("column_data_types")},0&r&&{getRadioLabel:e[3]},4&r&&ot(e[2])]):{};!n&&1&r&&(n=!0,s.value=e[0],Oe((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function $xe(e,t,n){const r=["value"];let o,s=S(t,r);y(e,no,(e=>n(1,o=e)));let{value:a=!0}=t;return e.$$set=e=>{t=l(l({},t),C(e)),n(2,s=S(t,r)),"value"in e&&n(0,a=e.value)},[a,o,s,e=>e?{component:uxe}:{component:axe},function(e){a=e,n(0,a)},function(t){_e.call(this,e,t)}]}class pxe extends ut{constructor(e){super(),ct(this,e,$xe,dxe,f,{value:0})}}function mxe(e){let t,n=e[1]("retry")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){2&r&&n!==(n=e[1]("retry")+"")&&Q(t,n)},d(e){e&&z(t)}}}function fxe(e){let t,n,r,o,s,a=e[1]("delete_import")+"";const i=[Kx];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return t=new Jd({props:c}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(a),X(r,"class","svelte-1vz523y")},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),F(r,o),s=!0},p(e,n){const r=0&n?rt(i,[ot(Kx)]):{};t.$set(r),(!s||2&n)&&a!==(a=e[1]("delete_import")+"")&&Q(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function gxe(e){let t,n,r,o,s,a,i,l,c,u,d,$,p,m,f=e[1]("failed_load_preview")+"",g=e[1]("or")+"";return l=new Hu({props:{appearance:"primary",$$slots:{default:[mxe]},$$scope:{ctx:e}}}),l.$on("click",e[3]),p=new Hu({props:{appearance:"danger",$$slots:{default:[fxe]},$$scope:{ctx:e}}}),p.$on("click",e[4]),{c(){t=q("div"),n=j(f),r=U(),o=q("div"),s=j(e[0]),a=U(),i=q("div"),at(l.$$.fragment),c=U(),u=q("span"),d=j(g),$=U(),at(p.$$.fragment),X(t,"class","title svelte-1vz523y"),X(u,"class","svelte-1vz523y"),X(i,"class","buttons svelte-1vz523y")},m(e,f){H(e,t,f),F(t,n),H(e,r,f),H(e,o,f),F(o,s),H(e,a,f),H(e,i,f),it(l,i,null),F(i,c),F(i,u),F(u,d),F(i,$),it(p,i,null),m=!0},p(e,t){(!m||2&t)&&f!==(f=e[1]("failed_load_preview")+"")&&Q(n,f),(!m||1&t)&&Q(s,e[0]);const r={};34&t&&(r.$$scope={dirty:t,ctx:e}),l.$set(r),(!m||2&t)&&g!==(g=e[1]("or")+"")&&Q(d,g);const o={};34&t&&(o.$$scope={dirty:t,ctx:e}),p.$set(o)},i(e){m||(je(l.$$.fragment,e),je(p.$$.fragment,e),m=!0)},o(e){Ue(l.$$.fragment,e),Ue(p.$$.fragment,e),m=!1},d(e){e&&z(t),e&&z(r),e&&z(o),e&&z(a),e&&z(i),lt(l),lt(p)}}}function hxe(e){let t,n;return t=new HP({props:{fullWidth:!0,$$slots:{default:[gxe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};35&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function yxe(e,t,n){let r;y(e,no,(e=>n(1,r=e)));const o=ye();let{error:s}=t;return e.$$set=e=>{"error"in e&&n(0,s=e.error)},[s,r,o,()=>o("retry"),()=>o("delete")]}class bxe extends ut{constructor(e){super(),ct(this,e,yxe,hxe,f,{error:0})}}const vxe=e=>({}),wxe=e=>({});function _xe(e){let t,n,r,o;const s=e[1].header,a=b(s,e,e[0],wxe),i=e[1].default,l=b(i,e,e[0],null);return{c(){t=q("div"),a&&a.c(),n=U(),r=q("div"),l&&l.c(),X(r,"class","section svelte-y38dr"),X(t,"class","inset-page-section")},m(e,s){H(e,t,s),a&&a.m(t,null),F(t,n),F(t,r),l&&l.m(r,null),o=!0},p(e,[t]){a&&a.p&&(!o||1&t)&&_(a,s,e,e[0],o?w(s,e[0],t,vxe):x(e[0]),wxe),l&&l.p&&(!o||1&t)&&_(l,i,e,e[0],o?w(i,e[0],t,null):x(e[0]),null)},i(e){o||(je(a,e),je(l,e),o=!0)},o(e){Ue(a,e),Ue(l,e),o=!1},d(e){e&&z(t),a&&a.d(e),l&&l.d(e)}}}function xxe(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,r]}class Cxe extends ut{constructor(e){super(),ct(this,e,xxe,_xe,f,{})}}const Sxe=e=>({}),kxe=e=>({});function Mxe(e){let t,n;return t=new Cxe({props:{$$slots:{default:[Txe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Ixe(e){let t;const n=e[1].default,r=b(n,e,e[2],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||4&o)&&_(r,n,e,e[2],t?w(n,e[2],o,null):x(e[2]),null)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function Txe(e){let t;const n=e[1].default,r=b(n,e,e[2],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||4&o)&&_(r,n,e,e[2],t?w(n,e[2],o,null):x(e[2]),null)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function Exe(e){let t,n,r,o,s,a,i;const l=e[1].header,c=b(l,e,e[2],kxe),u=[Ixe,Mxe],d=[];function $(e,t){return e[0]?0:1}return s=$(e),a=d[s]=u[s](e),{c(){t=q("div"),n=q("div"),c&&c.c(),r=U(),o=q("div"),a.c(),X(n,"class","header restrict-width svelte-1cbe8ny"),X(o,"class","page restrict-width svelte-1cbe8ny"),X(t,"class","inset-page-layout svelte-1cbe8ny")},m(e,a){H(e,t,a),F(t,n),c&&c.m(n,null),F(t,r),F(t,o),d[s].m(o,null),i=!0},p(e,[t]){c&&c.p&&(!i||4&t)&&_(c,l,e,e[2],i?w(l,e[2],t,Sxe):x(e[2]),kxe);let n=s;s=$(e),s===n?d[s].p(e,t):(qe(),Ue(d[n],1,1,(()=>{d[n]=null})),Be(),a=d[s],a?a.p(e,t):(a=d[s]=u[s](e),a.c()),je(a,1),a.m(o,null))},i(e){i||(je(c,e),je(a),i=!0)},o(e){Ue(c,e),Ue(a),i=!1},d(e){e&&z(t),c&&c.d(e),d[s].d()}}}function Dxe(e,t,n){let{$$slots:r={},$$scope:o}=t,{hasMultipleSections:s=!1}=t;return e.$$set=e=>{"hasMultipleSections"in e&&n(0,s=e.hasMultipleSections),"$$scope"in e&&n(2,o=e.$$scope)},[s,r,o]}class Oxe extends ut{constructor(e){super(),ct(this,e,Dxe,Exe,f,{hasMultipleSections:0})}}const Nxe=e=>({}),Axe=e=>({}),Rxe=e=>({}),Fxe=e=>({});function Pxe(e){let t;const n=e[2].default,r=b(n,e,e[3],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||8&o)&&_(r,n,e,e[3],t?w(n,e[3],o,null):x(e[3]),null)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function Lxe(e){let t,n,r=e[0]("finish_setting_up_table")+"";return{c(){t=q("h1"),n=j(r),X(t,"slot","header")},m(e,r){H(e,t,r),F(t,n)},p(e,t){1&t&&r!==(r=e[0]("finish_setting_up_table")+"")&&Q(n,r)},d(e){e&&z(t)}}}function Hxe(e){let t,n,r,o,s,a,i;r=new Oxe({props:{$$slots:{header:[Lxe],default:[Pxe]},$$scope:{ctx:e}}});const l=e[2].preview,c=b(l,e,e[3],Fxe),u=e[2].footer,d=b(u,e,e[3],Axe);return{c(){t=q("div"),n=q("div"),at(r.$$.fragment),o=U(),c&&c.c(),s=U(),a=q("div"),d&&d.c(),X(n,"class","page-content svelte-1kzw4yc"),se(n,"has-preview",e[1].preview),X(a,"class","footer svelte-1kzw4yc"),X(t,"class","import-preview-content svelte-1kzw4yc")},m(e,l){H(e,t,l),F(t,n),it(r,n,null),F(n,o),c&&c.m(n,null),F(t,s),F(t,a),d&&d.m(a,null),i=!0},p(e,t){const o={};9&t&&(o.$$scope={dirty:t,ctx:e}),r.$set(o),c&&c.p&&(!i||8&t)&&_(c,l,e,e[3],i?w(l,e[3],t,Rxe):x(e[3]),Fxe),(!i||2&t)&&se(n,"has-preview",e[1].preview),d&&d.p&&(!i||8&t)&&_(d,u,e,e[3],i?w(u,e[3],t,Nxe):x(e[3]),Axe)},i(e){i||(je(r.$$.fragment,e),je(c,e),je(d,e),i=!0)},o(e){Ue(r.$$.fragment,e),Ue(c,e),Ue(d,e),i=!1},d(e){e&&z(t),lt(r),c&&c.d(e),d&&d.d(e)}}}function zxe(e){let t,n;return t=new TK({props:{fitViewport:!0,cssVariables:{"--max-layout-width":"var(--max-layout-width-data-pages)","--inset-page-section-padding":"var(--lg3)","--page-padding":"var(--outer-page-padding-for-inset-page)"},$$slots:{default:[Hxe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};11&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Vxe(e,t,n){let r;y(e,no,(e=>n(0,r=e)));let{$$slots:o={},$$scope:s}=t;const a=k(o);return e.$$set=e=>{"$$scope"in e&&n(3,s=e.$$scope)},[r,a,o,s]}class qxe extends ut{constructor(e){super(),ct(this,e,Vxe,zxe,f,{})}}function Bxe(e,t){return Object.fromEntries(e.map((e=>{return[e.id,(n=e,r=t?.[e.id],{selected:!0,displayName:n.name,castOptions:r})];var n,r})))}function jxe(e,t){return e.map((e=>({...e,cast_options:t[e.id]?.castOptions})))}function Uxe(e,t){return e.filter((e=>t[e.id]?.selected)).map((e=>function({id:e,type:t,primary_key:n,type_options:r},o,s){return{id:e,name:o,cast_options:s,...n?{}:{type:t,type_options:r}}}(e,t[e.id]?.displayName,t[e.id]?.castOptions)))}function Wxe(e){let t,n,r,o,s,i=e[1]("database_type")+"",l=(e[0]??"UNKNOWN")+"";return{c(){t=q("div"),n=j(i),r=j(": "),o=q("span"),s=j(l),X(o,"class","svelte-pflyqk"),X(t,"class","svelte-pflyqk")},m(e,a){H(e,t,a),F(t,n),F(t,r),F(t,o),F(o,s)},p(e,[t]){2&t&&i!==(i=e[1]("database_type")+"")&&Q(n,i),1&t&&l!==(l=(e[0]??"UNKNOWN")+"")&&Q(s,l)},i:a,o:a,d(e){e&&z(t)}}}function Yxe(e,t,n){let r;y(e,no,(e=>n(1,r=e)));let{type:o}=t;return e.$$set=e=>{"type"in e&&n(0,o=e.type)},[o,r]}class Kxe extends ut{constructor(e){super(),ct(this,e,Yxe,Wxe,f,{type:0})}}function Gxe(e){let t,n;return t=new $y({props:{options:e[4],value:e[1].max,getLabel:e[5]}}),t.$on("change",e[8]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.value=e[1].max),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Xxe(e){let t,n;return t=new $y({props:{options:e[4],value:e[1].min,getLabel:e[5]}}),t.$on("change",e[9]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.value=e[1].min),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Zxe(e){let t,n;return{c(){t=q("span"),n=j(e[2]),X(t,"class","svelte-puij5")},m(e,r){H(e,t,r),F(t,n)},p(e,t){4&t&&Q(n,e[2])},d(e){e&&z(t)}}}function Jxe(e){let t,n="format"===e[11]&&Zxe(e);return{c(){n&&n.c(),t=W()},m(e,r){n&&n.m(e,r),H(e,t,r)},p(e,r){"format"===e[11]?n?n.p(e,r):(n=Zxe(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&z(t)}}}function Qxe(e){let t,n,r,o,s,a,i,l,c;return n=new J$({props:{label:e[3]("max_time_unit"),layout:"stacked",$$slots:{default:[Gxe]},$$scope:{ctx:e}}}),s=new J$({props:{label:e[3]("min_time_unit"),layout:"stacked",$$slots:{default:[Xxe]},$$scope:{ctx:e}}}),l=new Rx({props:{text:e[3]("format_displayer"),$$slots:{default:[Jxe,({slotName:e})=>({11:e}),({slotName:e})=>e?2048:0]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),o=q("div"),at(s.$$.fragment),a=U(),i=q("div"),at(l.$$.fragment),X(t,"class","form-element form-input"),X(o,"class","form-element form-input"),X(i,"class","form-element format svelte-puij5")},m(e,u){H(e,t,u),it(n,t,null),H(e,r,u),H(e,o,u),it(s,o,null),H(e,a,u),H(e,i,u),it(l,i,null),c=!0},p(e,[t]){const r={};8&t&&(r.label=e[3]("max_time_unit")),4098&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const o={};8&t&&(o.label=e[3]("min_time_unit")),4098&t&&(o.$$scope={dirty:t,ctx:e}),s.$set(o);const a={};8&t&&(a.text=e[3]("format_displayer")),6148&t&&(a.$$scope={dirty:t,ctx:e}),l.$set(a)},i(e){c||(je(n.$$.fragment,e),je(s.$$.fragment,e),je(l.$$.fragment,e),c=!0)},o(e){Ue(n.$$.fragment,e),Ue(s.$$.fragment,e),Ue(l.$$.fragment,e),c=!1},d(e){e&&z(t),lt(n),e&&z(r),e&&z(o),lt(s),e&&z(a),e&&z(i),lt(l)}}}function eCe(e,t,n){let r,o,s,i=a,l=()=>(i(),i=g(c,(e=>n(1,o=e))),c);y(e,no,(e=>n(3,s=e))),e.$$.on_destroy.push((()=>i()));let{store:c}=t;l();const u=_O.getAllUnits(),d={d:s("days"),h:s("hours"),m:s("minutes"),s:s("seconds"),ms:s("milliseconds")};function $(e){if(!e)return;let{min:t}=o;u.indexOf(e)>u.indexOf(o.min)&&(t=e),I(c,o={...o,max:e,min:t},o)}function p(e){if(!e)return;let{max:t}=o;u.indexOf(e)<u.indexOf(o.max)&&(t=e),I(c,o={...o,max:t,min:e},o)}return e.$$set=e=>{"store"in e&&l(n(0,c=e.store))},e.$$.update=()=>{2&e.$$.dirty&&n(2,r=new _O(o).getFormattingString())},[c,o,r,s,u,e=>(e&&d[e])??"",$,p,e=>$(e.detail),e=>p(e.detail)]}class tCe extends ut{constructor(e){super(),ct(this,e,eCe,Qxe,f,{store:0})}}function nCe(e){return e?e.values:$t({})}function rCe(e,t,n){const r=e.getDisplayConfig?.()??void 0;let o;if(r){const e=n.type===t?r.constructDisplayFormValuesFromDisplayOptions(n.metadata):{};o=p_(r.form,e,{"duration-config-menu":tCe})}return{displayOptionsConfig:r,displayForm:o,displayFormValues:nCe(o)}}function oCe(e){let t,n;return t=new Kxe({props:{type:e[0]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.type=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function sCe(e){let t,n,r,o;n=new Kxe({props:{type:e[0]}});let s=e[2]&&aCe(e);return{c(){t=q("div"),at(n.$$.fragment),r=U(),s&&s.c(),X(t,"class","type-options svelte-18383vq")},m(e,a){H(e,t,a),it(n,t,null),F(t,r),s&&s.m(t,null),o=!0},p(e,r){const o={};1&r&&(o.type=e[0]),n.$set(o),e[2]?s?(s.p(e,r),4&r&&je(s,1)):(s=aCe(e),s.c(),je(s,1),s.m(t,null)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be())},i(e){o||(je(n.$$.fragment,e),je(s),o=!0)},o(e){Ue(n.$$.fragment,e),Ue(s),o=!1},d(e){e&&z(t),lt(n),s&&s.d()}}}function aCe(e){let t,n,r,o;return r=new ix({props:{form:e[2],disabled:e[1]}}),{c(){t=q("div"),n=q("div"),at(r.$$.fragment),X(n,"class","content svelte-18383vq"),X(t,"class","option-form db-opts svelte-18383vq")},m(e,s){H(e,t,s),F(t,n),it(r,n,null),o=!0},p(e,t){const n={};4&t&&(n.form=e[2]),2&t&&(n.disabled=e[1]),r.$set(n)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(t),lt(r)}}}function iCe(e){let t,n,r,o;const s=[sCe,oCe],a=[];function i(e,t){return e[2]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,[o]){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function lCe(e,t,n){let r,o,s,i,l=a;e.$$.on_destroy.push((()=>l()));let{selectedAbstractType:c}=t,{selectedDbType:u}=t,{typeOptions:d}=t,{column:$}=t,{disabled:p=!1}=t;const m=jo();return m.addValidator("AbstractTypeConfigValidator",(()=>{let e=!0;if(o){const t=o.getValidationResult().isValid;e=e&&t}return e})),e.$$set=e=>{"selectedAbstractType"in e&&n(5,c=e.selectedAbstractType),"selectedDbType"in e&&n(0,u=e.selectedDbType),"typeOptions"in e&&n(4,d=e.typeOptions),"column"in e&&n(6,$=e.column),"disabled"in e&&n(1,p=e.disabled)},e.$$.update=()=>{97&e.$$.dirty&&n(7,({dbOptionsConfig:r,dbForm:o,dbFormValues:s}=function(e,t,n){const r=e.getDbConfig?.()??void 0;let o;if(r){const e=n.type===t?r.constructDbFormValuesFromTypeOptions(n.type,n.type_options):{};o=p_(r.form,e)}return{dbOptionsConfig:r,dbForm:o,dbFormValues:nCe(o)}}(c,u,$)),r,(n(2,o),n(5,c),n(0,u),n(6,$)),(n(3,s),l(),l=g(s,(e=>n(8,i=e))),s)),384&e.$$.dirty&&function(e,t){if(t){const r=t.determineDbTypeAndOptions(e,$.type);n(4,d=r.typeOptions??{}),n(0,u=r.dbType),m.validate()}}(i,r)},[u,p,o,s,d,c,$,r,i]}class cCe extends ut{constructor(e){super(),ct(this,e,lCe,iCe,f,{selectedAbstractType:5,selectedDbType:0,typeOptions:4,column:6,disabled:1})}}function uCe(e){let t,n=e[0].name+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1&r&&n!==(n=e[0].name+"")&&Q(t,n)},d(e){e&&z(t)}}}function dCe(e){let t,n,r;return n=new H$({props:{$$slots:{default:[$Ce]},$$scope:{ctx:e}}}),{c(){t=q("span"),at(n.$$.fragment),X(t,"class","help svelte-14iaee4")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};18&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function $Ce(e){let t,n;return t=new hp({props:{arg:e[1]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.arg=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function pCe(e){let t,n,r,o;n=new OI({props:{icon:e[0].getIcon(),$$slots:{default:[uCe]},$$scope:{ctx:e}}});let s=e[1]&&dCe(e);return{c(){t=q("div"),at(n.$$.fragment),r=U(),s&&s.c(),X(t,"class","abstract-type svelte-14iaee4"),se(t,"disabled",e[2])},m(e,a){H(e,t,a),it(n,t,null),F(t,r),s&&s.m(t,null),o=!0},p(e,[r]){const a={};1&r&&(a.icon=e[0].getIcon()),17&r&&(a.$$scope={dirty:r,ctx:e}),n.$set(a),e[1]?s?(s.p(e,r),2&r&&je(s,1)):(s=dCe(e),s.c(),je(s,1),s.m(t,null)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be()),(!o||4&r)&&se(t,"disabled",e[2])},i(e){o||(je(n.$$.fragment,e),je(s),o=!0)},o(e){Ue(n.$$.fragment,e),Ue(s),o=!1},d(e){e&&z(t),lt(n),s&&s.d()}}}function mCe(e,t,n){let r,o,s,{abstractType:a}=t;return e.$$set=e=>{"abstractType"in e&&n(0,a=e.abstractType)},e.$$.update=()=>{1&e.$$.dirty&&n(3,r=a.getEnabledState?.()),8&e.$$.dirty&&n(2,o=!!r&&!r.enabled),8&e.$$.dirty&&n(1,s=r&&!r.enabled?r.cause:void 0)},[a,s,o,r]}class fCe extends ut{constructor(e){super(),ct(this,e,mCe,pCe,f,{abstractType:0})}}function gCe(e){let t,n;return t=new fCe({props:{abstractType:e[10]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1024&n&&(r.abstractType=e[10]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function hCe(e){let t,n;return t=new $y({props:{options:e[2],value:e[0],getLabel:bCe,autoSelect:"none",isOptionDisabled:e[7],disabled:e[1],$$slots:{default:[gCe,({option:e})=>({10:e}),({option:e})=>e?1024:0]},$$scope:{ctx:e}}}),t.$on("change",e[8]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.options=e[2]),1&n&&(r.value=e[0]),2&n&&(r.disabled=e[1]),3072&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function yCe(e){let t,n;return t=new J$({props:{label:e[3]("data_type"),layout:"stacked",$$slots:{default:[hCe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};8&n&&(r.label=e[3]("data_type")),2055&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}const bCe=e=>e?.name??"";function vCe(e,t,n){let r,o;y(e,no,(e=>n(3,o=e)));const s=ye();let{column:a}=t,{selectedAbstractType:i}=t,{disabled:l=!1}=t;function c(e){if(e){if(i!==e){if(e.identifier===a.abstractType.identifier)s("reset");else if(e.defaultDbType)s("change",{type:e.defaultDbType,abstractType:e});else if(e.dbTypes.size>0){const[t]=e.dbTypes;s("change",{type:t,abstractType:e})}n(0,i=e)}}else console.error("This should never occur. AbstractType is undefined")}function u(e){return!!e&&kN(e)}return e.$$set=e=>{"column"in e&&n(6,a=e.column),"selectedAbstractType"in e&&n(0,i=e.selectedAbstractType),"disabled"in e&&n(1,l=e.disabled)},e.$$.update=()=>{64&e.$$.dirty&&n(2,r=SN(a.type,a.metadata).filter((e=>!["jsonlist","map"].includes(e.identifier))))},[i,l,r,o,c,u,a,e=>u(e),e=>c(e.detail)]}class wCe extends ut{constructor(e){super(),ct(this,e,vCe,yCe,f,{column:6,selectedAbstractType:0,disabled:1})}}function _Ce(e){let t,n,r=e[3],o=xCe(e);return{c(){o.c(),t=W()},m(e,r){o.m(e,r),H(e,t,r),n=!0},p(e,n){8&n&&f(r,r=e[3])?(qe(),Ue(o,1,1,a),Be(),o=xCe(e),o.c(),je(o,1),o.m(t.parentNode,t)):o.p(e,n)},i(e){n||(je(o),n=!0)},o(e){Ue(o),n=!1},d(e){e&&z(t),o.d(e)}}}function xCe(e){let t,n,r,o;function s(t){e[20](t)}function a(t){e[21](t)}let i={selectedAbstractType:e[3],column:e[0],disabled:e[2]};return void 0!==e[4]&&(i.selectedDbType=e[4]),void 0!==e[5]&&(i.typeOptions=e[5]),t=new cCe({props:i}),Ce.push((()=>st(t,"selectedDbType",s))),Ce.push((()=>st(t,"typeOptions",a))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),o=!0},p(e,o){const s={};8&o&&(s.selectedAbstractType=e[3]),1&o&&(s.column=e[0]),4&o&&(s.disabled=e[2]),!n&&16&o&&(n=!0,s.selectedDbType=e[4],Oe((()=>n=!1))),!r&&32&o&&(r=!0,s.typeOptions=e[5],Oe((()=>r=!1))),t.$set(s)},i(e){o||(je(t.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),o=!1},d(e){lt(t,e)}}}function CCe(e){let t,n,r,o,s=e[1]&&SCe(e);return r=new m$({props:{onProceed:e[14],onCancel:e[13],isProcessing:"processing"===e[6]?.state,canProceed:!e[7],proceedButton:{label:e[10]("save")},size:"small"}}),{c(){t=q("div"),s&&s.c(),n=U(),at(r.$$.fragment),X(t,"class","footer svelte-29qpgv")},m(e,a){H(e,t,a),s&&s.m(t,null),F(t,n),it(r,t,null),o=!0},p(e,o){e[1]?s?(s.p(e,o),2&o&&je(s,1)):(s=SCe(e),s.c(),je(s,1),s.m(t,n)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be());const a={};64&o&&(a.isProcessing="processing"===e[6]?.state),128&o&&(a.canProceed=!e[7]),1024&o&&(a.proceedButton={label:e[10]("save")}),r.$set(a)},i(e){o||(je(s),je(r.$$.fragment,e),o=!0)},o(e){Ue(s),Ue(r.$$.fragment,e),o=!1},d(e){e&&z(t),s&&s.d(),lt(r)}}}function SCe(e){let t,n;return t=new cV({props:{$$slots:{default:[kCe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};33555456&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function kCe(e){let t,n,r=e[10]("data_loss_warning_alert")+"";return{c(){t=q("span"),n=j(r),X(t,"class","warning-alert svelte-29qpgv")},m(e,r){H(e,t,r),F(t,n)},p(e,t){1024&t&&r!==(r=e[10]("data_loss_warning_alert")+"")&&Q(n,r)},d(e){e&&z(t)}}}function MCe(e){let t,n,r,o,s;t=new wCe({props:{selectedAbstractType:e[3],column:e[0],disabled:"processing"===e[6]?.state||e[2]}}),t.$on("change",e[18]),t.$on("reset",e[19]);let a=e[3]&&e[4]&&_Ce(e),i=e[9]&&CCe(e);return{c(){at(t.$$.fragment),n=U(),a&&a.c(),r=U(),i&&i.c(),o=W()},m(e,l){it(t,e,l),H(e,n,l),a&&a.m(e,l),H(e,r,l),i&&i.m(e,l),H(e,o,l),s=!0},p(e,[n]){const s={};8&n&&(s.selectedAbstractType=e[3]),1&n&&(s.column=e[0]),68&n&&(s.disabled="processing"===e[6]?.state||e[2]),t.$set(s),e[3]&&e[4]?a?(a.p(e,n),24&n&&je(a,1)):(a=_Ce(e),a.c(),je(a,1),a.m(r.parentNode,r)):a&&(qe(),Ue(a,1,1,(()=>{a=null})),Be()),e[9]?i?(i.p(e,n),512&n&&je(i,1)):(i=CCe(e),i.c(),je(i,1),i.m(o.parentNode,o)):i&&(qe(),Ue(i,1,1,(()=>{i=null})),Be())},i(e){s||(je(t.$$.fragment,e),je(a),je(i),s=!0)},o(e){Ue(t.$$.fragment,e),Ue(a),Ue(i),s=!1},d(e){lt(t,e),e&&z(n),a&&a.d(e),e&&z(r),i&&i.d(e),e&&z(o)}}}function ICe(e,t,n){let r,o,s,i,l,c=a;y(e,no,(e=>n(10,l=e))),e.$$.on_destroy.push((()=>c()));const u=ye();let d,{column:$}=t,{save:p}=t,{showWarnings:m=!0}=t,{disabled:f=!1}=t,h=$.abstractType,b=$.type,v=$.type_options??{},w={...v},{metadata:_}=$;const x=Bo();function C(e){n(3,h=e.abstractType),n(4,b=e.type),n(16,v=e.type_options??{}),n(5,w={...v}),_=e.metadata}function S(e){const{type:t,abstractType:r}=e;n(4,b=t),n(3,h=r),n(5,w={}),_=function(e,t){return"file"===e.identifier?{...t??{},file_backend:px()?.backend}:t&&t.file_backend?{...t,file_backend:null}:t}(h,_)}fe((()=>{x.validate()}));return e.$$set=e=>{"column"in e&&n(0,$=e.column),"save"in e&&n(15,p=e.save),"showWarnings"in e&&n(1,m=e.showWarnings),"disabled"in e&&n(2,f=e.disabled)},e.$$.update=()=>{65593&e.$$.dirty&&n(9,r=h!==$.abstractType||b!==$.type||!function(e,t){const n=Object.keys({precision:null,scale:null,length:null,fields:null,item_type:null});for(const r of n)if((e[r]??null)!==(t[r]??null))return!1;return!0}(v,w??{})),1&e.$$.dirty&&C($),131144&e.$$.dirty&&n(7,s=!h||"processing"===d?.state||!i)},n(8,({validationResult:o}=x),o),c(),c=g(o,(e=>n(17,i=e))),[$,m,f,h,b,w,d,s,o,r,l,C,S,function(){C($),n(6,d={state:"success"}),u("cancel")},async function(){n(6,d={state:"processing"});try{await p({type:b,type_options:{...w},metadata:_}),n(6,d={state:"success"})}catch(e){const t=e instanceof Error?e.message:l("unable_to_change_column_type");WS.error(t),n(6,d={state:"failure",errors:[t]})}},p,v,i,e=>S(e.detail),()=>C($),function(e){b=e,n(4,b)},function(e){w=e,n(5,w)}]}class TCe extends ut{constructor(e){super(),ct(this,e,ICe,MCe,f,{column:0,save:15,showWarnings:1,disabled:2})}}function ECe(e){let t,n;return t=new Eu({props:{allowHover:!0,placements:["top","bottom"],$$slots:{content:[OCe],trigger:[DCe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};132096&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function DCe(e){let t,n,r;const o=[lS];let s={};for(let a=0;a<o.length;a+=1)s=l(s,o[a]);return n=new Jd({props:s}),{c(){t=q("span"),at(n.$$.fragment),X(t,"slot","trigger")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r=0&t?rt(o,[ot(lS)]):{};n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function OCe(e){let t,n,r=e[10]("pk_indicator_help_text")+"";return{c(){t=q("p"),n=j(r),X(t,"slot","content")},m(e,r){H(e,t,r),F(t,n)},p(e,t){1024&t&&r!==(r=e[10]("pk_indicator_help_text")+"")&&Q(n,r)},d(e){e&&z(t)}}}function NCe(e){let t,n;return t=new Eu({props:{allowHover:!0,placements:["top","bottom"],$$slots:{content:[RCe],trigger:[ACe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};132096&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function ACe(e){let t,n,r;const o=[cS];let s={};for(let a=0;a<o.length;a+=1)s=l(s,o[a]);return n=new Jd({props:s}),{c(){t=q("span"),at(n.$$.fragment),X(t,"slot","trigger")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r=0&t?rt(o,[ot(cS)]):{};n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function RCe(e){let t,n,r=e[10]("auto_added_indicator_help_text")+"";return{c(){t=q("p"),n=j(r),X(t,"slot","content")},m(e,r){H(e,t,r),F(t,n)},p(e,t){1024&t&&r!==(r=e[10]("auto_added_indicator_help_text")+"")&&Q(n,r)},d(e){e&&z(t)}}}function FCe(e){let t,n;return t=new Eu({props:{allowHover:!0,placements:["top","bottom"],$$slots:{content:[LCe],trigger:[PCe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};132104&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function PCe(e){let t,n,r,o,s,a,i;const c=[Wx];let u={};for(let d=0;d<c.length;d+=1)u=l(u,c[d]);return o=new Jd({props:u}),{c(){t=q("span"),n=j("id"),r=U(),at(o.$$.fragment),s=U(),a=j(e[3]),X(t,"slot","trigger"),X(t,"class","id-rename svelte-1rg1rdm")},m(e,l){H(e,t,l),F(t,n),F(t,r),it(o,t,null),F(t,s),F(t,a),i=!0},p(e,t){const n=0&t?rt(c,[ot(Wx)]):{};o.$set(n),(!i||8&t)&&Q(a,e[3])},i(e){i||(je(o.$$.fragment,e),i=!0)},o(e){Ue(o.$$.fragment,e),i=!1},d(e){e&&z(t),lt(o)}}}function LCe(e){let t,n,r=e[10]("id_column_has_been_renamed",{values:{renamedIdColumn:e[3]}})+"";return{c(){t=q("p"),n=j(r),X(t,"slot","content")},m(e,r){H(e,t,r),F(t,n)},p(e,t){1032&t&&r!==(r=e[10]("id_column_has_been_renamed",{values:{renamedIdColumn:e[3]}})+"")&&Q(n,r)},d(e){e&&z(t)}}}function HCe(e){let t,n=e[4].abstractType.name+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){16&r&&n!==(n=e[4].abstractType.name+"")&&Q(t,n)},d(e){e&&z(t)}}}function zCe(e){let t,n;return t=new OI({props:{slot:"trigger",icon:e[4].abstractType.getIcon(),$$slots:{default:[HCe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.icon=e[4].abstractType.getIcon()),131088&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function VCe(e){let t,n,r;function o(...t){return e[15](e[16],...t)}return n=new TCe({props:{column:{...e[4].column,abstractType:e[4].abstractType},showWarnings:!1,save:o}}),n.$on("cancel",(function(){$(e[16])&&e[16].apply(this,arguments)})),{c(){t=q("div"),at(n.$$.fragment),X(t,"slot","content"),X(t,"class","type-options-content svelte-1rg1rdm")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(t,r){e=t;const s={};16&r&&(s.column={...e[4].column,abstractType:e[4].abstractType}),65584&r&&(s.save=o),n.$set(s)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function qCe(e){let t,n,r,o,s,a,i,l,c,u,d,$,p,m,f=e[7]&&ECe(e),g=e[6]&&NCe(e),h=e[8]&&FCe(e);function y(t){e[13](t)}let b={disabled:e[9]};function v(t){e[14](t)}void 0!==e[0]&&(b.checked=e[0]),i=new x$({props:b}),Ce.push((()=>st(i,"checked",y)));let w={disabled:e[2]};return void 0!==e[1]&&(w.value=e[1]),u=new ym({props:w}),Ce.push((()=>st(u,"value",v))),u.$on("blur",e[11]),p=new _f({props:{disabled:e[9],triggerClass:"column-type",triggerAppearance:"plain",$$slots:{content:[VCe,({close:e})=>({16:e}),({close:e})=>e?65536:0],trigger:[zCe]},$$scope:{ctx:e}}}),{c(){t=q("div"),n=q("div"),f&&f.c(),r=U(),g&&g.c(),o=U(),h&&h.c(),s=U(),a=q("div"),at(i.$$.fragment),c=U(),at(u.$$.fragment),$=U(),at(p.$$.fragment),X(n,"class","pk-indicator svelte-1rg1rdm"),X(a,"class","column-name svelte-1rg1rdm"),X(t,"class","column svelte-1rg1rdm")},m(e,l){H(e,t,l),F(t,n),f&&f.m(n,null),F(n,r),g&&g.m(n,null),F(n,o),h&&h.m(n,null),F(t,s),F(t,a),it(i,a,null),F(a,c),it(u,a,null),F(t,$),it(p,t,null),m=!0},p(e,[t]){e[7]?f?(f.p(e,t),128&t&&je(f,1)):(f=ECe(e),f.c(),je(f,1),f.m(n,r)):f&&(qe(),Ue(f,1,1,(()=>{f=null})),Be()),e[6]?g?(g.p(e,t),64&t&&je(g,1)):(g=NCe(e),g.c(),je(g,1),g.m(n,o)):g&&(qe(),Ue(g,1,1,(()=>{g=null})),Be()),e[8]?h?(h.p(e,t),256&t&&je(h,1)):(h=FCe(e),h.c(),je(h,1),h.m(n,null)):h&&(qe(),Ue(h,1,1,(()=>{h=null})),Be());const s={};512&t&&(s.disabled=e[9]),!l&&1&t&&(l=!0,s.checked=e[0],Oe((()=>l=!1))),i.$set(s);const a={};4&t&&(a.disabled=e[2]),!d&&2&t&&(d=!0,a.value=e[1],Oe((()=>d=!1))),u.$set(a);const c={};512&t&&(c.disabled=e[9]),196656&t&&(c.$$scope={dirty:t,ctx:e}),p.$set(c)},i(e){m||(je(f),je(g),je(h),je(i.$$.fragment,e),je(u.$$.fragment,e),je(p.$$.fragment,e),m=!0)},o(e){Ue(f),Ue(g),Ue(h),Ue(i.$$.fragment,e),Ue(u.$$.fragment,e),Ue(p.$$.fragment,e),m=!1},d(e){e&&z(t),f&&f.d(),g&&g.d(),h&&h.d(),lt(i),lt(u),lt(p)}}}function BCe(e,t,n){let r,o,s,a,i;y(e,no,(e=>n(10,i=e)));let{isLoading:l=!1}=t,{renamedIdColumn:c}=t,{processedColumn:u}=t,{selected:d}=t,{displayName:$}=t,{updateTypeRelatedOptions:p}=t,{isAutoAdded:m=!1}=t;return e.$$set=e=>{"isLoading"in e&&n(2,l=e.isLoading),"renamedIdColumn"in e&&n(3,c=e.renamedIdColumn),"processedColumn"in e&&n(4,u=e.processedColumn),"selected"in e&&n(0,d=e.selected),"displayName"in e&&n(1,$=e.displayName),"updateTypeRelatedOptions"in e&&n(5,p=e.updateTypeRelatedOptions),"isAutoAdded"in e&&n(6,m=e.isAutoAdded)},e.$$.update=()=>{16&e.$$.dirty&&n(12,({column:r}=u),r),4096&e.$$.dirty&&n(7,o=r.primary_key),132&e.$$.dirty&&n(9,s=o||l),24&e.$$.dirty&&n(8,a=c===u.column.name)},[d,$,l,c,u,p,m,o,a,s,i,function(){""===$.trim()&&n(1,$=r.name)},r,function(e){d=e,n(0,d)},function(e){$=e,n(1,$)},async(e,t)=>{await p({...u.column,...t}),e()}]}class jCe extends ut{constructor(e){super(),ct(this,e,BCe,qCe,f,{isLoading:2,renamedIdColumn:3,processedColumn:4,selected:0,displayName:1,updateTypeRelatedOptions:5,isAutoAdded:6})}}function UCe(e,t,n){const r=e.slice();return r[9]=t[n],r}function WCe(e,t,n){const r=e.slice();return r[14]=t[n],r}function YCe(e,t,n){const r=e.slice();return r[14]=t[n],r[17]=t,r[18]=n,r}function KCe(e){let t,n,r,o,s,a,i;function l(t){e[7](t,e[14])}function c(t){e[8](t,e[14])}let u={isLoading:e[2],processedColumn:e[14],updateTypeRelatedOptions:e[3],isAutoAdded:e[14].id===e[5],renamedIdColumn:e[6]};return void 0!==e[0][e[14].id].selected&&(u.selected=e[0][e[14].id].selected),void 0!==e[0][e[14].id].displayName&&(u.displayName=e[0][e[14].id].displayName),t=new jCe({props:u}),Ce.push((()=>st(t,"selected",l))),Ce.push((()=>st(t,"displayName",c))),s=new Uge({props:{columnIdentifierKey:e[14].id,minColumnWidth:120}}),{c(){at(t.$$.fragment),o=U(),at(s.$$.fragment),a=U()},m(e,n){it(t,e,n),H(e,o,n),it(s,e,n),H(e,a,n),i=!0},p(o,a){e=o;const i={};4&a&&(i.isLoading=e[2]),2&a&&(i.processedColumn=e[14]),8&a&&(i.updateTypeRelatedOptions=e[3]),34&a&&(i.isAutoAdded=e[14].id===e[5]),64&a&&(i.renamedIdColumn=e[6]),!n&&3&a&&(n=!0,i.selected=e[0][e[14].id].selected,Oe((()=>n=!1))),!r&&3&a&&(r=!0,i.displayName=e[0][e[14].id].displayName,Oe((()=>r=!1))),t.$set(i);const l={};2&a&&(l.columnIdentifierKey=e[14].id),s.$set(l)},i(e){i||(je(t.$$.fragment,e),je(s.$$.fragment,e),i=!0)},o(e){Ue(t.$$.fragment,e),Ue(s.$$.fragment,e),i=!1},d(e){lt(t,e),e&&z(o),lt(s,e),e&&z(a)}}}function GCe(e,t){let n,r,o;return r=new rye({props:{columnIdentifierKey:t[14].id,$$slots:{default:[KCe]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};2&n&&(o.columnIdentifierKey=t[14].id),524399&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function XCe(e){let t,n,r=[],o=new Map,s=e[1];const a=e=>e[14].id;for(let i=0;i<s.length;i+=1){let t=YCe(e,s,i),n=a(t);o.set(n,r[i]=GCe(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=W()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);H(e,t,o),n=!0},p(e,n){111&n&&(s=e[1],qe(),r=nt(r,n,a,1,e,s,o,t.parentNode,et,GCe,t,YCe),Be())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ue(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&z(t)}}}function ZCe(e){let t,n,r;return t=new JV({props:{columnFabric:e[14],value:e[9][e[14].column.name],showAsSkeleton:e[2],disabled:!0}}),{c(){at(t.$$.fragment),n=U()},m(e,o){it(t,e,o),H(e,n,o),r=!0},p(e,n){const r={};2&n&&(r.columnFabric=e[14]),18&n&&(r.value=e[9][e[14].column.name]),4&n&&(r.showAsSkeleton=e[2]),t.$set(r)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e),e&&z(n)}}}function JCe(e,t){let n,r,o;return r=new cye({props:{columnIdentifierKey:t[14].id,$$slots:{default:[ZCe]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};2&n&&(o.columnIdentifierKey=t[14].id),524310&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function QCe(e){let t,n,r,o,s=[],a=new Map,i=e[1];const c=e=>e[14];for(let l=0;l<i.length;l+=1){let t=WCe(e,i,l),n=c(t);a.set(n,s[l]=JCe(n,t))}let u=[e[12],{style:n=e[13]}],d={};for(let $=0;$<u.length;$+=1)d=l(d,u[$]);return{c(){t=q("div");for(let e=0;e<s.length;e+=1)s[e].c();r=U(),Z(t,d),se(t,"svelte-11b8hhy",!0)},m(e,n){H(e,t,n);for(let r=0;r<s.length;r+=1)s[r].m(t,null);H(e,r,n),o=!0},p(e,r){22&r&&(i=e[1],qe(),s=nt(s,r,c,1,e,i,a,t,et,JCe,null,WCe),Be()),Z(t,d=rt(u,[4096&r&&e[12],(!o||8192&r&&n!==(n=e[13]))&&{style:n}])),se(t,"svelte-11b8hhy",!0)},i(e){if(!o){for(let e=0;e<i.length;e+=1)je(s[e]);o=!0}},o(e){for(let t=0;t<s.length;t+=1)Ue(s[t]);o=!1},d(e){e&&z(t);for(let t=0;t<s.length;t+=1)s[t].d();e&&z(r)}}}function eSe(e,t){let n,r,o;return r=new Zhe({props:{style:{position:"relative",height:30},$$slots:{default:[QCe,({htmlAttributes:e,styleString:t})=>({12:e,13:t}),({htmlAttributes:e,styleString:t})=>(e?4096:0)|(t?8192:0)]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};536598&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function tSe(e){let t,n,r,o,s=[],a=new Map;t=new qge({props:{inheritFontStyle:!0,$$slots:{default:[XCe]},$$scope:{ctx:e}}});let i=e[4];const l=e=>e[9];for(let c=0;c<i.length;c+=1){let t=UCe(e,i,c),n=l(t);a.set(n,s[c]=eSe(n,t))}return{c(){at(t.$$.fragment),n=U();for(let e=0;e<s.length;e+=1)s[e].c();r=W()},m(e,a){it(t,e,a),H(e,n,a);for(let t=0;t<s.length;t+=1)s[t].m(e,a);H(e,r,a),o=!0},p(e,n){const o={};524399&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o),12310&n&&(i=e[4],qe(),s=nt(s,n,l,1,e,i,a,r.parentNode,et,eSe,r,UCe),Be())},i(e){if(!o){je(t.$$.fragment,e);for(let e=0;e<i.length;e+=1)je(s[e]);o=!0}},o(e){Ue(t.$$.fragment,e);for(let t=0;t<s.length;t+=1)Ue(s[t]);o=!1},d(e){lt(t,e),e&&z(n);for(let t=0;t<s.length;t+=1)s[t].d(e);e&&z(r)}}}function nSe(e){let t,n,r;return n=new Hge({props:{restrictWidthToRowWidth:!0,columns:e[1],getColumnIdentifier:rSe,$$slots:{default:[tSe]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","import-preview svelte-11b8hhy")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,[t]){const r={};2&t&&(r.columns=e[1]),524415&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}const rSe=e=>e.id;function oSe(e,t,n){let{columns:r}=t,{isLoading:o}=t,{updateTypeRelatedOptions:s}=t,{columnPropertiesMap:a}=t,{records:i}=t,{addedPkAttnum:l}=t,{renamedIdColumn:c}=t;return e.$$set=e=>{"columns"in e&&n(1,r=e.columns),"isLoading"in e&&n(2,o=e.isLoading),"updateTypeRelatedOptions"in e&&n(3,s=e.updateTypeRelatedOptions),"columnPropertiesMap"in e&&n(0,a=e.columnPropertiesMap),"records"in e&&n(4,i=e.records),"addedPkAttnum"in e&&n(5,l=e.addedPkAttnum),"renamedIdColumn"in e&&n(6,c=e.renamedIdColumn)},[a,r,o,s,i,l,c,function(t,r){e.$$.not_equal(a[r.id].selected,t)&&(a[r.id].selected=t,n(0,a))},function(t,r){e.$$.not_equal(a[r.id].displayName,t)&&(a[r.id].displayName=t,n(0,a))}]}class sSe extends ut{constructor(e){super(),ct(this,e,oSe,nSe,f,{columns:1,isLoading:2,updateTypeRelatedOptions:3,columnPropertiesMap:0,records:4,addedPkAttnum:5,renamedIdColumn:6})}}function aSe(e){let t;return{c(){t=q("div"),X(t,"class","empty svelte-1n6eca3")},m(e,n){H(e,t,n)},p:a,i:a,o:a,d(e){e&&z(t)}}}function iSe(e){let t,n;return t=new HV({props:{column:e[5]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.column=e[5]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function lSe(e){let t,n,r,o;const s=[iSe,aSe],a=[];function i(e,t){return e[5]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function cSe(e){let t,n,r;function o(t){e[3](t)}let s={options:e[1],labelKey:"name",valuesAreEqual:uSe,$$slots:{default:[lSe,({option:e})=>({5:e}),({option:e})=>e?32:0]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.value=e[0]),t=new $y({props:s}),Ce.push((()=>st(t,"value",o))),t.$on("change",e[4]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.options=e[1]),96&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.value=e[0],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}const uSe=(e,t)=>e?.id===t?.id;function dSe(e,t,n){let{columns:r}=t,{value:o}=t,{onUpdate:s}=t;return e.$$set=e=>{"columns"in e&&n(1,r=e.columns),"value"in e&&n(0,o=e.value),"onUpdate"in e&&n(2,s=e.onUpdate)},[o,r,s,function(e){o=e,n(0,o)},({detail:e})=>s?.(e)]}class $Se extends ut{constructor(e){super(),ct(this,e,dSe,cSe,f,{columns:1,value:0,onUpdate:2})}}function pSe(e){let t,n=So(e[34])+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8&r[1]&&n!==(n=So(e[34])+"")&&Q(t,n)},d(e){e&&z(t)}}}function mSe(e){let t,n=e[13]("choose_existing_pk_column")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8192&r[0]&&n!==(n=e[13]("choose_existing_pk_column")+"")&&Q(t,n)},d(e){e&&z(t)}}}function fSe(e){let t,n=e[13]("add_a_new_pk_column")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8192&r[0]&&n!==(n=e[13]("add_a_new_pk_column")+"")&&Q(t,n)},d(e){e&&z(t)}}}function gSe(e){let t;function n(e,t){return"add"===e[34]?fSe:"pick"===e[34]?mSe:pSe}let r=n(e),o=r(e);return{c(){o.c(),t=W()},m(e,n){o.m(e,n),H(e,t,n)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&z(t)}}}function hSe(e){let t,n,r;function o(t){e[24](t)}let s={options:e[15],$$slots:{default:[gSe,({option:e})=>({34:e}),({option:e})=>[0,e?8:0]]},$$scope:{ctx:e}};return void 0!==e[6]&&(s.value=e[6]),t=new $y({props:s}),Ce.push((()=>st(t,"value",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};8192&r[0]|24&r[1]&&(o.$$scope={dirty:r,ctx:e}),!n&&64&r[0]&&(n=!0,o.value=e[6],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function ySe(e){let t,n;return t=new J$({props:{label:e[13]("strategy"),$$slots:{default:[hSe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8192&n[0]&&(r.label=e[13]("strategy")),8256&n[0]|16&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function bSe(e){let t,n=So(e[6])+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){64&r[0]&&n!==(n=So(e[6])+"")&&Q(t,n)},i:a,o:a,d(e){e&&z(t)}}}function vSe(e){let t,n;return t=new J$({props:{label:e[13]("column"),$$slots:{default:[_Se]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8192&n[0]&&(r.label=e[13]("column")),160&n[0]|16&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function wSe(e){let t,n;return t=new J$({props:{label:e[13]("column_type"),$$slots:{default:[MSe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8192&n[0]&&(r.label=e[13]("column_type")),8448&n[0]|16&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function _Se(e){let t,n,r;function o(t){e[26](t)}let s={columns:e[5]};return void 0!==e[7]&&(s.value=e[7]),t=new $Se({props:s}),Ce.push((()=>st(t,"value",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};32&r[0]&&(o.columns=e[5]),!n&&128&r[0]&&(n=!0,o.value=e[7],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function xSe(e){let t,n=So(e[34])+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8&r[1]&&n!==(n=So(e[34])+"")&&Q(t,n)},d(e){e&&z(t)}}}function CSe(e){let t,n=e[13]("UUID")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8192&r[0]&&n!==(n=e[13]("UUID")+"")&&Q(t,n)},d(e){e&&z(t)}}}function SSe(e){let t,n=e[13]("Integer")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8192&r[0]&&n!==(n=e[13]("Integer")+"")&&Q(t,n)},d(e){e&&z(t)}}}function kSe(e){let t;function n(e,t){return"integer"===e[34]?SSe:"uuid"===e[34]?CSe:xSe}let r=n(e),o=r(e);return{c(){o.c(),t=W()},m(e,n){o.m(e,n),H(e,t,n)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&z(t)}}}function MSe(e){let t,n,r;function o(t){e[25](t)}let s={options:e[16],$$slots:{default:[kSe,({option:e})=>({34:e}),({option:e})=>[0,e?8:0]]},$$scope:{ctx:e}};return void 0!==e[8]&&(s.value=e[8]),t=new $y({props:s}),Ce.push((()=>st(t,"value",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};8192&r[0]|24&r[1]&&(o.$$scope={dirty:r,ctx:e}),!n&&256&r[0]&&(n=!0,o.value=e[8],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function ISe(e){let t,n,r,o;const s=[wSe,vSe,bSe],a=[];function i(e,t){return"add"===e[6]?0:"pick"===e[6]?1:2}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function TSe(e){let t,n=So(e[34])+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8&r[1]&&n!==(n=So(e[34])+"")&&Q(t,n)},d(e){e&&z(t)}}}function ESe(e){let t,n=e[13]("no_default")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8192&r[0]&&n!==(n=e[13]("no_default")+"")&&Q(t,n)},d(e){e&&z(t)}}}function DSe(e){let t,n=e[13]("random_uuidv4")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8192&r[0]&&n!==(n=e[13]("random_uuidv4")+"")&&Q(t,n)},d(e){e&&z(t)}}}function OSe(e){let t,n=e[13]("auto_incrementing_identity")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8192&r[0]&&n!==(n=e[13]("auto_incrementing_identity")+"")&&Q(t,n)},d(e){e&&z(t)}}}function NSe(e){let t;function n(e,t){return"identity"===e[34]?OSe:"uuid4"===e[34]?DSe:"none"===e[34]?ESe:TSe}let r=n(e),o=r(e);return{c(){o.c(),t=W()},m(e,n){o.m(e,n),H(e,t,n)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&z(t)}}}function ASe(e){let t,n,r;function o(t){e[27](t)}let s={options:e[4],$$slots:{default:[NSe,({option:e})=>({34:e}),({option:e})=>[0,e?8:0]]},$$scope:{ctx:e}};return void 0!==e[12]&&(s.value=e[12]),t=new $y({props:s}),Ce.push((()=>st(t,"value",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};16&r[0]&&(o.options=e[4]),8192&r[0]|24&r[1]&&(o.$$scope={dirty:r,ctx:e}),!n&&4096&r[0]&&(n=!0,o.value=e[12],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function RSe(e){let t,n,r;return n=new cV({props:{$$slots:{default:[FSe]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","error svelte-vvscom")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};8192&t[0]|16&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function FSe(e){let t,n,r,o,s,a,i,l,c,u,d,$,p,m,f,g=e[13]("heads_up")+"",h=e[13]("pk_no_default_warning_0")+"",y=e[13]("pk_no_default_warning_1")+"",b=e[13]("pk_no_default_warning_2")+"",v=e[13]("pk_no_default_warning_3")+"";return{c(){t=q("p"),n=j(g),r=U(),o=q("p"),s=j(h),a=U(),i=q("ul"),l=q("li"),c=j(y),u=U(),d=q("li"),$=j(b),p=U(),m=q("p"),f=j(v)},m(e,g){H(e,t,g),F(t,n),H(e,r,g),H(e,o,g),F(o,s),H(e,a,g),H(e,i,g),F(i,l),F(l,c),F(i,u),F(i,d),F(d,$),H(e,p,g),H(e,m,g),F(m,f)},p(e,t){8192&t[0]&&g!==(g=e[13]("heads_up")+"")&&Q(n,g),8192&t[0]&&h!==(h=e[13]("pk_no_default_warning_0")+"")&&Q(s,h),8192&t[0]&&y!==(y=e[13]("pk_no_default_warning_1")+"")&&Q(c,y),8192&t[0]&&b!==(b=e[13]("pk_no_default_warning_2")+"")&&Q($,b),8192&t[0]&&v!==(v=e[13]("pk_no_default_warning_3")+"")&&Q(f,v)},d(e){e&&z(t),e&&z(r),e&&z(o),e&&z(a),e&&z(i),e&&z(p),e&&z(m)}}}function PSe(e){let t,n,r,o;t=new J$({props:{label:e[13]("default_value"),$$slots:{default:[ASe]},$$scope:{ctx:e}}});let s="none"===e[12]&&RSe(e);return{c(){at(t.$$.fragment),n=U(),s&&s.c(),r=W()},m(e,a){it(t,e,a),H(e,n,a),s&&s.m(e,a),H(e,r,a),o=!0},p(e,n){const o={};8192&n[0]&&(o.label=e[13]("default_value")),12304&n[0]|16&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o),"none"===e[12]?s?(s.p(e,n),4096&n[0]&&je(s,1)):(s=RSe(e),s.c(),je(s,1),s.m(r.parentNode,r)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be())},i(e){o||(je(t.$$.fragment,e),je(s),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(s),o=!1},d(e){lt(t,e),e&&z(n),s&&s.d(e),e&&z(r)}}}function LSe(e){let t,n;return t=new ML({props:{$$slots:{default:[HSe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};10240&n[0]|16&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function HSe(e){let t,n;return t=new QL({props:{form:e[11],onProceed:e[17],catchErrors:!0,proceedButton:{label:e[13]("update_primary_key_column")},cancelButton:{label:e[13]("discard_changes"),icon:mC}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2048&n[0]&&(r.form=e[11]),8192&n[0]&&(r.proceedButton={label:e[13]("update_primary_key_column")}),8192&n[0]&&(r.cancelButton={label:e[13]("discard_changes"),icon:mC}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function zSe(e){let t,n,r,o,s,a,i,l;t=new ML({props:{$$slots:{default:[ySe]},$$scope:{ctx:e}}}),r=new ML({props:{$$slots:{default:[ISe]},$$scope:{ctx:e}}}),s=new ML({props:{$$slots:{default:[PSe]},$$scope:{ctx:e}}});let c=e[14].hasChanges&&LSe(e);return{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),at(s.$$.fragment),a=U(),c&&c.c(),i=W()},m(e,u){it(t,e,u),H(e,n,u),it(r,e,u),H(e,o,u),it(s,e,u),H(e,a,u),c&&c.m(e,u),H(e,i,u),l=!0},p(e,n){const o={};8256&n[0]|16&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const a={};8672&n[0]|16&n[1]&&(a.$$scope={dirty:n,ctx:e}),r.$set(a);const l={};12304&n[0]|16&n[1]&&(l.$$scope={dirty:n,ctx:e}),s.$set(l),e[14].hasChanges?c?(c.p(e,n),16384&n[0]&&je(c,1)):(c=LSe(e),c.c(),je(c,1),c.m(i.parentNode,i)):c&&(qe(),Ue(c,1,1,(()=>{c=null})),Be())},i(e){l||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),je(c),l=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),Ue(c),l=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),lt(s,e),e&&z(a),c&&c.d(e),e&&z(i)}}}function VSe(e){let t,n,r=e[13]("primary_key_column")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","label")},m(e,r){H(e,t,r),F(t,n)},p(e,t){8192&t[0]&&r!==(r=e[13]("primary_key_column")+"")&&Q(n,r)},d(e){e&&z(t)}}}function qSe(e){let t,n,r;function o(t){e[28](t)}let s={$$slots:{label:[VSe],default:[zSe]},$$scope:{ctx:e}};return void 0!==e[9]&&(s.isOpen=e[9]),t=new yle({props:s}),Ce.push((()=>st(t,"isOpen",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};31216&r[0]|16&r[1]&&(o.$$scope={dirty:r,ctx:e}),!n&&512&r[0]&&(n=!0,o.isOpen=e[9],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function BSe(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,b,v,w,_,x,C=a,S=a,k=a,M=a,I=a,T=a;y(e,no,(e=>n(13,_=e))),e.$$.on_destroy.push((()=>C())),e.$$.on_destroy.push((()=>S())),e.$$.on_destroy.push((()=>k())),e.$$.on_destroy.push((()=>M())),e.$$.on_destroy.push((()=>I())),e.$$.on_destroy.push((()=>T()));const E="file"===(D="number")?vN.dbTypes:wN.get(D)?.dbTypes??new Set;var D;let{table:O}=t,{columns:N}=t,{onUpdated:A}=t,R=!1;async function F(e){await PM.columns.add_primary_key_column({database_id:O.schema.database.id,table_oid:O.oid,pkey_type:nE(w,{integer:"IDENTITY",uuid:"UUIDv4"}),drop_existing_pkey_column:e.dropExistingPkColumn}).run()}function P(e){return PM.data_modeling.change_primary_key_column({database_id:O.schema.database.id,table_oid:O.oid,column_attnum:v.id,default:nE(b,{identity:"IDENTITY",uuid4:"UUIDv4",none:null}),drop_existing_pk_column:e.dropExistingPkColumn}).run()}return e.$$set=e=>{"table"in e&&n(18,O=e.table),"columns"in e&&n(19,N=e.columns),"onUpdated"in e&&n(20,A=e.onUpdated)},e.$$.update=()=>{786432&e.$$.dirty[0]&&n(23,r=N.find((e=>e.id===O.metadata?.mathesar_added_pkey_attnum))),8388608&e.$$.dirty[0]&&n(22,o=r?"add":"pick"),8912896&e.$$.dirty[0]&&n(5,s=N.filter((e=>e.id!==r?.id))),12582912&e.$$.dirty[0]&&n(21,i=(()=>{if("pick"===o)return"integer";if(r){if("integer"===r.type)return"integer";if("uuid"===r.type)return"uuid"}return"integer"})()),4194304&e.$$.dirty[0]&&(n(0,l=oH(o)),C(),C=g(l,(e=>n(6,f=e)))),2097152&e.$$.dirty[0]&&(n(2,c=oH(i)),I(),I=g(c,(e=>n(8,w=e)))),32&e.$$.dirty[0]&&(n(1,u=oH(s.find((e=>e.primary_key))??s[0])),M(),M=g(u,(e=>n(7,v=e)))),448&e.$$.dirty[0]&&n(4,d="add"===f?"integer"===w?["identity"]:"uuid"===w?["uuid4"]:So(w):"pick"===f?E.has(v.type)?["identity","none"]:"uuid"===v.type?["uuid4","none"]:["none"]:So(f)),16&e.$$.dirty[0]&&(n(3,$=oH(d[0])),k(),k=g($,(e=>n(12,b=e)))),79&e.$$.dirty[0]&&(n(11,p=aH({strategy:l,defaultValue:$,...nE(f,{add:{typeOfColumnToAdd:c},pick:{pickedColumn:u}})})),T(),T=g(p,(e=>n(14,x=e)))),1&e.$$.dirty[0]&&(n(10,m=l.hasChanges),S(),S=g(m,(e=>n(29,h=e))))},[l,u,c,$,d,s,f,v,w,R,m,p,b,_,x,["add","pick"],["integer","uuid"],async function(){h?"pick"===f?await P({dropExistingPkColumn:!0}):"add"===f?await F({dropExistingPkColumn:!1}):So(f):"add"===f?await F({dropExistingPkColumn:!0}):"pick"===f?await P({dropExistingPkColumn:!1}):So(f),n(9,R=!1),await A()},O,N,A,i,o,r,function(e){f=e,l.set(f)},function(e){w=e,c.set(w)},function(e){v=e,u.set(v)},function(e){b=e,$.set(b)},function(e){R=e,n(9,R)}]}class jSe extends ut{constructor(e){super(),ct(this,e,BSe,qSe,f,{table:18,columns:19,onUpdated:20},null,[-1,-1])}}function USe(e){let t,n;return t=new nxe({props:{value:e[2].header,disabled:e[18]}}),t.$on("change",e[23]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4&n[0]&&(r.value=e[2].header),262144&n[0]&&(r.disabled=e[18]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function WSe(e){let t,n;return t=new pxe({props:{value:e[3],disabled:e[18]}}),t.$on("change",e[24]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8&n[0]&&(r.value=e[3]),262144&n[0]&&(r.disabled=e[18]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function YSe(e){let t,n;return t=new ML({props:{$$slots:{default:[KSe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};18&n[0]|64&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function KSe(e){let t,n;return t=new jSe({props:{table:e[1],columns:e[4],onUpdated:e[26]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n[0]&&(r.table=e[1]),16&n[0]&&(r.columns=e[4]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function GSe(e){let t,n=e[9]("customize_names_types_preview")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){512&r[0]&&n!==(n=e[9]("customize_names_types_preview")+"")&&Q(t,n)},d(e){e&&z(t)}}}function XSe(e){let t,n;return t=new rQ({props:{$$slots:{default:[GSe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};512&n[0]|64&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function ZSe(e){let t,n,r,o,s,a,i,l,c;t=new WL({props:{field:e[5],label:e[9]("table_name")}}),r=new ML({props:{$$slots:{default:[USe]},$$scope:{ctx:e}}}),s=new ML({props:{$$slots:{default:[WSe]},$$scope:{ctx:e}}});let u=e[4].length&&YSe(e);return l=new ML({props:{$$slots:{default:[XSe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),at(s.$$.fragment),a=U(),u&&u.c(),i=U(),at(l.$$.fragment)},m(e,d){it(t,e,d),H(e,n,d),it(r,e,d),H(e,o,d),it(s,e,d),H(e,a,d),u&&u.m(e,d),H(e,i,d),it(l,e,d),c=!0},p(e,n){const o={};32&n[0]&&(o.field=e[5]),512&n[0]&&(o.label=e[9]("table_name")),t.$set(o);const a={};262148&n[0]|64&n[1]&&(a.$$scope={dirty:n,ctx:e}),r.$set(a);const c={};262152&n[0]|64&n[1]&&(c.$$scope={dirty:n,ctx:e}),s.$set(c),e[4].length?u?(u.p(e,n),16&n[0]&&je(u,1)):(u=YSe(e),u.c(),je(u,1),u.m(i.parentNode,i)):u&&(qe(),Ue(u,1,1,(()=>{u=null})),Be());const d={};512&n[0]|64&n[1]&&(d.$$scope={dirty:n,ctx:e}),l.$set(d)},i(e){c||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),je(u),je(l.$$.fragment,e),c=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),Ue(u),Ue(l.$$.fragment,e),c=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),lt(s,e),e&&z(a),u&&u.d(e),e&&z(i),lt(l,e)}}}function JSe(e){let t,n,r,o,s;n=new sSe({props:{columns:e[16],isLoading:e[6].isLoading,updateTypeRelatedOptions:e[25],columnPropertiesMap:e[10],records:e[19],addedPkAttnum:e[1].metadata?.mathesar_added_pkey_attnum??void 0,renamedIdColumn:e[0]}});let a=e[19].length===cke&&rke(e);return{c(){t=q("div"),at(n.$$.fragment),r=U(),a&&a.c(),o=W(),X(t,"class","sheet-holder svelte-vzzia4")},m(e,i){H(e,t,i),it(n,t,null),H(e,r,i),a&&a.m(e,i),H(e,o,i),s=!0},p(e,t){const r={};65536&t[0]&&(r.columns=e[16]),64&t[0]&&(r.isLoading=e[6].isLoading),1024&t[0]&&(r.columnPropertiesMap=e[10]),524288&t[0]&&(r.records=e[19]),2&t[0]&&(r.addedPkAttnum=e[1].metadata?.mathesar_added_pkey_attnum??void 0),1&t[0]&&(r.renamedIdColumn=e[0]),n.$set(r),e[19].length===cke?a?a.p(e,t):(a=rke(e),a.c(),a.m(o.parentNode,o)):a&&(a.d(1),a=null)},i(e){s||(je(n.$$.fragment,e),s=!0)},o(e){Ue(n.$$.fragment,e),s=!1},d(e){e&&z(t),lt(n),e&&z(r),a&&a.d(e),e&&z(o)}}}function QSe(e){let t,n;return t=new bxe({props:{error:e[6].error}}),t.$on("retry",e[22]),t.$on("delete",e[27]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};64&n[0]&&(r.error=e[6].error),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function eke(e){let t,n,r;return n=new t$({}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","loading svelte-vzzia4")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p:a,i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function tke(e){let t,n;return t=new bxe({props:{error:e[7].error}}),t.$on("retry",e[22]),t.$on("delete",e[27]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};128&n[0]&&(r.error=e[7].error),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function nke(e){let t,n;return t=new bxe({props:{error:e[8].error}}),t.$on("retry",e[22]),t.$on("delete",e[27]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};256&n[0]&&(r.error=e[8].error),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function rke(e){let t,n,r,o,s=e[9]("preview_truncated_at_limit",{values:{limit:cke}})+"";return{c(){t=q("div"),n=j("("),r=j(s),o=j(")"),X(t,"class","truncation-alert svelte-vzzia4")},m(e,s){H(e,t,s),F(t,n),F(t,r),F(t,o)},p(e,t){512&t[0]&&s!==(s=e[9]("preview_truncated_at_limit",{values:{limit:cke}})+"")&&Q(r,s)},d(e){e&&z(t)}}}function oke(e){let t,n,r,o,s,a,i,l=e[9]("table_preview")+"";const c=[nke,tke,eke,QSe,JSe],u=[];function d(e,t){return e[8].error?0:e[7].error?1:e[6].hasSettled?e[6].error?3:4:2}return s=d(e),a=u[s]=c[s](e),{c(){t=q("h3"),n=j(l),r=U(),o=q("div"),a.c(),X(t,"class","preview-header svelte-vzzia4"),X(o,"class","preview-content svelte-vzzia4")},m(e,a){H(e,t,a),F(t,n),H(e,r,a),H(e,o,a),u[s].m(o,null),i=!0},p(e,t){(!i||512&t[0])&&l!==(l=e[9]("table_preview")+"")&&Q(n,l);let r=s;s=d(e),s===r?u[s].p(e,t):(qe(),Ue(u[r],1,1,(()=>{u[r]=null})),Be(),a=u[s],a?a.p(e,t):(a=u[s]=c[s](e),a.c()),je(a,1),a.m(o,null))},i(e){i||(je(a),i=!0)},o(e){Ue(a),i=!1},d(e){e&&z(t),e&&z(r),e&&z(o),u[s].d()}}}function ske(e){let t,n;return t=new m$({props:{onCancel:e[27],onProceed:e[28],cancelButton:{icon:Kx},proceedButton:{label:e[9]("confirm_and_create_table")},canProceed:e[17]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};512&n[0]&&(r.proceedButton={label:e[9]("confirm_and_create_table")}),131072&n[0]&&(r.canProceed=e[17]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function ake(e){let t,n,r,o,s=e[9]("cleaning_up")+"";return r=new t$({}),{c(){t=j(s),n=j("... "),at(r.$$.fragment)},m(e,s){H(e,t,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){(!o||512&n[0])&&s!==(s=e[9]("cleaning_up")+"")&&Q(t,s)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(t),e&&z(n),lt(r,e)}}}function ike(e){let t,n,r,o;const s=[ake,ske],a=[];function i(e,t){return e[21].isLoading?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function lke(e){let t,n;return t=new qxe({props:{$$slots:{footer:[ike],preview:[oke],default:[ZSe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};3082239&n[0]|64&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}const cke=20;function uke(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,b,v,w,_,x,C,S,k,M=a,I=a,T=a,E=a,D=a,O=a,N=a;y(e,no,(e=>n(9,C=e))),y(e,CH,(e=>n(34,S=e))),e.$$.on_destroy.push((()=>M())),e.$$.on_destroy.push((()=>I())),e.$$.on_destroy.push((()=>T())),e.$$.on_destroy.push((()=>E())),e.$$.on_destroy.push((()=>D())),e.$$.on_destroy.push((()=>O())),e.$$.on_destroy.push((()=>N()));let{schema:A}=t,{table:R}=t,{dataFile:F}=t,{useColumnTypeInference:P=!1}=t,{renamedIdColumn:L}=t,{refreshTable:H}=t,z=[],V=Bxe([],{});async function q(){const e=(await d.run({database_id:A.database.id,table_oid:R.oid}))?.resolvedValue;if(!e)return;n(4,z=e);let t={};if(P){const e=await c.run();if("resolved"===e.settlement?.state){const r=e.settlement.value;n(4,z=z.map((e=>({...e,type:r[e.id]?.type??e.type})))),t=z.reduce(((e,t)=>(e[t.id]=r[t.id]?.details,e)),t)}}n(10,V=Bxe(z,t)),await u.run(jxe(z,V))}function B(e){Yz.goto(nI(A.database.id,A.oid,e.tableOid,{useColumnTypeInference:e.useColumnTypeInference,renamedIdColumn:e.renamedIdColumn}),!0)}var j;return e.$$set=e=>{"schema"in e&&n(29,A=e.schema),"table"in e&&n(1,R=e.table),"dataFile"in e&&n(2,F=e.dataFile),"useColumnTypeInference"in e&&n(3,P=e.useColumnTypeInference),"renamedIdColumn"in e&&n(0,L=e.renamedIdColumn),"refreshTable"in e&&n(30,H=e.refreshTable)},e.$$.update=()=>{2&e.$$.dirty[0]|8&e.$$.dirty[1]&&n(31,r=S.filter((e=>e.oid!==R.oid)).map((e=>e.name))),514&e.$$.dirty[0]|1&e.$$.dirty[1]&&(n(5,o=oH(R.name,[_P(r,C("table_name_already_exists"))])),M(),M=g(o,(e=>n(35,h=e)))),32&e.$$.dirty[0]&&(n(20,s=aH({customizedTableName:o})),I(),I=g(s,(e=>n(32,b=e)))),536870918&e.$$.dirty[0]&&(n(13,i=function({schema:e,table:t,dataFile:n}){return new VF((async function({firstRowIsHeader:r,customizedTableName:o}){return await Promise.all([gH(e,t.oid),U_e.update(n.id,{header:r})]),bH({schema:e,dataFile:n,name:o})}))}({schema:A,table:R,dataFile:F})),D(),D=g(i,(e=>n(7,_=e)))),536870914&e.$$.dirty[0]&&(n(11,l=new VF((()=>gH(A,R.oid)))),N(),N=g(l,(e=>n(21,k=e)))),536870914&e.$$.dirty[0]&&(n(14,c=new VF((()=>PM.data_modeling.suggest_types({table_oid:R.oid,database_id:A.database.id}).run()))),E(),E=g(c,(e=>n(33,w=e)))),536870914&e.$$.dirty[0]&&(n(12,u=new VF((e=>PM.tables.get_import_preview({database_id:A.database.id,table_oid:R.oid,columns:e}).run()))),T(),T=g(u,(e=>n(6,v=e)))),64&e.$$.dirty[0]&&n(19,$=v.resolvedValue??[{},{}]),448&e.$$.dirty[0]|4&e.$$.dirty[1]&&n(18,p=x.isLoading||_.isLoading||w.isLoading||v.isLoading),64&e.$$.dirty[0]|2&e.$$.dirty[1]&&n(17,m=v.isOk&&b.canSubmit),16&e.$$.dirty[0]&&n(16,f=function(e){return e.map((e=>{const t=CN(e.type,e.metadata);return{id:e.id,column:e,abstractType:t,cellComponentAndProps:fz({cellInfo:t.cellInfo,column:e})}}))}(z)),10&e.$$.dirty[0]&&q()},n(15,d=new VF((j=PM.columns.list_with_metadata,e=>j(e).run()))),O(),O=g(d,(e=>n(8,x=e))),[L,R,F,P,z,o,v,_,x,C,V,l,u,i,c,d,f,m,p,$,s,k,q,async function(){u.reset();const e=await i.run({firstRowIsHeader:!F.header,customizedTableName:h});e.resolvedValue&&B({tableOid:e.resolvedValue.table.oid,useColumnTypeInference:P,renamedIdColumn:e.resolvedValue.renamedColumns.id})},async function(){u.reset(),B({tableOid:R.oid,useColumnTypeInference:!P,renamedIdColumn:L})},function(e){return n(4,z=z.map((t=>t.id===e.id?e:t))),u.run(jxe(z,V))},async function(){await H(),await q(),n(0,L=void 0)},async function(){const e=await l.run();e.isOk?Yz.goto(JM(A.database.id,A.oid),!0):WS.fromError(e.error)},async function(){try{await yH({schema:A,table:{oid:R.oid,name:h,metadata:{import_verified:!0}},columnPatchSpecs:Uxe(z,V),columnsToDelete:Object.entries(V).filter((([,{selected:e}])=>!e)).map((([e])=>parseInt(e,10)))}),Yz.goto(sI(A.database.id,A.oid,R.oid),!0)}catch(e){WS.fromError(e)}},A,H,r,b,w,S]}class dke extends ut{constructor(e){super(),ct(this,e,uke,lke,f,{schema:29,table:1,dataFile:2,useColumnTypeInference:3,renamedIdColumn:0,refreshTable:30},null,[-1,-1])}}function $ke(e){let t,n;return t=new qxe({props:{$$slots:{default:[gke]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8384&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function pke(e){let t,n;return t=new qxe({props:{$$slots:{default:[hke]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8192&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function mke(e){let t,n;return t=new dke({props:{schema:e[0],table:e[5].resolvedValue,dataFile:e[4].resolvedValue,useColumnTypeInference:e[2],renamedIdColumn:e[3],refreshTable:e[11]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.schema=e[0]),32&n&&(r.table=e[5].resolvedValue),16&n&&(r.dataFile=e[4].resolvedValue),4&n&&(r.useColumnTypeInference=e[2]),8&n&&(r.renamedIdColumn=e[3]),3&n&&(r.refreshTable=e[11]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function fke(e){let t,n,r,o,s,a=e[7]("unable_to_load_preview")+"",i=ck(e[6])+"";return{c(){t=q("p"),n=j(a),r=U(),o=q("p"),s=j(i)},m(e,a){H(e,t,a),F(t,n),H(e,r,a),H(e,o,a),F(o,s)},p(e,t){128&t&&a!==(a=e[7]("unable_to_load_preview")+"")&&Q(n,a),64&t&&i!==(i=ck(e[6])+"")&&Q(s,i)},d(e){e&&z(t),e&&z(r),e&&z(o)}}}function gke(e){let t,n;return t=new HP({props:{$$slots:{default:[fke]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8384&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function hke(e){let t,n;return t=new t$({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function yke(e){let t,n,r,o,s,a;document.title=t=zK(e[7]("import"));const i=[mke,pke,$ke],l=[];function c(e,t){return e[5].resolvedValue&&e[4].resolvedValue?0:e[5].isLoading||e[4].isLoading?1:2}return r=c(e),o=l[r]=i[r](e),{c(){n=U(),o.c(),s=W()},m(e,t){H(e,n,t),l[r].m(e,t),H(e,s,t),a=!0},p(e,[n]){(!a||128&n)&&t!==(t=zK(e[7]("import")))&&(document.title=t);let u=r;r=c(e),r===u?l[r].p(e,n):(qe(),Ue(l[u],1,1,(()=>{l[u]=null})),Be(),o=l[r],o?o.p(e,n):(o=l[r]=i[r](e),o.c()),je(o,1),o.m(s.parentNode,s))},i(e){a||(je(o),a=!0)},o(e){Ue(o),a=!1},d(e){e&&z(n),l[r].d(e),e&&z(s)}}}function bke(e,t,n){let r,o,s,a;y(e,no,(e=>n(7,a=e)));const i=new VF(vH);y(e,i,(e=>n(5,s=e)));const l=new VF(U_e.get);y(e,l,(e=>n(4,o=e)));let{database:c}=t,{schema:u}=t,{tableId:d}=t,{useColumnTypeInference:$=!1}=t,{renamedIdColumn:p}=t;function m(){Yz.goto(sI(c.id,u.oid,d))}return e.$$set=e=>{"database"in e&&n(10,c=e.database),"schema"in e&&n(0,u=e.schema),"tableId"in e&&n(1,d=e.tableId),"useColumnTypeInference"in e&&n(2,$=e.useColumnTypeInference),"renamedIdColumn"in e&&n(3,p=e.renamedIdColumn)},e.$$.update=()=>{3&e.$$.dirty&&(async()=>{const e=(await i.run({schema:u,tableOid:d})).resolvedValue;if(!e)return;if(!vI(e))return void m();const t=e.metadata?.data_file_id??void 0;void 0!==t?await l.run(t):m()})(),48&e.$$.dirty&&n(6,r=s.error??o.error)},[u,d,$,p,o,s,r,a,i,l,c,async()=>{await i.run({schema:u,tableOid:d,clearCache:!0})}]}class vke extends ut{constructor(e){super(),ct(this,e,bke,yke,f,{database:10,schema:0,tableId:1,useColumnTypeInference:2,renamedIdColumn:3})}}function wke(e){let t,n,r;return n=new Hu({props:{$$slots:{default:[_ke]},$$scope:{ctx:e}}}),n.$on("click",e[5]),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","button svelte-j8a923")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};8200&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function _ke(e){let t,n=e[3]("cancel_upload")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8&r&&n!==(n=e[3]("cancel_upload")+"")&&Q(t,n)},d(e){e&&z(t)}}}function xke(e){let t,n,r,o,s;function a(t){e[10](t)}let i={fileProgress:e[2]};void 0!==e[0]&&(i.fileUploads=e[0]),t=new Ry({props:i}),Ce.push((()=>st(t,"fileUploads",a))),t.$on("add",e[4]);let l=e[1]&&wke(e);return{c(){at(t.$$.fragment),r=U(),l&&l.c(),o=W()},m(e,n){it(t,e,n),H(e,r,n),l&&l.m(e,n),H(e,o,n),s=!0},p(e,[r]){const s={};4&r&&(s.fileProgress=e[2]),!n&&1&r&&(n=!0,s.fileUploads=e[0],Oe((()=>n=!1))),t.$set(s),e[1]?l?(l.p(e,r),2&r&&je(l,1)):(l=wke(e),l.c(),je(l,1),l.m(o.parentNode,o)):l&&(qe(),Ue(l,1,1,(()=>{l=null})),Be())},i(e){s||(je(t.$$.fragment,e),je(l),s=!0)},o(e){Ue(t.$$.fragment,e),Ue(l),s=!1},d(e){lt(t,e),e&&z(r),l&&l.d(e),e&&z(o)}}}function Cke(e,t,n){let r,o,s;y(e,no,(e=>n(3,s=e)));let a,i,{value:l}=t,{isUploading:c=!1}=t,u=0;function d(){n(6,l=void 0),n(7,c=!1),n(0,a=void 0),n(8,u=0),n(1,i=void 0)}function $(e){n(8,u=e.percentCompleted)}function p(){i&&i.cancel(),d()}return he(p),e.$$set=e=>{"value"in e&&n(6,l=e.value),"isUploading"in e&&n(7,c=e.isUploading)},e.$$.update=()=>{64&e.$$.dirty&&void 0===l&&d(),1&e.$$.dirty&&n(9,r=a?.[0]),896&e.$$.dirty&&n(2,o=(()=>{if(!r)return{};const e=c?Math.min(u,98):100;return{[r.fileId]:e}})())},[a,i,o,s,async function(e){try{const t=new FormData;t.append("file",e.detail.added[0].file),n(7,c=!0),n(1,i=U_e.addViaUpload(t,$));const r=await i;n(6,l=r.id),n(7,c=!1),n(1,i=void 0)}catch(t){WS.fromError(t),d()}},p,l,c,u,r,function(e){a=e,n(0,a)}]}class Ske extends ut{constructor(e){super(),ct(this,e,Cke,xke,f,{value:6,isUploading:7})}}function kke(e,t,n){const r=e.slice();return r[23]=t[n],r}function Mke(e){let t,n,r,o,s,a;return t=new ML({props:{$$slots:{default:[Lke]},$$scope:{ctx:e}}}),r=new WL({props:{field:e[11],input:{component:pxe}}}),s=new ML({props:{$$slots:{default:[Hke]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),at(s.$$.fragment)},m(e,i){it(t,e,i),H(e,n,i),it(r,e,i),H(e,o,i),it(s,e,i),a=!0},p(e,n){const r={};268435481&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r);const o={};268435508&n&&(o.$$scope={dirty:n,ctx:e}),s.$set(o)},i(e){a||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),a=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),a=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),lt(s,e)}}}function Ike(e){let t,n;return t=new HP({props:{$$slots:{default:[Vke]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};268435458&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Tke(e){let t,n,r,o,s,a,i,l,c=e[4]("processing_data")+"";return s=new t$({}),i=new cV({props:{$$slots:{default:[qke]},$$scope:{ctx:e}}}),{c(){t=q("h2"),n=j(c),r=U(),o=q("div"),at(s.$$.fragment),a=U(),at(i.$$.fragment),X(o,"class","processing-spinner svelte-82txre")},m(e,c){H(e,t,c),F(t,n),H(e,r,c),H(e,o,c),it(s,o,null),H(e,a,c),it(i,e,c),l=!0},p(e,t){(!l||16&t)&&c!==(c=e[4]("processing_data")+"")&&Q(n,c);const r={};268435472&t&&(r.$$scope={dirty:t,ctx:e}),i.$set(r)},i(e){l||(je(s.$$.fragment,e),je(i.$$.fragment,e),l=!0)},o(e){Ue(s.$$.fragment,e),Ue(i.$$.fragment,e),l=!1},d(e){e&&z(t),e&&z(r),e&&z(o),lt(s),e&&z(a),lt(i,e)}}}function Eke(e){let t,n=So(e[0].key)+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1&r&&n!==(n=So(e[0].key)+"")&&Q(t,n)},i:a,o:a,d(e){e&&z(t)}}}function Dke(e){let t,n;return t=new WL({props:{field:e[9],label:e[4]("paste_data_import"),layout:"stacked",input:{component:Cg,props:{rows:10}}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.label=e[4]("paste_data_import")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Oke(e){let t,n;return t=new WL({props:{field:e[8],layout:"stacked",label:e[4]("enter_url_import_file")}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.label=e[4]("enter_url_import_file")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Nke(e){let t,n,r;function o(t){e[16](t)}let s={};return void 0!==e[3]&&(s.value=e[3]),t=new Ske({props:s}),Ce.push((()=>st(t,"value",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};!n&&8&r&&(n=!0,o.value=e[3],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function Ake(e){let t,n;return t=new RO({props:{page:"import",$$slots:{default:[Rke]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};402653184&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Rke(e){let t,n=e[27]+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){134217728&r&&n!==(n=e[27]+"")&&Q(t,n)},d(e){e&&z(t)}}}function Fke(e){let t,n,r="documentationLink"===e[26]&&Ake(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"documentationLink"===e[26]?r?(r.p(e,n),67108864&n&&je(r,1)):(r=Ake(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function Pke(e){let t,n,r,o,s,a,i,l;const c=[Nke,Oke,Dke,Eke],u=[];function d(e,t){return"file"===e[0].key?0:"url"===e[0].key?1:"clipboard"===e[0].key?2:3}return r=d(e),o=u[r]=c[r](e),i=new Rx({props:{text:e[4]("data_tabular_format_help"),$$slots:{default:[Fke,({slotName:e,translatedArg:t})=>({26:e,27:t}),({slotName:e,translatedArg:t})=>(e?67108864:0)|(t?134217728:0)]},$$scope:{ctx:e}}}),{c(){t=q("div"),n=q("div"),o.c(),s=U(),a=q("div"),at(i.$$.fragment),X(n,"class","data-source-input svelte-82txre"),X(a,"class","upload-format-help svelte-82txre"),X(t,"class","data-source-detail"),X(t,"slot","extra")},m(e,o){H(e,t,o),F(t,n),u[r].m(n,null),F(t,s),F(t,a),it(i,a,null),l=!0},p(e,t){let s=r;r=d(e),r===s?u[r].p(e,t):(qe(),Ue(u[s],1,1,(()=>{u[s]=null})),Be(),o=u[r],o?o.p(e,t):(o=u[r]=c[r](e),o.c()),je(o,1),o.m(n,null));const a={};16&t&&(a.text=e[4]("data_tabular_format_help")),469762048&t&&(a.$$scope={dirty:t,ctx:e}),i.$set(a)},i(e){l||(je(o),je(i.$$.fragment,e),l=!0)},o(e){Ue(o),Ue(i.$$.fragment,e),l=!1},d(e){e&&z(t),u[r].d(),lt(i)}}}function Lke(e){let t,n,r;function o(t){e[18](t)}let s={boxed:!0,options:e[6],isInline:!0,label:e[4]("data_source"),getRadioLabel:e[17],$$slots:{extra:[Pke]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.value=e[0]),t=new fg({props:s}),Ce.push((()=>st(t,"value",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};16&r&&(o.label=e[4]("data_source")),268435481&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.value=e[0],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function Hke(e){let t,n;return t=new QL({props:{form:e[2],onProceed:e[13],onCancel:e[12],cancelButton:{label:e[4]("reset")},canCancel:e[5].hasChanges}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.form=e[2]),16&n&&(r.cancelButton={label:e[4]("reset")}),32&n&&(r.canCancel=e[5].hasChanges),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function zke(e){let t,n,r=e[23]+"";return{c(){t=q("li"),n=j(r)},m(e,r){H(e,t,r),F(t,n)},p(e,t){2&t&&r!==(r=e[23]+"")&&Q(n,r)},d(e){e&&z(t)}}}function Vke(e){let t,n=e[1].errors,r=[];for(let o=0;o<n.length;o+=1)r[o]=zke(kke(e,n,o));return{c(){t=q("ul");for(let e=0;e<r.length;e+=1)r[e].c()},m(e,n){H(e,t,n);for(let o=0;o<r.length;o+=1)r[o].m(t,null)},p(e,o){if(2&o){let s;for(n=e[1].errors,s=0;s<n.length;s+=1){const a=kke(e,n,s);r[s]?r[s].p(a,o):(r[s]=zke(a),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(e){e&&z(t),V(r,e)}}}function qke(e){let t,n=e[4]("large_data_takes_time_warning")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){16&r&&n!==(n=e[4]("large_data_takes_time_warning")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Bke(e){let t,n,r,o,s,a,i,l=e[4]("create_a_table_by_importing")+"";const c=[Tke,Ike,Mke],u=[];function d(e,t){return"processing"===e[1]?.state?0:"failure"===e[1]?.state?1:2}return s=d(e),a=u[s]=c[s](e),{c(){t=q("h1"),n=j(l),r=U(),o=q("div"),a.c(),X(o,"class","import-file-view svelte-82txre")},m(e,a){H(e,t,a),F(t,n),H(e,r,a),H(e,o,a),u[s].m(o,null),i=!0},p(e,t){(!i||16&t)&&l!==(l=e[4]("create_a_table_by_importing")+"")&&Q(n,l);let r=s;s=d(e),s===r?u[s].p(e,t):(qe(),Ue(u[r],1,1,(()=>{u[r]=null})),Be(),a=u[s],a?a.p(e,t):(a=u[s]=c[s](e),a.c()),je(a,1),a.m(o,null))},i(e){i||(je(a),i=!0)},o(e){Ue(a),i=!1},d(e){e&&z(t),e&&z(r),e&&z(o),u[s].d()}}}function jke(e){let t,n,r,o;return document.title=t=zK(e[4]("import")),r=new TK({props:{restrictWidth:!0,cssVariables:{"--page-padding":"var(--inset-page-padding)","--max-layout-width":"var(--max-layout-width-data-pages)"},$$slots:{default:[Bke]},$$scope:{ctx:e}}}),{c(){n=U(),at(r.$$.fragment)},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,[n]){(!o||16&n)&&t!==(t=zK(e[4]("import")))&&(document.title=t);const s={};268435519&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function Uke(e,t,n){let r,o,s,i,l,c,u,d,$=a;y(e,no,(e=>n(4,u=e))),e.$$.on_destroy.push((()=>$()));let{database:p}=t,{schema:m}=t;const f=[{key:"file",label:u("upload_a_file"),icon:Td},{key:"url",label:u("provide_url_to_file"),icon:rS},{key:"clipboard",label:u("copy_and_paste_text"),icon:fC}],h=oH(f[0]);y(e,h,(e=>n(0,s=e)));const b=oH("");y(e,b,(e=>n(21,l=e)));const v=oH("");y(e,v,(e=>n(20,i=e)));const w=oH(void 0);y(e,w,(e=>n(3,c=e)));const _=oH(!0);let x;y(e,_,(e=>n(19,o=e)));return e.$$set=e=>{"database"in e&&n(14,p=e.database),"schema"in e&&n(15,m=e.schema)},e.$$.update=()=>{1&e.$$.dirty&&(n(2,r=(()=>{const e={uploadMethod:h,useColumnTypeInference:_};return"file"===s.key?aH({...e,fileUploadId:w}):"url"===s.key?aH({...e,urlToFile:b}):"clipboard"===s.key?aH({...e,clipboardContent:v}):So(s.key)})()),$(),$=g(r,(e=>n(5,d=e))))},[s,x,r,c,u,d,f,h,b,v,w,_,function(){r.reset(),n(1,x=void 0)},async function(){try{n(1,x={state:"processing"});const e=await async function(){if("file"===s.key){if(void 0===c)throw new Error(u("no_file_uploaded"));return c}return"url"===s.key?(await U_e.addViaUrlToFile(l)).id:"clipboard"===s.key?(await U_e.addViaText(i)).id:So(s.key)}();if(void 0===e)return;const t=await bH({schema:m,dataFile:{id:e}}),r=nI(p.id,m.oid,t.table.oid,{useColumnTypeInference:o,renamedIdColumn:t.renamedColumns.id});Yz.goto(r,!0),n(1,x=void 0)}catch(e){n(1,x={state:"failure",errors:[ck(e)]})}},p,m,function(e){c=e,w.set(c)},e=>({component:OI,props:{name:e.label,icon:e.icon}}),function(e){s=e,h.set(s)}]}class Wke extends ut{constructor(e){super(),ct(this,e,Uke,jke,f,{database:14,schema:15})}}function Yke(e){const t={useColumnTypeInference:"true"===(n=e[3].query).inference,renamedIdColumn:n.renamed_id_column?UM.decode(n.renamed_id_column):void 0};var n;e[4]=t;const r=parseInt(e[3].params.tableIdString,10);e[5]=r}function Kke(e){let t,n;return t=new Wke({props:{database:e[0],schema:e[1]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Gke(e){let t,n;Yke(e);const r=[{database:e[0]},{schema:e[1]},{tableId:e[5]},e[4]];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new vke({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){Yke(e);const o=11&n?rt(r,[1&n&&{database:e[0]},2&n&&{schema:e[1]},8&n&&{tableId:e[5]},8&n&&ot(e[4])]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Xke(e){let t,n,r,o,s,a;return t=new z6({props:{item:{type:"simple",href:QM(e[0].id,e[1].oid),label:e[2]("import"),icon:eC}}}),r=new sV({props:{path:"/",$$slots:{default:[Kke]},$$scope:{ctx:e}}}),s=new sV({props:{path:"/:tableIdString",$$slots:{default:[Gke,({meta:e})=>({3:e}),({meta:e})=>e?8:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),at(s.$$.fragment)},m(e,i){it(t,e,i),H(e,n,i),it(r,e,i),H(e,o,i),it(s,e,i),a=!0},p(e,[n]){const o={};7&n&&(o.item={type:"simple",href:QM(e[0].id,e[1].oid),label:e[2]("import"),icon:eC}),t.$set(o);const a={};67&n&&(a.$$scope={dirty:n,ctx:e}),r.$set(a);const i={};75&n&&(i.$$scope={dirty:n,ctx:e}),s.$set(i)},i(e){a||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),a=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),a=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),lt(s,e)}}}function Zke(e,t,n){let r;y(e,no,(e=>n(2,r=e)));let{database:o}=t,{schema:s}=t;return e.$$set=e=>{"database"in e&&n(0,o=e.database),"schema"in e&&n(1,s=e.schema)},[o,s,r]}class Jke extends ut{constructor(e){super(),ct(this,e,Zke,Xke,f,{database:0,schema:1})}}function Qke(e){let t,n,r;return n=new t$({}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","record-page-loading-spinner svelte-dw88uy")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p:a,i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}class eMe extends ut{constructor(e){super(),ct(this,e,null,Qke,f,{})}}function tMe(e){let t,n,r;return n=new cV({props:{fullWidth:!0,$$slots:{default:[oMe]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","no-access svelte-em1nh2")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};16416&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function nMe(e){let t;const n=e[13].default,r=b(n,e,e[14],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||16384&o)&&_(r,n,e,e[14],t?w(n,e[14],o,null):x(e[14]),null)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function rMe(e){let t,n;return t=new eMe({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function oMe(e){let t,n=e[5]("no_privileges_view_record")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){32&r&&n!==(n=e[5]("no_privileges_view_record")+"")&&Q(t,n)},d(e){e&&z(t)}}}function sMe(e){let t,n,r,o;const s=[rMe,nMe,tMe],a=[];function i(e,t){return e[0]?0:e[3]?1:2}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,[o]){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function aMe(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h=a,b=a,v=a;y(e,no,(e=>n(5,f=e))),e.$$.on_destroy.push((()=>h())),e.$$.on_destroy.push((()=>b())),e.$$.on_destroy.push((()=>v()));let{$$slots:w={},$$scope:_}=t,{record:x}=t;return e.$$set=e=>{"record"in e&&n(6,x=e.record),"$$scope"in e&&n(14,_=e.$$scope)},e.$$.update=()=>{64&e.$$.dirty&&n(9,({table:r,tableStructure:o}=x),r,(n(8,o),n(6,x))),512&e.$$.dirty&&(n(4,({currentRolePrivileges:s}=r.currentAccess),s),v(),v=g(s,(e=>n(12,m=e)))),4096&e.$$.dirty&&n(3,i=m.has("SELECT")),256&e.$$.dirty&&(n(2,l=o.isLoading),h(),h=g(l,(e=>n(10,$=e)))),64&e.$$.dirty&&(n(1,c=x.fetchRequest),b(),b=g(c,(e=>n(11,p=e)))),2048&e.$$.dirty&&n(7,u="processing"===p?.state),1152&e.$$.dirty&&n(0,d=$||u)},[d,c,l,i,s,f,x,u,o,r,$,p,m,w,_]}class iMe extends ut{constructor(e){super(),ct(this,e,aMe,sMe,f,{record:6})}}function lMe(e){return{columnErrors:e,recordErrors:[]}}function cMe(e){return{columnErrors:new ao,recordErrors:e}}function uMe(e,t){return e.withEntries(t,((e,t)=>[...e,...t]))}function dMe(e,t){return{columnErrors:uMe(e.columnErrors,t.columnErrors),recordErrors:[...e.recordErrors,...t.recordErrors]}}const $Me=[e=>{if(bo(e,"constraint_columns")&&Array.isArray(e.constraint_columns)&&vo(e,"original_details"))return new ao(e.constraint_columns.filter(yo).map((t=>[t,[e.original_details]])))}];function pMe(e){for(const t of $Me){const n=t(e);if(n)return n}}function mMe(e){{const t=pMe(e);if(t)return lMe(t)}if(e instanceof dk){const t=pMe(e.detail);return t?lMe(t):cMe([e.message])}return e instanceof $k?e.errors.map(mMe).reduce(dMe,cMe([])):cMe([ck(e)])}function fMe(e){let t,n;const r=[Ad];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[ot(Ad)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function gMe(e){let t,n;const r=[Rd];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[ot(Rd)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function hMe(e){let t,n;const r=[Pd];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[ot(Pd)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function yMe(e){let t,n;return t=new t$({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function bMe(e){let t,n,r,o,s,a,i,l,c,u=(e[1][e[0]]??"")+"";const d=[yMe,hMe,gMe,fMe],$=[];function p(e,t){return"processing"===e[0]?0:"success"===e[0]?1:"failure"===e[0]?2:3}return r=p(e),o=$[r]=d[r](e),{c(){t=q("span"),n=q("span"),o.c(),s=U(),a=q("span"),i=j(u),X(n,"class","icon svelte-1dsqcdc"),X(t,"class",l="status-indicator "+e[0]+" "+e[2]+" svelte-1dsqcdc")},m(e,o){H(e,t,o),F(t,n),$[r].m(n,null),F(t,s),F(t,a),F(a,i),c=!0},p(e,[s]){let a=r;r=p(e),r===a?$[r].p(e,s):(qe(),Ue($[a],1,1,(()=>{$[a]=null})),Be(),o=$[r],o?o.p(e,s):(o=$[r]=d[r](e),o.c()),je(o,1),o.m(n,null)),(!c||3&s)&&u!==(u=(e[1][e[0]]??"")+"")&&Q(i,u),(!c||5&s&&l!==(l="status-indicator "+e[0]+" "+e[2]+" svelte-1dsqcdc"))&&X(t,"class",l)},i(e){c||(je(o),c=!0)},o(e){Ue(o),c=!1},d(e){e&&z(t),$[r].d()}}}function vMe(e,t,n){let{state:r}=t,{messages:o}=t,{class:s=""}=t;return e.$$set=e=>{"state"in e&&n(0,r=e.state),"messages"in e&&n(1,o=e.messages),"class"in e&&n(2,s=e.class)},[r,o,s]}class wMe extends ut{constructor(e){super(),ct(this,e,vMe,bMe,f,{state:0,messages:1,class:2})}}function _Me(e){let t,n,r,o;return n=new wMe({props:{state:e[1],messages:{processing:e[2]("saving_changes"),failure:e[2]("unable_to_save_changes"),warning:e[2]("unsaved_changes"),success:e[2]("all_changes_saved")}}}),{c(){t=q("span"),at(n.$$.fragment),X(t,"class","modification-status-indicator svelte-jrwjrw")},m(e,r){H(e,t,r),it(n,t,null),o=!0},p(t,r){e=t;const o={};2&r&&(o.state=e[1]),4&r&&(o.messages={processing:e[2]("saving_changes"),failure:e[2]("unable_to_save_changes"),warning:e[2]("unsaved_changes"),success:e[2]("all_changes_saved")}),n.$set(o)},i(e){o||(je(n.$$.fragment,e),r&&r.end(1),o=!0)},o(s){Ue(n.$$.fragment,s),s&&(r=Ke(t,gg,{duration:e[0]})),o=!1},d(e){e&&z(t),lt(n),e&&r&&r.end()}}}function xMe(e){let t,n,r=e[1]&&_Me(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,[n]){e[1]?r?(r.p(e,n),2&n&&je(r,1)):(r=_Me(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function CMe(e,t,n){let r,o;y(e,no,(e=>n(2,o=e)));let s,a,{requestState:i}=t,{hasChanges:l=!1}=t,c=0;function u(){n(0,c=1e3),n(5,s=void 0)}return he((()=>{window.clearTimeout(a)})),e.$$set=e=>{"requestState"in e&&n(3,i=e.requestState),"hasChanges"in e&&n(4,l=e.hasChanges)},e.$$.update=()=>{var t;8&e.$$.dirty&&(t=i,window.clearTimeout(a),a=void 0,n(0,c=0),n(5,s=t),"success"===s&&(a=window.setTimeout(u,5e3))),16&e.$$.dirty&&(l||"failure"!==s||n(5,s=void 0)),48&e.$$.dirty&&n(1,r="processing"===s?"processing":l&&"failure"===s?"failure":l?"warning":"success"===s?"success":void 0)},[c,r,o,i,l,s]}class SMe extends ut{constructor(e){super(),ct(this,e,CMe,xMe,f,{requestState:3,hasChanges:4})}}function kMe(e){let t,n;return t=new SMe({props:{hasChanges:e[1],requestState:e[3]?.state}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.hasChanges=e[1]),8&n&&(r.requestState=e[3]?.state),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function MMe(e,t,n){let r,o,s,i,l=a,c=()=>(l(),l=g(d,(e=>n(4,s=e))),d),u=a;e.$$.on_destroy.push((()=>l())),e.$$.on_destroy.push((()=>u()));let{form:d}=t;return c(),e.$$set=e=>{"form"in e&&c(n(0,d=e.form))},e.$$.update=()=>{1&e.$$.dirty&&(n(2,({requestStatus:r}=d),r),u(),u=g(r,(e=>n(3,i=e)))),16&e.$$.dirty&&n(1,({hasChanges:o}=s),o)},[d,o,r,i,s]}class IMe extends ut{constructor(e){super(),ct(this,e,MMe,kMe,f,{form:0})}}function TMe(e){const t=e.slice(),n=t[7]({tableId:t[5].referent_table_oid,recordId:t[2]});return t[34]=n,t}function EMe(e){let t,n;return t=new qV({props:{processedColumn:e[0]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.processedColumn=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function DMe(e){let t,n,r,o;t=new nw({props:{icon:$S,$$slots:{default:[OMe]},$$scope:{ctx:e}}}),t.$on("click",e[18]);let s=e[34]&&NMe(e);return{c(){at(t.$$.fragment),n=U(),s&&s.c(),r=W()},m(e,a){it(t,e,a),H(e,n,a),s&&s.m(e,a),H(e,r,a),o=!0},p(e,n){const o={};16384&n[0]|16&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o),e[34]?s?(s.p(e,n),164&n[0]&&je(s,1)):(s=NMe(e),s.c(),je(s,1),s.m(r.parentNode,r)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be())},i(e){o||(je(t.$$.fragment,e),je(s),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(s),o=!1},d(e){lt(t,e),e&&z(n),s&&s.d(e),e&&z(r)}}}function OMe(e){let t,n=e[14]("quick_view_linked_record")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){16384&r[0]&&n!==(n=e[14]("quick_view_linked_record")+"")&&Q(t,n)},d(e){e&&z(t)}}}function NMe(e){let t,n;return t=new iw({props:{href:e[34],icon:PC,$$slots:{default:[AMe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};164&n[0]&&(r.href=e[34]),16384&n[0]|16&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function AMe(e){let t,n=e[14]("open_linked_record")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){16384&r[0]&&n!==(n=e[14]("open_linked_record")+"")&&Q(t,n)},d(e){e&&z(t)}}}function RMe(e){let t,n;return t=new xE({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function FMe(e){let t,n,r="value"===e[33]&&RMe();return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"value"===e[33]?r?4&n[1]&&je(r,1):(r=RMe(),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function PMe(e){let t,n;return t=new Rx({props:{text:e[14]("set_to_value"),$$slots:{default:[FMe,({slotName:e})=>({33:e}),({slotName:e})=>[0,e?4:0]]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16384&n[0]&&(r.text=e[14]("set_to_value")),20&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function LMe(e){let t,n,r,o=e[5]&&DMe(TMe(e));return n=new nw({props:{icon:uC,disabled:e[9],$$slots:{default:[PMe]},$$scope:{ctx:e}}}),n.$on("click",e[26]),{c(){o&&o.c(),t=U(),at(n.$$.fragment)},m(e,s){o&&o.m(e,s),H(e,t,s),it(n,e,s),r=!0},p(e,r){e[5]?o?(o.p(TMe(e),r),32&r[0]&&je(o,1)):(o=DMe(TMe(e)),o.c(),je(o,1),o.m(t.parentNode,t)):o&&(qe(),Ue(o,1,1,(()=>{o=null})),Be());const s={};512&r[0]&&(s.disabled=e[9]),16384&r[0]|16&r[1]&&(s.$$scope={dirty:r,ctx:e}),n.$set(s)},i(e){r||(je(o),je(n.$$.fragment,e),r=!0)},o(e){Ue(o),Ue(n.$$.fragment,e),r=!1},d(e){o&&o.d(e),e&&z(t),lt(n,e)}}}function HMe(e){let t,n,r;return n=new xE({}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","null svelte-11boty5")},m(e,o){H(e,t,o),it(n,t,null),r=!0},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function zMe(e){let t,n,r,o,s,a,i,l,c,u,d,$,p,m,f,g;s=new O$({props:{controller:e[17],$$slots:{default:[EMe]},$$scope:{ctx:e}}}),l=new zh({props:{showArrow:!1,triggerAppearance:"plain",closeOnInnerClick:!0,ariaLabel:e[14]("column_field_options",{values:{columnName:e[3].name}}),icon:Cd,$$slots:{default:[LMe]},$$scope:{ctx:e}}});let h=null===e[4]&&e[8]&&HMe();function y(t){e[29](t)}let b={disabled:e[9],componentAndProps:e[0].inputComponentAndProps,labelController:e[17],recordSummary:e[15].get(String(e[3].id))?.get(String(e[2])),setRecordSummary:e[27],fileManifest:e[6],setFileManifest:e[28],hasError:e[16],allowsHyperlinks:!0};return void 0!==e[4]&&(b.value=e[4]),$=new DV({props:b}),Ce.push((()=>st($,"value",y))),f=new wL({props:{field:e[1]}}),{c(){t=q("div"),n=q("div"),r=q("div"),o=q("div"),at(s.$$.fragment),a=U(),i=q("div"),at(l.$$.fragment),c=U(),u=q("div"),h&&h.c(),d=U(),at($.$$.fragment),m=U(),at(f.$$.fragment),X(o,"class","label svelte-11boty5"),X(i,"class","options svelte-11boty5"),X(r,"class","complex-label svelte-11boty5"),X(n,"class","left cell svelte-11boty5"),X(u,"class","input cell svelte-11boty5"),X(t,"class","direct-field svelte-11boty5")},m(e,p){H(e,t,p),F(t,n),F(n,r),F(r,o),it(s,o,null),F(r,a),F(r,i),it(l,i,null),F(t,c),F(t,u),h&&h.m(u,null),F(u,d),it($,u,null),F(u,m),it(f,u,null),g=!0},p(e,t){const n={};1&t[0]|16&t[1]&&(n.$$scope={dirty:t,ctx:e}),s.$set(n);const r={};16392&t[0]&&(r.ariaLabel=e[14]("column_field_options",{values:{columnName:e[3].name}})),17062&t[0]|16&t[1]&&(r.$$scope={dirty:t,ctx:e}),l.$set(r),null===e[4]&&e[8]?h?272&t[0]&&je(h,1):(h=HMe(),h.c(),je(h,1),h.m(u,d)):h&&(qe(),Ue(h,1,1,(()=>{h=null})),Be());const o={};512&t[0]&&(o.disabled=e[9]),1&t[0]&&(o.componentAndProps=e[0].inputComponentAndProps),32780&t[0]&&(o.recordSummary=e[15].get(String(e[3].id))?.get(String(e[2]))),8200&t[0]&&(o.setRecordSummary=e[27]),64&t[0]&&(o.fileManifest=e[6]),4104&t[0]&&(o.setFileManifest=e[28]),65536&t[0]&&(o.hasError=e[16]),!p&&16&t[0]&&(p=!0,o.value=e[4],Oe((()=>p=!1))),$.$set(o);const a={};2&t[0]&&(a.field=e[1]),f.$set(a)},i(e){g||(je(s.$$.fragment,e),je(l.$$.fragment,e),je(h),je($.$$.fragment,e),je(f.$$.fragment,e),g=!0)},o(e){Ue(s.$$.fragment,e),Ue(l.$$.fragment,e),Ue(h),Ue($.$$.fragment,e),Ue(f.$$.fragment,e),g=!1},d(e){e&&z(t),lt(s),lt(l),h&&h.d(),lt($),lt(f)}}}function VMe(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,b,v,w,_,x,C,S,k,M=a,I=a,T=a,E=()=>(T(),T=g(L,(e=>n(4,x=e))),L),D=a,O=a;y(e,xH,(e=>n(30,b=e))),y(e,EH,(e=>n(24,w=e))),y(e,no,(e=>n(14,C=e))),e.$$.on_destroy.push((()=>M())),e.$$.on_destroy.push((()=>I())),e.$$.on_destroy.push((()=>T())),e.$$.on_destroy.push((()=>D())),e.$$.on_destroy.push((()=>O()));const N=new Set(["date","datetime","duration","time"]),A=new f$,R=NH.get();let{record:F}=t,{processedColumn:P}=t,{field:L}=t;E();let{canUpdateTableRecords:H=!0}=t;return e.$$set=e=>{"record"in e&&n(19,F=e.record),"processedColumn"in e&&n(0,P=e.processedColumn),"field"in e&&E(n(1,L=e.field)),"canUpdateTableRecords"in e&&n(20,H=e.canUpdateTableRecords)},e.$$.update=()=>{524288&e.$$.dirty[0]&&(n(13,({recordSummaries:r,fileManifests:o}=F),r,(n(12,o),M(),M=g(o,(e=>n(23,v=e))),o)),D(),D=g(r,(e=>n(15,S=e)))),1&e.$$.dirty[0]&&n(3,({column:s,abstractType:i,linkFk:l}=P),s,(n(21,i),n(0,P)),(n(5,l),n(0,P))),1&e.$$.dirty[0]&&n(22,c=P.currentRolePrivileges.has("UPDATE")),16&e.$$.dirty[0]&&n(2,u=x),2&e.$$.dirty[0]&&(n(11,d=L.disabled),I(),I=g(d,(e=>n(25,_=e)))),2&e.$$.dirty[0]&&(n(10,({showsError:$}=L),$),O(),O=g($,(e=>n(16,k=e)))),38797320&e.$$.dirty[0]&&n(9,p=s.primary_key||_||!H||!c),2097152&e.$$.dirty[0]&&n(8,m=!N.has(i.cellInfo.type)),16777216&e.$$.dirty[0]&&n(7,f=w),8388620&e.$$.dirty[0]&&n(6,h=(()=>{if(!s.metadata?.file_backend)return;const e=UT(u);return e?v.get(String(s.id))?.get(e.mash):void 0})())},[P,L,u,s,x,l,h,f,m,p,$,d,o,r,C,S,k,A,function(){if(!R)return;if(void 0===u)return;const e=l?.referent_table_oid;if(!e)return;const t=b.get(e);if(!t)return;const n=new OH({table:t,recordPk:String(u)});R.open(n)},F,H,i,c,v,w,_,()=>L.set(null),(e,t)=>r.addBespokeValue({columnId:String(s.id),key:e,value:t}),(e,t)=>{o.addBespokeValue({columnId:String(s.id),key:e,value:t})},function(e){x=e,L.set(x)}]}class qMe extends ut{constructor(e){super(),ct(this,e,VMe,zMe,f,{record:19,processedColumn:0,field:1,canUpdateTableRecords:20},null,[-1,-1])}}function BMe(e){let t;return{c(){t=j(e[3])},m(e,n){H(e,t,n)},p(e,n){8&n&&Q(t,e[3])},d(e){e&&z(t)}}}function jMe(e){let t,n,r;const o=[PC];let s={};for(let a=0;a<o.length;a+=1)s=l(s,o[a]);return n=new Jd({props:s}),{c(){t=q("a"),at(n.$$.fragment),X(t,"href",e[0]),X(t,"slot","trigger"),X(t,"class","btn btn-ghost")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,s){const a=0&s?rt(o,[ot(PC)]):{};n.$set(a),(!r||1&s)&&X(t,"href",e[0])},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function UMe(e){let t,n,r=e[4]("open_in_full_page")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","content")},m(e,r){H(e,t,r),F(t,n)},p(e,t){16&t&&r!==(r=e[4]("open_in_full_page")+"")&&Q(n,r)},d(e){e&&z(t)}}}function WMe(e){let t,n;return t=new HI({props:{table:e[2],truncate:!1}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.table=e[2]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function YMe(e){let t,n,r="tableName"===e[6]&&WMe(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"tableName"===e[6]?r?(r.p(e,n),64&n&&je(r,1)):(r=WMe(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function KMe(e){let t,n,r,o,s,a,i,l,c,u;return r=new OI({props:{icon:zC,cssVariables:{"--icon-color":"var(--color-record)"},$$slots:{default:[BMe]},$$scope:{ctx:e}}}),a=new Eu({props:{$$slots:{content:[UMe],trigger:[jMe]},$$scope:{ctx:e}}}),c=new Rx({props:{text:e[4]("record_in_table"),$$slots:{default:[YMe,({slotName:e})=>({6:e}),({slotName:e})=>e?64:0]},$$scope:{ctx:e}}}),{c(){t=q("div"),n=q("div"),at(r.$$.fragment),o=U(),s=q("div"),at(a.$$.fragment),i=U(),l=q("div"),at(c.$$.fragment),X(s,"class","link svelte-jwbf0l"),X(n,"class","title svelte-jwbf0l"),X(l,"class","table-name svelte-jwbf0l"),X(t,"class","record-title")},m(e,d){H(e,t,d),F(t,n),it(r,n,null),F(n,o),F(n,s),it(a,s,null),F(t,i),F(t,l),it(c,l,null),u=!0},p(e,[t]){const n={};136&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n);const o={};145&t&&(o.$$scope={dirty:t,ctx:e}),a.$set(o);const s={};16&t&&(s.text=e[4]("record_in_table")),196&t&&(s.$$scope={dirty:t,ctx:e}),c.$set(s)},i(e){u||(je(r.$$.fragment,e),je(a.$$.fragment,e),je(c.$$.fragment,e),u=!0)},o(e){Ue(r.$$.fragment,e),Ue(a.$$.fragment,e),Ue(c.$$.fragment,e),u=!1},d(e){e&&z(t),lt(r),lt(a),lt(c)}}}function GMe(e,t,n){let r,o,s,i,l,c=a;y(e,no,(e=>n(4,l=e))),e.$$.on_destroy.push((()=>c()));let{record:u}=t;return e.$$set=e=>{"record"in e&&n(5,u=e.record)},e.$$.update=()=>{32&e.$$.dirty&&n(2,({table:r,summary:o,recordPageUrl:s}=u),r,(n(1,o),c(),c=g(o,(e=>n(3,i=e))),o),(n(0,s),n(5,u)))},[s,o,r,i,l,u]}class XMe extends ut{constructor(e){super(),ct(this,e,GMe,KMe,f,{record:5})}}class ZMe extends oo{async beginAddingNewFilteringEntry(e){await this.dispatch("openDropdown"),await Ee(),await this.dispatch("addFilter",e),await Ee(),await this.dispatch("activateLastFilterInput")}onOpenDropdown(e){return this.on("openDropdown",e)}onAddFilter(e){return this.on("addFilter",e)}onActivateLastFilterInput(e){return this.on("activateLastFilterInput",e)}}const JMe=ss();function QMe(e){return new IT({combination:e.combination,entries:JSON.parse(JSON.stringify(e.entries))})}function eIe(e,t,n){const r=e.slice();return r[15]=t[n],r[16]=t,r[17]=n,r}function tIe(e){let t,n;return t=new fm({props:{$$slots:{default:[oIe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};262146&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function nIe(e){let t,n,r;function o(t){e[6](t)}let s={options:kT};return void 0!==e[1]&&(s.value=e[1]),t=new $y({props:s}),Ce.push((()=>st(t,"value",o))),t.$on("change",e[7]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};!n&&2&r&&(n=!0,o.value=e[1],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function rIe(e){let t,n;return t=new fm({props:{$$slots:{default:[sIe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};262160&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function oIe(e){let t;return{c(){t=j(e[1])},m(e,n){H(e,t,n)},p(e,n){2&n&&Q(t,e[1])},d(e){e&&z(t)}}}function sIe(e){let t,n=e[4]("where")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){16&r&&n!==(n=e[4]("where")+"")&&Q(t,n)},d(e){e&&z(t)}}}function aIe(e){let t,n,r,o;const s=[rIe,nIe,tIe],a=[];function i(e,t){return 0===e[17]?0:1===e[17]?1:2}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=U()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function iIe(e,t){let n,r,o,s,a,i;function l(e){t[10](e,t[15])}function c(e){t[11](e,t[15])}function u(e){t[12](e,t[15])}let d={columns:t[2],getColumnLabel:t[8],getColumnConstraintType:t[9],numberOfFilters:t[0].length,recordSummaryStore:t[3],$$slots:{default:[aIe]},$$scope:{ctx:t}};return void 0!==t[15].columnId&&(d.columnIdentifier=t[15].columnId),void 0!==t[15].conditionId&&(d.conditionIdentifier=t[15].conditionId),void 0!==t[15].value&&(d.value=t[15].value),r=new Y$e({props:d}),Ce.push((()=>st(r,"columnIdentifier",l))),Ce.push((()=>st(r,"conditionIdentifier",c))),Ce.push((()=>st(r,"value",u))),r.$on("removeFilter",(function(){return t[13](t[17])})),r.$on("update",t[14]),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),i=!0},p(e,n){t=e;const i={};4&n&&(i.columns=t[2]),4&n&&(i.getColumnLabel=t[8]),4&n&&(i.getColumnConstraintType=t[9]),1&n&&(i.numberOfFilters=t[0].length),8&n&&(i.recordSummaryStore=t[3]),262163&n&&(i.$$scope={dirty:n,ctx:t}),!o&&1&n&&(o=!0,i.columnIdentifier=t[15].columnId,Oe((()=>o=!1))),!s&&1&n&&(s=!0,i.conditionIdentifier=t[15].conditionId,Oe((()=>s=!1))),!a&&1&n&&(a=!0,i.value=t[15].value,Oe((()=>a=!1))),r.$set(i)},i(e){i||(je(r.$$.fragment,e),i=!0)},o(e){Ue(r.$$.fragment,e),i=!1},d(e){e&&z(n),lt(r,e)}}}function lIe(e){let t,n,r=[],o=new Map,s=e[0];const a=e=>e[15];for(let i=0;i<s.length;i+=1){let t=eIe(e,s,i),n=a(t);o.set(n,r[i]=iIe(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=W()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);H(e,t,o),n=!0},p(e,[n]){63&n&&(s=e[0],qe(),r=nt(r,n,a,1,e,s,o,t.parentNode,et,iIe,t,eIe),Be())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ue(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&z(t)}}}function cIe(e,t,n){let r;y(e,no,(e=>n(4,r=e)));const o=ye();let{processedColumns:s}=t,{recordSummaries:a}=t,{entries:i}=t,{filterCombination:l=MT}=t;return e.$$set=e=>{"processedColumns"in e&&n(2,s=e.processedColumns),"recordSummaries"in e&&n(3,a=e.recordSummaries),"entries"in e&&n(0,i=e.entries),"filterCombination"in e&&n(1,l=e.filterCombination)},[i,l,s,a,r,o,function(e){l=e,n(1,l)},()=>o("updateCombination",l),e=>s.get(e.id)?.column.name??"",e=>RV(e.id,s),function(t,r){e.$$.not_equal(r.columnId,t)&&(r.columnId=t,n(0,i))},function(t,r){e.$$.not_equal(r.conditionId,t)&&(r.conditionId=t,n(0,i))},function(t,r){e.$$.not_equal(r.value,t)&&(r.value=t,n(0,i))},e=>o("remove",e),function(t){_e.call(this,e,t)}]}class uIe extends ut{constructor(e){super(),ct(this,e,cIe,lIe,f,{processedColumns:2,recordSummaries:3,entries:0,filterCombination:1})}}function dIe(e,t,n){const r=e.slice();return r[22]=t[n],r}function $Ie(e){let t,n,r=e[6]("no_filters_added")+"";return{c(){t=q("span"),n=j(r),X(t,"class","muted svelte-1uej520")},m(e,r){H(e,t,r),F(t,n)},p(e,t){64&t&&r!==(r=e[6]("no_filters_added")+"")&&Q(n,r)},i:a,o:a,d(e){e&&z(t)}}}function pIe(e){let t,n,r,o;function s(t){e[13](t)}function a(t){e[14](t)}let i={processedColumns:e[1],recordSummaries:e[2]};return void 0!==e[3].entries&&(i.entries=e[3].entries),void 0!==e[3].combination&&(i.filterCombination=e[3].combination),t=new uIe({props:i}),Ce.push((()=>st(t,"entries",s))),Ce.push((()=>st(t,"filterCombination",a))),t.$on("remove",e[15]),t.$on("update",e[11]),t.$on("updateCombination",e[16]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),o=!0},p(e,o){const s={};2&o&&(s.processedColumns=e[1]),4&o&&(s.recordSummaries=e[2]),!n&&8&o&&(n=!0,s.entries=e[3].entries,Oe((()=>n=!1))),!r&&8&o&&(r=!0,s.filterCombination=e[3].combination,Oe((()=>r=!1))),t.$set(s)},i(e){o||(je(t.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),o=!1},d(e){lt(t,e)}}}function mIe(e){let t,n,r;return n=new zh({props:{icon:jx,label:e[6]("add_new_filter"),disabled:0===e[1].size,triggerAppearance:"secondary",$$slots:{default:[hIe]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","footer")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};64&t&&(r.label=e[6]("add_new_filter")),2&t&&(r.disabled=0===e[1].size),33554434&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function fIe(e){let t,n,r;return t=new qV({props:{processedColumn:e[22]}}),{c(){at(t.$$.fragment),n=U()},m(e,o){it(t,e,o),H(e,n,o),r=!0},p(e,n){const r={};2&n&&(r.processedColumn=e[22]),t.$set(r)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e),e&&z(n)}}}function gIe(e,t){let n,r,o;return r=new nw({props:{$$slots:{default:[fIe]},$$scope:{ctx:t}}}),r.$on("click",(function(){return t[17](t[22])})),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};33554434&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function hIe(e){let t,n,r=[],o=new Map,s=[...e[1].values()];const a=e=>e[22].id;for(let i=0;i<s.length;i+=1){let t=dIe(e,s,i),n=a(t);o.set(n,r[i]=gIe(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=W()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);H(e,t,o),n=!0},p(e,n){4354&n&&(s=[...e[1].values()],qe(),r=nt(r,n,a,1,e,s,o,t.parentNode,et,gIe,t,dIe),Be())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ue(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&z(t)}}}function yIe(e){let t,n,r,o,s,a,i,l,c,u=e[6]("filter_records")+"";const d=[pIe,$Ie],$=[];function p(e,t){return e[5]?0:1}a=p(e),i=$[a]=d[a](e);let m=e[1].size&&mIe(e);return{c(){t=q("div"),n=q("div"),r=j(u),o=U(),s=q("div"),i.c(),l=U(),m&&m.c(),X(n,"class","header svelte-1uej520"),X(s,"class","content"),X(t,"class","filters svelte-1uej520"),se(t,"filtered",e[5])},m(i,u){H(i,t,u),F(t,n),F(n,r),F(t,o),F(t,s),$[a].m(s,null),F(t,l),m&&m.m(t,null),e[18](t),c=!0},p(e,[n]){(!c||64&n)&&u!==(u=e[6]("filter_records")+"")&&Q(r,u);let o=a;a=p(e),a===o?$[a].p(e,n):(qe(),Ue($[o],1,1,(()=>{$[o]=null})),Be(),i=$[a],i?i.p(e,n):(i=$[a]=d[a](e),i.c()),je(i,1),i.m(s,null)),e[1].size?m?(m.p(e,n),2&n&&je(m,1)):(m=mIe(e),m.c(),je(m,1),m.m(t,null)):m&&(qe(),Ue(m,1,1,(()=>{m=null})),Be()),(!c||32&n)&&se(t,"filtered",e[5])},i(e){c||(je(i),je(m),c=!0)},o(e){Ue(i),Ue(m),c=!1},d(n){n&&z(t),$[a].d(),m&&m.d(),e[18](null)}}}function bIe(e,t,n){let r,o,s,i,l=a,c=()=>(l(),l=g(d,(e=>n(19,o=e))),d);y(e,no,(e=>n(6,i=e))),e.$$.on_destroy.push((()=>l()));const u=JMe.get();let{filtering:d}=t;c();let{processedColumns:$}=t,{recordSummaries:p}=t;const m=pt(QMe(o));let f;function h(){const e=s.entries.filter((e=>{const t=$.get(e.columnId)?.allowedFiltersMap.get(e.conditionId);return!!t&&_z(t,e.value)})),t=QMe({...s,entries:e});o.equals(t)||d.set(t)}function b(e){const t=$.get(e);if(!t)return;const n=[...t.allowedFiltersMap.values()][0];if(!n)return;const r={columnId:t.id,conditionId:n.id,value:void 0,isValid:_z(n,void 0)};m.update((e=>e.withEntry(r))),h()}function v(e){m.update((t=>t.withoutEntry(e))),h()}function w(e){m.update((t=>t.withCombination(e))),h()}function _(){const e=bc(f.querySelectorAll(".filter-input"));e&&("launchRecordSelector"in e?e.launchRecordSelector():e.focus())}y(e,m,(e=>n(3,s=e))),fe((()=>u?.onAddFilter(b))),fe((()=>u?.onActivateLastFilterInput(_)));return e.$$set=e=>{"filtering"in e&&c(n(0,d=e.filtering)),"processedColumns"in e&&n(1,$=e.processedColumns),"recordSummaries"in e&&n(2,p=e.recordSummaries)},e.$$.update=()=>{8&e.$$.dirty&&n(5,r=s.entries.length)},[d,$,p,s,f,r,i,m,b,v,w,function(){h()},_,function(t){e.$$.not_equal(s.entries,t)&&(s.entries=t,m.set(s))},function(t){e.$$.not_equal(s.combination,t)&&(s.combination=t,m.set(s))},e=>v(e.detail),e=>w(e.detail),async e=>{b(e.id),await Ee(),_()},function(e){Ce[e?"unshift":"push"]((()=>{f=e,n(4,f)}))}]}class vIe extends ut{constructor(e){super(),ct(this,e,bIe,yIe,f,{filtering:0,processedColumns:1,recordSummaries:2})}}function wIe(e){let t,n,r,o,s,a,i,c=e[5]("filter")+"";const u=[AC,{size:"0.8em"}];let d={};for(let $=0;$<u.length;$+=1)d=l(d,u[$]);return t=new Jd({props:d}),a=new Bc({props:{value:e[6].entries.length}}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(c),s=U(),at(a.$$.fragment),X(r,"class","responsive-button-label with-badge svelte-19augaz")},m(e,l){it(t,e,l),H(e,n,l),H(e,r,l),F(r,o),F(r,s),it(a,r,null),i=!0},p(e,n){const r=0&n?rt(u,[ot(AC),u[1]]):{};t.$set(r),(!i||32&n)&&c!==(c=e[5]("filter")+"")&&Q(o,c);const s={};64&n&&(s.value=e[6].entries.length),a.$set(s)},i(e){i||(je(t.$$.fragment,e),je(a.$$.fragment,e),i=!0)},o(e){Ue(t.$$.fragment,e),Ue(a.$$.fragment,e),i=!1},d(e){lt(t,e),e&&z(n),e&&z(r),lt(a)}}}function _Ie(e){let t,n;return t=new vIe({props:{slot:"content",filtering:e[0],processedColumns:e[2],recordSummaries:e[3].linkedRecordSummaries}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.filtering=e[0]),4&n&&(r.processedColumns=e[2]),8&n&&(r.recordSummaries=e[3].linkedRecordSummaries),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function xIe(e){let t,n,r;const o=[{showArrow:!1},{triggerAppearance:"secondary"},e[8],{ariaLabel:e[5]("filter")}];function s(t){e[12](t)}let a={$$slots:{content:[_Ie],trigger:[wIe]},$$scope:{ctx:e}};for(let i=0;i<o.length;i+=1)a=l(a,o[i]);return void 0!==e[1]&&(a.isOpen=e[1]),t=new _f({props:a}),Ce.push((()=>st(t,"isOpen",s))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,[r]){const s=288&r?rt(o,[o[0],o[1],256&r&&ot(e[8]),32&r&&{ariaLabel:e[5]("filter")}]):{};32877&r&&(s.$$scope={dirty:r,ctx:e}),!n&&2&r&&(n=!0,s.isOpen=e[1],Oe((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function CIe(e,t,n){let r,o,s;const i=["filtering","canViewLinkedEntities"];let c,u,d,$,p=S(t,i),m=a,f=a,h=()=>(f(),f=g(w,(e=>n(6,$=e))),w);y(e,no,(e=>n(5,d=e))),e.$$.on_destroy.push((()=>m())),e.$$.on_destroy.push((()=>f()));const b=JMe.get(),v=Dz();y(e,v,(e=>n(11,u=e)));let{filtering:w}=t;h();let{canViewLinkedEntities:_=!0}=t,x=!1;function k(){n(1,x=!0)}return fe((()=>b?.onOpenDropdown(k))),e.$$set=e=>{t=l(l({},t),C(e)),n(8,p=S(t,i)),"filtering"in e&&h(n(0,w=e.filtering)),"canViewLinkedEntities"in e&&n(9,_=e.canViewLinkedEntities)},e.$$.update=()=>{2048&e.$$.dirty&&(n(4,({processedColumns:r,recordsData:o}=u),r,(n(3,o),n(11,u))),m(),m=g(r,(e=>n(10,c=e)))),1536&e.$$.dirty&&n(2,s=_?c:new Map([...c].filter((([,e])=>!e.linkFk))))},[w,x,s,o,r,d,$,v,p,_,c,u,function(e){x=e,n(1,x)}]}class SIe extends ut{constructor(e){super(),ct(this,e,CIe,xIe,f,{filtering:0,canViewLinkedEntities:9})}}function kIe(e,t,n){const r=e.slice();return r[14]=t[n],r}function MIe(e,t,n){const r=e.slice();return r[17]=t[n],r[19]=n,r}function IIe(e){let t,n,r=e[5]("no_grouping_condition_added")+"";return{c(){t=q("span"),n=j(r),X(t,"class","muted svelte-2j8h0p")},m(e,r){H(e,t,r),F(t,n)},p(e,t){32&t&&r!==(r=e[5]("no_grouping_condition_added")+"")&&Q(n,r)},d(e){e&&z(t)}}}function TIe(e,t){let n,r,o;return r=new Ife({props:{columns:t[2],columnsAllowedForSelection:t[3].map(AIe),getColumnLabel:RIe,getColumnConstraintType:t[10],columnIdentifier:t[17].columnId,preprocFunctionIdentifier:t[17].preprocFnId,disableColumnChange:t[1].entries.length>1&&t[19]<t[1].entries.length-1}}),r.$on("update",(function(...e){return t[11](t[19],...e)})),r.$on("removeGroup",(function(){return t[12](t[19])})),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};4&n&&(o.columns=t[2]),8&n&&(o.columnsAllowedForSelection=t[3].map(AIe)),4&n&&(o.getColumnConstraintType=t[10]),2&n&&(o.columnIdentifier=t[17].columnId),2&n&&(o.preprocFunctionIdentifier=t[17].preprocFnId),2&n&&(o.disableColumnChange=t[1].entries.length>1&&t[19]<t[1].entries.length-1),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function EIe(e){let t,n,r;return t=new qV({props:{processedColumn:e[14]}}),{c(){at(t.$$.fragment),n=U()},m(e,o){it(t,e,o),H(e,n,o),r=!0},p(e,n){const r={};8&n&&(r.processedColumn=e[14]),t.$set(r)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e),e&&z(n)}}}function DIe(e,t){let n,r,o;return r=new nw({props:{$$slots:{default:[EIe]},$$scope:{ctx:t}}}),r.$on("click",(function(){return t[13](t[14])})),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};1048584&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function OIe(e){let t,n,r=[],o=new Map,s=e[3];const a=e=>e[14].id;for(let i=0;i<s.length;i+=1){let t=kIe(e,s,i),n=a(t);o.set(n,r[i]=DIe(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=W()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);H(e,t,o),n=!0},p(e,n){136&n&&(s=e[3],qe(),r=nt(r,n,a,1,e,s,o,t.parentNode,et,DIe,t,kIe),Be())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ue(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&z(t)}}}function NIe(e){let t,n,r,o,s,a,i,l,c,u=e[5]("group_records_by")+"",d=[],$=new Map,p=e[1].entries;const m=e=>e[19];for(let g=0;g<p.length;g+=1){let t=MIe(e,p,g),n=m(t);$.set(n,d[g]=TIe(n,t))}let f=null;return p.length||(f=IIe(e)),l=new zh({props:{icon:jx,label:e[5]("add_new_grouping"),disabled:0===e[3].length,triggerAppearance:"secondary",$$slots:{default:[OIe]},$$scope:{ctx:e}}}),{c(){t=q("div"),n=q("header"),r=j(u),o=U(),s=q("div");for(let e=0;e<d.length;e+=1)d[e].c();f&&f.c(),a=U(),i=q("footer"),at(l.$$.fragment),X(n,"class","svelte-2j8h0p"),X(s,"class","content svelte-2j8h0p"),X(i,"class","svelte-2j8h0p"),X(t,"class","groups svelte-2j8h0p"),se(t,"grouped",e[1].entries.length>0)},m(e,u){H(e,t,u),F(t,n),F(n,r),F(t,o),F(t,s);for(let t=0;t<d.length;t+=1)d[t].m(s,null);f&&f.m(s,null),F(t,a),F(t,i),it(l,i,null),c=!0},p(e,[n]){(!c||32&n)&&u!==(u=e[5]("group_records_by")+"")&&Q(r,u),303&n&&(p=e[1].entries,qe(),d=nt(d,n,m,1,e,p,$,s,et,TIe,null,MIe),Be(),!p.length&&f?f.p(e,n):p.length?f&&(f.d(1),f=null):(f=IIe(e),f.c(),f.m(s,null)));const o={};32&n&&(o.label=e[5]("add_new_grouping")),8&n&&(o.disabled=0===e[3].length),1048584&n&&(o.$$scope={dirty:n,ctx:e}),l.$set(o),(!c||2&n)&&se(t,"grouped",e[1].entries.length>0)},i(e){if(!c){for(let e=0;e<p.length;e+=1)je(d[e]);je(l.$$.fragment,e),c=!0}},o(e){for(let t=0;t<d.length;t+=1)Ue(d[t]);Ue(l.$$.fragment,e),c=!1},d(e){e&&z(t);for(let t=0;t<d.length;t+=1)d[t].d();f&&f.d(),lt(l)}}}const AIe=e=>e.id,RIe=e=>e?.column.name??"";function FIe(e,t,n){let r,o,s,i,l,c,u=a,d=()=>(u(),u=g(m,(e=>n(1,s=e))),m),$=a;y(e,no,(e=>n(5,c=e))),e.$$.on_destroy.push((()=>u())),e.$$.on_destroy.push((()=>$()));const p=Dz();y(e,p,(e=>n(9,l=e)));let{grouping:m}=t;function f(e){m.update((t=>t.withEntry({columnId:e.id,preprocFnId:void 0})))}function h(e,t){m.update((n=>n.withReplacedEntry(e,{columnId:t.columnIdentifier,preprocFnId:t.preprocFunctionIdentifier})))}d();return e.$$set=e=>{"grouping"in e&&d(n(0,m=e.grouping))},e.$$.update=()=>{512&e.$$.dirty&&(n(4,({processedColumns:r}=l),r),$(),$=g(r,(e=>n(2,i=e)))),6&e.$$.dirty&&n(3,o=[...i.values()].filter((e=>!s.hasColumn(e.id))))},[m,s,i,o,r,c,p,f,h,l,e=>RV(e.id,i),(e,t)=>h(e,t.detail),e=>m.update((t=>t.withoutEntry(e))),e=>f(e)]}class PIe extends ut{constructor(e){super(),ct(this,e,FIe,NIe,f,{grouping:0})}}function LIe(e){let t,n,r,o,s,a,i,c=e[1]("group")+"";const u=[FC];let d={};for(let $=0;$<u.length;$+=1)d=l(d,u[$]);return t=new Jd({props:d}),a=new Bc({props:{value:e[2].entries.length}}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(c),s=U(),at(a.$$.fragment),X(r,"class","responsive-button-label with-badge svelte-19augaz")},m(e,l){it(t,e,l),H(e,n,l),H(e,r,l),F(r,o),F(r,s),it(a,r,null),i=!0},p(e,n){const r=0&n?rt(u,[ot(FC)]):{};t.$set(r),(!i||2&n)&&c!==(c=e[1]("group")+"")&&Q(o,c);const s={};4&n&&(s.value=e[2].entries.length),a.$set(s)},i(e){i||(je(t.$$.fragment,e),je(a.$$.fragment,e),i=!0)},o(e){Ue(t.$$.fragment,e),Ue(a.$$.fragment,e),i=!1},d(e){lt(t,e),e&&z(n),e&&z(r),lt(a)}}}function HIe(e){let t,n;return t=new PIe({props:{slot:"content",grouping:e[0]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.grouping=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function zIe(e){let t,n;const r=[{showArrow:!1},{triggerAppearance:"secondary"},e[3],{ariaLabel:e[1]("group")}];let o={$$slots:{content:[HIe],trigger:[LIe]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new _f({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const o=10&n?rt(r,[r[0],r[1],8&n&&ot(e[3]),2&n&&{ariaLabel:e[1]("group")}]):{};23&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function VIe(e,t,n){const r=["grouping"];let o,s,i=S(t,r),c=a,u=()=>(c(),c=g(d,(e=>n(2,s=e))),d);y(e,no,(e=>n(1,o=e))),e.$$.on_destroy.push((()=>c()));let{grouping:d}=t;return u(),e.$$set=e=>{t=l(l({},t),C(e)),n(3,i=S(t,r)),"grouping"in e&&u(n(0,d=e.grouping))},[d,o,s,i]}class qIe extends ut{constructor(e){super(),ct(this,e,VIe,zIe,f,{grouping:0})}}function BIe(e,t,n){const r=e.slice();return r[18]=t[n],r}function jIe(e,t,n){const r=e.slice();return r[21]=t[n][0],r[22]=t[n][1],r}function UIe(e){let t,n,r=e[6]("no_sorting_condition_added")+"";return{c(){t=q("span"),n=j(r),X(t,"class","muted svelte-1cnylxs")},m(e,r){H(e,t,r),F(t,n)},p(e,t){64&t&&r!==(r=e[6]("no_sorting_condition_added")+"")&&Q(n,r)},d(e){e&&z(t)}}}function WIe(e,t){let n,r,o,s,a,i,c,u,$;const p=[wC];let m={};for(let d=0;d<p.length;d+=1)m=l(m,p[d]);return o=new Jd({props:m}),a=new gfe({props:{columns:t[3],columnsAllowedForSelection:t[4],getColumnLabel:JIe,getColumnConstraintType:t[12],columnIdentifier:t[21],sortDirection:t[22]}}),a.$on("remove",(function(){return t[13](t[21])})),a.$on("update",(function(...e){return t[14](t[21],...e)})),{key:e,first:null,c(){n=q("div"),r=q("div"),at(o.$$.fragment),s=U(),at(a.$$.fragment),i=U(),X(r,"class","trigger svelte-1cnylxs"),X(n,"class","item svelte-1cnylxs"),this.first=n},m(e,t){H(e,n,t),F(n,r),it(o,r,null),F(n,s),it(a,n,null),F(n,i),c=!0,u||($=[T(IG.call(null,r)),T(MG.call(null,n))],u=!0)},p(e,n){t=e;const r=0&n?rt(p,[ot(wC)]):{};o.$set(r);const s={};8&n&&(s.columns=t[3]),16&n&&(s.columnsAllowedForSelection=t[4]),8&n&&(s.getColumnConstraintType=t[12]),4&n&&(s.columnIdentifier=t[21]),4&n&&(s.sortDirection=t[22]),a.$set(s)},i(e){c||(je(o.$$.fragment,e),je(a.$$.fragment,e),c=!0)},o(e){Ue(o.$$.fragment,e),Ue(a.$$.fragment,e),c=!1},d(e){e&&z(n),lt(o),lt(a),u=!1,d($)}}}function YIe(e){let t,n,r;return n=new zh({props:{icon:jx,label:e[6]("add_new_sort_condition"),disabled:0===e[1].length,triggerAppearance:"secondary",$$slots:{default:[XIe]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","footer")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};64&t&&(r.label=e[6]("add_new_sort_condition")),2&t&&(r.disabled=0===e[1].length),33554434&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function KIe(e){let t,n,r;return t=new qV({props:{processedColumn:e[18]}}),{c(){at(t.$$.fragment),n=U()},m(e,o){it(t,e,o),H(e,n,o),r=!0},p(e,n){const r={};2&n&&(r.processedColumn=e[18]),t.$set(r)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e),e&&z(n)}}}function GIe(e,t){let n,r,o;return r=new nw({props:{$$slots:{default:[KIe]},$$scope:{ctx:t}}}),r.$on("click",(function(){return t[17](t[18])})),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};33554434&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function XIe(e){let t,n,r=[],o=new Map,s=e[1];const a=e=>e[18].id;for(let i=0;i<s.length;i+=1){let t=BIe(e,s,i),n=a(t);o.set(n,r[i]=GIe(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=W()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);H(e,t,o),n=!0},p(e,n){258&n&&(s=e[1],qe(),r=nt(r,n,a,1,e,s,o,t.parentNode,et,GIe,t,BIe),Be())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ue(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&z(t)}}}function ZIe(e){let t,n,r,o,s,a,i,l,c,u,d=e[6]("sort")+"",p=[],m=new Map,f=[...e[2]];const g=e=>e[21];for(let $=0;$<f.length;$+=1){let t=jIe(e,f,$),n=g(t);m.set(n,p[$]=WIe(n,t))}let h=null;f.length||(h=UIe(e));let y=e[4].length>0&&YIe(e);return{c(){t=q("div"),n=q("div"),r=j(d),o=U(),s=q("div");for(let e=0;e<p.length;e+=1)p[e].c();h&&h.c(),i=U(),y&&y.c(),X(n,"class","header svelte-1cnylxs"),X(s,"class","content svelte-1cnylxs"),X(t,"class","sorters svelte-1cnylxs")},m(d,$){H(d,t,$),F(t,n),F(n,r),F(t,o),F(t,s);for(let e=0;e<p.length;e+=1)p[e].m(s,null);h&&h.m(s,null),F(t,i),y&&y.m(t,null),l=!0,c||(u=T(a=kG.call(null,s,{getItems:e[15],onSort:e[16]})),c=!0)},p(e,[n]){(!l||64&n)&&d!==(d=e[6]("sort")+"")&&Q(r,d),1628&n&&(f=[...e[2]],qe(),p=nt(p,n,g,1,e,f,m,s,et,WIe,null,jIe),Be(),!f.length&&h?h.p(e,n):f.length?h&&(h.d(1),h=null):(h=UIe(e),h.c(),h.m(s,null))),a&&$(a.update)&&5&n&&a.update.call(null,{getItems:e[15],onSort:e[16]}),e[4].length>0?y?(y.p(e,n),16&n&&je(y,1)):(y=YIe(e),y.c(),je(y,1),y.m(t,null)):y&&(qe(),Ue(y,1,1,(()=>{y=null})),Be())},i(e){if(!l){for(let e=0;e<f.length;e+=1)je(p[e]);je(y),l=!0}},o(e){for(let t=0;t<p.length;t+=1)Ue(p[t]);Ue(y),l=!1},d(e){e&&z(t);for(let t=0;t<p.length;t+=1)p[t].d();h&&h.d(),y&&y.d(),c=!1,u()}}}const JIe=e=>e?.column.name??"";function QIe(e,t,n){let r,o,s,i,l,c,u,d=a,$=()=>(d(),d=g(f,(e=>n(2,i=e))),f),p=a;y(e,no,(e=>n(6,u=e))),e.$$.on_destroy.push((()=>d())),e.$$.on_destroy.push((()=>p()));const m=Dz();y(e,m,(e=>n(11,c=e)));let{sorting:f}=t;function h(e){f.update((t=>t.with(e,"ASCENDING")))}function b(e){f.update((t=>t.without(e)))}function v(e,t,n){f.update((r=>new FT([...r].map((([r,o])=>r===e?[t,n]:[r,o])))))}$();return e.$$set=e=>{"sorting"in e&&$(n(0,f=e.sorting))},e.$$.update=()=>{2048&e.$$.dirty&&(n(5,({processedColumns:r}=c),r),p(),p=g(r,(e=>n(3,l=e)))),12&e.$$.dirty&&n(1,o=[...l.values()].filter((e=>!i.has(e.id)))),2&e.$$.dirty&&n(4,s=o.map((e=>e.id)))},[f,o,i,l,s,r,u,m,h,b,v,c,e=>RV(e.id,l),e=>b(e),(e,t)=>v(e,t.detail.columnIdentifier,t.detail.sortDirection),()=>[...i],e=>f.set(new FT(e)),e=>h(e.id)]}class eTe extends ut{constructor(e){super(),ct(this,e,QIe,ZIe,f,{sorting:0})}}function tTe(e){let t,n,r,o,s,a,i,c=e[1]("sort")+"";const u=[jC];let d={};for(let $=0;$<u.length;$+=1)d=l(d,u[$]);return t=new Jd({props:d}),a=new Bc({props:{value:e[2].size}}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(c),s=U(),at(a.$$.fragment),X(r,"class","responsive-button-label with-badge svelte-19augaz")},m(e,l){it(t,e,l),H(e,n,l),H(e,r,l),F(r,o),F(r,s),it(a,r,null),i=!0},p(e,n){const r=0&n?rt(u,[ot(jC)]):{};t.$set(r),(!i||2&n)&&c!==(c=e[1]("sort")+"")&&Q(o,c);const s={};4&n&&(s.value=e[2].size),a.$set(s)},i(e){i||(je(t.$$.fragment,e),je(a.$$.fragment,e),i=!0)},o(e){Ue(t.$$.fragment,e),Ue(a.$$.fragment,e),i=!1},d(e){lt(t,e),e&&z(n),e&&z(r),lt(a)}}}function nTe(e){let t,n;return t=new eTe({props:{slot:"content",sorting:e[0]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.sorting=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function rTe(e){let t,n;const r=[{showArrow:!1},{triggerAppearance:"secondary"},e[3],{ariaLabel:e[1]("sort")}];let o={$$slots:{content:[nTe],trigger:[tTe]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new _f({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const o=10&n?rt(r,[r[0],r[1],8&n&&ot(e[3]),2&n&&{ariaLabel:e[1]("sort")}]):{};23&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function oTe(e,t,n){const r=["sorting"];let o,s,i=S(t,r),c=a,u=()=>(c(),c=g(d,(e=>n(2,s=e))),d);y(e,no,(e=>n(1,o=e))),e.$$.on_destroy.push((()=>c()));let{sorting:d}=t;return u(),e.$$set=e=>{t=l(l({},t),C(e)),n(3,i=S(t,r)),"sorting"in e&&u(n(0,d=e.sorting))},[d,o,s,i]}class sTe extends ut{constructor(e){super(),ct(this,e,oTe,rTe,f,{sorting:0})}}function aTe(e){let t,n,r,o,s,a,i;const c=[{filtering:e[2]},{canViewLinkedEntities:iTe},e[3]];let u={};for(let f=0;f<c.length;f+=1)u=l(u,c[f]);n=new SIe({props:u});const d=[{sorting:e[1]},e[3]];let $={};for(let f=0;f<d.length;f+=1)$=l($,d[f]);o=new sTe({props:$});const p=[{grouping:e[0]},e[3]];let m={};for(let f=0;f<p.length;f+=1)m=l(m,p[f]);return a=new qIe({props:m}),{c(){t=q("div"),at(n.$$.fragment),r=U(),at(o.$$.fragment),s=U(),at(a.$$.fragment),X(t,"class","mini-actions-pane svelte-17z38bs")},m(e,l){H(e,t,l),it(n,t,null),F(t,r),it(o,t,null),F(t,s),it(a,t,null),i=!0},p(e,[t]){const r=12&t?rt(c,[4&t&&{filtering:e[2]},0&t&&{canViewLinkedEntities:iTe},8&t&&ot(e[3])]):{};n.$set(r);const s=10&t?rt(d,[2&t&&{sorting:e[1]},8&t&&ot(e[3])]):{};o.$set(s);const i=9&t?rt(p,[1&t&&{grouping:e[0]},8&t&&ot(e[3])]):{};a.$set(i)},i(e){i||(je(n.$$.fragment,e),je(o.$$.fragment,e),je(a.$$.fragment,e),i=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),Ue(a.$$.fragment,e),i=!1},d(e){e&&z(t),lt(n),lt(o),lt(a)}}}const iTe=!0;function lTe(e,t,n){let r,o,s,a,i;const l=Dz();return y(e,l,(e=>n(6,i=e))),e.$$.update=()=>{64&e.$$.dirty&&n(5,({meta:r}=i),r),32&e.$$.dirty&&n(2,({filtering:o,sorting:s,grouping:a}=r),o,(n(1,s),n(5,r),n(6,i)),(n(0,a),n(5,r),n(6,i)))},[a,s,o,{placement:"bottom-end",size:"small"},l,r,i]}class cTe extends ut{constructor(e){super(),ct(this,e,lTe,aTe,f,{})}}function uTe(e){let t,n;return{c(){t=q("span"),n=j(e[0]),X(t,"class","preproc svelte-1yboc8p")},m(e,r){H(e,t,r),F(t,n)},p(e,t){1&t&&Q(n,e[0])},d(e){e&&z(t)}}}function dTe(e){let t,n;return t=new Ng({props:{$$slots:{default:[mTe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4098&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function $Te(e){let t,n;return t=new Ng({props:{$$slots:{default:[fTe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4128&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function pTe(e){let t,n;return t=new BH({props:{recordSummary:e[7],recordId:e[4],tableId:e[6],allowsHyperlinks:!0}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};128&n&&(r.recordSummary=e[7]),16&n&&(r.recordId=e[4]),64&n&&(r.tableId=e[6]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function mTe(e){let t,n;return t=new EE({props:{value:e[1]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.value=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function fTe(e){let t,n=e[5].uri+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){32&r&&n!==(n=e[5].uri+"")&&Q(t,n)},d(e){e&&z(t)}}}function gTe(e){let t,n,r,o,s,a,i,l,c,u=(e[3]?.column.name??"")+"",d=e[0]&&uTe(e);const $=[pTe,$Te,dTe],p=[];function m(e,t){return e[7]?0:"file"===e[3]?.abstractType.identifier&&e[5]?1:2}return i=m(e),l=p[i]=$[i](e),{c(){t=q("span"),n=q("span"),r=j(u),o=U(),d&&d.c(),s=U(),a=q("span"),l.c(),X(n,"class","name svelte-1yboc8p"),X(a,"class","value svelte-1yboc8p"),X(t,"class","tag svelte-1yboc8p"),te(t,"max-width","calc(100%/"+e[2]+")")},m(e,l){H(e,t,l),F(t,n),F(n,r),F(n,o),d&&d.m(n,null),F(t,s),F(t,a),p[i].m(a,null),c=!0},p(e,[o]){(!c||8&o)&&u!==(u=(e[3]?.column.name??"")+"")&&Q(r,u),e[0]?d?d.p(e,o):(d=uTe(e),d.c(),d.m(n,null)):d&&(d.d(1),d=null);let s=i;i=m(e),i===s?p[i].p(e,o):(qe(),Ue(p[s],1,1,(()=>{p[s]=null})),Be(),l=p[i],l?l.p(e,o):(l=p[i]=$[i](e),l.c()),je(l,1),l.m(a,null)),(!c||4&o)&&te(t,"max-width","calc(100%/"+e[2]+")")},i(e){c||(je(l),c=!0)},o(e){Ue(l),c=!1},d(e){e&&z(t),d&&d.d(),p[i].d()}}}function hTe(e,t,n){let r,o,s,a,i,{processedColumnsMap:l}=t,{recordSummariesForSheet:c}=t,{columnId:u}=t,{preprocName:d}=t,{cellValue:$}=t,{fileManifestsForSheet:p}=t,{totalColumns:m}=t;return e.$$set=e=>{"processedColumnsMap"in e&&n(8,l=e.processedColumnsMap),"recordSummariesForSheet"in e&&n(9,c=e.recordSummariesForSheet),"columnId"in e&&n(10,u=e.columnId),"preprocName"in e&&n(0,d=e.preprocName),"cellValue"in e&&n(1,$=e.cellValue),"fileManifestsForSheet"in e&&n(11,p=e.fileManifestsForSheet),"totalColumns"in e&&n(2,m=e.totalColumns)},e.$$.update=()=>{1280&e.$$.dirty&&n(3,r=l.get(u)),2&e.$$.dirty&&n(4,o=String($)),1552&e.$$.dirty&&n(7,s=c.get(String(u))?.get(o)),1280&e.$$.dirty&&n(6,a=l?.get(u)?.linkFk?.referent_table_oid),3082&e.$$.dirty&&n(5,i=(()=>{if(!r?.column.metadata?.file_backend)return;const e=UT($);return e?p.get(String(u))?.get(e.mash):void 0})())},[d,$,m,r,o,i,a,s,l,c,u,p]}class yTe extends ut{constructor(e){super(),ct(this,e,hTe,gTe,f,{processedColumnsMap:8,recordSummariesForSheet:9,columnId:10,preprocName:0,cellValue:1,fileManifestsForSheet:11,totalColumns:2})}}function bTe(e,t,n){const r=e.slice();return r[10]=t[n],r[12]=n,r}function vTe(e,t){let n,r,o;return r=new yTe({props:{processedColumnsMap:t[0],cellValue:t[1].groupValues?t[1].groupValues[t[10]]:void 0,recordSummariesForSheet:t[3],columnId:t[10],preprocName:t[6][t[12]],fileManifestsForSheet:t[4],totalColumns:t[5].length}}),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};1&n&&(o.processedColumnsMap=t[0]),34&n&&(o.cellValue=t[1].groupValues?t[1].groupValues[t[10]]:void 0),8&n&&(o.recordSummariesForSheet=t[3]),32&n&&(o.columnId=t[10]),96&n&&(o.preprocName=t[6][t[12]]),16&n&&(o.fileManifestsForSheet=t[4]),32&n&&(o.totalColumns=t[5].length),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function wTe(e){let t,n=e[2].count+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){4&r&&n!==(n=e[2].count+"")&&Q(t,n)},d(e){e&&z(t)}}}function _Te(e){let t,n,r,o,s,a,i=[],l=new Map,c=e[5];const u=e=>e[10];for(let d=0;d<c.length;d+=1){let t=bTe(e,c,d),n=u(t);l.set(n,i[d]=vTe(n,t))}return s=new Lc({props:{$$slots:{default:[wTe]},$$scope:{ctx:e}}}),{c(){t=q("div"),n=q("div");for(let e=0;e<i.length;e+=1)i[e].c();r=U(),o=q("div"),at(s.$$.fragment),X(o,"class","count-container svelte-1ws6nhm"),X(n,"class","groups-data svelte-1ws6nhm"),X(t,"class","group-header svelte-1ws6nhm")},m(e,l){H(e,t,l),F(t,n);for(let t=0;t<i.length;t+=1)i[t].m(n,null);F(n,r),F(n,o),it(s,o,null),a=!0},p(e,t){123&t&&(c=e[5],qe(),i=nt(i,t,u,1,e,c,l,n,et,vTe,r,bTe),Be());const o={};8196&t&&(o.$$scope={dirty:t,ctx:e}),s.$set(o)},i(e){if(!a){for(let e=0;e<c.length;e+=1)je(i[e]);je(s.$$.fragment,e),a=!0}},o(e){for(let t=0;t<i.length;t+=1)Ue(i[t]);Ue(s.$$.fragment,e),a=!1},d(e){e&&z(t);for(let t=0;t<i.length;t+=1)i[t].d();lt(s)}}}function xTe(e){let t,n;return t=new yye({props:{index:0,columnSpan:e[0].size+1,$$slots:{default:[_Te]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.columnSpan=e[0].size+1),8319&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function CTe(e,t,n){let r,o,s,a,{processedColumnsMap:i}=t,{row:l}=t,{grouping:c}=t,{group:u}=t,{recordSummariesForSheet:d}=t,{fileManifestsForSheet:$}=t;return e.$$set=e=>{"processedColumnsMap"in e&&n(0,i=e.processedColumnsMap),"row"in e&&n(1,l=e.row),"grouping"in e&&n(7,c=e.grouping),"group"in e&&n(2,u=e.group),"recordSummariesForSheet"in e&&n(3,d=e.recordSummariesForSheet),"fileManifestsForSheet"in e&&n(4,$=e.fileManifestsForSheet)},e.$$.update=()=>{128&e.$$.dirty&&n(5,({columnIds:r,preprocIds:o}=c),r,(n(9,o),n(7,c))),33&e.$$.dirty&&n(8,s=r.map((e=>i.get(e)?.preprocFunctions??[]))),768&e.$$.dirty&&n(6,a=o.map(((e,t)=>e?s[t].find((t=>t.id===e))?.name:void 0)))},[i,l,u,d,$,r,a,c,s,o]}class STe extends ut{constructor(e){super(),ct(this,e,CTe,xTe,f,{processedColumnsMap:0,row:1,grouping:7,group:2,recordSummariesForSheet:3,fileManifestsForSheet:4})}}function kTe(e){let t,n,r=e[1]("new_records_reposition_refresh")+"";return{c(){t=q("div"),n=j(r),X(t,"class","new-record-message svelte-1af96sn")},m(e,r){H(e,t,r),F(t,n)},p(e,t){2&t&&r!==(r=e[1]("new_records_reposition_refresh")+"")&&Q(n,r)},d(e){e&&z(t)}}}function MTe(e){let t,n;return t=new yye({props:{index:0,columnSpan:e[0],$$slots:{default:[kTe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.columnSpan=e[0]),10&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function ITe(e,t,n){let r,o;y(e,no,(e=>n(1,o=e)));let{columnCount:s}=t;return e.$$set=e=>{"columnCount"in e&&n(2,s=e.columnCount)},e.$$.update=()=>{4&e.$$.dirty&&n(0,r=s+1)},[r,o,s]}class TTe extends ut{constructor(e){super(),ct(this,e,ITe,MTe,f,{columnCount:2})}}function ETe(e){let t,n,r,o,s,a,i,l;return t=new qE({props:{when:e[0],color:"var(--cell-bg-color-row-selected)"}}),r=new qE({props:{when:e[1],color:"var(--cell-bg-color-processing)"}}),s=new qE({props:{when:e[2],color:"var(--cell-bg-color-error)"}}),i=new qE({props:{class:"cell-bg-row-hover",color:"var(--cell-bg-color-row-hover, var(--cell-bg-color-base))"}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),at(s.$$.fragment),a=U(),at(i.$$.fragment)},m(e,c){it(t,e,c),H(e,n,c),it(r,e,c),H(e,o,c),it(s,e,c),H(e,a,c),it(i,e,c),l=!0},p(e,[n]){const o={};1&n&&(o.when=e[0]),t.$set(o);const a={};2&n&&(a.when=e[1]),r.$set(a);const i={};4&n&&(i.when=e[2]),s.$set(i)},i(e){l||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),je(i.$$.fragment,e),l=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),Ue(i.$$.fragment,e),l=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),lt(s,e),e&&z(a),lt(i,e)}}}function DTe(e,t,n){let{isSelected:r=!1}=t,{isProcessing:o=!1}=t,{hasErrors:s=!1}=t;return e.$$set=e=>{"isSelected"in e&&n(0,r=e.isSelected),"isProcessing"in e&&n(1,o=e.isProcessing),"hasErrors"in e&&n(2,s=e.hasErrors)},[r,o,s]}class OTe extends ut{constructor(e){super(),ct(this,e,DTe,ETe,f,{isSelected:0,isProcessing:1,hasErrors:2})}}function NTe(e){let t,n;return{c(){t=B("svg"),n=B("path"),X(n,"d","M 0 0 L 10 0 L 10 10 Z"),X(n,"class","svelte-1wxku7v"),X(t,"viewBox","0 0 10 10")},m(e,r){H(e,t,r),F(t,n)},d(e){e&&z(t)}}}function ATe(e){let t;return{c(){t=q("span"),t.textContent="*",X(t,"class","required svelte-1wxku7v")},m(e,n){H(e,t,n)},d(e){e&&z(t)}}}function RTe(e){let t,n,r,o,s,a=e[4].join(" ")+"";return{c(){t=q("div"),n=j(a),X(t,"class","errors svelte-1wxku7v")},m(a,i){H(a,t,i),F(t,n),o||(s=[T(Mc.call(null,t)),T(r=Sc.call(null,t,{reference:e[3],options:{placement:"top-start"}})),Y(t,"mouseenter",e[12]),Y(t,"mouseleave",e[13])],o=!0)},p(e,t){16&t&&a!==(a=e[4].join(" ")+"")&&Q(n,a),r&&$(r.update)&&8&t&&r.update.call(null,{reference:e[3],options:{placement:"top-start"}})},d(e){e&&z(t),o=!1,d(s)}}}function FTe(e){let t,n,r;function o(e,t){return e[1]?ATe:NTe}let s=o(e),i=s(e),l=e[3]&&e[2]&&!e[1]&&RTe(e);return{c(){t=q("div"),i.c(),n=U(),l&&l.c(),r=W(),X(t,"class","error-indicator svelte-1wxku7v")},m(o,s){H(o,t,s),i.m(t,null),e[11](t),H(o,n,s),l&&l.m(o,s),H(o,r,s)},p(e,[n]){s!==(s=o(e))&&(i.d(1),i=s(e),i&&(i.c(),i.m(t,null))),e[3]&&e[2]&&!e[1]?l?l.p(e,n):(l=RTe(e),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},i:a,o:a,d(o){o&&z(t),i.d(),e[11](null),o&&z(n),l&&l.d(o),o&&z(r)}}}function PTe(e,t,n){let r,o,s,a,i,l,{serverErrors:c=[]}=t,{clientErrors:u=[]}=t,{forceShowErrors:d=!1}=t,$=!1;function p(){window.clearTimeout(l),n(10,$=!0)}function m(){l=window.setTimeout((()=>{n(10,$=!1)}),1)}fe((()=>{const e=i?.parentElement;return e?(e.addEventListener("mouseenter",p),e.addEventListener("mouseleave",m),()=>{e.removeEventListener("mouseenter",p),e.removeEventListener("mouseleave",m)}):()=>{}}));return e.$$set=e=>{"serverErrors"in e&&n(7,c=e.serverErrors),"clientErrors"in e&&n(8,u=e.clientErrors),"forceShowErrors"in e&&n(9,d=e.forceShowErrors)},e.$$.update=()=>{384&e.$$.dirty&&n(4,r=[...c.map((e=>e.message)),...u.map((e=>e.message))]),1&e.$$.dirty&&n(3,o=i?.parentElement),1536&e.$$.dirty&&n(2,s=$||d),384&e.$$.dirty&&n(1,a=u.length&&!c.length)},[i,a,s,o,r,p,m,c,u,d,$,function(e){Ce[e?"unshift":"push"]((()=>{i=e,n(0,i)}))},()=>p(),()=>m()]}class LTe extends ut{constructor(e){super(),ct(this,e,PTe,FTe,f,{serverErrors:7,clientErrors:8,forceShowErrors:9})}}function HTe(e){let t,n;return t=new OTe({props:{hasErrors:e[3]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8&n[0]&&(r.hasErrors=e[3]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function zTe(e){let t,n;return t=new LTe({props:{serverErrors:e[11],clientErrors:e[10],forceShowErrors:e[41]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2048&n[0]&&(r.serverErrors=e[11]),1024&n[0]&&(r.clientErrors=e[10]),1024&n[1]&&(r.forceShowErrors=e[41]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function VTe(e){let t,n,r,o,s,a,i,l,c;t=new qE({props:{when:e[8]||!e[41]&&e[9],color:"var(--cell-bg-color-error)"}}),r=new qE({props:{when:!e[15],color:"var(--cell-bg-color-disabled)"}});let u=!(e[15]&&e[41])&&HTe(e);a=new JV({props:{columnFabric:e[7],isActive:e[41],value:e[0],isProcessing:e[16],canViewLinkedEntities:BTe,fileManifest:e[13],setFileManifest:e[36],recordSummary:e[14],setRecordSummary:e[37],showAsSkeleton:e[25]===pk.Loading,disabled:!e[15],horizontalAlignment:e[6].primary_key?"left":void 0,lightText:e[17]||e[16]}}),a.$on("movementKeyDown",e[38]),a.$on("update",e[26]);let d=e[18].length&&zTe(e);return{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),u&&u.c(),s=U(),at(a.$$.fragment),i=U(),d&&d.c(),l=W()},m(e,$){it(t,e,$),H(e,n,$),it(r,e,$),H(e,o,$),u&&u.m(e,$),H(e,s,$),it(a,e,$),H(e,i,$),d&&d.m(e,$),H(e,l,$),c=!0},p(e,n){const o={};768&n[0]|1024&n[1]&&(o.when=e[8]||!e[41]&&e[9]),t.$set(o);const i={};32768&n[0]&&(i.when=!e[15]),r.$set(i),e[15]&&e[41]?u&&(qe(),Ue(u,1,1,(()=>{u=null})),Be()):u?(u.p(e,n),32768&n[0]|1024&n[1]&&je(u,1)):(u=HTe(e),u.c(),je(u,1),u.m(s.parentNode,s));const c={};128&n[0]&&(c.columnFabric=e[7]),1024&n[1]&&(c.isActive=e[41]),1&n[0]&&(c.value=e[0]),65536&n[0]&&(c.isProcessing=e[16]),8192&n[0]&&(c.fileManifest=e[13]),1048578&n[0]&&(c.setFileManifest=e[36]),16384&n[0]&&(c.recordSummary=e[14]),5242880&n[0]&&(c.setRecordSummary=e[37]),33554432&n[0]&&(c.showAsSkeleton=e[25]===pk.Loading),32768&n[0]&&(c.disabled=!e[15]),64&n[0]&&(c.horizontalAlignment=e[6].primary_key?"left":void 0),196608&n[0]&&(c.lightText=e[17]||e[16]),a.$set(c),e[18].length?d?(d.p(e,n),262144&n[0]&&je(d,1)):(d=zTe(e),d.c(),je(d,1),d.m(l.parentNode,l)):d&&(qe(),Ue(d,1,1,(()=>{d=null})),Be())},i(e){c||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(u),je(a.$$.fragment,e),je(d),c=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(u),Ue(a.$$.fragment,e),Ue(d),c=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),u&&u.d(e),e&&z(s),lt(a,e),e&&z(i),d&&d.d(e),e&&z(l)}}}function qTe(e){let t,n;return t=new cye({props:{columnIdentifierKey:e[6].id,cellSelectionId:e[12],selection:e[24],isWithinPlaceholderRow:e[19],$$slots:{default:[VTe,({isActive:e})=>({41:e}),({isActive:e})=>[0,e?1024:0]]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};64&n[0]&&(r.columnIdentifierKey=e[6].id),4096&n[0]&&(r.cellSelectionId=e[12]),16777216&n[0]&&(r.selection=e[24]),524288&n[0]&&(r.isWithinPlaceholderRow=e[19]),39317455&n[0]|3072&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}const BTe=!0;function jTe(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,y,b,v,w,_,x,C,S,k,M,I,T,E=a,D=a,O=a,N=()=>(O(),O=g(W,(e=>n(34,k=e))),W),A=a,R=()=>(A(),A=g(j,(e=>n(35,M=e))),j),F=a,P=()=>(F(),F=g(z,(e=>n(24,I=e))),z),L=a;e.$$.on_destroy.push((()=>E())),e.$$.on_destroy.push((()=>D())),e.$$.on_destroy.push((()=>O())),e.$$.on_destroy.push((()=>A())),e.$$.on_destroy.push((()=>F())),e.$$.on_destroy.push((()=>L()));let{recordsData:H}=t,{selection:z}=t;P();let{row:V}=t,{rowHasErrors:q=!1}=t,{key:B}=t,{modificationStatusMap:j}=t;R();let{processedColumn:U}=t,{clientSideErrorMap:W}=t;N();let{value:Y}=t,{canUpdateRecords:K}=t;return e.$$set=e=>{"recordsData"in e&&n(1,H=e.recordsData),"selection"in e&&P(n(2,z=e.selection)),"row"in e&&n(27,V=e.row),"rowHasErrors"in e&&n(3,q=e.rowHasErrors),"key"in e&&n(28,B=e.key),"modificationStatusMap"in e&&R(n(4,j=e.modificationStatusMap)),"processedColumn"in e&&n(29,U=e.processedColumn),"clientSideErrorMap"in e&&N(n(5,W=e.clientSideErrorMap)),"value"in e&&n(0,Y=e.value),"canUpdateRecords"in e&&n(30,K=e.canUpdateRecords)},e.$$.update=()=>{671088640&e.$$.dirty[0]&&n(7,r=oT(V)?U.withoutEnhancedPkCell():U),134217856&e.$$.dirty[0]&&n(12,o=VI(mT(V),String(r.id))),2&e.$$.dirty[0]&&(n(23,s=H.state),L(),L=g(s,(e=>n(25,T=e)))),2&e.$$.dirty[0]&&(n(22,({linkedRecordSummaries:i,fileManifests:l}=H),i,(n(21,l),E(),E=g(l,(e=>n(32,C=e))),l)),D(),D=g(i,(e=>n(33,S=e)))),128&e.$$.dirty[0]&&n(6,({column:c}=r),c),64&e.$$.dirty[0]&&n(20,u=c.id),134217728&e.$$.dirty[0]&&n(19,d=rT(V)),268435456&e.$$.dirty[0]|16&e.$$.dirty[1]&&n(31,$=M.get(B)),1&e.$$.dirty[1]&&n(11,p="failure"===$?.state?$?.errors:[]),268435456&e.$$.dirty[0]|8&e.$$.dirty[1]&&n(10,m=k.get(B)??[]),3072&e.$$.dirty[0]&&n(18,f=[...p,...m]),2048&e.$$.dirty[0]&&n(8,h=!!p.length),1024&e.$$.dirty[0]&&n(9,y=!!m.length),768&e.$$.dirty[0]&&n(17,b=y||h),1&e.$$.dirty[1]&&n(16,v="processing"===$?.state),1073741952&e.$$.dirty[0]&&n(15,w=K&&r.isEditable),65&e.$$.dirty[0]|4&e.$$.dirty[1]&&n(14,_=S.get(String(c.id))?.get(String(Y))),65&e.$$.dirty[0]|2&e.$$.dirty[1]&&n(13,x=(()=>{if(!c.metadata?.file_backend)return;const e=UT(Y);return e?C.get(String(c.id))?.get(e.mash):void 0})())},[Y,H,z,q,j,W,c,r,h,y,m,p,o,x,_,w,v,b,f,d,u,l,i,s,I,T,async function(e){await async function(e){if(e===Y)return;n(0,Y=e);const t=oT(V)?await H.createOrUpdateRecord(V,c):await H.updateCell(V,c);n(0,Y=t.record?.[c.id]??Y)}(e.detail.value),z.update((e=>e.ofOneCell(o)))},V,B,U,K,$,C,S,k,M,(e,t)=>{H.fileManifests.addBespokeValue({columnId:String(u),key:e,value:t})},(e,t)=>i.addBespokeValue({columnId:String(u),key:e,value:t}),({detail:e})=>fbe(e.originalEvent,z)]}class UTe extends ut{constructor(e){super(),ct(this,e,jTe,qTe,f,{recordsData:1,selection:2,row:27,rowHasErrors:3,key:28,modificationStatusMap:4,processedColumn:29,clientSideErrorMap:5,value:0,canUpdateRecords:30},null,[-1,-1])}}function WTe(e){let t,n,r,o=qT(e[1])+"",s=nT(e[0]),i=s&&KTe();return{c(){t=q("span"),n=j(o),r=U(),i&&i.c(),X(t,"class","number svelte-1xfpqg4")},m(e,o){H(e,t,o),F(t,n),F(t,r),i&&i.m(t,null)},p(e,r){2&r&&o!==(o=qT(e[1])+"")&&Q(n,o),1&r&&(s=nT(e[0])),s?i?i.p(e,r):(i=KTe(),i.c(),i.m(t,null)):i&&(i.d(1),i=null)},i:a,o:a,d(e){e&&z(t),i&&i.d()}}}function YTe(e){let t,n;const r=[jx];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[ot(jx)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function KTe(e){let t;return{c(){t=j(JTe)},m(e,n){H(e,t,n)},p:a,d(e){e&&z(t)}}}function GTe(e){let t,n;const r=[{class:"mod-indicator"},{size:"0.9em"},Fd];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[r[0],r[1],ot(Fd)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function XTe(e){let t,n;return t=new LTe({props:{serverErrors:e[4]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.serverErrors=e[4]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function ZTe(e){let t,n,r,o,s,a,i,l,c,u,d,$,p;t=new qE({props:{color:"var(--cell-bg-color-header)"}}),r=new OTe({props:{isSelected:e[2],hasErrors:e[3]}});const m=[YTe,WTe],f=[];function g(e,t){return 1&t&&(a=null),1&t&&(i=null),null==a&&(a=!!rT(e[0])),a?0:(null==i&&(i=!!sT(e[0])),i?1:-1)}~(l=g(e,-1))&&(c=f[l]=m[l](e));let h="processing"===e[5]&&GTe(),y=e[4].length&&XTe(e);return{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),s=q("div"),c&&c.c(),u=U(),h&&h.c(),d=U(),y&&y.c(),$=W(),X(s,"class","control svelte-1xfpqg4")},m(e,a){it(t,e,a),H(e,n,a),it(r,e,a),H(e,o,a),H(e,s,a),~l&&f[l].m(s,null),H(e,u,a),h&&h.m(e,a),H(e,d,a),y&&y.m(e,a),H(e,$,a),p=!0},p(e,[t]){const n={};4&t&&(n.isSelected=e[2]),8&t&&(n.hasErrors=e[3]),r.$set(n);let o=l;l=g(e,t),l===o?~l&&f[l].p(e,t):(c&&(qe(),Ue(f[o],1,1,(()=>{f[o]=null})),Be()),~l?(c=f[l],c?c.p(e,t):(c=f[l]=m[l](e),c.c()),je(c,1),c.m(s,null)):c=null),"processing"===e[5]?h?(h.p(e,t),32&t&&je(h,1)):(h=GTe(),h.c(),je(h,1),h.m(d.parentNode,d)):h&&(qe(),Ue(h,1,1,(()=>{h=null})),Be()),e[4].length?y?(y.p(e,t),16&t&&je(y,1)):(y=XTe(e),y.c(),je(y,1),y.m($.parentNode,$)):y&&(qe(),Ue(y,1,1,(()=>{y=null})),Be())},i(e){p||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(c),je(h),je(y),p=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(c),Ue(h),Ue(y),p=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),e&&z(s),~l&&f[l].d(),e&&z(u),h&&h.d(e),e&&z(d),y&&y.d(e),e&&z($)}}}const JTe="*";function QTe(e,t,n){let r,o,s,i,l,c=a;e.$$.on_destroy.push((()=>c()));let{row:u}=t,{rowDescriptor:d}=t,{meta:$}=t,{isSelected:p=!1}=t,{hasErrors:m=!1}=t;return e.$$set=e=>{"row"in e&&n(0,u=e.row),"rowDescriptor"in e&&n(1,d=e.rowDescriptor),"meta"in e&&n(7,$=e.meta),"isSelected"in e&&n(2,p=e.isSelected),"hasErrors"in e&&n(3,m=e.hasErrors)},e.$$.update=()=>{128&e.$$.dirty&&(n(6,({rowStatus:r}=$),r),c(),c=g(r,(e=>n(9,l=e)))),513&e.$$.dirty&&n(8,o=l.get(u.identifier)),256&e.$$.dirty&&n(5,s=o?.wholeRowState),256&e.$$.dirty&&n(4,i=o?.errorsFromWholeRowAndCells??[])},[u,d,p,m,i,s,r,$,o,l]}class eEe extends ut{constructor(e){super(),ct(this,e,QTe,ZTe,f,{row:0,rowDescriptor:1,meta:7,isSelected:2,hasErrors:3})}}function tEe(e,t,n){const r=e.slice();return r[37]=t[n][0],r[38]=t[n][1],r[39]=t,r[40]=n,r}function nEe(e){let t,n;return t=new wye({props:{rowSelectionId:e[11],columnIdentifierKey:-1,isWithinPlaceholderRow:e[12],onMouseDown:e[28],$$slots:{default:[rEe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2048&n[0]&&(r.rowSelectionId=e[11]),4096&n[0]&&(r.isWithinPlaceholderRow=e[12]),675&n[0]|1024&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function rEe(e){let t,n;return t=new eEe({props:{row:e[0],rowDescriptor:e[1],meta:e[5],isSelected:e[9],hasErrors:e[7]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.row=e[0]),2&n[0]&&(r.rowDescriptor=e[1]),32&n[0]&&(r.meta=e[5]),512&n[0]&&(r.isSelected=e[9]),128&n[0]&&(r.hasErrors=e[7]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function oEe(e){let t,n;return t=new TTe({props:{columnCount:e[22].size}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4194304&n[0]&&(r.columnCount=e[22].size),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function sEe(e){let t,n,r=[],o=new Map,s=[...e[22]];const a=e=>e[37];for(let i=0;i<s.length;i+=1){let t=tEe(e,s,i),n=a(t);o.set(n,r[i]=iEe(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=W()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);H(e,t,o),n=!0},p(e,n){71500105&n[0]&&(s=[...e[22]],qe(),r=nt(r,n,a,1,e,s,o,t.parentNode,et,iEe,t,tEe),Be())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ue(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&z(t)}}}function aEe(e){let t,n;return t=new STe({props:{row:e[0],grouping:e[23],group:e[0].group,processedColumnsMap:e[22],recordSummariesForSheet:e[24],fileManifestsForSheet:e[25]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.row=e[0]),8388608&n[0]&&(r.grouping=e[23]),1&n[0]&&(r.group=e[0].group),4194304&n[0]&&(r.processedColumnsMap=e[22]),16777216&n[0]&&(r.recordSummariesForSheet=e[24]),33554432&n[0]&&(r.fileManifestsForSheet=e[25]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function iEe(e,t){let n,r,o,s;function a(e){t[34](e,t[37])}let i={selection:t[6],row:t[0],rowHasErrors:t[8],key:cT(t[0].identifier,t[37]),modificationStatusMap:t[17],clientSideErrorMap:t[16],processedColumn:t[38],recordsData:t[3],canUpdateRecords:t[26]};return void 0!==t[0].record[t[37]]&&(i.value=t[0].record[t[37]]),r=new UTe({props:i}),Ce.push((()=>st(r,"value",a))),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),s=!0},p(e,n){t=e;const s={};64&n[0]&&(s.selection=t[6]),1&n[0]&&(s.row=t[0]),256&n[0]&&(s.rowHasErrors=t[8]),4194305&n[0]&&(s.key=cT(t[0].identifier,t[37])),131072&n[0]&&(s.modificationStatusMap=t[17]),65536&n[0]&&(s.clientSideErrorMap=t[16]),4194304&n[0]&&(s.processedColumn=t[38]),8&n[0]&&(s.recordsData=t[3]),67108864&n[0]&&(s.canUpdateRecords=t[26]),!o&&4194305&n[0]&&(o=!0,s.value=t[0].record[t[37]],Oe((()=>o=!1))),r.$set(s)},i(e){s||(je(r.$$.fragment,e),s=!0)},o(e){Ue(r.$$.fragment,e),s=!1},d(e){e&&z(n),lt(r,e)}}}function lEe(e){let t,n,r,o,s,a,i,c,u,d=sT(e[0]),$=d&&nEe(e);const p=[aEe,sEe,oEe],m=[];function f(e,t){return 8388609&t[0]&&(r=null),1&t[0]&&(o=null),1&t[0]&&(s=null),null==r&&(r=!(!aT(e[0])||!e[23])),r?0:(null==o&&(o=!!sT(e[0])),o?1:(null==s&&(s=!!iT(e[0])),s?2:-1))}~(a=f(e,[-1,-1]))&&(i=m[a]=p[a](e));let g=[{class:"row"},e[35],{style:c="--cell-height:31px;"+e[36]}],h={};for(let y=0;y<g.length;y+=1)h=l(h,g[y]);return{c(){t=q("div"),$&&$.c(),n=U(),i&&i.c(),Z(t,h),se(t,"selected",e[9]),se(t,"processing","processing"===e[4]),se(t,"failed",e[8]),se(t,"created","success"===e[10]),se(t,"is-group-header",aT(e[0])),se(t,"is-add-placeholder",rT(e[0])),se(t,"svelte-f9wf1y",!0)},m(e,r){H(e,t,r),$&&$.m(t,null),F(t,n),~a&&m[a].m(t,null),u=!0},p(e,r){1&r[0]&&(d=sT(e[0])),d?$?($.p(e,r),1&r[0]&&je($,1)):($=nEe(e),$.c(),je($,1),$.m(t,n)):$&&(qe(),Ue($,1,1,(()=>{$=null})),Be());let o=a;a=f(e,r),a===o?~a&&m[a].p(e,r):(i&&(qe(),Ue(m[o],1,1,(()=>{m[o]=null})),Be()),~a?(i=m[a],i?i.p(e,r):(i=m[a]=p[a](e),i.c()),je(i,1),i.m(t,null)):i=null),Z(t,h=rt(g,[{class:"row"},16&r[1]&&e[35],(!u||32&r[1]&&c!==(c="--cell-height:31px;"+e[36]))&&{style:c}])),se(t,"selected",e[9]),se(t,"processing","processing"===e[4]),se(t,"failed",e[8]),se(t,"created","success"===e[10]),se(t,"is-group-header",aT(e[0])),se(t,"is-add-placeholder",rT(e[0])),se(t,"svelte-f9wf1y",!0)},i(e){u||(je($),je(i),u=!0)},o(e){Ue($),Ue(i),u=!1},d(e){e&&z(t),$&&$.d(),~a&&m[a].d()}}}function cEe(e){let t,n;return t=new Zhe({props:{style:e[2],$$slots:{default:[lEe,({htmlAttributes:e,styleString:t})=>({35:e,36:t}),({htmlAttributes:e,styleString:t})=>[0,(e?16:0)|(t?32:0)]]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4&n[0]&&(r.style=e[2]),130228219&n[0]|1072&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function uEe(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,b,v,w,_,x,C,S,k,M,I,T,E,D,O,N,A,R=a,F=a,P=a,L=a,H=a,z=a,V=a,q=a;e.$$.on_destroy.push((()=>R())),e.$$.on_destroy.push((()=>F())),e.$$.on_destroy.push((()=>P())),e.$$.on_destroy.push((()=>L())),e.$$.on_destroy.push((()=>H())),e.$$.on_destroy.push((()=>z())),e.$$.on_destroy.push((()=>V())),e.$$.on_destroy.push((()=>q()));let{row:B}=t,{rowDescriptor:j}=t,{style:U}=t;const W=Dz();return y(e,W,(e=>n(33,E=e))),e.$$set=e=>{"row"in e&&n(0,B=e.row),"rowDescriptor"in e&&n(1,j=e.rowDescriptor),"style"in e&&n(2,U=e.style)},e.$$.update=()=>{4&e.$$.dirty[1]&&n(3,({recordsData:r,meta:o,processedColumns:s,selection:i,canUpdateRecords:l}=E),r,(n(5,o),n(33,E)),(n(21,s),R(),R=g(s,(e=>n(22,k=e))),s),(n(6,i),F(),F=g(i,(e=>n(30,M=e))),i),(n(20,l),q(),q=g(l,(e=>n(26,A=e))),l)),32&e.$$.dirty[0]&&(n(19,({rowStatus:c,rowCreationStatus:u,cellModificationStatus:d,cellClientSideErrors:$}=o),c,(n(18,u),L(),L=g(u,(e=>n(32,T=e))),u),(n(17,d),n(5,o),n(33,E)),(n(16,$),n(5,o),n(33,E))),P(),P=g(c,(e=>n(31,I=e)))),8&e.$$.dirty[0]&&(n(15,({grouping:p,linkedRecordSummaries:m,fileManifests:f}=r),p,(n(14,m),z(),z=g(m,(e=>n(24,O=e))),m),(n(13,f),V(),V=g(f,(e=>n(25,N=e))),f)),H(),H=g(p,(e=>n(23,D=e)))),1&e.$$.dirty[0]&&n(12,h=rT(B)),1&e.$$.dirty[0]&&n(11,b=mT(B)),1&e.$$.dirty[0]|2&e.$$.dirty[1]&&n(10,v=T.get(B.identifier)?.state),1&e.$$.dirty[0]|1&e.$$.dirty[1]&&n(29,w=I.get(B.identifier)),536870912&e.$$.dirty[0]&&n(4,_=w?.wholeRowState),1073741825&e.$$.dirty[0]&&n(9,x=M.rowIds.has(mT(B))),16&e.$$.dirty[0]&&n(8,C="failure"===_),536870912&e.$$.dirty[0]&&n(7,S=!!w?.errorsFromWholeRowAndCells?.length)},[B,j,U,r,_,o,i,S,C,x,v,b,h,f,m,p,$,d,u,c,l,s,k,D,O,N,A,W,async function(e){if(!rT(B))return;e.stopPropagation(),await r.addEmptyRecord();const t=Mz(k.values())?.id.toString();t&&i.update((e=>e.ofNewRecordDataEntryCell(t)))},w,M,I,T,E,function(t,r){e.$$.not_equal(B.record[r],t)&&(B.record[r]=t,n(0,B))}]}class dEe extends ut{constructor(e){super(),ct(this,e,uEe,cEe,f,{row:0,rowDescriptor:1,style:2},null,[-1,-1])}}function $Ee(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,b,v,w,_,x,C=a,S=a,k=a,M=a,I=a,T=a,E=a;e.$$.on_destroy.push((()=>C())),e.$$.on_destroy.push((()=>S())),e.$$.on_destroy.push((()=>k())),e.$$.on_destroy.push((()=>M())),e.$$.on_destroy.push((()=>I())),e.$$.on_destroy.push((()=>T())),e.$$.on_destroy.push((()=>E()));const D=Dz();y(e,D,(e=>n(22,x=e)));let O,N,A,R,{api:F}=t;!function(e){me().$$.before_update.push(e)}((()=>{n(9,O=_),n(10,N=w),n(11,A=h),n(12,R=v)}));let P,L=0,H=0;async function z(e,t){if(e!==pk.Loading&&(P!==h||h.entries.length>0))return await async function(){await Ee(),F.recalculateHeightsAfterIndex(0)}(),void(P=h);await async function(e){const t=e.length??0,n=b.length??0;if(L!==n){const e=Math.max(H-L-3,0);await Ee(),L<n&&F.scrollToBottom(),L=n,H=t,F.recalculateHeightsAfterIndex(e)}}(t)}return e.$$set=e=>{"api"in e&&n(8,F=e.api)},e.$$.update=()=>{4194304&e.$$.dirty&&n(15,({recordsData:r,display:o,meta:s}=x),r,(n(13,o),n(22,x)),(n(14,s),n(22,x))),32768&e.$$.dirty&&(n(6,({newRecords:i,state:l}=r),i,(n(5,l),S(),S=g(l,(e=>n(17,f=e))),l)),M(),M=g(i,(e=>n(26,b=e)))),16384&e.$$.dirty&&(n(4,({sorting:c,filtering:u,grouping:d,pagination:$}=s),c,(n(3,u),T(),T=g(u,(e=>n(20,w=e))),u),(n(2,d),k(),k=g(d,(e=>n(18,h=e))),d),(n(1,$),I(),I=g($,(e=>n(19,v=e))),$)),E(),E=g(c,(e=>n(21,_=e)))),8192&e.$$.dirty&&(n(0,({displayRowDescriptors:p}=o),p),C(),C=g(p,(e=>n(16,m=e)))),3940096&e.$$.dirty&&(O===_&&N===w&&A===h&&R===v||F.scrollToTop()),196608&e.$$.dirty&&z(f,m)},[p,$,d,u,c,l,i,D,F,O,N,A,R,o,s,r,m,f,h,v,w,_,x]}class pEe extends ut{constructor(e){super(),ct(this,e,$Ee,null,f,{api:8})}}function mEe(e,t,n){const r=e.slice();return r[21]=t[n],r[22]=t,r[23]=n,r}function fEe(e,t,n){const r=e.slice();r[17]=t[n],r[19]=t,r[20]=n;const o=!(rT(r[4][r[17].index].row)&&!r[5]);return r[18]=o,r}function gEe(e){let t,n,r=[],o=new Map,s=e[4];const a=e=>e[21];for(let i=0;i<s.length;i+=1){let t=mEe(e,s,i),n=a(t);o.set(n,r[i]=yEe(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=W()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);H(e,t,o),n=!0},p(e,n){144&n&&(s=e[4],qe(),r=nt(r,n,a,1,e,s,o,t.parentNode,et,yEe,t,mEe),Be())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ue(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&z(t)}}}function hEe(e){let t,n;return t=new Whe({props:{itemCount:e[4].length,paddingBottom:30,itemSize:e[8],itemKey:e[13],$$slots:{default:[wEe,({items:e,api:t})=>({15:e,16:t}),({items:e,api:t})=>(e?32768:0)|(t?65536:0)]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.itemCount=e[4].length),16&n&&(r.itemKey=e[13]),16875568&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function yEe(e,t){let n,r,o,s;function a(e){t[14](e,t[21])}let i={style:{position:"relative",height:t[7](t[21].row)},rowDescriptor:t[21]};return void 0!==t[21].row&&(i.row=t[21].row),r=new dEe({props:i}),Ce.push((()=>st(r,"row",a))),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),s=!0},p(e,n){t=e;const s={};16&n&&(s.style={position:"relative",height:t[7](t[21].row)}),16&n&&(s.rowDescriptor=t[21]),!o&&16&n&&(o=!0,s.row=t[21].row,Oe((()=>o=!1))),r.$set(s)},i(e){s||(je(r.$$.fragment,e),s=!0)},o(e){Ue(r.$$.fragment,e),s=!1},d(e){e&&z(n),lt(r,e)}}}function bEe(e){let t,n,r;function o(t){e[12](t,e[17])}let s={style:e[17].style,rowDescriptor:e[4][e[17].index]};return void 0!==e[4][e[17].index].row&&(s.row=e[4][e[17].index].row),t=new dEe({props:s}),Ce.push((()=>st(t,"row",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(r,o){e=r;const s={};32768&o&&(s.style=e[17].style),32784&o&&(s.rowDescriptor=e[4][e[17].index]),!n&&32784&o&&(n=!0,s.row=e[4][e[17].index].row,Oe((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function vEe(e,t){let n,r,o,s=t[4][t[17].index]&&t[18]&&bEe(t);return{key:e,first:null,c(){n=W(),s&&s.c(),r=W(),this.first=n},m(e,t){H(e,n,t),s&&s.m(e,t),H(e,r,t),o=!0},p(e,n){(t=e)[4][t[17].index]&&t[18]?s?(s.p(t,n),32816&n&&je(s,1)):(s=bEe(t),s.c(),je(s,1),s.m(r.parentNode,r)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be())},i(e){o||(je(s),o=!0)},o(e){Ue(s),o=!1},d(e){e&&z(n),s&&s.d(e),e&&z(r)}}}function wEe(e){let t,n,r,o,s=[],a=new Map;t=new pEe({props:{api:e[16]}});let i=e[15];const l=e=>e[17].key;for(let c=0;c<i.length;c+=1){let t=fEe(e,i,c),n=l(t);a.set(n,s[c]=vEe(n,t))}return{c(){at(t.$$.fragment),n=U();for(let e=0;e<s.length;e+=1)s[e].c();r=W()},m(e,a){it(t,e,a),H(e,n,a);for(let t=0;t<s.length;t+=1)s[t].m(e,a);H(e,r,a),o=!0},p(e,n){const o={};65536&n&&(o.api=e[16]),t.$set(o),32816&n&&(i=e[15],qe(),s=nt(s,n,l,1,e,i,a,r.parentNode,et,vEe,r,fEe),Be())},i(e){if(!o){je(t.$$.fragment,e);for(let e=0;e<i.length;e+=1)je(s[e]);o=!0}},o(e){Ue(t.$$.fragment,e);for(let t=0;t<s.length;t+=1)Ue(s[t]);o=!1},d(e){lt(t,e),e&&z(n);for(let t=0;t<s.length;t+=1)s[t].d(e);e&&z(r)}}}function _Ee(e){let t,n,r,o;const s=[hEe,gEe],a=[];function i(e,t){return e[0]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function xEe(e){let t,n,r=e[2],o=_Ee(e);return{c(){o.c(),t=W()},m(e,r){o.m(e,r),H(e,t,r),n=!0},p(e,[n]){4&n&&f(r,r=e[2])?(qe(),Ue(o,1,1,a),Be(),o=_Ee(e),o.c(),je(o,1),o.m(t.parentNode,t)):o.p(e,n)},i(e){n||(je(o),n=!0)},o(e){Ue(o),n=!1},d(e){e&&z(t),o.d(e)}}}function CEe(e,t,n){let r,o,s,i,l,c,u,d,$=a,p=a;e.$$.on_destroy.push((()=>$())),e.$$.on_destroy.push((()=>p()));const m=Dz();y(e,m,(e=>n(11,u=e)));let{usesVirtualList:f=!1}=t;function h(e){return iT(e)?24:aT(e)?64:CM}return e.$$set=e=>{"usesVirtualList"in e&&n(0,f=e.usesVirtualList)},e.$$.update=()=>{2048&e.$$.dirty&&n(10,({table:r,display:o,canInsertRecords:s}=u),r,(n(9,o),n(11,u)),(n(3,s),p(),p=g(s,(e=>n(5,d=e))),s)),1024&e.$$.dirty&&n(2,({oid:i}=r),i),512&e.$$.dirty&&(n(1,({displayRowDescriptors:l}=o),l),$(),$=g(l,(e=>n(4,c=e))))},[f,l,i,s,c,d,m,h,function(e){const t=c?.[e].row;return t?h(t):CM},o,r,u,function(t,n){e.$$.not_equal(c[n.index].row,t)&&(c[n.index].row=t,l.set(c))},e=>function(e,t){return t?t.row.identifier:`__index_${e}`}(e,c[e]),function(t,n){e.$$.not_equal(n.row,t)&&(n.row=t,l.set(c))}]}class SEe extends ut{constructor(e){super(),ct(this,e,CEe,xEe,f,{usesVirtualList:0})}}function kEe(e){let t,n;return t=new bx({props:{$$slots:{default:[MEe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};9&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function MEe(e){let t;return{c(){t=j(e[0])},m(e,n){H(e,t,n)},p(e,n){1&n&&Q(t,e[0])},d(e){e&&z(t)}}}function IEe(e){let t,n,r="tableName"===e[2]&&kEe(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"tableName"===e[2]?r?(r.p(e,n),4&n&&je(r,1)):(r=kEe(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function TEe(e){let t,n;return t=new Rx({props:{text:e[1]("open_named_table"),$$slots:{default:[IEe,({slotName:e})=>({2:e}),({slotName:e})=>e?4:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.text=e[1]("open_named_table")),13&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function EEe(e,t,n){let r;y(e,no,(e=>n(1,r=e)));let{name:o}=t;return e.$$set=e=>{"name"in e&&n(0,o=e.name)},[o,r]}class DEe extends ut{constructor(e){super(),ct(this,e,EEe,TEe,f,{name:0})}}function*OEe(e){const t=function(e){const{linkFk:t}=e;if(!t)return;const n=h(_H).tablesMap.get(t.referent_table_oid);if(!n)return;const r=h(DH)({tableId:n.oid});return r?{table:n,href:r}:void 0}(e.column);t&&(yield Tw({label:es(DEe,{name:t.table.name}),href:t.href,icon:UC}))}function NEe(e){let t,n;return t=new xE({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function AEe(e){let t,n,r="value"===e[2]&&NEe();return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"value"===e[2]?r?4&n&&je(r,1):(r=NEe(),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function REe(e){let t,n;return t=new Rx({props:{text:e[1]("set_count_cells_to_value",{values:{count:e[0]}}),$$slots:{default:[AEe,({slotName:e})=>({2:e}),({slotName:e})=>e?4:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};3&n&&(r.text=e[1]("set_count_cells_to_value",{values:{count:e[0]}})),12&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function FEe(e,t,n){let r;y(e,no,(e=>n(1,r=e)));let{cellCount:o}=t;return e.$$set=e=>{"cellCount"in e&&n(0,o=e.cellCount)},[o,r]}class PEe extends ut{constructor(e){super(),ct(this,e,FEe,REe,f,{cellCount:0})}}function*LEe(e){const t=Iw({icon:uC,label:es(PEe,{cellCount:1}),disabled:!0,onClick:()=>{}});if(!h(e.tabularData.canUpdateRecords))return void(yield t);const n=e.cellIds.length,{rowIds:r,columnIds:o}=h(e.tabularData.selection),s=h(e.tabularData.recordsData.selectableRowsMap),a=h(e.tabularData.processedColumns);if(ac(o,gc((e=>a.get(parseInt(e,10)))),ic((e=>!!e)),hc((e=>!e?.isEditable||!e?.column.nullable))))return void(yield t);function*i(){for(const e of r){const t=s.get(e);t&&(yield{row:t,cells:[...o].map((e=>({columnId:e,value:null})))})}}ac(i(),hc((({row:e,cells:t})=>ac(t,hc((({columnId:t})=>null!==e.record[t]))))))?yield Iw({icon:uC,label:es(PEe,{cellCount:n}),onClick:()=>{!async function(){if(n>1&&!(await KS({title:es(PEe,{cellCount:n})})))return;await e.tabularData.recordsData.bulkUpdate([...i()])}()}}):yield t}function HEe(e){let t,n,r;return n=new BH({props:{recordSummary:e[1]}}),{c(){t=q("span"),at(n.$$.fragment),X(t,"class","record-summary svelte-ux6q98")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};2&t&&(r.recordSummary=e[1]),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function zEe(e){let t,n,r="recordName"===e[2]&&HEe(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"recordName"===e[2]?r?(r.p(e,n),4&n&&je(r,1)):(r=HEe(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function VEe(e){let t,n,r;return n=new Rx({props:{text:e[0],wrapStaticText:!0,$$slots:{default:[zEe,({slotName:e})=>({2:e}),({slotName:e})=>e?4:0]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","i18n-text-with-record-summary svelte-ux6q98")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,[t]){const r={};1&t&&(r.text=e[0]),14&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function qEe(e,t,n){let{translatedText:r}=t,{recordSummary:o}=t;return e.$$set=e=>{"translatedText"in e&&n(0,r=e.translatedText),"recordSummary"in e&&n(1,o=e.recordSummary)},[r,o]}class BEe extends ut{constructor(e){super(),ct(this,e,qEe,VEe,f,{translatedText:0,recordSummary:1})}}function jEe({targetCell:e,position:t,contextMenu:n,modalRecordView:r,tabularData:o,imperativeFilterController:s}){const{selection:a}=o;function*i(e){yield*function*(e){h(e.tabularData.canDeleteRecords)&&(yield Iw({icon:Kx,danger:!0,label:h(no)("delete_records",{values:{count:e.rowIds.length}}),onClick:()=>{KS({title:h(no)("delete_records_question",{values:{count:e.rowIds.length}}),body:[h(no)("deleted_records_cannot_be_recovered",{values:{count:e.rowIds.length}}),h(no)("are_you_sure_to_proceed")],onProceed:()=>e.tabularData.recordsData.deleteSelected(e.rowIds),onError:e=>WS.fromError(e)})}}))}({tabularData:o,rowIds:e})}function*l(e){const t=o.getRecordIdFromRowId(e);yield*function*(e){if(void 0===e.recordId)return;if(!h(e.tabularData.canViewLinkedEntities))return;yield Iw({label:h(no)("quick_view_record"),icon:$S,onClick:()=>{if(!e.modalRecordView)return;if(void 0===e.recordId)return;const t=h(xH).get(e.tabularData.table.oid);if(!t)return;const n=new OH({table:t,recordPk:String(e.recordId)});e.modalRecordView.open(n)}});const t=h(EH)({tableId:e.tabularData.table.oid,recordId:e.recordId});t&&(yield Tw({icon:PC,label:h(no)("open_record"),href:t}))}({tabularData:o,recordId:t,modalRecordView:r}),yield*function*(e){if(!h(e.tabularData.canInsertRecords))return;const t=h(e.tabularData.recordsData.selectableRowsMap);yield Iw({icon:xC,label:h(no)("duplicate_record"),onClick:()=>{const n=t.get(e.rowId);n&&e.tabularData.recordsData.duplicateRecord(n)}})}({tabularData:o,rowId:e}),yield*i([e])}function*c(e){const t=zI(e);t?yield*l(t):yield*i([...e])}function*u(e){const t=o.getProcessedColumn(e);t&&(yield*function*(e){const t=e.tabularData.meta.filtering,n=h(t).entries.filter((t=>t.columnId===e.column.id));if(!e.imperativeFilterController)return;const{imperativeFilterController:r}=e,o=n.length;yield Iw({icon:Bx,label:o>0?h(no)("add_filter"):h(no)("filter_column"),onClick:()=>{r.beginAddingNewFilteringEntry(e.column.id)}}),o&&(yield Iw({icon:iC,label:h(no)("remove_filters",{values:{count:o}}),onClick:()=>t.update((t=>t.withoutColumns([e.column.id])))}))}({tabularData:o,column:t,imperativeFilterController:s}),yield*function*(e){const t=e.tabularData.meta.sorting,n=h(t).get(e.column.id),r=NT(e.column.abstractType.cellInfo.type,!!e.column.linkFk);function o(){t.update((t=>t.without(e.column.id)))}function s(n){t.update((t=>t.with(e.column.id,n)))}"ASCENDING"===n?yield Iw({icon:$C,label:h(no)("remove_sorting_type",{values:{sortingType:r.ASCENDING}}),onClick:o}):yield Iw({icon:$C,label:h(no)("sort_type",{values:{sortingType:r.ASCENDING}}),onClick:()=>s("ASCENDING")}),"DESCENDING"===n?yield Iw({icon:pC,label:h(no)("remove_sorting_type",{values:{sortingType:r.DESCENDING}}),onClick:o}):yield Iw({icon:pC,label:h(no)("sort_type",{values:{sortingType:r.DESCENDING}}),onClick:()=>s("DESCENDING")})}({tabularData:o,column:t}),yield*function*(e){const t=e.tabularData.meta.grouping;h(t).hasColumn(e.column.id)?yield Iw({icon:FC,label:h(no)("remove_grouping"),onClick:()=>{t.update((t=>t.withoutColumns([e.column.id])))}}):yield Iw({icon:FC,label:h(no)("group_by_column"),onClick:()=>t.update((t=>t.withEntry({columnId:e.column.id,preprocFnId:void 0})))})}({tabularData:o,column:t}),yield Ew(...OEe({column:t})))}function*d(e){const t=zI(e);t?yield*u(t):yield*function*(e){}()}function*$(e){yield*LEe({tabularData:o,cellIds:e})}function*p(e){const{columnId:t}=qI(e),n=o.getProcessedColumn(t),s=o.recordsData.getCellValue(e);yield*function*(e){if(!e.column)return;if(void 0===!e.cellValue||null===e.cellValue)return;const{linkFk:t}=e.column;if(!t)return;if(!h(e.tabularData.canViewLinkedEntities))return;const n=h(xH).get(t.referent_table_oid);if(!n)return;const r=h(EH)({tableId:n.oid,recordId:e.cellValue});if(!r)return;const o=h(e.tabularData.recordsData.linkedRecordSummaries).get(String(e.column.id))?.get(String(e.cellValue));o&&(yield Ew(Iw({label:es(BEe,{translatedText:h(no)("quick_view_named_record"),recordSummary:o}),icon:$S,onClick:()=>{if(!e.modalRecordView)return;const t=new OH({table:n,recordPk:String(e.cellValue)});e.modalRecordView.open(t)}}),Tw({label:es(BEe,{translatedText:h(no)("open_named_record"),recordSummary:o}),icon:PC,href:r})))}({tabularData:o,column:n,cellValue:s,modalRecordView:r}),yield*$([e])}function*m({cellIds:e,rowIds:t,columnIds:n}){const r=zI(e);r?yield*p(r):yield*$([...e]);const o=[...c(t)];o.length&&(yield Dw({label:h(no)("row_plural",{values:{count:t.size}}),entries:o}));const s=[...d(n)];s.length&&(yield Dw({label:h(no)("column_plural",{values:{count:n.size}}),entries:s}))}const f=tE(e,"type",{"row-header-cell":({rowId:e})=>(a.update((t=>t.rowIds.has(e)?t:t.ofOneRow(e))),[...c(h(a).rowIds)]),"column-header-cell":({columnId:e})=>(a.update((t=>t.columnIds.has(e)?t:t.ofOneColumn(e))),[...d(h(a).columnIds)]),"data-cell":({cellId:e})=>(a.update((t=>t.cellIds.has(e)?t:t.ofOneCell(e))),[...m(h(a))]),"placeholder-data-cell":()=>[],"placeholder-row-header-cell":()=>[]});return f.length?(n.open({position:t,entries:f}),"opened"):"empty"}function UEe(e){let t,n,r,o;const s=e[6].default,a=b(s,e,e[5],null);return{c(){t=q("div"),a&&a.c(),X(t,"class","draggable svelte-3gs1al"),X(t,"draggable",e[1]),se(t,"draggable_active",e[1])},m(s,i){H(s,t,i),a&&a.m(t,null),n=!0,r||(o=[Y(t,"dragstart",e[7]),Y(t,"mousedown",e[2])],r=!0)},p(e,[r]){a&&a.p&&(!n||32&r)&&_(a,s,e,e[5],n?w(s,e[5],r,null):x(e[5]),null),(!n||2&r)&&X(t,"draggable",e[1]),(!n||2&r)&&se(t,"draggable_active",e[1])},i(e){n||(je(a,e),n=!0)},o(e){Ue(a,e),n=!1},d(e){e&&z(t),a&&a.d(e),r=!1,d(o)}}}function WEe(e,t,n){let r,o,s=a,i=()=>(s(),s=g(u,(e=>n(4,o=e))),u);e.$$.on_destroy.push((()=>s()));let{$$slots:l={},$$scope:c}=t,{selection:u}=t;i();let{column:d}=t;return e.$$set=e=>{"selection"in e&&i(n(0,u=e.selection)),"column"in e&&n(3,d=e.column),"$$scope"in e&&n(5,c=e.$$scope)},e.$$.update=()=>{24&e.$$.dirty&&n(1,r=o.fullySelectedColumnIds.has(String(d.id)))},[u,r,function(e){r&&e.stopPropagation()},d,o,c,l,function(t){_e.call(this,e,t)}]}class YEe extends ut{constructor(e){super(),ct(this,e,WEe,UEe,f,{selection:0,column:3})}}const KEe=e=>({}),GEe=e=>({class:"drag-over"});function XEe(e){let t,n,r,o;const s=e[10].default,a=b(s,e,e[9],GEe);return{c(){t=q("div"),a&&a.c(),X(t,"class","droppable svelte-8wmr3c"),se(t,"is_selected",e[0]),se(t,"dragged_over",e[1]),se(t,"dragged_over_right",e[3]),se(t,"dragged_over_left",e[2])},m(s,i){H(s,t,i),a&&a.m(t,null),n=!0,r||(o=[Y(t,"drop",e[11]),Y(t,"dragover",ZEe),Y(t,"dragenter",e[12]),Y(t,"dragleave",e[13])],r=!0)},p(e,[r]){a&&a.p&&(!n||512&r)&&_(a,s,e,e[9],n?w(s,e[9],r,KEe):x(e[9]),GEe),(!n||1&r)&&se(t,"is_selected",e[0]),(!n||2&r)&&se(t,"dragged_over",e[1]),(!n||8&r)&&se(t,"dragged_over_right",e[3]),(!n||4&r)&&se(t,"dragged_over_left",e[2])},i(e){n||(je(a,e),n=!0)},o(e){Ue(a,e),n=!1},d(e){e&&z(t),a&&a.d(e),r=!1,d(o)}}}const ZEe=e=>e.preventDefault();function JEe(e,t,n){let r,o,s,{$$slots:a={},$$scope:i}=t,{locationOfFirstDraggedColumn:l}=t,{columnLocation:c}=t,{isSelected:u=!1}=t,d=0;function $(e){e.preventDefault(),n(1,d+=1)}function p(){n(1,d-=1)}return e.$$set=e=>{"locationOfFirstDraggedColumn"in e&&n(6,l=e.locationOfFirstDraggedColumn),"columnLocation"in e&&n(7,c=e.columnLocation),"isSelected"in e&&n(0,u=e.isSelected),"$$scope"in e&&n(9,i=e.$$scope)},e.$$.update=()=>{192&e.$$.dirty&&n(8,r=void 0!==l?l-c:0),256&e.$$.dirty&&n(3,o=r<0),256&e.$$.dirty&&n(2,s=r>0),64&e.$$.dirty&&void 0===l&&n(1,d=0)},[u,d,s,o,$,p,l,c,r,i,a,function(t){_e.call(this,e,t)},e=>$(e),()=>p()]}class QEe extends ut{constructor(e){super(),ct(this,e,JEe,XEe,f,{locationOfFirstDraggedColumn:6,columnLocation:7,isSelected:0})}}function eDe(e){let t,n,r,o,s,a=e[3]&&tDe(e),i=e[4]&&nDe(),l=e[2]&&rDe(),c=e[8]&&oDe(e);return{c(){t=q("div"),a&&a.c(),n=U(),i&&i.c(),r=U(),l&&l.c(),o=U(),c&&c.c(),X(t,"class","indicator-icons svelte-1iiy6nb")},m(e,u){H(e,t,u),a&&a.m(t,null),F(t,n),i&&i.m(t,null),F(t,r),l&&l.m(t,null),F(t,o),c&&c.m(t,null),s=!0},p(e,s){e[3]?a?(a.p(e,s),8&s&&je(a,1)):(a=tDe(e),a.c(),je(a,1),a.m(t,n)):a&&(qe(),Ue(a,1,1,(()=>{a=null})),Be()),e[4]?i?(i.p(e,s),16&s&&je(i,1)):(i=nDe(),i.c(),je(i,1),i.m(t,r)):i&&(qe(),Ue(i,1,1,(()=>{i=null})),Be()),e[2]?l?(l.p(e,s),4&s&&je(l,1)):(l=rDe(),l.c(),je(l,1),l.m(t,o)):l&&(qe(),Ue(l,1,1,(()=>{l=null})),Be()),e[8]?c?(c.p(e,s),256&s&&je(c,1)):(c=oDe(e),c.c(),je(c,1),c.m(t,null)):c&&(qe(),Ue(c,1,1,(()=>{c=null})),Be())},i(e){s||(je(a),je(i),je(l),je(c),s=!0)},o(e){Ue(a),Ue(i),Ue(l),Ue(c),s=!1},d(e){e&&z(t),a&&a.d(),i&&i.d(),l&&l.d(),c&&c.d()}}}function tDe(e){let t,n;const r=["ASCENDING"===e[3]?$C:pC];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=8&n?rt(r,[ot("ASCENDING"===e[3]?$C:pC)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function nDe(e){let t,n;const r=[AC];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[ot(AC)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function rDe(e){let t,n;const r=[FC];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[ot(FC)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function oDe(e){let t,n;return t=new Eu({props:{$$slots:{content:[aDe],trigger:[sDe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1048832&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function sDe(e){let t,n;const r=[{slot:"trigger"},uS];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[r[0],ot(uS)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function aDe(e){let t,n;return{c(){t=q("div"),n=j(e[8]),X(t,"slot","content")},m(e,r){H(e,t,r),F(t,n)},p(e,t){256&t&&Q(n,e[8])},d(e){e&&z(t)}}}function iDe(e){let t,n,r,o,s,a,i,l,c;n=new qE({props:{when:e[1],color:"var(--cell-bg-color-row-selected)"}}),s=new qV({props:{processedColumn:e[0]}});let u=(e[3]||e[4]||e[2]||e[8])&&eDe(e);return{c(){t=q("div"),at(n.$$.fragment),r=U(),o=q("div"),at(s.$$.fragment),a=U(),u&&u.c(),X(o,"class","header-cell-btn btn btn-ghost svelte-1iiy6nb"),te(o,"cursor","inherit"),X(t,"class","header-cell-root svelte-1iiy6nb")},m(d,$){H(d,t,$),it(n,t,null),F(t,r),F(t,o),it(s,o,null),F(o,a),u&&u.m(o,null),i=!0,l||(c=[Y(o,"click",e[17]),Y(o,"mousedown",e[18]),Y(o,"mouseenter",e[19])],l=!0)},p(e,[t]){const r={};2&t&&(r.when=e[1]),n.$set(r);const a={};1&t&&(a.processedColumn=e[0]),s.$set(a),e[3]||e[4]||e[2]||e[8]?u?(u.p(e,t),284&t&&je(u,1)):(u=eDe(e),u.c(),je(u,1),u.m(o,null)):u&&(qe(),Ue(u,1,1,(()=>{u=null})),Be())},i(e){i||(je(n.$$.fragment,e),je(s.$$.fragment,e),je(u),i=!0)},o(e){Ue(n.$$.fragment,e),Ue(s.$$.fragment,e),Ue(u),i=!1},d(e){e&&z(t),lt(n),lt(s),u&&u.d(),l=!1,d(c)}}}function lDe(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,b,v=a,w=a,_=a;e.$$.on_destroy.push((()=>v())),e.$$.on_destroy.push((()=>w())),e.$$.on_destroy.push((()=>_()));const x=Dz();y(e,x,(e=>n(16,b=e)));let{processedColumn:C}=t,{isSelected:S=!1}=t;return e.$$set=e=>{"processedColumn"in e&&n(0,C=e.processedColumn),"isSelected"in e&&n(1,S=e.isSelected)},e.$$.update=()=>{1&e.$$.dirty&&n(12,({column:r}=C),r),4096&e.$$.dirty&&n(10,({id:o,description:s}=r),o,(n(8,s),n(12,r),n(0,C))),65536&e.$$.dirty&&n(11,({meta:i}=b),i),2048&e.$$.dirty&&(n(7,({filtering:l,sorting:c,grouping:u}=i),l,(n(6,c),w(),w=g(c,(e=>n(14,f=e))),c),(n(5,u),v(),v=g(u,(e=>n(13,m=e))),u)),_(),_=g(l,(e=>n(15,h=e)))),33792&e.$$.dirty&&n(4,d=h.entries.some((e=>e.columnId===o))),17408&e.$$.dirty&&n(3,$=f.get(o)),9216&e.$$.dirty&&n(2,p=m.entries.some((e=>e.columnId===o)))},[C,S,p,$,d,u,c,l,s,x,o,i,r,m,f,h,b,function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)},function(t){_e.call(this,e,t)}]}class cDe extends ut{constructor(e){super(),ct(this,e,lDe,iDe,f,{processedColumn:0,isSelected:1})}}function uDe(e){let t,n;return t=new fCe({props:{abstractType:e[5]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.abstractType=e[5]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function dDe(e){let t,n;return t=new ab({props:{options:e[2],getLabel:$De,value:e[0],valuesAreEqual:pDe,offsetOnFocus:2,isOptionDisabled:e[3],disabled:e[1],$$slots:{default:[uDe,({option:e})=>({5:e}),({option:e})=>e?32:0]},$$scope:{ctx:e}}}),t.$on("change",e[4]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};4&n&&(r.options=e[2]),1&n&&(r.value=e[0]),2&n&&(r.disabled=e[1]),96&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}const $De=e=>e?.name??"",pDe=(e,t)=>e?.identifier===t?.identifier;function mDe(e,t,n){let r,{value:o}=t,{disabled:s=!1}=t;return e.$$set=e=>{"value"in e&&n(0,o=e.value),"disabled"in e&&n(1,s=e.disabled)},n(2,r=[...wN.values(),vN].filter((e=>!yN[e.identifier])).sort(((e,t)=>e.name.localeCompare(t.name)))),[o,s,r,e=>kN(e),e=>{n(0,o=e.detail??_N)}]}class fDe extends ut{constructor(e){super(),ct(this,e,mDe,dDe,f,{value:0,disabled:1})}}function gDe(e){let t,n;const r=[{class:"opt"},jx,{size:"0.9em"}];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[r[0],ot(jx),r[2]]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function hDe(e){let t,n;return t=new t$({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function yDe(e){let t,n,r,o;const s=[hDe,gDe],a=[];function i(e,t){return e[5]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function bDe(e){let t,n,r,o,s,a,i,l;function c(){return e[12](e[15])}return n=new WL({props:{field:e[1],label:e[4]("column_name"),layout:"stacked"}}),o=new WL({props:{field:e[7],input:{component:fDe},label:e[4]("select_type"),layout:"stacked"}}),i=new QL({props:{form:e[0],proceedButton:{label:e[4]("add")},onProceed:c,onCancel:e[15],catchErrors:!0}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),at(o.$$.fragment),s=U(),a=q("div"),at(i.$$.fragment),X(a,"class","submit svelte-1kfp8h"),X(t,"slot","content"),X(t,"class","new-column-dropdown svelte-1kfp8h")},m(e,c){H(e,t,c),it(n,t,null),F(t,r),it(o,t,null),F(t,s),F(t,a),it(i,a,null),l=!0},p(t,r){e=t;const s={};2&r&&(s.field=e[1]),16&r&&(s.label=e[4]("column_name")),n.$set(s);const a={};16&r&&(a.label=e[4]("select_type")),o.$set(a);const l={};1&r&&(l.form=e[0]),16&r&&(l.proceedButton={label:e[4]("add")}),32768&r&&(l.onProceed=c),32768&r&&(l.onCancel=e[15]),i.$set(l)},i(e){l||(je(n.$$.fragment,e),je(o.$$.fragment,e),je(i.$$.fragment,e),l=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),Ue(i.$$.fragment,e),l=!1},d(e){e&&z(t),lt(n),lt(o),lt(i)}}}function vDe(e){let t,n;return t=new _f({props:{closeOnInnerClick:!1,triggerAppearance:"plain",showArrow:!1,ariaLabel:e[4]("new_column"),disabled:e[5],$$slots:{content:[bDe,({close:e})=>({15:e}),({close:e})=>e?32768:0],trigger:[yDe]},$$scope:{ctx:e}}}),t.$on("close",(function(){$(e[0].reset)&&e[0].reset.apply(this,arguments)})),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(n,[r]){e=n;const o={};16&r&&(o.ariaLabel=e[4]("new_column")),32&r&&(o.disabled=e[5]),98355&r&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function wDe(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f=a,h=a,b=a;y(e,no,(e=>n(4,p=e))),e.$$.on_destroy.push((()=>f())),e.$$.on_destroy.push((()=>h())),e.$$.on_destroy.push((()=>b()));const v=Dz();y(e,v,(e=>n(11,$=e)));const w=oH(_N);async function _(e){const t={dbOptions:{type:(n=u).defaultDbType?n.defaultDbType:n.dbTypes.size>0?[...n.dbTypes][0]:VD,typeOptions:{}},metadata:"file"===n.identifier?{file_backend:px()?.backend}:null};var n;await r.addWithMetadata({name:c,...t.dbOptions},t.metadata),e()}y(e,w,(e=>n(14,u=e)));return e.$$.update=()=>{2048&e.$$.dirty&&n(9,({columnsDataStore:r}=$),r),512&e.$$.dirty&&(n(3,({columns:o}=r),o),h(),h=g(o,(e=>n(10,d=e)))),1024&e.$$.dirty&&(n(1,s=oH("",[AV(d)])),f(),f=g(s,(e=>n(13,c=e)))),2&e.$$.dirty&&n(0,i=aH({columnName:s,columnAbstractType:w})),1&e.$$.dirty&&(n(2,({isSubmitting:l}=i),l),b(),b=g(l,(e=>n(5,m=e))))},[i,s,l,o,p,m,v,w,_,r,d,$,e=>_(e)]}class _De extends ut{constructor(e){super(),ct(this,e,wDe,vDe,f,{})}}function xDe(e,t,n){const r=e.slice();r[21]=t[n][0],r[22]=t[n][1];const o=r[5].columnIds.has(String(r[21]));return r[23]=o,r}function CDe(e){let t,n;return t=new QEe({props:{locationOfFirstDraggedColumn:0,columnLocation:-1}}),t.$on("drop",e[13]),t.$on("dragover",NDe),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function SDe(e){let t,n;return t=new cDe({props:{processedColumn:e[22],isSelected:e[23]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.processedColumn=e[22]),96&n&&(r.isSelected=e[23]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function kDe(e){let t,n;return t=new QEe({props:{locationOfFirstDraggedColumn:e[2],columnLocation:e[0].indexOf(e[21]),isSelected:e[23],$$slots:{default:[SDe]},$$scope:{ctx:e}}}),t.$on("drop",(function(){return e[14](e[22])})),t.$on("dragover",ADe),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(n,r){e=n;const o={};4&r&&(o.locationOfFirstDraggedColumn=e[2]),65&r&&(o.columnLocation=e[0].indexOf(e[21])),96&r&&(o.isSelected=e[23]),67108960&r&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function MDe(e){let t,n,r,o;function s(...t){return e[16](e[22],...t)}function a(){return e[17](e[22])}return t=new YEe({props:{column:e[22],selection:e[4],$$slots:{default:[kDe]},$$scope:{ctx:e}}}),t.$on("dragstart",e[15]),r=new Uge({props:{columnIdentifierKey:e[21],afterResize:s,onReset:a}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,s){it(t,e,s),H(e,n,s),it(r,e,s),o=!0},p(n,o){e=n;const i={};64&o&&(i.column=e[22]),16&o&&(i.selection=e[4]),67108965&o&&(i.$$scope={dirty:o,ctx:e}),t.$set(i);const l={};64&o&&(l.columnIdentifierKey=e[21]),64&o&&(l.afterResize=s),64&o&&(l.onReset=a),r.$set(l)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function IDe(e,t){let n,r,o;return r=new rye({props:{columnIdentifierKey:t[21],$$slots:{default:[MDe]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};64&n&&(o.columnIdentifierKey=t[21]),67108981&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function TDe(e){let t,n;return t=new $ye({props:{columnIdentifierKey:-2,$$slots:{default:[EDe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};67108864&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function EDe(e){let t,n;return t=new _De({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function DDe(e){let t,n,r,o,s,a=[],i=new Map;t=new fye({props:{columnIdentifierKey:-1,$$slots:{default:[CDe]},$$scope:{ctx:e}}});let l=[...e[6]];const c=e=>e[21];for(let d=0;d<l.length;d+=1){let t=xDe(e,l,d),n=c(t);i.set(n,a[d]=IDe(n,t))}let u=e[1]&&TDe(e);return{c(){at(t.$$.fragment),n=U();for(let e=0;e<a.length;e+=1)a[e].c();r=U(),u&&u.c(),o=W()},m(e,i){it(t,e,i),H(e,n,i);for(let t=0;t<a.length;t+=1)a[t].m(e,i);H(e,r,i),u&&u.m(e,i),H(e,o,i),s=!0},p(e,n){const s={};67108864&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s),1909&n&&(l=[...e[6]],qe(),a=nt(a,n,c,1,e,l,i,r.parentNode,et,IDe,r,xDe),Be()),e[1]?u?(u.p(e,n),2&n&&je(u,1)):(u=TDe(e),u.c(),je(u,1),u.m(o.parentNode,o)):u&&(qe(),Ue(u,1,1,(()=>{u=null})),Be())},i(e){if(!s){je(t.$$.fragment,e);for(let e=0;e<l.length;e+=1)je(a[e]);je(u),s=!0}},o(e){Ue(t.$$.fragment,e);for(let t=0;t<a.length;t+=1)Ue(a[t]);Ue(u),s=!1},d(e){lt(t,e),e&&z(n);for(let t=0;t<a.length;t+=1)a[t].d(e);e&&z(r),u&&u.d(e),e&&z(o)}}}function ODe(e){let t,n;return t=new qge({props:{$$slots:{default:[DDe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};67108983&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}const NDe=e=>e.preventDefault(),ADe=e=>e.preventDefault();function RDe(e,t,n){let r,o,s,i,l,c,u=a,d=a;e.$$.on_destroy.push((()=>u())),e.$$.on_destroy.push((()=>d()));const $=Dz();y(e,$,(e=>n(12,c=e)));let p,{hasNewColumnButton:m=!1}=t,{columnOrder:f}=t,{table:h}=t,b=[],v=[];function w(){for(const e of l.keys())n(0,f=[...new Set(f)]),f.includes(e)||n(0,f=[...f,e]);n(0,f);for(const e of f)i.columnIds.has(String(e))?(b.push(e),p||n(2,p=f.indexOf(e))):v.push(e)}function _(e){if(e&&uc(i.columnIds)===String(e.id))return n(2,p=void 0),b=[],void(v=[]);e?v.splice(f.indexOf(e.id),0,...b):v.splice(0,0,...b),yH({schema:h.schema,table:{oid:h.oid,metadata:{column_order:v}}}),n(2,p=void 0),b=[],v=[]}function x(e,t){s.setDisplayOptions(e,{display_width:t})}return e.$$set=e=>{"hasNewColumnButton"in e&&n(1,m=e.hasNewColumnButton),"columnOrder"in e&&n(0,f=e.columnOrder),"table"in e&&n(11,h=e.table)},e.$$.update=()=>{1&e.$$.dirty&&n(0,f=f??[]),4096&e.$$.dirty&&(n(4,({selection:r,processedColumns:o,columnsDataStore:s}=c),r,(n(3,o),d(),d=g(o,(e=>n(6,l=e))),o)),u(),u=g(r,(e=>n(5,i=e))))},[f,m,p,o,r,i,l,$,w,_,x,h,c,()=>_(),e=>_(e),()=>w(),(e,t)=>x(e,t),e=>x(e,null)]}class FDe extends ut{constructor(e){super(),ct(this,e,RDe,ODe,f,{hasNewColumnButton:1,columnOrder:0,table:11})}}const PDe=ss();function LDe(e,t){if(0===e)return"0 Bytes";const n=Math.floor(Math.log(e)/Math.log(1024));return`${(e/1024**n).toLocaleString(t,{minimumFractionDigits:0,maximumFractionDigits:2})} ${["Bytes","KiB","MiB","GiB","TiB","PiB"][n]}`}function HDe(e){let t,n=e[4]("column_number",{values:{column_number:e[0].index+1}})+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){17&r&&n!==(n=e[4]("column_number",{values:{column_number:e[0].index+1}})+"")&&Q(t,n)},i:a,o:a,d(e){e&&z(t)}}}function zDe(e){let t,n;return t=new Ng({props:{$$slots:{default:[VDe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};65&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function VDe(e){let t,n=e[0].name+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1&r&&n!==(n=e[0].name+"")&&Q(t,n)},d(e){e&&z(t)}}}function qDe(e){let t,n=e[0].sampleValue+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1&r&&n!==(n=e[0].sampleValue+"")&&Q(t,n)},d(e){e&&z(t)}}}function BDe(e){let t,n,r=e[4]("None")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","empty"),X(t,"class","do-not-import svelte-1j4temc")},m(e,r){H(e,t,r),F(t,n)},p(e,t){16&t&&r!==(r=e[4]("None")+"")&&Q(n,r)},d(e){e&&z(t)}}}function jDe(e){let t,n,r,o,s,a,i,c,u,d,$,p,m;const f=[zDe,HDe],g=[];function h(e,t){return e[0].name?0:1}n=h(e),r=g[n]=f[n](e),a=new Ng({props:{$$slots:{default:[qDe]},$$scope:{ctx:e}}});const y=[Wx];let b={};for(let v=0;v<y.length;v+=1)b=l(b,y[v]);return u=new Jd({props:b}),p=new CQ({props:{value:e[2],columns:[...e[1].values()],allowEmpty:!0,labelController:e[5],onUpdate:e[3],$$slots:{empty:[BDe]},$$scope:{ctx:e}}}),{c(){t=q("div"),r.c(),o=U(),s=q("div"),at(a.$$.fragment),i=U(),c=q("div"),at(u.$$.fragment),d=U(),$=q("div"),at(p.$$.fragment),X(t,"class","column-name"),X(s,"class","sample-value svelte-1j4temc"),X(c,"class","arrow svelte-1j4temc"),X($,"class","destination")},m(e,r){H(e,t,r),g[n].m(t,null),H(e,o,r),H(e,s,r),it(a,s,null),H(e,i,r),H(e,c,r),it(u,c,null),H(e,d,r),H(e,$,r),it(p,$,null),m=!0},p(e,[o]){let s=n;n=h(e),n===s?g[n].p(e,o):(qe(),Ue(g[s],1,1,(()=>{g[s]=null})),Be(),r=g[n],r?r.p(e,o):(r=g[n]=f[n](e),r.c()),je(r,1),r.m(t,null));const i={};65&o&&(i.$$scope={dirty:o,ctx:e}),a.$set(i);const l=0&o?rt(y,[ot(Wx)]):{};u.$set(l);const c={};4&o&&(c.value=e[2]),2&o&&(c.columns=[...e[1].values()]),8&o&&(c.onUpdate=e[3]),80&o&&(c.$$scope={dirty:o,ctx:e}),p.$set(c)},i(e){m||(je(r),je(a.$$.fragment,e),je(u.$$.fragment,e),je(p.$$.fragment,e),m=!0)},o(e){Ue(r),Ue(a.$$.fragment,e),Ue(u.$$.fragment,e),Ue(p.$$.fragment,e),m=!1},d(e){e&&z(t),g[n].d(),e&&z(o),e&&z(s),lt(a),e&&z(i),e&&z(c),lt(u),e&&z(d),e&&z($),lt(p)}}}function UDe(e,t,n){let r;y(e,no,(e=>n(4,r=e)));const o=new f$;let{field:s}=t,{availableTableColumns:a}=t,{mappedColumn:i}=t,{onUpdate:l}=t;return e.$$set=e=>{"field"in e&&n(0,s=e.field),"availableTableColumns"in e&&n(1,a=e.availableTableColumns),"mappedColumn"in e&&n(2,i=e.mappedColumn),"onUpdate"in e&&n(3,l=e.onUpdate)},[s,a,i,l,r,o]}class WDe extends ut{constructor(e){super(),ct(this,e,UDe,jDe,f,{field:0,availableTableColumns:1,mappedColumn:2,onUpdate:3})}}function YDe(e,t,n){const r=e.slice();return r[7]=t[n],r[9]=n,r}function KDe(e){let t,n;return t=new WDe({props:{field:e[7],availableTableColumns:e[2],mappedColumn:e[0].at(e[9]),onUpdate:function(...t){return e[6](e[9],...t)}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(n,r){e=n;const o={};2&r&&(o.field=e[7]),4&r&&(o.availableTableColumns=e[2]),1&r&&(o.mappedColumn=e[0].at(e[9])),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function GDe(e){let t,n,r,o,s,a,i,l,c,u,d,$,p,m=e[3]("csv_column")+"",f=e[3]("sample_value")+"",g=e[3]("destination")+"",h=e[1],y=[];for(let v=0;v<h.length;v+=1)y[v]=KDe(YDe(e,h,v));const b=e=>Ue(y[e],1,1,(()=>{y[e]=null}));return{c(){t=q("div"),n=q("div"),r=j(m),o=U(),s=q("div"),a=j(f),i=U(),l=q("div"),c=U(),u=q("div"),d=j(g),$=U();for(let e=0;e<y.length;e+=1)y[e].c();X(n,"class","header svelte-12jneya"),X(s,"class","header svelte-12jneya"),X(u,"class","header svelte-12jneya"),X(t,"class","fields svelte-12jneya")},m(e,m){H(e,t,m),F(t,n),F(n,r),F(t,o),F(t,s),F(s,a),F(t,i),F(t,l),F(t,c),F(t,u),F(u,d),F(t,$);for(let n=0;n<y.length;n+=1)y[n].m(t,null);p=!0},p(e,n){if((!p||8&n)&&m!==(m=e[3]("csv_column")+"")&&Q(r,m),(!p||8&n)&&f!==(f=e[3]("sample_value")+"")&&Q(a,f),(!p||8&n)&&g!==(g=e[3]("destination")+"")&&Q(d,g),23&n){let r;for(h=e[1],r=0;r<h.length;r+=1){const o=YDe(e,h,r);y[r]?(y[r].p(o,n),je(y[r],1)):(y[r]=KDe(o),y[r].c(),je(y[r],1),y[r].m(t,null))}for(qe(),r=h.length;r<y.length;r+=1)b(r);Be()}},i(e){if(!p){for(let e=0;e<h.length;e+=1)je(y[e]);p=!0}},o(e){y=y.filter(Boolean);for(let t=0;t<y.length;t+=1)Ue(y[t]);p=!1},d(e){e&&z(t),V(y,e)}}}function XDe(e){let t,n;return t=new _p({props:{boxed:!0,label:e[3]("column_mapping"),$$slots:{default:[GDe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};8&n&&(r.label=e[3]("column_mapping")),1039&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function ZDe(e,t,n){let r;y(e,no,(e=>n(3,r=e)));let{mapping:o}=t,{setMapping:s}=t,{fields:a}=t,{availableTableColumns:i}=t;function l(e,t){let n=[...o];t&&(n=n.map((e=>e?.id===t.id?void 0:e))),n[e]=t,s(n)}return e.$$set=e=>{"mapping"in e&&n(0,o=e.mapping),"setMapping"in e&&n(5,s=e.setMapping),"fields"in e&&n(1,a=e.fields),"availableTableColumns"in e&&n(2,i=e.availableTableColumns)},[o,a,i,r,l,s,(e,t)=>l(e,t)]}class JDe extends ut{constructor(e){super(),ct(this,e,ZDe,XDe,f,{mapping:0,setMapping:5,fields:1,availableTableColumns:2})}}class QDe{constructor(t=[]){e(this,"keyToValue",new Map),e(this,"valueToKey",new Map);for(const[e,n]of t)this.set(e,n)}set(e,t){const n=this.keyToValue.get(e);void 0!==n&&this.valueToKey.delete(n);const r=this.valueToKey.get(t);void 0!==r&&this.keyToValue.delete(r),this.keyToValue.set(e,t),this.valueToKey.set(t,e)}getValue(e){return this.keyToValue.get(e)}getKey(e){return this.valueToKey.get(e)}deleteKey(e){const t=this.keyToValue.get(e);return void 0!==t&&(this.keyToValue.delete(e),this.valueToKey.delete(t),!0)}deleteValue(e){const t=this.valueToKey.get(e);return void 0!==t&&(this.valueToKey.delete(e),this.keyToValue.delete(t),!0)}hasKey(e){return this.keyToValue.has(e)}hasValue(e){return this.valueToKey.has(e)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}get size(){return this.keyToValue.size}keys(){return this.keyToValue.keys()}values(){return this.keyToValue.values()}}function eOe(e){return void 0!==e.name}function tOe(e){return e.toLowerCase().replace(/[^a-z0-9]/g,"")}function nOe(e,t){return e.map((function(e,n){const r=t.at(n);if(!r)throw new Error("Field not found");return{csv_column:{index:n,name:r.name},table_column:e?.id??null}}))}function rOe(e){let t,n=e[0].name+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1&r&&n!==(n=e[0].name+"")&&Q(t,n)},d(e){e&&z(t)}}}function oOe(e){let t,n;const r=[Kx];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[ot(Kx)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function sOe(e){let t,n,r,o,s,a,i,l,c,u,d,$=LDe(e[0].size)+"";return r=new Ng({props:{$$slots:{default:[rOe]},$$scope:{ctx:e}}}),u=new Hu({props:{appearance:"plain",class:"padding-zero",$$slots:{default:[oOe]},$$scope:{ctx:e}}}),u.$on("click",e[16]),{c(){t=q("div"),n=q("div"),at(r.$$.fragment),o=U(),s=q("div"),a=j("("),i=j($),l=j(")"),c=U(),at(u.$$.fragment),X(n,"class","file-name svelte-onot55"),X(s,"class","file-size svelte-onot55"),X(t,"class","file-detail svelte-onot55")},m(e,$){H(e,t,$),F(t,n),it(r,n,null),F(t,o),F(t,s),F(s,a),F(s,i),F(s,l),F(t,c),it(u,t,null),d=!0},p(e,t){const n={};2097153&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n),(!d||1&t)&&$!==($=LDe(e[0].size)+"")&&Q(i,$);const o={};2097152&t&&(o.$$scope={dirty:t,ctx:e}),u.$set(o)},i(e){d||(je(r.$$.fragment,e),je(u.$$.fragment,e),d=!0)},o(e){Ue(r.$$.fragment,e),Ue(u.$$.fragment,e),d=!1},d(e){e&&z(t),lt(r),lt(u)}}}function aOe(e){let t,n,r=e[8]("data_to_be_imported")+"";return{c(){t=q("span"),n=j(r)},m(e,r){H(e,t,r),F(t,n)},p(e,t){256&t&&r!==(r=e[8]("data_to_be_imported")+"")&&Q(n,r)},d(e){e&&z(t)}}}function iOe(e){let t,n,r=e[8]("column_names")+"";return{c(){t=q("span"),n=j(r)},m(e,r){H(e,t,r),F(t,n)},p(e,t){256&t&&r!==(r=e[8]("column_names")+"")&&Q(n,r)},d(e){e&&z(t)}}}function lOe(e){let t;function n(e,t){return e[20]?iOe:aOe}let r=n(e),o=r(e);return{c(){o.c(),t=W()},m(e,n){o.m(e,n),H(e,t,n)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&z(t)}}}function cOe(e){let t,n,r;function o(t){e[17](t)}let s={options:[!0,!1],$$slots:{default:[lOe,({option:e})=>({20:e}),({option:e})=>e?1048576:0]},$$scope:{ctx:e}};return void 0!==e[10]&&(s.value=e[10]),t=new $y({props:s}),Ce.push((()=>st(t,"value",o))),t.$on("change",e[11]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};3145984&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1024&r&&(n=!0,o.value=e[10],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function uOe(e){let t,n;return t=new J$({props:{label:e[8]("content_of_first_row"),$$slots:{default:[cOe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};256&n&&(r.label=e[8]("content_of_first_row")),2098432&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function dOe(e){let t,n=So(e[4])+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){16&r&&n!==(n=So(e[4])+"")&&Q(t,n)},i:a,o:a,d(e){e&&z(t)}}}function $Oe(e){let t,n;return t=new HP({props:{$$slots:{default:[fOe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2097168&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function pOe(e){let t,n;return t=new JDe({props:{fields:e[4].fields,availableTableColumns:e[6],mapping:e[9],setMapping:e[18]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.fields=e[4].fields),64&n&&(r.availableTableColumns=e[6]),512&n&&(r.mapping=e[9]),4&n&&(r.setMapping=e[18]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function mOe(e){let t,n;return t=new t$({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function fOe(e){let t,n=e[4].message+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){16&r&&n!==(n=e[4].message+"")&&Q(t,n)},d(e){e&&z(t)}}}function gOe(e){let t,n,r,o,s,a,i,l,c,u,d,$,p;n=new _p({props:{label:e[8]("file"),boxed:!0,$$slots:{default:[sOe]},$$scope:{ctx:e}}}),o=new _p({props:{boxed:!0,label:e[8]("csv_structure"),$$slots:{default:[uOe]},$$scope:{ctx:e}}});const m=[mOe,pOe,$Oe,dOe],f=[];function g(e,t){return e[5]||!e[4]?0:"success"===e[4].status?1:"failure"===e[4].status?2:3}return a=g(e),i=f[a]=m[a](e),u=new QL({props:{form:e[7],catchErrors:!0,canProceed:e[9].some(Boolean),hasCancelButton:!1,onProceed:e[12],proceedButton:{label:e[8]("import")}}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),at(o.$$.fragment),s=U(),i.c(),l=U(),c=q("div"),at(u.$$.fragment),X(t,"class","import-form svelte-onot55")},m(e,i){H(e,t,i),it(n,t,null),F(t,r),it(o,t,null),F(t,s),f[a].m(t,null),H(e,l,i),H(e,c,i),it(u,c,null),d=!0,$||(p=T(ux.call(null,c)),$=!0)},p(e,[r]){const s={};256&r&&(s.label=e[8]("file")),2097155&r&&(s.$$scope={dirty:r,ctx:e}),n.$set(s);const l={};256&r&&(l.label=e[8]("csv_structure")),2098432&r&&(l.$$scope={dirty:r,ctx:e}),o.$set(l);let c=a;a=g(e),a===c?f[a].p(e,r):(qe(),Ue(f[c],1,1,(()=>{f[c]=null})),Be(),i=f[a],i?i.p(e,r):(i=f[a]=m[a](e),i.c()),je(i,1),i.m(t,null));const d={};128&r&&(d.form=e[7]),512&r&&(d.canProceed=e[9].some(Boolean)),256&r&&(d.proceedButton={label:e[8]("import")}),u.$set(d)},i(e){d||(je(n.$$.fragment,e),je(o.$$.fragment,e),je(i),je(u.$$.fragment,e),d=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),Ue(i),Ue(u.$$.fragment,e),d=!1},d(e){e&&z(t),lt(n),lt(o),f[a].d(),e&&z(l),e&&z(c),lt(u),$=!1,p()}}}function hOe(e,t,n){let r,o,s,i,l,c,u,d=a,$=a;y(e,no,(e=>n(8,l=e))),e.$$.on_destroy.push((()=>d())),e.$$.on_destroy.push((()=>$()));let p,{table:m}=t,{file:f}=t,{tableColumns:h}=t,{resetFile:b}=t,{onFinish:v}=t,w=!1;async function _(){n(5,w=!0),n(4,p=await async function(e,t={}){const n=t?.hasHeaderRow??!0;return new Promise((t=>{let r;Cye.exports.parse(e,{header:n,step:(e,t)=>{r=e.data,t.abort()},complete:()=>{const e=(()=>{if(n){const e=r;return Object.entries(e).map((([e,t],n)=>({index:n,name:e,sampleValue:t})))}return r.map(((e,t)=>({sampleValue:e,index:t})))})();t({status:"success",fields:e})},error:()=>{t({status:"failure",message:"Parse error"})}})}))}(f,{hasHeaderRow:u})),I(s,c="success"===p.status?function(e){const{csvColumns:t}=e,n=e.availableTableColumns,r=new QDe;function o(){return ic((e=>!r.hasKey(e.index)),t)}const s=new Map(gc((([,e])=>[e.column.name,e]),n));return function(){const e=new Map(t.filter(eOe).map((e=>[tOe(e.name),e])));if(e.size<n.size)return;const o=new Map(gc((([,e])=>[tOe(e.column.name),e]),n));if(o.size<n.size)return;const s=e.entries();for(const[t,n]of s){const e=o.get(t);e&&r.set(n.index,e.id)}}(),function(){for(const e of o()){if(!e.name)continue;const t=s.get(e.name);t&&r.set(e.index,t.id)}}(),function(){for(const e of o()){const t=uc(ic((e=>!r.hasValue(e.id)),n.values()));if(!t)return;r.set(e.index,t.id)}}(),[...function*(){for(const e of t){const t=r.getValue(e.index);if(void 0===t){yield;continue}const o=n.get(t);o?yield o:yield}}()]}({csvColumns:p.fields,availableTableColumns:r}):[],c),n(5,w=!1)}function x(){_()}fe(x);return e.$$set=e=>{"table"in e&&n(13,m=e.table),"file"in e&&n(0,f=e.file),"tableColumns"in e&&n(14,h=e.tableColumns),"resetFile"in e&&n(1,b=e.resetFile),"onFinish"in e&&n(15,v=e.onFinish)},e.$$.update=()=>{16384&e.$$.dirty&&n(6,r=function(e){return new Map(ic((([,{column:e}])=>TM(e)),e.entries()))}(h)),12&e.$$.dirty&&n(7,i=aH({hasHeaderRow:o,mapping:s}))},n(3,o=oH(!0)),$(),$=g(o,(e=>n(10,u=e))),n(2,s=oH([])),d(),d=g(s,(e=>n(9,c=e))),[f,b,s,o,p,w,r,i,l,c,u,x,async function(){if(!p)return;if("failure"===p.status)return;const{inserted_rows:e}=await function(e){const t=new FormData;return t.append("header",e.headerRow?"true":""),t.append("database_id",String(e.database.id)),t.append("target_table_oid",String(e.table.oid)),t.append("file",e.file),t.append("mappings",JSON.stringify(e.columnMapping)),wk("/bulk_insert/",t)}({database:m.schema.database,table:m,file:f,headerRow:u,columnMapping:nOe(c,p.fields)});WS.success(l("imported_count_rows",{values:{count:e}})),v()},m,h,v,()=>b?.(),function(e){u=e,o.set(u)},e=>s.set(e)]}class yOe extends ut{constructor(e){super(),ct(this,e,hOe,gOe,f,{table:13,file:0,tableColumns:14,resetFile:1,onFinish:15})}}function bOe(e){let t,n;return t=new Ry({}),t.$on("add",e[1]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function vOe(e,t,n){let{setFile:r}=t;return e.$$set=e=>{"setFile"in e&&n(0,r=e.setFile)},[r,e=>{const t=e.detail.added.at(0)?.file;t&&r(t)}]}class wOe extends ut{constructor(e){super(),ct(this,e,vOe,bOe,f,{setFile:0})}}function _Oe(e){let t,n;return t=new yOe({props:{table:e[1],file:e[3],tableColumns:e[2],resetFile:e[6],onFinish:e[7]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.table=e[1]),8&n&&(r.file=e[3]),4&n&&(r.tableColumns=e[2]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function xOe(e){let t,n;return t=new wOe({props:{setFile:e[5]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function COe(e){let t,n,r,o;const s=[xOe,_Oe],a=[];function i(e,t){return void 0===e[3]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function SOe(e){let t,n;return t=new dv({props:{controller:e[0],title:e[4]("import"),$$slots:{default:[COe]},$$scope:{ctx:e}}}),t.$on("open",e[6]),t.$on("close",e[6]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.controller=e[0]),16&n&&(r.title=e[4]("import")),526&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function kOe(e,t,n){let r;y(e,no,(e=>n(4,r=e)));let o,{controller:s}=t,{table:a}=t,{tableColumns:i}=t,{onFinish:l}=t;function c(e){n(3,o=e)}return e.$$set=e=>{"controller"in e&&n(0,s=e.controller),"table"in e&&n(1,a=e.table),"tableColumns"in e&&n(2,i=e.tableColumns),"onFinish"in e&&n(8,l=e.onFinish)},[s,a,i,o,r,c,function(){c(void 0)},function(){s.close(),l()},l]}class MOe extends ut{constructor(e){super(),ct(this,e,kOe,SOe,f,{controller:0,table:1,tableColumns:2,onFinish:8})}}function IOe(e){let t,n;return t=new l$({props:{disabled:e[2],size:"medium",appearance:"primary",onClick:e[24],icon:jx,label:e[19]("new_record")}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4&n[0]&&(r.disabled=e[2]),524288&n[0]&&(r.label=e[19]("new_record")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function TOe(e){let t,n=e[19]("no_records_found")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){524288&r[0]&&n!==(n=e[19]("no_records_found")+"")&&Q(t,n)},d(e){e&&z(t)}}}function EOe(e){let t,n,r=e[19]("showing_n_to_m_of_total_records",{values:{leftBound:e[13],rightBound:e[7],totalCount:e[3]}})+"";return{c(){t=q("span"),n=j(r)},m(e,r){H(e,t,r),F(t,n)},p(e,t){532616&t[0]&&r!==(r=e[19]("showing_n_to_m_of_total_records",{values:{leftBound:e[13],rightBound:e[7],totalCount:e[3]}})+"")&&Q(n,r)},d(e){e&&z(t)}}}function DOe(e){let t,n,r,o=e[19]("count_new_records",{values:{count:e[20].length}})+"";return{c(){t=q("span"),n=j("+"),r=j(o),X(t,"class","pill svelte-126ziv3")},m(e,o){H(e,t,o),F(t,n),F(t,r)},p(e,t){1572864&t[0]&&o!==(o=e[19]("count_new_records",{values:{count:e[20].length}})+"")&&Q(r,o)},d(e){e&&z(t)}}}function OOe(e){let t,n,r,o=e[19]("count_unsaved_records",{values:{count:e[21].length-e[20].length}})+"";return{c(){t=q("span"),n=j("+"),r=j(o),X(t,"class","pill svelte-126ziv3")},m(e,o){H(e,t,o),F(t,n),F(t,r)},p(e,t){3670016&t[0]&&o!==(o=e[19]("count_unsaved_records",{values:{count:e[21].length-e[20].length}})+"")&&Q(r,o)},d(e){e&&z(t)}}}function NOe(e){let t,n,r,o,s,a,i,l,c,u,d,$,p,m=e[6]&&IOe(e);function f(e,t){return e[3]?EOe:e[1]!==pk.Loading?TOe:void 0}let g=f(e),h=g&&g(e),y=e[20].length>0&&DOe(e),b=e[21].length-e[20].length>0&&OOe(e);function v(t){e[35](t)}let w={totalCount:e[3]??0,pageSizeOptions:"widget"===e[0]?[]:void 0,hiddenWhenPossible:"widget"===e[0]};return void 0!==e[4]&&(w.pagination=e[4]),c=new Wbe({props:w}),Ce.push((()=>st(c,"pagination",v))),$=new Qbe({props:{state:e[5]}}),$.$on("click",e[23]),{c(){t=q("div"),n=q("div"),m&&m.c(),r=U(),o=q("div"),h&&h.c(),s=U(),y&&y.c(),a=U(),b&&b.c(),i=U(),l=q("div"),at(c.$$.fragment),d=U(),at($.$$.fragment),X(o,"class","record-count svelte-126ziv3"),X(n,"class","status-pane-items-section svelte-126ziv3"),X(l,"class","status-pane-items-section svelte-126ziv3"),X(t,"class","status-pane svelte-126ziv3"),se(t,"context-widget","widget"===e[0]),se(t,"context-page","page"===e[0])},m(e,u){H(e,t,u),F(t,n),m&&m.m(n,null),F(n,r),F(n,o),h&&h.m(o,null),F(o,s),y&&y.m(o,null),F(o,a),b&&b.m(o,null),F(t,i),F(t,l),it(c,l,null),F(l,d),it($,l,null),p=!0},p(e,i){e[6]?m?(m.p(e,i),64&i[0]&&je(m,1)):(m=IOe(e),m.c(),je(m,1),m.m(n,r)):m&&(qe(),Ue(m,1,1,(()=>{m=null})),Be()),g===(g=f(e))&&h?h.p(e,i):(h&&h.d(1),h=g&&g(e),h&&(h.c(),h.m(o,s))),e[20].length>0?y?y.p(e,i):(y=DOe(e),y.c(),y.m(o,a)):y&&(y.d(1),y=null),e[21].length-e[20].length>0?b?b.p(e,i):(b=OOe(e),b.c(),b.m(o,null)):b&&(b.d(1),b=null);const l={};8&i[0]&&(l.totalCount=e[3]??0),1&i[0]&&(l.pageSizeOptions="widget"===e[0]?[]:void 0),1&i[0]&&(l.hiddenWhenPossible="widget"===e[0]),!u&&16&i[0]&&(u=!0,l.pagination=e[4],Oe((()=>u=!1))),c.$set(l);const d={};32&i[0]&&(d.state=e[5]),$.$set(d),(!p||1&i[0])&&se(t,"context-widget","widget"===e[0]),(!p||1&i[0])&&se(t,"context-page","page"===e[0])},i(e){p||(je(m),je(c.$$.fragment,e),je($.$$.fragment,e),p=!0)},o(e){Ue(m),Ue(c.$$.fragment,e),Ue($.$$.fragment,e),p=!1},d(e){e&&z(t),m&&m.d(),h&&h.d(),y&&y.d(),b&&b.d(),lt(c),lt($)}}}function AOe(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,b,v,w,_,x,C,S,k,M,I,T,E,D,O,N,A,R,F,P,L,H=a,z=a,V=a,q=a,B=a,j=a,U=a,W=a,Y=a,K=a;y(e,no,(e=>n(19,F=e))),e.$$.on_destroy.push((()=>H())),e.$$.on_destroy.push((()=>z())),e.$$.on_destroy.push((()=>V())),e.$$.on_destroy.push((()=>q())),e.$$.on_destroy.push((()=>B())),e.$$.on_destroy.push((()=>j())),e.$$.on_destroy.push((()=>U())),e.$$.on_destroy.push((()=>W())),e.$$.on_destroy.push((()=>Y())),e.$$.on_destroy.push((()=>K()));const G=Dz();y(e,G,(e=>n(30,I=e)));let{context:X="page"}=t;return e.$$set=e=>{"context"in e&&n(0,X=e.context)},e.$$.update=()=>{1073741824&e.$$.dirty[0]&&n(25,({recordsData:r,meta:o,isLoading:s,columnsDataStore:i,constraintsDataStore:l,canInsertRecords:c,processedColumns:u,selection:d}=I),r,(n(29,o),n(30,I)),(n(18,s),z(),z=g(s,(e=>n(2,T=e))),s),(n(28,i),n(30,I)),(n(17,l),q(),q=g(l,(e=>n(32,D=e))),l),(n(16,c),V(),V=g(c,(e=>n(31,E=e))),c),(n(15,u),H(),H=g(u,(e=>n(37,M=e))),u)),536870912&e.$$.dirty[0]&&(n(14,({pagination:$}=o),$),W(),W=g($,(e=>n(4,R=e)))),16&e.$$.dirty[0]&&n(13,({leftBound:p,rightBound:m}=R),p,(n(27,m),n(4,R))),33554432&e.$$.dirty[0]&&(n(12,({totalCount:f,state:h,newRecords:b,persistedNewRecords:v}=r),f,(n(11,h),U(),U=g(h,(e=>n(34,A=e))),h),(n(10,b),K(),K=g(b,(e=>n(21,L=e))),b),(n(9,v),Y(),Y=g(v,(e=>n(20,P=e))),v)),j(),j=g(f,(e=>n(3,N=e)))),8&e.$$.dirty[1]&&n(1,w=A),268435456&e.$$.dirty[0]&&(n(8,_=i.fetchStatus),B(),B=g(_,(e=>n(33,O=e)))),134217736&e.$$.dirty[0]&&n(7,x=Math.min(N??0,m)),2&e.$$.dirty[0]|6&e.$$.dirty[1]&&n(26,C="failure"===O?.state||w===pk.Error||D.state===pk.Error),1&e.$$.dirty[0]|1&e.$$.dirty[1]&&n(6,S="widget"!==X&&E),67108868&e.$$.dirty[0]&&n(5,k=(()=>{let e;return T&&(e="loading"),C&&(e="error"),e})())},[X,w,T,N,R,k,S,x,_,v,b,h,f,p,$,u,c,l,s,F,P,L,G,function(){I.refresh()},async function(){await r.addEmptyRecord(),d.update((e=>e.ofNewRecordDataEntryCell(Mz(M.values())?.id.toString())))},r,C,m,i,o,I,E,D,O,A,function(e){R=e,$.set(R)}]}class ROe extends ut{constructor(e){super(),ct(this,e,AOe,NOe,f,{context:0},null,[-1,-1])}}function FOe(e){let t,n;return t=new f$e({props:{selectedCellData:e[1]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.selectedCellData=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function POe(e,t,n){let r,o,s,i=a;e.$$.on_destroy.push((()=>i()));const l=Dz();return y(e,l,(e=>n(3,o=e))),e.$$.update=()=>{8&e.$$.dirty&&(n(0,({selectedCellData:r}=o),r),i(),i=g(r,(e=>n(1,s=e))))},[r,s,l,o]}class LOe extends ut{constructor(e){super(),ct(this,e,POe,FOe,f,{})}}function HOe(e){let t,n;return t=new N1({props:{table:e[0],processedColumns:e[5],isLoading:e[6],previewRecordId:e[1],onSave:e[2]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.table=e[0]),32&n&&(r.processedColumns=e[5]),64&n&&(r.isLoading=e[6]),2&n&&(r.previewRecordId=e[1]),4&n&&(r.onSave=e[2]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function zOe(e,t,n){let r,o,s,i,l,c=a,u=a;e.$$.on_destroy.push((()=>c())),e.$$.on_destroy.push((()=>u()));let{linkedTable:d}=t,{previewRecordId:$}=t,{onSave:p}=t;return e.$$set=e=>{"linkedTable"in e&&n(0,d=e.linkedTable),"previewRecordId"in e&&n(1,$=e.previewRecordId),"onSave"in e&&n(2,p=e.onSave)},e.$$.update=()=>{1&e.$$.dirty&&n(7,r=new Oz(d)),128&e.$$.dirty&&(n(4,({processedColumns:o,isLoading:s}=r),o,(n(3,s),u(),u=g(s,(e=>n(6,l=e))),s)),c(),c=g(o,(e=>n(5,i=e))))},[d,$,p,s,o,i,l,r]}class VOe extends ut{constructor(e){super(),ct(this,e,zOe,HOe,f,{linkedTable:0,previewRecordId:1,onSave:2})}}function qOe(e){let t;const n=e[2].default,r=b(n,e,e[3],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||8&o)&&_(r,n,e,e[3],t?w(n,e[3],o,null):x(e[3]),null)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function BOe(e){let t,n,r;return n=new RP({props:{icon:HC,fullWidth:e[0],title:e[1],$$slots:{default:[qOe]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","outcome-box svelte-worsbx")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,[t]){const r={};1&t&&(r.fullWidth=e[0]),2&t&&(r.title=e[1]),8&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function jOe(e,t,n){let r;y(e,no,(e=>n(4,r=e)));let{$$slots:o={},$$scope:s}=t,{fullWidth:a=!0}=t,{title:i=r("whats_changing")}=t;return e.$$set=e=>{"fullWidth"in e&&n(0,a=e.fullWidth),"title"in e&&n(1,i=e.title),"$$scope"in e&&n(3,s=e.$$scope)},[a,i,o,s]}class UOe extends ut{constructor(e){super(),ct(this,e,jOe,BOe,f,{fullWidth:0,title:1})}}function WOe(e){let t,n,r;function o(t){e[3](t)}let s={options:e[1],getLabel:e[2]};return void 0!==e[0]&&(s.values=e[0]),t=new Xf({props:s}),Ce.push((()=>st(t,"values",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.options=e[1]),!n&&1&r&&(n=!0,o.values=e[0],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function YOe(e,t,n){let{options:r}=t,{value:o=[]}=t;return e.$$set=e=>{"options"in e&&n(1,r=e.options),"value"in e&&n(0,o=e.value)},[o,r,function(e){return{component:qV,props:{processedColumn:e}}},function(e){o=e,n(0,o)}]}class KOe extends ut{constructor(e){super(),ct(this,e,YOe,WOe,f,{options:1,value:0})}}function GOe({constraints:e,columns:t,tables:n}){return e.map((e=>Sz(e)?function({fkConstraint:e,columns:t,tables:n}){const r=n.get(e.referent_table_oid);if(r)return{constraint:e,table:r,columns:e.columns.map((e=>t.get(e))).filter(_o)}}({fkConstraint:e,columns:t,tables:n}):void 0)).filter(_o)}function XOe(e,t,n){const r=e.slice();return r[5]=t[n],r}function ZOe(e){let t,n,r=e[1],o=[];for(let a=0;a<r.length;a+=1)o[a]=JOe(XOe(e,r,a));const s=e=>Ue(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=W()},m(e,r){for(let t=0;t<o.length;t+=1)o[t].m(e,r);H(e,t,r),n=!0},p(e,n){if(2&n){let a;for(r=e[1],a=0;a<r.length;a+=1){const s=XOe(e,r,a);o[a]?(o[a].p(s,n),je(o[a],1)):(o[a]=JOe(s),o[a].c(),je(o[a],1),o[a].m(t.parentNode,t))}for(qe(),a=r.length;a<o.length;a+=1)s(a);Be()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)je(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)Ue(o[t]);n=!1},d(e){V(o,e),e&&z(t)}}}function JOe(e){let t,n;return t=new qV({props:{processedColumn:e[5],truncate:!1,bold:!0}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.processedColumn=e[5]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function QOe(e){let t,n,r="columnComponent"===e[4]&&ZOe(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"columnComponent"===e[4]?r?(r.p(e,n),16&n&&je(r,1)):(r=ZOe(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function eNe(e){let t,n,r,o,s,a,i;return r=new HI({props:{table:e[0],bold:!0,truncate:!1}}),a=new Rx({props:{text:e[2]("via_column_component"),$$slots:{default:[QOe,({slotName:e})=>({4:e}),({slotName:e})=>e?16:0]},$$scope:{ctx:e}}}),{c(){t=q("span"),n=q("span"),at(r.$$.fragment),o=U(),s=q("span"),at(a.$$.fragment),X(n,"class","table"),X(s,"class","columns"),X(t,"class","linked-table-name")},m(e,l){H(e,t,l),F(t,n),it(r,n,null),F(t,o),F(t,s),it(a,s,null),i=!0},p(e,[t]){const n={};1&t&&(n.table=e[0]),r.$set(n);const o={};4&t&&(o.text=e[2]("via_column_component")),274&t&&(o.$$scope={dirty:t,ctx:e}),a.$set(o)},i(e){i||(je(r.$$.fragment,e),je(a.$$.fragment,e),i=!0)},o(e){Ue(r.$$.fragment,e),Ue(a.$$.fragment,e),i=!1},d(e){e&&z(t),lt(r),lt(a)}}}function tNe(e,t,n){let r,o,s;y(e,no,(e=>n(2,s=e)));let{linkedTable:a}=t;return e.$$set=e=>{"linkedTable"in e&&n(3,a=e.linkedTable)},e.$$.update=()=>{8&e.$$.dirty&&n(1,({columns:r,table:o}=a),r,(n(0,o),n(3,a)))},[o,r,s,a]}class nNe extends ut{constructor(e){super(),ct(this,e,tNe,eNe,f,{linkedTable:3})}}function rNe(e){let t,n,r;function o(t){e[3](t)}let s={options:e[1],getLabel:e[2]};return void 0!==e[0]&&(s.value=e[0]),t=new $y({props:s}),Ce.push((()=>st(t,"value",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.options=e[1]),!n&&1&r&&(n=!0,o.value=e[0],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function oNe(e,t,n){let{linkedTables:r}=t,{value:o}=t;return e.$$set=e=>{"linkedTables"in e&&n(1,r=e.linkedTables),"value"in e&&n(0,o=e.value)},[o,r,function(e){return void 0===e?"":{component:nNe,props:{linkedTable:e}}},function(e){o=e,n(0,o)}]}class sNe extends ut{constructor(e){super(),ct(this,e,oNe,rNe,f,{linkedTables:1,value:0})}}function aNe(e){let t,n,r,o,s,a,i=e[1]("linked_via_foreign_key_column")+"";return s=new OI({props:{icon:YC,name:e[0],truncate:!1,bold:!0}}),{c(){t=q("span"),n=j(i),r=j(":"),o=U(),at(s.$$.fragment)},m(e,i){H(e,t,i),F(t,n),F(t,r),H(e,o,i),it(s,e,i),a=!0},p(e,[t]){(!a||2&t)&&i!==(i=e[1]("linked_via_foreign_key_column")+"")&&Q(n,i);const r={};1&t&&(r.name=e[0]),s.$set(r)},i(e){a||(je(s.$$.fragment,e),a=!0)},o(e){Ue(s.$$.fragment,e),a=!1},d(e){e&&z(t),e&&z(o),lt(s,e)}}}function iNe(e,t,n){let r;y(e,no,(e=>n(1,r=e)));let{newFkColumnName:o}=t;return e.$$set=e=>{"newFkColumnName"in e&&n(0,o=e.newFkColumnName)},[o,r]}class lNe extends ut{constructor(e){super(),ct(this,e,iNe,aNe,f,{newFkColumnName:0})}}function cNe(e){let t,n;return t=new WL({props:{field:e[3],input:{component:sNe,props:{linkedTables:e[13]}},label:e[8]("linked_table"),layout:"stacked"}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8&n[0]&&(r.field=e[3]),8192&n[0]&&(r.input={component:sNe,props:{linkedTables:e[13]}}),256&n[0]&&(r.label=e[8]("linked_table")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function uNe(e){let t,n;return t=new WL({props:{field:e[5],label:e[8]("name_of_new_table"),layout:"stacked",$$slots:{help:[pNe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};32&n[0]&&(r.field=e[5]),256&n[0]&&(r.label=e[8]("name_of_new_table")),2304&n[0]|128&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function dNe(e){let t,n;return t=new HI({props:{table:e[11],truncate:!1,bold:!0}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2048&n[0]&&(r.table=e[11]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function $Ne(e){let t,n,r="tableName"===e[37]&&dNe(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"tableName"===e[37]?r?(r.p(e,n),64&n[1]&&je(r,1)):(r=dNe(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function pNe(e){let t,n,r;return n=new Rx({props:{text:e[8]("new_table_that_will_be_linked_to_table"),$$slots:{default:[$Ne,({slotName:e})=>({37:e}),({slotName:e})=>[0,e?64:0]]},$$scope:{ctx:e}}}),{c(){t=q("span"),at(n.$$.fragment),X(t,"slot","help")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};256&t[0]&&(r.text=e[8]("new_table_that_will_be_linked_to_table")),2048&t[0]|192&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function mNe(e){let t,n;return t=new HI({props:{table:{name:e[1]},truncate:!1,bold:!0}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n[0]&&(r.table={name:e[1]}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function fNe(e){let t,n,r="targetTableName"===e[37]&&mNe(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"targetTableName"===e[37]?r?(r.p(e,n),64&n[1]&&je(r,1)):(r=mNe(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function gNe(e){let t,n,r;return n=new Rx({props:{text:e[12],$$slots:{default:[fNe,({slotName:e})=>({37:e}),({slotName:e})=>[0,e?64:0]]},$$scope:{ctx:e}}}),{c(){t=q("span"),at(n.$$.fragment),X(t,"slot","help")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};4096&t[0]&&(r.text=e[12]),2&t[0]|192&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function hNe(e){let t,n;return t=new HI({props:{table:{name:e[1]},truncate:!1,bold:!0}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n[0]&&(r.table={name:e[1]}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function yNe(e){let t,n;return t=new HI({props:{table:e[11],truncate:!1,bold:!0}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2048&n[0]&&(r.table=e[11]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function bNe(e){let t,n,r,o;const s=[yNe,hNe],a=[];function i(e,t){return"tableName"===e[37]?0:"targetTableName"===e[37]&&e[1]?1:-1}return~(t=i(e))&&(n=a[t]=s[t](e)),{c(){n&&n.c(),r=W()},m(e,n){~t&&a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?~t&&a[t].p(e,o):(n&&(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be()),~t?(n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){~t&&a[t].d(e),e&&z(r)}}}function vNe(e){let t,n,r,o,s;return n=new Rx({props:{text:e[8]("new_column_added_to_table"),$$slots:{default:[_Ne,({slotName:e})=>({37:e}),({slotName:e})=>[0,e?64:0]]},$$scope:{ctx:e}}}),o=new WL({props:{field:e[4],label:e[8]("name_of_link_column")}}),{c(){t=q("p"),at(n.$$.fragment),r=U(),at(o.$$.fragment)},m(e,a){H(e,t,a),it(n,t,null),H(e,r,a),it(o,e,a),s=!0},p(e,t){const r={};256&t[0]&&(r.text=e[8]("new_column_added_to_table")),2048&t[0]|192&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};16&t[0]&&(s.field=e[4]),256&t[0]&&(s.label=e[8]("name_of_link_column")),o.$set(s)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(n),e&&z(r),lt(o,e)}}}function wNe(e){let t,n;return t=new HI({props:{table:e[11],truncate:!1,bold:!0}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2048&n[0]&&(r.table=e[11]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function _Ne(e){let t,n,r="tableName"===e[37]&&wNe(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"tableName"===e[37]?r?(r.p(e,n),64&n[1]&&je(r,1)):(r=wNe(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function xNe(e){let t,n,r,o,s;n=new Rx({props:{text:e[1]?e[8]("columns_removed_from_table_added_to_target",{values:{count:e[9].length}}):e[8]("columns_removed_from_table_added_to_new_table",{values:{count:e[9].length}}),$$slots:{default:[bNe,({slotName:e})=>({37:e}),({slotName:e})=>[0,e?64:0]]},$$scope:{ctx:e}}});let a="newTable"===e[7]&&vNe(e);return{c(){t=q("p"),at(n.$$.fragment),r=U(),a&&a.c(),o=W()},m(e,i){H(e,t,i),it(n,t,null),H(e,r,i),a&&a.m(e,i),H(e,o,i),s=!0},p(e,t){const r={};770&t[0]&&(r.text=e[1]?e[8]("columns_removed_from_table_added_to_target",{values:{count:e[9].length}}):e[8]("columns_removed_from_table_added_to_new_table",{values:{count:e[9].length}})),2050&t[0]|192&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r),"newTable"===e[7]?a?(a.p(e,t),128&t[0]&&je(a,1)):(a=vNe(e),a.c(),je(a,1),a.m(o.parentNode,o)):a&&(qe(),Ue(a,1,1,(()=>{a=null})),Be())},i(e){s||(je(n.$$.fragment,e),je(a),s=!0)},o(e){Ue(n.$$.fragment,e),Ue(a),s=!1},d(e){e&&z(t),lt(n),e&&z(r),a&&a.d(e),e&&z(o)}}}function CNe(e){let t,n;return t=new UOe({props:{$$slots:{default:[xNe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2962&n[0]|128&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function SNe(e){let t,n,r,o,s,a,i;const l=[uNe,cNe],c=[];function u(e,t){return"newTable"===e[7]?0:1}return t=u(e),n=c[t]=l[t](e),o=new WL({props:{field:e[2],input:{component:KOe,props:{options:e[6]}},label:"newTable"===e[7]?e[8]("columns_to_extract"):e[8]("columns_to_move"),layout:"stacked",$$slots:{help:[gNe]},$$scope:{ctx:e}}}),a=new ML({props:{$$slots:{default:[CNe]},$$scope:{ctx:e}}}),{c(){n.c(),r=U(),at(o.$$.fragment),s=U(),at(a.$$.fragment)},m(e,n){c[t].m(e,n),H(e,r,n),it(o,e,n),H(e,s,n),it(a,e,n),i=!0},p(e,s){let i=t;t=u(e),t===i?c[t].p(e,s):(qe(),Ue(c[i],1,1,(()=>{c[i]=null})),Be(),n=c[t],n?n.p(e,s):(n=c[t]=l[t](e),n.c()),je(n,1),n.m(r.parentNode,r));const d={};4&s[0]&&(d.field=e[2]),64&s[0]&&(d.input={component:KOe,props:{options:e[6]}}),384&s[0]&&(d.label="newTable"===e[7]?e[8]("columns_to_extract"):e[8]("columns_to_move")),4098&s[0]|128&s[1]&&(d.$$scope={dirty:s,ctx:e}),o.$set(d);const $={};2962&s[0]|128&s[1]&&($.$$scope={dirty:s,ctx:e}),a.$set($)},i(e){i||(je(n),je(o.$$.fragment,e),je(a.$$.fragment,e),i=!0)},o(e){Ue(n),Ue(o.$$.fragment,e),Ue(a.$$.fragment,e),i=!1},d(e){c[t].d(e),e&&z(r),lt(o,e),e&&z(s),lt(a,e)}}}function kNe(e){let t,n=e[8]("extract_columns_to_new_table",{values:{count:e[9].length}})+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){768&r[0]&&n!==(n=e[8]("extract_columns_to_new_table",{values:{count:e[9].length}})+"")&&Q(t,n)},d(e){e&&z(t)}}}function MNe(e){let t,n=e[8]("move_columns_to_linked_table",{values:{count:e[9].length}})+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){768&r[0]&&n!==(n=e[8]("move_columns_to_linked_table",{values:{count:e[9].length}})+"")&&Q(t,n)},d(e){e&&z(t)}}}function INe(e){let t;function n(e,t){return"existingTable"===e[7]?MNe:kNe}let r=n(e),o=r(e);return{c(){t=q("span"),o.c(),X(t,"slot","title")},m(e,n){H(e,t,n),o.m(t,null)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t,null)))},d(e){e&&z(t),o.d()}}}function TNe(e){let t,n;return t=new QL({props:{form:e[15],slot:"footer",proceedButton:{label:e[14]},onProceed:e[20],onCancel:e[31]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};32768&n[0]&&(r.form=e[15]),16384&n[0]&&(r.proceedButton={label:e[14]}),1&n[0]&&(r.onCancel=e[31]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function ENe(e){let t,n;return t=new dv({props:{controller:e[0],$$slots:{footer:[TNe],title:[INe],default:[SNe]},$$scope:{ctx:e}}}),t.$on("close",(function(){$(e[15].reset)&&e[15].reset.apply(this,arguments)})),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(n,r){e=n;const o={};1&r[0]&&(o.controller=e[0]),64511&r[0]|128&r[1]&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function DNe(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,b,v,w,_,x,C,S,k,M,T,E,D,O,N,A,R,F,P,L,H=a,z=a,V=a,q=a,B=a,j=a,U=a,W=a;y(e,no,(e=>n(8,M=e))),y(e,_H,(e=>n(27,R=e))),y(e,kH,(e=>n(29,P=e))),e.$$.on_destroy.push((()=>H())),e.$$.on_destroy.push((()=>z())),e.$$.on_destroy.push((()=>V())),e.$$.on_destroy.push((()=>q())),e.$$.on_destroy.push((()=>B())),e.$$.on_destroy.push((()=>j())),e.$$.on_destroy.push((()=>U())),e.$$.on_destroy.push((()=>W()));const Y=Dz();y(e,Y,(e=>n(25,E=e)));let{controller:K}=t;return e.$$set=e=>{"controller"in e&&n(0,K=e.controller)},e.$$.update=()=>{33554432&e.$$.dirty[0]&&(n(10,({processedColumns:r,constraintsDataStore:o,selection:s,table:i}=E),r,(n(18,o),W(),W=g(o,(e=>n(30,L=e))),o),(n(11,i),n(25,E))),U(),U=g(r,(e=>n(28,F=e)))),1073741824&e.$$.dirty[0]&&n(22,({constraints:l}=L),l),268435456&e.$$.dirty[0]&&n(6,c=[...F.values()]),1&e.$$.dirty[0]&&(n(17,({targetType:u,columns:d,isOpen:$}=K),u,(n(2,d),q(),q=g(d,(e=>n(9,O=e))),d),(n(16,$),j(),j=g($,(e=>n(34,A=e))),$)),H(),H=g(u,(e=>n(7,k=e)))),512&e.$$.dirty[0]&&n(23,p=new Set(O.map((e=>e.column.name)))),8388672&e.$$.dirty[0]&&n(21,m=c.map((e=>e.column)).filter((e=>!p.has(e.name)))),536870912&e.$$.dirty[0]&&(n(5,b=oH("",[P])),B(),B=g(b,(e=>n(26,N=e)))),2097152&e.$$.dirty[0]&&(n(4,v=oH("",[AV(m)])),V(),V=g(v,(e=>n(33,D=e)))),83886208&e.$$.dirty[0]&&n(1,w="newTable"===k?N:T?.table.name??""),188&e.$$.dirty[0]&&n(15,_="newTable"===k?aH({columns:d,tableName:b,newFkColumnName:v}):aH({columns:d,linkedTable:f},[MP([f,d],(e=>function(e,t){const n=t.find((t=>e.columns.some((e=>e.id===t.id))));return n?yP((r=n.column.name,o=e.table.name,h(no)("cannot_move_linked_column_to_linked_table",{values:{columnName:r,tableName:o}}))):{type:"valid"};var r,o}(...e)))])),384&e.$$.dirty[0]&&n(14,x=M("existingTable"===k?"move_columns":"create_table_move_columns")),406847488&e.$$.dirty[0]&&n(13,C=GOe({constraints:l,columns:F,tables:R.tablesMap})),386&e.$$.dirty[0]&&n(12,S=M("existingTable"===k?w?"select_columns_move_into_table":"select_columns_move":w?"select_columns_extract_into_table":"select_columns_extract")),69206016&e.$$.dirty[0]&&I(v,D=NV({name:N},m),D),512&e.$$.dirty[0]&&function(e){if(!A)return;if(0===e.length)return;const t=e.map((e=>String(e.id)));s.updateWithoutFocus((e=>e.ofRowColumnIntersection(e.rowIds,t)))}(O)},n(3,f=oH(void 0)),z(),z=g(f,(e=>n(24,T=e))),[K,w,d,f,v,b,c,k,M,O,r,i,S,C,x,_,$,u,o,Y,async function(){const e=D,t=N,n=[],o=O,a=o.map((e=>e.id));try{if("existingTable"===k){const e=T?.table.oid;if(!e)throw new Error(M("no_target_table_selected"));await PM.data_modeling.move_columns({database_id:i.schema.database.id,source_table_oid:i.oid,move_column_attnums:a,target_table_oid:e}).run();const t=T?.columns??[];let r;1===t.length&&(r=t[0].column.id),n.push(E.refreshAfterColumnExtraction(a,r))}else{const e=await PM.data_modeling.split_table({database_id:i.schema.database.id,table_oid:i.oid,column_attnums:a,extracted_table_name:t,relationship_fk_column_name:D}).run();n.push(vH({schema:i.schema,tableOid:e.extracted_table_oid})),n.push(E.refreshAfterColumnExtraction(a,e.new_fkey_attnum))}if("newTable"===k)WS.success({title:M("new_table_created_with_extracted_column",{values:{count:o.length,newTableName:t}}),contentComponent:lNe,contentComponentProps:{newFkColumnName:e}});else{const e=o.map((e=>e.column.name)),t=T?.table.name??"";let n;n=1===e.length?M("column_moved_to_table",{values:{columnName:e[0],tableName:t}}):M("columns_moved_to_table",{values:{columnNames:e.join(","),tableName:t}}),WS.success(n)}if(K.close(),await Promise.all(n),"newTable"===k){const e=[...h(r).values()].slice(-1)[0];s.update((t=>t.ofOneColumn(String(e.id)))),await Ee(),Jhe(document.querySelector("[data-cell-selected]"))}}catch(l){WS.error(ck(l))}},m,l,p,T,E,N,R,F,P,L,()=>K.close()]}class ONe extends ut{constructor(e){super(),ct(this,e,DNe,ENe,f,{controller:0},null,[-1,-1])}}class NNe extends Ib{constructor(...t){super(...t),e(this,"targetType",pt("newTable")),e(this,"columns",oH([],[vP((e=>e.some((e=>e.column.primary_key))),h(no)("primary_key_column_cannot_be_moved"))]))}}function ANe(e){let t,n,r,o,s,a,i,c,u,d=e[5]("extract_columns_to_new_table",{values:{count:e[0].length}})+"";const $=[rC];let p={};for(let g=0;g<$.length;g+=1)p=l(p,$[g]);r=new Jd({props:p});const m=[Dd];let f={};for(let g=0;g<m.length;g+=1)f=l(f,m[g]);return c=new Jd({props:f}),{c(){t=q("div"),n=q("div"),at(r.$$.fragment),o=U(),s=q("span"),a=j(d),i=U(),at(c.$$.fragment),X(t,"class","action-item svelte-lo2o6r")},m(e,l){H(e,t,l),F(t,n),it(r,n,null),F(n,o),F(n,s),F(s,a),F(t,i),it(c,t,null),u=!0},p(e,t){const n=0&t?rt($,[ot(rC)]):{};r.$set(n),(!u||33&t)&&d!==(d=e[5]("extract_columns_to_new_table",{values:{count:e[0].length}})+"")&&Q(a,d);const o=0&t?rt(m,[ot(Dd)]):{};c.$set(o)},i(e){u||(je(r.$$.fragment,e),je(c.$$.fragment,e),u=!0)},o(e){Ue(r.$$.fragment,e),Ue(c.$$.fragment,e),u=!1},d(e){e&&z(t),lt(r),lt(c)}}}function RNe(e){let t,n;return t=new Hu({props:{disabled:!e[6],appearance:"action",$$slots:{default:[FNe]},$$scope:{ctx:e}}}),t.$on("click",e[11]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.disabled=!e[6]),131105&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function FNe(e){let t,n,r,o,s,a,i,c,u,d=e[5]("move_columns_to_linked_table",{values:{count:e[0].length}})+"";const $=[oC];let p={};for(let g=0;g<$.length;g+=1)p=l(p,$[g]);r=new Jd({props:p});const m=[Dd];let f={};for(let g=0;g<m.length;g+=1)f=l(f,m[g]);return c=new Jd({props:f}),{c(){t=q("div"),n=q("div"),at(r.$$.fragment),o=U(),s=q("span"),a=j(d),i=U(),at(c.$$.fragment),X(t,"class","action-item svelte-lo2o6r")},m(e,l){H(e,t,l),F(t,n),it(r,n,null),F(n,o),F(n,s),F(s,a),F(t,i),it(c,t,null),u=!0},p(e,t){const n=0&t?rt($,[ot(oC)]):{};r.$set(n),(!u||33&t)&&d!==(d=e[5]("move_columns_to_linked_table",{values:{count:e[0].length}})+"")&&Q(a,d);const o=0&t?rt(m,[ot(Dd)]):{};c.$set(o)},i(e){u||(je(r.$$.fragment,e),je(c.$$.fragment,e),u=!0)},o(e){Ue(r.$$.fragment,e),Ue(c.$$.fragment,e),u=!1},d(e){e&&z(t),lt(r),lt(c)}}}function PNe(e){let t,n;return t=new Hu({props:{appearance:"danger",disabled:!e[6],$$slots:{default:[LNe]},$$scope:{ctx:e}}}),t.$on("click",e[15]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.disabled=!e[6]),131104&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function LNe(e){let t,n,r,o,s,a=e[5]("delete_column")+"";const i=[Kx];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return t=new Jd({props:c}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(a)},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),F(r,o),s=!0},p(e,n){const r=0&n?rt(i,[ot(Kx)]):{};t.$set(r),(!s||32&n)&&a!==(a=e[5]("delete_column")+"")&&Q(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function HNe(e){let t,n,r,o,s,a,i;n=new Hu({props:{disabled:!e[6],appearance:"action",$$slots:{default:[ANe]},$$scope:{ctx:e}}}),n.$on("click",e[10]);let l=e[2]&&RNe(e),c=e[3]&&PNe(e);return a=new ONe({props:{controller:e[8]}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),l&&l.c(),o=U(),c&&c.c(),s=U(),at(a.$$.fragment),X(t,"class","actions-container svelte-lo2o6r")},m(e,u){H(e,t,u),it(n,t,null),F(t,r),l&&l.m(t,null),F(t,o),c&&c.m(t,null),H(e,s,u),it(a,e,u),i=!0},p(e,[r]){const s={};64&r&&(s.disabled=!e[6]),131105&r&&(s.$$scope={dirty:r,ctx:e}),n.$set(s),e[2]?l?(l.p(e,r),4&r&&je(l,1)):(l=RNe(e),l.c(),je(l,1),l.m(t,o)):l&&(qe(),Ue(l,1,1,(()=>{l=null})),Be()),e[3]?c?(c.p(e,r),8&r&&je(c,1)):(c=PNe(e),c.c(),je(c,1),c.m(t,null)):c&&(qe(),Ue(c,1,1,(()=>{c=null})),Be())},i(e){i||(je(n.$$.fragment,e),je(l),je(c),je(a.$$.fragment,e),i=!0)},o(e){Ue(n.$$.fragment,e),Ue(l),Ue(c),Ue(a.$$.fragment,e),i=!1},d(e){e&&z(t),lt(n),l&&l.d(),c&&c.d(),e&&z(s),lt(a,e)}}}function zNe(e,t,n){let r,o,s,i,l,c,u,d,$,p,m=a,f=a;y(e,no,(e=>n(5,u=e))),e.$$.on_destroy.push((()=>m())),e.$$.on_destroy.push((()=>f()));const h=Dz();y(e,h,(e=>n(14,$=e)));const b=new NNe(US.getPropsForNewModal());let{columns:v}=t;function w(e){XS({identifierType:u("column"),identifierName:e.column.name,body:[u("all_objects_related_to_column_affected"),u("could_break_tables_views"),u("are_you_sure_to_proceed")],onProceed:()=>s.deleteColumn(e.id)})}return e.$$set=e=>{"columns"in e&&n(0,v=e.columns)},e.$$.update=()=>{16384&e.$$.dirty&&n(12,({table:r,processedColumns:o,columnsDataStore:s}=$),r,(n(4,o),m(),m=g(o,(e=>n(13,d=e))),o)),1&e.$$.dirty&&n(3,i=1===v.length?v[0]:void 0),8192&e.$$.dirty&&n(2,l=[...d].some((([,e])=>e.linkFk))),4096&e.$$.dirty&&(n(1,({currentRoleOwns:c}=r.currentAccess),c),f(),f=g(c,(e=>n(6,p=e))))},[v,c,l,i,o,u,p,h,b,w,function(){b.targetType.set("newTable"),b.columns.set(v),b.open()},function(){b.targetType.set("existingTable"),b.columns.set(v),b.open()},r,d,$,()=>i&&w(i)]}class VNe extends ut{constructor(e){super(),ct(this,e,zNe,HNe,f,{columns:0})}}function qNe(e){let t,n,r,o,s;return o=new ix({props:{form:e[0],disabled:e[2]}}),{c(){t=q("div"),n=q("div"),r=q("div"),at(o.$$.fragment),X(r,"class","content"),X(n,"class","option-form display-opts"),X(t,"class","type-options")},m(e,a){H(e,t,a),F(t,n),F(n,r),it(o,r,null),s=!0},p(e,[t]){const n={};1&t&&(n.form=e[0]),4&t&&(n.disabled=e[2]),o.$set(n)},i(e){s||(je(o.$$.fragment,e),s=!0)},o(e){Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(o)}}}function BNe(e,t,n){let r,o=a,s=()=>(o(),o=g(u,(e=>n(5,r=e))),u);e.$$.on_destroy.push((()=>o()));let{displayOptions:i}=t,{displayOptionsConfig:l}=t,{displayForm:c}=t,{displayFormValues:u}=t;s();let{disabled:d=!1}=t;const $=jo();return $.addValidator("AbstractTypeConfigValidator",(()=>{let e=!0;if(c){const t=c.getValidationResult().isValid;e=e&&t}return e})),e.$$set=e=>{"displayOptions"in e&&n(3,i=e.displayOptions),"displayOptionsConfig"in e&&n(4,l=e.displayOptionsConfig),"displayForm"in e&&n(0,c=e.displayForm),"displayFormValues"in e&&s(n(1,u=e.displayFormValues)),"disabled"in e&&n(2,d=e.disabled)},e.$$.update=()=>{var t,o;48&e.$$.dirty&&(t=r,(o=l)&&(n(3,i=o?.determineDisplayOptions(t)??{}),$.validate()))},[c,u,d,i,l,r]}class jNe extends ut{constructor(e){super(),ct(this,e,BNe,qNe,f,{displayOptions:3,displayOptionsConfig:4,displayForm:0,displayFormValues:1,disabled:2})}}function UNe(e){let t,n,r=e[10]("no_formatting_option_data_type")+"";return{c(){t=q("span"),n=j(r),X(t,"class","disabled svelte-o2ny5l")},m(e,r){H(e,t,r),F(t,n)},p(e,t){1024&t&&r!==(r=e[10]("no_formatting_option_data_type")+"")&&Q(n,r)},i:a,o:a,d(e){e&&z(t)}}}function WNe(e){let t,n,r,o,s,a,i;function l(t){e[18](t)}let c={displayOptionsConfig:e[8],displayForm:e[7],displayFormValues:e[6],disabled:e[3]};void 0!==e[2]&&(c.displayOptions=e[2]),n=new jNe({props:c}),Ce.push((()=>st(n,"displayOptions",l)));let u=e[1]&&YNe(e);return{c(){t=q("div"),at(n.$$.fragment),o=U(),u&&u.c()},m(r,l){H(r,t,l),it(n,t,null),F(t,o),u&&u.m(t,null),s=!0,a||(i=[Y(t,"focus",e[14]),Y(t,"mousedown",e[14])],a=!0)},p(e,o){const s={};256&o&&(s.displayOptionsConfig=e[8]),128&o&&(s.displayForm=e[7]),64&o&&(s.displayFormValues=e[6]),8&o&&(s.disabled=e[3]),!r&&4&o&&(r=!0,s.displayOptions=e[2],Oe((()=>r=!1))),n.$set(s),e[1]?u?(u.p(e,o),2&o&&je(u,1)):(u=YNe(e),u.c(),je(u,1),u.m(t,null)):u&&(qe(),Ue(u,1,1,(()=>{u=null})),Be())},i(e){s||(je(n.$$.fragment,e),je(u),s=!0)},o(e){Ue(n.$$.fragment,e),Ue(u),s=!1},d(e){e&&z(t),lt(n),u&&u.d(),a=!1,d(i)}}}function YNe(e){let t,n,r;return n=new m$({props:{onProceed:e[12],onCancel:e[13],isProcessing:"processing"===e[0]?.state,canProceed:!e[5],proceedButton:{label:e[10]("save")},size:"small"}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","footer svelte-o2ny5l")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};1&t&&(r.isProcessing="processing"===e[0]?.state),32&t&&(r.canProceed=!e[5]),1024&t&&(r.proceedButton={label:e[10]("save")}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function KNe(e){let t,n,r,o;const s=[WNe,UNe],a=[];function i(e,t){return e[8]&&e[7]&&!e[4]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,[o]){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function GNe(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f=a;y(e,no,(e=>n(10,p=e))),e.$$.on_destroy.push((()=>f()));let{column:h}=t,b=!1;const v=Dz();y(e,v,(e=>n(17,m=e)));let w,_=h.column.metadata??{};const x=Bo();return e.$$set=e=>{"column"in e&&n(15,h=e.column)},e.$$.update=()=>{131072&e.$$.dirty&&({columnsDataStore:r}=m),32768&e.$$.dirty&&n(8,({displayOptionsConfig:s,displayForm:i,displayFormValues:l}=rCe(h.abstractType,h.column.type,{...h.column,abstractType:h.abstractType})),s,(n(7,i),n(15,h)),(n(6,l),n(15,h))),65537&e.$$.dirty&&n(5,c="processing"===w?.state||!$),32768&e.$$.dirty&&n(4,u=h.column.primary_key||!!h.linkFk),1&e.$$.dirty&&n(3,d="processing"===w?.state)},n(9,({validationResult:o}=x),o),f(),f=g(o,(e=>n(16,$=e))),[w,b,_,d,u,c,l,i,s,o,p,v,async function(){n(0,w={state:"processing"});try{await r.setDisplayOptions(h,_),n(1,b=!1),n(0,w={state:"success"})}catch(e){const t=e instanceof Error?e.message:p("unable_to_change_display_opts");WS.error(t),n(0,w={state:"failure",errors:[t]})}},function(){n(0,w={state:"success"}),n(2,_=h.column.metadata??{}),n(1,b=!1),n(8,({displayOptionsConfig:s,displayForm:i,displayFormValues:l}=rCe(h.abstractType,h.column.type,{...h.column,abstractType:h.abstractType})),s,(n(7,i),n(15,h)),(n(6,l),n(15,h)))},function(){n(1,b=!0)},h,$,m,function(e){_=e,n(2,_)}]}class XNe extends ut{constructor(e){super(),ct(this,e,GNe,KNe,f,{column:15})}}function ZNe(e,t,n){const r=e.slice();return r[16]=t[n],r}function JNe(e){let t,n,r,o,s,a,i;function l(t){e[15](t)}var c=e[6];function u(e){let t={disabled:e[5],autofocus:!0};return void 0!==e[2]&&(t.value=e[2]),{props:t}}c&&(n=new c(u(e)),Ce.push((()=>st(n,"value",l))));let d=e[3].length&&eAe(e);return a=new m$({props:{onProceed:e[11],onCancel:e[10],isProcessing:e[5],canProceed:e[7],proceedButton:{label:e[8]("save")},size:"small"}}),{c(){t=q("div"),n&&at(n.$$.fragment),o=U(),d&&d.c(),s=U(),at(a.$$.fragment),X(t,"class","input-container svelte-1eoy31l")},m(e,r){H(e,t,r),n&&it(n,t,null),F(t,o),d&&d.m(t,null),F(t,s),it(a,t,null),i=!0},p(e,i){const $={};if(32&i&&($.disabled=e[5]),!r&&4&i&&(r=!0,$.value=e[2],Oe((()=>r=!1))),c!==(c=e[6])){if(n){qe();const e=n;Ue(e.$$.fragment,1,0,(()=>{lt(e,1)})),Be()}c?(n=new c(u(e)),Ce.push((()=>st(n,"value",l))),at(n.$$.fragment),je(n.$$.fragment,1),it(n,t,o)):n=null}else c&&n.$set($);e[3].length?d?d.p(e,i):(d=eAe(e),d.c(),d.m(t,s)):d&&(d.d(1),d=null);const p={};32&i&&(p.isProcessing=e[5]),128&i&&(p.canProceed=e[7]),256&i&&(p.proceedButton={label:e[8]("save")}),a.$set(p)},i(e){i||(n&&je(n.$$.fragment,e),je(a.$$.fragment,e),i=!0)},o(e){n&&Ue(n.$$.fragment,e),Ue(a.$$.fragment,e),i=!1},d(e){e&&z(t),n&&lt(n),d&&d.d(),lt(a)}}}function QNe(e){let t,n,r;var o=e[6];function s(e){return{props:{value:e[0],disabled:e[1]}}}return o&&(t=new o(s(e)),t.$on("focus",e[9])),{c(){t&&at(t.$$.fragment),n=W()},m(e,o){t&&it(t,e,o),H(e,n,o),r=!0},p(e,r){const a={};if(1&r&&(a.value=e[0]),2&r&&(a.disabled=e[1]),o!==(o=e[6])){if(t){qe();const e=t;Ue(e.$$.fragment,1,0,(()=>{lt(e,1)})),Be()}o?(t=new o(s(e)),t.$on("focus",e[9]),at(t.$$.fragment),je(t.$$.fragment,1),it(t,n.parentNode,n)):t=null}else o&&t.$set(a)},i(e){r||(t&&je(t.$$.fragment,e),r=!0)},o(e){t&&Ue(t.$$.fragment,e),r=!1},d(e){e&&z(n),t&&lt(t,e)}}}function eAe(e){let t,n=e[3],r=[];for(let o=0;o<n.length;o+=1)r[o]=tAe(ZNe(e,n,o));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=W()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);H(e,t,n)},p(e,o){if(8&o){let s;for(n=e[3],s=0;s<n.length;s+=1){const a=ZNe(e,n,s);r[s]?r[s].p(a,o):(r[s]=tAe(a),r[s].c(),r[s].m(t.parentNode,t))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(e){V(r,e),e&&z(t)}}}function tAe(e){let t,n,r=e[16]+"";return{c(){t=q("span"),n=j(r),X(t,"class","error svelte-1eoy31l")},m(e,r){H(e,t,r),F(t,n)},p(e,t){8&t&&r!==(r=e[16]+"")&&Q(n,r)},d(e){e&&z(t)}}}function nAe(e){let t,n,r,o;const s=[QNe,JNe],a=[];function i(e,t){return!e[4]||e[1]?0:1}return n=i(e),r=a[n]=s[n](e),{c(){t=q("div"),r.c(),X(t,"class","editable-text svelte-1eoy31l")},m(e,r){H(e,t,r),a[n].m(t,null),o=!0},p(e,[o]){let l=n;n=i(e),n===l?a[n].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),r=a[n],r?r.p(e,o):(r=a[n]=s[n](e),r.c()),je(r,1),r.m(t,null))},i(e){o||(je(r),o=!0)},o(e){Ue(r),o=!1},d(e){e&&z(t),a[n].d()}}}function rAe(e,t,n){let r,o,s,a;y(e,no,(e=>n(8,a=e)));let{initialValue:i=""}=t,{onSubmit:l}=t,{getValidationErrors:c=(()=>[])}=t,{isLongText:u=!1}=t,{disabled:d=!1}=t,$=!1,p="",m=!1;return e.$$set=e=>{"initialValue"in e&&n(0,i=e.initialValue),"onSubmit"in e&&n(12,l=e.onSubmit),"getValidationErrors"in e&&n(13,c=e.getValidationErrors),"isLongText"in e&&n(14,u=e.isLongText),"disabled"in e&&n(1,d=e.disabled)},e.$$.update=()=>{8197&e.$$.dirty&&n(3,r=p===i?[]:c(p)),13&e.$$.dirty&&n(7,o=0===r.length&&p!==i),16384&e.$$.dirty&&n(6,s=u?Cg:ym)},[i,d,p,r,$,m,s,o,a,function(){n(2,p=i),n(4,$=!0)},function(){n(2,p=""),n(4,$=!1)},async function(){n(5,m=!0);try{await l(p),n(2,p=""),n(4,$=!1)}catch(e){WS.error(ck(e))}finally{n(5,m=!1)}},l,c,u,function(e){p=e,n(2,p)}]}class oAe extends ut{constructor(e){super(),ct(this,e,rAe,nAe,f,{initialValue:0,onSubmit:12,getValidationErrors:13,isLongText:14,disabled:1})}}function sAe(e){let t,n,r,o,s,a,i,l,c,u,d,$,p=e[3]("column_name")+"",m=e[3]("column_description")+"";return s=new oAe({props:{initialValue:e[0].column.name,onSubmit:e[5],getValidationErrors:e[4],disabled:!e[1]}}),d=new oAe({props:{initialValue:e[0].column.description??"",onSubmit:e[6],isLongText:!0,disabled:!e[1]}}),{c(){t=q("div"),n=q("span"),r=j(p),o=U(),at(s.$$.fragment),a=U(),i=q("div"),l=q("span"),c=j(m),u=U(),at(d.$$.fragment),X(n,"class","label svelte-f7zd5e"),X(t,"class","column-property column-name svelte-f7zd5e"),X(l,"class","label svelte-f7zd5e"),X(i,"class","column-property column-description svelte-f7zd5e")},m(e,p){H(e,t,p),F(t,n),F(n,r),F(t,o),it(s,t,null),H(e,a,p),H(e,i,p),F(i,l),F(l,c),F(i,u),it(d,i,null),$=!0},p(e,[t]){(!$||8&t)&&p!==(p=e[3]("column_name")+"")&&Q(r,p);const n={};1&t&&(n.initialValue=e[0].column.name),2&t&&(n.disabled=!e[1]),s.$set(n),(!$||8&t)&&m!==(m=e[3]("column_description")+"")&&Q(c,m);const o={};1&t&&(o.initialValue=e[0].column.description??""),2&t&&(o.disabled=!e[1]),d.$set(o)},i(e){$||(je(s.$$.fragment,e),je(d.$$.fragment,e),$=!0)},o(e){Ue(s.$$.fragment,e),Ue(d.$$.fragment,e),$=!1},d(e){e&&z(t),lt(s),e&&z(a),e&&z(i),lt(d)}}}function aAe(e,t,n){let r,o,s,i=a;y(e,no,(e=>n(3,o=e))),e.$$.on_destroy.push((()=>i()));let{column:l}=t,{columnsDataStore:c}=t,{currentRoleOwnsTable:u}=t;return e.$$set=e=>{"column"in e&&n(0,l=e.column),"columnsDataStore"in e&&n(7,c=e.columnsDataStore),"currentRoleOwnsTable"in e&&n(1,u=e.currentRoleOwnsTable)},e.$$.update=()=>{128&e.$$.dirty&&(n(2,({columns:r}=c),r),i(),i=g(r,(e=>n(8,s=e))))},[l,u,r,o,function(e){return e===l.column.name?[]:e?s.map((e=>e.name)).includes(e)?[o("column_name_already_exists")]:[]:[o("column_name_cannot_be_empty")]},async function(e){try{await c.rename(l.id,e)}catch(Ln){WS.error(`${o("unable_to_rename_column")} ${ck(Ln)}`)}},async function(e){try{await c.updateDescription(l.id,e??null)}catch(Ln){WS.error(`${o("unable_to_update_column_desc")} ${ck(Ln)}`)}},c]}class iAe extends ut{constructor(e){super(),ct(this,e,aAe,sAe,f,{column:0,columnsDataStore:7,currentRoleOwnsTable:1})}}function lAe(e){let t,n;return t=new x$({props:{disabled:e[2]||!e[0],checked:!e[3]}}),t.$on("change",e[8]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};5&n&&(r.disabled=e[2]||!e[0]),8&n&&(r.checked=!e[3]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function cAe(e){let t,n;const r=[{class:"opt"},Fd];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[r[0],ot(Fd)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function uAe(e){let t,n,r,o;const s=[cAe,lAe],a=[];function i(e,t){return e[2]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function dAe(e){let t,n=e[6]("restrict_to_unique_help")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){64&r&&n!==(n=e[6]("restrict_to_unique_help")+"")&&Q(t,n)},d(e){e&&z(t)}}}function $Ae(e){let t,n,r,o,s,a=e[6]("restrict_to_unique")+"";return o=new H$({props:{$$slots:{default:[dAe]},$$scope:{ctx:e}}}),{c(){t=q("span"),n=j(a),r=U(),at(o.$$.fragment),X(t,"slot","label")},m(e,a){H(e,t,a),F(t,n),F(t,r),it(o,t,null),s=!0},p(e,t){(!s||64&t)&&a!==(a=e[6]("restrict_to_unique")+"")&&Q(n,a);const r={};32832&t&&(r.$$scope={dirty:t,ctx:e}),o.$set(r)},i(e){s||(je(o.$$.fragment,e),s=!0)},o(e){Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(o)}}}function pAe(e){let t,n;return t=new x$({props:{disabled:e[1]||!e[0],checked:!e[4]}}),t.$on("change",e[7]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};3&n&&(r.disabled=e[1]||!e[0]),16&n&&(r.checked=!e[4]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function mAe(e){let t,n;const r=[{class:"opt"},Fd];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[r[0],ot(Fd)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function fAe(e){let t,n,r,o;const s=[mAe,pAe],a=[];function i(e,t){return e[1]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function gAe(e){let t;return{c(){t=q("span"),t.textContent="NULL",X(t,"class","null svelte-1nhoybe")},m(e,n){H(e,t,n)},d(e){e&&z(t)}}}function hAe(e){let t,n="null"===e[14]&&gAe();return{c(){n&&n.c(),t=W()},m(e,r){n&&n.m(e,r),H(e,t,r)},p(e,r){"null"===e[14]?n||(n=gAe(),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&z(t)}}}function yAe(e){let t,n=e[6]("disallow_null_values_help")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){64&r&&n!==(n=e[6]("disallow_null_values_help")+"")&&Q(t,n)},d(e){e&&z(t)}}}function bAe(e){let t,n,r,o,s;return n=new Rx({props:{text:e[6]("disallow_null_values"),$$slots:{default:[hAe,({slotName:e})=>({14:e}),({slotName:e})=>e?16384:0]},$$scope:{ctx:e}}}),o=new H$({props:{$$slots:{default:[yAe]},$$scope:{ctx:e}}}),{c(){t=q("span"),at(n.$$.fragment),r=U(),at(o.$$.fragment),X(t,"slot","label")},m(e,a){H(e,t,a),it(n,t,null),F(t,r),it(o,t,null),s=!0},p(e,t){const r={};64&t&&(r.text=e[6]("disallow_null_values")),49152&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};32832&t&&(s.$$scope={dirty:t,ctx:e}),o.$set(s)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(n),lt(o)}}}function vAe(e){let t,n,r,o,s;return n=new J$({props:{layout:"inline-input-first",$$slots:{label:[$Ae],default:[uAe]},$$scope:{ctx:e}}}),o=new J$({props:{layout:"inline-input-first",$$slots:{label:[bAe],default:[fAe]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),at(o.$$.fragment),X(t,"class","column-options svelte-1nhoybe")},m(e,a){H(e,t,a),it(n,t,null),F(t,r),it(o,t,null),s=!0},p(e,[t]){const r={};32845&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};32851&t&&(s.$$scope={dirty:t,ctx:e}),o.$set(s)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(n),lt(o)}}}function wAe(e,t,n){let r,o,s,i,l,c=a;y(e,no,(e=>n(6,i=e))),e.$$.on_destroy.push((()=>c()));let{column:u}=t,{columnsDataStore:d}=t,{constraintsDataStore:$}=t,{currentRoleOwnsTable:p}=t,m=!1,f=!1;const h=ye();return e.$$set=e=>{"column"in e&&n(9,u=e.column),"columnsDataStore"in e&&n(10,d=e.columnsDataStore),"constraintsDataStore"in e&&n(11,$=e.constraintsDataStore),"currentRoleOwnsTable"in e&&n(0,p=e.currentRoleOwnsTable)},e.$$.update=()=>{512&e.$$.dirty&&n(4,r=u.column.nullable),2048&e.$$.dirty&&(n(5,({uniqueColumns:o}=$),o),c(),c=g(o,(e=>n(12,l=e)))),4608&e.$$.dirty&&n(3,s=!(u.column.primary_key||l.has(u.id)))},[p,m,f,s,r,o,i,async function(){n(1,m=!0);try{const e=!r;await d.setNullabilityOfColumn(u.column,e);const t=i(e?"column_will_allow_null":"column_will_not_allow_null",{values:{columnName:u.column.name}});WS.success(t),h("close")}catch(Ln){const t=i("unable_to_update_allow_null_column",{values:{columnName:u.column.name}});WS.error(`${t} ${ck(Ln)}.`)}finally{n(1,m=!1)}},async function(){n(2,f=!0);try{const e=!s;await $.setUniquenessOfColumn(u.column,!e);const t=i(e?"column_will_allow_duplicates":"column_will_not_allow_duplicates",{values:{columnName:u.column.name}});WS.success(t),h("close")}catch(Ln){const t=i("unable_to_update_allow_duplicates_column",{values:{columnName:u.column.name}});WS.error(`${t} ${ck(Ln)}.`)}finally{n(2,f=!1)}},u,d,$,l]}class _Ae extends ut{constructor(e){super(),ct(this,e,wAe,vAe,f,{column:9,columnsDataStore:10,constraintsDataStore:11,currentRoleOwnsTable:0})}}function xAe(e){let t,n;return t=new TCe({props:{column:e[1],save:e[5],disabled:e[2]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.column=e[1]),4&n&&(r.disabled=e[2]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function CAe(e){let t,n;return t=new rQ({props:{$$slots:{default:[SAe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4097&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function SAe(e){let t,n;return{c(){t=q("span"),n=j(e[0]),X(t,"class","info-alert svelte-111daun")},m(e,r){H(e,t,r),F(t,n)},p(e,t){1&t&&Q(n,e[0])},d(e){e&&z(t)}}}function kAe(e){let t,n,r,o=e[1],s=xAe(e),i=e[0]&&CAe(e);return{c(){s.c(),t=U(),i&&i.c(),n=W()},m(e,o){s.m(e,o),H(e,t,o),i&&i.m(e,o),H(e,n,o),r=!0},p(e,[r]){2&r&&f(o,o=e[1])?(qe(),Ue(s,1,1,a),Be(),s=xAe(e),s.c(),je(s,1),s.m(t.parentNode,t)):s.p(e,r),e[0]?i?(i.p(e,r),1&r&&je(i,1)):(i=CAe(e),i.c(),je(i,1),i.m(n.parentNode,n)):i&&(qe(),Ue(i,1,1,(()=>{i=null})),Be())},i(e){r||(je(s),je(i),r=!0)},o(e){Ue(s),Ue(i),r=!1},d(e){s.d(e),e&&z(t),i&&i.d(e),e&&z(n)}}}function MAe(e,t,n){let r,o,s,i,l,c,u,d,$,p=a;y(e,no,(e=>n(8,u=e))),e.$$.on_destroy.push((()=>p()));const m=Dz();y(e,m,(e=>n(10,$=e)));let{column:f}=t;return e.$$set=e=>{"column"in e&&n(6,f=e.column)},e.$$.update=()=>{1024&e.$$.dirty&&n(7,({table:r,columnsDataStore:o}=$),r),128&e.$$.dirty&&(n(3,({currentRoleOwns:s}=r.currentAccess),s),p(),p=g(s,(e=>n(9,d=e)))),576&e.$$.dirty&&n(2,i=f.column.primary_key||!!f.linkFk||!d),64&e.$$.dirty&&n(1,l={...f.column,abstractType:f.abstractType}),320&e.$$.dirty&&n(0,c=f.column.primary_key?u("data_type_pk_column_restricted"):f.linkFk?u("data_type_linked_column_restricted"):"")},[c,l,i,s,m,async function(e){await o.changeType({id:f.id,type:e.type,type_options:e.type_options,metadata:e.metadata})},f,r,u,d,$]}class IAe extends ut{constructor(e){super(),ct(this,e,MAe,kAe,f,{column:6})}}function TAe(e){let t,n,r,o,s,a,i=e[3]("primary_key")+"";const c=[MC];let u={};for(let d=0;d<c.length;d+=1)u=l(u,c[d]);return n=new Jd({props:u}),{c(){t=q("div"),at(n.$$.fragment),r=U(),o=q("span"),s=j(i),X(t,"class","specifier-tag svelte-1p5cyql")},m(e,i){H(e,t,i),it(n,t,null),F(t,r),F(t,o),F(o,s),a=!0},p(e,t){const r=0&t?rt(c,[ot(MC)]):{};n.$set(r),(!a||8&t)&&i!==(i=e[3]("primary_key")+"")&&Q(s,i)},i(e){a||(je(n.$$.fragment,e),a=!0)},o(e){Ue(n.$$.fragment,e),a=!1},d(e){e&&z(t),lt(n)}}}function EAe(e){let t,n,r,o,s,a,i,c,u,d,$=e[3]("linked_to")+"";a=new HI({props:{table:e[2]}});const p=[Od];let m={};for(let f=0;f<p.length;f+=1)m=l(m,p[f]);return c=new Jd({props:m}),{c(){t=q("div"),n=q("span"),r=j($),o=U(),s=q("a"),at(a.$$.fragment),i=U(),at(c.$$.fragment),X(s,"class","specifier-tag svelte-1p5cyql"),X(s,"href",u=e[4]({tableId:e[1]})),X(t,"class","fk-container svelte-1p5cyql")},m(e,l){H(e,t,l),F(t,n),F(n,r),F(t,o),F(t,s),it(a,s,null),F(s,i),it(c,s,null),d=!0},p(e,t){(!d||8&t)&&$!==($=e[3]("linked_to")+"")&&Q(r,$);const n={};4&t&&(n.table=e[2]),a.$set(n);const o=0&t?rt(p,[ot(Od)]):{};c.$set(o),(!d||18&t&&u!==(u=e[4]({tableId:e[1]})))&&X(s,"href",u)},i(e){d||(je(a.$$.fragment,e),je(c.$$.fragment,e),d=!0)},o(e){Ue(a.$$.fragment,e),Ue(c.$$.fragment,e),d=!1},d(e){e&&z(t),lt(a),lt(c)}}}function DAe(e){let t,n,r,o;const s=[EAe,TAe],a=[];function i(e,t){return"foreignKey"===e[0]&&e[2]?0:"primaryKey"===e[0]?1:-1}return~(n=i(e))&&(r=a[n]=s[n](e)),{c(){t=q("div"),r&&r.c(),X(t,"class","specifier-tag-container svelte-1p5cyql")},m(e,r){H(e,t,r),~n&&a[n].m(t,null),o=!0},p(e,[o]){let l=n;n=i(e),n===l?~n&&a[n].p(e,o):(r&&(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be()),~n?(r=a[n],r?r.p(e,o):(r=a[n]=s[n](e),r.c()),je(r,1),r.m(t,null)):r=null)},i(e){o||(je(r),o=!0)},o(e){Ue(r),o=!1},d(e){e&&z(t),~n&&a[n].d()}}}function OAe(e,t,n){let r,o,s,a,i;y(e,_H,(e=>n(6,s=e))),y(e,no,(e=>n(3,a=e))),y(e,DH,(e=>n(4,i=e)));let{type:l}=t,{column:c}=t;return e.$$set=e=>{"type"in e&&n(0,l=e.type),"column"in e&&n(5,c=e.column)},e.$$.update=()=>{32&e.$$.dirty&&n(1,r=c.linkFk?.referent_table_oid),66&e.$$.dirty&&n(2,o=r?s.tablesMap.get(r):void 0)},[l,r,o,a,i,c,s]}class NAe extends ut{constructor(e){super(),ct(this,e,OAe,DAe,f,{type:0,column:5})}}function AAe(e){let t,n;return t=new sg({props:{checked:e[2],disabled:e[4]}}),t.$on("change",e[13]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.checked=e[2]),16&n&&(r.disabled=e[4]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function RAe(e){let t,n,r=e[9]("no_default_value")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","label")},m(e,r){H(e,t,r),F(t,n)},p(e,t){512&t&&r!==(r=e[9]("no_default_value")+"")&&Q(n,r)},d(e){e&&z(t)}}}function FAe(e){let t,n;return t=new sg({props:{checked:!e[2],disabled:e[4]}}),t.$on("change",e[13]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.checked=!e[2]),16&n&&(r.disabled=e[4]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function PAe(e){let t,n,r=e[9]("custom_default")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","label")},m(e,r){H(e,t,r),F(t,n)},p(e,t){512&t&&r!==(r=e[9]("custom_default")+"")&&Q(n,r)},d(e){e&&z(t)}}}function LAe(e){let t,n,r;function o(t){e[21](t)}let s={componentAndProps:e[0].simpleInputComponentAndProps,disabled:e[4],recordSummary:e[6],setRecordSummary:e[14]};return void 0!==e[3]&&(s.value=e[3]),t=new DV({props:s}),Ce.push((()=>st(t,"value",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};1&r&&(o.componentAndProps=e[0].simpleInputComponentAndProps),16&r&&(o.disabled=e[4]),64&r&&(o.recordSummary=e[6]),!n&&8&r&&(n=!0,o.value=e[3],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function HAe(e){let t,n;return t=new m$({props:{onProceed:e[11],onCancel:e[12],isProcessing:"processing"===e[1]?.state,proceedButton:{label:e[9]("save")},size:"small"}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.isProcessing="processing"===e[1]?.state),512&n&&(r.proceedButton={label:e[9]("save")}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function zAe(e){let t,n,r,o,s,a,i;n=new J$({props:{layout:"inline-input-first",$$slots:{label:[RAe],default:[AAe]},$$scope:{ctx:e}}}),o=new J$({props:{layout:"inline-input-first",$$slots:{label:[PAe],default:[FAe]},$$scope:{ctx:e}}});let l=!e[2]&&LAe(e),c=e[7]&&HAe(e);return{c(){t=q("div"),at(n.$$.fragment),r=U(),at(o.$$.fragment),s=U(),l&&l.c(),a=U(),c&&c.c(),X(t,"class","default-value-container svelte-w6n0k")},m(e,u){H(e,t,u),it(n,t,null),F(t,r),it(o,t,null),F(t,s),l&&l.m(t,null),F(t,a),c&&c.m(t,null),i=!0},p(e,[r]){const s={};16777748&r&&(s.$$scope={dirty:r,ctx:e}),n.$set(s);const i={};16777748&r&&(i.$$scope={dirty:r,ctx:e}),o.$set(i),e[2]?l&&(qe(),Ue(l,1,1,(()=>{l=null})),Be()):l?(l.p(e,r),4&r&&je(l,1)):(l=LAe(e),l.c(),je(l,1),l.m(t,a)),e[7]?c?(c.p(e,r),128&r&&je(c,1)):(c=HAe(e),c.c(),je(c,1),c.m(t,null)):c&&(qe(),Ue(c,1,1,(()=>{c=null})),Be())},i(e){i||(je(n.$$.fragment,e),je(o.$$.fragment,e),je(l),je(c),i=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),Ue(l),Ue(c),i=!1},d(e){e&&z(t),lt(n),lt(o),l&&l.d(),c&&c.d()}}}function VAe(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,b,v,w=a,_=a;y(e,no,(e=>n(9,h=e))),e.$$.on_destroy.push((()=>w())),e.$$.on_destroy.push((()=>_()));let{column:x}=t;const C=Dz();let S;return y(e,C,(e=>n(20,v=e))),e.$$set=e=>{"column"in e&&n(0,x=e.column)},e.$$.update=()=>{1048576&e.$$.dirty&&n(16,({table:r,columnsDataStore:o,recordsData:s}=v),r,(n(17,s),n(20,v))),131072&e.$$.dirty&&(n(5,({linkedRecordSummaries:i}=s),i),_(),_=g(i,(e=>n(19,b=e)))),65536&e.$$.dirty&&(n(8,({currentRoleOwns:l}=r.currentAccess),l),w(),w=g(l,(e=>n(18,f=e)))),1&e.$$.dirty&&n(15,c=x.column.default?.value??x.initialInputValue),32768&e.$$.dirty&&n(3,u=c),1&e.$$.dirty&&n(2,d=null===x.column.default),32781&e.$$.dirty&&n(7,$=d?null!==x.column.default:"object"==typeof u?JSON.stringify(u)!==JSON.stringify(c):String(u)!==String(c)),524297&e.$$.dirty&&n(6,p=b.get(String(x.id))?.get(String(u))),262146&e.$$.dirty&&n(4,m="processing"===S?.state||!f)},[x,S,d,u,m,i,p,$,l,h,C,async function(){n(1,S={state:"processing"});const e=d?null:{is_dynamic:!!x.column.default?.is_dynamic,value:String(u)};try{await o.patch({id:x.id,default:e}),n(1,S={state:"success"})}catch(t){const e=t instanceof Error?t.message:h("unable_to_change_display_options");WS.error(e),n(1,S={state:"failure",errors:[e]})}},function(){n(3,u=c),n(1,S={state:"success"})},function(){n(2,d=!d)},function(e,t){i&&i.addBespokeValue({columnId:String(x.id),key:e,value:t})},c,r,s,f,b,v,function(e){u=e,n(3,u),n(15,c),n(0,x)}]}class qAe extends ut{constructor(e){super(),ct(this,e,VAe,zAe,f,{column:0})}}function BAe(e){let t,n,r,o,s,a,i,l,c,u=e[1].length>1&&UAe(e),d=e[0]&&WAe(e),$=e[0]&&JAe(e),p=e[0]&&!e[0].column.default?.is_dynamic&&eRe(e),m=e[0]&&nRe(e),f=e[3]&&sRe(e);function g(t){e[28](t)}let h={title:e[8]("actions"),$$slots:{default:[iRe]},$$scope:{ctx:e}};return void 0!==e[16]&&(h.isOpen=e[16]),i=new RJ({props:h}),Ce.push((()=>st(i,"isOpen",g))),{c(){u&&u.c(),t=U(),d&&d.c(),n=U(),$&&$.c(),r=U(),p&&p.c(),o=U(),m&&m.c(),s=U(),f&&f.c(),a=U(),at(i.$$.fragment)},m(e,l){u&&u.m(e,l),H(e,t,l),d&&d.m(e,l),H(e,n,l),$&&$.m(e,l),H(e,r,l),p&&p.m(e,l),H(e,o,l),m&&m.m(e,l),H(e,s,l),f&&f.m(e,l),H(e,a,l),it(i,e,l),c=!0},p(e,c){e[1].length>1?u?u.p(e,c):(u=UAe(e),u.c(),u.m(t.parentNode,t)):u&&(u.d(1),u=null),e[0]?d?(d.p(e,c),1&c&&je(d,1)):(d=WAe(e),d.c(),je(d,1),d.m(n.parentNode,n)):d&&(qe(),Ue(d,1,1,(()=>{d=null})),Be()),e[0]?$?($.p(e,c),1&c&&je($,1)):($=JAe(e),$.c(),je($,1),$.m(r.parentNode,r)):$&&(qe(),Ue($,1,1,(()=>{$=null})),Be()),e[0]&&!e[0].column.default?.is_dynamic?p?(p.p(e,c),1&c&&je(p,1)):(p=eRe(e),p.c(),je(p,1),p.m(o.parentNode,o)):p&&(qe(),Ue(p,1,1,(()=>{p=null})),Be()),e[0]?m?(m.p(e,c),1&c&&je(m,1)):(m=nRe(e),m.c(),je(m,1),m.m(s.parentNode,s)):m&&(qe(),Ue(m,1,1,(()=>{m=null})),Be()),e[3]?f?(f.p(e,c),8&c&&je(f,1)):(f=sRe(e),f.c(),je(f,1),f.m(a.parentNode,a)):f&&(qe(),Ue(f,1,1,(()=>{f=null})),Be());const g={};256&c&&(g.title=e[8]("actions")),536870914&c&&(g.$$scope={dirty:c,ctx:e}),!l&&65536&c&&(l=!0,g.isOpen=e[16],Oe((()=>l=!1))),i.$set(g)},i(e){c||(je(d),je($),je(p),je(m),je(f),je(i.$$.fragment,e),c=!0)},o(e){Ue(d),Ue($),Ue(p),Ue(m),Ue(f),Ue(i.$$.fragment,e),c=!1},d(e){u&&u.d(e),e&&z(t),d&&d.d(e),e&&z(n),$&&$.d(e),e&&z(r),p&&p.d(e),e&&z(o),m&&m.d(e),e&&z(s),f&&f.d(e),e&&z(a),lt(i,e)}}}function jAe(e){let t,n,r=e[8]("select_columns_cells_view_properties")+"";return{c(){t=q("span"),n=j(r),X(t,"class","no-cell-selected svelte-x20e80")},m(e,r){H(e,t,r),F(t,n)},p(e,t){256&t&&r!==(r=e[8]("select_columns_cells_view_properties")+"")&&Q(n,r)},i:a,o:a,d(e){e&&z(t)}}}function UAe(e){let t,n,r=e[8]("multiple_columns_selected",{values:{count:e[1].length}})+"";return{c(){t=q("span"),n=j(r),X(t,"class","columns-selected-count svelte-x20e80")},m(e,r){H(e,t,r),F(t,n)},p(e,t){258&t&&r!==(r=e[8]("multiple_columns_selected",{values:{count:e[1].length}})+"")&&Q(n,r)},d(e){e&&z(t)}}}function WAe(e){let t,n,r=e[0],o=ZAe(e);return{c(){o.c(),t=W()},m(e,r){o.m(e,r),H(e,t,r),n=!0},p(e,n){1&n&&f(r,r=e[0])?(qe(),Ue(o,1,1,a),Be(),o=ZAe(e),o.c(),je(o,1),o.m(t.parentNode,t)):o.p(e,n)},i(e){n||(je(o),n=!0)},o(e){Ue(o),n=!1},d(e){e&&z(t),o.d(e)}}}function YAe(e){let t,n,r,o=!!e[0].linkFk&&GAe(e);return n=new _Ae({props:{column:e[0],columnsDataStore:e[2].columnsDataStore,constraintsDataStore:e[2].constraintsDataStore,currentRoleOwnsTable:e[10]}}),{c(){o&&o.c(),t=U(),at(n.$$.fragment)},m(e,s){o&&o.m(e,s),H(e,t,s),it(n,e,s),r=!0},p(e,r){e[0].linkFk?o?(o.p(e,r),1&r&&je(o,1)):(o=GAe(e),o.c(),je(o,1),o.m(t.parentNode,t)):o&&(qe(),Ue(o,1,1,(()=>{o=null})),Be());const s={};1&r&&(s.column=e[0]),4&r&&(s.columnsDataStore=e[2].columnsDataStore),4&r&&(s.constraintsDataStore=e[2].constraintsDataStore),1024&r&&(s.currentRoleOwnsTable=e[10]),n.$set(s)},i(e){r||(je(o),je(n.$$.fragment,e),r=!0)},o(e){Ue(o),Ue(n.$$.fragment,e),r=!1},d(e){o&&o.d(e),e&&z(t),lt(n,e)}}}function KAe(e){let t,n;return t=new NAe({props:{column:e[0],type:"primaryKey"}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.column=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function GAe(e){let t,n;return t=new NAe({props:{column:e[0],type:"foreignKey"}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.column=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function XAe(e){let t,n,r,o,s,a;t=new iAe({props:{column:e[0],columnsDataStore:e[2].columnsDataStore,currentRoleOwnsTable:e[10]}});const i=[KAe,YAe],l=[];function c(e,t){return e[0].column.primary_key?0:1}return r=c(e),o=l[r]=i[r](e),{c(){at(t.$$.fragment),n=U(),o.c(),s=W()},m(e,o){it(t,e,o),H(e,n,o),l[r].m(e,o),H(e,s,o),a=!0},p(e,n){const a={};1&n&&(a.column=e[0]),4&n&&(a.columnsDataStore=e[2].columnsDataStore),1024&n&&(a.currentRoleOwnsTable=e[10]),t.$set(a);let u=r;r=c(e),r===u?l[r].p(e,n):(qe(),Ue(l[u],1,1,(()=>{l[u]=null})),Be(),o=l[r],o?o.p(e,n):(o=l[r]=i[r](e),o.c()),je(o,1),o.m(s.parentNode,s))},i(e){a||(je(t.$$.fragment,e),je(o),a=!0)},o(e){Ue(t.$$.fragment,e),Ue(o),a=!1},d(e){lt(t,e),e&&z(n),l[r].d(e),e&&z(s)}}}function ZAe(e){let t,n,r;function o(t){e[22](t)}let s={title:e[8]("column_properties"),isDbLevelConfiguration:!0,$$slots:{default:[XAe]},$$scope:{ctx:e}};return void 0!==e[9]&&(s.isOpen=e[9]),t=new RJ({props:s}),Ce.push((()=>st(t,"isOpen",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};256&r&&(o.title=e[8]("column_properties")),536871941&r&&(o.$$scope={dirty:r,ctx:e}),!n&&512&r&&(n=!0,o.isOpen=e[9],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function JAe(e){let t,n,r;function o(t){e[23](t)}let s={title:e[8]("data_type"),isDbLevelConfiguration:!0,$$slots:{default:[QAe]},$$scope:{ctx:e}};return void 0!==e[11]&&(s.isOpen=e[11]),t=new RJ({props:s}),Ce.push((()=>st(t,"isOpen",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};256&r&&(o.title=e[8]("data_type")),536870913&r&&(o.$$scope={dirty:r,ctx:e}),!n&&2048&r&&(n=!0,o.isOpen=e[11],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function QAe(e){let t,n;return t=new IAe({props:{column:e[0]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.column=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function eRe(e){let t,n,r;function o(t){e[24](t)}let s={title:e[8]("default_value"),isDbLevelConfiguration:!0,$$slots:{default:[tRe]},$$scope:{ctx:e}};return void 0!==e[12]&&(s.isOpen=e[12]),t=new RJ({props:s}),Ce.push((()=>st(t,"isOpen",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};256&r&&(o.title=e[8]("default_value")),536870913&r&&(o.$$scope={dirty:r,ctx:e}),!n&&4096&r&&(n=!0,o.isOpen=e[12],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function tRe(e){let t,n;return t=new qAe({props:{column:e[0]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.column=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function nRe(e){let t,n,r;function o(t){e[25](t)}let s={title:e[8]("formatting"),$$slots:{default:[oRe]},$$scope:{ctx:e}};return void 0!==e[13]&&(s.isOpen=e[13]),t=new RJ({props:s}),Ce.push((()=>st(t,"isOpen",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};256&r&&(o.title=e[8]("formatting")),536870913&r&&(o.$$scope={dirty:r,ctx:e}),!n&&8192&r&&(n=!0,o.isOpen=e[13],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function rRe(e){let t,n;return t=new XNe({props:{column:e[0]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.column=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function oRe(e){let t,n,r=e[0],o=rRe(e);return{c(){o.c(),t=W()},m(e,r){o.m(e,r),H(e,t,r),n=!0},p(e,n){1&n&&f(r,r=e[0])?(qe(),Ue(o,1,1,a),Be(),o=rRe(e),o.c(),je(o,1),o.m(t.parentNode,t)):o.p(e,n)},i(e){n||(je(o),n=!0)},o(e){Ue(o),n=!1},d(e){e&&z(t),o.d(e)}}}function sRe(e){let t,n,r;function o(t){e[27](t)}let s={title:e[8]("linked_record_summary"),$$slots:{default:[aRe]},$$scope:{ctx:e}};return void 0!==e[14]&&(s.isOpen=e[14]),t=new RJ({props:s}),Ce.push((()=>st(t,"isOpen",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};256&r&&(o.title=e[8]("linked_record_summary")),536903692&r&&(o.$$scope={dirty:r,ctx:e}),!n&&16384&r&&(n=!0,o.isOpen=e[14],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function aRe(e){let t,n;return t=new VOe({props:{linkedTable:e[3],previewRecordId:e[15].activeCellData?.value,onSave:e[26]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.linkedTable=e[3]),32768&n&&(r.previewRecordId=e[15].activeCellData?.value),4&n&&(r.onSave=e[26]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function iRe(e){let t,n;return t=new VNe({props:{columns:e[1]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.columns=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function lRe(e){let t,n,r,o;const s=[jAe,BAe],a=[];function i(e,t){return 0===e[1].length?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,[o]){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function cRe(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,b,v,w,_,x,C,S,k,M=a,I=a,T=a,E=a;y(e,_H,(e=>n(19,$=e))),y(e,no,(e=>n(8,h=e))),y(e,Qk,(e=>n(9,b=e))),y(e,eM,(e=>n(11,w=e))),y(e,tM,(e=>n(12,_=e))),y(e,nM,(e=>n(13,x=e))),y(e,rM,(e=>n(14,C=e))),y(e,oM,(e=>n(16,k=e))),e.$$.on_destroy.push((()=>M())),e.$$.on_destroy.push((()=>I())),e.$$.on_destroy.push((()=>T())),e.$$.on_destroy.push((()=>E()));const D=Dz();y(e,D,(e=>n(2,f=e)));return e.$$.update=()=>{4&e.$$.dirty&&n(18,({table:r,processedColumns:o,selection:s,selectedCellData:i}=f),r,(n(7,o),M(),M=g(o,(e=>n(20,p=e))),o),(n(6,s),I(),I=g(s,(e=>n(21,m=e))),s),(n(5,i),E(),E=g(i,(e=>n(15,S=e))),i)),262144&e.$$.dirty&&(n(4,({currentRoleOwns:l}=r.currentAccess),l),T(),T=g(l,(e=>n(10,v=e)))),3145728&e.$$.dirty&&n(1,c=(()=>{const e=m.columnIds,t=[];for(const n of e){const e=parseInt(n,10),r=p.get(e);void 0!==r&&t.push(r)}return t})()),2&e.$$.dirty&&n(0,u=1===c.length?c[0]:void 0),524289&e.$$.dirty&&n(3,d=Co(u?.linkFk?.referent_table_oid,(e=>$.tablesMap.get(e))))},[u,c,f,d,l,i,s,o,h,b,v,w,_,x,C,S,k,D,r,$,p,m,function(e){b=e,Qk.set(b)},function(e){w=e,eM.set(w)},function(e){_=e,tM.set(_)},function(e){x=e,nM.set(x)},()=>f.recordsData.fetch(),function(e){C=e,rM.set(C)},function(e){k=e,oM.set(k)}]}class uRe extends ut{constructor(e){super(),ct(this,e,cRe,lRe,f,{})}}function dRe(e){let t,n,r,o;return t=new Hu({props:{appearance:"action",$$slots:{default:[$Re]},$$scope:{ctx:e}}}),t.$on("click",e[9]),r=new Rc({props:{href:e[1],appearance:"action",$$slots:{default:[pRe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,s){it(t,e,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){const o={};8388672&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};2&n&&(s.href=e[1]),8388672&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function $Re(e){let t,n,r,o,s,a=e[6]("quick_view_record")+"";const i=[$S];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return t=new Jd({props:c}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(a)},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),F(r,o),s=!0},p(e,n){const r=0&n?rt(i,[ot($S)]):{};t.$set(r),(!s||64&n)&&a!==(a=e[6]("quick_view_record")+"")&&Q(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function pRe(e){let t,n,r,o,s,a=e[6]("open_record")+"";const i=[PC];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return t=new Jd({props:c}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(a)},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),F(r,o),s=!0},p(e,n){const r=0&n?rt(i,[ot(PC)]):{};t.$set(r),(!s||64&n)&&a!==(a=e[6]("open_record")+"")&&Q(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function mRe(e){let t,n,r,o,s,a=e[6]("delete_records",{values:{count:e[0]}})+"";const i=[Kx];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return t=new Jd({props:c}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(a)},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),F(r,o),s=!0},p(e,n){const r=0&n?rt(i,[ot(Kx)]):{};t.$set(r),(!s||65&n)&&a!==(a=e[6]("delete_records",{values:{count:e[0]}})+"")&&Q(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function fRe(e){let t,n,r,o,s=e[1]&&dRe(e);return r=new Hu({props:{disabled:!e[7],appearance:"danger",$$slots:{default:[mRe]},$$scope:{ctx:e}}}),r.$on("click",e[10]),{c(){t=q("div"),s&&s.c(),n=U(),at(r.$$.fragment),X(t,"class","actions-container svelte-1d7aiug")},m(e,a){H(e,t,a),s&&s.m(t,null),F(t,n),it(r,t,null),o=!0},p(e,[o]){e[1]?s?(s.p(e,o),2&o&&je(s,1)):(s=dRe(e),s.c(),je(s,1),s.m(t,n)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be());const a={};128&o&&(a.disabled=!e[7]),8388673&o&&(a.$$scope={dirty:o,ctx:e}),r.$set(a)},i(e){o||(je(s),je(r.$$.fragment,e),o=!0)},o(e){Ue(s),Ue(r.$$.fragment,e),o=!1},d(e){e&&z(t),s&&s.d(),lt(r)}}}function gRe(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,b,v,w,_,x,C,S=a,k=a,M=a,I=a;y(e,no,(e=>n(6,f=e))),y(e,xH,(e=>n(21,h=e))),y(e,EH,(e=>n(16,b=e))),e.$$.on_destroy.push((()=>S())),e.$$.on_destroy.push((()=>k())),e.$$.on_destroy.push((()=>M())),e.$$.on_destroy.push((()=>I()));const T=Dz();y(e,T,(e=>n(20,x=e)));const E=NH.get();return e.$$.update=()=>{1048576&e.$$.dirty&&n(14,({table:r,selection:o,recordsData:s,columnsDataStore:i,canDeleteRecords:l}=x),r,(n(5,o),M(),M=g(o,(e=>n(19,_=e))),o),(n(12,s),n(20,x)),(n(15,i),n(20,x)),(n(4,l),I(),I=g(l,(e=>n(7,C=e))),l)),524288&e.$$.dirty&&n(11,c=_.rowIds),2048&e.$$.dirty&&n(0,u=c.size),32768&e.$$.dirty&&(n(3,({columns:d}=i),d),S(),S=g(d,(e=>n(17,v=e)))),4096&e.$$.dirty&&(n(2,({selectableRowsMap:$}=s),$),k(),k=g($,(e=>n(18,w=e)))),395264&e.$$.dirty&&n(13,p=(()=>{const e=zI(c);if(!e)return;const t=w.get(e);if(t)try{return gT(t.record,v)}catch(n){return}})()),90112&e.$$.dirty&&n(1,m=b({tableId:r.oid,recordId:p}))},[u,m,$,d,l,o,f,C,T,function(){if(!E)return;if(void 0===p)return;const e=h.get(r.oid);if(!e)return;const t=new OH({table:e,recordPk:String(p)});E.open(t)},async function(){XS({identifierType:f("multiple_records",{values:{count:u}}),body:[f("deleted_records_cannot_be_recovered",{values:{count:u}}),f("are_you_sure_to_proceed")],onProceed:()=>s.deleteSelected(c),onError:e=>WS.fromError(e),onSuccess:e=>{WS.success({title:f("count_records_deleted_successfully",{values:{count:e}})})}})},c,s,p,r,i,b,v,w,_,x]}class hRe extends ut{constructor(e){super(),ct(this,e,gRe,fRe,f,{})}}function yRe(e){let t,n,r=e[2]("select_cells_view_record_props")+"";return{c(){t=q("span"),n=j(r),X(t,"class","no-records-selected svelte-14wrjzk")},m(e,r){H(e,t,r),F(t,n)},p(e,t){4&t&&r!==(r=e[2]("select_cells_view_record_props")+"")&&Q(n,r)},i:a,o:a,d(e){e&&z(t)}}}function bRe(e){let t,n,r,o=e[0]>1&&vRe(e);return n=new RJ({props:{title:e[2]("actions"),$$slots:{default:[wRe]},$$scope:{ctx:e}}}),{c(){o&&o.c(),t=U(),at(n.$$.fragment)},m(e,s){o&&o.m(e,s),H(e,t,s),it(n,e,s),r=!0},p(e,r){e[0]>1?o?o.p(e,r):(o=vRe(e),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null);const s={};4&r&&(s.title=e[2]("actions")),128&r&&(s.$$scope={dirty:r,ctx:e}),n.$set(s)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){o&&o.d(e),e&&z(t),lt(n,e)}}}function vRe(e){let t,n,r=e[2]("multiple_records_selected",{values:{count:e[0]}})+"";return{c(){t=q("span"),n=j(r),X(t,"class","records-selected-count svelte-14wrjzk")},m(e,r){H(e,t,r),F(t,n)},p(e,t){5&t&&r!==(r=e[2]("multiple_records_selected",{values:{count:e[0]}})+"")&&Q(n,r)},d(e){e&&z(t)}}}function wRe(e){let t,n;return t=new hRe({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function _Re(e){let t,n,r,o;const s=[bRe,yRe],a=[];function i(e,t){return e[0]>0?0:1}return n=i(e),r=a[n]=s[n](e),{c(){t=q("div"),r.c(),X(t,"class","column-mode-container svelte-14wrjzk")},m(e,r){H(e,t,r),a[n].m(t,null),o=!0},p(e,[o]){let l=n;n=i(e),n===l?a[n].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),r=a[n],r?r.p(e,o):(r=a[n]=s[n](e),r.c()),je(r,1),r.m(t,null))},i(e){o||(je(r),o=!0)},o(e){Ue(r),o=!1},d(e){e&&z(t),a[n].d()}}}function xRe(e,t,n){let r,o,s,i,l,c,u=a;y(e,no,(e=>n(2,c=e))),e.$$.on_destroy.push((()=>u()));const d=Dz();return y(e,d,(e=>n(6,l=e))),e.$$.update=()=>{64&e.$$.dirty&&(n(1,({selection:r}=l),r),u(),u=g(r,(e=>n(5,i=e)))),32&e.$$.dirty&&n(4,o=i.rowIds),16&e.$$.dirty&&n(0,s=o.size)},[s,r,c,d,o,i,l]}class CRe extends ut{constructor(e){super(),ct(this,e,xRe,_Re,f,{})}}function SRe(e){let t,n;return t=new N1({props:{table:e[6],processedColumns:e[0],previewRecordId:e[1],isLoading:e[7]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};64&n&&(r.table=e[6]),1&n&&(r.processedColumns=e[0]),2&n&&(r.previewRecordId=e[1]),128&n&&(r.isLoading=e[7]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function kRe(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f=a,h=a,y=a,b=a;e.$$.on_destroy.push((()=>f())),e.$$.on_destroy.push((()=>h())),e.$$.on_destroy.push((()=>y())),e.$$.on_destroy.push((()=>b()));let{tabularData:v}=t;return e.$$set=e=>{"tabularData"in e&&n(8,v=e.tabularData)},e.$$.update=()=>{256&e.$$.dirty&&n(6,({table:r,processedColumns:o,recordsData:s,selection:i,isLoading:l}=v),r,(n(5,o),y(),y=g(o,(e=>n(0,p=e))),o),(n(9,s),n(8,v)),(n(4,i),h(),h=g(i,(e=>n(11,$=e))),i),(n(3,l),b(),b=g(l,(e=>n(7,m=e))),l)),512&e.$$.dirty&&(n(2,({selectableRowsMap:c}=s),c),f(),f=g(c,(e=>n(10,d=e)))),3073&e.$$.dirty&&n(1,u=function(e){const t=[...e.processedColumns.values()].find((e=>e.column.primary_key));if(!t)return;const n=Co(e.selection.activeCellId,(e=>qI(e).rowId));return(Co(n,(t=>e.selectableRowsMap.get(t)))??uc(e.selectableRowsMap.values()))?.record[t.id]}({processedColumns:p,selection:$,selectableRowsMap:d}))},[p,u,c,l,i,o,r,m,v,s,d,$]}class MRe extends ut{constructor(e){super(),ct(this,e,kRe,SRe,f,{tabularData:8})}}function IRe(e,t,n){const r=e.slice();return r[6]=t[n],r}function TRe(e,t){let n,r,o,s;return r=new HV({props:{column:t[6]}}),{key:e,first:null,c(){n=q("span"),at(r.$$.fragment),o=U(),X(n,"class","column-name-container svelte-r03ev8"),this.first=n},m(e,t){H(e,n,t),it(r,n,null),F(n,o),s=!0},p(e,n){t=e;const o={};1&n&&(o.column=t[6]),r.$set(o)},i(e){s||(je(r.$$.fragment,e),s=!0)},o(e){Ue(r.$$.fragment,e),s=!1},d(e){e&&z(n),lt(r)}}}function ERe(e){let t,n,r,o=[],s=new Map,a=e[0];const i=e=>e[6].id;for(let l=0;l<a.length;l+=1){let t=IRe(e,a,l),n=i(t);s.set(n,o[l]=TRe(n,t))}return{c(){t=q("div"),n=q("div");for(let e=0;e<o.length;e+=1)o[e].c();X(n,"class","column-names svelte-r03ev8"),X(t,"class","column-names-header svelte-r03ev8")},m(e,s){H(e,t,s),F(t,n);for(let t=0;t<o.length;t+=1)o[t].m(n,null);r=!0},p(e,[t]){1&t&&(a=e[0],qe(),o=nt(o,t,i,1,e,a,s,n,et,TRe,null,IRe),Be())},i(e){if(!r){for(let e=0;e<a.length;e+=1)je(o[e]);r=!0}},o(e){for(let t=0;t<o.length;t+=1)Ue(o[t]);r=!1},d(e){e&&z(t);for(let t=0;t<o.length;t+=1)o[t].d()}}}function DRe(e,t,n){let r,o,s,i,l=a;e.$$.on_destroy.push((()=>l()));let{constraint:c}=t;const u=Dz();return y(e,u,(e=>n(5,i=e))),e.$$set=e=>{"constraint"in e&&n(3,c=e.constraint)},e.$$.update=()=>{32&e.$$.dirty&&(n(1,r=i.columnsDataStore.columns),l(),l=g(r,(e=>n(4,s=e)))),24&e.$$.dirty&&n(0,o=s.filter((e=>c.columns.includes(e.id))))},[o,r,u,c,s,i]}class ORe extends ut{constructor(e){super(),ct(this,e,DRe,ERe,f,{constraint:3})}}function NRe(e){let t,n,r,o,s,i,l,c=e[1]("constraint_name")+"",u=e[0].name+"";return{c(){t=q("div"),n=q("span"),r=j(c),o=j(":"),s=U(),i=q("span"),l=j(u),X(t,"class","constraint-details svelte-1h2xelu")},m(e,a){H(e,t,a),F(t,n),F(n,r),F(n,o),F(t,s),F(t,i),F(i,l)},p(e,[t]){2&t&&c!==(c=e[1]("constraint_name")+"")&&Q(r,c),1&t&&u!==(u=e[0].name+"")&&Q(l,u)},i:a,o:a,d(e){e&&z(t)}}}function ARe(e,t,n){let r;y(e,no,(e=>n(1,r=e)));let{constraint:o}=t;return e.$$set=e=>{"constraint"in e&&n(0,o=e.constraint)},[o,r]}class RRe extends ut{constructor(e){super(),ct(this,e,ARe,NRe,f,{constraint:0})}}function FRe(e,t,n){const r=e.slice();return r[6]=t[n],r}function PRe(e){let t,n,r,o,s,a,i,l,c,u,d,$=e[2]("target")+"";l=new HI({props:{table:e[1]}});let p={ctx:e,current:null,token:null,hasCatch:!0,pending:VRe,then:HRe,catch:LRe,value:5,blocks:[,,,]};return Xe(u=e[3](e[0]),p),{c(){t=q("div"),n=q("span"),r=j($),o=j(":"),s=U(),a=q("div"),i=q("span"),at(l.$$.fragment),c=U(),p.block.c(),X(i,"class","entity-name-container svelte-13izb14"),X(a,"class","target-details svelte-13izb14"),X(t,"class","target svelte-13izb14")},m(e,u){H(e,t,u),F(t,n),F(n,r),F(n,o),F(t,s),F(t,a),F(a,i),it(l,i,null),F(a,c),p.block.m(a,p.anchor=null),p.mount=()=>a,p.anchor=null,d=!0},p(t,n){e=t,(!d||4&n)&&$!==($=e[2]("target")+"")&&Q(r,$);const o={};2&n&&(o.table=e[1]),l.$set(o),p.ctx=e,1&n&&u!==(u=e[3](e[0]))&&Xe(u,p)||Ze(p,e,n)},i(e){d||(je(l.$$.fragment,e),je(p.block),d=!0)},o(e){Ue(l.$$.fragment,e);for(let t=0;t<3;t+=1){Ue(p.blocks[t])}d=!1},d(e){e&&z(t),lt(l),p.block.d(),p.token=null,p=null}}}function LRe(e){let t,n;const r=[Rd];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[ot(Rd)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function HRe(e){let t,n,r=[],o=new Map,s=e[5];const a=e=>e[6].id;for(let i=0;i<s.length;i+=1){let t=FRe(e,s,i),n=a(t);o.set(n,r[i]=zRe(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=W()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);H(e,t,o),n=!0},p(e,n){9&n&&(s=e[5],qe(),r=nt(r,n,a,1,e,s,o,t.parentNode,et,zRe,t,FRe),Be())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ue(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&z(t)}}}function zRe(e,t){let n,r,o,s;return r=new HV({props:{column:t[6]}}),{key:e,first:null,c(){n=q("span"),at(r.$$.fragment),o=U(),X(n,"class","entity-name-container svelte-13izb14"),this.first=n},m(e,t){H(e,n,t),it(r,n,null),F(n,o),s=!0},p(e,n){t=e;const o={};1&n&&(o.column=t[6]),r.$set(o)},i(e){s||(je(r.$$.fragment,e),s=!0)},o(e){Ue(r.$$.fragment,e),s=!1},d(e){e&&z(n),lt(r)}}}function VRe(e){let t,n;return t=new t$({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function qRe(e){let t,n,r,o,s,a,i,l,c,u,d=e[2]("constraint_name")+"",$=e[0].name+"",p=e[1]&&PRe(e);return{c(){t=q("div"),n=q("div"),r=q("span"),o=j(d),s=j(":"),a=U(),i=q("span"),l=j($),c=U(),p&&p.c(),X(t,"class","constraint-details svelte-13izb14")},m(e,d){H(e,t,d),F(t,n),F(n,r),F(r,o),F(r,s),F(n,a),F(n,i),F(i,l),F(t,c),p&&p.m(t,null),u=!0},p(e,[n]){(!u||4&n)&&d!==(d=e[2]("constraint_name")+"")&&Q(o,d),(!u||1&n)&&$!==($=e[0].name+"")&&Q(l,$),e[1]?p?(p.p(e,n),2&n&&je(p,1)):(p=PRe(e),p.c(),je(p,1),p.m(t,null)):p&&(qe(),Ue(p,1,1,(()=>{p=null})),Be())},i(e){u||(je(p),u=!0)},o(e){Ue(p),u=!1},d(e){e&&z(t),p&&p.d()}}}function BRe(e,t,n){let r,o,s;y(e,_H,(e=>n(4,o=e))),y(e,no,(e=>n(2,s=e)));let{constraint:a}=t;return e.$$set=e=>{"constraint"in e&&n(0,a=e.constraint)},e.$$.update=()=>{17&e.$$.dirty&&n(1,r="foreignkey"===a.type?o.tablesMap.get(a.referent_table_oid):void 0)},[a,r,s,async function(e){if("foreignkey"!==e.type)return[];const t=h(QF.currentDatabase);if(!t)throw new Error("Current database not set");return(await PM.columns.list_with_metadata({database_id:t.id,table_oid:e.referent_table_oid}).run()).filter((t=>e.referent_columns.includes(t.id)))},o]}class jRe extends ut{constructor(e){super(),ct(this,e,BRe,qRe,f,{constraint:0})}}function URe(e){let t,n,r,o,s,a=e[0]("constraint_name_unique_help")+"",i=e[0]("constraint_name_unique_mathesar_relevance_help")+"";return{c(){t=q("p"),n=j(a),r=U(),o=q("p"),s=j(i)},m(e,a){H(e,t,a),F(t,n),H(e,r,a),H(e,o,a),F(o,s)},p(e,t){1&t&&a!==(a=e[0]("constraint_name_unique_help")+"")&&Q(n,a),1&t&&i!==(i=e[0]("constraint_name_unique_mathesar_relevance_help")+"")&&Q(s,i)},d(e){e&&z(t),e&&z(r),e&&z(o)}}}function WRe(e){let t,n;return t=new H$({props:{$$slots:{default:[URe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};3&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function YRe(e,t,n){let r;return y(e,no,(e=>n(0,r=e))),[r]}class KRe extends ut{constructor(e){super(),ct(this,e,YRe,WRe,f,{})}}function GRe(e){let t,n,r=e[16]("column_references_target_table")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","help")},m(e,r){H(e,t,r),F(t,n)},p(e,t){65536&t[0]&&r!==(r=e[16]("column_references_target_table")+"")&&Q(n,r)},d(e){e&&z(t)}}}function XRe(e){let t,n,r,o;const s=[JRe,ZRe],a=[];function i(e,t){return e[17]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function ZRe(e){let t,n;return t=new WL({props:{field:e[3],input:{component:CQ,props:{columns:e[10]}},layout:"stacked",$$slots:{label:[tFe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8&n[0]&&(r.field=e[3]),1024&n[0]&&(r.input={component:CQ,props:{columns:e[10]}}),65664&n[0]|128&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function JRe(e){let t,n;return t=new ML({props:{$$slots:{default:[nFe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};128&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function QRe(e){let t,n;return t=new HI({props:{table:e[7],bold:!0,truncate:!1}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};128&n[0]&&(r.table=e[7]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function eFe(e){let t,n,r="tableName"===e[37]&&QRe(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"tableName"===e[37]?r?(r.p(e,n),64&n[1]&&je(r,1)):(r=QRe(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function tFe(e){let t,n,r;return n=new Rx({props:{text:e[16]("target_column_in_table"),$$slots:{default:[eFe,({slotName:e})=>({37:e}),({slotName:e})=>[0,e?64:0]]},$$scope:{ctx:e}}}),{c(){t=q("span"),at(n.$$.fragment),X(t,"slot","label")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};65536&t[0]&&(r.text=e[16]("target_column_in_table")),128&t[0]|192&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function nFe(e){let t,n;return t=new t$({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function rFe(e){let t,n,r,o,s,a=e[16]("set_constraint_name")+"";return o=new KRe({}),{c(){t=q("span"),n=j(a),r=U(),at(o.$$.fragment),X(t,"slot","label")},m(e,a){H(e,t,a),F(t,n),F(t,r),it(o,t,null),s=!0},p(e,t){(!s||65536&t[0])&&a!==(a=e[16]("set_constraint_name")+"")&&Q(n,a)},i(e){s||(je(o.$$.fragment,e),s=!0)},o(e){Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(o)}}}function oFe(e){let t,n,r;function o(t){e[32](t)}let s={options:e[19],isInline:!0,getRadioLabel:e[31],$$slots:{label:[rFe]},$$scope:{ctx:e}};return void 0!==e[6]&&(s.value=e[6]),t=new fg({props:s}),Ce.push((()=>st(t,"value",o))),t.$on("change",e[21]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};65536&r[0]|128&r[1]&&(o.$$scope={dirty:r,ctx:e}),!n&&64&r[0]&&(n=!0,o.value=e[6],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function sFe(e){let t,n;return t=new WL({props:{field:e[1],layout:"stacked",label:e[16]("constraint_name")}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n[0]&&(r.field=e[1]),65536&n[0]&&(r.label=e[16]("constraint_name")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function aFe(e){let t,n,r,o,s,a,i,l,c,u,d;n=new WL({props:{field:e[5],input:{component:CQ,props:{columns:e[13]}},layout:"stacked",label:e[16]("referencing_column"),$$slots:{help:[GRe]},$$scope:{ctx:e}}}),o=new WL({props:{field:e[4],input:{component:Bce,props:{autoSelect:"clear",tables:e[15]}},layout:"stacked",label:e[16]("target_table")}});let $=e[7]&&XRe(e);i=new ML({props:{$$slots:{default:[oFe]},$$scope:{ctx:e}}});let p="manual"===e[6]&&sFe(e);return u=new QL({props:{form:e[8],catchErrors:!0,onProceed:e[22],onCancel:e[0],size:"small",proceedButton:{label:e[16]("add_foreign_key_constraint")}}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),at(o.$$.fragment),s=U(),$&&$.c(),a=U(),at(i.$$.fragment),l=U(),p&&p.c(),c=U(),at(u.$$.fragment),X(t,"class","add-new-fk-constraint svelte-1c0ahmy")},m(e,m){H(e,t,m),it(n,t,null),F(t,r),it(o,t,null),F(t,s),$&&$.m(t,null),F(t,a),it(i,t,null),F(t,l),p&&p.m(t,null),F(t,c),it(u,t,null),d=!0},p(e,r){const s={};32&r[0]&&(s.field=e[5]),8192&r[0]&&(s.input={component:CQ,props:{columns:e[13]}}),65536&r[0]&&(s.label=e[16]("referencing_column")),65536&r[0]|128&r[1]&&(s.$$scope={dirty:r,ctx:e}),n.$set(s);const l={};16&r[0]&&(l.field=e[4]),32768&r[0]&&(l.input={component:Bce,props:{autoSelect:"clear",tables:e[15]}}),65536&r[0]&&(l.label=e[16]("target_table")),o.$set(l),e[7]?$?($.p(e,r),128&r[0]&&je($,1)):($=XRe(e),$.c(),je($,1),$.m(t,a)):$&&(qe(),Ue($,1,1,(()=>{$=null})),Be());const d={};65600&r[0]|128&r[1]&&(d.$$scope={dirty:r,ctx:e}),i.$set(d),"manual"===e[6]?p?(p.p(e,r),64&r[0]&&je(p,1)):(p=sFe(e),p.c(),je(p,1),p.m(t,c)):p&&(qe(),Ue(p,1,1,(()=>{p=null})),Be());const m={};256&r[0]&&(m.form=e[8]),1&r[0]&&(m.onCancel=e[0]),65536&r[0]&&(m.proceedButton={label:e[16]("add_foreign_key_constraint")}),u.$set(m)},i(e){d||(je(n.$$.fragment,e),je(o.$$.fragment,e),je($),je(i.$$.fragment,e),je(p),je(u.$$.fragment,e),d=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),Ue($),Ue(i.$$.fragment,e),Ue(p),Ue(u.$$.fragment,e),d=!1},d(e){e&&z(t),lt(n),lt(o),$&&$.d(),lt(i),p&&p.d(),lt(u)}}}function iFe(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,b,v,w,_,x,C,S,k,M,T,E,D,O,N,A,R=a,F=a,P=a,L=a,H=a,z=a,V=a,q=a;y(e,SH,(e=>n(29,D=e))),y(e,no,(e=>n(16,N=e))),e.$$.on_destroy.push((()=>R())),e.$$.on_destroy.push((()=>F())),e.$$.on_destroy.push((()=>P())),e.$$.on_destroy.push((()=>L())),e.$$.on_destroy.push((()=>H())),e.$$.on_destroy.push((()=>z())),e.$$.on_destroy.push((()=>V())),e.$$.on_destroy.push((()=>q()));let{onClose:B}=t;const j=new Map([["auto",N("automatically")],["manual",N("manually")]]),U=[...j.keys()],W=Dz();y(e,W,(e=>n(28,E=e)));return e.$$set=e=>{"onClose"in e&&n(0,B=e.onClose)},e.$$.update=()=>{268435456&e.$$.dirty[0]&&(n(9,r=E.constraintsDataStore),V(),V=g(r,(e=>n(30,O=e)))),1073741824&e.$$.dirty[0]&&n(23,o=new Set(O.constraints.map((e=>e.name)))),8388608&e.$$.dirty[0]&&(n(1,u=oH(void 0,[_P(o)])),P(),P=g(u,(e=>n(35,S=e)))),126&e.$$.dirty[0]&&n(8,d=aH({baseColumn:s,targetTable:i,targetColumn:l,namingStrategy:c,..."auto"===C?{}:{constraintName:u}})),536870912&e.$$.dirty[0]&&n(15,$=[...D.values()]),268435456&e.$$.dirty[0]&&(p=E.table.name),268435456&e.$$.dirty[0]&&(n(14,({processedColumns:m}=E),m),z(),z=g(m,(e=>n(27,T=e)))),134217728&e.$$.dirty[0]&&n(13,f=[...T.values()]),128&e.$$.dirty[0]&&n(25,h=M?new Oz(M):void 0),33554432&e.$$.dirty[0]&&(n(12,b=Fo(h?.isLoading)),q(),q=g(b,(e=>n(17,A=e)))),33554432&e.$$.dirty[0]&&(n(11,v=Fo(h?.processedColumns)),L(),L=g(v,(e=>n(26,k=e)))),67108864&e.$$.dirty[0]&&n(24,w=k??new Map),16777216&e.$$.dirty[0]&&n(10,_=[...w.values()])},n(5,s=oH(void 0)),R(),R=g(s,(e=>n(34,x=e))),n(4,i=oH(void 0)),H(),H=g(i,(e=>n(7,M=e))),n(3,l=oH(void 0)),n(2,c=oH("auto")),F(),F=g(c,(e=>n(6,C=e))),[B,u,c,l,i,s,C,M,d,r,_,v,b,f,m,$,N,A,j,U,W,function(){var e;I(u,S="manual"===C?(e=o,OV(`FK_${p}_${x?.column.name??""}`,e)):void 0,S)},async function(e){await r.add({columns:[e.baseColumn.id],type:"f",name:e.constraintName,fkey_relation_id:e.targetTable.oid,fkey_columns:[e.targetColumn.id]}),d.reset(),B?.()},o,w,h,k,T,E,D,O,e=>j.get(e)??"",function(e){C=e,c.set(C)}]}class lFe extends ut{constructor(e){super(),ct(this,e,iFe,aFe,f,{onClose:0},null,[-1,-1])}}function cFe(e){let t,n;return t=new HV({props:{column:{...e[28].column,constraintsType:RV(e[28].column.id,e[4])}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};268435472&n&&(r.column={...e[28].column,constraintsType:RV(e[28].column.id,e[4])}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function uFe(e){let t,n,r;function o(t){e[20](t)}let s={options:e[7],autoClearInvalidValues:!1,$$slots:{default:[cFe,({option:e})=>({28:e}),({option:e})=>e?268435456:0]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.values=e[0]),t=new Xf({props:s}),Ce.push((()=>st(t,"values",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};128&r&&(o.options=e[7]),805306384&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.values=e[0],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function dFe(e){let t,n,r=e[9]("columns_unique_values_help")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","help")},m(e,r){H(e,t,r),F(t,n)},p(e,t){512&t&&r!==(r=e[9]("columns_unique_values_help")+"")&&Q(n,r)},d(e){e&&z(t)}}}function $Fe(e){let t,n;return t=new J$({props:{label:e[9]("columns"),layout:"stacked",$$slots:{help:[dFe],default:[uFe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};512&n&&(r.label=e[9]("columns")),536871569&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function pFe(e){let t,n,r,o,s=e[9]("set_constraint_name")+"";return r=new KRe({}),{c(){t=j(s),n=U(),at(r.$$.fragment)},m(e,s){H(e,t,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){(!o||512&n)&&s!==(s=e[9]("set_constraint_name")+"")&&Q(t,s)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(t),e&&z(n),lt(r,e)}}}function mFe(e){let t,n,r;function o(t){e[22](t)}let s={options:e[11],isInline:!0,getRadioLabel:e[21],$$slots:{default:[pFe]},$$scope:{ctx:e}};return void 0!==e[1]&&(s.value=e[1]),t=new fg({props:s}),Ce.push((()=>st(t,"value",o))),t.$on("change",e[13]),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};536871424&r&&(o.$$scope={dirty:r,ctx:e}),!n&&2&r&&(n=!0,o.value=e[1],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function fFe(e){let t,n;return t=new Bpe({props:{errors:e[3],$$slots:{default:[hFe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.errors=e[3]),536871436&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function gFe(e){let t,n,r;function o(t){e[23](t)}let s={hasError:e[3].length>0};return void 0!==e[2]&&(s.value=e[2]),t=new ym({props:s}),Ce.push((()=>st(t,"value",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};8&r&&(o.hasError=e[3].length>0),!n&&4&r&&(n=!0,o.value=e[2],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function hFe(e){let t,n;return t=new J$({props:{label:e[9]("constraint_name"),layout:"stacked",$$slots:{default:[gFe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};512&n&&(r.label=e[9]("constraint_name")),536870924&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function yFe(e){let t,n,r,o,s,a;t=new Bpe({props:{$$slots:{default:[$Fe]},$$scope:{ctx:e}}}),r=new Bpe({props:{$$slots:{default:[mFe]},$$scope:{ctx:e}}});let i="manual"===e[1]&&fFe(e);return{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),i&&i.c(),s=W()},m(e,l){it(t,e,l),H(e,n,l),it(r,e,l),H(e,o,l),i&&i.m(e,l),H(e,s,l),a=!0},p(e,n){const o={};536871569&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const a={};536871426&n&&(a.$$scope={dirty:n,ctx:e}),r.$set(a),"manual"===e[1]?i?(i.p(e,n),2&n&&je(i,1)):(i=fFe(e),i.c(),je(i,1),i.m(s.parentNode,s)):i&&(qe(),Ue(i,1,1,(()=>{i=null})),Be())},i(e){a||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(i),a=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(i),a=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),i&&i.d(e),e&&z(s)}}}function bFe(e){let t,n,r,o,s;return n=new Rpe({props:{$$slots:{default:[yFe]},$$scope:{ctx:e}}}),o=new m$({props:{onProceed:e[14],onCancel:e[15],proceedButton:{label:e[9]("add_unique_constraint")},canProceed:e[6],size:"small"}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),at(o.$$.fragment),X(t,"class","add-new-unique-constraint svelte-154es72")},m(e,a){H(e,t,a),it(n,t,null),F(t,r),it(o,t,null),s=!0},p(e,[t]){const r={};536871583&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};512&t&&(s.proceedButton={label:e[9]("add_unique_constraint")}),64&t&&(s.canProceed=e[6]),o.$set(s)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(n),lt(o)}}}function vFe(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f=a,h=a;y(e,no,(e=>n(9,d=e))),e.$$.on_destroy.push((()=>f())),e.$$.on_destroy.push((()=>h()));let{onClose:b}=t;const v=new Map([["auto",d("automatically")],["manual",d("manually")]]),w=[...v.keys()],_=Dz();y(e,_,(e=>n(18,p=e)));let x,C=[],S="auto";return e.$$set=e=>{"onClose"in e&&n(16,b=e.onClose)},e.$$.update=()=>{var t,a;262144&e.$$.dirty&&(n(5,r=p.constraintsDataStore),h(),h=g(r,(e=>n(19,m=e)))),524288&e.$$.dirty&&n(17,o=new Set(m.constraints.map((e=>e.name)))),262144&e.$$.dirty&&(s=p.table.name),262144&e.$$.dirty&&(n(8,({processedColumns:i}=p),i),f(),f=g(i,(e=>n(4,$=e)))),16&e.$$.dirty&&n(7,l=Array.from($.values())),131078&e.$$.dirty&&n(3,(t=x,a=o,c="auto"===S?[]:t?.trim()?a.has(t?.trim())?[d("constraint_name_already_exists")]:[]:[d("constraint_name_cannot_be_empty")])),9&e.$$.dirty&&n(6,u=C.length>0&&!c.length)},[C,S,x,c,$,r,u,l,i,d,v,w,_,function(){var e;n(2,x="manual"===S?(e=o,OV(`${s}_${C.map((e=>e.column.name)).join("_")}`,e)):void 0)},async function(){try{await r.add({columns:C.map((e=>e.id)),type:"u",name:x}),n(0,C=[]),n(1,S="auto"),n(2,x=void 0),b?.()}catch(Ln){WS.error(`${d("unable_to_add_constraint")} ${ck(Ln)}`)}},function(){b?.()},b,o,p,m,function(e){C=e,n(0,C)},e=>v.get(e)??"",function(e){S=e,n(1,S)},function(e){x=e,n(2,x)}]}class wFe extends ut{constructor(e){super(),ct(this,e,vFe,bFe,f,{onClose:16})}}function _Fe(e,t,n){const r=e.slice();return r[20]=t[n],r}function xFe(e){let t,n=e[8][e[0]]+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1&r&&n!==(n=e[8][e[0]]+"")&&Q(t,n)},d(e){e&&z(t)}}}function CFe(e){let t,n;return t=new Hu({props:{appearance:"link",size:"small",$$slots:{default:[SFe]},$$scope:{ctx:e}}}),t.$on("click",e[10]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8388672&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function SFe(e){let t,n=e[6]("add")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){64&r&&n!==(n=e[6]("add")+"")&&Q(t,n)},d(e){e&&z(t)}}}function kFe(e){let t,n,r,o;const s=[IFe,MFe],a=[];function i(e,t){return"foreignkey"===e[0]?0:"unique"===e[0]?1:-1}return~(n=i(e))&&(r=a[n]=s[n](e)),{c(){t=q("div"),r&&r.c(),X(t,"class","add-constraint svelte-acyxay")},m(e,r){H(e,t,r),~n&&a[n].m(t,null),o=!0},p(e,o){let l=n;n=i(e),n===l?~n&&a[n].p(e,o):(r&&(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be()),~n?(r=a[n],r?r.p(e,o):(r=a[n]=s[n](e),r.c()),je(r,1),r.m(t,null)):r=null)},i(e){o||(je(r),o=!0)},o(e){Ue(r),o=!1},d(e){e&&z(t),~n&&a[n].d()}}}function MFe(e){let t,n;return t=new wFe({props:{onClose:e[11]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function IFe(e){let t,n;return t=new lFe({props:{onClose:e[11]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function TFe(e){let t,n=!e[2]&&EFe(e);return{c(){n&&n.c(),t=W()},m(e,r){n&&n.m(e,r),H(e,t,r)},p(e,r){e[2]?n&&(n.d(1),n=null):n?n.p(e,r):(n=EFe(e),n.c(),n.m(t.parentNode,t))},d(e){n&&n.d(e),e&&z(t)}}}function EFe(e){let t,n,r,o=e[6]("no_type_constraints",{values:{constraintType:e[9][e[0]]}})+"";return{c(){t=q("span"),n=j(o),r=U(),X(t,"class","null svelte-acyxay")},m(e,o){H(e,t,o),F(t,n),F(t,r)},p(e,t){65&t&&o!==(o=e[6]("no_type_constraints",{values:{constraintType:e[9][e[0]]}})+"")&&Q(n,o)},d(e){e&&z(t)}}}function DFe(e){let t,n,r,o;return n=new ORe({props:{constraint:e[20]}}),{c(){t=q("span"),at(n.$$.fragment),r=U(),X(t,"slot","header")},m(e,s){H(e,t,s),it(n,t,null),F(t,r),o=!0},p(e,t){const r={};2&t&&(r.constraint=e[20]),n.$set(r)},i(e){o||(je(n.$$.fragment,e),o=!0)},o(e){Ue(n.$$.fragment,e),o=!1},d(e){e&&z(t),lt(n)}}}function OFe(e){let t,n;return t=new Hu({props:{appearance:"danger",size:"small",$$slots:{default:[NFe]},$$scope:{ctx:e}}}),t.$on("click",(function(){return e[16](e[20])})),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(n,r){e=n;const o={};8388608&r&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function NFe(e){let t,n;const r=[Kx];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[ot(Kx)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function AFe(e){let t,n,r,o=e[3]&&OFe(e);return{c(){t=q("span"),o&&o.c(),n=U(),X(t,"slot","trigger-aside")},m(e,s){H(e,t,s),o&&o.m(t,null),F(t,n),r=!0},p(e,r){e[3]?o?(o.p(e,r),8&r&&je(o,1)):(o=OFe(e),o.c(),je(o,1),o.m(t,n)):o&&(qe(),Ue(o,1,1,(()=>{o=null})),Be())},i(e){r||(je(o),r=!0)},o(e){Ue(o),r=!1},d(e){e&&z(t),o&&o.d()}}}function RFe(e){let t,n;return t=new RRe({props:{constraint:e[20]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.constraint=e[20]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function FFe(e){let t,n;return t=new jRe({props:{constraint:e[20]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.constraint=e[20]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function PFe(e){let t,n,r,o,s;const a=[FFe,RFe],i=[];function l(e,t){return"foreignkey"===e[0]?0:1}return n=l(e),r=i[n]=a[n](e),{c(){t=q("div"),r.c(),o=U(),X(t,"slot","content")},m(e,r){H(e,t,r),i[n].m(t,null),F(t,o),s=!0},p(e,s){let c=n;n=l(e),n===c?i[n].p(e,s):(qe(),Ue(i[c],1,1,(()=>{i[c]=null})),Be(),r=i[n],r?r.p(e,s):(r=i[n]=a[n](e),r.c()),je(r,1),r.m(t,o))},i(e){s||(je(r),s=!0)},o(e){Ue(r),s=!1},d(e){e&&z(t),i[n].d()}}}function LFe(e,t){let n,r,o;return r=new om({props:{triggerAppearance:"ghost",$$slots:{content:[PFe],"trigger-aside":[AFe],header:[DFe]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};8388619&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function HFe(e){let t,n,r,o,s,a,i,l,c,u,d=e[9][e[0]]+"",$=[],p=new Map;a=new H$({props:{$$slots:{default:[xFe]},$$scope:{ctx:e}}});let m=e[4]&&CFe(e),f=e[2]&&kFe(e),g=e[1];const h=e=>e[20].oid;for(let b=0;b<g.length;b+=1){let t=_Fe(e,g,b),n=h(t);p.set(n,$[b]=LFe(n,t))}let y=null;return g.length||(y=TFe(e)),{c(){t=q("div"),n=q("span"),r=q("span"),o=j(d),s=U(),at(a.$$.fragment),i=U(),m&&m.c(),l=U(),f&&f.c(),c=U();for(let e=0;e<$.length;e+=1)$[e].c();y&&y.c(),X(n,"class","title svelte-acyxay"),X(t,"class","constraint-type-section svelte-acyxay")},m(e,d){H(e,t,d),F(t,n),F(n,r),F(r,o),F(r,s),it(a,r,null),F(n,i),m&&m.m(n,null),F(t,l),f&&f.m(t,null),F(t,c);for(let n=0;n<$.length;n+=1)$[n].m(t,null);y&&y.m(t,null),u=!0},p(e,[r]){(!u||1&r)&&d!==(d=e[9][e[0]]+"")&&Q(o,d);const s={};8388609&r&&(s.$$scope={dirty:r,ctx:e}),a.$set(s),e[4]?m?(m.p(e,r),16&r&&je(m,1)):(m=CFe(e),m.c(),je(m,1),m.m(n,null)):m&&(qe(),Ue(m,1,1,(()=>{m=null})),Be()),e[2]?f?(f.p(e,r),4&r&&je(f,1)):(f=kFe(e),f.c(),je(f,1),f.m(t,c)):f&&(qe(),Ue(f,1,1,(()=>{f=null})),Be()),4687&r&&(g=e[1],qe(),$=nt($,r,h,1,e,g,p,t,et,LFe,null,_Fe),Be(),!g.length&&y?y.p(e,r):g.length?y&&(y.d(1),y=null):(y=TFe(e),y.c(),y.m(t,null)))},i(e){if(!u){je(a.$$.fragment,e),je(m),je(f);for(let e=0;e<g.length;e+=1)je($[e]);u=!0}},o(e){Ue(a.$$.fragment,e),Ue(m),Ue(f);for(let t=0;t<$.length;t+=1)Ue($[t]);u=!1},d(e){e&&z(t),lt(a),m&&m.d(),f&&f.d();for(let t=0;t<$.length;t+=1)$[t].d();y&&y.d()}}}function zFe(e,t,n){let r,o,s,i,l,c,u,d,$=a;y(e,no,(e=>n(6,u=e))),e.$$.on_destroy.push((()=>$()));let{constraintType:p}=t,{constraints:m}=t;const f=Dz();y(e,f,(e=>n(15,d=e)));const h=["unique","foreignkey"],b=["unique","foreignkey"];let v=!1;const w={primary:u("primary_key_help"),foreignkey:u("foreign_key_help"),unique:u("unique_key_help"),check:"",exclude:""},_={primary:u("primary_keys"),foreignkey:u("foreign_keys"),unique:u("unique"),check:"",exclude:""};function x(e){XS({identifierType:u("constraint"),identifierName:e.name,body:[u("are_you_sure_to_proceed")],onProceed:()=>r.remove(e.oid)})}return e.$$set=e=>{"constraintType"in e&&n(0,p=e.constraintType),"constraints"in e&&n(1,m=e.constraints)},e.$$.update=()=>{32768&e.$$.dirty&&n(13,({constraintsDataStore:r,table:o}=d),o),8192&e.$$.dirty&&(n(5,s=o.currentAccess.currentRoleOwns),$(),$=g(s,(e=>n(14,c=e)))),16385&e.$$.dirty&&n(4,i=c&&h.includes(p)),16385&e.$$.dirty&&n(3,l=c&&b.includes(p))},[p,m,v,l,i,s,u,f,w,_,function(){n(2,v=!0)},function(){n(2,v=!1)},x,o,c,d,e=>x(e)]}class VFe extends ut{constructor(e){super(),ct(this,e,zFe,HFe,f,{constraintType:0,constraints:1})}}function qFe(e){let t,n,r,o,s,a,i;return n=new VFe({props:{constraintType:"primary",constraints:e[3].get("primary")||[]}}),o=new VFe({props:{constraintType:"foreignkey",constraints:e[3].get("foreignkey")||[]}}),a=new VFe({props:{constraintType:"unique",constraints:e[3].get("unique")||[]}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),at(o.$$.fragment),s=U(),at(a.$$.fragment),X(t,"class","constraints-list svelte-15s0oew")},m(e,l){H(e,t,l),it(n,t,null),F(t,r),it(o,t,null),F(t,s),it(a,t,null),i=!0},p(e,t){const r={};8&t&&(r.constraints=e[3].get("primary")||[]),n.$set(r);const s={};8&t&&(s.constraints=e[3].get("foreignkey")||[]),o.$set(s);const i={};8&t&&(i.constraints=e[3].get("unique")||[]),a.$set(i)},i(e){i||(je(n.$$.fragment,e),je(o.$$.fragment,e),je(a.$$.fragment,e),i=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),Ue(a.$$.fragment,e),i=!1},d(e){e&&z(t),lt(n),lt(o),lt(a)}}}function BFe(e){let t,n,r=e[6]("no_constraints")+"";return{c(){t=q("div"),n=j(r)},m(e,r){H(e,t,r),F(t,n)},p(e,t){64&t&&r!==(r=e[6]("no_constraints")+"")&&Q(n,r)},i:a,o:a,d(e){e&&z(t)}}}function jFe(e){let t,n,r,o,s,i=e[6]("unable_to_fetch_table_constraints")+"";return{c(){t=q("div"),n=j(i),r=U(),o=q("div"),s=j(e[4])},m(e,a){H(e,t,a),F(t,n),H(e,r,a),H(e,o,a),F(o,s)},p(e,t){64&t&&i!==(i=e[6]("unable_to_fetch_table_constraints")+"")&&Q(n,i),16&t&&Q(s,e[4])},i:a,o:a,d(e){e&&z(t),e&&z(r),e&&z(o)}}}function UFe(e){let t,n;const r=[Fd];let o={};for(let s=0;s<r.length;s+=1)o=l(o,r[s]);return t=new Jd({props:o}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const o=0&n?rt(r,[ot(Fd)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function WFe(e){let t,n,r,o;const s=[UFe,jFe,BFe,qFe],a=[];function i(e,t){return e[2]?0:e[1]===pk.Error?1:e[0]?2:3}return n=i(e),r=a[n]=s[n](e),{c(){t=q("div"),r.c(),X(t,"class","table-constraints")},m(e,r){H(e,t,r),a[n].m(t,null),o=!0},p(e,[o]){let l=n;n=i(e),n===l?a[n].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),r=a[n],r?r.p(e,o):(r=a[n]=s[n](e),r.c()),je(r,1),r.m(t,null))},i(e){o||(je(r),o=!0)},o(e){Ue(r),o=!1},d(e){e&&z(t),a[n].d()}}}function YFe(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f=a;y(e,no,(e=>n(6,m=e))),e.$$.on_destroy.push((()=>f()));const h=Dz();return y(e,h,(e=>n(11,p=e))),e.$$.update=()=>{2048&e.$$.dirty&&(n(5,r=p.constraintsDataStore),f(),f=g(r,(e=>n(10,$=e)))),1024&e.$$.dirty&&n(1,o=$.state),1024&e.$$.dirty&&n(4,s=$.error),1024&e.$$.dirty&&n(9,i=$.constraints),512&e.$$.dirty&&n(3,l=i.reduce(((e,t)=>{const n=e.get(t.type);return Array.isArray(n)?(e.set(t.type,[...n,t]),e):(e.set(t.type,[t]),e)}),new Map)),512&e.$$.dirty&&n(0,c=0===i.length),2&e.$$.dirty&&n(8,u=o===pk.Idle||o===pk.Loading),257&e.$$.dirty&&n(2,d=c&&u)},[c,o,d,l,s,r,m,h,u,i,$,p]}class KFe extends ut{constructor(e){super(),ct(this,e,YFe,WFe,f,{})}}function GFe(e){let t,n,r,o,s,a=e[1]("constraints_info_help")+"";return o=new KFe({}),{c(){t=q("span"),n=j(a),r=U(),at(o.$$.fragment),X(t,"class","description svelte-1vevm5l")},m(e,a){H(e,t,a),F(t,n),H(e,r,a),it(o,e,a),s=!0},p(e,t){(!s||2&t)&&a!==(a=e[1]("constraints_info_help")+"")&&Q(n,a)},i(e){s||(je(o.$$.fragment,e),s=!0)},o(e){Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),e&&z(r),lt(o,e)}}}function XFe(e){let t,n,r=e[1]("constraints")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","title")},m(e,r){H(e,t,r),F(t,n)},p(e,t){2&t&&r!==(r=e[1]("constraints")+"")&&Q(n,r)},d(e){e&&z(t)}}}function ZFe(e){let t,n;return t=new dv({props:{controller:e[0],$$slots:{title:[XFe],default:[GFe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.controller=e[0]),6&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function JFe(e,t,n){let r;y(e,no,(e=>n(1,r=e)));let{controller:o}=t;return e.$$set=e=>{"controller"in e&&n(0,o=e.controller)},[o,r]}class QFe extends ut{constructor(e){super(),ct(this,e,JFe,ZFe,f,{controller:0})}}function ePe(e){let t,n=e[0]("constraints_info_help_mini")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1&r&&n!==(n=e[0]("constraints_info_help_mini")+"")&&Q(t,n)},d(e){e&&z(t)}}}function tPe(e){let t,n,r,o,s,a,i,c,u,d,$,p=e[0]("constraints")+"";const m=[MC];let f={};for(let y=0;y<m.length;y+=1)f=l(f,m[y]);r=new Jd({props:f}),c=new H$({props:{$$slots:{default:[ePe]},$$scope:{ctx:e}}});const g=[Dd];let h={};for(let y=0;y<g.length;y+=1)h=l(h,g[y]);return d=new Jd({props:h}),{c(){t=q("div"),n=q("div"),at(r.$$.fragment),o=U(),s=q("span"),a=j(p),i=U(),at(c.$$.fragment),u=U(),at(d.$$.fragment),X(t,"class","action-item svelte-lo2o6r")},m(e,l){H(e,t,l),F(t,n),it(r,n,null),F(n,o),F(n,s),F(s,a),F(n,i),it(c,n,null),F(t,u),it(d,t,null),$=!0},p(e,t){const n=0&t?rt(m,[ot(MC)]):{};r.$set(n),(!$||1&t)&&p!==(p=e[0]("constraints")+"")&&Q(a,p);const o={};9&t&&(o.$$scope={dirty:t,ctx:e}),c.$set(o);const s=0&t?rt(g,[ot(Dd)]):{};d.$set(s)},i(e){$||(je(r.$$.fragment,e),je(c.$$.fragment,e),je(d.$$.fragment,e),$=!0)},o(e){Ue(r.$$.fragment,e),Ue(c.$$.fragment,e),Ue(d.$$.fragment,e),$=!1},d(e){e&&z(t),lt(r),lt(c),lt(d)}}}function nPe(e){let t,n,r,o,s;return n=new Hu({props:{appearance:"action",$$slots:{default:[tPe]},$$scope:{ctx:e}}}),n.$on("click",e[2]),o=new QFe({props:{controller:e[1]}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),at(o.$$.fragment),X(t,"class","actions-container svelte-lo2o6r")},m(e,a){H(e,t,a),it(n,t,null),F(t,r),it(o,t,null),s=!0},p(e,[t]){const r={};9&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(n),lt(o)}}}function rPe(e,t,n){let r;y(e,no,(e=>n(0,r=e)));const o=US.spawnModalController();return[r,o,()=>o.open()]}class oPe extends ut{constructor(e){super(),ct(this,e,rPe,nPe,f,{})}}function sPe(e){let t,n,r;return n=new HI({props:{table:e[0],cssVariables:{"--icon-color":"var(--color-fg-base)"}}}),{c(){t=q("span"),at(n.$$.fragment),X(t,"class","table-pill svelte-dtiuub"),se(t,"base","base"===e[1]),se(t,"target","target"===e[1]),se(t,"mapping","mapping"===e[1])},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,[o]){const s={};1&o&&(s.table=e[0]),n.$set(s),(!r||2&o)&&se(t,"base","base"===e[1]),(!r||2&o)&&se(t,"target","target"===e[1]),(!r||2&o)&&se(t,"mapping","mapping"===e[1])},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function aPe(e,t,n){let{table:r}=t,{which:o}=t;return e.$$set=e=>{"table"in e&&n(0,r=e.table),"which"in e&&n(1,o=e.which)},[r,o]}class iPe extends ut{constructor(e){super(),ct(this,e,aPe,sPe,f,{table:0,which:1})}}function lPe(){return vP((e=>"id"===e),h(no)("id_is_reserved_column"))}function cPe(e){let t,n;return t=new iPe({props:{table:e[2],which:e[1]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.table=e[2]),2&n&&(r.which=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function uPe(e){let t,n;return t=new iPe({props:{table:e[0],which:e[3]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.table=e[0]),8&n&&(r.which=e[3]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function dPe(e){let t,n,r,o;const s=[uPe,cPe],a=[];function i(e,t){return"baseTable"===e[10]?0:"targetTable"===e[10]?1:-1}return~(t=i(e))&&(n=a[t]=s[t](e)),{c(){n&&n.c(),r=W()},m(e,n){~t&&a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?~t&&a[t].p(e,o):(n&&(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be()),~t?(n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){~t&&a[t].d(e),e&&z(r)}}}function $Pe(e){let t,n;return t=new Rx({props:{text:e[6]("we_will_add_a_column_in_x_to_y"),$$slots:{default:[dPe,({slotName:e})=>({10:e}),({slotName:e})=>e?1024:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.text=e[6]("we_will_add_a_column_in_x_to_y")),3087&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function pPe(e){let t,n;return t=new WL({props:{field:e[4],label:e[8]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.field=e[4]),256&n&&(r.label=e[8]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function mPe(e){let t,n,r,o;return r=new t$({}),{c(){t=j(e[8]),n=U(),at(r.$$.fragment)},m(e,s){H(e,t,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){(!o||256&n)&&Q(t,e[8])},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(t),e&&z(n),lt(r,e)}}}function fPe(e){let t,n,r,o;const s=[mPe,pPe],a=[];function i(e,t){return e[5]?0:1}return n=i(e),r=a[n]=s[n](e),{c(){t=q("div"),r.c(),X(t,"class","collapsible-detail svelte-1tnqxs2")},m(e,r){H(e,t,r),a[n].m(t,null),o=!0},p(e,o){let l=n;n=i(e),n===l?a[n].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),r=a[n],r?r.p(e,o):(r=a[n]=s[n](e),r.c()),je(r,1),r.m(t,null))},i(e){o||(je(r),o=!0)},o(e){Ue(r),o=!1},d(e){e&&z(t),a[n].d()}}}function gPe(e){let t,n,r;function o(t){e[9](t)}let s={triggerAppearance:"ghost",$$slots:{content:[fPe],header:[$Pe]},$$scope:{ctx:e}};return void 0!==e[7]&&(s.isOpen=e[7]),t=new om({props:s}),Ce.push((()=>st(t,"isOpen",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,[r]){const o={};2431&r&&(o.$$scope={dirty:r,ctx:e}),!n&&128&r&&(n=!0,o.isOpen=e[7],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function hPe(e,t,n){let r,o;y(e,no,(e=>n(6,o=e)));let{base:s}=t,{baseWhich:a="base"}=t,{target:i}=t,{targetWhich:l="target"}=t,{field:c}=t,{targetColumnsAreLoading:u=!1}=t,d=!1;return e.$$set=e=>{"base"in e&&n(0,s=e.base),"baseWhich"in e&&n(1,a=e.baseWhich),"target"in e&&n(2,i=e.target),"targetWhich"in e&&n(3,l=e.targetWhich),"field"in e&&n(4,c=e.field),"targetColumnsAreLoading"in e&&n(5,u=e.targetColumnsAreLoading)},e.$$.update=()=>{64&e.$$.dirty&&n(8,r=o("name_of_new_column"))},[s,a,i,l,c,u,o,d,r,function(e){d=e,n(7,d)}]}class yPe extends ut{constructor(e){super(),ct(this,e,hPe,gPe,f,{base:0,baseWhich:1,target:2,targetWhich:3,field:4,targetColumnsAreLoading:5})}}function bPe(e){let t,n,r,o,s,a,i,c=[e[2],{class:"target"},{x:"21.79"},{y:"107.4"}],u={};for(let f=0;f<c.length;f+=1)u=l(u,c[f]);let d=[e[2],{class:"target"},{x:"119.1"},{y:"107.4"}],$={};for(let f=0;f<d.length;f+=1)$=l($,d[f]);let p=[e[2],{class:"base"},{x:"70.46"},{y:"1.236"}],m={};for(let f=0;f<p.length;f+=1)m=l(m,p[f]);return{c(){t=B("path"),n=B("path"),r=B("path"),o=B("path"),s=B("rect"),a=B("rect"),i=B("rect"),X(t,"d","m88 28.26c-4e-6 46.95-42.67 33.06-42.67 79.17"),X(t,"class","line svelte-1au8853"),X(n,"d","m100 28.26c1e-5 46.95 42.67 33.06 42.67 79.17"),X(n,"class","line svelte-1au8853"),X(r,"d","m88 20.05 4.172 8.213h-8.344z"),X(r,"class","arrow svelte-1au8853"),X(o,"d","m100 20.05 4.172 8.213h-8.344z"),X(o,"class","arrow svelte-1au8853"),J(s,u),se(s,"svelte-1au8853",!0),J(a,$),se(a,"svelte-1au8853",!0),J(i,m),se(i,"svelte-1au8853",!0)},m(e,l){H(e,t,l),H(e,n,l),H(e,r,l),H(e,o,l),H(e,s,l),H(e,a,l),H(e,i,l)},p(e,t){J(s,u=rt(c,[e[2],{class:"target"},{x:"21.79"},{y:"107.4"}])),se(s,"svelte-1au8853",!0),J(a,$=rt(d,[e[2],{class:"target"},{x:"119.1"},{y:"107.4"}])),se(a,"svelte-1au8853",!0),J(i,m=rt(p,[e[2],{class:"base"},{x:"70.46"},{y:"1.236"}])),se(i,"svelte-1au8853",!0)},d(e){e&&z(t),e&&z(n),e&&z(r),e&&z(o),e&&z(s),e&&z(a),e&&z(i)}}}function vPe(e){let t,n,r,o,s,a,i,c,u,d,$,p,m,f,g,h,y,b,v,w=[e[2],{class:"target"},{x:"105.1"},{y:"107.4"}],_={};for(let R=0;R<w.length;R+=1)_=l(_,w[R]);let x=[e[2],{class:"target"},{x:"35.79"},{y:"107.4"}],C={};for(let R=0;R<x.length;R+=1)C=l(C,x[R]);let S=[e[2],{class:"mapping"},{x:"139.8"},{y:"54.34"}],k={};for(let R=0;R<S.length;R+=1)k=l(k,S[R]);let M=[e[2],{class:"mapping"},{x:"70.46"},{y:"54.34"}],I={};for(let R=0;R<M.length;R+=1)I=l(I,M[R]);let T=[e[2],{class:"mapping"},{x:"1.112"},{y:"54.34"}],E={};for(let R=0;R<T.length;R+=1)E=l(E,T[R]);let D=[e[2],{class:"base"},{x:"105.1"},{y:"1.25"}],O={};for(let R=0;R<D.length;R+=1)O=l(O,D[R]);let N=[e[2],{class:"base"},{x:"35.79"},{y:"1.25"}],A={};for(let R=0;R<N.length;R+=1)A=l(A,N[R]);return{c(){t=B("path"),n=B("path"),r=B("path"),o=B("path"),s=B("path"),a=B("path"),i=B("path"),c=B("path"),u=B("path"),d=B("path"),$=B("path"),p=B("path"),m=B("rect"),f=B("rect"),g=B("rect"),h=B("rect"),y=B("rect"),b=B("rect"),v=B("rect"),X(t,"d","m94 54.37c0-17.95 28.67-7.609 28.67-26.1"),X(t,"class","line svelte-1au8853"),X(n,"d","m163.4 54.34c0-17.95-28.67-7.579-28.67-26.07"),X(n,"class","line svelte-1au8853"),X(r,"d","m24.65 72.63c0 17.95 28.67 7.609 28.67 26.1"),X(r,"class","line svelte-1au8853"),X(o,"d","m94 72.66c0 17.95-28.67 7.579-28.67 26.07"),X(o,"class","line svelte-1au8853"),X(s,"d","m24.65 54.34c0-17.95 28.67-7.609 28.67-26.1"),X(s,"class","line svelte-1au8853"),X(a,"d","m163.4 72.66c0 17.95-28.67 7.579-28.67 26.07"),X(a,"class","line svelte-1au8853"),X(i,"d","m53.32 106.9 4.172-8.213h-8.344z"),X(i,"class","arrow svelte-1au8853"),X(c,"d","m65.33 106.9 4.172-8.213h-8.344z"),X(c,"class","arrow svelte-1au8853"),X(u,"d","m134.7 106.9 4.172-8.213h-8.344z"),X(u,"class","arrow svelte-1au8853"),X(d,"d","m122.7 20.06 4.172 8.213h-8.344z"),X(d,"class","arrow svelte-1au8853"),X($,"d","m134.7 20.06 4.172 8.213h-8.344z"),X($,"class","arrow svelte-1au8853"),X(p,"d","m53.32 20.03 4.172 8.213h-8.344z"),X(p,"class","arrow svelte-1au8853"),J(m,_),se(m,"svelte-1au8853",!0),J(f,C),se(f,"svelte-1au8853",!0),J(g,k),se(g,"svelte-1au8853",!0),J(h,I),se(h,"svelte-1au8853",!0),J(y,E),se(y,"svelte-1au8853",!0),J(b,O),se(b,"svelte-1au8853",!0),J(v,A),se(v,"svelte-1au8853",!0)},m(e,l){H(e,t,l),H(e,n,l),H(e,r,l),H(e,o,l),H(e,s,l),H(e,a,l),H(e,i,l),H(e,c,l),H(e,u,l),H(e,d,l),H(e,$,l),H(e,p,l),H(e,m,l),H(e,f,l),H(e,g,l),H(e,h,l),H(e,y,l),H(e,b,l),H(e,v,l)},p(e,t){J(m,_=rt(w,[e[2],{class:"target"},{x:"105.1"},{y:"107.4"}])),se(m,"svelte-1au8853",!0),J(f,C=rt(x,[e[2],{class:"target"},{x:"35.79"},{y:"107.4"}])),se(f,"svelte-1au8853",!0),J(g,k=rt(S,[e[2],{class:"mapping"},{x:"139.8"},{y:"54.34"}])),se(g,"svelte-1au8853",!0),J(h,I=rt(M,[e[2],{class:"mapping"},{x:"70.46"},{y:"54.34"}])),se(h,"svelte-1au8853",!0),J(y,E=rt(T,[e[2],{class:"mapping"},{x:"1.112"},{y:"54.34"}])),se(y,"svelte-1au8853",!0),J(b,O=rt(D,[e[2],{class:"base"},{x:"105.1"},{y:"1.25"}])),se(b,"svelte-1au8853",!0),J(v,A=rt(N,[e[2],{class:"base"},{x:"35.79"},{y:"1.25"}])),se(v,"svelte-1au8853",!0)},d(e){e&&z(t),e&&z(n),e&&z(r),e&&z(o),e&&z(s),e&&z(a),e&&z(i),e&&z(c),e&&z(u),e&&z(d),e&&z($),e&&z(p),e&&z(m),e&&z(f),e&&z(g),e&&z(h),e&&z(y),e&&z(b),e&&z(v)}}}function wPe(e){let t;function n(e,t){return"manyToMany"===e[0]?vPe:bPe}let r=n(e),o=r(e);return{c(){t=B("svg"),o.c(),X(t,"viewBox","0 0 188 127"),X(t,"preserveAspectRatio","xMidYMid meet"),X(t,"class","svelte-1au8853"),se(t,"flip",e[1])},m(e,n){H(e,t,n),o.m(t,null)},p(e,[s]){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t,null))),2&s&&se(t,"flip",e[1])},i:a,o:a,d(e){e&&z(t),o.d()}}}function _Pe(e,t,n){let r;let{linkType:o}=t;return e.$$set=e=>{"linkType"in e&&n(0,o=e.linkType)},e.$$.update=()=>{1&e.$$.dirty&&n(1,r="manyToOne"===o)},[o,r,{width:"47.07",height:"18.31",rx:9.157}]}class xPe extends ut{constructor(e){super(),ct(this,e,_Pe,wPe,f,{linkType:0})}}function CPe(e){let t,n=So(e[0])+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1&r&&n!==(n=So(e[0])+"")&&Q(t,n)},i:a,o:a,d(e){e&&z(t)}}}function SPe(e){let t,n,r,o;const s=[TPe,IPe],a=[];function i(e,t){return e[1]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function kPe(e){let t,n;return t=new Rx({props:{text:e[5]("relationship_type_description_many_to_one"),$$slots:{default:[HPe,({slotName:e})=>({10:e}),({slotName:e})=>e?1024:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.text=e[5]("relationship_type_description_many_to_one")),3096&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function MPe(e){let t,n;return t=new Rx({props:{text:e[5]("relationship_type_description_one_to_many"),$$slots:{default:[qPe,({slotName:e})=>({10:e}),({slotName:e})=>e?1024:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.text=e[5]("relationship_type_description_one_to_many")),3096&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function IPe(e){let t,n;return t=new Rx({props:{text:e[5]("relationship_type_description_many_to_many"),$$slots:{default:[NPe,({slotName:e})=>({10:e}),({slotName:e})=>e?1024:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.text=e[5]("relationship_type_description_many_to_many")),3128&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function TPe(e){let t,n;return t=new Rx({props:{text:e[5]("relationship_type_description_many_to_many_self_referential"),$$slots:{default:[FPe,({slotName:e})=>({10:e}),({slotName:e})=>e?1024:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.text=e[5]("relationship_type_description_many_to_many_self_referential")),3112&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function EPe(e){let t,n;return t=new iPe({props:{table:{name:e[5]("mapping_table")},which:"mapping"}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.table={name:e[5]("mapping_table")}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function DPe(e){let t,n;return t=new iPe({props:{table:e[4],which:"target"}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.table=e[4]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function OPe(e){let t,n;return t=new iPe({props:{table:e[3],which:"base"}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.table=e[3]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function NPe(e){let t,n,r,o;const s=[OPe,DPe,EPe],a=[];function i(e,t){return"baseTable"===e[10]?0:"targetTable"===e[10]?1:"mappingTable"===e[10]?2:-1}return~(t=i(e))&&(n=a[t]=s[t](e)),{c(){n&&n.c(),r=W()},m(e,n){~t&&a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?~t&&a[t].p(e,o):(n&&(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be()),~t?(n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){~t&&a[t].d(e),e&&z(r)}}}function APe(e){let t,n;return t=new iPe({props:{table:{name:e[5]("mapping_table")},which:"mapping"}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.table={name:e[5]("mapping_table")}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function RPe(e){let t,n;return t=new iPe({props:{table:e[3],which:"base"}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.table=e[3]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function FPe(e){let t,n,r,o;const s=[RPe,APe],a=[];function i(e,t){return"baseTable"===e[10]?0:"mappingTable"===e[10]?1:-1}return~(t=i(e))&&(n=a[t]=s[t](e)),{c(){n&&n.c(),r=W()},m(e,n){~t&&a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?~t&&a[t].p(e,o):(n&&(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be()),~t?(n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){~t&&a[t].d(e),e&&z(r)}}}function PPe(e){let t,n;return t=new iPe({props:{table:e[4],which:"target"}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.table=e[4]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function LPe(e){let t,n;return t=new iPe({props:{table:e[3],which:"base"}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.table=e[3]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function HPe(e){let t,n,r,o;const s=[LPe,PPe],a=[];function i(e,t){return"baseTable"===e[10]?0:"targetTable"===e[10]?1:-1}return~(t=i(e))&&(n=a[t]=s[t](e)),{c(){n&&n.c(),r=W()},m(e,n){~t&&a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?~t&&a[t].p(e,o):(n&&(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be()),~t?(n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){~t&&a[t].d(e),e&&z(r)}}}function zPe(e){let t,n;return t=new iPe({props:{table:e[4],which:"target"}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.table=e[4]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function VPe(e){let t,n;return t=new iPe({props:{table:e[3],which:"base"}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.table=e[3]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function qPe(e){let t,n,r,o;const s=[VPe,zPe],a=[];function i(e,t){return"baseTable"===e[10]?0:"targetTable"===e[10]?1:-1}return~(t=i(e))&&(n=a[t]=s[t](e)),{c(){n&&n.c(),r=W()},m(e,n){~t&&a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?~t&&a[t].p(e,o):(n&&(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be()),~t?(n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){~t&&a[t].d(e),e&&z(r)}}}function BPe(e){let t,n,r,o,s,a,i,l,c,u,d,$,p,m,f;o=new sg({props:{checked:e[7]}}),o.$on("change",e[8]),u=new xPe({props:{linkType:e[0]}});const g=[MPe,kPe,SPe,CPe],h=[];function y(e,t){return"oneToMany"===e[0]?0:"manyToOne"===e[0]?1:"manyToMany"===e[0]?2:3}return p=y(e),m=h[p]=g[p](e),{c(){t=q("div"),n=q("span"),r=q("span"),at(o.$$.fragment),s=U(),a=q("span"),i=j(e[6]),l=U(),c=q("span"),at(u.$$.fragment),d=U(),$=q("span"),m.c(),X(r,"class","input svelte-154ww44"),X(a,"class","label svelte-154ww44"),X(n,"class","top svelte-154ww44"),X(c,"class","diagram svelte-154ww44"),X($,"class","description svelte-154ww44"),X(t,"class","link-type-option svelte-154ww44"),se(t,"checked",e[7])},m(e,m){H(e,t,m),F(t,n),F(n,r),it(o,r,null),F(n,s),F(n,a),F(a,i),F(t,l),F(t,c),it(u,c,null),F(t,d),F(t,$),h[p].m($,null),f=!0},p(e,n){const r={};128&n&&(r.checked=e[7]),o.$set(r),(!f||64&n)&&Q(i,e[6]);const s={};1&n&&(s.linkType=e[0]),u.$set(s);let a=p;p=y(e),p===a?h[p].p(e,n):(qe(),Ue(h[a],1,1,(()=>{h[a]=null})),Be(),m=h[p],m?m.p(e,n):(m=h[p]=g[p](e),m.c()),je(m,1),m.m($,null)),(!f||128&n)&&se(t,"checked",e[7])},i(e){f||(je(o.$$.fragment,e),je(u.$$.fragment,e),je(m),f=!0)},o(e){Ue(o.$$.fragment,e),Ue(u.$$.fragment,e),Ue(m),f=!1},d(e){e&&z(t),lt(o),lt(u),h[p].d()}}}function jPe(e){let t,n;return t=new O$({props:{style:"--Label__display:contents;",$$slots:{default:[BPe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};2299&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function UPe(e,t,n){let r,o,s,i,l=a,c=()=>(l(),l=g($,(e=>n(9,i=e))),$);y(e,no,(e=>n(5,s=e))),e.$$.on_destroy.push((()=>l()));let{linkType:u}=t,{isSelfReferential:d}=t,{field:$}=t;c();let{base:p}=t,{target:m}=t;return e.$$set=e=>{"linkType"in e&&n(0,u=e.linkType),"isSelfReferential"in e&&n(1,d=e.isSelfReferential),"field"in e&&c(n(2,$=e.field)),"base"in e&&n(3,p=e.base),"target"in e&&n(4,m=e.target)},e.$$.update=()=>{513&e.$$.dirty&&n(7,r=u===i),33&e.$$.dirty&&n(6,o="oneToMany"===u?s("one_to_many"):"manyToOne"===u?s("many_to_one"):"manyToMany"===u?s("many_to_many"):So(u))},[u,d,$,p,m,s,o,r,function({detail:e}){e&&$.set(u)},i]}class WPe extends ut{constructor(e){super(),ct(this,e,UPe,jPe,f,{linkType:0,isSelfReferential:1,field:2,base:3,target:4})}}function YPe(e,t,n){const r=e.slice();return r[6]=t[n],r}function KPe(e){let t,n,r;return t=new iPe({props:{table:e[4],which:"target"}}),{c(){at(t.$$.fragment),n=j(":")},m(e,o){it(t,e,o),H(e,n,o),r=!0},p(e,n){const r={};16&n&&(r.table=e[4]),t.$set(r)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e),e&&z(n)}}}function GPe(e){let t,n,r="tableName"===e[9]&&KPe(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"tableName"===e[9]?r?(r.p(e,n),512&n&&je(r,1)):(r=KPe(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function XPe(e,t){let n,r,o;return r=new WPe({props:{linkType:t[6],isSelfReferential:t[1],field:t[2],base:t[3],target:t[4]}}),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};1&n&&(o.linkType=t[6]),2&n&&(o.isSelfReferential=t[1]),4&n&&(o.field=t[2]),8&n&&(o.base=t[3]),16&n&&(o.target=t[4]),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function ZPe(e){let t,n,r,o,s,a,i,l,c=[],u=new Map;r=new Rx({props:{text:e[5]("type_of_relationship_with_table"),$$slots:{default:[GPe,({slotName:e})=>({9:e}),({slotName:e})=>e?512:0]},$$scope:{ctx:e}}});let d=e[0];const $=e=>e[6];for(let p=0;p<d.length;p+=1){let t=YPe(e,d,p),n=$(t);u.set(n,c[p]=XPe(n,t))}return i=new wL({props:{field:e[2]}}),{c(){t=q("fieldset"),n=q("legend"),at(r.$$.fragment),o=U(),s=q("div");for(let e=0;e<c.length;e+=1)c[e].c();a=U(),at(i.$$.fragment),X(n,"class","svelte-1wcc8uw"),X(s,"class","options svelte-1wcc8uw"),X(t,"class","svelte-1wcc8uw")},m(e,u){H(e,t,u),F(t,n),it(r,n,null),F(t,o),F(t,s);for(let t=0;t<c.length;t+=1)c[t].m(s,null);H(e,a,u),it(i,e,u),l=!0},p(e,t){const n={};32&t&&(n.text=e[5]("type_of_relationship_with_table")),1552&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n),31&t&&(d=e[0],qe(),c=nt(c,t,$,1,e,d,u,s,et,XPe,null,YPe),Be());const o={};4&t&&(o.field=e[2]),i.$set(o)},i(e){if(!l){je(r.$$.fragment,e);for(let e=0;e<d.length;e+=1)je(c[e]);je(i.$$.fragment,e),l=!0}},o(e){Ue(r.$$.fragment,e);for(let t=0;t<c.length;t+=1)Ue(c[t]);Ue(i.$$.fragment,e),l=!1},d(e){e&&z(t),lt(r);for(let t=0;t<c.length;t+=1)c[t].d();e&&z(a),lt(i,e)}}}function JPe(e){let t,n;return t=new ML({props:{$$slots:{default:[ZPe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};1087&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function QPe(e,t,n){let r;y(e,no,(e=>n(5,r=e)));let{linkTypes:o}=t,{isSelfReferential:s}=t,{field:a}=t,{base:i}=t,{target:l}=t;return e.$$set=e=>{"linkTypes"in e&&n(0,o=e.linkTypes),"isSelfReferential"in e&&n(1,s=e.isSelfReferential),"field"in e&&n(2,a=e.field),"base"in e&&n(3,i=e.base),"target"in e&&n(4,l=e.target)},[o,s,a,i,l,r]}class eLe extends ut{constructor(e){super(),ct(this,e,QPe,JPe,f,{linkTypes:0,isSelfReferential:1,field:2,base:3,target:4})}}function tLe(e){let t,n,r=e[46]+"";return{c(){t=q("em"),n=j(r)},m(e,r){H(e,t,r),F(t,n)},p(e,t){32768&t[1]&&r!==(r=e[46]+"")&&Q(n,r)},d(e){e&&z(t)}}}function nLe(e){let t,n="italic"===e[45]&&tLe(e);return{c(){n&&n.c(),t=W()},m(e,r){n&&n.m(e,r),H(e,t,r)},p(e,r){"italic"===e[45]?n?n.p(e,r):(n=tLe(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&z(t)}}}function rLe(e){let t,n;return t=new Rx({props:{text:e[13]("create_reference_help_info_2"),$$slots:{default:[nLe,({slotName:e,translatedArg:t})=>({45:e,46:t}),({slotName:e,translatedArg:t})=>[0,(e?16384:0)|(t?32768:0)]]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8192&n[0]&&(r.text=e[13]("create_reference_help_info_2")),114688&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function oLe(e){let t,n;return t=new rQ({props:{$$slots:{default:[rLe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8192&n[0]|65536&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function sLe(e){let t,n;return t=new iPe({props:{table:e[0],which:"base"}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.table=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function aLe(e){let t,n,r="tablePill"===e[45]&&sLe(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"tablePill"===e[45]?r?(r.p(e,n),16384&n[1]&&je(r,1)):(r=sLe(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function iLe(e){let t,n,r;return n=new Rx({props:{text:e[13]("create_relationship_between"),$$slots:{default:[aLe,({slotName:e})=>({45:e}),({slotName:e})=>[0,e?16384:0]]},$$scope:{ctx:e}}}),{c(){t=q("span"),at(n.$$.fragment),X(t,"slot","label")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};8192&t[0]&&(r.text=e[13]("create_relationship_between")),1&t[0]|81920&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function lLe(e){let t,n,r,o;return t=new eLe({props:{field:e[8],isSelfReferential:e[11],linkTypes:e[20],base:e[0],target:e[2]}}),r=new ML({props:{$$slots:{default:[DLe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,s){it(t,e,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){const o={};256&n[0]&&(o.field=e[8]),2048&n[0]&&(o.isSelfReferential=e[11]),1048576&n[0]&&(o.linkTypes=e[20]),1&n[0]&&(o.base=e[0]),4&n[0]&&(o.target=e[2]),t.$set(o);const s={};8453373&n[0]|65536&n[1]&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function cLe(e){let t,n=So(e[12])+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){4096&r[0]&&n!==(n=So(e[12])+"")&&Q(t,n)},i:a,o:a,d(e){e&&z(t)}}}function uLe(e){let t,n,r,o;const s=[mLe,pLe],a=[];function i(e,t){return e[11]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function dLe(e){let t,n;return t=new yPe({props:{base:e[0],target:e[2],baseWhich:"target",targetWhich:"base",field:e[6]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.base=e[0]),4&n[0]&&(r.target=e[2]),64&n[0]&&(r.field=e[6]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function $Le(e){let t,n;return t=new yPe({props:{base:e[2],baseWhich:"base",target:e[0],targetWhich:"target",field:e[7],targetColumnsAreLoading:e[10]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4&n[0]&&(r.base=e[2]),1&n[0]&&(r.target=e[0]),128&n[0]&&(r.field=e[7]),1024&n[0]&&(r.targetColumnsAreLoading=e[10]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function pLe(e){let t,n,r,o,s;function a(t){e[39](t)}let i={triggerAppearance:"ghost",$$slots:{content:[yLe],header:[hLe]},$$scope:{ctx:e}};void 0!==e[14]&&(i.isOpen=e[14]),t=new om({props:i}),Ce.push((()=>st(t,"isOpen",a)));let l=e[23]&&bLe(e);return{c(){at(t.$$.fragment),r=U(),l&&l.c(),o=W()},m(e,n){it(t,e,n),H(e,r,n),l&&l.m(e,n),H(e,o,n),s=!0},p(e,r){const s={};8396832&r[0]|65536&r[1]&&(s.$$scope={dirty:r,ctx:e}),!n&&16384&r[0]&&(n=!0,s.isOpen=e[14],Oe((()=>n=!1))),t.$set(s),e[23]?l?(l.p(e,r),8388608&r[0]&&je(l,1)):(l=bLe(e),l.c(),je(l,1),l.m(o.parentNode,o)):l&&(qe(),Ue(l,1,1,(()=>{l=null})),Be())},i(e){s||(je(t.$$.fragment,e),je(l),s=!0)},o(e){Ue(t.$$.fragment,e),Ue(l),s=!1},d(e){lt(t,e),e&&z(r),l&&l.d(e),e&&z(o)}}}function mLe(e){let t,n,r,o,s;function a(t){e[37](t)}let i={triggerAppearance:"ghost",$$slots:{content:[xLe],header:[_Le]},$$scope:{ctx:e}};void 0!==e[14]&&(i.isOpen=e[14]),t=new om({props:i}),Ce.push((()=>st(t,"isOpen",a)));let l=e[23]&&CLe(e);return{c(){at(t.$$.fragment),r=U(),l&&l.c(),o=W()},m(e,n){it(t,e,n),H(e,r,n),l&&l.m(e,n),H(e,o,n),s=!0},p(e,r){const s={};8396832&r[0]|65536&r[1]&&(s.$$scope={dirty:r,ctx:e}),!n&&16384&r[0]&&(n=!0,s.isOpen=e[14],Oe((()=>n=!1))),t.$set(s),e[23]?l?(l.p(e,r),8388608&r[0]&&je(l,1)):(l=CLe(e),l.c(),je(l,1),l.m(o.parentNode,o)):l&&(qe(),Ue(l,1,1,(()=>{l=null})),Be())},i(e){s||(je(t.$$.fragment,e),je(l),s=!0)},o(e){Ue(t.$$.fragment,e),Ue(l),s=!1},d(e){lt(t,e),e&&z(r),l&&l.d(e),e&&z(o)}}}function fLe(e){let t,n;return t=new iPe({props:{table:{name:e[23]},which:"mapping"}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8388608&n[0]&&(r.table={name:e[23]}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function gLe(e){let t,n,r="mappingTable"===e[45]&&fLe(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"mappingTable"===e[45]?r?(r.p(e,n),16384&n[1]&&je(r,1)):(r=fLe(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function hLe(e){let t,n;return t=new Rx({props:{text:e[13]("we_will_create_a_new_table"),$$slots:{default:[gLe,({slotName:e})=>({45:e}),({slotName:e})=>[0,e?16384:0]]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8192&n[0]&&(r.text=e[13]("we_will_create_a_new_table")),8388608&n[0]|81920&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function yLe(e){let t,n,r;return n=new WL({props:{field:e[5],label:e[13]("table_name")}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","collapsible-detail svelte-10ui87u")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};32&t[0]&&(r.field=e[5]),8192&t[0]&&(r.label=e[13]("table_name")),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function bLe(e){let t,n,r,o;return t=new yPe({props:{base:{name:e[23]},baseWhich:"mapping",target:e[0],targetWhich:"base",field:e[4]}}),r=new yPe({props:{base:{name:e[23]},baseWhich:"mapping",target:e[2],field:e[3]}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,s){it(t,e,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){const o={};8388608&n[0]&&(o.base={name:e[23]}),1&n[0]&&(o.target=e[0]),16&n[0]&&(o.field=e[4]),t.$set(o);const s={};8388608&n[0]&&(s.base={name:e[23]}),4&n[0]&&(s.target=e[2]),8&n[0]&&(s.field=e[3]),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function vLe(e){let t,n;return t=new iPe({props:{table:{name:e[23]},which:"mapping"}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8388608&n[0]&&(r.table={name:e[23]}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function wLe(e){let t,n,r="mappingTable"===e[45]&&vLe(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"mappingTable"===e[45]?r?(r.p(e,n),16384&n[1]&&je(r,1)):(r=vLe(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function _Le(e){let t,n;return t=new Rx({props:{text:e[13]("we_will_create_a_new_table"),$$slots:{default:[wLe,({slotName:e})=>({45:e}),({slotName:e})=>[0,e?16384:0]]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8192&n[0]&&(r.text=e[13]("we_will_create_a_new_table")),8388608&n[0]|81920&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function xLe(e){let t,n,r;return n=new WL({props:{field:e[5],label:e[13]("table_name")}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","collapsible-detail svelte-10ui87u")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};32&t[0]&&(r.field=e[5]),8192&t[0]&&(r.label=e[13]("table_name")),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function CLe(e){let t,n,r;function o(t){e[38](t)}let s={triggerAppearance:"ghost",$$slots:{content:[TLe],header:[ILe]},$$scope:{ctx:e}};return void 0!==e[15]&&(s.isOpen=e[15]),t=new om({props:s}),Ce.push((()=>st(t,"isOpen",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};8396828&r[0]|65536&r[1]&&(o.$$scope={dirty:r,ctx:e}),!n&&32768&r[0]&&(n=!0,o.isOpen=e[15],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function SLe(e){let t,n;return t=new iPe({props:{table:e[2],which:"target"}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4&n[0]&&(r.table=e[2]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function kLe(e){let t,n;return t=new iPe({props:{table:{name:e[23]},which:"mapping"}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8388608&n[0]&&(r.table={name:e[23]}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function MLe(e){let t,n,r,o;const s=[kLe,SLe],a=[];function i(e,t){return"mappingTable"===e[45]?0:"targetTable"===e[45]?1:-1}return~(t=i(e))&&(n=a[t]=s[t](e)),{c(){n&&n.c(),r=W()},m(e,n){~t&&a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?~t&&a[t].p(e,o):(n&&(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be()),~t?(n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){~t&&a[t].d(e),e&&z(r)}}}function ILe(e){let t,n;return t=new Rx({props:{text:e[13]("we_will_add_two_columns_in_x_to_y"),$$slots:{default:[MLe,({slotName:e})=>({45:e}),({slotName:e})=>[0,e?16384:0]]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8192&n[0]&&(r.text=e[13]("we_will_add_two_columns_in_x_to_y")),8388612&n[0]|81920&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function TLe(e){let t,n,r,o,s;return n=new WL({props:{field:e[4],label:e[13]("column_number_name",{values:{number:1}})}}),o=new WL({props:{field:e[3],label:e[13]("column_number_name",{values:{number:2}})}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),at(o.$$.fragment),X(t,"class","collapsible-detail svelte-10ui87u")},m(e,a){H(e,t,a),it(n,t,null),F(t,r),it(o,t,null),s=!0},p(e,t){const r={};16&t[0]&&(r.field=e[4]),8192&t[0]&&(r.label=e[13]("column_number_name",{values:{number:1}})),n.$set(r);const s={};8&t[0]&&(s.field=e[3]),8192&t[0]&&(s.label=e[13]("column_number_name",{values:{number:2}})),o.$set(s)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(n),lt(o)}}}function ELe(e){let t,n,r,o;const s=[$Le,dLe,uLe,cLe],a=[];function i(e,t){return"oneToMany"===e[12]?0:"manyToOne"===e[12]?1:"manyToMany"===e[12]?2:3}return n=i(e),r=a[n]=s[n](e),{c(){t=q("div"),r.c(),X(t,"class","collapsible-sections svelte-10ui87u")},m(e,r){H(e,t,r),a[n].m(t,null),o=!0},p(e,o){let l=n;n=i(e),n===l?a[n].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),r=a[n],r?r.p(e,o):(r=a[n]=s[n](e),r.c()),je(r,1),r.m(t,null))},i(e){o||(je(r),o=!0)},o(e){Ue(r),o=!1},d(e){e&&z(t),a[n].d()}}}function DLe(e){let t,n;return t=new UOe({props:{$$slots:{default:[ELe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8453373&n[0]|65536&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function OLe(e){let t,n,r,o,s,a,i,l,c,u,d;n=new ML({props:{$$slots:{default:[oLe]},$$scope:{ctx:e}}}),o=new WL({props:{field:e[9],input:{component:Bce,props:{tables:e[22],autoSelect:"none"}},$$slots:{label:[iLe]},$$scope:{ctx:e}}});let $=e[2]&&lLe(e);return l=new QL({props:{form:e[16],catchErrors:!0,canProceed:e[17],onCancel:e[1],proceedButton:{label:e[13]("create_relationship"),icon:YC},onProceed:e[25]}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),at(o.$$.fragment),s=U(),$&&$.c(),a=U(),i=q("div"),at(l.$$.fragment),X(t,"class","form svelte-10ui87u"),se(t,"self-referential",e[11])},m(e,p){H(e,t,p),it(n,t,null),F(t,r),it(o,t,null),F(t,s),$&&$.m(t,null),H(e,a,p),H(e,i,p),it(l,i,null),c=!0,u||(d=T(ux.call(null,i)),u=!0)},p(e,r){const s={};8192&r[0]|65536&r[1]&&(s.$$scope={dirty:r,ctx:e}),n.$set(s);const a={};512&r[0]&&(a.field=e[9]),4194304&r[0]&&(a.input={component:Bce,props:{tables:e[22],autoSelect:"none"}}),8193&r[0]|65536&r[1]&&(a.$$scope={dirty:r,ctx:e}),o.$set(a),e[2]?$?($.p(e,r),4&r[0]&&je($,1)):($=lLe(e),$.c(),je($,1),$.m(t,null)):$&&(qe(),Ue($,1,1,(()=>{$=null})),Be()),(!c||2048&r[0])&&se(t,"self-referential",e[11]);const i={};65536&r[0]&&(i.form=e[16]),131072&r[0]&&(i.canProceed=e[17]),2&r[0]&&(i.onCancel=e[1]),8192&r[0]&&(i.proceedButton={label:e[13]("create_relationship"),icon:YC}),l.$set(i)},i(e){c||(je(n.$$.fragment,e),je(o.$$.fragment,e),je($),je(l.$$.fragment,e),c=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),Ue($),Ue(l.$$.fragment,e),c=!1},d(e){e&&z(t),lt(n),lt(o),$&&$.d(),e&&z(a),e&&z(i),lt(l),u=!1,d()}}}function NLe(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,b,v,w,_,x,C,S,k,M,I,T,E,D,O,N,A,R,F,P,L,H,z,V=a,q=a,B=a,j=a,U=a,W=a,Y=a,K=a,G=a,X=a;y(e,no,(e=>n(13,N=e))),y(e,kH,(e=>n(30,A=e))),y(e,CH,(e=>n(31,R=e))),y(e,SH,(e=>n(36,z=e))),e.$$.on_destroy.push((()=>V())),e.$$.on_destroy.push((()=>q())),e.$$.on_destroy.push((()=>B())),e.$$.on_destroy.push((()=>j())),e.$$.on_destroy.push((()=>U())),e.$$.on_destroy.push((()=>W())),e.$$.on_destroy.push((()=>Y())),e.$$.on_destroy.push((()=>K())),e.$$.on_destroy.push((()=>G())),e.$$.on_destroy.push((()=>X()));const Z=Dz();y(e,Z,(e=>n(29,O=e)));let{base:J}=t,{close:Q}=t;let ee=!1,te=!1;return e.$$set=e=>{"base"in e&&n(0,J=e.base),"close"in e&&n(1,Q=e.close)},e.$$.update=()=>{1&e.$$.dirty[0]&&n(26,r=DE(J.name)),32&e.$$.dirty[1]&&n(22,o=[...z.values()]),536870912&e.$$.dirty[0]&&n(28,({columnsDataStore:s}=O),s),268435456&e.$$.dirty[0]&&(n(21,i=s.columns),K(),K=g(i,(e=>n(33,P=e)))),16&e.$$.dirty[1]&&n(2,c=H),5&e.$$.dirty[0]&&n(11,u=J.oid===c?.oid),2048&e.$$.dirty[0]&&n(20,d=u?["manyToOne","manyToMany"]:["manyToOne","oneToMany","manyToMany"]),256&e.$$.dirty[0]|16&e.$$.dirty[1]&&$.reset(),4&e.$$.dirty[0]&&n(27,p=c?new wT({database:c.schema.database,table:c}):void 0),134217728&e.$$.dirty[0]&&(n(19,m=Fo(p?.columns??[])),Y(),Y=g(m,(e=>n(32,F=e)))),134217728&e.$$.dirty[0]&&(n(18,f=Fo(p?.fetchStatus)),G(),G=g(f,(e=>n(34,L=e)))),8&e.$$.dirty[1]&&n(10,h="processing"===L?.state),4&e.$$.dirty[0]|4&e.$$.dirty[1]&&(n(6,b=oH(NV(c,P),[AV(P)])),U(),U=g(b,(e=>n(42,E=e)))),1&e.$$.dirty[0]|2&e.$$.dirty[1]&&(n(7,v=oH(NV(J,F),[AV(F)])),W(),W=g(v,(e=>n(43,D=e)))),1073741829&e.$$.dirty[0]|1&e.$$.dirty[1]&&(n(5,w=oH(function(e,t,n){return t?OV(`${e.name}_${t.name}`,new Set(n.map((e=>e.name)))):""}(J,c,R),[A])),j(),j=g(w,(e=>n(23,T=e)))),67110913&e.$$.dirty[0]&&(n(4,_=oH(u?OV(`${r}_1`,new Set(["id",r])):NV(J),[lPe()])),B(),B=g(_,(e=>n(41,I=e)))),67110916&e.$$.dirty[0]&&(n(3,x=oH(u?OV(`${r}_2`,new Set(["id",r])):NV(c),[lPe()])),q(),q=g(x,(e=>n(40,M=e)))),5120&e.$$.dirty[0]&&n(17,C=!("manyToOne"===k&&h)),13304&e.$$.dirty[0]&&n(16,S=(()=>{const e={targetTable:l,linkType:$};return"oneToMany"===k?aH({...e,columnNameInTarget:v}):"manyToOne"===k?aH({...e,columnNameInBase:b}):"manyToMany"===k?aH({...e,mappingTableName:w,columnNameMappingToBase:_,columnNameMappingToTarget:x},[IP([_,x],(([e,t])=>e===t),N("two_columns_cannot_have_same_name"))]):So(k)})())},n(9,l=oH(void 0)),X(),X=g(l,(e=>n(35,H=e))),n(8,$=oH("manyToOne")),V(),V=g($,(e=>n(12,k=e))),[J,Q,c,x,_,w,b,v,$,l,h,u,k,N,ee,te,S,C,f,m,d,i,o,T,Z,async function(e){try{"oneToMany"===k?await PM.data_modeling.add_foreign_key_column({database_id:J.schema.database.id,referrer_table_oid:e.targetTable.oid,referent_table_oid:J.oid,column_name:D}).run():"manyToOne"===k?await PM.data_modeling.add_foreign_key_column({database_id:J.schema.database.id,referrer_table_oid:J.oid,referent_table_oid:e.targetTable.oid,column_name:E}).run():"manyToMany"===k?await PM.data_modeling.add_mapping_table({database_id:J.schema.database.id,schema_oid:J.schema.oid,table_name:T,mapping_columns:[{referent_table_oid:J.oid,column_name:I},{referent_table_oid:e.targetTable.oid,column_name:M}]}).run():So(k),WS.success("The link has been created successfully"),await async function(){if("manyToMany"===k)return void(await fH());const e="oneToMany"===k?c:J;e&&e.oid===O.table.oid&&await O.refresh()}(),Q()}catch(Ln){WS.error(ck(Ln))}},r,p,s,O,A,R,F,P,L,H,z,function(e){ee=e,n(14,ee)},function(e){te=e,n(15,te)},function(e){ee=e,n(14,ee)}]}class ALe extends ut{constructor(e){super(),ct(this,e,NLe,OLe,f,{base:0,close:1},null,[-1,-1])}}function RLe(e){let t,n;return t=new dv({props:{controller:e[0],size:"large",$$slots:{title:[LLe],default:[FLe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.controller=e[0]),23&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function FLe(e){let t,n;return t=new ALe({props:{base:e[1],close:e[3]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.base=e[1]),1&n&&(r.close=e[3]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function PLe(e){let t,n,r,o,s=e[2]("references_help")+"";return r=new JP({props:{page:"relationships"}}),{c(){t=j(s),n=U(),at(r.$$.fragment)},m(e,s){H(e,t,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){(!o||4&n)&&s!==(s=e[2]("references_help")+"")&&Q(t,s)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(t),e&&z(n),lt(r,e)}}}function LLe(e){let t,n,r,o,s,a=e[2]("create_relationship")+"";return o=new H$({props:{$$slots:{default:[PLe]},$$scope:{ctx:e}}}),{c(){t=q("span"),n=j(a),r=U(),at(o.$$.fragment),X(t,"slot","title")},m(e,a){H(e,t,a),F(t,n),F(t,r),it(o,t,null),s=!0},p(e,t){(!s||4&t)&&a!==(a=e[2]("create_relationship")+"")&&Q(n,a);const r={};20&t&&(r.$$scope={dirty:t,ctx:e}),o.$set(r)},i(e){s||(je(o.$$.fragment,e),s=!0)},o(e){Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(o)}}}function HLe(e){let t,n,r=e[1]&&RLe(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,[n]){e[1]?r?(r.p(e,n),2&n&&je(r,1)):(r=RLe(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function zLe(e,t,n){let r,o;y(e,IH,(e=>n(1,r=e))),y(e,no,(e=>n(2,o=e)));let{controller:s}=t;return e.$$set=e=>{"controller"in e&&n(0,s=e.controller)},[s,r,o,()=>s.close()]}class VLe extends ut{constructor(e){super(),ct(this,e,zLe,HLe,f,{controller:0})}}const qLe=e=>({}),BLe=e=>({}),jLe=e=>({}),ULe=e=>({});function WLe(e){let t,n,r,o,s,a;const i=e[3]["table-name"],l=b(i,e,e[2],ULe),c=e[3].detail,u=b(c,e,e[2],BLe);return{c(){t=q("a"),n=q("div"),r=q("div"),l&&l.c(),o=U(),s=q("div"),u&&u.c(),X(r,"class","table-name svelte-lmlk2v"),X(s,"class","detail svelte-lmlk2v"),X(n,"class","container svelte-lmlk2v"),X(t,"class","passthrough link-card svelte-lmlk2v"),X(t,"href",e[1]),se(t,"multiple",e[0])},m(e,i){H(e,t,i),F(t,n),F(n,r),l&&l.m(r,null),F(n,o),F(n,s),u&&u.m(s,null),a=!0},p(e,[n]){l&&l.p&&(!a||4&n)&&_(l,i,e,e[2],a?w(i,e[2],n,jLe):x(e[2]),ULe),u&&u.p&&(!a||4&n)&&_(u,c,e,e[2],a?w(c,e[2],n,qLe):x(e[2]),BLe),(!a||2&n)&&X(t,"href",e[1]),(!a||1&n)&&se(t,"multiple",e[0])},i(e){a||(je(l,e),je(u,e),a=!0)},o(e){Ue(l,e),Ue(u,e),a=!1},d(e){e&&z(t),l&&l.d(e),u&&u.d(e)}}}function YLe(e,t,n){let{$$slots:r={},$$scope:o}=t,{displayAsMultiple:s=!1}=t,{href:a}=t;return e.$$set=e=>{"displayAsMultiple"in e&&n(0,s=e.displayAsMultiple),"href"in e&&n(1,a=e.href),"$$scope"in e&&n(2,o=e.$$scope)},[s,a,o,r]}class KLe extends ut{constructor(e){super(),ct(this,e,YLe,WLe,f,{displayAsMultiple:0,href:1})}}function GLe(e){let t,n;return t=new KLe({props:{href:e[3],$$slots:{detail:[QLe],"table-name":[XLe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.href=e[3]),151&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function XLe(e){let t,n;return t=new HI({props:{slot:"table-name",table:e[0],truncate:!1}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.table=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function ZLe(e){let t,n,r,o,s,a;return t=new HI({props:{table:e[1],truncate:!1}}),r=new fQ({}),s=new HV({props:{column:{name:e[2].name,type:"",type_options:null,constraintsType:["foreignkey"],metadata:null},truncate:!1}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),at(s.$$.fragment)},m(e,i){it(t,e,i),H(e,n,i),it(r,e,i),H(e,o,i),it(s,e,i),a=!0},p(e,n){const r={};2&n&&(r.table=e[1]),t.$set(r);const o={};4&n&&(o.column={name:e[2].name,type:"",type_options:null,constraintsType:["foreignkey"],metadata:null}),s.$set(o)},i(e){a||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),a=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),a=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),lt(s,e)}}}function JLe(e){let t,n,r="reference"===e[6]&&ZLe(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"reference"===e[6]?r?(r.p(e,n),64&n&&je(r,1)):(r=ZLe(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function QLe(e){let t,n;return t=new Rx({props:{text:e[4]("referenced_via_reference"),$$slots:{default:[JLe,({slotName:e})=>({6:e}),({slotName:e})=>e?64:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.text=e[4]("referenced_via_reference")),198&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function eHe(e){let t,n,r=e[3]&&GLe(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,[n]){e[3]?r?(r.p(e,n),8&n&&je(r,1)):(r=GLe(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function tHe(e,t,n){let r,o,s;y(e,DH,(e=>n(5,o=e))),y(e,no,(e=>n(4,s=e)));let{referentTable:a}=t,{referencingTable:i}=t,{referencingColumn:l}=t;return e.$$set=e=>{"referentTable"in e&&n(0,a=e.referentTable),"referencingTable"in e&&n(1,i=e.referencingTable),"referencingColumn"in e&&n(2,l=e.referencingColumn)},e.$$.update=()=>{33&e.$$.dirty&&n(3,r=o({tableId:a.oid}))},[a,i,l,r,s,o]}class nHe extends ut{constructor(e){super(),ct(this,e,tHe,eHe,f,{referentTable:0,referencingTable:1,referencingColumn:2})}}function rHe(e){let t,n;return t=new KLe({props:{href:e[3],displayAsMultiple:!0,$$slots:{detail:[lHe],"table-name":[oHe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.href=e[3]),151&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function oHe(e){let t,n;return t=new HI({props:{slot:"table-name",table:e[1],truncate:!1}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.table=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function sHe(e){let t,n;return t=new HI({props:{table:e[0],truncate:!1}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.table=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function aHe(e){let t,n,r,o;return t=new fQ({}),r=new HV({props:{column:{name:e[2].name,type:"",type_options:null,metadata:null,constraintsType:["foreignkey"]},truncate:!1}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,s){it(t,e,s),H(e,n,s),it(r,e,s),o=!0},p(e,t){const n={};4&t&&(n.column={name:e[2].name,type:"",type_options:null,metadata:null,constraintsType:["foreignkey"]}),r.$set(n)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function iHe(e){let t,n,r,o;const s=[aHe,sHe],a=[];function i(e,t){return"reference"===e[6]?0:"referent"===e[6]?1:-1}return~(t=i(e))&&(n=a[t]=s[t](e)),{c(){n&&n.c(),r=W()},m(e,n){~t&&a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?~t&&a[t].p(e,o):(n&&(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be()),~t?(n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){~t&&a[t].d(e),e&&z(r)}}}function lHe(e){let t,n;return t=new Rx({props:{text:e[4]("reference_references_referent"),$$slots:{default:[iHe,({slotName:e})=>({6:e}),({slotName:e})=>e?64:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.text=e[4]("reference_references_referent")),197&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function cHe(e){let t,n,r=e[3]&&rHe(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,[n]){e[3]?r?(r.p(e,n),8&n&&je(r,1)):(r=rHe(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function uHe(e,t,n){let r,o,s;y(e,DH,(e=>n(5,o=e))),y(e,no,(e=>n(4,s=e)));let{referentTable:a}=t,{referencingTable:i}=t,{referencingColumn:l}=t;return e.$$set=e=>{"referentTable"in e&&n(0,a=e.referentTable),"referencingTable"in e&&n(1,i=e.referencingTable),"referencingColumn"in e&&n(2,l=e.referencingColumn)},e.$$.update=()=>{34&e.$$.dirty&&n(3,r=o({tableId:i.oid}))},[a,i,l,r,s,o]}class dHe extends ut{constructor(e){super(),ct(this,e,uHe,cHe,f,{referentTable:0,referencingTable:1,referencingColumn:2})}}function $He(e,t,n){const r=e.slice();return r[9]=t[n],r}function pHe(e,t,n){const r=e.slice();return r[9]=t[n],r}function mHe(e){let t,n,r,o,s,a,i,c,u,d;const $=[eS];let p={};for(let h=0;h<$.length;h+=1)p=l(p,$[h]);r=new Jd({props:p}),s=new Rx({props:{text:e[4]("references_in_this_table"),$$slots:{default:[gHe,({slotName:e,translatedArg:t})=>({12:e,13:t}),({slotName:e,translatedArg:t})=>(e?4096:0)|(t?8192:0)]},$$scope:{ctx:e}}}),i=new H$({props:{$$slots:{default:[vHe]},$$scope:{ctx:e}}});let m=e[2],f=[];for(let l=0;l<m.length;l+=1)f[l]=wHe(pHe(e,m,l));const g=e=>Ue(f[e],1,1,(()=>{f[e]=null}));return{c(){t=q("div"),n=q("div"),at(r.$$.fragment),o=U(),at(s.$$.fragment),a=U(),at(i.$$.fragment),c=U(),u=q("div");for(let e=0;e<f.length;e+=1)f[e].c();X(n,"class","header svelte-17ieckw"),X(u,"class","links svelte-17ieckw")},m(e,l){H(e,t,l),F(t,n),it(r,n,null),F(n,o),it(s,n,null),F(n,a),it(i,n,null),F(t,c),F(t,u);for(let t=0;t<f.length;t+=1)f[t].m(u,null);d=!0},p(e,t){const n=0&t?rt($,[ot(eS)]):{};r.$set(n);const o={};16&t&&(o.text=e[4]("references_in_this_table")),77824&t&&(o.$$scope={dirty:t,ctx:e}),s.$set(o);const a={};if(65553&t&&(a.$$scope={dirty:t,ctx:e}),i.$set(a),5&t){let n;for(m=e[2],n=0;n<m.length;n+=1){const r=pHe(e,m,n);f[n]?(f[n].p(r,t),je(f[n],1)):(f[n]=wHe(r),f[n].c(),je(f[n],1),f[n].m(u,null))}for(qe(),n=m.length;n<f.length;n+=1)g(n);Be()}},i(e){if(!d){je(r.$$.fragment,e),je(s.$$.fragment,e),je(i.$$.fragment,e);for(let e=0;e<m.length;e+=1)je(f[e]);d=!0}},o(e){Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),Ue(i.$$.fragment,e),f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)Ue(f[t]);d=!1},d(e){e&&z(t),lt(r),lt(s),lt(i),V(f,e)}}}function fHe(e){let t,n,r=e[13]+"";return{c(){t=q("strong"),n=j(r)},m(e,r){H(e,t,r),F(t,n)},p(e,t){8192&t&&r!==(r=e[13]+"")&&Q(n,r)},d(e){e&&z(t)}}}function gHe(e){let t,n="bold"===e[12]&&fHe(e);return{c(){n&&n.c(),t=W()},m(e,r){n&&n.m(e,r),H(e,t,r)},p(e,r){"bold"===e[12]?n?n.p(e,r):(n=fHe(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&z(t)}}}function hHe(e){let t,n,r=e[13]+"";return{c(){t=q("strong"),n=j(r)},m(e,r){H(e,t,r),F(t,n)},p(e,t){8192&t&&r!==(r=e[13]+"")&&Q(n,r)},i:a,o:a,d(e){e&&z(t)}}}function yHe(e){let t,n;return t=new HI({props:{table:e[0],truncate:!1}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.table=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function bHe(e){let t,n,r,o;const s=[yHe,hHe],a=[];function i(e,t){return"tableName"===e[12]?0:"bold"===e[12]?1:-1}return~(t=i(e))&&(n=a[t]=s[t](e)),{c(){n&&n.c(),r=W()},m(e,n){~t&&a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?~t&&a[t].p(e,o):(n&&(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be()),~t?(n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){~t&&a[t].d(e),e&&z(r)}}}function vHe(e){let t,n;return t=new Rx({props:{text:e[4]("table_can_have_one"),$$slots:{default:[bHe,({slotName:e,translatedArg:t})=>({12:e,13:t}),({slotName:e,translatedArg:t})=>(e?4096:0)|(t?8192:0)]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.text=e[4]("table_can_have_one")),77825&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function wHe(e){let t,n;return t=new nHe({props:{referentTable:e[9].table,referencingTable:e[0],referencingColumn:e[9].column}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.referentTable=e[9].table),1&n&&(r.referencingTable=e[0]),4&n&&(r.referencingColumn=e[9].column),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function _He(e){let t,n,r,o,s,a,i,c,u,d;const $=[tS];let p={};for(let h=0;h<$.length;h+=1)p=l(p,$[h]);r=new Jd({props:p}),s=new Rx({props:{text:e[4]("references_to_this_table"),$$slots:{default:[CHe,({slotName:e,translatedArg:t})=>({12:e,13:t}),({slotName:e,translatedArg:t})=>(e?4096:0)|(t?8192:0)]},$$scope:{ctx:e}}}),i=new H$({props:{$$slots:{default:[IHe]},$$scope:{ctx:e}}});let m=e[1],f=[];for(let l=0;l<m.length;l+=1)f[l]=THe($He(e,m,l));const g=e=>Ue(f[e],1,1,(()=>{f[e]=null}));return{c(){t=q("div"),n=q("div"),at(r.$$.fragment),o=U(),at(s.$$.fragment),a=U(),at(i.$$.fragment),c=U(),u=q("div");for(let e=0;e<f.length;e+=1)f[e].c();X(n,"class","header svelte-17ieckw"),X(u,"class","links svelte-17ieckw")},m(e,l){H(e,t,l),F(t,n),it(r,n,null),F(n,o),it(s,n,null),F(n,a),it(i,n,null),F(t,c),F(t,u);for(let t=0;t<f.length;t+=1)f[t].m(u,null);d=!0},p(e,t){const n=0&t?rt($,[ot(tS)]):{};r.$set(n);const o={};16&t&&(o.text=e[4]("references_to_this_table")),77824&t&&(o.$$scope={dirty:t,ctx:e}),s.$set(o);const a={};if(65553&t&&(a.$$scope={dirty:t,ctx:e}),i.$set(a),3&t){let n;for(m=e[1],n=0;n<m.length;n+=1){const r=$He(e,m,n);f[n]?(f[n].p(r,t),je(f[n],1)):(f[n]=THe(r),f[n].c(),je(f[n],1),f[n].m(u,null))}for(qe(),n=m.length;n<f.length;n+=1)g(n);Be()}},i(e){if(!d){je(r.$$.fragment,e),je(s.$$.fragment,e),je(i.$$.fragment,e);for(let e=0;e<m.length;e+=1)je(f[e]);d=!0}},o(e){Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),Ue(i.$$.fragment,e),f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)Ue(f[t]);d=!1},d(e){e&&z(t),lt(r),lt(s),lt(i),V(f,e)}}}function xHe(e){let t,n,r=e[13]+"";return{c(){t=q("strong"),n=j(r)},m(e,r){H(e,t,r),F(t,n)},p(e,t){8192&t&&r!==(r=e[13]+"")&&Q(n,r)},d(e){e&&z(t)}}}function CHe(e){let t,n="bold"===e[12]&&xHe(e);return{c(){n&&n.c(),t=W()},m(e,r){n&&n.m(e,r),H(e,t,r)},p(e,r){"bold"===e[12]?n?n.p(e,r):(n=xHe(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&z(t)}}}function SHe(e){let t,n,r=e[13]+"";return{c(){t=q("strong"),n=j(r)},m(e,r){H(e,t,r),F(t,n)},p(e,t){8192&t&&r!==(r=e[13]+"")&&Q(n,r)},i:a,o:a,d(e){e&&z(t)}}}function kHe(e){let t,n;return t=new HI({props:{table:e[0],truncate:!1}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.table=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function MHe(e){let t,n,r,o;const s=[kHe,SHe],a=[];function i(e,t){return"tableName"===e[12]?0:"bold"===e[12]?1:-1}return~(t=i(e))&&(n=a[t]=s[t](e)),{c(){n&&n.c(),r=W()},m(e,n){~t&&a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?~t&&a[t].p(e,o):(n&&(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be()),~t?(n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){~t&&a[t].d(e),e&&z(r)}}}function IHe(e){let t,n;return t=new Rx({props:{text:e[4]("table_can_have_many"),$$slots:{default:[MHe,({slotName:e,translatedArg:t})=>({12:e,13:t}),({slotName:e,translatedArg:t})=>(e?4096:0)|(t?8192:0)]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.text=e[4]("table_can_have_many")),77825&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function THe(e){let t,n;return t=new dHe({props:{referencingTable:e[9].table,referencingColumn:e[9].column,referentTable:e[0]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.referencingTable=e[9].table),2&n&&(r.referencingColumn=e[9].column),1&n&&(r.referentTable=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function EHe(e){let t,n,r=e[4]("table_does_not_link")+"";return{c(){t=q("span"),n=j(r),X(t,"class","null-text svelte-17ieckw")},m(e,r){H(e,t,r),F(t,n)},p(e,t){16&t&&r!==(r=e[4]("table_does_not_link")+"")&&Q(n,r)},d(e){e&&z(t)}}}function DHe(e){let t,n,r,o,s,a=e[4]("create_relationship")+"";const i=[jx];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return t=new Jd({props:c}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(a)},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),F(r,o),s=!0},p(e,n){const r=0&n?rt(i,[ot(jx)]):{};t.$set(r),(!s||16&n)&&a!==(a=e[4]("create_relationship")+"")&&Q(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function OHe(e){let t,n,r,o,s,a,i,l,c,u=e[2].length&&mHe(e),d=e[1].length&&_He(e),$=e[3]&&EHe(e);return a=new Hu({props:{appearance:"secondary",size:"small",$$slots:{default:[DHe]},$$scope:{ctx:e}}}),a.$on("click",e[8]),l=new VLe({props:{controller:e[5]}}),{c(){t=q("div"),u&&u.c(),n=U(),d&&d.c(),r=U(),$&&$.c(),o=U(),s=q("div"),at(a.$$.fragment),i=U(),at(l.$$.fragment),X(t,"class","links-content svelte-17ieckw")},m(e,p){H(e,t,p),u&&u.m(t,null),F(t,n),d&&d.m(t,null),F(t,r),$&&$.m(t,null),F(t,o),F(t,s),it(a,s,null),F(s,i),it(l,s,null),c=!0},p(e,[s]){e[2].length?u?(u.p(e,s),4&s&&je(u,1)):(u=mHe(e),u.c(),je(u,1),u.m(t,n)):u&&(qe(),Ue(u,1,1,(()=>{u=null})),Be()),e[1].length?d?(d.p(e,s),2&s&&je(d,1)):(d=_He(e),d.c(),je(d,1),d.m(t,r)):d&&(qe(),Ue(d,1,1,(()=>{d=null})),Be()),e[3]?$?$.p(e,s):($=EHe(e),$.c(),$.m(t,o)):$&&($.d(1),$=null);const i={};65552&s&&(i.$$scope={dirty:s,ctx:e}),a.$set(i)},i(e){c||(je(u),je(d),je(a.$$.fragment,e),je(l.$$.fragment,e),c=!0)},o(e){Ue(u),Ue(d),Ue(a.$$.fragment,e),Ue(l.$$.fragment,e),c=!1},d(e){e&&z(t),u&&u.d(),d&&d.d(),$&&$.d(),lt(a),lt(l)}}}function NHe(e,t,n){let r,o,s,a;y(e,no,(e=>n(4,a=e)));const i=US.spawnModalController();let{table:l}=t,{joinableTablesResult:c}=t,{currentTableColumns:u}=t;return e.$$set=e=>{"table"in e&&n(0,l=e.table),"joinableTablesResult"in e&&n(6,c=e.joinableTablesResult),"currentTableColumns"in e&&n(7,u=e.currentTableColumns)},e.$$.update=()=>{192&e.$$.dirty&&n(2,r=[...RM(c,new Map([...u.entries()].map((([e,t])=>[e,t.column]))))]),64&e.$$.dirty&&n(1,o=[...FM(c)]),6&e.$$.dirty&&n(3,s=!r.length&&!o.length)},[l,o,r,s,a,i,c,u,()=>i.open()]}class AHe extends ut{constructor(e){super(),ct(this,e,NHe,OHe,f,{table:0,joinableTablesResult:6,currentTableColumns:7})}}function RHe(e){let t,n;return t=new HP({props:{$$slots:{default:[FHe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};257&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function FHe(e){let t,n=ck(e[7])+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){1&r&&n!==(n=ck(e[7])+"")&&Q(t,n)},d(e){e&&z(t)}}}function PHe(e){let t,n;return t=new AHe({props:{table:e[0],currentTableColumns:e[2],joinableTablesResult:e[6]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.table=e[0]),4&n&&(r.currentTableColumns=e[2]),1&n&&(r.joinableTablesResult=e[6]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function LHe(e){let t,n;return t=new t$({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function HHe(e){let t,n,r,o={ctx:e,current:null,token:null,hasCatch:!0,pending:LHe,then:PHe,catch:RHe,value:6,error:7,blocks:[,,,]};return Xe(n=e[4](e[0].schema.database.id,e[0].oid),o),{c(){t=q("div"),o.block.c()},m(e,n){H(e,t,n),o.block.m(t,o.anchor=null),o.mount=()=>t,o.anchor=null,r=!0},p(t,[r]){e=t,o.ctx=e,1&r&&n!==(n=e[4](e[0].schema.database.id,e[0].oid))&&Xe(n,o)||Ze(o,e,r)},i(e){r||(je(o.block),r=!0)},o(e){for(let t=0;t<3;t+=1){Ue(o.blocks[t])}r=!1},d(e){e&&z(t),o.block.d(),o.token=null,o=null}}}function zHe(e,t,n){let r,o,s,i,l=a;e.$$.on_destroy.push((()=>l()));const c=Dz();return y(e,c,(e=>n(5,s=e))),e.$$.update=()=>{32&e.$$.dirty&&(n(1,r=s.processedColumns),l(),l=g(r,(e=>n(2,i=e)))),32&e.$$.dirty&&n(0,o=s.table)},[o,r,i,c,function(e,t){return PM.tables.list_joinable({database_id:e,table_oid:t,max_depth:1}).run()},s]}class VHe extends ut{constructor(e){super(),ct(this,e,zHe,HHe,f,{})}}function qHe(e){let t,n=e[11]("open_table_in_data_explorer")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){2048&r&&n!==(n=e[11]("open_table_in_data_explorer")+"")&&Q(t,n)},d(e){e&&z(t)}}}function BHe(e){let t,n,r,o,s,a,i,c,u,d,$,p=e[11]("explore_data")+"";const m=[DC];let f={};for(let y=0;y<m.length;y+=1)f=l(f,m[y]);r=new Jd({props:f}),c=new H$({props:{$$slots:{default:[qHe]},$$scope:{ctx:e}}});const g=[Od];let h={};for(let y=0;y<g.length;y+=1)h=l(h,g[y]);return d=new Jd({props:h}),{c(){t=q("div"),n=q("div"),at(r.$$.fragment),o=U(),s=q("span"),a=j(p),i=U(),at(c.$$.fragment),u=U(),at(d.$$.fragment),X(t,"class","action-item svelte-lo2o6r")},m(e,l){H(e,t,l),F(t,n),it(r,n,null),F(n,o),F(n,s),F(s,a),F(n,i),it(c,n,null),F(t,u),it(d,t,null),$=!0},p(e,t){const n=0&t?rt(m,[ot(DC)]):{};r.$set(n),(!$||2048&t)&&p!==(p=e[11]("explore_data")+"")&&Q(a,p);const o={};67110912&t&&(o.$$scope={dirty:t,ctx:e}),c.$set(o);const s=0&t?rt(g,[ot(Od)]):{};d.$set(s)},i(e){$||(je(r.$$.fragment,e),je(c.$$.fragment,e),je(d.$$.fragment,e),$=!0)},o(e){Ue(r.$$.fragment,e),Ue(c.$$.fragment,e),Ue(d.$$.fragment,e),$=!1},d(e){e&&z(t),lt(r),lt(c),lt(d)}}}function jHe(e){let t,n;return t=new Rc({props:{href:e[2],$$slots:{default:[WHe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.href=e[2]),67110912&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function UHe(e){let t,n=e[11]("summarize_in_data_explorer_help")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){2048&r&&n!==(n=e[11]("summarize_in_data_explorer_help")+"")&&Q(t,n)},d(e){e&&z(t)}}}function WHe(e){let t,n,r,o,s,a,i,c,u,d,$,p=e[11]("summarize_in_data_explorer")+"";const m=[DC];let f={};for(let y=0;y<m.length;y+=1)f=l(f,m[y]);r=new Jd({props:f}),c=new H$({props:{$$slots:{default:[UHe]},$$scope:{ctx:e}}});const g=[Od];let h={};for(let y=0;y<g.length;y+=1)h=l(h,g[y]);return d=new Jd({props:h}),{c(){t=q("div"),n=q("div"),at(r.$$.fragment),o=U(),s=q("span"),a=j(p),i=U(),at(c.$$.fragment),u=U(),at(d.$$.fragment),X(t,"class","action-item svelte-lo2o6r")},m(e,l){H(e,t,l),F(t,n),it(r,n,null),F(n,o),F(n,s),F(s,a),F(n,i),it(c,n,null),F(t,u),it(d,t,null),$=!0},p(e,t){const n=0&t?rt(m,[ot(DC)]):{};r.$set(n),(!$||2048&t)&&p!==(p=e[11]("summarize_in_data_explorer")+"")&&Q(a,p);const o={};67110912&t&&(o.$$scope={dirty:t,ctx:e}),c.$set(o);const s=0&t?rt(g,[ot(Od)]):{};d.$set(s)},i(e){$||(je(r.$$.fragment,e),je(c.$$.fragment,e),je(d.$$.fragment,e),$=!0)},o(e){Ue(r.$$.fragment,e),Ue(c.$$.fragment,e),Ue(d.$$.fragment,e),$=!1},d(e){e&&z(t),lt(r),lt(c),lt(d)}}}function YHe(e){let t,n,r,o,s,a=e[11]("import")+"";const i=[eC];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return t=new Jd({props:c}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(a)},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),F(r,o),s=!0},p(e,n){const r=0&n?rt(i,[ot(eC)]):{};t.$set(r),(!s||2048&n)&&a!==(a=e[11]("import")+"")&&Q(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function KHe(e){let t,n;return t=new Rc({props:{href:"/api/export/v0/tables/?"+e[3],appearance:"action","data-tinro-ignore":!0,"aria-label":e[11]("export"),download:e[0].name+".csv",$$slots:{default:[XHe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.href="/api/export/v0/tables/?"+e[3]),2048&n&&(r["aria-label"]=e[11]("export")),1&n&&(r.download=e[0].name+".csv"),67110913&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function GHe(e){let t,n=e[11]("export_table_as_csv_help",{values:{tableName:e[0].name}})+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){2049&r&&n!==(n=e[11]("export_table_as_csv_help",{values:{tableName:e[0].name}})+"")&&Q(t,n)},d(e){e&&z(t)}}}function XHe(e){let t,n,r,o,s,a,i,c,u,d=e[11]("export")+"";const $=[Qx];let p={};for(let m=0;m<$.length;m+=1)p=l(p,$[m]);return r=new Jd({props:p}),c=new H$({props:{$$slots:{default:[GHe]},$$scope:{ctx:e}}}),{c(){t=q("div"),n=q("div"),at(r.$$.fragment),o=U(),s=q("span"),a=j(d),i=U(),at(c.$$.fragment),X(t,"class","action-item svelte-lo2o6r")},m(e,l){H(e,t,l),F(t,n),it(r,n,null),F(n,o),F(n,s),F(s,a),F(n,i),it(c,n,null),u=!0},p(e,t){const n=0&t?rt($,[ot(Qx)]):{};r.$set(n),(!u||2048&t)&&d!==(d=e[11]("export")+"")&&Q(a,d);const o={};67110913&t&&(o.$$scope={dirty:t,ctx:e}),c.$set(o)},i(e){u||(je(r.$$.fragment,e),je(c.$$.fragment,e),u=!0)},o(e){Ue(r.$$.fragment,e),Ue(c.$$.fragment,e),u=!1},d(e){e&&z(t),lt(r),lt(c)}}}function ZHe(e){let t,n,r,o,s,a=e[11]("delete_table")+"";const i=[Kx];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return t=new Jd({props:c}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(a)},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),F(r,o),s=!0},p(e,n){const r=0&n?rt(i,[ot(Kx)]):{};t.$set(r),(!s||2048&n)&&a!==(a=e[11]("delete_table")+"")&&Q(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function JHe(e){let t,n,r,o,s,a,i,l,c;n=new Rc({props:{href:e[4],appearance:"action",$$slots:{default:[BHe]},$$scope:{ctx:e}}});let u=e[2]&&jHe(e);s=new Hu({props:{disabled:!e[12],appearance:"action",$$slots:{default:[YHe]},$$scope:{ctx:e}}}),s.$on("click",e[25]);let d=e[13]&&KHe(e);return l=new Hu({props:{appearance:"danger",disabled:!e[14],$$slots:{default:[ZHe]},$$scope:{ctx:e}}}),l.$on("click",e[17]),{c(){t=q("div"),at(n.$$.fragment),r=U(),u&&u.c(),o=U(),at(s.$$.fragment),a=U(),d&&d.c(),i=U(),at(l.$$.fragment),X(t,"class","actions-container svelte-lo2o6r")},m(e,$){H(e,t,$),it(n,t,null),F(t,r),u&&u.m(t,null),F(t,o),it(s,t,null),F(t,a),d&&d.m(t,null),F(t,i),it(l,t,null),c=!0},p(e,[r]){const a={};16&r&&(a.href=e[4]),67110912&r&&(a.$$scope={dirty:r,ctx:e}),n.$set(a),e[2]?u?(u.p(e,r),4&r&&je(u,1)):(u=jHe(e),u.c(),je(u,1),u.m(t,o)):u&&(qe(),Ue(u,1,1,(()=>{u=null})),Be());const c={};4096&r&&(c.disabled=!e[12]),67110912&r&&(c.$$scope={dirty:r,ctx:e}),s.$set(c),e[13]?d?(d.p(e,r),8192&r&&je(d,1)):(d=KHe(e),d.c(),je(d,1),d.m(t,i)):d&&(qe(),Ue(d,1,1,(()=>{d=null})),Be());const $={};16384&r&&($.disabled=!e[14]),67110912&r&&($.$$scope={dirty:r,ctx:e}),l.$set($)},i(e){c||(je(n.$$.fragment,e),je(u),je(s.$$.fragment,e),je(d),je(l.$$.fragment,e),c=!0)},o(e){Ue(n.$$.fragment,e),Ue(u),Ue(s.$$.fragment,e),Ue(d),Ue(l.$$.fragment,e),c=!1},d(e){e&&z(t),lt(n),u&&u.d(),lt(s),d&&d.d(),lt(l)}}}function QHe(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,b,v,w,_,x,C,S,k,M,I=a,T=a,E=a,D=a,O=a,N=a,A=a;y(e,no,(e=>n(11,b=e))),e.$$.on_destroy.push((()=>I())),e.$$.on_destroy.push((()=>T())),e.$$.on_destroy.push((()=>E())),e.$$.on_destroy.push((()=>D())),e.$$.on_destroy.push((()=>O())),e.$$.on_destroy.push((()=>N())),e.$$.on_destroy.push((()=>A()));const R=Dz();y(e,R,(e=>n(24,C=e)));const F=PDe.getOrError();return e.$$.update=()=>{16777216&e.$$.dirty&&n(0,({table:r,columnsDataStore:o,meta:s,canInsertRecords:i,canSelectRecords:l}=C),r,(n(18,o),n(24,C)),(n(19,s),n(24,C)),(n(10,i),O(),O=g(i,(e=>n(12,S=e))),i),(n(9,l),N(),N=g(l,(e=>n(13,k=e))),l)),524288&e.$$.dirty&&(n(8,({filtering:c,sorting:u,grouping:d}=s),c,(n(7,u),D(),D=g(u,(e=>n(23,x=e))),u),(n(6,d),I(),I=g(d,(e=>n(20,v=e))),d)),E(),E=g(c,(e=>n(22,_=e)))),262144&e.$$.dirty&&(n(5,({columns:$}=o),$),T(),T=g($,(e=>n(21,w=e)))),1&e.$$.dirty&&n(4,p=xve(r.schema.database.id,r.schema.oid,r)),13631489&e.$$.dirty&&n(3,m=hk({database_id:r.schema.database.id,table_oid:r.oid,...x.recordsRequestParamsIncludingGrouping(v),..._.recordsRequestParams()})),3145729&e.$$.dirty&&n(2,f=function(e,t,n){const r=rI(e,t),{columns:o,terseGrouping:s}=n;if(s.length>0&&o.length>0)return`${r}#${_ve(n)}`}(r.schema.database.id,r.schema.oid,{databaseId:r.schema.database.id,schemaOid:r.schema.oid,baseTable:r,columns:w,terseGrouping:v.terse()})),1&e.$$.dirty&&(n(1,({currentRoleOwns:h}=r.currentAccess),h),A(),A=g(h,(e=>n(14,M=e))))},[r,h,f,m,p,$,d,u,c,l,i,b,S,k,M,R,F,function(){XS({identifierType:b("table"),body:{component:Tve,props:{tableName:r.name}},onProceed:async()=>{await gH(r.schema,r.oid),Yz.goto(JM(r.schema.database.id,r.schema.oid),!0)}})},o,s,v,w,_,x,C,()=>F.open()]}class eze extends ut{constructor(e){super(),ct(this,e,QHe,JHe,f,{})}}function tze(e){let t,n,r,o,s,a,i=e[2]("table_description")+"";return s=new oAe({props:{initialValue:e[1].description??"",onSubmit:e[4],isLongText:!0,disabled:e[0]}}),{c(){t=q("div"),n=q("span"),r=j(i),o=U(),at(s.$$.fragment),X(n,"class","label svelte-1akqxt3"),X(t,"class","update-table-description-property-container svelte-1akqxt3")},m(e,i){H(e,t,i),F(t,n),F(n,r),F(t,o),it(s,t,null),a=!0},p(e,[t]){(!a||4&t)&&i!==(i=e[2]("table_description")+"")&&Q(r,i);const n={};2&t&&(n.initialValue=e[1].description??""),1&t&&(n.disabled=e[0]),s.$set(n)},i(e){a||(je(s.$$.fragment,e),a=!0)},o(e){Ue(s.$$.fragment,e),a=!1},d(e){e&&z(t),lt(s)}}}function nze(e,t,n){let r,o,s;y(e,no,(e=>n(2,s=e)));const a=Dz();y(e,a,(e=>n(5,o=e)));let{disabled:i=!1}=t;return e.$$set=e=>{"disabled"in e&&n(0,i=e.disabled)},e.$$.update=()=>{32&e.$$.dirty&&n(1,({table:r}=o),r)},[i,r,s,a,async function(e){await yH({schema:r.schema,table:{oid:r.oid,description:e}})},o]}class rze extends ut{constructor(e){super(),ct(this,e,nze,tze,f,{disabled:0})}}function oze(e){let t,n,r,o,s,a,i=e[3]("table_name")+"";return s=new oAe({props:{initialValue:e[1].name,onSubmit:e[6],getValidationErrors:e[4],disabled:e[0]}}),{c(){t=q("div"),n=q("span"),r=j(i),o=U(),at(s.$$.fragment),X(n,"class","label svelte-1f6m0j3"),X(t,"class","rename-table-property-container svelte-1f6m0j3")},m(e,i){H(e,t,i),F(t,n),F(n,r),F(t,o),it(s,t,null),a=!0},p(e,[t]){(!a||8&t)&&i!==(i=e[3]("table_name")+"")&&Q(r,i);const n={};2&t&&(n.initialValue=e[1].name),16&t&&(n.getValidationErrors=e[4]),1&t&&(n.disabled=e[0]),s.$set(n)},i(e){a||(je(s.$$.fragment,e),a=!0)},o(e){Ue(s.$$.fragment,e),a=!1},d(e){e&&z(t),lt(s)}}}function sze(e,t,n){let r,o,s,i,l,c=a;y(e,no,(e=>n(3,i=e))),e.$$.on_destroy.push((()=>c()));const u=Dz();y(e,u,(e=>n(7,s=e)));let{disabled:d=!1}=t;return e.$$set=e=>{"disabled"in e&&n(0,d=e.disabled)},e.$$.update=()=>{128&e.$$.dirty&&n(1,({table:r}=s),r),2&e.$$.dirty&&(n(2,o=TH(r)),c(),c=g(o,(e=>n(4,l=e))))},[d,r,o,i,l,u,async function(e){await yH({schema:r.schema,table:{oid:r.oid,name:e}})},s]}class aze extends ut{constructor(e){super(),ct(this,e,sze,oze,f,{disabled:0})}}function ize(e){let t,n,r,o,s,a=e[3]("table_permissions")+"";const i=[iS];let c={};for(let u=0;u<i.length;u+=1)c=l(c,i[u]);return t=new Jd({props:c}),{c(){at(t.$$.fragment),n=U(),r=q("span"),o=j(a)},m(e,a){it(t,e,a),H(e,n,a),H(e,r,a),F(r,o),s=!0},p(e,n){const r=0&n?rt(i,[ot(iS)]):{};t.$set(r),(!s||8&n)&&a!==(a=e[3]("table_permissions")+"")&&Q(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e),e&&z(n),e&&z(r)}}}function lze(e){let t,n,r,o,s,a,i;return t=new aze({props:{disabled:!e[5]}}),r=new rze({props:{disabled:!e[5]}}),a=new Hu({props:{appearance:"secondary",size:"small",class:"permissions-button",$$slots:{default:[ize]},$$scope:{ctx:e}}}),a.$on("click",e[12]),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),s=q("div"),at(a.$$.fragment)},m(e,l){it(t,e,l),H(e,n,l),it(r,e,l),H(e,o,l),H(e,s,l),it(a,s,null),i=!0},p(e,n){const o={};32&n&&(o.disabled=!e[5]),t.$set(o);const s={};32&n&&(s.disabled=!e[5]),r.$set(s);const i={};262152&n&&(i.$$scope={dirty:n,ctx:e}),a.$set(i)},i(e){i||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(a.$$.fragment,e),i=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(a.$$.fragment,e),i=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),e&&z(s),lt(a)}}}function cze(e){let t,n;return t=new VHe({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function uze(e){let t,n,r,o,s,a,i=e[3]("references_help")+"";return s=new JP({props:{page:"relationships"}}),{c(){t=q("p"),n=j(i),r=U(),o=q("p"),at(s.$$.fragment)},m(e,i){H(e,t,i),F(t,n),H(e,r,i),H(e,o,i),it(s,o,null),a=!0},p(e,t){(!a||8&t)&&i!==(i=e[3]("references_help")+"")&&Q(n,i)},i(e){a||(je(s.$$.fragment,e),a=!0)},o(e){Ue(s.$$.fragment,e),a=!1},d(e){e&&z(t),e&&z(r),e&&z(o),lt(s)}}}function dze(e){let t,n,r,o,s,a=e[3]("relationships")+"";return o=new H$({props:{$$slots:{default:[uze]},$$scope:{ctx:e}}}),{c(){t=q("div"),n=j(a),r=U(),at(o.$$.fragment),X(t,"slot","title")},m(e,a){H(e,t,a),F(t,n),F(t,r),it(o,t,null),s=!0},p(e,t){(!s||8&t)&&a!==(a=e[3]("relationships")+"")&&Q(n,a);const r={};262152&t&&(r.$$scope={dirty:t,ctx:e}),o.$set(r)},i(e){s||(je(o.$$.fragment,e),s=!0)},o(e){Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t),lt(o)}}}function $ze(e){let t,n;return t=new MRe({props:{tabularData:e[1]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.tabularData=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function pze(e){let t,n;return t=new eze({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function mze(e){let t,n;return t=new oPe({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function fze(e){let t,n,r,o,s,a,i,l,c,u,d,$,p,m,f,g,h;function y(t){e[13](t)}let b={title:e[3]("table_properties"),isDbLevelConfiguration:!0,$$slots:{default:[lze]},$$scope:{ctx:e}};function v(t){e[14](t)}void 0!==e[4]&&(b.isOpen=e[4]),t=new RJ({props:b}),Ce.push((()=>st(t,"isOpen",y)));let w={isDbLevelConfiguration:!0,$$slots:{title:[dze],default:[cze]},$$scope:{ctx:e}};function _(t){e[15](t)}void 0!==e[6]&&(w.isOpen=e[6]),o=new RJ({props:w}),Ce.push((()=>st(o,"isOpen",v)));let x={title:e[3]("record_summary"),$$slots:{default:[$ze]},$$scope:{ctx:e}};function C(t){e[16](t)}void 0!==e[7]&&(x.isOpen=e[7]),i=new RJ({props:x}),Ce.push((()=>st(i,"isOpen",_)));let S={title:e[3]("actions"),$$slots:{default:[pze]},$$scope:{ctx:e}};function k(t){e[17](t)}void 0!==e[8]&&(S.isOpen=e[8]),u=new RJ({props:S}),Ce.push((()=>st(u,"isOpen",C)));let M={title:e[3]("advanced"),$$slots:{default:[mze]},$$scope:{ctx:e}};return void 0!==e[9]&&(M.isOpen=e[9]),p=new RJ({props:M}),Ce.push((()=>st(p,"isOpen",k))),g=new mde({props:{table:e[0],controller:e[11]}}),{c(){at(t.$$.fragment),r=U(),at(o.$$.fragment),a=U(),at(i.$$.fragment),c=U(),at(u.$$.fragment),$=U(),at(p.$$.fragment),f=U(),at(g.$$.fragment)},m(e,n){it(t,e,n),H(e,r,n),it(o,e,n),H(e,a,n),it(i,e,n),H(e,c,n),it(u,e,n),H(e,$,n),it(p,e,n),H(e,f,n),it(g,e,n),h=!0},p(e,[r]){const a={};8&r&&(a.title=e[3]("table_properties")),262184&r&&(a.$$scope={dirty:r,ctx:e}),!n&&16&r&&(n=!0,a.isOpen=e[4],Oe((()=>n=!1))),t.$set(a);const c={};262152&r&&(c.$$scope={dirty:r,ctx:e}),!s&&64&r&&(s=!0,c.isOpen=e[6],Oe((()=>s=!1))),o.$set(c);const $={};8&r&&($.title=e[3]("record_summary")),262146&r&&($.$$scope={dirty:r,ctx:e}),!l&&128&r&&(l=!0,$.isOpen=e[7],Oe((()=>l=!1))),i.$set($);const f={};8&r&&(f.title=e[3]("actions")),262144&r&&(f.$$scope={dirty:r,ctx:e}),!d&&256&r&&(d=!0,f.isOpen=e[8],Oe((()=>d=!1))),u.$set(f);const h={};8&r&&(h.title=e[3]("advanced")),262144&r&&(h.$$scope={dirty:r,ctx:e}),!m&&512&r&&(m=!0,h.isOpen=e[9],Oe((()=>m=!1))),p.$set(h);const y={};1&r&&(y.table=e[0]),g.$set(y)},i(e){h||(je(t.$$.fragment,e),je(o.$$.fragment,e),je(i.$$.fragment,e),je(u.$$.fragment,e),je(p.$$.fragment,e),je(g.$$.fragment,e),h=!0)},o(e){Ue(t.$$.fragment,e),Ue(o.$$.fragment,e),Ue(i.$$.fragment,e),Ue(u.$$.fragment,e),Ue(p.$$.fragment,e),Ue(g.$$.fragment,e),h=!1},d(e){lt(t,e),e&&z(r),lt(o,e),e&&z(a),lt(i,e),e&&z(c),lt(u,e),e&&z($),lt(p,e),e&&z(f),lt(g,e)}}}function gze(e,t,n){let r,o,s,i,l,c,u,d,$,p,m=a;y(e,no,(e=>n(3,i=e))),y(e,Kk,(e=>n(4,l=e))),y(e,Gk,(e=>n(6,u=e))),y(e,Xk,(e=>n(7,d=e))),y(e,Zk,(e=>n(8,$=e))),y(e,Jk,(e=>n(9,p=e))),e.$$.on_destroy.push((()=>m()));const f=Dz();y(e,f,(e=>n(1,s=e)));const h=US.spawnModalController();return e.$$.update=()=>{2&e.$$.dirty&&n(0,({table:r}=s),r),1&e.$$.dirty&&(n(2,({currentRoleOwns:o}=r.currentAccess),o),m(),m=g(o,(e=>n(5,c=e))))},[r,s,o,i,l,c,u,d,$,p,f,h,()=>h.open(),function(e){l=e,Kk.set(l)},function(e){u=e,Gk.set(u)},function(e){d=e,Xk.set(d)},function(e){$=e,Zk.set($)},function(e){p=e,Jk.set(p)}]}class hze extends ut{constructor(e){super(),ct(this,e,gze,fze,f,{})}}function yze(e){let t,n;return t=new LJ({props:{$$slots:{default:[bze]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};65&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function bze(e){let t,n,r;var o=e[0].component;return o&&(t=new o({})),{c(){t&&at(t.$$.fragment),n=W()},m(e,o){t&&it(t,e,o),H(e,n,o),r=!0},p(e,r){if(o!==(o=e[0].component)){if(t){qe();const e=t;Ue(e.$$.fragment,1,0,(()=>{lt(e,1)})),Be()}o?(t=new o({}),at(t.$$.fragment),je(t.$$.fragment,1),it(t,n.parentNode,n)):t=null}},i(e){r||(t&&je(t.$$.fragment,e),r=!0)},o(e){t&&Ue(t.$$.fragment,e),r=!1},d(e){e&&z(n),t&&lt(t,e)}}}function vze(e){let t,n,r=e[0]&&yze(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){e[0]?r?(r.p(e,n),1&n&&je(r,1)):(r=yze(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function wze(e){let t,n,r;return n=new Sb({props:{activeTab:e[0],tabs:e[1],tabStyle:"compact",fillContainerHeight:!0,fillTabWidth:!0,$$slots:{default:[vze]},$$scope:{ctx:e}}}),n.$on("tabSelected",e[2]),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","table-inspector svelte-19tx2g8")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,[t]){const r={};1&t&&(r.activeTab=e[0]),2&t&&(r.tabs=e[1]),65&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function _ze(e,t,n){let r,o,s;y(e,no,(e=>n(4,s=e)));const a={table:{label:s("table"),component:hze},column:{label:s("column"),component:uRe},record:{label:s("record"),component:CRe},cell:{label:s("cell"),component:LOe}};let{activeTabId:i}=t;return e.$$set=e=>{"activeTabId"in e&&n(3,i=e.activeTabId)},e.$$.update=()=>{8&e.$$.dirty&&n(0,o=Co(i,(e=>({id:e,...a[e]}))))},n(1,r=Object.entries(a).map((([e,t])=>({id:e,...t})))),[o,r,function(e){n(3,i=e.detail.tab.id)},i]}class xze extends ut{constructor(e){super(),ct(this,e,_ze,wze,f,{activeTabId:3})}}function Cze(e){let t,n,r;function o(t){e[6](t)}let s={showPanel:e[2],minSizePx:200,maxSizePx:600,$$slots:{panel:[Mze],default:[kze]},$$scope:{ctx:e}};return void 0!==e[3]&&(s.sizePx=e[3]),t=new Hg({props:s}),Ce.push((()=>st(t,"sizePx",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};4&r&&(o.showPanel=e[2]),129&r&&(o.$$scope={dirty:r,ctx:e}),!n&&8&r&&(n=!0,o.sizePx=e[3],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function Sze(e){let t;const n=e[4].default,r=b(n,e,e[7],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||128&o)&&_(r,n,e,e[7],t?w(n,e[7],o,null):x(e[7]),null)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function kze(e){let t;const n=e[4].default,r=b(n,e,e[7],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||128&o)&&_(r,n,e,e[7],t?w(n,e[7],o,null):x(e[7]),null)},i(e){t||(je(r,e),t=!0)},o(e){Ue(r,e),t=!1},d(e){r&&r.d(e)}}}function Mze(e){let t,n,r;function o(t){e[5](t)}let s={slot:"panel"};return void 0!==e[0]&&(s.activeTabId=e[0]),t=new xze({props:s}),Ce.push((()=>st(t,"activeTabId",o))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),r=!0},p(e,r){const o={};!n&&1&r&&(n=!0,o.activeTabId=e[0],Oe((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){lt(t,e)}}}function Ize(e){let t,n,r,o;const s=[Sze,Cze],a=[];function i(e,t){return"widget"===e[1]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,[o]){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function Tze(e,t,n){let r;y(e,Wk,(e=>n(3,r=e)));let{$$slots:o={},$$scope:s}=t,{context:a}=t,{showTableInspector:i}=t,{activeTabId:l}=t;return e.$$set=e=>{"context"in e&&n(1,a=e.context),"showTableInspector"in e&&n(2,i=e.showTableInspector),"activeTabId"in e&&n(0,l=e.activeTabId),"$$scope"in e&&n(7,s=e.$$scope)},[l,a,i,r,o,function(e){l=e,n(0,l)},function(e){r=e,Wk.set(r)},s]}class Eze extends ut{constructor(e){super(),ct(this,e,Tze,Ize,f,{context:1,showTableInspector:2,activeTabId:0})}}function*Dze(e){for(const t of e){const e=t.column.metadata?.display_width;if(!e)continue;const n=[t.id,e];yield n}}function Oze(e){let t,n,r;return n=new t$({}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","loading-sheet svelte-1mbd7wj")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p:a,i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function Nze(e){let t,n,r,o,s;function a(t){e[36](t)}function i(t){e[37](t)}function l(t){e[38](t)}let c={clipboardHandler:e[16],columnWidths:e[11],selection:e[4],usesVirtualList:e[19],onCellSelectionStart:e[34],onCellContextMenu:e[35],columns:e[12],getColumnIdentifier:Pze,hasBorder:e[18],hasPaddingRight:!0,restrictWidthToRowWidth:!e[19],$$slots:{default:[Aze]},$$scope:{ctx:e}};return void 0!==e[21]&&(c.horizontalScrollOffset=e[21]),void 0!==e[22]&&(c.scrollOffset=e[22]),void 0!==e[0]&&(c.sheetElement=e[0]),t=new Hge({props:c}),Ce.push((()=>st(t,"horizontalScrollOffset",a))),Ce.push((()=>st(t,"scrollOffset",i))),Ce.push((()=>st(t,"sheetElement",l))),{c(){at(t.$$.fragment)},m(e,n){it(t,e,n),s=!0},p(e,s){const a={};65536&s[0]&&(a.clipboardHandler=e[16]),2048&s[0]&&(a.columnWidths=e[11]),16&s[0]&&(a.selection=e[4]),524288&s[0]&&(a.usesVirtualList=e[19]),512&s[0]&&(a.onCellSelectionStart=e[34]),256&s[0]&&(a.onCellContextMenu=e[35]),4096&s[0]&&(a.columns=e[12]),262144&s[0]&&(a.hasBorder=e[18]),524288&s[0]&&(a.restrictWidthToRowWidth=!e[19]),532492&s[0]|1024&s[1]&&(a.$$scope={dirty:s,ctx:e}),!n&&2097152&s[0]&&(n=!0,a.horizontalScrollOffset=e[21],Oe((()=>n=!1))),!r&&4194304&s[0]&&(r=!0,a.scrollOffset=e[22],Oe((()=>r=!1))),!o&&1&s[0]&&(o=!0,a.sheetElement=e[0],Oe((()=>o=!1))),t.$set(a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){Ue(t.$$.fragment,e),s=!1},d(e){lt(t,e)}}}function Aze(e){let t,n,r,o;return t=new FDe({props:{hasNewColumnButton:e[3],columnOrder:e[13],table:e[2]}}),r=new SEe({props:{usesVirtualList:e[19]}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,s){it(t,e,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){const o={};8&n[0]&&(o.hasNewColumnButton=e[3]),8192&n[0]&&(o.columnOrder=e[13]),4&n[0]&&(o.table=e[2]),t.$set(o);const s={};524288&n[0]&&(s.usesVirtualList=e[19]),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function Rze(e){let t,n,r,o;const s=[Nze,Oze],a=[];function i(e,t){return e[7].size?0:e[23]?1:-1}return~(n=i(e))&&(r=a[n]=s[n](e)),{c(){t=q("div"),r&&r.c(),X(t,"class","sheet-area svelte-1mbd7wj")},m(e,r){H(e,t,r),~n&&a[n].m(t,null),o=!0},p(e,o){let l=n;n=i(e),n===l?~n&&a[n].p(e,o):(r&&(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be()),~n?(r=a[n],r?r.p(e,o):(r=a[n]=s[n](e),r.c()),je(r,1),r.m(t,null)):r=null)},i(e){o||(je(r),o=!0)},o(e){Ue(r),o=!1},d(e){e&&z(t),~n&&a[n].d()}}}function Fze(e){let t,n,r,o,s,a,i,l;function c(t){e[39](t)}let u={context:e[1],showTableInspector:e[10],$$slots:{default:[Rze]},$$scope:{ctx:e}};return void 0!==e[9]&&(u.activeTabId=e[9]),n=new Eze({props:u}),Ce.push((()=>st(n,"activeTabId",c))),s=new ROe({props:{context:e[1]}}),i=new MOe({props:{controller:e[25],table:e[2],tableColumns:e[7],onFinish:e[40]}}),{c(){t=q("div"),at(n.$$.fragment),o=U(),at(s.$$.fragment),a=U(),at(i.$$.fragment),X(t,"class","table-view svelte-1mbd7wj")},m(e,r){H(e,t,r),it(n,t,null),F(t,o),it(s,t,null),H(e,a,r),it(i,e,r),l=!0},p(e,t){const o={};2&t[0]&&(o.context=e[1]),1024&t[0]&&(o.showTableInspector=e[10]),15547293&t[0]|1024&t[1]&&(o.$$scope={dirty:t,ctx:e}),!r&&512&t[0]&&(r=!0,o.activeTabId=e[9],Oe((()=>r=!1))),n.$set(o);const a={};2&t[0]&&(a.context=e[1]),s.$set(a);const l={};4&t[0]&&(l.table=e[2]),128&t[0]&&(l.tableColumns=e[7]),32&t[0]&&(l.onFinish=e[40]),i.$set(l)},i(e){l||(je(n.$$.fragment,e),je(s.$$.fragment,e),je(i.$$.fragment,e),l=!0)},o(e){Ue(n.$$.fragment,e),Ue(s.$$.fragment,e),Ue(i.$$.fragment,e),l=!1},d(e){e&&z(t),lt(n),lt(s),e&&z(a),lt(i,e)}}}const Pze=e=>e.column.id;function Lze(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,b,v,w,_,x,C,S,k,M,I,T,E,D,O=a,N=a,A=a,R=a,F=a;y(e,Yk,(e=>n(31,C=e))),y(e,no,(e=>n(33,M=e))),e.$$.on_destroy.push((()=>O())),e.$$.on_destroy.push((()=>N())),e.$$.on_destroy.push((()=>A())),e.$$.on_destroy.push((()=>R())),e.$$.on_destroy.push((()=>F()));const P=Dz();y(e,P,(e=>n(8,I=e)));const L=US.spawnModalController();PDe.set(L);const H=mj.get(),z=NH.get(),V=JMe.get();let{context:q="page"}=t,{table:B}=t,{sheetElement:j}=t,U="table";return e.$$set=e=>{"context"in e&&n(1,q=e.context),"table"in e&&n(2,B=e.table),"sheetElement"in e&&n(0,j=e.sheetElement)},e.$$.update=()=>{4&e.$$.dirty[0]&&(n(20,({currentRoleOwns:r}=B.currentAccess),r),N(),N=g(r,(e=>n(32,k=e)))),2&e.$$.dirty[0]&&n(19,o="widget"!==q),2&e.$$.dirty[0]&&n(18,s="widget"===q),256&e.$$.dirty[0]&&(n(6,({processedColumns:i,display:l,isLoading:c,selection:u,recordsData:d}=I),i,(n(30,l),n(8,I)),(n(17,c),F(),F=g(c,(e=>n(23,D=e))),c),(n(4,u),n(8,I)),(n(5,d),n(8,I))),O(),O=g(i,(e=>n(7,S=e)))),112&e.$$.dirty[0]|4&e.$$.dirty[1]&&n(16,$=new Fye({copyingContext:{getRows:()=>new Map(gc((([e,t])=>[e,t.record]),h(d.selectableRowsMap))),getColumns:()=>function(e){return new Map([...e.entries()].map((([e,t])=>[String(e),t])))}(h(i)),getRecordSummaries:()=>h(d.linkedRecordSummaries)},pastingContext:{getRecordRows:()=>[...h(d.fetchedRecordRows),...h(d.newRecords)],getSheetColumns:()=>[...gc((({column:e})=>e),h(i).values())],bulkDml:(...e)=>d.bulkDml(...e),confirm:e=>KS({title:e,body:[],proceedButton:{label:M("paste"),icon:fC}})},selection:u,showToastInfo:WS.info,showToastError:WS.error})),1073741824&e.$$.dirty[0]&&(n(15,({horizontalScrollOffset:p,scrollOffset:m}=l),p,(n(14,m),R(),R=g(m,(e=>n(22,E=e))),m)),A(),A=g(p,(e=>n(21,T=e)))),4&e.$$.dirty[0]&&n(13,f=B.metadata?.column_order??[]),2&e.$$.dirty[0]|2&e.$$.dirty[1]&&n(3,b="widget"!==q&&k),2&e.$$.dirty[0]&&n(29,v="page"===q),136&e.$$.dirty[0]&&n(12,w=(()=>{const e=[{column:{id:-1,name:"ROW_CONTROL"}},...S.values()];return b&&e.push({column:{id:-2,name:"ADD_NEW"}}),e})()),128&e.$$.dirty[0]&&n(11,_=new ao([[-1,50],[-2,32],...Dze(S.values())])),536870912&e.$$.dirty[0]|1&e.$$.dirty[1]&&n(10,x=C&&v)},[j,q,B,b,u,d,i,S,I,U,x,_,w,f,m,p,$,c,s,o,r,T,E,D,P,L,H,z,V,v,l,C,k,M,e=>{"column-header-cell"===e.type&&n(9,U="column"),"row-header-cell"===e.type&&n(9,U="record")},({targetCell:e,position:t})=>H?jEe({targetCell:e,position:t,contextMenu:H,modalRecordView:z,tabularData:I,imperativeFilterController:V}):"empty",function(e){T=e,p.set(T)},function(e){E=e,m.set(E)},function(e){j=e,n(0,j)},function(e){U=e,n(9,U)},()=>{d.fetch()}]}class Hze extends ut{constructor(e){super(),ct(this,e,Lze,Fze,f,{context:1,table:2,sheetElement:0},null,[-1,-1])}}function zze(e){let t,n;return t=new HI({props:{table:e[1],truncate:!1}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.table=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Vze(e){let t,n;return t=new OI({props:{icon:zC,truncate:!1,bold:!0,$$slots:{default:[qze]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8193&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function qze(e){let t;return{c(){t=j(e[0])},m(e,n){H(e,t,n)},p(e,n){1&n&&Q(t,e[0])},d(e){e&&z(t)}}}function Bze(e){let t,n;return t=new HV({props:{column:{name:e[2].name,type:"unknown",type_options:null,metadata:e[2].metadata,constraintsType:["foreignkey"]},truncate:!1,bold:!0}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.column={name:e[2].name,type:"unknown",type_options:null,metadata:e[2].metadata,constraintsType:["foreignkey"]}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function jze(e){let t,n,r,o,s="tableName"===e[12]&&zze(e),a="recordSummary"===e[12]&&Vze(e),i="columnName"===e[12]&&Bze(e);return{c(){s&&s.c(),t=U(),a&&a.c(),n=U(),i&&i.c(),r=W()},m(e,l){s&&s.m(e,l),H(e,t,l),a&&a.m(e,l),H(e,n,l),i&&i.m(e,l),H(e,r,l),o=!0},p(e,o){"tableName"===e[12]?s?(s.p(e,o),4096&o&&je(s,1)):(s=zze(e),s.c(),je(s,1),s.m(t.parentNode,t)):s&&(qe(),Ue(s,1,1,(()=>{s=null})),Be()),"recordSummary"===e[12]?a?(a.p(e,o),4096&o&&je(a,1)):(a=Vze(e),a.c(),je(a,1),a.m(n.parentNode,n)):a&&(qe(),Ue(a,1,1,(()=>{a=null})),Be()),"columnName"===e[12]?i?(i.p(e,o),4096&o&&je(i,1)):(i=Bze(e),i.c(),je(i,1),i.m(r.parentNode,r)):i&&(qe(),Ue(i,1,1,(()=>{i=null})),Be())},i(e){o||(je(s),je(a),je(i),o=!0)},o(e){Ue(s),Ue(a),Ue(i),o=!1},d(e){s&&s.d(e),e&&z(t),a&&a.d(e),e&&z(n),i&&i.d(e),e&&z(r)}}}function Uze(e){let t,n;return t=new Rx({props:{text:e[5]("related_records_help"),$$slots:{default:[jze,({slotName:e})=>({12:e}),({slotName:e})=>e?4096:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.text=e[5]("related_records_help")),12295&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Wze(e){let t,n;return t=new cTe({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Yze(e){let t,n;return t=new cV({props:{fullWidth:!0,$$slots:{default:[Gze]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8224&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Kze(e){let t,n;return t=new Hze({props:{context:"widget",table:e[1]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.table=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Gze(e){let t,n=e[5]("no_privileges_view_table")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){32&r&&n!==(n=e[5]("no_privileges_view_table")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Xze(e){let t,n,r,o,s,a,i,l,c,u,d,$;o=new HI({props:{table:e[1],truncate:!1}}),a=new H$({props:{$$slots:{default:[Uze]},$$scope:{ctx:e}}});let p=e[3]&&Wze();const m=[Kze,Yze],f=[];function g(e,t){return e[3]?0:1}return u=g(e),d=f[u]=m[u](e),{c(){t=q("div"),n=q("div"),r=q("h3"),at(o.$$.fragment),s=U(),at(a.$$.fragment),i=U(),p&&p.c(),l=U(),c=q("div"),d.c(),X(r,"class","bold-header svelte-1izqfci"),X(n,"class","top svelte-1izqfci"),X(c,"class","results svelte-1izqfci"),X(t,"class","table-widget")},m(e,d){H(e,t,d),F(t,n),F(n,r),it(o,r,null),F(r,s),it(a,r,null),F(n,i),p&&p.m(n,null),F(t,l),F(t,c),f[u].m(c,null),$=!0},p(e,[t]){const r={};2&t&&(r.table=e[1]),o.$set(r);const s={};8231&t&&(s.$$scope={dirty:t,ctx:e}),a.$set(s),e[3]?p?8&t&&je(p,1):(p=Wze(),p.c(),je(p,1),p.m(n,null)):p&&(qe(),Ue(p,1,1,(()=>{p=null})),Be());let i=u;u=g(e),u===i?f[u].p(e,t):(qe(),Ue(f[i],1,1,(()=>{f[i]=null})),Be(),d=f[u],d?d.p(e,t):(d=f[u]=m[u](e),d.c()),je(d,1),d.m(c,null))},i(e){$||(je(o.$$.fragment,e),je(a.$$.fragment,e),je(p),je(d),$=!0)},o(e){Ue(o.$$.fragment,e),Ue(a.$$.fragment,e),Ue(p),Ue(d),$=!1},d(e){e&&z(t),lt(o),lt(a),p&&p.d(),f[u].d()}}}function Zze(e,t,n){let r,o,s,i,l,c=a;y(e,no,(e=>n(5,l=e))),e.$$.on_destroy.push((()=>c()));const u=Ez(void 0),d=new VT({pagination:new _T({size:10})}),$=new ZMe;JMe.set($);let{recordPk:p}=t,{recordSummary:m}=t,{table:f}=t,{fkColumn:h}=t;return e.$$set=e=>{"recordPk"in e&&n(6,p=e.recordPk),"recordSummary"in e&&n(0,m=e.recordSummary),"table"in e&&n(1,f=e.table),"fkColumn"in e&&n(2,h=e.fkColumn)},e.$$.update=()=>{70&e.$$.dirty&&n(7,r=new Iz({database:f.schema.database,table:f,meta:d,contextualFilters:new Map([[h.id,p]])})),128&e.$$.dirty&&u.set(r),2&e.$$.dirty&&(n(4,({currentRolePrivileges:o}=f.currentAccess),o),c(),c=g(o,(e=>n(8,i=e)))),256&e.$$.dirty&&n(3,s=i.has("SELECT"))},[m,f,h,s,o,l,p,r,i]}class Jze extends ut{constructor(e){super(),ct(this,e,Zze,Xze,f,{recordPk:6,recordSummary:0,table:1,fkColumn:2})}}function Qze(e,t,n){const r=e.slice();return r[6]=t[n].table,r[7]=t[n].fkColumn,r}function eVe(e){let t;return{c(){t=q("div"),X(t,"class","no-widgets svelte-8vf0l5")},m(e,n){H(e,t,n)},p:a,i:a,o:a,d(e){e&&z(t)}}}function tVe(e){let t,n,r=[],o=new Map,s=e[2];const a=e=>`${e[6].oid}-${e[7].id}`;for(let i=0;i<s.length;i+=1){let t=Qze(e,s,i),n=a(t);o.set(n,r[i]=nVe(n,t))}return{c(){t=q("div");for(let e=0;e<r.length;e+=1)r[e].c();X(t,"class","widgets")},m(e,o){H(e,t,o);for(let n=0;n<r.length;n+=1)r[n].m(t,null);n=!0},p(e,n){7&n&&(s=e[2],qe(),r=nt(r,n,a,1,e,s,o,t,et,nVe,null,Qze),Be())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ue(r[t]);n=!1},d(e){e&&z(t);for(let t=0;t<r.length;t+=1)r[t].d()}}}function nVe(e,t){let n,r,o,s;return r=new Jze({props:{recordPk:t[0],recordSummary:t[1],table:t[6],fkColumn:t[7]}}),{key:e,first:null,c(){n=q("section"),at(r.$$.fragment),o=U(),X(n,"class","table-widget-positioner svelte-8vf0l5"),this.first=n},m(e,t){H(e,n,t),it(r,n,null),F(n,o),s=!0},p(e,n){t=e;const o={};1&n&&(o.recordPk=t[0]),2&n&&(o.recordSummary=t[1]),4&n&&(o.table=t[6]),4&n&&(o.fkColumn=t[7]),r.$set(o)},i(e){s||(je(r.$$.fragment,e),s=!0)},o(e){Ue(r.$$.fragment,e),s=!1},d(e){e&&z(n),lt(r)}}}function rVe(e){let t,n,r,o;const s=[tVe,eVe],a=[];function i(e,t){return e[2].length?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,[o]){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function oVe(e,t,n){let r,o;y(e,_H,(e=>n(4,o=e)));let{recordPk:s}=t,{recordSummary:a}=t,{joinableTablesResult:i}=t;function l(e){const t=o.tablesMap.get(e.target);if(!t)return;const n=e.join_path[0].slice(-1)[0][1],{name:r}=i.target_table_info[t.oid].columns[n];return{table:t,fkColumn:{id:n,name:r,metadata:null}}}return e.$$set=e=>{"recordPk"in e&&n(0,s=e.recordPk),"recordSummary"in e&&n(1,a=e.recordSummary),"joinableTablesResult"in e&&n(3,i=e.joinableTablesResult)},e.$$.update=()=>{8&e.$$.dirty&&n(2,r=i.joinable_tables.filter((e=>e.multiple_results)).map(l).filter(_o).sort(((e,t)=>e.table.name.localeCompare(t.table.name))))},[s,a,r,i]}class sVe extends ut{constructor(e){super(),ct(this,e,oVe,rVe,f,{recordPk:0,recordSummary:1,joinableTablesResult:3})}}function aVe(e,t,n){const r=e.slice();return r[23]=t[n].field,r[24]=t[n].processedColumn,r}function iVe(e,t){let n,r,o;return r=new qMe({props:{record:t[0],processedColumn:t[24],field:t[23],canUpdateTableRecords:t[9]}}),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};1&n&&(o.record=t[0]),8&n&&(o.processedColumn=t[24]),8&n&&(o.field=t[23]),512&n&&(o.canUpdateTableRecords=t[9]),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function lVe(e){let t,n,r;return n=new QL({props:{form:e[4],catchErrors:!0,proceedButton:{label:e[12]("save"),icon:lC},cancelButton:{label:e[12]("discard_changes"),icon:mC},onProceed:e[15],getErrorMessages:e[20],initiallyHidden:!0}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","submit svelte-t2ca8")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};16&t&&(r.form=e[4]),4096&t&&(r.proceedButton={label:e[12]("save"),icon:lC}),4096&t&&(r.cancelButton={label:e[12]("discard_changes"),icon:mC}),4&t&&(r.getErrorMessages=e[20]),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function cVe(e){return{c:a,m:a,p:a,i:a,o:a,d:a}}function uVe(e){let t,n;return t=new sVe({props:{joinableTablesResult:e[22],recordPk:e[7],recordSummary:e[13]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.joinableTablesResult=e[22]),128&n&&(r.recordPk=e[7]),8192&n&&(r.recordSummary=e[13]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function dVe(e){return{c:a,m:a,p:a,i:a,o:a,d:a}}function $Ve(e){let t,n,r,o,s,a,i,l,c,u,d,$,p,m,f=[],g=new Map;o=new XMe({props:{record:e[0]}}),a=new IMe({props:{form:e[4]}});let h=e[3];const y=e=>e[24].id;for(let w=0;w<h.length;w+=1){let t=aVe(e,h,w),n=y(t);g.set(n,f[w]=iVe(n,t))}let b=e[11].hasChanges&&lVe(e),v={ctx:e,current:null,token:null,hasCatch:!1,pending:dVe,then:uVe,catch:cVe,value:22,blocks:[,,,]};return Xe(d=e[14](e[1].oid),v),{c(){t=q("div"),n=q("div"),r=q("div"),at(o.$$.fragment),s=U(),at(a.$$.fragment),i=U(),l=q("div");for(let e=0;e<f.length;e+=1)f[e].c();c=U(),b&&b.c(),u=U(),v.block.c(),X(r,"class","record-title svelte-t2ca8"),X(n,"class","title-bar svelte-t2ca8"),X(l,"class","fields svelte-t2ca8"),X(t,"class","modal-record-view-content")},m(e,d){H(e,t,d),F(t,n),F(n,r),it(o,r,null),F(n,s),it(a,n,null),F(t,i),F(t,l);for(let t=0;t<f.length;t+=1)f[t].m(l,null);F(t,c),b&&b.m(t,null),F(t,u),v.block.m(t,v.anchor=null),v.mount=()=>t,v.anchor=null,$=!0,p||(m=T(cx.call(null,n)),p=!0)},p(n,[r]){e=n;const s={};1&r&&(s.record=e[0]),o.$set(s);const i={};16&r&&(i.form=e[4]),a.$set(i),521&r&&(h=e[3],qe(),f=nt(f,r,y,1,e,h,g,l,et,iVe,null,aVe),Be()),e[11].hasChanges?b?(b.p(e,r),2048&r&&je(b,1)):(b=lVe(e),b.c(),je(b,1),b.m(t,u)):b&&(qe(),Ue(b,1,1,(()=>{b=null})),Be()),v.ctx=e,2&r&&d!==(d=e[14](e[1].oid))&&Xe(d,v)||Ze(v,e,r)},i(e){if(!$){je(o.$$.fragment,e),je(a.$$.fragment,e);for(let e=0;e<h.length;e+=1)je(f[e]);je(b),je(v.block),$=!0}},o(e){Ue(o.$$.fragment,e),Ue(a.$$.fragment,e);for(let t=0;t<f.length;t+=1)Ue(f[t]);Ue(b);for(let t=0;t<3;t+=1){Ue(v.blocks[t])}$=!1},d(e){e&&z(t),lt(o),lt(a);for(let t=0;t<f.length;t+=1)f[t].d();b&&b.d(),v.block.d(),v.token=null,v=null,p=!1,m()}}}function pVe(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,b,v,w,_,x=a,C=a,S=a,k=a,M=a;y(e,no,(e=>n(12,w=e))),e.$$.on_destroy.push((()=>x())),e.$$.on_destroy.push((()=>C())),e.$$.on_destroy.push((()=>S())),e.$$.on_destroy.push((()=>k())),e.$$.on_destroy.push((()=>M()));let{record:I}=t;return e.$$set=e=>{"record"in e&&n(0,I=e.record)},e.$$.update=()=>{1&e.$$.dirty&&n(1,({table:r,tableStructure:o}=I),r,(n(16,o),n(0,I))),2&e.$$.dirty&&(n(10,({currentRolePrivileges:s}=r.currentAccess),s),k(),k=g(s,(e=>n(19,v=e)))),524288&e.$$.dirty&&n(9,i=v.has("UPDATE")),65536&e.$$.dirty&&(n(8,({processedColumns:l}=o),l),C(),C=g(l,(e=>n(17,h=e)))),1&e.$$.dirty&&n(7,({recordPk:c,summary:u,fieldValues:d}=I),c,(n(6,u),M(),M=g(u,(e=>n(13,_=e))),u),(n(5,d),S(),S=g(d,(e=>n(18,b=e))),d)),393216&e.$$.dirty&&n(3,$=[...h.values()].map((e=>({processedColumn:e,field:rH(b.get(e.id))})))),8&e.$$.dirty&&n(2,p=Object.fromEntries($.map((e=>[e.processedColumn.id,e.field])))),4&e.$$.dirty&&(n(4,m=aH(p)),x(),x=g(m,(e=>n(11,f=e))))},[I,r,p,$,m,d,u,c,l,i,s,f,w,_,function(e){return PM.tables.list_joinable({database_id:r.schema.database.id,table_oid:e,max_depth:1}).run()},async function(){const e=Object.entries(f.values),t=Object.fromEntries(e.filter((([e])=>function(e){const t=h.get(parseInt(e,10));return!!t&&!t.column.primary_key}(e))));await I.patch(t)},o,h,b,v,e=>{const{columnErrors:t,recordErrors:n}=mMe(e);for(const[r,o]of t)p[r]?.serverErrors.set(o);return n}]}class mVe extends ut{constructor(e){super(),ct(this,e,pVe,$Ve,f,{record:0})}}function fVe(e){let t,n;return t=new mVe({props:{record:e[1]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.record=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function gVe(e){let t,n;return t=new xVe({props:{$$slots:{default:[fVe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};6&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function hVe(e){let t,n;return t=new iMe({props:{record:e[1],$$slots:{default:[gVe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.record=e[1]),6&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function yVe(e){let t,n;return t=new dv({props:{controller:e[0],size:"large",$$slots:{default:[hVe,({options:e})=>({1:e}),({options:e})=>e?2:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.controller=e[0]),6&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function bVe(e,t,n){let{controller:r}=t;return e.$$set=e=>{"controller"in e&&n(0,r=e.controller)},[r]}class vVe extends ut{constructor(e){super(),ct(this,e,bVe,yVe,f,{controller:0})}}function wVe(e){let t,n,r;const o=e[2].default,s=b(o,e,e[1],null);return n=new vVe({props:{controller:e[0]}}),{c(){s&&s.c(),t=U(),at(n.$$.fragment)},m(e,o){s&&s.m(e,o),H(e,t,o),it(n,e,o),r=!0},p(e,[t]){s&&s.p&&(!r||2&t)&&_(s,o,e,e[1],r?w(o,e[1],t,null):x(e[1]),null)},i(e){r||(je(s,e),je(n.$$.fragment,e),r=!0)},o(e){Ue(s,e),Ue(n.$$.fragment,e),r=!1},d(e){s&&s.d(e),e&&z(t),lt(n,e)}}}function _Ve(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=US.spawnModalController();return NH.set(s),e.$$set=e=>{"$$scope"in e&&n(1,o=e.$$scope)},[s,o,r]}class xVe extends ut{constructor(e){super(),ct(this,e,_Ve,wVe,f,{})}}function CVe(e){let t,n,r,o,s,a,i;return n=new SIe({props:{filtering:e[5],canViewLinkedEntities:OVe}}),o=new sTe({props:{sorting:e[4]}}),a=new qIe({props:{grouping:e[3]}}),{c(){t=q("div"),at(n.$$.fragment),r=U(),at(o.$$.fragment),s=U(),at(a.$$.fragment),X(t,"class","quick-access svelte-18ndiuq")},m(e,l){H(e,t,l),it(n,t,null),F(t,r),it(o,t,null),F(t,s),it(a,t,null),i=!0},p(e,t){const r={};32&t&&(r.filtering=e[5]),n.$set(r);const s={};16&t&&(s.sorting=e[4]),o.$set(s);const i={};8&t&&(i.grouping=e[3]),a.$set(i)},i(e){i||(je(n.$$.fragment,e),je(o.$$.fragment,e),je(a.$$.fragment,e),i=!0)},o(e){Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),Ue(a.$$.fragment,e),i=!1},d(e){e&&z(t),lt(n),lt(o),lt(a)}}}function SVe(e){let t,n,r;return n=new Eu({props:{allowHover:!0,$$slots:{content:[MVe],trigger:[kVe]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","no-pk-warning svelte-18ndiuq")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};532480&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function kVe(e){let t,n,r;const o=[{size:"1.3em"},MS];let s={};for(let a=0;a<o.length;a+=1)s=l(s,o[a]);return n=new Jd({props:s}),{c(){t=q("div"),at(n.$$.fragment),X(t,"slot","trigger")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r=0&t?rt(o,[o[0],ot(MS)]):{};n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function MVe(e){let t,n,r=e[13]("no_row_op_support_table_without_pk")+"";return{c(){t=q("span"),n=j(r),X(t,"slot","content")},m(e,r){H(e,t,r),F(t,n)},p(e,t){8192&t&&r!==(r=e[13]("no_row_op_support_table_without_pk")+"")&&Q(n,r)},d(e){e&&z(t)}}}function IVe(e){let t,n,r,o,s,a=e[1]&&CVe(e);n=new SMe({props:{requestState:e[11]}});let i=!e[9]&&!e[12]&&SVe(e);return{c(){a&&a.c(),t=U(),at(n.$$.fragment),r=U(),i&&i.c(),o=W()},m(e,l){a&&a.m(e,l),H(e,t,l),it(n,e,l),H(e,r,l),i&&i.m(e,l),H(e,o,l),s=!0},p(e,r){e[1]?a?(a.p(e,r),2&r&&je(a,1)):(a=CVe(e),a.c(),je(a,1),a.m(t.parentNode,t)):a&&(qe(),Ue(a,1,1,(()=>{a=null})),Be());const s={};2048&r&&(s.requestState=e[11]),n.$set(s),e[9]||e[12]?i&&(qe(),Ue(i,1,1,(()=>{i=null})),Be()):i?(i.p(e,r),4608&r&&je(i,1)):(i=SVe(e),i.c(),je(i,1),i.m(o.parentNode,o))},i(e){s||(je(a),je(n.$$.fragment,e),je(i),s=!0)},o(e){Ue(a),Ue(n.$$.fragment,e),Ue(i),s=!1},d(e){a&&a.d(e),e&&z(t),lt(n,e),e&&z(r),i&&i.d(e),e&&z(o)}}}function TVe(e){let t,n;return t=new Fde({props:{disabled:e[9],active:e[10],toggle:e[15]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};512&n&&(r.disabled=e[9]),1024&n&&(r.active=e[10]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function EVe(e){let t,n,r=e[1]&&TVe(e);return{c(){t=q("div"),r&&r.c(),X(t,"class","aux-actions svelte-18ndiuq"),X(t,"slot","actions-right")},m(e,o){H(e,t,o),r&&r.m(t,null),n=!0},p(e,n){e[1]?r?(r.p(e,n),2&n&&je(r,1)):(r=TVe(e),r.c(),je(r,1),r.m(t,null)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){e&&z(t),r&&r.d()}}}function DVe(e){let t,n,r;return t=new Ode({props:{title:{name:e[0].name,description:e[0].description??void 0,icon:UC},$$slots:{"actions-right":[EVe],default:[IVe]},$$scope:{ctx:e}}}),{c(){n=q("div"),at(t.$$.fragment),te(n,"display","contents"),te(n,"--icon-fill-color","linear-gradient(135deg, var(--color-table), var(--color-table-80))"),te(n,"--icon-stroke-color","var(--color-fg-inverted)")},m(e,o){H(e,n,o),it(t,n,null),r=!0},p(e,[n]){const r={};1&n&&(r.title={name:e[0].name,description:e[0].description??void 0,icon:UC}),540218&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){Ue(t.$$.fragment,e),r=!1},d(e){e&&z(n),lt(t,e)}}}const OVe=!0;function NVe(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,b,v,w,_,x=a,C=a,S=a,k=a;y(e,Yk,(e=>n(10,b=e))),y(e,no,(e=>n(13,_=e))),e.$$.on_destroy.push((()=>x())),e.$$.on_destroy.push((()=>C())),e.$$.on_destroy.push((()=>S())),e.$$.on_destroy.push((()=>k()));const M=Dz();return y(e,M,(e=>n(18,f=e))),e.$$.update=()=>{262144&e.$$.dirty&&n(0,({table:r,meta:o,isLoading:s,hasPrimaryKey:i}=f),r,(n(16,o),n(18,f)),(n(8,s),C(),C=g(s,(e=>n(9,h=e))),s),(n(7,i),k(),k=g(i,(e=>n(12,w=e))),i)),1&e.$$.dirty&&(n(6,({currentRolePrivileges:l}=r.currentAccess),l),x(),x=g(l,(e=>n(17,m=e)))),65536&e.$$.dirty&&n(5,({filtering:c,sorting:u,grouping:d,sheetState:$}=o),c,(n(4,u),n(16,o),n(18,f)),(n(3,d),n(16,o),n(18,f)),(n(2,$),S(),S=g($,(e=>n(11,v=e))),$)),131072&e.$$.dirty&&n(1,p=m.has("SELECT"))},[r,p,$,d,u,c,l,i,s,h,b,v,w,_,M,function(){Yk.update((e=>!e))},o,m,f]}class AVe extends ut{constructor(e){super(),ct(this,e,NVe,DVe,f,{})}}const{document:RVe}=Je;function FVe(e){let t,n,r;return n=new cV({props:{fullWidth:!0,$$slots:{default:[LVe]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","warning svelte-11oqq27")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};1048640&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function PVe(e){let t,n;return t=new xVe({props:{$$slots:{default:[HVe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1048579&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function LVe(e){let t,n=e[6]("no_privileges_view_table")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){64&r&&n!==(n=e[6]("no_privileges_view_table")+"")&&Q(t,n)},d(e){e&&z(t)}}}function HVe(e){let t,n,r,o;function s(t){e[14](t)}let a={table:e[0]};return void 0!==e[1]&&(a.sheetElement=e[1]),n=new Hze({props:a}),Ce.push((()=>st(n,"sheetElement",s))),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","table-view-area svelte-11oqq27")},m(e,r){H(e,t,r),it(n,t,null),o=!0},p(e,t){const o={};1&t&&(o.table=e[0]),!r&&2&t&&(r=!0,o.sheetElement=e[1],Oe((()=>r=!1))),n.$set(o)},i(e){o||(je(n.$$.fragment,e),o=!0)},o(e){Ue(n.$$.fragment,e),o=!1},d(e){e&&z(t),lt(n)}}}function zVe(e){let t,n,r,o,s,a,i;n=new AVe({});const l=[PVe,FVe],c=[];function u(e,t){return 32&t&&(o=null),null==o&&(o=!!e[5].has("SELECT")),o?0:1}return s=u(e,-1),a=c[s]=l[s](e),{c(){t=q("div"),at(n.$$.fragment),r=U(),a.c(),X(t,"class","table-page svelte-11oqq27")},m(e,o){H(e,t,o),it(n,t,null),F(t,r),c[s].m(t,null),i=!0},p(e,n){let r=s;s=u(e,n),s===r?c[s].p(e,n):(qe(),Ue(c[r],1,1,(()=>{c[r]=null})),Be(),a=c[s],a?a.p(e,n):(a=c[s]=l[s](e),a.c()),je(a,1),a.m(t,null))},i(e){i||(je(n.$$.fragment,e),je(a),i=!0)},o(e){Ue(n.$$.fragment,e),Ue(a),i=!1},d(e){e&&z(t),lt(n),c[s].d()}}}function VVe(e){let t,n,r,o;return RVe.title=t=zK(e[0].name),r=new TK({props:{fitViewport:!0,restrictWidth:!1,$$slots:{default:[zVe]},$$scope:{ctx:e}}}),{c(){n=U(),at(r.$$.fragment)},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,[n]){(!o||1&n)&&t!==(t=zK(e[0].name))&&(RVe.title=t);const s={};1048675&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function qVe(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h=a,b=a,v=a;y(e,Yz,(e=>n(13,p=e))),y(e,no,(e=>n(6,f=e))),e.$$.on_destroy.push((()=>h())),e.$$.on_destroy.push((()=>b())),e.$$.on_destroy.push((()=>v()));const w=Ez(void 0),_=new ZMe;JMe.set(_);let x,{table:C}=t;let S=!1;return e.$$set=e=>{"table"in e&&n(0,C=e.table)},e.$$.update=()=>{var t;8192&e.$$.dirty&&n(10,({query:r}=p),r),1024&e.$$.dirty&&n(9,o=VT.fromSerialization(r.q??"")),1&e.$$.dirty&&(n(4,({currentRolePrivileges:s}=C.currentAccess),s),v(),v=g(s,(e=>n(5,m=e)))),513&e.$$.dirty&&n(8,i=new Iz({database:C.schema.database,table:C,meta:o})),256&e.$$.dirty&&(n(3,({isLoading:l,selection:c}=i),l),b(),b=g(l,(e=>n(12,$=e)))),256&e.$$.dirty&&w.set(i),4224&e.$$.dirty&&(S||$||(n(7,S=!0),async function(){c.updateWithoutFocus((e=>e.ofFirstDataCell())),document.activeElement===document.body&&(await Ee(),Rge(x))}())),256&e.$$.dirty&&(n(2,u=i.meta.serialization),h(),h=g(u,(e=>n(11,d=e)))),2048&e.$$.dirty&&(t=d,Yz.location.query.set("q",t))},[C,x,u,l,s,m,f,S,i,o,r,d,$,p,function(e){x=e,n(1,x)}]}class BVe extends ut{constructor(e){super(),ct(this,e,qVe,VVe,f,{table:0})}}function jVe(e,t,n){const r=e.slice();return r[23]=t[n].field,r[24]=t[n].processedColumn,r}function UVe(e){let t,n;return t=new HI({props:{table:e[1],truncate:!1}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.table=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function WVe(e){let t,n,r="tableName"===e[27]&&UVe(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"tableName"===e[27]?r?(r.p(e,n),134217728&n&&je(r,1)):(r=UVe(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function YVe(e){let t,n,r;return n=new Rx({props:{text:e[12]("record_in_table"),$$slots:{default:[WVe,({slotName:e})=>({27:e}),({slotName:e})=>e?134217728:0]},$$scope:{ctx:e}}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"slot","subText"),X(t,"class","table-name svelte-1w7plmp")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};4096&t&&(r.text=e[12]("record_in_table")),402653186&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function KVe(e){let t,n,r,o;return r=new IMe({props:{form:e[4]}}),{c(){t=q("div"),n=q("div"),at(r.$$.fragment),X(n,"class","form-status svelte-1w7plmp"),X(t,"slot","action")},m(e,s){H(e,t,s),F(t,n),it(r,n,null),o=!0},p(e,t){const n={};16&t&&(n.form=e[4]),r.$set(n)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(t),lt(r)}}}function GVe(e,t){let n,r,o;return r=new qMe({props:{record:t[0],processedColumn:t[24],field:t[23],canUpdateTableRecords:t[9]}}),{key:e,first:null,c(){n=W(),at(r.$$.fragment),this.first=n},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,n){t=e;const o={};1&n&&(o.record=t[0]),8&n&&(o.processedColumn=t[24]),8&n&&(o.field=t[23]),512&n&&(o.canUpdateTableRecords=t[9]),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function XVe(e){let t,n,r,o,s,a=[],i=new Map,l=e[3];const c=e=>e[24].id;for(let u=0;u<l.length;u+=1){let t=jVe(e,l,u),n=c(t);i.set(n,a[u]=GVe(n,t))}return o=new QL({props:{form:e[4],catchErrors:!0,proceedButton:{label:e[12]("save"),icon:lC},cancelButton:{label:e[12]("discard_changes"),icon:mC},onProceed:e[14],getErrorMessages:e[19],initiallyHidden:!0}}),{c(){t=q("div");for(let e=0;e<a.length;e+=1)a[e].c();n=U(),r=q("div"),at(o.$$.fragment),X(t,"class","fields svelte-1w7plmp"),X(r,"class","submit svelte-1w7plmp")},m(e,i){H(e,t,i);for(let n=0;n<a.length;n+=1)a[n].m(t,null);H(e,n,i),H(e,r,i),it(o,r,null),s=!0},p(e,n){521&n&&(l=e[3],qe(),a=nt(a,n,c,1,e,l,i,t,et,GVe,null,jVe),Be());const r={};16&n&&(r.form=e[4]),4096&n&&(r.proceedButton={label:e[12]("save"),icon:lC}),4096&n&&(r.cancelButton={label:e[12]("discard_changes"),icon:mC}),4&n&&(r.getErrorMessages=e[19]),o.$set(r)},i(e){if(!s){for(let e=0;e<l.length;e+=1)je(a[e]);je(o.$$.fragment,e),s=!0}},o(e){for(let t=0;t<a.length;t+=1)Ue(a[t]);Ue(o.$$.fragment,e),s=!1},d(e){e&&z(t);for(let t=0;t<a.length;t+=1)a[t].d();e&&z(n),e&&z(r),lt(o)}}}function ZVe(e){return{c:a,m:a,p:a,i:a,o:a,d:a}}function JVe(e){let t,n,r;return n=new sVe({props:{joinableTablesResult:e[22],recordPk:e[7],recordSummary:e[11]}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","widgets-container svelte-1w7plmp")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p(e,t){const r={};2&t&&(r.joinableTablesResult=e[22]),128&t&&(r.recordPk=e[7]),2048&t&&(r.recordSummary=e[11]),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function QVe(e){let t,n;return t=new eMe({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function eqe(e){let t,n,r,o,s,a,i,l;r=new Z2({props:{name:e[11],icon:zC,entityTypeName:e[12]("record"),$$slots:{action:[KVe],subText:[YVe]},$$scope:{ctx:e}}}),s=new Oxe({props:{$$slots:{default:[XVe]},$$scope:{ctx:e}}});let c={ctx:e,current:null,token:null,hasCatch:!1,pending:QVe,then:JVe,catch:ZVe,value:22,blocks:[,,,]};return Xe(i=e[13](e[1].oid),c),{c(){t=q("div"),n=q("div"),at(r.$$.fragment),o=U(),at(s.$$.fragment),a=U(),c.block.c(),X(n,"class","record-page-header svelte-1w7plmp"),X(t,"class","record-page-content svelte-1w7plmp")},m(e,i){H(e,t,i),F(t,n),it(r,n,null),F(t,o),it(s,t,null),F(t,a),c.block.m(t,c.anchor=null),c.mount=()=>t,c.anchor=null,l=!0},p(t,[n]){e=t;const o={};2048&n&&(o.name=e[11]),4096&n&&(o.entityTypeName=e[12]("record")),268439570&n&&(o.$$scope={dirty:n,ctx:e}),r.$set(o);const a={};268440093&n&&(a.$$scope={dirty:n,ctx:e}),s.$set(a),c.ctx=e,2&n&&i!==(i=e[13](e[1].oid))&&Xe(i,c)||Ze(c,e,n)},i(e){l||(je(r.$$.fragment,e),je(s.$$.fragment,e),je(c.block),l=!0)},o(e){Ue(r.$$.fragment,e),Ue(s.$$.fragment,e);for(let t=0;t<3;t+=1){Ue(c.blocks[t])}l=!1},d(e){e&&z(t),lt(r),lt(s),c.block.d(),c.token=null,c=null}}}function tqe(e,t,n){let r,o,s,i,l,c,u,d,$,p,m,f,h,b,v,w,_,x=a,C=a,S=a,k=a,M=a;y(e,no,(e=>n(12,_=e))),e.$$.on_destroy.push((()=>x())),e.$$.on_destroy.push((()=>C())),e.$$.on_destroy.push((()=>S())),e.$$.on_destroy.push((()=>k())),e.$$.on_destroy.push((()=>M()));let{record:I}=t;return e.$$set=e=>{"record"in e&&n(0,I=e.record)},e.$$.update=()=>{1&e.$$.dirty&&n(1,({table:r,tableStructure:o}=I),r,(n(15,o),n(0,I))),2&e.$$.dirty&&(n(10,({currentRolePrivileges:s}=r.currentAccess),s),k(),k=g(s,(e=>n(18,v=e)))),262144&e.$$.dirty&&n(9,i=v.has("UPDATE")),32768&e.$$.dirty&&(n(8,({processedColumns:l}=o),l),C(),C=g(l,(e=>n(16,h=e)))),1&e.$$.dirty&&n(7,({recordPk:c,summary:u,fieldValues:d}=I),c,(n(6,u),M(),M=g(u,(e=>n(11,w=e))),u),(n(5,d),S(),S=g(d,(e=>n(17,b=e))),d)),196608&e.$$.dirty&&n(3,$=[...h.values()].map((e=>({processedColumn:e,field:rH(b.get(e.id))})))),8&e.$$.dirty&&n(2,p=Object.fromEntries($.map((e=>[e.processedColumn.id,e.field])))),4&e.$$.dirty&&(n(4,m=aH(p)),x(),x=g(m,(e=>n(20,f=e))))},[I,r,p,$,m,d,u,c,l,i,s,w,_,function(e){return PM.tables.list_joinable({database_id:r.schema.database.id,table_oid:e,max_depth:1}).run()},async function(){const e=Object.entries(f.values),t=Object.fromEntries(e.filter((([e])=>function(e){const t=h.get(parseInt(e,10));return!!t&&!t.column.primary_key}(e))));await I.patch(t)},o,h,b,v,e=>{const{columnErrors:t,recordErrors:n}=mMe(e);for(const[r,o]of t)p[r]?.serverErrors.set(o);return n}]}class nqe extends ut{constructor(e){super(),ct(this,e,tqe,eqe,f,{record:0})}}function rqe(e){let t,n;return t=new nqe({props:{record:e[0]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.record=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function oqe(e){let t,n;return t=new xVe({props:{$$slots:{default:[rqe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};129&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function sqe(e){let t,n;return t=new iMe({props:{record:e[0],$$slots:{default:[oqe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.record=e[0]),129&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function aqe(e){let t,n,r,o;return document.title=t=zK(e[1]),r=new TK({props:{cssVariables:{"--page-padding":"0"},fitViewport:!0,$$slots:{default:[sqe]},$$scope:{ctx:e}}}),{c(){n=U(),at(r.$$.fragment)},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,[n]){(!o||2&n)&&t!==(t=zK(e[1]))&&(document.title=t);const s={};129&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function iqe(e,t,n){let r,o,s,i,l,c,u=a,d=a;e.$$.on_destroy.push((()=>u())),e.$$.on_destroy.push((()=>d()));let{record:$}=t;return e.$$set=e=>{"record"in e&&n(0,$=e.record)},e.$$.update=()=>{1&e.$$.dirty&&(n(3,r=$.fetchRequest),d(),d=g(r,(e=>n(6,c=e)))),1&e.$$.dirty&&(n(2,({summary:o}=$),o),u(),u=g(o,(e=>n(5,l=e)))),64&e.$$.dirty&&n(4,s="processing"===c?.state),48&e.$$.dirty&&n(1,i=s?"":l)},[$,i,o,r,s,l,c]}class lqe extends ut{constructor(e){super(),ct(this,e,iqe,aqe,f,{record:0})}}function cqe(e){let t,n;return t=new z6({props:{item:{type:"record",database:e[6],schema:e[3],table:e[0],record:{pk:e[1],summary:e[8]}}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};331&n&&(r.item={type:"record",database:e[6],schema:e[3],table:e[0],record:{pk:e[1],summary:e[8]}}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function uqe(e){let t,n,r,o="success"===e[7]?.state&&cqe(e);return n=new lqe({props:{record:e[2]}}),{c(){o&&o.c(),t=U(),at(n.$$.fragment)},m(e,s){o&&o.m(e,s),H(e,t,s),it(n,e,s),r=!0},p(e,[r]){"success"===e[7]?.state?o?(o.p(e,r),128&r&&je(o,1)):(o=cqe(e),o.c(),je(o,1),o.m(t.parentNode,t)):o&&(qe(),Ue(o,1,1,(()=>{o=null})),Be());const s={};4&r&&(s.record=e[2]),n.$set(s)},i(e){r||(je(o),je(n.$$.fragment,e),r=!0)},o(e){Ue(o),Ue(n.$$.fragment,e),r=!1},d(e){o&&o.d(e),e&&z(t),lt(n,e)}}}function dqe(e,t,n){let r,o,s,i,l,c,u,d=a,$=a;e.$$.on_destroy.push((()=>d())),e.$$.on_destroy.push((()=>$()));let{table:p}=t,{recordPk:m}=t;return e.$$set=e=>{"table"in e&&n(0,p=e.table),"recordPk"in e&&n(1,m=e.recordPk)},e.$$.update=()=>{3&e.$$.dirty&&n(2,r=new OH({table:p,recordPk:m})),1&e.$$.dirty&&n(3,o=p.schema),8&e.$$.dirty&&n(6,s=o.database),4&e.$$.dirty&&(n(5,({summary:i,fetchRequest:l}=r),i,(n(4,l),d(),d=g(l,(e=>n(7,c=e))),l)),$(),$=g(i,(e=>n(8,u=e))))},[p,m,r,o,l,i,s,c,u]}class $qe extends ut{constructor(e){super(),ct(this,e,dqe,uqe,f,{table:0,recordPk:1})}}function pqe(e){let t,n;return t=new RK({props:{$$slots:{default:[fqe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};520&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function mqe(e){let t,n,r,o,s,a;return t=new z6({props:{item:{type:"table",database:e[0],schema:e[1],table:e[2]}}}),r=new sV({props:{path:"/",$$slots:{default:[gqe]},$$scope:{ctx:e}}}),s=new sV({props:{path:"/:recordPk",$$slots:{default:[hqe,({meta:e})=>({8:e}),({meta:e})=>e?256:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),at(s.$$.fragment)},m(e,i){it(t,e,i),H(e,n,i),it(r,e,i),H(e,o,i),it(s,e,i),a=!0},p(e,n){const o={};7&n&&(o.item={type:"table",database:e[0],schema:e[1],table:e[2]}),t.$set(o);const a={};516&n&&(a.$$scope={dirty:n,ctx:e}),r.$set(a);const i={};772&n&&(i.$$scope={dirty:n,ctx:e}),s.$set(i)},i(e){a||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),a=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),a=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),lt(s,e)}}}function fqe(e){let t,n=e[3]("table_not_found")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){8&r&&n!==(n=e[3]("table_not_found")+"")&&Q(t,n)},d(e){e&&z(t)}}}function gqe(e){let t,n;return t=new BVe({props:{table:e[2]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.table=e[2]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function hqe(e){let t,n;return t=new $qe({props:{table:e[2],recordPk:String(e[8].params.recordPk)}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.table=e[2]),256&n&&(r.recordPk=String(e[8].params.recordPk)),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function yqe(e){let t,n,r,o;const s=[mqe,pqe],a=[];function i(e,t){return e[2]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,[o]){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function bqe(e,t,n){let r,o,s,a;y(e,MH,(e=>n(6,o=e))),y(e,_H,(e=>n(5,s=e))),y(e,no,(e=>n(3,a=e)));let{database:i}=t,{schema:l}=t,{tableId:c}=t;function u(){I(MH,o=void 0,o)}return fe((()=>u)),e.$$set=e=>{"database"in e&&n(0,i=e.database),"schema"in e&&n(1,l=e.schema),"tableId"in e&&n(4,c=e.tableId)},e.$$.update=()=>{16&e.$$.dirty&&I(MH,o=c,o),48&e.$$.dirty&&n(2,r=s.tablesMap.get(c))},[i,l,r,a,c,s]}class vqe extends ut{constructor(e){super(),ct(this,e,bqe,yqe,f,{database:0,schema:1,tableId:4})}}function wqe(e){let t,n;return t=new RK({props:{$$slots:{default:[xqe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2064&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function _qe(e){let t,n,r,o,s,a,i,l,c,u,d,$,p,m;return t=new z6({props:{item:{type:"schema",database:e[0],schema:e[1]}}}),r=new sV({props:{path:"/import/*",firstmatch:!0,$$slots:{default:[Cqe]},$$scope:{ctx:e}}}),s=new sV({props:{path:"/tables/:tableId/*",firstmatch:!0,$$slots:{default:[Sqe,({meta:e})=>({9:e}),({meta:e})=>e?512:0]},$$scope:{ctx:e}}}),i=new sV({props:{path:"/explorations/:queryId/edit",$$slots:{default:[kqe,({meta:e})=>({9:e}),({meta:e})=>e?512:0]},$$scope:{ctx:e}}}),c=new dle({props:{paths:[{name:"edit-exploration",path:"/explorations/:queryId"},{name:"new-exploration",path:"/data-explorer/"}],$$slots:{default:[Mqe,({path:e,meta:t})=>({10:e,9:t}),({path:e,meta:t})=>(e?1024:0)|(t?512:0)]},$$scope:{ctx:e}}}),d=new sV({props:{path:"/forms/:formId/*",firstmatch:!0,$$slots:{default:[Iqe,({meta:e})=>({9:e}),({meta:e})=>e?512:0]},$$scope:{ctx:e}}}),p=new sV({props:{path:"/",$$slots:{default:[Tqe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),at(s.$$.fragment),a=U(),at(i.$$.fragment),l=U(),at(c.$$.fragment),u=U(),at(d.$$.fragment),$=U(),at(p.$$.fragment)},m(e,f){it(t,e,f),H(e,n,f),it(r,e,f),H(e,o,f),it(s,e,f),H(e,a,f),it(i,e,f),H(e,l,f),it(c,e,f),H(e,u,f),it(d,e,f),H(e,$,f),it(p,e,f),m=!0},p(e,n){const o={};3&n&&(o.item={type:"schema",database:e[0],schema:e[1]}),t.$set(o);const a={};2051&n&&(a.$$scope={dirty:n,ctx:e}),r.$set(a);const l={};2563&n&&(l.$$scope={dirty:n,ctx:e}),s.$set(l);const u={};2563&n&&(u.$$scope={dirty:n,ctx:e}),i.$set(u);const $={};3587&n&&($.$$scope={dirty:n,ctx:e}),c.$set($);const m={};2560&n&&(m.$$scope={dirty:n,ctx:e}),d.$set(m);const f={};2048&n&&(f.$$scope={dirty:n,ctx:e}),p.$set(f)},i(e){m||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),je(i.$$.fragment,e),je(c.$$.fragment,e),je(d.$$.fragment,e),je(p.$$.fragment,e),m=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),Ue(i.$$.fragment,e),Ue(c.$$.fragment,e),Ue(d.$$.fragment,e),Ue(p.$$.fragment,e),m=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),lt(s,e),e&&z(a),lt(i,e),e&&z(l),lt(c,e),e&&z(u),lt(d,e),e&&z($),lt(p,e)}}}function xqe(e){let t,n=e[4]("schema_not_found")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){16&r&&n!==(n=e[4]("schema_not_found")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Cqe(e){let t,n;return t=new Jke({props:{database:e[0],schema:e[1]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Sqe(e){let t,n;return t=new vqe({props:{database:e[0],schema:e[1],tableId:parseInt(e[9].params.tableId,10)}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),512&n&&(r.tableId=parseInt(e[9].params.tableId,10)),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function kqe(e){let t,n;return t=new Uwe({props:{database:e[0],schema:e[1],query:{id:parseInt(e[9].params.queryId,10)}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),512&n&&(r.query={id:parseInt(e[9].params.queryId,10)}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Mqe(e){let t,n;return t=new s_e({props:{database:e[0],schema:e[1],queryId:"edit-exploration"===e[10]?parseInt(e[9].params.queryId,10):void 0}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),1536&n&&(r.queryId="edit-exploration"===e[10]?parseInt(e[9].params.queryId,10):void 0),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Iqe(e){let t,n;return t=new q_e({props:{formId:parseInt(e[9].params.formId,10)}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};512&n&&(r.formId=parseInt(e[9].params.formId,10)),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Tqe(e){let t,n;return t=new Bwe({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Eqe(e){let t,n,r,o;const s=[_qe,wqe],a=[];function i(e,t){return e[3]&&e[1]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,[o]){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function Dqe(e,t,n){let r,o,s,i,l,c,u=a;y(e,oP,(e=>n(7,s=e))),y(e,pP,(e=>n(6,i=e))),y(e,no,(e=>n(4,c=e))),e.$$.on_destroy.push((()=>u()));let{database:d}=t,{schemaId:$}=t;function p(){I(oP,s=void 0,s)}return fe((()=>p)),e.$$set=e=>{"database"in e&&n(0,d=e.database),"schemaId"in e&&n(5,$=e.schemaId)},e.$$.update=()=>{32&e.$$.dirty&&I(oP,s=$,s),96&e.$$.dirty&&n(1,r=i.data.get($)),2&e.$$.dirty&&(n(2,o=r?IU.construct(r):Fo(void 0)),u(),u=g(o,(e=>n(3,l=e))))},[d,r,o,l,c,$,i]}class Oqe extends ut{constructor(e){super(),ct(this,e,Dqe,Eqe,f,{database:0,schemaId:5})}}function Nqe(e){let t,n;return t=new RK({props:{$$slots:{default:[Lqe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1029&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Aqe(e){let t,n,r,o,s,a;return t=new z6({props:{item:{type:"database",database:e[1]}}}),r=new sV({props:{path:"/schemas/:schemaId/*",firstmatch:!0,$$slots:{default:[Hqe,({meta:e})=>({8:e}),({meta:e})=>e?256:0]},$$scope:{ctx:e}}}),s=new sV({props:{path:"/*",firstmatch:!0,$$slots:{default:[Bqe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),at(s.$$.fragment)},m(e,i){it(t,e,i),H(e,n,i),it(r,e,i),H(e,o,i),it(s,e,i),a=!0},p(e,n){const o={};2&n&&(o.item={type:"database",database:e[1]}),t.$set(o);const a={};1282&n&&(a.$$scope={dirty:n,ctx:e}),r.$set(a);const i={};1024&n&&(i.$$scope={dirty:n,ctx:e}),s.$set(i)},i(e){a||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),a=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(s.$$.fragment,e),a=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),lt(s,e)}}}function Rqe(e){let t,n;return t=new bx({props:{$$slots:{default:[Fqe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1025&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Fqe(e){let t;return{c(){t=j(e[0])},m(e,n){H(e,t,n)},p(e,n){1&n&&Q(t,e[0])},d(e){e&&z(t)}}}function Pqe(e){let t,n,r="connectionId"===e[9]&&Rqe(e);return{c(){r&&r.c(),t=W()},m(e,o){r&&r.m(e,o),H(e,t,o),n=!0},p(e,n){"connectionId"===e[9]?r?(r.p(e,n),512&n&&je(r,1)):(r=Rqe(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(qe(),Ue(r,1,1,(()=>{r=null})),Be())},i(e){n||(je(r),n=!0)},o(e){Ue(r),n=!1},d(e){r&&r.d(e),e&&z(t)}}}function Lqe(e){let t,n;return t=new Rx({props:{text:e[2]("database_not_found"),$$slots:{default:[Pqe,({slotName:e})=>({9:e}),({slotName:e})=>e?512:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.text=e[2]("database_not_found")),1537&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Hqe(e){let t,n;return t=new Oqe({props:{database:e[1],schemaId:parseInt(e[8].params.schemaId,10)}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.database=e[1]),256&n&&(r.schemaId=parseInt(e[8].params.schemaId,10)),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function zqe(e){let t,n;return t=new soe({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Vqe(e){let t,n;return t=new rle({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function qqe(e){let t,n,r,o;function s(){return e[4](e[7])}function a(){return e[5](e[7])}return t=new _9({props:{path:"/schemas",onLoad:s,$$slots:{default:[zqe]},$$scope:{ctx:e}}}),r=new _9({props:{path:"/settings/*",onLoad:a,firstmatch:!0,$$slots:{default:[Vqe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,s){it(t,e,s),H(e,n,s),it(r,e,s),o=!0},p(n,o){e=n;const i={};128&o&&(i.onLoad=s),1024&o&&(i.$$scope={dirty:o,ctx:e}),t.$set(i);const l={};128&o&&(l.onLoad=a),1024&o&&(l.$$scope={dirty:o,ctx:e}),r.$set(l)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function Bqe(e){let t,n,r,o;return t=new sV({props:{path:"/",redirect:"schemas/"}}),r=new are({props:{$$slots:{default:[qqe,({setSection:e})=>({7:e}),({setSection:e})=>e?128:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,s){it(t,e,s),H(e,n,s),it(r,e,s),o=!0},p(e,t){const n={};1152&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function jqe(e){let t,n,r,o;const s=[Aqe,Nqe],a=[];function i(e,t){return e[1]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,[o]){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function Uqe(e,t,n){let r,o;y(e,no,(e=>n(2,o=e)));let{databaseId:s}=t;const{currentDatabase:a}=QF;function i(){QF.clearCurrentDatabaseId()}y(e,a,(e=>n(1,r=e))),fe((()=>i));return e.$$set=e=>{"databaseId"in e&&n(0,s=e.databaseId)},e.$$.update=()=>{1&e.$$.dirty&&QF.setCurrentDatabaseId(s),2&e.$$.dirty&&r&&C9.construct(r)},[s,r,o,a,e=>e("schemas"),e=>e("settings")]}class Wqe extends ut{constructor(e){super(),ct(this,e,Uqe,jqe,f,{databaseId:0})}}function Yqe(e){let t,n;return t=new HP({props:{$$slots:{default:[Gqe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};18&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Kqe(e){let t,n,r,o,s,a;t=new Cxe({props:{$$slots:{header:[Zqe],default:[Xqe]},$$scope:{ctx:e}}}),r=new Cxe({props:{$$slots:{default:[Jqe]},$$scope:{ctx:e}}});let i=!e[0].isMathesarAdmin&&Qqe(e);return{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),i&&i.c(),s=W()},m(e,l){it(t,e,l),H(e,n,l),it(r,e,l),H(e,o,l),i&&i.m(e,l),H(e,s,l),a=!0},p(e,n){const o={};19&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const a={};17&n&&(a.$$scope={dirty:n,ctx:e}),r.$set(a),e[0].isMathesarAdmin?i&&(qe(),Ue(i,1,1,(()=>{i=null})),Be()):i?(i.p(e,n),1&n&&je(i,1)):(i=Qqe(e),i.c(),je(i,1),i.m(s.parentNode,s))},i(e){a||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(i),a=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(i),a=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),i&&i.d(e),e&&z(s)}}}function Gqe(e){let t,n=e[1]("could_not_fetch_profile_error")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){2&r&&n!==(n=e[1]("could_not_fetch_profile_error")+"")&&Q(t,n)},d(e){e&&z(t)}}}function Xqe(e){let t,n;return t=new f5({props:{user:e[0].getUser()}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.user=e[0].getUser()),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Zqe(e){let t,n,r=e[1]("account_details")+"";return{c(){t=q("h2"),n=j(r),X(t,"slot","header")},m(e,r){H(e,t,r),F(t,n)},p(e,t){2&t&&r!==(r=e[1]("account_details")+"")&&Q(n,r)},d(e){e&&z(t)}}}function Jqe(e){let t,n;return t=new U5({props:{userId:e[0].id}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.userId=e[0].id),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function Qqe(e){let t,n;return t=new Cxe({props:{$$slots:{header:[tBe],default:[eBe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};18&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function eBe(e){let t,n,r=e[1]("delete_account_contact_admin")+"";return{c(){t=q("div"),n=j(r)},m(e,r){H(e,t,r),F(t,n)},p(e,t){2&t&&r!==(r=e[1]("delete_account_contact_admin")+"")&&Q(n,r)},d(e){e&&z(t)}}}function tBe(e){let t,n,r=e[1]("delete_account")+"";return{c(){t=q("h2"),n=j(r),X(t,"slot","header")},m(e,r){H(e,t,r),F(t,n)},p(e,t){2&t&&r!==(r=e[1]("delete_account")+"")&&Q(n,r)},d(e){e&&z(t)}}}function nBe(e){let t,n,r,o;const s=[Kqe,Yqe],a=[];function i(e,t){return e[0]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,o){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function rBe(e){let t,n,r=e[1]("user_profile")+"";return{c(){t=q("h1"),n=j(r),X(t,"slot","header")},m(e,r){H(e,t,r),F(t,n)},p(e,t){2&t&&r!==(r=e[1]("user_profile")+"")&&Q(n,r)},d(e){e&&z(t)}}}function oBe(e){let t,n;return t=new Oxe({props:{hasMultipleSections:!0,$$slots:{header:[rBe],default:[nBe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};19&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function sBe(e){let t,n,r,o;return document.title=t="\n    "+(e[0]?.getDisplayName()??e[1]("user_profile"))+" | "+e[1]("mathesar")+"\n  ",r=new TK({props:{cssVariables:{"--page-padding":"var(--outer-page-padding-for-inset-page)","--inset-page-section-padding":"var(--lg4) var(--lg3)"},$$slots:{default:[oBe]},$$scope:{ctx:e}}}),{c(){n=U(),at(r.$$.fragment)},m(e,t){H(e,n,t),it(r,e,t),o=!0},p(e,[n]){(!o||3&n)&&t!==(t="\n    "+(e[0]?.getDisplayName()??e[1]("user_profile"))+" | "+e[1]("mathesar")+"\n  ")&&(document.title=t);const s={};19&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){Ue(r.$$.fragment,e),o=!1},d(e){e&&z(n),lt(r,e)}}}function aBe(e,t,n){let r,o,s;y(e,no,(e=>n(1,s=e)));const a=jM();return y(e,a,(e=>n(3,o=e))),e.$$.update=()=>{8&e.$$.dirty&&n(0,r=o)},[r,s,a,o]}class iBe extends ut{constructor(e){super(),ct(this,e,aBe,sBe,f,{})}}function lBe(e){let t,n,r,o;return t=new z6({props:{item:{type:"simple",href:cI,label:e[0]("user_profile"),icon:ZC}}}),r=new iBe({}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,s){it(t,e,s),H(e,n,s),it(r,e,s),o=!0},p(e,[n]){const r={};1&n&&(r.item={type:"simple",href:cI,label:e[0]("user_profile"),icon:ZC}),t.$set(r)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function cBe(e,t,n){let r;return y(e,no,(e=>n(0,r=e))),[r]}class uBe extends ut{constructor(e){super(),ct(this,e,cBe,lBe,f,{})}}function dBe(e){let t,n;return t=new L6({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function $Be(e){let t,n;return t=new uBe({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function pBe(e){let t,n;return t=new sV({props:{path:"/administration/*",firstmatch:!0,$$slots:{default:[mBe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function mBe(e){let t,n;return t=new g9({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function fBe(e){let t,n;return t=new Wqe({props:{databaseId:parseInt(e[3].params.databaseId,10)}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.databaseId=parseInt(e[3].params.databaseId,10)),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function gBe(e){let t,n,r,o,s,a,i;t=new sV({props:{path:"/",$$slots:{default:[dBe]},$$scope:{ctx:e}}}),r=new sV({props:{path:"/profile",$$slots:{default:[$Be]},$$scope:{ctx:e}}});let l=e[0]?.isMathesarAdmin&&pBe(e);return a=new sV({props:{path:"/db/:databaseId/*",firstmatch:!0,$$slots:{default:[fBe,({meta:e})=>({3:e}),({meta:e})=>e?8:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment),o=U(),l&&l.c(),s=U(),at(a.$$.fragment)},m(e,c){it(t,e,c),H(e,n,c),it(r,e,c),H(e,o,c),l&&l.m(e,c),H(e,s,c),it(a,e,c),i=!0},p(e,[n]){const o={};16&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const i={};16&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i),e[0]?.isMathesarAdmin?l?1&n&&je(l,1):(l=pBe(e),l.c(),je(l,1),l.m(s.parentNode,s)):l&&(qe(),Ue(l,1,1,(()=>{l=null})),Be());const c={};24&n&&(c.$$scope={dirty:n,ctx:e}),a.$set(c)},i(e){i||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(l),je(a.$$.fragment,e),i=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),Ue(l),Ue(a.$$.fragment,e),i=!1},d(e){lt(t,e),e&&z(n),lt(r,e),e&&z(o),l&&l.d(e),e&&z(s),lt(a,e)}}}function hBe(e,t,n){let r,o;const s=jM();return y(e,s,(e=>n(2,o=e))),e.$$.update=()=>{4&e.$$.dirty&&n(0,r=o)},[r,s,o]}class yBe extends ut{constructor(e){super(),ct(this,e,hBe,gBe,f,{})}}function bBe(e){let t,n;return t=new sV({props:{path:"/*",firstmatch:!0,$$slots:{default:[SBe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};35&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function vBe(e){let t,n;return t=new sV({props:{path:"/*",firstmatch:!0,$$slots:{default:[EBe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};34&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function wBe(e){let t,n;return t=new yBe({}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function _Be(e){let t,n;return t=new xj({props:{meta:e[4]}}),t.$on("load",e[3]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.meta=e[4]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function xBe(e){let t,n=e[1]("page_doesnt_exist")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){2&r&&n!==(n=e[1]("page_doesnt_exist")+"")&&Q(t,n)},d(e){e&&z(t)}}}function CBe(e){let t,n;return t=new RK({props:{$$slots:{default:[xBe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};34&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function SBe(e){let t,n,r,o,s,a=e[0].is_authenticated&&wBe();return n=new sV({props:{path:"/shares/*",$$slots:{default:[_Be,({meta:e})=>({4:e}),({meta:e})=>e?16:0]},$$scope:{ctx:e}}}),o=new sV({props:{fallback:!0,$$slots:{default:[CBe]},$$scope:{ctx:e}}}),{c(){a&&a.c(),t=U(),at(n.$$.fragment),r=U(),at(o.$$.fragment)},m(e,i){a&&a.m(e,i),H(e,t,i),it(n,e,i),H(e,r,i),it(o,e,i),s=!0},p(e,r){e[0].is_authenticated?a?1&r&&je(a,1):(a=wBe(),a.c(),je(a,1),a.m(t.parentNode,t)):a&&(qe(),Ue(a,1,1,(()=>{a=null})),Be());const s={};48&r&&(s.$$scope={dirty:r,ctx:e}),n.$set(s);const i={};34&r&&(i.$$scope={dirty:r,ctx:e}),o.$set(i)},i(e){s||(je(a),je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){Ue(a),Ue(n.$$.fragment,e),Ue(o.$$.fragment,e),s=!1},d(e){a&&a.d(e),e&&z(t),lt(n,e),e&&z(r),lt(o,e)}}}function kBe(e){let t,n=e[1]("page_doesnt_exist")+"";return{c(){t=j(n)},m(e,n){H(e,t,n)},p(e,r){2&r&&n!==(n=e[1]("page_doesnt_exist")+"")&&Q(t,n)},d(e){e&&z(t)}}}function MBe(e){let t,n;return t=new RK({props:{$$slots:{default:[kBe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};34&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function IBe(e){let t,n,r,o;return t=new I2({}),r=new sV({props:{fallback:!0,$$slots:{default:[MBe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,s){it(t,e,s),H(e,n,s),it(r,e,s),o=!0},p(e,t){const n={};34&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function TBe(e){let t,n;return t=new xj({props:{meta:e[4]}}),t.$on("load",e[2]),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.meta=e[4]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function EBe(e){let t,n,r,o;return t=new sV({props:{path:"/shares/*",firstmatch:!0,$$slots:{default:[IBe]},$$scope:{ctx:e}}}),r=new sV({props:{fallback:!0,$$slots:{default:[TBe,({meta:e})=>({4:e}),({meta:e})=>e?16:0]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment),n=U(),at(r.$$.fragment)},m(e,s){it(t,e,s),H(e,n,s),it(r,e,s),o=!0},p(e,n){const o={};34&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};48&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){Ue(t.$$.fragment,e),Ue(r.$$.fragment,e),o=!1},d(e){lt(t,e),e&&z(n),lt(r,e)}}}function DBe(e){let t,n,r,o;const s=[vBe,bBe],a=[];function i(e,t){return"anonymous"===e[0].routing_context?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,[o]){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function OBe(e,t,n){let r;y(e,no,(e=>n(1,r=e)));let{commonData:o}=t;return e.$$set=e=>{"commonData"in e&&n(0,o=e.commonData)},[o,r,()=>window.location.reload(),()=>window.location.reload()]}class NBe extends ut{constructor(e){super(),ct(this,e,OBe,DBe,f,{commonData:0})}}let ABe=null;function RBe(e){const t="system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;Array.from(document.body.classList).filter((e=>e.startsWith("theme-"))).forEach((e=>document.body.classList.remove(e))),document.body.classList.add(`theme-${t}`)}function FBe(){sM.subscribe((e=>{"system"===e&&RBe(e)}))()}function PBe(){sM.subscribe((e=>RBe(e))),ABe&&ABe.removeEventListener("change",FBe),ABe=window.matchMedia("(prefers-color-scheme: dark)"),ABe.addEventListener("change",FBe)}function LBe(e){let t,n;return t=new hj({props:{commonData:e[2],$$slots:{default:[VBe]},$$scope:{ctx:e}}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p(e,n){const r={};18&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function HBe(e){let t,n,r;return n=new t$({props:{size:"2rem"}}),{c(){t=q("div"),at(n.$$.fragment),X(t,"class","app-loader")},m(e,o){H(e,t,o),it(n,t,null),r=!0},p:a,i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){Ue(n.$$.fragment,e),r=!1},d(e){e&&z(t),lt(n)}}}function zBe(e){let t,n;return t=new NBe({props:{commonData:e[2]}}),{c(){at(t.$$.fragment)},m(e,r){it(t,e,r),n=!0},p:a,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){Ue(t.$$.fragment,e),n=!1},d(e){lt(t,e)}}}function VBe(e){let t,n,r=e[1],o=zBe(e);return{c(){o.c(),t=W()},m(e,r){o.m(e,r),H(e,t,r),n=!0},p(e,n){2&n&&f(r,r=e[1])?(qe(),Ue(o,1,1,a),Be(),o=zBe(e),o.c(),je(o,1),o.m(t.parentNode,t)):o.p(e,n)},i(e){n||(je(o),n=!0)},o(e){Ue(o),n=!1},d(e){e&&z(t),o.d(e)}}}function qBe(e){let t,n,r,o;const s=[HBe,LBe],a=[];function i(e,t){return e[0]?0:1}return t=i(e),n=a[t]=s[t](e),{c(){n.c(),r=W()},m(e,n){a[t].m(e,n),H(e,r,n),o=!0},p(e,[o]){let l=t;t=i(e),t===l?a[t].p(e,o):(qe(),Ue(a[l],1,1,(()=>{a[l]=null})),Be(),n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){Ue(n),o=!1},d(e){a[t].d(e),e&&z(r)}}}function BBe(e,t,n){let r,o;y(e,Cr,(e=>n(0,r=e))),y(e,Pr,(e=>n(1,o=e))),PBe();const s=dx();return async function(e){gr("en",(()=>vj("en"))),gr("ja",(()=>vj("ja")));const{translations:t}=window.Mathesar||{},n=t&&e?t[e]:void 0,r=e&&n?{language:e,dictionary:n}:void 0;r&&cr(r.language,r.dictionary),await xr({fallbackLocale:"en",initialLocale:e}),wj(e)}(("anonymous"!==s.routing_context?s.user.display_language:null)??"en"),[r,o,s]}new class extends ut{constructor(e){super(),ct(this,e,BBe,qBe,f,{})}}({target:document.body})}}}))}();
